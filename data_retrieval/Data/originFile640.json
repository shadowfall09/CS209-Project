{"items":[{"tags":["java","lombok"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651331156,"post_id":72061139,"comment_id":127341915,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":16139017,"reputation":129,"user_id":15817444,"display_name":"Mazhar Ibna Zahur"},"score":0,"creation_date":1651341096,"post_id":72061139,"comment_id":127349547,"body_markdown":"I have used Lombok 1.18.22 for jdk17 and spring boot 2.6.2. it works fine for me. can you please share your Lombok version?","body":"I have used Lombok 1.18.22 for jdk17 and spring boot 2.6.2. it works fine for me. can you please share your Lombok version?"}],"answers":[{"tags":[],"owner":{"account_id":27815181,"reputation":11,"user_id":21236733,"display_name":"MRoose"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676672342,"creation_date":1676672283,"answer_id":75489721,"question_id":72061139,"body_markdown":"Liberica JDK is only JDK like OpenJDK and so on.\r\nLombok support Java 17.\r\nAccordingly, it will work with Liberica JDK.\r\nI myself use Liberica JDK 17 full (with JavaFX) on home development with Spring Boot and Lombok ;)","title":"Lombok works on Liberica JDK 17?","body":"<p>Liberica JDK is only JDK like OpenJDK and so on.\nLombok support Java 17.\nAccordingly, it will work with Liberica JDK.\nI myself use Liberica JDK 17 full (with JavaFX) on home development with Spring Boot and Lombok ;)</p>\n"}],"owner":{"account_id":25144480,"reputation":11,"user_id":18990456,"display_name":"jonatan.bermudezgbl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3286,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1676672342,"creation_date":1651250389,"question_id":72061139,"body_markdown":"I&#39;ve been working on a project using BellSoft Liberica JDK v17, IntelliJ 2022.1 and SpringBoot 2.6.7. I have noticed that he has not recognized my entries from Lombok. I have searched for information and it seems that in version 16 of this JDK with external libraries such as Lombok. But I can&#39;t find anything for 17.\r\n\r\nCould you tell me if the incompatibility exists and if I should use another version? Thanks to everyone for your support.","title":"Lombok works on Liberica JDK 17?","body":"<p>I've been working on a project using BellSoft Liberica JDK v17, IntelliJ 2022.1 and SpringBoot 2.6.7. I have noticed that he has not recognized my entries from Lombok. I have searched for information and it seems that in version 16 of this JDK with external libraries such as Lombok. But I can't find anything for 17.</p>\n<p>Could you tell me if the incompatibility exists and if I should use another version? Thanks to everyone for your support.</p>\n"},{"tags":["java","android","google-play","amazon-in-app-purchase"],"comments":[{"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"score":0,"creation_date":1382712770,"post_id":19592927,"comment_id":29080287,"body_markdown":"Do you have a problem with using two separate binaries? It&#39;s literally a matter of changing a SINGLE line of code.","body":"Do you have a problem with using two separate binaries? It&#39;s literally a matter of changing a SINGLE line of code."},{"owner":{"account_id":1776934,"reputation":2275,"user_id":1620542,"display_name":"Eluvatar"},"score":0,"creation_date":1382712772,"post_id":19592927,"comment_id":29080290,"body_markdown":"consider how you would detect the source store on a device with both? remember you can install the amazon store on any device and therefore you would have no way of knowing where it came from.","body":"consider how you would detect the source store on a device with both? remember you can install the amazon store on any device and therefore you would have no way of knowing where it came from."},{"owner":{"account_id":560010,"reputation":17004,"user_id":922200,"accept_rate":58,"display_name":"Alfie Hanssen"},"score":0,"creation_date":1382714569,"post_id":19592927,"comment_id":29081460,"body_markdown":"@Cruncher, I can go the two separate binaries approach but it&#39;s a unique setup where a single binary is preferred.","body":"@Cruncher, I can go the two separate binaries approach but it&#39;s a unique setup where a single binary is preferred."},{"owner":{"account_id":560010,"reputation":17004,"user_id":922200,"accept_rate":58,"display_name":"Alfie Hanssen"},"score":0,"creation_date":1382714657,"post_id":19592927,"comment_id":29081521,"body_markdown":"@Eluvatar, if two stores were installed on the same device, I&#39;d still need to know which store installed the App so that I can communicate with that store for IAP, no?","body":"@Eluvatar, if two stores were installed on the same device, I&#39;d still need to know which store installed the App so that I can communicate with that store for IAP, no?"},{"owner":{"account_id":1776934,"reputation":2275,"user_id":1620542,"display_name":"Eluvatar"},"score":0,"creation_date":1382738249,"post_id":19592927,"comment_id":29092992,"body_markdown":"yes you would, I&#39;d say if you want something reliable use separate builds, I suppose you could try to figure out the installer, but what if someone side loads the app (takes the apk from another device)? then what store would you use if you were trying to figure it out at runtime?","body":"yes you would, I&#39;d say if you want something reliable use separate builds, I suppose you could try to figure out the installer, but what if someone side loads the app (takes the apk from another device)? then what store would you use if you were trying to figure it out at runtime?"},{"owner":{"account_id":560010,"reputation":17004,"user_id":922200,"accept_rate":58,"display_name":"Alfie Hanssen"},"score":0,"creation_date":1382797823,"post_id":19592927,"comment_id":29105498,"body_markdown":"Gotcha, that makes a lot of sense (I&#39;m relatively new to the Android world, coming from iOS). Do you want to post some version of this an the answer so I can accept it?","body":"Gotcha, that makes a lot of sense (I&#39;m relatively new to the Android world, coming from iOS). Do you want to post some version of this an the answer so I can accept it?"}],"answers":[{"tags":[],"owner":{"account_id":501891,"reputation":8060,"user_id":1569675,"display_name":"Offbeatmammal"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1414822361,"creation_date":1382989808,"answer_id":19643816,"question_id":19592927,"body_markdown":"two binaries would be the most robust method but checking both the Build.MANUFACTURER and the installerName should get you pretty close (though assuming yo want to check for the Amazon AppStore if the user has installed an old version of the installer on their non-Kindle device and not updated the installerName might report null)\r\n\r\n    boolean isAmazonDevice = Build.MANUFACTURER.equalsIgnoreCase(&quot;amazon&quot;);\r\n\r\n    final Application application = getApplication();\r\n    String installerName = application.getPackageManager().getInstallerPackageName(application.getPackageName());\r\n    boolean fromAmazonStore = installerName != null &amp;&amp; installerName.equalsIgnoreCase(&quot;com.amazon.venezia&quot;);\r\n\r\nand then checking the value for:\r\n\r\n    isAmazonDevice || fromAmazonStore\r\n\r\nshould get you what you need for a significant amount of the time.\r\n\r\nOne scenario where this can confuse matters is if you are sideloading your apk for testing - in that case it wouldn&#39;t have the correct InstallerPackageName. You can fake that by sideloading the apk using:\r\n\r\n    adb install -i com.amazon.venezia APK_NAME","title":"Is it possible to reliably detect at runtime which store installed an Android App (Google Play or Amazon Market)?","body":"<p>two binaries would be the most robust method but checking both the Build.MANUFACTURER and the installerName should get you pretty close (though assuming yo want to check for the Amazon AppStore if the user has installed an old version of the installer on their non-Kindle device and not updated the installerName might report null)</p>\n\n<pre><code>boolean isAmazonDevice = Build.MANUFACTURER.equalsIgnoreCase(\"amazon\");\n\nfinal Application application = getApplication();\nString installerName = application.getPackageManager().getInstallerPackageName(application.getPackageName());\nboolean fromAmazonStore = installerName != null &amp;&amp; installerName.equalsIgnoreCase(\"com.amazon.venezia\");\n</code></pre>\n\n<p>and then checking the value for:</p>\n\n<pre><code>isAmazonDevice || fromAmazonStore\n</code></pre>\n\n<p>should get you what you need for a significant amount of the time.</p>\n\n<p>One scenario where this can confuse matters is if you are sideloading your apk for testing - in that case it wouldn't have the correct InstallerPackageName. You can fake that by sideloading the apk using:</p>\n\n<pre><code>adb install -i com.amazon.venezia APK_NAME\n</code></pre>\n"}],"owner":{"account_id":560010,"reputation":17004,"user_id":922200,"accept_rate":58,"display_name":"Alfie Hanssen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1525,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":19643816,"answer_count":1,"score":8,"last_activity_date":1676672130,"creation_date":1382712285,"question_id":19592927,"body_markdown":"I need to know which store is the App&#39;s installer so that I know which store to communicate with for in-App purchase functionality.\r\n\r\nIs the definitive *100% reliable* approach to generate two separate binaries? Or is there a *100% reliable* code-based runtime approach?\r\n\r\nThere are many similar Stackoverflow questions. All have answers that suggest using methods like `getInstallerPackageName` on the `PackageManager` class. All also have comments or conflicting answers saying that this is not a reliable approach, suggesting that the only way to reliably check which store installed a given App is to generate two separate binaries, each with a `storeFlag` set, and upload one binary to Amazon and one to Google Play.","title":"Is it possible to reliably detect at runtime which store installed an Android App (Google Play or Amazon Market)?","body":"<p>I need to know which store is the App's installer so that I know which store to communicate with for in-App purchase functionality.</p>\n<p>Is the definitive <em>100% reliable</em> approach to generate two separate binaries? Or is there a <em>100% reliable</em> code-based runtime approach?</p>\n<p>There are many similar Stackoverflow questions. All have answers that suggest using methods like <code>getInstallerPackageName</code> on the <code>PackageManager</code> class. All also have comments or conflicting answers saying that this is not a reliable approach, suggesting that the only way to reliably check which store installed a given App is to generate two separate binaries, each with a <code>storeFlag</code> set, and upload one binary to Amazon and one to Google Play.</p>\n"},{"tags":["java","arrays","oop","object","arraylist"],"comments":[{"owner":{"account_id":4471477,"reputation":407,"user_id":3637689,"display_name":"mark"},"score":1,"creation_date":1612117129,"post_id":65982518,"comment_id":116660620,"body_markdown":"First of all, did you try to debug the code? is that reading file contents? and where exactly you are trying to print values","body":"First of all, did you try to debug the code? is that reading file contents? and where exactly you are trying to print values"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":3,"creation_date":1612117380,"post_id":65982518,"comment_id":116660709,"body_markdown":"You have a method `toString()` where the comment clearly tells you you have to complete the implementation using `String.format` instead of just returning `&quot;&quot;`. Do that.","body":"You have a method <code>toString()</code> where the comment clearly tells you you have to complete the implementation using <code>String.format</code> instead of just returning <code>&quot;&quot;</code>. Do that."},{"owner":{"account_id":18394167,"reputation":19,"user_id":13399090,"display_name":"RideTheLightning343"},"score":0,"creation_date":1612117553,"post_id":65982518,"comment_id":116660746,"body_markdown":"Yes, i`m able to print the data from the arrays in the while loop. Im just trying to print the data(The objects i`m still trying to create) to the screen now.(I will format later). I just need to create an arraylist of Hurricane objects then display the objects and thier attributes.","body":"Yes, i<code>m able to print the data from the arrays in the while loop. Im just trying to print the data(The objects i</code>m still trying to create) to the screen now.(I will format later). I just need to create an arraylist of Hurricane objects then display the objects and thier attributes."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1612117676,"post_id":65982518,"comment_id":116660778,"body_markdown":"You will be able to print them as soon as you have a proper implementation of the `toString` method.","body":"You will be able to print them as soon as you have a proper implementation of the <code>toString</code> method."},{"owner":{"account_id":18394167,"reputation":19,"user_id":13399090,"display_name":"RideTheLightning343"},"score":0,"creation_date":1612118568,"post_id":65982518,"comment_id":116661040,"body_markdown":"@RealSkeptic, I need to create the objects beforehand then use my getter methods to display the output from there right? (I&#39;m completing the method you suggested now.)","body":"@RealSkeptic, I need to create the objects beforehand then use my getter methods to display the output from there right? (I&#39;m completing the method you suggested now.)"},{"owner":{"account_id":18394167,"reputation":19,"user_id":13399090,"display_name":"RideTheLightning343"},"score":0,"creation_date":1612118880,"post_id":65982518,"comment_id":116661143,"body_markdown":"Thanks, @RealSkeptic, I&#39;m just working out some bugs now","body":"Thanks, @RealSkeptic, I&#39;m just working out some bugs now"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1612169981,"post_id":65982518,"comment_id":116672781,"body_markdown":"Why do you need all those temporary arrays if you have defined `Hurricane` class?  You can create instances of `Hurricane` while you are reading the file and add them to ArrayList.  It&#39;s a bit redundant to read the file just to count the lines to define the size of temporary arrays, then populate the arrays (which is likely to fail because `hasNext` is not called before each `next()/nextInt()`), then loop through arrays (and fail on `ArrayOutOfBoundsException` because of condition `i &lt;= numValues`) and add `Hurricane` instances in the third round.","body":"Why do you need all those temporary arrays if you have defined <code>Hurricane</code> class?  You can create instances of <code>Hurricane</code> while you are reading the file and add them to ArrayList.  It&#39;s a bit redundant to read the file just to count the lines to define the size of temporary arrays, then populate the arrays (which is likely to fail because <code>hasNext</code> is not called before each <code>next()&#47;nextInt()</code>), then loop through arrays (and fail on <code>ArrayOutOfBoundsException</code> because of condition <code>i &lt;= numValues</code>) and add <code>Hurricane</code> instances in the third round."}],"owner":{"account_id":18394167,"reputation":19,"user_id":13399090,"display_name":"RideTheLightning343"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676671447,"creation_date":1612116246,"question_id":65982518,"body_markdown":"```\r\npublic class Hurricane\r\n{\r\n   private String name, month;\r\n   private int year;\r\n   private int cat;\r\n   private int pressure;\r\n   private double windspeed;\r\n\r\n     \r\n   \r\n   //constructor - all private instance variables initialized\r\n   public Hurricane(int y, String n, String m, int c, int p, double w) {\r\n      this.year = y;\r\n      this.name = n;\r\n      this.month = m;\r\n      this.cat = c;\r\n      this.pressure = p;\r\n      this.windspeed = w;\r\n   }\r\n\r\n   //accessor for year\r\n   public int getYear() {\r\n      return year; \r\n   }\r\n\r\n   //accessor for name\r\n   public String getName() {\r\n      return name; \r\n   }\r\n   \r\n   //accessor for month\r\n   public String getMonth() {\r\n      return month;  \r\n   }\r\n   \r\n   //accessor for category\r\n   public int getCat() {\r\n      return cat;  \r\n   }\r\n   \r\n   //accessor for pressure\r\n   public int getPressure() {\r\n      return pressure;\r\n   }\r\n   \r\n   //accessor for windspeed\r\n   public double getWindspeed() {\r\n      return windspeed;\r\n   }\r\n   \r\n   //mutator for year\r\n   public void setYear(int y) {\r\n      year = y;\r\n   }\r\n   \r\n   //mutator for name\r\n   public void setName(String n) {\r\n      name = n;\r\n   }\r\n   \r\n   //mutator for month\r\n   public void setMonth(String m) {\r\n      month = m;\r\n   }\r\n   \r\n   //mutator for category\r\n   public void setCat(int c) {\r\n      cat = c;\r\n   }\r\n   \r\n   //mutator for pressure\r\n   public void setPressure(int p) {\r\n      pressure = p;\r\n   }\r\n   \r\n   //mutator for windspeed\r\n   public void setWindspeed (double w) {\r\n      windspeed = w;\r\n   }\r\n\r\n\r\n   public String toString() {\r\n       return &quot;&quot;;\r\n      // complete the toString method using String.format()  \r\n   }\r\n    \r\n}\r\n```\r\nAnd Here is my Main method: \r\n```\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.io.File;\r\nimport java.util.Scanner;\r\nimport java.util.ArrayList;\r\npublic class HurricaneTester\r\n\r\n{\r\n\r\n    public static void main(String[] args) throws IOException\r\n    {\r\n        //read data from text file &amp; put in an array\r\n        File fileName = new File(&quot;hurricanedata.txt&quot;);\r\n        Scanner inFile = new Scanner(fileName);\r\n        int numValues = 0;\r\n        \r\n        //count number of lines in text file\r\n        while (inFile.hasNextLine() )\r\n        {\r\n            inFile.nextLine();\r\n            numValues++;\r\n        }\r\n        inFile.close();\r\n        \r\n        \r\n        //initialize arrays based on lines counted in text file\r\n        int [] years = new int[numValues];\r\n        String [] months = new String[numValues];\r\n        int [] pressures = new int[numValues];\r\n        double [] windSpeeds = new double[numValues];\r\n        String [] names = new String[numValues];\r\n        \r\n        //read and assign data from text file to the arrays\r\n        inFile = new Scanner(fileName);\r\n        int index = 0;\r\n        while(inFile.hasNext() )\r\n        {\r\n            years[index] = inFile.nextInt();\r\n            months[index] = inFile.next();\r\n            pressures[index] = inFile.nextInt();\r\n            windSpeeds[index] = inFile.nextDouble();\r\n            names[index] = inFile.next();\r\n            index++;\r\n        }\r\n        inFile.close();\r\n        //convert the windspeed, determine categories, calculate sums\r\n        int [] cat = new int [numValues];\r\n        int f = 0;\r\n        for(double y : windSpeeds){// converts windspeed to mph\r\n        y = y * 1.15078;\r\n            if ((y &gt;=74) &amp;&amp; (y &lt;= 98)){//Finds category of hurricane\r\n            cat[f] = 1;\r\n        }\r\n        else if ((y &gt;=99) &amp;&amp; (y &lt;= 110)){\r\n            cat[f] = 2;\r\n        }\r\n        else if ((y &gt;=111) &amp;&amp; (y &lt;= 129)){\r\n            cat[f] = 3;\r\n        }\r\n        else if ((y &gt;=130) &amp;&amp; (y &lt;= 156)){\r\n            cat[f] = 4;\r\n        }\r\n        else if (y &gt;=157){\r\n            cat[f] =5;\r\n        }\r\n        else{\r\n        System.out.println(&quot;Errors =&quot;);\r\n        System.out.print(y);\r\n        System.out.println(&quot;=&quot;);\r\n        }\r\n        f++;\r\n        }\r\n        //create a Hurricane ArrayList using the data above\r\n        //Need to create Arraylist of obejcts \r\n        ArrayList&lt;Hurricane&gt; list = new ArrayList();\r\n        for (int i = 0;i &lt;= numValues; i++){\r\n        list.add(new Hurricane(years[i],names[i],months[i],cat[i],pressures[i],windSpeeds[i]));\r\n        //System.out.println(list);\r\n        i++;\r\n        }\r\n        for (Hurricane ef: list) {//Prints Items from list\r\n            System.out.println(ef);\r\n        }\r\n        //user prompted for range of years - not completed yet\r\n        \r\n        \r\n        //print the data - not completed yet\r\n     }\r\n}\r\n```\r\nI`ve searched around on stack overflow and looked over many tutorials, my code just returns nothing after I try to print objects from it. The overall program goal is to take information from a file about hurricanes and depending on the year, display output from that time period. Thanks for any help! If you need clarification or more info, just let me know!","title":"How to create and print objects(with several attributes) from arraylist in java?","body":"<pre><code>public class Hurricane\n{\n   private String name, month;\n   private int year;\n   private int cat;\n   private int pressure;\n   private double windspeed;\n\n     \n   \n   //constructor - all private instance variables initialized\n   public Hurricane(int y, String n, String m, int c, int p, double w) {\n      this.year = y;\n      this.name = n;\n      this.month = m;\n      this.cat = c;\n      this.pressure = p;\n      this.windspeed = w;\n   }\n\n   //accessor for year\n   public int getYear() {\n      return year; \n   }\n\n   //accessor for name\n   public String getName() {\n      return name; \n   }\n   \n   //accessor for month\n   public String getMonth() {\n      return month;  \n   }\n   \n   //accessor for category\n   public int getCat() {\n      return cat;  \n   }\n   \n   //accessor for pressure\n   public int getPressure() {\n      return pressure;\n   }\n   \n   //accessor for windspeed\n   public double getWindspeed() {\n      return windspeed;\n   }\n   \n   //mutator for year\n   public void setYear(int y) {\n      year = y;\n   }\n   \n   //mutator for name\n   public void setName(String n) {\n      name = n;\n   }\n   \n   //mutator for month\n   public void setMonth(String m) {\n      month = m;\n   }\n   \n   //mutator for category\n   public void setCat(int c) {\n      cat = c;\n   }\n   \n   //mutator for pressure\n   public void setPressure(int p) {\n      pressure = p;\n   }\n   \n   //mutator for windspeed\n   public void setWindspeed (double w) {\n      windspeed = w;\n   }\n\n\n   public String toString() {\n       return &quot;&quot;;\n      // complete the toString method using String.format()  \n   }\n    \n}\n</code></pre>\n<p>And Here is my Main method:</p>\n<pre><code>import java.io.IOException;\nimport java.io.PrintWriter;\nimport java.io.File;\nimport java.util.Scanner;\nimport java.util.ArrayList;\npublic class HurricaneTester\n\n{\n\n    public static void main(String[] args) throws IOException\n    {\n        //read data from text file &amp; put in an array\n        File fileName = new File(&quot;hurricanedata.txt&quot;);\n        Scanner inFile = new Scanner(fileName);\n        int numValues = 0;\n        \n        //count number of lines in text file\n        while (inFile.hasNextLine() )\n        {\n            inFile.nextLine();\n            numValues++;\n        }\n        inFile.close();\n        \n        \n        //initialize arrays based on lines counted in text file\n        int [] years = new int[numValues];\n        String [] months = new String[numValues];\n        int [] pressures = new int[numValues];\n        double [] windSpeeds = new double[numValues];\n        String [] names = new String[numValues];\n        \n        //read and assign data from text file to the arrays\n        inFile = new Scanner(fileName);\n        int index = 0;\n        while(inFile.hasNext() )\n        {\n            years[index] = inFile.nextInt();\n            months[index] = inFile.next();\n            pressures[index] = inFile.nextInt();\n            windSpeeds[index] = inFile.nextDouble();\n            names[index] = inFile.next();\n            index++;\n        }\n        inFile.close();\n        //convert the windspeed, determine categories, calculate sums\n        int [] cat = new int [numValues];\n        int f = 0;\n        for(double y : windSpeeds){// converts windspeed to mph\n        y = y * 1.15078;\n            if ((y &gt;=74) &amp;&amp; (y &lt;= 98)){//Finds category of hurricane\n            cat[f] = 1;\n        }\n        else if ((y &gt;=99) &amp;&amp; (y &lt;= 110)){\n            cat[f] = 2;\n        }\n        else if ((y &gt;=111) &amp;&amp; (y &lt;= 129)){\n            cat[f] = 3;\n        }\n        else if ((y &gt;=130) &amp;&amp; (y &lt;= 156)){\n            cat[f] = 4;\n        }\n        else if (y &gt;=157){\n            cat[f] =5;\n        }\n        else{\n        System.out.println(&quot;Errors =&quot;);\n        System.out.print(y);\n        System.out.println(&quot;=&quot;);\n        }\n        f++;\n        }\n        //create a Hurricane ArrayList using the data above\n        //Need to create Arraylist of obejcts \n        ArrayList&lt;Hurricane&gt; list = new ArrayList();\n        for (int i = 0;i &lt;= numValues; i++){\n        list.add(new Hurricane(years[i],names[i],months[i],cat[i],pressures[i],windSpeeds[i]));\n        //System.out.println(list);\n        i++;\n        }\n        for (Hurricane ef: list) {//Prints Items from list\n            System.out.println(ef);\n        }\n        //user prompted for range of years - not completed yet\n        \n        \n        //print the data - not completed yet\n     }\n}\n</code></pre>\n<p>I`ve searched around on stack overflow and looked over many tutorials, my code just returns nothing after I try to print objects from it. The overall program goal is to take information from a file about hurricanes and depending on the year, display output from that time period. Thanks for any help! If you need clarification or more info, just let me know!</p>\n"},{"tags":["java","aeron"],"comments":[{"owner":{"account_id":4276,"reputation":14213,"user_id":6365,"accept_rate":65,"display_name":"Michael Barker"},"score":0,"creation_date":1677142815,"post_id":75489604,"comment_id":133280484,"body_markdown":"I think these should be presented as two separate questions as they are unrelated.  For the first one it would be useful if you could narrow it down to a simple example.  For the 2nd part, providing the JDK version would also be useful (along with the command line used to set the javaagent).","body":"I think these should be presented as two separate questions as they are unrelated.  For the first one it would be useful if you could narrow it down to a simple example.  For the 2nd part, providing the JDK version would also be useful (along with the command line used to set the javaagent)."}],"owner":{"account_id":62847,"reputation":5047,"user_id":186429,"accept_rate":62,"display_name":"Galder Zamarre&#241;o"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676671345,"creation_date":1676671345,"question_id":75489604,"body_markdown":"I&#39;m toying with a websocket server that sends messages to an aeron publication. These get consumed by a subscription and this normally works fine. Published messages are consumed by an Agent backed subscription. However, when 2 messages are sent concurrently to the publication, I can see one of the messages consumed twice while the other is not. Any ideas what could be causing this?\r\n\r\nI&#39;ve tried to enable the Aeron Agent but setting it up with the same 1.40 version as the dependencies the project has, it throws this error:\r\n\r\n```\r\nException in thread &quot;[sender,receiver,driver-conductor]&quot; java.lang.LinkageError: loader constraint violation: when resolving method &#39;void io.aeron.agent.DriverEventLogger.log(io.aeron.agent.DriverEventCode, org.agrona.DirectBuffer, int, int)&#39; the class loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @3e6f3bae of the current class, io/aeron/driver/ClientCommandAdapter, and the class loader &#39;app&#39; for the method&#39;s defining class, io/aeron/agent/DriverEventLogger, have different Class objects for the type org/agrona/DirectBuffer used in the signature (io.aeron.driver.ClientCommandAdapter is in unnamed module of loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @3e6f3bae, parent loader &#39;app&#39;; io.aeron.agent.DriverEventLogger is in unnamed module of loader &#39;app&#39;)\r\n\tat io.aeron.driver.ClientCommandAdapter.onMessage(ClientCommandAdapter.java:75)\r\n\tat org.agrona.concurrent.ringbuffer.ManyToOneRingBuffer.read(ManyToOneRingBuffer.java:201)\r\n\tat io.aeron.driver.ClientCommandAdapter.receive(ClientCommandAdapter.java:66)\r\n\tat io.aeron.driver.DriverConductor.doWork(DriverConductor.java:216)\r\n\tat org.agrona.concurrent.CompositeAgent.doWork(CompositeAgent.java:120)\r\n\tat org.agrona.concurrent.AgentRunner.doWork(AgentRunner.java:304)\r\n\tat org.agrona.concurrent.AgentRunner.workLoop(AgentRunner.java:296)\r\n\tat org.agrona.concurrent.AgentRunner.run(AgentRunner.java:162)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\n```\r\n\r\nI&#39;ve also tried to hook to a running process using the instructions [here](https://aeroncookbook.com/aeron/aeron-agent/) but it fails saying dynamic agent cannot be found:\r\n\r\n```\r\n$ java -cp ./aeron-all-1.40.0.jar io.aeron.agent.DynamicLoggingAgent ./aeron-agent-1.40.0.jar 61616 start\r\nError: Could not find or load main class io.aeron.agent.DynamicLoggingAgent\r\n```\r\n\r\nThanks","title":"Aeron messaged consumed twice when concurrent messages published","body":"<p>I'm toying with a websocket server that sends messages to an aeron publication. These get consumed by a subscription and this normally works fine. Published messages are consumed by an Agent backed subscription. However, when 2 messages are sent concurrently to the publication, I can see one of the messages consumed twice while the other is not. Any ideas what could be causing this?</p>\n<p>I've tried to enable the Aeron Agent but setting it up with the same 1.40 version as the dependencies the project has, it throws this error:</p>\n<pre><code>Exception in thread &quot;[sender,receiver,driver-conductor]&quot; java.lang.LinkageError: loader constraint violation: when resolving method 'void io.aeron.agent.DriverEventLogger.log(io.aeron.agent.DriverEventCode, org.agrona.DirectBuffer, int, int)' the class loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @3e6f3bae of the current class, io/aeron/driver/ClientCommandAdapter, and the class loader 'app' for the method's defining class, io/aeron/agent/DriverEventLogger, have different Class objects for the type org/agrona/DirectBuffer used in the signature (io.aeron.driver.ClientCommandAdapter is in unnamed module of loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @3e6f3bae, parent loader 'app'; io.aeron.agent.DriverEventLogger is in unnamed module of loader 'app')\n    at io.aeron.driver.ClientCommandAdapter.onMessage(ClientCommandAdapter.java:75)\n    at org.agrona.concurrent.ringbuffer.ManyToOneRingBuffer.read(ManyToOneRingBuffer.java:201)\n    at io.aeron.driver.ClientCommandAdapter.receive(ClientCommandAdapter.java:66)\n    at io.aeron.driver.DriverConductor.doWork(DriverConductor.java:216)\n    at org.agrona.concurrent.CompositeAgent.doWork(CompositeAgent.java:120)\n    at org.agrona.concurrent.AgentRunner.doWork(AgentRunner.java:304)\n    at org.agrona.concurrent.AgentRunner.workLoop(AgentRunner.java:296)\n    at org.agrona.concurrent.AgentRunner.run(AgentRunner.java:162)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\n</code></pre>\n<p>I've also tried to hook to a running process using the instructions <a href=\"https://aeroncookbook.com/aeron/aeron-agent/\" rel=\"nofollow noreferrer\">here</a> but it fails saying dynamic agent cannot be found:</p>\n<pre><code>$ java -cp ./aeron-all-1.40.0.jar io.aeron.agent.DynamicLoggingAgent ./aeron-agent-1.40.0.jar 61616 start\nError: Could not find or load main class io.aeron.agent.DynamicLoggingAgent\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","database","multithreading"],"comments":[{"owner":{"account_id":20782878,"reputation":893,"user_id":15982771,"display_name":"Blue Robin"},"score":0,"creation_date":1676657234,"post_id":75487831,"comment_id":133188307,"body_markdown":"Asking what the common approach for something may be seen as subjective.","body":"Asking what the common approach for something may be seen as subjective."},{"owner":{"account_id":21601781,"reputation":55,"user_id":15929801,"display_name":"Neran"},"score":0,"creation_date":1676657422,"post_id":75487831,"comment_id":133188367,"body_markdown":"@BlueRobin well I am just looking for a solution, but probably this title sounds better now?","body":"@BlueRobin well I am just looking for a solution, but probably this title sounds better now?"},{"owner":{"account_id":20782878,"reputation":893,"user_id":15982771,"display_name":"Blue Robin"},"score":0,"creation_date":1676657472,"post_id":75487831,"comment_id":133188383,"body_markdown":"Just to be cautious, as some may not read the post fully. Thanks!","body":"Just to be cautious, as some may not read the post fully. Thanks!"},{"owner":{"account_id":7123163,"reputation":359,"user_id":5447035,"display_name":"Diego Ferruchelli"},"score":1,"creation_date":1676659968,"post_id":75487831,"comment_id":133189033,"body_markdown":"About &quot;database is locked&quot;, how many concurrent transactions do you have? SQLite is not designed for heavy use. Have you seen [this thread](https://stackoverflow.com/questions/3172929/operationalerror-database-is-locked) and [this documentation](https://www.sqlite.org/lockingv3.html])?","body":"About &quot;database is locked&quot;, how many concurrent transactions do you have? SQLite is not designed for heavy use. Have you seen <a href=\"https://stackoverflow.com/questions/3172929/operationalerror-database-is-locked\">this thread</a> and <a href=\"https://www.sqlite.org/lockingv3.html%5D\" rel=\"nofollow noreferrer\">this documentation</a>?"},{"owner":{"account_id":21601781,"reputation":55,"user_id":15929801,"display_name":"Neran"},"score":0,"creation_date":1676660193,"post_id":75487831,"comment_id":133189081,"body_markdown":"@DiegoFerruchelli in my test program there are 10 client threads","body":"@DiegoFerruchelli in my test program there are 10 client threads"},{"owner":{"account_id":7123163,"reputation":359,"user_id":5447035,"display_name":"Diego Ferruchelli"},"score":0,"creation_date":1676660493,"post_id":75487831,"comment_id":133189151,"body_markdown":"That&#39;s not too many, but we should see what are they doing on the DB. Anyway, the &quot;unique constraint failed&quot; says you&#39;re trying to insert an already existing ID, which is related to the logic of your code. Could you post something more?","body":"That&#39;s not too many, but we should see what are they doing on the DB. Anyway, the &quot;unique constraint failed&quot; says you&#39;re trying to insert an already existing ID, which is related to the logic of your code. Could you post something more?"},{"owner":{"account_id":21601781,"reputation":55,"user_id":15929801,"display_name":"Neran"},"score":0,"creation_date":1676660831,"post_id":75487831,"comment_id":133189239,"body_markdown":"@DiegoFerruchelli added some snippets that are executed by the server threads","body":"@DiegoFerruchelli added some snippets that are executed by the server threads"},{"owner":{"account_id":7123163,"reputation":359,"user_id":5447035,"display_name":"Diego Ferruchelli"},"score":0,"creation_date":1676668121,"post_id":75487831,"comment_id":133190982,"body_markdown":"The code seems ok. There may be a problem with the `ObjectInputStream`. Are you writing the file (or whatever it is) from several threads at the same time? Does it look ok when you open it from the operating system? Try dumping the content of the variables (`userName`, etc) before looking for each record in the DB. If it&#39;s not much trouble, also show some ID for the running thread.","body":"The code seems ok. There may be a problem with the <code>ObjectInputStream</code>. Are you writing the file (or whatever it is) from several threads at the same time? Does it look ok when you open it from the operating system? Try dumping the content of the variables (<code>userName</code>, etc) before looking for each record in the DB. If it&#39;s not much trouble, also show some ID for the running thread."},{"owner":{"account_id":21601781,"reputation":55,"user_id":15929801,"display_name":"Neran"},"score":0,"creation_date":1676670265,"post_id":75487831,"comment_id":133191409,"body_markdown":"@DiegoFerruchelli The server has a run method. In the run method it accepts connections from clients with accept method using its server socket obeject. A new thread is then created on the server with this socket object + a new connection object to the database. The run method of those threads then process the client requests (the snippets i posted here). I get the OIS also from that socket.","body":"@DiegoFerruchelli The server has a run method. In the run method it accepts connections from clients with accept method using its server socket obeject. A new thread is then created on the server with this socket object + a new connection object to the database. The run method of those threads then process the client requests (the snippets i posted here). I get the OIS also from that socket."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1676726284,"post_id":75487831,"comment_id":133197418,"body_markdown":"SQLite is a **single client** database and will have trouble with concurrency. If you need concurrency then change to another database that supports this natively. There are easy to install, free options out there, such as PostgreSQL, MariaDB, MySQL. If you don&#39;t want to install a remote datbase, you can use H2 &quot;persistence mode&quot;.","body":"SQLite is a <b>single client</b> database and will have trouble with concurrency. If you need concurrency then change to another database that supports this natively. There are easy to install, free options out there, such as PostgreSQL, MariaDB, MySQL. If you don&#39;t want to install a remote datbase, you can use H2 &quot;persistence mode&quot;."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1676726441,"post_id":75487831,"comment_id":133197447,"body_markdown":"Also, in this day and age, you should be using connection pool. SpringBoot implements them by default.","body":"Also, in this day and age, you should be using connection pool. SpringBoot implements them by default."}],"answers":[{"comments":[{"owner":{"account_id":21601781,"reputation":55,"user_id":15929801,"display_name":"Neran"},"score":0,"creation_date":1676659171,"post_id":75487933,"comment_id":133188830,"body_markdown":"I do have 3 static methods (addEntry, existsEntry, getPassword). No im not using begin and commit, im using a prepared statement for the db interactions and then executing it.","body":"I do have 3 static methods (addEntry, existsEntry, getPassword). No im not using begin and commit, im using a prepared statement for the db interactions and then executing it."},{"owner":{"account_id":200481,"reputation":5196,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"score":0,"creation_date":1676659535,"post_id":75487933,"comment_id":133188931,"body_markdown":"Have you disabled auto commit?","body":"Have you disabled auto commit?"},{"owner":{"account_id":21601781,"reputation":55,"user_id":15929801,"display_name":"Neran"},"score":0,"creation_date":1676660943,"post_id":75487933,"comment_id":133189264,"body_markdown":"I added some code snippets, hope this clarifies how the threads operate","body":"I added some code snippets, hope this clarifies how the threads operate"},{"owner":{"account_id":21601781,"reputation":55,"user_id":15929801,"display_name":"Neran"},"score":0,"creation_date":1676725790,"post_id":75487933,"comment_id":133197348,"body_markdown":"I have tried disabling and then reenabling auto commit after the transaction. The exceptions are still thrown. I think this is because I use different connection objects to the database for each thread. If I use only one connection WITH MY CODE, I only get the &quot;unique constraint&quot; error. If I additionally disable autocommit, I get in addition more errors like &quot;sql error or missing db (cannot commit - no transaction is active)&quot; or &quot;cannot start a transaction within a transaction&quot;.\n\nI think that I have to use Locks here.","body":"I have tried disabling and then reenabling auto commit after the transaction. The exceptions are still thrown. I think this is because I use different connection objects to the database for each thread. If I use only one connection WITH MY CODE, I only get the &quot;unique constraint&quot; error. If I additionally disable autocommit, I get in addition more errors like &quot;sql error or missing db (cannot commit - no transaction is active)&quot; or &quot;cannot start a transaction within a transaction&quot;.  I think that I have to use Locks here."}],"tags":[],"owner":{"account_id":200481,"reputation":5196,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676658424,"creation_date":1676657761,"answer_id":75487933,"question_id":75487831,"body_markdown":"No you should not thread synchronization for this. There are many reasons this will newer work.\r\n\r\nDo you explicit start and commit each transactions with begin() and commit()?\r\n\r\nBut it sounds to me like you have transactions running for to long. You should newer have a transaction open, while communication with the client over the network. So what you should do is: \r\n\r\nGet all the data you need from the client. Call Begin() on the database. \r\nDo all needed sql on the database. \r\nThen commit() \r\nand then send the reply back to the client so the transaction is open as little time as possible.\r\n\r\nUpdated:\r\nThis also depend on the transaction isolation level. There is description of these is sqllite here:\r\n\r\nBtw: You can set sqllite to work in exclusive mode, which might be a good test for you. If you do that and transactions begin to hang, then your problem is that you have open transactions which you don&#39;t close.\r\n\r\nsee: \r\nhttps://dba.stackexchange.com/questions/258003/what-standard-sql-isolation-levels-do-the-sqlite-isolation-levels-correspond-to","title":"How to handle concurrent operations on relational databases?","body":"<p>No you should not thread synchronization for this. There are many reasons this will newer work.</p>\n<p>Do you explicit start and commit each transactions with begin() and commit()?</p>\n<p>But it sounds to me like you have transactions running for to long. You should newer have a transaction open, while communication with the client over the network. So what you should do is:</p>\n<p>Get all the data you need from the client. Call Begin() on the database.\nDo all needed sql on the database.\nThen commit()\nand then send the reply back to the client so the transaction is open as little time as possible.</p>\n<p>Updated:\nThis also depend on the transaction isolation level. There is description of these is sqllite here:</p>\n<p>Btw: You can set sqllite to work in exclusive mode, which might be a good test for you. If you do that and transactions begin to hang, then your problem is that you have open transactions which you don't close.</p>\n<p>see:\n<a href=\"https://dba.stackexchange.com/questions/258003/what-standard-sql-isolation-levels-do-the-sqlite-isolation-levels-correspond-to\">https://dba.stackexchange.com/questions/258003/what-standard-sql-isolation-levels-do-the-sqlite-isolation-levels-correspond-to</a></p>\n"}],"owner":{"account_id":21601781,"reputation":55,"user_id":15929801,"display_name":"Neran"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1676670755,"creation_date":1676657129,"question_id":75487831,"body_markdown":"I have a client / server application (local) where several clients perform operations concurrently on the server. The server creates a separate thread for each client in which the desired operations (register/login) are then processed. Each thread has its own connection to the database and communicates with the client via its own socket that i get from ServerSocket.accept(). The operations from the client require read and write access to a database (sqlite) on the server. The register op checks whether the entry already exists, if not it gets added. And the login op is just checking passwords. The thread will then tell the client whether the operation was successful or not.\r\nWhen a client is finished, it sends a message to the server to close the connection. The thread on the server interrupts its loop and then closes its socket and its connection to the database.\r\n\r\nWhen there is just one client, there are no problems with the program. If There are multiple clients concurrently, then i get 2 types of SQLExceptions, &quot;database is locked&quot; and &quot;unique constraint failed&quot;. The former might happen, because there are concurrent transactions being performed on the database. And this is prevented, because of ACID. The latter might happen, because of concurrency (before inserting a new entry into the DB I check whether the primary key is already used, the primary key is a username). Correct me if im wrong.\r\nRight now I am not using thread synchronization or disabling auto commit when doing the operations on the database.\r\n\r\nI thought that the transactions on ACID DBs are automatically queued up if new ones are invoked while the current one has not finished yet. But this does not seem to be the case. So am I supposed to actively prevent these exceptions by using thread synchronization (e.g. by using Locks) when executing queries/updates or perhaps just retry until the operations succeed? What are common approaches to handle the exceptions? I know that its problematic that the thread wait for a message to end but this is another topic. This is just a program to learn about working with databases.\r\n\r\nHere are some snippets of code that runs on the server&#39;s threads. When a thread using this runnable is created I create a new Socket from ServerSocket.accept() and a new Connection object from the driver and pass both to it.\r\n\r\n    public class ConnectionHandler implements Runnable {\r\n    \r\n        private final Socket socket;\r\n        private final Connection dbConnection;\r\n    \r\n        public ConnectionHandler(Socket socket, Connection databaseConnection) {\r\n            this.socket = socket;\r\n            this.dbConnection = databaseConnection;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            try (socket; dbConnection;\r\n                 ObjectInputStream ois = new ObjectInputStream(socket.getInputStream());\r\n                 ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream()); )\r\n            {\r\n                boolean shouldClose = false;\r\n                while (!shouldClose)\r\n                {\r\n                    Actions action = (Actions) ois.readObject();\r\n    \r\n                    boolean success = false;\r\n                    if (action == Actions.REGISTER)\r\n                    {\r\n                        success = performClientRegistration(ois, dbConnection);\r\n                    }\r\n                    else if (action == Actions.LOGIN)\r\n                    {\r\n                        success = performClientLogin(ois, dbConnection);\r\n                    }\r\n                    else if(action == Actions.SHUTDOWN)\r\n                    {\r\n                        shouldClose = true;\r\n                    }\r\n    \r\n                    if (success) {\r\n                        oos.writeObject(Response.SUCCESS);\r\n                    } else {\r\n                        oos.writeObject(Response.FAILURE);\r\n                    }\r\n                }\r\n            }\r\n            catch (ClassNotFoundException | IOException | SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(&quot;Socket to &quot; + socket + &quot; closed.&quot;);\r\n        }\r\n\r\n    private boolean performClientRegistration(ObjectInputStream ois, Connection dbConnection) throws IOException, ClassNotFoundException {\r\n            String userName = (String)ois.readObject();\r\n            String pwd = (String)ois.readObject();\r\n            String firstName = (String)ois.readObject();\r\n            String lastName = (String)ois.readObject();\r\n    \r\n            try\r\n            {\r\n                boolean isClientRegistrationPossible = !DBHelper.existsEntry(dbConnection, userName);\r\n                if(isClientRegistrationPossible) {\r\n                    DBHelper.addEntry(dbConnection, userName, pwd, firstName, lastName);\r\n                    return true;\r\n                }\r\n            }\r\n            catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return false;\r\n        }\r\n    } // END OF CLASS\r\n\r\n\r\n    public static void addEntry(Connection connection, String userName, String pwd, String firstName, String lastName) throws SQLException {\r\n        PreparedStatement statement = connection.prepareStatement(&quot;INSERT INTO users &quot; +\r\n            &quot;(userName, pwd, lastName, firstName) VALUES (?, ?, ?, ?)&quot;);\r\n        statement.setString(1, userName);\r\n        statement.setString(2, pwd);\r\n        statement.setString(3, lastName);\r\n        statement.setString(4, firstName);\r\n        statement.executeUpdate();\r\n    }\r\n\r\n    public static boolean existsEntry(Connection connection, String userName) throws SQLException {\r\n        PreparedStatement statement = connection.prepareStatement(&quot;SELECT 1 FROM users WHERE userName = ?&quot;);\r\n        statement.setString(1, userName);\r\n        ResultSet result = statement.executeQuery();\r\n\r\n        if(result.next()) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }","title":"How to handle concurrent operations on relational databases?","body":"<p>I have a client / server application (local) where several clients perform operations concurrently on the server. The server creates a separate thread for each client in which the desired operations (register/login) are then processed. Each thread has its own connection to the database and communicates with the client via its own socket that i get from ServerSocket.accept(). The operations from the client require read and write access to a database (sqlite) on the server. The register op checks whether the entry already exists, if not it gets added. And the login op is just checking passwords. The thread will then tell the client whether the operation was successful or not.\nWhen a client is finished, it sends a message to the server to close the connection. The thread on the server interrupts its loop and then closes its socket and its connection to the database.</p>\n<p>When there is just one client, there are no problems with the program. If There are multiple clients concurrently, then i get 2 types of SQLExceptions, &quot;database is locked&quot; and &quot;unique constraint failed&quot;. The former might happen, because there are concurrent transactions being performed on the database. And this is prevented, because of ACID. The latter might happen, because of concurrency (before inserting a new entry into the DB I check whether the primary key is already used, the primary key is a username). Correct me if im wrong.\nRight now I am not using thread synchronization or disabling auto commit when doing the operations on the database.</p>\n<p>I thought that the transactions on ACID DBs are automatically queued up if new ones are invoked while the current one has not finished yet. But this does not seem to be the case. So am I supposed to actively prevent these exceptions by using thread synchronization (e.g. by using Locks) when executing queries/updates or perhaps just retry until the operations succeed? What are common approaches to handle the exceptions? I know that its problematic that the thread wait for a message to end but this is another topic. This is just a program to learn about working with databases.</p>\n<p>Here are some snippets of code that runs on the server's threads. When a thread using this runnable is created I create a new Socket from ServerSocket.accept() and a new Connection object from the driver and pass both to it.</p>\n<pre><code>public class ConnectionHandler implements Runnable {\n\n    private final Socket socket;\n    private final Connection dbConnection;\n\n    public ConnectionHandler(Socket socket, Connection databaseConnection) {\n        this.socket = socket;\n        this.dbConnection = databaseConnection;\n    }\n\n    @Override\n    public void run() {\n        try (socket; dbConnection;\n             ObjectInputStream ois = new ObjectInputStream(socket.getInputStream());\n             ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream()); )\n        {\n            boolean shouldClose = false;\n            while (!shouldClose)\n            {\n                Actions action = (Actions) ois.readObject();\n\n                boolean success = false;\n                if (action == Actions.REGISTER)\n                {\n                    success = performClientRegistration(ois, dbConnection);\n                }\n                else if (action == Actions.LOGIN)\n                {\n                    success = performClientLogin(ois, dbConnection);\n                }\n                else if(action == Actions.SHUTDOWN)\n                {\n                    shouldClose = true;\n                }\n\n                if (success) {\n                    oos.writeObject(Response.SUCCESS);\n                } else {\n                    oos.writeObject(Response.FAILURE);\n                }\n            }\n        }\n        catch (ClassNotFoundException | IOException | SQLException e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;Socket to &quot; + socket + &quot; closed.&quot;);\n    }\n\nprivate boolean performClientRegistration(ObjectInputStream ois, Connection dbConnection) throws IOException, ClassNotFoundException {\n        String userName = (String)ois.readObject();\n        String pwd = (String)ois.readObject();\n        String firstName = (String)ois.readObject();\n        String lastName = (String)ois.readObject();\n\n        try\n        {\n            boolean isClientRegistrationPossible = !DBHelper.existsEntry(dbConnection, userName);\n            if(isClientRegistrationPossible) {\n                DBHelper.addEntry(dbConnection, userName, pwd, firstName, lastName);\n                return true;\n            }\n        }\n        catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n        return false;\n    }\n} // END OF CLASS\n\n\npublic static void addEntry(Connection connection, String userName, String pwd, String firstName, String lastName) throws SQLException {\n    PreparedStatement statement = connection.prepareStatement(&quot;INSERT INTO users &quot; +\n        &quot;(userName, pwd, lastName, firstName) VALUES (?, ?, ?, ?)&quot;);\n    statement.setString(1, userName);\n    statement.setString(2, pwd);\n    statement.setString(3, lastName);\n    statement.setString(4, firstName);\n    statement.executeUpdate();\n}\n\npublic static boolean existsEntry(Connection connection, String userName) throws SQLException {\n    PreparedStatement statement = connection.prepareStatement(&quot;SELECT 1 FROM users WHERE userName = ?&quot;);\n    statement.setString(1, userName);\n    ResultSet result = statement.executeQuery();\n\n    if(result.next()) {\n        return true;\n    }\n\n    return false;\n}\n</code></pre>\n"},{"tags":["java","sql","sql-server","mybatis","mybatis-mapper"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1676668043,"post_id":75488941,"comment_id":133190965,"body_markdown":"With [`&lt;foreach&gt;`](https://mybatis.org/mybatis-3/dynamic-sql.html#foreach), you can iterate the parameter (e.g. `List&lt;Entry&lt;String, String&gt;&gt;`) to build the condition.","body":"With <a href=\"https://mybatis.org/mybatis-3/dynamic-sql.html#foreach\" rel=\"nofollow noreferrer\"><code>&lt;foreach&gt;</code></a>, you can iterate the parameter (e.g. <code>List&lt;Entry&lt;String, String&gt;&gt;</code>) to build the condition."},{"owner":{"account_id":873828,"reputation":19233,"user_id":924077,"display_name":"Bogdan Sahlean"},"score":0,"creation_date":1676767374,"post_id":75488941,"comment_id":133203990,"body_markdown":"Clause WHERE Col1 = # AND Col2 = #","body":"Clause WHERE Col1 = # AND Col2 = #"}],"answers":[{"tags":[],"owner":{"account_id":17433686,"reputation":5235,"user_id":12637193,"display_name":"T N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676670584,"creation_date":1676670070,"answer_id":75489472,"question_id":75488941,"body_markdown":"If your calling application can combine the keys into a single delimited string, the query can split the values back out into individual search values. Since your use case involves multiple key columns, you will need two different delimiters - one to separate tuples, and one to separate keys within a tuple.\r\n\r\nFor example, if you can build a parameter like:\r\n```\r\nDECLARE @SearchIDs VARCHAR(MAX) = &#39;1a,1b;2a,2b;3a,3b&#39;\r\n```\r\n\r\nThe following will separate the keys and perform an efficient key lookup:\r\n```\r\nSELECT *\r\nFROM (\r\n    SELECT\r\n        MAX(CASE WHEN S2.ordinal = 1 THEN S2.value END) AS search_id_1,\r\n        MAX(CASE WHEN S2.ordinal = 2 THEN S2.value END) AS search_id_2\r\n    FROM STRING_SPLIT(@SearchIDs, &#39;;&#39;, 1) S1\r\n    CROSS APPLY STRING_SPLIT(S1.value, &#39;,&#39;, 1) S2\r\n    GROUP BY S1.ordinal\r\n) P\r\nJOIN foo f\r\n    ON f.foo_id_1 = P.search_id_1 and f.foo_id_2 = P.search_id_2\r\n```\r\n\r\nSample results:\r\n\r\n| search_id_1 | search_id_2 | foo_id_1 | foo_id_2 | foo_name |\r\n| - | - | - | - | - |\r\n| 1a | 1b | 1a | 1b | A |\r\n| 2a | 2b | 2a | 2b | CCC |\r\n| 3a | 3b | 3a | 3b | EEEEE |\r\n\r\nIn you actual code, you should cast the `search_id_1` and `search_id_2` values to the proper data type.\r\n\r\n```\r\n        CAST(MAX(...) AS UNIQUEIDENTIFIER) AS search_id_1,\r\n        CAST(MAX(...) AS UNIQUEIDENTIFIER) AS search_id_2\r\n```\r\n\r\nSee [this db&lt;&gt;fiddle](https://dbfiddle.uk/_kwSWsLU).\r\n\r\nOther more formal ways to pass multiple repeating values in a parameter  involve constructing XML or JSON, but sometimes a plain string is the simplest as long as you can guarantee that the values cannot themselves contain any delimiters.","title":"Querying multiple records using composite key in the mybatis","body":"<p>If your calling application can combine the keys into a single delimited string, the query can split the values back out into individual search values. Since your use case involves multiple key columns, you will need two different delimiters - one to separate tuples, and one to separate keys within a tuple.</p>\n<p>For example, if you can build a parameter like:</p>\n<pre><code>DECLARE @SearchIDs VARCHAR(MAX) = '1a,1b;2a,2b;3a,3b'\n</code></pre>\n<p>The following will separate the keys and perform an efficient key lookup:</p>\n<pre><code>SELECT *\nFROM (\n    SELECT\n        MAX(CASE WHEN S2.ordinal = 1 THEN S2.value END) AS search_id_1,\n        MAX(CASE WHEN S2.ordinal = 2 THEN S2.value END) AS search_id_2\n    FROM STRING_SPLIT(@SearchIDs, ';', 1) S1\n    CROSS APPLY STRING_SPLIT(S1.value, ',', 1) S2\n    GROUP BY S1.ordinal\n) P\nJOIN foo f\n    ON f.foo_id_1 = P.search_id_1 and f.foo_id_2 = P.search_id_2\n</code></pre>\n<p>Sample results:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>search_id_1</th>\n<th>search_id_2</th>\n<th>foo_id_1</th>\n<th>foo_id_2</th>\n<th>foo_name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1a</td>\n<td>1b</td>\n<td>1a</td>\n<td>1b</td>\n<td>A</td>\n</tr>\n<tr>\n<td>2a</td>\n<td>2b</td>\n<td>2a</td>\n<td>2b</td>\n<td>CCC</td>\n</tr>\n<tr>\n<td>3a</td>\n<td>3b</td>\n<td>3a</td>\n<td>3b</td>\n<td>EEEEE</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>In you actual code, you should cast the <code>search_id_1</code> and <code>search_id_2</code> values to the proper data type.</p>\n<pre><code>        CAST(MAX(...) AS UNIQUEIDENTIFIER) AS search_id_1,\n        CAST(MAX(...) AS UNIQUEIDENTIFIER) AS search_id_2\n</code></pre>\n<p>See <a href=\"https://dbfiddle.uk/_kwSWsLU\" rel=\"nofollow noreferrer\">this db&lt;&gt;fiddle</a>.</p>\n<p>Other more formal ways to pass multiple repeating values in a parameter  involve constructing XML or JSON, but sometimes a plain string is the simplest as long as you can guarantee that the values cannot themselves contain any delimiters.</p>\n"}],"owner":{"account_id":13048203,"reputation":113,"user_id":9429422,"display_name":"Anmol Garg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676670584,"creation_date":1676665320,"question_id":75488941,"body_markdown":"I have a table with composite key. I want to query it in bulk in mybatis. Is it possible? if yes, how?\r\n\r\nTable structure of table Foo with foo_id_1 and foo_id_2 as composite primary key.\r\n\r\n```\r\n{\r\n foo_id_1 uniqueIdentifier,\r\n foo_id_2 uniqueIdentifier,\r\n foo_name nvarchar\r\n}\r\n```\r\n\r\nI will have a list of foo POJOs and I want to query them to check if they exist or not.\r\nBelow is for getting a single object \r\n\r\n```\r\n&lt;select id=&quot;getFooList&quot; resultMap=&quot;foo&quot;&gt;\r\n        SELECT\r\n            f.foo_id_1,\r\n            f.foo_id_2,\r\n            f.foo_name\r\n        FROM foo f\r\n        WHERE f.foo_id_1 = #{foo_id_1} and f.foo_id_2 = #{foo_id_2}\r\n    &lt;/select&gt;\r\n\r\n    &lt;resultMap id=&quot;foo&quot; type=&quot;Foo&quot;&gt;\r\n        &lt;id property=&quot;fooId1&quot; column=&quot;foo_id_1&quot;/&gt;\r\n        &lt;id property=&quot;fooId2&quot; column=&quot;foo_id_2&quot;/&gt;\r\n        &lt;result property=&quot;fooName&quot; column=&quot;foo_name&quot;/&gt;\r\n    &lt;/resultMap&gt;\r\n```\r\n\r\nBut I want to fetch in bulk.\r\nCorresponding SQL query would be\r\n\r\n```\r\nSelect *\r\nFrom foo\r\nWhere (foo_id_1 = &#39;1a&#39; and foo_id_2 = &#39;1b&#39;) or\r\n      (foo_id_1 = &#39;2a&#39; and foo_id_2 = &#39;2b&#39;) or\r\n      (foo_id_1 = &#39;3a&#39; and foo_id_2 = &#39;3b&#39;);\r\n \r\n```\r\n\r\n","title":"Querying multiple records using composite key in the mybatis","body":"<p>I have a table with composite key. I want to query it in bulk in mybatis. Is it possible? if yes, how?</p>\n<p>Table structure of table Foo with foo_id_1 and foo_id_2 as composite primary key.</p>\n<pre><code>{\n foo_id_1 uniqueIdentifier,\n foo_id_2 uniqueIdentifier,\n foo_name nvarchar\n}\n</code></pre>\n<p>I will have a list of foo POJOs and I want to query them to check if they exist or not.\nBelow is for getting a single object</p>\n<pre><code>&lt;select id=&quot;getFooList&quot; resultMap=&quot;foo&quot;&gt;\n        SELECT\n            f.foo_id_1,\n            f.foo_id_2,\n            f.foo_name\n        FROM foo f\n        WHERE f.foo_id_1 = #{foo_id_1} and f.foo_id_2 = #{foo_id_2}\n    &lt;/select&gt;\n\n    &lt;resultMap id=&quot;foo&quot; type=&quot;Foo&quot;&gt;\n        &lt;id property=&quot;fooId1&quot; column=&quot;foo_id_1&quot;/&gt;\n        &lt;id property=&quot;fooId2&quot; column=&quot;foo_id_2&quot;/&gt;\n        &lt;result property=&quot;fooName&quot; column=&quot;foo_name&quot;/&gt;\n    &lt;/resultMap&gt;\n</code></pre>\n<p>But I want to fetch in bulk.\nCorresponding SQL query would be</p>\n<pre><code>Select *\nFrom foo\nWhere (foo_id_1 = '1a' and foo_id_2 = '1b') or\n      (foo_id_1 = '2a' and foo_id_2 = '2b') or\n      (foo_id_1 = '3a' and foo_id_2 = '3b');\n \n</code></pre>\n"},{"tags":["java","reactjs","postgresql","axios","derived"],"answers":[{"comments":[{"owner":{"account_id":27814774,"reputation":3,"user_id":21236413,"display_name":"Bester"},"score":0,"creation_date":1676668638,"post_id":75489140,"comment_id":133191062,"body_markdown":"ERROR:  operator does not exist: character varying = integer\nLINE 2: (SELECT MAX(id) FROM priorityprogress WHERE asms=188660)\n                                                        ^\nHINT:  No operator matches the given name and argument types. You might need to add explicit type casts.\nSQL state: 42883\nCharacter: 98","body":"ERROR:  operator does not exist: character varying = integer LINE 2: (SELECT MAX(id) FROM priorityprogress WHERE asms=188660)                                                         ^ HINT:  No operator matches the given name and argument types. You might need to add explicit type casts. SQL state: 42883 Character: 98"},{"owner":{"account_id":27814774,"reputation":3,"user_id":21236413,"display_name":"Bester"},"score":0,"creation_date":1676669280,"post_id":75489140,"comment_id":133191198,"body_markdown":"SORTED. Thank you VERY much. Worked first time. I just had to create a duplicate column that was of type Int to match the ID and sorted :)","body":"SORTED. Thank you VERY much. Worked first time. I just had to create a duplicate column that was of type Int to match the ID and sorted :)"},{"owner":{"account_id":15035959,"reputation":307,"user_id":10852370,"display_name":"Hao Zhang"},"score":0,"creation_date":1676670277,"post_id":75489140,"comment_id":133191413,"body_markdown":"My bad, I didn&#39;t notice asms is a text column. Just try the statement above, and you won&#39;t need a duplicate column.","body":"My bad, I didn&#39;t notice asms is a text column. Just try the statement above, and you won&#39;t need a duplicate column."}],"tags":[],"owner":{"account_id":15035959,"reputation":307,"user_id":10852370,"display_name":"Hao Zhang"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676670224,"creation_date":1676667038,"answer_id":75489140,"question_id":75489049,"body_markdown":"Try this:\r\n\r\n    SELECT pprecord FROM YourTable WHERE id =\r\n    (SELECT MAX(id) FROM YourTable WHERE asms = &#39;188660&#39;)\r\n\r\nExplanation:\r\n\r\nFirst line select pprecord, second line select the id\r\n\r\nI&#39;ll improve the answer if any additional question. Upvotes and acceptions are appreciated~","title":"Simple SQL query on highest ID","body":"<p>Try this:</p>\n<pre><code>SELECT pprecord FROM YourTable WHERE id =\n(SELECT MAX(id) FROM YourTable WHERE asms = '188660')\n</code></pre>\n<p>Explanation:</p>\n<p>First line select pprecord, second line select the id</p>\n<p>I'll improve the answer if any additional question. Upvotes and acceptions are appreciated~</p>\n"}],"owner":{"account_id":27814774,"reputation":3,"user_id":21236413,"display_name":"Bester"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75489140,"answer_count":1,"score":0,"last_activity_date":1676670224,"creation_date":1676666178,"question_id":75489049,"body_markdown":"I unsuccessfully attempted to leverage Java&#39;s DerivedQueries but cannot accomplish the required result so I have to manually write a SELECT Statement.\r\n\r\nI want to display one single record in my UI. This should be the most recently generated record (which means it has the highest ID Number) associated with a category that we call &quot;ASMS&quot;. In other words, look through all the rows that have ASMS#123, find the one that has the highest ID and then return the contents of one column cell. \r\n\r\nASMS: Entries are classified by 11 specific ASMS numbers.\r\nID: AutoGenerated\r\nPPRECORD: New entries being inserted each day\r\n\r\nI hope the image makes more sense.\r\n\r\n```java\r\n//RETURN ONLY THE LATEST RECORD\r\n//https://besterdev-api.apps.pcfepg3mi.gm.com/api/v1/pprecords/latest/{asmsnumber}\r\n@RequestMapping(&quot;/pprecords/latest/{asmsNumber}&quot;)\r\npublic List&lt;Optional&lt;PriorityProgressEntity&gt;&gt; getLatestRecord(@PathVariable(value = &quot;asmsNumber&quot;) String asmsNumber) {\r\n    List&lt;Optional&lt;PriorityProgressEntity&gt;&gt; asms_number = priorityprogressrepo.findFirst1ByAsmsNumber(asmsNumber);\r\n    return asms_number;}\r\n```\r\nThe ReactJS FE makes an AXIOS.get and I can retrieve all the records associated with the ASMS, but I do not have the skill to display only JSON object that has the highest ID value. I&#39;m happy to do this in the FE also.\r\n\r\n![Requirement](https://i.stack.imgur.com/r4XYq.png)\r\n\r\nI tried Derived Queries. `.findFirst1ByAsmsNumber(asmsNumber)` does not consider the highest ID number.","title":"Simple SQL query on highest ID","body":"<p>I unsuccessfully attempted to leverage Java's DerivedQueries but cannot accomplish the required result so I have to manually write a SELECT Statement.</p>\n<p>I want to display one single record in my UI. This should be the most recently generated record (which means it has the highest ID Number) associated with a category that we call &quot;ASMS&quot;. In other words, look through all the rows that have ASMS#123, find the one that has the highest ID and then return the contents of one column cell.</p>\n<p>ASMS: Entries are classified by 11 specific ASMS numbers.\nID: AutoGenerated\nPPRECORD: New entries being inserted each day</p>\n<p>I hope the image makes more sense.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//RETURN ONLY THE LATEST RECORD\n//https://besterdev-api.apps.pcfepg3mi.gm.com/api/v1/pprecords/latest/{asmsnumber}\n@RequestMapping(&quot;/pprecords/latest/{asmsNumber}&quot;)\npublic List&lt;Optional&lt;PriorityProgressEntity&gt;&gt; getLatestRecord(@PathVariable(value = &quot;asmsNumber&quot;) String asmsNumber) {\n    List&lt;Optional&lt;PriorityProgressEntity&gt;&gt; asms_number = priorityprogressrepo.findFirst1ByAsmsNumber(asmsNumber);\n    return asms_number;}\n</code></pre>\n<p>The ReactJS FE makes an AXIOS.get and I can retrieve all the records associated with the ASMS, but I do not have the skill to display only JSON object that has the highest ID value. I'm happy to do this in the FE also.</p>\n<p><img src=\"https://i.stack.imgur.com/r4XYq.png\" alt=\"Requirement\" /></p>\n<p>I tried Derived Queries. <code>.findFirst1ByAsmsNumber(asmsNumber)</code> does not consider the highest ID number.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","consistency"],"comments":[{"owner":{"account_id":1845098,"reputation":171677,"user_id":1695906,"display_name":"Michael - sqlbot"},"score":0,"creation_date":1500584220,"post_id":45222819,"comment_id":77416437,"body_markdown":"Good answer, below, from @stdunbar.  For locking the **name** of an S3 object key (or the name of anything, really... basically a named semaphore), consider the possibility of using [consistent conditional writes](http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/WorkingWithItems.html#WorkingWithItems.ConditionalUpdate) to a DynamoDB table created for the purpose of lock management.","body":"Good answer, below, from @stdunbar.  For locking the <b>name</b> of an S3 object key (or the name of anything, really... basically a named semaphore), consider the possibility of using <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/WorkingWithItems.html#WorkingWithItems.ConditionalUpdate\" rel=\"nofollow noreferrer\">consistent conditional writes</a> to a DynamoDB table created for the purpose of lock management."}],"answers":[{"tags":[],"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1500576944,"creation_date":1500576944,"answer_id":45223108,"question_id":45222819,"body_markdown":"No, unfortunately it won&#39;t.  From the S3 &lt;a href=&quot;http://docs.aws.amazon.com/AmazonS3/latest/dev/Introduction.html#ConsistencyModel&quot;&gt;consistency model&lt;/a&gt;:\r\n\r\n&gt; A process writes a new object to Amazon S3 and immediately lists keys\r\n&gt; within its bucket. Until the change is fully propagated, the object\r\n&gt; might not appear in the list.\r\n\r\nand:\r\n\r\n&gt; Amazon S3 does not currently support object locking. If two PUT\r\n&gt; requests are simultaneously made to the same key, the request with the\r\n&gt; latest time stamp wins. If this is an issue, you will need to build an\r\n&gt; object-locking mechanism into your application.\r\n\r\nSo if both of your threads or processes try to create the lock in S3 they will be allowed to but last write wins so you haven&#39;t really locked anything.  Something else needs to happen for your locking to work\r\n","title":"Can pseudo &quot;lock&quot; objects be used in the Amazon S3 API?","body":"<p>No, unfortunately it won't.  From the S3 <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/Introduction.html#ConsistencyModel\" rel=\"nofollow noreferrer\">consistency model</a>:</p>\n\n<blockquote>\n  <p>A process writes a new object to Amazon S3 and immediately lists keys\n  within its bucket. Until the change is fully propagated, the object\n  might not appear in the list.</p>\n</blockquote>\n\n<p>and:</p>\n\n<blockquote>\n  <p>Amazon S3 does not currently support object locking. If two PUT\n  requests are simultaneously made to the same key, the request with the\n  latest time stamp wins. If this is an issue, you will need to build an\n  object-locking mechanism into your application.</p>\n</blockquote>\n\n<p>So if both of your threads or processes try to create the lock in S3 they will be allowed to but last write wins so you haven't really locked anything.  Something else needs to happen for your locking to work</p>\n"},{"tags":[],"owner":{"account_id":25563016,"reputation":106,"user_id":19345335,"display_name":"Keyless"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655305928,"creation_date":1655305928,"answer_id":72633822,"question_id":45222819,"body_markdown":"Normally, I would recommend a database, but you mention that is not an option in this case.\r\n\r\nAs an alternative, you can use something like [lockable](https://lockable.dev). They provide advisory locks which can be used to control e.g. resource access like in your case.\r\n\r\nThe solution would have to use their HTTPS endpoints (as far as I can&#39;t tell they only have a Python client):\r\n\r\n```\r\n1. Acquire lock by making a request to https://lockable.dev/api/acquire/my-lock-name\r\n2. Work on your object (read, edit, write)\r\n3. Release the lock by making a request to https://lockable.dev/api/release/my-lock-name\r\n```","title":"Can pseudo &quot;lock&quot; objects be used in the Amazon S3 API?","body":"<p>Normally, I would recommend a database, but you mention that is not an option in this case.</p>\n<p>As an alternative, you can use something like <a href=\"https://lockable.dev\" rel=\"nofollow noreferrer\">lockable</a>. They provide advisory locks which can be used to control e.g. resource access like in your case.</p>\n<p>The solution would have to use their HTTPS endpoints (as far as I can't tell they only have a Python client):</p>\n<pre><code>1. Acquire lock by making a request to https://lockable.dev/api/acquire/my-lock-name\n2. Work on your object (read, edit, write)\n3. Release the lock by making a request to https://lockable.dev/api/release/my-lock-name\n</code></pre>\n"},{"tags":[],"owner":{"account_id":99935,"reputation":501,"user_id":1128790,"accept_rate":86,"display_name":"John Stephenson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665101700,"creation_date":1660139665,"answer_id":73307585,"question_id":45222819,"body_markdown":"This bit me too, and it wasn&#39;t feasible to use a database at that time, so we came up with https://github.com/jfstephe/aws-s3-lock. This is a javascript implementation, but perhaps could inspire a java version if needed.","title":"Can pseudo &quot;lock&quot; objects be used in the Amazon S3 API?","body":"<p>This bit me too, and it wasn't feasible to use a database at that time, so we came up with <a href=\"https://github.com/jfstephe/aws-s3-lock\" rel=\"nofollow noreferrer\">https://github.com/jfstephe/aws-s3-lock</a>. This is a javascript implementation, but perhaps could inspire a java version if needed.</p>\n"},{"comments":[{"owner":{"account_id":15182009,"reputation":81,"user_id":10955067,"display_name":"melvin"},"score":0,"creation_date":1679896852,"post_id":75347123,"comment_id":133796527,"body_markdown":"thank you, your suggestion validates my idea. Of course, this solution requires each client to be a good citizen and respect the rules.","body":"thank you, your suggestion validates my idea. Of course, this solution requires each client to be a good citizen and respect the rules."},{"owner":{"account_id":992128,"reputation":551,"user_id":1009106,"display_name":"keitwb"},"score":0,"creation_date":1700789582,"post_id":75347123,"comment_id":136699456,"body_markdown":"If `ModifiedTime` represents the initial upload time of the lock object and s3 were experiencing significant delays that resulted in the second client&#39;s PUT to have a later timestamp but return a successful response and show up in the subsequent LIST response used in step 4 _before_ the object from the first client, it is possible that both clients could think they have the lock. Unless S3 makes certain guarantees about the ordering of `ModifiedTime` between separate objects I don&#39;t see any way to avoid this problem with this method.","body":"If <code>ModifiedTime</code> represents the initial upload time of the lock object and s3 were experiencing significant delays that resulted in the second client&#39;s PUT to have a later timestamp but return a successful response and show up in the subsequent LIST response used in step 4 <i>before</i> the object from the first client, it is possible that both clients could think they have the lock. Unless S3 makes certain guarantees about the ordering of <code>ModifiedTime</code> between separate objects I don&#39;t see any way to avoid this problem with this method."},{"owner":{"account_id":1026503,"reputation":3508,"user_id":1035698,"display_name":"misberner"},"score":0,"creation_date":1700904784,"post_id":75347123,"comment_id":136711286,"body_markdown":"I havent tested this, but I would strongly assume that the modified time is not the initial upload time. Strong consistency means guaranteed results based on happens-before constraints, I would be surprised if S3 claims strong consistency but has no record of a key to establish the total happens-before ordering.","body":"I havent tested this, but I would strongly assume that the modified time is not the initial upload time. Strong consistency means guaranteed results based on happens-before constraints, I would be surprised if S3 claims strong consistency but has no record of a key to establish the total happens-before ordering."}],"tags":[],"owner":{"account_id":1026503,"reputation":3508,"user_id":1035698,"display_name":"misberner"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1675532963,"creation_date":1675532963,"answer_id":75347123,"question_id":45222819,"body_markdown":"If you come here in 2023 and still think it&#39;s a good idea to use S3 for locks, this _is_ possible in a guaranteed race-condition free way thanks to the strengthened consistency model, and without any forced waiting periods during lock acquisition.\r\n\r\n1. Determine basename for the lock (e.g., `some-dir/interesting-object.lock`)\r\n2. Writer creates empty object `some-dir/interesting-object.lock.&lt;uuid&gt;` in bucket. The `&lt;uuid&gt;` can either be generated for each lock, or once for each writer (we assume a writer doesn&#39;t write concurrently), it doesn&#39;t matter.\r\n3. List objects with prefix `some-dir/interesting-object.lock.`\r\n4. Check if file with &quot;our&quot; UUID is the oldest per `ModifiedTime`. In the extremely unlikely scenario that two `ModifiedTime`s are equal, break ties based on lexicographical ordering of UUIDs.\r\n5. If aforementioned check succeeds, you have acquired the lock. You can now do the work. Otherwise, someone beat you to it.\r\n6. Remove lock file (note: this means that if the acquisition failed, you should remove the lock file immediately).\r\n\r\nThis works because it&#39;s guaranteed that once a put succeeds, it will immediately show up in list calls, and each worker does list after put. If another writer even writes the object one nanosecond after us, they are still 100% guaranteed to see in their list call that our object was there first.\r\n\r\nIn order to allow removing stale/expired locks (those should be excluded in the check in step 4, and the files be deleted), this requires placing an upper bound on the duration of the critical section, although it&#39;s possible to arbitrary extend the lock time by creating new lock files with different UUIDs (some limits apply on when you can remove the old ones, but I&#39;m too lazy to think this through right now). Also, for determining whether a lock is stale/expired, do not rely on the local machine&#39;s time, instead, use the `ModifiedTime` of the newly created lock object as a calibrated clock source.\r\n\r\n\r\nI&#39;m not saying it&#39;s a good idea to use lockfiles in S3, but that doesn&#39;t change the fact that it is possible.\r\n","title":"Can pseudo &quot;lock&quot; objects be used in the Amazon S3 API?","body":"<p>If you come here in 2023 and still think it's a good idea to use S3 for locks, this <em>is</em> possible in a guaranteed race-condition free way thanks to the strengthened consistency model, and without any forced waiting periods during lock acquisition.</p>\n<ol>\n<li>Determine basename for the lock (e.g., <code>some-dir/interesting-object.lock</code>)</li>\n<li>Writer creates empty object <code>some-dir/interesting-object.lock.&lt;uuid&gt;</code> in bucket. The <code>&lt;uuid&gt;</code> can either be generated for each lock, or once for each writer (we assume a writer doesn't write concurrently), it doesn't matter.</li>\n<li>List objects with prefix <code>some-dir/interesting-object.lock.</code></li>\n<li>Check if file with &quot;our&quot; UUID is the oldest per <code>ModifiedTime</code>. In the extremely unlikely scenario that two <code>ModifiedTime</code>s are equal, break ties based on lexicographical ordering of UUIDs.</li>\n<li>If aforementioned check succeeds, you have acquired the lock. You can now do the work. Otherwise, someone beat you to it.</li>\n<li>Remove lock file (note: this means that if the acquisition failed, you should remove the lock file immediately).</li>\n</ol>\n<p>This works because it's guaranteed that once a put succeeds, it will immediately show up in list calls, and each worker does list after put. If another writer even writes the object one nanosecond after us, they are still 100% guaranteed to see in their list call that our object was there first.</p>\n<p>In order to allow removing stale/expired locks (those should be excluded in the check in step 4, and the files be deleted), this requires placing an upper bound on the duration of the critical section, although it's possible to arbitrary extend the lock time by creating new lock files with different UUIDs (some limits apply on when you can remove the old ones, but I'm too lazy to think this through right now). Also, for determining whether a lock is stale/expired, do not rely on the local machine's time, instead, use the <code>ModifiedTime</code> of the newly created lock object as a calibrated clock source.</p>\n<p>I'm not saying it's a good idea to use lockfiles in S3, but that doesn't change the fact that it is possible.</p>\n"}],"owner":{"account_id":4666627,"reputation":132,"user_id":3779543,"accept_rate":0,"display_name":"Azzip"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2319,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1676669966,"creation_date":1500576050,"question_id":45222819,"body_markdown":"I&#39;m thinking about using &quot;lock&quot; S3 objects in order to prevent simultaneous identical operations on a given S3 object. But I have great doubts about the validity of this technical solution.\r\n\r\nMore precisely, at the beginning of an operation on an object, a lock file corresponding to the name of the object and the type of operation being done would be created. \r\n\r\nExample: at the beginning of myOperation on myObject, lck/myObject/myOperation object would be looked for and created if it does not exist.\r\n\r\nThis &quot;lock&quot; object would be destroyed at the end of the operation, whether it is successful or not.\r\n\r\nI know the standard solution would be to use a database, but the application currently does not have one. Thus, if I could handle consistency with S3 only, this would be sufficient.\r\n\r\nMy concern is that this lock object system will run in a multi-threaded / and possibly multi-nodes architecture. Now, I&#39;ve read that Amazon S3 support &quot;read after write consistency&quot;.\r\n\r\nDoes it mean that if my application 1 (node 1) / thread 2 puts a lock object on a given bucket through the Java Amazon S3 API, this lock object will be instantaneously visible to other threads and other applications using the same API?","title":"Can pseudo &quot;lock&quot; objects be used in the Amazon S3 API?","body":"<p>I'm thinking about using &quot;lock&quot; S3 objects in order to prevent simultaneous identical operations on a given S3 object. But I have great doubts about the validity of this technical solution.</p>\n<p>More precisely, at the beginning of an operation on an object, a lock file corresponding to the name of the object and the type of operation being done would be created.</p>\n<p>Example: at the beginning of myOperation on myObject, lck/myObject/myOperation object would be looked for and created if it does not exist.</p>\n<p>This &quot;lock&quot; object would be destroyed at the end of the operation, whether it is successful or not.</p>\n<p>I know the standard solution would be to use a database, but the application currently does not have one. Thus, if I could handle consistency with S3 only, this would be sufficient.</p>\n<p>My concern is that this lock object system will run in a multi-threaded / and possibly multi-nodes architecture. Now, I've read that Amazon S3 support &quot;read after write consistency&quot;.</p>\n<p>Does it mean that if my application 1 (node 1) / thread 2 puts a lock object on a given bucket through the Java Amazon S3 API, this lock object will be instantaneously visible to other threads and other applications using the same API?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1676664324,"post_id":75488400,"comment_id":133190156,"body_markdown":"Please post the complete error-output (including stack trace) for &quot;resulting in null pointer exception&quot;, also show what did not work when filtering with Java&#39;s Streaming API.","body":"Please post the complete error-output (including stack trace) for &quot;resulting in null pointer exception&quot;, also show what did not work when filtering with Java&#39;s Streaming API."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676669896,"creation_date":1676665015,"answer_id":75488890,"question_id":75488400,"body_markdown":"&gt; I want to remove the null value of company ID.\r\n\r\nI presume you mean remove the list element if the Id is null. So It&#39;s not the bean that is null, it is the `companyId`.  Assuming you have getters, try it like this.  If the Id is not null, let it pass thru.\r\n```\r\n\r\nList&lt;NewSRMAPIResponseBean&gt; finalList=newSRMAPIResponseBeanList.parallelStream()\r\n        .filter(bean-&gt;bean.getCompanyId() != null)\r\n        .collect(Collectors.toList());\r\n```\r\nYou can also do it in a simple loop.\r\nTo avoid a `ConurrentModificationException`, use an iterator.\r\n```\r\nIterator&lt;NewSRMAPIResponseBean&gt; iter =  newSRMAPIResponseBeanList.iterator();\r\nwhile (iter.hasNext()) {\r\n    if (iter.next().getCompanyId() == null) {\r\n        iter.remove();\r\n    }\r\n}","title":"Not able to remove null from a list in Java","body":"<blockquote>\n<p>I want to remove the null value of company ID.</p>\n</blockquote>\n<p>I presume you mean remove the list element if the Id is null. So It's not the bean that is null, it is the <code>companyId</code>.  Assuming you have getters, try it like this.  If the Id is not null, let it pass thru.</p>\n<pre><code>\nList&lt;NewSRMAPIResponseBean&gt; finalList=newSRMAPIResponseBeanList.parallelStream()\n        .filter(bean-&gt;bean.getCompanyId() != null)\n        .collect(Collectors.toList());\n</code></pre>\n<p>You can also do it in a simple loop.\nTo avoid a <code>ConurrentModificationException</code>, use an iterator.</p>\n<pre><code>Iterator&lt;NewSRMAPIResponseBean&gt; iter =  newSRMAPIResponseBeanList.iterator();\nwhile (iter.hasNext()) {\n    if (iter.next().getCompanyId() == null) {\n        iter.remove();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27528457,"reputation":39,"user_id":21007380,"display_name":"Pratik"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1676666008,"accepted_answer_id":75488890,"answer_count":1,"score":0,"last_activity_date":1676669896,"creation_date":1676661169,"question_id":75488400,"body_markdown":"I have a list of a bean class newSRMAPIResponseBeanList wherein I am always getting a null object at last which I am trying to remove but it is resulting in null pointer exception if I handle the exception, it is not removing that null value. Below is my code.\r\n\r\n    for (int i = 0; i &lt; newSRMAPIResponseBeanList.size(); i++) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tif (newSRMAPIResponseBeanList.get(i).getCompanyId().equals(null)) {\r\n    \t\t\t\t\t\tnewSRMAPIResponseBeanList.remove(i);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}catch(Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n\r\nIn the if condition itself it is failing. I want to remove the null value of company ID. Actually newSRMAPIResponseBeanList is a list of `List&lt;NewSRMAPIResponseBean&gt; newSRMAPIResponseBeanList = new ArrayList&lt;&gt;();` and the bean class is as follows.\r\n\r\n    public class NewSRMAPIResponseBean {\r\n    \tprivate String companyId;\r\n    \tprivate String investmentId;\r\n    \tprivate String performanceId;\r\n    \tprivate List&lt;String&gt; values;\r\n    }\r\n\r\nIs there any way I can remove that null value? I also tried using Java streams as follows.\r\n\r\n    List&lt;NewSRMAPIResponseBean&gt; finalList=newSRMAPIResponseBeanList.parallelStream()\r\n    \t\t\t      .filter(Objects::nonNull)\r\n    \t\t\t      .collect(Collectors.toList());\r\n\r\nThis too did not work.","title":"Not able to remove null from a list in Java","body":"<p>I have a list of a bean class newSRMAPIResponseBeanList wherein I am always getting a null object at last which I am trying to remove but it is resulting in null pointer exception if I handle the exception, it is not removing that null value. Below is my code.</p>\n<pre><code>for (int i = 0; i &lt; newSRMAPIResponseBeanList.size(); i++) {\n                try {\n                    if (newSRMAPIResponseBeanList.get(i).getCompanyId().equals(null)) {\n                        newSRMAPIResponseBeanList.remove(i);\n                    }\n                }catch(Exception e) {\n                    e.printStackTrace();\n                }\n            }\n</code></pre>\n<p>In the if condition itself it is failing. I want to remove the null value of company ID. Actually newSRMAPIResponseBeanList is a list of <code>List&lt;NewSRMAPIResponseBean&gt; newSRMAPIResponseBeanList = new ArrayList&lt;&gt;();</code> and the bean class is as follows.</p>\n<pre><code>public class NewSRMAPIResponseBean {\n    private String companyId;\n    private String investmentId;\n    private String performanceId;\n    private List&lt;String&gt; values;\n}\n</code></pre>\n<p>Is there any way I can remove that null value? I also tried using Java streams as follows.</p>\n<pre><code>List&lt;NewSRMAPIResponseBean&gt; finalList=newSRMAPIResponseBeanList.parallelStream()\n                  .filter(Objects::nonNull)\n                  .collect(Collectors.toList());\n</code></pre>\n<p>This too did not work.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","sdk"],"answers":[{"tags":[],"owner":{"account_id":3963723,"reputation":1327,"user_id":3270254,"accept_rate":62,"display_name":"scalauser"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417502460,"creation_date":1417502460,"answer_id":27243350,"question_id":27242297,"body_markdown":"Only thing I can see is getting connection to your S3 bucket.Try the following and it may help\r\n\r\n    AWSCredentials credentials = new BasicAWSCredentials(accessKeyId,secretAccessKey);\r\n    \t\tAmazonS3 s3Client = new AmazonS3Client(credentials);\r\n    \r\n    ObjectListing objects = s3Client.listObjects(listobjectrequest);\r\n\r\n","title":"List all the zip files recursively within S3 bucket using Java API","body":"<p>Only thing I can see is getting connection to your S3 bucket.Try the following and it may help</p>\n\n<pre><code>AWSCredentials credentials = new BasicAWSCredentials(accessKeyId,secretAccessKey);\n        AmazonS3 s3Client = new AmazonS3Client(credentials);\n\nObjectListing objects = s3Client.listObjects(listobjectrequest);\n</code></pre>\n"}],"owner":{"account_id":69592,"reputation":53841,"user_id":202375,"accept_rate":62,"display_name":"Saurabh Gokhale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1276,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1676669729,"creation_date":1417497164,"question_id":27242297,"body_markdown":"I&#39;ve a S3 bucket on the Amazon and trying to get the list of all the zip files located within folders under the bucket recursively.\r\n\r\nFor e.g, my zip files are located as shown below :\r\n\r\n    bucket1/${user1}/${date1}/abc.zip\r\n    bucket1/${user2}/${date2}/xyz.zip\r\n    bucket1/${user3}/${date3}/mno.zip\r\n\r\n    bucketName=bucket1\r\n    prefix=bucket1/\r\n\r\nBelow is my code : \r\n\r\n    final AmazonS3 amazonS3 = AmazonS3Utils.getAmazonS3Client();\r\n    final ListObjectsRequest listObjectsRequest = new ListObjectsRequest().withBucketName(&quot;bucket1&quot;)\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.withPrefix(&quot;bucket1/&quot;);\r\n    \t\t\r\n    ObjectListing current = amazonS3.listObjects(listObjectsRequest);\r\n    final List&lt;S3ObjectSummary&gt; keyList = current.getObjectSummaries();\r\n    \r\n    while (current.isTruncated()) \r\n    {\r\n       keyList.addAll(current.getObjectSummaries());\r\n       current = amazonS3.listNextBatchOfObjects(current);\r\n    }\r\n    \t\r\n    keyList.addAll(current.getObjectSummaries());\r\n    for(S3ObjectSummary summary : keyList)\r\n    {\r\n    \tSystem.out.println(summary.getKey());\r\n    }\r\n\r\nBut I get back an empty list.\r\n\r\nAm I doing anything wrong? Is there any way to recursively get list of zip files from the bucket?","title":"List all the zip files recursively within S3 bucket using Java API","body":"<p>I've a S3 bucket on the Amazon and trying to get the list of all the zip files located within folders under the bucket recursively.</p>\n<p>For e.g, my zip files are located as shown below :</p>\n<pre><code>bucket1/${user1}/${date1}/abc.zip\nbucket1/${user2}/${date2}/xyz.zip\nbucket1/${user3}/${date3}/mno.zip\n\nbucketName=bucket1\nprefix=bucket1/\n</code></pre>\n<p>Below is my code :</p>\n<pre><code>final AmazonS3 amazonS3 = AmazonS3Utils.getAmazonS3Client();\nfinal ListObjectsRequest listObjectsRequest = new ListObjectsRequest().withBucketName(&quot;bucket1&quot;)\n                                                                            .withPrefix(&quot;bucket1/&quot;);\n        \nObjectListing current = amazonS3.listObjects(listObjectsRequest);\nfinal List&lt;S3ObjectSummary&gt; keyList = current.getObjectSummaries();\n\nwhile (current.isTruncated()) \n{\n   keyList.addAll(current.getObjectSummaries());\n   current = amazonS3.listNextBatchOfObjects(current);\n}\n    \nkeyList.addAll(current.getObjectSummaries());\nfor(S3ObjectSummary summary : keyList)\n{\n    System.out.println(summary.getKey());\n}\n</code></pre>\n<p>But I get back an empty list.</p>\n<p>Am I doing anything wrong? Is there any way to recursively get list of zip files from the bucket?</p>\n"},{"tags":["java","arrays","loops"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1676648179,"post_id":75486282,"comment_id":133185478,"body_markdown":"Please [edit] your question to include a [example]. It would be helpful to also see your inputs, expected output and actual output.","body":"Please <a href=\"https://stackoverflow.com/posts/75486282/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. It would be helpful to also see your inputs, expected output and actual output."}],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676669464,"creation_date":1676669464,"answer_id":75489398,"question_id":75486282,"body_markdown":"We can&#39;t tell what&#39;s wrong with your code as we can&#39;t see all those supporting functions and whether they are implemented correctly, as well as how you&#39;re testing the results to see if they are correct.\r\n\r\nI&#39;d start, though, with re-writing your `getAdjacent()` function so it&#39;s easier to read and understand:\r\n\r\n    public ArrayList&lt;GridCell&gt; getAdjacent() {\r\n        ArrayList&lt;GridCell&gt; results = new ArrayList&lt;GridCell&gt;();\r\n\r\n        int curRow = this.getRow();\r\n        int r1 = Math.Max(0, curRow-1);\r\n        int r2 = Math.Min(grid.getHeight()-1, curRow+1);\r\n      \r\n        int curCol = this.getColumn();\r\n        int c1 = Math.Max(0, curCol-1);\r\n        int c2 = Math.Min(grid.getWidth()-1, curCol+1);\r\n      \r\n        for (int r = r1; r &lt;= r2; r++) {\r\n            for(int c = c1; c &lt;= c2; c++) {\r\n                if ( !(r == curRow &amp;&amp; c == curCol) ) {\r\n                    results.add(grid.get(r,c));\r\n                }\r\n            }\r\n        }\r\n      \r\n        return results;\r\n    }\r\n\r\nIf `getRow()` or `getColumn()` give coordinates that are NOT within the bounds of the array, should it return an empty ArrayList? What if those coords are just outside the bounds and some the adjacent neighbors are within bounds? Should those coords within the bounds still be returned even when the starting coords are outside bounds?\r\n\r\nThis version has the benefit that you can now inspect `curRow`, `curCol`, `r1`, `r2`, `c1`, and `c2` to see if those values are what you&#39;re expecting. This will tell you if those supporting functions are working correctly.","title":"Trying to output all the adjacent elements in a 2d array but only output is the size of the array","body":"<p>We can't tell what's wrong with your code as we can't see all those supporting functions and whether they are implemented correctly, as well as how you're testing the results to see if they are correct.</p>\n<p>I'd start, though, with re-writing your <code>getAdjacent()</code> function so it's easier to read and understand:</p>\n<pre><code>public ArrayList&lt;GridCell&gt; getAdjacent() {\n    ArrayList&lt;GridCell&gt; results = new ArrayList&lt;GridCell&gt;();\n\n    int curRow = this.getRow();\n    int r1 = Math.Max(0, curRow-1);\n    int r2 = Math.Min(grid.getHeight()-1, curRow+1);\n  \n    int curCol = this.getColumn();\n    int c1 = Math.Max(0, curCol-1);\n    int c2 = Math.Min(grid.getWidth()-1, curCol+1);\n  \n    for (int r = r1; r &lt;= r2; r++) {\n        for(int c = c1; c &lt;= c2; c++) {\n            if ( !(r == curRow &amp;&amp; c == curCol) ) {\n                results.add(grid.get(r,c));\n            }\n        }\n    }\n  \n    return results;\n}\n</code></pre>\n<p>If <code>getRow()</code> or <code>getColumn()</code> give coordinates that are NOT within the bounds of the array, should it return an empty ArrayList? What if those coords are just outside the bounds and some the adjacent neighbors are within bounds? Should those coords within the bounds still be returned even when the starting coords are outside bounds?</p>\n<p>This version has the benefit that you can now inspect <code>curRow</code>, <code>curCol</code>, <code>r1</code>, <code>r2</code>, <code>c1</code>, and <code>c2</code> to see if those values are what you're expecting. This will tell you if those supporting functions are working correctly.</p>\n"}],"owner":{"account_id":19699900,"reputation":13,"user_id":14422938,"display_name":"Jojo Fan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676669464,"creation_date":1676648018,"question_id":75486282,"body_markdown":"```\r\n\tpublic ArrayList&lt;GridCell&gt; getAdjacent() {\r\n\t\tArrayList&lt;GridCell&gt; results = new ArrayList&lt;GridCell&gt;();\r\n\t\t\r\n\t\tfor (int r = this.getRow()-1; r&lt;= this.getRow()+1; r++ ) {\r\n\t\t\tfor(int c = this.getColumn() -1 ; c&lt;= this.getColumn() +1 ;c++) {\r\n\t\t\t\tif (r == this.getRow()  &amp;&amp;  c == this.getColumn()) {\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse if (r &lt; 0 ||  r &gt; grid.getHeight() - 1 || c &lt; 0 || c &gt; grid.getWidth() - 1) {\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tresults.add(grid.get(r,c));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn results;\r\n\t}\r\n```\r\n\r\n\r\nI tried to create a nested for loop to go on the adjacent rows and columns of the element and see if they are not out of bound or the actual element. It should output the locations of the elements but just output the size of the 2d array e.g 4x3. \r\n\r\nthis.getRows() and this.getColumns() repesents the coorditnated of the location of the element in the array that i want to find the adjacent elements of. for example (3,1) is the element to find the adjacent and the size of the array is 4 rows by 3 colunms and currenlty  the ouput is currently an arraylist with 1 value of (4,3) but i expect it to be an arraylist with the values (3,0)(3,2)(2,0)(2,1)(2,2).","title":"Trying to output all the adjacent elements in a 2d array but only output is the size of the array","body":"<pre><code>    public ArrayList&lt;GridCell&gt; getAdjacent() {\n        ArrayList&lt;GridCell&gt; results = new ArrayList&lt;GridCell&gt;();\n        \n        for (int r = this.getRow()-1; r&lt;= this.getRow()+1; r++ ) {\n            for(int c = this.getColumn() -1 ; c&lt;= this.getColumn() +1 ;c++) {\n                if (r == this.getRow()  &amp;&amp;  c == this.getColumn()) {\n                    \n                }\n                else if (r &lt; 0 ||  r &gt; grid.getHeight() - 1 || c &lt; 0 || c &gt; grid.getWidth() - 1) {\n                    \n                }\n                else {\n                    results.add(grid.get(r,c));\n                }\n            }\n        }\n        return results;\n    }\n</code></pre>\n<p>I tried to create a nested for loop to go on the adjacent rows and columns of the element and see if they are not out of bound or the actual element. It should output the locations of the elements but just output the size of the 2d array e.g 4x3.</p>\n<p>this.getRows() and this.getColumns() repesents the coorditnated of the location of the element in the array that i want to find the adjacent elements of. for example (3,1) is the element to find the adjacent and the size of the array is 4 rows by 3 colunms and currenlty  the ouput is currently an arraylist with 1 value of (4,3) but i expect it to be an arraylist with the values (3,0)(3,2)(2,0)(2,1)(2,2).</p>\n"},{"tags":["java","spring","mongodb","mongo-shell","mongotemplate"],"answers":[{"tags":[],"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676669000,"creation_date":1676669000,"answer_id":75489355,"question_id":75487361,"body_markdown":"According to [docs](https://docs.spring.io/spring-data/data-document/docs/jdiff-mongo-m2-m3/mongo-report/Version%201.0.0%20M3/org/springframework/data/document/mongodb/MongoTemplate.html) you can call `executeCommand` using `DBObject` or `String` as a parameter.\r\n\r\nSo one option is simply get the JSON as String:\r\n\r\n```java\r\nString jsonCommand = &quot;{compact: &quot; + collectionName + &quot;}&quot;;\r\nmongoTemplate.executeCommand(jsonCommand);\r\n```\r\n\r\nOr create the `DBObject`:\r\n\r\n```java\r\nDBObject dbObject = new BasicDBObject(&quot;compact&quot;, collectionName );\r\nmongoTemplate.executeCommand(dbObject);\r\n```\r\n\r\nOr even, according to [this answer](https://stackoverflow.com/a/60717743/13464279) you can create the `DBObject` from a JSON:\r\n\r\n```java\r\nBasicDBObject dbObject = com.mongodb.BasicDBObject.parse(jsonCommand)\r\nmongoTemplate.executeCommand(dbObject);\r\n```","title":"MongoDb compact command using spring boot MongoTemplate","body":"<p>According to <a href=\"https://docs.spring.io/spring-data/data-document/docs/jdiff-mongo-m2-m3/mongo-report/Version%201.0.0%20M3/org/springframework/data/document/mongodb/MongoTemplate.html\" rel=\"nofollow noreferrer\">docs</a> you can call <code>executeCommand</code> using <code>DBObject</code> or <code>String</code> as a parameter.</p>\n<p>So one option is simply get the JSON as String:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String jsonCommand = &quot;{compact: &quot; + collectionName + &quot;}&quot;;\nmongoTemplate.executeCommand(jsonCommand);\n</code></pre>\n<p>Or create the <code>DBObject</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DBObject dbObject = new BasicDBObject(&quot;compact&quot;, collectionName );\nmongoTemplate.executeCommand(dbObject);\n</code></pre>\n<p>Or even, according to <a href=\"https://stackoverflow.com/a/60717743/13464279\">this answer</a> you can create the <code>DBObject</code> from a JSON:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BasicDBObject dbObject = com.mongodb.BasicDBObject.parse(jsonCommand)\nmongoTemplate.executeCommand(dbObject);\n</code></pre>\n"}],"owner":{"account_id":27813606,"reputation":13,"user_id":21235505,"display_name":"LuMa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75489355,"answer_count":1,"score":1,"last_activity_date":1676669000,"creation_date":1676654148,"question_id":75487361,"body_markdown":"Mongo shell command:\r\n\r\n    db.runCommand({compact: &lt;collection name&gt;})\r\n\r\n**How can I run same command using `MongoTemplate `in Spring Boot project?**\r\n\r\nI tried with:\r\n\r\n    @Autowired\r\n    private MongoTemplate mongoTemplate;\r\n    ...\r\n    mongoTemplate.executeCommand(jsonCommand);\r\n    ...\r\n\r\nbut it supports only commands in json.","title":"MongoDb compact command using spring boot MongoTemplate","body":"<p>Mongo shell command:</p>\n<pre><code>db.runCommand({compact: &lt;collection name&gt;})\n</code></pre>\n<p><strong>How can I run same command using <code>MongoTemplate </code>in Spring Boot project?</strong></p>\n<p>I tried with:</p>\n<pre><code>@Autowired\nprivate MongoTemplate mongoTemplate;\n...\nmongoTemplate.executeCommand(jsonCommand);\n...\n</code></pre>\n<p>but it supports only commands in json.</p>\n"},{"tags":["java","spring","apache-kafka","apache-kafka-streams","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1600721109,"post_id":63994444,"comment_id":113171676,"body_markdown":"Similar: https://stackoverflow.com/q/63992538/2308683","body":"Similar: <a href=\"https://stackoverflow.com/q/63992538/2308683\">stackoverflow.com/q/63992538/2308683</a>"},{"owner":{"account_id":10400131,"reputation":343,"user_id":7668695,"display_name":"Vinicius Santos"},"score":0,"creation_date":1600732998,"post_id":63994444,"comment_id":113174703,"body_markdown":"@OneCricketeer It is not so similar because in my case I have a chain of microservices, I don&#39;t just need the consumer&#39;s processing time, but anyway it was useful knowledge thanks","body":"@OneCricketeer It is not so similar because in my case I have a chain of microservices, I don&#39;t just need the consumer&#39;s processing time, but anyway it was useful knowledge thanks"}],"answers":[{"tags":[],"owner":{"account_id":10400131,"reputation":343,"user_id":7668695,"display_name":"Vinicius Santos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676668891,"creation_date":1676668891,"answer_id":75489343,"question_id":63994444,"body_markdown":"In this case I solved it using [opentelemetry](https://opentelemetry.io/)","title":"How to measure the total time of an asynchronous process using Kafka topics?","body":"<p>In this case I solved it using <a href=\"https://opentelemetry.io/\" rel=\"nofollow noreferrer\">opentelemetry</a></p>\n"}],"owner":{"account_id":10400131,"reputation":343,"user_id":7668695,"display_name":"Vinicius Santos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75489343,"answer_count":1,"score":0,"last_activity_date":1676668891,"creation_date":1600698857,"question_id":63994444,"body_markdown":"\r\nI have the following microservices scenario\r\n\r\nMicroservice 1\r\n\r\n1 - Collect a `System.getCurrentTimeMillis`\r\n\r\n2 - Generate an id after an operation in the DB\r\n\r\n3 - Send an object in json in the format below to the topic INICIO_PROCESSAMENTO\r\n\r\n```json\r\n{\r\n   &quot;uuid&quot;: &quot;b45ebe6f-d59a-4e37-9706-f546b32c68c3&quot;,\r\n   &quot;milliSeconds&quot;: 1600258507450\r\n}\r\n```\r\n\r\nMicroservice 7\r\n\r\n1 - Finish processing the message with the ID generated in the first microservice\r\n\r\n2 - Collect a `System.getCurrentTimeMillis`\r\n\r\n3 - Send Json below for the topic FIM_PROCESSAMENTO\r\n\r\n```json\r\n{\r\n   &quot;uuid&quot;: &quot;b45ebe6f-d59a-4e37-9706-f546b32c68c3&quot;,\r\n   &quot;milliSeconds&quot;: 1600258508980\r\n}\r\n\r\n```\r\n\r\nIn this case, how can I measure the total time of the asynchronous transaction? One suggestion was to use Kafka Streams and maybe KTables, but I didn&#39;t understand how that would work.\r\n\r\nAn important point the message ID in Kafka is a long generated by Kafka / Driver. The ID of my operation exists only within the body of messages sent to topics.\r\n\r\nThe final objective is to be able to collect the total time of the process for analysis, initially we would use opentracing for this, but as we have an integration with third parties in the middle of the process and we depend on their return that comes without the transaction id we were unable to follow that way.","title":"How to measure the total time of an asynchronous process using Kafka topics?","body":"<p>I have the following microservices scenario</p>\n<p>Microservice 1</p>\n<p>1 - Collect a <code>System.getCurrentTimeMillis</code></p>\n<p>2 - Generate an id after an operation in the DB</p>\n<p>3 - Send an object in json in the format below to the topic INICIO_PROCESSAMENTO</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;uuid&quot;: &quot;b45ebe6f-d59a-4e37-9706-f546b32c68c3&quot;,\n   &quot;milliSeconds&quot;: 1600258507450\n}\n</code></pre>\n<p>Microservice 7</p>\n<p>1 - Finish processing the message with the ID generated in the first microservice</p>\n<p>2 - Collect a <code>System.getCurrentTimeMillis</code></p>\n<p>3 - Send Json below for the topic FIM_PROCESSAMENTO</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;uuid&quot;: &quot;b45ebe6f-d59a-4e37-9706-f546b32c68c3&quot;,\n   &quot;milliSeconds&quot;: 1600258508980\n}\n\n</code></pre>\n<p>In this case, how can I measure the total time of the asynchronous transaction? One suggestion was to use Kafka Streams and maybe KTables, but I didn't understand how that would work.</p>\n<p>An important point the message ID in Kafka is a long generated by Kafka / Driver. The ID of my operation exists only within the body of messages sent to topics.</p>\n<p>The final objective is to be able to collect the total time of the process for analysis, initially we would use opentracing for this, but as we have an integration with third parties in the middle of the process and we depend on their return that comes without the transaction id we were unable to follow that way.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1586709486,"post_id":61174769,"comment_id":108222200,"body_markdown":"The best way to do this would be to get a library that specifically does OAuth.  Why do you want to use `HTTPClient`?","body":"The best way to do this would be to get a library that specifically does OAuth.  Why do you want to use <code>HTTPClient</code>?"},{"owner":{"account_id":10400131,"reputation":343,"user_id":7668695,"display_name":"Vinicius Santos"},"score":0,"creation_date":1586710002,"post_id":61174769,"comment_id":108222428,"body_markdown":"Because it is already the standard implementation of java, I would just like to decorate this class and use it, theoretically just add an Authorization header with the token, I don&#39;t think an extra lib is necessary for this.","body":"Because it is already the standard implementation of java, I would just like to decorate this class and use it, theoretically just add an Authorization header with the token, I don&#39;t think an extra lib is necessary for this."},{"owner":{"account_id":10400131,"reputation":343,"user_id":7668695,"display_name":"Vinicius Santos"},"score":0,"creation_date":1586787764,"post_id":61174769,"comment_id":108248517,"body_markdown":"I researched some more and I think the best way to solve the authentication problem is to create an Authentication and add it to the http client through the builder, the problem is that I have no idea how to set up Authentication using token.","body":"I researched some more and I think the best way to solve the authentication problem is to create an Authentication and add it to the http client through the builder, the problem is that I have no idea how to set up Authentication using token."}],"answers":[{"tags":[],"owner":{"account_id":10400131,"reputation":343,"user_id":7668695,"display_name":"Vinicius Santos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676668738,"creation_date":1676668738,"answer_id":75489316,"question_id":61174769,"body_markdown":"Instead of creating a decorator for the class, I created another class responsible for managing the access token, so when I do a getAccessToken() this method already performs the necessary validations and refreshes the token if necessary, so I only have than adding the Authorization header to the requests I want and calling my method to get an updated token.","title":"How to decorate the httpclient to send requests with oauth authentication?","body":"<p>Instead of creating a decorator for the class, I created another class responsible for managing the access token, so when I do a getAccessToken() this method already performs the necessary validations and refreshes the token if necessary, so I only have than adding the Authorization header to the requests I want and calling my method to get an updated token.</p>\n"}],"owner":{"account_id":10400131,"reputation":343,"user_id":7668695,"display_name":"Vinicius Santos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75489316,"answer_count":1,"score":0,"last_activity_date":1676668738,"creation_date":1586709384,"question_id":61174769,"body_markdown":"I&#39;m creating a HttpClient bean (Java 11 - httpclient) using a new class that decorates HttpClient, so that I can solve\r\n&#160;the following two problems:\r\n\r\n1- Add a standard timeout on request (resolved)\r\n\r\n2 - Add authorization headers automatically in the request to use Oauth tokens (The problem to be solved)\r\n\r\nWe can see the status of the code below:\r\n\r\n    @ToString\r\n    @AllArgsConstructor\r\n    public class HttpRequest extends java.net.http.HttpRequest {\r\n    \r\n        protected final java.net.http.HttpRequest delegate;\r\n    \r\n        private final HttpClientConfig config;\r\n    \r\n        @Override\r\n        public Optional&lt;BodyPublisher&gt; bodyPublisher() {\r\n            return delegate.bodyPublisher();\r\n        }\r\n    \r\n        @Override\r\n        public String method() {\r\n            return delegate.method();\r\n        }\r\n    \r\n        @Override\r\n        public Optional&lt;Duration&gt; timeout() {\r\n            return delegate.timeout().isEmpty() ?\r\n                    Optional.of(config.getDefaultTimeout()) : delegate.timeout();\r\n        }\r\n    \r\n        @Override\r\n        public boolean expectContinue() {\r\n            return delegate.expectContinue();\r\n        }\r\n    \r\n        @Override\r\n        public URI uri() {\r\n            return delegate.uri();\r\n        }\r\n    \r\n        @Override\r\n        public Optional&lt;HttpClient.Version&gt; version() {\r\n            return delegate.version();\r\n        }\r\n    \r\n        @Override\r\n        public HttpHeaders headers() {\r\n            //TODO How to return an HttpHeaders with new headers if it is built during Request and Response and is immutable?\r\n            return delegate.headers();\r\n        }\r\n    }\r\n\r\nThe big problem is how can I return HttpHeaders with the addition of the header authorization, it is an immutable object and is only created during the resquest and resonse build?","title":"How to decorate the httpclient to send requests with oauth authentication?","body":"<p>I'm creating a HttpClient bean (Java 11 - httpclient) using a new class that decorates HttpClient, so that I can solve\nthe following two problems:</p>\n\n<p>1- Add a standard timeout on request (resolved)</p>\n\n<p>2 - Add authorization headers automatically in the request to use Oauth tokens (The problem to be solved)</p>\n\n<p>We can see the status of the code below:</p>\n\n<pre><code>@ToString\n@AllArgsConstructor\npublic class HttpRequest extends java.net.http.HttpRequest {\n\n    protected final java.net.http.HttpRequest delegate;\n\n    private final HttpClientConfig config;\n\n    @Override\n    public Optional&lt;BodyPublisher&gt; bodyPublisher() {\n        return delegate.bodyPublisher();\n    }\n\n    @Override\n    public String method() {\n        return delegate.method();\n    }\n\n    @Override\n    public Optional&lt;Duration&gt; timeout() {\n        return delegate.timeout().isEmpty() ?\n                Optional.of(config.getDefaultTimeout()) : delegate.timeout();\n    }\n\n    @Override\n    public boolean expectContinue() {\n        return delegate.expectContinue();\n    }\n\n    @Override\n    public URI uri() {\n        return delegate.uri();\n    }\n\n    @Override\n    public Optional&lt;HttpClient.Version&gt; version() {\n        return delegate.version();\n    }\n\n    @Override\n    public HttpHeaders headers() {\n        //TODO How to return an HttpHeaders with new headers if it is built during Request and Response and is immutable?\n        return delegate.headers();\n    }\n}\n</code></pre>\n\n<p>The big problem is how can I return HttpHeaders with the addition of the header authorization, it is an immutable object and is only created during the resquest and resonse build?</p>\n"},{"tags":["java","jsf-2","java-ee-6","cdi","weld"],"answers":[{"comments":[{"owner":{"account_id":1072308,"reputation":1659,"user_id":1071289,"accept_rate":70,"display_name":"pWoz"},"score":0,"creation_date":1380806034,"post_id":19160052,"comment_id":28342320,"body_markdown":"I would like to configure this component (set starting value for `text`) in external properties file. Thus Your answer does not meet my requirements. Maybe You know another way to do such a configuration?","body":"I would like to configure this component (set starting value for <code>text</code>) in external properties file. Thus Your answer does not meet my requirements. Maybe You know another way to do such a configuration?"},{"owner":{"account_id":1031744,"reputation":27054,"user_id":1039952,"accept_rate":81,"display_name":"Petr Mensik"},"score":0,"creation_date":1380806597,"post_id":19160052,"comment_id":28342648,"body_markdown":"I know but like I said, I doubt that there is any other option which `CDI`. Anyway, where did you get the syntax of `&lt;res:Sample&gt;` in `beans.xml`?","body":"I know but like I said, I doubt that there is any other option which <code>CDI</code>. Anyway, where did you get the syntax of <code>&lt;res:Sample&gt;</code> in <code>beans.xml</code>?"},{"owner":{"account_id":159105,"reputation":5318,"user_id":378185,"display_name":"LightGuard"},"score":0,"creation_date":1380837828,"post_id":19160052,"comment_id":28360018,"body_markdown":"That&#39;s an old reference. That will not work. There is nothing in CDI, or any implementations that will allow you to do this. You could write an extension to allow you to do it, but it&#39;s messy.","body":"That&#39;s an old reference. That will not work. There is nothing in CDI, or any implementations that will allow you to do this. You could write an extension to allow you to do it, but it&#39;s messy."},{"owner":{"account_id":1072308,"reputation":1659,"user_id":1071289,"accept_rate":70,"display_name":"pWoz"},"score":0,"creation_date":1380874126,"post_id":19160052,"comment_id":28370234,"body_markdown":"So is there any other way to  fulfill my requirement? To configure CDI beans in external files. Similar like in JSF Managed Beans ( faces-config.xml file)?","body":"So is there any other way to  fulfill my requirement? To configure CDI beans in external files. Similar like in JSF Managed Beans ( faces-config.xml file)?"},{"owner":{"account_id":1996471,"reputation":3425,"user_id":1789351,"accept_rate":100,"display_name":"rdcrng"},"score":1,"creation_date":1381059678,"post_id":19160052,"comment_id":28424564,"body_markdown":"@pWoz I think Apache DeltaSpike has a `@ConfigValue` feature implemented but last I checked it wasn&#39;t documented. Try emailing the user list with your requirements, they are usually pretty quick at answering.","body":"@pWoz I think Apache DeltaSpike has a <code>@ConfigValue</code> feature implemented but last I checked it wasn&#39;t documented. Try emailing the user list with your requirements, they are usually pretty quick at answering."}],"tags":[],"owner":{"account_id":1031744,"reputation":27054,"user_id":1039952,"accept_rate":81,"display_name":"Petr Mensik"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380805688,"creation_date":1380805688,"answer_id":19160052,"question_id":19159918,"body_markdown":"I am really not aware that this kind of configuration can be made in `beans.xml` (this probably works just in Spring but maybe somebody will correct me). The CDI way of initializing the values is the method annotated with `@PostConstruct`, so try this\r\n\r\n    public class Sample {\r\n\r\n        private String text;\r\n\r\n        @PostConstruct\r\n        public void init() {\r\n             this.text = &quot;aaa&quot;;\r\n        }\r\n    }","title":"CDI bean configuration using beans.xml file","body":"<p>I am really not aware that this kind of configuration can be made in <code>beans.xml</code> (this probably works just in Spring but maybe somebody will correct me). The CDI way of initializing the values is the method annotated with <code>@PostConstruct</code>, so try this</p>\n\n<pre><code>public class Sample {\n\n    private String text;\n\n    @PostConstruct\n    public void init() {\n         this.text = \"aaa\";\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1072308,"reputation":1659,"user_id":1071289,"accept_rate":70,"display_name":"pWoz"},"score":0,"creation_date":1381323431,"post_id":19241812,"comment_id":28533619,"body_markdown":"I haven&#39;t yet. I thought that there is a built-in solution for my problem. But probably I will have to implement it by my own.","body":"I haven&#39;t yet. I thought that there is a built-in solution for my problem. But probably I will have to implement it by my own."}],"tags":[],"owner":{"account_id":3402640,"reputation":91,"user_id":2854470,"display_name":"jboz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381217861,"creation_date":1381217861,"answer_id":19241812,"question_id":19159918,"body_markdown":"Have you try to implement a javax.enterprise.inject.spi.Extension that @Observes ProcessInjectionTarget like this [Wrapping an InjectionTarget][1] ?\r\n\r\n\r\n  [1]: http://docs.jboss.org/weld/reference/latest/en-US/html/extend.html#d0e5267\r\n\r\nThis example inject bean values from resource bundle.","title":"CDI bean configuration using beans.xml file","body":"<p>Have you try to implement a javax.enterprise.inject.spi.Extension that @Observes ProcessInjectionTarget like this <a href=\"http://docs.jboss.org/weld/reference/latest/en-US/html/extend.html#d0e5267\" rel=\"nofollow\">Wrapping an InjectionTarget</a> ?</p>\n\n<p>This example inject bean values from resource bundle.</p>\n"},{"tags":[],"owner":{"account_id":1072308,"reputation":1659,"user_id":1071289,"accept_rate":70,"display_name":"pWoz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1382011854,"creation_date":1382011854,"answer_id":19426399,"question_id":19159918,"body_markdown":"There is no built-in solution for this problem. You can use some third party solutions like Apache DeltaSpike http://deltaspike.apache.org/ or implement it by Your own using CDI extensions for example.","title":"CDI bean configuration using beans.xml file","body":"<p>There is no built-in solution for this problem. You can use some third party solutions like Apache DeltaSpike <a href=\"http://deltaspike.apache.org/\" rel=\"nofollow\">http://deltaspike.apache.org/</a> or implement it by Your own using CDI extensions for example.</p>\n"},{"tags":[],"owner":{"account_id":3791308,"reputation":1,"user_id":3147769,"display_name":"Dimitris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388442500,"creation_date":1388442500,"answer_id":20848593,"question_id":19159918,"body_markdown":"In the sample link that you posted if you see the .xml file it uses the package name and then the class name so if you try to change from `&lt;ress:Sample&gt;` to `&lt;ress:net.resourceAuth.Sample&gt;` it might work.","title":"CDI bean configuration using beans.xml file","body":"<p>In the sample link that you posted if you see the .xml file it uses the package name and then the class name so if you try to change from <code>&lt;ress:Sample&gt;</code> to <code>&lt;ress:net.resourceAuth.Sample&gt;</code> it might work.</p>\n"},{"tags":[],"owner":{"account_id":2324029,"reputation":172,"user_id":2038948,"display_name":"Andr&#233;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676668642,"creation_date":1676668642,"answer_id":75489303,"question_id":19159918,"body_markdown":"EJB&#180;s can be configured via XML ..it is the ejb-jar.xml","title":"CDI bean configuration using beans.xml file","body":"<p>EJBs can be configured via XML ..it is the ejb-jar.xml</p>\n"}],"owner":{"account_id":1072308,"reputation":1659,"user_id":1071289,"accept_rate":70,"display_name":"pWoz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14995,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":19426399,"answer_count":5,"score":1,"last_activity_date":1676668642,"creation_date":1380805315,"question_id":19159918,"body_markdown":"I have very simple CDI bean:\r\n\r\n    package net.resourceAuth;\r\n\r\n    public class Sample {\r\n\r\n\t   private String text;\r\n\t\r\n\t   public String getText() {\r\n\t\treturn text;\r\n\t   }\r\n\t\r\n\t   public void setText(String text) {\r\n\t\tthis.text = text;\r\n\t   }\r\n    }\r\n\r\nAnd now I would like to initialize `text` variable using `beans.xml`. I&#39;m trying with `beans.xml` file like this one:\r\n\r\n    &lt;beans xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns:res=&quot;urn:java:net.resourceAuth&quot;\r\n        xsi:schemaLocation=&quot;\r\n        http://java.sun.com/xml/ns/javaee \r\n        http://java.sun.com/xml/ns/javaee/beans_1_0.xsd&quot;&gt;\r\n\r\n\t    &lt;res:Sample&gt;\r\n\t\t  &lt;res:text&gt;test123&lt;/res:text&gt;\r\n  \t    &lt;/res:Sample&gt;\r\n\t\r\n    &lt;/beans&gt;\r\n\r\nBut it does not work. `text` is always null. Can You help me figure out what is wrong here?\r\n\r\nIn other words: I am looking for a similar solution as it is used in the JSF  faces-config.xml described for example here: http://www.mkyong.com/jsf2/configure-managed-beans-in-jsf-2-0/","title":"CDI bean configuration using beans.xml file","body":"<p>I have very simple CDI bean:</p>\n\n<pre><code>package net.resourceAuth;\n\npublic class Sample {\n\n   private String text;\n\n   public String getText() {\n    return text;\n   }\n\n   public void setText(String text) {\n    this.text = text;\n   }\n}\n</code></pre>\n\n<p>And now I would like to initialize <code>text</code> variable using <code>beans.xml</code>. I'm trying with <code>beans.xml</code> file like this one:</p>\n\n<pre><code>&lt;beans xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:res=\"urn:java:net.resourceAuth\"\n    xsi:schemaLocation=\"\n    http://java.sun.com/xml/ns/javaee \n    http://java.sun.com/xml/ns/javaee/beans_1_0.xsd\"&gt;\n\n    &lt;res:Sample&gt;\n      &lt;res:text&gt;test123&lt;/res:text&gt;\n    &lt;/res:Sample&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>But it does not work. <code>text</code> is always null. Can You help me figure out what is wrong here?</p>\n\n<p>In other words: I am looking for a similar solution as it is used in the JSF  faces-config.xml described for example here: <a href=\"http://www.mkyong.com/jsf2/configure-managed-beans-in-jsf-2-0/\" rel=\"nofollow\">http://www.mkyong.com/jsf2/configure-managed-beans-in-jsf-2-0/</a></p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1676988478,"post_id":75488899,"comment_id":133244896,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75488899/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18657561,"reputation":1,"user_id":13599591,"display_name":"k0rd"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676665121,"creation_date":1676665072,"answer_id":75488899,"question_id":73093116,"body_markdown":"I had this same problem when I tried to deploy my program to Glassfish. You need to specify a location on the file system like ```~``` and place your .env file there.\r\n\r\nHere is an example on how to do this:\r\n```java\r\nDotenv env = Dotenv.configure().directory(System.getProperty(&quot;user.home&quot;)).load();\r\n```\r\n\r\nDotenv should now be able to find the file if you&#39;ve placed it at ~/.env.","title":"How do I build my maven project that includes my environment variables","body":"<p>I had this same problem when I tried to deploy my program to Glassfish. You need to specify a location on the file system like <code>~</code> and place your .env file there.</p>\n<p>Here is an example on how to do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Dotenv env = Dotenv.configure().directory(System.getProperty(&quot;user.home&quot;)).load();\n</code></pre>\n<p>Dotenv should now be able to find the file if you've placed it at ~/.env.</p>\n"}],"owner":{"account_id":25878822,"reputation":1,"user_id":19608301,"display_name":"ArcaliteGames"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676668373,"creation_date":1658599583,"question_id":73093116,"body_markdown":"please I need help. I&#39;m trying to package my maven build and also include environment variables but my program cannot find the .env file. How can I resolve this issue? I have been using eclipse, but I don&#39;t know where I can configure the path to the .env file. I used io.github.cdimascio to read environment variables. The program works fine on my IDE. The trouble starts when I run the program outside the IDE. What should I do?\r\n\r\n    Exception in thread &quot;Thread-1&quot; Exception in thread &quot;Thread-0&quot; java.lang.ExceptionInInitializerError\r\n            at com.arcalitegames.Main$2.run(Main.java:29)\r\n            at java.lang.Thread.run(Unknown Source)\r\n    Caused by: io.github.cdimascio.dotenv.DotEnvException: Could not find ./.env on the classpath\r\n            at io.github.cdimascio.dotenv.internal.ClasspathHelper.loadFileFromClasspath(ClassPathHelper.kt:37)\r\n            at io.github.cdimascio.dotenv.internal.DotenvReader.read(DotenvReader.kt:36)\r\n            at io.github.cdimascio.dotenv.internal.DotenvParser.parse(DotenvParser.kt:26)\r\n            at io.github.cdimascio.dotenv.DotenvBuilder.load(Dotenv.kt:119)\r\n            at com.arcalitegames.connector.Devs.getDotenv(Devs.java:10)\r\n            at com.arcalitegames.connector.Connector.&lt;clinit&gt;(Connector.java:14)\r\n            ... 2 more","title":"How do I build my maven project that includes my environment variables","body":"<p>please I need help. I'm trying to package my maven build and also include environment variables but my program cannot find the .env file. How can I resolve this issue? I have been using eclipse, but I don't know where I can configure the path to the .env file. I used io.github.cdimascio to read environment variables. The program works fine on my IDE. The trouble starts when I run the program outside the IDE. What should I do?</p>\n<pre><code>Exception in thread &quot;Thread-1&quot; Exception in thread &quot;Thread-0&quot; java.lang.ExceptionInInitializerError\n        at com.arcalitegames.Main$2.run(Main.java:29)\n        at java.lang.Thread.run(Unknown Source)\nCaused by: io.github.cdimascio.dotenv.DotEnvException: Could not find ./.env on the classpath\n        at io.github.cdimascio.dotenv.internal.ClasspathHelper.loadFileFromClasspath(ClassPathHelper.kt:37)\n        at io.github.cdimascio.dotenv.internal.DotenvReader.read(DotenvReader.kt:36)\n        at io.github.cdimascio.dotenv.internal.DotenvParser.parse(DotenvParser.kt:26)\n        at io.github.cdimascio.dotenv.DotenvBuilder.load(Dotenv.kt:119)\n        at com.arcalitegames.connector.Devs.getDotenv(Devs.java:10)\n        at com.arcalitegames.connector.Connector.&lt;clinit&gt;(Connector.java:14)\n        ... 2 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","generics"],"comments":[{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1676671867,"post_id":75489250,"comment_id":133191697,"body_markdown":"did you tried to generify the `MovieService.get()` method? `public &lt;A extends Genre&gt;  MovieData get( GenreType type, A genre)`. Hmm... but there might be still the problem with return type of `movieRegistry.get`","body":"did you tried to generify the <code>MovieService.get()</code> method? <code>public &lt;A extends Genre&gt;  MovieData get( GenreType type, A genre)</code>. Hmm... but there might be still the problem with return type of <code>movieRegistry.get</code>"},{"owner":{"account_id":27794495,"reputation":31,"user_id":21226282,"display_name":"TheSQLGoat"},"score":0,"creation_date":1676715228,"post_id":75489250,"comment_id":133196068,"body_markdown":"Yes, makes no difference.","body":"Yes, makes no difference."}],"owner":{"account_id":27794495,"reputation":31,"user_id":21226282,"display_name":"TheSQLGoat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676668285,"creation_date":1676668285,"question_id":75489250,"body_markdown":"I&#39;m trying to create a service similiar to this example that fetches data. Since the `GenreType` can be anything I created a `Registry` that maps each `GenreType` to a specific class. \r\n\r\nIgnore the obvious flaw on this example of not being possible to have movies with the same type and the naming not being the most correct but it&#39;s just a example to show my problem.\r\n\r\nThen I&#39;m levaring `Spring` to fill this registry but the issues comes when I call the method `getData()`. It&#39;s expecting `A extends Genre` and I&#39;m passing a `Genre` so it fails to compile.\r\n\r\n\r\nIs there a better approach to this?\r\n\r\nThanks\r\n\r\n\r\n```\r\npubic enum GenreType \r\n{\r\n    ACTION,\r\n    COMEDY\r\n}\r\n\r\npublic interface Genre \r\n{\r\n}\r\n\r\npublic class ActionMovie implements Genre\r\n{\r\n}\r\n\r\npublic class ComedyMovie implements Genre\r\n{\r\n}\r\n\r\npublic interface Movie&lt;A extends Genre&gt;\r\n{\r\n    MovieData getData( A genre );\r\n\r\n    GenreType getType();\r\n}\r\n\r\n@Service\r\npublic class Borat implements Movie&lt;ComedyMovie&gt;\r\n{\r\n    public MovieData getData( ComedyMovie genre )\r\n    {\r\n         //...\r\n    }\r\n\r\n\r\n    @Override\r\n    public GenreType getType() \r\n    {\r\n        return GenreType.COMEDY;\r\n    }\r\n}\r\n\r\n@Service\r\npublic class MovieRegistry\r\n{\r\n    private final Map&lt;GenreType, Movie&lt;?&gt;&gt; movies = new EnumMap&lt;&gt;( GenreType.class );\r\n\r\n    public MovieRegistry( List&lt;Movie&lt;?&gt;&gt; movies )\r\n    {\r\n        movies .forEach( movie -&gt; this.movies.putIfAbsent( movie.getType(), movie ) );\r\n    }\r\n\r\n    public Movie&lt;?&gt; get( GenreType genreType )\r\n    {\r\n        return movies.get( genreType );\r\n    }\r\n}\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class MovieService\r\n{\r\n    private final MovieRegistry movieRegistry;\r\n\r\n    public MovieData get( GenreType type, Genre genre)\r\n    {\r\n         Movie&lt;?&gt; movie = movieRegistry.get(type);\r\n         return movie.getData( genre ); //Problem here\r\n    }\r\n}\r\n```","title":"Java - Spring - Call method with generic parameter","body":"<p>I'm trying to create a service similiar to this example that fetches data. Since the <code>GenreType</code> can be anything I created a <code>Registry</code> that maps each <code>GenreType</code> to a specific class.</p>\n<p>Ignore the obvious flaw on this example of not being possible to have movies with the same type and the naming not being the most correct but it's just a example to show my problem.</p>\n<p>Then I'm levaring <code>Spring</code> to fill this registry but the issues comes when I call the method <code>getData()</code>. It's expecting <code>A extends Genre</code> and I'm passing a <code>Genre</code> so it fails to compile.</p>\n<p>Is there a better approach to this?</p>\n<p>Thanks</p>\n<pre><code>pubic enum GenreType \n{\n    ACTION,\n    COMEDY\n}\n\npublic interface Genre \n{\n}\n\npublic class ActionMovie implements Genre\n{\n}\n\npublic class ComedyMovie implements Genre\n{\n}\n\npublic interface Movie&lt;A extends Genre&gt;\n{\n    MovieData getData( A genre );\n\n    GenreType getType();\n}\n\n@Service\npublic class Borat implements Movie&lt;ComedyMovie&gt;\n{\n    public MovieData getData( ComedyMovie genre )\n    {\n         //...\n    }\n\n\n    @Override\n    public GenreType getType() \n    {\n        return GenreType.COMEDY;\n    }\n}\n\n@Service\npublic class MovieRegistry\n{\n    private final Map&lt;GenreType, Movie&lt;?&gt;&gt; movies = new EnumMap&lt;&gt;( GenreType.class );\n\n    public MovieRegistry( List&lt;Movie&lt;?&gt;&gt; movies )\n    {\n        movies .forEach( movie -&gt; this.movies.putIfAbsent( movie.getType(), movie ) );\n    }\n\n    public Movie&lt;?&gt; get( GenreType genreType )\n    {\n        return movies.get( genreType );\n    }\n}\n\n@Service\n@RequiredArgsConstructor\npublic class MovieService\n{\n    private final MovieRegistry movieRegistry;\n\n    public MovieData get( GenreType type, Genre genre)\n    {\n         Movie&lt;?&gt; movie = movieRegistry.get(type);\n         return movie.getData( genre ); //Problem here\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","freemarker"],"comments":[{"owner":{"account_id":24400,"reputation":2982,"user_id":62032,"accept_rate":93,"display_name":"tinkertime"},"score":0,"creation_date":1259179790,"post_id":1799614,"comment_id":1687514,"body_markdown":"how are you setting the &#39;configuration&#39; object?","body":"how are you setting the &#39;configuration&#39; object?"},{"owner":{"account_id":566059,"reputation":165,"user_id":201213,"display_name":"brock"},"score":0,"creation_date":1259197415,"post_id":1799614,"comment_id":1689054,"body_markdown":"I&#39;m getting the configuration object from Spring.There is a getConfiguration method from the FreeMarkerConfigurer","body":"I&#39;m getting the configuration object from Spring.There is a getConfiguration method from the FreeMarkerConfigurer"}],"answers":[{"comments":[{"owner":{"account_id":566059,"reputation":165,"user_id":201213,"display_name":"brock"},"score":0,"creation_date":1259197360,"post_id":1800222,"comment_id":1689050,"body_markdown":"Thanks for the response!  I thought there was some kind of path issue....so I&#39;m trying to use freemarker to help send emails by using templates.  I was originally thinking that the ViewResolver was a little to much.  So I thought it would be better to use the configuration instead...not sure if that is the correct thing to do.  As for the IOException, the message coming back is template not found.","body":"Thanks for the response!  I thought there was some kind of path issue....so I&#39;m trying to use freemarker to help send emails by using templates.  I was originally thinking that the ViewResolver was a little to much.  So I thought it would be better to use the configuration instead...not sure if that is the correct thing to do.  As for the IOException, the message coming back is template not found."},{"owner":{"account_id":566059,"reputation":165,"user_id":201213,"display_name":"brock"},"score":0,"creation_date":1259197617,"post_id":1800222,"comment_id":1689061,"body_markdown":"Oh and I am configuring the bean in the applicationContext.xml file.  I did not put that in the DispatchServlet.","body":"Oh and I am configuring the bean in the applicationContext.xml file.  I did not put that in the DispatchServlet."},{"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"score":0,"creation_date":1259202659,"post_id":1800222,"comment_id":1689303,"body_markdown":"How is context created for that &quot;applicationContext.xml&quot; (what Spring class is used to create it)? If it does **not** descend from WebApplicationContext, it will **not** be able to get anything from &quot;/WEB-INF&quot; - not unless you specify an absolute filesystem url.","body":"How is context created for that &quot;applicationContext.xml&quot; (what Spring class is used to create it)? If it does <b>not</b> descend from WebApplicationContext, it will <b>not</b> be able to get anything from &quot;/WEB-INF&quot; - not unless you specify an absolute filesystem url."},{"owner":{"account_id":566059,"reputation":165,"user_id":201213,"display_name":"brock"},"score":0,"creation_date":1259334352,"post_id":1800222,"comment_id":1697828,"body_markdown":"Thanks ChssPly76.  I&#39;m using the Classpath Application context to load my applicationContext.xml.  How would I load the WebApplicationContext?  Is that the right context to use in a web application?","body":"Thanks ChssPly76.  I&#39;m using the Classpath Application context to load my applicationContext.xml.  How would I load the WebApplicationContext?  Is that the right context to use in a web application?"},{"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"score":0,"creation_date":1259344590,"post_id":1800222,"comment_id":1698702,"body_markdown":"It&#39;s normally loaded by `DispatcherServlet` (http://static.springsource.org/spring/docs/2.5.x/reference/mvc.html#mvc-servlet) but you can create it manually (http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/web/context/support/GenericWebApplicationContext.html) and pass servlet context to it.","body":"It&#39;s normally loaded by <code>DispatcherServlet</code> (<a href=\"http://static.springsource.org/spring/docs/2.5.x/reference/mvc.html#mvc-servlet\" rel=\"nofollow noreferrer\">static.springsource.org/spring/docs/2.5.x/reference/&hellip;</a>) but you can create it manually (<a href=\"http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/web/context/support/GenericWebApplicationContext.html\" rel=\"nofollow noreferrer\">static.springsource.org/spring/docs/2.5.x/api/org/&hellip;</a>) and pass servlet context to it."},{"owner":{"account_id":1469094,"reputation":11033,"user_id":1381093,"accept_rate":52,"display_name":"JackDev"},"score":0,"creation_date":1413414889,"post_id":1800222,"comment_id":41439804,"body_markdown":"Hi @Brock, did you solve your problem in the end? What fixed it?","body":"Hi @Brock, did you solve your problem in the end? What fixed it?"}],"tags":[],"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"comment_count":6,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1259186109,"creation_date":1259186109,"answer_id":1800222,"question_id":1799614,"body_markdown":"First of all, `/WEB-INF/freemarker` would only work as a path from within `WebApplicationContext`; otherwise Spring would attempt to resolve it as file system path rather than servlet context path. Is the excerpt you&#39;ve posted above from the context being loaded by `DispatcherServlet`?\r\n\r\nSecondly, is there any reason why are you using `configuration` directly instead of using Spring&#39;s `ViewResolver`?\r\n\r\nFinally, `IOException` can mean many different things. Can you post a full stack trace?","title":"Freemarker template not found","body":"<p>First of all, <code>/WEB-INF/freemarker</code> would only work as a path from within <code>WebApplicationContext</code>; otherwise Spring would attempt to resolve it as file system path rather than servlet context path. Is the excerpt you've posted above from the context being loaded by <code>DispatcherServlet</code>?</p>\n\n<p>Secondly, is there any reason why are you using <code>configuration</code> directly instead of using Spring's <code>ViewResolver</code>?</p>\n\n<p>Finally, <code>IOException</code> can mean many different things. Can you post a full stack trace?</p>\n"},{"comments":[{"owner":{"account_id":175694,"reputation":16729,"user_id":450148,"accept_rate":82,"display_name":"Felipe"},"score":0,"creation_date":1343173868,"post_id":2793579,"comment_id":15421016,"body_markdown":"I tried it but did not work for me. I am receiving yet the exception java.io.FileNotFoundException above a existent path. That is really crazy!","body":"I tried it but did not work for me. I am receiving yet the exception java.io.FileNotFoundException above a existent path. That is really crazy!"}],"tags":[],"owner":{"account_id":610881,"reputation":41,"user_id":336097,"display_name":"Luismy"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1345455334,"creation_date":1273311985,"answer_id":2793579,"question_id":1799614,"body_markdown":"I&#39;ve just had the same kind of problem and, at the end, I decide to use the approach below:\r\n\r\n    Configuration configuration = new Configuration();\r\n    FileTemplateLoader templateLoader = new FileTemplateLoader(new File(YOUR_BASE_TEMPLATE_DIR));\r\n    configuration.setTemplateLoader(templateLoader);\r\n    freemarker.template.Template template = configuration.getTemplate(YOUR_TEMPLATE_NAME);\r\n    template.process(datamodel, writer);","title":"Freemarker template not found","body":"<p>I've just had the same kind of problem and, at the end, I decide to use the approach below:</p>\n\n<pre><code>Configuration configuration = new Configuration();\nFileTemplateLoader templateLoader = new FileTemplateLoader(new File(YOUR_BASE_TEMPLATE_DIR));\nconfiguration.setTemplateLoader(templateLoader);\nfreemarker.template.Template template = configuration.getTemplate(YOUR_TEMPLATE_NAME);\ntemplate.process(datamodel, writer);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1765349,"reputation":1,"user_id":1611342,"display_name":"Sunset Fun"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1348991374,"creation_date":1345454108,"answer_id":12035007,"question_id":1799614,"body_markdown":"I think you must make sure that the file &quot;testTemplate.ftl&quot; is in the folder &quot;/WEB-INF/freemarker/&quot;\r\n","title":"Freemarker template not found","body":"<p>I think you must make sure that the file \"testTemplate.ftl\" is in the folder \"/WEB-INF/freemarker/\"</p>\n"},{"tags":[],"owner":{"account_id":941858,"reputation":2136,"user_id":969812,"accept_rate":90,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552046297,"creation_date":1552046297,"answer_id":55062794,"question_id":1799614,"body_markdown":"you can also set it like \r\n\r\n```\r\n    @Bean\r\n    public FreeMarkerConfigurationFactoryBean freemarkerConfiguration() {\r\n        FreeMarkerConfigurationFactoryBean bean = new FreeMarkerConfigurationFactoryBean();\r\n        bean.setTemplateLoaderPath(&quot;classpath:/templates/&quot;);\r\n        return bean;\r\n    }\r\n```\r\n\r\nIn your case: \r\n```\r\n    &lt;property name=&quot;templateLoaderPath&quot; value=&quot;classpath:/WEB-INF/freemarker/&quot;/&gt;\r\n```","title":"Freemarker template not found","body":"<p>you can also set it like </p>\n\n<pre><code>    @Bean\n    public FreeMarkerConfigurationFactoryBean freemarkerConfiguration() {\n        FreeMarkerConfigurationFactoryBean bean = new FreeMarkerConfigurationFactoryBean();\n        bean.setTemplateLoaderPath(\"classpath:/templates/\");\n        return bean;\n    }\n</code></pre>\n\n<p>In your case: </p>\n\n<pre><code>    &lt;property name=\"templateLoaderPath\" value=\"classpath:/WEB-INF/freemarker/\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3737292,"reputation":1907,"user_id":3107952,"display_name":"Pedro Madrid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676668108,"creation_date":1676668108,"answer_id":75489230,"question_id":1799614,"body_markdown":"This worked for me:\r\n\r\n    configuration.setClassLoaderForTemplateLoading(this.getClass().getClassLoader(), &quot;/templates&quot;);","title":"Freemarker template not found","body":"<p>This worked for me:</p>\n<pre><code>configuration.setClassLoaderForTemplateLoading(this.getClass().getClassLoader(), &quot;/templates&quot;);\n</code></pre>\n"}],"owner":{"account_id":566059,"reputation":165,"user_id":201213,"display_name":"brock"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20799,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":1800222,"answer_count":5,"score":4,"last_activity_date":1676668108,"creation_date":1259179453,"question_id":1799614,"body_markdown":"I&#39;m currently trying to get Freemarker to work with my application using Spring.  No matter what I try I keep getting template not found.  I am not sure if I have the configuration set up properly, but it never finds my template.  Here is my spring bean config:\r\n\r\n\t&lt;bean id=&quot;freemarkerConfig&quot; class=&quot;org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer&quot;&gt;\r\n  \t\t&lt;property name=&quot;templateLoaderPath&quot; value=&quot;/WEB-INF/freemarker/&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\nWhenever I try to call getTemplate on the freemaker configuration it always sends back a template not found error.  So if I do \r\n\r\n    configuration.getTemplate(&quot;testTemplate.ftl&quot;) \r\n\r\nit always throws an IOException.  \r\n\r\nI&#39;m not sure if anyone has an idea of what I&#39;m doing wrong.\r\n\r\nThanks for all your help!","title":"Freemarker template not found","body":"<p>I'm currently trying to get Freemarker to work with my application using Spring.  No matter what I try I keep getting template not found.  I am not sure if I have the configuration set up properly, but it never finds my template.  Here is my spring bean config:</p>\n\n<pre><code>&lt;bean id=\"freemarkerConfig\" class=\"org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer\"&gt;\n    &lt;property name=\"templateLoaderPath\" value=\"/WEB-INF/freemarker/\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Whenever I try to call getTemplate on the freemaker configuration it always sends back a template not found error.  So if I do </p>\n\n<pre><code>configuration.getTemplate(\"testTemplate.ftl\") \n</code></pre>\n\n<p>it always throws an IOException.  </p>\n\n<p>I'm not sure if anyone has an idea of what I'm doing wrong.</p>\n\n<p>Thanks for all your help!</p>\n"},{"tags":["java","gluon-mobile"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1676662814,"post_id":75488291,"comment_id":133189754,"body_markdown":"Maybe you can try AudioService and moving the [volume handler](https://github.com/gluonhq/attach/blob/master/modules/video/src/main/native/android/dalvik/DalvikVideoService.java#L725) in VideoService to the [MainActivity](https://github.com/gluonhq/substrate/blob/master/src/main/resources/native/android/android_project/app/src/main/java/com/gluonhq/helloandroid/MainActivity.java#L466)? You can give it a try (manually packing the apk after modifying it, as explained [here](https://stackoverflow.com/a/68685263/3956070)).","body":"Maybe you can try AudioService and moving the <a href=\"https://github.com/gluonhq/attach/blob/master/modules/video/src/main/native/android/dalvik/DalvikVideoService.java#L725\" rel=\"nofollow noreferrer\">volume handler</a> in VideoService to the <a href=\"https://github.com/gluonhq/substrate/blob/master/src/main/resources/native/android/android_project/app/src/main/java/com/gluonhq/helloandroid/MainActivity.java#L466\" rel=\"nofollow noreferrer\">MainActivity</a>? You can give it a try (manually packing the apk after modifying it, as explained <a href=\"https://stackoverflow.com/a/68685263/3956070\">here</a>)."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1676667938,"post_id":75488291,"comment_id":133190943,"body_markdown":"@Jos&#233;Pereda At this point it&#39;s easier to add a custom volume controller to the [`volume`](https://docs.gluonhq.com/attach/javadoc/4.0.16/com.gluonhq.attach.audio/com/gluonhq/attach/audio/Audio.html#setVolume(double)) setting.","body":"@Jos&#233;Pereda At this point it&#39;s easier to add a custom volume controller to the <a href=\"https://docs.gluonhq.com/attach/javadoc/4.0.16/com.gluonhq.attach.audio/com/gluonhq/attach/audio/Audio.html#setVolume(double)\" rel=\"nofollow noreferrer\"><code>volume</code></a> setting."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1676668399,"post_id":75488291,"comment_id":133191026,"body_markdown":"Not really, since the keyEvents are dispatched by the TextureView (video) or the SurfaceView (mainActivity), while AudioService doesn&#39;t have access to any of those in order to override `dispatchKeyEvent`.","body":"Not really, since the keyEvents are dispatched by the TextureView (video) or the SurfaceView (mainActivity), while AudioService doesn&#39;t have access to any of those in order to override <code>dispatchKeyEvent</code>."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1676671360,"post_id":75488291,"comment_id":133191604,"body_markdown":"@Jos&#233;Pereda I mean a custom controller as an in-app one, like a slider, without using the volume buttons. It&#39;s not as convenient, but it&#39;s a fraction of the hassle.","body":"@Jos&#233;Pereda I mean a custom controller as an in-app one, like a slider, without using the volume buttons. It&#39;s not as convenient, but it&#39;s a fraction of the hassle."}],"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676667959,"creation_date":1676660194,"question_id":75488291,"body_markdown":"The class that uses the `VideoService`:\r\n\r\n\tprivate final class MobileNotifier {\r\n\r\n\t    private static final String SHORT_BEEP_PATH = &quot;/sounds/ShortBeep.wav&quot;;\r\n\t    private static final String LONG_BEEP_PATH = &quot;/sounds/LongBeep.wav&quot;;\r\n\r\n\t\tVideoService service;\r\n\r\n\t\tMobileNotifier() {\r\n\t\t\tthis.service = VideoService.create().get();\r\n\t\t\tservice.getPlaylist().add(SHORT_BEEP_PATH);\r\n\t\t}\r\n\r\n\t\tpublic void alert(Alert alert) {\r\n\t\t\tswitch (alert) {\r\n\t\t\t\tcase NONE -&gt; {\r\n\t\t\t\t\tSystem.out.println(&quot;NONE: stopping&quot;);\r\n\t\t\t\t\tservice.stop();\r\n\t\t\t\t\tSystem.out.println(&quot;NONE: stopped&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tcase ORANGE -&gt; play(alert, SHORT_BEEP_PATH);\r\n\t\t\t\tcase RED -&gt; play(alert, LONG_BEEP_PATH);\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tprivate void play(Alert alert, String audioPath) {\r\n\t\t\tSystem.out.println(alert);\r\n\t\t\tif (!audioPath.equals(service.getPlaylist().get(0))) {\r\n\t\t\t\tif (service.statusProperty().get() != Status.PLAYING) {\r\n\t\t\t\t\tSystem.out.println(alert + &quot;: not being played - stopping&quot;);\r\n\t\t\t\t\tservice.stop();\r\n\t\t\t\t\tSystem.out.println(alert + &quot;: not being played - stopped&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(alert + &quot;: setting&quot;);\r\n\t\t\t\tservice.getPlaylist().set(0, audioPath);\r\n\t\t\t\tSystem.out.println(alert + &quot;: set&quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(alert + &quot;: playing&quot;);\r\n\t\t\tservice.play();\r\n\t\t\tSystem.out.println(alert + &quot;: played&quot;);\r\n\t\t}\r\n\t}\r\n\r\nThe code switches between audio files to play based on the input it gets. `void alert(Alert alert)` is called about once per second. After a while, the app crashes on Android.\r\n\r\nOne time the crash produced this output with `adb logcat -v brief -v color GraalCompiled:V GraalActivity:V GraalGluon:V GluonAttach:V AndroidRuntime:E ActivityManager:W *:S`:\r\n```\r\nE/AndroidRuntime(29381): FATAL EXCEPTION: main\r\nE/AndroidRuntime(29381): Process: com.gps.demo, PID: 29381\r\nE/AndroidRuntime(29381): java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.media.MediaPlayer.setSurface(android.view.Surface)&#39; on a null object reference\r\nE/AndroidRuntime(29381):        at com.gluonhq.helloandroid.DalvikVideoService.onSurfaceTextureAvailable(DalvikVideoService.java:381)\r\nE/AndroidRuntime(29381):        at android.view.TextureView.getHardwareLayer(TextureView.java:390)\r\nE/AndroidRuntime(29381):        at android.view.TextureView.draw(TextureView.java:339)\r\nE/AndroidRuntime(29381):        at android.view.View.updateDisplayListIfDirty(View.java:19315)\r\nE/AndroidRuntime(29381):        at android.view.View.draw(View.java:20093)\r\nE/AndroidRuntime(29381):        at android.view.ViewGroup.drawChild(ViewGroup.java:4421)\r\nE/AndroidRuntime(29381):        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:4207)\r\nE/AndroidRuntime(29381):        at android.view.View.draw(View.java:20373)\r\nE/AndroidRuntime(29381):        at android.view.View.updateDisplayListIfDirty(View.java:19315)\r\nE/AndroidRuntime(29381):        at android.view.View.draw(View.java:20093)\r\nE/AndroidRuntime(29381):        at android.view.ViewGroup.drawChild(ViewGroup.java:4421)\r\nE/AndroidRuntime(29381):        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:4207)\r\nE/AndroidRuntime(29381):        at android.view.View.draw(View.java:20373)\r\nE/AndroidRuntime(29381):        at com.android.internal.policy.DecorView.draw(DecorView.java:980)\r\nE/AndroidRuntime(29381):        at android.view.View.updateDisplayListIfDirty(View.java:19315)\r\nE/AndroidRuntime(29381):        at android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:686)\r\nE/AndroidRuntime(29381):        at android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:692)\r\nE/AndroidRuntime(29381):        at android.view.ThreadedRenderer.draw(ThreadedRenderer.java:800)\r\nE/AndroidRuntime(29381):        at android.view.ViewRootImpl.draw(ViewRootImpl.java:3496)\r\nE/AndroidRuntime(29381):        at android.view.ViewRootImpl.performDraw(ViewRootImpl.java:3283)\r\nE/AndroidRuntime(29381):        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2818)\r\nE/AndroidRuntime(29381):        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1780)\r\nE/AndroidRuntime(29381):        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7827)\r\nE/AndroidRuntime(29381):        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:911)\r\nE/AndroidRuntime(29381):        at android.view.Choreographer.doCallbacks(Choreographer.java:723)\r\nE/AndroidRuntime(29381):        at android.view.Choreographer.doFrame(Choreographer.java:658)\r\nE/AndroidRuntime(29381):        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:897)\r\nE/AndroidRuntime(29381):        at android.os.Handler.handleCallback(Handler.java:789)\r\nE/AndroidRuntime(29381):        at android.os.Handler.dispatchMessage(Handler.java:98)\r\nE/AndroidRuntime(29381):        at android.os.Looper.loop(Looper.java:164)\r\nE/AndroidRuntime(29381):        at android.app.ActivityThread.main(ActivityThread.java:6944)\r\nE/AndroidRuntime(29381):        at java.lang.reflect.Method.invoke(Native Method)\r\nE/AndroidRuntime(29381):        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\r\nE/AndroidRuntime(29381):        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\r\nW/ActivityManager( 1525): crash : com.gps.demo,0\r\nW/ActivityManager( 1525):   Force finishing activity com.gps.demo/com.gluonhq.helloandroid.MainActivity\r\n```\r\n\r\nWhen trying to look deeper with `adb logcat -v color` a couple of times, I got the crash detailed here: https://pastebin.com/2dLmHaQX (the log is too long to post here).\r\n\r\nIt seems that at some point the video service enters an illegal state. I did not get a crash when using `AudioService`, but that service does not allow changing the volume with the volume keys.\r\n\r\nUsing\r\n```\r\n\t\t&lt;gluonfx-maven-plugin-version&gt;1.0.15&lt;/gluonfx-maven-plugin-version&gt;\r\n\t\t&lt;java-version&gt;17&lt;/java-version&gt;\r\n\t\t&lt;javafx-version&gt;19&lt;/javafx-version&gt;\r\n\t\t&lt;charm-version&gt;6.2.2&lt;/charm-version&gt;\r\n\t\t&lt;attach-version&gt;4.0.15&lt;/attach-version&gt;\r\n```\r\nWith `javafxStaticSdkVersion` 19 and using graalvm-svm-java17-linux-gluon-22.1.0.1-Final.\r\nRunning on Android 8 through 12.","title":"Crash with Gluon Attach Video Service","body":"<p>The class that uses the <code>VideoService</code>:</p>\n<pre><code>private final class MobileNotifier {\n\n    private static final String SHORT_BEEP_PATH = &quot;/sounds/ShortBeep.wav&quot;;\n    private static final String LONG_BEEP_PATH = &quot;/sounds/LongBeep.wav&quot;;\n\n    VideoService service;\n\n    MobileNotifier() {\n        this.service = VideoService.create().get();\n        service.getPlaylist().add(SHORT_BEEP_PATH);\n    }\n\n    public void alert(Alert alert) {\n        switch (alert) {\n            case NONE -&gt; {\n                System.out.println(&quot;NONE: stopping&quot;);\n                service.stop();\n                System.out.println(&quot;NONE: stopped&quot;);\n            }\n            case ORANGE -&gt; play(alert, SHORT_BEEP_PATH);\n            case RED -&gt; play(alert, LONG_BEEP_PATH);\n        };\n    }\n\n    private void play(Alert alert, String audioPath) {\n        System.out.println(alert);\n        if (!audioPath.equals(service.getPlaylist().get(0))) {\n            if (service.statusProperty().get() != Status.PLAYING) {\n                System.out.println(alert + &quot;: not being played - stopping&quot;);\n                service.stop();\n                System.out.println(alert + &quot;: not being played - stopped&quot;);\n            }\n            System.out.println(alert + &quot;: setting&quot;);\n            service.getPlaylist().set(0, audioPath);\n            System.out.println(alert + &quot;: set&quot;);\n        }\n        System.out.println(alert + &quot;: playing&quot;);\n        service.play();\n        System.out.println(alert + &quot;: played&quot;);\n    }\n}\n</code></pre>\n<p>The code switches between audio files to play based on the input it gets. <code>void alert(Alert alert)</code> is called about once per second. After a while, the app crashes on Android.</p>\n<p>One time the crash produced this output with <code>adb logcat -v brief -v color GraalCompiled:V GraalActivity:V GraalGluon:V GluonAttach:V AndroidRuntime:E ActivityManager:W *:S</code>:</p>\n<pre><code>E/AndroidRuntime(29381): FATAL EXCEPTION: main\nE/AndroidRuntime(29381): Process: com.gps.demo, PID: 29381\nE/AndroidRuntime(29381): java.lang.NullPointerException: Attempt to invoke virtual method 'void android.media.MediaPlayer.setSurface(android.view.Surface)' on a null object reference\nE/AndroidRuntime(29381):        at com.gluonhq.helloandroid.DalvikVideoService.onSurfaceTextureAvailable(DalvikVideoService.java:381)\nE/AndroidRuntime(29381):        at android.view.TextureView.getHardwareLayer(TextureView.java:390)\nE/AndroidRuntime(29381):        at android.view.TextureView.draw(TextureView.java:339)\nE/AndroidRuntime(29381):        at android.view.View.updateDisplayListIfDirty(View.java:19315)\nE/AndroidRuntime(29381):        at android.view.View.draw(View.java:20093)\nE/AndroidRuntime(29381):        at android.view.ViewGroup.drawChild(ViewGroup.java:4421)\nE/AndroidRuntime(29381):        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:4207)\nE/AndroidRuntime(29381):        at android.view.View.draw(View.java:20373)\nE/AndroidRuntime(29381):        at android.view.View.updateDisplayListIfDirty(View.java:19315)\nE/AndroidRuntime(29381):        at android.view.View.draw(View.java:20093)\nE/AndroidRuntime(29381):        at android.view.ViewGroup.drawChild(ViewGroup.java:4421)\nE/AndroidRuntime(29381):        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:4207)\nE/AndroidRuntime(29381):        at android.view.View.draw(View.java:20373)\nE/AndroidRuntime(29381):        at com.android.internal.policy.DecorView.draw(DecorView.java:980)\nE/AndroidRuntime(29381):        at android.view.View.updateDisplayListIfDirty(View.java:19315)\nE/AndroidRuntime(29381):        at android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:686)\nE/AndroidRuntime(29381):        at android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:692)\nE/AndroidRuntime(29381):        at android.view.ThreadedRenderer.draw(ThreadedRenderer.java:800)\nE/AndroidRuntime(29381):        at android.view.ViewRootImpl.draw(ViewRootImpl.java:3496)\nE/AndroidRuntime(29381):        at android.view.ViewRootImpl.performDraw(ViewRootImpl.java:3283)\nE/AndroidRuntime(29381):        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2818)\nE/AndroidRuntime(29381):        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1780)\nE/AndroidRuntime(29381):        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7827)\nE/AndroidRuntime(29381):        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:911)\nE/AndroidRuntime(29381):        at android.view.Choreographer.doCallbacks(Choreographer.java:723)\nE/AndroidRuntime(29381):        at android.view.Choreographer.doFrame(Choreographer.java:658)\nE/AndroidRuntime(29381):        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:897)\nE/AndroidRuntime(29381):        at android.os.Handler.handleCallback(Handler.java:789)\nE/AndroidRuntime(29381):        at android.os.Handler.dispatchMessage(Handler.java:98)\nE/AndroidRuntime(29381):        at android.os.Looper.loop(Looper.java:164)\nE/AndroidRuntime(29381):        at android.app.ActivityThread.main(ActivityThread.java:6944)\nE/AndroidRuntime(29381):        at java.lang.reflect.Method.invoke(Native Method)\nE/AndroidRuntime(29381):        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\nE/AndroidRuntime(29381):        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\nW/ActivityManager( 1525): crash : com.gps.demo,0\nW/ActivityManager( 1525):   Force finishing activity com.gps.demo/com.gluonhq.helloandroid.MainActivity\n</code></pre>\n<p>When trying to look deeper with <code>adb logcat -v color</code> a couple of times, I got the crash detailed here: <a href=\"https://pastebin.com/2dLmHaQX\" rel=\"nofollow noreferrer\">https://pastebin.com/2dLmHaQX</a> (the log is too long to post here).</p>\n<p>It seems that at some point the video service enters an illegal state. I did not get a crash when using <code>AudioService</code>, but that service does not allow changing the volume with the volume keys.</p>\n<p>Using</p>\n<pre><code>        &lt;gluonfx-maven-plugin-version&gt;1.0.15&lt;/gluonfx-maven-plugin-version&gt;\n        &lt;java-version&gt;17&lt;/java-version&gt;\n        &lt;javafx-version&gt;19&lt;/javafx-version&gt;\n        &lt;charm-version&gt;6.2.2&lt;/charm-version&gt;\n        &lt;attach-version&gt;4.0.15&lt;/attach-version&gt;\n</code></pre>\n<p>With <code>javafxStaticSdkVersion</code> 19 and using graalvm-svm-java17-linux-gluon-22.1.0.1-Final.\nRunning on Android 8 through 12.</p>\n"},{"tags":["java","android","xml","android-layout","android-constraintlayout"],"comments":[{"owner":{"account_id":20029443,"reputation":297,"user_id":14682570,"display_name":"Dev007"},"score":0,"creation_date":1675925506,"post_id":75394974,"comment_id":133033365,"body_markdown":"Hi, you need to add AdView as a last item right? For example if you have 20 items in list and the 21st item is adview? If yea, you can do with list or recycler adapter add the last item as null or empty value and you have to add all ads related logic in adapter class.","body":"Hi, you need to add AdView as a last item right? For example if you have 20 items in list and the 21st item is adview? If yea, you can do with list or recycler adapter add the last item as null or empty value and you have to add all ads related logic in adapter class."},{"owner":{"account_id":4526516,"reputation":208,"user_id":4013399,"accept_rate":39,"display_name":"Zac1"},"score":0,"creation_date":1675925853,"post_id":75394974,"comment_id":133033446,"body_markdown":"Thanks, but I don&#39;t want that. I actually want the adView in the container activity (activity_results, which contains that listView) - so one adView per page regardless of whether the listView has items or not.","body":"Thanks, but I don&#39;t want that. I actually want the adView in the container activity (activity_results, which contains that listView) - so one adView per page regardless of whether the listView has items or not."},{"owner":{"account_id":20029443,"reputation":297,"user_id":14682570,"display_name":"Dev007"},"score":0,"creation_date":1675939237,"post_id":75394974,"comment_id":133037187,"body_markdown":"In that case, the adview wont show after the last time. It will show once the activity open. You can your linear layout or constraint layout.","body":"In that case, the adview wont show after the last time. It will show once the activity open. You can your linear layout or constraint layout."},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1676299653,"post_id":75394974,"comment_id":133104054,"body_markdown":"Is your &quot;adView&quot; covered by &quot;listView&quot;?","body":"Is your &quot;adView&quot; covered by &quot;listView&quot;?"},{"owner":{"account_id":4526516,"reputation":208,"user_id":4013399,"accept_rate":39,"display_name":"Zac1"},"score":0,"creation_date":1676343628,"post_id":75394974,"comment_id":133113997,"body_markdown":"@UrvishShiroya I&#39;d say the adView is on top of the last item of the listView.","body":"@UrvishShiroya I&#39;d say the adView is on top of the last item of the listView."}],"answers":[{"tags":[],"owner":{"account_id":16418059,"reputation":84,"user_id":12038445,"display_name":"Claudio Galv&#227;o"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676328082,"creation_date":1676328082,"answer_id":75441864,"question_id":75394974,"body_markdown":"I have two pieces of advice for you:\r\n\r\n 1. **Avoid using ListView** (unless you have a fixed amount and few items). Prefer RecyclerView which is so much more performative. Basically, if you have so many items, with RecyclerView, just a certain amount of items will have the layout rendered. With ListView, even the hundredth item will have the layout rendered (even if you can see just the first four items on your screen at a certain moment).\r\n\r\n 2. **Take care about using several nested view groups**. It impacts the performance to render the layout on the device. In general, just a root ConstraintLayout solves all the problems you can face to align the elements.\r\nFor the first layout, because the AppBarLayout needs the CoordinatorLayout to work properly, you can keep the CoordinatorLayout as root and use ConstraintLayout after the AppBarLayout. For the second layout, the same thing. Here is an example:\r\n```\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:padding=&quot;10dp&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/abc&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:paddingBottom=&quot;10dp&quot;\r\n        android:textColor=&quot;@color/design_default_color_primary&quot;\r\n        android:textSize=&quot;14sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/def&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/abc&quot;\r\n        android:textColor=&quot;@color/design_default_color_primary&quot;\r\n        android:textSize=&quot;14sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/ghi&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/def&quot;\r\n        android:text=&quot;&quot;\r\n        android:textColor=&quot;@color/design_default_color_primary&quot;\r\n        android:textSize=&quot;14sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nAbout your problem with the AdView position, try something like this:\r\n```\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;fill_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:padding=&quot;10dp&quot;&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerview&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        tools:itemCount=&quot;@integer/material_motion_duration_long_2&quot;\r\n        tools:layout_editor_absoluteX=&quot;3dp&quot; /&gt;\r\n\r\n    &lt;com.google.android.gms.ads.AdView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/recyclerview&quot;/&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nLet me know if it worked. If you need some more help, contact me.","title":"How to ensure that the Android adView is always displayed after the bottom of the last item in my Android listView?","body":"<p>I have two pieces of advice for you:</p>\n<ol>\n<li><p><strong>Avoid using ListView</strong> (unless you have a fixed amount and few items). Prefer RecyclerView which is so much more performative. Basically, if you have so many items, with RecyclerView, just a certain amount of items will have the layout rendered. With ListView, even the hundredth item will have the layout rendered (even if you can see just the first four items on your screen at a certain moment).</p>\n</li>\n<li><p><strong>Take care about using several nested view groups</strong>. It impacts the performance to render the layout on the device. In general, just a root ConstraintLayout solves all the problems you can face to align the elements.\nFor the first layout, because the AppBarLayout needs the CoordinatorLayout to work properly, you can keep the CoordinatorLayout as root and use ConstraintLayout after the AppBarLayout. For the second layout, the same thing. Here is an example:</p>\n</li>\n</ol>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:padding=&quot;10dp&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/abc&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:paddingBottom=&quot;10dp&quot;\n        android:textColor=&quot;@color/design_default_color_primary&quot;\n        android:textSize=&quot;14sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/def&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/abc&quot;\n        android:textColor=&quot;@color/design_default_color_primary&quot;\n        android:textSize=&quot;14sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/ghi&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/def&quot;\n        android:text=&quot;&quot;\n        android:textColor=&quot;@color/design_default_color_primary&quot;\n        android:textSize=&quot;14sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>About your problem with the AdView position, try something like this:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;fill_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;10dp&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        tools:itemCount=&quot;@integer/material_motion_duration_long_2&quot;\n        tools:layout_editor_absoluteX=&quot;3dp&quot; /&gt;\n\n    &lt;com.google.android.gms.ads.AdView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/recyclerview&quot;/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Let me know if it worked. If you need some more help, contact me.</p>\n"},{"comments":[{"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"score":0,"creation_date":1676570266,"post_id":75476191,"comment_id":133168272,"body_markdown":"if still overlaps , use margins accordingly on co-ordinator layout (marginBottom =&quot;10dp&quot; for example)","body":"if still overlaps , use margins accordingly on co-ordinator layout (marginBottom =&quot;10dp&quot; for example)"}],"tags":[],"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676570089,"creation_date":1676570089,"answer_id":75476191,"question_id":75394974,"body_markdown":"How about wrapping up co-ordinator view group with constraintLayout and putting adview outside of this co-ordinator viewgroup and constrain adview to bottom to the activity layout so that ad view is independent of list view&#39;s data. \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;com.test.test.ResultsActivity&quot;&gt;\r\n    \r\n        &lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/adView&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n            &lt;com.google.android.material.appbar.AppBarLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\r\n    \r\n                &lt;androidx.appcompat.widget.Toolbar\r\n                    android:id=&quot;@+id/toolbar&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                    android:background=&quot;?attr/colorPrimary&quot;\r\n                    app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;\r\n                    app:titleTextAppearance=&quot;@style/ToolbarTitle&quot; /&gt;\r\n    \r\n                &lt;com.google.android.material.tabs.TabLayout\r\n                    android:id=&quot;@+id/tabs&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_centerHorizontal=&quot;true&quot;\r\n                    android:layout_gravity=&quot;center_horizontal&quot;\r\n                    app:tabMaxWidth=&quot;0dp&quot;&gt;\r\n    \r\n                    &lt;com.google.android.material.tabs.TabItem\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;@string/tab_text_1&quot; /&gt;\r\n    \r\n                    &lt;com.google.android.material.tabs.TabItem\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;@string/tab_text_2&quot; /&gt;\r\n                &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n    \r\n            &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    \r\n            &lt;androidx.viewpager.widget.ViewPager\r\n                android:id=&quot;@+id/container&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; /&gt;\r\n    \r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n                xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n                tools:context=&quot;com.test.test.ResultsActivity&quot;&gt;\r\n    \r\n                &lt;ListView\r\n                    android:id=&quot;@+id/listView&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    app:layout_constraintBottom_toTopOf=&quot;@+id/adView&quot;&gt;&lt;/ListView&gt;\r\n    \r\n                \r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n    &lt;com.google.android.gms.ads.AdView \r\n                    android:id=&quot;@+id/adView&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    ads:adSize=&quot;SMART_BANNER&quot;\r\n                    ads:adUnitId=&quot;@string/banner_ad_unit_id&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot; /&gt;\r\n    &lt;/ConstraintLayout&gt;","title":"How to ensure that the Android adView is always displayed after the bottom of the last item in my Android listView?","body":"<p>How about wrapping up co-ordinator view group with constraintLayout and putting adview outside of this co-ordinator viewgroup and constrain adview to bottom to the activity layout so that ad view is independent of list view's data.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;com.test.test.ResultsActivity&quot;&gt;\n\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:layout_width=&quot;match_parent&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/adView&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;com.google.android.material.appbar.AppBarLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\n\n            &lt;androidx.appcompat.widget.Toolbar\n                android:id=&quot;@+id/toolbar&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;?attr/actionBarSize&quot;\n                android:background=&quot;?attr/colorPrimary&quot;\n                app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;\n                app:titleTextAppearance=&quot;@style/ToolbarTitle&quot; /&gt;\n\n            &lt;com.google.android.material.tabs.TabLayout\n                android:id=&quot;@+id/tabs&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_centerHorizontal=&quot;true&quot;\n                android:layout_gravity=&quot;center_horizontal&quot;\n                app:tabMaxWidth=&quot;0dp&quot;&gt;\n\n                &lt;com.google.android.material.tabs.TabItem\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;@string/tab_text_1&quot; /&gt;\n\n                &lt;com.google.android.material.tabs.TabItem\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;@string/tab_text_2&quot; /&gt;\n            &lt;/com.google.android.material.tabs.TabLayout&gt;\n\n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n        &lt;androidx.viewpager.widget.ViewPager\n            android:id=&quot;@+id/container&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; /&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n            tools:context=&quot;com.test.test.ResultsActivity&quot;&gt;\n\n            &lt;ListView\n                android:id=&quot;@+id/listView&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:layout_constraintBottom_toTopOf=&quot;@+id/adView&quot;&gt;&lt;/ListView&gt;\n\n            \n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n&lt;com.google.android.gms.ads.AdView \n                android:id=&quot;@+id/adView&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                ads:adSize=&quot;SMART_BANNER&quot;\n                ads:adUnitId=&quot;@string/banner_ad_unit_id&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot; /&gt;\n&lt;/ConstraintLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":4526516,"reputation":208,"user_id":4013399,"accept_rate":39,"display_name":"Zac1"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676667747,"creation_date":1675924068,"question_id":75394974,"body_markdown":"Here&#39;s the `activity_results` XML layout:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;com.test.test.ResultsActivity&quot;&gt;\r\n    \r\n        &lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n            &lt;com.google.android.material.appbar.AppBarLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\r\n    \r\n                &lt;androidx.appcompat.widget.Toolbar\r\n                    android:id=&quot;@+id/toolbar&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                    android:background=&quot;?attr/colorPrimary&quot;\r\n                    app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;\r\n                    app:titleTextAppearance=&quot;@style/ToolbarTitle&quot; /&gt;\r\n    \r\n                &lt;com.google.android.material.tabs.TabLayout\r\n                    android:id=&quot;@+id/tabs&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_centerHorizontal=&quot;true&quot;\r\n                    android:layout_gravity=&quot;center_horizontal&quot;\r\n                    app:tabMaxWidth=&quot;0dp&quot;&gt;\r\n    \r\n                    &lt;com.google.android.material.tabs.TabItem\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;@string/tab_text_1&quot; /&gt;\r\n    \r\n                    &lt;com.google.android.material.tabs.TabItem\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;@string/tab_text_2&quot; /&gt;\r\n                &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n    \r\n            &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    \r\n            &lt;androidx.viewpager.widget.ViewPager\r\n                android:id=&quot;@+id/container&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; /&gt;\r\n    \r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n                xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n                tools:context=&quot;com.test.test.ResultsActivity&quot;&gt;\r\n    \r\n                &lt;ListView\r\n                    android:id=&quot;@+id/listView&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    app:layout_constraintBottom_toTopOf=&quot;@+id/adView&quot;&gt;&lt;/ListView&gt;\r\n    \r\n                &lt;com.google.android.gms.ads.AdView xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n                    android:id=&quot;@+id/adView&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_alignParentBottom=&quot;true&quot;\r\n                    android:layout_gravity=&quot;center|bottom&quot;\r\n                    ads:adSize=&quot;SMART_BANNER&quot;\r\n                    ads:adUnitId=&quot;@string/banner_ad_unit_id&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot; /&gt;\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nAnd, here&#39;s the `content_results.xml` layout:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:padding=&quot;@dimen/activity_horizontal_margin&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/abc&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingBottom=&quot;10dip&quot;\r\n            android:textColor=&quot;@color/colorAccent&quot;\r\n            android:textSize=&quot;14sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/def&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;&quot;\r\n                android:textColor=&quot;@color/colorPrimary&quot;\r\n                android:textSize=&quot;14sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n        &lt;/RelativeLayout&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/ghi&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;&quot;\r\n            android:textColor=&quot;@color/colorPrimary&quot;\r\n            android:textSize=&quot;14sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\nI want to have the `adView` item at the bottom of the last element of the `listView`. Is this possible with the layouts I currently have? Because it looks like the `adView` in the `activity_results` has no relation to the list items in the `content_results` file?\r\n\r\nI&#39;ve also tried `app:layout_constraintBottom_toTopOf` attribute to position the `adView` below the `ListView`, but there seems to be no change.\r\n\r\nPlease let me know if you can catch any other basic errors in these layouts? ","title":"How to ensure that the Android adView is always displayed after the bottom of the last item in my Android listView?","body":"<p>Here's the <code>activity_results</code> XML layout:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;com.test.test.ResultsActivity&quot;&gt;\n\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;com.google.android.material.appbar.AppBarLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\n\n            &lt;androidx.appcompat.widget.Toolbar\n                android:id=&quot;@+id/toolbar&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;?attr/actionBarSize&quot;\n                android:background=&quot;?attr/colorPrimary&quot;\n                app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;\n                app:titleTextAppearance=&quot;@style/ToolbarTitle&quot; /&gt;\n\n            &lt;com.google.android.material.tabs.TabLayout\n                android:id=&quot;@+id/tabs&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_centerHorizontal=&quot;true&quot;\n                android:layout_gravity=&quot;center_horizontal&quot;\n                app:tabMaxWidth=&quot;0dp&quot;&gt;\n\n                &lt;com.google.android.material.tabs.TabItem\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;@string/tab_text_1&quot; /&gt;\n\n                &lt;com.google.android.material.tabs.TabItem\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;@string/tab_text_2&quot; /&gt;\n            &lt;/com.google.android.material.tabs.TabLayout&gt;\n\n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n        &lt;androidx.viewpager.widget.ViewPager\n            android:id=&quot;@+id/container&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; /&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n            tools:context=&quot;com.test.test.ResultsActivity&quot;&gt;\n\n            &lt;ListView\n                android:id=&quot;@+id/listView&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:layout_constraintBottom_toTopOf=&quot;@+id/adView&quot;&gt;&lt;/ListView&gt;\n\n            &lt;com.google.android.gms.ads.AdView xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\n                android:id=&quot;@+id/adView&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_alignParentBottom=&quot;true&quot;\n                android:layout_gravity=&quot;center|bottom&quot;\n                ads:adSize=&quot;SMART_BANNER&quot;\n                ads:adUnitId=&quot;@string/banner_ad_unit_id&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>And, here's the <code>content_results.xml</code> layout:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;fill_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;@dimen/activity_horizontal_margin&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/abc&quot;\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:paddingBottom=&quot;10dip&quot;\n        android:textColor=&quot;@color/colorAccent&quot;\n        android:textSize=&quot;14sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/def&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;&quot;\n            android:textColor=&quot;@color/colorPrimary&quot;\n            android:textSize=&quot;14sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n    &lt;/RelativeLayout&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/ghi&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;&quot;\n        android:textColor=&quot;@color/colorPrimary&quot;\n        android:textSize=&quot;14sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I want to have the <code>adView</code> item at the bottom of the last element of the <code>listView</code>. Is this possible with the layouts I currently have? Because it looks like the <code>adView</code> in the <code>activity_results</code> has no relation to the list items in the <code>content_results</code> file?</p>\n<p>I've also tried <code>app:layout_constraintBottom_toTopOf</code> attribute to position the <code>adView</code> below the <code>ListView</code>, but there seems to be no change.</p>\n<p>Please let me know if you can catch any other basic errors in these layouts?</p>\n"},{"tags":["java","selenium-webdriver","action"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1676666180,"post_id":75489020,"comment_id":133190573,"body_markdown":"I don&#39;t find the element with text as **Tickets** in the spashot. Additionally, please read why a [screenshot of HTML or code or error is a bad idea](https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors). You may like to consider updating the Question with formatted text based relevant HTML, code trials and error stack trace.","body":"I don&#39;t find the element with text as <b>Tickets</b> in the spashot. Additionally, please read why a <a href=\"https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\">screenshot of HTML or code or error is a bad idea</a>. You may like to consider updating the Question with formatted text based relevant HTML, code trials and error stack trace."},{"owner":{"account_id":9014912,"reputation":398,"user_id":6718145,"accept_rate":33,"display_name":"RAHUL"},"score":0,"creation_date":1676666339,"post_id":75489020,"comment_id":133190603,"body_markdown":"added the html for &quot;tickets&quot;","body":"added the html for &quot;tickets&quot;"}],"answers":[{"comments":[{"owner":{"account_id":9014912,"reputation":398,"user_id":6718145,"accept_rate":33,"display_name":"RAHUL"},"score":0,"creation_date":1676670466,"post_id":75489141,"comment_id":133191453,"body_markdown":"i am getting an error:-\njava: incompatible types: java.time.Duration cannot be converted to long","body":"i am getting an error:- java: incompatible types: java.time.Duration cannot be converted to long"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1676670750,"post_id":75489141,"comment_id":133191496,"body_markdown":"Nopes, why would you convert it to `Duration.ofLong()`? Not needed really, use as it is `Duration.ofSeconds(5)`. Seems your framework issue.","body":"Nopes, why would you convert it to <code>Duration.ofLong()</code>? Not needed really, use as it is <code>Duration.ofSeconds(5)</code>. Seems your framework issue."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676667580,"creation_date":1676667050,"answer_id":75489141,"question_id":75489020,"body_markdown":"To [_**Mouse Hover**_](https://stackoverflow.com/a/47261894/7429447) over the element with text as _**Tickets**_ and then to click on the element with text as _**Statuses**_ you can use the following [_locator strategies_](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver):\r\n\r\n\tWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(5));\r\n\tWebElement tickets = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[@title=&#39;Tickets&#39;]&quot;)));\r\n\tActions actions = new Actions(driver);\r\n\tactions.moveToElement(tickets).build().perform();\r\n\twait.until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;Statuses&quot;))).click();\r\n\r\nOptimizing the code you can use:\r\n\r\n\tnew Actions(driver).moveToElement(new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[@title=&#39;Tickets&#39;]&quot;)))).build().perform();\r\n\tnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a[@class=&#39;ember-view&#39; and text()=&#39;Statuses&#39;]&quot;))).click();","title":"Selenium Webriver:- How to click on this link?","body":"<p>To <a href=\"https://stackoverflow.com/a/47261894/7429447\"><em><strong>Mouse Hover</strong></em></a> over the element with text as <em><strong>Tickets</strong></em> and then to click on the element with text as <em><strong>Statuses</strong></em> you can use the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver\"><em>locator strategies</em></a>:</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(5));\nWebElement tickets = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[@title='Tickets']&quot;)));\nActions actions = new Actions(driver);\nactions.moveToElement(tickets).build().perform();\nwait.until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;Statuses&quot;))).click();\n</code></pre>\n<p>Optimizing the code you can use:</p>\n<pre><code>new Actions(driver).moveToElement(new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[@title='Tickets']&quot;)))).build().perform();\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a[@class='ember-view' and text()='Statuses']&quot;))).click();\n</code></pre>\n"}],"owner":{"account_id":9014912,"reputation":398,"user_id":6718145,"accept_rate":33,"display_name":"RAHUL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676667580,"creation_date":1676665962,"question_id":75489020,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nI have to take cursor on &quot;Tickets&quot; link and then click on the &quot;Statuses&quot;.\r\nAs soon as i take cursor outside this window/frame this screen gets closes and i again have to take cursor on &quot;Tickets&quot; link.\r\n\r\nHTML is:-\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2i1rg.png\r\n  [2]: https://i.stack.imgur.com/yXqVB.png\r\n  [3]: https://i.stack.imgur.com/AbdRy.png","title":"Selenium Webriver:- How to click on this link?","body":"<p><a href=\"https://i.stack.imgur.com/2i1rg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2i1rg.png\" alt=\"enter image description here\" /></a></p>\n<p>I have to take cursor on &quot;Tickets&quot; link and then click on the &quot;Statuses&quot;.\nAs soon as i take cursor outside this window/frame this screen gets closes and i again have to take cursor on &quot;Tickets&quot; link.</p>\n<p>HTML is:-\n<a href=\"https://i.stack.imgur.com/yXqVB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yXqVB.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/AbdRy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AbdRy.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","mediastore"],"comments":[{"owner":{"account_id":1155018,"reputation":573,"user_id":1135866,"accept_rate":92,"display_name":"VCODE"},"score":0,"creation_date":1676668744,"post_id":75489153,"comment_id":133191091,"body_markdown":"I don&#39;t think there&#39;s a way around it, i.e: without asking for permission from the user. Also, check this answer: https://stackoverflow.com/a/28183933/1135866","body":"I don&#39;t think there&#39;s a way around it, i.e: without asking for permission from the user. Also, check this answer: <a href=\"https://stackoverflow.com/a/28183933/1135866\">stackoverflow.com/a/28183933/1135866</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676672544,"post_id":75489153,"comment_id":133191815,"body_markdown":"`However, on Android &lt; 10, the download URI is not avaiable in the MediaStore API,` ? Which uri?  What do you mean? Where are you talking about?","body":"<code>However, on Android &lt; 10, the download URI is not avaiable in the MediaStore API,</code> ? Which uri?  What do you mean? Where are you talking about?"},{"owner":{"account_id":15206457,"reputation":133,"user_id":10972726,"display_name":"MichiBros"},"score":0,"creation_date":1676673143,"post_id":75489153,"comment_id":133191918,"body_markdown":"The entire MediaStore.Downloads class was added only in API 29. Check this out: https://developer.android.com/reference/android/provider/MediaStore.Downloads","body":"The entire MediaStore.Downloads class was added only in API 29. Check this out: <a href=\"https://developer.android.com/reference/android/provider/MediaStore.Downloads\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/provider/&hellip;</a>"}],"owner":{"account_id":15206457,"reputation":133,"user_id":10972726,"display_name":"MichiBros"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676667201,"creation_date":1676667201,"question_id":75489153,"body_markdown":"I have a file transfer app that needs to save the files it received in the Download folder.\r\nOn Android &gt;= 10, MediaStore makes this extremely easy, since it provides a direct method for creating entries in the download folder, without any special permission.\r\n\r\nHowever, on Android &lt; 10, the download URI is not avaiable in the MediaStore API, and I have to rely on the old method for saving files, which requires the WRITE_EXTERNAL_STORAGE permission with consequent popup for asking it.\r\n\r\nIs there any way around this? Maybe some kind of support library that brings the Download URI back to older versions of Android?","title":"Save file in Downloads folder without WRITE_STORAGE permission on Android &lt; 10","body":"<p>I have a file transfer app that needs to save the files it received in the Download folder.\nOn Android &gt;= 10, MediaStore makes this extremely easy, since it provides a direct method for creating entries in the download folder, without any special permission.</p>\n<p>However, on Android &lt; 10, the download URI is not avaiable in the MediaStore API, and I have to rely on the old method for saving files, which requires the WRITE_EXTERNAL_STORAGE permission with consequent popup for asking it.</p>\n<p>Is there any way around this? Maybe some kind of support library that brings the Download URI back to older versions of Android?</p>\n"},{"tags":["java","debugging","intellij-idea"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1320875530,"post_id":8072189,"comment_id":9891185,"body_markdown":"Haven&#39;t seen that behavior; have you tried a complete clean &amp; rebuild?","body":"Haven&#39;t seen that behavior; have you tried a complete clean &amp; rebuild?"},{"owner":{"account_id":242066,"reputation":17256,"user_id":513342,"accept_rate":85,"display_name":"Oleg Mikheev"},"score":3,"creation_date":1320875867,"post_id":8072189,"comment_id":9891270,"body_markdown":"are you tracing your own source, or the sources of some library? the problem could be several versions of the same library in the classpath","body":"are you tracing your own source, or the sources of some library? the problem could be several versions of the same library in the classpath"},{"owner":{"account_id":6121142,"reputation":1811,"user_id":7338454,"accept_rate":88,"display_name":"johnny_mac"},"score":0,"creation_date":1570330197,"post_id":8072189,"comment_id":102877549,"body_markdown":"Have you confirmed it is actually not linking to the correct source, or is it linking but skipping over certain code you are trying to debug? I ask as I experienced the same due to intellij not stepping into lambda functions. Some code refactoring made stepping through easier. If however, you do not see any changes reflected at all, feel free to disregard this comment.","body":"Have you confirmed it is actually not linking to the correct source, or is it linking but skipping over certain code you are trying to debug? I ask as I experienced the same due to intellij not stepping into lambda functions. Some code refactoring made stepping through easier. If however, you do not see any changes reflected at all, feel free to disregard this comment."}],"answers":[{"comments":[{"owner":{"account_id":940484,"reputation":22724,"user_id":968632,"accept_rate":100,"display_name":"Guillaume"},"score":1,"creation_date":1320917157,"post_id":8072224,"comment_id":9898397,"body_markdown":"I agree, it&#39;s probably the problem - I&#39;d try to check the &quot;make&quot; checkbox on the run configuration (&quot;Before launch&quot; section) used to debug","body":"I agree, it&#39;s probably the problem - I&#39;d try to check the &quot;make&quot; checkbox on the run configuration (&quot;Before launch&quot; section) used to debug"},{"owner":{"account_id":332582,"reputation":1197,"user_id":657970,"display_name":"MalsR"},"score":1,"creation_date":1320938671,"post_id":8072224,"comment_id":9904920,"body_markdown":"@pcalcao Yeah your right, I also had similar issues sometime back with this where the debugger complained that no source can be found. It is similar to starting the debugger and then changing some code when the mismatch happens. I think as the guys suggested build the project and this will solve it.","body":"@pcalcao Yeah your right, I also had similar issues sometime back with this where the debugger complained that no source can be found. It is similar to starting the debugger and then changing some code when the mismatch happens. I think as the guys suggested build the project and this will solve it."}],"tags":[],"owner":{"account_id":191938,"reputation":15835,"user_id":432806,"accept_rate":100,"display_name":"pcalcao"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1320875509,"creation_date":1320875509,"answer_id":8072224,"question_id":8072189,"body_markdown":"The only thing I can think of is that the current compiled classes don&#39;t match the Source you&#39;re using to debug.\r\nWhat happens in this circumstances is that IntelliJ (or any other IDE), gets the debug information from the classes, regarding things like line numbers, and then maps it to the current source you&#39;re viewing, to show you what code is being executed. \r\n\r\nIf the code is outdated, or the versions (the source code and the compiled class) mismatch in any way, it can happen that the debugged is giving the IDE information to show a certain line, but that information is not correct giving the current source code, which might cause what appears to be the debugged &quot;jumping&quot; lines or simply stopping in places that don&#39;t make much sense. \r\n\r\nHave you rebuilt your project? Are those sources from classes in a Jar, and are you sure the versions match?\r\n\r\nHope it helps!","title":"Why does IntelliJ debugger skip lines when debugging?","body":"<p>The only thing I can think of is that the current compiled classes don't match the Source you're using to debug.\nWhat happens in this circumstances is that IntelliJ (or any other IDE), gets the debug information from the classes, regarding things like line numbers, and then maps it to the current source you're viewing, to show you what code is being executed. </p>\n\n<p>If the code is outdated, or the versions (the source code and the compiled class) mismatch in any way, it can happen that the debugged is giving the IDE information to show a certain line, but that information is not correct giving the current source code, which might cause what appears to be the debugged \"jumping\" lines or simply stopping in places that don't make much sense. </p>\n\n<p>Have you rebuilt your project? Are those sources from classes in a Jar, and are you sure the versions match?</p>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":3801282,"reputation":4355,"user_id":3154872,"accept_rate":25,"display_name":"mancini0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468338139,"creation_date":1468337721,"answer_id":38333291,"question_id":8072189,"body_markdown":"You can configure IntelliJ to use the Eclipse java compiler, which may solve your issue. From the below link:\r\n\r\nhttps://youtrack.jetbrains.com/issue/IDEA-8021\r\n\r\n&quot;\r\nThis is not the first report about well-known old javac problem: for some try/catch and if/else structures it generates several bytecode instructions, which are wrongly associated with line numbers. So when stepping, debugger encounters jump instruction with the different line number and decides to stop at it (because the line number has changed). The javac shouldn&#39;t have assigned the different line number to that instruction. \r\n\r\nYou see different behaviour in Eclipse only because it uses its own compiler which is free from this problem. You&#39;ll see exactly the described behavour if you configure Eclipse to use javac for compilation. Alternatively, you can set IDEA to use eclipse compiler to workaround the problem (applicable only to current EAP version - builds 5xxx - which has integration with eclipse compiler)&quot;\r\n\r\nAlso see this Q regarding configuring Maven to use the Eclipse compiler:\r\n\r\nhttps://stackoverflow.com/questions/33164976/using-eclipse-java-compiler-ecj-in-maven-builds\r\n\r\n","title":"Why does IntelliJ debugger skip lines when debugging?","body":"<p>You can configure IntelliJ to use the Eclipse java compiler, which may solve your issue. From the below link:</p>\n\n<p><a href=\"https://youtrack.jetbrains.com/issue/IDEA-8021\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-8021</a></p>\n\n<p>\"\nThis is not the first report about well-known old javac problem: for some try/catch and if/else structures it generates several bytecode instructions, which are wrongly associated with line numbers. So when stepping, debugger encounters jump instruction with the different line number and decides to stop at it (because the line number has changed). The javac shouldn't have assigned the different line number to that instruction. </p>\n\n<p>You see different behaviour in Eclipse only because it uses its own compiler which is free from this problem. You'll see exactly the described behavour if you configure Eclipse to use javac for compilation. Alternatively, you can set IDEA to use eclipse compiler to workaround the problem (applicable only to current EAP version - builds 5xxx - which has integration with eclipse compiler)\"</p>\n\n<p>Also see this Q regarding configuring Maven to use the Eclipse compiler:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/33164976/using-eclipse-java-compiler-ecj-in-maven-builds\">Using Eclipse Java Compiler (ecj) in maven builds</a></p>\n"},{"tags":[],"owner":{"account_id":192101,"reputation":1554,"user_id":433061,"accept_rate":100,"display_name":"bdetweiler"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549906625,"creation_date":1546533121,"answer_id":54026264,"question_id":8072189,"body_markdown":"I&#39;ve been fighting with a similar issue with a Gradle-based project. I have tried every combination of File -&gt; Synchronize, Build -&gt; Clean project, `gradle clean build`, etc. Deleted the .gradle cache. Decompiled the .class file and it looked like the correct version.\r\n\r\nUltimately, I just ended up removing all the `build` and `out` directories in the project, tried running the test again and finally picked up the current source version.\r\n\r\nI remember in Eclipse I always had to deal with the [Eclipse Dance](http://underlap.blogspot.com/2011/10/eclipse-dance-steps.html). I guess this is IntelliJ&#39;s version of that.\r\n\r\nUPDATE: I&#39;ve found this to be a randomly recurring issue so I created an alias to do the deletes if you&#39;re running a Bash-equivalent. Just set the alias in your `.bashrc` or `.zshrc` and run `deletebuilds` within your project directory:\r\n\r\n```\r\nalias deletebuilds=&#39;find . | egrep &quot;\\.class$&quot; | sed -e &quot;s/\\/build\\/.*/\\/build\\//&quot; | sort | uniq | xargs rm -rf&#39;\r\n```\r\n\r\nThis assumes your compiled class files are going into a `build` directory. Modify the `sed` part if they&#39;re going somewhere else.","title":"Why does IntelliJ debugger skip lines when debugging?","body":"<p>I've been fighting with a similar issue with a Gradle-based project. I have tried every combination of File -> Synchronize, Build -> Clean project, <code>gradle clean build</code>, etc. Deleted the .gradle cache. Decompiled the .class file and it looked like the correct version.</p>\n\n<p>Ultimately, I just ended up removing all the <code>build</code> and <code>out</code> directories in the project, tried running the test again and finally picked up the current source version.</p>\n\n<p>I remember in Eclipse I always had to deal with the <a href=\"http://underlap.blogspot.com/2011/10/eclipse-dance-steps.html\" rel=\"nofollow noreferrer\">Eclipse Dance</a>. I guess this is IntelliJ's version of that.</p>\n\n<p>UPDATE: I've found this to be a randomly recurring issue so I created an alias to do the deletes if you're running a Bash-equivalent. Just set the alias in your <code>.bashrc</code> or <code>.zshrc</code> and run <code>deletebuilds</code> within your project directory:</p>\n\n<pre><code>alias deletebuilds='find . | egrep \"\\.class$\" | sed -e \"s/\\/build\\/.*/\\/build\\//\" | sort | uniq | xargs rm -rf'\n</code></pre>\n\n<p>This assumes your compiled class files are going into a <code>build</code> directory. Modify the <code>sed</code> part if they're going somewhere else.</p>\n"},{"tags":[],"owner":{"account_id":3210182,"reputation":535,"user_id":2710335,"display_name":"Northnroro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552896444,"creation_date":1552896444,"answer_id":55216946,"question_id":8072189,"body_markdown":"This problem could be similar to this issue [https://intellij-support.jetbrains.com/hc/en-us/community/posts/206170749-IDEA-14-1-1-debugger-using-decompiled-code-instead-of-source-code][1].\r\n\r\nIn `Project Structure (Ctrl+Alt+Shift+S) &gt; Modules`, if you have added any jar of the debugged module to any another module&#39;s dependencies, Intellij might use the decompiled version of that jar instead of the latest source code, so the execution will pause at a breakpoint in the decompiled version instead. This problem can occur even when the debugged module is called from other modules that do not depend on the debugged one.\r\n\r\nTo solve this, simply remove the jar of the debugged module from all modules&#39; dependencies in the Project Structure. If you do not know which modules have the debugged module jar as dependencies, you can use some tools (Eg. Sublime Text, bash, ...) to search for the module name which is stored in Intellij `*.iml` file in each module. Once removing, you may need to `Sync the project` and do `Maven &gt; Reimport`.\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/206170749-IDEA-14-1-1-debugger-using-decompiled-code-instead-of-source-code","title":"Why does IntelliJ debugger skip lines when debugging?","body":"<p>This problem could be similar to this issue <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/206170749-IDEA-14-1-1-debugger-using-decompiled-code-instead-of-source-code\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/206170749-IDEA-14-1-1-debugger-using-decompiled-code-instead-of-source-code</a>.</p>\n\n<p>In <code>Project Structure (Ctrl+Alt+Shift+S) &gt; Modules</code>, if you have added any jar of the debugged module to any another module's dependencies, Intellij might use the decompiled version of that jar instead of the latest source code, so the execution will pause at a breakpoint in the decompiled version instead. This problem can occur even when the debugged module is called from other modules that do not depend on the debugged one.</p>\n\n<p>To solve this, simply remove the jar of the debugged module from all modules' dependencies in the Project Structure. If you do not know which modules have the debugged module jar as dependencies, you can use some tools (Eg. Sublime Text, bash, ...) to search for the module name which is stored in Intellij <code>*.iml</code> file in each module. Once removing, you may need to <code>Sync the project</code> and do <code>Maven &gt; Reimport</code>.</p>\n"},{"tags":[],"owner":{"account_id":3691447,"reputation":6845,"user_id":3073945,"accept_rate":90,"display_name":"Md. Sajedul Karim"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1595227185,"creation_date":1595227185,"answer_id":62989865,"question_id":8072189,"body_markdown":"I fetched same problem. You can follow bellow steps:\r\n\r\n 1. Delete Build/Target folder\r\n 2. Close project from file and \r\n 3. Open project from Recent projects.\r\n 4. Debug again. Now debugger will hit your debug pointer location\r\n\r\nThanks :)","title":"Why does IntelliJ debugger skip lines when debugging?","body":"<p>I fetched same problem. You can follow bellow steps:</p>\n<ol>\n<li>Delete Build/Target folder</li>\n<li>Close project from file and</li>\n<li>Open project from Recent projects.</li>\n<li>Debug again. Now debugger will hit your debug pointer location</li>\n</ol>\n<p>Thanks :)</p>\n"},{"tags":[],"owner":{"account_id":8607564,"reputation":912,"user_id":6447189,"display_name":"Melissa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667429099,"creation_date":1667429099,"answer_id":74296380,"question_id":8072189,"body_markdown":"In my case, breakpoint/debugger wasn&#39;t working for Foo.java only. Turns out Foo.java was mocked in my test (`@MockBean`).","title":"Why does IntelliJ debugger skip lines when debugging?","body":"<p>In my case, breakpoint/debugger wasn't working for Foo.java only. Turns out Foo.java was mocked in my test (<code>@MockBean</code>).</p>\n"},{"tags":[],"owner":{"account_id":4234133,"reputation":323,"user_id":3465795,"display_name":"Steve T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676067926,"creation_date":1676052786,"answer_id":75414724,"question_id":8072189,"body_markdown":"I am working on a project that has multiple modules. The test class in module B is used to run a test, during which code found in module A is invoked. My problem was that when I added new code to a class in module A, and I tried to debug the new code, the debugger would instead use a .class file, and my changes were ignored by the debugger. I tried many things, but it turned out to be a rather simple resolution. First, I went to File &gt; Project Structure &gt; Project Settings &gt; Modules. In the list of modules, I selected module B. Then I selected the Dependencies tab. There is a list of dependencies in this tab. In order for the test class in module B to see the class under test in module A, I had to click the plus sign (+), to add a new dependency to the list. A list of modules and submodules were shown. I selected the submodule in module A that contained the class I wanted to debug, and I clicked ok. Now the submodule that I selected was shown in the dependencies list. I moved this submodule to just below where it says &quot;module source&quot;, then I clicked apply and ok to close the Project Settings. When I reran the debugger, now the test in module B could &quot;see&quot; the code changes in module A, and after the debug action did a rebuild, I could proceed to debug as normal. ","title":"Why does IntelliJ debugger skip lines when debugging?","body":"<p>I am working on a project that has multiple modules. The test class in module B is used to run a test, during which code found in module A is invoked. My problem was that when I added new code to a class in module A, and I tried to debug the new code, the debugger would instead use a .class file, and my changes were ignored by the debugger. I tried many things, but it turned out to be a rather simple resolution. First, I went to File &gt; Project Structure &gt; Project Settings &gt; Modules. In the list of modules, I selected module B. Then I selected the Dependencies tab. There is a list of dependencies in this tab. In order for the test class in module B to see the class under test in module A, I had to click the plus sign (+), to add a new dependency to the list. A list of modules and submodules were shown. I selected the submodule in module A that contained the class I wanted to debug, and I clicked ok. Now the submodule that I selected was shown in the dependencies list. I moved this submodule to just below where it says &quot;module source&quot;, then I clicked apply and ok to close the Project Settings. When I reran the debugger, now the test in module B could &quot;see&quot; the code changes in module A, and after the debug action did a rebuild, I could proceed to debug as normal.</p>\n"}],"owner":{"account_id":951375,"reputation":391,"user_id":977463,"display_name":"jkarm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43312,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":7,"score":14,"last_activity_date":1676666086,"creation_date":1320875336,"question_id":8072189,"body_markdown":"I am trying to switch to over to IntelliJ but when I load up my projects the debugger appear to be skipping lines and not tracking the actual source when I try to step through. I know this is a vague problem but does anyone know about issues that cause IntelliJ to link improperly to source code when debugging?","title":"Why does IntelliJ debugger skip lines when debugging?","body":"<p>I am trying to switch to over to IntelliJ but when I load up my projects the debugger appear to be skipping lines and not tracking the actual source when I try to step through. I know this is a vague problem but does anyone know about issues that cause IntelliJ to link improperly to source code when debugging?</p>\n"},{"tags":["java","spring","spring-boot","gradle","spring-test"],"answers":[{"tags":[],"owner":{"account_id":16812688,"reputation":142,"user_id":12155325,"display_name":"dilbert2219"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676665730,"creation_date":1676665730,"answer_id":75488998,"question_id":75479290,"body_markdown":"So, I added ```testImplementation &#39;com.h2database:h2&#39; ``` and everything came to order.\r\n\r\nI was getting datasource dependency issue before.","title":"Spring Boot Actuators and CORS Configuration test failing because DB Props are not provided","body":"<p>So, I added <code>testImplementation 'com.h2database:h2' </code> and everything came to order.</p>\n<p>I was getting datasource dependency issue before.</p>\n"}],"owner":{"account_id":16812688,"reputation":142,"user_id":12155325,"display_name":"dilbert2219"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676665730,"creation_date":1676594675,"question_id":75479290,"body_markdown":"My Spring Boot application is configured with a Datasource and I have implemented CORS Configs and HttpSecurity .antMatchers for authorizing request.\r\n\r\nThe application seemed to have been working fine - i.e building and testing and launching when I put plain text db passwords in the props file.\r\n\r\nEver since I moved the creds into a [CREDHUB][1] service - the builds fail locally (```I remediated that by adding a test active profile in my gradle file which uses an uncommited props file - which actually has the plain text db user and pwd```) which uses  on Jenkins because the actuator and CORS tests started failing, as Jenkins is not configured to access CREDHUB.\r\n\r\nSo, my question is:\r\n\r\nWith this setup, the test seems to bring up the whole application, thus trying to connect to a running database - whose credentials are unavailable locally.\r\nThe test won&#39;t start properly because the datasource properties prefixed with db are not provided.\r\nHow can I start this test without bringing up the database connection?\r\n\r\n\r\n```app.yml ```\r\n```\r\nspring:\r\n  datasource:\r\n    driver-class-name: org.abc.jdbc.Driver\r\n    username: ${db.username}\r\n    password: ${db.password}\r\n    url: jdbc:abc://${db.host}:${db.port}/${db.schema}\r\n```\r\n\r\n```ActuatorSecurityTest.Java```\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest(webEnvironment = RANDOM_PORT)\r\n@Import(ExceptionHandlerConfiguration.class)\r\n@AutoConfigureWebTestClient(timeout = &quot;30000&quot;)\r\nclass ActuatorsSecurityTest {\r\n    @Autowired\r\n    private WebTestClient webClient;\r\n\r\n    /***********************************************************************************************\r\n     * ENDPOINTS: Actuator\r\n     ***********************************************************************************************/\r\n\r\n    @Test\r\n    void should_allowActuatorInfoEndpoint_withoutAuthentication() {\r\n        webClient.get().uri(&quot;/actuator/info&quot;).exchange().expectStatus().is2xxSuccessful();\r\n    }\r\n\r\n    @Test\r\n    void should_notAllowSensitiveActuatorEndpoints_withInValidAuthentication() {\r\n        webClient.get().uri(&quot;/actuator/env&quot;).header(&quot;Authorization&quot;, &quot;Basic xxx&quot;).exchange().expectStatus().is4xxClientError();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.cloudfoundry.org/credhub/","title":"Spring Boot Actuators and CORS Configuration test failing because DB Props are not provided","body":"<p>My Spring Boot application is configured with a Datasource and I have implemented CORS Configs and HttpSecurity .antMatchers for authorizing request.</p>\n<p>The application seemed to have been working fine - i.e building and testing and launching when I put plain text db passwords in the props file.</p>\n<p>Ever since I moved the creds into a <a href=\"https://docs.cloudfoundry.org/credhub/\" rel=\"nofollow noreferrer\">CREDHUB</a> service - the builds fail locally (<code>I remediated that by adding a test active profile in my gradle file which uses an uncommited props file - which actually has the plain text db user and pwd</code>) which uses  on Jenkins because the actuator and CORS tests started failing, as Jenkins is not configured to access CREDHUB.</p>\n<p>So, my question is:</p>\n<p>With this setup, the test seems to bring up the whole application, thus trying to connect to a running database - whose credentials are unavailable locally.\nThe test won't start properly because the datasource properties prefixed with db are not provided.\nHow can I start this test without bringing up the database connection?</p>\n<p><code>app.yml </code></p>\n<pre><code>spring:\n  datasource:\n    driver-class-name: org.abc.jdbc.Driver\n    username: ${db.username}\n    password: ${db.password}\n    url: jdbc:abc://${db.host}:${db.port}/${db.schema}\n</code></pre>\n<p><code>ActuatorSecurityTest.Java</code></p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(webEnvironment = RANDOM_PORT)\n@Import(ExceptionHandlerConfiguration.class)\n@AutoConfigureWebTestClient(timeout = &quot;30000&quot;)\nclass ActuatorsSecurityTest {\n    @Autowired\n    private WebTestClient webClient;\n\n    /***********************************************************************************************\n     * ENDPOINTS: Actuator\n     ***********************************************************************************************/\n\n    @Test\n    void should_allowActuatorInfoEndpoint_withoutAuthentication() {\n        webClient.get().uri(&quot;/actuator/info&quot;).exchange().expectStatus().is2xxSuccessful();\n    }\n\n    @Test\n    void should_notAllowSensitiveActuatorEndpoints_withInValidAuthentication() {\n        webClient.get().uri(&quot;/actuator/env&quot;).header(&quot;Authorization&quot;, &quot;Basic xxx&quot;).exchange().expectStatus().is4xxClientError();\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","database","random","h2"],"comments":[{"owner":{"account_id":161745,"reputation":49245,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":1,"creation_date":1358167129,"post_id":14316500,"comment_id":19894599,"body_markdown":"H2 does support row ids (`select _rowid_ from sample`, same as SQLite). But using the ID column works with all databases, so this is the preferred solution.","body":"H2 does support row ids (<code>select _rowid_ from sample</code>, same as SQLite). But using the ID column works with all databases, so this is the preferred solution."}],"answers":[{"tags":[],"owner":{"account_id":67756,"reputation":5083,"user_id":198087,"accept_rate":70,"display_name":"Archer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358158846,"creation_date":1358158846,"answer_id":14316597,"question_id":14316500,"body_markdown":"You should use column `id` instead of `rowid`. Column `id` exists in your table and is `auto_increment`.","title":"Selecting random rows from a big table in H2 database","body":"<p>You should use column <code>id</code> instead of <code>rowid</code>. Column <code>id</code> exists in your table and is <code>auto_increment</code>.</p>\n"},{"tags":[],"owner":{"account_id":161745,"reputation":49245,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1358168135,"creation_date":1358168135,"answer_id":14318824,"question_id":14316500,"body_markdown":"The following script selects every nth row quite efficiently. It assumes there are no gaps in the ids. If gaps are possible, then you might want to increase the range(1, 100) to range(1, 200) or so. To get random rows, the formula at the very end would need to be changed a bit:\r\n\r\n    drop table test;\r\n\r\n    create table test(\r\n      id bigint auto_increment primary key, \r\n      name varchar(255));\r\n\r\n    insert into test \r\n    select x, &#39;Hello &#39; || x from system_range(50, 1200);\r\n\r\n    select * from test t, system_range(1, 100) range\r\n    where t.id = x * (select max(id)-min(id) from test) / 100 + \r\n    (select min(id) from test);\r\n","title":"Selecting random rows from a big table in H2 database","body":"<p>The following script selects every nth row quite efficiently. It assumes there are no gaps in the ids. If gaps are possible, then you might want to increase the range(1, 100) to range(1, 200) or so. To get random rows, the formula at the very end would need to be changed a bit:</p>\n\n<pre><code>drop table test;\n\ncreate table test(\n  id bigint auto_increment primary key, \n  name varchar(255));\n\ninsert into test \nselect x, 'Hello ' || x from system_range(50, 1200);\n\nselect * from test t, system_range(1, 100) range\nwhere t.id = x * (select max(id)-min(id) from test) / 100 + \n(select min(id) from test);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7442150,"reputation":1,"user_id":5659595,"display_name":"Aviral Sawani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449670601,"creation_date":1449670601,"answer_id":34181025,"question_id":14316500,"body_markdown":"You can Rank your table and select Random 50 ranks out of it, avoid sorting or grouping in any way to keep it optimized.","title":"Selecting random rows from a big table in H2 database","body":"<p>You can Rank your table and select Random 50 ranks out of it, avoid sorting or grouping in any way to keep it optimized.</p>\n"},{"tags":[],"owner":{"account_id":9002055,"reputation":1145,"user_id":6710305,"display_name":"M T Head"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499808161,"creation_date":1499807565,"answer_id":45044546,"question_id":14316500,"body_markdown":"What I do for this is create a temp table.  Generate random numbers from 1 to greatest identity value in the table.  Then select from the table where their identity value is in the temp table.\r\n\r\n&quot;Single query way of doing this&quot;\r\n\r\nCreate temp table (I don&#39;t know the h2 syntax for this but it supports temp tables with a field name of DesiredIdentity)\r\n\r\nSelect max identity value from the table.\r\n\r\nLoop through with the rand command to insert random numbers into a temp table from 1 to the number of random rows you want.  Set the range for random from 1 to max row count.  Insure the same random number is not selected.\r\n\r\nThen select from the table where the identity value is in the identity temp table.\r\n","title":"Selecting random rows from a big table in H2 database","body":"<p>What I do for this is create a temp table.  Generate random numbers from 1 to greatest identity value in the table.  Then select from the table where their identity value is in the temp table.</p>\n\n<p>\"Single query way of doing this\"</p>\n\n<p>Create temp table (I don't know the h2 syntax for this but it supports temp tables with a field name of DesiredIdentity)</p>\n\n<p>Select max identity value from the table.</p>\n\n<p>Loop through with the rand command to insert random numbers into a temp table from 1 to the number of random rows you want.  Set the range for random from 1 to max row count.  Insure the same random number is not selected.</p>\n\n<p>Then select from the table where the identity value is in the identity temp table.</p>\n"},{"tags":[],"owner":{"account_id":27785438,"reputation":1,"user_id":21212995,"display_name":"yelgazin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676665594,"creation_date":1676391582,"answer_id":75450574,"question_id":14316500,"body_markdown":"I use following approach:\r\n\r\n 1. `SELECT COUNT(*) FROM TABLE1...` then calculate **random value** from 1 to\r\n    `COUNT` (inclusive). \r\n \r\n 2. `SELECT * \r\n    FROM (SELECT ROWNUM() AS NUM, ID AS ID FROM TABLE1) AS T1 WHERE T1.NUM =` **random value**","title":"Selecting random rows from a big table in H2 database","body":"<p>I use following approach:</p>\n<ol>\n<li><p><code>SELECT COUNT(*) FROM TABLE1...</code> then calculate <strong>random value</strong> from 1 to\n<code>COUNT</code> (inclusive).</p>\n</li>\n<li><p><code>SELECT *  FROM (SELECT ROWNUM() AS NUM, ID AS ID FROM TABLE1) AS T1 WHERE T1.NUM =</code> <strong>random value</strong></p>\n</li>\n</ol>\n"}],"owner":{"account_id":94649,"reputation":8697,"user_id":258289,"accept_rate":95,"display_name":"Luigi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3844,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":14318824,"answer_count":5,"score":2,"last_activity_date":1676665594,"creation_date":1358158512,"question_id":14316500,"body_markdown":"I have a big table in my database (potentially millions of records) and I need to select #X random rows (let&#39;s say #X between 10 and 50) , but I need this query to be as optimal as possible.\r\n\r\nThe table looks like this:\r\n\r\n    CREATE TABLE sample (\r\n        id bigint auto_increment PRIMARY KEY,\r\n        user_id bigint NOT NULL,\r\n        screen_name VARCHAR NOT NULL,\r\n        ...\r\n    );\r\n\r\nI&#39;ve searched around and I found answers like this:\r\n\r\n    SELECT * FROM sample ORDER BY RAND() limit X.\r\n\r\nBut It looks to me that this will fetch the full table then sort it, isn&#39;t it?\r\n\r\nI think it would be best to generate 10 or 50 random integers and do a `select * from sample where rowid in (&lt;random integer list&gt;)`. But afaik, rowid concept is missing in H2, so I may opt for using the ID column in my table. \r\n\r\nIt would be awesome if I can do this task with a single SQL query.\r\n\r\nAny better advice?","title":"Selecting random rows from a big table in H2 database","body":"<p>I have a big table in my database (potentially millions of records) and I need to select #X random rows (let's say #X between 10 and 50) , but I need this query to be as optimal as possible.</p>\n\n<p>The table looks like this:</p>\n\n<pre><code>CREATE TABLE sample (\n    id bigint auto_increment PRIMARY KEY,\n    user_id bigint NOT NULL,\n    screen_name VARCHAR NOT NULL,\n    ...\n);\n</code></pre>\n\n<p>I've searched around and I found answers like this:</p>\n\n<pre><code>SELECT * FROM sample ORDER BY RAND() limit X.\n</code></pre>\n\n<p>But It looks to me that this will fetch the full table then sort it, isn't it?</p>\n\n<p>I think it would be best to generate 10 or 50 random integers and do a <code>select * from sample where rowid in (&lt;random integer list&gt;)</code>. But afaik, rowid concept is missing in H2, so I may opt for using the ID column in my table. </p>\n\n<p>It would be awesome if I can do this task with a single SQL query.</p>\n\n<p>Any better advice?</p>\n"},{"tags":["java","android","android-package-managers","android-12"],"answers":[{"tags":[],"owner":{"account_id":27250627,"reputation":1,"user_id":20775159,"display_name":"Max Devtec"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676665328,"creation_date":1676665328,"answer_id":75488946,"question_id":72689812,"body_markdown":"I suggest you try adding QUERY_ALL_PACKAGES permission to manifest.\r\nThis issue might be related to packagemanager changes in newer android versions for privacy improvements. Im onto a similar issue for quite a while.","title":"Android PackageManager getChangedPackages - Android 12","body":"<p>I suggest you try adding QUERY_ALL_PACKAGES permission to manifest.\nThis issue might be related to packagemanager changes in newer android versions for privacy improvements. Im onto a similar issue for quite a while.</p>\n"}],"owner":{"account_id":11493879,"reputation":11,"user_id":8423874,"display_name":"S_B_S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676665328,"creation_date":1655740533,"question_id":72689812,"body_markdown":"We are trying to get a list of all updated packages using Android Package Manager [getChangedPackages](https://developer.android.google.cn/reference/android/content/pm/PackageManager#getChangedPackages(int)) function. \r\n\r\nThis is the code we use:\r\n\r\n```\r\nimport android.content.pm.PackageManager;\r\nimport android.content.pm.ChangedPackages;\r\nPackageManager pm;\r\npm = getApplicationContext().getPackageManager();\r\nChangedPackages changedPackages = pm.getChangedPackages(0);\r\n```\r\nThis code works well on Android 10 &amp; 11 and is detecting installed / updated / deleted packages.\r\n\r\nHowever, the same code detects **only** deleted packages when running on Android 12 devices. We&#39;ve installed some applications and those were not detected at all by the getChangedPackages application. Only after deleting the applications then the package names appeared in the list of changed packages returned from function. \r\n\r\nWe&#39;ve also tried to use `changedPackages.getSequenceNumber();` or even `Settings.Global.getInt(getApplicationContext().getContentResolver(), Settings.Global.BOOT_COUNT);` as the *from* parameter sent to getChangedPackages but with no success. \r\n\r\nWe couldn&#39;t find any documented changes that can explain this behavioral change.\r\n[Android12 changes](https://developer.android.com/about/versions/12/behavior-changes-12)\r\n\r\nHave you experienced similar thing or have any idea how it can be solved? \r\nWe will appreciate every piece of data or advice.\r\n\r\nThank you!","title":"Android PackageManager getChangedPackages - Android 12","body":"<p>We are trying to get a list of all updated packages using Android Package Manager <a href=\"https://developer.android.google.cn/reference/android/content/pm/PackageManager#getChangedPackages(int)\" rel=\"nofollow noreferrer\">getChangedPackages</a> function.</p>\n<p>This is the code we use:</p>\n<pre><code>import android.content.pm.PackageManager;\nimport android.content.pm.ChangedPackages;\nPackageManager pm;\npm = getApplicationContext().getPackageManager();\nChangedPackages changedPackages = pm.getChangedPackages(0);\n</code></pre>\n<p>This code works well on Android 10 &amp; 11 and is detecting installed / updated / deleted packages.</p>\n<p>However, the same code detects <strong>only</strong> deleted packages when running on Android 12 devices. We've installed some applications and those were not detected at all by the getChangedPackages application. Only after deleting the applications then the package names appeared in the list of changed packages returned from function.</p>\n<p>We've also tried to use <code>changedPackages.getSequenceNumber();</code> or even <code>Settings.Global.getInt(getApplicationContext().getContentResolver(), Settings.Global.BOOT_COUNT);</code> as the <em>from</em> parameter sent to getChangedPackages but with no success.</p>\n<p>We couldn't find any documented changes that can explain this behavioral change.\n<a href=\"https://developer.android.com/about/versions/12/behavior-changes-12\" rel=\"nofollow noreferrer\">Android12 changes</a></p>\n<p>Have you experienced similar thing or have any idea how it can be solved?\nWe will appreciate every piece of data or advice.</p>\n<p>Thank you!</p>\n"},{"tags":["java","hashmap","java-stream","grouping","collectors"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1553151141,"post_id":55275129,"comment_id":97280519,"body_markdown":"Use concrete objects! Another way, try and share the type of your output and look at the complexity driven there.","body":"Use concrete objects! Another way, try and share the type of your output and look at the complexity driven there."},{"owner":{"account_id":15452950,"reputation":4661,"user_id":11147851,"display_name":"Pavel Smirnov"},"score":0,"creation_date":1553151472,"post_id":55275129,"comment_id":97280624,"body_markdown":"Could you use nested Maps? Map&lt;String, Map&lt;String, Map&lt;String, String&gt;&gt;&gt; where the first Map&#39;s key is a country, second Map&#39;s is a company and the last one stores models?","body":"Could you use nested Maps? Map&lt;String, Map&lt;String, Map&lt;String, String&gt;&gt;&gt; where the first Map&#39;s key is a country, second Map&#39;s is a company and the last one stores models?"},{"owner":{"account_id":314561,"reputation":6333,"user_id":629804,"accept_rate":70,"display_name":"Pradeep"},"score":0,"creation_date":1553151548,"post_id":55275129,"comment_id":97280651,"body_markdown":"yeah I can,  Can I derive it based on the nature of keys automatically, the nesting will increase based on number of grouping keys,  I can&#39;t  assume it&#39;s just two levels of nesting","body":"yeah I can,  Can I derive it based on the nature of keys automatically, the nesting will increase based on number of grouping keys,  I can&#39;t  assume it&#39;s just two levels of nesting"},{"owner":{"account_id":314561,"reputation":6333,"user_id":629804,"accept_rate":70,"display_name":"Pradeep"},"score":0,"creation_date":1553151651,"post_id":55275129,"comment_id":97280683,"body_markdown":"@Naman,  the input is of type Map&lt;String, String&gt; , I can not make assumptions about data, creating concrete class would require me to specify field names?","body":"@Naman,  the input is of type Map&lt;String, String&gt; , I can not make assumptions about data, creating concrete class would require me to specify field names?"}],"answers":[{"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1553151980,"post_id":55275307,"comment_id":97280813,"body_markdown":"Poor naming convention! Agreed, yet it&#39;s more about portraying the approach here.","body":"Poor naming convention! Agreed, yet it&#39;s more about portraying the approach here."},{"owner":{"account_id":314561,"reputation":6333,"user_id":629804,"accept_rate":70,"display_name":"Pradeep"},"score":0,"creation_date":1553152082,"post_id":55275307,"comment_id":97280852,"body_markdown":"Are you saying from given input of  Map&lt;String,String&gt; --&gt; derive class ThrowAway ? \n\nThe input will change, we can&#39;t map everything to ThrowAway ?","body":"Are you saying from given input of  Map&lt;String,String&gt; --&gt; derive class ThrowAway ?   The input will change, we can&#39;t map everything to ThrowAway ?"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1553153136,"post_id":55275307,"comment_id":97281222,"body_markdown":"@Pradeep What I am trying to convey is that there are certain guarantees assumed as per the question itself. For e.g. is it possible to have the input in the form `[\n {\n    &#39;a&#39;: &#39;German&#39;,\n    &#39;b&#39;: &#39;Audi&#39;,\n    &#39;e&#39;: &#39;T3&#39;\n },\n {\n    &#39;a&#39;: &#39;German&#39;,\n    &#39;b&#39;: &#39;BMW&#39;,\n    &#39;c&#39;: &#39;T6&#39;\n },\n {\n    &#39;d&#39;: &#39;American&#39;,\n    &#39;e&#39;: &#39;Tesla&#39;,\n    &#39;f&#39;: &#39;T6&#39;\n }\n]` and then what do you expect the output to be? There has to be some kind of contracts to determine the keys to group with at least.","body":"@Pradeep What I am trying to convey is that there are certain guarantees assumed as per the question itself. For e.g. is it possible to have the input in the form <code>[  {     &#39;a&#39;: &#39;German&#39;,     &#39;b&#39;: &#39;Audi&#39;,     &#39;e&#39;: &#39;T3&#39;  },  {     &#39;a&#39;: &#39;German&#39;,     &#39;b&#39;: &#39;BMW&#39;,     &#39;c&#39;: &#39;T6&#39;  },  {     &#39;d&#39;: &#39;American&#39;,     &#39;e&#39;: &#39;Tesla&#39;,     &#39;f&#39;: &#39;T6&#39;  } ]</code> and then what do you expect the output to be? There has to be some kind of contracts to determine the keys to group with at least."},{"owner":{"account_id":314561,"reputation":6333,"user_id":629804,"accept_rate":70,"display_name":"Pradeep"},"score":0,"creation_date":1553153912,"post_id":55275307,"comment_id":97281511,"body_markdown":"we can not assume input form but I can ask caller to preregister the grouping keys, the output is always nested based on the grouping keys","body":"we can not assume input form but I can ask caller to preregister the grouping keys, the output is always nested based on the grouping keys"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1553154026,"post_id":55275307,"comment_id":97281560,"body_markdown":"@Pradeep and preregistering the keys is defining a concrete object in my understanding. Also, seems like you&#39;re ignoring the kind of role inheritance can play in here.","body":"@Pradeep and preregistering the keys is defining a concrete object in my understanding. Also, seems like you&#39;re ignoring the kind of role inheritance can play in here."},{"owner":{"account_id":314561,"reputation":6333,"user_id":629804,"accept_rate":70,"display_name":"Pradeep"},"score":0,"creation_date":1553155426,"post_id":55275307,"comment_id":97282108,"body_markdown":"so System A is running somewhere, System B is running somewhere, we get these grouping keys at runtime,  by registering means we store somewhere in storage that the keys a and b will be required from grouping, keys can change at runtime","body":"so System A is running somewhere, System B is running somewhere, we get these grouping keys at runtime,  by registering means we store somewhere in storage that the keys a and b will be required from grouping, keys can change at runtime"}],"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553151946,"creation_date":1553151946,"answer_id":55275307,"question_id":55275129,"body_markdown":"Just to double click on the representation of the input as concrete class. It would look much simpler and clean as :\r\n\r\n    Map&lt;String, Map&lt;String, List&lt;ThrowAway&gt;&gt;&gt; multipleGrouping(List&lt;ThrowAway&gt; inputData) {\r\n        return inputData.stream()\r\n                .collect(Collectors.groupingBy(ThrowAway::getA,\r\n                        Collectors.groupingBy(ThrowAway::getB)));\r\n    }\r\n\r\n\r\nwhere I just created a sample class same as your map representation:\r\n\r\n\r\n    class ThrowAway {\r\n        String a;\r\n        String b;\r\n        String c;\r\n\r\n        String getA() {\r\n            return a;\r\n        }\r\n\r\n        String getB() {\r\n            return b;\r\n        }\r\n    }","title":"Group List of Map Data into Nested HashMap in Java","body":"<p>Just to double click on the representation of the input as concrete class. It would look much simpler and clean as :</p>\n\n<pre><code>Map&lt;String, Map&lt;String, List&lt;ThrowAway&gt;&gt;&gt; multipleGrouping(List&lt;ThrowAway&gt; inputData) {\n    return inputData.stream()\n            .collect(Collectors.groupingBy(ThrowAway::getA,\n                    Collectors.groupingBy(ThrowAway::getB)));\n}\n</code></pre>\n\n<p>where I just created a sample class same as your map representation:</p>\n\n<pre><code>class ThrowAway {\n    String a;\n    String b;\n    String c;\n\n    String getA() {\n        return a;\n    }\n\n    String getB() {\n        return b;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553388563,"creation_date":1553388563,"answer_id":55319760,"question_id":55275129,"body_markdown":"Since you are looking for a dynamic solution, here is another approach:\r\n\r\nYou can use the following grouping method to pass two keys for:\r\n\r\n    public Map&lt;String, Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt;&gt; group(List&lt;Map&lt;String, String&gt;&gt; list, String key1, String key2) {\r\n        return list.stream().collect(\r\n                Collectors.groupingBy(m -&gt; m.get(key1),\r\n                        Collectors.groupingBy(m -&gt; m.get(key2))\r\n                )\r\n        );\r\n    }\r\n\r\nThe problem here is if the key does not exist in the map you are getting a `NullPointerException`. To prevent this you can use `map.getOrDefault()` with a default key:\r\n\r\n    public Map&lt;String, Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt;&gt; group(List&lt;Map&lt;String, String&gt;&gt; list, String key1, String key2, String noneKey) {\r\n        return list.stream().collect(\r\n                Collectors.groupingBy(m -&gt; m.getOrDefault(key1, noneKey),\r\n                        Collectors.groupingBy(m -&gt; m.getOrDefault(key2, noneKey))\r\n                )\r\n        );\r\n    }\r\n\r\nCall one of the methods with the following options:\r\n\r\n    Map&lt;String, Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt;&gt; result = group(list, &quot;a&quot;, &quot;b&quot;);\r\n\r\nOr\r\n\r\n    Map&lt;String, Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt;&gt; result = group(list, &quot;a&quot;, &quot;b&quot;, &quot;none&quot;);","title":"Group List of Map Data into Nested HashMap in Java","body":"<p>Since you are looking for a dynamic solution, here is another approach:</p>\n\n<p>You can use the following grouping method to pass two keys for:</p>\n\n<pre><code>public Map&lt;String, Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt;&gt; group(List&lt;Map&lt;String, String&gt;&gt; list, String key1, String key2) {\n    return list.stream().collect(\n            Collectors.groupingBy(m -&gt; m.get(key1),\n                    Collectors.groupingBy(m -&gt; m.get(key2))\n            )\n    );\n}\n</code></pre>\n\n<p>The problem here is if the key does not exist in the map you are getting a <code>NullPointerException</code>. To prevent this you can use <code>map.getOrDefault()</code> with a default key:</p>\n\n<pre><code>public Map&lt;String, Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt;&gt; group(List&lt;Map&lt;String, String&gt;&gt; list, String key1, String key2, String noneKey) {\n    return list.stream().collect(\n            Collectors.groupingBy(m -&gt; m.getOrDefault(key1, noneKey),\n                    Collectors.groupingBy(m -&gt; m.getOrDefault(key2, noneKey))\n            )\n    );\n}\n</code></pre>\n\n<p>Call one of the methods with the following options:</p>\n\n<pre><code>Map&lt;String, Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt;&gt; result = group(list, \"a\", \"b\");\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>Map&lt;String, Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt;&gt; result = group(list, \"a\", \"b\", \"none\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676665045,"creation_date":1676665045,"answer_id":75488892,"question_id":55275129,"body_markdown":"You can use JSON library such as _Josson_ to do the transformation.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;[&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;        \\&quot;a\\&quot;: \\&quot;German\\&quot;,&quot; +\r\n        &quot;        \\&quot;b\\&quot;: \\&quot;Audi\\&quot;,&quot; +\r\n        &quot;        \\&quot;e\\&quot;: \\&quot;T3\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;        \\&quot;a\\&quot;: \\&quot;German\\&quot;,&quot; +\r\n        &quot;        \\&quot;b\\&quot;: \\&quot;BMW\\&quot;,&quot; +\r\n        &quot;        \\&quot;c\\&quot;: \\&quot;T6\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;        \\&quot;a\\&quot;: \\&quot;American\\&quot;,&quot; +\r\n        &quot;        \\&quot;b\\&quot;: \\&quot;Tesla\\&quot;,&quot; +\r\n        &quot;        \\&quot;c\\&quot;: \\&quot;T6\\&quot;&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;]&quot;);\r\n    JsonNode node = josson.getNode(\r\n        &quot;group(a).map(a::elements.group(b).map(b::elements).mergeObjects()).mergeObjects()&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n        \r\n    {\r\n      &quot;German&quot; : {\r\n        &quot;Audi&quot; : [ {\r\n          &quot;a&quot; : &quot;German&quot;,\r\n          &quot;b&quot; : &quot;Audi&quot;,\r\n          &quot;e&quot; : &quot;T3&quot;\r\n        } ],\r\n        &quot;BMW&quot; : [ {\r\n          &quot;a&quot; : &quot;German&quot;,\r\n          &quot;b&quot; : &quot;BMW&quot;,\r\n          &quot;c&quot; : &quot;T6&quot;\r\n        } ]\r\n      },\r\n      &quot;American&quot; : {\r\n        &quot;Tesla&quot; : [ {\r\n          &quot;a&quot; : &quot;American&quot;,\r\n          &quot;b&quot; : &quot;Tesla&quot;,\r\n          &quot;c&quot; : &quot;T6&quot;\r\n        } ]\r\n      }\r\n    }","title":"Group List of Map Data into Nested HashMap in Java","body":"<p>You can use JSON library such as <em>Josson</em> to do the transformation.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;[&quot; +\n    &quot;    {&quot; +\n    &quot;        \\&quot;a\\&quot;: \\&quot;German\\&quot;,&quot; +\n    &quot;        \\&quot;b\\&quot;: \\&quot;Audi\\&quot;,&quot; +\n    &quot;        \\&quot;e\\&quot;: \\&quot;T3\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;        \\&quot;a\\&quot;: \\&quot;German\\&quot;,&quot; +\n    &quot;        \\&quot;b\\&quot;: \\&quot;BMW\\&quot;,&quot; +\n    &quot;        \\&quot;c\\&quot;: \\&quot;T6\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;        \\&quot;a\\&quot;: \\&quot;American\\&quot;,&quot; +\n    &quot;        \\&quot;b\\&quot;: \\&quot;Tesla\\&quot;,&quot; +\n    &quot;        \\&quot;c\\&quot;: \\&quot;T6\\&quot;&quot; +\n    &quot;    }&quot; +\n    &quot;]&quot;);\nJsonNode node = josson.getNode(\n    &quot;group(a).map(a::elements.group(b).map(b::elements).mergeObjects()).mergeObjects()&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;German&quot; : {\n    &quot;Audi&quot; : [ {\n      &quot;a&quot; : &quot;German&quot;,\n      &quot;b&quot; : &quot;Audi&quot;,\n      &quot;e&quot; : &quot;T3&quot;\n    } ],\n    &quot;BMW&quot; : [ {\n      &quot;a&quot; : &quot;German&quot;,\n      &quot;b&quot; : &quot;BMW&quot;,\n      &quot;c&quot; : &quot;T6&quot;\n    } ]\n  },\n  &quot;American&quot; : {\n    &quot;Tesla&quot; : [ {\n      &quot;a&quot; : &quot;American&quot;,\n      &quot;b&quot; : &quot;Tesla&quot;,\n      &quot;c&quot; : &quot;T6&quot;\n    } ]\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":314561,"reputation":6333,"user_id":629804,"accept_rate":70,"display_name":"Pradeep"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":812,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1676665045,"creation_date":1553150982,"question_id":55275129,"body_markdown":"Input: I have a list of Map (Key - Value pairs) and grouping keys\r\n\r\ne.g.`List&lt;Map&lt;String,String&gt;&gt; inputData` json\r\n\r\n    [\r\n     {\r\n        &#39;a&#39;: &#39;German&#39;,\r\n        &#39;b&#39;: &#39;Audi&#39;,\r\n        &#39;e&#39;: &#39;T3&#39;\r\n     },\r\n     {\r\n        &#39;a&#39;: &#39;German&#39;,\r\n        &#39;b&#39;: &#39;BMW&#39;,\r\n        &#39;c&#39;: &#39;T6&#39;\r\n     },\r\n     {\r\n        &#39;a&#39;: &#39;American&#39;,\r\n        &#39;b&#39;: &#39;Tesla&#39;,\r\n        &#39;c&#39;: &#39;T6&#39;\r\n     }\r\n    ]\r\n\r\nand groupingKeys= `a and b`\r\n\r\nFor Grouping key a -&gt; I will create two buckets, one for German and other American and in each bucket I will again create bucket for value of b, check following\r\n\r\nI want to produce following:  `Map&lt;String, Map&lt;String, List&lt;Map&gt;&gt;` - the nesting of maps  == number of grouping keys, here it&#39;s 2\r\n\r\n\r\n    {\r\n       German: {\r\n           Audi: [\r\n                {\r\n                   &#39;a&#39;: &#39;German&#39;,\r\n                   &#39;b&#39;: &#39;Audi&#39;,\r\n                   &#39;e&#39;: &#39;T3&#39;\r\n                }\r\n           ],\r\n           BMW: [\r\n                {\r\n                   &#39;a&#39;: &#39;German&#39;,\r\n                   &#39;b&#39;: &#39;BMW&#39;,\r\n                   &#39;c&#39;: &#39;T6&#39;\r\n                }\r\n           ]\r\n       },\r\n       American: {\r\n          Tesla: [\r\n              {\r\n                &#39;a&#39;: &#39;American&#39;,\r\n                &#39;b&#39;: &#39;Tesla&#39;,\r\n                &#39;c&#39;: &#39;T6&#39;\r\n              }\r\n          ]\r\n       }\r\n    }\r\n\r\nThings I tried:\r\n\r\n    inputData.stream().collect(Collectors.groupingBy(mapItem -&gt; this.constructGroupingKey(groupingKeys, mapItem)));\r\n\r\n    //constructGroupingKey - this joins the values of of given grouping keys\r\n\r\nThis way I can construct concatenated key e.g German-Audi OR German-BMW  and save the matching item against it but it&#39;s not what I want exactly.\r\n\r\nAs @Naman said here about concrete class - following makes it one liner but I can&#39;t make assumptions about data, it&#39;s of type Map&lt;String,String&gt;\r\n\r\n```Map&lt;String, Map&lt;String, List&lt;ConcreteClass&gt;&gt;&gt; output = inputData.stream().collect(Collectors.groupingBy(ConcreteClass::getCountry, Collectors.groupingBy(ConcreteClass::getCarType)));```\r\n\r\n\r\nWould appreciate other ideas, thanks. I am also curious if I can derive grouping based on given data without specification of grouping keys.\r\n\r\nInput is of dynamic nature, key and value are defined by the input","title":"Group List of Map Data into Nested HashMap in Java","body":"<p>Input: I have a list of Map (Key - Value pairs) and grouping keys</p>\n\n<p>e.g.<code>List&lt;Map&lt;String,String&gt;&gt; inputData</code> json</p>\n\n<pre><code>[\n {\n    'a': 'German',\n    'b': 'Audi',\n    'e': 'T3'\n },\n {\n    'a': 'German',\n    'b': 'BMW',\n    'c': 'T6'\n },\n {\n    'a': 'American',\n    'b': 'Tesla',\n    'c': 'T6'\n }\n]\n</code></pre>\n\n<p>and groupingKeys= <code>a and b</code></p>\n\n<p>For Grouping key a -> I will create two buckets, one for German and other American and in each bucket I will again create bucket for value of b, check following</p>\n\n<p>I want to produce following:  <code>Map&lt;String, Map&lt;String, List&lt;Map&gt;&gt;</code> - the nesting of maps  == number of grouping keys, here it's 2</p>\n\n<pre><code>{\n   German: {\n       Audi: [\n            {\n               'a': 'German',\n               'b': 'Audi',\n               'e': 'T3'\n            }\n       ],\n       BMW: [\n            {\n               'a': 'German',\n               'b': 'BMW',\n               'c': 'T6'\n            }\n       ]\n   },\n   American: {\n      Tesla: [\n          {\n            'a': 'American',\n            'b': 'Tesla',\n            'c': 'T6'\n          }\n      ]\n   }\n}\n</code></pre>\n\n<p>Things I tried:</p>\n\n<pre><code>inputData.stream().collect(Collectors.groupingBy(mapItem -&gt; this.constructGroupingKey(groupingKeys, mapItem)));\n\n//constructGroupingKey - this joins the values of of given grouping keys\n</code></pre>\n\n<p>This way I can construct concatenated key e.g German-Audi OR German-BMW  and save the matching item against it but it's not what I want exactly.</p>\n\n<p>As @Naman said here about concrete class - following makes it one liner but I can't make assumptions about data, it's of type Map</p>\n\n<p><code>Map&lt;String, Map&lt;String, List&lt;ConcreteClass&gt;&gt;&gt; output = inputData.stream().collect(Collectors.groupingBy(ConcreteClass::getCountry, Collectors.groupingBy(ConcreteClass::getCarType)));</code></p>\n\n<p>Would appreciate other ideas, thanks. I am also curious if I can derive grouping based on given data without specification of grouping keys.</p>\n\n<p>Input is of dynamic nature, key and value are defined by the input</p>\n"},{"tags":["java","c#","c++","last.fm"],"answers":[{"comments":[{"owner":{"account_id":10369,"reputation":42194,"user_id":19540,"display_name":"Lazarus"},"score":0,"creation_date":1293025765,"post_id":4500883,"comment_id":4936737,"body_markdown":"LOL You are joking right? http://aws.amazon.com/code/Product-Advertising-API/2478 &amp; http://aws.amazon.com/code/Product-Advertising-API/2479, you could just start at the top... http://aws.amazon.com/code/Product-Advertising-API","body":"LOL You are joking right? <a href=\"http://aws.amazon.com/code/Product-Advertising-API/2478\" rel=\"nofollow noreferrer\">aws.amazon.com/code/Product-Advertising-API/2478</a> &amp; <a href=\"http://aws.amazon.com/code/Product-Advertising-API/2479\" rel=\"nofollow noreferrer\">aws.amazon.com/code/Product-Advertising-API/2479</a>, you could just start at the top... <a href=\"http://aws.amazon.com/code/Product-Advertising-API\" rel=\"nofollow noreferrer\">aws.amazon.com/code/Product-Advertising-API</a>"},{"owner":{"account_id":10369,"reputation":42194,"user_id":19540,"display_name":"Lazarus"},"score":0,"creation_date":1517302213,"post_id":4500883,"comment_id":84029076,"body_markdown":"@Roberto No, it isn&#39;t. Just clicked on it now and it takes you to the correct page.","body":"@Roberto No, it isn&#39;t. Just clicked on it now and it takes you to the correct page."}],"tags":[],"owner":{"account_id":10369,"reputation":42194,"user_id":19540,"display_name":"Lazarus"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1292945369,"creation_date":1292945369,"answer_id":4500883,"question_id":4500804,"body_markdown":"[Here&#39;s the Amazon API samples for C# SOAP/REST][1].\r\n\r\n\r\n  [1]: http://aws.amazon.com/code/Product-Advertising-API/2480","title":"Fetching album art, as JPEG, PNG etc","body":"<p><a href=\"http://aws.amazon.com/code/Product-Advertising-API/2480\" rel=\"nofollow\">Here's the Amazon API samples for C# SOAP/REST</a>.</p>\n"},{"comments":[{"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"score":0,"creation_date":1293009907,"post_id":4501009,"comment_id":4934339,"body_markdown":"the api key you get from last.fm at http://www.last.fm/api/account. you can use the test one b25b959554ed76058ac220b7b2e0a026 but make sure to get your own.","body":"the api key you get from last.fm at <a href=\"http://www.last.fm/api/account\" rel=\"nofollow noreferrer\">last.fm/api/account</a>. you can use the test one b25b959554ed76058ac220b7b2e0a026 but make sure to get your own."}],"tags":[],"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1292946122,"creation_date":1292946122,"answer_id":4501009,"question_id":4500804,"body_markdown":"It shouldn&#39;t be very hard to do by hand. The last.fm api spec for [Album.getInfo][1] method is pretty straightforward and the fact that it is a REST api makes it even simpler. Just get the xml response from the server, parse it and get a url of the image. I wrote this code a while ago but it should still be working:\r\n\r\n                String request = &quot;http://ws.audioscrobbler.com/2.0/?method=&quot; + method +\r\n                        &quot;&amp;api_key=&quot;+apiKey;\r\n                request += &quot;&amp;artist=&quot; + artist.replaceAll(&quot; &quot;, &quot;%20&quot;);\r\n                if (method.equals(&quot;album.getinfo&quot;)) request += &quot;&amp;album=&quot; + album.replaceAll(&quot; &quot;, &quot;%20&quot;);\r\n                URL url = new URL(request);\r\n                InputStream is = url.openStream();\r\n                DocumentBuilder db = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n                Document doc = db.parse(is);\r\n\r\n                NodeList nl = doc.getElementsByTagName(&quot;image&quot;);\r\n                for (int i = 0; i &lt; nl.getLength(); i++) {\r\n                    Node n = nl.item(i);\r\n                    if (n.getAttributes().item(0).getNodeValue().equals(imageSize)) {\r\n                        Node fc = n.getFirstChild();\r\n                        if (fc == null) return null;\r\n                        String imgUrl = fc.getNodeValue();\r\n                        if (imgUrl.trim().length() == 0) return null;\r\n                        return new ImageIcon(new URL(imgUrl));\r\n                    }\r\n                }\r\n\r\n\r\n  [1]: http://www.last.fm/api/show?service=290","title":"Fetching album art, as JPEG, PNG etc","body":"<p>It shouldn't be very hard to do by hand. The last.fm api spec for <a href=\"http://www.last.fm/api/show?service=290\" rel=\"nofollow\">Album.getInfo</a> method is pretty straightforward and the fact that it is a REST api makes it even simpler. Just get the xml response from the server, parse it and get a url of the image. I wrote this code a while ago but it should still be working:</p>\n\n<pre><code>            String request = \"http://ws.audioscrobbler.com/2.0/?method=\" + method +\n                    \"&amp;api_key=\"+apiKey;\n            request += \"&amp;artist=\" + artist.replaceAll(\" \", \"%20\");\n            if (method.equals(\"album.getinfo\")) request += \"&amp;album=\" + album.replaceAll(\" \", \"%20\");\n            URL url = new URL(request);\n            InputStream is = url.openStream();\n            DocumentBuilder db = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n            Document doc = db.parse(is);\n\n            NodeList nl = doc.getElementsByTagName(\"image\");\n            for (int i = 0; i &lt; nl.getLength(); i++) {\n                Node n = nl.item(i);\n                if (n.getAttributes().item(0).getNodeValue().equals(imageSize)) {\n                    Node fc = n.getFirstChild();\n                    if (fc == null) return null;\n                    String imgUrl = fc.getNodeValue();\n                    if (imgUrl.trim().length() == 0) return null;\n                    return new ImageIcon(new URL(imgUrl));\n                }\n            }\n</code></pre>\n"}],"owner":{"account_id":59451,"reputation":4623,"user_id":177890,"accept_rate":53,"display_name":"Codevalley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3744,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4501009,"answer_count":2,"score":4,"last_activity_date":1676664975,"creation_date":1292944991,"question_id":4500804,"body_markdown":"Is there any simple Web API which returns album art as an image, just like the Google Static Map API ([Google Static Map API][1]? I have heard about Amazon&#39;s and Last.fm&#39;s APIs for this, but can&#39;t find any code for that (other than in web languages like PHP/Perl/Ruby etc). Moreover they are REST APIs.\r\nAny help would be appreciated.\r\n\r\nIs there a simple URL(GET) queries or are there only REST/XML methods?\r\n\r\n  [1]: http://code.google.com/apis/maps/documentation/staticmaps/","title":"Fetching album art, as JPEG, PNG etc","body":"<p>Is there any simple Web API which returns album art as an image, just like the Google Static Map API (<a href=\"http://code.google.com/apis/maps/documentation/staticmaps/\" rel=\"nofollow noreferrer\">Google Static Map API</a>? I have heard about Amazon's and Last.fm's APIs for this, but can't find any code for that (other than in web languages like PHP/Perl/Ruby etc). Moreover they are REST APIs.\nAny help would be appreciated.</p>\n<p>Is there a simple URL(GET) queries or are there only REST/XML methods?</p>\n"},{"tags":["java","google-app-engine","google-cloud-platform","google-cloud-firestore","google-cloud-datastore"],"answers":[{"tags":[],"owner":{"account_id":127461,"reputation":2848,"user_id":7644371,"display_name":"Jim Morrison"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676664354,"creation_date":1676664354,"answer_id":75488804,"question_id":75482851,"body_markdown":"You&#39;ll want to issue follow-up queries that pass a startCursor by using the endCursor from the previous query run (https://cloud.google.com/datastore/docs/samples/datastore-cursor-paging#datastore_cursor_paging-java).","title":"Can not query more than 1000 entities from datastore from my java application in google appengine","body":"<p>You'll want to issue follow-up queries that pass a startCursor by using the endCursor from the previous query run (<a href=\"https://cloud.google.com/datastore/docs/samples/datastore-cursor-paging#datastore_cursor_paging-java\" rel=\"nofollow noreferrer\">https://cloud.google.com/datastore/docs/samples/datastore-cursor-paging#datastore_cursor_paging-java</a>).</p>\n"}],"owner":{"account_id":27109900,"reputation":1,"user_id":20655199,"display_name":"Surya Sikha Rej"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676664607,"creation_date":1676628637,"question_id":75482851,"body_markdown":"I have a java8 appengine project and I need to query the datastore to get all the entities. But there is a limitation that I can only query 1000 entities at a time. My application need is that i need to get all the entities at once. I can not find any suitable way to do that.","title":"Can not query more than 1000 entities from datastore from my java application in google appengine","body":"<p>I have a java8 appengine project and I need to query the datastore to get all the entities. But there is a limitation that I can only query 1000 entities at a time. My application need is that i need to get all the entities at once. I can not find any suitable way to do that.</p>\n"},{"tags":["java","activemq-artemis","jmstemplate"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1676561190,"post_id":75472477,"comment_id":133165290,"body_markdown":"What exactly is the problem you&#39;re trying to solve? Why is it a problem for the temporary addresses to show up in the web console?","body":"What exactly is the problem you&#39;re trying to solve? Why is it a problem for the temporary addresses to show up in the web console?"},{"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"score":0,"creation_date":1676626243,"post_id":75472477,"comment_id":133179097,"body_markdown":"@JustinBertram My application work with about 30-40 queues, and possibly 1000 or more temp queues by day. Activemq standard don&#39;t show temp queue in web console so its easy to administer durable queue. We plan to migrate to Artemis, and during my simple test case i see that temp queue are by default showed in jolokia next to all other queue. And if i have 1000 or more temp queue, i need to scroll down very lont time to show queue that i want to see, after each refresh if scroll is  reinit. So i want to find a solution to regroup all temp queue in one folder like namespace or other solution.","body":"@JustinBertram My application work with about 30-40 queues, and possibly 1000 or more temp queues by day. Activemq standard don&#39;t show temp queue in web console so its easy to administer durable queue. We plan to migrate to Artemis, and during my simple test case i see that temp queue are by default showed in jolokia next to all other queue. And if i have 1000 or more temp queue, i need to scroll down very lont time to show queue that i want to see, after each refresh if scroll is  reinit. So i want to find a solution to regroup all temp queue in one folder like namespace or other solution."}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676652631,"creation_date":1676652631,"answer_id":75487092,"question_id":75472477,"body_markdown":"There are two main ways to deal with a large number of queues and problems with refreshing the JMX &quot;tree&quot; view.\r\n\r\n - Use the &quot;Queues&quot; tab to view the queues you&#39;re interested in rather than the JMX &quot;tree&quot; view. You can even filter out temporary queues, e.g.:\r\n[![enter image description here][1]][1]\r\n - Disable refresh of the JMX &quot;tree&quot; view via the &quot;Preferences&quot; available by clicking on the user icon in the top right of the web console, e.g.:\r\n[![enter image description here][2]][2]\r\n\r\nIt&#39;s worth noting that the `enable-metrics` only deals with [metrics as they are related to metrics plugins][3]. Setting this to `false` does _not_ disable their MBeans.\r\n\r\nIn the future the JMX &quot;tree&quot; like likely be removed from the web console due, in part, to the issues you&#39;re observing.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cnpds.png\r\n  [2]: https://i.stack.imgur.com/CScQG.png\r\n  [3]: https://activemq.apache.org/components/artemis/documentation/latest/metrics.html","title":"ActiveMQ Artemis temp queue","body":"<p>There are two main ways to deal with a large number of queues and problems with refreshing the JMX &quot;tree&quot; view.</p>\n<ul>\n<li>Use the &quot;Queues&quot; tab to view the queues you're interested in rather than the JMX &quot;tree&quot; view. You can even filter out temporary queues, e.g.:\n<a href=\"https://i.stack.imgur.com/cnpds.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cnpds.png\" alt=\"enter image description here\" /></a></li>\n<li>Disable refresh of the JMX &quot;tree&quot; view via the &quot;Preferences&quot; available by clicking on the user icon in the top right of the web console, e.g.:\n<a href=\"https://i.stack.imgur.com/CScQG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CScQG.png\" alt=\"enter image description here\" /></a></li>\n</ul>\n<p>It's worth noting that the <code>enable-metrics</code> only deals with <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/metrics.html\" rel=\"nofollow noreferrer\">metrics as they are related to metrics plugins</a>. Setting this to <code>false</code> does <em>not</em> disable their MBeans.</p>\n<p>In the future the JMX &quot;tree&quot; like likely be removed from the web console due, in part, to the issues you're observing.</p>\n"}],"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75487092,"answer_count":1,"score":0,"last_activity_date":1676664405,"creation_date":1676551466,"question_id":75472477,"body_markdown":"I&#39;m using simple test project with Spring&#39;s JmsTemplate that sends synchronous messages with:\r\n```\r\njmsTemplate.sendAndReceive(...)\r\n```\r\nCode snippet of JmsTemplate to do this:\r\n```java\r\nMessage requestMessage = messageCreator.createMessage(session);\r\nresponseQueue = session.createTemporaryQueue();\r\nproducer = session.createProducer(destination);\r\nconsumer = session.createConsumer(responseQueue);\r\nrequestMessage.setJMSReplyTo(responseQueue);\r\nif (logger.isDebugEnabled()) {\r\n\tlogger.debug(&quot;Sending created message: &quot; + requestMessage);\r\n}\r\ndoSend(producer, requestMessage);\r\nreturn receiveFromConsumer(consumer, getReceiveTimeout());\r\n```\r\nAll work fine but when I&#39;m going to Jolokia console I can see all my temp queues at address level:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn standard ActiveMQ console temporary queues are not shown (deleted?).\r\n\r\nBecause of my application use many synchronous message, list can grow up rapidly.\r\n\r\nI try to use  \r\n```xml\r\n&lt;temporary-queue-namespace&gt;temp&lt;/temporary-queue-namespace&gt; \r\n```\r\nwith \r\n```\r\n&lt;address-setting match=&quot;temp.#&quot;&gt;\r\n   &lt;enable-metrics&gt;false&lt;/enable-metrics&gt;\r\n&lt;/address-setting&gt;\r\n```\r\nBut my temp-queue are not under temp addresses...\r\n\r\nDoes it possible to don&#39;t show temp queue in console? (because when JmsTemplate has received response or time-out, consumer is closed and temp queue is marked as deleted).\r\n\r\nIf not, how can I regroup them into one addresses folder?\r\n\r\nor something else useful to achieve this.\r\n\r\nMy application work with about 30-40 queues, and possibly 1000 or more temp queues by day. ActiveMQ &quot;Classic&quot; doesn&#39;t show temp queue in web console so its easy to administer durable queue. We plan to migrate to Artemis, and during my simple test case I see that temp queue are by default shown in the web console next to all other queues, and if I have 1000 or more temp queues I need to scroll down a very long time to show the queues that I want to see. After each refresh the scroll is reinitialized. So i want to find a solution to regroup all temp queue in one folder like namespace or other solution.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vFq0o.png","title":"ActiveMQ Artemis temp queue","body":"<p>I'm using simple test project with Spring's JmsTemplate that sends synchronous messages with:</p>\n<pre><code>jmsTemplate.sendAndReceive(...)\n</code></pre>\n<p>Code snippet of JmsTemplate to do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Message requestMessage = messageCreator.createMessage(session);\nresponseQueue = session.createTemporaryQueue();\nproducer = session.createProducer(destination);\nconsumer = session.createConsumer(responseQueue);\nrequestMessage.setJMSReplyTo(responseQueue);\nif (logger.isDebugEnabled()) {\n    logger.debug(&quot;Sending created message: &quot; + requestMessage);\n}\ndoSend(producer, requestMessage);\nreturn receiveFromConsumer(consumer, getReceiveTimeout());\n</code></pre>\n<p>All work fine but when I'm going to Jolokia console I can see all my temp queues at address level:</p>\n<p><a href=\"https://i.stack.imgur.com/vFq0o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vFq0o.png\" alt=\"enter image description here\" /></a></p>\n<p>In standard ActiveMQ console temporary queues are not shown (deleted?).</p>\n<p>Because of my application use many synchronous message, list can grow up rapidly.</p>\n<p>I try to use</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;temporary-queue-namespace&gt;temp&lt;/temporary-queue-namespace&gt; \n</code></pre>\n<p>with</p>\n<pre><code>&lt;address-setting match=&quot;temp.#&quot;&gt;\n   &lt;enable-metrics&gt;false&lt;/enable-metrics&gt;\n&lt;/address-setting&gt;\n</code></pre>\n<p>But my temp-queue are not under temp addresses...</p>\n<p>Does it possible to don't show temp queue in console? (because when JmsTemplate has received response or time-out, consumer is closed and temp queue is marked as deleted).</p>\n<p>If not, how can I regroup them into one addresses folder?</p>\n<p>or something else useful to achieve this.</p>\n<p>My application work with about 30-40 queues, and possibly 1000 or more temp queues by day. ActiveMQ &quot;Classic&quot; doesn't show temp queue in web console so its easy to administer durable queue. We plan to migrate to Artemis, and during my simple test case I see that temp queue are by default shown in the web console next to all other queues, and if I have 1000 or more temp queues I need to scroll down a very long time to show the queues that I want to see. After each refresh the scroll is reinitialized. So i want to find a solution to regroup all temp queue in one folder like namespace or other solution.</p>\n"},{"tags":["java","mongodb","datanucleus"],"comments":[{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1523348615,"post_id":49741053,"comment_id":86511975,"body_markdown":"&quot;application defined identity&quot; is where you define your own &quot;objectIdClass&quot; that represents the defined primary key fields in the class. That is not what you are trying to do.","body":"&quot;application defined identity&quot; is where you define your own &quot;objectIdClass&quot; that represents the defined primary key fields in the class. That is not what you are trying to do."},{"owner":{"account_id":2633541,"reputation":11,"user_id":2278847,"display_name":"Nachintoch"},"score":0,"creation_date":1523403801,"post_id":49741053,"comment_id":86544224,"body_markdown":"Well its kinda weird, since Datanuclues recognizes the Key class as application identity; but indeed defining objectIdClass seems to have solved the problem around inheritance. I&#39;m doing some final tests to check if the system is succesfully reading and writting these classes into mongo. So far, we haven&#39;t had to define the objectIdClass in any class which doesn&#39;t involve inheritance, defining it on the Ticket (and other super classes) class was enough.","body":"Well its kinda weird, since Datanuclues recognizes the Key class as application identity; but indeed defining objectIdClass seems to have solved the problem around inheritance. I&#39;m doing some final tests to check if the system is succesfully reading and writting these classes into mongo. So far, we haven&#39;t had to define the objectIdClass in any class which doesn&#39;t involve inheritance, defining it on the Ticket (and other super classes) class was enough."},{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1523432714,"post_id":49741053,"comment_id":86553635,"body_markdown":"If the only thing of value in `Key` is &quot;String id&quot; then you would be best served by using STANDARD JDO practice and just using that directly in the class that uses it. Hacking in some artificial class, for no obvious purpose, makes little sense (to me).","body":"If the only thing of value in <code>Key</code> is &quot;String id&quot; then you would be best served by using STANDARD JDO practice and just using that directly in the class that uses it. Hacking in some artificial class, for no obvious purpose, makes little sense (to me)."},{"owner":{"account_id":2633541,"reputation":11,"user_id":2278847,"display_name":"Nachintoch"},"score":0,"creation_date":1523514471,"post_id":49741053,"comment_id":86593744,"body_markdown":"@BillyFrost yes it does to me too; but this system has been in production for several years by now and we need to keep compatibility with previous versions of models and data. We need the &quot;overly complicated Key class&quot; because database keys are not constructed by the ID itself, it needs other components that don&#39;t need to be persisted but are easly manipulated on the Key class. That key class is not the original; its simplified. I&#39;m not posting my company&#39;s software code publicy. That makes little sense to me.","body":"@BillyFrost yes it does to me too; but this system has been in production for several years by now and we need to keep compatibility with previous versions of models and data. We need the &quot;overly complicated Key class&quot; because database keys are not constructed by the ID itself, it needs other components that don&#39;t need to be persisted but are easly manipulated on the Key class. That key class is not the original; its simplified. I&#39;m not posting my company&#39;s software code publicy. That makes little sense to me."}],"answers":[{"tags":[],"owner":{"account_id":2633541,"reputation":11,"user_id":2278847,"display_name":"Nachintoch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1523515284,"creation_date":1523515284,"answer_id":49789676,"question_id":49741053,"body_markdown":"I was not putting much attention to the settings around the objectIdClass metadata; since from the docs I got that they were intended for composed keys only. It results that if you define an objectId class with only one attribute; then it behaves as a custom SingleFieldId; which is what we wanted.\r\n\r\nI found &quot;funny&quot; the fact that non annotated (or non declared metadata for objectIdClass) classes will work fine and the custom key used will be threated just fine; but once you make any of them a super class, then you are obligated to add the objectIdClass metadata.\r\n\r\nBeside annotating the Ticket class (and all other super classes) with objectIdClass, we:\r\n\r\n - Removed the toString and hashCode attributes from the Key class (@NotPersistent and transient keyword won&#39;t make Datanucleus ignore them; so I guess there is no performance improvement for toString() and hashCode() methods on custom keys right now).\r\n - Removed all the *final* qualifiers from the Key class attributes (Datanucleus docs don&#39;t say that custom key fields cannot be final; but guess what, they can&#39;t be)\r\n - Changed the *Key key* class member from all superclass for *String id* (as in the key class). We also had to change the implementation of the getters and setters for the id member; using the required string constructor of the key class to build the key when calling the method. Of course, the &quot;key&quot; field declared in the package-mongo.orm was changed to *id* in the super classes.\r\n \r\nAnd that was it! with those little changes our system is working great; no other changed were required on other persistable classes nor DAOs.","title":"Exception when retrieving items modeled by inheritance classes from MongoDB using Datanucleus","body":"<p>I was not putting much attention to the settings around the objectIdClass metadata; since from the docs I got that they were intended for composed keys only. It results that if you define an objectId class with only one attribute; then it behaves as a custom SingleFieldId; which is what we wanted.</p>\n\n<p>I found \"funny\" the fact that non annotated (or non declared metadata for objectIdClass) classes will work fine and the custom key used will be threated just fine; but once you make any of them a super class, then you are obligated to add the objectIdClass metadata.</p>\n\n<p>Beside annotating the Ticket class (and all other super classes) with objectIdClass, we:</p>\n\n<ul>\n<li>Removed the toString and hashCode attributes from the Key class (@NotPersistent and transient keyword won't make Datanucleus ignore them; so I guess there is no performance improvement for toString() and hashCode() methods on custom keys right now).</li>\n<li>Removed all the <em>final</em> qualifiers from the Key class attributes (Datanucleus docs don't say that custom key fields cannot be final; but guess what, they can't be)</li>\n<li>Changed the <em>Key key</em> class member from all superclass for <em>String id</em> (as in the key class). We also had to change the implementation of the getters and setters for the id member; using the required string constructor of the key class to build the key when calling the method. Of course, the \"key\" field declared in the package-mongo.orm was changed to <em>id</em> in the super classes.</li>\n</ul>\n\n<p>And that was it! with those little changes our system is working great; no other changed were required on other persistable classes nor DAOs.</p>\n"}],"owner":{"account_id":2633541,"reputation":11,"user_id":2278847,"display_name":"Nachintoch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49789676,"answer_count":1,"score":1,"last_activity_date":1676664131,"creation_date":1523305069,"question_id":49741053,"body_markdown":"me and my team are working on an upgrade of our company&#39;s system which as getting kind of forgotten and was running old versions of everything it uses; so developing newer features was becoming a pain with newer and unsupported technologies.\r\n\r\nSo far we have managed to produce an almost fully working version of the system; but we got stuck at a feature which involves Datanucleus-JDO, MongoDB and inheritance.\r\n\r\nWe have some models which are tremendously similar (from the code&#39;s perspective). In the current in-production version, to apply a change to it usually involves to rewrite the same piece of code in all classes, so we thought that inheritance would make the job easier and better. So we have two interfaces at the top hierarchy level (which as far we know, Datanuclues nor MongoDB doesn&#39;t care about them at all); which go like this:\r\n\r\n    public interface Entity extends Serializable {\r\n    \r\n    \tString getDate();\r\n    \tdouble getQty();\r\n    \tvoid setQty(double qty);\r\n    \tvoid setDate(String date);\r\n    \tvoid setKey(Key key);\r\n    \t\r\n    }\r\n\r\nAnd\r\n\r\n    public interface HourEntity extends Entity {\r\n    \r\n    \tString getHour();\r\n    \t\r\n    }\r\n\r\nWe use application defined keys, we use this unique class to build different kind of keys. We only want the toString representation of this class to store and retrieve data in Mongo.\r\n\r\n    public final class Key implements Serializable {\r\n\t    static final long serialVersionUID = -448150158203091507L;\r\n        public final String targetClassName;\r\n        public final String id;\r\n        public final String toString;\r\n        public final int hashCode;\r\n\t\r\n        public Key() {\r\n\t\t    targetClassName = null;\r\n\t\t    id = null;\r\n    \t\ttoString = null;\r\n    \t\thashCode = -1;\r\n    \t}\r\n\t\r\n        public Key(String str) {\r\n\t    \tString[] parts = str.split(&quot;\\\\(&quot;);\r\n\t    \tparts[1] = parts[1].replaceAll(&quot;\\\\)&quot;, &quot; &quot;);\r\n\t    \tparts[1] = parts[1].replace(&quot;\\&quot;&quot;, &quot; &quot;);\r\n\t    \tparts[1] = parts[1].trim();\r\n\t    \tthis.targetClassName = parts[0];\r\n\t    \tthis.id = parts[1];\r\n\t    \ttoString = this.toString();\r\n\t    \thashCode = this.hashCode();\r\n\t    }\r\n\r\n        public Key(String classCollectionName, String id) {\r\n\t\t    if (StringUtils.isEmpty(classCollectionName)) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;No collection/class name specified.&quot;);\r\n\t    \t}\r\n\t    \tif (id == null) {\r\n\t    \t\tthrow new IllegalArgumentException(&quot;ID cannot be null&quot;);\r\n\t\t    }\r\n\t    \ttargetClassName = classCollectionName;\r\n\t    \tthis.id = id;\r\n\t    \ttoString = this.toString();\r\n\t    \thashCode = this.hashCode();\r\n\t    }\r\n\r\n        public String getTargetClassName() {\r\n\t\t    return targetClassName;\r\n\t    }\r\n\r\n        public int hashCode() {\r\n\t    \tif(hashCode != -1) return hashCode; \r\n\t    \tint prime = 31;\r\n\t\t    int result = 1;\r\n\t\t    result = prime * result + (id != null ? id.hashCode() : 0);\r\n\t\t    result = prime * result + (targetClassName != null ? targetClassName.hashCode() : 0);\r\n\t\t    return result;\r\n\t    }\r\n\r\n        public boolean equals(Object object) {\r\n\t\tif (object instanceof Key) {\r\n\t\t\tKey key = (Key) object;\r\n\t\t\tif (this == key)\r\n\t\t\t\treturn true;\r\n\t\t\treturn targetClassName.equals(key.targetClassName) &amp;&amp; Objects.equals(id, key.id);\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n        public String toString() {\r\n\t\t    if(toString != null) return toString;\r\n\t\t    StringBuilder buffer = new StringBuilder();\r\n\t\t    buffer.append(targetClassName);\r\n\t\t     buffer.append(&quot;(&quot;);\r\n\t\t    if (id != null) {\r\n\t\t    \tbuffer.append((new StringBuilder()).append(&quot;\\&quot;&quot;).append(id)\r\n\t\t    \t\t\t.append(&quot;\\&quot;&quot;).toString());\r\n\t\t    } else {\r\n\t\t     \tbuffer.append(&quot;no-id-yet&quot;);\r\n\t    \t}\r\n\t    \tbuffer.append(&quot;)&quot;);\r\n\t\t    return buffer.toString();\r\n\t    }\r\n\r\n    }\r\n\r\nThis application defined identity is working fine on all other models which does not involve inheritance.\r\n\r\nThis is one of the actual models that we intend to store in our datastore:\r\n\r\n    @PersistenceCapable(detachable=&quot;true&quot;)\r\n    @Inheritance(strategy=InheritanceStrategy.COMPLETE_TABLE)\r\n    public class Ticket implements Entity {\r\n    \r\n    \t@PrimaryKey\r\n        @Persistent(valueStrategy = IdGeneratorStrategy.UNSPECIFIED, column=&quot;_id&quot;)\r\n    \tprotected Key key;\r\n    \r\n    \tprotected String date;\r\n    \tprotected int qty;\r\n    \t\r\n    \tpublic Ticket() {\r\n    \t\tthis.qty = 0;\r\n    \t}\r\n    \t\r\n    \tpublic Key getKey() {\r\n    \t\treturn key;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void setKey(Key key) {\r\n    \t\tthis.key = key;\r\n    \t}\r\n    \r\n    \tpublic double getQty() {\r\n    \t\treturn qty;\r\n    \t}\r\n    \r\n    \tpublic void setQty(double qty) {\r\n    \t\tthis.qty = (int) qty;\r\n    \t}\r\n    \r\n    \tpublic String getDate() {\r\n    \t\treturn date;\r\n    \t}\r\n    \r\n    \tpublic void setDate(String date) {\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\tfinal int prime = 31;\r\n    \t\tint result = 1;\r\n    \t\tresult = prime * result + ((key == null) ? 0 : key.hashCode());\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null)\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass())\r\n    \t\t\treturn false;\r\n    \t\tTicket other = (Ticket) obj;\r\n    \t\tif (key == null) {\r\n    \t\t\tif (other.key != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!key.equals(other.key))\r\n    \t\t\treturn false;\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Ticket [key=&quot; + key + &quot;, date=&quot; + date + &quot;, qty=&quot;\r\n    \t\t\t\t+ qty + &quot;]&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd this is its subclass (all models which involve this problem just involve one super class and only one children per every super class):\r\n\r\n    @PersistenceCapable(detachable=&quot;true&quot;)\r\n    @Inheritance(strategy=InheritanceStrategy.COMPLETE_TABLE)\r\n    public class HourTicket extends Ticket implements HourEntity {\r\n    \r\n    \tprivate String hour;\r\n    \t\r\n    \tpublic HourTicket() {\r\n    \t\tsuper();\r\n    \t}\r\n    \t\r\n    \tpublic Key getKey() {\r\n    \t\treturn key;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void setKey(Key key) {\r\n    \t\tthis.key = key;\r\n    \t}\r\n    \r\n    \tpublic String getHour() {\r\n    \t\treturn hour;\r\n    \t}\r\n    \r\n    \tpublic void setHour(String hour) {\r\n    \t\tthis.hour = hour;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\tfinal int prime = 31;\r\n    \t\tint result = 1;\r\n    \t\tresult = prime * result + ((key == null) ? 0 : key.hashCode());\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null)\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass())\r\n    \t\t\treturn false;\r\n    \t\tHourTicket other = (HourTicket) obj;\r\n    \t\tif (key == null) {\r\n    \t\t\tif (other.key != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!key.equals(other.key))\r\n    \t\t\treturn false;\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;HourTicket [key=&quot; + key + &quot;, date=&quot; + date\r\n    \t\t\t\t+ &quot;, hour=&quot; + hour + &quot;, qty=&quot; + qty + &quot;]&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\nFinally, the persisntance.xml is like this\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence\r\n            http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot; version=&quot;2.0&quot;&gt;\r\n    \r\n        &lt;!-- JOSAdmin &quot;unit&quot; --&gt;\r\n        &lt;persistence-unit name=&quot;ourdatastore&quot;&gt;\r\n            &lt;class&gt;mx.ourdomain.Ticket&lt;/class&gt;\r\n            &lt;class&gt;mx.ourdomain.HourTicket&lt;/class&gt;\r\n            &lt;exclude-unlisted-classes/&gt;\r\n    \r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\nAnd package-mongo.orm\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE orm SYSTEM &quot;file:/javax/jdo/orm.dtd&quot;&gt;\r\n    &lt;orm&gt;\r\n        &lt;package name=&quot;mx.ourdomain&quot; &gt;\r\n            &lt;class name=&quot;Ticket&quot; table=&quot;Ticket&quot;&gt;\r\n                &lt;field name=&quot;key&quot; primary-key=&quot;true&quot; &gt;\r\n                \t&lt;column name=&quot;_id&quot; length=&quot;100&quot; /&gt;\r\n                &lt;/field &gt;\r\n            &lt;/class&gt;\r\n    \r\n            &lt;class name=&quot;HourTicket&quot; table=&quot;HourTicket&quot;&gt;\r\n                &lt;primary-key &gt;\r\n                    &lt;column name=&quot;_id&quot; target=&quot;_id&quot; /&gt;\r\n                &lt;/primary-key&gt;\r\n            &lt;/class&gt;\r\n         &lt;/package&gt;\r\n    &lt;/orm&gt;\r\n\r\nSo, the problems comes when trying to perform any read or write operations using either the super class or the subclass. This has happened with the same exact results in several (all possible as far we know) scenarios, but the test scenario we are study begins with this call:\r\n\r\n    Ticket ticket = persistenceManager.getObjectById(Ticket.class, key);\r\n\r\nThe key is generated with an standard procedure which is used by other models which do store and read successfully; and of course, it is of the previously shown key class.\r\n\r\nWe have gone as far as debugging the datanucleus tasks beyond this. And we have found that as expected:\r\n\r\n 1. The metadata shows that its the super class of others.\r\n 2. Its using application managed keys.\r\n\r\nBut when trying to get the class name to determine which is the correct Mongo collection to query, datanucleus-mongodb tries to query both classes (Ticket and HourTicket); but then it handles to the mongo driver the **key** object *perse*, and then a **CodecConfigurationException** is thrown since mongo does not know how to work with the key class (when building the query, datanucleus-mongo creates a BasicDBObject which has the structure {_id:key}, which cannot be constructed without the codec because of the **key** entry. This happens at the MongoDBUtils class in the datanucleus-mongodb project v5.1.0; class MongoDBUtils, method getClassNameForIdentity(Object, AbstractClassMetaData, ExecutionContext, ClassLoaderResolver)).\r\n\r\nSo, we suppose that we have some configuration missing to tell datanucleus that it should use the toString() form of the key; since the Monogo driver handles String just fine (datanuclues docs actually states that when using custom classes as datastore keys it will use the toString() form of the key; so I&#39;m unsure if this could be a bug).\r\n\r\nWe have tried to use a KeyTraslator plugin and making the key class a DatastoreId and wrapping in a StringId with no success: the same exception is fired, except when wrapping the Key class in a StringId: the mongo lecture is sucessful but then when trying to build the model object, an ClassCastException is thrown since String cannot be casted into Key, and refactoring the code to use a String key will badly break data already in database; since it has a special format the key class can read and produce.\r\n\r\nIs there something we are missing using inheritance with datanucleus JDO w/mongoDB?","title":"Exception when retrieving items modeled by inheritance classes from MongoDB using Datanucleus","body":"<p>me and my team are working on an upgrade of our company's system which as getting kind of forgotten and was running old versions of everything it uses; so developing newer features was becoming a pain with newer and unsupported technologies.</p>\n<p>So far we have managed to produce an almost fully working version of the system; but we got stuck at a feature which involves Datanucleus-JDO, MongoDB and inheritance.</p>\n<p>We have some models which are tremendously similar (from the code's perspective). In the current in-production version, to apply a change to it usually involves to rewrite the same piece of code in all classes, so we thought that inheritance would make the job easier and better. So we have two interfaces at the top hierarchy level (which as far we know, Datanuclues nor MongoDB doesn't care about them at all); which go like this:</p>\n<pre><code>public interface Entity extends Serializable {\n\n    String getDate();\n    double getQty();\n    void setQty(double qty);\n    void setDate(String date);\n    void setKey(Key key);\n    \n}\n</code></pre>\n<p>And</p>\n<pre><code>public interface HourEntity extends Entity {\n\n    String getHour();\n    \n}\n</code></pre>\n<p>We use application defined keys, we use this unique class to build different kind of keys. We only want the toString representation of this class to store and retrieve data in Mongo.</p>\n<pre><code>public final class Key implements Serializable {\n    static final long serialVersionUID = -448150158203091507L;\n    public final String targetClassName;\n    public final String id;\n    public final String toString;\n    public final int hashCode;\n\n    public Key() {\n        targetClassName = null;\n        id = null;\n        toString = null;\n        hashCode = -1;\n    }\n\n    public Key(String str) {\n        String[] parts = str.split(&quot;\\\\(&quot;);\n        parts[1] = parts[1].replaceAll(&quot;\\\\)&quot;, &quot; &quot;);\n        parts[1] = parts[1].replace(&quot;\\&quot;&quot;, &quot; &quot;);\n        parts[1] = parts[1].trim();\n        this.targetClassName = parts[0];\n        this.id = parts[1];\n        toString = this.toString();\n        hashCode = this.hashCode();\n    }\n\n    public Key(String classCollectionName, String id) {\n        if (StringUtils.isEmpty(classCollectionName)) {\n            throw new IllegalArgumentException(&quot;No collection/class name specified.&quot;);\n        }\n        if (id == null) {\n            throw new IllegalArgumentException(&quot;ID cannot be null&quot;);\n        }\n        targetClassName = classCollectionName;\n        this.id = id;\n        toString = this.toString();\n        hashCode = this.hashCode();\n    }\n\n    public String getTargetClassName() {\n        return targetClassName;\n    }\n\n    public int hashCode() {\n        if(hashCode != -1) return hashCode; \n        int prime = 31;\n        int result = 1;\n        result = prime * result + (id != null ? id.hashCode() : 0);\n        result = prime * result + (targetClassName != null ? targetClassName.hashCode() : 0);\n        return result;\n    }\n\n    public boolean equals(Object object) {\n    if (object instanceof Key) {\n        Key key = (Key) object;\n        if (this == key)\n            return true;\n        return targetClassName.equals(key.targetClassName) &amp;&amp; Objects.equals(id, key.id);\n    } else {\n        return false;\n    }\n}\n\n    public String toString() {\n        if(toString != null) return toString;\n        StringBuilder buffer = new StringBuilder();\n        buffer.append(targetClassName);\n         buffer.append(&quot;(&quot;);\n        if (id != null) {\n            buffer.append((new StringBuilder()).append(&quot;\\&quot;&quot;).append(id)\n                    .append(&quot;\\&quot;&quot;).toString());\n        } else {\n            buffer.append(&quot;no-id-yet&quot;);\n        }\n        buffer.append(&quot;)&quot;);\n        return buffer.toString();\n    }\n\n}\n</code></pre>\n<p>This application defined identity is working fine on all other models which does not involve inheritance.</p>\n<p>This is one of the actual models that we intend to store in our datastore:</p>\n<pre><code>@PersistenceCapable(detachable=&quot;true&quot;)\n@Inheritance(strategy=InheritanceStrategy.COMPLETE_TABLE)\npublic class Ticket implements Entity {\n\n    @PrimaryKey\n    @Persistent(valueStrategy = IdGeneratorStrategy.UNSPECIFIED, column=&quot;_id&quot;)\n    protected Key key;\n\n    protected String date;\n    protected int qty;\n    \n    public Ticket() {\n        this.qty = 0;\n    }\n    \n    public Key getKey() {\n        return key;\n    }\n\n    @Override\n    public void setKey(Key key) {\n        this.key = key;\n    }\n\n    public double getQty() {\n        return qty;\n    }\n\n    public void setQty(double qty) {\n        this.qty = (int) qty;\n    }\n\n    public String getDate() {\n        return date;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + ((key == null) ? 0 : key.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Ticket other = (Ticket) obj;\n        if (key == null) {\n            if (other.key != null)\n                return false;\n        } else if (!key.equals(other.key))\n            return false;\n        return true;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Ticket [key=&quot; + key + &quot;, date=&quot; + date + &quot;, qty=&quot;\n                + qty + &quot;]&quot;;\n    }\n\n}\n</code></pre>\n<p>And this is its subclass (all models which involve this problem just involve one super class and only one children per every super class):</p>\n<pre><code>@PersistenceCapable(detachable=&quot;true&quot;)\n@Inheritance(strategy=InheritanceStrategy.COMPLETE_TABLE)\npublic class HourTicket extends Ticket implements HourEntity {\n\n    private String hour;\n    \n    public HourTicket() {\n        super();\n    }\n    \n    public Key getKey() {\n        return key;\n    }\n\n    @Override\n    public void setKey(Key key) {\n        this.key = key;\n    }\n\n    public String getHour() {\n        return hour;\n    }\n\n    public void setHour(String hour) {\n        this.hour = hour;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + ((key == null) ? 0 : key.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        HourTicket other = (HourTicket) obj;\n        if (key == null) {\n            if (other.key != null)\n                return false;\n        } else if (!key.equals(other.key))\n            return false;\n        return true;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;HourTicket [key=&quot; + key + &quot;, date=&quot; + date\n                + &quot;, hour=&quot; + hour + &quot;, qty=&quot; + qty + &quot;]&quot;;\n    }\n\n}\n</code></pre>\n<p>Finally, the persisntance.xml is like this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence\n        http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot; version=&quot;2.0&quot;&gt;\n\n    &lt;!-- JOSAdmin &quot;unit&quot; --&gt;\n    &lt;persistence-unit name=&quot;ourdatastore&quot;&gt;\n        &lt;class&gt;mx.ourdomain.Ticket&lt;/class&gt;\n        &lt;class&gt;mx.ourdomain.HourTicket&lt;/class&gt;\n        &lt;exclude-unlisted-classes/&gt;\n\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>And package-mongo.orm</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!DOCTYPE orm SYSTEM &quot;file:/javax/jdo/orm.dtd&quot;&gt;\n&lt;orm&gt;\n    &lt;package name=&quot;mx.ourdomain&quot; &gt;\n        &lt;class name=&quot;Ticket&quot; table=&quot;Ticket&quot;&gt;\n            &lt;field name=&quot;key&quot; primary-key=&quot;true&quot; &gt;\n                &lt;column name=&quot;_id&quot; length=&quot;100&quot; /&gt;\n            &lt;/field &gt;\n        &lt;/class&gt;\n\n        &lt;class name=&quot;HourTicket&quot; table=&quot;HourTicket&quot;&gt;\n            &lt;primary-key &gt;\n                &lt;column name=&quot;_id&quot; target=&quot;_id&quot; /&gt;\n            &lt;/primary-key&gt;\n        &lt;/class&gt;\n     &lt;/package&gt;\n&lt;/orm&gt;\n</code></pre>\n<p>So, the problems comes when trying to perform any read or write operations using either the super class or the subclass. This has happened with the same exact results in several (all possible as far we know) scenarios, but the test scenario we are study begins with this call:</p>\n<pre><code>Ticket ticket = persistenceManager.getObjectById(Ticket.class, key);\n</code></pre>\n<p>The key is generated with an standard procedure which is used by other models which do store and read successfully; and of course, it is of the previously shown key class.</p>\n<p>We have gone as far as debugging the datanucleus tasks beyond this. And we have found that as expected:</p>\n<ol>\n<li>The metadata shows that its the super class of others.</li>\n<li>Its using application managed keys.</li>\n</ol>\n<p>But when trying to get the class name to determine which is the correct Mongo collection to query, datanucleus-mongodb tries to query both classes (Ticket and HourTicket); but then it handles to the mongo driver the <strong>key</strong> object <em>perse</em>, and then a <strong>CodecConfigurationException</strong> is thrown since mongo does not know how to work with the key class (when building the query, datanucleus-mongo creates a BasicDBObject which has the structure {_id:key}, which cannot be constructed without the codec because of the <strong>key</strong> entry. This happens at the MongoDBUtils class in the datanucleus-mongodb project v5.1.0; class MongoDBUtils, method getClassNameForIdentity(Object, AbstractClassMetaData, ExecutionContext, ClassLoaderResolver)).</p>\n<p>So, we suppose that we have some configuration missing to tell datanucleus that it should use the toString() form of the key; since the Monogo driver handles String just fine (datanuclues docs actually states that when using custom classes as datastore keys it will use the toString() form of the key; so I'm unsure if this could be a bug).</p>\n<p>We have tried to use a KeyTraslator plugin and making the key class a DatastoreId and wrapping in a StringId with no success: the same exception is fired, except when wrapping the Key class in a StringId: the mongo lecture is sucessful but then when trying to build the model object, an ClassCastException is thrown since String cannot be casted into Key, and refactoring the code to use a String key will badly break data already in database; since it has a special format the key class can read and produce.</p>\n<p>Is there something we are missing using inheritance with datanucleus JDO w/mongoDB?</p>\n"},{"tags":["java","xml","xml-namespaces","canonicalization"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1667257841,"post_id":74269085,"comment_id":131122958,"body_markdown":"Should `CanonicalizationMethod.EXCLUSIVE_WITH_COMMENTS` be used instead of prefix rewriting?","body":"Should <code>CanonicalizationMethod.EXCLUSIVE_WITH_COMMENTS</code> be used instead of prefix rewriting?"},{"owner":{"account_id":25663694,"reputation":1,"user_id":20382574,"display_name":"Boris"},"score":0,"creation_date":1667430512,"post_id":74269085,"comment_id":131168497,"body_markdown":"Unfortunately, that option doesn&#39;t preserve namespace prefixes.","body":"Unfortunately, that option doesn&#39;t preserve namespace prefixes."}],"answers":[{"comments":[{"owner":{"account_id":25663694,"reputation":1,"user_id":20382574,"display_name":"Boris"},"score":1,"creation_date":1676764190,"post_id":75488762,"comment_id":133203707,"body_markdown":"I already mentioned that GitHub page  in my question and said that I need a Java library, not Python.","body":"I already mentioned that GitHub page  in my question and said that I need a Java library, not Python."}],"tags":[],"owner":{"account_id":2246934,"reputation":11,"user_id":1980074,"display_name":"Asdef"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676664071,"creation_date":1676664071,"answer_id":75488762,"question_id":74269085,"body_markdown":"That python library c14n2py was written from sources of Java library, that lies nearby: `https://github.com/dept2/c14n2`\r\nYou could try to use it","title":"Namespace prefix rewriting for XML cononicalization in Java?","body":"<p>That python library c14n2py was written from sources of Java library, that lies nearby: <code>https://github.com/dept2/c14n2</code>\nYou could try to use it</p>\n"}],"owner":{"account_id":25663694,"reputation":1,"user_id":20382574,"display_name":"Boris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676664071,"creation_date":1667250155,"question_id":74269085,"body_markdown":"I&#39;m trying to 1) compute the digital signature for an XML string, 2) unmarshall the XML string to a Java object, 3) marshall the object back to an XML string, and 4) re-compute signature, and verify against the signature from step 1.\r\n\r\nProblem is that the namespace prefixes usually get changed during the round trip (steps 2-3), so I need a way to standardize them before and after the round trip. Otherwise, the digital signatures (steps 1 and 4) obviously won&#39;t match.\r\n\r\nI figured I need something like **PrefixRewrite=&quot;sequential&quot;** in section 2.5.4 of `https://www.w3.org/TR/xml-c14n2/Overview_diff.html#sec-Example-PrefixRewriteSeq`. I found a Python library that supposedly does that (`https://github.com/dept2/c14n2py`), but I can&#39;t seem to find a Java library with that option (org.apache.xml.security.c14n.Canonicalizer doesn&#39;t have it). I&#39;ve also been able to hard-code the namespace prefixes in my marshaller, but that&#39;s not an acceptable solution for me.\r\n\r\nCan anybody recommend a Java library for XML canonicalization with the PrefixRewrite=&quot;sequential&quot; option?\r\n\r\nThanks!!\r\n\r\n","title":"Namespace prefix rewriting for XML cononicalization in Java?","body":"<p>I'm trying to 1) compute the digital signature for an XML string, 2) unmarshall the XML string to a Java object, 3) marshall the object back to an XML string, and 4) re-compute signature, and verify against the signature from step 1.</p>\n<p>Problem is that the namespace prefixes usually get changed during the round trip (steps 2-3), so I need a way to standardize them before and after the round trip. Otherwise, the digital signatures (steps 1 and 4) obviously won't match.</p>\n<p>I figured I need something like <strong>PrefixRewrite=&quot;sequential&quot;</strong> in section 2.5.4 of <code>https://www.w3.org/TR/xml-c14n2/Overview_diff.html#sec-Example-PrefixRewriteSeq</code>. I found a Python library that supposedly does that (<code>https://github.com/dept2/c14n2py</code>), but I can't seem to find a Java library with that option (org.apache.xml.security.c14n.Canonicalizer doesn't have it). I've also been able to hard-code the namespace prefixes in my marshaller, but that's not an acceptable solution for me.</p>\n<p>Can anybody recommend a Java library for XML canonicalization with the PrefixRewrite=&quot;sequential&quot; option?</p>\n<p>Thanks!!</p>\n"},{"tags":["java","syntax","protocol-buffers"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1676534239,"post_id":75469231,"comment_id":133156907,"body_markdown":"Why can&#39;t you use a for loop? You might have to split your statement but I don&#39;t see anything that prevents you from using a loop (I&#39;m no expert on protobuf though, so I might miss something)","body":"Why can&#39;t you use a for loop? You might have to split your statement but I don&#39;t see anything that prevents you from using a loop (I&#39;m no expert on protobuf though, so I might miss something)"},{"owner":{"account_id":16482287,"reputation":558,"user_id":11908728,"display_name":"8bit"},"score":0,"creation_date":1676534592,"post_id":75469231,"comment_id":133156990,"body_markdown":"Is there a request.foreach() Method? Teen you could use request.foreach().getTextDataFields(0)","body":"Is there a request.foreach() Method? Teen you could use request.foreach().getTextDataFields(0)"}],"answers":[{"tags":[],"owner":{"account_id":10088138,"reputation":55,"user_id":7533628,"display_name":"Erin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676663820,"creation_date":1676663820,"answer_id":75488738,"question_id":75469231,"body_markdown":"As it turned out, I can simply use the &quot;add all&quot; function from Protobuf\r\n\r\n```\r\nrequest.getTextData(0)\r\n       .toBuilder()\r\n       .addAllTextDataFields(request.getTextDataFieldsList())\r\n       .build()\r\n```","title":"Java - How to assign a list of values to a repeated protobuf field without for loop?","body":"<p>As it turned out, I can simply use the &quot;add all&quot; function from Protobuf</p>\n<pre><code>request.getTextData(0)\n       .toBuilder()\n       .addAllTextDataFields(request.getTextDataFieldsList())\n       .build()\n</code></pre>\n"}],"owner":{"account_id":10088138,"reputation":55,"user_id":7533628,"display_name":"Erin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75488738,"answer_count":1,"score":1,"last_activity_date":1676663820,"creation_date":1676533849,"question_id":75469231,"body_markdown":"Suppose `TextData` and `TextDataFields` are two protobuf messages, but `TextDataFields` is also a repeated field interleaved in `TextData`[^1]\r\n\r\nThis current code can compile:\r\n\r\n```java\r\nrequest.getTextData(0)\r\n       .toBuilder()\r\n       .setTextDataFields(0, request.getTextDataFields(0))\r\n       .build()\r\n```\r\n\r\nHowever, on the 3rd line, since `TextDataFields` is repeated, there can be more than one or zero values. Currently the code only gets the first `TextDataFields` value and ignores the rest (And if there&#39;s none, it would have an index out of bound error)\r\n\r\nMy question is, how to modify the 3rd line to capture all the `TextDataFields`? So it would be something like\r\n\r\n```java\r\nrequest.getTextData(0)\r\n       .toBuilder()\r\n       .setTextDataFields(i, request.getTextDataFields(i) for i in range(0, request.getTextDataFieldsCount)))\r\n       .build()\r\n```\r\n\r\nMaybe use `stream()` or `intstream()`?\r\n\r\nThanks!\r\n\r\n---\r\n\r\n[^1]: An example would be like:\r\n\r\n```\r\nmessage TextData {\r\n  optional string id = 1;\r\n  repeated TextDataField text_data_fields = 2;\r\n}\r\n\r\nmessage TextDataField {\r\n  optional string id = 1\r\n  ... # other fields\r\n}\r\n```","title":"Java - How to assign a list of values to a repeated protobuf field without for loop?","body":"<p>Suppose <code>TextData</code> and <code>TextDataFields</code> are two protobuf messages, but <code>TextDataFields</code> is also a repeated field interleaved in <code>TextData</code>[^1]</p>\n<p>This current code can compile:</p>\n<pre class=\"lang-java prettyprint-override\"><code>request.getTextData(0)\n       .toBuilder()\n       .setTextDataFields(0, request.getTextDataFields(0))\n       .build()\n</code></pre>\n<p>However, on the 3rd line, since <code>TextDataFields</code> is repeated, there can be more than one or zero values. Currently the code only gets the first <code>TextDataFields</code> value and ignores the rest (And if there's none, it would have an index out of bound error)</p>\n<p>My question is, how to modify the 3rd line to capture all the <code>TextDataFields</code>? So it would be something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>request.getTextData(0)\n       .toBuilder()\n       .setTextDataFields(i, request.getTextDataFields(i) for i in range(0, request.getTextDataFieldsCount)))\n       .build()\n</code></pre>\n<p>Maybe use <code>stream()</code> or <code>intstream()</code>?</p>\n<p>Thanks!</p>\n<hr />\n<p>[^1]: An example would be like:</p>\n<pre><code>message TextData {\n  optional string id = 1;\n  repeated TextDataField text_data_fields = 2;\n}\n\nmessage TextDataField {\n  optional string id = 1\n  ... # other fields\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","backend"],"owner":{"account_id":27290286,"reputation":11,"user_id":20808810,"display_name":"Melo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676663541,"creation_date":1676663389,"question_id":75488661,"body_markdown":"I created the following code to receive the id of the field and change the string array that is there by removing the fields passed in the parameter, or if the fields received by the parameter have everything that was passed, delete that field in the given id.\r\n\r\nThe structure is something like:\r\n\r\n    { 110: [ &#39;abc&#39;, &#39;def&#39;}\r\n\r\nWhen I pass the id of the field 110, and the array I want the elements that have in common in the array that I passed and what is in the field id 110 to be removed, using the postgres database\r\n\r\n\r\n\r\n    `    @Modifying\r\n        @Query(\r\n            value = &quot;WITH fields AS &quot; +\r\n                &quot;(SELECT ( &quot; +\r\n                &quot;CASE &quot; +\r\n                &quot;WHEN (  ( CAST( array_to_json(  ARRAY [ ?2 ] ) AS JSONB) ) @&gt; ( fields -&gt; ?1 ) ) IS TRUE &quot; +\r\n                &quot;THEN fields - ?1 &quot; +\r\n                &quot;ELSE jsonb_set(fields, &#39;{?1}&#39;, jsonb_delete(fields -&gt; ?1, ?2 )) &quot; +\r\n                &quot;END &quot; +\r\n                &quot;) AS current &quot; +\r\n                &quot;FROM customer &quot; +\r\n                &quot;WHERE jsonb_exists_any( fields -&gt; ?1, ( CAST( ARRAY[ ?2 ] as TEXT[] ) ) )&quot; +\r\n                &quot;) &quot; +\r\n                &quot;UPDATE customer SET fields = fields.current FROM fields WHERE jsonb_exists_any( fields -&gt; ?1, ( CAST( ARRAY[ ?2 ] as TEXT[] ) ) )&quot;,\r\n            nativeQuery = true\r\n        )\r\n        void remove( String fieldId, Set&lt; String &gt; values );`\r\n\r\n\r\n\r\nThe structure is something like:\r\n\r\n    { 110: [ &#39;abc&#39;, &#39;def&#39;}\r\n\r\nWhen I pass the id of the field 110, and the array I want the elements that have in common in the array that I passed and what is in the field id 110 to be removed, using the postgres database\r\n","title":"Spring Boot how to receive in the Jpa Repository String[] and search in the postgres database the fields that contain the similar array and change it","body":"<p>I created the following code to receive the id of the field and change the string array that is there by removing the fields passed in the parameter, or if the fields received by the parameter have everything that was passed, delete that field in the given id.</p>\n<p>The structure is something like:</p>\n<pre><code>{ 110: [ 'abc', 'def'}\n</code></pre>\n<p>When I pass the id of the field 110, and the array I want the elements that have in common in the array that I passed and what is in the field id 110 to be removed, using the postgres database</p>\n<pre><code>`    @Modifying\n    @Query(\n        value = &quot;WITH fields AS &quot; +\n            &quot;(SELECT ( &quot; +\n            &quot;CASE &quot; +\n            &quot;WHEN (  ( CAST( array_to_json(  ARRAY [ ?2 ] ) AS JSONB) ) @&gt; ( fields -&gt; ?1 ) ) IS TRUE &quot; +\n            &quot;THEN fields - ?1 &quot; +\n            &quot;ELSE jsonb_set(fields, '{?1}', jsonb_delete(fields -&gt; ?1, ?2 )) &quot; +\n            &quot;END &quot; +\n            &quot;) AS current &quot; +\n            &quot;FROM customer &quot; +\n            &quot;WHERE jsonb_exists_any( fields -&gt; ?1, ( CAST( ARRAY[ ?2 ] as TEXT[] ) ) )&quot; +\n            &quot;) &quot; +\n            &quot;UPDATE customer SET fields = fields.current FROM fields WHERE jsonb_exists_any( fields -&gt; ?1, ( CAST( ARRAY[ ?2 ] as TEXT[] ) ) )&quot;,\n        nativeQuery = true\n    )\n    void remove( String fieldId, Set&lt; String &gt; values );`\n</code></pre>\n<p>The structure is something like:</p>\n<pre><code>{ 110: [ 'abc', 'def'}\n</code></pre>\n<p>When I pass the id of the field 110, and the array I want the elements that have in common in the array that I passed and what is in the field id 110 to be removed, using the postgres database</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":1,"creation_date":1318848354,"post_id":7792535,"comment_id":9491763,"body_markdown":"Depends on what order he is after though. It won&#39;t guarantee insertion order.","body":"Depends on what order he is after though. It won&#39;t guarantee insertion order."},{"owner":{"account_id":2863665,"reputation":5360,"user_id":2458372,"accept_rate":68,"display_name":"JavaDeveloper"},"score":1,"creation_date":1382225456,"post_id":7792535,"comment_id":28877595,"body_markdown":"linkedhashmap would be a better option","body":"linkedhashmap would be a better option"}],"tags":[],"owner":{"account_id":287756,"reputation":3499,"user_id":587772,"accept_rate":80,"display_name":"Sasha Goldshtein"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1318847918,"creation_date":1318847918,"answer_id":7792535,"question_id":7792523,"body_markdown":"You need to use `SortedMap` instead of `HashMap`. It will guarantee order.","title":"HashMap gives an unordered list of values?","body":"<p>You need to use <code>SortedMap</code> instead of <code>HashMap</code>. It will guarantee order.</p>\n"},{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1318847986,"creation_date":1318847986,"answer_id":7792547,"question_id":7792523,"body_markdown":"Use [`LinkedHashMap`][1] instead\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.6/docs/api/java/util/LinkedHashMap.html","title":"HashMap gives an unordered list of values?","body":"<p>Use <a href=\"http://download.oracle.com/javase/1.6/docs/api/java/util/LinkedHashMap.html\" rel=\"nofollow\"><code>LinkedHashMap</code></a> instead</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1676663429,"creation_date":1318847998,"answer_id":7792550,"question_id":7792523,"body_markdown":"That&#39;s right. The `HashMap` implementation of `Map` does not guarantee any order during iteration.\r\n\r\n### If you want ordering based on insertion...\r\n\r\n...have a look at [`LinkedHashMap`](http://download.oracle.com/javase/6/docs/api/java/util/LinkedHashMap.html):\r\n\r\n    Map&lt;String, String&gt; sample = new LinkedHashMap&lt;String, String&gt;();\r\n    \r\n    sample.put(&quot;ifi1&quot;, &quot;video1&quot;);\r\n    sample.put(&quot;ifi2&quot;, &quot;video2&quot;);\r\n    sample.put(&quot;ifi3&quot;, &quot;video3&quot;);\r\n    sample.put(&quot;ifi4&quot;, &quot;video4&quot;);\r\n    sample.put(&quot;ifi5&quot;, &quot;video5&quot;);\r\n    sample.put(&quot;ifi6&quot;, &quot;video6&quot;);\r\n    sample.put(&quot;ifi7&quot;, &quot;video7&quot;);\r\n    sample.put(&quot;ifi8&quot;, &quot;video8&quot;);\r\n    sample.put(&quot;ifi9&quot;, &quot;video9&quot;);\r\n    \r\n    for (String video : sample.values())\r\n        System.out.println(video);\r\n\r\n    // Prints\r\n    video1\r\n    video2\r\n    video3\r\n    video4\r\n    video5\r\n    video6\r\n    video7\r\n    video8\r\n    video9\r\n\r\n\r\n### If you want ordering based on the keys...\r\n\r\nUse a `NavigableMap` or [`SortedMap`](http://download.oracle.com/javase/6/docs/api/java/util/SortedMap.html) implementation such as a [`TreeMap`](http://download.oracle.com/javase/6/docs/api/java/util/TreeMap.html).","title":"HashMap gives an unordered list of values?","body":"<p>That's right. The <code>HashMap</code> implementation of <code>Map</code> does not guarantee any order during iteration.</p>\n<h3>If you want ordering based on insertion...</h3>\n<p>...have a look at <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\"><code>LinkedHashMap</code></a>:</p>\n<pre><code>Map&lt;String, String&gt; sample = new LinkedHashMap&lt;String, String&gt;();\n\nsample.put(&quot;ifi1&quot;, &quot;video1&quot;);\nsample.put(&quot;ifi2&quot;, &quot;video2&quot;);\nsample.put(&quot;ifi3&quot;, &quot;video3&quot;);\nsample.put(&quot;ifi4&quot;, &quot;video4&quot;);\nsample.put(&quot;ifi5&quot;, &quot;video5&quot;);\nsample.put(&quot;ifi6&quot;, &quot;video6&quot;);\nsample.put(&quot;ifi7&quot;, &quot;video7&quot;);\nsample.put(&quot;ifi8&quot;, &quot;video8&quot;);\nsample.put(&quot;ifi9&quot;, &quot;video9&quot;);\n\nfor (String video : sample.values())\n    System.out.println(video);\n\n// Prints\nvideo1\nvideo2\nvideo3\nvideo4\nvideo5\nvideo6\nvideo7\nvideo8\nvideo9\n</code></pre>\n<h3>If you want ordering based on the keys...</h3>\n<p>Use a <code>NavigableMap</code> or <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/SortedMap.html\" rel=\"nofollow noreferrer\"><code>SortedMap</code></a> implementation such as a <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\"><code>TreeMap</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318848004,"creation_date":1318848004,"answer_id":7792551,"question_id":7792523,"body_markdown":"You can also use a [`LinkedHashMap`](http://download.oracle.com/javase/1.6/docs/api/java/util/LinkedHashMap.html) in order to obtain the collection of entries in the same order they were inserted in.","title":"HashMap gives an unordered list of values?","body":"<p>You can also use a <a href=\"http://download.oracle.com/javase/1.6/docs/api/java/util/LinkedHashMap.html\" rel=\"nofollow\"><code>LinkedHashMap</code></a> in order to obtain the collection of entries in the same order they were inserted in.</p>\n"},{"tags":[],"owner":{"account_id":261786,"reputation":13726,"user_id":546205,"accept_rate":60,"display_name":"Miguel Prz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318848108,"creation_date":1318848108,"answer_id":7792573,"question_id":7792523,"body_markdown":"look for a class that implements SortedMap interface. Or for print purposes only, you can order de Set returned from your Map with Collections.sort","title":"HashMap gives an unordered list of values?","body":"<p>look for a class that implements SortedMap interface. Or for print purposes only, you can order de Set returned from your Map with Collections.sort</p>\n"},{"tags":[],"owner":{"account_id":231589,"reputation":6295,"user_id":495906,"accept_rate":73,"display_name":"anujprashar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1318848194,"creation_date":1318848194,"answer_id":7792587,"question_id":7792523,"body_markdown":"In HashMap order is not there. Try using [LinkedHashMap][1] instead. `LinkedHashMap` keeps track of the keys based on insertion order, so that when you do a call to `getKeySet()`, you will get the keys back in the order you put them in.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/util/LinkedHashMap.html","title":"HashMap gives an unordered list of values?","body":"<p>In HashMap order is not there. Try using <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/util/LinkedHashMap.html\" rel=\"nofollow\">LinkedHashMap</a> instead. <code>LinkedHashMap</code> keeps track of the keys based on insertion order, so that when you do a call to <code>getKeySet()</code>, you will get the keys back in the order you put them in.</p>\n"},{"tags":[],"owner":{"account_id":211423,"reputation":4694,"user_id":463586,"accept_rate":93,"display_name":"neeraj t"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318848355,"creation_date":1318848355,"answer_id":7792618,"question_id":7792523,"body_markdown":"If you use Simple HashMap then  this class use some hashing technique to store the value ,at the time of extracting the data from list its use same hash technique. And Hash function are not ordered. that&#39;s why result is  coming unordered.\r\nIn Placed  of HashMap  you have to use LinkedHashMap to make it ordered List. ","title":"HashMap gives an unordered list of values?","body":"<p>If you use Simple HashMap then  this class use some hashing technique to store the value ,at the time of extracting the data from list its use same hash technique. And Hash function are not ordered. that's why result is  coming unordered.\nIn Placed  of HashMap  you have to use LinkedHashMap to make it ordered List. </p>\n"},{"comments":[{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1318849892,"post_id":7792881,"comment_id":9492140,"body_markdown":"`&lt;String, String&gt;` in his case.","body":"<code>&lt;String, String&gt;</code> in his case."}],"tags":[],"owner":{"account_id":456637,"reputation":2173,"user_id":855503,"accept_rate":60,"display_name":"mihail"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318849788,"creation_date":1318849788,"answer_id":7792881,"question_id":7792523,"body_markdown":"    LinkedHashMap&lt;T, T&gt;\r\n\r\nkeep the insert order","title":"HashMap gives an unordered list of values?","body":"<pre><code>LinkedHashMap&lt;T, T&gt;\n</code></pre>\n\n<p>keep the insert order</p>\n"}],"owner":{"account_id":938768,"reputation":3476,"user_id":967232,"accept_rate":56,"display_name":"bytebiscuit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20778,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":7792550,"answer_count":8,"score":10,"last_activity_date":1676663429,"creation_date":1318847843,"question_id":7792523,"body_markdown":"I&#39;m having a weird problem with HashMap in Android. I&#39;m putting values into the hashmap which is of the form\r\n\r\n    HashMap &lt;String,String&gt; sample = new HashMap&lt;String,String&gt;();\r\n\r\nHowever let&#39;s say I&#39;m putting the following values in the following order:\r\n\r\n    sample.put(&quot;ifi1&quot;, &quot;video1&quot;);\r\n    sample.put(&quot;ifi2&quot;, &quot;video2&quot;);\r\n    sample.put(&quot;ifi3&quot;, &quot;video3&quot;);\r\n    sample.put(&quot;ifi4&quot;, &quot;video4&quot;);\r\n    sample.put(&quot;ifi5&quot;, &quot;video5&quot;);\r\n    sample.put(&quot;ifi6&quot;, &quot;video6&quot;);\r\n    sample.put(&quot;ifi7&quot;, &quot;video7&quot;);\r\n    sample.put(&quot;ifi8&quot;, &quot;video8&quot;);\r\n    sample.put(&quot;ifi9&quot;, &quot;video9&quot;);\r\n\t\t\r\n\r\nThis is just a simple example that is similar to what i have. I only have a bigger list in my actual code. However when I now try to print only the values, I get an unordered list as follows:\r\n\r\n    VIDEOS: video1\r\n    VIDEOS: video3\r\n    VIDEOS: video2\r\n    VIDEOS: video5\r\n    VIDEOS: video4\r\n    VIDEOS: video7\r\n    VIDEOS: video6\r\n    VIDEOS: video9\r\n    VIDEOS: video8\r\n\r\nwhere in fact I&#39;m expecting it to produces the following list:\r\n \r\n\r\n    VIDEOS: video1\r\n    VIDEOS: video2\r\n    VIDEOS: video3\r\n    VIDEOS: video4\r\n    VIDEOS: video5\r\n    VIDEOS: video6\r\n    VIDEOS: video7\r\n    VIDEOS: video8\r\n    VIDEOS: video9\r\n\r\nWhy is this, any idea?","title":"HashMap gives an unordered list of values?","body":"<p>I'm having a weird problem with HashMap in Android. I'm putting values into the hashmap which is of the form</p>\n\n<pre><code>HashMap &lt;String,String&gt; sample = new HashMap&lt;String,String&gt;();\n</code></pre>\n\n<p>However let's say I'm putting the following values in the following order:</p>\n\n<pre><code>sample.put(\"ifi1\", \"video1\");\nsample.put(\"ifi2\", \"video2\");\nsample.put(\"ifi3\", \"video3\");\nsample.put(\"ifi4\", \"video4\");\nsample.put(\"ifi5\", \"video5\");\nsample.put(\"ifi6\", \"video6\");\nsample.put(\"ifi7\", \"video7\");\nsample.put(\"ifi8\", \"video8\");\nsample.put(\"ifi9\", \"video9\");\n</code></pre>\n\n<p>This is just a simple example that is similar to what i have. I only have a bigger list in my actual code. However when I now try to print only the values, I get an unordered list as follows:</p>\n\n<pre><code>VIDEOS: video1\nVIDEOS: video3\nVIDEOS: video2\nVIDEOS: video5\nVIDEOS: video4\nVIDEOS: video7\nVIDEOS: video6\nVIDEOS: video9\nVIDEOS: video8\n</code></pre>\n\n<p>where in fact I'm expecting it to produces the following list:</p>\n\n<pre><code>VIDEOS: video1\nVIDEOS: video2\nVIDEOS: video3\nVIDEOS: video4\nVIDEOS: video5\nVIDEOS: video6\nVIDEOS: video7\nVIDEOS: video8\nVIDEOS: video9\n</code></pre>\n\n<p>Why is this, any idea?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1465045319,"creation_date":1465044654,"answer_id":37630434,"question_id":37630350,"body_markdown":"What kind of JSON mapper do you use? Jackson, GSON, ...?\r\n\r\nAnd please provide some code. So we can see what you&#39;re doing.\r\n\r\n---\r\n\r\nIf you created the JSON object using Java, you should have a Java Object structure, right?\r\n\r\nSomething like this:\r\n\r\n    class Data {\r\n      int id;\r\n      int age;\r\n      LocalDate date;\r\n      ...\r\n    }\r\n\r\nAnd somewhere an Array / List of your data:\r\n\r\n    List&lt;Data&gt; result = new ArrayList&lt;&gt;();\r\n    result.add(data1);\r\n    result.add(data2);\r\n    result.add(data3);\r\n\r\nThen you can use Java8 Stream API to group your data:\r\n\r\n    Map&lt;LocalDate, Data&gt; grouped = result\r\n        .stream()\r\n        .collect(\r\n            Collectors.groupingBy(Data::getDate)\r\n        );\r\n\r\nThe result will be a `Map`. Your result should be a `List`. \r\n\r\nSo you should be able to simply iterate over the `Map` and insert it into a new `List`.","title":"Grouping same date JSON data together Using java","body":"<p>What kind of JSON mapper do you use? Jackson, GSON, ...?</p>\n\n<p>And please provide some code. So we can see what you're doing.</p>\n\n<hr>\n\n<p>If you created the JSON object using Java, you should have a Java Object structure, right?</p>\n\n<p>Something like this:</p>\n\n<pre><code>class Data {\n  int id;\n  int age;\n  LocalDate date;\n  ...\n}\n</code></pre>\n\n<p>And somewhere an Array / List of your data:</p>\n\n<pre><code>List&lt;Data&gt; result = new ArrayList&lt;&gt;();\nresult.add(data1);\nresult.add(data2);\nresult.add(data3);\n</code></pre>\n\n<p>Then you can use Java8 Stream API to group your data:</p>\n\n<pre><code>Map&lt;LocalDate, Data&gt; grouped = result\n    .stream()\n    .collect(\n        Collectors.groupingBy(Data::getDate)\n    );\n</code></pre>\n\n<p>The result will be a <code>Map</code>. Your result should be a <code>List</code>. </p>\n\n<p>So you should be able to simply iterate over the <code>Map</code> and insert it into a new <code>List</code>.</p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676662938,"creation_date":1676662938,"answer_id":75488618,"question_id":37630350,"body_markdown":"You can use JSON library such as _Josson_ to do the transformation.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;result\\&quot;:[&quot; +\r\n        &quot;    {\\&quot;ID\\&quot;:7252,\\&quot;Age\\&quot;:52,\\&quot;Date\\&quot;:\\&quot;2015-11-25\\&quot;,\\&quot;DAY\\&quot;:\\&quot;Wednesday\\&quot;,\\&quot;Gender\\&quot;:\\&quot;M\\&quot;},&quot; +\r\n        &quot;    {\\&quot;ID\\&quot;:7252,\\&quot;Age\\&quot;:52,\\&quot;Date\\&quot;:\\&quot;2015-12-05\\&quot;,\\&quot;DAY\\&quot;:\\&quot;Saturday\\&quot;,\\&quot;Gender\\&quot;:\\&quot;M\\&quot;},&quot; +\r\n        &quot;    {\\&quot;ID\\&quot;:7252,\\&quot;Age\\&quot;:52,\\&quot;Date\\&quot;:\\&quot;2015-11-25\\&quot;,\\&quot;DAY\\&quot;:\\&quot;Wednesday\\&quot;,\\&quot;Gender\\&quot;:\\&quot;F\\&quot;},&quot; +\r\n        &quot;    {\\&quot;ID\\&quot;:7252,\\&quot;Age\\&quot;:52,\\&quot;Date\\&quot;:\\&quot;2015-12-05\\&quot;,\\&quot;DAY\\&quot;:\\&quot;Saturday\\&quot;,\\&quot;Gender\\&quot;:\\&quot;F\\&quot;}&quot; +\r\n        &quot;  ],&quot; +\r\n        &quot;  \\&quot;status\\&quot;:\\&quot;ok\\&quot;&quot; +\r\n        &quot;}&quot;);\r\n    JsonNode node = josson.getNode(&quot;field(result.group(Date).map(Date::elements))&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n        \r\n    {\r\n      &quot;result&quot; : [ {\r\n        &quot;2015-11-25&quot; : [ {\r\n          &quot;ID&quot; : 7252,\r\n          &quot;Age&quot; : 52,\r\n          &quot;Date&quot; : &quot;2015-11-25&quot;,\r\n          &quot;DAY&quot; : &quot;Wednesday&quot;,\r\n          &quot;Gender&quot; : &quot;M&quot;\r\n        }, {\r\n          &quot;ID&quot; : 7252,\r\n          &quot;Age&quot; : 52,\r\n          &quot;Date&quot; : &quot;2015-11-25&quot;,\r\n          &quot;DAY&quot; : &quot;Wednesday&quot;,\r\n          &quot;Gender&quot; : &quot;F&quot;\r\n        } ]\r\n      }, {\r\n        &quot;2015-12-05&quot; : [ {\r\n          &quot;ID&quot; : 7252,\r\n          &quot;Age&quot; : 52,\r\n          &quot;Date&quot; : &quot;2015-12-05&quot;,\r\n          &quot;DAY&quot; : &quot;Saturday&quot;,\r\n          &quot;Gender&quot; : &quot;M&quot;\r\n        }, {\r\n          &quot;ID&quot; : 7252,\r\n          &quot;Age&quot; : 52,\r\n          &quot;Date&quot; : &quot;2015-12-05&quot;,\r\n          &quot;DAY&quot; : &quot;Saturday&quot;,\r\n          &quot;Gender&quot; : &quot;F&quot;\r\n        } ]\r\n      } ],\r\n      &quot;status&quot; : &quot;ok&quot;\r\n    }  ","title":"Grouping same date JSON data together Using java","body":"<p>You can use JSON library such as <em>Josson</em> to do the transformation.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;result\\&quot;:[&quot; +\n    &quot;    {\\&quot;ID\\&quot;:7252,\\&quot;Age\\&quot;:52,\\&quot;Date\\&quot;:\\&quot;2015-11-25\\&quot;,\\&quot;DAY\\&quot;:\\&quot;Wednesday\\&quot;,\\&quot;Gender\\&quot;:\\&quot;M\\&quot;},&quot; +\n    &quot;    {\\&quot;ID\\&quot;:7252,\\&quot;Age\\&quot;:52,\\&quot;Date\\&quot;:\\&quot;2015-12-05\\&quot;,\\&quot;DAY\\&quot;:\\&quot;Saturday\\&quot;,\\&quot;Gender\\&quot;:\\&quot;M\\&quot;},&quot; +\n    &quot;    {\\&quot;ID\\&quot;:7252,\\&quot;Age\\&quot;:52,\\&quot;Date\\&quot;:\\&quot;2015-11-25\\&quot;,\\&quot;DAY\\&quot;:\\&quot;Wednesday\\&quot;,\\&quot;Gender\\&quot;:\\&quot;F\\&quot;},&quot; +\n    &quot;    {\\&quot;ID\\&quot;:7252,\\&quot;Age\\&quot;:52,\\&quot;Date\\&quot;:\\&quot;2015-12-05\\&quot;,\\&quot;DAY\\&quot;:\\&quot;Saturday\\&quot;,\\&quot;Gender\\&quot;:\\&quot;F\\&quot;}&quot; +\n    &quot;  ],&quot; +\n    &quot;  \\&quot;status\\&quot;:\\&quot;ok\\&quot;&quot; +\n    &quot;}&quot;);\nJsonNode node = josson.getNode(&quot;field(result.group(Date).map(Date::elements))&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;result&quot; : [ {\n    &quot;2015-11-25&quot; : [ {\n      &quot;ID&quot; : 7252,\n      &quot;Age&quot; : 52,\n      &quot;Date&quot; : &quot;2015-11-25&quot;,\n      &quot;DAY&quot; : &quot;Wednesday&quot;,\n      &quot;Gender&quot; : &quot;M&quot;\n    }, {\n      &quot;ID&quot; : 7252,\n      &quot;Age&quot; : 52,\n      &quot;Date&quot; : &quot;2015-11-25&quot;,\n      &quot;DAY&quot; : &quot;Wednesday&quot;,\n      &quot;Gender&quot; : &quot;F&quot;\n    } ]\n  }, {\n    &quot;2015-12-05&quot; : [ {\n      &quot;ID&quot; : 7252,\n      &quot;Age&quot; : 52,\n      &quot;Date&quot; : &quot;2015-12-05&quot;,\n      &quot;DAY&quot; : &quot;Saturday&quot;,\n      &quot;Gender&quot; : &quot;M&quot;\n    }, {\n      &quot;ID&quot; : 7252,\n      &quot;Age&quot; : 52,\n      &quot;Date&quot; : &quot;2015-12-05&quot;,\n      &quot;DAY&quot; : &quot;Saturday&quot;,\n      &quot;Gender&quot; : &quot;F&quot;\n    } ]\n  } ],\n  &quot;status&quot; : &quot;ok&quot;\n}  \n</code></pre>\n"}],"owner":{"account_id":4992052,"reputation":328,"user_id":4013940,"accept_rate":19,"display_name":"NIKHIL K A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2844,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1676662938,"creation_date":1465044019,"question_id":37630350,"body_markdown":"I have created one json Object Using java and it&#39;s values are given below \r\n\r\n    {\r\n      &quot;result&quot;:[\r\n        {&quot;ID&quot;:7252,&quot;Age&quot;:52,&quot;Date&quot;:&quot;2015-11-25&quot;,&quot;DAY&quot;:&quot;Wednesday&quot;,&quot;Gender&quot;:&quot;M&quot;},\r\n        {&quot;ID&quot;:7252,&quot;Age&quot;:52,&quot;Date&quot;:&quot;2015-12-05&quot;,&quot;DAY&quot;:&quot;Saturday&quot;,&quot;Gender&quot;:&quot;M&quot;},\r\n        ....\r\n      ],\r\n      &quot;status&quot;:&quot;ok&quot;\r\n    }\r\n\r\nI need to group data as per date,required format is given below\r\n\r\n    {\r\n      &quot;result&quot;:[\r\n        {&quot;2015-11-25&quot;:[\r\n          {&quot;ID&quot;:7252,&quot;Age&quot;:52,&quot;Date&quot;:&quot;2015-11-25&quot;,&quot;DAY&quot;:&quot;Wednesday&quot;,&quot;Gender&quot;:&quot;F&quot;},\r\n          {&quot;ID&quot;:7252,&quot;Age&quot;:52,&quot;Date&quot;:&quot;2015-11-25&quot;,&quot;DAY&quot;:&quot;Wednesday&quot;,&quot;Gender&quot;:&quot;M&quot;}\r\n        ]},\r\n        {&quot;2015-10-25&quot;:[\r\n          {&quot;ID&quot;:7252,&quot;Age&quot;:52,&quot;Date&quot;:&quot;2015-10-25&quot;,&quot;DAY&quot;:&quot;Tuesday&quot;,&quot;Gender&quot;:&quot;F&quot;},\r\n          {&quot;ID&quot;:7252,&quot;Age&quot;:52,&quot;Date&quot;:&quot;2015-10-25&quot;,&quot;DAY&quot;:&quot;Tuesday&quot;,&quot;Gender&quot;:&quot;M&quot;}\r\n        ]},\r\n      ],\r\n      &quot;status&quot;:&quot;ok&quot;\r\n    }\r\n \r\nBasically i need group all same date data together inside JSON\r\nwith date as key \r\nHow can i achieve this JSON format using java  ","title":"Grouping same date JSON data together Using java","body":"<p>I have created one json Object Using java and it's values are given below </p>\n\n<pre><code>{\n  \"result\":[\n    {\"ID\":7252,\"Age\":52,\"Date\":\"2015-11-25\",\"DAY\":\"Wednesday\",\"Gender\":\"M\"},\n    {\"ID\":7252,\"Age\":52,\"Date\":\"2015-12-05\",\"DAY\":\"Saturday\",\"Gender\":\"M\"},\n    ....\n  ],\n  \"status\":\"ok\"\n}\n</code></pre>\n\n<p>I need to group data as per date,required format is given below</p>\n\n<pre><code>{\n  \"result\":[\n    {\"2015-11-25\":[\n      {\"ID\":7252,\"Age\":52,\"Date\":\"2015-11-25\",\"DAY\":\"Wednesday\",\"Gender\":\"F\"},\n      {\"ID\":7252,\"Age\":52,\"Date\":\"2015-11-25\",\"DAY\":\"Wednesday\",\"Gender\":\"M\"}\n    ]},\n    {\"2015-10-25\":[\n      {\"ID\":7252,\"Age\":52,\"Date\":\"2015-10-25\",\"DAY\":\"Tuesday\",\"Gender\":\"F\"},\n      {\"ID\":7252,\"Age\":52,\"Date\":\"2015-10-25\",\"DAY\":\"Tuesday\",\"Gender\":\"M\"}\n    ]},\n  ],\n  \"status\":\"ok\"\n}\n</code></pre>\n\n<p>Basically i need group all same date data together inside JSON\nwith date as key \nHow can i achieve this JSON format using java  </p>\n"},{"tags":["java","macos","homebrew","java-11","macos-ventura"],"answers":[{"tags":[],"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669304166,"creation_date":1669304166,"answer_id":74563141,"question_id":74547190,"body_markdown":"I deleted all openjdk 11 directories using rm\r\n\r\n    /Library/Java/JavaVirtualMachines/\r\n\r\n&amp;\r\n\r\n    /usr/local/Cellar/\r\n\r\nand reinstalled openjdk11 using:\r\n\r\n     brew install openjdk@11\r\n\r\nNow, no more popup errors.","title":"Popup error: &quot;openjdk-11.0.2 is damaged and can&#39;t be opened&quot; on mac os ventura","body":"<p>I deleted all openjdk 11 directories using rm</p>\n<pre><code>/Library/Java/JavaVirtualMachines/\n</code></pre>\n<p>&amp;</p>\n<pre><code>/usr/local/Cellar/\n</code></pre>\n<p>and reinstalled openjdk11 using:</p>\n<pre><code> brew install openjdk@11\n</code></pre>\n<p>Now, no more popup errors.</p>\n"},{"tags":[],"owner":{"account_id":416303,"reputation":9236,"user_id":791609,"display_name":"chenrui"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669840715,"creation_date":1669840715,"answer_id":74633894,"question_id":74547190,"body_markdown":"Reinstallation is always your best bet. I have run into such issues couple of times before as well.","title":"Popup error: &quot;openjdk-11.0.2 is damaged and can&#39;t be opened&quot; on mac os ventura","body":"<p>Reinstallation is always your best bet. I have run into such issues couple of times before as well.</p>\n"},{"tags":[],"owner":{"account_id":3032231,"reputation":21,"user_id":2571006,"display_name":"ashcradr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676662801,"creation_date":1676662491,"answer_id":75488564,"question_id":74547190,"body_markdown":"For recent MacOS releases (I believe Catalina and newer), the key is the following command (note you may have to adjust the path for your flavor of JDK - this one is for GraalVM):\r\n\r\n    xattr -r -d com.apple.quarantine /Library/Java/JavaVirtualMachines/graalvm-ce-javaV-XX.Y.Z\r\n\r\nIt&#39;s outlined nicely on the [graalvm/homebrew-tap install instructions][1].\r\n\r\n\r\n  [1]: https://github.com/graalvm/homebrew-tap","title":"Popup error: &quot;openjdk-11.0.2 is damaged and can&#39;t be opened&quot; on mac os ventura","body":"<p>For recent MacOS releases (I believe Catalina and newer), the key is the following command (note you may have to adjust the path for your flavor of JDK - this one is for GraalVM):</p>\n<pre><code>xattr -r -d com.apple.quarantine /Library/Java/JavaVirtualMachines/graalvm-ce-javaV-XX.Y.Z\n</code></pre>\n<p>It's outlined nicely on the <a href=\"https://github.com/graalvm/homebrew-tap\" rel=\"nofollow noreferrer\">graalvm/homebrew-tap install instructions</a>.</p>\n"}],"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2458,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1676662801,"creation_date":1669208306,"question_id":74547190,"body_markdown":"jdk 11 was fine on my mac os Mojave. On upgrading to Mac OS Ventura, I started seeing this popup error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yoPkq.png\r\n\r\nopenjdk-11.0.2 is damaged and can&#39;t be opened.I uninstalled and reinstalled openjdk11 using brew but still get the same error:\r\n\r\n    $ brew uninstall openjdk@11\r\n    Uninstalling /usr/local/Cellar/openjdk@11/11.0.16.1_1... (678 files, 298.8MB)\r\n\r\n    $ /usr/libexec/java_home -V\r\n    Matching Java Virtual Machines (2):\r\n        1.8.261.12 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n        1.8.0_191 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_191.jdk/Contents/Home\r\n    /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n\r\n    $ brew install openjdk@11\r\n    ==&gt; Downloading https://ghcr.io/v2/homebrew/core/openjdk/11/manifests/11.0.16.1_1\r\n    Already downloaded: /Users/user/Library/Caches/Homebrew/downloads/66d77b9adc57a7f85fca1b4c90e6187f64aa336a0777d7dc1014151d925df3d8--openjdk@11-11.0.16.1_1.bottle_manifest.json\r\n    ==&gt; Downloading https://ghcr.io/v2/homebrew/core/openjdk/11/blobs/sha256:4157114f6dd128b93d0732559787f191678d2d496476e19855a03d0f226aa50c\r\n    Already downloaded: /Users/user/Library/Caches/Homebrew/downloads/853c10b19f8f8cd779b49261c60a74abf52e9fea1067d934c45549bea2b8ed3e--openjdk@11--11.0.16.1_1.ventura.bottle.tar.gz\r\n    ==&gt; Pouring openjdk@11--11.0.16.1_1.ventura.bottle.tar.gz\r\n\r\n    ==&gt; Caveats\r\n    For the system Java wrappers to find this JDK, symlink it with\r\n      sudo ln -sfn /usr/local/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk\r\n\r\n    openjdk@11 is keg-only, which means it was not symlinked into /usr/local,\r\n    because this is an alternate version of another formula.\r\n\r\n    If you need to have openjdk@11 first in your PATH, run:\r\n      echo &#39;export PATH=&quot;/usr/local/opt/openjdk@11/bin:$PATH&quot;&#39; &gt;&gt; /Users/user/.bash_profile\r\n\r\n    For compilers to find openjdk@11 you may need to set:\r\n      export CPPFLAGS=&quot;-I/usr/local/opt/openjdk@11/include&quot;\r\n\r\n    ==&gt; Summary\r\n      /usr/local/Cellar/openjdk@11/11.0.16.1_1: 678 files, 298.8MB\r\n    ==&gt; Running `brew cleanup openjdk@11`...\r\n    Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.\r\n    Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).\r\n\r\n","title":"Popup error: &quot;openjdk-11.0.2 is damaged and can&#39;t be opened&quot; on mac os ventura","body":"<p>jdk 11 was fine on my mac os Mojave. On upgrading to Mac OS Ventura, I started seeing this popup error:</p>\n<p><a href=\"https://i.stack.imgur.com/yoPkq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yoPkq.png\" alt=\"enter image description here\" /></a></p>\n<p>openjdk-11.0.2 is damaged and can't be opened.I uninstalled and reinstalled openjdk11 using brew but still get the same error:</p>\n<pre><code>$ brew uninstall openjdk@11\nUninstalling /usr/local/Cellar/openjdk@11/11.0.16.1_1... (678 files, 298.8MB)\n\n$ /usr/libexec/java_home -V\nMatching Java Virtual Machines (2):\n    1.8.261.12 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n    1.8.0_191 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_191.jdk/Contents/Home\n/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n\n$ brew install openjdk@11\n==&gt; Downloading https://ghcr.io/v2/homebrew/core/openjdk/11/manifests/11.0.16.1_1\nAlready downloaded: /Users/user/Library/Caches/Homebrew/downloads/66d77b9adc57a7f85fca1b4c90e6187f64aa336a0777d7dc1014151d925df3d8--openjdk@11-11.0.16.1_1.bottle_manifest.json\n==&gt; Downloading https://ghcr.io/v2/homebrew/core/openjdk/11/blobs/sha256:4157114f6dd128b93d0732559787f191678d2d496476e19855a03d0f226aa50c\nAlready downloaded: /Users/user/Library/Caches/Homebrew/downloads/853c10b19f8f8cd779b49261c60a74abf52e9fea1067d934c45549bea2b8ed3e--openjdk@11--11.0.16.1_1.ventura.bottle.tar.gz\n==&gt; Pouring openjdk@11--11.0.16.1_1.ventura.bottle.tar.gz\n\n==&gt; Caveats\nFor the system Java wrappers to find this JDK, symlink it with\n  sudo ln -sfn /usr/local/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk\n\nopenjdk@11 is keg-only, which means it was not symlinked into /usr/local,\nbecause this is an alternate version of another formula.\n\nIf you need to have openjdk@11 first in your PATH, run:\n  echo 'export PATH=&quot;/usr/local/opt/openjdk@11/bin:$PATH&quot;' &gt;&gt; /Users/user/.bash_profile\n\nFor compilers to find openjdk@11 you may need to set:\n  export CPPFLAGS=&quot;-I/usr/local/opt/openjdk@11/include&quot;\n\n==&gt; Summary\n  /usr/local/Cellar/openjdk@11/11.0.16.1_1: 678 files, 298.8MB\n==&gt; Running `brew cleanup openjdk@11`...\nDisable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.\nHide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).\n</code></pre>\n"},{"tags":["java","reflection","avro"],"comments":[{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":0,"creation_date":1673390559,"post_id":75076310,"comment_id":132487376,"body_markdown":"Have you tried getRecordSchema(Object o) instead of getSchema(Type t)? This alphabetical ordering seems very strange though.","body":"Have you tried getRecordSchema(Object o) instead of getSchema(Type t)? This alphabetical ordering seems very strange though."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1673392224,"post_id":75076310,"comment_id":132487736,"body_markdown":"Fields do not have an ordering. `Class.getFields()` may return fields in any arbitrary order.","body":"Fields do not have an ordering. <code>Class.getFields()</code> may return fields in any arbitrary order."},{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":1,"creation_date":1673392888,"post_id":75076310,"comment_id":132487866,"body_markdown":"Avro version 1.10.0 changed ReflectData to [sort fields into alphabetical order](https://issues.apache.org/jira/browse/AVRO-2579). Some people [complained that was a breaking change](https://issues.apache.org/jira/browse/AVRO-3138).","body":"Avro version 1.10.0 changed ReflectData to <a href=\"https://issues.apache.org/jira/browse/AVRO-2579\" rel=\"nofollow noreferrer\">sort fields into alphabetical order</a>. Some people <a href=\"https://issues.apache.org/jira/browse/AVRO-3138\" rel=\"nofollow noreferrer\">complained that was a breaking change</a>."},{"owner":{"account_id":8454076,"reputation":907,"user_id":6341982,"accept_rate":85,"display_name":"Luiz Henrique"},"score":0,"creation_date":1673406766,"post_id":75076310,"comment_id":132489967,"body_markdown":"@ChinHuang does it still have this behavior on 1.11.0? If so, how can I properly convert N array of bytes to this schema in an order that was not expected?","body":"@ChinHuang does it still have this behavior on 1.11.0? If so, how can I properly convert N array of bytes to this schema in an order that was not expected?"},{"owner":{"account_id":8454076,"reputation":907,"user_id":6341982,"accept_rate":85,"display_name":"Luiz Henrique"},"score":0,"creation_date":1673406889,"post_id":75076310,"comment_id":132489987,"body_markdown":"@Csisanyi It is not the case. I have an array of bytes and need to convert to an Object. I do not have the Object o, just the schema of the Object.class","body":"@Csisanyi It is not the case. I have an array of bytes and need to convert to an Object. I do not have the Object o, just the schema of the Object.class"},{"owner":{"account_id":8454076,"reputation":907,"user_id":6341982,"accept_rate":85,"display_name":"Luiz Henrique"},"score":0,"creation_date":1676659123,"post_id":75076310,"comment_id":133188817,"body_markdown":"@ChinHuang, the version was the issue. Would you mind writting the answer so I can accept it?","body":"@ChinHuang, the version was the issue. Would you mind writting the answer so I can accept it?"}],"answers":[{"tags":[],"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676662778,"creation_date":1676662778,"answer_id":75488598,"question_id":75076310,"body_markdown":"Avro version 1.10.0 changed ReflectData to [sort fields into alphabetical order](https://issues.apache.org/jira/browse/AVRO-2579) because the Class.getDeclaredFields() method API specification does not mandate a specific order of the fields that get returned. Some Java implementations return the fields in the order they appear in the Java source file. Some people [complained that was a breaking change](https://issues.apache.org/jira/browse/AVRO-3138).\r\n\r\nIf you don&#39;t want the fields sorted into alphabetical order, then you must stay at Avro version 1.9.2 or lower.","title":"Avro Schema is being generated in wrong field order (alphabetical)","body":"<p>Avro version 1.10.0 changed ReflectData to <a href=\"https://issues.apache.org/jira/browse/AVRO-2579\" rel=\"nofollow noreferrer\">sort fields into alphabetical order</a> because the Class.getDeclaredFields() method API specification does not mandate a specific order of the fields that get returned. Some Java implementations return the fields in the order they appear in the Java source file. Some people <a href=\"https://issues.apache.org/jira/browse/AVRO-3138\" rel=\"nofollow noreferrer\">complained that was a breaking change</a>.</p>\n<p>If you don't want the fields sorted into alphabetical order, then you must stay at Avro version 1.9.2 or lower.</p>\n"}],"owner":{"account_id":8454076,"reputation":907,"user_id":6341982,"accept_rate":85,"display_name":"Luiz Henrique"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75488598,"answer_count":1,"score":2,"last_activity_date":1676662778,"creation_date":1673388105,"question_id":75076310,"body_markdown":"I have a class the I need to converto to an avro schema:\r\n\r\n    public class MonitorStateSchema {\r\n        private MetaResponse c;\r\n        private Header a;\r\n        private MonitorStateEnvelope b;\r\n    \r\n        public MonitorStateSchema(MetaResponse c, Header a, MonitorStateEnvelope b) {\r\n            this.c = c;\r\n            this.a = a;\r\n            this.b = b;\r\n        }\r\n    }\r\n\r\nI use a generic method to get the schema from it\r\n\r\n    public static &lt;D&gt; void getFromAvro(Class&lt;D&gt; schemaType) {\r\n        Schema schema = ReflectData.get().getSchema(schemaType);\r\n    \r\n       // other stuff\r\n    }\r\n\r\nAfter doing it, I got a different order in the result than the expected:\r\n\r\nEXPECTED:\r\n\r\n    {\r\n      &quot;type&quot;: &quot;record&quot;,\r\n      &quot;name&quot;: &quot;MonitorSchema&quot;,\r\n      &quot;namespace&quot;: &quot;mypackage.monitor&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;c&quot;,\r\n          &quot;type&quot;: {\r\n            &quot;type&quot;: &quot;record&quot;,\r\n            &quot;name&quot;: &quot;MetaResponse&quot;,\r\n            &quot;namespace&quot;: &quot;mypackage.monitor&quot;,\r\n            &quot;fields&quot;: [\r\n              {\r\n                &quot;name&quot;: &quot;uuid&quot;,\r\n                &quot;type&quot;: &quot;string&quot;\r\n              },\r\n              {\r\n                &quot;name&quot;: &quot;code&quot;,\r\n                &quot;type&quot;: &quot;int&quot;\r\n              },\r\n              {\r\n                &quot;name&quot;: &quot;message&quot;,\r\n                &quot;type&quot;: &quot;string&quot;\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          &quot;name&quot;: &quot;a&quot;,\r\n          &quot;type&quot;: {\r\n            &quot;type&quot;: &quot;record&quot;,\r\n            &quot;name&quot;: &quot;Header&quot;,\r\n            &quot;namespace&quot;: &quot;mypackage.monitor&quot;,\r\n            &quot;fields&quot;: [\r\n              {\r\n                &quot;name&quot;: &quot;apiKey&quot;,\r\n                &quot;type&quot;: &quot;string&quot;\r\n              },\r\n              {\r\n                &quot;name&quot;: &quot;signature&quot;,\r\n                &quot;type&quot;: &quot;string&quot;\r\n              },\r\n              {\r\n                &quot;name&quot;: &quot;nonce&quot;,\r\n                &quot;type&quot;: &quot;int&quot;\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          &quot;name&quot;: &quot;b&quot;,\r\n          &quot;type&quot;: {\r\n            &quot;type&quot;: &quot;record&quot;,\r\n            &quot;name&quot;: &quot;MonitorEnvelope&quot;,\r\n            &quot;fields&quot;: [\r\n              {\r\n                &quot;name&quot;: &quot;fields&quot;,\r\n                &quot;type&quot;: {\r\n                  &quot;type&quot;: &quot;array&quot;,\r\n                  &quot;items&quot;: {\r\n                    &quot;type&quot;: &quot;record&quot;,\r\n                    &quot;name&quot;: &quot;Field&quot;,\r\n                    &quot;fields&quot;: [\r\n                      {\r\n                        &quot;name&quot;: &quot;name&quot;,\r\n                        &quot;type&quot;: &quot;string&quot;\r\n                      },\r\n                      {\r\n                        &quot;name&quot;: &quot;value&quot;,\r\n                        &quot;type&quot;: &quot;string&quot;\r\n                      }\r\n                    ]\r\n                  },\r\n                  &quot;java-class&quot;: &quot;[Lmypackage.monitor.Field;&quot;\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\r\nACTUAL RESULT:\r\n\r\n    {\r\n      &quot;type&quot;: &quot;record&quot;,\r\n      &quot;name&quot;: &quot;MonitorStateSchema&quot;,\r\n      &quot;namespace&quot;: &quot;mypackage.monitor&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;a&quot;,\r\n          &quot;type&quot;: {\r\n            &quot;type&quot;: &quot;record&quot;,\r\n            &quot;name&quot;: &quot;Header&quot;,\r\n            &quot;namespace&quot;: &quot;mypackage.monitor&quot;,\r\n            &quot;fields&quot;: [\r\n              {\r\n                &quot;name&quot;: &quot;apiKey&quot;,\r\n                &quot;type&quot;: &quot;string&quot;\r\n              },\r\n              {\r\n                &quot;name&quot;: &quot;nonce&quot;,\r\n                &quot;type&quot;: &quot;int&quot;\r\n              },\r\n              {\r\n                &quot;name&quot;: &quot;signature&quot;,\r\n                &quot;type&quot;: &quot;string&quot;\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          &quot;name&quot;: &quot;b&quot;,\r\n          &quot;type&quot;: {\r\n            &quot;type&quot;: &quot;record&quot;,\r\n            &quot;name&quot;: &quot;MonitorStateEnvelope&quot;,\r\n            &quot;fields&quot;: [\r\n              {\r\n                &quot;name&quot;: &quot;fields&quot;,\r\n                &quot;type&quot;: {\r\n                  &quot;type&quot;: &quot;array&quot;,\r\n                  &quot;items&quot;: {\r\n                    &quot;type&quot;: &quot;record&quot;,\r\n                    &quot;name&quot;: &quot;Field&quot;,\r\n                    &quot;namespace&quot;: &quot;mypackage.monitor&quot;,\r\n                    &quot;fields&quot;: [\r\n                      {\r\n                        &quot;name&quot;: &quot;name&quot;,\r\n                        &quot;type&quot;: &quot;string&quot;\r\n                      },\r\n                      {\r\n                        &quot;name&quot;: &quot;value&quot;,\r\n                        &quot;type&quot;: &quot;string&quot;\r\n                      }\r\n                    ]\r\n                  },\r\n                  &quot;java-class&quot;: &quot;[Lmypackage.monitor.Field;&quot;\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          &quot;name&quot;: &quot;c&quot;,\r\n          &quot;type&quot;: {\r\n            &quot;type&quot;: &quot;record&quot;,\r\n            &quot;name&quot;: &quot;MetaResponse&quot;,\r\n            &quot;namespace&quot;: &quot;mypackage.monitor&quot;,\r\n            &quot;fields&quot;: [\r\n              {\r\n                &quot;name&quot;: &quot;code&quot;,\r\n                &quot;type&quot;: &quot;int&quot;\r\n              },\r\n              {\r\n                &quot;name&quot;: &quot;message&quot;,\r\n                &quot;type&quot;: &quot;string&quot;\r\n              },\r\n              {\r\n                &quot;name&quot;: &quot;uuid&quot;,\r\n                &quot;type&quot;: &quot;string&quot;\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\r\nSeems that it is ordering by alphabetical order on the name of the field and it is breaking the application when deserializing the byte array. Is there any reason for this to happen?","title":"Avro Schema is being generated in wrong field order (alphabetical)","body":"<p>I have a class the I need to converto to an avro schema:</p>\n<pre><code>public class MonitorStateSchema {\n    private MetaResponse c;\n    private Header a;\n    private MonitorStateEnvelope b;\n\n    public MonitorStateSchema(MetaResponse c, Header a, MonitorStateEnvelope b) {\n        this.c = c;\n        this.a = a;\n        this.b = b;\n    }\n}\n</code></pre>\n<p>I use a generic method to get the schema from it</p>\n<pre><code>public static &lt;D&gt; void getFromAvro(Class&lt;D&gt; schemaType) {\n    Schema schema = ReflectData.get().getSchema(schemaType);\n\n   // other stuff\n}\n</code></pre>\n<p>After doing it, I got a different order in the result than the expected:</p>\n<p>EXPECTED:</p>\n<pre><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;MonitorSchema&quot;,\n  &quot;namespace&quot;: &quot;mypackage.monitor&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;c&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;record&quot;,\n        &quot;name&quot;: &quot;MetaResponse&quot;,\n        &quot;namespace&quot;: &quot;mypackage.monitor&quot;,\n        &quot;fields&quot;: [\n          {\n            &quot;name&quot;: &quot;uuid&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          },\n          {\n            &quot;name&quot;: &quot;code&quot;,\n            &quot;type&quot;: &quot;int&quot;\n          },\n          {\n            &quot;name&quot;: &quot;message&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          }\n        ]\n      }\n    },\n    {\n      &quot;name&quot;: &quot;a&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;record&quot;,\n        &quot;name&quot;: &quot;Header&quot;,\n        &quot;namespace&quot;: &quot;mypackage.monitor&quot;,\n        &quot;fields&quot;: [\n          {\n            &quot;name&quot;: &quot;apiKey&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          },\n          {\n            &quot;name&quot;: &quot;signature&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          },\n          {\n            &quot;name&quot;: &quot;nonce&quot;,\n            &quot;type&quot;: &quot;int&quot;\n          }\n        ]\n      }\n    },\n    {\n      &quot;name&quot;: &quot;b&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;record&quot;,\n        &quot;name&quot;: &quot;MonitorEnvelope&quot;,\n        &quot;fields&quot;: [\n          {\n            &quot;name&quot;: &quot;fields&quot;,\n            &quot;type&quot;: {\n              &quot;type&quot;: &quot;array&quot;,\n              &quot;items&quot;: {\n                &quot;type&quot;: &quot;record&quot;,\n                &quot;name&quot;: &quot;Field&quot;,\n                &quot;fields&quot;: [\n                  {\n                    &quot;name&quot;: &quot;name&quot;,\n                    &quot;type&quot;: &quot;string&quot;\n                  },\n                  {\n                    &quot;name&quot;: &quot;value&quot;,\n                    &quot;type&quot;: &quot;string&quot;\n                  }\n                ]\n              },\n              &quot;java-class&quot;: &quot;[Lmypackage.monitor.Field;&quot;\n            }\n          }\n        ]\n      }\n    }\n  ]\n}\n</code></pre>\n<p>ACTUAL RESULT:</p>\n<pre><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;MonitorStateSchema&quot;,\n  &quot;namespace&quot;: &quot;mypackage.monitor&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;a&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;record&quot;,\n        &quot;name&quot;: &quot;Header&quot;,\n        &quot;namespace&quot;: &quot;mypackage.monitor&quot;,\n        &quot;fields&quot;: [\n          {\n            &quot;name&quot;: &quot;apiKey&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          },\n          {\n            &quot;name&quot;: &quot;nonce&quot;,\n            &quot;type&quot;: &quot;int&quot;\n          },\n          {\n            &quot;name&quot;: &quot;signature&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          }\n        ]\n      }\n    },\n    {\n      &quot;name&quot;: &quot;b&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;record&quot;,\n        &quot;name&quot;: &quot;MonitorStateEnvelope&quot;,\n        &quot;fields&quot;: [\n          {\n            &quot;name&quot;: &quot;fields&quot;,\n            &quot;type&quot;: {\n              &quot;type&quot;: &quot;array&quot;,\n              &quot;items&quot;: {\n                &quot;type&quot;: &quot;record&quot;,\n                &quot;name&quot;: &quot;Field&quot;,\n                &quot;namespace&quot;: &quot;mypackage.monitor&quot;,\n                &quot;fields&quot;: [\n                  {\n                    &quot;name&quot;: &quot;name&quot;,\n                    &quot;type&quot;: &quot;string&quot;\n                  },\n                  {\n                    &quot;name&quot;: &quot;value&quot;,\n                    &quot;type&quot;: &quot;string&quot;\n                  }\n                ]\n              },\n              &quot;java-class&quot;: &quot;[Lmypackage.monitor.Field;&quot;\n            }\n          }\n        ]\n      }\n    },\n    {\n      &quot;name&quot;: &quot;c&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;record&quot;,\n        &quot;name&quot;: &quot;MetaResponse&quot;,\n        &quot;namespace&quot;: &quot;mypackage.monitor&quot;,\n        &quot;fields&quot;: [\n          {\n            &quot;name&quot;: &quot;code&quot;,\n            &quot;type&quot;: &quot;int&quot;\n          },\n          {\n            &quot;name&quot;: &quot;message&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          },\n          {\n            &quot;name&quot;: &quot;uuid&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          }\n        ]\n      }\n    }\n  ]\n}\n</code></pre>\n<p>Seems that it is ordering by alphabetical order on the name of the field and it is breaking the application when deserializing the byte array. Is there any reason for this to happen?</p>\n"},{"tags":["java","tomcat","cookies"],"comments":[{"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1478368552,"post_id":40399811,"comment_id":68129532,"body_markdown":"I&#39;m not reading that. Where&#39;s the character `0x44` in all that? Basically, you can&#39;t put that character into a cookie value: you need to encode it somehow. So, either figure out why `0x44` is ending up in your cookie value and fix that (because it&#39;s an error?) or encode your binary data using e.g. base64 before dropping it into a cookie.","body":"I&#39;m not reading that. Where&#39;s the character <code>0x44</code> in all that? Basically, you can&#39;t put that character into a cookie value: you need to encode it somehow. So, either figure out why <code>0x44</code> is ending up in your cookie value and fix that (because it&#39;s an error?) or encode your binary data using e.g. base64 before dropping it into a cookie."}],"answers":[{"tags":[],"owner":{"account_id":450557,"reputation":16963,"user_id":845948,"display_name":"ryanbraganza"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1482358398,"creation_date":1482358398,"answer_id":41272800,"question_id":40399811,"body_markdown":"Character `44` (comma) is not valid in a cookie value.\r\n\r\nSee https://www.rfc-editor.org/rfc/rfc6265 for more details.","title":"Java, Tomcat : AN invalid character was present in the cookie value","body":"<p>Character <code>44</code> (comma) is not valid in a cookie value.</p>\n<p>See <a href=\"https://www.rfc-editor.org/rfc/rfc6265\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc6265</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":27806320,"reputation":1,"user_id":21229644,"display_name":"Yerko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676662683,"creation_date":1676662683,"answer_id":75488592,"question_id":40399811,"body_markdown":"The solution for me was to change the version of Tomcat, I was working with 8.5 and I was getting the character error in cookie value, I changed to Tomcat 9 and the problem continued, finally with Tomcat 7 it was solved. The most logical option is to replace the commas in the cookie values, but if you want to quickly fix the problem locally and keep working you might consider switching from Tomcat.","title":"Java, Tomcat : AN invalid character was present in the cookie value","body":"<p>The solution for me was to change the version of Tomcat, I was working with 8.5 and I was getting the character error in cookie value, I changed to Tomcat 9 and the problem continued, finally with Tomcat 7 it was solved. The most logical option is to replace the commas in the cookie values, but if you want to quickly fix the problem locally and keep working you might consider switching from Tomcat.</p>\n"}],"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5856,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1676662683,"creation_date":1478170831,"question_id":40399811,"body_markdown":"I am working a SPring-MVC project where I am trying to set the cookie. I am using Tomcat7, And I have already set the cookie processor in context.xml to `Rfc6265CookieProcessor`. Currently I am getting the following error.\r\n\r\nError log :\r\n\r\n    HTTP Status 500 - Request processing failed; nested exception is java.lang.IllegalArgumentException: An invalid character [44] was present in the Cookie value\r\n    \r\n    type Exception report\r\n    \r\n    message Request processing failed; nested exception is java.lang.IllegalArgumentException: An invalid character [44] was present in the Cookie value\r\n    \r\n    description The server encountered an internal error that prevented it from fulfilling this request.\r\n    \r\n    exception\r\n    \r\n    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.IllegalArgumentException: An invalid character [44] was present in the Cookie value\r\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:979)\r\n    org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)\r\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)\r\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n\r\n\r\nCookie values to be set : The spaces are not actually there, got them while reformatting in IntelliJ to get them in one paragraph :\r\n\r\n      s.d774b7c6eabba92fce3edbed8a9b003b,\r\n    s.bdf5f951e4ab858aac87fb182439f57f,\r\n    s.e77bd0cd86b4af86c4a550ec11d71d4c,\r\n                            s.431334e112350c9d545f7a44cbcc530d,\r\n                            s.6e6057e5483b538cf9c6daf2934fd825,\r\n                            s.ea2438094c8631123fab3bf3efb7ec17,\r\n                            s.e17b1d9dd1b9702ca8c9e95d30906dd5, s .3f 3 c8f3fc19597025ef87dafc0fb277a, s .5531\r\n                    b742d6e12717f4071818b5861bd2, s .420811998d\r\n                    b14d0a68dd9e3d3c04849f, s.d8ed1aa3b0a2e513d449a96182898160, s.f3b5784d6e777032c6b7576e7d824af0, s .69\r\n                    bc19557e43fcfa83816f427b60a09d, s .5677087e bc57003436c55f49fceff5cb, s .5f\r\n                    a872b3e84fd69618534940034e1adb, s.fe4184c9b925ddf04def79c0c55392ca, s .74e4438d 05f 267\r\n                    c48297a0c66a7dbeba, s .95e c071a356cf1998d809267006725db, s .9 b72a01cfda4509833c1f0c7bf2afdac, s .5240f\r\n                    10897d 2f 96f 49d 0328 a2521519c, s .518 cd1d749fbba6540424874d64c5443","title":"Java, Tomcat : AN invalid character was present in the cookie value","body":"<p>I am working a SPring-MVC project where I am trying to set the cookie. I am using Tomcat7, And I have already set the cookie processor in context.xml to <code>Rfc6265CookieProcessor</code>. Currently I am getting the following error.</p>\n\n<p>Error log :</p>\n\n<pre><code>HTTP Status 500 - Request processing failed; nested exception is java.lang.IllegalArgumentException: An invalid character [44] was present in the Cookie value\n\ntype Exception report\n\nmessage Request processing failed; nested exception is java.lang.IllegalArgumentException: An invalid character [44] was present in the Cookie value\n\ndescription The server encountered an internal error that prevented it from fulfilling this request.\n\nexception\n\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.IllegalArgumentException: An invalid character [44] was present in the Cookie value\norg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:979)\norg.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:648)\norg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n</code></pre>\n\n<p>Cookie values to be set : The spaces are not actually there, got them while reformatting in IntelliJ to get them in one paragraph :</p>\n\n<pre><code>  s.d774b7c6eabba92fce3edbed8a9b003b,\ns.bdf5f951e4ab858aac87fb182439f57f,\ns.e77bd0cd86b4af86c4a550ec11d71d4c,\n                        s.431334e112350c9d545f7a44cbcc530d,\n                        s.6e6057e5483b538cf9c6daf2934fd825,\n                        s.ea2438094c8631123fab3bf3efb7ec17,\n                        s.e17b1d9dd1b9702ca8c9e95d30906dd5, s .3f 3 c8f3fc19597025ef87dafc0fb277a, s .5531\n                b742d6e12717f4071818b5861bd2, s .420811998d\n                b14d0a68dd9e3d3c04849f, s.d8ed1aa3b0a2e513d449a96182898160, s.f3b5784d6e777032c6b7576e7d824af0, s .69\n                bc19557e43fcfa83816f427b60a09d, s .5677087e bc57003436c55f49fceff5cb, s .5f\n                a872b3e84fd69618534940034e1adb, s.fe4184c9b925ddf04def79c0c55392ca, s .74e4438d 05f 267\n                c48297a0c66a7dbeba, s .95e c071a356cf1998d809267006725db, s .9 b72a01cfda4509833c1f0c7bf2afdac, s .5240f\n                10897d 2f 96f 49d 0328 a2521519c, s .518 cd1d749fbba6540424874d64c5443\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","hibernate-mapping"],"answers":[{"comments":[{"owner":{"account_id":26272722,"reputation":3,"user_id":19942409,"display_name":"rmayo"},"score":0,"creation_date":1676664016,"post_id":75488588,"comment_id":133190068,"body_markdown":"This produces a new IllegalStateException: &quot;object references an unsaved transient instance - save the transient instance before flushing&quot;","body":"This produces a new IllegalStateException: &quot;object references an unsaved transient instance - save the transient instance before flushing&quot;"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676665573,"post_id":75488588,"comment_id":133190448,"body_markdown":"Is one of the keys (instance of MyEntityClass) new and not yet saved?","body":"Is one of the keys (instance of MyEntityClass) new and not yet saved?"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676665660,"post_id":75488588,"comment_id":133190470,"body_markdown":"You might try it with `@OneToMany` (with the cascading as in your original code), the documentation isn&#39;t totally clear about it.","body":"You might try it with <code>@OneToMany</code> (with the cascading as in your original code), the documentation isn&#39;t totally clear about it."}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676662654,"creation_date":1676662654,"answer_id":75488588,"question_id":75488429,"body_markdown":"According to [the JPA WikiBook][1], you might need to use `@MapKeyJoinColumn` to specify the column that&#39;s used to join two entities. I also don&#39;t think you want both `@OneToMany` and `@ElementCollection` for the same relationship.\r\n\r\nFor example, this should work:\r\n```java\r\n@Entity\r\npublic class SecondClass extends DomainObject {\r\n    \r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @ElementCollection\r\n    @MapKeyJoinColumn(name = &quot;MY_ENTITY_ID&quot;)\r\n    private final Map&lt;MyEntityClass, Integer&gt; myMap;\r\n}\r\n```\r\n\r\n  [1]: https://en.wikibooks.org/wiki/Java_Persistence/Relationships#Map_Key_Columns_(JPA_2.0)","title":"Persisting a Map where the Key is an Entity with Hibernate and Spring","body":"<p>According to <a href=\"https://en.wikibooks.org/wiki/Java_Persistence/Relationships#Map_Key_Columns_(JPA_2.0)\" rel=\"nofollow noreferrer\">the JPA WikiBook</a>, you might need to use <code>@MapKeyJoinColumn</code> to specify the column that's used to join two entities. I also don't think you want both <code>@OneToMany</code> and <code>@ElementCollection</code> for the same relationship.</p>\n<p>For example, this should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class SecondClass extends DomainObject {\n    \n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @ElementCollection\n    @MapKeyJoinColumn(name = &quot;MY_ENTITY_ID&quot;)\n    private final Map&lt;MyEntityClass, Integer&gt; myMap;\n}\n</code></pre>\n"}],"owner":{"account_id":26272722,"reputation":3,"user_id":19942409,"display_name":"rmayo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676662654,"creation_date":1676661348,"question_id":75488429,"body_markdown":"New to Hibernate and I want to persist a hashmap where the key is another entity. I&#39;ve gone through a number of online articles and similar questions and all of them produce some form of IllegalStateException.\r\n\r\nHere is what I have currently:\r\n\r\n```java\r\n@Entity\r\npublic class SecondClass extends DomainObject {\r\n    \r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @OneToMany ( cascade = CascadeType.ALL, fetch = FetchType.EAGER )\r\n    @ElementCollection\r\n    @MapKeyClass ( MyEntity.class )\r\n    private final Map&lt;MyEntityClass, Integer&gt; myMap;\r\n}\r\n```\r\n\r\nI am too inexperienced at Hibernate to know what the problem is or how to fix it. Any help would be appreciated.","title":"Persisting a Map where the Key is an Entity with Hibernate and Spring","body":"<p>New to Hibernate and I want to persist a hashmap where the key is another entity. I've gone through a number of online articles and similar questions and all of them produce some form of IllegalStateException.</p>\n<p>Here is what I have currently:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class SecondClass extends DomainObject {\n    \n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @OneToMany ( cascade = CascadeType.ALL, fetch = FetchType.EAGER )\n    @ElementCollection\n    @MapKeyClass ( MyEntity.class )\n    private final Map&lt;MyEntityClass, Integer&gt; myMap;\n}\n</code></pre>\n<p>I am too inexperienced at Hibernate to know what the problem is or how to fix it. Any help would be appreciated.</p>\n"},{"tags":["java","arrays","json","android-studio"],"answers":[{"comments":[{"owner":{"account_id":8352421,"reputation":46,"user_id":6274040,"accept_rate":40,"display_name":"iOSMAn"},"score":0,"creation_date":1472537698,"post_id":39205030,"comment_id":65777937,"body_markdown":"I dont know how many designations will be there or what all designations are. So I will have to do this in dynamic way. Can you help with that?","body":"I dont know how many designations will be there or what all designations are. So I will have to do this in dynamic way. Can you help with that?"}],"tags":[],"owner":{"account_id":4397202,"reputation":1432,"user_id":3583831,"accept_rate":78,"display_name":"Kruti Patel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472469627,"creation_date":1472469627,"answer_id":39205030,"question_id":39204438,"body_markdown":"**Here is the code:**\r\n\r\n    JsonParser parser =  new JsonParser();\r\n\r\n    JsonElement jsonElement = parser.parse(json);\r\n    JsonObject jsonObj = jsonElement.getAsJsonObject();\r\n\r\n    JsonArray data = new JsonArray();\r\n    data = jsonObj.getAsJsonArray(&quot;data&quot;);\r\n\r\n    JsonArray developer = new JsonArray();\r\n    JsonArray tester = new JsonArray();\r\n    JsonArray analyst = new JsonArray();\r\n\r\n    for (int i=0; i &lt; data.size; i++){\r\n    JsonObject itemArr = (JsonObject)data.get(i);\r\n    JsonObject temp = new JsonObject();\r\n\r\n    if(itemArr.get(&quot;chrDesigName&quot;).getAsString().equals(&quot;Developer&quot;)){\r\n       temp.addProperty(&quot;chrempName&quot;,itemArr.get(&quot;chrempName&quot;).getAsString());\r\n       developer.add(temp);\r\n    }else if(itemArr.get(&quot;chrDesigName&quot;).getAsString().equals(&quot;Tester&quot;)){\r\n       temp.addProperty(&quot;chrempName&quot;,itemArr.get(&quot;chrempName&quot;).getAsString());\r\n       tester.add(temp);\r\n    }else if(itemArr.get(&quot;chrDesigName&quot;).getAsString().equals(&quot;Analyst&quot;)){\r\n       temp.addProperty(&quot;chrempName&quot;,itemArr.get(&quot;chrempName&quot;).getAsString());\r\n       analyst.add(temp);\r\n    }\r\n    }\r\n\r\n    JsonObject resultObject = new JsonObject();\r\n    resultObject.add(&quot;Developer&quot;,developer);\r\n    resultObject.add(&quot;Tester&quot;,tester);\r\n    resultObject.add(&quot;Analyst&quot;,analyst);\r\n\r\nThis way you can make a new `resultObject` object according to your need. This is a static way. You can take it to dynamic way further. You will need to add `com.google.gson` library to compile this code.","title":"Grouping Json response with keys in java - android studio","body":"<p><strong>Here is the code:</strong></p>\n\n<pre><code>JsonParser parser =  new JsonParser();\n\nJsonElement jsonElement = parser.parse(json);\nJsonObject jsonObj = jsonElement.getAsJsonObject();\n\nJsonArray data = new JsonArray();\ndata = jsonObj.getAsJsonArray(\"data\");\n\nJsonArray developer = new JsonArray();\nJsonArray tester = new JsonArray();\nJsonArray analyst = new JsonArray();\n\nfor (int i=0; i &lt; data.size; i++){\nJsonObject itemArr = (JsonObject)data.get(i);\nJsonObject temp = new JsonObject();\n\nif(itemArr.get(\"chrDesigName\").getAsString().equals(\"Developer\")){\n   temp.addProperty(\"chrempName\",itemArr.get(\"chrempName\").getAsString());\n   developer.add(temp);\n}else if(itemArr.get(\"chrDesigName\").getAsString().equals(\"Tester\")){\n   temp.addProperty(\"chrempName\",itemArr.get(\"chrempName\").getAsString());\n   tester.add(temp);\n}else if(itemArr.get(\"chrDesigName\").getAsString().equals(\"Analyst\")){\n   temp.addProperty(\"chrempName\",itemArr.get(\"chrempName\").getAsString());\n   analyst.add(temp);\n}\n}\n\nJsonObject resultObject = new JsonObject();\nresultObject.add(\"Developer\",developer);\nresultObject.add(\"Tester\",tester);\nresultObject.add(\"Analyst\",analyst);\n</code></pre>\n\n<p>This way you can make a new <code>resultObject</code> object according to your need. This is a static way. You can take it to dynamic way further. You will need to add <code>com.google.gson</code> library to compile this code.</p>\n"},{"comments":[{"owner":{"account_id":8352421,"reputation":46,"user_id":6274040,"accept_rate":40,"display_name":"iOSMAn"},"score":0,"creation_date":1472537523,"post_id":39205211,"comment_id":65777848,"body_markdown":"How did you import those two libraries? I tried &quot;compile &#39;com.fasterxml.jackson.core:jackson-core:2.7.3&#39;\n    compile &#39;com.fasterxml.jackson.core:jackson-annotations:2.7.3&#39;\n    compile &#39;com.fasterxml.jackson.core:jackson-databind:2.7.3&#39;\n    compile &#39;com.google.code.gson:gson:2.2.4&#39;&quot; in gradle and also added &quot;jackson-mapper-lgpl-1.2.1.jar&quot; in library. Getting &quot; error: cannot access ObjectCodec\nclass file for org.codehaus.jackson.ObjectCodec not found&quot; , cannot resolve symbol objectmapper &amp; cannot resolve method writevalue","body":"How did you import those two libraries? I tried &quot;compile &#39;com.fasterxml.jackson.core:jackson-core:2.7.3&#39;     compile &#39;com.fasterxml.jackson.core:jackson-annotations:2.7.3&#39;     compile &#39;com.fasterxml.jackson.core:jackson-databind:2.7.3&#39;     compile &#39;com.google.code.gson:gson:2.2.4&#39;&quot; in gradle and also added &quot;jackson-mapper-lgpl-1.2.1.jar&quot; in library. Getting &quot; error: cannot access ObjectCodec class file for org.codehaus.jackson.ObjectCodec not found&quot; , cannot resolve symbol objectmapper &amp; cannot resolve method writevalue"},{"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"score":0,"creation_date":1472538160,"post_id":39205211,"comment_id":65778156,"body_markdown":"Added dependencies that I used in Maven. If you add jars manually , it may prove difficult as at runtime you may get ClassNotFound exception","body":"Added dependencies that I used in Maven. If you add jars manually , it may prove difficult as at runtime you may get ClassNotFound exception"},{"owner":{"account_id":8352421,"reputation":46,"user_id":6274040,"accept_rate":40,"display_name":"iOSMAn"},"score":0,"creation_date":1472541478,"post_id":39205211,"comment_id":65780100,"body_markdown":"Fine. I am now getting only unhandled exception for mapper.writefile","body":"Fine. I am now getting only unhandled exception for mapper.writefile"},{"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"score":0,"creation_date":1472542584,"post_id":39205211,"comment_id":65780704,"body_markdown":"Can you tell the full stacktrace and the error you get. Also if the answer works please do accept the answer as accepted :)","body":"Can you tell the full stacktrace and the error you get. Also if the answer works please do accept the answer as accepted :)"},{"owner":{"account_id":8352421,"reputation":46,"user_id":6274040,"accept_rate":40,"display_name":"iOSMAn"},"score":0,"creation_date":1472547197,"post_id":39205211,"comment_id":65783617,"body_markdown":"Error:(16, 32) error: package org.codehaus.jackson.map does not exist, Error:(28, 32) error: package org.codehaus.jackson.map does not exist, Error:(52, 9) error: cannot find symbol class ObjectMapper,                   Error:(52, 35) error: cannot find symbol class ObjectMapper,             Error:(85, 16) error: cannot find symbol class JsonMappingException","body":"Error:(16, 32) error: package org.codehaus.jackson.map does not exist, Error:(28, 32) error: package org.codehaus.jackson.map does not exist, Error:(52, 9) error: cannot find symbol class ObjectMapper,                   Error:(52, 35) error: cannot find symbol class ObjectMapper,             Error:(85, 16) error: cannot find symbol class JsonMappingException"},{"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"score":0,"creation_date":1472547514,"post_id":39205211,"comment_id":65783828,"body_markdown":"Did you add the dependencies i mentioned?","body":"Did you add the dependencies i mentioned?"},{"owner":{"account_id":8352421,"reputation":46,"user_id":6274040,"accept_rate":40,"display_name":"iOSMAn"},"score":0,"creation_date":1472547602,"post_id":39205211,"comment_id":65783883,"body_markdown":"Yes. I added. compile &#39;com.fasterxml.jackson.core:jackson-databind:2.8.1&#39;\n    compile &#39;com.google.code.gson:gson:2.7&#39;. I am working in android studio.","body":"Yes. I added. compile &#39;com.fasterxml.jackson.core:jackson-databind:2.8.1&#39;     compile &#39;com.google.code.gson:gson:2.7&#39;. I am working in android studio."},{"owner":{"account_id":8352421,"reputation":46,"user_id":6274040,"accept_rate":40,"display_name":"iOSMAn"},"score":0,"creation_date":1472547679,"post_id":39205211,"comment_id":65783938,"body_markdown":"Anyway, thanks for finding time to help me in the situation. Problem is not yet solved.","body":"Anyway, thanks for finding time to help me in the situation. Problem is not yet solved."},{"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"score":0,"creation_date":1472565135,"post_id":39205211,"comment_id":65795784,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/122206/discussion-between-ramachandran-g-a-and-iosman).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/122206/discussion-between-ramachandran-g-a-and-iosman\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"comment_count":9,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1472538099,"creation_date":1472470165,"answer_id":39205211,"question_id":39204438,"body_markdown":"As a quick hack , i have used 2 different libraries to do it. You can &quot;uniformize&quot; using Jackson as well.\r\n\r\n\r\n    import java.io.StringWriter;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    \r\n    import org.codehaus.jackson.map.ObjectMapper;\r\n    \r\n    import com.google.gson.JsonArray;\r\n    import com.google.gson.JsonElement;\r\n    import com.google.gson.JsonParser;\r\n    \r\n    public class JsonReformatter {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tString jsonString = &quot;{\\&quot;code\\&quot;: \\&quot;0\\&quot;,\\&quot;data\\&quot;: [{\\&quot;chrDesigName\\&quot;: \\&quot;Developer\\&quot;,\\&quot;chrempName\\&quot;: \\&quot;Test Employee1\\&quot;},{\\&quot;chrDesigName\\&quot;: \\&quot;Developer\\&quot;,\\&quot;chrempName\\&quot;: \\&quot;Test Employee2\\&quot;},{\\&quot;chrDesigName\\&quot;: \\&quot;Tester\\&quot;,\\&quot;chrempName\\&quot;: \\&quot;Test Employee3\\&quot;},{\\&quot;chrDesigName\\&quot;: \\&quot;Analyst\\&quot;,\\&quot;chrempName\\&quot;: \\&quot;Test Employee4\\&quot;},{\\&quot;chrDesigName\\&quot;: \\&quot;Developer\\&quot;,\\&quot;chrempName\\&quot;: \\&quot;Test Employee5\\&quot;},{\\&quot;chrDesigName\\&quot;: \\&quot;Tester\\&quot;,\\&quot;chrempName\\&quot;: \\&quot;Test Employee6\\&quot;}]}&quot;;\r\n    \r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \r\n    \t\t// Map&lt;String, Object&gt; dataMap = mapper.readValue(jsonString,\r\n    \t\t// new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\r\n    \t\t// });\r\n    \t\t//\r\n    \t\t// System.out.println(dataMap.get(&quot;data&quot;) +\r\n    \t\t// ((ArrayList)dataMap.get(&quot;data&quot;)).get(0).getClass().getName()) ;\r\n    \r\n    \t\tJsonArray dataArray = new JsonParser().parse(jsonString).getAsJsonObject().getAsJsonArray(&quot;data&quot;);\r\n    \r\n    \t\tHashMap&lt;String, List&lt;String&gt;&gt; designationsMap = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n    \r\n    \t\tfor (JsonElement element : dataArray) {\r\n    \t\t\tString designation = element.getAsJsonObject().get(&quot;chrDesigName&quot;).getAsString();\r\n    \t\t\tString empName = element.getAsJsonObject().get(&quot;chrempName&quot;).getAsString();\r\n    \t\t\tif (designationsMap.containsKey(designation)) {\r\n    \t\t\t\tdesignationsMap.get(designation).add(empName);\r\n    \t\t\t} else {\r\n    \t\t\t\tArrayList&lt;String&gt; emptyList = new ArrayList&lt;String&gt;();\r\n    \t\t\t\temptyList.add(empName);\r\n    \t\t\t\tdesignationsMap.put(designation, emptyList);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tStringWriter result = new StringWriter();\r\n    \t\tmapper.writeValue(result, designationsMap);\r\n    \t\tSystem.out.println(result);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nThis prints\r\n\r\n`{&quot;Analyst&quot;:[&quot;Test Employee4&quot;],&quot;Tester&quot;:[&quot;Test Employee3&quot;,&quot;Test` `Employee6&quot;],&quot;Developer&quot;:[&quot;Test Employee1&quot;,&quot;Test Employee2&quot;,&quot;Test Employee5&quot;]}`\r\n\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.8.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\n","title":"Grouping Json response with keys in java - android studio","body":"<p>As a quick hack , i have used 2 different libraries to do it. You can \"uniformize\" using Jackson as well.</p>\n\n<pre><code>import java.io.StringWriter;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\n\nimport org.codehaus.jackson.map.ObjectMapper;\n\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonParser;\n\npublic class JsonReformatter {\n\n    public static void main(String[] args) throws Exception {\n        String jsonString = \"{\\\"code\\\": \\\"0\\\",\\\"data\\\": [{\\\"chrDesigName\\\": \\\"Developer\\\",\\\"chrempName\\\": \\\"Test Employee1\\\"},{\\\"chrDesigName\\\": \\\"Developer\\\",\\\"chrempName\\\": \\\"Test Employee2\\\"},{\\\"chrDesigName\\\": \\\"Tester\\\",\\\"chrempName\\\": \\\"Test Employee3\\\"},{\\\"chrDesigName\\\": \\\"Analyst\\\",\\\"chrempName\\\": \\\"Test Employee4\\\"},{\\\"chrDesigName\\\": \\\"Developer\\\",\\\"chrempName\\\": \\\"Test Employee5\\\"},{\\\"chrDesigName\\\": \\\"Tester\\\",\\\"chrempName\\\": \\\"Test Employee6\\\"}]}\";\n\n        ObjectMapper mapper = new ObjectMapper();\n\n        // Map&lt;String, Object&gt; dataMap = mapper.readValue(jsonString,\n        // new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\n        // });\n        //\n        // System.out.println(dataMap.get(\"data\") +\n        // ((ArrayList)dataMap.get(\"data\")).get(0).getClass().getName()) ;\n\n        JsonArray dataArray = new JsonParser().parse(jsonString).getAsJsonObject().getAsJsonArray(\"data\");\n\n        HashMap&lt;String, List&lt;String&gt;&gt; designationsMap = new HashMap&lt;String, List&lt;String&gt;&gt;();\n\n        for (JsonElement element : dataArray) {\n            String designation = element.getAsJsonObject().get(\"chrDesigName\").getAsString();\n            String empName = element.getAsJsonObject().get(\"chrempName\").getAsString();\n            if (designationsMap.containsKey(designation)) {\n                designationsMap.get(designation).add(empName);\n            } else {\n                ArrayList&lt;String&gt; emptyList = new ArrayList&lt;String&gt;();\n                emptyList.add(empName);\n                designationsMap.put(designation, emptyList);\n            }\n        }\n\n        StringWriter result = new StringWriter();\n        mapper.writeValue(result, designationsMap);\n        System.out.println(result);\n\n    }\n\n}\n</code></pre>\n\n<p>This prints</p>\n\n<p><code>{\"Analyst\":[\"Test Employee4\"],\"Tester\":[\"Test Employee3\",\"Test</code> <code>Employee6\"],\"Developer\":[\"Test Employee1\",\"Test Employee2\",\"Test Employee5\"]}</code></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.8.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8352421,"reputation":46,"user_id":6274040,"accept_rate":40,"display_name":"iOSMAn"},"score":0,"creation_date":1472532955,"post_id":39205512,"comment_id":65776125,"body_markdown":"Getting &quot;cannot resolve method add(org.json.JSONObject)&quot; on &quot;result.get(chrDesigName).add(sub_json);&quot;","body":"Getting &quot;cannot resolve method add(org.json.JSONObject)&quot; on &quot;result.get(chrDesigName).add(sub_json);&quot;"}],"tags":[],"owner":{"account_id":6018494,"reputation":3005,"user_id":4726452,"accept_rate":83,"display_name":"Ra Ka"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472471013,"creation_date":1472471013,"answer_id":39205512,"question_id":39204438,"body_markdown":"You can simply achieve this by: first storing all the &#39;chrDesigName&#39; value in an array and then loop through each element of this array to create your desired JSON object.\r\n\r\n    e.g. //using JSON.simple module for decode/encode into JSON object.\r\n    JSONObject obj1 = {&quot;code&quot;:&quot;0&quot;,&quot;data&quot;:    \r\n    [ {&quot;chrDesigName&quot;:&quot;Developer&quot;,&quot;chrempName&quot;:&quot;Test Employee1&quot;},\r\n      {&quot;chrDesigName&quot;:&quot;Developer&quot;,&quot;chrempName&quot;:&quot;Test Employee2&quot;}, \r\n      {&quot;chrDesigName&quot;:&quot;Tester&quot;,&quot;chrempName&quot;:&quot;Test Employee3&quot;},\r\n      {&quot;chrDesigName&quot;:&quot;Analyst&quot;,&quot;chrempName&quot;:&quot;Test Employee4&quot;},\r\n      {&quot;chrDesigName&quot;:&quot;Developer&quot;,&quot;chrempName&quot;:&quot;Test Employee5&quot;},\r\n      {&quot;chrDesigName&quot;:&quot;Tester&quot;,&quot;chrempName&quot;:&quot;Test Employee6&quot;}]};\r\n    \r\n    //Now, store all &#39;chrDesigName&#39; in a local arrray.\r\n    List&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n    for(JSONObject json : obj1.get(&quot;data&quot;)){\r\n       //avoid to add duplicate entry. e.g. there are multiple Developer so avoid adding more than 1 times.\r\n       boolean isDuplicate = false; \r\n       for(int i=0; i&lt;arr.size();i++){        \r\n           if(arr[i]==json.get(&quot;chrDesigName&quot;)){\r\n               isDuplicate = true;\r\n           }\r\n        }\r\n        if(isDuplicate==false){\r\n            arr.add(json.get(&quot;chrDesigName&quot;));\r\n        }\r\n    }\r\n    \r\n    //Now finally create your desired parsed JSON object.\r\n    JSONObject result= new JSONObject(); //final Result JSON object.\r\n    for(String chrDesigName : arr){\r\n        //first adding empty list.\r\n        result.put(chrDesigName, new ArrayList&lt;JSONObject&gt;());\r\n    \r\n        //now, checking on each data obj1 if it has chrDesigName and if yes then getting its chrEmpName and adding in list.\r\n        for(JSONObject json : obj1.get(&quot;data&quot;)){\r\n            if(chrDesigName==json.get(&quot;chrDesigName&quot;){\r\n                JSONObject sub_json = new JSONObject();\r\n                sub_json.put(&quot;chrempName&quot;,json.get(&quot;chrempName&quot;);\r\n                result.get(chrDesigName).add(sub_json);\r\n            }\r\n        }    \r\n    }","title":"Grouping Json response with keys in java - android studio","body":"<p>You can simply achieve this by: first storing all the 'chrDesigName' value in an array and then loop through each element of this array to create your desired JSON object.</p>\n\n<pre><code>e.g. //using JSON.simple module for decode/encode into JSON object.\nJSONObject obj1 = {\"code\":\"0\",\"data\":    \n[ {\"chrDesigName\":\"Developer\",\"chrempName\":\"Test Employee1\"},\n  {\"chrDesigName\":\"Developer\",\"chrempName\":\"Test Employee2\"}, \n  {\"chrDesigName\":\"Tester\",\"chrempName\":\"Test Employee3\"},\n  {\"chrDesigName\":\"Analyst\",\"chrempName\":\"Test Employee4\"},\n  {\"chrDesigName\":\"Developer\",\"chrempName\":\"Test Employee5\"},\n  {\"chrDesigName\":\"Tester\",\"chrempName\":\"Test Employee6\"}]};\n\n//Now, store all 'chrDesigName' in a local arrray.\nList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\nfor(JSONObject json : obj1.get(\"data\")){\n   //avoid to add duplicate entry. e.g. there are multiple Developer so avoid adding more than 1 times.\n   boolean isDuplicate = false; \n   for(int i=0; i&lt;arr.size();i++){        \n       if(arr[i]==json.get(\"chrDesigName\")){\n           isDuplicate = true;\n       }\n    }\n    if(isDuplicate==false){\n        arr.add(json.get(\"chrDesigName\"));\n    }\n}\n\n//Now finally create your desired parsed JSON object.\nJSONObject result= new JSONObject(); //final Result JSON object.\nfor(String chrDesigName : arr){\n    //first adding empty list.\n    result.put(chrDesigName, new ArrayList&lt;JSONObject&gt;());\n\n    //now, checking on each data obj1 if it has chrDesigName and if yes then getting its chrEmpName and adding in list.\n    for(JSONObject json : obj1.get(\"data\")){\n        if(chrDesigName==json.get(\"chrDesigName\"){\n            JSONObject sub_json = new JSONObject();\n            sub_json.put(\"chrempName\",json.get(\"chrempName\");\n            result.get(chrDesigName).add(sub_json);\n        }\n    }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9273401,"reputation":1,"user_id":6886689,"display_name":"didik.haryadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630632362,"creation_date":1630632362,"answer_id":69038541,"question_id":39204438,"body_markdown":"Here is the code:\r\n\r\n\r\n\r\n    public class TestJSONGroup {\r\n        public static void main(String[] args) throws ParseException {\r\n            \r\n            JSONParser parser = new JSONParser();\r\n            String jsonString = &quot;{\\&quot;code\\&quot;:\\&quot;0\\&quot;,\\&quot;data\\&quot;:&quot;\r\n            + &quot;[ {\\&quot;chrDesigName\\&quot;:\\&quot;Developer\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee1\\&quot;},&quot;\r\n            + &quot;  {\\&quot;chrDesigName\\&quot;:\\&quot;Developer\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee2\\&quot;},&quot;\r\n            + &quot;  {\\&quot;chrDesigName\\&quot;:\\&quot;Tester\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee3\\&quot;},&quot;\r\n            + &quot;  {\\&quot;chrDesigName\\&quot;:\\&quot;Analyst\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee4\\&quot;},&quot;\r\n            + &quot;  {\\&quot;chrDesigName\\&quot;:\\&quot;Developer\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee5\\&quot;},&quot;\r\n            + &quot;  {\\&quot;chrDesigName\\&quot;:\\&quot;Tester\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee6\\&quot;}]}&quot;;\r\n            \r\n            //JSONObject obj1 =  (JSONObject) parser.parse( jsonString );\r\n            JSONObject obj1 = new JSONObject(jsonString);\r\n    \r\n            //Now, store all &#39;chrDesigName&#39; in a local arrray.\r\n            List&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n            \r\n            JSONArray json = obj1.getJSONArray(&quot;data&quot;);\r\n            for (int j = 0; j &lt; json.length(); j++) {\r\n               //avoid to add duplicate entry. e.g. there are multiple Developer so avoid adding more than 1 times.\r\n               boolean isDuplicate = false; \r\n               String chrDesigName = new String();\r\n               for(int i=0; i&lt;arr.size();i++){\r\n                   JSONObject jsonObject1 = json.getJSONObject(j);\r\n                   chrDesigName = jsonObject1.optString(&quot;chrDesigName&quot;); \r\n                   if(arr.get(i).equalsIgnoreCase(chrDesigName.trim())){\r\n                       isDuplicate = true;\r\n                   }\r\n                }\r\n                if(isDuplicate==false){\r\n                    arr.add(chrDesigName);\r\n                }\r\n            }\r\n            arr.remove(0);\r\n    \r\n            //Now finally create your desired parsed JSON object.\r\n            JSONObject result= new JSONObject(); //final Result JSON object.\r\n            for(String chrDesigName : arr){\r\n                //first adding empty list.\r\n                result.put(chrDesigName, new ArrayList&lt;JSONObject&gt;());\r\n                //now, checking on each data obj1 if it has chrDesigName and if yes then getting its chrEmpName and adding in list.\r\n                String chrDesigName2 = new String();\r\n                JSONArray array = new JSONArray();\r\n                for (int j = 0; j &lt; json.length(); j++) {\r\n                    JSONObject jsonObject1 = json.getJSONObject(j);\r\n                    chrDesigName2 = jsonObject1.optString(&quot;chrDesigName&quot;);\r\n                    if(chrDesigName.equalsIgnoreCase(chrDesigName2.trim())){\r\n                        JSONObject sub_json = new JSONObject();\r\n                        sub_json.put(&quot;chrempName&quot;,json.get(j));\r\n                        array.put(json.get(j));\r\n                    }\r\n                } \r\n                result.put(chrDesigName, array);\r\n            }\r\n            System.out.println(&quot;result: &quot;+ result.toString());\r\n        }\r\n\r\n\r\nand the result  will be, just modify in some other \r\n\r\n    {\r\n       &quot;Analyst&quot;: [\r\n          {\r\n             &quot;chrDesigName&quot;: &quot;Analyst&quot;,\r\n             &quot;chrempName&quot;: &quot;Test Employee4&quot;\r\n          }\r\n       ],\r\n       &quot;Tester&quot;: [\r\n          {\r\n             &quot;chrDesigName&quot;: &quot;Tester&quot;,\r\n             &quot;chrempName&quot;: &quot;Test Employee3&quot;\r\n          },\r\n          {\r\n             &quot;chrDesigName&quot;: &quot;Tester&quot;,\r\n             &quot;chrempName&quot;: &quot;Test Employee6&quot;\r\n          }\r\n       ],\r\n       &quot;Developer&quot;: [\r\n          {\r\n             &quot;chrDesigName&quot;: &quot;Developer&quot;,\r\n             &quot;chrempName&quot;: &quot;Test Employee1&quot;\r\n          },\r\n          {\r\n             &quot;chrDesigName&quot;: &quot;Developer&quot;,\r\n             &quot;chrempName&quot;: &quot;Test Employee2&quot;\r\n          },\r\n          {\r\n             &quot;chrDesigName&quot;: &quot;Developer&quot;,\r\n             &quot;chrempName&quot;: &quot;Test Employee5&quot;\r\n          }\r\n       ]\r\n    }","title":"Grouping Json response with keys in java - android studio","body":"<p>Here is the code:</p>\n<pre><code>public class TestJSONGroup {\n    public static void main(String[] args) throws ParseException {\n        \n        JSONParser parser = new JSONParser();\n        String jsonString = &quot;{\\&quot;code\\&quot;:\\&quot;0\\&quot;,\\&quot;data\\&quot;:&quot;\n        + &quot;[ {\\&quot;chrDesigName\\&quot;:\\&quot;Developer\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee1\\&quot;},&quot;\n        + &quot;  {\\&quot;chrDesigName\\&quot;:\\&quot;Developer\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee2\\&quot;},&quot;\n        + &quot;  {\\&quot;chrDesigName\\&quot;:\\&quot;Tester\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee3\\&quot;},&quot;\n        + &quot;  {\\&quot;chrDesigName\\&quot;:\\&quot;Analyst\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee4\\&quot;},&quot;\n        + &quot;  {\\&quot;chrDesigName\\&quot;:\\&quot;Developer\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee5\\&quot;},&quot;\n        + &quot;  {\\&quot;chrDesigName\\&quot;:\\&quot;Tester\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee6\\&quot;}]}&quot;;\n        \n        //JSONObject obj1 =  (JSONObject) parser.parse( jsonString );\n        JSONObject obj1 = new JSONObject(jsonString);\n\n        //Now, store all 'chrDesigName' in a local arrray.\n        List&lt;String&gt; arr = new ArrayList&lt;String&gt;();\n        \n        JSONArray json = obj1.getJSONArray(&quot;data&quot;);\n        for (int j = 0; j &lt; json.length(); j++) {\n           //avoid to add duplicate entry. e.g. there are multiple Developer so avoid adding more than 1 times.\n           boolean isDuplicate = false; \n           String chrDesigName = new String();\n           for(int i=0; i&lt;arr.size();i++){\n               JSONObject jsonObject1 = json.getJSONObject(j);\n               chrDesigName = jsonObject1.optString(&quot;chrDesigName&quot;); \n               if(arr.get(i).equalsIgnoreCase(chrDesigName.trim())){\n                   isDuplicate = true;\n               }\n            }\n            if(isDuplicate==false){\n                arr.add(chrDesigName);\n            }\n        }\n        arr.remove(0);\n\n        //Now finally create your desired parsed JSON object.\n        JSONObject result= new JSONObject(); //final Result JSON object.\n        for(String chrDesigName : arr){\n            //first adding empty list.\n            result.put(chrDesigName, new ArrayList&lt;JSONObject&gt;());\n            //now, checking on each data obj1 if it has chrDesigName and if yes then getting its chrEmpName and adding in list.\n            String chrDesigName2 = new String();\n            JSONArray array = new JSONArray();\n            for (int j = 0; j &lt; json.length(); j++) {\n                JSONObject jsonObject1 = json.getJSONObject(j);\n                chrDesigName2 = jsonObject1.optString(&quot;chrDesigName&quot;);\n                if(chrDesigName.equalsIgnoreCase(chrDesigName2.trim())){\n                    JSONObject sub_json = new JSONObject();\n                    sub_json.put(&quot;chrempName&quot;,json.get(j));\n                    array.put(json.get(j));\n                }\n            } \n            result.put(chrDesigName, array);\n        }\n        System.out.println(&quot;result: &quot;+ result.toString());\n    }\n</code></pre>\n<p>and the result  will be, just modify in some other</p>\n<pre><code>{\n   &quot;Analyst&quot;: [\n      {\n         &quot;chrDesigName&quot;: &quot;Analyst&quot;,\n         &quot;chrempName&quot;: &quot;Test Employee4&quot;\n      }\n   ],\n   &quot;Tester&quot;: [\n      {\n         &quot;chrDesigName&quot;: &quot;Tester&quot;,\n         &quot;chrempName&quot;: &quot;Test Employee3&quot;\n      },\n      {\n         &quot;chrDesigName&quot;: &quot;Tester&quot;,\n         &quot;chrempName&quot;: &quot;Test Employee6&quot;\n      }\n   ],\n   &quot;Developer&quot;: [\n      {\n         &quot;chrDesigName&quot;: &quot;Developer&quot;,\n         &quot;chrempName&quot;: &quot;Test Employee1&quot;\n      },\n      {\n         &quot;chrDesigName&quot;: &quot;Developer&quot;,\n         &quot;chrempName&quot;: &quot;Test Employee2&quot;\n      },\n      {\n         &quot;chrDesigName&quot;: &quot;Developer&quot;,\n         &quot;chrempName&quot;: &quot;Test Employee5&quot;\n      }\n   ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676662475,"creation_date":1676662475,"answer_id":75488562,"question_id":39204438,"body_markdown":"You can use JSON library such as _Josson_ to do the transformation.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{\\&quot;code\\&quot;:\\&quot;0\\&quot;,\\&quot;data\\&quot;:&quot; +\r\n        &quot;[ {\\&quot;chrDesigName\\&quot;:\\&quot;Developer\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee1\\&quot;},&quot; +\r\n        &quot;  {\\&quot;chrDesigName\\&quot;:\\&quot;Developer\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee2\\&quot;}, &quot; +\r\n        &quot;  {\\&quot;chrDesigName\\&quot;:\\&quot;Tester\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee3\\&quot;},&quot; +\r\n        &quot;  {\\&quot;chrDesigName\\&quot;:\\&quot;Analyst\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee4\\&quot;},&quot; +\r\n        &quot;  {\\&quot;chrDesigName\\&quot;:\\&quot;Developer\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee5\\&quot;},&quot; +\r\n        &quot;  {\\&quot;chrDesigName\\&quot;:\\&quot;Tester\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee6\\&quot;}]&quot; +\r\n        &quot;}&quot;);\r\n    JsonNode node = josson.getNode(\r\n        &quot;data.group(chrDesigName).map(chrDesigName::elements.map(chrempName)).mergeObjects()&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;Developer&quot; : [ {\r\n        &quot;chrempName&quot; : &quot;Test Employee1&quot;\r\n      }, {\r\n        &quot;chrempName&quot; : &quot;Test Employee2&quot;\r\n      }, {\r\n        &quot;chrempName&quot; : &quot;Test Employee5&quot;\r\n      } ],\r\n      &quot;Tester&quot; : [ {\r\n        &quot;chrempName&quot; : &quot;Test Employee3&quot;\r\n      }, {\r\n        &quot;chrempName&quot; : &quot;Test Employee6&quot;\r\n      } ],\r\n      &quot;Analyst&quot; : [ {\r\n        &quot;chrempName&quot; : &quot;Test Employee4&quot;\r\n      } ]\r\n    }\r\n","title":"Grouping Json response with keys in java - android studio","body":"<p>You can use JSON library such as <em>Josson</em> to do the transformation.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{\\&quot;code\\&quot;:\\&quot;0\\&quot;,\\&quot;data\\&quot;:&quot; +\n    &quot;[ {\\&quot;chrDesigName\\&quot;:\\&quot;Developer\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee1\\&quot;},&quot; +\n    &quot;  {\\&quot;chrDesigName\\&quot;:\\&quot;Developer\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee2\\&quot;}, &quot; +\n    &quot;  {\\&quot;chrDesigName\\&quot;:\\&quot;Tester\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee3\\&quot;},&quot; +\n    &quot;  {\\&quot;chrDesigName\\&quot;:\\&quot;Analyst\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee4\\&quot;},&quot; +\n    &quot;  {\\&quot;chrDesigName\\&quot;:\\&quot;Developer\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee5\\&quot;},&quot; +\n    &quot;  {\\&quot;chrDesigName\\&quot;:\\&quot;Tester\\&quot;,\\&quot;chrempName\\&quot;:\\&quot;Test Employee6\\&quot;}]&quot; +\n    &quot;}&quot;);\nJsonNode node = josson.getNode(\n    &quot;data.group(chrDesigName).map(chrDesigName::elements.map(chrempName)).mergeObjects()&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;Developer&quot; : [ {\n    &quot;chrempName&quot; : &quot;Test Employee1&quot;\n  }, {\n    &quot;chrempName&quot; : &quot;Test Employee2&quot;\n  }, {\n    &quot;chrempName&quot; : &quot;Test Employee5&quot;\n  } ],\n  &quot;Tester&quot; : [ {\n    &quot;chrempName&quot; : &quot;Test Employee3&quot;\n  }, {\n    &quot;chrempName&quot; : &quot;Test Employee6&quot;\n  } ],\n  &quot;Analyst&quot; : [ {\n    &quot;chrempName&quot; : &quot;Test Employee4&quot;\n  } ]\n}\n</code></pre>\n"}],"owner":{"account_id":8352421,"reputation":46,"user_id":6274040,"accept_rate":40,"display_name":"iOSMAn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4920,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39205211,"answer_count":5,"score":0,"last_activity_date":1676662475,"creation_date":1472467830,"question_id":39204438,"body_markdown":"I am new to java and android development. I am learning json parsing. I got json response something like this.\r\n\r\n    {&quot;code&quot;:&quot;0&quot;,&quot;data&quot;:    \r\n    [ {&quot;chrDesigName&quot;:&quot;Developer&quot;,&quot;chrempName&quot;:&quot;Test Employee1&quot;},\r\n      {&quot;chrDesigName&quot;:&quot;Developer&quot;,&quot;chrempName&quot;:&quot;Test Employee2&quot;}, \r\n      {&quot;chrDesigName&quot;:&quot;Tester&quot;,&quot;chrempName&quot;:&quot;Test Employee3&quot;},\r\n      {&quot;chrDesigName&quot;:&quot;Analyst&quot;,&quot;chrempName&quot;:&quot;Test Employee4&quot;},\r\n      {&quot;chrDesigName&quot;:&quot;Developer&quot;,&quot;chrempName&quot;:&quot;Test Employee5&quot;},\r\n      {&quot;chrDesigName&quot;:&quot;Tester&quot;,&quot;chrempName&quot;:&quot;Test Employee6&quot;}]\r\n\r\nI want to parse this Json into something like this.\r\n\r\n    {&quot;Developer&quot; : [{&quot;chrempName&quot; : &quot;Test Employee1&quot;},\r\n                        {&quot;chrempName&quot; : &quot;Test Employee2&quot;},\r\n                        {&quot;chrempName&quot; : &quot;Test Employee5&quot;}],\r\n    &quot;Tester&quot; : [{&quot;chrempName&quot; : &quot;Test Employee3&quot;},\r\n                        {&quot;chrempName&quot; : &quot;Test Employee6&quot;}],\r\n    &quot;Analyst&quot; : [{&quot;chrempName&quot; : &quot;Test Employee4&quot;}]}  \r\nHow can I acheive this?   My motive is to group all the employees according to their designations.  ","title":"Grouping Json response with keys in java - android studio","body":"<p>I am new to java and android development. I am learning json parsing. I got json response something like this.</p>\n\n<pre><code>{\"code\":\"0\",\"data\":    \n[ {\"chrDesigName\":\"Developer\",\"chrempName\":\"Test Employee1\"},\n  {\"chrDesigName\":\"Developer\",\"chrempName\":\"Test Employee2\"}, \n  {\"chrDesigName\":\"Tester\",\"chrempName\":\"Test Employee3\"},\n  {\"chrDesigName\":\"Analyst\",\"chrempName\":\"Test Employee4\"},\n  {\"chrDesigName\":\"Developer\",\"chrempName\":\"Test Employee5\"},\n  {\"chrDesigName\":\"Tester\",\"chrempName\":\"Test Employee6\"}]\n</code></pre>\n\n<p>I want to parse this Json into something like this.</p>\n\n<pre><code>{\"Developer\" : [{\"chrempName\" : \"Test Employee1\"},\n                    {\"chrempName\" : \"Test Employee2\"},\n                    {\"chrempName\" : \"Test Employee5\"}],\n\"Tester\" : [{\"chrempName\" : \"Test Employee3\"},\n                    {\"chrempName\" : \"Test Employee6\"}],\n\"Analyst\" : [{\"chrempName\" : \"Test Employee4\"}]}  \n</code></pre>\n\n<p>How can I acheive this?   My motive is to group all the employees according to their designations.  </p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-java-sdk"],"comments":[{"owner":{"account_id":113769,"reputation":12692,"user_id":299462,"accept_rate":61,"display_name":"Kannaiyan"},"score":0,"creation_date":1506236613,"post_id":46383669,"comment_id":79732640,"body_markdown":"What is the fomat of the name for those objects?","body":"What is the fomat of the name for those objects?"},{"owner":{"account_id":4510957,"reputation":303,"user_id":3667083,"accept_rate":33,"display_name":"Kapil"},"score":0,"creation_date":1518138294,"post_id":46383669,"comment_id":84393234,"body_markdown":"Its weird, people just have habit of down grading questions as not useful even if they don&#39;t have answer :-)","body":"Its weird, people just have habit of down grading questions as not useful even if they don&#39;t have answer :-)"}],"answers":[{"tags":[],"owner":{"account_id":113769,"reputation":12692,"user_id":299462,"accept_rate":61,"display_name":"Kannaiyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1506237178,"creation_date":1506237178,"answer_id":46387558,"question_id":46383669,"body_markdown":"We had the same issue with a large number of objects.\r\n\r\nWe followed a pattern timestamp in 10 increments in their object name. It looks like this,\r\n\r\n    s3://bucket-name/timestamp/actualobject.extension\r\n    \r\n    Eg.,\r\n    s3://mys3bucket/1506237300/datafile001.json\r\n\r\n\r\nWhen you iterate through I have parallel threads running for each timestamp for 15-minute increments and everything was read very fast.\r\n\r\nThe key way to solve is to find out the pattern you have used in storing those objects and list the object names based on those patterns.\r\n\r\nHope it helps.","title":"How to change AWS S3 V2 Java api&#39;s limit of 1000 while listing objects [For Bucket having more than 1 Billion objects]?","body":"<p>We had the same issue with a large number of objects.</p>\n\n<p>We followed a pattern timestamp in 10 increments in their object name. It looks like this,</p>\n\n<pre><code>s3://bucket-name/timestamp/actualobject.extension\n\nEg.,\ns3://mys3bucket/1506237300/datafile001.json\n</code></pre>\n\n<p>When you iterate through I have parallel threads running for each timestamp for 15-minute increments and everything was read very fast.</p>\n\n<p>The key way to solve is to find out the pattern you have used in storing those objects and list the object names based on those patterns.</p>\n\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":4510957,"reputation":303,"user_id":3667083,"accept_rate":33,"display_name":"Kapil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":46387558,"answer_count":1,"score":-2,"last_activity_date":1676662149,"creation_date":1506196168,"question_id":46383669,"body_markdown":"I am working on project where I need to download keys from Amazon S3 bucket, which has more than 1 Billion objects. I wrote a code using Java V2 API but it doesn&#39;t help as it downloads only 1000 keys at a time. Its takes days to get list of all keys from this bucket. Is there any faster way to get all list of keys. \r\n\r\nI have checked other answers related to this topic and it didn&#39;t help. ","title":"How to change AWS S3 V2 Java api&#39;s limit of 1000 while listing objects [For Bucket having more than 1 Billion objects]?","body":"<p>I am working on project where I need to download keys from Amazon S3 bucket, which has more than 1 Billion objects. I wrote a code using Java V2 API but it doesn't help as it downloads only 1000 keys at a time. Its takes days to get list of all keys from this bucket. Is there any faster way to get all list of keys.</p>\n<p>I have checked other answers related to this topic and it didn't help.</p>\n"},{"tags":["java","absolute-path"],"comments":[{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":1,"creation_date":1585815290,"post_id":60986967,"comment_id":107896751,"body_markdown":"It has to work with absolute path too. What issue are you facing when absolute path is used?","body":"It has to work with absolute path too. What issue are you facing when absolute path is used?"},{"owner":{"account_id":188003,"reputation":1064,"user_id":426463,"display_name":"trappski"},"score":1,"creation_date":1585815311,"post_id":60986967,"comment_id":107896763,"body_markdown":"What errors do you run into when you use an absolute path? File should be able to take an absolute path without issues.","body":"What errors do you run into when you use an absolute path? File should be able to take an absolute path without issues."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1585815317,"post_id":60986967,"comment_id":107896766,"body_markdown":"Can you show us the value of `path` that fails for you? Absolute paths should work just fine. Keep in mind that Java strings might need you to escape the `\\` (i.e. double it) to work correctly.","body":"Can you show us the value of <code>path</code> that fails for you? Absolute paths should work just fine. Keep in mind that Java strings might need you to escape the `` (i.e. double it) to work correctly."}],"answers":[{"comments":[{"owner":{"account_id":13204799,"reputation":155,"user_id":9943255,"display_name":"chendoy"},"score":1,"creation_date":1585816397,"post_id":60987059,"comment_id":107897286,"body_markdown":"You are right (and all the commenters to my question) My absolute path was mixed with non english strings. When I gave it only english path it was working just fine. Thanks.","body":"You are right (and all the commenters to my question) My absolute path was mixed with non english strings. When I gave it only english path it was working just fine. Thanks."},{"owner":{"account_id":13204799,"reputation":155,"user_id":9943255,"display_name":"chendoy"},"score":0,"creation_date":1586079238,"post_id":60987059,"comment_id":107988454,"body_markdown":"Actually I was mistaken in my previous comment. It happend bacuse I had spaces in my absolute path and needed to use &quot; &quot;.","body":"Actually I was mistaken in my previous comment. It happend bacuse I had spaces in my absolute path and needed to use &quot; &quot;."}],"tags":[],"owner":{"account_id":15561237,"reputation":1596,"user_id":11226302,"display_name":"Shivam Puri"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1585815445,"creation_date":1585815445,"answer_id":60987059,"question_id":60986967,"body_markdown":"In your code here;\r\n```\r\nFile file = new File(path);\r\n```\r\n\r\nYour ```path``` String variable just needs to be absolute instead of relative.\r\n\r\nI don&#39;t see why it would not work. Did you try to update the path variable to absolute path of your file?","title":"Open file with absolute path in java","body":"<p>In your code here;</p>\n\n<pre><code>File file = new File(path);\n</code></pre>\n\n<p>Your <code>path</code> String variable just needs to be absolute instead of relative.</p>\n\n<p>I don't see why it would not work. Did you try to update the path variable to absolute path of your file?</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1676988370,"post_id":75488511,"comment_id":133244852,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75488511/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27432737,"reputation":1,"user_id":21236134,"display_name":"Leo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676662020,"creation_date":1676662020,"answer_id":75488511,"question_id":60986967,"body_markdown":"I think you can create an object from the Path interface using a relative path and getting that path using the Paths class using the static get method. once done you can get the absolute path from the created object and use it as a string if you prefer. \r\n\r\nI hope I have helped you.\r\n\r\n```java\r\nPath path1 = Paths.get(&quot;res/ficheroPrueba.txt&quot;);\r\nFile file = new File(path1.toAbsolutePath().toString());\r\n```\r\n\r\n","title":"Open file with absolute path in java","body":"<p>I think you can create an object from the Path interface using a relative path and getting that path using the Paths class using the static get method. once done you can get the absolute path from the created object and use it as a string if you prefer.</p>\n<p>I hope I have helped you.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path path1 = Paths.get(&quot;res/ficheroPrueba.txt&quot;);\nFile file = new File(path1.toAbsolutePath().toString());\n</code></pre>\n"}],"owner":{"account_id":13204799,"reputation":155,"user_id":9943255,"display_name":"chendoy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60987059,"answer_count":2,"score":0,"last_activity_date":1676662020,"creation_date":1585815103,"question_id":60986967,"body_markdown":"I wrote this code to read the content of a file to a bytes array.\r\nIt works fine when `path` (given in the constructor) is relative. But I would like it to work in an absolute path instead. I looked up in java `File` class docs but got confused. How can I changed it to work with absolute path?\r\n\r\n            File file = new File(path);\r\n            byte[] bytesArray = new byte[(int) file.length()];\r\n            FileInputStream fis = new FileInputStream(file);\r\n            fis.read(bytesArray);\r\n            fis.close();","title":"Open file with absolute path in java","body":"<p>I wrote this code to read the content of a file to a bytes array.\nIt works fine when <code>path</code> (given in the constructor) is relative. But I would like it to work in an absolute path instead. I looked up in java <code>File</code> class docs but got confused. How can I changed it to work with absolute path?</p>\n\n<pre><code>        File file = new File(path);\n        byte[] bytesArray = new byte[(int) file.length()];\n        FileInputStream fis = new FileInputStream(file);\n        fis.read(bytesArray);\n        fis.close();\n</code></pre>\n"},{"tags":["java","arrays","json"],"answers":[{"comments":[{"owner":{"account_id":17691556,"reputation":1,"user_id":12843207,"display_name":"sushobhan"},"score":0,"creation_date":1580882405,"post_id":60069717,"comment_id":106239334,"body_markdown":"but i need to use Jackson for parsing these JSON, can i have a sample code where i can use jackson for parsing my json and get the o/p","body":"but i need to use Jackson for parsing these JSON, can i have a sample code where i can use jackson for parsing my json and get the o/p"},{"owner":{"account_id":17691556,"reputation":1,"user_id":12843207,"display_name":"sushobhan"},"score":0,"creation_date":1580902108,"post_id":60069717,"comment_id":106248541,"body_markdown":"yes that&#39;s fine, but any link to get the reference at least as I have never used.","body":"yes that&#39;s fine, but any link to get the reference at least as I have never used."},{"owner":{"account_id":8519084,"reputation":409,"user_id":6386639,"display_name":"Vivek Swansi"},"score":0,"creation_date":1580906139,"post_id":60069717,"comment_id":106250572,"body_markdown":"You can try below snippet to parse - \n\n`List&lt;Item&gt; items = objectMapper.convertValue(objectMapper.readTree(json).get(&quot;sizePrices&quot;), new TypeReference&lt;List&lt;Item&gt;&gt;(){});`\n\nWhere Item is SizePrice mentioned by @sprinter","body":"You can try below snippet to parse -   <code>List&lt;Item&gt; items = objectMapper.convertValue(objectMapper.readTree(json).get(&quot;s&zwnj;&#8203;izePrices&quot;), new TypeReference&lt;List&lt;Item&gt;&gt;(){});</code>  Where Item is SizePrice mentioned by @sprinter"},{"owner":{"account_id":17691556,"reputation":1,"user_id":12843207,"display_name":"sushobhan"},"score":0,"creation_date":1580930826,"post_id":60069717,"comment_id":106263775,"body_markdown":"Thanks a lot while executing i am getting below exception.                                                                                                            \n  `Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/fasterxml/jackson/annotation/JsonView at com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector.&lt;clinit&gt;                                                                    I have added dependency like this **&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.8.0&lt;/version&gt; &lt;/dependency&gt;**","body":"Thanks a lot while executing i am getting below exception.                                                                                                               `Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/fasterxml/jackson/annotation/JsonView at com.fasterxml.jackson.databind.introspect.JacksonAnnotationI&zwnj;&#8203;ntrospector.&lt;clinit&gt;                                                                    I have added dependency like this <b>&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.8.0&lt;/version&gt; &lt;/dependency&gt;</b>"},{"owner":{"account_id":17691556,"reputation":1,"user_id":12843207,"display_name":"sushobhan"},"score":0,"creation_date":1580962725,"post_id":60069717,"comment_id":106272563,"body_markdown":"Hi @sprinter,i have added below code to get the list of sizeprices and i am getting the values.` List&lt;SizePrices&gt; items = mapper.convertValue(mapper.readTree(json).get(&quot;sizePrices&quot;), new TypeReference&lt;List&lt;SizePrices&gt;&gt;() {\n            });`  and i can able to group by also.now i am getting list of size 2, hereafter how can i get those ranges?","body":"Hi @sprinter,i have added below code to get the list of sizeprices and i am getting the values.` List&lt;SizePrices&gt; items = mapper.convertValue(mapper.readTree(json).get(&quot;sizePrices&quot;), new TypeReference&lt;List&lt;SizePrices&gt;&gt;() {             });`  and i can able to group by also.now i am getting list of size 2, hereafter how can i get those ranges?"}],"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580881938,"creation_date":1580881938,"answer_id":60069717,"question_id":60069496,"body_markdown":"You are really asking 2 questions here:\r\n 1. how do I parse the JSON into Java objects and, later, convert back to JSON\r\n 2. once I have the data in Java objects, how do I group by price\r\n\r\nOn question 1, there are several good quality JSON parsers available, such as https://github.com/google/gson It is fairly straightforward to parse the JSON and construct the appropriate objects. But if you read the tutorials, try to use the parser and then have problems, come back to SO and ask a specific question.\r\n\r\nOn question 2, here is a suggestion:\r\n\r\n    enum Size { S, M, L, XL, XXL, XXL }\r\n\r\n    class SizePrice {\r\n        private final double price;\r\n        private final Size size;\r\n        private final int number;\r\n    }\r\n\r\n    List&lt;SizePrice&gt; sizePrices = &lt;read from JSON&gt;\r\n\r\n    Map&lt;Double,List&lt;SizePrice&gt;&gt; sizePricesGroupedByPrice = sizePrices.stream()\r\n        .collect(Collectors.groupingBy(sp -&gt; sp.price));\r\n\r\nThe `Size` enum is deliberately in a size order so you can get the smallest and largest (by ordinal()) size is generating the range.","title":"Grouping Json response with keys in java","body":"<p>You are really asking 2 questions here:\n 1. how do I parse the JSON into Java objects and, later, convert back to JSON\n 2. once I have the data in Java objects, how do I group by price</p>\n\n<p>On question 1, there are several good quality JSON parsers available, such as <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">https://github.com/google/gson</a> It is fairly straightforward to parse the JSON and construct the appropriate objects. But if you read the tutorials, try to use the parser and then have problems, come back to SO and ask a specific question.</p>\n\n<p>On question 2, here is a suggestion:</p>\n\n<pre><code>enum Size { S, M, L, XL, XXL, XXL }\n\nclass SizePrice {\n    private final double price;\n    private final Size size;\n    private final int number;\n}\n\nList&lt;SizePrice&gt; sizePrices = &lt;read from JSON&gt;\n\nMap&lt;Double,List&lt;SizePrice&gt;&gt; sizePricesGroupedByPrice = sizePrices.stream()\n    .collect(Collectors.groupingBy(sp -&gt; sp.price));\n</code></pre>\n\n<p>The <code>Size</code> enum is deliberately in a size order so you can get the smallest and largest (by ordinal()) size is generating the range.</p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676661347,"creation_date":1676661347,"answer_id":75488428,"question_id":60069496,"body_markdown":"You can use JSON library such as _Josson_ to do the transformation.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;sizePrices\\&quot;: [&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;cargoHandoverPrice\\&quot;: 0.0,&quot; +\r\n        &quot;            \\&quot;sizeCode\\&quot;: \\&quot;S\\&quot;,&quot; +\r\n        &quot;            \\&quot;sizeNumber\\&quot;: 100&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;cargoHandoverPrice\\&quot;: 1.66,&quot; +\r\n        &quot;            \\&quot;sizeCode\\&quot;: \\&quot;M\\&quot;,&quot; +\r\n        &quot;            \\&quot;sizeNumber\\&quot;: 110&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;cargoHandoverPrice\\&quot;: 0.0,&quot; +\r\n        &quot;            \\&quot;sizeCode\\&quot;: \\&quot;L\\&quot;,&quot; +\r\n        &quot;            \\&quot;sizeNumber\\&quot;: 120&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;cargoHandoverPrice\\&quot;: 0.0,&quot; +\r\n        &quot;            \\&quot;sizeCode\\&quot;: \\&quot;XL\\&quot;,&quot; +\r\n        &quot;            \\&quot;sizeNumber\\&quot;: 130&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;cargoHandoverPrice\\&quot;: 0.0,&quot; +\r\n        &quot;            \\&quot;sizeCode\\&quot;: \\&quot;XXL\\&quot;,&quot; +\r\n        &quot;            \\&quot;sizeNumber\\&quot;: 140&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;cargoHandoverPrice\\&quot;: 1.66,&quot; +\r\n        &quot;            \\&quot;sizeCode\\&quot;: \\&quot;XXXL\\&quot;,&quot; +\r\n        &quot;            \\&quot;sizeNumber\\&quot;: 150&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;    ]&quot; +\r\n        &quot;}&quot;);\r\n\r\n__Transformation__\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;sizePrices&quot; +\r\n        &quot;.group(cargoHandoverPrice)&quot; +\r\n        &quot;.field(SizeRange: concat(elements.findByMin(sizeNumber).sizeCode,&quot; +\r\n        &quot;                         &#39;-&#39;,&quot; +\r\n        &quot;                         elements.findByMax(sizeNumber).sizeCode),&quot; +\r\n        &quot;       elements:)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    [ {\r\n      &quot;cargoHandoverPrice&quot; : 0.0,\r\n      &quot;SizeRange&quot; : &quot;S-XXL&quot;\r\n    }, {\r\n      &quot;cargoHandoverPrice&quot; : 1.66,\r\n      &quot;SizeRange&quot; : &quot;M-XXXL&quot;\r\n    } ]","title":"Grouping Json response with keys in java","body":"<p>You can use JSON library such as <em>Josson</em> to do the transformation.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;sizePrices\\&quot;: [&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;cargoHandoverPrice\\&quot;: 0.0,&quot; +\n    &quot;            \\&quot;sizeCode\\&quot;: \\&quot;S\\&quot;,&quot; +\n    &quot;            \\&quot;sizeNumber\\&quot;: 100&quot; +\n    &quot;        },&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;cargoHandoverPrice\\&quot;: 1.66,&quot; +\n    &quot;            \\&quot;sizeCode\\&quot;: \\&quot;M\\&quot;,&quot; +\n    &quot;            \\&quot;sizeNumber\\&quot;: 110&quot; +\n    &quot;        },&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;cargoHandoverPrice\\&quot;: 0.0,&quot; +\n    &quot;            \\&quot;sizeCode\\&quot;: \\&quot;L\\&quot;,&quot; +\n    &quot;            \\&quot;sizeNumber\\&quot;: 120&quot; +\n    &quot;        },&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;cargoHandoverPrice\\&quot;: 0.0,&quot; +\n    &quot;            \\&quot;sizeCode\\&quot;: \\&quot;XL\\&quot;,&quot; +\n    &quot;            \\&quot;sizeNumber\\&quot;: 130&quot; +\n    &quot;        },&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;cargoHandoverPrice\\&quot;: 0.0,&quot; +\n    &quot;            \\&quot;sizeCode\\&quot;: \\&quot;XXL\\&quot;,&quot; +\n    &quot;            \\&quot;sizeNumber\\&quot;: 140&quot; +\n    &quot;        },&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;cargoHandoverPrice\\&quot;: 1.66,&quot; +\n    &quot;            \\&quot;sizeCode\\&quot;: \\&quot;XXXL\\&quot;,&quot; +\n    &quot;            \\&quot;sizeNumber\\&quot;: 150&quot; +\n    &quot;        }&quot; +\n    &quot;    ]&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p><strong>Transformation</strong></p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;sizePrices&quot; +\n    &quot;.group(cargoHandoverPrice)&quot; +\n    &quot;.field(SizeRange: concat(elements.findByMin(sizeNumber).sizeCode,&quot; +\n    &quot;                         '-',&quot; +\n    &quot;                         elements.findByMax(sizeNumber).sizeCode),&quot; +\n    &quot;       elements:)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[ {\n  &quot;cargoHandoverPrice&quot; : 0.0,\n  &quot;SizeRange&quot; : &quot;S-XXL&quot;\n}, {\n  &quot;cargoHandoverPrice&quot; : 1.66,\n  &quot;SizeRange&quot; : &quot;M-XXXL&quot;\n} ]\n</code></pre>\n"}],"owner":{"account_id":17691556,"reputation":1,"user_id":12843207,"display_name":"sushobhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676661347,"creation_date":1580880565,"question_id":60069496,"body_markdown":"I am new to java development. I am learning json parsing. I got json response something like this.\r\n\r\n   \r\n\r\n    \r\n        &quot;sizePrices&quot;: [\r\n            {\r\n           \r\n                &quot;cargoHandoverPrice&quot;: 0.00,\r\n                &quot;sizeCode&quot;: &quot;S&quot;,\r\n                &quot;sizeNumber&quot;: 100\r\n            },\r\n            {\r\n                &quot;cargoHandoverPrice&quot;: 1.66,\r\n                &quot;sizeCode&quot;: &quot;M&quot;,\r\n                &quot;sizeNumber&quot;: 110\r\n\t\t\t\t\r\n            },   \r\n            {\r\n                \r\n                &quot;cargoHandoverPrice&quot;: 0.00,\r\n                &quot;sizeCode&quot;: &quot;L&quot;,\r\n                &quot;sizeNumber&quot;: 120\r\n               \r\n            }\r\n\t\t\t,   \r\n            {\r\n                \r\n                &quot;cargoHandoverPrice&quot;: 0.00,\r\n                &quot;sizeCode&quot;: &quot;XL&quot;,\r\n                &quot;sizeNumber&quot;: 130\r\n               \r\n            },   \r\n            {\r\n                \r\n                &quot;cargoHandoverPrice&quot;: 0.00,\r\n                &quot;sizeCode&quot;: &quot;XXL&quot;,\r\n                &quot;sizeNumber&quot;: 140\r\n               \r\n            },   \r\n            {\r\n                \r\n                &quot;cargoHandoverPrice&quot;: 1.66,\r\n                &quot;sizeCode&quot;: &quot;XXXL&quot;,\r\n                &quot;sizeNumber&quot;: 150\r\n               \r\n            }\r\n        ]\r\n\r\nif price match it should give me sizerange back\r\nlike below\r\n\r\nI want to parse this Json into something like this.\r\n\r\n    \r\n        [\r\n            {\r\n           \r\n                &quot;cargoHandoverPrice&quot;: 0.00,\r\n                &quot;SizeRange&quot;: &quot;S-XXL&quot;,\r\n                \r\n            },\r\n            {\r\n                &quot;cargoHandoverPrice&quot;: 1.66,\r\n                &quot;SizeRange&quot;: &quot;M-XXXL&quot;,\r\n               \r\n\t\t\t\t\r\n            }\r\n        ]\r\nHow can I achieve this? My motive is to group all the sizeranges according to their prices.\r\n\r\n","title":"Grouping Json response with keys in java","body":"<p>I am new to java development. I am learning json parsing. I got json response something like this.</p>\n\n<pre><code>    \"sizePrices\": [\n        {\n\n            \"cargoHandoverPrice\": 0.00,\n            \"sizeCode\": \"S\",\n            \"sizeNumber\": 100\n        },\n        {\n            \"cargoHandoverPrice\": 1.66,\n            \"sizeCode\": \"M\",\n            \"sizeNumber\": 110\n\n        },   \n        {\n\n            \"cargoHandoverPrice\": 0.00,\n            \"sizeCode\": \"L\",\n            \"sizeNumber\": 120\n\n        }\n        ,   \n        {\n\n            \"cargoHandoverPrice\": 0.00,\n            \"sizeCode\": \"XL\",\n            \"sizeNumber\": 130\n\n        },   \n        {\n\n            \"cargoHandoverPrice\": 0.00,\n            \"sizeCode\": \"XXL\",\n            \"sizeNumber\": 140\n\n        },   \n        {\n\n            \"cargoHandoverPrice\": 1.66,\n            \"sizeCode\": \"XXXL\",\n            \"sizeNumber\": 150\n\n        }\n    ]\n</code></pre>\n\n<p>if price match it should give me sizerange back\nlike below</p>\n\n<p>I want to parse this Json into something like this.</p>\n\n<pre><code>    [\n        {\n\n            \"cargoHandoverPrice\": 0.00,\n            \"SizeRange\": \"S-XXL\",\n\n        },\n        {\n            \"cargoHandoverPrice\": 1.66,\n            \"SizeRange\": \"M-XXXL\",\n\n\n        }\n    ]\n</code></pre>\n\n<p>How can I achieve this? My motive is to group all the sizeranges according to their prices.</p>\n"},{"tags":["java","arrays","swing"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1676643748,"post_id":75485395,"comment_id":133184176,"body_markdown":"`for (int pos = 0; pos &lt; 1; pos++) {` will only iterate once. Did you mean `for (int pos = 0; pos &lt; VB.PosCount; pos++) {` ?","body":"<code>for (int pos = 0; pos &lt; 1; pos++) {</code> will only iterate once. Did you mean <code>for (int pos = 0; pos &lt; VB.PosCount; pos++) {</code> ?"},{"owner":{"account_id":25745101,"reputation":3,"user_id":21227774,"display_name":"MaxChip 101"},"score":0,"creation_date":1676645269,"post_id":75485395,"comment_id":133184603,"body_markdown":"yea i spotted that and i fixed it but it only shows one of the lines","body":"yea i spotted that and i fixed it but it only shows one of the lines"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1676646567,"post_id":75485395,"comment_id":133184989,"body_markdown":"1) You should NOT be suing static data and methods.  Any data needed to paint the lines should be defined in the class that does the painting. You will then also needs methods in this class to update the data. 2) Painting is NOT cumulative. If you want to paint multiple lines then you need to store the data for each line in the class that does the painting. Check out [Custom Painting Approaches](https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/) for the two common ways to do this type of painting.","body":"1) You should NOT be suing static data and methods.  Any data needed to paint the lines should be defined in the class that does the painting. You will then also needs methods in this class to update the data. 2) Painting is NOT cumulative. If you want to paint multiple lines then you need to store the data for each line in the class that does the painting. Check out <a href=\"https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/\" rel=\"nofollow noreferrer\">Custom Painting Approaches</a> for the two common ways to do this type of painting."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1676646680,"post_id":75485395,"comment_id":133185027,"body_markdown":"3) Don&#39;t call you class &quot;Panel&quot;. There is an AWT component with the class name so it gets confusing. Class names should be more descriptive.","body":"3) Don&#39;t call you class &quot;Panel&quot;. There is an AWT component with the class name so it gets confusing. Class names should be more descriptive."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676661329,"creation_date":1676661329,"answer_id":75488422,"question_id":75485395,"body_markdown":"You should not be using the `static` keyword anywhere but the `static` `main` method.\r\n\r\nHere&#39;s a GUI that draws two lines.  You can add additional lines if you wish.\r\n\r\n[![Drawing Lines][1]][1]\r\n\r\nI created a Swing model using plain Java getter/setter classes.\r\n\r\nI created a `LineSegment` class to hold all the parameters to draw a line.  I created a `DrawingLinesModel` class to hold a `List` of `LineSegment` instances.  You can use an array, but a `List` is more flexible.\r\n\r\nI created a `JFrame` and a drawing `JPanel`.\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section. Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.\r\n\r\nAll Swing applications must start with a call to the `SwingUtilities` `invokeLater` method.  This method ensures that the Swing components are created and executed on the [Event Dispatch Thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html).\r\n\r\nHere&#39;s the complete runnable code.  I made all the additional classes inner classes so I could post the code as one block.\r\n\r\n    import java.awt.BasicStroke;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.WindowConstants;\r\n    \r\n    public class DrawingLinesExample implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new DrawingLinesExample());\r\n    \t}\r\n    \r\n    \tprivate final DrawingLinesModel model;\r\n    \r\n    \tprivate final DrawingPanel drawingPanel;\r\n    \r\n    \tpublic DrawingLinesExample() {\r\n    \t\tthis.model = new DrawingLinesModel();\r\n    \t\tthis.drawingPanel = new DrawingPanel(model);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Drawing Lines&quot;);\r\n    \t\tframe.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(drawingPanel, BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic class DrawingPanel extends JPanel {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tprivate final DrawingLinesModel model;\r\n    \r\n    \t\tpublic DrawingPanel(DrawingLinesModel model) {\r\n    \t\t\tthis.model = model;\r\n    \t\t\tthis.setPreferredSize(new Dimension(600, 640));\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \r\n    \t\t\tGraphics2D g2d = (Graphics2D) g;\r\n    \t\t\tfor (LineSegment line : model.getLines()) {\r\n    \t\t\t\tg2d.setColor(line.getColor());\r\n    \t\t\t\tg2d.setStroke(new BasicStroke(line.getThickness()));\r\n    \t\t\t\tPoint sp = line.getStartPoint();\r\n    \t\t\t\tPoint ep = line.getEndPoint();\r\n    \t\t\t\tg2d.drawLine(sp.x, sp.y, ep.x, ep.y);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic class DrawingLinesModel {\r\n    \r\n    \t\tprivate final List&lt;LineSegment&gt; lines;\r\n    \r\n    \t\tpublic DrawingLinesModel() {\r\n    \t\t\tthis.lines = new ArrayList&lt;&gt;();\r\n    \t\t\tthis.lines.add(new LineSegment(new Point(10, 10),\r\n    \t\t\t\t\tnew Point(400, 400), Color.BLUE, 9));\r\n    \t\t\tthis.lines.add(new LineSegment(new Point(10, 400),\r\n    \t\t\t\t\tnew Point(400, 10), Color.MAGENTA, 11));\r\n    \t\t}\r\n    \r\n    \t\tpublic List&lt;LineSegment&gt; getLines() {\r\n    \t\t\treturn lines;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic class LineSegment {\r\n    \r\n    \t\tprivate final int thickness;\r\n    \r\n    \t\tprivate final Color color;\r\n    \r\n    \t\tprivate final Point startPoint, endPoint;\r\n    \r\n    \t\tpublic LineSegment(Point startPoint, Point endPoint, Color color,\r\n    \t\t\t\tint thickness) {\r\n    \t\t\tthis.startPoint = startPoint;\r\n    \t\t\tthis.endPoint = endPoint;\r\n    \t\t\tthis.color = color;\r\n    \t\t\tthis.thickness = thickness;\r\n    \t\t}\r\n    \r\n    \t\tpublic Point getStartPoint() {\r\n    \t\t\treturn startPoint;\r\n    \t\t}\r\n    \r\n    \t\tpublic Point getEndPoint() {\r\n    \t\t\treturn endPoint;\r\n    \t\t}\r\n    \r\n    \t\tpublic Color getColor() {\r\n    \t\t\treturn color;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getThickness() {\r\n    \t\t\treturn thickness;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n19Te.png\r\n","title":"How to draw two lines in java with swing and arrays","body":"<p>You should not be using the <code>static</code> keyword anywhere but the <code>static</code> <code>main</code> method.</p>\n<p>Here's a GUI that draws two lines.  You can add additional lines if you wish.</p>\n<p><a href=\"https://i.stack.imgur.com/n19Te.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n19Te.png\" alt=\"Drawing Lines\" /></a></p>\n<p>I created a Swing model using plain Java getter/setter classes.</p>\n<p>I created a <code>LineSegment</code> class to hold all the parameters to draw a line.  I created a <code>DrawingLinesModel</code> class to hold a <code>List</code> of <code>LineSegment</code> instances.  You can use an array, but a <code>List</code> is more flexible.</p>\n<p>I created a <code>JFrame</code> and a drawing <code>JPanel</code>.</p>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section. Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section.</p>\n<p>All Swing applications must start with a call to the <code>SwingUtilities</code> <code>invokeLater</code> method.  This method ensures that the Swing components are created and executed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.</p>\n<p>Here's the complete runnable code.  I made all the additional classes inner classes so I could post the code as one block.</p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.WindowConstants;\n\npublic class DrawingLinesExample implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new DrawingLinesExample());\n    }\n\n    private final DrawingLinesModel model;\n\n    private final DrawingPanel drawingPanel;\n\n    public DrawingLinesExample() {\n        this.model = new DrawingLinesModel();\n        this.drawingPanel = new DrawingPanel(model);\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Drawing Lines&quot;);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n\n        frame.add(drawingPanel, BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    public class DrawingPanel extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n\n        private final DrawingLinesModel model;\n\n        public DrawingPanel(DrawingLinesModel model) {\n            this.model = model;\n            this.setPreferredSize(new Dimension(600, 640));\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n\n            Graphics2D g2d = (Graphics2D) g;\n            for (LineSegment line : model.getLines()) {\n                g2d.setColor(line.getColor());\n                g2d.setStroke(new BasicStroke(line.getThickness()));\n                Point sp = line.getStartPoint();\n                Point ep = line.getEndPoint();\n                g2d.drawLine(sp.x, sp.y, ep.x, ep.y);\n            }\n        }\n\n    }\n\n    public class DrawingLinesModel {\n\n        private final List&lt;LineSegment&gt; lines;\n\n        public DrawingLinesModel() {\n            this.lines = new ArrayList&lt;&gt;();\n            this.lines.add(new LineSegment(new Point(10, 10),\n                    new Point(400, 400), Color.BLUE, 9));\n            this.lines.add(new LineSegment(new Point(10, 400),\n                    new Point(400, 10), Color.MAGENTA, 11));\n        }\n\n        public List&lt;LineSegment&gt; getLines() {\n            return lines;\n        }\n\n    }\n\n    public class LineSegment {\n\n        private final int thickness;\n\n        private final Color color;\n\n        private final Point startPoint, endPoint;\n\n        public LineSegment(Point startPoint, Point endPoint, Color color,\n                int thickness) {\n            this.startPoint = startPoint;\n            this.endPoint = endPoint;\n            this.color = color;\n            this.thickness = thickness;\n        }\n\n        public Point getStartPoint() {\n            return startPoint;\n        }\n\n        public Point getEndPoint() {\n            return endPoint;\n        }\n\n        public Color getColor() {\n            return color;\n        }\n\n        public int getThickness() {\n            return thickness;\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25745101,"reputation":3,"user_id":21227774,"display_name":"MaxChip 101"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75488422,"answer_count":1,"score":-1,"last_activity_date":1676661329,"creation_date":1676643352,"question_id":75485395,"body_markdown":"so i am trying to make a program that will draw a line when you call the static void and it will send the coordinates of the line into an array to draw it in the panel class when i call it once it draws a line but when i call it twice it does not draw the first line only the second.\r\n\r\nmain class\r\n```\r\npackage main;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class VB {\r\n\t\r\n\tpublic static int[] POS_x1;\r\n\tpublic static int[] POS_y1;\r\n\tpublic static int[] POS_x2;\r\n\tpublic static int[] POS_y2;\r\n\t\r\n\tpublic static int PosCount;\r\n\t\r\n\t\r\n\tVB(){\r\n\r\n\t}\r\n\t\r\n\tpublic static void NewWindow(String Title, String LogoPath, int x, int y, int Width, int Height){\r\n\t\t\r\n\t\tPanel panel = new Panel();\r\n\t\t\r\n\t\tImageIcon image = new ImageIcon(LogoPath); \r\n\t\t\r\n\t\tJFrame frame = new JFrame();\r\n\t\tframe.setIconImage(image.getImage());\r\n\t\tframe.setTitle(Title);\r\n\t\tframe.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n\t\tframe.add(panel);\r\n\t\tframe.setBounds(x, y, Width, Height);\r\n\t\tframe.setResizable(false);\r\n\t\tframe.setVisible(true);\t\r\n\t}\r\n\t\r\n\tpublic static void DrawLine(int x1, int y1, int x2, int y2) {\r\n\r\n\t\tPOS_x1 = new int[256];\r\n\t\tPOS_y1 = new int[256];\r\n\t\tPOS_x2 = new int[256];\r\n\t\tPOS_y2 = new int[256];\r\n\t\t\r\n\t\tPOS_x1[PosCount] = x1;\r\n\t\tPOS_y1[PosCount] = y1;\r\n\t\tPOS_x2[PosCount] = x2;\r\n\t\tPOS_y2[PosCount] = y2;\r\n\t\tPosCount++;\r\n\t\tSystem.out.println(PosCount);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tVB.NewWindow(&quot;window&quot;, &quot;res/img/saullularphone.PNG&quot;, 100, 100, 500, 500);\r\n\t\tVB.DrawLine(0, 0, 100, 50);\r\n\t\tVB.DrawLine(0, 50, 100, 50);\r\n\t}\r\n}\r\n\r\n\r\n```\r\n\r\nPanel class\r\n\r\n```\r\npackage main;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\n\r\nimport javax.swing.JPanel;\r\n\r\npublic class Panel extends JPanel {\r\n\t\r\n\tPanel(){\r\n\t\trepaint();\r\n\t}\r\n\t\r\n\tprotected void paintComponent(Graphics g) {\r\n    \tsuper.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        for (int pos = 0; pos &lt; VB.PosCount; pos++) {\r\n            g2.setColor(Color.black);\r\n            g2.drawLine(VB.POS_x1[pos], VB.POS_y1[pos], VB.POS_x2[pos], VB.POS_y2[pos]);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\ni tried drawing the first line then redrawing then drawing the second line but it didn&#39;t work and drew the second line ","title":"How to draw two lines in java with swing and arrays","body":"<p>so i am trying to make a program that will draw a line when you call the static void and it will send the coordinates of the line into an array to draw it in the panel class when i call it once it draws a line but when i call it twice it does not draw the first line only the second.</p>\n<p>main class</p>\n<pre><code>package main;\n\nimport javax.swing.*;\n\npublic class VB {\n    \n    public static int[] POS_x1;\n    public static int[] POS_y1;\n    public static int[] POS_x2;\n    public static int[] POS_y2;\n    \n    public static int PosCount;\n    \n    \n    VB(){\n\n    }\n    \n    public static void NewWindow(String Title, String LogoPath, int x, int y, int Width, int Height){\n        \n        Panel panel = new Panel();\n        \n        ImageIcon image = new ImageIcon(LogoPath); \n        \n        JFrame frame = new JFrame();\n        frame.setIconImage(image.getImage());\n        frame.setTitle(Title);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.add(panel);\n        frame.setBounds(x, y, Width, Height);\n        frame.setResizable(false);\n        frame.setVisible(true); \n    }\n    \n    public static void DrawLine(int x1, int y1, int x2, int y2) {\n\n        POS_x1 = new int[256];\n        POS_y1 = new int[256];\n        POS_x2 = new int[256];\n        POS_y2 = new int[256];\n        \n        POS_x1[PosCount] = x1;\n        POS_y1[PosCount] = y1;\n        POS_x2[PosCount] = x2;\n        POS_y2[PosCount] = y2;\n        PosCount++;\n        System.out.println(PosCount);\n        \n    }\n    \n    public static void main(String[] args) {\n        VB.NewWindow(&quot;window&quot;, &quot;res/img/saullularphone.PNG&quot;, 100, 100, 500, 500);\n        VB.DrawLine(0, 0, 100, 50);\n        VB.DrawLine(0, 50, 100, 50);\n    }\n}\n\n\n</code></pre>\n<p>Panel class</p>\n<pre><code>package main;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\n\nimport javax.swing.JPanel;\n\npublic class Panel extends JPanel {\n    \n    Panel(){\n        repaint();\n    }\n    \n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        for (int pos = 0; pos &lt; VB.PosCount; pos++) {\n            g2.setColor(Color.black);\n            g2.drawLine(VB.POS_x1[pos], VB.POS_y1[pos], VB.POS_x2[pos], VB.POS_y2[pos]);\n        }\n    }\n\n}\n</code></pre>\n<p>i tried drawing the first line then redrawing then drawing the second line but it didn't work and drew the second line</p>\n"},{"tags":["java","bytecode","java-bytecode-asm"],"comments":[{"owner":{"account_id":27812348,"reputation":23,"user_id":21234503,"display_name":"Andrey Tarasov"},"score":0,"creation_date":1676649997,"post_id":75485622,"comment_id":133186055,"body_markdown":"I parsing already compiled class file.","body":"I parsing already compiled class file."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1676651688,"post_id":75485622,"comment_id":133186599,"body_markdown":"It sounds like you &quot;simply&quot; must read and apply the rules in [&#167; 8.4.8.1 of the JLS](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.8.1) and read especially [&#167; 8.4.2](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.2). Note that the *return type* of the overriding method is irrelevant: as long as name, type parameters and parameters match, it&#39;s overridden.","body":"It sounds like you &quot;simply&quot; must read and apply the rules in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.8.1\" rel=\"nofollow noreferrer\">&#167; 8.4.8.1 of the JLS</a> and read especially <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.2\" rel=\"nofollow noreferrer\">&#167; 8.4.2</a>. Note that the <i>return type</i> of the overriding method is irrelevant: as long as name, type parameters and parameters match, it&#39;s overridden."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676660529,"creation_date":1676659661,"answer_id":75488233,"question_id":75485622,"body_markdown":"Note that your issue does not only apply to generic supertype. You can also override a method with a more specific return type, with no Generics involved, e.g.\r\n\r\n```java\r\ninterface SomeInterface {\r\n\tObject method();\r\n}\r\nclass SomeImplementation implements SomeInterface {\r\n\t@Override\r\n\tpublic Integer method() {\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n\r\nYou have to understand the concept of [bridge methods].\r\n\r\nA bridge method performs the task of overriding a method on the byte code level, having exactly the same parameter types and return type as the overridden method, and delegates to the actual implementation method.\r\n\r\nSince the bridge method only consists of this invocation instruction, some type casts if required, and the return instruction, it is easy to parse such a method to find the actual method it belongs to, without dealing with the complex rules of the Generic type system.\r\n\r\nUsing, the following helper classes\r\n\r\n```java\r\nrecord MethodSignature(String name, String desc) {}\r\n\r\nrecord MethodInfo(int access, String owner, String name, String desc) {\r\n    MethodSignature signature() {\r\n        return new MethodSignature(name, desc);\r\n    }\r\n}\r\n\r\nfinal class MethodAndBridges {\r\n    MethodInfo actual;\r\n    final List&lt;MethodInfo&gt; bridges = new ArrayList&lt;&gt;();\r\n\r\n    MethodAndBridges(MethodSignature sig) {}\r\n\r\n    void set(MethodInfo mi) {\r\n        if(actual != null) throw new IllegalStateException();\r\n        actual = mi;\r\n    }\r\n\r\n    void addBridge(MethodInfo mi) {\r\n        bridges.add(mi);\r\n    }\r\n}\r\n```\r\n\r\nWe can gather the information in a form ready for checking override relations with [the ASM library] as follows:\r\n\r\n```java\r\nclass MethodCollector extends ClassVisitor {\r\n    static Map&lt;MethodSignature, MethodAndBridges&gt; getMethods(ClassReader cr) {\r\n        MethodCollector mc = new MethodCollector();\r\n        cr.accept(mc, ClassReader.SKIP_DEBUG | ClassReader.SKIP_FRAMES);\r\n        return mc.found;\r\n    }\r\n\r\n    final Map&lt;MethodSignature, MethodAndBridges&gt; found = new HashMap&lt;&gt;();\r\n    String owner, superClass;\r\n    List&lt;String&gt; interfaces;\r\n\r\n    protected MethodCollector() {\r\n        super(Opcodes.ASM9);\r\n    }\r\n\r\n    @Override\r\n    public void visit(int version, int acc,\r\n            String name, String sig, String superName, String[] ifNames) {\r\n        owner = name;\r\n        superClass = superName;\r\n        this.interfaces = ifNames == null? List.of(): List.of(ifNames);\r\n    }\r\n\r\n    @Override\r\n    public MethodVisitor visitMethod(\r\n        int acc, String name, String desc, String sig, String[] exceptions) {\r\n\r\n        MethodInfo mi = new MethodInfo(acc, owner, name, desc);\r\n        if((acc &amp; Opcodes.ACC_BRIDGE) == 0) {\r\n            found.computeIfAbsent(mi.signature(), MethodAndBridges::new).set(mi);\r\n            return null;\r\n        }\r\n        return new MethodVisitor(Opcodes.ASM9) {\r\n            @Override public void visitMethodInsn(\r\n                    int op, String owner, String name, String tDesc, boolean i) {\r\n                found.computeIfAbsent(new MethodSignature(name, tDesc),\r\n                    MethodAndBridges::new).addBridge(mi);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\nTo demonstrate how this work, lets enhance your example, to address more cases\r\n\r\n```java\r\ninterface SupplierOfSerializable {\r\n    Serializable get();\r\n}\r\n\r\ninterface ISetting&lt;T extends CharSequence&gt; extends Supplier&lt;T&gt;, Consumer&lt;T&gt; {\r\n    T get();\r\n    @Override void accept(T t);\r\n    Number method(int i);\r\n    static void method(Object o) {}\r\n    private void method(Number n) {}\r\n}\r\n\r\nclass Setting implements ISetting&lt;String&gt;, SupplierOfSerializable {\r\n    public String get() {\r\n        return &quot;&quot;;\r\n    }\r\n    @Override\r\n    public void accept(String t) {}\r\n    public Integer method(int i) {\r\n        return i;\r\n    }\r\n    static void method(Object o) {}\r\n    void method(Number n) {}\r\n}\r\n```\r\n\r\nand check the override relations (only considering the direct interfaces, without recursion)\r\n```java\r\npublic class CheckOverride {\r\n    public static void main(String[] args) throws IOException {\r\n        MethodCollector mc = new MethodCollector();\r\n        new ClassReader(Setting.class.getName())\r\n            .accept(mc, ClassReader.SKIP_DEBUG | ClassReader.SKIP_FRAMES);\r\n\r\n        Map&lt;MethodSignature, MethodAndBridges&gt; implMethods = mc.found;\r\n        Map&lt;MethodInfo, Set&lt;MethodInfo&gt;&gt; overrides = new HashMap&lt;&gt;();\r\n\r\n        for(String ifType: mc.interfaces) {\r\n            Map&lt;MethodSignature, MethodAndBridges&gt; ifMethods\r\n                = MethodCollector.getMethods(new ClassReader(ifType));\r\n\r\n            System.out.println(&quot;interface &quot; + ifType.replace(&#39;/&#39;, &#39;.&#39;));\r\n            printMethods(ifMethods);\r\n            System.out.println();\r\n            ifMethods.values().removeIf(CheckOverride::nonOverridable);\r\n\r\n            implMethods.forEach((sig, method) -&gt; {\r\n                if(nonOverridable(method)) {\r\n                    overrides.putIfAbsent(method.actual, Set.of());\r\n                    return;\r\n                }\r\n                var overridden = ifMethods.get(sig);\r\n                if(overridden == null &amp;&amp; method.bridges.isEmpty()) {\r\n                    overrides.putIfAbsent(method.actual, Set.of());\r\n                    return;\r\n                }\r\n                Set&lt;MethodInfo&gt; set = overrides.compute(method.actual,\r\n                    (k, s) -&gt; s == null || s.isEmpty()? new HashSet&lt;&gt;(): s);\r\n                if(overridden != null) set.add(overridden.actual);\r\n                for(var mi: method.bridges) {\r\n                    overridden = ifMethods.get(mi.signature());\r\n                    if(overridden != null) set.add(overridden.actual);\r\n                }\r\n            });\r\n        }\r\n\r\n        System.out.println(&quot;class &quot; + mc.owner.replace(&#39;/&#39;, &#39;.&#39;));\r\n        printMethods(implMethods);\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Final result&quot;);\r\n        System.out.println(&quot;class &quot; + mc.owner.replace(&#39;/&#39;, &#39;.&#39;));\r\n        overrides.forEach((m,overridden) -&gt; {\r\n            System.out.println(&quot;  &quot; + toDeclaration(m, false));\r\n            if(!overridden.isEmpty()) {\r\n                System.out.println(&quot;    overrides&quot;);\r\n                overridden.forEach(o -&gt;\r\n                    System.out.println(&quot;      &quot; + toDeclaration(o, true)));\r\n            }\r\n        });\r\n    }\r\n\r\n    static boolean nonOverridable(MethodAndBridges m) {\r\n        return (m.actual.access() &amp; (Opcodes.ACC_PRIVATE|Opcodes.ACC_STATIC)) != 0\r\n             || m.actual.name().startsWith(&quot;&lt;&quot;);\r\n    }\r\n\r\n    static void printMethods(Map&lt;MethodSignature, MethodAndBridges&gt; methods) {\r\n        methods.forEach((sig, methodAndBridges) -&gt; {\r\n            System.out.println(&quot;  &quot;+toDeclaration(methodAndBridges.actual,false));\r\n            if(!methodAndBridges.bridges.isEmpty()) {\r\n                System.out.println(&quot;    bridges&quot;);\r\n                for(MethodInfo mi: methodAndBridges.bridges) {\r\n                    System.out.println(&quot;      &quot; + toDeclaration(mi, false));\r\n                }\r\n            };\r\n        });\r\n    }\r\n\r\n    private static String toDeclaration(MethodInfo mi, boolean withType) {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(Modifier.toString(mi.access() &amp; Modifier.methodModifiers()));\r\n        if(sb.length() &gt; 0) sb.append(&#39; &#39;);\r\n        String clName = mi.owner();\r\n        var mt = MethodTypeDesc.ofDescriptor(mi.desc());\r\n        if(mi.name().equals(&quot;&lt;init&gt;&quot;))\r\n            sb.append(clName, clName.lastIndexOf(&#39;/&#39;) + 1, clName.length());\r\n        else {\r\n            sb.append(mt.returnType().displayName()).append(&#39; &#39;);\r\n            if(withType) sb.append(clName.replace(&#39;/&#39;, &#39;.&#39;)).append(&#39;.&#39;);\r\n            sb.append(mi.name());\r\n        }\r\n        if(mt.parameterCount() == 0) sb.append(&quot;()&quot;);\r\n        else {\r\n            String sep = &quot;(&quot;;\r\n            for(ClassDesc cd: mt.parameterList()) {\r\n                sb.append(sep).append(cd.displayName());\r\n                sep = &quot;, &quot;;\r\n            }\r\n            sb.append(&#39;)&#39;);\r\n        }\r\n        return sb.toString();\r\n    }\r\n}\r\n```\r\n\r\n```lang-none\r\ninterface ISetting\r\n  public static void method(Object)\r\n  public abstract void accept(CharSequence)\r\n    bridges\r\n      public void accept(Object)\r\n  public abstract Number method(int)\r\n  private void method(Number)\r\n  public abstract CharSequence get()\r\n    bridges\r\n      public Object get()\r\n\r\ninterface SupplierOfSerializable\r\n  public abstract Serializable get()\r\n\r\nclass Setting\r\n  Setting()\r\n  public Integer method(int)\r\n    bridges\r\n      public Number method(int)\r\n  public void accept(String)\r\n    bridges\r\n      public void accept(Object)\r\n      public void accept(CharSequence)\r\n  static void method(Object)\r\n  public String get()\r\n    bridges\r\n      public Object get()\r\n      public CharSequence get()\r\n      public Serializable get()\r\n  void method(Number)\r\n\r\nFinal result\r\nclass Setting\r\n  public String get()\r\n    overrides\r\n      public abstract Serializable SupplierOfSerializable.get()\r\n      public abstract CharSequence ISetting.get()\r\n  Setting()\r\n  public Integer method(int)\r\n    overrides\r\n      public abstract Number ISetting.method(int)\r\n  public void accept(String)\r\n    overrides\r\n      public abstract void ISetting.accept(CharSequence)\r\n  void method(Number)\r\n  static void method(Object)\r\n```\r\n\r\nThe code uses newer Java features, like `var`, `record`, and the [constant API], but I think, the result is straight-forward enough for converting it to older Java versions, if really required.\r\n\r\n[bridge methods]: https://docs.oracle.com/javase/tutorial/java/generics/bridgeMethods.html\r\n[constant API]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/constant/package-summary.html\r\n[the ASM library]: https://asm.ow2.io/javadoc/org/objectweb/asm/package-summary.html","title":"Java ASM method override check","body":"<p>Note that your issue does not only apply to generic supertype. You can also override a method with a more specific return type, with no Generics involved, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface SomeInterface {\n    Object method();\n}\nclass SomeImplementation implements SomeInterface {\n    @Override\n    public Integer method() {\n        return null;\n    }\n}\n</code></pre>\n<p>You have to understand the concept of <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bridgeMethods.html\" rel=\"nofollow noreferrer\">bridge methods</a>.</p>\n<p>A bridge method performs the task of overriding a method on the byte code level, having exactly the same parameter types and return type as the overridden method, and delegates to the actual implementation method.</p>\n<p>Since the bridge method only consists of this invocation instruction, some type casts if required, and the return instruction, it is easy to parse such a method to find the actual method it belongs to, without dealing with the complex rules of the Generic type system.</p>\n<p>Using, the following helper classes</p>\n<pre class=\"lang-java prettyprint-override\"><code>record MethodSignature(String name, String desc) {}\n\nrecord MethodInfo(int access, String owner, String name, String desc) {\n    MethodSignature signature() {\n        return new MethodSignature(name, desc);\n    }\n}\n\nfinal class MethodAndBridges {\n    MethodInfo actual;\n    final List&lt;MethodInfo&gt; bridges = new ArrayList&lt;&gt;();\n\n    MethodAndBridges(MethodSignature sig) {}\n\n    void set(MethodInfo mi) {\n        if(actual != null) throw new IllegalStateException();\n        actual = mi;\n    }\n\n    void addBridge(MethodInfo mi) {\n        bridges.add(mi);\n    }\n}\n</code></pre>\n<p>We can gather the information in a form ready for checking override relations with <a href=\"https://asm.ow2.io/javadoc/org/objectweb/asm/package-summary.html\" rel=\"nofollow noreferrer\">the ASM library</a> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MethodCollector extends ClassVisitor {\n    static Map&lt;MethodSignature, MethodAndBridges&gt; getMethods(ClassReader cr) {\n        MethodCollector mc = new MethodCollector();\n        cr.accept(mc, ClassReader.SKIP_DEBUG | ClassReader.SKIP_FRAMES);\n        return mc.found;\n    }\n\n    final Map&lt;MethodSignature, MethodAndBridges&gt; found = new HashMap&lt;&gt;();\n    String owner, superClass;\n    List&lt;String&gt; interfaces;\n\n    protected MethodCollector() {\n        super(Opcodes.ASM9);\n    }\n\n    @Override\n    public void visit(int version, int acc,\n            String name, String sig, String superName, String[] ifNames) {\n        owner = name;\n        superClass = superName;\n        this.interfaces = ifNames == null? List.of(): List.of(ifNames);\n    }\n\n    @Override\n    public MethodVisitor visitMethod(\n        int acc, String name, String desc, String sig, String[] exceptions) {\n\n        MethodInfo mi = new MethodInfo(acc, owner, name, desc);\n        if((acc &amp; Opcodes.ACC_BRIDGE) == 0) {\n            found.computeIfAbsent(mi.signature(), MethodAndBridges::new).set(mi);\n            return null;\n        }\n        return new MethodVisitor(Opcodes.ASM9) {\n            @Override public void visitMethodInsn(\n                    int op, String owner, String name, String tDesc, boolean i) {\n                found.computeIfAbsent(new MethodSignature(name, tDesc),\n                    MethodAndBridges::new).addBridge(mi);\n            }\n        };\n    }\n}\n</code></pre>\n<hr />\n<p>To demonstrate how this work, lets enhance your example, to address more cases</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface SupplierOfSerializable {\n    Serializable get();\n}\n\ninterface ISetting&lt;T extends CharSequence&gt; extends Supplier&lt;T&gt;, Consumer&lt;T&gt; {\n    T get();\n    @Override void accept(T t);\n    Number method(int i);\n    static void method(Object o) {}\n    private void method(Number n) {}\n}\n\nclass Setting implements ISetting&lt;String&gt;, SupplierOfSerializable {\n    public String get() {\n        return &quot;&quot;;\n    }\n    @Override\n    public void accept(String t) {}\n    public Integer method(int i) {\n        return i;\n    }\n    static void method(Object o) {}\n    void method(Number n) {}\n}\n</code></pre>\n<p>and check the override relations (only considering the direct interfaces, without recursion)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CheckOverride {\n    public static void main(String[] args) throws IOException {\n        MethodCollector mc = new MethodCollector();\n        new ClassReader(Setting.class.getName())\n            .accept(mc, ClassReader.SKIP_DEBUG | ClassReader.SKIP_FRAMES);\n\n        Map&lt;MethodSignature, MethodAndBridges&gt; implMethods = mc.found;\n        Map&lt;MethodInfo, Set&lt;MethodInfo&gt;&gt; overrides = new HashMap&lt;&gt;();\n\n        for(String ifType: mc.interfaces) {\n            Map&lt;MethodSignature, MethodAndBridges&gt; ifMethods\n                = MethodCollector.getMethods(new ClassReader(ifType));\n\n            System.out.println(&quot;interface &quot; + ifType.replace('/', '.'));\n            printMethods(ifMethods);\n            System.out.println();\n            ifMethods.values().removeIf(CheckOverride::nonOverridable);\n\n            implMethods.forEach((sig, method) -&gt; {\n                if(nonOverridable(method)) {\n                    overrides.putIfAbsent(method.actual, Set.of());\n                    return;\n                }\n                var overridden = ifMethods.get(sig);\n                if(overridden == null &amp;&amp; method.bridges.isEmpty()) {\n                    overrides.putIfAbsent(method.actual, Set.of());\n                    return;\n                }\n                Set&lt;MethodInfo&gt; set = overrides.compute(method.actual,\n                    (k, s) -&gt; s == null || s.isEmpty()? new HashSet&lt;&gt;(): s);\n                if(overridden != null) set.add(overridden.actual);\n                for(var mi: method.bridges) {\n                    overridden = ifMethods.get(mi.signature());\n                    if(overridden != null) set.add(overridden.actual);\n                }\n            });\n        }\n\n        System.out.println(&quot;class &quot; + mc.owner.replace('/', '.'));\n        printMethods(implMethods);\n        System.out.println();\n\n        System.out.println(&quot;Final result&quot;);\n        System.out.println(&quot;class &quot; + mc.owner.replace('/', '.'));\n        overrides.forEach((m,overridden) -&gt; {\n            System.out.println(&quot;  &quot; + toDeclaration(m, false));\n            if(!overridden.isEmpty()) {\n                System.out.println(&quot;    overrides&quot;);\n                overridden.forEach(o -&gt;\n                    System.out.println(&quot;      &quot; + toDeclaration(o, true)));\n            }\n        });\n    }\n\n    static boolean nonOverridable(MethodAndBridges m) {\n        return (m.actual.access() &amp; (Opcodes.ACC_PRIVATE|Opcodes.ACC_STATIC)) != 0\n             || m.actual.name().startsWith(&quot;&lt;&quot;);\n    }\n\n    static void printMethods(Map&lt;MethodSignature, MethodAndBridges&gt; methods) {\n        methods.forEach((sig, methodAndBridges) -&gt; {\n            System.out.println(&quot;  &quot;+toDeclaration(methodAndBridges.actual,false));\n            if(!methodAndBridges.bridges.isEmpty()) {\n                System.out.println(&quot;    bridges&quot;);\n                for(MethodInfo mi: methodAndBridges.bridges) {\n                    System.out.println(&quot;      &quot; + toDeclaration(mi, false));\n                }\n            };\n        });\n    }\n\n    private static String toDeclaration(MethodInfo mi, boolean withType) {\n        StringBuilder sb = new StringBuilder();\n        sb.append(Modifier.toString(mi.access() &amp; Modifier.methodModifiers()));\n        if(sb.length() &gt; 0) sb.append(' ');\n        String clName = mi.owner();\n        var mt = MethodTypeDesc.ofDescriptor(mi.desc());\n        if(mi.name().equals(&quot;&lt;init&gt;&quot;))\n            sb.append(clName, clName.lastIndexOf('/') + 1, clName.length());\n        else {\n            sb.append(mt.returnType().displayName()).append(' ');\n            if(withType) sb.append(clName.replace('/', '.')).append('.');\n            sb.append(mi.name());\n        }\n        if(mt.parameterCount() == 0) sb.append(&quot;()&quot;);\n        else {\n            String sep = &quot;(&quot;;\n            for(ClassDesc cd: mt.parameterList()) {\n                sb.append(sep).append(cd.displayName());\n                sep = &quot;, &quot;;\n            }\n            sb.append(')');\n        }\n        return sb.toString();\n    }\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>interface ISetting\n  public static void method(Object)\n  public abstract void accept(CharSequence)\n    bridges\n      public void accept(Object)\n  public abstract Number method(int)\n  private void method(Number)\n  public abstract CharSequence get()\n    bridges\n      public Object get()\n\ninterface SupplierOfSerializable\n  public abstract Serializable get()\n\nclass Setting\n  Setting()\n  public Integer method(int)\n    bridges\n      public Number method(int)\n  public void accept(String)\n    bridges\n      public void accept(Object)\n      public void accept(CharSequence)\n  static void method(Object)\n  public String get()\n    bridges\n      public Object get()\n      public CharSequence get()\n      public Serializable get()\n  void method(Number)\n\nFinal result\nclass Setting\n  public String get()\n    overrides\n      public abstract Serializable SupplierOfSerializable.get()\n      public abstract CharSequence ISetting.get()\n  Setting()\n  public Integer method(int)\n    overrides\n      public abstract Number ISetting.method(int)\n  public void accept(String)\n    overrides\n      public abstract void ISetting.accept(CharSequence)\n  void method(Number)\n  static void method(Object)\n</code></pre>\n<p>The code uses newer Java features, like <code>var</code>, <code>record</code>, and the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/constant/package-summary.html\" rel=\"nofollow noreferrer\">constant API</a>, but I think, the result is straight-forward enough for converting it to older Java versions, if really required.</p>\n"}],"owner":{"account_id":27812348,"reputation":23,"user_id":21234503,"display_name":"Andrey Tarasov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75488233,"answer_count":1,"score":2,"last_activity_date":1676660529,"creation_date":1676644527,"question_id":75485622,"body_markdown":"I have a problem with method override checks. I can detect simple override relations, but if the parent class has generics and the abstract method uses type parameters (return value/args), my code breaks down because the method description is not equal to the checked method.\r\n\r\nExample:\r\n\r\n```\r\npublic interface ISetting&lt;T&gt; {\r\n\r\npublic T method();\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class Setting implements ISetting&lt;Integer&gt; {\r\n\r\npublic Integer method() {\r\n//Something\r\n}\r\n\r\n}\r\n```\r\n\r\nIn `ISetting`, the method description is `()Ljava/lang/Object;`\r\nand in `Setting`, the method description is `()Ljava/lang/Integer;`\r\n\r\nHow I can check this Override ?\r\n\r\nOn my head no thoughts come, how I can make this &gt;~&lt; All ideas which come to my head are bad (example: ignore check on desc, but overload method just break this idea)","title":"Java ASM method override check","body":"<p>I have a problem with method override checks. I can detect simple override relations, but if the parent class has generics and the abstract method uses type parameters (return value/args), my code breaks down because the method description is not equal to the checked method.</p>\n<p>Example:</p>\n<pre><code>public interface ISetting&lt;T&gt; {\n\npublic T method();\n\n}\n</code></pre>\n<pre><code>public class Setting implements ISetting&lt;Integer&gt; {\n\npublic Integer method() {\n//Something\n}\n\n}\n</code></pre>\n<p>In <code>ISetting</code>, the method description is <code>()Ljava/lang/Object;</code>\nand in <code>Setting</code>, the method description is <code>()Ljava/lang/Integer;</code></p>\n<p>How I can check this Override ?</p>\n<p>On my head no thoughts come, how I can make this &gt;~&lt; All ideas which come to my head are bad (example: ignore check on desc, but overload method just break this idea)</p>\n"},{"tags":["java","multidimensional-array","dynamic-arrays"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1676661075,"post_id":75488317,"comment_id":133189297,"body_markdown":"Well, if you don&#39;t  know the size of the array in advance, a `Collection`, such as a `List`, is normally used. If you refuse to do that, then you might try an array  set to a size that will be larger than realistically needed. After the inputs are finished, the unused part of the array is trimmed by copying it to an array of the correct length.","body":"Well, if you don&#39;t  know the size of the array in advance, a <code>Collection</code>, such as a <code>List</code>, is normally used. If you refuse to do that, then you might try an array  set to a size that will be larger than realistically needed. After the inputs are finished, the unused part of the array is trimmed by copying it to an array of the correct length."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676661439,"post_id":75488317,"comment_id":133189394,"body_markdown":"Stack Overflow is not a code writing service. Questions are generally expected to show an attempt to solve the problem. Please see the [Tour](https://www.google.com/search?channel=fs&amp;client=ubuntu&amp;q=stackoverflow.com+tour), [How to Ask](https://stackoverflow.com/help/how-to-ask) and other links in the [Help Center](https://stackoverflow.com/help).  It might also help to search StackOverflow for similar questions.","body":"Stack Overflow is not a code writing service. Questions are generally expected to show an attempt to solve the problem. Please see the <a href=\"https://www.google.com/search?channel=fs&amp;client=ubuntu&amp;q=stackoverflow.com+tour\" rel=\"nofollow noreferrer\">Tour</a>, <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> and other links in the <a href=\"https://stackoverflow.com/help\">Help Center</a>.  It might also help to search StackOverflow for similar questions."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1676661739,"post_id":75488317,"comment_id":133189476,"body_markdown":"Or in the case of a fixed sized array, you keep a separate counter that is used to determine what portion of the fixed array is actually holding values. You just ignore the rest of the unused array.","body":"Or in the case of a fixed sized array, you keep a separate counter that is used to determine what portion of the fixed array is actually holding values. You just ignore the rest of the unused array."}],"owner":{"account_id":27814310,"reputation":1,"user_id":21236067,"display_name":"Jay-23"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676660422,"creation_date":1676660422,"question_id":75488317,"body_markdown":"I want to create a 2D array with the help of user input but the user do not specifies the length of the array. The input taken from the user should be saved in a 2D array. until the user inputs &quot;FINISH&quot;.\r\n\r\n\r\nI tried using ArrayList but thats too compliciated. Any simple logic to make things work?","title":"How to take input from user and store it in array until the user enters a specific word","body":"<p>I want to create a 2D array with the help of user input but the user do not specifies the length of the array. The input taken from the user should be saved in a 2D array. until the user inputs &quot;FINISH&quot;.</p>\n<p>I tried using ArrayList but thats too compliciated. Any simple logic to make things work?</p>\n"},{"tags":["java","apache-kafka","mockito","spring-kafka"],"comments":[{"owner":{"account_id":10432483,"reputation":2673,"user_id":7691891,"display_name":"Smaillns"},"score":0,"creation_date":1659288501,"post_id":52783066,"comment_id":129254073,"body_markdown":"Here a very helpful article\n\n\nhttps://www.geekyhacker.com/2020/10/03/test-spring-kafka-consumer-and-producer-with-embeddedkafka/","body":"Here a very helpful article   <a href=\"https://www.geekyhacker.com/2020/10/03/test-spring-kafka-consumer-and-producer-with-embeddedkafka/\" rel=\"nofollow noreferrer\">geekyhacker.com/2020/10/03/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1539364001,"creation_date":1539364001,"answer_id":52784115,"question_id":52783066,"body_markdown":"&gt;  how do I ensure @KafkaListener is invoked when a new message is arrived in Kafka.\r\n\r\nWell, this is essentially a Framework responsibility to test such a functionality. In your case you need just concentrate on the business logic and unit test exactly your custom code, but not that one compiled in the Framework. In addition there is not goo point to test the `@KafkaListener` method which just logs incoming messages. It is definitely going to be too hard to find the hook for test-case verification.\r\n\r\nOn the other hand I really believe that business logic in your `@KafkaListener` method is much complicated than you show. So, it might be really better to verify your custom code (e.g. DB insert, some other service call etc.) called from that method rather than try to figure out the hook exactly for the `myMessageListener()`.\r\n\r\nWhat you do with the `mock(MyMessageProcessor.class)` is really a good way for business logic verification. Only what is wrong in your code is about that duplication for the `EmbeddedKafka`: you use an annotation and you also declare a `@Bean` in the config. You should think about removing one of them. Although it isn&#39;t clear where is your production code, which is really free from the embedded Kafka. Otherwise, if everything is in the test scope, I don&#39;t see any problems with your consumer and producer factories configuration. You definitely have a minimal possible config for the `@KafkaListener` and `KafkaTemplate`. Only what you need is to remove a `@EmbeddedKafka` do not start the broker twice.","title":"How to write Unit test for @KafkaListener?","body":"<blockquote>\n  <p>how do I ensure @KafkaListener is invoked when a new message is arrived in Kafka.</p>\n</blockquote>\n\n<p>Well, this is essentially a Framework responsibility to test such a functionality. In your case you need just concentrate on the business logic and unit test exactly your custom code, but not that one compiled in the Framework. In addition there is not goo point to test the <code>@KafkaListener</code> method which just logs incoming messages. It is definitely going to be too hard to find the hook for test-case verification.</p>\n\n<p>On the other hand I really believe that business logic in your <code>@KafkaListener</code> method is much complicated than you show. So, it might be really better to verify your custom code (e.g. DB insert, some other service call etc.) called from that method rather than try to figure out the hook exactly for the <code>myMessageListener()</code>.</p>\n\n<p>What you do with the <code>mock(MyMessageProcessor.class)</code> is really a good way for business logic verification. Only what is wrong in your code is about that duplication for the <code>EmbeddedKafka</code>: you use an annotation and you also declare a <code>@Bean</code> in the config. You should think about removing one of them. Although it isn't clear where is your production code, which is really free from the embedded Kafka. Otherwise, if everything is in the test scope, I don't see any problems with your consumer and producer factories configuration. You definitely have a minimal possible config for the <code>@KafkaListener</code> and <code>KafkaTemplate</code>. Only what you need is to remove a <code>@EmbeddedKafka</code> do not start the broker twice.</p>\n"},{"comments":[{"owner":{"account_id":5961472,"reputation":161,"user_id":4716843,"display_name":"Felipe Jorge"},"score":0,"creation_date":1548267139,"post_id":52784139,"comment_id":95484151,"body_markdown":"What is KafkaEmbedded?","body":"What is KafkaEmbedded?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1548267954,"post_id":52784139,"comment_id":95484559,"body_markdown":"Don&#39;t ask questions on old answers; ask a new question instead. It was the old name for the `KafkaEmbeddedBroker` - see [the documentation](https://docs.spring.io/spring-kafka/reference/html/_reference.html#testing).","body":"Don&#39;t ask questions on old answers; ask a new question instead. It was the old name for the <code>KafkaEmbeddedBroker</code> - see <a href=\"https://docs.spring.io/spring-kafka/reference/html/_reference.html#testing\" rel=\"nofollow noreferrer\">the documentation</a>."},{"owner":{"account_id":12893644,"reputation":586,"user_id":9324765,"display_name":"Akhil"},"score":0,"creation_date":1578657638,"post_id":52784139,"comment_id":105519642,"body_markdown":"Hi Gary, How does the embedded kafka broker id will be taken by the consumer here. As the consumer configuration will be created before the test cases are executed.","body":"Hi Gary, How does the embedded kafka broker id will be taken by the consumer here. As the consumer configuration will be created before the test cases are executed."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1578662587,"post_id":52784139,"comment_id":105521952,"body_markdown":"Don&#39;t ask new questions on an old answer; it won&#39;t help others find answers. See [the documentation](https://docs.spring.io/spring-kafka/docs/2.4.0.RELEASE/reference/html/#kafka-testing-embeddedkafka-annotation). `@EmbeddedKafka(topics = &quot;someTopic&quot;, bootstrapServersProperty = &quot;spring.kafka.bootstrap-servers&quot;)` will override the application properties. If this is not what you mean, ask a new question.","body":"Don&#39;t ask new questions on an old answer; it won&#39;t help others find answers. See <a href=\"https://docs.spring.io/spring-kafka/docs/2.4.0.RELEASE/reference/html/#kafka-testing-embeddedkafka-annotation\" rel=\"nofollow noreferrer\">the documentation</a>. <code>@EmbeddedKafka(topics = &quot;someTopic&quot;, bootstrapServersProperty = &quot;spring.kafka.bootstrap-servers&quot;)</code> will override the application properties. If this is not what you mean, ask a new question."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":4,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1590072020,"creation_date":1539364125,"answer_id":52784139,"question_id":52783066,"body_markdown":"You can wrap the listener in your test case.\r\n\r\nGiven\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    @SpringBootApplication\r\n    public class So52783066Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(So52783066Application.class, args);\r\n    \t}\r\n    \r\n    \t@KafkaListener(id = &quot;so52783066&quot;, topics = &quot;so52783066&quot;)\r\n    \tpublic void listen(String in) {\r\n    \t\tSystem.out.println(in);\r\n    \t}\r\n    \r\n    }\r\n\r\nthen\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class So52783066ApplicationTests {\r\n    \r\n    \t@ClassRule\r\n    \tpublic static KafkaEmbedded embeddedKafka = new KafkaEmbedded(1, true, &quot;so52783066&quot;);\r\n    \r\n    \t@Autowired\r\n    \tprivate KafkaListenerEndpointRegistry registry;\r\n    \r\n    \t@Autowired\r\n    \tprivate KafkaTemplate&lt;String, String&gt; template;\r\n    \r\n    \t@Before\r\n    \tpublic void setup() {\r\n    \t\tSystem.setProperty(&quot;spring.kafka.bootstrap-servers&quot;, embeddedKafka.getBrokersAsString());\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void test() throws Exception {\r\n    \t\tConcurrentMessageListenerContainer&lt;?, ?&gt; container = (ConcurrentMessageListenerContainer&lt;?, ?&gt;) registry\r\n    \t\t\t\t.getListenerContainer(&quot;so52783066&quot;);\r\n    \t\tcontainer.stop();\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tAcknowledgingConsumerAwareMessageListener&lt;String, String&gt; messageListener = (AcknowledgingConsumerAwareMessageListener&lt;String, String&gt;) container\r\n    \t\t\t\t.getContainerProperties().getMessageListener();\r\n    \t\tCountDownLatch latch = new CountDownLatch(1);\r\n    \t\tcontainer.getContainerProperties()\r\n    \t\t\t\t.setMessageListener(new AcknowledgingConsumerAwareMessageListener&lt;String, String&gt;() {\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void onMessage(ConsumerRecord&lt;String, String&gt; data, Acknowledgment acknowledgment,\r\n    \t\t\t\t\t\t\tConsumer&lt;?, ?&gt; consumer) {\r\n    \t\t\t\t\t\tmessageListener.onMessage(data, acknowledgment, consumer);\r\n    \t\t\t\t\t\tlatch.countDown();\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t});\r\n    \t\tcontainer.start();\r\n    \t\ttemplate.send(&quot;so52783066&quot;, &quot;foo&quot;);\r\n    \t\tassertThat(latch.await(10, TimeUnit.SECONDS)).isTrue();\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to write Unit test for @KafkaListener?","body":"<p>You can wrap the listener in your test case.</p>\n\n<p>Given</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class So52783066Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So52783066Application.class, args);\n    }\n\n    @KafkaListener(id = \"so52783066\", topics = \"so52783066\")\n    public void listen(String in) {\n        System.out.println(in);\n    }\n\n}\n</code></pre>\n\n<p>then</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class So52783066ApplicationTests {\n\n    @ClassRule\n    public static KafkaEmbedded embeddedKafka = new KafkaEmbedded(1, true, \"so52783066\");\n\n    @Autowired\n    private KafkaListenerEndpointRegistry registry;\n\n    @Autowired\n    private KafkaTemplate&lt;String, String&gt; template;\n\n    @Before\n    public void setup() {\n        System.setProperty(\"spring.kafka.bootstrap-servers\", embeddedKafka.getBrokersAsString());\n    }\n\n    @Test\n    public void test() throws Exception {\n        ConcurrentMessageListenerContainer&lt;?, ?&gt; container = (ConcurrentMessageListenerContainer&lt;?, ?&gt;) registry\n                .getListenerContainer(\"so52783066\");\n        container.stop();\n        @SuppressWarnings(\"unchecked\")\n        AcknowledgingConsumerAwareMessageListener&lt;String, String&gt; messageListener = (AcknowledgingConsumerAwareMessageListener&lt;String, String&gt;) container\n                .getContainerProperties().getMessageListener();\n        CountDownLatch latch = new CountDownLatch(1);\n        container.getContainerProperties()\n                .setMessageListener(new AcknowledgingConsumerAwareMessageListener&lt;String, String&gt;() {\n\n                    @Override\n                    public void onMessage(ConsumerRecord&lt;String, String&gt; data, Acknowledgment acknowledgment,\n                            Consumer&lt;?, ?&gt; consumer) {\n                        messageListener.onMessage(data, acknowledgment, consumer);\n                        latch.countDown();\n                    }\n\n                });\n        container.start();\n        template.send(\"so52783066\", \"foo\");\n        assertThat(latch.await(10, TimeUnit.SECONDS)).isTrue();\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8201327,"reputation":289,"user_id":6172595,"display_name":"Amit Rai"},"score":0,"creation_date":1598416816,"post_id":54724319,"comment_id":112448371,"body_markdown":"what is myService in you example","body":"what is myService in you example"},{"owner":{"account_id":2324653,"reputation":2869,"user_id":2039455,"display_name":"Laura Liparulo"},"score":1,"creation_date":1598418436,"post_id":54724319,"comment_id":112448750,"body_markdown":"maybe it was myConsumer. I can&#180;t remember. i replaced the firm variables","body":"maybe it was myConsumer. I can&#180;t remember. i replaced the firm variables"},{"owner":{"account_id":8201327,"reputation":289,"user_id":6172595,"display_name":"Amit Rai"},"score":0,"creation_date":1598426790,"post_id":54724319,"comment_id":112451640,"body_markdown":"ok, thank you, I am struggling to write a test for Kafka listener.","body":"ok, thank you, I am struggling to write a test for Kafka listener."}],"tags":[],"owner":{"account_id":2324653,"reputation":2869,"user_id":2039455,"display_name":"Laura Liparulo"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1590124710,"creation_date":1550328871,"answer_id":54724319,"question_id":52783066,"body_markdown":"Here is my working solution for the Consumer, based on your code. Thank you :-) \r\n\r\nThe Configuration is the following:\r\n\r\n```java\r\n@TestConfiguration\r\n@EnableKafka\r\n@Profile(&quot;kafka_test&quot;)\r\npublic class KafkaTestConfig {\r\n\r\n    private static Logger log = LoggerFactory.getLogger(KafkaTestConfig.class);\r\n\r\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n    private String bootstrapServers;\r\n\r\n    @Bean\r\n    @Primary\r\n    public Map&lt;String, Object&gt; consumerConfigs() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;group-id&quot;);\r\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        props.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, 15000);\r\n\r\n        log.info(&quot;Consumer TEST config = {}&quot;, props);\r\n        return props;\r\n    }\r\n\r\n    @Bean\r\n    public Map&lt;String, Object&gt; producerConfigs() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n\r\n        log.info(&quot;Producer TEST config = {}&quot;, props);\r\n        return props;\r\n    }\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs(), new StringDeserializer(),\r\n                new JsonDeserializer&lt;String&gt;());\r\n    }\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        DefaultKafkaProducerFactory&lt;String, String&gt; pf = new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\r\n        return pf;\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory(\r\n            ConsumerFactory&lt;String, String&gt; kafkaConsumerFactory) {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        factory.getContainerProperties().setAckOnError(false);\r\n        factory.setConcurrency(2);\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n        KafkaTemplate&lt;String, String&gt; kafkaTemplate = new KafkaTemplate&lt;&gt;(producerFactory());\r\n        return kafkaTemplate;\r\n    }\r\n\r\n    @Bean\r\n    public KafkaListenerEndpointRegistry kafkaListenerEndpointRegistry() {\r\n        KafkaListenerEndpointRegistry kafkaListenerEndpointRegistry = new KafkaListenerEndpointRegistry();\r\n        return kafkaListenerEndpointRegistry;\r\n    }\r\n}\r\n```\r\n\r\nPlace all the beans you need to include in the test in a different class:\r\n```java\r\n@TestConfiguration\r\n@Profile(&quot;kafka_test&quot;)\r\n@EnableKafka\r\npublic class KafkaBeansConfig {\r\n\r\n    @Bean\r\n    public MyProducer myProducer() {\r\n        return new MyProducer();\r\n    }\r\n\r\n    // more beans\r\n}\r\n```\r\n\t  \r\nI created a BaseKafkaConsumerTest class to reuse it :\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@TestPropertySource(properties = { &quot;spring.kafka.bootstrap-servers=${spring.embedded.kafka.brokers}&quot; })\r\n@TestInstance(Lifecycle.PER_CLASS)\r\n@DirtiesContext\r\n@ContextConfiguration(classes = KafkaTestConfig.class)\r\n@ActiveProfiles(&quot;kafka_test&quot;)\r\npublic class BaseKafkaConsumerTest {\r\n\r\n    @Autowired\r\n    protected EmbeddedKafkaBroker embeddedKafka;\r\n\r\n    @Value(&quot;${spring.embedded.kafka.brokers}&quot;)\r\n    private String brokerAddresses;\r\n\r\n    @Autowired\r\n    protected KafkaListenerEndpointRegistry kafkaListenerEndpointRegistry;\r\n\r\n    @Autowired\r\n    protected KafkaTemplate&lt;String, String&gt; senderTemplate;\r\n\r\n    public void setUp() {\r\n        embeddedKafka.brokerProperty(&quot;controlled.shutdown.enable&quot;, true);\r\n\r\n        for (MessageListenerContainer messageListenerContainer : kafkaListenerEndpointRegistry\r\n                .getListenerContainers()) {\r\n            System.err.println(messageListenerContainer.getContainerProperties().toString());\r\n            ContainerTestUtils.waitForAssignment(messageListenerContainer, embeddedKafka.getPartitionsPerTopic());\r\n        }\r\n    }\r\n\r\n    @AfterAll\r\n    public void tearDown() {\r\n        for (MessageListenerContainer messageListenerContainer : kafkaListenerEndpointRegistry\r\n                .getListenerContainers()) {\r\n            messageListenerContainer.stop();\r\n        }\r\n\r\n        embeddedKafka.getKafkaServers().forEach(b -&gt; b.shutdown());\r\n        embeddedKafka.getKafkaServers().forEach(b -&gt; b.awaitShutdown());\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nExtend the base class to stest your consumer:\r\n```java\r\n@EmbeddedKafka(topics = MyConsumer.TOPIC_NAME)\r\n@Import(KafkaBeansConfig.class)\r\npublic class MYKafkaConsumerTest extends BaseKafkaConsumerTest {\r\n\r\n    private static Logger log = LoggerFactory.getLogger(PaymentMethodsKafkaConsumerTest.class);\r\n\r\n    @Autowired\r\n    private MyConsumer myConsumer;\r\n\r\n    // mocks with @MockBean\r\n\r\n    @Configuration\r\n    @ComponentScan({ &quot;com.myfirm.kafka&quot; })\r\n    static class KafkaLocalTestConfig {\r\n    }\r\n\r\n    @BeforeAll\r\n    public void setUp() {\r\n        super.setUp();\r\n    }\r\n\r\n    @Test\r\n    public void testMessageIsReceived() throws Exception {\r\n\r\n    //mocks\r\n\r\n    String jsonPayload = &quot;{\\&quot;id\\&quot;:\\&quot;12345\\&quot;,&quot;cookieDomain\\&quot;:&quot;helloworld&quot;}&quot;;\r\n    ListenableFuture&lt;SendResult&lt;String, String&gt;&gt; future =\r\n        senderTemplate.send(MyConsumer.TOPIC_NAME, jsonPayload);\r\n\r\n    Thread.sleep(10000);\r\n    future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, String&gt;&gt;() {\r\n\r\n        @Override\r\n        public void onSuccess(SendResult&lt;String, String&gt; result) {\r\n            log.info(&quot;successfully sent message=&#39;{}&#39; with offset={}&quot;, jsonPayload,\r\n                result.getRecordMetadata().offset());\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(Throwable ex) {\r\n            log.error(&quot;unable to send message=&#39;{}&#39;&quot;, jsonPayload, ex);\r\n        }\r\n    });\r\n\r\n    Mockito.verify(myService, Mockito.times(1))\r\n    .update(Mockito.any(MyDetails.class));\r\n}\r\n```  \r\n  \r\nAs I read in other posts, don&#180;t test the business logic this way. Just that the calls are made.\r\n  \r\n","title":"How to write Unit test for @KafkaListener?","body":"<p>Here is my working solution for the Consumer, based on your code. Thank you :-) </p>\n\n<p>The Configuration is the following:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@TestConfiguration\n@EnableKafka\n@Profile(\"kafka_test\")\npublic class KafkaTestConfig {\n\n    private static Logger log = LoggerFactory.getLogger(KafkaTestConfig.class);\n\n    @Value(\"${spring.kafka.bootstrap-servers}\")\n    private String bootstrapServers;\n\n    @Bean\n    @Primary\n    public Map&lt;String, Object&gt; consumerConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, \"group-id\");\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, \"earliest\");\n        props.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, 15000);\n\n        log.info(\"Consumer TEST config = {}\", props);\n        return props;\n    }\n\n    @Bean\n    public Map&lt;String, Object&gt; producerConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n\n        log.info(\"Producer TEST config = {}\", props);\n        return props;\n    }\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs(), new StringDeserializer(),\n                new JsonDeserializer&lt;String&gt;());\n    }\n\n    @Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\n        DefaultKafkaProducerFactory&lt;String, String&gt; pf = new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\n        return pf;\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory(\n            ConsumerFactory&lt;String, String&gt; kafkaConsumerFactory) {\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        factory.getContainerProperties().setAckOnError(false);\n        factory.setConcurrency(2);\n        return factory;\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n        KafkaTemplate&lt;String, String&gt; kafkaTemplate = new KafkaTemplate&lt;&gt;(producerFactory());\n        return kafkaTemplate;\n    }\n\n    @Bean\n    public KafkaListenerEndpointRegistry kafkaListenerEndpointRegistry() {\n        KafkaListenerEndpointRegistry kafkaListenerEndpointRegistry = new KafkaListenerEndpointRegistry();\n        return kafkaListenerEndpointRegistry;\n    }\n}\n</code></pre>\n\n<p>Place all the beans you need to include in the test in a different class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@TestConfiguration\n@Profile(\"kafka_test\")\n@EnableKafka\npublic class KafkaBeansConfig {\n\n    @Bean\n    public MyProducer myProducer() {\n        return new MyProducer();\n    }\n\n    // more beans\n}\n</code></pre>\n\n<p>I created a BaseKafkaConsumerTest class to reuse it :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@TestPropertySource(properties = { \"spring.kafka.bootstrap-servers=${spring.embedded.kafka.brokers}\" })\n@TestInstance(Lifecycle.PER_CLASS)\n@DirtiesContext\n@ContextConfiguration(classes = KafkaTestConfig.class)\n@ActiveProfiles(\"kafka_test\")\npublic class BaseKafkaConsumerTest {\n\n    @Autowired\n    protected EmbeddedKafkaBroker embeddedKafka;\n\n    @Value(\"${spring.embedded.kafka.brokers}\")\n    private String brokerAddresses;\n\n    @Autowired\n    protected KafkaListenerEndpointRegistry kafkaListenerEndpointRegistry;\n\n    @Autowired\n    protected KafkaTemplate&lt;String, String&gt; senderTemplate;\n\n    public void setUp() {\n        embeddedKafka.brokerProperty(\"controlled.shutdown.enable\", true);\n\n        for (MessageListenerContainer messageListenerContainer : kafkaListenerEndpointRegistry\n                .getListenerContainers()) {\n            System.err.println(messageListenerContainer.getContainerProperties().toString());\n            ContainerTestUtils.waitForAssignment(messageListenerContainer, embeddedKafka.getPartitionsPerTopic());\n        }\n    }\n\n    @AfterAll\n    public void tearDown() {\n        for (MessageListenerContainer messageListenerContainer : kafkaListenerEndpointRegistry\n                .getListenerContainers()) {\n            messageListenerContainer.stop();\n        }\n\n        embeddedKafka.getKafkaServers().forEach(b -&gt; b.shutdown());\n        embeddedKafka.getKafkaServers().forEach(b -&gt; b.awaitShutdown());\n    }\n\n}\n</code></pre>\n\n<p>Extend the base class to stest your consumer:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@EmbeddedKafka(topics = MyConsumer.TOPIC_NAME)\n@Import(KafkaBeansConfig.class)\npublic class MYKafkaConsumerTest extends BaseKafkaConsumerTest {\n\n    private static Logger log = LoggerFactory.getLogger(PaymentMethodsKafkaConsumerTest.class);\n\n    @Autowired\n    private MyConsumer myConsumer;\n\n    // mocks with @MockBean\n\n    @Configuration\n    @ComponentScan({ \"com.myfirm.kafka\" })\n    static class KafkaLocalTestConfig {\n    }\n\n    @BeforeAll\n    public void setUp() {\n        super.setUp();\n    }\n\n    @Test\n    public void testMessageIsReceived() throws Exception {\n\n    //mocks\n\n    String jsonPayload = \"{\\\"id\\\":\\\"12345\\\",\"cookieDomain\\\":\"helloworld\"}\";\n    ListenableFuture&lt;SendResult&lt;String, String&gt;&gt; future =\n        senderTemplate.send(MyConsumer.TOPIC_NAME, jsonPayload);\n\n    Thread.sleep(10000);\n    future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, String&gt;&gt;() {\n\n        @Override\n        public void onSuccess(SendResult&lt;String, String&gt; result) {\n            log.info(\"successfully sent message='{}' with offset={}\", jsonPayload,\n                result.getRecordMetadata().offset());\n        }\n\n        @Override\n        public void onFailure(Throwable ex) {\n            log.error(\"unable to send message='{}'\", jsonPayload, ex);\n        }\n    });\n\n    Mockito.verify(myService, Mockito.times(1))\n    .update(Mockito.any(MyDetails.class));\n}\n</code></pre>\n\n<p>As I read in other posts, dont test the business logic this way. Just that the calls are made.</p>\n"},{"comments":[{"owner":{"account_id":16421460,"reputation":139,"user_id":11862547,"display_name":"Mr. Gung"},"score":0,"creation_date":1689779523,"post_id":72678739,"comment_id":135262536,"body_markdown":"This is &quot;the&quot; idiomatic solution.","body":"This is &quot;the&quot; idiomatic solution."}],"tags":[],"owner":{"account_id":18795083,"reputation":97,"user_id":15248265,"display_name":"Kalich"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655657649,"creation_date":1655657649,"answer_id":72678739,"question_id":52783066,"body_markdown":"If you want to write integration tests using `EmbeddedKafka`, then you can do something like this.\r\nAssume we have some `KafkaListener`, which accepts a `RequestDto` as a `Payload`.\r\n\r\nIn your test class you should create a `TestConfiguration` in order to create producer beans and to autowire `KafkaTemplate` into your test. Also notice, that instead of autowiring consumer, we inject a consumer `SpyBean`.\r\n\r\nIn `someTest` method we are creating a latch, and setting up the consumer listener method so that when it is called, the latch will be opened and assertions will take place only after the listener have received the Payload.\r\n\r\nAlso notice `any() ?: RequestDto()` line. You should use elvis operator with `any()` only if you are using Mockito&#39;s `any()` with non-null Kotlin method arguments, because `any()` firstly returns null.\r\n\r\n\r\n```kotlin\r\n@EnableKafka\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@EmbeddedKafka(partitions = 10, brokerProperties = [&quot;listeners=PLAINTEXT://localhost:9092&quot;, &quot;port=9092&quot;])\r\nclass KafkaIgniteApplicationTests {\r\n\r\n    @SpyBean\r\n    private lateinit var consumer: Consumer\r\n\r\n    @TestConfiguration\r\n    class Config {\r\n\r\n        @Value(&quot;\\${spring.kafka.consumer.bootstrap-servers}&quot;)\r\n        private lateinit var servers: String\r\n\r\n        fun producerConfig(): Map&lt;String, Any&gt; {\r\n            val props = mutableMapOf&lt;String, Any&gt;()\r\n            props[ProducerConfig.BOOTSTRAP_SERVERS_CONFIG] = servers\r\n            props[ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG] = StringSerializer::class.java\r\n            props[ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG] = StringSerializer::class.java\r\n            return props\r\n        }\r\n\r\n        @Bean\r\n        fun producerFactory(): ProducerFactory&lt;String, String&gt; {\r\n            return DefaultKafkaProducerFactory(producerConfig())\r\n        }\r\n\r\n        @Bean\r\n        fun kafkaTemplate(producerFactory: ProducerFactory&lt;String, String&gt;): KafkaTemplate&lt;String, String&gt; {\r\n            return KafkaTemplate(producerFactory)\r\n        }\r\n    }\r\n\r\n    @Autowired\r\n    private lateinit var kafkaTemplate: KafkaTemplate&lt;String, String&gt;\r\n\r\n    @Test\r\n    fun someTest() {\r\n        val lock = CountDownLatch(1)\r\n        `when`(consumer.receive(any() ?: RequestDto())).thenAnswer {\r\n            it.callRealMethod()\r\n            lock.countDown()\r\n        }\r\n        val request = &quot;{\\&quot;value\\&quot;:\\&quot;1\\&quot;}&quot;\r\n        kafkaTemplate.send(TOPIC, request)\r\n        lock.await(1000, TimeUnit.MILLISECONDS)\r\n        verify(consumer).receive(RequestDto().apply { value = BigDecimal.ONE })\r\n    }\r\n}\r\n```","title":"How to write Unit test for @KafkaListener?","body":"<p>If you want to write integration tests using <code>EmbeddedKafka</code>, then you can do something like this.\nAssume we have some <code>KafkaListener</code>, which accepts a <code>RequestDto</code> as a <code>Payload</code>.</p>\n<p>In your test class you should create a <code>TestConfiguration</code> in order to create producer beans and to autowire <code>KafkaTemplate</code> into your test. Also notice, that instead of autowiring consumer, we inject a consumer <code>SpyBean</code>.</p>\n<p>In <code>someTest</code> method we are creating a latch, and setting up the consumer listener method so that when it is called, the latch will be opened and assertions will take place only after the listener have received the Payload.</p>\n<p>Also notice <code>any() ?: RequestDto()</code> line. You should use elvis operator with <code>any()</code> only if you are using Mockito's <code>any()</code> with non-null Kotlin method arguments, because <code>any()</code> firstly returns null.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@EnableKafka\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@EmbeddedKafka(partitions = 10, brokerProperties = [&quot;listeners=PLAINTEXT://localhost:9092&quot;, &quot;port=9092&quot;])\nclass KafkaIgniteApplicationTests {\n\n    @SpyBean\n    private lateinit var consumer: Consumer\n\n    @TestConfiguration\n    class Config {\n\n        @Value(&quot;\\${spring.kafka.consumer.bootstrap-servers}&quot;)\n        private lateinit var servers: String\n\n        fun producerConfig(): Map&lt;String, Any&gt; {\n            val props = mutableMapOf&lt;String, Any&gt;()\n            props[ProducerConfig.BOOTSTRAP_SERVERS_CONFIG] = servers\n            props[ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG] = StringSerializer::class.java\n            props[ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG] = StringSerializer::class.java\n            return props\n        }\n\n        @Bean\n        fun producerFactory(): ProducerFactory&lt;String, String&gt; {\n            return DefaultKafkaProducerFactory(producerConfig())\n        }\n\n        @Bean\n        fun kafkaTemplate(producerFactory: ProducerFactory&lt;String, String&gt;): KafkaTemplate&lt;String, String&gt; {\n            return KafkaTemplate(producerFactory)\n        }\n    }\n\n    @Autowired\n    private lateinit var kafkaTemplate: KafkaTemplate&lt;String, String&gt;\n\n    @Test\n    fun someTest() {\n        val lock = CountDownLatch(1)\n        `when`(consumer.receive(any() ?: RequestDto())).thenAnswer {\n            it.callRealMethod()\n            lock.countDown()\n        }\n        val request = &quot;{\\&quot;value\\&quot;:\\&quot;1\\&quot;}&quot;\n        kafkaTemplate.send(TOPIC, request)\n        lock.await(1000, TimeUnit.MILLISECONDS)\n        verify(consumer).receive(RequestDto().apply { value = BigDecimal.ONE })\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676660079,"creation_date":1676660079,"answer_id":75488276,"question_id":52783066,"body_markdown":"&gt; In unit test, how do I ensure @KafkaListener is invoked when a new message is arrived in Kafka.\r\n\r\nInstead of using `Awaitility` or `CountDownLatch` approach , a more easy way is to make the actual `@KafkaListener` bean as the mockito spy using `@SpyBean`. Spy basically allows you to record all interactions made on an actual bean instance such that you can verify its interactions later. Together with the timeout verify feature of the mockito , you can ensure that the verification will be done over and over until certain timeout after the producer send out the message. \r\n\r\nSomething like :\r\n\r\n``` java\r\n@SpringBootTest(properties = {&quot;spring.kafka.bootstrap-servers=${spring.embedded.kafka.brokers}&quot;})\r\n@EmbeddedKafka(topics = {&quot;fooTopic&quot;})\r\npublic class MyMessageConsumersTest {\r\n\r\n   @SpyBean\r\n   private MyKafkaListener myKafkaListener;\r\n\r\n   @Captor\r\n   private ArgumentCaptor&lt;MyMessage&gt; myMessageCaptor;\r\n\r\n   @Test\r\n   public void test(){\r\n\r\n      //create KafkaTemplate to send some message to the topic...\r\n\r\n       verify(myKafkaListener, timeout(5000)). myMessageListener(myMessageCaptor.capture());\r\n       \r\n      //assert the KafkaListener is configured correctly such that it is invoked with the expected parameter\r\n       assertThat(myMessageCaptor.getValue()).isEqualTo(xxxxx);\r\n      \r\n   }\r\n```\r\n","title":"How to write Unit test for @KafkaListener?","body":"<blockquote>\n<p>In unit test, how do I ensure @KafkaListener is invoked when a new message is arrived in Kafka.</p>\n</blockquote>\n<p>Instead of using <code>Awaitility</code> or <code>CountDownLatch</code> approach , a more easy way is to make the actual <code>@KafkaListener</code> bean as the mockito spy using <code>@SpyBean</code>. Spy basically allows you to record all interactions made on an actual bean instance such that you can verify its interactions later. Together with the timeout verify feature of the mockito , you can ensure that the verification will be done over and over until certain timeout after the producer send out the message.</p>\n<p>Something like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(properties = {&quot;spring.kafka.bootstrap-servers=${spring.embedded.kafka.brokers}&quot;})\n@EmbeddedKafka(topics = {&quot;fooTopic&quot;})\npublic class MyMessageConsumersTest {\n\n   @SpyBean\n   private MyKafkaListener myKafkaListener;\n\n   @Captor\n   private ArgumentCaptor&lt;MyMessage&gt; myMessageCaptor;\n\n   @Test\n   public void test(){\n\n      //create KafkaTemplate to send some message to the topic...\n\n       verify(myKafkaListener, timeout(5000)). myMessageListener(myMessageCaptor.capture());\n       \n      //assert the KafkaListener is configured correctly such that it is invoked with the expected parameter\n       assertThat(myMessageCaptor.getValue()).isEqualTo(xxxxx);\n      \n   }\n</code></pre>\n"}],"owner":{"account_id":2734023,"reputation":2572,"user_id":2357083,"display_name":"Abbin Varghese"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38791,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":5,"score":21,"last_activity_date":1676660263,"creation_date":1539359640,"question_id":52783066,"body_markdown":"Trying to figure out if I can write unit test for @KafkaListener using spring-kafka and spring-kafka-test. \r\n\r\nMy Listener class. \r\n  \r\n```java\r\n    public class MyKafkaListener {\r\n    @Autowired\r\n    private MyMessageProcessor myMessageProcessor;\r\n\r\n    @KafkaListener(topics = &quot;${kafka.topic.01}&quot;, groupId = &quot;SF.CLIENT&quot;, clientIdPrefix = &quot;SF.01&quot;, containerFactory = &quot;myMessageListenerContainerFactory&quot;)\r\n    public void myMessageListener(MyMessage message) {\r\n        myMessageProcessor.process(message);\r\n        log.info(&quot;MyMessage processed&quot;);\r\n    }}\r\n```\r\n\r\nMy Test class :\r\n\r\n  \r\n```java\r\n    @RunWith(SpringRunner.class)\r\n    @DirtiesContext\r\n    @EmbeddedKafka(partitions = 1, topics = {&quot;I1.Topic.json.001&quot;})\r\n    @ContextConfiguration(classes = {TestKafkaConfig.class})\r\n    public class MyMessageConsumersTest {\r\n\r\n    @Autowired\r\n    private MyMessageProcessor myMessageProcessor;\r\n\r\n    @Value(&quot;${kafka.topic.01}&quot;)\r\n    private String TOPIC_01;\r\n\r\n    @Autowired\r\n    private KafkaTemplate&lt;String, MyMessage&gt; messageProducer;\r\n\r\n    @Test\r\n    public void testSalesforceMessageListner() {\r\n        MyMessageConsumers myMessageConsumers = new MyMessageConsumers(mockService);\r\n        messageProducer.send(TOPIC_01, &quot;MessageID&quot;, new MyMessage());\r\n        verify(myMessageProcessor, times(1)).process(any(MyMessage.class));\r\n    }}\r\n```\r\nMy Test config class :\r\n```java\r\n    @Configuration\r\n    @EnableKafka\r\n    public class TestKafkaConfig {\r\n    @Bean\r\n    public MyMessageProcessor myMessageProcessor() {\r\n        return mock(MyMessageProcessor.class);\r\n    }\r\n    @Bean\r\n    public KafkaEmbedded kafkaEmbedded() {\r\n        return new KafkaEmbedded(1, true, 1, &quot;I1.Topic.json.001&quot;);\r\n    }\r\n\r\n    //Consumer\r\n    @Bean\r\n    public ConsumerFactory&lt;String, MyMessage&gt; myMessageConsumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaEmbedded().getBrokersAsString());\r\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props, new StringDeserializer(), new JsonDeserializer&lt;&gt;(MyMessage.class));\r\n    }\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, MyMessage&gt; myMessageListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, MyMessage&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(myMessageConsumerFactory());\r\n        return factory;\r\n    }\r\n    \r\n    //Producer\r\n    @Bean\r\n    public ProducerFactory&lt;String, MyMessage&gt; producerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaEmbedded().getBrokersAsString());\r\n        props.put(ProducerConfig.RETRIES_CONFIG, 0);\r\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaMessageSerializer.class);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(props);\r\n    }\r\n    @Bean\r\n    public KafkaTemplate&lt;String, MyMessage&gt; messageProducer() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n    }\r\n\r\n```  \r\nIs there any simple way to make this work ?\r\n\r\nOr should I do the testing of @KafkaListener in some other way ? In unit test, how do I ensure @KafkaListener is invoked when a new message is arrived in Kafka.","title":"How to write Unit test for @KafkaListener?","body":"<p>Trying to figure out if I can write unit test for @KafkaListener using spring-kafka and spring-kafka-test. </p>\n\n<p>My Listener class. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public class MyKafkaListener {\n    @Autowired\n    private MyMessageProcessor myMessageProcessor;\n\n    @KafkaListener(topics = \"${kafka.topic.01}\", groupId = \"SF.CLIENT\", clientIdPrefix = \"SF.01\", containerFactory = \"myMessageListenerContainerFactory\")\n    public void myMessageListener(MyMessage message) {\n        myMessageProcessor.process(message);\n        log.info(\"MyMessage processed\");\n    }}\n</code></pre>\n\n<p>My Test class :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @RunWith(SpringRunner.class)\n    @DirtiesContext\n    @EmbeddedKafka(partitions = 1, topics = {\"I1.Topic.json.001\"})\n    @ContextConfiguration(classes = {TestKafkaConfig.class})\n    public class MyMessageConsumersTest {\n\n    @Autowired\n    private MyMessageProcessor myMessageProcessor;\n\n    @Value(\"${kafka.topic.01}\")\n    private String TOPIC_01;\n\n    @Autowired\n    private KafkaTemplate&lt;String, MyMessage&gt; messageProducer;\n\n    @Test\n    public void testSalesforceMessageListner() {\n        MyMessageConsumers myMessageConsumers = new MyMessageConsumers(mockService);\n        messageProducer.send(TOPIC_01, \"MessageID\", new MyMessage());\n        verify(myMessageProcessor, times(1)).process(any(MyMessage.class));\n    }}\n</code></pre>\n\n<p>My Test config class :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Configuration\n    @EnableKafka\n    public class TestKafkaConfig {\n    @Bean\n    public MyMessageProcessor myMessageProcessor() {\n        return mock(MyMessageProcessor.class);\n    }\n    @Bean\n    public KafkaEmbedded kafkaEmbedded() {\n        return new KafkaEmbedded(1, true, 1, \"I1.Topic.json.001\");\n    }\n\n    //Consumer\n    @Bean\n    public ConsumerFactory&lt;String, MyMessage&gt; myMessageConsumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaEmbedded().getBrokersAsString());\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, \"earliest\");\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props, new StringDeserializer(), new JsonDeserializer&lt;&gt;(MyMessage.class));\n    }\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, MyMessage&gt; myMessageListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, MyMessage&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(myMessageConsumerFactory());\n        return factory;\n    }\n\n    //Producer\n    @Bean\n    public ProducerFactory&lt;String, MyMessage&gt; producerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaEmbedded().getBrokersAsString());\n        props.put(ProducerConfig.RETRIES_CONFIG, 0);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaMessageSerializer.class);\n        return new DefaultKafkaProducerFactory&lt;&gt;(props);\n    }\n    @Bean\n    public KafkaTemplate&lt;String, MyMessage&gt; messageProducer() {\n        return new KafkaTemplate&lt;&gt;(producerFactory());\n    }\n    }\n\n</code></pre>\n\n<p>Is there any simple way to make this work ?</p>\n\n<p>Or should I do the testing of @KafkaListener in some other way ? In unit test, how do I ensure @KafkaListener is invoked when a new message is arrived in Kafka.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676654673,"creation_date":1676654314,"answer_id":75487381,"question_id":75487327,"body_markdown":"The documentation for the method you&#39;re calling ([`Duration.between(Temporal, Temporal)`](https://docs.oracle.com/javase/10/docs/api/java/time/Duration.html#between(java.time.temporal.Temporal,java.time.temporal.Temporal))) states:\r\n\r\n&gt; The specified temporal objects must support the `SECONDS` unit. For full accuracy, either the `NANOS` unit or the `NANO_OF_SECOND` field should be supported.\r\n\r\nBut [`LocalDate.isSupported`](https://docs.oracle.com/javase/10/docs/api/java/time/LocalDate.html#isSupported(java.time.temporal.TemporalUnit)) is documented with:\r\n\r\n&gt; If the unit is a ChronoUnit then the query is implemented here. The supported units are: DAYS, WEEKS, MONTHS, YEARS, DECADES, CENTURIES, MILLENNIA, ERAS\r\n&gt;\r\n&gt; All other ChronoUnit instances will return false.\r\n\r\nSo no, `LocalDate` doesn&#39;t support seconds, which is required for the method you&#39;re calling.\r\n\r\nIt may be worth considering that a `Duration` is intended to be an *elapsed* time - a fixed number of seconds etc. The elapsed time between two dates may depend on the time zone involved - because a day doesn&#39;t always have 24 hours when there are time zones involved.\r\n\r\nIf you&#39;re happy *assuming* a 24-hour day, you could use `Duration.ofDays(DAYS.between(firstDate, secondDate))`.","title":"java.time.temporal.UnsupportedTemporalTypeException: Unsupported unit: Seconds","body":"<p>The documentation for the method you're calling (<a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Duration.html#between(java.time.temporal.Temporal,java.time.temporal.Temporal)\" rel=\"nofollow noreferrer\"><code>Duration.between(Temporal, Temporal)</code></a>) states:</p>\n<blockquote>\n<p>The specified temporal objects must support the <code>SECONDS</code> unit. For full accuracy, either the <code>NANOS</code> unit or the <code>NANO_OF_SECOND</code> field should be supported.</p>\n</blockquote>\n<p>But <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDate.html#isSupported(java.time.temporal.TemporalUnit)\" rel=\"nofollow noreferrer\"><code>LocalDate.isSupported</code></a> is documented with:</p>\n<blockquote>\n<p>If the unit is a ChronoUnit then the query is implemented here. The supported units are: DAYS, WEEKS, MONTHS, YEARS, DECADES, CENTURIES, MILLENNIA, ERAS</p>\n<p>All other ChronoUnit instances will return false.</p>\n</blockquote>\n<p>So no, <code>LocalDate</code> doesn't support seconds, which is required for the method you're calling.</p>\n<p>It may be worth considering that a <code>Duration</code> is intended to be an <em>elapsed</em> time - a fixed number of seconds etc. The elapsed time between two dates may depend on the time zone involved - because a day doesn't always have 24 hours when there are time zones involved.</p>\n<p>If you're happy <em>assuming</em> a 24-hour day, you could use <code>Duration.ofDays(DAYS.between(firstDate, secondDate))</code>.</p>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676655260,"creation_date":1676655260,"answer_id":75487518,"question_id":75487327,"body_markdown":"You specify your dates with time information. That makes `LocalDate` a suboptimal choice. `LocalDateTime` is a better option. That already lets you create a duration.\r\n\r\nResults may be off because of DST. Adding the right time zone should solve that:\r\n```\r\nZoneId zone = ZoneId.systemDefault(); // or an explicit one\r\nZonedDateTime firstDateTime = LocalDateTime.parse(dateStart, formatter).atZone(zone);\r\nZonedDateTime secondDateTime = LocalDateTime.parse(dateStop, formatter).atZone(zone);\r\nDuration d1 = Duration.between(firstDateTime, secondDateTime);\r\nlong min = d1.toMinutes();\r\n```\r\n","title":"java.time.temporal.UnsupportedTemporalTypeException: Unsupported unit: Seconds","body":"<p>You specify your dates with time information. That makes <code>LocalDate</code> a suboptimal choice. <code>LocalDateTime</code> is a better option. That already lets you create a duration.</p>\n<p>Results may be off because of DST. Adding the right time zone should solve that:</p>\n<pre><code>ZoneId zone = ZoneId.systemDefault(); // or an explicit one\nZonedDateTime firstDateTime = LocalDateTime.parse(dateStart, formatter).atZone(zone);\nZonedDateTime secondDateTime = LocalDateTime.parse(dateStop, formatter).atZone(zone);\nDuration d1 = Duration.between(firstDateTime, secondDateTime);\nlong min = d1.toMinutes();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676659907,"creation_date":1676659907,"answer_id":75488262,"question_id":75487327,"body_markdown":"For differences between *dates,* `Period` is a better representation.\r\n\r\nBecause your format string contains time, however, it looks like you want to be parsing to `LocalDateTime` instead of `LocalDate`. This way, the minutes (and seconds) you care about are not discarded:\r\n\r\n```java\r\nprivate static final DateTimeFormatter parser = \r\n    DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\r\npublic long datetimeDiffInMinutes(String dateStop, String dateStart) {\r\n    LocalDateTime firstDate = parser.parse(dateStart, LocalDateTime::from);\r\n    LocalDateTime secondDate = parser.parse(dateStop, LocalDateTime::from);\r\n    return firstDate.until(secondDate, ChronoUnit.MINUTES);\r\n}\r\n```\r\n\r\nNote that because you don&#39;t have information about the time zone and any daylight-saving transitions that may occur, the results might not match what people expect in every case. You should clarify the use case, and get more information about the zone if necessary.","title":"java.time.temporal.UnsupportedTemporalTypeException: Unsupported unit: Seconds","body":"<p>For differences between <em>dates,</em> <code>Period</code> is a better representation.</p>\n<p>Because your format string contains time, however, it looks like you want to be parsing to <code>LocalDateTime</code> instead of <code>LocalDate</code>. This way, the minutes (and seconds) you care about are not discarded:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final DateTimeFormatter parser = \n    DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n\npublic long datetimeDiffInMinutes(String dateStop, String dateStart) {\n    LocalDateTime firstDate = parser.parse(dateStart, LocalDateTime::from);\n    LocalDateTime secondDate = parser.parse(dateStop, LocalDateTime::from);\n    return firstDate.until(secondDate, ChronoUnit.MINUTES);\n}\n</code></pre>\n<p>Note that because you don't have information about the time zone and any daylight-saving transitions that may occur, the results might not match what people expect in every case. You should clarify the use case, and get more information about the zone if necessary.</p>\n"}],"owner":{"account_id":8872127,"reputation":173,"user_id":6625547,"display_name":"user6625547"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3002,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1676659907,"creation_date":1676653980,"question_id":75487327,"body_markdown":"i like to get the duration between to datetime values in minutes. \r\n\r\n    public long datetimeDiffInMinutes(String dateStop, String dateStart) {\r\n    \t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n            LocalDate firstDate = LocalDate.parse(dateStart, formatter);\r\n            LocalDate secondDate = LocalDate.parse(dateStop, formatter);\r\n            Duration d1 = Duration.between(firstDate, secondDate);\r\n            long min = d1.toMinutes();\r\n            \r\n            return min;\r\n    \t}\r\n\r\nThere will be thrown an exception: java.time.temporal.UnsupportedTemporalTypeException: Unsupported unit: Seconds\r\n\r\nBut i dont use &quot;Seconds&quot; in this function. This line throws the exception: Duration d1 = Duration.between(firstDate, secondDate);","title":"java.time.temporal.UnsupportedTemporalTypeException: Unsupported unit: Seconds","body":"<p>i like to get the duration between to datetime values in minutes.</p>\n<pre><code>public long datetimeDiffInMinutes(String dateStop, String dateStart) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n        LocalDate firstDate = LocalDate.parse(dateStart, formatter);\n        LocalDate secondDate = LocalDate.parse(dateStop, formatter);\n        Duration d1 = Duration.between(firstDate, secondDate);\n        long min = d1.toMinutes();\n        \n        return min;\n    }\n</code></pre>\n<p>There will be thrown an exception: java.time.temporal.UnsupportedTemporalTypeException: Unsupported unit: Seconds</p>\n<p>But i dont use &quot;Seconds&quot; in this function. This line throws the exception: Duration d1 = Duration.between(firstDate, secondDate);</p>\n"},{"tags":["java","amazon-web-services"],"answers":[{"comments":[{"owner":{"account_id":26380586,"reputation":109,"user_id":20033905,"display_name":"Ric97"},"score":0,"creation_date":1676650227,"post_id":75486645,"comment_id":133186134,"body_markdown":"Thank you very much for your answer. You said that you changed the password using cli as an admin. Unfortunately, this is not the behaviour i want: i want the user to login, and if it&#39;s the first time he signs in, then a prompt appears to let him change this password.","body":"Thank you very much for your answer. You said that you changed the password using cli as an admin. Unfortunately, this is not the behaviour i want: i want the user to login, and if it&#39;s the first time he signs in, then a prompt appears to let him change this password."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1676650336,"post_id":75486645,"comment_id":133186161,"body_markdown":"That should work. I simply wanted to test adminInitiateAuth()  with a username/password.","body":"That should work. I simply wanted to test adminInitiateAuth()  with a username/password."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1676650695,"post_id":75486645,"comment_id":133186277,"body_markdown":"See my Update that i created based on testing a new user without updating the password","body":"See my Update that i created based on testing a new user without updating the password"},{"owner":{"account_id":26380586,"reputation":109,"user_id":20033905,"display_name":"Ric97"},"score":0,"creation_date":1676651557,"post_id":75486645,"comment_id":133186563,"body_markdown":"I tried using your code, but it still gives me the null error. It sounds very strange","body":"I tried using your code, but it still gives me the null error. It sounds very strange"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1676651591,"post_id":75486645,"comment_id":133186568,"body_markdown":"See my update where i talk about  Challenge type","body":"See my update where i talk about  Challenge type"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1676651634,"post_id":75486645,"comment_id":133186583,"body_markdown":"If the challengeName=NEW_PASSWORD_REQUIRED, you cannot read the access token.","body":"If the challengeName=NEW_PASSWORD_REQUIRED, you cannot read the access token."},{"owner":{"account_id":26380586,"reputation":109,"user_id":20033905,"display_name":"Ric97"},"score":0,"creation_date":1676651924,"post_id":75486645,"comment_id":133186685,"body_markdown":"Let me get this right: my token is null because the challenge name is NEW_PASSWORD_REQUIRED, so my login fails. But doesn&#39;t that mean that a user should change its password WITHOUT loggin in? From what i understood, the flow should be: you sign in, but the authresponse has a challenge in it that requires you to change the password, you change the password, and now you&#39;ll be able to fully login. Moreover, having a null token and cannot reading a token sounds pretty different to me. I&#39;m just telling you my doubts so i can better understand everything. I truly thank you for your time!","body":"Let me get this right: my token is null because the challenge name is NEW_PASSWORD_REQUIRED, so my login fails. But doesn&#39;t that mean that a user should change its password WITHOUT loggin in? From what i understood, the flow should be: you sign in, but the authresponse has a challenge in it that requires you to change the password, you change the password, and now you&#39;ll be able to fully login. Moreover, having a null token and cannot reading a token sounds pretty different to me. I&#39;m just telling you my doubts so i can better understand everything. I truly thank you for your time!"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1676652124,"post_id":75486645,"comment_id":133186743,"body_markdown":"An access token in the response cannot be read (its null) if the challenge type is NEW_PASSWORD_REQUIRED. You can read that value in the response and then your app can prompt the user to provide an updated password. Once you do and the user logs in with the updated password, then you can get the access token. Your feedback is valid and I changed the Java logic based on it. See above Java code that now tests for NEW_PASSWORD_REQUIRED.","body":"An access token in the response cannot be read (its null) if the challenge type is NEW_PASSWORD_REQUIRED. You can read that value in the response and then your app can prompt the user to provide an updated password. Once you do and the user logs in with the updated password, then you can get the access token. Your feedback is valid and I changed the Java logic based on it. See above Java code that now tests for NEW_PASSWORD_REQUIRED."},{"owner":{"account_id":26380586,"reputation":109,"user_id":20033905,"display_name":"Ric97"},"score":0,"creation_date":1676652675,"post_id":75486645,"comment_id":133186901,"body_markdown":"Now it works, thank you very much. I will now study how to reset the password, using the links you provided me!","body":"Now it works, thank you very much. I will now study how to reset the password, using the links you provided me!"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1676652790,"post_id":75486645,"comment_id":133186938,"body_markdown":"I am glad it working and this interaction has improved this new Java code example for V2. It will be pub soon in https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/cognito.","body":"I am glad it working and this interaction has improved this new Java code example for V2. It will be pub soon in <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/cognito\" rel=\"nofollow noreferrer\">github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/&hellip;</a>."},{"owner":{"account_id":26380586,"reputation":109,"user_id":20033905,"display_name":"Ric97"},"score":0,"creation_date":1676654418,"post_id":75486645,"comment_id":133187437,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251966/discussion-between-ric97-and-smac2020).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251966/discussion-between-ric97-and-smac2020\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"comment_count":11,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676659842,"creation_date":1676650018,"answer_id":75486645,"question_id":75486547,"body_markdown":"I am working on this use case now. To get a very similiar example working, I created a user pool with an App that lets me use these Authentication flows. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen I execute my  AWS SDK for Java V2 code that uses **identityProviderClient.adminInitiateAuth()** - I successfully get an Access Token - as shown here.  \r\n\r\n[![enter image description here][2]][2]\r\n\r\nWHen i speicfy an incorrect password, I get exception as expected. \r\n\r\nHere is a Java code example. To run this Java code example, create a new user in the specified user pool with a temporary password. You will get back a challenge type value of NEW_PASSWORD_REQUIRED in the response. \r\n\r\nYou cannot read the access token. This code then changes the temporary password to a permanent password. Now the user can log in with the permanent password and you can read the access token.\r\n  \r\n \r\n\r\n    public class GetAccessToken {\r\n    \r\n        public static void main(String[]args) {\r\n            final String usage = &quot;\\n&quot; +\r\n                &quot;Usage:\\n&quot; +\r\n                &quot;    &lt;clientId&gt; &lt;poolId&gt; &lt;username&gt; &lt;tempPassword&gt; &lt;permanentPassword&gt;\\n\\n&quot; +\r\n                &quot;Where:\\n&quot; +\r\n                &quot;    clientId - The app client Id value that you can get from the AWS CDK script.\\n\\n&quot; +\r\n                &quot;    poolId - The pool Id that has the user. \\n\\n&quot; +\r\n                &quot;    username - The new user name with a temp password. \\n\\n&quot; +\r\n                &quot;    tempPassword - The temp password. \\n\\n&quot; +\r\n                &quot;    permanentPassword - The permanent password. \\n\\n&quot; ;\r\n    \r\n            if (args.length != 5) {\r\n                System.out.println(usage);\r\n                System.exit(1);\r\n            }\r\n            \r\n            String clientId = args[0];\r\n            String poolId = args[1];\r\n            String username = args[2];\r\n            String tempPassword = args[3];\r\n            String permanentPassword = args[4];\r\n    \r\n            CognitoIdentityProviderClient identityProviderClient = CognitoIdentityProviderClient.builder()\r\n                .region(Region.US_EAST_1)\r\n                .credentialsProvider(ProfileCredentialsProvider.create())\r\n                .build();\r\n    \r\n            boolean wasLoggedIn = getToken(identityProviderClient, clientId, username, tempPassword, poolId);\r\n            if (wasLoggedIn)\r\n                System.out.println(username +&quot; successfully authenticated&quot;);\r\n            else {\r\n                // Change the temp password to a permanent one and then call getToken() again. Now you will\r\n                // get access tokens.\r\n                changeTempPassword(identityProviderClient, username, permanentPassword, poolId);\r\n                getToken(identityProviderClient, clientId, username, permanentPassword, poolId);\r\n                System.out.println(username +&quot; successfully authenticated&quot;);\r\n            }\r\n        }\r\n    \r\n        public static boolean getToken(CognitoIdentityProviderClient identityProviderClient, String clientId, String username, String password, String poolId) {\r\n            final Map&lt;String, String&gt; authParams = new HashMap&lt;&gt;();\r\n            authParams.put(&quot;USERNAME&quot;, username);\r\n            authParams.put(&quot;PASSWORD&quot;, password);\r\n    \r\n            AdminInitiateAuthRequest authRequest = AdminInitiateAuthRequest.builder()\r\n                .clientId(clientId)\r\n                .userPoolId(poolId)\r\n                .authParameters(authParams)\r\n                .authFlow(AuthFlowType.ADMIN_USER_PASSWORD_AUTH)\r\n                .build();\r\n    \r\n            try {\r\n                // If you specify an incorrect username/password, an exception is thrown.\r\n                AdminInitiateAuthResponse response = identityProviderClient.adminInitiateAuth(authRequest);\r\n    \r\n                // Get the Challenge type\r\n                if (response.challengeNameAsString() == null) {\r\n                    System.out.println(&quot;Access Token Type : &quot; + response.authenticationResult().tokenType());\r\n                    System.out.println(&quot;Access Token : &quot; + response.authenticationResult().accessToken());\r\n                    return true;\r\n                } else if (response.challengeNameAsString().compareTo(&quot;NEW_PASSWORD_REQUIRED&quot;) == 0) {\r\n                    System.out.println(&quot;The User must change their password. &quot;);\r\n                }\r\n    \r\n            } catch(CognitoIdentityProviderException e) {\r\n                System.err.println(e.awsErrorDetails().errorMessage());\r\n                System.exit(1);\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        public static void changeTempPassword(CognitoIdentityProviderClient identityProviderClient, String username, String newPassword, String poolId){\r\n            try {\r\n                AdminSetUserPasswordRequest passwordRequest = AdminSetUserPasswordRequest.builder()\r\n                    .username(username)\r\n                    .userPoolId(poolId)\r\n                    .password(newPassword)\r\n                    .permanent(true)\r\n                    .build();\r\n    \r\n                identityProviderClient.adminSetUserPassword(passwordRequest);\r\n                System.out.println(&quot;The password was successfully changed&quot;);\r\n    \r\n            } catch(CognitoIdentityProviderException e) {\r\n                System.err.println(e.awsErrorDetails().errorMessage());\r\n                System.exit(1);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n***SO the reason why you get this NULL Exception is because you need to set the permanent password for the user. If the challengeName=NEW_PASSWORD_REQUIRED, you cannot read the access token.*** \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E1xso.png\r\n  [2]: https://i.stack.imgur.com/zrfxr.png\r\n  [3]: https://i.stack.imgur.com/4zmne.png","title":"AWS Cognito, why InititiateAuthResponse is null?","body":"<p>I am working on this use case now. To get a very similiar example working, I created a user pool with an App that lets me use these Authentication flows.</p>\n<p><a href=\"https://i.stack.imgur.com/E1xso.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E1xso.png\" alt=\"enter image description here\" /></a></p>\n<p>When I execute my  AWS SDK for Java V2 code that uses <strong>identityProviderClient.adminInitiateAuth()</strong> - I successfully get an Access Token - as shown here.</p>\n<p><a href=\"https://i.stack.imgur.com/zrfxr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zrfxr.png\" alt=\"enter image description here\" /></a></p>\n<p>WHen i speicfy an incorrect password, I get exception as expected.</p>\n<p>Here is a Java code example. To run this Java code example, create a new user in the specified user pool with a temporary password. You will get back a challenge type value of NEW_PASSWORD_REQUIRED in the response.</p>\n<p>You cannot read the access token. This code then changes the temporary password to a permanent password. Now the user can log in with the permanent password and you can read the access token.</p>\n<pre><code>public class GetAccessToken {\n\n    public static void main(String[]args) {\n        final String usage = &quot;\\n&quot; +\n            &quot;Usage:\\n&quot; +\n            &quot;    &lt;clientId&gt; &lt;poolId&gt; &lt;username&gt; &lt;tempPassword&gt; &lt;permanentPassword&gt;\\n\\n&quot; +\n            &quot;Where:\\n&quot; +\n            &quot;    clientId - The app client Id value that you can get from the AWS CDK script.\\n\\n&quot; +\n            &quot;    poolId - The pool Id that has the user. \\n\\n&quot; +\n            &quot;    username - The new user name with a temp password. \\n\\n&quot; +\n            &quot;    tempPassword - The temp password. \\n\\n&quot; +\n            &quot;    permanentPassword - The permanent password. \\n\\n&quot; ;\n\n        if (args.length != 5) {\n            System.out.println(usage);\n            System.exit(1);\n        }\n        \n        String clientId = args[0];\n        String poolId = args[1];\n        String username = args[2];\n        String tempPassword = args[3];\n        String permanentPassword = args[4];\n\n        CognitoIdentityProviderClient identityProviderClient = CognitoIdentityProviderClient.builder()\n            .region(Region.US_EAST_1)\n            .credentialsProvider(ProfileCredentialsProvider.create())\n            .build();\n\n        boolean wasLoggedIn = getToken(identityProviderClient, clientId, username, tempPassword, poolId);\n        if (wasLoggedIn)\n            System.out.println(username +&quot; successfully authenticated&quot;);\n        else {\n            // Change the temp password to a permanent one and then call getToken() again. Now you will\n            // get access tokens.\n            changeTempPassword(identityProviderClient, username, permanentPassword, poolId);\n            getToken(identityProviderClient, clientId, username, permanentPassword, poolId);\n            System.out.println(username +&quot; successfully authenticated&quot;);\n        }\n    }\n\n    public static boolean getToken(CognitoIdentityProviderClient identityProviderClient, String clientId, String username, String password, String poolId) {\n        final Map&lt;String, String&gt; authParams = new HashMap&lt;&gt;();\n        authParams.put(&quot;USERNAME&quot;, username);\n        authParams.put(&quot;PASSWORD&quot;, password);\n\n        AdminInitiateAuthRequest authRequest = AdminInitiateAuthRequest.builder()\n            .clientId(clientId)\n            .userPoolId(poolId)\n            .authParameters(authParams)\n            .authFlow(AuthFlowType.ADMIN_USER_PASSWORD_AUTH)\n            .build();\n\n        try {\n            // If you specify an incorrect username/password, an exception is thrown.\n            AdminInitiateAuthResponse response = identityProviderClient.adminInitiateAuth(authRequest);\n\n            // Get the Challenge type\n            if (response.challengeNameAsString() == null) {\n                System.out.println(&quot;Access Token Type : &quot; + response.authenticationResult().tokenType());\n                System.out.println(&quot;Access Token : &quot; + response.authenticationResult().accessToken());\n                return true;\n            } else if (response.challengeNameAsString().compareTo(&quot;NEW_PASSWORD_REQUIRED&quot;) == 0) {\n                System.out.println(&quot;The User must change their password. &quot;);\n            }\n\n        } catch(CognitoIdentityProviderException e) {\n            System.err.println(e.awsErrorDetails().errorMessage());\n            System.exit(1);\n        }\n        return false;\n    }\n\n    public static void changeTempPassword(CognitoIdentityProviderClient identityProviderClient, String username, String newPassword, String poolId){\n        try {\n            AdminSetUserPasswordRequest passwordRequest = AdminSetUserPasswordRequest.builder()\n                .username(username)\n                .userPoolId(poolId)\n                .password(newPassword)\n                .permanent(true)\n                .build();\n\n            identityProviderClient.adminSetUserPassword(passwordRequest);\n            System.out.println(&quot;The password was successfully changed&quot;);\n\n        } catch(CognitoIdentityProviderException e) {\n            System.err.println(e.awsErrorDetails().errorMessage());\n            System.exit(1);\n        }\n    }\n}\n</code></pre>\n<p><em><strong>SO the reason why you get this NULL Exception is because you need to set the permanent password for the user. If the challengeName=NEW_PASSWORD_REQUIRED, you cannot read the access token.</strong></em></p>\n"}],"owner":{"account_id":26380586,"reputation":109,"user_id":20033905,"display_name":"Ric97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75486645,"answer_count":1,"score":1,"last_activity_date":1676659842,"creation_date":1676649425,"question_id":75486547,"body_markdown":"i&#39;m developing for the first time using AWS Cognito in Java.\r\n\r\nI created a code for an Admin to create a User. The user will be automatically created with the status FORCE_CHANGE_PASSWORD. What i was going to do now is a simple login, but if the system return a CHANGE_PASSWORD challenge, then it will open another window where the user should input old password and new password, then submit them to cognito.\r\n\r\nThe code i used to create a user through AdminCreateUser is the following:\r\n\r\n```\r\n // Creating instance of client CognitoIdentityProvider\r\n        CognitoIdentityProviderClient cognitoClient = CognitoIdentityProviderClient.builder().region(Region.EU_CENTRAL_1).build();\r\n\r\n        AdminCreateUserRequest requestUserCreation = AdminCreateUserRequest.builder()\r\n                .username(usernameTextField.getText())\r\n                .desiredDeliveryMediums(DeliveryMediumType.EMAIL)\r\n                .userAttributes(AttributeType.builder()\r\n                        .name(&quot;email&quot;)\r\n                        .value(emailTextField.getText())\r\n                        .build())\r\n                .userPoolId(&quot;xxxxx&quot;)\r\n                .build();\r\n\r\n        // Sending sign up request\r\n        AdminCreateUserResponse responseUserCreation = cognitoClient.adminCreateUser(requestUserCreation);\r\n\r\n        // Saving the group we want to put the user in through a combobox\r\n        String groupname = (String) groupComboBox.getValue();\r\n\r\n        UserType newUser = responseUserCreation.user();\r\n        GroupType group = GroupType.builder().groupName(groupname).build();\r\n\r\n        AdminAddUserToGroupRequest addUserToGroupRequest = AdminAddUserToGroupRequest.builder()\r\n                .userPoolId(&quot;xxxxx&quot;)\r\n                .username(newUser.username())\r\n                .groupName(groupname)\r\n                .build();\r\n\r\n        AdminAddUserToGroupResponse addUserToGroupResult = cognitoClient.adminAddUserToGroup(addUserToGroupRequest);\r\n```\r\n\r\nThis code works. When i submit this through a button, an email arrives to the user i created, and it also shows in my Amazon Cognito console.\r\n\r\nNow the login part is giving me trouble.\r\n\r\nAs i said, i want to open another windows which has the right form for resetting the password. I still haven&#39;t thought about the implementation for resetting the password because my login doesnt&#39; work, so i will implement this later.\r\n\r\nThis is my login code:\r\n```\r\npublic void Login(ActionEvent event) {\r\n\r\n            final String CLIENT_ID = cs.getAppClientId();\r\n            final String USER_NAME = userNameTextField.getText();\r\n            final String PASSWORD = passwordTextField.getText();\r\n            final Region region = cs.getRegion();\r\n\r\n            CognitoIdentityProviderClient cognitoClient = CognitoIdentityProviderClient.builder()\r\n                    .credentialsProvider(DefaultCredentialsProvider.create())\r\n                    .region(region)\r\n                    .build();\r\n\r\n\r\n            InitiateAuthRequest authRequest = InitiateAuthRequest.builder()\r\n                    .clientId(CLIENT_ID)\r\n                    .authFlow(&quot;USER_PASSWORD_AUTH&quot;)\r\n                    .authParameters(createAuthParameters(USER_NAME, PASSWORD))\r\n                    .build();\r\n\r\n            try {\r\n                InitiateAuthResponse authResult = cognitoClient.initiateAuth(authRequest);\r\n\r\n                if (authResult.challengeName() != null) {\r\n                    if (authResult.challengeName().equals(ChallengeNameType.NEW_PASSWORD_REQUIRED.toString())) {\r\n                        try {\r\n                            reimpostaPassword.apriSchermataReimpostaPassword(event);\r\n                        } catch (IOException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    } else {\r\n                        // The authentication was successful\r\n                        AuthenticationResultType authenticationResult = authResult.authenticationResult();\r\n                        System.out.println(&quot;Access token: &quot; + authenticationResult.accessToken());\r\n                    }\r\n                }\r\n            } catch (NotAuthorizedException e) {\r\n                System.out.println(&quot;Incorrect username or password&quot;);\r\n            } catch (PasswordResetRequiredException e) {\r\n                System.out.println(&quot;Password reset is required for the user&quot;);\r\n            }\r\n\r\n```\r\n\r\nWhen i fill my form with the right username and password, it gives me this error:\r\n```\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;software.amazon.awssdk.services.cognitoidentityprovider.model.AuthenticationResultType.accessToken()&quot; because &quot;authenticationResult&quot; is null\r\n\tat com.example.ratatouille23/com.example.ratatouille23.Login.LoginController.Login(LoginController.java:101)\r\n\tat com.example.ratatouille23/com.example.ratatouille23.Login.LoginController.clickPulsanteLogin(LoginController.java:66)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t... 51 more\r\n``` \r\n\r\nThe line that gives me error is this:\r\n```\r\nSystem.out.println(&quot;Access token: &quot; + authenticationResult.accessToken());\r\n```\r\n\r\nThis is an odd behaviour, because this means that the &#39;if the challenge is new password required&#39; control fails, so i&#39;m a little stuck here.\r\n\r\nAny help?\r\n","title":"AWS Cognito, why InititiateAuthResponse is null?","body":"<p>i'm developing for the first time using AWS Cognito in Java.</p>\n<p>I created a code for an Admin to create a User. The user will be automatically created with the status FORCE_CHANGE_PASSWORD. What i was going to do now is a simple login, but if the system return a CHANGE_PASSWORD challenge, then it will open another window where the user should input old password and new password, then submit them to cognito.</p>\n<p>The code i used to create a user through AdminCreateUser is the following:</p>\n<pre><code> // Creating instance of client CognitoIdentityProvider\n        CognitoIdentityProviderClient cognitoClient = CognitoIdentityProviderClient.builder().region(Region.EU_CENTRAL_1).build();\n\n        AdminCreateUserRequest requestUserCreation = AdminCreateUserRequest.builder()\n                .username(usernameTextField.getText())\n                .desiredDeliveryMediums(DeliveryMediumType.EMAIL)\n                .userAttributes(AttributeType.builder()\n                        .name(&quot;email&quot;)\n                        .value(emailTextField.getText())\n                        .build())\n                .userPoolId(&quot;xxxxx&quot;)\n                .build();\n\n        // Sending sign up request\n        AdminCreateUserResponse responseUserCreation = cognitoClient.adminCreateUser(requestUserCreation);\n\n        // Saving the group we want to put the user in through a combobox\n        String groupname = (String) groupComboBox.getValue();\n\n        UserType newUser = responseUserCreation.user();\n        GroupType group = GroupType.builder().groupName(groupname).build();\n\n        AdminAddUserToGroupRequest addUserToGroupRequest = AdminAddUserToGroupRequest.builder()\n                .userPoolId(&quot;xxxxx&quot;)\n                .username(newUser.username())\n                .groupName(groupname)\n                .build();\n\n        AdminAddUserToGroupResponse addUserToGroupResult = cognitoClient.adminAddUserToGroup(addUserToGroupRequest);\n</code></pre>\n<p>This code works. When i submit this through a button, an email arrives to the user i created, and it also shows in my Amazon Cognito console.</p>\n<p>Now the login part is giving me trouble.</p>\n<p>As i said, i want to open another windows which has the right form for resetting the password. I still haven't thought about the implementation for resetting the password because my login doesnt' work, so i will implement this later.</p>\n<p>This is my login code:</p>\n<pre><code>public void Login(ActionEvent event) {\n\n            final String CLIENT_ID = cs.getAppClientId();\n            final String USER_NAME = userNameTextField.getText();\n            final String PASSWORD = passwordTextField.getText();\n            final Region region = cs.getRegion();\n\n            CognitoIdentityProviderClient cognitoClient = CognitoIdentityProviderClient.builder()\n                    .credentialsProvider(DefaultCredentialsProvider.create())\n                    .region(region)\n                    .build();\n\n\n            InitiateAuthRequest authRequest = InitiateAuthRequest.builder()\n                    .clientId(CLIENT_ID)\n                    .authFlow(&quot;USER_PASSWORD_AUTH&quot;)\n                    .authParameters(createAuthParameters(USER_NAME, PASSWORD))\n                    .build();\n\n            try {\n                InitiateAuthResponse authResult = cognitoClient.initiateAuth(authRequest);\n\n                if (authResult.challengeName() != null) {\n                    if (authResult.challengeName().equals(ChallengeNameType.NEW_PASSWORD_REQUIRED.toString())) {\n                        try {\n                            reimpostaPassword.apriSchermataReimpostaPassword(event);\n                        } catch (IOException e) {\n                            throw new RuntimeException(e);\n                        }\n                    } else {\n                        // The authentication was successful\n                        AuthenticationResultType authenticationResult = authResult.authenticationResult();\n                        System.out.println(&quot;Access token: &quot; + authenticationResult.accessToken());\n                    }\n                }\n            } catch (NotAuthorizedException e) {\n                System.out.println(&quot;Incorrect username or password&quot;);\n            } catch (PasswordResetRequiredException e) {\n                System.out.println(&quot;Password reset is required for the user&quot;);\n            }\n\n</code></pre>\n<p>When i fill my form with the right username and password, it gives me this error:</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;software.amazon.awssdk.services.cognitoidentityprovider.model.AuthenticationResultType.accessToken()&quot; because &quot;authenticationResult&quot; is null\n    at com.example.ratatouille23/com.example.ratatouille23.Login.LoginController.Login(LoginController.java:101)\n    at com.example.ratatouille23/com.example.ratatouille23.Login.LoginController.clickPulsanteLogin(LoginController.java:66)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 51 more\n</code></pre>\n<p>The line that gives me error is this:</p>\n<pre><code>System.out.println(&quot;Access token: &quot; + authenticationResult.accessToken());\n</code></pre>\n<p>This is an odd behaviour, because this means that the 'if the challenge is new password required' control fails, so i'm a little stuck here.</p>\n<p>Any help?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":19313733,"reputation":355,"user_id":14118943,"display_name":"Chennai Cheetah"},"score":0,"creation_date":1637661748,"post_id":70044718,"comment_id":123880118,"body_markdown":"thanks hani for the solution. But I am facing this error when trying to build jar.   incompatible types: java.util.List&lt;java.lang.Object&gt; cannot be converted to java.util.List&lt;com.Veritas.Test.DedupeResultFinal&gt;","body":"thanks hani for the solution. But I am facing this error when trying to build jar.   incompatible types: java.util.List&lt;java.lang.Object&gt; cannot be converted to java.util.List&lt;com.Veritas.Test.DedupeResultFinal&gt;"},{"owner":{"account_id":12714208,"reputation":49,"user_id":9236852,"display_name":"hani"},"score":0,"creation_date":1638003623,"post_id":70044718,"comment_id":123975691,"body_markdown":"Well you take List the upper class first and then cast to the lower class .So when you get the list, your list is List&lt;Object&gt; and after iterate you have to cast each member  to DedupeResultFinal.","body":"Well you take List the upper class first and then cast to the lower class .So when you get the list, your list is List&lt;Object&gt; and after iterate you have to cast each member  to DedupeResultFinal."}],"tags":[],"owner":{"account_id":12714208,"reputation":49,"user_id":9236852,"display_name":"hani"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637439148,"creation_date":1637400608,"answer_id":70044718,"question_id":70044037,"body_markdown":"First you must create `DedupeDetail` class:\r\n\r\n```java\r\npublic class DedupeDetail {\r\n\r\n    String CustomerType;\r\n    String CustomerName;\r\n    String DedupeFound;\r\n\r\n    public DedupeDetail(String customerType, String customerName, String dedupeFound) {\r\n        CustomerType = customerType;\r\n        CustomerName = customerName;\r\n        DedupeFound = dedupeFound;\r\n    }\r\n}\r\n```\r\n\r\nThen create `DedupeResultFinal` with converter:\r\n\r\n```java\r\npublic class DedupeResultFinal {\r\n\r\n    String ID;\r\n    String CustomerName;\r\n    String BranchName;\r\n    String SchemeName;\r\n    String MobileNumber;\r\n    List&lt;DedupeDetail&gt; DedupeDetails;\r\n\r\n    public DedupeResultFinal() {\r\n    }\r\n\r\n    public DedupeResultFinal(List&lt;DedupeDetail&gt; dedupeDetails) {\r\n        DedupeDetails = dedupeDetails;\r\n    }// ... other constructor and getter and setter\r\n\r\n    public static DedupeResultFinal convertToFinal(HashMap&lt;String, String&gt; dedupeRes){\r\n        DedupeResultFinal dedupeResultFinal = new DedupeResultFinal();\r\n\r\n        dedupeResultFinal.setBranchName(dedupeRes.get(&quot;BranchName&quot;));\r\n        dedupeResultFinal.setCustomerName(dedupeRes.get(&quot;CustomerName&quot;));\r\n        dedupeResultFinal.setID(dedupeRes.get(&quot;ID&quot;));\r\n        dedupeResultFinal.setMobileNumber(dedupeRes.get(&quot;MobileNumber&quot;));\r\n        dedupeResultFinal.setSchemeName(dedupeRes.get(&quot;SchemeName&quot;));\r\n\r\n        return dedupeResultFinal;\r\n\r\n    }\r\n}\r\n```\r\n\r\nAnd then your method must be like this:\r\n\r\n```java\r\n   public static void main(String[] args) {\r\n        try {\r\n\r\n            String responseString = {Input mentioned in post};\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            List&lt;HashMap&lt;String, String&gt;&gt; dedupe = mapper.readValue(responseString, new ArrayList&lt;String&gt;().getClass());\r\n            Map&lt;String, DedupeResultFinal&gt; map = new HashMap&lt;&gt;();\r\n\r\n            for (HashMap&lt;String, String&gt; dedupeRes : dedupe) {\r\n                if (map.get(dedupeRes.get(&quot;ID&quot;)) != null){\r\n                    DedupeDetail dedupeDetail = new DedupeDetail(dedupeRes.get(&quot;CustomerType&quot;), dedupeRes.get(&quot;CustomerName&quot;), dedupeRes.get(&quot;DedupeFound&quot;));\r\n                    map.get(dedupeRes.get(&quot;ID&quot;)).getDedupeDetails().add(dedupeDetail);\r\n                }else {\r\n                    DedupeDetail dedupeDetail =  new DedupeDetail(dedupeRes.get(&quot;CustomerType&quot;), dedupeRes.get(&quot;CustomerName&quot;), dedupeRes.get(&quot;DedupeFound&quot;));\r\n                    DedupeResultFinal dedupeResultFinal = DedupeResultFinal.convertToFinal(dedupeRes);\r\n                    List&lt;DedupeDetail&gt; dedupeDetails = new ArrayList&lt;&gt;();\r\n                    dedupeDetails.add(dedupeDetail);\r\n                    dedupeResultFinal.setDedupeDetails(dedupeDetails);\r\n\r\n                    map.put(dedupeRes.get(&quot;ID&quot;), dedupeResultFinal);\r\n                }\r\n            }\r\n\r\n           List&lt;DedupeResultFinal&gt; finalDedup = map.values().stream().collect(Collectors.toList());\r\n\r\n            System.out.println(finalDedup);\r\n        }\r\n        catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```","title":"Grouping by Unique ID for JSON Array","body":"<p>First you must create <code>DedupeDetail</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DedupeDetail {\n\n    String CustomerType;\n    String CustomerName;\n    String DedupeFound;\n\n    public DedupeDetail(String customerType, String customerName, String dedupeFound) {\n        CustomerType = customerType;\n        CustomerName = customerName;\n        DedupeFound = dedupeFound;\n    }\n}\n</code></pre>\n<p>Then create <code>DedupeResultFinal</code> with converter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DedupeResultFinal {\n\n    String ID;\n    String CustomerName;\n    String BranchName;\n    String SchemeName;\n    String MobileNumber;\n    List&lt;DedupeDetail&gt; DedupeDetails;\n\n    public DedupeResultFinal() {\n    }\n\n    public DedupeResultFinal(List&lt;DedupeDetail&gt; dedupeDetails) {\n        DedupeDetails = dedupeDetails;\n    }// ... other constructor and getter and setter\n\n    public static DedupeResultFinal convertToFinal(HashMap&lt;String, String&gt; dedupeRes){\n        DedupeResultFinal dedupeResultFinal = new DedupeResultFinal();\n\n        dedupeResultFinal.setBranchName(dedupeRes.get(&quot;BranchName&quot;));\n        dedupeResultFinal.setCustomerName(dedupeRes.get(&quot;CustomerName&quot;));\n        dedupeResultFinal.setID(dedupeRes.get(&quot;ID&quot;));\n        dedupeResultFinal.setMobileNumber(dedupeRes.get(&quot;MobileNumber&quot;));\n        dedupeResultFinal.setSchemeName(dedupeRes.get(&quot;SchemeName&quot;));\n\n        return dedupeResultFinal;\n\n    }\n}\n</code></pre>\n<p>And then your method must be like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public static void main(String[] args) {\n        try {\n\n            String responseString = {Input mentioned in post};\n            ObjectMapper mapper = new ObjectMapper();\n            mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n            List&lt;HashMap&lt;String, String&gt;&gt; dedupe = mapper.readValue(responseString, new ArrayList&lt;String&gt;().getClass());\n            Map&lt;String, DedupeResultFinal&gt; map = new HashMap&lt;&gt;();\n\n            for (HashMap&lt;String, String&gt; dedupeRes : dedupe) {\n                if (map.get(dedupeRes.get(&quot;ID&quot;)) != null){\n                    DedupeDetail dedupeDetail = new DedupeDetail(dedupeRes.get(&quot;CustomerType&quot;), dedupeRes.get(&quot;CustomerName&quot;), dedupeRes.get(&quot;DedupeFound&quot;));\n                    map.get(dedupeRes.get(&quot;ID&quot;)).getDedupeDetails().add(dedupeDetail);\n                }else {\n                    DedupeDetail dedupeDetail =  new DedupeDetail(dedupeRes.get(&quot;CustomerType&quot;), dedupeRes.get(&quot;CustomerName&quot;), dedupeRes.get(&quot;DedupeFound&quot;));\n                    DedupeResultFinal dedupeResultFinal = DedupeResultFinal.convertToFinal(dedupeRes);\n                    List&lt;DedupeDetail&gt; dedupeDetails = new ArrayList&lt;&gt;();\n                    dedupeDetails.add(dedupeDetail);\n                    dedupeResultFinal.setDedupeDetails(dedupeDetails);\n\n                    map.put(dedupeRes.get(&quot;ID&quot;), dedupeResultFinal);\n                }\n            }\n\n           List&lt;DedupeResultFinal&gt; finalDedup = map.values().stream().collect(Collectors.toList());\n\n            System.out.println(finalDedup);\n        }\n        catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23366081,"reputation":129,"user_id":17437705,"display_name":"rongfeiyue"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637400626,"creation_date":1637400626,"answer_id":70044721,"question_id":70044037,"body_markdown":"Complete code implementation, try it.\r\n```\r\npublic class T {\r\n\r\n    private static final ObjectMapper mapper = new ObjectMapper();\r\n\r\n    static {\r\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    }\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; parseObjectList(String json, Class&lt;T&gt; clazz) {\r\n        try {\r\n            return mapper.readValue(\r\n                    json,\r\n                    TypeFactory.defaultInstance().constructParametricType(ArrayList.class, clazz)\r\n            );\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public static &lt;T&gt; String toJsonString(T t) {\r\n        try {\r\n            return mapper.writeValueAsString(t);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            String responseString = &quot;[{\\&quot;ID\\&quot;:\\&quot;1234\\&quot;,\\&quot;CustomerName\\&quot;:\\&quot;KUMAR\\&quot;,\\&quot;BranchName\\&quot;:\\&quot;HARBOUR\\&quot;,\\&quot;SchemeName\\&quot;:\\&quot;GOLD\\&quot;,\\&quot;MobileNumber\\&quot;:\\&quot;123456789\\&quot;,\\&quot;CustomerType\\&quot;:\\&quot;PRIMARY\\&quot;,\\&quot;DedupeFound\\&quot;:\\&quot;NO\\&quot;},{\\&quot;ID\\&quot;:\\&quot;1234\\&quot;,\\&quot;CustomerName\\&quot;:\\&quot;SEAN\\&quot;,\\&quot;BranchName\\&quot;:\\&quot;HARBOUR\\&quot;,\\&quot;SchemeName\\&quot;:\\&quot;GOLD\\&quot;,\\&quot;MobileNumber\\&quot;:\\&quot;123456789\\&quot;,\\&quot;CustomerType\\&quot;:\\&quot;SECONDARY\\&quot;,\\&quot;DedupeFound\\&quot;:\\&quot;YES\\&quot;},{\\&quot;ID\\&quot;:\\&quot;5678\\&quot;,\\&quot;CustomerName\\&quot;:\\&quot;MARK\\&quot;,\\&quot;BranchName\\&quot;:\\&quot;CANTONMENT\\&quot;,\\&quot;SchemeName\\&quot;:\\&quot;DIAMOND\\&quot;,\\&quot;MobileNumber\\&quot;:\\&quot;123456789\\&quot;,\\&quot;CustomerType\\&quot;:\\&quot;PRIMARY\\&quot;,\\&quot;DedupeFound\\&quot;:\\&quot;NO\\&quot;},{\\&quot;ID\\&quot;:\\&quot;5678\\&quot;,\\&quot;CustomerName\\&quot;:\\&quot;STEVE\\&quot;,\\&quot;BranchName\\&quot;:\\&quot;CANTONMENT\\&quot;,\\&quot;SchemeName\\&quot;:\\&quot;DIAMOND\\&quot;,\\&quot;MobileNumber\\&quot;:\\&quot;123456789\\&quot;,\\&quot;CustomerType\\&quot;:\\&quot;SECONDARY\\&quot;,\\&quot;DedupeFound\\&quot;:\\&quot;YES\\&quot;}]&quot;;\r\n            List&lt;DedupeRes&gt; list = parseObjectList(responseString, DedupeRes.class);\r\n            if (list != null &amp;&amp; !list.isEmpty()) {\r\n                Map&lt;String, List&lt;DedupeRes&gt;&gt; map = list.stream().collect(Collectors.groupingBy(DedupeRes::getID));\r\n                List&lt;Res&gt; resList = new ArrayList&lt;&gt;();\r\n                map.forEach((k, v) -&gt; resList.add(listToRes(v)));\r\n                responseString = toJsonString(resList);\r\n                System.out.println(responseString);\r\n            }\r\n        } catch (Exception e) {\r\n            // xx\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static Res listToRes(List&lt;DedupeRes&gt; list) {\r\n        Res res = new Res();\r\n        res.setDedupeDetails(new ArrayList&lt;&gt;());\r\n        for (DedupeRes dedupeRes : list) {\r\n            if (Objects.equals(&quot;PRIMARY&quot;, dedupeRes.getCustomerType())) {\r\n                // if you used spring -&gt; BeanUtils.copyProperties(dedupeRes, res);\r\n                res.setID(dedupeRes.getID());\r\n                res.setBranchName(dedupeRes.getBranchName());\r\n                res.setCustomerName(dedupeRes.getCustomerName());\r\n                res.setMobileNumber(dedupeRes.getMobileNumber());\r\n                res.setSchemeName(dedupeRes.getSchemeName());\r\n            }\r\n            DedupeDetails details = new DedupeDetails();\r\n            //\r\n            BeanUtils.copyProperties(dedupeRes, details);\r\n            res.getDedupeDetails().add(details);\r\n        }\r\n        return res;\r\n    }\r\n\r\n    @Data\r\n    private static class DedupeRes {\r\n        @JsonProperty(&quot;ID&quot;)\r\n        private String ID;\r\n        @JsonProperty(&quot;CustomerName&quot;)\r\n        private String CustomerName;\r\n        @JsonProperty(&quot;BranchName&quot;)\r\n        private String BranchName;\r\n        @JsonProperty(&quot;SchemeName&quot;)\r\n        private String SchemeName;\r\n        @JsonProperty(&quot;MobileNumber&quot;)\r\n        private String MobileNumber;\r\n        @JsonProperty(&quot;CustomerType&quot;)\r\n        private String CustomerType;\r\n        @JsonProperty(&quot;DedupeFound&quot;)\r\n        private String DedupeFound;\r\n    }\r\n\r\n    @Data\r\n    private static class Res {\r\n        @JsonProperty(&quot;ID&quot;)\r\n        private String ID;\r\n        @JsonProperty(&quot;CustomerName&quot;)\r\n        private String CustomerName;\r\n        @JsonProperty(&quot;BranchName&quot;)\r\n        private String BranchName;\r\n        @JsonProperty(&quot;SchemeName&quot;)\r\n        private String SchemeName;\r\n        @JsonProperty(&quot;MobileNumber&quot;)\r\n        private String MobileNumber;\r\n        @JsonProperty(&quot;dedupeDetails&quot;)\r\n        private List&lt;DedupeDetails&gt; dedupeDetails;\r\n    }\r\n\r\n    @Data\r\n    private static class DedupeDetails {\r\n        @JsonProperty(&quot;CustomerType&quot;)\r\n        private String CustomerType;\r\n        @JsonProperty(&quot;CustomerName&quot;)\r\n        private String CustomerName;\r\n        @JsonProperty(&quot;DedupeFound&quot;)\r\n        private String DedupeFound;\r\n    }\r\n}\r\n\r\n```\r\nconsule.\r\n```\r\n[{&quot;ID&quot;:&quot;1234&quot;,&quot;CustomerName&quot;:&quot;KUMAR&quot;,&quot;BranchName&quot;:&quot;HARBOUR&quot;,&quot;SchemeName&quot;:&quot;GOLD&quot;,&quot;MobileNumber&quot;:&quot;123456789&quot;,&quot;dedupeDetails&quot;:[{&quot;CustomerType&quot;:&quot;PRIMARY&quot;,&quot;CustomerName&quot;:&quot;KUMAR&quot;,&quot;DedupeFound&quot;:&quot;NO&quot;},{&quot;CustomerType&quot;:&quot;SECONDARY&quot;,&quot;CustomerName&quot;:&quot;SEAN&quot;,&quot;DedupeFound&quot;:&quot;YES&quot;}]},{&quot;ID&quot;:&quot;5678&quot;,&quot;CustomerName&quot;:&quot;MARK&quot;,&quot;BranchName&quot;:&quot;CANTONMENT&quot;,&quot;SchemeName&quot;:&quot;DIAMOND&quot;,&quot;MobileNumber&quot;:&quot;123456789&quot;,&quot;dedupeDetails&quot;:[{&quot;CustomerType&quot;:&quot;PRIMARY&quot;,&quot;CustomerName&quot;:&quot;MARK&quot;,&quot;DedupeFound&quot;:&quot;NO&quot;},{&quot;CustomerType&quot;:&quot;SECONDARY&quot;,&quot;CustomerName&quot;:&quot;STEVE&quot;,&quot;DedupeFound&quot;:&quot;YES&quot;}]}]\r\n```","title":"Grouping by Unique ID for JSON Array","body":"<p>Complete code implementation, try it.</p>\n<pre><code>public class T {\n\n    private static final ObjectMapper mapper = new ObjectMapper();\n\n    static {\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    }\n\n    public static &lt;T&gt; List&lt;T&gt; parseObjectList(String json, Class&lt;T&gt; clazz) {\n        try {\n            return mapper.readValue(\n                    json,\n                    TypeFactory.defaultInstance().constructParametricType(ArrayList.class, clazz)\n            );\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static &lt;T&gt; String toJsonString(T t) {\n        try {\n            return mapper.writeValueAsString(t);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            String responseString = &quot;[{\\&quot;ID\\&quot;:\\&quot;1234\\&quot;,\\&quot;CustomerName\\&quot;:\\&quot;KUMAR\\&quot;,\\&quot;BranchName\\&quot;:\\&quot;HARBOUR\\&quot;,\\&quot;SchemeName\\&quot;:\\&quot;GOLD\\&quot;,\\&quot;MobileNumber\\&quot;:\\&quot;123456789\\&quot;,\\&quot;CustomerType\\&quot;:\\&quot;PRIMARY\\&quot;,\\&quot;DedupeFound\\&quot;:\\&quot;NO\\&quot;},{\\&quot;ID\\&quot;:\\&quot;1234\\&quot;,\\&quot;CustomerName\\&quot;:\\&quot;SEAN\\&quot;,\\&quot;BranchName\\&quot;:\\&quot;HARBOUR\\&quot;,\\&quot;SchemeName\\&quot;:\\&quot;GOLD\\&quot;,\\&quot;MobileNumber\\&quot;:\\&quot;123456789\\&quot;,\\&quot;CustomerType\\&quot;:\\&quot;SECONDARY\\&quot;,\\&quot;DedupeFound\\&quot;:\\&quot;YES\\&quot;},{\\&quot;ID\\&quot;:\\&quot;5678\\&quot;,\\&quot;CustomerName\\&quot;:\\&quot;MARK\\&quot;,\\&quot;BranchName\\&quot;:\\&quot;CANTONMENT\\&quot;,\\&quot;SchemeName\\&quot;:\\&quot;DIAMOND\\&quot;,\\&quot;MobileNumber\\&quot;:\\&quot;123456789\\&quot;,\\&quot;CustomerType\\&quot;:\\&quot;PRIMARY\\&quot;,\\&quot;DedupeFound\\&quot;:\\&quot;NO\\&quot;},{\\&quot;ID\\&quot;:\\&quot;5678\\&quot;,\\&quot;CustomerName\\&quot;:\\&quot;STEVE\\&quot;,\\&quot;BranchName\\&quot;:\\&quot;CANTONMENT\\&quot;,\\&quot;SchemeName\\&quot;:\\&quot;DIAMOND\\&quot;,\\&quot;MobileNumber\\&quot;:\\&quot;123456789\\&quot;,\\&quot;CustomerType\\&quot;:\\&quot;SECONDARY\\&quot;,\\&quot;DedupeFound\\&quot;:\\&quot;YES\\&quot;}]&quot;;\n            List&lt;DedupeRes&gt; list = parseObjectList(responseString, DedupeRes.class);\n            if (list != null &amp;&amp; !list.isEmpty()) {\n                Map&lt;String, List&lt;DedupeRes&gt;&gt; map = list.stream().collect(Collectors.groupingBy(DedupeRes::getID));\n                List&lt;Res&gt; resList = new ArrayList&lt;&gt;();\n                map.forEach((k, v) -&gt; resList.add(listToRes(v)));\n                responseString = toJsonString(resList);\n                System.out.println(responseString);\n            }\n        } catch (Exception e) {\n            // xx\n            e.printStackTrace();\n        }\n    }\n\n    private static Res listToRes(List&lt;DedupeRes&gt; list) {\n        Res res = new Res();\n        res.setDedupeDetails(new ArrayList&lt;&gt;());\n        for (DedupeRes dedupeRes : list) {\n            if (Objects.equals(&quot;PRIMARY&quot;, dedupeRes.getCustomerType())) {\n                // if you used spring -&gt; BeanUtils.copyProperties(dedupeRes, res);\n                res.setID(dedupeRes.getID());\n                res.setBranchName(dedupeRes.getBranchName());\n                res.setCustomerName(dedupeRes.getCustomerName());\n                res.setMobileNumber(dedupeRes.getMobileNumber());\n                res.setSchemeName(dedupeRes.getSchemeName());\n            }\n            DedupeDetails details = new DedupeDetails();\n            //\n            BeanUtils.copyProperties(dedupeRes, details);\n            res.getDedupeDetails().add(details);\n        }\n        return res;\n    }\n\n    @Data\n    private static class DedupeRes {\n        @JsonProperty(&quot;ID&quot;)\n        private String ID;\n        @JsonProperty(&quot;CustomerName&quot;)\n        private String CustomerName;\n        @JsonProperty(&quot;BranchName&quot;)\n        private String BranchName;\n        @JsonProperty(&quot;SchemeName&quot;)\n        private String SchemeName;\n        @JsonProperty(&quot;MobileNumber&quot;)\n        private String MobileNumber;\n        @JsonProperty(&quot;CustomerType&quot;)\n        private String CustomerType;\n        @JsonProperty(&quot;DedupeFound&quot;)\n        private String DedupeFound;\n    }\n\n    @Data\n    private static class Res {\n        @JsonProperty(&quot;ID&quot;)\n        private String ID;\n        @JsonProperty(&quot;CustomerName&quot;)\n        private String CustomerName;\n        @JsonProperty(&quot;BranchName&quot;)\n        private String BranchName;\n        @JsonProperty(&quot;SchemeName&quot;)\n        private String SchemeName;\n        @JsonProperty(&quot;MobileNumber&quot;)\n        private String MobileNumber;\n        @JsonProperty(&quot;dedupeDetails&quot;)\n        private List&lt;DedupeDetails&gt; dedupeDetails;\n    }\n\n    @Data\n    private static class DedupeDetails {\n        @JsonProperty(&quot;CustomerType&quot;)\n        private String CustomerType;\n        @JsonProperty(&quot;CustomerName&quot;)\n        private String CustomerName;\n        @JsonProperty(&quot;DedupeFound&quot;)\n        private String DedupeFound;\n    }\n}\n\n</code></pre>\n<p>consule.</p>\n<pre><code>[{&quot;ID&quot;:&quot;1234&quot;,&quot;CustomerName&quot;:&quot;KUMAR&quot;,&quot;BranchName&quot;:&quot;HARBOUR&quot;,&quot;SchemeName&quot;:&quot;GOLD&quot;,&quot;MobileNumber&quot;:&quot;123456789&quot;,&quot;dedupeDetails&quot;:[{&quot;CustomerType&quot;:&quot;PRIMARY&quot;,&quot;CustomerName&quot;:&quot;KUMAR&quot;,&quot;DedupeFound&quot;:&quot;NO&quot;},{&quot;CustomerType&quot;:&quot;SECONDARY&quot;,&quot;CustomerName&quot;:&quot;SEAN&quot;,&quot;DedupeFound&quot;:&quot;YES&quot;}]},{&quot;ID&quot;:&quot;5678&quot;,&quot;CustomerName&quot;:&quot;MARK&quot;,&quot;BranchName&quot;:&quot;CANTONMENT&quot;,&quot;SchemeName&quot;:&quot;DIAMOND&quot;,&quot;MobileNumber&quot;:&quot;123456789&quot;,&quot;dedupeDetails&quot;:[{&quot;CustomerType&quot;:&quot;PRIMARY&quot;,&quot;CustomerName&quot;:&quot;MARK&quot;,&quot;DedupeFound&quot;:&quot;NO&quot;},{&quot;CustomerType&quot;:&quot;SECONDARY&quot;,&quot;CustomerName&quot;:&quot;STEVE&quot;,&quot;DedupeFound&quot;:&quot;YES&quot;}]}]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676659661,"creation_date":1676659661,"answer_id":75488234,"question_id":70044037,"body_markdown":"You can use JSON library such as _Josson_ to do the transformation.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Josson josson = Josson.fromJsonString(yourJsonString);\r\n\r\n__Method 1__\r\n\r\nFind the primary record of each group from the root node.\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;group(ID, DedupeDetails:map(CustomerType, CustomerName, DedupeFound))@&quot; +\r\n        &quot;.let($id:ID, $pri:$.[ID=$id &amp; CustomerType=&#39;PRIMARY&#39;])&quot; +\r\n        &quot;.field($pri.CustomerName, $pri.BranchName, $pri.SchemeName, $pri.MobileNumber)&quot;);\r\n\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Method 2__\r\n\r\nFind the primary record within each group.\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;group(ID)@&quot; +\r\n        &quot;.let($pri: elements[CustomerType=&#39;PRIMARY&#39;])&quot; +\r\n        &quot;.field($pri.CustomerName, $pri.BranchName, $pri.SchemeName, $pri.MobileNumber,&quot; +\r\n        &quot;       elements:, DedupeDetails:elements.map(CustomerType, CustomerName, DedupeFound))&quot;);\r\n\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Method 3__\r\n\r\nUse `mergeObjects()` instead of `let()` to do the task.\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;group(ID)@&quot; +\r\n        &quot;.mergeObjects(&quot; +\r\n        &quot;  elements[CustomerType=&#39;PRIMARY&#39;].map(ID, CustomerName, BranchName, SchemeName, MobileNumber),&quot; +\r\n        &quot;  map(DedupeDetails:elements.map(CustomerType, CustomerName, DedupeFound))&quot; +\r\n        &quot;)&quot;);\r\n\r\n    System.out.println(node.toPrettyString());\r\n","title":"Grouping by Unique ID for JSON Array","body":"<p>You can use JSON library such as <em>Josson</em> to do the transformation.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(yourJsonString);\n</code></pre>\n<p><strong>Method 1</strong></p>\n<p>Find the primary record of each group from the root node.</p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;group(ID, DedupeDetails:map(CustomerType, CustomerName, DedupeFound))@&quot; +\n    &quot;.let($id:ID, $pri:$.[ID=$id &amp; CustomerType='PRIMARY'])&quot; +\n    &quot;.field($pri.CustomerName, $pri.BranchName, $pri.SchemeName, $pri.MobileNumber)&quot;);\n\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Method 2</strong></p>\n<p>Find the primary record within each group.</p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;group(ID)@&quot; +\n    &quot;.let($pri: elements[CustomerType='PRIMARY'])&quot; +\n    &quot;.field($pri.CustomerName, $pri.BranchName, $pri.SchemeName, $pri.MobileNumber,&quot; +\n    &quot;       elements:, DedupeDetails:elements.map(CustomerType, CustomerName, DedupeFound))&quot;);\n\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Method 3</strong></p>\n<p>Use <code>mergeObjects()</code> instead of <code>let()</code> to do the task.</p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;group(ID)@&quot; +\n    &quot;.mergeObjects(&quot; +\n    &quot;  elements[CustomerType='PRIMARY'].map(ID, CustomerName, BranchName, SchemeName, MobileNumber),&quot; +\n    &quot;  map(DedupeDetails:elements.map(CustomerType, CustomerName, DedupeFound))&quot; +\n    &quot;)&quot;);\n\nSystem.out.println(node.toPrettyString());\n</code></pre>\n"}],"owner":{"account_id":19313733,"reputation":355,"user_id":14118943,"display_name":"Chennai Cheetah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1676659661,"creation_date":1637393393,"question_id":70044037,"body_markdown":"&gt; Blockquote\r\n\r\nI have below JSON Input Request which has to be group by **ID** parameter.\r\n\r\n**Input :**\r\n```\r\n[\r\n    {\r\n        &quot;ID&quot;: &quot;1234&quot;,\r\n        &quot;CustomerName&quot;: &quot;KUMAR&quot;,\r\n        &quot;BranchName&quot;: &quot;HARBOUR&quot;,\r\n        &quot;SchemeName&quot;: &quot;GOLD&quot;,\r\n        &quot;MobileNumber&quot;: &quot;123456789&quot;,\r\n\t\t&quot;CustomerType&quot;: &quot;PRIMARY&quot;,\r\n\t\t&quot;DedupeFound&quot; : &quot;NO&quot;\r\n\t\t\r\n    },\r\n    {\r\n        &quot;ID&quot;: &quot;1234&quot;,\r\n        &quot;CustomerName&quot;: &quot;SEAN&quot;,\r\n        &quot;BranchName&quot;: &quot;HARBOUR&quot;,\r\n        &quot;SchemeName&quot;: &quot;GOLD&quot;,\r\n        &quot;MobileNumber&quot;: &quot;123456789&quot;,\r\n\t\t&quot;CustomerType&quot;: &quot;SECONDARY&quot;,\r\n\t\t&quot;DedupeFound&quot; : &quot;YES&quot;\r\n    },\r\n    {\r\n        &quot;ID&quot;: &quot;5678&quot;,\r\n        &quot;CustomerName&quot;: &quot;MARK&quot;,\r\n        &quot;BranchName&quot;: &quot;CANTONMENT&quot;,\r\n        &quot;SchemeName&quot;: &quot;DIAMOND&quot;,\r\n        &quot;MobileNumber&quot;: &quot;123456789&quot;,\r\n\t\t&quot;CustomerType&quot;: &quot;PRIMARY&quot;,\r\n\t\t&quot;DedupeFound&quot; : &quot;NO&quot;\r\n    },\r\n    {\r\n        &quot;ID&quot;: &quot;5678&quot;,\r\n        &quot;CustomerName&quot;: &quot;STEVE&quot;,\r\n        &quot;BranchName&quot;: &quot;CANTONMENT&quot;,\r\n        &quot;SchemeName&quot;: &quot;DIAMOND&quot;,\r\n        &quot;MobileNumber&quot;: &quot;123456789&quot;,\r\n\t\t&quot;CustomerType&quot;: &quot;SECONDARY&quot;,\r\n\t\t&quot;DedupeFound&quot; : &quot;YES&quot;\r\n    }\r\n]\r\n``` \r\nThe above request needs to be transformed in the below way\r\n\r\n1. First records to be grouped based on ID Tag and only primary ID&#39;s details needs to be displayed\r\n2. Inside the ID Record details . I have an DedupeDetails Array for both the customers.\r\n\r\n**Output**\r\n```\r\n[\r\n\t{\r\n\t\t&quot;ID&quot;: &quot;1234&quot;,\r\n        &quot;CustomerName&quot;: &quot;KUMAR&quot;,           // Only Primary Customer Details for the \r\n        &quot;BranchName&quot;: &quot;HARBOUR&quot;,           //  ID Tag to be displayed here\r\n        &quot;SchemeName&quot;: &quot;GOLD&quot;,\r\n        &quot;MobileNumber&quot;: &quot;123456789&quot;\r\n\t\t&quot;DedupeDetails&quot;: [\r\n\t\t\t{\r\n\t\t\t\t&quot;CustomerType&quot;: &quot;PRIMARY&quot;\r\n\t\t\t\t&quot;CustomerName&quot;: &quot;KUMAR&quot;,\r\n\t\t\t\t&quot;DedupeFound&quot; : &quot;NO&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;CustomerType&quot;: &quot;SECONDARY&quot;\r\n\t\t\t\t&quot;CustomerName&quot;: &quot;SEAN&quot;,\r\n\t\t\t\t&quot;DedupeFound&quot; : &quot;YES&quot;\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\t&quot;ID&quot;: &quot;5678&quot;,\r\n        &quot;CustomerName&quot;: &quot;MARK&quot;,\r\n        &quot;BranchName&quot;: &quot;CANTONMENT&quot;,\r\n        &quot;SchemeName&quot;: &quot;DIAMOND&quot;,\r\n        &quot;MobileNumber&quot;: &quot;123456789&quot;\r\n\t\t&quot;DedupeDetails&quot;: [\r\n\t\t\t{\r\n\t\t\t\t&quot;CustomerType&quot;: &quot;PRIMARY&quot;\r\n\t\t\t\t&quot;CustomerName&quot;: &quot;MARK&quot;,\r\n\t\t\t\t&quot;DedupeFound&quot; : &quot;NO&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;CustomerType&quot;: &quot;SECONDARY&quot;\r\n\t\t\t\t&quot;CustomerName&quot;: &quot;STEVE&quot;,\r\n\t\t\t\t&quot;DedupeFound&quot; : &quot;YES&quot;\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n]\r\n```\r\n\r\nI have started with the java code in apache camel . where I am able to map json string to Object List successfully. I am still clueless on how to do grouping to achieve the output. \r\n\r\nNote : I am a newbie to java . Any Suggestions / Corrections are highly recommended.\r\n\r\n**Java** \r\n```\r\npackage com.mycompany.Login;\r\n\r\nimport java.util.List;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.sql.Timestamp;\r\nimport java.io.File;\r\nimport java.io.PrintWriter;\r\nimport java.sql.Time;\r\nimport com.mycompany.Login.*;\r\nimport org.apache.camel.Exchange;\r\nimport org.apache.camel.Processor;\r\nimport com.fasterxml.jackson.databind.DeserializationFeature;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.mycompany.Dedupe.DedupeRoot.DedupeRes;\r\n\r\n\r\n\r\n\r\npublic class LoginMapping implements Processor{\r\n\tpublic void process(Exchange ex)throws Exception{ \r\n\t\r\n\t\ttry {\t\r\n\t\t\r\n\t\t   \r\n\t\t\tString responseString = {Input mentioned in post};\t\t\t\r\n\t\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\t\tmapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\t\t\t\r\n\t\t\tList&lt;DedupeRes&gt; dedupe = Arrays.asList(mapper.readValue(responseString, DedupeRes[].class));  \r\n\t\t\tint total = dedupe.size();\t\t\t\r\n\t\t\tif (total &gt; 0)\r\n\t\t\t{\t\t\t\t\r\n\t\t\t\tfor (int i = 0; i &lt; total; i++) {\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t}\r\n\t\r\n\t ex.getIn().setBody(responseString);\r\n\t\t}\t\t\r\n\t\tcatch(Exception e) {\r\n\t\t\tex.getIn().setHeader(&quot;ExpMsg&quot;, &quot;Undefined&quot;);\r\n\t\t\tthrow e;\r\n\t\t}\t\r\n\t\r\n}\r\n}\r\n\r\n```\r\n","title":"Grouping by Unique ID for JSON Array","body":"<blockquote>\n<p>Blockquote</p>\n</blockquote>\n<p>I have below JSON Input Request which has to be group by <strong>ID</strong> parameter.</p>\n<p><strong>Input :</strong></p>\n<pre><code>[\n    {\n        &quot;ID&quot;: &quot;1234&quot;,\n        &quot;CustomerName&quot;: &quot;KUMAR&quot;,\n        &quot;BranchName&quot;: &quot;HARBOUR&quot;,\n        &quot;SchemeName&quot;: &quot;GOLD&quot;,\n        &quot;MobileNumber&quot;: &quot;123456789&quot;,\n        &quot;CustomerType&quot;: &quot;PRIMARY&quot;,\n        &quot;DedupeFound&quot; : &quot;NO&quot;\n        \n    },\n    {\n        &quot;ID&quot;: &quot;1234&quot;,\n        &quot;CustomerName&quot;: &quot;SEAN&quot;,\n        &quot;BranchName&quot;: &quot;HARBOUR&quot;,\n        &quot;SchemeName&quot;: &quot;GOLD&quot;,\n        &quot;MobileNumber&quot;: &quot;123456789&quot;,\n        &quot;CustomerType&quot;: &quot;SECONDARY&quot;,\n        &quot;DedupeFound&quot; : &quot;YES&quot;\n    },\n    {\n        &quot;ID&quot;: &quot;5678&quot;,\n        &quot;CustomerName&quot;: &quot;MARK&quot;,\n        &quot;BranchName&quot;: &quot;CANTONMENT&quot;,\n        &quot;SchemeName&quot;: &quot;DIAMOND&quot;,\n        &quot;MobileNumber&quot;: &quot;123456789&quot;,\n        &quot;CustomerType&quot;: &quot;PRIMARY&quot;,\n        &quot;DedupeFound&quot; : &quot;NO&quot;\n    },\n    {\n        &quot;ID&quot;: &quot;5678&quot;,\n        &quot;CustomerName&quot;: &quot;STEVE&quot;,\n        &quot;BranchName&quot;: &quot;CANTONMENT&quot;,\n        &quot;SchemeName&quot;: &quot;DIAMOND&quot;,\n        &quot;MobileNumber&quot;: &quot;123456789&quot;,\n        &quot;CustomerType&quot;: &quot;SECONDARY&quot;,\n        &quot;DedupeFound&quot; : &quot;YES&quot;\n    }\n]\n</code></pre>\n<p>The above request needs to be transformed in the below way</p>\n<ol>\n<li>First records to be grouped based on ID Tag and only primary ID's details needs to be displayed</li>\n<li>Inside the ID Record details . I have an DedupeDetails Array for both the customers.</li>\n</ol>\n<p><strong>Output</strong></p>\n<pre><code>[\n    {\n        &quot;ID&quot;: &quot;1234&quot;,\n        &quot;CustomerName&quot;: &quot;KUMAR&quot;,           // Only Primary Customer Details for the \n        &quot;BranchName&quot;: &quot;HARBOUR&quot;,           //  ID Tag to be displayed here\n        &quot;SchemeName&quot;: &quot;GOLD&quot;,\n        &quot;MobileNumber&quot;: &quot;123456789&quot;\n        &quot;DedupeDetails&quot;: [\n            {\n                &quot;CustomerType&quot;: &quot;PRIMARY&quot;\n                &quot;CustomerName&quot;: &quot;KUMAR&quot;,\n                &quot;DedupeFound&quot; : &quot;NO&quot;\n            },\n            {\n                &quot;CustomerType&quot;: &quot;SECONDARY&quot;\n                &quot;CustomerName&quot;: &quot;SEAN&quot;,\n                &quot;DedupeFound&quot; : &quot;YES&quot;\n            }\n        ]\n    },\n    {\n        &quot;ID&quot;: &quot;5678&quot;,\n        &quot;CustomerName&quot;: &quot;MARK&quot;,\n        &quot;BranchName&quot;: &quot;CANTONMENT&quot;,\n        &quot;SchemeName&quot;: &quot;DIAMOND&quot;,\n        &quot;MobileNumber&quot;: &quot;123456789&quot;\n        &quot;DedupeDetails&quot;: [\n            {\n                &quot;CustomerType&quot;: &quot;PRIMARY&quot;\n                &quot;CustomerName&quot;: &quot;MARK&quot;,\n                &quot;DedupeFound&quot; : &quot;NO&quot;\n            },\n            {\n                &quot;CustomerType&quot;: &quot;SECONDARY&quot;\n                &quot;CustomerName&quot;: &quot;STEVE&quot;,\n                &quot;DedupeFound&quot; : &quot;YES&quot;\n            }\n        ]\n    }\n]\n</code></pre>\n<p>I have started with the java code in apache camel . where I am able to map json string to Object List successfully. I am still clueless on how to do grouping to achieve the output.</p>\n<p>Note : I am a newbie to java . Any Suggestions / Corrections are highly recommended.</p>\n<p><strong>Java</strong></p>\n<pre><code>package com.mycompany.Login;\n\nimport java.util.List;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.sql.Timestamp;\nimport java.io.File;\nimport java.io.PrintWriter;\nimport java.sql.Time;\nimport com.mycompany.Login.*;\nimport org.apache.camel.Exchange;\nimport org.apache.camel.Processor;\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.mycompany.Dedupe.DedupeRoot.DedupeRes;\n\n\n\n\npublic class LoginMapping implements Processor{\n    public void process(Exchange ex)throws Exception{ \n    \n        try {   \n        \n           \n            String responseString = {Input mentioned in post};          \n            ObjectMapper mapper = new ObjectMapper();\n            mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);         \n            List&lt;DedupeRes&gt; dedupe = Arrays.asList(mapper.readValue(responseString, DedupeRes[].class));  \n            int total = dedupe.size();          \n            if (total &gt; 0)\n            {               \n                for (int i = 0; i &lt; total; i++) {                   \n                    \n                }               \n            }\n    \n     ex.getIn().setBody(responseString);\n        }       \n        catch(Exception e) {\n            ex.getIn().setHeader(&quot;ExpMsg&quot;, &quot;Undefined&quot;);\n            throw e;\n        }   \n    \n}\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","unicode","arabic","openpdf"],"answers":[{"tags":[],"owner":{"account_id":27229121,"reputation":451,"user_id":20757134,"display_name":"ayada"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676659513,"creation_date":1676643622,"answer_id":75485445,"question_id":75447605,"body_markdown":"[This example of writing Arabic text to a PDF using OpenPDF](https://github.com/LibrePDF/OpenPDF/blob/bff6520a368fe0a35b443740a36cba108f4ed1a4/pdf-toolbox/src/test/java/com/lowagie/examples/fonts/styles/RightToLeft.java) solves my problem. (_RightToLeft.java_ in the OpenPDF documentation.) \r\n\r\nThe main idea is to create a `BaseFont` that supports Arabic text, as shown on line 51:\r\n\r\n    BaseFont bf = BaseFont.createFont(&quot;c:\\\\windows\\\\fonts\\\\times.ttf&quot;, BaseFont.IDENTITY_H, true);\r\n\r\nYou can replace that **.ttf** file supporting Arabic text with your own file. You put it in the _resources_ folder, and name it like this: _src/main/resources/youTtfFile.ttf_.\r\n\r\nYou also need to specify right to left (RTL) directionality, as shown on line 61:\r\n\r\n    ct.setRunDirection(PdfWriter.RUN_DIRECTION_RTL);\r\n","title":"How to write Arabic text in a PDF using OpenPDF and Java","body":"<p><a href=\"https://github.com/LibrePDF/OpenPDF/blob/bff6520a368fe0a35b443740a36cba108f4ed1a4/pdf-toolbox/src/test/java/com/lowagie/examples/fonts/styles/RightToLeft.java\" rel=\"nofollow noreferrer\">This example of writing Arabic text to a PDF using OpenPDF</a> solves my problem. (<em>RightToLeft.java</em> in the OpenPDF documentation.)</p>\n<p>The main idea is to create a <code>BaseFont</code> that supports Arabic text, as shown on line 51:</p>\n<pre><code>BaseFont bf = BaseFont.createFont(&quot;c:\\\\windows\\\\fonts\\\\times.ttf&quot;, BaseFont.IDENTITY_H, true);\n</code></pre>\n<p>You can replace that <strong>.ttf</strong> file supporting Arabic text with your own file. You put it in the <em>resources</em> folder, and name it like this: <em>src/main/resources/youTtfFile.ttf</em>.</p>\n<p>You also need to specify right to left (RTL) directionality, as shown on line 61:</p>\n<pre><code>ct.setRunDirection(PdfWriter.RUN_DIRECTION_RTL);\n</code></pre>\n"}],"owner":{"account_id":27229121,"reputation":451,"user_id":20757134,"display_name":"ayada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75485445,"answer_count":1,"score":1,"last_activity_date":1676659513,"creation_date":1676376340,"question_id":75447605,"body_markdown":"I use OpenPDF to generate a PDF from a Spring Boot application. Everything works fine when I use French or English alphabets, but when I write in Arabic nothing is displayed.\r\n\r\nI read that I have to use the Unicode form for the Arabic words. For example, the Arabic word **** converted to its Unicode form gives the following string:\r\n\r\n`\\u0627\\u0644\\u0627\\u0633\\u0645`\r\n\r\nSo I am wondering whether there is any way to convert Arabic words to Unicode in Java, and could I use that approach with OpenPDF? Or is there any alternative way to write Arabic in a PDF using OpenPDF and Java 17/Spring Boot? ","title":"How to write Arabic text in a PDF using OpenPDF and Java","body":"<p>I use OpenPDF to generate a PDF from a Spring Boot application. Everything works fine when I use French or English alphabets, but when I write in Arabic nothing is displayed.</p>\n<p>I read that I have to use the Unicode form for the Arabic words. For example, the Arabic word <strong></strong> converted to its Unicode form gives the following string:</p>\n<p><code>\\u0627\\u0644\\u0627\\u0633\\u0645</code></p>\n<p>So I am wondering whether there is any way to convert Arabic words to Unicode in Java, and could I use that approach with OpenPDF? Or is there any alternative way to write Arabic in a PDF using OpenPDF and Java 17/Spring Boot?</p>\n"},{"tags":["java","postgresql","spring-boot","java-17"],"comments":[{"owner":{"account_id":6274682,"reputation":191,"user_id":4877698,"display_name":"agulowaty"},"score":0,"creation_date":1676367598,"post_id":75445893,"comment_id":133118121,"body_markdown":"It seems like you&#39;re trying to reference non-existent &quot;booking_details&quot; table when you ALTER booking to ADD CONSTRAINT. You can move that command after &quot;booking_details&quot; table have been created.","body":"It seems like you&#39;re trying to reference non-existent &quot;booking_details&quot; table when you ALTER booking to ADD CONSTRAINT. You can move that command after &quot;booking_details&quot; table have been created."}],"answers":[{"comments":[{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1676369401,"post_id":75446003,"comment_id":133118684,"body_markdown":"Hi, I am new to relationship mapping, so any insightful correction would highly be appreciated. Basically for this project, my target is to get data from the booking number and booking status in the &quot;BookingEntity&quot; and at the same time the data from the &quot;BookingDetailsEntity&quot; will be shown along side with the aforementioned query. Hence, I tried using the one-to-one relationship approach. Do you think this is okay in this scenario?","body":"Hi, I am new to relationship mapping, so any insightful correction would highly be appreciated. Basically for this project, my target is to get data from the booking number and booking status in the &quot;BookingEntity&quot; and at the same time the data from the &quot;BookingDetailsEntity&quot; will be shown along side with the aforementioned query. Hence, I tried using the one-to-one relationship approach. Do you think this is okay in this scenario?"},{"owner":{"account_id":6274682,"reputation":191,"user_id":4877698,"display_name":"agulowaty"},"score":0,"creation_date":1676459967,"post_id":75446003,"comment_id":133139657,"body_markdown":"Assuming &#39;booking&#39; being the &quot;central&quot; table, you reference to it from the dependent table e.g. &#39;booking_details&#39;, but &#39;booking&#39; table shouldn&#39;t have any relationships to &#39;booking_details&#39;. One-to-one is enforced by the PRIMARY KEY on &#39;booking_details&#39; being  also FOREIGN KEY referencing &#39;booking&#39;. To make the solution future proof, I would consider splitting/denormalising &#39;booking_details&#39; into meaningful tables &#39;delivery&#39;, &#39;recipient&#39; etc.","body":"Assuming &#39;booking&#39; being the &quot;central&quot; table, you reference to it from the dependent table e.g. &#39;booking_details&#39;, but &#39;booking&#39; table shouldn&#39;t have any relationships to &#39;booking_details&#39;. One-to-one is enforced by the PRIMARY KEY on &#39;booking_details&#39; being  also FOREIGN KEY referencing &#39;booking&#39;. To make the solution future proof, I would consider splitting/denormalising &#39;booking_details&#39; into meaningful tables &#39;delivery&#39;, &#39;recipient&#39; etc."}],"tags":[],"owner":{"account_id":6274682,"reputation":191,"user_id":4877698,"display_name":"agulowaty"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676367913,"creation_date":1676367913,"answer_id":75446003,"question_id":75445893,"body_markdown":"Just out of interest - how you&#39;re planning to insert new entries given the schema? In order to create booking you&#39;d need to have booking_details created and vice versa. ","title":"One to one relationship Error on Postgresql","body":"<p>Just out of interest - how you're planning to insert new entries given the schema? In order to create booking you'd need to have booking_details created and vice versa.</p>\n"},{"tags":[],"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676659511,"creation_date":1676659511,"answer_id":75488209,"question_id":75445893,"body_markdown":"Solution: put this command on the last part of the sql so that the two tables must be created first before it can be altered.\r\n\r\n&quot;ALTER TABLE booking ADD CONSTRAINT FK_BOOKING_ON_BOOKING_DETAILS FOREIGN KEY (booking_details_id) REFERENCES booking_details (booking_entity_id);&quot;\r\n\r\n","title":"One to one relationship Error on Postgresql","body":"<p>Solution: put this command on the last part of the sql so that the two tables must be created first before it can be altered.</p>\n<p>&quot;ALTER TABLE booking ADD CONSTRAINT FK_BOOKING_ON_BOOKING_DETAILS FOREIGN KEY (booking_details_id) REFERENCES booking_details (booking_entity_id);&quot;</p>\n"}],"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676659511,"creation_date":1676367352,"question_id":75445893,"body_markdown":"I would like to seek your insights regarding the error I&#39;m encountering with my postgresql commands.\r\n\r\nBasically, what I want to achieve is to create a &quot;booking&quot; entity with one to one relationship to another table called &quot;booking details&quot;. But flyway won&#39;t migrate my schema with the following error:\r\n\r\n\r\n    Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException:\r\n    Migration V0__Initial.sql failed\r\n    --------------------------------\r\n    SQL State  : 42S02\r\n    Error Code : 42102\r\n    Message    : Table &quot;BOOKING_DETAILS&quot; not found; SQL statement:\r\n    ALTER TABLE booking ADD CONSTRAINT FK_BOOKING_ON_BOOKING_DETAILS FOREIGN KEY (booking_details_id) REFERENCES booking_details (booking_entity_id) [42102-214]\r\n    Line       : 16\r\n    Statement  : ALTER TABLE booking ADD CONSTRAINT FK_BOOKING_ON_BOOKING_DETAILS FOREIGN KEY (booking_details_id) REFERENCES booking_details (booking_entity_id)\r\n\r\n\r\nHere is my postgresql commands:\r\n\r\n```\r\nDROP SEQUENCE IF EXISTS booking_transaction_sequence;\r\nDROP TABLE IF EXISTS booking;\r\n\r\nCREATE SEQUENCE  IF NOT EXISTS booking_transaction_sequence START WITH 1000 INCREMENT BY 100;\r\n\r\nCREATE TABLE booking (\r\n  id BIGINT NOT NULL,\r\n   booking_number VARCHAR(255),\r\n   booking_status VARCHAR(255),\r\n   processed_by VARCHAR(255),\r\n   created_at TIMESTAMP WITHOUT TIME ZONE,\r\n   booking_details_id BIGINT,\r\n   CONSTRAINT pk_booking PRIMARY KEY (id)\r\n);\r\n\r\nALTER TABLE booking ADD CONSTRAINT FK_BOOKING_ON_BOOKING_DETAILS FOREIGN KEY (booking_details_id) REFERENCES booking_details (booking_entity_id);\r\n\r\nDROP SEQUENCE IF EXISTS booking_details_transaction_sequence;\r\nDROP TABLE IF EXISTS booking_details;\r\nCREATE SEQUENCE  IF NOT EXISTS booking_details_transaction_sequence START WITH 1000 INCREMENT BY 100;\r\n\r\nCREATE TABLE booking_details (\r\n  booking_entity_id BIGINT NOT NULL,\r\n   sender_name VARCHAR(255),\r\n   item_details VARCHAR(255),\r\n   pickup_address VARCHAR(255),\r\n   rider_name VARCHAR(255),\r\n   delivery_address VARCHAR(255),\r\n   cancellation_reason VARCHAR(255),\r\n   CONSTRAINT pk_booking_details PRIMARY KEY (booking_entity_id)\r\n);\r\n\r\nALTER TABLE booking_details ADD CONSTRAINT FK_BOOKING_DETAILS_ON_BOOKINGENTITY FOREIGN KEY (booking_entity_id) REFERENCES booking (id);\r\n```\r\n\r\nI would highly appreciate any inputs regarding this. Thank you.\r\n\r\nI tried using the &quot;extend&quot; method on my BookingDetails entity to BookingEntity. This run my java springboot application but for some reason I can&#39;t fetch data with internal error 500 in postman. So I change my sql commands with the one-to-one relationship mapping but I got the above errors.","title":"One to one relationship Error on Postgresql","body":"<p>I would like to seek your insights regarding the error I'm encountering with my postgresql commands.</p>\n<p>Basically, what I want to achieve is to create a &quot;booking&quot; entity with one to one relationship to another table called &quot;booking details&quot;. But flyway won't migrate my schema with the following error:</p>\n<pre><code>Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException:\nMigration V0__Initial.sql failed\n--------------------------------\nSQL State  : 42S02\nError Code : 42102\nMessage    : Table &quot;BOOKING_DETAILS&quot; not found; SQL statement:\nALTER TABLE booking ADD CONSTRAINT FK_BOOKING_ON_BOOKING_DETAILS FOREIGN KEY (booking_details_id) REFERENCES booking_details (booking_entity_id) [42102-214]\nLine       : 16\nStatement  : ALTER TABLE booking ADD CONSTRAINT FK_BOOKING_ON_BOOKING_DETAILS FOREIGN KEY (booking_details_id) REFERENCES booking_details (booking_entity_id)\n</code></pre>\n<p>Here is my postgresql commands:</p>\n<pre><code>DROP SEQUENCE IF EXISTS booking_transaction_sequence;\nDROP TABLE IF EXISTS booking;\n\nCREATE SEQUENCE  IF NOT EXISTS booking_transaction_sequence START WITH 1000 INCREMENT BY 100;\n\nCREATE TABLE booking (\n  id BIGINT NOT NULL,\n   booking_number VARCHAR(255),\n   booking_status VARCHAR(255),\n   processed_by VARCHAR(255),\n   created_at TIMESTAMP WITHOUT TIME ZONE,\n   booking_details_id BIGINT,\n   CONSTRAINT pk_booking PRIMARY KEY (id)\n);\n\nALTER TABLE booking ADD CONSTRAINT FK_BOOKING_ON_BOOKING_DETAILS FOREIGN KEY (booking_details_id) REFERENCES booking_details (booking_entity_id);\n\nDROP SEQUENCE IF EXISTS booking_details_transaction_sequence;\nDROP TABLE IF EXISTS booking_details;\nCREATE SEQUENCE  IF NOT EXISTS booking_details_transaction_sequence START WITH 1000 INCREMENT BY 100;\n\nCREATE TABLE booking_details (\n  booking_entity_id BIGINT NOT NULL,\n   sender_name VARCHAR(255),\n   item_details VARCHAR(255),\n   pickup_address VARCHAR(255),\n   rider_name VARCHAR(255),\n   delivery_address VARCHAR(255),\n   cancellation_reason VARCHAR(255),\n   CONSTRAINT pk_booking_details PRIMARY KEY (booking_entity_id)\n);\n\nALTER TABLE booking_details ADD CONSTRAINT FK_BOOKING_DETAILS_ON_BOOKINGENTITY FOREIGN KEY (booking_entity_id) REFERENCES booking (id);\n</code></pre>\n<p>I would highly appreciate any inputs regarding this. Thank you.</p>\n<p>I tried using the &quot;extend&quot; method on my BookingDetails entity to BookingEntity. This run my java springboot application but for some reason I can't fetch data with internal error 500 in postman. So I change my sql commands with the one-to-one relationship mapping but I got the above errors.</p>\n"},{"tags":["java","mongodb","spring-boot","junit5","java-17"],"comments":[{"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"score":0,"creation_date":1676675705,"post_id":75488173,"comment_id":133192358,"body_markdown":"Can you provide the exact code you&#39;re running? Looking at the snippet you posted, it seems it will not even compile.","body":"Can you provide the exact code you&#39;re running? Looking at the snippet you posted, it seems it will not even compile."}],"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676659299,"creation_date":1676659299,"question_id":75488173,"body_markdown":"I am new in unit testing and I am stuck with this error. I wonder if anyone here got an insight as to how I can resolve this issue.\r\n\r\nSo this is a snippet of my unit test.\r\n\r\n```\r\n@Test\r\nvoid shouldFindByStatus() {\r\n    when(repository.findByBookingStatus(anyString(),Sort.by(&quot;id&quot;).descending())).thenReturn(getBookingEntityForFilterByStatus());\r\n    when(mapper.toDomain(any(List&lt;BookingEntity.class))).thenReturn(getBookingFilterResponseDTO());\r\n    \r\n    List&lt;BookingFilterResponseDTO&gt; underTest = adapter.findByBookingStatus(&quot;CANCELLED&quot;);\r\n\r\n    assertNotNull(underTest);\r\n}\r\n```\r\n\r\nThe error I encountered is this part:\r\n\r\n```\r\n(any(List&lt;BookingEntity.class)))\r\n```\r\n\r\nIt says that &quot;List&quot; is an expected expression. Now the problem is if I remove the List, it will throw a different error since I declared it as List on my mapper class.\r\n\r\nThis is my mapper class.\r\n\r\n```\r\nList&lt;BookingFilterResponseDTO&gt; toDomain(List&lt;BookingEntity&gt; bookingEntity);\r\n```\r\n\r\nIf anyone here got an idea as to how I can resolve the said issue. I would highly and sincerely appreciate it. Thanks!","title":"Expression Expected Error encountered in JUnit5 Test","body":"<p>I am new in unit testing and I am stuck with this error. I wonder if anyone here got an insight as to how I can resolve this issue.</p>\n<p>So this is a snippet of my unit test.</p>\n<pre><code>@Test\nvoid shouldFindByStatus() {\n    when(repository.findByBookingStatus(anyString(),Sort.by(&quot;id&quot;).descending())).thenReturn(getBookingEntityForFilterByStatus());\n    when(mapper.toDomain(any(List&lt;BookingEntity.class))).thenReturn(getBookingFilterResponseDTO());\n    \n    List&lt;BookingFilterResponseDTO&gt; underTest = adapter.findByBookingStatus(&quot;CANCELLED&quot;);\n\n    assertNotNull(underTest);\n}\n</code></pre>\n<p>The error I encountered is this part:</p>\n<pre><code>(any(List&lt;BookingEntity.class)))\n</code></pre>\n<p>It says that &quot;List&quot; is an expected expression. Now the problem is if I remove the List, it will throw a different error since I declared it as List on my mapper class.</p>\n<p>This is my mapper class.</p>\n<pre><code>List&lt;BookingFilterResponseDTO&gt; toDomain(List&lt;BookingEntity&gt; bookingEntity);\n</code></pre>\n<p>If anyone here got an idea as to how I can resolve the said issue. I would highly and sincerely appreciate it. Thanks!</p>\n"},{"tags":["java","spring-boot","reactive-programming"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1645575981,"post_id":71228397,"comment_id":125907333,"body_markdown":"Please add your code to the question instead of describing it. Thanks!","body":"Please add your code to the question instead of describing it. Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":3918931,"reputation":620,"user_id":3242022,"display_name":"downvoteit"},"score":0,"creation_date":1676656946,"post_id":72030484,"comment_id":133188229,"body_markdown":"I think you should make use of `filter()`, `mapNotNull()`, `switchIfEmpty()` operators here","body":"I think you should make use of <code>filter()</code>, <code>mapNotNull()</code>, <code>switchIfEmpty()</code> operators here"}],"tags":[],"owner":{"account_id":9729816,"reputation":99,"user_id":7215277,"display_name":"Pankaj Chouhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651069388,"creation_date":1651069388,"answer_id":72030484,"question_id":71228397,"body_markdown":"So here is what I did to accomplish the above ask:\r\n\r\n```\r\nfinal Flux&lt;Document&gt; returnDoc = &lt;Reference of what I received from the Service layer&gt;;\r\n\r\nreturn returnDoc.hasElements()\r\n                .map(isNotEmpty -&gt; {\r\n                    if (isNotEmpty) \r\n                        return ResponseEntity.ok().body(returnDoc);\r\n                    else {\r\n                        return ResponseEntity.noContent().build();\r\n                    }\r\n                });\r\n```\r\n\r\nThis worked for me. Let me know if there is any other solution which is better.","title":"How to use Mono&lt;Boolean&gt; in if else conditional statement?","body":"<p>So here is what I did to accomplish the above ask:</p>\n<pre><code>final Flux&lt;Document&gt; returnDoc = &lt;Reference of what I received from the Service layer&gt;;\n\nreturn returnDoc.hasElements()\n                .map(isNotEmpty -&gt; {\n                    if (isNotEmpty) \n                        return ResponseEntity.ok().body(returnDoc);\n                    else {\n                        return ResponseEntity.noContent().build();\n                    }\n                });\n</code></pre>\n<p>This worked for me. Let me know if there is any other solution which is better.</p>\n"},{"tags":[],"owner":{"account_id":3918931,"reputation":620,"user_id":3242022,"display_name":"downvoteit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676659013,"creation_date":1676659013,"answer_id":75488118,"question_id":71228397,"body_markdown":"The trick with reactive conditionals is to utilize a couple of operators to achieve the `if / else` behaviour.\r\n\r\nSome operators I learnt from using Webflux over the years:\r\n  - `filter()`: filters the stream by some predicate (e.g. `if (2 &gt; 1)`)\r\n  - `map()`: maps the response to some type if `filter()` emits `true`\r\n  - `flatMap()`: maps the response to a `Publisher` (i.e. `Mono/Flux`)\r\n  - `switchIfEmpty()`: emits a default `Publisher` if `filter()` emits `false`\r\n  - `defaultIfEmpty()` emits a default type \r\n\r\nI will share my redisson cache &amp; r2dbc code as an example.\r\n\r\nHere is our scenario in pseudocode:\r\n\r\n```pseudocode\r\nIf a key is found in cache\r\n  return value\r\nElse \r\n  call database\r\n  set key &amp; value pair in cache\r\n  return value\r\n```\r\n\r\nIn either case, the value is wrapped into a `ResponseEntity` distinguished by status and the body.\r\n\r\n```java\r\n@Override\r\npublic Mono&lt;ResponseEntity&lt;Res&lt;UserSettings&gt;&gt;&gt; getUserSetting(String username) {\r\n  Mono&lt;UserSettings&gt; queryAndSet =\r\n      userSettingsRepository\r\n          .findByUsername(username)\r\n          .flatMap(v1 -&gt; cacheRepository.set(&quot;user_settings&quot;, username, v1).thenReturn(v1));\r\n\r\n  return cacheRepository\r\n      .get(&quot;user_settings&quot;, username, new TypeReference&lt;UserSettings&gt;() {}) // if then\r\n      .switchIfEmpty(queryAndSet) // else\r\n      .map(ResponseUtil::success) // if then\r\n      .defaultIfEmpty(singleError(UserMsg.USER_SETTINGS_NOT_FOUND.getCode())) // else\r\n      .map(v1 -&gt; ResponseEntity.status(elseNotFound(v1)).body(v1)); // finally\r\n}      \r\n```\r\n\r\n`CacheRepository` interface specs:\r\n\r\n```java\r\npublic interface CacheRepository {\r\n  Mono&lt;Void&gt; set(String table, String key, Object value);\r\n\r\n  Mono&lt;Void&gt; set(String table, String key, Object value, Long ttl, TimeUnit timeUnit);\r\n\r\n  &lt;T&gt; Mono&lt;T&gt; get(String table, String key, TypeReference&lt;T&gt; type);\r\n\r\n  Mono&lt;Boolean&gt; delete(String table, String key);\r\n}\r\n```\r\n\r\n`ResponseUtil` that helps with `ResponseEntity` wrapper:\r\n\r\n```java\r\npublic class ResponseUtil {\r\n  private ResponseUtil() {}\r\n\r\n  public static &lt;T&gt; Response&lt;T&gt; success(T data) {\r\n    return Response.&lt;T&gt;builder().success(true).data(data).build();\r\n  }\r\n\r\n  public static &lt;T&gt; Response&lt;T&gt; singleError(String error) {\r\n    return Response.&lt;T&gt;builder().success(false).errors(List.of(error)).build();\r\n  }\r\n\r\n  public static &lt;T&gt; Response&lt;T&gt; multipleErrors(List&lt;String&gt; errors) {\r\n    return Response.&lt;T&gt;builder().success(false).errors(errors).build();\r\n  }\r\n\r\n  public static HttpStatus elseBadRequest(Response&lt;?&gt; res) {\r\n    return Boolean.TRUE.equals(res.isSuccess()) ? HttpStatus.OK : HttpStatus.BAD_REQUEST;\r\n  }\r\n\r\n  public static HttpStatus elseNotFound(Response&lt;?&gt; res) {\r\n    return Boolean.TRUE.equals(res.isSuccess()) ? HttpStatus.OK : HttpStatus.NOT_FOUND;\r\n  }\r\n}\r\n```\r\n\r\nAnd the `Response`:\r\n\r\n```java\r\n// Idiotic wrapper\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Response&lt;T&gt; {\r\n  private T data;\r\n  private boolean success;\r\n  private List&lt;String&gt; errors;\r\n}\r\n```","title":"How to use Mono&lt;Boolean&gt; in if else conditional statement?","body":"<p>The trick with reactive conditionals is to utilize a couple of operators to achieve the <code>if / else</code> behaviour.</p>\n<p>Some operators I learnt from using Webflux over the years:</p>\n<ul>\n<li><code>filter()</code>: filters the stream by some predicate (e.g. <code>if (2 &gt; 1)</code>)</li>\n<li><code>map()</code>: maps the response to some type if <code>filter()</code> emits <code>true</code></li>\n<li><code>flatMap()</code>: maps the response to a <code>Publisher</code> (i.e. <code>Mono/Flux</code>)</li>\n<li><code>switchIfEmpty()</code>: emits a default <code>Publisher</code> if <code>filter()</code> emits <code>false</code></li>\n<li><code>defaultIfEmpty()</code> emits a default type</li>\n</ul>\n<p>I will share my redisson cache &amp; r2dbc code as an example.</p>\n<p>Here is our scenario in pseudocode:</p>\n<pre><code>If a key is found in cache\n  return value\nElse \n  call database\n  set key &amp; value pair in cache\n  return value\n</code></pre>\n<p>In either case, the value is wrapped into a <code>ResponseEntity</code> distinguished by status and the body.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Mono&lt;ResponseEntity&lt;Res&lt;UserSettings&gt;&gt;&gt; getUserSetting(String username) {\n  Mono&lt;UserSettings&gt; queryAndSet =\n      userSettingsRepository\n          .findByUsername(username)\n          .flatMap(v1 -&gt; cacheRepository.set(&quot;user_settings&quot;, username, v1).thenReturn(v1));\n\n  return cacheRepository\n      .get(&quot;user_settings&quot;, username, new TypeReference&lt;UserSettings&gt;() {}) // if then\n      .switchIfEmpty(queryAndSet) // else\n      .map(ResponseUtil::success) // if then\n      .defaultIfEmpty(singleError(UserMsg.USER_SETTINGS_NOT_FOUND.getCode())) // else\n      .map(v1 -&gt; ResponseEntity.status(elseNotFound(v1)).body(v1)); // finally\n}      \n</code></pre>\n<p><code>CacheRepository</code> interface specs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CacheRepository {\n  Mono&lt;Void&gt; set(String table, String key, Object value);\n\n  Mono&lt;Void&gt; set(String table, String key, Object value, Long ttl, TimeUnit timeUnit);\n\n  &lt;T&gt; Mono&lt;T&gt; get(String table, String key, TypeReference&lt;T&gt; type);\n\n  Mono&lt;Boolean&gt; delete(String table, String key);\n}\n</code></pre>\n<p><code>ResponseUtil</code> that helps with <code>ResponseEntity</code> wrapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ResponseUtil {\n  private ResponseUtil() {}\n\n  public static &lt;T&gt; Response&lt;T&gt; success(T data) {\n    return Response.&lt;T&gt;builder().success(true).data(data).build();\n  }\n\n  public static &lt;T&gt; Response&lt;T&gt; singleError(String error) {\n    return Response.&lt;T&gt;builder().success(false).errors(List.of(error)).build();\n  }\n\n  public static &lt;T&gt; Response&lt;T&gt; multipleErrors(List&lt;String&gt; errors) {\n    return Response.&lt;T&gt;builder().success(false).errors(errors).build();\n  }\n\n  public static HttpStatus elseBadRequest(Response&lt;?&gt; res) {\n    return Boolean.TRUE.equals(res.isSuccess()) ? HttpStatus.OK : HttpStatus.BAD_REQUEST;\n  }\n\n  public static HttpStatus elseNotFound(Response&lt;?&gt; res) {\n    return Boolean.TRUE.equals(res.isSuccess()) ? HttpStatus.OK : HttpStatus.NOT_FOUND;\n  }\n}\n</code></pre>\n<p>And the <code>Response</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Idiotic wrapper\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Response&lt;T&gt; {\n  private T data;\n  private boolean success;\n  private List&lt;String&gt; errors;\n}\n</code></pre>\n"}],"owner":{"account_id":9729816,"reputation":99,"user_id":7215277,"display_name":"Pankaj Chouhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4684,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72030484,"answer_count":2,"score":2,"last_activity_date":1676659013,"creation_date":1645564566,"question_id":71228397,"body_markdown":"I am using `Flux&lt;Document&gt;` in reactive, so as to make my Rest Service reactive. I am returning `ResponseEntity&lt;Flux&lt;Document&gt;&gt;` as response to my rest service. Right now my service is always returning `HttpStatus.ok()`, but I want to enhance it to return `HttpStatus.noContent()` in case of no content is found. \r\nTo achieve this am trying to check the size of Flux&lt;Document&gt;. I figured out that this can be achieved either by `.count()` or `.hasElements()`. \r\n\r\nIF I consider `.hasElements()` then it returns `Mono&lt;Boolean&gt;`.\r\nI am trying to understand as a newbie that how can I use this in making decisions between `HttpStatus.ok()` and `HttpStatus.noContent()`.\r\n\r\nAlso is this the right way to use conditional statements in reactive or is there any other way to achieve it.\r\n\r\nRequest you to please help.","title":"How to use Mono&lt;Boolean&gt; in if else conditional statement?","body":"<p>I am using <code>Flux&lt;Document&gt;</code> in reactive, so as to make my Rest Service reactive. I am returning <code>ResponseEntity&lt;Flux&lt;Document&gt;&gt;</code> as response to my rest service. Right now my service is always returning <code>HttpStatus.ok()</code>, but I want to enhance it to return <code>HttpStatus.noContent()</code> in case of no content is found.\nTo achieve this am trying to check the size of Flux. I figured out that this can be achieved either by <code>.count()</code> or <code>.hasElements()</code>.</p>\n<p>IF I consider <code>.hasElements()</code> then it returns <code>Mono&lt;Boolean&gt;</code>.\nI am trying to understand as a newbie that how can I use this in making decisions between <code>HttpStatus.ok()</code> and <code>HttpStatus.noContent()</code>.</p>\n<p>Also is this the right way to use conditional statements in reactive or is there any other way to achieve it.</p>\n<p>Request you to please help.</p>\n"},{"tags":["java","maven","microservices","gitlab-ci","maven-module"],"comments":[{"owner":{"account_id":10798342,"reputation":318,"user_id":7943248,"display_name":"Zeuzif"},"score":0,"creation_date":1676650020,"post_id":75486613,"comment_id":133186067,"body_markdown":"can You post the parent module pom and the childs poms","body":"can You post the parent module pom and the childs poms"}],"answers":[{"comments":[{"owner":{"account_id":20972956,"reputation":9,"user_id":15409697,"display_name":"Limbo1111"},"score":0,"creation_date":1676703513,"post_id":75488095,"comment_id":133194848,"body_markdown":"In general, I understand what is the cause of the error, the question is a little different, did I correctly organize the project structure with dependencies in the parent pom for all child projects? Now I understand that no","body":"In general, I understand what is the cause of the error, the question is a little different, did I correctly organize the project structure with dependencies in the parent pom for all child projects? Now I understand that no"},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1676733086,"post_id":75488095,"comment_id":133198521,"body_markdown":"Microservice is more about how you know well your domain and your ability to split your domain very well. It comes with many changes into your organization. For learning purpose, I will suggest you to split your project into different microservices and  learn the basics of microservice from this.","body":"Microservice is more about how you know well your domain and your ability to split your domain very well. It comes with many changes into your organization. For learning purpose, I will suggest you to split your project into different microservices and  learn the basics of microservice from this."}],"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676658867,"creation_date":1676658867,"answer_id":75488095,"question_id":75486613,"body_markdown":"First, try this [link][1] for your error.\r\n\r\nAlso, for your project unless it represents a whole microservice, it is fine. But, it seems like you have implemented many microservices in one project. Every microservice should be an isolated project with its own dependencies and release process.\r\nEach microservice project should be:\r\n\r\n - Independent \r\n - Autonomous\r\n - Easy to deploy individually\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7612309/maven-non-resolvable-parent-pom","title":"Microservice architecture design (spring maven multi-module project) to create a working ci/cd flow","body":"<p>First, try this <a href=\"https://stackoverflow.com/questions/7612309/maven-non-resolvable-parent-pom\">link</a> for your error.</p>\n<p>Also, for your project unless it represents a whole microservice, it is fine. But, it seems like you have implemented many microservices in one project. Every microservice should be an isolated project with its own dependencies and release process.\nEach microservice project should be:</p>\n<ul>\n<li>Independent</li>\n<li>Autonomous</li>\n<li>Easy to deploy individually</li>\n</ul>\n"}],"owner":{"account_id":20972956,"reputation":9,"user_id":15409697,"display_name":"Limbo1111"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676658867,"creation_date":1676649792,"question_id":75486613,"body_markdown":"I&#39;m currently learning `gitlab` *ci/cd* and ran into a problem.\r\nI am a java developer and I have written a multi-module `maven` project with microservice architecture.\r\nAt the root of the project, I have a `BOM` file in which the heir modules are declared and dependencies are declared in the `dependencyManagment` tag so that all microservices use the same versions of `spring-cloud`. Each module has its own repository. Logically, each module has its own database and pom refers to the parent (bom) to import dependency versions.\r\nThe question is that when writing gitlab pipelines, I get an error: Non-resolvable parent `POM` for (module name) ... It is logical that he has nowhere to get dependency versions, etc., but in this case, how to control the versions of the libraries of all modules or can maybe it&#39;s not needed at all?\r\nHelp me come up with a work plan.\r\nAt the moment the diagram looks like this:\r\nroot(bom) -&gt; childModule(pom)\r\n                    alsoRoot -&gt; childModule(pom)","title":"Microservice architecture design (spring maven multi-module project) to create a working ci/cd flow","body":"<p>I'm currently learning <code>gitlab</code> <em>ci/cd</em> and ran into a problem.\nI am a java developer and I have written a multi-module <code>maven</code> project with microservice architecture.\nAt the root of the project, I have a <code>BOM</code> file in which the heir modules are declared and dependencies are declared in the <code>dependencyManagment</code> tag so that all microservices use the same versions of <code>spring-cloud</code>. Each module has its own repository. Logically, each module has its own database and pom refers to the parent (bom) to import dependency versions.\nThe question is that when writing gitlab pipelines, I get an error: Non-resolvable parent <code>POM</code> for (module name) ... It is logical that he has nowhere to get dependency versions, etc., but in this case, how to control the versions of the libraries of all modules or can maybe it's not needed at all?\nHelp me come up with a work plan.\nAt the moment the diagram looks like this:\nroot(bom) -&gt; childModule(pom)\nalsoRoot -&gt; childModule(pom)</p>\n"},{"tags":["java","mysql","ssl"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1676659041,"post_id":75446292,"comment_id":133188791,"body_markdown":"Did you try updating the MySQL JDBC driver and your Java version?","body":"Did you try updating the MySQL JDBC driver and your Java version?"}],"owner":{"account_id":27782164,"reputation":1,"user_id":21210318,"display_name":"Ming"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676658817,"creation_date":1676369380,"question_id":75446292,"body_markdown":"Mysql JDBC driver throws following exceptions with useSSL=true Properties in fips enables ENV.\r\n\r\nThe follwing is code for get connection:\r\n\r\n        Properties props = new Properties();\r\n        props.setProperty(&quot;user&quot;, user_);\r\n        props.setProperty(&quot;password&quot;, password_);\r\n        \r\n        if (dbUurl_.contains(&quot;mysql&quot;)) {\r\n            props.put(&quot;useSSL&quot;, &quot;true&quot;);\r\n            props.put(&quot;verifyServerCertificate&quot;, &quot;false&quot;);\r\n        }\r\n        return DriverManager.getConnection(dbUurl_, props);\r\n\r\nI get the following exception:\r\n```\r\njava.sql.SQLNonTransientConnectionException: Default algorithm definitions for TrustManager and/or KeyManager are invalid.  Check java security properties file.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:70)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:189)\r\n\tat com.hp.usage.db.migration.DBMigrator.getConnection(DBMigrator.java:235)\r\n\tat com.hp.usage.db.migration.DBMigrator.connect(DBMigrator.java:76)\r\n\tat com.hp.usage.db.migration.DBMigratorHandler.doConnect(DBMigratorHandler.java:410)\r\n\tat com.hp.usage.db.migration.DBMigratorHandler.execute(DBMigratorHandler.java:71)\r\n\tat com.hp.usage.console.framework.CommandContextImpl.executeInternal(CommandContextImpl.java:274)\r\n\tat com.hp.usage.console.framework.ApplicationContextImpl.executeBatch(ApplicationContextImpl.java:409)\r\n\tat com.hp.usage.console.framework.ApplicationContextImpl.executeInternal(ApplicationContextImpl.java:310)\r\n\tat com.hp.usage.console.framework.ApplicationContextImpl.executeInteractive(ApplicationContextImpl.java:227)\r\n\tat com.hp.usage.console.spring.Main.executeInteractive(Main.java:96)\r\n\tat com.hp.usage.console.spring.Main.executeCli(Main.java:69)\r\n\tat com.hp.siu.loader.Command.executeCLI(Command.java:159)\r\n\tat com.hp.siu.loader.Command.execute(Command.java:103)\r\n\tat com.hp.siu.loader.CommandLaunch.run(CommandLaunch.java:64)\r\n\tat com.hp.siu.loader.CommandLaunch.run(CommandLaunch.java:102)\r\n\tat com.hp.siu.loader.CommandLaunch.main(CommandLaunch.java:108)\r\nCaused by: com.mysql.cj.exceptions.SSLParamsException: Default algorithm definitions for TrustManager and/or KeyManager are invalid.  Check java security properties file.\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)\r\n\tat com.mysql.cj.protocol.ExportControlled.getSSLContext(ExportControlled.java:546)\r\n\tat com.mysql.cj.protocol.ExportControlled.performTlsHandshake(ExportControlled.java:333)\r\n\tat com.mysql.cj.protocol.StandardSocketFactory.performTlsHandshake(StandardSocketFactory.java:191)\r\n\tat com.mysql.cj.protocol.a.NativeSocketConnection.performTlsHandshake(NativeSocketConnection.java:101)\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.negotiateSSLConnection(NativeProtocol.java:369)\r\n\tat com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:205)\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1433)\r\n\tat com.mysql.cj.NativeSession.connect(NativeSession.java:133)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818)\r\n\t... 20 more\r\n**Caused by: java.security.NoSuchAlgorithmException: SunX509 KeyManagerFactory not available**\r\n\tat java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:159)\r\n\tat java.base/javax.net.ssl.KeyManagerFactory.getInstance(KeyManagerFactory.java:148)\r\n\tat com.mysql.cj.protocol.ExportControlled.getSSLContext(ExportControlled.java:544)\r\n\t... 29 more\r\n```\r\nHow can I fix this exception?","title":"MYSQL JDBC throws ava.sql.SQLNonTransientConnectionException: Default algorithm definitions for TrustManager and/or KeyManager are invalid","body":"<p>Mysql JDBC driver throws following exceptions with useSSL=true Properties in fips enables ENV.</p>\n<p>The follwing is code for get connection:</p>\n<pre><code>    Properties props = new Properties();\n    props.setProperty(&quot;user&quot;, user_);\n    props.setProperty(&quot;password&quot;, password_);\n    \n    if (dbUurl_.contains(&quot;mysql&quot;)) {\n        props.put(&quot;useSSL&quot;, &quot;true&quot;);\n        props.put(&quot;verifyServerCertificate&quot;, &quot;false&quot;);\n    }\n    return DriverManager.getConnection(dbUurl_, props);\n</code></pre>\n<p>I get the following exception:</p>\n<pre><code>java.sql.SQLNonTransientConnectionException: Default algorithm definitions for TrustManager and/or KeyManager are invalid.  Check java security properties file.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:70)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828)\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448)\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:189)\n    at com.hp.usage.db.migration.DBMigrator.getConnection(DBMigrator.java:235)\n    at com.hp.usage.db.migration.DBMigrator.connect(DBMigrator.java:76)\n    at com.hp.usage.db.migration.DBMigratorHandler.doConnect(DBMigratorHandler.java:410)\n    at com.hp.usage.db.migration.DBMigratorHandler.execute(DBMigratorHandler.java:71)\n    at com.hp.usage.console.framework.CommandContextImpl.executeInternal(CommandContextImpl.java:274)\n    at com.hp.usage.console.framework.ApplicationContextImpl.executeBatch(ApplicationContextImpl.java:409)\n    at com.hp.usage.console.framework.ApplicationContextImpl.executeInternal(ApplicationContextImpl.java:310)\n    at com.hp.usage.console.framework.ApplicationContextImpl.executeInteractive(ApplicationContextImpl.java:227)\n    at com.hp.usage.console.spring.Main.executeInteractive(Main.java:96)\n    at com.hp.usage.console.spring.Main.executeCli(Main.java:69)\n    at com.hp.siu.loader.Command.executeCLI(Command.java:159)\n    at com.hp.siu.loader.Command.execute(Command.java:103)\n    at com.hp.siu.loader.CommandLaunch.run(CommandLaunch.java:64)\n    at com.hp.siu.loader.CommandLaunch.run(CommandLaunch.java:102)\n    at com.hp.siu.loader.CommandLaunch.main(CommandLaunch.java:108)\nCaused by: com.mysql.cj.exceptions.SSLParamsException: Default algorithm definitions for TrustManager and/or KeyManager are invalid.  Check java security properties file.\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)\n    at com.mysql.cj.protocol.ExportControlled.getSSLContext(ExportControlled.java:546)\n    at com.mysql.cj.protocol.ExportControlled.performTlsHandshake(ExportControlled.java:333)\n    at com.mysql.cj.protocol.StandardSocketFactory.performTlsHandshake(StandardSocketFactory.java:191)\n    at com.mysql.cj.protocol.a.NativeSocketConnection.performTlsHandshake(NativeSocketConnection.java:101)\n    at com.mysql.cj.protocol.a.NativeProtocol.negotiateSSLConnection(NativeProtocol.java:369)\n    at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:205)\n    at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1433)\n    at com.mysql.cj.NativeSession.connect(NativeSession.java:133)\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818)\n    ... 20 more\n**Caused by: java.security.NoSuchAlgorithmException: SunX509 KeyManagerFactory not available**\n    at java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:159)\n    at java.base/javax.net.ssl.KeyManagerFactory.getInstance(KeyManagerFactory.java:148)\n    at com.mysql.cj.protocol.ExportControlled.getSSLContext(ExportControlled.java:544)\n    ... 29 more\n</code></pre>\n<p>How can I fix this exception?</p>\n"},{"tags":["java","android","firebase","android-gradle-plugin","firebase-performance"],"comments":[{"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"score":1,"creation_date":1511132961,"post_id":47380524,"comment_id":81718728,"body_markdown":"There is a post-compilation phase when using Firebase Performance on Android.  It has to look at all of your app&#39;s class files.  This is normal.","body":"There is a post-compilation phase when using Firebase Performance on Android.  It has to look at all of your app&#39;s class files.  This is normal."},{"owner":{"account_id":460737,"reputation":640,"user_id":862024,"accept_rate":67,"display_name":"Martin Rajniak"},"score":0,"creation_date":1524060172,"post_id":47380524,"comment_id":86818837,"body_markdown":"@DougStevenson is it possible to not do this and use no-op variant in some builds? e.g. debug build used during development?","body":"@DougStevenson is it possible to not do this and use no-op variant in some builds? e.g. debug build used during development?"}],"answers":[{"comments":[{"owner":{"account_id":8536561,"reputation":633,"user_id":6398145,"display_name":"Ian White"},"score":1,"creation_date":1514392124,"post_id":47994657,"comment_id":82959019,"body_markdown":"Thank you this worked perfectly. I also am getting a 41% decrease in build times using this fix.","body":"Thank you this worked perfectly. I also am getting a 41% decrease in build times using this fix."},{"owner":{"account_id":5127510,"reputation":576,"user_id":4108976,"display_name":"Doni"},"score":0,"creation_date":1527136088,"post_id":47994657,"comment_id":88014437,"body_markdown":"do you think we can use build flavor as the flag ? e.g.  if (!BuildConfig.Debug)  then enable perf monitor ? - thanks","body":"do you think we can use build flavor as the flag ? e.g.  if (!BuildConfig.Debug)  then enable perf monitor ? - thanks"},{"owner":{"account_id":2345743,"reputation":966,"user_id":2056054,"display_name":"Ivan Kravchenko"},"score":0,"creation_date":1527441027,"post_id":47994657,"comment_id":88119867,"body_markdown":"no, this switch either loads plugin or completely removes it from the classpath.","body":"no, this switch either loads plugin or completely removes it from the classpath."},{"owner":{"account_id":315087,"reputation":33526,"user_id":630668,"accept_rate":96,"display_name":"Dharmendra"},"score":0,"creation_date":1531910232,"post_id":47994657,"comment_id":89770408,"body_markdown":"For me it breaks the UI tests, I&#39;m getting error while running UI tests &quot;No tests were found error, Empty Test Suite&quot;","body":"For me it breaks the UI tests, I&#39;m getting error while running UI tests &quot;No tests were found error, Empty Test Suite&quot;"},{"owner":{"account_id":4371874,"reputation":634,"user_id":3566013,"display_name":"qwertyfinger"},"score":0,"creation_date":1542085827,"post_id":47994657,"comment_id":93430985,"body_markdown":"I think excluding Guava is not needed for v1.1.1 or later as [stated in the docs](https://firebase.google.com/docs/perf-mon/get-started-android#known_issues).\nAlso, it&#39;s not necessary to add conditional statement to classpath declaration.\nIf you don&#39;t apply plugin, it won&#39;t be used in any way by Gradle.","body":"I think excluding Guava is not needed for v1.1.1 or later as <a href=\"https://firebase.google.com/docs/perf-mon/get-started-android#known_issues\" rel=\"nofollow noreferrer\">stated in the docs</a>. Also, it&#39;s not necessary to add conditional statement to classpath declaration. If you don&#39;t apply plugin, it won&#39;t be used in any way by Gradle."},{"owner":{"account_id":2651608,"reputation":623,"user_id":2293120,"accept_rate":75,"display_name":"Vladimir"},"score":0,"creation_date":1585657642,"post_id":47994657,"comment_id":107832964,"body_markdown":"Please see the answer bellow: https://stackoverflow.com/a/56995410/2293120\nThe Firebase team has added a gradle switch, so we don&#39;t need to do the setup above anymore.","body":"Please see the answer bellow: <a href=\"https://stackoverflow.com/a/56995410/2293120\">stackoverflow.com/a/56995410/2293120</a> The Firebase team has added a gradle switch, so we don&#39;t need to do the setup above anymore."}],"tags":[],"owner":{"account_id":2345743,"reputation":966,"user_id":2056054,"display_name":"Ivan Kravchenko"},"comment_count":6,"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1571650169,"creation_date":1514388368,"answer_id":47994657,"question_id":47380524,"body_markdown":"Firebase in our project caused 40% build time increase. To speed up debug builds we added a possibility to switch it on/off using build parameters in app/build.gradle and root build.gradle files:\r\n\r\napp:\r\n\r\n    if (!project.hasProperty(&quot;disable-performance-plugin&quot;))  {\r\n        apply plugin: &#39;com.google.firebase.firebase-perf&#39; \r\n    }\r\n\r\nroot/buildscript/dependencies:\r\n\r\n    if (!project.hasProperty(&quot;disable-performance-plugin&quot;)) {\r\n        classpath(&#39;com.google.firebase:firebase-plugins:1.1.5&#39;) {\r\n            exclude group: &#39;com.google.guava&#39;, module: &#39;guava-jdk5&#39;\r\n        }\r\n    }\r\n\r\n\r\nwhen running from the command line use\r\n\r\n    ./gradlew your-task  -Pdisable-performance-plugin\r\n\r\nwhen working from Android Studio, add the flag to compiler options:\r\n\r\n[![Android Studio compiler options][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lH3w2.png","title":"Firebase Performance Plugin causing slow build time","body":"<p>Firebase in our project caused 40% build time increase. To speed up debug builds we added a possibility to switch it on/off using build parameters in app/build.gradle and root build.gradle files:</p>\n\n<p>app:</p>\n\n<pre><code>if (!project.hasProperty(\"disable-performance-plugin\"))  {\n    apply plugin: 'com.google.firebase.firebase-perf' \n}\n</code></pre>\n\n<p>root/buildscript/dependencies:</p>\n\n<pre><code>if (!project.hasProperty(\"disable-performance-plugin\")) {\n    classpath('com.google.firebase:firebase-plugins:1.1.5') {\n        exclude group: 'com.google.guava', module: 'guava-jdk5'\n    }\n}\n</code></pre>\n\n<p>when running from the command line use</p>\n\n<pre><code>./gradlew your-task  -Pdisable-performance-plugin\n</code></pre>\n\n<p>when working from Android Studio, add the flag to compiler options:</p>\n\n<p><a href=\"https://i.stack.imgur.com/lH3w2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lH3w2.png\" alt=\"Android Studio compiler options\"></a></p>\n"},{"comments":[{"owner":{"account_id":4371874,"reputation":634,"user_id":3566013,"display_name":"qwertyfinger"},"score":2,"creation_date":1542085754,"post_id":51208713,"comment_id":93430964,"body_markdown":"I think excluding Guava is not needed for v1.1.1 or later as [stated in the docs](https://firebase.google.com/docs/perf-mon/get-started-android#known_issues).\nAlso, it&#39;s not necessary to add conditional statement to classpath declaration.\nIf you don&#39;t apply plugin, it won&#39;t be used in any way by Gradle.","body":"I think excluding Guava is not needed for v1.1.1 or later as <a href=\"https://firebase.google.com/docs/perf-mon/get-started-android#known_issues\" rel=\"nofollow noreferrer\">stated in the docs</a>. Also, it&#39;s not necessary to add conditional statement to classpath declaration. If you don&#39;t apply plugin, it won&#39;t be used in any way by Gradle."}],"tags":[],"owner":{"account_id":8696509,"reputation":20080,"user_id":6507689,"accept_rate":86,"display_name":"R. Zag&#243;rski"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1530880967,"creation_date":1530874035,"answer_id":51208713,"question_id":47380524,"body_markdown":"Just to give another option to disable `transformClassesWithFirebasePerformancePluginForDebug`, here&#39;s my recipe:\r\n\r\nIn main build.gradle folder:\r\n\r\n    if (!project.gradle.startParameter.taskNames.any { taskName -&gt;\r\n         taskName.toLowerCase().contains(&#39;assemble&#39;) &amp;&amp; taskName.toLowerCase().contains(&#39;debug&#39;) }) {\r\n         classpath(&quot;com.google.firebase:firebase-plugins:$firebasePluginVersion&quot;) {\r\n             exclude group: &#39;com.google.guava&#39;, module: &#39;guava-jdk5&#39;\r\n         }\r\n    }\r\n\r\n\r\nIn the build.gradle app file:\r\n\r\n    if (!project.gradle.startParameter.taskNames.any { taskName -&gt;\r\n        taskName.toLowerCase().contains(&#39;assemble&#39;) &amp;&amp; taskName.toLowerCase().contains(&#39;debug&#39;) }) {\r\n        apply plugin: &#39;com.google.firebase.firebase-perf&#39;\r\n    }\r\n\r\n","title":"Firebase Performance Plugin causing slow build time","body":"<p>Just to give another option to disable <code>transformClassesWithFirebasePerformancePluginForDebug</code>, here's my recipe:</p>\n\n<p>In main build.gradle folder:</p>\n\n<pre><code>if (!project.gradle.startParameter.taskNames.any { taskName -&gt;\n     taskName.toLowerCase().contains('assemble') &amp;&amp; taskName.toLowerCase().contains('debug') }) {\n     classpath(\"com.google.firebase:firebase-plugins:$firebasePluginVersion\") {\n         exclude group: 'com.google.guava', module: 'guava-jdk5'\n     }\n}\n</code></pre>\n\n<p>In the build.gradle app file:</p>\n\n<pre><code>if (!project.gradle.startParameter.taskNames.any { taskName -&gt;\n    taskName.toLowerCase().contains('assemble') &amp;&amp; taskName.toLowerCase().contains('debug') }) {\n    apply plugin: 'com.google.firebase.firebase-perf'\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4371874,"reputation":634,"user_id":3566013,"display_name":"qwertyfinger"},"score":4,"creation_date":1541985931,"post_id":52822876,"comment_id":93394363,"body_markdown":"This is a nice alternative. However, builds with `firebasePerformanceInstrumentationEnabled=false` property are still 5-15 seconds slower than the ones with disabled firebase-perf plugin.","body":"This is a nice alternative. However, builds with <code>firebasePerformanceInstrumentationEnabled=false</code> property are still 5-15 seconds slower than the ones with disabled firebase-perf plugin."},{"owner":{"account_id":1001770,"reputation":10254,"user_id":1016462,"accept_rate":62,"display_name":"tasomaniac"},"score":0,"creation_date":1560244810,"post_id":52822876,"comment_id":99662547,"body_markdown":"5-15 seconds is really too much. On debug builds a Gradle plugin should take milliseconds at most. It should be no-op configuration. If not, it is just a bad plugin. I use a similar flag to only enable it in our CI and works like a charm.","body":"5-15 seconds is really too much. On debug builds a Gradle plugin should take milliseconds at most. It should be no-op configuration. If not, it is just a bad plugin. I use a similar flag to only enable it in our CI and works like a charm."},{"owner":{"account_id":10992503,"reputation":61,"user_id":8075929,"display_name":"Inirit"},"score":0,"creation_date":1560802306,"post_id":52822876,"comment_id":99847462,"body_markdown":"@tasomaniac I agree, I don&#39;t like it either. This was just my attempt to alleviate the problem in the most &quot;supported&quot; way (at least from what I could find at the time), i.e. not conditionally applying the plugin while still significantly reducing Debug build times.","body":"@tasomaniac I agree, I don&#39;t like it either. This was just my attempt to alleviate the problem in the most &quot;supported&quot; way (at least from what I could find at the time), i.e. not conditionally applying the plugin while still significantly reducing Debug build times."}],"tags":[],"owner":{"account_id":10992503,"reputation":61,"user_id":8075929,"display_name":"Inirit"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1539628747,"creation_date":1539628747,"answer_id":52822876,"question_id":47380524,"body_markdown":"I ran into this problem as well. Originally we had been using a variant of the answer provided by R. Zag&#243;rski, but based on a [similar thread](https://discuss.gradle.org/t/how-to-apply-plugin-based-on-build-type-android/15265/2?u=jffiorillo) from the Gradle forums it seems like conditionally applying a plugin to a project isn&#39;t the right way to go:\r\n\r\n&gt; Plugins cant be applied to only part of your project. They are either applied or not.\r\n\r\nConditionally applying plugins does seem to work if you can do it right, but it&#39;s not an officially supported feature. Further down the same thread, another point is made:\r\n\r\n&gt; But the plugin should allow you to configure it at a finer grained level.\r\n\r\nSure enough, there actually is a property exposed by the Firebase plugin that lets you toggle instrumentation on or off (therefore toggling the increased build time). Using this property is tricky, though, since you have to apply it at exactly the right time during the building process, but once you&#39;ve got that then you can essentially pivot it on whatever you want.\r\n\r\nThe following code snippet is how we&#39;re pivoting instrumentation based on Debug vs. Non-Debug build variants. It&#39;s written in Kotlin, but I imagine it would translate to Groovy just as well:\r\n\r\n\r\n    plugins {\r\n        ...\r\n    \tid (&quot;com.google.firebase.firebase-perf&quot;)\r\n    }\r\n    \r\n    ...\r\n    \r\n    android {\r\n        ...\r\n\r\n        applicationVariants.all {\r\n\t\t    val variant = this\r\n\t\t    val isFirebaseEnabled = !variant.javaCompiler.name.contains(&quot;Debug&quot;, true)\r\n\r\n    \t\tgradle.taskGraph.whenReady {\r\n\t    \t\tif (this.hasTask(variant.javaCompiler))\r\n\t\t    \t{\r\n    \t\t\t\tproject.FirebasePerformance.isInstrumentationEnabled = isFirebaseEnabled\r\n\t    \t\t}\r\n\t    \t}\r\n\t    }\r\n\r\n        ...\r\n    }\r\n\r\nNote that with this in place, the `transformClassesWithFirebasePerformancePluginFor*` task will still always run for every build variant, but it will complete almost immediately for a variant that doesn&#39;t have instrumentation enabled.","title":"Firebase Performance Plugin causing slow build time","body":"<p>I ran into this problem as well. Originally we had been using a variant of the answer provided by R. Zagrski, but based on a <a href=\"https://discuss.gradle.org/t/how-to-apply-plugin-based-on-build-type-android/15265/2?u=jffiorillo\" rel=\"noreferrer\">similar thread</a> from the Gradle forums it seems like conditionally applying a plugin to a project isn't the right way to go:</p>\n\n<blockquote>\n  <p>Plugins cant be applied to only part of your project. They are either applied or not.</p>\n</blockquote>\n\n<p>Conditionally applying plugins does seem to work if you can do it right, but it's not an officially supported feature. Further down the same thread, another point is made:</p>\n\n<blockquote>\n  <p>But the plugin should allow you to configure it at a finer grained level.</p>\n</blockquote>\n\n<p>Sure enough, there actually is a property exposed by the Firebase plugin that lets you toggle instrumentation on or off (therefore toggling the increased build time). Using this property is tricky, though, since you have to apply it at exactly the right time during the building process, but once you've got that then you can essentially pivot it on whatever you want.</p>\n\n<p>The following code snippet is how we're pivoting instrumentation based on Debug vs. Non-Debug build variants. It's written in Kotlin, but I imagine it would translate to Groovy just as well:</p>\n\n<pre><code>plugins {\n    ...\n    id (\"com.google.firebase.firebase-perf\")\n}\n\n...\n\nandroid {\n    ...\n\n    applicationVariants.all {\n        val variant = this\n        val isFirebaseEnabled = !variant.javaCompiler.name.contains(\"Debug\", true)\n\n        gradle.taskGraph.whenReady {\n            if (this.hasTask(variant.javaCompiler))\n            {\n                project.FirebasePerformance.isInstrumentationEnabled = isFirebaseEnabled\n            }\n        }\n    }\n\n    ...\n}\n</code></pre>\n\n<p>Note that with this in place, the <code>transformClassesWithFirebasePerformancePluginFor*</code> task will still always run for every build variant, but it will complete almost immediately for a variant that doesn't have instrumentation enabled.</p>\n"},{"comments":[{"owner":{"account_id":1796123,"reputation":3966,"user_id":1635488,"accept_rate":40,"display_name":"android_dev"},"score":0,"creation_date":1553838776,"post_id":53270530,"comment_id":97542171,"body_markdown":"Thanks for the complete guide! I have a little bit simplified option 2. Take a look here https://stackoverflow.com/a/55411240/1635488","body":"Thanks for the complete guide! I have a little bit simplified option 2. Take a look here <a href=\"https://stackoverflow.com/a/55411240/1635488\">stackoverflow.com/a/55411240/1635488</a>"}],"tags":[],"owner":{"account_id":4371874,"reputation":634,"user_id":3566013,"display_name":"qwertyfinger"},"comment_count":1,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1553775001,"creation_date":1542058998,"answer_id":53270530,"question_id":47380524,"body_markdown":"All of the existing answers are valid, but they all miss something.\r\n\r\nTo deal with this issue, you have 2 major options to choose from.\r\n\r\n&lt;h3&gt;1.  Use &lt;code&gt;firebasePerformanceInstrumentationEnabled&lt;/code&gt; property&lt;/h3&gt;\r\n\r\nThis is [the official way provided by the SDK][1] itself to disable it during the build process.\r\n\r\n**What this does:**\r\n\r\n- Reduces `transformClassesWithFirebasePerformancePluginFor*` task execution time to **~5-10s**.\r\n- Disables **automatic** traces and request monitoring, but leaves **custom** traces enabled. You can control the latter with AndroidManifest `&lt;meta-data&gt;` tags and calls to `FirebasePerformance.getInstance().setPerformanceCollectionEnabled()`. More info in [the docs][2].\r\n\r\n**How to do this:**\r\n\r\nI think it&#39;s much easier to **only enable** plugin in those rare cases **when we need it** (usually it will be only when we publish the app) rather than disable it in all other cases. \r\n \r\n*Note: Of course, with manual builds you **might forget** to enable it. So if you don&#39;t have CI, it might be worth adding some other automatic scripting in Gradle, or sticking to the opposite approach that is used in other answers.*\r\n\r\nIn general though, we only need two steps:\r\n\r\n 1. Add the following line to `gradle.properties` file:  \r\n\r\n        firebasePerformanceInstrumentationEnabled=false\r\n\r\n 2. Use the following command in your CI config or manual builds:\r\n\r\n    &gt; ./gradlew assembleRelease -PfirebasePerformanceInstrumentationEnabled=true\r\n\r\n**Pros:**\r\n\r\n- Only one property to set up.\r\n\r\n**Cons:**\r\n\r\n- Plugin still adds additional ~5-15s to the build time.\r\n\r\n&lt;h3&gt;2. Use custom Gradle project property to avoid applying &lt;code&gt;firebase-perf&lt;/code&gt; Gradle plugin&lt;/h3&gt;\r\n\r\n**What this does:**\r\n\r\n- transformClassesWithFirebasePerformancePluginFor* task is **not executed at all**. Also we save some additional ~510s overhead that is present when using the first solution.\r\n- Same as the first method  disables **automatic** traces and request monitoring, but leaves **custom** traces enabled. You can control the latter with AndroidManifest `&lt;meta-data&gt;` tags and calls to `FirebasePerformance.getInstance().setPerformanceCollectionEnabled()`. More info in [the docs][2].\r\n\r\n**How to do this:**\r\n\r\nThis approach has similar points and warnings, and also includes two steps:\r\n\r\n 1. Modify your app module&#39;s `build.gradle` file:\r\n\r\n        if (project.hasProperty(&#39;useFirebasePerf&#39;)) {\r\n          apply plugin: &#39;com.google.firebase.firebase-perf&#39;\r\n        }\r\n    ***Note:*** you **don&#39;t need** to apply the same check to your project-level `build.gradle`:\r\n\r\n        classpath &quot;com.google.firebase:firebase-plugins:$firebase_plugins_version&quot;\r\n    This declaration won&#39;t be used in any way by Gradle when the plugin itself is not enabled.\r\n\r\n    And you **don&#39;t need** to exclude `guava-jdk5` dependency there, if you&#39;re using firebase-plugins v1.1.1 or later as [stated in the docs][3].\r\n 2. Use the following command in your CI config or manual builds:\r\n\r\n    &gt; ./gradlew assembleRelease -PuseFirebasePerf\r\n\r\n**Pros:**\r\n\r\n- **Completely** eliminates time expenses associated with Firebase Performance Gradle plugin.\r\n\r\n**Cons:**\r\n\r\n- Introduces conditional check for applying plugin in your Gradle script, [some might argue][4] that it&#39;s not an idiomatic approach.\r\n\r\n&lt;h3&gt;* (Bonus option) Use custom Gradle project property to exclude &lt;code&gt;firebase-perf&lt;/code&gt; SDK&lt;/h3&gt;\r\n\r\nIf you don&#39;t use custom traces or any other features from Firebase Performance SDK and only rely on automatic monitoring (that is, you don&#39;t have any dependencies on SDK in your code), then you can exclude this dependency for non-production builds.\r\n\r\n**How to do this:**\r\n\r\nAll you need to do is update your app module&#39;s `build.gradle` file:\r\n\r\n- If you chose to use the first option, then change your dependency like this:\r\n\r\n        if (project.property(&#39;firebasePerformanceInstrumentationEnabled&#39;) == &#39;true&#39;) {\r\n          implementation &quot;com.google.firebase:firebase-perf:${firebase_perf_version}&quot;\r\n        }\r\n\r\n- If you chose the second one:\r\n\r\n        if (project.hasProperty(&#39;useFirebasePerf&#39;)) {\r\n          implementation &quot;com.google.firebase:firebase-perf:${firebase_perf_version}&quot;\r\n        }\r\n\r\n**Advantage:**\r\n\r\n - This might save you some additional **~5-10s**, spent on configuring dependency and \r\n&quot;ProGuarding&quot; it.\r\n\r\n**Drawbacks:**\r\n\r\n- Your production APK size will be larger than debug one by ~0.5mb. This might disrupt your reports or predictions, so you need to be aware of it.\r\n- If you were close to surpassing 64K method count limit, you might suddenly step over it on production builds and find yourself in the MultiDex zone. And that means extra work to do and tests to run. All because Firebase Performance brings a formidable number of almost 5K method references (after applying ProGuard with optimizations). \r\n\r\nYou can also check out [my article][5] where I expand a bit more on this topic.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/perf-mon/disable-sdk#android\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/perf/FirebasePerformance.html#setPerformanceCollectionEnabled(boolean)\r\n  [3]: https://firebase.google.com/docs/perf-mon/get-started-android#known_issues\r\n  [4]: https://stackoverflow.com/a/52822876/3566013\r\n  [5]: https://proandroiddev.com/hidden-costs-of-firebase-performance-and-how-to-avoid-them-a54f96bafcb1","title":"Firebase Performance Plugin causing slow build time","body":"<p>All of the existing answers are valid, but they all miss something.</p>\n\n<p>To deal with this issue, you have 2 major options to choose from.</p>\n\n<h3>1.  Use <code>firebasePerformanceInstrumentationEnabled</code> property</h3>\n\n<p>This is <a href=\"https://firebase.google.com/docs/perf-mon/disable-sdk#android\" rel=\"noreferrer\">the official way provided by the SDK</a> itself to disable it during the build process.</p>\n\n<p><strong>What this does:</strong></p>\n\n<ul>\n<li>Reduces <code>transformClassesWithFirebasePerformancePluginFor*</code> task execution time to <strong>~5-10s</strong>.</li>\n<li>Disables <strong>automatic</strong> traces and request monitoring, but leaves <strong>custom</strong> traces enabled. You can control the latter with AndroidManifest <code>&lt;meta-data&gt;</code> tags and calls to <code>FirebasePerformance.getInstance().setPerformanceCollectionEnabled()</code>. More info in <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/perf/FirebasePerformance.html#setPerformanceCollectionEnabled(boolean)\" rel=\"noreferrer\">the docs</a>.</li>\n</ul>\n\n<p><strong>How to do this:</strong></p>\n\n<p>I think it's much easier to <strong>only enable</strong> plugin in those rare cases <strong>when we need it</strong> (usually it will be only when we publish the app) rather than disable it in all other cases. </p>\n\n<p><em>Note: Of course, with manual builds you <strong>might forget</strong> to enable it. So if you don't have CI, it might be worth adding some other automatic scripting in Gradle, or sticking to the opposite approach that is used in other answers.</em></p>\n\n<p>In general though, we only need two steps:</p>\n\n<ol>\n<li><p>Add the following line to <code>gradle.properties</code> file:  </p>\n\n<pre><code>firebasePerformanceInstrumentationEnabled=false\n</code></pre></li>\n<li><p>Use the following command in your CI config or manual builds:</p>\n\n<blockquote>\n  <p>./gradlew assembleRelease -PfirebasePerformanceInstrumentationEnabled=true</p>\n</blockquote></li>\n</ol>\n\n<p><strong>Pros:</strong></p>\n\n<ul>\n<li>Only one property to set up.</li>\n</ul>\n\n<p><strong>Cons:</strong></p>\n\n<ul>\n<li>Plugin still adds additional ~5-15s to the build time.</li>\n</ul>\n\n<h3>2. Use custom Gradle project property to avoid applying <code>firebase-perf</code> Gradle plugin</h3>\n\n<p><strong>What this does:</strong></p>\n\n<ul>\n<li>transformClassesWithFirebasePerformancePluginFor* task is <strong>not executed at all</strong>. Also we save some additional ~510s overhead that is present when using the first solution.</li>\n<li>Same as the first method  disables <strong>automatic</strong> traces and request monitoring, but leaves <strong>custom</strong> traces enabled. You can control the latter with AndroidManifest <code>&lt;meta-data&gt;</code> tags and calls to <code>FirebasePerformance.getInstance().setPerformanceCollectionEnabled()</code>. More info in <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/perf/FirebasePerformance.html#setPerformanceCollectionEnabled(boolean)\" rel=\"noreferrer\">the docs</a>.</li>\n</ul>\n\n<p><strong>How to do this:</strong></p>\n\n<p>This approach has similar points and warnings, and also includes two steps:</p>\n\n<ol>\n<li><p>Modify your app module's <code>build.gradle</code> file:</p>\n\n<pre><code>if (project.hasProperty('useFirebasePerf')) {\n  apply plugin: 'com.google.firebase.firebase-perf'\n}\n</code></pre>\n\n<p><strong><em>Note:</em></strong> you <strong>don't need</strong> to apply the same check to your project-level <code>build.gradle</code>:</p>\n\n<pre><code>classpath \"com.google.firebase:firebase-plugins:$firebase_plugins_version\"\n</code></pre>\n\n<p>This declaration won't be used in any way by Gradle when the plugin itself is not enabled.</p>\n\n<p>And you <strong>don't need</strong> to exclude <code>guava-jdk5</code> dependency there, if you're using firebase-plugins v1.1.1 or later as <a href=\"https://firebase.google.com/docs/perf-mon/get-started-android#known_issues\" rel=\"noreferrer\">stated in the docs</a>.</p></li>\n<li><p>Use the following command in your CI config or manual builds:</p>\n\n<blockquote>\n  <p>./gradlew assembleRelease -PuseFirebasePerf</p>\n</blockquote></li>\n</ol>\n\n<p><strong>Pros:</strong></p>\n\n<ul>\n<li><strong>Completely</strong> eliminates time expenses associated with Firebase Performance Gradle plugin.</li>\n</ul>\n\n<p><strong>Cons:</strong></p>\n\n<ul>\n<li>Introduces conditional check for applying plugin in your Gradle script, <a href=\"https://stackoverflow.com/a/52822876/3566013\">some might argue</a> that it's not an idiomatic approach.</li>\n</ul>\n\n<h3>* (Bonus option) Use custom Gradle project property to exclude <code>firebase-perf</code> SDK</h3>\n\n<p>If you don't use custom traces or any other features from Firebase Performance SDK and only rely on automatic monitoring (that is, you don't have any dependencies on SDK in your code), then you can exclude this dependency for non-production builds.</p>\n\n<p><strong>How to do this:</strong></p>\n\n<p>All you need to do is update your app module's <code>build.gradle</code> file:</p>\n\n<ul>\n<li><p>If you chose to use the first option, then change your dependency like this:</p>\n\n<pre><code>if (project.property('firebasePerformanceInstrumentationEnabled') == 'true') {\n  implementation \"com.google.firebase:firebase-perf:${firebase_perf_version}\"\n}\n</code></pre></li>\n<li><p>If you chose the second one:</p>\n\n<pre><code>if (project.hasProperty('useFirebasePerf')) {\n  implementation \"com.google.firebase:firebase-perf:${firebase_perf_version}\"\n}\n</code></pre></li>\n</ul>\n\n<p><strong>Advantage:</strong></p>\n\n<ul>\n<li>This might save you some additional <strong>~5-10s</strong>, spent on configuring dependency and \n\"ProGuarding\" it.</li>\n</ul>\n\n<p><strong>Drawbacks:</strong></p>\n\n<ul>\n<li>Your production APK size will be larger than debug one by ~0.5mb. This might disrupt your reports or predictions, so you need to be aware of it.</li>\n<li>If you were close to surpassing 64K method count limit, you might suddenly step over it on production builds and find yourself in the MultiDex zone. And that means extra work to do and tests to run. All because Firebase Performance brings a formidable number of almost 5K method references (after applying ProGuard with optimizations). </li>\n</ul>\n\n<p>You can also check out <a href=\"https://proandroiddev.com/hidden-costs-of-firebase-performance-and-how-to-avoid-them-a54f96bafcb1\" rel=\"noreferrer\">my article</a> where I expand a bit more on this topic.</p>\n"},{"tags":[],"owner":{"account_id":133099,"reputation":11077,"user_id":334209,"accept_rate":82,"display_name":"Romain Piel"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1547478950,"creation_date":1547478950,"answer_id":54184202,"question_id":47380524,"body_markdown":"All comments in this thread are valid. I want to suggest a very simple way to disable that for debug builds:\r\n\r\n    if (getGradle().getStartParameter().getTaskRequests().toString().contains(&quot;Release&quot;)) {\r\n        apply plugin: &#39;com.google.firebase.firebase-perf&#39;\r\n    }","title":"Firebase Performance Plugin causing slow build time","body":"<p>All comments in this thread are valid. I want to suggest a very simple way to disable that for debug builds:</p>\n\n<pre><code>if (getGradle().getStartParameter().getTaskRequests().toString().contains(\"Release\")) {\n    apply plugin: 'com.google.firebase.firebase-perf'\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4371874,"reputation":634,"user_id":3566013,"display_name":"qwertyfinger"},"score":0,"creation_date":1553843334,"post_id":55411240,"comment_id":97543734,"body_markdown":"This is _option 2_ combined with the _bonus option_ but also with one extra setup step of defining a property in `gradle.properties`. So I would say that is a little bit more complicated rather than simplified.","body":"This is <i>option 2</i> combined with the <i>bonus option</i> but also with one extra setup step of defining a property in <code>gradle.properties</code>. So I would say that is a little bit more complicated rather than simplified."},{"owner":{"account_id":1796123,"reputation":3966,"user_id":1635488,"accept_rate":40,"display_name":"android_dev"},"score":0,"creation_date":1553854056,"post_id":55411240,"comment_id":97548866,"body_markdown":"@qwertyfinger It&#39;s visible and consistent with other boolean gradle properties defined:) Also doesn&#39;t duplicate project.hasProperty(&#39;useFirebasePerf&#39;). You did a great job explaining everything!","body":"@qwertyfinger It&#39;s visible and consistent with other boolean gradle properties defined:) Also doesn&#39;t duplicate project.hasProperty(&#39;useFirebasePerf&#39;). You did a great job explaining everything!"},{"owner":{"account_id":1088874,"reputation":61123,"user_id":1083957,"accept_rate":93,"display_name":"azizbekian"},"score":0,"creation_date":1588672909,"post_id":55411240,"comment_id":108981842,"body_markdown":"@android_dev, as long as artifact is conditionally added to classpath, doesn&#39;t this mean that dependencies won&#39;t be resolved for non-release builds? Have you introduced an abstractions with no-op version for debug and with real version for release builds?","body":"@android_dev, as long as artifact is conditionally added to classpath, doesn&#39;t this mean that dependencies won&#39;t be resolved for non-release builds? Have you introduced an abstractions with no-op version for debug and with real version for release builds?"},{"owner":{"account_id":1796123,"reputation":3966,"user_id":1635488,"accept_rate":40,"display_name":"android_dev"},"score":0,"creation_date":1588707516,"post_id":55411240,"comment_id":109001690,"body_markdown":"@azizbekian That&#39;s actually just an example of how it could look like. By default it&#39;s disabled for every build. We had different CI builds and some of them included perf monitoring, some didn&#39;t. For debug builds, we could also use it if needed. gradlew assembleDebug -PuseFirebasePerf=true","body":"@azizbekian That&#39;s actually just an example of how it could look like. By default it&#39;s disabled for every build. We had different CI builds and some of them included perf monitoring, some didn&#39;t. For debug builds, we could also use it if needed. gradlew assembleDebug -PuseFirebasePerf=true"}],"tags":[],"owner":{"account_id":1796123,"reputation":3966,"user_id":1635488,"accept_rate":40,"display_name":"android_dev"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553838723,"creation_date":1553838723,"answer_id":55411240,"question_id":47380524,"body_markdown":"I have simplified option 2 of this answer https://stackoverflow.com/a/53270530/1635488\r\n\r\n\r\n - Define a property in `gradle.properties`\r\n\r\n    **useFirebasePerf=false**\r\n\r\n - Disable perf plugin\r\n\r\n    **if (useFirebasePerf.toBoolean()) {\r\n        apply plugin: &#39;com.google.firebase.firebase-perf&#39;\r\n    }**\r\n\r\n - Remove dependency \r\n\r\n    **if (useFirebasePerf.toBoolean()) {\r\n        implementation &#39;com.google.firebase:firebase-perf:16.2.3&#39;\r\n    }**\r\n\r\n - Enable Performance Monitoring only for CI builds (i would recommend only for release builds)\r\n\r\n    **gradlew assembleRelease -PuseFirebasePerf=true**","title":"Firebase Performance Plugin causing slow build time","body":"<p>I have simplified option 2 of this answer <a href=\"https://stackoverflow.com/a/53270530/1635488\">https://stackoverflow.com/a/53270530/1635488</a></p>\n\n<ul>\n<li><p>Define a property in <code>gradle.properties</code></p>\n\n<p><strong>useFirebasePerf=false</strong></p></li>\n<li><p>Disable perf plugin</p>\n\n<p><strong>if (useFirebasePerf.toBoolean()) {\n    apply plugin: 'com.google.firebase.firebase-perf'\n}</strong></p></li>\n<li><p>Remove dependency </p>\n\n<p><strong>if (useFirebasePerf.toBoolean()) {\n    implementation 'com.google.firebase:firebase-perf:16.2.3'\n}</strong></p></li>\n<li><p>Enable Performance Monitoring only for CI builds (i would recommend only for release builds)</p>\n\n<p><strong>gradlew assembleRelease -PuseFirebasePerf=true</strong></p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":385611,"reputation":334,"user_id":742855,"accept_rate":64,"display_name":"BenjaminButton"},"score":4,"creation_date":1566240529,"post_id":56995410,"comment_id":101586473,"body_markdown":"With this solution gradle sync fails with `ERROR: Could not find method FirebasePerformance() for arguments [...]`. perf-plugin is v1.3.1. And firebase-perf:18.0.1 or firebase-perf:19.0.0. I pasted the config in android -&gt; buildTypes -&gt; debug. Android Studio version is 3.4.2. Anyone else with the same issue?","body":"With this solution gradle sync fails with <code>ERROR: Could not find method FirebasePerformance() for arguments [...]</code>. perf-plugin is v1.3.1. And firebase-perf:18.0.1 or firebase-perf:19.0.0. I pasted the config in android -&gt; buildTypes -&gt; debug. Android Studio version is 3.4.2. Anyone else with the same issue?"},{"owner":{"account_id":385611,"reputation":334,"user_id":742855,"accept_rate":64,"display_name":"BenjaminButton"},"score":0,"creation_date":1566275747,"post_id":56995410,"comment_id":101594594,"body_markdown":"My bad I missed to add or re-add `apply plugin: &#39;com.google.firebase.firebase-perf&#39;`. Gradle sync completes successfully","body":"My bad I missed to add or re-add <code>apply plugin: &#39;com.google.firebase.firebase-perf&#39;</code>. Gradle sync completes successfully"}],"tags":[],"owner":{"account_id":7790718,"reputation":341,"user_id":5893767,"display_name":"Ramanpreet Singh Khinda"},"comment_count":2,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1618569547,"creation_date":1562870102,"answer_id":56995410,"question_id":47380524,"body_markdown":"**Firebase Performance** has released a new version of `perf-plugin` (**v1.3.0**). This would enable **disabling** the Firebase Performance Monitoring Gradle plugin **for a specific build variant** (including *buildTypes* or *productFlavors*).\r\n\r\nAn example below:\r\n\r\n   \r\n\r\n     android {\r\n          // ...\r\n        \r\n          debug {\r\n            FirebasePerformance {\r\n              // Set this flag to &#39;false&#39; to disable @AddTrace annotation processing and\r\n              // automatic HTTP/S network request monitoring\r\n              // for a specific build variant at compile time.\r\n              instrumentationEnabled false\r\n            }\r\n          }\r\n        }\r\n\r\n**Reference to release notes:**\r\n\r\nhttps://firebase.google.com/support/release-notes/android#2019-07-10","title":"Firebase Performance Plugin causing slow build time","body":"<p><strong>Firebase Performance</strong> has released a new version of <code>perf-plugin</code> (<strong>v1.3.0</strong>). This would enable <strong>disabling</strong> the Firebase Performance Monitoring Gradle plugin <strong>for a specific build variant</strong> (including <em>buildTypes</em> or <em>productFlavors</em>).</p>\n<p>An example below:</p>\n<pre><code> android {\n      // ...\n    \n      debug {\n        FirebasePerformance {\n          // Set this flag to 'false' to disable @AddTrace annotation processing and\n          // automatic HTTP/S network request monitoring\n          // for a specific build variant at compile time.\n          instrumentationEnabled false\n        }\n      }\n    }\n</code></pre>\n<p><strong>Reference to release notes:</strong></p>\n<p><a href=\"https://firebase.google.com/support/release-notes/android#2019-07-10\" rel=\"noreferrer\">https://firebase.google.com/support/release-notes/android#2019-07-10</a></p>\n"},{"comments":[{"owner":{"account_id":3930856,"reputation":43670,"user_id":3249477,"accept_rate":86,"display_name":"Simas"},"score":0,"creation_date":1584886309,"post_id":57451108,"comment_id":107571191,"body_markdown":"A bit cleaner version:\n`extensionByName&lt;FirebasePerfExtension&gt;(&quot;FirebasePerformance&quot;).setInstrumentationEnabled(!isDebuggable)`","body":"A bit cleaner version: <code>extensionByName&lt;FirebasePerfExtension&gt;(&quot;FirebasePerformance&quot;&zwnj;&#8203;).setInstrumentation&zwnj;&#8203;Enabled(!isDebuggabl&zwnj;&#8203;e)</code>"}],"tags":[],"owner":{"account_id":3575346,"reputation":1330,"user_id":2984747,"display_name":"codeWhisperer"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1565616883,"creation_date":1565535762,"answer_id":57451108,"question_id":47380524,"body_markdown":"For newer versions of the Firebase perf plugin (`1.3.0` and up) with Kotlin DSL you&#39;ll need to add the following:\r\n```\r\nandroid {\r\n  ...\r\n  buildTypes {\r\n    ...\r\n    all {   \r\n      with((this as ExtensionAware).extensions[&quot;FirebasePerformance&quot;] as FirebasePerfExtension) {\r\n        setInstrumentationEnabled(!isDebuggable)\r\n      }     \r\n    }\r\n    ...\r\n  }\r\n\r\n}\r\n```\r\n\r\nFor the Groovy version you can check out the [Firebase documentation](https://firebase.google.com/docs/perf-mon/disable-sdk).\r\n\r\n\r\n","title":"Firebase Performance Plugin causing slow build time","body":"<p>For newer versions of the Firebase perf plugin (<code>1.3.0</code> and up) with Kotlin DSL you'll need to add the following:</p>\n\n<pre><code>android {\n  ...\n  buildTypes {\n    ...\n    all {   \n      with((this as ExtensionAware).extensions[\"FirebasePerformance\"] as FirebasePerfExtension) {\n        setInstrumentationEnabled(!isDebuggable)\n      }     \n    }\n    ...\n  }\n\n}\n</code></pre>\n\n<p>For the Groovy version you can check out the <a href=\"https://firebase.google.com/docs/perf-mon/disable-sdk\" rel=\"noreferrer\">Firebase documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":4908823,"reputation":21,"user_id":3954714,"display_name":""},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592817476,"creation_date":1592817476,"answer_id":62511102,"question_id":47380524,"body_markdown":"A much cleaner way in kotlin DSL\r\n```\r\nbuildTypes {\r\n   //My custom extension\r\n   forName(&quot;debug&quot;) {\r\n      roject.ext.set(&quot;firebasePerformanceInstrumentationEnabled&quot;, &quot;false&quot;)\r\n   }\r\n}\r\n```\r\n\r\nImplementation of forName\r\n```\r\nfun &lt;T&gt; NamedDomainObjectContainer&lt;T&gt;.forName(name: String, action: T.() -&gt; Unit) {\r\n    this.maybeCreate(name)\r\n    this.getByName(name, object: Action&lt;T&gt;{\r\n        override fun execute(t: T) {\r\n            t.action()\r\n        }\r\n    })\r\n}\r\n\r\n```","title":"Firebase Performance Plugin causing slow build time","body":"<p>A much cleaner way in kotlin DSL</p>\n<pre><code>buildTypes {\n   //My custom extension\n   forName(&quot;debug&quot;) {\n      roject.ext.set(&quot;firebasePerformanceInstrumentationEnabled&quot;, &quot;false&quot;)\n   }\n}\n</code></pre>\n<p>Implementation of forName</p>\n<pre><code>fun &lt;T&gt; NamedDomainObjectContainer&lt;T&gt;.forName(name: String, action: T.() -&gt; Unit) {\n    this.maybeCreate(name)\n    this.getByName(name, object: Action&lt;T&gt;{\n        override fun execute(t: T) {\n            t.action()\n        }\n    })\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17861811,"reputation":1847,"user_id":12975134,"display_name":"ycannot"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1676658050,"creation_date":1676658050,"answer_id":75487976,"question_id":47380524,"body_markdown":"I think the clearest way is this with kotlin DSL gradle &#128071;\r\n\r\nin app level build.gradle\r\n\r\n```\r\nbuildTypes {\r\n        getByName(BuildType.DEBUG) {\r\n            extensions.configure&lt;com.google.firebase.perf.plugin.FirebasePerfExtension&gt;{\r\n                setInstrumentationEnabled(false)\r\n            }\r\n        }\r\n}\r\n```\r\n\r\nin dependendencies part:\r\n```\r\ndependencies {\r\n    releaseImplementation(Dependencies.FIREBASE_PERFORMANCE) //implementation for only release mode (you can vary for other variants)\r\n}\r\n```","title":"Firebase Performance Plugin causing slow build time","body":"<p>I think the clearest way is this with kotlin DSL gradle </p>\n<p>in app level build.gradle</p>\n<pre><code>buildTypes {\n        getByName(BuildType.DEBUG) {\n            extensions.configure&lt;com.google.firebase.perf.plugin.FirebasePerfExtension&gt;{\n                setInstrumentationEnabled(false)\n            }\n        }\n}\n</code></pre>\n<p>in dependendencies part:</p>\n<pre><code>dependencies {\n    releaseImplementation(Dependencies.FIREBASE_PERFORMANCE) //implementation for only release mode (you can vary for other variants)\n}\n</code></pre>\n"}],"owner":{"account_id":8536561,"reputation":633,"user_id":6398145,"display_name":"Ian White"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14699,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":47994657,"answer_count":10,"score":41,"last_activity_date":1676658050,"creation_date":1511116559,"question_id":47380524,"body_markdown":"When using Firebase Performance in Android Studio the gradle task `app:transformClassesWithFirebasePerformancePluginForDebug` is taking significantly longer than any other task and is therefore dramatically slowing down my gradle build times.\r\n\r\n[Slow Build shown in Profiler][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Riqid.png","title":"Firebase Performance Plugin causing slow build time","body":"<p>When using Firebase Performance in Android Studio the gradle task <code>app:transformClassesWithFirebasePerformancePluginForDebug</code> is taking significantly longer than any other task and is therefore dramatically slowing down my gradle build times.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Riqid.png\" rel=\"noreferrer\">Slow Build shown in Profiler</a></p>\n"},{"tags":["java","binary-tree"],"comments":[{"owner":{"account_id":7991,"reputation":205509,"user_id":14104,"display_name":"epascarello"},"score":0,"creation_date":1676657810,"post_id":75487896,"comment_id":133188475,"body_markdown":"That is some weird looking JavaScript. Java is not JavaScirpt.","body":"That is some weird looking JavaScript. Java is not JavaScirpt."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1676660516,"post_id":75487896,"comment_id":133189157,"body_markdown":"Line 81 in the `Main` class seems to be the line `output.setText(inputTree.inOrder());`. There are two possible cases for a NullPointerException there: either `output` is null or `inputTree` is null. Since you initialize `output` when you declare it the problem must be `inputTree`. This field is only initialized when you press &quot;Make Tree&quot; first. Did you do that?","body":"Line 81 in the <code>Main</code> class seems to be the line <code>output.setText(inputTree.inOrder());</code>. There are two possible cases for a NullPointerException there: either <code>output</code> is null or <code>inputTree</code> is null. Since you initialize <code>output</code> when you declare it the problem must be <code>inputTree</code>. This field is only initialized when you press &quot;Make Tree&quot; first. Did you do that?"}],"owner":{"account_id":27710677,"reputation":1,"user_id":21153449,"display_name":"Polina Norman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676660566,"answer_count":0,"score":0,"last_activity_date":1676657833,"creation_date":1676657520,"question_id":75487896,"body_markdown":"Here is my code, there are three classes and they are separated by the code blocks.\r\nThere is a: Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n        at project3.Main.lambda$0(Main.java:81)\r\n\r\nerror in my code and I am not sure how to fix it.\r\n```\r\npackage project3;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class Main extends JFrame {\r\n\r\n    private JTextField input = new JTextField(20), output = new JTextField(30);\r\n        private static BinaryTree inputTree;\r\n\r\n    //main here\r\n    public static void main(String[] args) {\r\n        Main frame = new Main();\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    //===================================================================================\r\n    // Class constructor creates GUI with three panels (input, buttons, and output)\r\n    //===================================================================================\r\n    public Main() {\r\n        super(&quot;Binary Tree Categorizer&quot;);\r\n        setSize(715, 175);\r\n        setLocationRelativeTo(null);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setLayout(new GridLayout(3, 1));\r\n        JComponent[] inputComponents = {new JLabel(&quot;Enter Expression&quot;), input};\r\n        JComponent[] outputComponents = {new JLabel(&quot;Output&quot;), output};\r\n        JButton[] buttonComponents = {new JButton(&quot;Make Tree&quot;), new JButton(&quot;Is Balanced?&quot;),\r\n                new JButton(&quot;Is Full?&quot;), new JButton(&quot;Is Proper?&quot;), new JButton(&quot;Height&quot;),\r\n                new JButton(&quot;Nodes&quot;), new JButton(&quot;Inorder&quot;)};\r\n        makeFlowPanel(inputComponents);\r\n        makeFlowPanel(buttonComponents);\r\n        makeFlowPanel(outputComponents);\r\n        addActionListeners(buttonComponents);\r\n        output.setEditable(false);\r\n        setResizable(false);\r\n    }\r\n\r\n    //================================================================================================\r\n    // Creates a flow panel from array of components. Borrowed the idea for this method from Prof Jarc\r\n    //================================================================================================\r\n    private void makeFlowPanel(JComponent[] components) {\r\n        JPanel panel = new JPanel(new FlowLayout());\r\n        for (Component component: components) { panel.add(component); }\r\n        add(panel);\r\n    }\r\n    //================================================================================================\r\n    // Adds the ActionListener to the array of buttons passed to it, similar to previous\r\n    //================================================================================================\r\n    private void addActionListeners (JButton[] buttons){\r\n        for (JButton button: buttons){\r\n            button.addActionListener(treeListener);\r\n        }\r\n    }\r\n    //========================================================================================================\r\n    // ActionListener uses switch statement to set output text based on String returned from getActionCommand\r\n    //========================================================================================================\r\n    private final ActionListener treeListener = event -&gt; {\r\n        try {\r\n            switch ((event.getActionCommand())){\r\n                case &quot;Make Tree&quot;:\r\n                    inputTree = new BinaryTree(input.getText());\r\n                    output.setText(inputTree.toString());\r\n                    break;\r\n                case &quot;Is Balanced?&quot;:\r\n                    output.setText(String.valueOf(inputTree.isBalanced()));\r\n                    break;\r\n                case &quot;Is Full?&quot;:\r\n                    output.setText(String.valueOf(inputTree.isFull()));\r\n                    break;\r\n                case &quot;Is Proper?&quot;:\r\n                    output.setText(String.valueOf(inputTree.isProper()));\r\n                    break;\r\n                case &quot;Height&quot;:\r\n                    output.setText(String.valueOf(inputTree.height()));\r\n                    break;\r\n                case &quot;Nodes&quot;:\r\n                    output.setText(String.valueOf(inputTree.nodes()));\r\n                    break;\r\n                case &quot;Inorder&quot;:\r\n                    output.setText(inputTree.inOrder());\r\n                    break;\r\n            }\r\n        } catch (InvalidTreeSyntax except) {\r\n            JOptionPane.showMessageDialog(getParent(),except.getMessage());\r\n        }catch (IndexOutOfBoundsException indexExcept) {\r\n            JOptionPane.showMessageDialog(getParent(),&quot;No input given!&quot;);\r\n        }\r\n    };\r\n}\r\n```\r\n\r\n```\r\npackage project3;\r\n\r\npublic class Node {\r\n    private String info;\r\n    private Node left;\r\n    private Node right;\r\n\r\n    public Node(String info) {this.info = info;}\r\n\r\n    private void addChild(Node child) throws InvalidTreeSyntax{\r\n        if(this.left == null){this.setLeft(child); }\r\n        else if(this.right == null){this.setRight(child);}\r\n        else{throw new InvalidTreeSyntax(&quot;Nodes can only have 2 children!&quot;);}}\r\n        \r\n        //setters for the nodes\r\n        private void setLeft(Node newLeft){left = newLeft;}\r\n        private void setRight(Node newRight){right = newRight;}\r\n\r\n        @Override //calls the recursive method\r\n        public String toString(){ return toString(this);}\r\n        //recursivley printing out the nodes\r\n        private static String toString(Node root){\r\n            return(root == null) ? &quot;&quot; : &quot;(&quot;+ root.info + toString(root.left) + toString(root.right)+ &quot;)&quot;;\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```\r\npackage project3;\r\n\r\npublic class InvalidTreeSyntax extends Exception{\r\n    public InvalidTreeSyntax(){\r\n        super();\r\n    }\r\n    public InvalidTreeSyntax(String message){\r\n        super(message);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npackage project3;\r\n\r\nimport java.util.EmptyStackException;\r\nimport java.util.Stack;\r\n\r\npublic class BinaryTree {\r\n    Node parent, child; //parent is now synonymous with root\r\n\r\n    //===================================================================================================\r\n    //BianaryTree constructor: Takes the input string and stores it as an array based on the parenthesis\r\n    // loops through using a stack and adds children that fall within the parental parenthesis\r\n    //===================================================================================================\r\n    public BinaryTree(String input) throws InvalidTreeSyntax{\r\n        Stack&lt;Node&gt; nodeStack = new Stack&lt;&gt;();\r\n        String[] inputArray = input.substring(1, input.length()-1) \r\n                .split(&quot;(?&lt;=\\\\()|(?=\\\\()|(?&lt;=\\\\))|(?=\\\\))&quot;);\r\n        parent = new Node(inputArray[0]);\r\n        for(int i= 1;i&lt;inputArray.length-1;i++){\r\n            if(inputArray[i].equals(&quot;(&quot;)){nodeStack.push(parent);\r\n                if(child != null){parent = child;}\r\n            }else if(inputArray[i].equals(&quot;)&quot;)){\r\n                try{child = parent; parent = nodeStack.pop();\r\n                }catch(EmptyStackException emptyStack){throw new InvalidTreeSyntax(&quot;Incorrect parenthesis!&quot;);}\r\n            }else{child = new Node(inputArray[i]);\r\n                if(parent != null){parent.addChild(child);}\r\n            }\r\n        }\r\n        if(this.recNodes(parent)* 3 != input.length()) throw new InvalidTreeSyntax(&quot;Incorrect Syntax!&quot;);\r\n    }\r\n    //===================================================================================================    \r\n    //checkBalanced: must determine that the absolute difference between the branches is max at 1\r\n    //will call the recursive method and will also cal recursive height method\r\n    //===================================================================================================\r\n    public boolean isBalanced(){return recIsBalanced(this.parent);}\r\n\r\n    private boolean recIsBalanced(Node root){\r\n        //base case\r\n        if(root == null){\r\n            return true;\r\n        }\r\n        return (Math.abs(recHeight(root.left)- recHeight(root.right)) &lt;=1) &amp;&amp; \r\n                (recIsBalanced(root.left) &amp;&amp; recIsBalanced(root.right));\r\n    }\r\n    //===================================================================================================    \r\n    //checkFull: determines if height has the maximum nodes\r\n    //calls recursive and recursive height method\r\n    //===================================================================================================\r\n    public boolean isFull() {return recIsFull(this.parent, recHeight(this.parent), 0);}\r\n    private boolean recIsFull(Node root, int height, int index){\r\n        if(root == null){return true;}\r\n        if(root.left == null &amp;&amp; root.right == null){return (height == index +1);}\r\n        if(root.left == null || root.right == null){return false;}\r\n        return recIsFull(root.left, height, index+1) &amp;&amp; recIsFull(root.right, height, index+1);\r\n    }\r\n    //===================================================================================================    \r\n    //isProper: determines if each node has 2 or zero childern in the tree\r\n    //just calls the recursive method\r\n    //===================================================================================================\r\n    public boolean isProper(){return recIsProper(this.parent);}\r\n    private boolean recIsProper(Node root){\r\n        if(root == null){return true;}\r\n        return((root.left != null || root.right ==null)&amp;&amp;(root.left == null|| root.right != null))\r\n                &amp;&amp;(recIsProper(root.left)&amp;&amp; recIsProper(root.right));\r\n    }\r\n    //===================================================================================================    \r\n    //height: finds the height of bianary trees which have a root node of 0\r\n    //calls the recursive method\r\n    //===================================================================================================\r\n    public int height(){return recHeight(this.parent)-1;}\r\n\r\n    private int recHeight(Node root){\r\n        return(root == null)? 0: 1 +Math.max(recHeight(root.left), recHeight(root.right));\r\n    }\r\n    //===================================================================================================    \r\n    //nodes: finds the amount of nodes in a bianary tree\r\n    //uses the recursive method that will add one for every node of the left and right subtree, \r\n    //it will be 0 if null\r\n    //===================================================================================================\r\n    public int nodes(){return recNodes(this.parent);}\r\n\r\n    private int recNodes(Node root){\r\n        return (root == null)? 0 : 1+ recNodes(root.left)+ recNodes(root.right);\r\n\r\n    }\r\n    //===================================================================================================    \r\n    //inOrder: onfo of nodes is written in bianary tree order\r\n    //recursive method called, uses algorithm: left to root to right\r\n    //===================================================================================================\r\n   public String inOrder(){\r\n    return recInOrder(this.parent);\r\n   } \r\n   private String recInOrder(Node root){\r\n    return(root == null)? &quot;&quot; : &quot;(&quot; + recInOrder(root.left) + root.info + recInOrder(root.right)+ &quot;)&quot;;\r\n   }\r\n   @Override\r\n   public String toString(){ return parent.toString(); }\r\n    \r\n   //===================================================================================================    \r\n    //Nested node class/ arguments: \r\n    //\r\n    //===================================================================================================\r\n   public static class Node{\r\n    private String info;\r\n    private Node left;\r\n    private Node right;\r\n\r\n    public Node(String info){ this.info = info;}\r\n    private void addChild(Node child) throws InvalidTreeSyntax{\r\n        if(this.left == null){this.setLeft(child);}\r\n        else if(this.right == null){ this.setRight(child);}\r\n        else{throw new InvalidTreeSyntax(&quot;Nodes can only have 2 childern!&quot;);}}\r\n    \r\n    private void setLeft(Node newLeft){left = newLeft;}\r\n    private void setRight(Node newRight){right = newRight;}\r\n\r\n    @Override\r\n    public String toString(){return toString(this);}\r\n\r\n    private static String toString(Node root){\r\n        return(root == null) ? &quot;&quot; : &quot;(&quot; + root.info + toString(root.left) + toString(root.right) + &quot;)&quot;;\r\n    }\r\n}\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nIn addition, the program should allow the user to request that each of the following features of the tree be \r\ndisplayed:\r\n1. The height of the tree. The height of a tree is the maximum level of all of its nodes. The root node \r\ncontaining A is at the level 0. Because all three leaf nodes in the above tree are at level 2, its height is 2.\r\n2. The number of nodes in the tree. As previously mentioned, the above tree has 6 nodes.\r\n3. An fully parenthesized inorder traversal of the tree. The following should be displayed as the inorder \r\ntraversal of the above tree: ((( j ) G ( 1 )) A (( 5 ) z ))\r\nThe third programming project involves writing a program that allows the user to enter a binary tree in a \r\nparenthesized prefix format and then allows it to be categorized and allows various features of that tree to be \r\ndisplayed. An example of a tree written in the input format is the following:\r\n(A(G(j)(1))(z(5)))\r\nIn the above example, data in each node of the tree contains a single alphanumeric character. No spaces are \r\npermitted. Each tree is enclosed in parentheses. Inside those parentheses, after the single character are either \r\nzero, one or two subtrees also enclosed in parentheses. When only one subtree is present, it is the left subtree \r\nand when two are present, they represent the left and right subtrees. \r\n\r\n\r\nThis project consist of three classes. The main class should create a GUI that allows the user to input a \r\ntree in the above described format and then construct the tree once the Make Tree button is clicked. The GUI \r\nshould look as follows: \r\nThe GUI must be generated by code that you write. You may not use a drag-and-drop GUI generator.\r\nThe second class should be the BinaryTree class, which should contain a static nested class to define the \r\nnodes of the binary tree, together with a constructor that is called when the Make Tree button is clicked and is \r\nsupplied the string representation of the tree and constructs the actual tree from that string. In addition, it should \r\nhave public methods that are called when each of the remaining six buttons are clicked. All of those public \r\nmethods should have corresponding private methods that accomplish their tasks using recursion.\r\nThe third class should be named InvalidTreeSyntax, which defines a checked exception. It should be \r\nthrown when a invalid string is supplied and the Make Tree button is clicked. It should be caught in the main \r\nclass and a JOptionPane window should be displayed that describes the reason for the invalid syntax.\r\n\r\nWhat the GUI looks like: [My code creates the GUI but does not let a response appear] (https://i.stack.imgur.com/UcC58.png)\r\n","title":"Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException &lt;=== this error occurs in the main program of my code","body":"<p>Here is my code, there are three classes and they are separated by the code blocks.\nThere is a: Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\nat project3.Main.lambda$0(Main.java:81)</p>\n<p>error in my code and I am not sure how to fix it.</p>\n<pre><code>package project3;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionListener;\n\npublic class Main extends JFrame {\n\n    private JTextField input = new JTextField(20), output = new JTextField(30);\n        private static BinaryTree inputTree;\n\n    //main here\n    public static void main(String[] args) {\n        Main frame = new Main();\n        frame.setVisible(true);\n    }\n\n    //===================================================================================\n    // Class constructor creates GUI with three panels (input, buttons, and output)\n    //===================================================================================\n    public Main() {\n        super(&quot;Binary Tree Categorizer&quot;);\n        setSize(715, 175);\n        setLocationRelativeTo(null);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLayout(new GridLayout(3, 1));\n        JComponent[] inputComponents = {new JLabel(&quot;Enter Expression&quot;), input};\n        JComponent[] outputComponents = {new JLabel(&quot;Output&quot;), output};\n        JButton[] buttonComponents = {new JButton(&quot;Make Tree&quot;), new JButton(&quot;Is Balanced?&quot;),\n                new JButton(&quot;Is Full?&quot;), new JButton(&quot;Is Proper?&quot;), new JButton(&quot;Height&quot;),\n                new JButton(&quot;Nodes&quot;), new JButton(&quot;Inorder&quot;)};\n        makeFlowPanel(inputComponents);\n        makeFlowPanel(buttonComponents);\n        makeFlowPanel(outputComponents);\n        addActionListeners(buttonComponents);\n        output.setEditable(false);\n        setResizable(false);\n    }\n\n    //================================================================================================\n    // Creates a flow panel from array of components. Borrowed the idea for this method from Prof Jarc\n    //================================================================================================\n    private void makeFlowPanel(JComponent[] components) {\n        JPanel panel = new JPanel(new FlowLayout());\n        for (Component component: components) { panel.add(component); }\n        add(panel);\n    }\n    //================================================================================================\n    // Adds the ActionListener to the array of buttons passed to it, similar to previous\n    //================================================================================================\n    private void addActionListeners (JButton[] buttons){\n        for (JButton button: buttons){\n            button.addActionListener(treeListener);\n        }\n    }\n    //========================================================================================================\n    // ActionListener uses switch statement to set output text based on String returned from getActionCommand\n    //========================================================================================================\n    private final ActionListener treeListener = event -&gt; {\n        try {\n            switch ((event.getActionCommand())){\n                case &quot;Make Tree&quot;:\n                    inputTree = new BinaryTree(input.getText());\n                    output.setText(inputTree.toString());\n                    break;\n                case &quot;Is Balanced?&quot;:\n                    output.setText(String.valueOf(inputTree.isBalanced()));\n                    break;\n                case &quot;Is Full?&quot;:\n                    output.setText(String.valueOf(inputTree.isFull()));\n                    break;\n                case &quot;Is Proper?&quot;:\n                    output.setText(String.valueOf(inputTree.isProper()));\n                    break;\n                case &quot;Height&quot;:\n                    output.setText(String.valueOf(inputTree.height()));\n                    break;\n                case &quot;Nodes&quot;:\n                    output.setText(String.valueOf(inputTree.nodes()));\n                    break;\n                case &quot;Inorder&quot;:\n                    output.setText(inputTree.inOrder());\n                    break;\n            }\n        } catch (InvalidTreeSyntax except) {\n            JOptionPane.showMessageDialog(getParent(),except.getMessage());\n        }catch (IndexOutOfBoundsException indexExcept) {\n            JOptionPane.showMessageDialog(getParent(),&quot;No input given!&quot;);\n        }\n    };\n}\n</code></pre>\n<pre><code>package project3;\n\npublic class Node {\n    private String info;\n    private Node left;\n    private Node right;\n\n    public Node(String info) {this.info = info;}\n\n    private void addChild(Node child) throws InvalidTreeSyntax{\n        if(this.left == null){this.setLeft(child); }\n        else if(this.right == null){this.setRight(child);}\n        else{throw new InvalidTreeSyntax(&quot;Nodes can only have 2 children!&quot;);}}\n        \n        //setters for the nodes\n        private void setLeft(Node newLeft){left = newLeft;}\n        private void setRight(Node newRight){right = newRight;}\n\n        @Override //calls the recursive method\n        public String toString(){ return toString(this);}\n        //recursivley printing out the nodes\n        private static String toString(Node root){\n            return(root == null) ? &quot;&quot; : &quot;(&quot;+ root.info + toString(root.left) + toString(root.right)+ &quot;)&quot;;\n        }\n    }\n</code></pre>\n<pre><code>package project3;\n\npublic class InvalidTreeSyntax extends Exception{\n    public InvalidTreeSyntax(){\n        super();\n    }\n    public InvalidTreeSyntax(String message){\n        super(message);\n    }\n}\n\n</code></pre>\n<pre><code>package project3;\n\nimport java.util.EmptyStackException;\nimport java.util.Stack;\n\npublic class BinaryTree {\n    Node parent, child; //parent is now synonymous with root\n\n    //===================================================================================================\n    //BianaryTree constructor: Takes the input string and stores it as an array based on the parenthesis\n    // loops through using a stack and adds children that fall within the parental parenthesis\n    //===================================================================================================\n    public BinaryTree(String input) throws InvalidTreeSyntax{\n        Stack&lt;Node&gt; nodeStack = new Stack&lt;&gt;();\n        String[] inputArray = input.substring(1, input.length()-1) \n                .split(&quot;(?&lt;=\\\\()|(?=\\\\()|(?&lt;=\\\\))|(?=\\\\))&quot;);\n        parent = new Node(inputArray[0]);\n        for(int i= 1;i&lt;inputArray.length-1;i++){\n            if(inputArray[i].equals(&quot;(&quot;)){nodeStack.push(parent);\n                if(child != null){parent = child;}\n            }else if(inputArray[i].equals(&quot;)&quot;)){\n                try{child = parent; parent = nodeStack.pop();\n                }catch(EmptyStackException emptyStack){throw new InvalidTreeSyntax(&quot;Incorrect parenthesis!&quot;);}\n            }else{child = new Node(inputArray[i]);\n                if(parent != null){parent.addChild(child);}\n            }\n        }\n        if(this.recNodes(parent)* 3 != input.length()) throw new InvalidTreeSyntax(&quot;Incorrect Syntax!&quot;);\n    }\n    //===================================================================================================    \n    //checkBalanced: must determine that the absolute difference between the branches is max at 1\n    //will call the recursive method and will also cal recursive height method\n    //===================================================================================================\n    public boolean isBalanced(){return recIsBalanced(this.parent);}\n\n    private boolean recIsBalanced(Node root){\n        //base case\n        if(root == null){\n            return true;\n        }\n        return (Math.abs(recHeight(root.left)- recHeight(root.right)) &lt;=1) &amp;&amp; \n                (recIsBalanced(root.left) &amp;&amp; recIsBalanced(root.right));\n    }\n    //===================================================================================================    \n    //checkFull: determines if height has the maximum nodes\n    //calls recursive and recursive height method\n    //===================================================================================================\n    public boolean isFull() {return recIsFull(this.parent, recHeight(this.parent), 0);}\n    private boolean recIsFull(Node root, int height, int index){\n        if(root == null){return true;}\n        if(root.left == null &amp;&amp; root.right == null){return (height == index +1);}\n        if(root.left == null || root.right == null){return false;}\n        return recIsFull(root.left, height, index+1) &amp;&amp; recIsFull(root.right, height, index+1);\n    }\n    //===================================================================================================    \n    //isProper: determines if each node has 2 or zero childern in the tree\n    //just calls the recursive method\n    //===================================================================================================\n    public boolean isProper(){return recIsProper(this.parent);}\n    private boolean recIsProper(Node root){\n        if(root == null){return true;}\n        return((root.left != null || root.right ==null)&amp;&amp;(root.left == null|| root.right != null))\n                &amp;&amp;(recIsProper(root.left)&amp;&amp; recIsProper(root.right));\n    }\n    //===================================================================================================    \n    //height: finds the height of bianary trees which have a root node of 0\n    //calls the recursive method\n    //===================================================================================================\n    public int height(){return recHeight(this.parent)-1;}\n\n    private int recHeight(Node root){\n        return(root == null)? 0: 1 +Math.max(recHeight(root.left), recHeight(root.right));\n    }\n    //===================================================================================================    \n    //nodes: finds the amount of nodes in a bianary tree\n    //uses the recursive method that will add one for every node of the left and right subtree, \n    //it will be 0 if null\n    //===================================================================================================\n    public int nodes(){return recNodes(this.parent);}\n\n    private int recNodes(Node root){\n        return (root == null)? 0 : 1+ recNodes(root.left)+ recNodes(root.right);\n\n    }\n    //===================================================================================================    \n    //inOrder: onfo of nodes is written in bianary tree order\n    //recursive method called, uses algorithm: left to root to right\n    //===================================================================================================\n   public String inOrder(){\n    return recInOrder(this.parent);\n   } \n   private String recInOrder(Node root){\n    return(root == null)? &quot;&quot; : &quot;(&quot; + recInOrder(root.left) + root.info + recInOrder(root.right)+ &quot;)&quot;;\n   }\n   @Override\n   public String toString(){ return parent.toString(); }\n    \n   //===================================================================================================    \n    //Nested node class/ arguments: \n    //\n    //===================================================================================================\n   public static class Node{\n    private String info;\n    private Node left;\n    private Node right;\n\n    public Node(String info){ this.info = info;}\n    private void addChild(Node child) throws InvalidTreeSyntax{\n        if(this.left == null){this.setLeft(child);}\n        else if(this.right == null){ this.setRight(child);}\n        else{throw new InvalidTreeSyntax(&quot;Nodes can only have 2 childern!&quot;);}}\n    \n    private void setLeft(Node newLeft){left = newLeft;}\n    private void setRight(Node newRight){right = newRight;}\n\n    @Override\n    public String toString(){return toString(this);}\n\n    private static String toString(Node root){\n        return(root == null) ? &quot;&quot; : &quot;(&quot; + root.info + toString(root.left) + toString(root.right) + &quot;)&quot;;\n    }\n}\n}\n\n</code></pre>\n<p>In addition, the program should allow the user to request that each of the following features of the tree be\ndisplayed:</p>\n<ol>\n<li>The height of the tree. The height of a tree is the maximum level of all of its nodes. The root node\ncontaining A is at the level 0. Because all three leaf nodes in the above tree are at level 2, its height is 2.</li>\n<li>The number of nodes in the tree. As previously mentioned, the above tree has 6 nodes.</li>\n<li>An fully parenthesized inorder traversal of the tree. The following should be displayed as the inorder\ntraversal of the above tree: ((( j ) G ( 1 )) A (( 5 ) z ))\nThe third programming project involves writing a program that allows the user to enter a binary tree in a\nparenthesized prefix format and then allows it to be categorized and allows various features of that tree to be\ndisplayed. An example of a tree written in the input format is the following:\n(A(G(j)(1))(z(5)))\nIn the above example, data in each node of the tree contains a single alphanumeric character. No spaces are\npermitted. Each tree is enclosed in parentheses. Inside those parentheses, after the single character are either\nzero, one or two subtrees also enclosed in parentheses. When only one subtree is present, it is the left subtree\nand when two are present, they represent the left and right subtrees.</li>\n</ol>\n<p>This project consist of three classes. The main class should create a GUI that allows the user to input a\ntree in the above described format and then construct the tree once the Make Tree button is clicked. The GUI\nshould look as follows:\nThe GUI must be generated by code that you write. You may not use a drag-and-drop GUI generator.\nThe second class should be the BinaryTree class, which should contain a static nested class to define the\nnodes of the binary tree, together with a constructor that is called when the Make Tree button is clicked and is\nsupplied the string representation of the tree and constructs the actual tree from that string. In addition, it should\nhave public methods that are called when each of the remaining six buttons are clicked. All of those public\nmethods should have corresponding private methods that accomplish their tasks using recursion.\nThe third class should be named InvalidTreeSyntax, which defines a checked exception. It should be\nthrown when a invalid string is supplied and the Make Tree button is clicked. It should be caught in the main\nclass and a JOptionPane window should be displayed that describes the reason for the invalid syntax.</p>\n<p>What the GUI looks like: [My code creates the GUI but does not let a response appear] (<a href=\"https://i.stack.imgur.com/UcC58.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/UcC58.png</a>)</p>\n"},{"tags":["java","java-8","sonarqube"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1676657057,"post_id":75487420,"comment_id":133188264,"body_markdown":"Add `since` and/or `forRemoval` arguments to the `@Deprecated` anotation. Example `@Deprecated(since=&quot;4.2&quot;, forRemoval=true)`","body":"Add <code>since</code> and/or <code>forRemoval</code> arguments to the <code>@Deprecated</code> anotation. Example <code>@Deprecated(since=&quot;4.2&quot;, forRemoval=true)</code>"},{"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yldz"},"score":0,"creation_date":1676657381,"post_id":75487420,"comment_id":133188357,"body_markdown":"Could you try the suggestion in my answer and let me know if it works?","body":"Could you try the suggestion in my answer and let me know if it works?"},{"owner":{"account_id":4598459,"reputation":35,"user_id":3729873,"display_name":"luv-yzag"},"score":0,"creation_date":1676747353,"post_id":75487420,"comment_id":133201152,"body_markdown":"@Eritrean - &quot;since&quot; and &quot;forRemoval&quot; are required for java &gt;= 9.0","body":"@Eritrean - &quot;since&quot; and &quot;forRemoval&quot; are required for java &gt;= 9.0"}],"answers":[{"comments":[{"owner":{"account_id":4598459,"reputation":35,"user_id":3729873,"display_name":"luv-yzag"},"score":1,"creation_date":1676747180,"post_id":75487856,"comment_id":133201119,"body_markdown":"Moving the javadoc and the @Depcreted to the top did the trick. Thanks!","body":"Moving the javadoc and the @Depcreted to the top did the trick. Thanks!"}],"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yldz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676657786,"creation_date":1676657264,"answer_id":75487856,"question_id":75487420,"body_markdown":"Try this: \r\n\r\n```\r\n/**\r\n * @deprecated (when, why, refactoring advice...)\r\n */\r\n@Deprecated\r\n@Data\r\n@AllArgsConstructor\r\n@Builder\r\n@NoArgsConstructor\r\npublic class SomeClass {\r\n\r\n}\r\n```\r\n\r\nFor more information: https://rules.sonarsource.com/java/RSPEC-1123","title":"SonarQube throws CodeSmell &quot;Add the missing @deprecated Javadoc tag.&quot;","body":"<p>Try this:</p>\n<pre><code>/**\n * @deprecated (when, why, refactoring advice...)\n */\n@Deprecated\n@Data\n@AllArgsConstructor\n@Builder\n@NoArgsConstructor\npublic class SomeClass {\n\n}\n</code></pre>\n<p>For more information: <a href=\"https://rules.sonarsource.com/java/RSPEC-1123\" rel=\"nofollow noreferrer\">https://rules.sonarsource.com/java/RSPEC-1123</a></p>\n"}],"owner":{"account_id":4598459,"reputation":35,"user_id":3729873,"display_name":"luv-yzag"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75487856,"answer_count":1,"score":1,"last_activity_date":1676657786,"creation_date":1676654592,"question_id":75487420,"body_markdown":"I use Java 8 and the existing code just had @Deprecated and it was tagged by SonarQube. I tried adding @deprecated Javadoc tag to fix this issue. But, it still throws the same error. Here&#39;s what I have added:\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@Builder\r\n@NoArgsConstructor\r\n/**\r\n * @deprecated (Not using this now)\r\n */\r\n@Deprecated\r\npublic class SomeClass {\r\n```\r\n\r\nCan someone please point out what the mistake is in the above code? Or, provide me the correct way to solve this issue.\r\n","title":"SonarQube throws CodeSmell &quot;Add the missing @deprecated Javadoc tag.&quot;","body":"<p>I use Java 8 and the existing code just had @Deprecated and it was tagged by SonarQube. I tried adding @deprecated Javadoc tag to fix this issue. But, it still throws the same error. Here's what I have added:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@Builder\n@NoArgsConstructor\n/**\n * @deprecated (Not using this now)\n */\n@Deprecated\npublic class SomeClass {\n</code></pre>\n<p>Can someone please point out what the mistake is in the above code? Or, provide me the correct way to solve this issue.</p>\n"},{"tags":["java","eclipse","time","webdriver"],"comments":[{"owner":{"account_id":4629221,"reputation":2621,"user_id":3752185,"display_name":"Janar"},"score":0,"creation_date":1433406124,"post_id":30638539,"comment_id":49341695,"body_markdown":"Are you sure you are creating a new date object every time?","body":"Are you sure you are creating a new date object every time?"},{"owner":{"account_id":5036884,"reputation":647,"user_id":4239121,"accept_rate":80,"display_name":"slarge"},"score":0,"creation_date":1433406182,"post_id":30638539,"comment_id":49341728,"body_markdown":"You need to supply more information to be able to help you otherwise we are just guessing.","body":"You need to supply more information to be able to help you otherwise we are just guessing."},{"owner":{"account_id":6194489,"reputation":155,"user_id":4826243,"accept_rate":73,"display_name":"Keliimek"},"score":0,"creation_date":1433406702,"post_id":30638539,"comment_id":49342025,"body_markdown":"and what do you need? i can give you full code test","body":"and what do you need? i can give you full code test"},{"owner":{"account_id":4629221,"reputation":2621,"user_id":3752185,"display_name":"Janar"},"score":0,"creation_date":1433406992,"post_id":30638539,"comment_id":49342207,"body_markdown":"Show the code that outputs text (is it a method, what arguments does it take, how it is called)","body":"Show the code that outputs text (is it a method, what arguments does it take, how it is called)"},{"owner":{"account_id":6194489,"reputation":155,"user_id":4826243,"accept_rate":73,"display_name":"Keliimek"},"score":0,"creation_date":1433407688,"post_id":30638539,"comment_id":49342673,"body_markdown":"i added code of test","body":"i added code of test"}],"answers":[{"tags":[],"owner":{"account_id":4282603,"reputation":1705,"user_id":3501502,"display_name":"Anton Angelov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433406321,"creation_date":1433406321,"answer_id":30638682,"question_id":30638539,"body_markdown":"Instead of Date dNow = new Date( ); you should use:\r\n\r\n    java.time.LocalDateTime.now()\r\nIt is going to return the current datetime.","title":"How to get current date in Java","body":"<p>Instead of Date dNow = new Date( ); you should use:</p>\n\n<pre><code>java.time.LocalDateTime.now()\n</code></pre>\n\n<p>It is going to return the current datetime.</p>\n"},{"comments":[{"owner":{"account_id":5210905,"reputation":1910,"user_id":4167384,"accept_rate":62,"display_name":"Akah"},"score":0,"creation_date":1433408188,"post_id":30638788,"comment_id":49343023,"body_markdown":"I meant that Calendar.getInstance().getTime() give you each time the current time. So you need in your prints to do ft.format(Calendar.getInstance().getTime()) instead of ft.format(dNow). You can also use ft.format(new Date( )).","body":"I meant that Calendar.getInstance().getTime() give you each time the current time. So you need in your prints to do ft.format(Calendar.getInstance().getTime()) instead of ft.format(dNow). You can also use ft.format(new Date( ))."}],"tags":[],"owner":{"account_id":5210905,"reputation":1910,"user_id":4167384,"accept_rate":62,"display_name":"Akah"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433406617,"creation_date":1433406617,"answer_id":30638788,"question_id":30638539,"body_markdown":"You can use \r\n\r\n    Calendar.getInstance().getTime()\r\n\r\nas well.","title":"How to get current date in Java","body":"<p>You can use </p>\n\n<pre><code>Calendar.getInstance().getTime()\n</code></pre>\n\n<p>as well.</p>\n"},{"tags":[],"owner":{"account_id":4629221,"reputation":2621,"user_id":3752185,"display_name":"Janar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1433408394,"creation_date":1433407774,"answer_id":30639186,"question_id":30638539,"body_markdown":"You aren&#39;t creating a new Date object.\r\nInstead of \r\n\r\n    System.out.println(ft.format(dNow) +...)\r\n\r\nYou have to create a new Date object\r\n\r\nTry changing all the dNow objects into\r\n\r\n    System.out.println(ft.format(new Date()) +...)","title":"How to get current date in Java","body":"<p>You aren't creating a new Date object.\nInstead of </p>\n\n<pre><code>System.out.println(ft.format(dNow) +...)\n</code></pre>\n\n<p>You have to create a new Date object</p>\n\n<p>Try changing all the dNow objects into</p>\n\n<pre><code>System.out.println(ft.format(new Date()) +...)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4629221,"reputation":2621,"user_id":3752185,"display_name":"Janar"},"score":0,"creation_date":1433407903,"post_id":30639203,"comment_id":49342820,"body_markdown":"That won&#39;t help since he only has one test.","body":"That won&#39;t help since he only has one test."}],"tags":[],"owner":{"account_id":5036884,"reputation":647,"user_id":4239121,"accept_rate":80,"display_name":"slarge"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433408142,"creation_date":1433407814,"answer_id":30639203,"question_id":30638539,"body_markdown":"You&#39;re not creating a new Date object before running each test.\r\n\r\nAdd \r\n\r\n    dNow = new Date( ); \r\n\r\nto the setUp method.\r\n\r\nSeparate your test into different test methods.\r\n\r\nYou could also create a new method to do the output\r\n\r\n    private void log(final String message) {\r\n        System.out.println(MessageFormat.format(&quot;{0} - {1}&quot;, ft.format(new Date(), message);\r\n    }\r\n\r\n\r\nand use that instead of\r\n    \r\n    System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; ***********ZA&#193;TEK TESTU HELP***********&quot;);\r\n\r\nlike this\r\n\r\n    log(&quot; ***********ZA&#193;TEK TESTU HELP***********&quot;);\r\n","title":"How to get current date in Java","body":"<p>You're not creating a new Date object before running each test.</p>\n\n<p>Add </p>\n\n<pre><code>dNow = new Date( ); \n</code></pre>\n\n<p>to the setUp method.</p>\n\n<p>Separate your test into different test methods.</p>\n\n<p>You could also create a new method to do the output</p>\n\n<pre><code>private void log(final String message) {\n    System.out.println(MessageFormat.format(\"{0} - {1}\", ft.format(new Date(), message);\n}\n</code></pre>\n\n<p>and use that instead of</p>\n\n<pre><code>System.out.println(ft.format(dNow) + \":\" + \" ***********ZATEK TESTU HELP***********\");\n</code></pre>\n\n<p>like this</p>\n\n<pre><code>log(\" ***********ZATEK TESTU HELP***********\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5021253,"reputation":657,"user_id":4390503,"accept_rate":60,"display_name":"Jerry Chin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433410187,"creation_date":1433410187,"answer_id":30640108,"question_id":30638539,"body_markdown":"Try to delete *dNow* declaration statement, and replace all *dNow* with *new Date()*\r\n","title":"How to get current date in Java","body":"<p>Try to delete <em>dNow</em> declaration statement, and replace all <em>dNow</em> with <em>new Date()</em></p>\n"}],"owner":{"account_id":6194489,"reputation":155,"user_id":4826243,"accept_rate":73,"display_name":"Keliimek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":30639186,"answer_count":5,"score":-1,"last_activity_date":1676657628,"creation_date":1433405921,"question_id":30638539,"body_markdown":"I am creating an automatic test for some webs and I&#39;m using WebDriver, TestNG and code that is written in Java. Every output from the console should display time, when a step is performed. A week ago everything was OK, every step had a different time set. However, now the time stays still the same.\r\n\r\n    09:50:48: ***********start***********\r\n    09:50:48: ***********PART 1***********\r\n    09:50:48: 1.1 home: OK xxxx\r\n    09:50:48: ***********PART 2***********\r\n    09:50:48: 2.1 home: OK xxxx\r\n    09:50:48: 2.2 home: OK xxxx\r\n    09:50:48: 2.3 home: OK URL xxxx\r\n    09:50:48: 2.4 home: OK xxxx\r\n    09:50:48: ***********PART 3***********\r\n    ....\r\n\r\nI have used this code:\r\n\r\n    Date dNow = new Date( );\r\n    SimpleDateFormat ft = new SimpleDateFormat (&quot;yyyy-MM-dd hh:mm:ss&quot;);\r\n    \r\n    System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; xxxx&quot;);\r\n\r\nHow can I get again the current time for every step?\r\n\r\nCode of test:\r\n\r\n    package exDrazby;\r\n    \r\n    import java.text.SimpleDateFormat;\r\n    import java.util.concurrent.TimeUnit;\r\n    import static org.junit.Assert.*;\r\n    import org.openqa.selenium.*;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.testng.annotations.AfterMethod;\r\n    import org.testng.annotations.BeforeMethod;\r\n    import org.testng.annotations.Test;\r\n    import java.util.*;\r\n    import java.util.NoSuchElementException;\r\n    \r\n    \r\n    public class Help {\r\n    \tprivate WebDriver driver;\r\n    \tprivate String baseUrl;\r\n    \tprivate StringBuffer verificationErrors = new StringBuffer();\r\n    \t Date dNow = new Date( );\r\n         SimpleDateFormat ft = new SimpleDateFormat (&quot;yyyy-MM-dd hh:mm:ss&quot;);\r\n\t\r\n\t@BeforeMethod\r\n\tpublic void setUp() throws Exception {\r\n\t\tdriver = new FirefoxDriver();\r\n\t\t//driver.manage().window().maximize();\r\n\t\tbaseUrl = &quot;http://www.labmultis.info&quot;;\r\n\t\tdriver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n\t\t \r\n\t}\r\n\t@Test\r\n\tpublic void testHelpStep1WD() throws Exception {\r\n\t\tSystem.out.println(&quot; **************************************&quot;);\r\n\t\tSystem.out.println(&quot; * Test projektu: exdrazby.cz admin verze 3.3s&quot;);\r\n\t\tSystem.out.println(&quot; * Test: HELP verze 1.0&quot;);\r\n\t\tSystem.out.println(&quot; **************************************&quot;);\r\n\t\tSystem.out.println(&quot; &quot;);\r\n\t\tSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; ***********ZA&#193;TEK TESTU HELP***********&quot;);\r\n\t\tSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; ***********PART 1***********&quot;);\r\n\t\tdriver.get(baseUrl + &quot;/jpecka.portal-exdrazby/index.php?a=mujucet&amp;aa=resetheslo&quot;);\r\n\t\tdriver.findElement(By.linkText(&quot;N&#225;povda&quot;)).click();\r\n\t\ttry {\r\n\t\t\tassertEquals(&quot;&#218;vod &gt; N&#225;povda&quot;, driver.findElement(By.cssSelector(&quot;p.breadcrumb&quot;)).getText());\r\n\t\t\tSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 1.1 help: OK str&#225;nka n&#225;povda dostupn&#225;&quot;);\r\n\t\t} catch (Error e) {\r\n\t\t\tverificationErrors.append(e.toString());\r\n\t\t\tSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 1.1 help: str&#225;nku n&#225;povda se nepodailo zobrazit!!!&quot;);\r\n\t\t}\r\n\t\tassertTrue(isElementPresent(By.cssSelector(&quot;div.box.box-inner&quot;)));\r\n\t\tSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; ***********PART 2***********&quot;);\r\n\t\ttry {\r\n\t\t\tassertEquals(&quot;Obsah&quot;, driver.findElement(By.cssSelector(&quot;h3&quot;)).getText());\r\n\t\t\tSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 2.1 help: OK box s n&#225;povdou vlevo je zobrazen&quot;);\r\n\t\t} catch (Error e) {\r\n\t\t\tverificationErrors.append(e.toString());\r\n\t\t\tSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 2.1 help: box s n&#225;povdou vlevo je chyb&#237;!!!&quot;);\r\n\t\t}\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Registrace na port&#225;lu&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Jak splnit podm&#237;nky &#250;asti v drab&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Jak drait&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Jak hledat draby&quot;)));\r\n\t\ttry {\r\n\t\t\tassertTrue(isElementPresent(By.linkText(&quot;Pojmy&quot;)));\r\n\t\t\tSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 2.2 help: OK box s n&#225;povdou vlevo obsahuje funkn&#237; linky: registrace na port&#225;lu, jak splnit podm&#237;nky &#250;asti v drab, jak drait, jak hledat draby a pojmy&quot;);\r\n\t\t} catch (Error e) {\r\n\t\t\tverificationErrors.append(e.toString());\r\n\t\t\tSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 2.2 help: box s n&#225;povdou vlevo obsahuje chybu, nkter&#253; z n&#225;sleduj&#237;ch link nen&#237; funkn&#237;: registrace na port&#225;lu, jak splnit podm&#237;nky &#250;asti v drab, jak drait, jak hledat draby a pojmy!!!&quot;);\r\n\t\t}\r\n\t\tSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; ***********PART 3***********&quot;);\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Jak se registrovat&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Co je z&#225;kladn&#237; registrace&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Registrace draitele&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Co je registrace ostatn&#237;ch &#250;astn&#237;k draby&quot;)));\r\n\t\tdriver.findElement(By.xpath(&quot;//a[contains(text(),&#39;Co v p&#237;pad, e se nemete  registrovat nebo pihl&#225;sit?&#39;)]&quot;)).click();\r\n\r\n\t\ttry {\r\n\t\t\tassertTrue(driver.findElement(By.xpath(&quot;/html/body/div[1]/div/section/div/div[2]/ol/h2&quot;)).getText().matches(&quot;^Co v p&#237;pad, e se nemete registrovat nebo pihl&#225;sit[\\\\s\\\\S]$&quot;));\r\n\t\t\tSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 3.1 help: OK N&#225;povda &gt; 1. registrace na port&#225;lu obsahuje funkn&#237; n&#225;sleduj&#237;c&#237; linky: jak se registrovat, co je z&#225;kladn&#237; registrace, co je registrace draitele, Co je registrace ostatn&#237;ch &#250;astn&#237;k draby, Co v p&#237;pad, e se nemete registrovat nebo pihl&#225;sit.&quot;);\r\n\t\t} catch (Error e) {\r\n\t\t\tverificationErrors.append(e.toString());\r\n\t\t\tSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 3.1 help: N&#225;povda &gt; 1. registrace na port&#225;lu obsahuje chybu, nkter&#253; z n&#225;sleduj&#237;ch link nen&#237; funkn&#237;: jak se registrovat, co je z&#225;kladn&#237; registrace, co je registrace draitele, Co je registrace ostatn&#237;ch &#250;astn&#237;k draby, Co v p&#237;pad, e se nemete registrovat nebo pihl&#225;sit.!!!&quot;);\r\n\t\t}\r\n\t\tdriver.findElement(By.linkText(&quot;Pojmy&quot;)).click();\r\n\t\ttry {\r\n\t\t\tassertEquals(&quot;Pojmy&quot;, driver.findElement(By.xpath(&quot;//li[5]/div&quot;)).getText());\r\n\t\t} catch (Error e) {\r\n\t\t\tverificationErrors.append(e.toString());\r\n\t\t}\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Jak prok&#225;zat totonost&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Oven&#237; totonosti u exekutora&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Doloen&#237; oven&#233; totonosti doklady zaslan&#253;mi potou&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Doloen&#237; oven&#233; totonosti kvalifikovan&#253;m certifik&#225;tem&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Doloen&#237; oven&#233; totonosti datovou schr&#225;nkou&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Doloen&#237; oven&#233; totonosti doklady konvertovan&#253;mi na pot&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Jak sloit draebn&#237; jistotu&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Pr&#225;ce s konvertovan&#253;m dokladem v &#225;sti Mj &#250;et&quot;)));\r\n\t\tdriver.findElement(By.xpath(&quot;(//a[contains(text(),&#39;Jak splnit podm&#237;nky &#250;asti v drab&#39;)])[2]&quot;)).click();\r\n\t\ttry {\r\n\t\t\tassertEquals(&quot;Jak splnit podm&#237;nky &#250;asti v drab&quot;, driver.findElement(By.cssSelector(&quot;h2&quot;)).getText());\r\n\t\t\tSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 3.2 help: OK N&#225;povda &gt; 2. Jak splnit podm&#237;nky &#250;asti v drab obsahuje funkn&#237; n&#225;sleduj&#237;c&#237; linky:Jak splnit podm&#237;nky &#250;asti v drab, Jak prok&#225;zat totonost, oven&#237; totonosti u exekutora, Doloen&#237; oven&#233; totonosti doklady zaslan&#253;mi potou, Doloen&#237; oven&#233; totonosti kvalifikovan&#253;m certifik&#225;tem, Doloen&#237; oven&#233; totonosti datovou schr&#225;nkou, Doloen&#237; oven&#233; totonosti doklady konvertovan&#253;mi na pot, Jak sloit draebn&#237; jistotu, Pr&#225;ce s konvertovan&#253;m dokladem v &#225;sti Mj &#250;et&quot;);\r\n\t\t} catch (Error e) {\r\n\t\t\tverificationErrors.append(e.toString());\r\n\t\t\tSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 3.2 help: N&#225;povda &gt; 2. Jak splnit podm&#237;nky &#250;asti v drab obsahuje chybu, nkter z n&#225;sleduj&#237;c&#237;ch link nen&#237; funkn&#237;:Jak splnit podm&#237;nky &#250;asti v drab, Jak prok&#225;zat totonost, oven&#237; totonosti u exekutora, Doloen&#237; oven&#233; totonosti doklady zaslan&#253;mi potou, Doloen&#237; oven&#233; totonosti kvalifikovan&#253;m certifik&#225;tem, Doloen&#237; oven&#233; totonosti datovou schr&#225;nkou, Doloen&#237; oven&#233; totonosti doklady konvertovan&#253;mi na pot, Jak sloit draebn&#237; jistotu, Pr&#225;ce s konvertovan&#253;m dokladem v &#225;sti Mj &#250;et!!!&quot;);\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tassertTrue(isElementPresent(By.cssSelector(&quot;img&quot;)));\r\n\t\t} catch (Error e) {\r\n\t\t\tverificationErrors.append(e.toString());\r\n\t\t}\r\n\t\tdriver.findElement(By.cssSelector(&quot;a[title=\\&quot;N&#225;pov&#233;da\\&quot;]&quot;)).click();\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Kdy zane draba&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Jak pihazovat&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Kdy draba kon&#237;&quot;)));\r\n\t\tdriver.findElement(By.linkText(&quot;Jak podat n&#225;mitky&quot;)).click();\r\n\t\ttry {\r\n\t\t\tassertEquals(&quot;Jak podat n&#225;mitky&quot;, driver.findElement(By.cssSelector(&quot;h2&quot;)).getText());\r\n\t\t\tSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 3.3 help: OK N&#225;povda &gt; 3. Jak drait obsahuje funkn&#237; n&#225;sleduj&#237;c&#237; linky: Kdy zane draba, jak pihazovat, kdy draba kon&#237;, jak podat n&#225;mitky&quot;);\r\n\t\t} catch (Error e) {\r\n\t\t\tverificationErrors.append(e.toString());\r\n\t\t\tSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 3.3 help: N&#225;povda &gt; 3. Jak drait obsahuje chybu, nkter&#253; z n&#225;sleduj&#237;c&#237;ch link je nefunkn&#237;: Kdy zane draba, jak pihazovat, kdy draba kon&#237;, jak podat n&#225;mitky!!!&quot;);\r\n\t\t}\r\n\t\tdriver.findElement(By.cssSelector(&quot;a[title=\\&quot;N&#225;pov&#233;da\\&quot;]&quot;)).click();\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Jak hledat drabu&quot;)));\r\n\t\tdriver.findElement(By.linkText(&quot;Jak nastavit emailov&#233; upozornn&#237;&quot;)).click();\r\n\t\ttry {\r\n\t\t\tassertEquals(&quot;Jak nastavit emailov&#233; upozornn&#237;&quot;, driver.findElement(By.cssSelector(&quot;h2&quot;)).getText());\r\n\t\t\tSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 3.4 help: OK N&#225;povda &gt; 4. Jak hledat draby obsahuje funkn&#237; n&#225;sleduj&#237;c&#237; linky: Jak hledat drabu, jak nastavit emailov&#233; upozornn&#237;&quot;);\r\n\t\t} catch (Error e) {\r\n\t\t\tverificationErrors.append(e.toString());\r\n\t\t\tSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 3.4 help: N&#225;povda &gt; 4. Jak hledat draby obsahuje chybu,  nkter&#253; z n&#225;sleduj&#237;c&#237;ch link nen&#237; funkn&#237;: Jak hledat drabu, jak nastavit emailov&#233; upozornn&#237;!!!&quot;);\r\n\t\t}\r\n\t\tdriver.findElement(By.cssSelector(&quot;a[title=\\&quot;N&#225;pov&#233;da\\&quot;]&quot;)).click();\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Pedkupn&#237; pr&#225;vo&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;P&#237;hoz&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Pod&#225;n&#237;&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Prvn&#237; p&#237;hoz&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Povinn&#253;&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Opr&#225;vnn&#253;&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Draba&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Vydraitel&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Draebn&#237; vyhl&#225;ka&quot;)));\r\n\t\tassertTrue(isElementPresent(By.linkText(&quot;Draebn&#237; jistota&quot;)));\r\n\t\tdriver.findElement(By.linkText(&quot;Nejni&#237; pod&#225;n&#237;&quot;)).click();\r\n\t\ttry {\r\n\t\t\tassertEquals(&quot;Nejni&#237; pod&#225;n&#237;&quot;, driver.findElement(By.cssSelector(&quot;h2&quot;)).getText());\r\n\t\t\tSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 3.5 help: OK N&#225;povda &gt; 5. Pojmy obsahuje funkn&#237; n&#225;sleduj&#237;c&#237; linky: Pedkupn&#237; pr&#225;vo, p&#237;hoz, pod&#225;n&#237;, prvn&#237; p&#237;hoz, povinn&#253;, opravnn&#253;, draba, vydraitel, draebn&#237; vyhl&#225;ka, draebn&#237; jistota, nejni&#237; pod&#225;n&#237;&quot;);\r\n\t\t} catch (Error e) {\r\n\t\t\tverificationErrors.append(e.toString());\r\n\t\t\tSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 3.5 help: N&#225;povda &gt; 5. Pojmy obsahuje chybu, nkter&#253; z n&#225;sleduj&#237;ch link je chybn&#253;: Pedkupn&#237; pr&#225;vo, p&#237;hoz, pod&#225;n&#237;, prvn&#237; p&#237;hoz, povinn&#253;, opravnn&#253;, draba, vydraitel, draebn&#237; vyhl&#225;ka, draebn&#237; jistota, nejni&#237; pod&#225;n&#237;!!!&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t@AfterMethod\r\n\tpublic void tearDown() throws Exception {\r\n\t\tdriver.close();\r\n\t\ttry\r\n\t\t{\r\n\t\t\tThread.sleep(5000);\r\n\t\t\tdriver.quit();\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t}\r\n\t}\r\n\tprivate boolean isElementPresent(By by) {\r\n\t\ttry {\r\n\t\t\tdriver.findElement(by);\r\n\t\t\treturn true;\r\n\t\t} catch (NoSuchElementException e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n    }","title":"How to get current date in Java","body":"<p>I am creating an automatic test for some webs and I'm using WebDriver, TestNG and code that is written in Java. Every output from the console should display time, when a step is performed. A week ago everything was OK, every step had a different time set. However, now the time stays still the same.</p>\n<pre><code>09:50:48: ***********start***********\n09:50:48: ***********PART 1***********\n09:50:48: 1.1 home: OK xxxx\n09:50:48: ***********PART 2***********\n09:50:48: 2.1 home: OK xxxx\n09:50:48: 2.2 home: OK xxxx\n09:50:48: 2.3 home: OK URL xxxx\n09:50:48: 2.4 home: OK xxxx\n09:50:48: ***********PART 3***********\n....\n</code></pre>\n<p>I have used this code:</p>\n<pre><code>Date dNow = new Date( );\nSimpleDateFormat ft = new SimpleDateFormat (&quot;yyyy-MM-dd hh:mm:ss&quot;);\n\nSystem.out.println(ft.format(dNow) + &quot;:&quot; + &quot; xxxx&quot;);\n</code></pre>\n<p>How can I get again the current time for every step?</p>\n<p>Code of test:</p>\n<pre><code>package exDrazby;\n\nimport java.text.SimpleDateFormat;\nimport java.util.concurrent.TimeUnit;\nimport static org.junit.Assert.*;\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.testng.annotations.AfterMethod;\nimport org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.Test;\nimport java.util.*;\nimport java.util.NoSuchElementException;\n\n\npublic class Help {\n    private WebDriver driver;\n    private String baseUrl;\n    private StringBuffer verificationErrors = new StringBuffer();\n     Date dNow = new Date( );\n     SimpleDateFormat ft = new SimpleDateFormat (&quot;yyyy-MM-dd hh:mm:ss&quot;);\n\n@BeforeMethod\npublic void setUp() throws Exception {\n    driver = new FirefoxDriver();\n    //driver.manage().window().maximize();\n    baseUrl = &quot;http://www.labmultis.info&quot;;\n    driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n     \n}\n@Test\npublic void testHelpStep1WD() throws Exception {\n    System.out.println(&quot; **************************************&quot;);\n    System.out.println(&quot; * Test projektu: exdrazby.cz admin verze 3.3s&quot;);\n    System.out.println(&quot; * Test: HELP verze 1.0&quot;);\n    System.out.println(&quot; **************************************&quot;);\n    System.out.println(&quot; &quot;);\n    System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; ***********ZATEK TESTU HELP***********&quot;);\n    System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; ***********PART 1***********&quot;);\n    driver.get(baseUrl + &quot;/jpecka.portal-exdrazby/index.php?a=mujucet&amp;aa=resetheslo&quot;);\n    driver.findElement(By.linkText(&quot;Npovda&quot;)).click();\n    try {\n        assertEquals(&quot;vod &gt; Npovda&quot;, driver.findElement(By.cssSelector(&quot;p.breadcrumb&quot;)).getText());\n        System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 1.1 help: OK strnka npovda dostupn&quot;);\n    } catch (Error e) {\n        verificationErrors.append(e.toString());\n        System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 1.1 help: strnku npovda se nepodailo zobrazit!!!&quot;);\n    }\n    assertTrue(isElementPresent(By.cssSelector(&quot;div.box.box-inner&quot;)));\n    System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; ***********PART 2***********&quot;);\n    try {\n        assertEquals(&quot;Obsah&quot;, driver.findElement(By.cssSelector(&quot;h3&quot;)).getText());\n        System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 2.1 help: OK box s npovdou vlevo je zobrazen&quot;);\n    } catch (Error e) {\n        verificationErrors.append(e.toString());\n        System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 2.1 help: box s npovdou vlevo je chyb!!!&quot;);\n    }\n    assertTrue(isElementPresent(By.linkText(&quot;Registrace na portlu&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Jak splnit podmnky asti v drab&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Jak drait&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Jak hledat draby&quot;)));\n    try {\n        assertTrue(isElementPresent(By.linkText(&quot;Pojmy&quot;)));\n        System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 2.2 help: OK box s npovdou vlevo obsahuje funkn linky: registrace na portlu, jak splnit podmnky asti v drab, jak drait, jak hledat draby a pojmy&quot;);\n    } catch (Error e) {\n        verificationErrors.append(e.toString());\n        System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 2.2 help: box s npovdou vlevo obsahuje chybu, nkter z nsledujch link nen funkn: registrace na portlu, jak splnit podmnky asti v drab, jak drait, jak hledat draby a pojmy!!!&quot;);\n    }\n    System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; ***********PART 3***********&quot;);\n    assertTrue(isElementPresent(By.linkText(&quot;Jak se registrovat&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Co je zkladn registrace&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Registrace draitele&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Co je registrace ostatnch astnk draby&quot;)));\n    driver.findElement(By.xpath(&quot;//a[contains(text(),'Co v ppad, e se nemete  registrovat nebo pihlsit?')]&quot;)).click();\n\n    try {\n        assertTrue(driver.findElement(By.xpath(&quot;/html/body/div[1]/div/section/div/div[2]/ol/h2&quot;)).getText().matches(&quot;^Co v ppad, e se nemete registrovat nebo pihlsit[\\\\s\\\\S]$&quot;));\n        System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 3.1 help: OK Npovda &gt; 1. registrace na portlu obsahuje funkn nsledujc linky: jak se registrovat, co je zkladn registrace, co je registrace draitele, Co je registrace ostatnch astnk draby, Co v ppad, e se nemete registrovat nebo pihlsit.&quot;);\n    } catch (Error e) {\n        verificationErrors.append(e.toString());\n        System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 3.1 help: Npovda &gt; 1. registrace na portlu obsahuje chybu, nkter z nsledujch link nen funkn: jak se registrovat, co je zkladn registrace, co je registrace draitele, Co je registrace ostatnch astnk draby, Co v ppad, e se nemete registrovat nebo pihlsit.!!!&quot;);\n    }\n    driver.findElement(By.linkText(&quot;Pojmy&quot;)).click();\n    try {\n        assertEquals(&quot;Pojmy&quot;, driver.findElement(By.xpath(&quot;//li[5]/div&quot;)).getText());\n    } catch (Error e) {\n        verificationErrors.append(e.toString());\n    }\n    assertTrue(isElementPresent(By.linkText(&quot;Jak prokzat totonost&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Oven totonosti u exekutora&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Doloen oven totonosti doklady zaslanmi potou&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Doloen oven totonosti kvalifikovanm certifiktem&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Doloen oven totonosti datovou schrnkou&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Doloen oven totonosti doklady konvertovanmi na pot&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Jak sloit draebn jistotu&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Prce s konvertovanm dokladem v sti Mj et&quot;)));\n    driver.findElement(By.xpath(&quot;(//a[contains(text(),'Jak splnit podmnky asti v drab')])[2]&quot;)).click();\n    try {\n        assertEquals(&quot;Jak splnit podmnky asti v drab&quot;, driver.findElement(By.cssSelector(&quot;h2&quot;)).getText());\n        System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 3.2 help: OK Npovda &gt; 2. Jak splnit podmnky asti v drab obsahuje funkn nsledujc linky:Jak splnit podmnky asti v drab, Jak prokzat totonost, oven totonosti u exekutora, Doloen oven totonosti doklady zaslanmi potou, Doloen oven totonosti kvalifikovanm certifiktem, Doloen oven totonosti datovou schrnkou, Doloen oven totonosti doklady konvertovanmi na pot, Jak sloit draebn jistotu, Prce s konvertovanm dokladem v sti Mj et&quot;);\n    } catch (Error e) {\n        verificationErrors.append(e.toString());\n        System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 3.2 help: Npovda &gt; 2. Jak splnit podmnky asti v drab obsahuje chybu, nkter z nsledujcch link nen funkn:Jak splnit podmnky asti v drab, Jak prokzat totonost, oven totonosti u exekutora, Doloen oven totonosti doklady zaslanmi potou, Doloen oven totonosti kvalifikovanm certifiktem, Doloen oven totonosti datovou schrnkou, Doloen oven totonosti doklady konvertovanmi na pot, Jak sloit draebn jistotu, Prce s konvertovanm dokladem v sti Mj et!!!&quot;);\n    }\n    try {\n        assertTrue(isElementPresent(By.cssSelector(&quot;img&quot;)));\n    } catch (Error e) {\n        verificationErrors.append(e.toString());\n    }\n    driver.findElement(By.cssSelector(&quot;a[title=\\&quot;Npovda\\&quot;]&quot;)).click();\n    assertTrue(isElementPresent(By.linkText(&quot;Kdy zane draba&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Jak pihazovat&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Kdy draba kon&quot;)));\n    driver.findElement(By.linkText(&quot;Jak podat nmitky&quot;)).click();\n    try {\n        assertEquals(&quot;Jak podat nmitky&quot;, driver.findElement(By.cssSelector(&quot;h2&quot;)).getText());\n        System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 3.3 help: OK Npovda &gt; 3. Jak drait obsahuje funkn nsledujc linky: Kdy zane draba, jak pihazovat, kdy draba kon, jak podat nmitky&quot;);\n    } catch (Error e) {\n        verificationErrors.append(e.toString());\n        System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 3.3 help: Npovda &gt; 3. Jak drait obsahuje chybu, nkter z nsledujcch link je nefunkn: Kdy zane draba, jak pihazovat, kdy draba kon, jak podat nmitky!!!&quot;);\n    }\n    driver.findElement(By.cssSelector(&quot;a[title=\\&quot;Npovda\\&quot;]&quot;)).click();\n    assertTrue(isElementPresent(By.linkText(&quot;Jak hledat drabu&quot;)));\n    driver.findElement(By.linkText(&quot;Jak nastavit emailov upozornn&quot;)).click();\n    try {\n        assertEquals(&quot;Jak nastavit emailov upozornn&quot;, driver.findElement(By.cssSelector(&quot;h2&quot;)).getText());\n        System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 3.4 help: OK Npovda &gt; 4. Jak hledat draby obsahuje funkn nsledujc linky: Jak hledat drabu, jak nastavit emailov upozornn&quot;);\n    } catch (Error e) {\n        verificationErrors.append(e.toString());\n        System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 3.4 help: Npovda &gt; 4. Jak hledat draby obsahuje chybu,  nkter z nsledujcch link nen funkn: Jak hledat drabu, jak nastavit emailov upozornn!!!&quot;);\n    }\n    driver.findElement(By.cssSelector(&quot;a[title=\\&quot;Npovda\\&quot;]&quot;)).click();\n    assertTrue(isElementPresent(By.linkText(&quot;Pedkupn prvo&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Phoz&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Podn&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Prvn phoz&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Povinn&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Oprvnn&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Draba&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Vydraitel&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Draebn vyhlka&quot;)));\n    assertTrue(isElementPresent(By.linkText(&quot;Draebn jistota&quot;)));\n    driver.findElement(By.linkText(&quot;Nejni podn&quot;)).click();\n    try {\n        assertEquals(&quot;Nejni podn&quot;, driver.findElement(By.cssSelector(&quot;h2&quot;)).getText());\n        System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 3.5 help: OK Npovda &gt; 5. Pojmy obsahuje funkn nsledujc linky: Pedkupn prvo, phoz, podn, prvn phoz, povinn, opravnn, draba, vydraitel, draebn vyhlka, draebn jistota, nejni podn&quot;);\n    } catch (Error e) {\n        verificationErrors.append(e.toString());\n        System.out.println(ft.format(dNow) + &quot;:&quot; + &quot; 3.5 help: Npovda &gt; 5. Pojmy obsahuje chybu, nkter z nsledujch link je chybn: Pedkupn prvo, phoz, podn, prvn phoz, povinn, opravnn, draba, vydraitel, draebn vyhlka, draebn jistota, nejni podn!!!&quot;);\n    }\n}\n\n\n@AfterMethod\npublic void tearDown() throws Exception {\n    driver.close();\n    try\n    {\n        Thread.sleep(5000);\n        driver.quit();\n    }\n    catch(Exception e)\n    {\n    }\n}\nprivate boolean isElementPresent(By by) {\n    try {\n        driver.findElement(by);\n        return true;\n    } catch (NoSuchElementException e) {\n        return false;\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","artificial-intelligence","tic-tac-toe","minmax"],"comments":[{"owner":{"account_id":3317226,"reputation":2153,"user_id":2789300,"accept_rate":88,"display_name":"Alejandro Cumpa"},"score":0,"creation_date":1676646284,"post_id":75485682,"comment_id":133184885,"body_markdown":"What&#39;s the error you&#39;re getting and what should be the accepted answer?  Also you don&#39;t need to use &quot;else if&quot; if you&#39;re returning a value in the previous step, cause it would never be an else.","body":"What&#39;s the error you&#39;re getting and what should be the accepted answer?  Also you don&#39;t need to use &quot;else if&quot; if you&#39;re returning a value in the previous step, cause it would never be an else."},{"owner":{"account_id":18373590,"reputation":173,"user_id":13383185,"display_name":"readJohn"},"score":0,"creation_date":1676647514,"post_id":75485682,"comment_id":133185270,"body_markdown":"@AlejandroCumpa  if i am going to win, the ai is not trying to occupy the case , so it&#39;s ignoring my winning cases","body":"@AlejandroCumpa  if i am going to win, the ai is not trying to occupy the case , so it&#39;s ignoring my winning cases"},{"owner":{"account_id":3317226,"reputation":2153,"user_id":2789300,"accept_rate":88,"display_name":"Alejandro Cumpa"},"score":0,"creation_date":1676647820,"post_id":75485682,"comment_id":133185362,"body_markdown":"Can you post your Tableu class ?","body":"Can you post your Tableu class ?"}],"answers":[{"tags":[],"owner":{"account_id":3317226,"reputation":2153,"user_id":2789300,"accept_rate":88,"display_name":"Alejandro Cumpa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676657441,"creation_date":1676657441,"answer_id":75487882,"question_id":75485682,"body_markdown":"The problem relies on the `ChooseCase` function, because it is just evaluating where the board is empty, so it would choose the first or the last empy space ( depending on minimizing or maximizing). You need to adjust your `Evaluation Function` to be aware of the board state so it can makes a better choice, taking this exmple: \r\nhttps://kartikkukreja.wordpress.com/2013/03/30/heuristic-function-for-tic-tac-toe/\r\n\r\nIn Java should look like this: \r\n\r\n    private final int possibleWins = 8;\r\n    private final int[][] threeInARow = {\r\n            { 0, 1, 2 },\r\n            { 3, 4, 5 },\r\n            { 6, 7, 8 },\r\n            { 0, 3, 6 },\r\n            { 1, 4, 7 },\r\n            { 2, 5, 8 },\r\n            { 0, 4, 8 },\r\n            { 2, 4, 6 }\r\n    };\r\n    private final int[][] heuristicArray = {\r\n            { 0, -10, -100, -1000 },\r\n            { 10, 0, 0, 0 },\r\n            { 100, 0, 0, 0 },\r\n            { 1000, 0, 0, 0 }\r\n    };\r\n\r\n    public int evaluatePosition(char[] board, char player) {\r\n        char opponent = (player == &#39;X&#39;) ? &#39;O&#39; : &#39;X&#39;, piece;\r\n        int players, others, t = 0, i, j;\r\n\r\n        for (i = 0; i &lt; 8; i++)  {\r\n            players = others = 0;\r\n            for (j = 0; j &lt; 3; j++)  {\r\n                piece = board[threeInARow[i][j]];\r\n                if (piece == player)\r\n                    players++;\r\n                else if (piece == opponent)\r\n                    others++;\r\n            }\r\n            t += heuristicArray[players][others];\r\n        }\r\n        return t;\r\n    }\r\n  \r\n\r\n   \r\n\r\n\r\n\r\n\r\nAlso check the previous question: https://stackoverflow.com/questions/20872330/how-to-create-an-evaluation-function-for-a-tic-tac-toe-variant-game\r\n\r\n\r\n","title":"MinMax algorithm is not counting the human player","body":"<p>The problem relies on the <code>ChooseCase</code> function, because it is just evaluating where the board is empty, so it would choose the first or the last empy space ( depending on minimizing or maximizing). You need to adjust your <code>Evaluation Function</code> to be aware of the board state so it can makes a better choice, taking this exmple:\n<a href=\"https://kartikkukreja.wordpress.com/2013/03/30/heuristic-function-for-tic-tac-toe/\" rel=\"nofollow noreferrer\">https://kartikkukreja.wordpress.com/2013/03/30/heuristic-function-for-tic-tac-toe/</a></p>\n<p>In Java should look like this:</p>\n<pre><code>private final int possibleWins = 8;\nprivate final int[][] threeInARow = {\n        { 0, 1, 2 },\n        { 3, 4, 5 },\n        { 6, 7, 8 },\n        { 0, 3, 6 },\n        { 1, 4, 7 },\n        { 2, 5, 8 },\n        { 0, 4, 8 },\n        { 2, 4, 6 }\n};\nprivate final int[][] heuristicArray = {\n        { 0, -10, -100, -1000 },\n        { 10, 0, 0, 0 },\n        { 100, 0, 0, 0 },\n        { 1000, 0, 0, 0 }\n};\n\npublic int evaluatePosition(char[] board, char player) {\n    char opponent = (player == 'X') ? 'O' : 'X', piece;\n    int players, others, t = 0, i, j;\n\n    for (i = 0; i &lt; 8; i++)  {\n        players = others = 0;\n        for (j = 0; j &lt; 3; j++)  {\n            piece = board[threeInARow[i][j]];\n            if (piece == player)\n                players++;\n            else if (piece == opponent)\n                others++;\n        }\n        t += heuristicArray[players][others];\n    }\n    return t;\n}\n</code></pre>\n<p>Also check the previous question: <a href=\"https://stackoverflow.com/questions/20872330/how-to-create-an-evaluation-function-for-a-tic-tac-toe-variant-game\">How to create an evaluation function for a TIC-TAC-TOE variant game</a></p>\n"}],"owner":{"account_id":18373590,"reputation":173,"user_id":13383185,"display_name":"readJohn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75487882,"answer_count":1,"score":0,"last_activity_date":1676657441,"creation_date":1676644827,"question_id":75485682,"body_markdown":"I am using MinMax algorithm for Tictactoe, and it works correctly, but it&#39;s trying to win, without blocking my turns, so it&#39;s very easy to win the AI.\r\nI added the depth parameter, but the result is the same.\r\nHere you can see my code:\r\n\r\n\r\n    public int playMiniMax(Tableau t, char maximizingPlayer,int depth) {\r\n        int bestMove = 0;\r\n        if (t.getWinner() == &#39;x&#39;) {\r\n            return 1;\r\n        } else if (t.getWinner() == &#39;d&#39;) {\r\n            return 0;\r\n        } else if (t.getWinner() == &#39;o&#39;) {\r\n            return -1;\r\n        }\r\n        else if (depth == 0) {\r\n            return 0;\r\n        }\r\n        else {\r\n            int bestValue;\r\n            int i;\r\n            if (maximizingPlayer == &#39;x&#39;) {\r\n                bestValue = Integer.MIN_VALUE;\r\n\r\n                for(i = 1; i &lt;= 9; ++i) {\r\n                    if (t.chooseCase(i, &#39;x&#39;)) {\r\n                        bestValue = Math.max(bestValue, this.playMiniMax(t, &#39;o&#39;,depth-1));\r\n                        bestMove = i;\r\n                        t.resetCase(i);\r\n                    }\r\n                }\r\n            } else {\r\n                bestValue = Integer.MAX_VALUE;\r\n\r\n                for(i = 1; i &lt;= 9; ++i) {\r\n                    if (t.chooseCase(i, &#39;o&#39;)) {\r\n                        bestValue = Math.min(bestValue, this.playMiniMax(t, &#39;x&#39;,depth-1));\r\n                        bestMove = i;\r\n                        t.resetCase(i);\r\n                    }\r\n                }\r\n            }\r\n\r\n            return bestMove;\r\n        }\r\n    }\r\nThe &quot;bestMove&quot; is the best case(from 1 to 9) proposed by minmax, and in my main I am calling it like this:\r\n\r\n     int movei = playerAI.playMiniMax(t, &#39;x&#39;,3);\r\n                correctCase = t.chooseCase(movei, &#39;x&#39;);\r\n\r\n\r\n\r\n    public class Tableau {\r\n        private char[][] charArray;\r\n        private boolean gameIsOver = false;\r\n        private char winner = &#39;n&#39;;\r\n\r\n    Tableau(char[][] _charArray) {\r\n        this.charArray = _charArray;\r\n        this.moves = new Stack();\r\n        this.ceateTable();\r\n    }\r\n\r\n    public void ceateTable() {\r\n        for(int i = 0; i &lt; this.charArray.length; ++i) {\r\n            for(int j = 0; j &lt; this.charArray.length; ++j) {\r\n                if (j != 2 &amp;&amp; j != 5) {\r\n                    System.out.print(this.charArray[i][j] + &quot;|&quot;);\r\n                } else {\r\n                    System.out.println(this.charArray[i][j] + &quot;|&quot;);\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public boolean chooseCase(int number, char player) {\r\n        int c = 1;\r\n\r\n        for(int i = 0; i &lt; this.charArray.length; ++i) {\r\n            for(int j = 0; j &lt; this.charArray.length; ++j) {\r\n                if (c == number &amp;&amp; this.charArray[i][j] == &#39;-&#39;) {\r\n                    this.charArray[i][j] = player;\r\n                    return true;\r\n                }\r\n\r\n                ++c;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public void resetCase(int number) {\r\n        int c = 1;\r\n\r\n        for(int i = 0; i &lt; this.charArray.length; ++i) {\r\n            for(int j = 0; j &lt; this.charArray.length; ++j) {\r\n                if (c == number) {\r\n                    this.charArray[i][j] = &#39;-&#39;;\r\n                }\r\n\r\n                ++c;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public boolean checkWin(char player) {\r\n        if ((this.charArray[0][0] != player || this.charArray[0][1] != player || this.charArray[0][2] != player) &amp;&amp; (this.charArray[1][0] != player || this.charArray[1][1] != player || this.charArray[1][2] != player) &amp;&amp; (this.charArray[2][0] != player || this.charArray[2][1] != player || this.charArray[2][2] != player) &amp;&amp; (this.charArray[0][0] != player || this.charArray[1][0] != player || this.charArray[2][0] != player) &amp;&amp; (this.charArray[0][1] != player || this.charArray[1][1] != player || this.charArray[2][1] != player) &amp;&amp; (this.charArray[0][2] != player || this.charArray[1][2] != player || this.charArray[2][2] != player) &amp;&amp; (this.charArray[0][0] != player || this.charArray[1][1] != player || this.charArray[2][2] != player) &amp;&amp; (this.charArray[0][2] != player || this.charArray[1][1] != player || this.charArray[2][0] != player)) {\r\n            return false;\r\n        } else {\r\n            System.out.println(&quot;Dear &quot; + player + &quot; you won!&quot;);\r\n            this.gameIsOver = true;\r\n            this.winner = player;\r\n            return true;\r\n        }\r\n    }\r\n\r\n    public boolean isFull() {\r\n        for(int i = 0; i &lt; this.charArray.length; ++i) {\r\n            for(int j = 0; j &lt; this.charArray.length; ++j) {\r\n                if (this.charArray[i][j] == &#39;-&#39;) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    public boolean checkDraw(char player) {\r\n        if (!this.checkWin(player) &amp;&amp; this.isFull()) {\r\n            System.out.println(&quot;It&#39;s a draw!!!&quot;);\r\n            this.winner = &#39;d&#39;;\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public boolean checkLoose(char player) {\r\n        return player == &#39;x&#39; ? this.checkWin(&#39;o&#39;) : false;\r\n    }\r\n\r\n    public boolean isGameIsOver() {\r\n        return this.gameIsOver;\r\n    }\r\n\r\n    public void setGameIsOver(boolean gameIsOver) {\r\n        this.gameIsOver = gameIsOver;\r\n    }\r\n\r\n    public char getWinner() {\r\n        return this.winner;\r\n    }\r\n\r\n    public void setWinner(char winner) {\r\n        this.winner = winner;\r\n    }\r\n}\r\n\r\n","title":"MinMax algorithm is not counting the human player","body":"<p>I am using MinMax algorithm for Tictactoe, and it works correctly, but it's trying to win, without blocking my turns, so it's very easy to win the AI.\nI added the depth parameter, but the result is the same.\nHere you can see my code:</p>\n<pre><code>public int playMiniMax(Tableau t, char maximizingPlayer,int depth) {\n    int bestMove = 0;\n    if (t.getWinner() == 'x') {\n        return 1;\n    } else if (t.getWinner() == 'd') {\n        return 0;\n    } else if (t.getWinner() == 'o') {\n        return -1;\n    }\n    else if (depth == 0) {\n        return 0;\n    }\n    else {\n        int bestValue;\n        int i;\n        if (maximizingPlayer == 'x') {\n            bestValue = Integer.MIN_VALUE;\n\n            for(i = 1; i &lt;= 9; ++i) {\n                if (t.chooseCase(i, 'x')) {\n                    bestValue = Math.max(bestValue, this.playMiniMax(t, 'o',depth-1));\n                    bestMove = i;\n                    t.resetCase(i);\n                }\n            }\n        } else {\n            bestValue = Integer.MAX_VALUE;\n\n            for(i = 1; i &lt;= 9; ++i) {\n                if (t.chooseCase(i, 'o')) {\n                    bestValue = Math.min(bestValue, this.playMiniMax(t, 'x',depth-1));\n                    bestMove = i;\n                    t.resetCase(i);\n                }\n            }\n        }\n\n        return bestMove;\n    }\n}\n</code></pre>\n<p>The &quot;bestMove&quot; is the best case(from 1 to 9) proposed by minmax, and in my main I am calling it like this:</p>\n<pre><code> int movei = playerAI.playMiniMax(t, 'x',3);\n            correctCase = t.chooseCase(movei, 'x');\n\n\n\npublic class Tableau {\n    private char[][] charArray;\n    private boolean gameIsOver = false;\n    private char winner = 'n';\n\nTableau(char[][] _charArray) {\n    this.charArray = _charArray;\n    this.moves = new Stack();\n    this.ceateTable();\n}\n\npublic void ceateTable() {\n    for(int i = 0; i &lt; this.charArray.length; ++i) {\n        for(int j = 0; j &lt; this.charArray.length; ++j) {\n            if (j != 2 &amp;&amp; j != 5) {\n                System.out.print(this.charArray[i][j] + &quot;|&quot;);\n            } else {\n                System.out.println(this.charArray[i][j] + &quot;|&quot;);\n            }\n        }\n    }\n\n}\n\npublic boolean chooseCase(int number, char player) {\n    int c = 1;\n\n    for(int i = 0; i &lt; this.charArray.length; ++i) {\n        for(int j = 0; j &lt; this.charArray.length; ++j) {\n            if (c == number &amp;&amp; this.charArray[i][j] == '-') {\n                this.charArray[i][j] = player;\n                return true;\n            }\n\n            ++c;\n        }\n    }\n\n    return false;\n}\n\npublic void resetCase(int number) {\n    int c = 1;\n\n    for(int i = 0; i &lt; this.charArray.length; ++i) {\n        for(int j = 0; j &lt; this.charArray.length; ++j) {\n            if (c == number) {\n                this.charArray[i][j] = '-';\n            }\n\n            ++c;\n        }\n    }\n\n}\n\npublic boolean checkWin(char player) {\n    if ((this.charArray[0][0] != player || this.charArray[0][1] != player || this.charArray[0][2] != player) &amp;&amp; (this.charArray[1][0] != player || this.charArray[1][1] != player || this.charArray[1][2] != player) &amp;&amp; (this.charArray[2][0] != player || this.charArray[2][1] != player || this.charArray[2][2] != player) &amp;&amp; (this.charArray[0][0] != player || this.charArray[1][0] != player || this.charArray[2][0] != player) &amp;&amp; (this.charArray[0][1] != player || this.charArray[1][1] != player || this.charArray[2][1] != player) &amp;&amp; (this.charArray[0][2] != player || this.charArray[1][2] != player || this.charArray[2][2] != player) &amp;&amp; (this.charArray[0][0] != player || this.charArray[1][1] != player || this.charArray[2][2] != player) &amp;&amp; (this.charArray[0][2] != player || this.charArray[1][1] != player || this.charArray[2][0] != player)) {\n        return false;\n    } else {\n        System.out.println(&quot;Dear &quot; + player + &quot; you won!&quot;);\n        this.gameIsOver = true;\n        this.winner = player;\n        return true;\n    }\n}\n\npublic boolean isFull() {\n    for(int i = 0; i &lt; this.charArray.length; ++i) {\n        for(int j = 0; j &lt; this.charArray.length; ++j) {\n            if (this.charArray[i][j] == '-') {\n                return false;\n            }\n        }\n    }\n\n    return true;\n}\n\npublic boolean checkDraw(char player) {\n    if (!this.checkWin(player) &amp;&amp; this.isFull()) {\n        System.out.println(&quot;It's a draw!!!&quot;);\n        this.winner = 'd';\n        return true;\n    } else {\n        return false;\n    }\n}\n\npublic boolean checkLoose(char player) {\n    return player == 'x' ? this.checkWin('o') : false;\n}\n\npublic boolean isGameIsOver() {\n    return this.gameIsOver;\n}\n\npublic void setGameIsOver(boolean gameIsOver) {\n    this.gameIsOver = gameIsOver;\n}\n\npublic char getWinner() {\n    return this.winner;\n}\n\npublic void setWinner(char winner) {\n    this.winner = winner;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1676572432,"post_id":75476522,"comment_id":133168917,"body_markdown":"Your Java fields are of type `Instant`. And instant doesn&#39;t *have* a time zone (or even a UTC offset, which isn&#39;t the same thing) - it&#39;s just an instant in time. (It doesn&#39;t help that we don&#39;t know what kind of database you&#39;re using, or what the field types in the database are...)","body":"Your Java fields are of type <code>Instant</code>. And instant doesn&#39;t <i>have</i> a time zone (or even a UTC offset, which isn&#39;t the same thing) - it&#39;s just an instant in time. (It doesn&#39;t help that we don&#39;t know what kind of database you&#39;re using, or what the field types in the database are...)"},{"owner":{"account_id":7770850,"reputation":502,"user_id":5880486,"display_name":"erondem"},"score":0,"creation_date":1676572597,"post_id":75476522,"comment_id":133168971,"body_markdown":"I am using Postgres and types of fields are timestamp in database.","body":"I am using Postgres and types of fields are timestamp in database."},{"owner":{"account_id":7770850,"reputation":502,"user_id":5880486,"display_name":"erondem"},"score":0,"creation_date":1676572802,"post_id":75476522,"comment_id":133169031,"body_markdown":"@JonSkeet Can you have a look at edit I have made?","body":"@JonSkeet Can you have a look at edit I have made?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1676572965,"post_id":75476522,"comment_id":133169105,"body_markdown":"&quot;foundCase returned with GMT+3 again.&quot; seems pretty unclear to me, and you haven&#39;t addressed anything in my comment within the question. (All relevant information should be in the question.) As far as I&#39;m aware, the timestamp field in Postgres doesn&#39;t store UTC offset information either - again, it&#39;s just an instant in time. It might be *displayed* with respect to some time zone, but that&#39;s not the same as the value itself having a UTC offset.","body":"&quot;foundCase returned with GMT+3 again.&quot; seems pretty unclear to me, and you haven&#39;t addressed anything in my comment within the question. (All relevant information should be in the question.) As far as I&#39;m aware, the timestamp field in Postgres doesn&#39;t store UTC offset information either - again, it&#39;s just an instant in time. It might be <i>displayed</i> with respect to some time zone, but that&#39;s not the same as the value itself having a UTC offset."},{"owner":{"account_id":7770850,"reputation":502,"user_id":5880486,"display_name":"erondem"},"score":0,"creation_date":1676573081,"post_id":75476522,"comment_id":133169140,"body_markdown":"findByID() method returns those two fields with GMT+3 as they are appear in database on the contrary save() method saves entity to database with those fields are in GMT+3 but returns GMT+0","body":"findByID() method returns those two fields with GMT+3 as they are appear in database on the contrary save() method saves entity to database with those fields are in GMT+3 but returns GMT+0"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1676573129,"post_id":75476522,"comment_id":133169155,"body_markdown":"&quot;findByID() method returns those two fields with GMT+3&quot; - in what way? What&#39;s the return type in Java? How *exactly* are you observing &quot;with GMT+3&quot;? Again, you should *edit your question* to make all of this much, much clearer.","body":"&quot;findByID() method returns those two fields with GMT+3&quot; - in what way? What&#39;s the return type in Java? How <i>exactly</i> are you observing &quot;with GMT+3&quot;? Again, you should <i>edit your question</i> to make all of this much, much clearer."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1676629798,"post_id":75476522,"comment_id":133180133,"body_markdown":"&quot;This is the database when I use save() method.&quot; You&#39;re showing a UI representation of the values. (We can&#39;t tell which UI.) If it&#39;s deciding to display the values in UTC+3, then so be it. That doesn&#39;t mean the value inherently &quot;knows&quot; that it&#39;s UTC+3. It looks like the same instant in time is being represented - in other words, there&#39;s no actual bug.","body":"&quot;This is the database when I use save() method.&quot; You&#39;re showing a UI representation of the values. (We can&#39;t tell which UI.) If it&#39;s deciding to display the values in UTC+3, then so be it. That doesn&#39;t mean the value inherently &quot;knows&quot; that it&#39;s UTC+3. It looks like the same instant in time is being represented - in other words, there&#39;s no actual bug."}],"answers":[{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676657146,"creation_date":1676657146,"answer_id":75487836,"question_id":75476522,"body_markdown":"It looks more likely a database timezone issue than a jpa issue.\r\n\r\nPlease first try executing `now()` in Postgresql and check the timezone of the database.\r\n\r\nMy guess is:\r\n\r\nAs both `lastModifiedDate` and `createdDate` are set `nullable = false`, when **saving** null values, timestamps of the db timezone were generated to the fields.\r\n\r\nWhen **finding** the entities, the timestamps are being treated as UTC, and since your application is in +3 timezone, it adds 3 hours to both fields.\r\n\r\nPersonally I would suggest using `j.u.Date` instead of `Instant` when saving entities to db.","title":"JPA saves entity to database with correct timezone but returns wrong timezone","body":"<p>It looks more likely a database timezone issue than a jpa issue.</p>\n<p>Please first try executing <code>now()</code> in Postgresql and check the timezone of the database.</p>\n<p>My guess is:</p>\n<p>As both <code>lastModifiedDate</code> and <code>createdDate</code> are set <code>nullable = false</code>, when <strong>saving</strong> null values, timestamps of the db timezone were generated to the fields.</p>\n<p>When <strong>finding</strong> the entities, the timestamps are being treated as UTC, and since your application is in +3 timezone, it adds 3 hours to both fields.</p>\n<p>Personally I would suggest using <code>j.u.Date</code> instead of <code>Instant</code> when saving entities to db.</p>\n"}],"owner":{"account_id":7770850,"reputation":502,"user_id":5880486,"display_name":"erondem"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1676657146,"creation_date":1676572322,"question_id":75476522,"body_markdown":"Hi I have problem with JPA timezone. My model has two field\r\n\r\n    @Data\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;cases&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    @SequenceGenerator(name = &quot;seq_cases&quot;, sequenceName = &quot;seq_cases&quot;, allocationSize = 1)\r\n    public class Cases implements Serializable {\r\n    \r\n        @LastModifiedDate\r\n        @Column(nullable = false)\r\n        private Instant lastModifiedDate;\r\n    \r\n        @CreatedDate\r\n        @Column(nullable = false, updatable = false)\r\n        private Instant createdDate;\r\n    }\r\n\r\n I am using JPA repository as following.\r\n\r\n    @Repository\r\n    public interface CaseRepository extends JpaRepository&lt;Cases, UUID&gt; {\r\n    }\r\n\r\n\r\nIn Service, \r\n\r\n    var savedCase = caseRepository.save(caseDTO)\r\n\r\nI am saving Case entity with `caseRepository.save()` method without `lastModifiedDate` and `createdDate` in `caseDTO`. I am not sure when they are generated but those two fields are saved to database with timezone GMT+3. The response of `caseRepository.save()` which is `savedCase` has those two fields with timezone GMT+0.\r\n\r\nSo as summary response of caseRepository.save() method and record in database has different time zones. \r\n\r\nAlso this is my application.yml file and I am using `spring-boot-starter-data-jpa`\r\n\r\n    spring:\r\n      jackson:\r\n        time-zone: Asia/Istanbul\r\n    \r\n      jpa:\r\n        properties:\r\n          hibernate:\r\n            jdbc:\r\n              time_zone: Asia/Istanbul\r\n\r\n\r\n\r\nEdit: \r\n\r\n\r\nWhen I add this method to repository\r\n\r\n    @Repository\r\n    public interface CaseRepository extends JpaRepository&lt;Cases, UUID&gt; {\r\n        Optional&lt;Cases&gt; findById(UUID id);\r\n    }\r\n\r\n\r\n\r\nAnd use it like this:\r\n\r\n    var foundCase =  caseRepository.findById(UUID.fromString(id)).orElseThrow(() -&gt; new NotFoundException(&quot;Case not found.&quot;));\r\n\r\n\r\n\r\nfoundCase returned with GMT+3 again. So problem only occurs in save method.\r\n\r\nEdit 2:\r\n\r\nThis is the database when I use save() method.\r\n[![Database][1]][1]\r\n\r\nThis is the debug mode. You are seeing response of save() method. As you can see there is difference.  :\r\n\r\n[![Debug][2]][2]\r\n\r\nAnd this is response of findById method\r\n[![findById][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QrfB5.png\r\n  [2]: https://i.stack.imgur.com/DkG7W.png\r\n  [3]: https://i.stack.imgur.com/3fzoX.png","title":"JPA saves entity to database with correct timezone but returns wrong timezone","body":"<p>Hi I have problem with JPA timezone. My model has two field</p>\n<pre><code>@Data\n@Builder\n@Entity\n@Table(name = &quot;cases&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@EntityListeners(AuditingEntityListener.class)\n@SequenceGenerator(name = &quot;seq_cases&quot;, sequenceName = &quot;seq_cases&quot;, allocationSize = 1)\npublic class Cases implements Serializable {\n\n    @LastModifiedDate\n    @Column(nullable = false)\n    private Instant lastModifiedDate;\n\n    @CreatedDate\n    @Column(nullable = false, updatable = false)\n    private Instant createdDate;\n}\n</code></pre>\n<p>I am using JPA repository as following.</p>\n<pre><code>@Repository\npublic interface CaseRepository extends JpaRepository&lt;Cases, UUID&gt; {\n}\n</code></pre>\n<p>In Service,</p>\n<pre><code>var savedCase = caseRepository.save(caseDTO)\n</code></pre>\n<p>I am saving Case entity with <code>caseRepository.save()</code> method without <code>lastModifiedDate</code> and <code>createdDate</code> in <code>caseDTO</code>. I am not sure when they are generated but those two fields are saved to database with timezone GMT+3. The response of <code>caseRepository.save()</code> which is <code>savedCase</code> has those two fields with timezone GMT+0.</p>\n<p>So as summary response of caseRepository.save() method and record in database has different time zones.</p>\n<p>Also this is my application.yml file and I am using <code>spring-boot-starter-data-jpa</code></p>\n<pre><code>spring:\n  jackson:\n    time-zone: Asia/Istanbul\n\n  jpa:\n    properties:\n      hibernate:\n        jdbc:\n          time_zone: Asia/Istanbul\n</code></pre>\n<p>Edit:</p>\n<p>When I add this method to repository</p>\n<pre><code>@Repository\npublic interface CaseRepository extends JpaRepository&lt;Cases, UUID&gt; {\n    Optional&lt;Cases&gt; findById(UUID id);\n}\n</code></pre>\n<p>And use it like this:</p>\n<pre><code>var foundCase =  caseRepository.findById(UUID.fromString(id)).orElseThrow(() -&gt; new NotFoundException(&quot;Case not found.&quot;));\n</code></pre>\n<p>foundCase returned with GMT+3 again. So problem only occurs in save method.</p>\n<p>Edit 2:</p>\n<p>This is the database when I use save() method.\n<a href=\"https://i.stack.imgur.com/QrfB5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QrfB5.png\" alt=\"Database\" /></a></p>\n<p>This is the debug mode. You are seeing response of save() method. As you can see there is difference.  :</p>\n<p><a href=\"https://i.stack.imgur.com/DkG7W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DkG7W.png\" alt=\"Debug\" /></a></p>\n<p>And this is response of findById method\n<a href=\"https://i.stack.imgur.com/3fzoX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3fzoX.png\" alt=\"findById\" /></a></p>\n"},{"tags":["java","android","android-imageview"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676659238,"post_id":75487829,"comment_id":133188848,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27757539,"reputation":9,"user_id":21190638,"display_name":"onwuegbuchi eric"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676657118,"creation_date":1676657118,"question_id":75487829,"body_markdown":"I have been trying to display multiple images with a image holder in a textview like in notes app but the solutions I have seen only support one image and the image view where just hidden and shows when you add images.\r\n\r\nExample \r\n\r\n[enter image description here](https://i.stack.imgur.com/ACLMY.jpg)\r\n\r\nIt could be images, audio or links\r\n\r\nI have taught of you creating multiple image view and hide and show them but I can&#39;t predict a user amount of image and that just inefficient ","title":"Display multiple images in android studio in textview","body":"<p>I have been trying to display multiple images with a image holder in a textview like in notes app but the solutions I have seen only support one image and the image view where just hidden and shows when you add images.</p>\n<p>Example</p>\n<p><a href=\"https://i.stack.imgur.com/ACLMY.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>It could be images, audio or links</p>\n<p>I have taught of you creating multiple image view and hide and show them but I can't predict a user amount of image and that just inefficient</p>\n"},{"tags":["java","maven","travis-ci"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1545073989,"post_id":53821519,"comment_id":94491827,"body_markdown":"Can you give more details cause it sounds a little bit weird to me using maven-verifier for integration tests ?","body":"Can you give more details cause it sounds a little bit weird to me using maven-verifier for integration tests ?"},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1545089866,"post_id":53821519,"comment_id":94497986,"body_markdown":"@khmarbaise What&#39;s weird about it? The title of [this section](https://maven.apache.org/plugin-developers/plugin-testing.html#maven-verifier) seems to imply this is precisely what maven-verifier is designed for. See https://github.com/cmake-maven-project/cmake-maven-project/blob/master/cmake-maven-plugin/src/test/java/com/googlecode/cmakemavenproject/CompileMojoIntegrationTest.java for a concrete example of how we use it.","body":"@khmarbaise What&#39;s weird about it? The title of <a href=\"https://maven.apache.org/plugin-developers/plugin-testing.html#maven-verifier\" rel=\"nofollow noreferrer\">this section</a> seems to imply this is precisely what maven-verifier is designed for. See <a href=\"https://github.com/cmake-maven-project/cmake-maven-project/blob/master/cmake-maven-plugin/src/test/java/com/googlecode/cmakemavenproject/CompileMojoIntegrationTest.java\" rel=\"nofollow noreferrer\">github.com/cmake-maven-project/cmake-maven-project/blob/mast&zwnj;&#8203;er/&hellip;</a> for a concrete example of how we use it."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1545113310,"post_id":53821519,"comment_id":94502972,"body_markdown":"Ah...you are doing a maven plugin. Than it is not weird of course...For such purposes I would suggest to use the maven-invoker-plugin...furthermore I would suggest to use maven-failsafe-plugin for integration tests instead of maven-surefire-plugin....Apart from that you can set the maven version used by running via `maven.home` environment  variable. But that might be point for improving the docs...(May be you can create an JIRA issue for that).","body":"Ah...you are doing a maven plugin. Than it is not weird of course...For such purposes I would suggest to use the maven-invoker-plugin...furthermore I would suggest to use maven-failsafe-plugin for integration tests instead of maven-surefire-plugin....Apart from that you can set the maven version used by running via <code>maven.home</code> environment  variable. But that might be point for improving the docs...(May be you can create an JIRA issue for that)."}],"answers":[{"tags":[],"owner":{"account_id":2510282,"reputation":12462,"user_id":2182928,"accept_rate":97,"display_name":"Rudi Kershaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676656621,"creation_date":1676503328,"answer_id":75466342,"question_id":53821519,"body_markdown":"According to the implementation of `org.apache.maven.it.Verifier#getMavenLauncher` (at version 1.7.2 when checked), it will attempt to use a Maven wrapper if that wrapper is present in the repository that you are running the test **on** (not in the project repository that is _running_ the test).\r\n\r\n    boolean useWrapper = Files.exists(Paths.get(getBasedir(), &quot;mvnw&quot;));\r\n\r\n\r\n`getBasedir()` is the root of the project folder being tested here. I had the same issue and I copied the `mvnw` and `.mvn` folders into the project I was testing, and it did indeed find the appropriate version of Maven.\r\n\r\nMy new *projects to be tested* look like this\r\n\r\n\r\n    default-test-project\r\n        |_ .mvn/\r\n        |_ mvnw\r\n        |_ pom.xml\r\n\r\nIt&#39;s worth mentioning that `Verifier#getMavenLauncher` doesn&#39;t appear to check for a `mvnw.cmd` so this may not work on a Windows machine.","title":"How to point maven-verifier at right version of Maven?","body":"<p>According to the implementation of <code>org.apache.maven.it.Verifier#getMavenLauncher</code> (at version 1.7.2 when checked), it will attempt to use a Maven wrapper if that wrapper is present in the repository that you are running the test <strong>on</strong> (not in the project repository that is <em>running</em> the test).</p>\n<pre><code>boolean useWrapper = Files.exists(Paths.get(getBasedir(), &quot;mvnw&quot;));\n</code></pre>\n<p><code>getBasedir()</code> is the root of the project folder being tested here. I had the same issue and I copied the <code>mvnw</code> and <code>.mvn</code> folders into the project I was testing, and it did indeed find the appropriate version of Maven.</p>\n<p>My new <em>projects to be tested</em> look like this</p>\n<pre><code>default-test-project\n    |_ .mvn/\n    |_ mvnw\n    |_ pom.xml\n</code></pre>\n<p>It's worth mentioning that <code>Verifier#getMavenLauncher</code> doesn't appear to check for a <code>mvnw.cmd</code> so this may not work on a Windows machine.</p>\n"}],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75466342,"answer_count":1,"score":1,"last_activity_date":1676656621,"creation_date":1545073332,"question_id":53821519,"body_markdown":"I am using [Maven Wrapper](https://github.com/takari/maven-wrapper) on Travis because it ships with a super-old version of Maven by default.\r\n\r\nThe library being built runs integration tests using [maven-verifier](https://maven.apache.org/plugin-developers/plugin-testing.html#maven-verifier). The latter forks a JVM to run each integration test using the (outdated) Maven instance installed on the system.\r\n\r\nIs there a way to get maven-verifier to use the Maven version provided by Maven Wrapper?","title":"How to point maven-verifier at right version of Maven?","body":"<p>I am using <a href=\"https://github.com/takari/maven-wrapper\" rel=\"nofollow noreferrer\">Maven Wrapper</a> on Travis because it ships with a super-old version of Maven by default.</p>\n\n<p>The library being built runs integration tests using <a href=\"https://maven.apache.org/plugin-developers/plugin-testing.html#maven-verifier\" rel=\"nofollow noreferrer\">maven-verifier</a>. The latter forks a JVM to run each integration test using the (outdated) Maven instance installed on the system.</p>\n\n<p>Is there a way to get maven-verifier to use the Maven version provided by Maven Wrapper?</p>\n"},{"tags":["java","parsing","integer"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1676532373,"post_id":75468996,"comment_id":133156438,"body_markdown":"a String is not a numerical format, so you can&#39;t &quot;increment&quot; a String. What you can do, is parse a String to a numerical format (which is what you&#39;re doing, and where it fails), augment it, and parse it back to a String. &quot;foo3&quot; or similar, are not numerical values, and can&#39;t be parsed to a numerical type. put a breakpoint on the line where the error occurs, or add a print statement to see the String values you&#39;re trying to parse","body":"a String is not a numerical format, so you can&#39;t &quot;increment&quot; a String. What you can do, is parse a String to a numerical format (which is what you&#39;re doing, and where it fails), augment it, and parse it back to a String. &quot;foo3&quot; or similar, are not numerical values, and can&#39;t be parsed to a numerical type. put a breakpoint on the line where the error occurs, or add a print statement to see the String values you&#39;re trying to parse"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1676532482,"post_id":75468996,"comment_id":133156455,"body_markdown":"`if(str == &quot;&quot;)` is wrong already as I&#39;d doubt `str` would ever be the same instance as the empty string literal. You need `if(str.equals(&quot;&quot;))` or `if(str.isEmpty())` instead.","body":"<code>if(str == &quot;&quot;)</code> is wrong already as I&#39;d doubt <code>str</code> would ever be the same instance as the empty string literal. You need <code>if(str.equals(&quot;&quot;))</code> or <code>if(str.isEmpty())</code> instead."},{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1676532624,"post_id":75468996,"comment_id":133156489,"body_markdown":"@Stultuske that is already what the OP does","body":"@Stultuske that is already what the OP does"},{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1676532670,"post_id":75468996,"comment_id":133156504,"body_markdown":"Can you share the full staktrace ? [edit] and add it","body":"Can you share the full staktrace ? <a href=\"https://stackoverflow.com/posts/75468996/edit\">edit</a> and add it"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1676532762,"post_id":75468996,"comment_id":133156525,"body_markdown":"The number is to big for an integer","body":"The number is to big for an integer"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1676532874,"post_id":75468996,"comment_id":133156546,"body_markdown":"You&#39;re using `BigInteger` for numeric strings already, which is correct as those could be large. But is there anything that let&#39;s you assume the numbers in a alpha-numeric string all fit into the `int` range? Why don&#39;t you use `BigInteger` there as well?","body":"You&#39;re using <code>BigInteger</code> for numeric strings already, which is correct as those could be large. But is there anything that let&#39;s you assume the numbers in a alpha-numeric string all fit into the <code>int</code> range? Why don&#39;t you use <code>BigInteger</code> there as well?"},{"owner":{"account_id":27800111,"reputation":1,"user_id":21224708,"display_name":"lvvl"},"score":0,"creation_date":1676533110,"post_id":75468996,"comment_id":133156605,"body_markdown":"input data can be like\n\n`fooboo2212031362069931272877416699`\nand out \n`fooboo2212031362069931272877416700`","body":"input data can be like  <code>fooboo2212031362069931272877416699</code> and out  <code>fooboo2212031362069931272877416700</code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1676533340,"post_id":75468996,"comment_id":133156669,"body_markdown":"That&#39;s exactly what I mean. Try using `Integer.parseInt(&quot;2212031362069931272877416699&quot;)` and see the result - that&#39;s what you&#39;re doing in the bottom portion of your code. (Hint: those numbers don&#39;t fit into the `Integer` range).","body":"That&#39;s exactly what I mean. Try using <code>Integer.parseInt(&quot;2212031362069931272877416699&quot;)</code> and see the result - that&#39;s what you&#39;re doing in the bottom portion of your code. (Hint: those numbers don&#39;t fit into the <code>Integer</code> range)."},{"owner":{"account_id":27800111,"reputation":1,"user_id":21224708,"display_name":"lvvl"},"score":0,"creation_date":1676534211,"post_id":75468996,"comment_id":133156900,"body_markdown":"all `Integer.parseInt(***)` needs to be replaced with\n `BigInteger a = new BigInteger(***)`","body":"all <code>Integer.parseInt(***)</code> needs to be replaced with  <code>BigInteger a = new BigInteger(***)</code>"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1676533834,"creation_date":1676533834,"answer_id":75469229,"question_id":75468996,"body_markdown":"The issue is with `Integer.parseInt(sec)` when trying to parse a value too long to fix in a int (max is 2 billion)\r\n\r\nYou need to use `BigInteger` everywhere, also there is much useless code. You can also capture the zeros in the first group of the regex, so you don&#39;t have leading zeros to take care\r\n\r\n    public static String incrementString(String str) {\r\n        boolean isNumeric = str.chars().allMatch(Character::isDigit);\r\n        if (str.isEmpty()) {\r\n            return &quot;1&quot;;\r\n        } else if (isNumeric) {\r\n            BigInteger b = new BigInteger(str);\r\n            return String.format(&quot;%0&quot; + str.length() + &quot;d&quot;, b.add(BigInteger.ONE));\r\n        }\r\n\r\n        String timeRegex = &quot;(.*\\\\D0*)([1-9][0-9]*)&quot;;\r\n        Matcher matcher = Pattern.compile(timeRegex).matcher(str);\r\n        if (matcher.matches()) {\r\n            String sec = matcher.group(2);\r\n            if (sec.isEmpty()) {\r\n                return str + 1;\r\n            } else {\r\n                BigInteger new_value = new BigInteger(sec).add(BigInteger.ONE);\r\n                return matcher.group(1) + new_value;\r\n            }\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n","title":"A function which increments a string, to create a new string","body":"<p>The issue is with <code>Integer.parseInt(sec)</code> when trying to parse a value too long to fix in a int (max is 2 billion)</p>\n<p>You need to use <code>BigInteger</code> everywhere, also there is much useless code. You can also capture the zeros in the first group of the regex, so you don't have leading zeros to take care</p>\n<pre><code>public static String incrementString(String str) {\n    boolean isNumeric = str.chars().allMatch(Character::isDigit);\n    if (str.isEmpty()) {\n        return &quot;1&quot;;\n    } else if (isNumeric) {\n        BigInteger b = new BigInteger(str);\n        return String.format(&quot;%0&quot; + str.length() + &quot;d&quot;, b.add(BigInteger.ONE));\n    }\n\n    String timeRegex = &quot;(.*\\\\D0*)([1-9][0-9]*)&quot;;\n    Matcher matcher = Pattern.compile(timeRegex).matcher(str);\n    if (matcher.matches()) {\n        String sec = matcher.group(2);\n        if (sec.isEmpty()) {\n            return str + 1;\n        } else {\n            BigInteger new_value = new BigInteger(sec).add(BigInteger.ONE);\n            return matcher.group(1) + new_value;\n        }\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1707439,"reputation":236126,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676656606,"creation_date":1676656606,"answer_id":75487752,"question_id":75468996,"body_markdown":"How would you solve this problem by hand? I&#39;ll bet you wouldn&#39;t require a calculator.\r\n\r\nThe way I would do would be to just look at the last character in the string:\r\n1. If the string is empty or the last character is not a digit, append the character `1`.\r\n2. If the last character is one of the digits `0` to `8`, change it to the next digit.\r\n3. If the last character is the digit `9`:\r\n    + Remove all the trailing `9`s\r\n    + Apply whichever of (1) or (2) above is appropriate.\r\n    + Append the same number of `0`s as the number of `9`s you removed.\r\n\r\nYou can implement that simple algorithm in a few lines, without BigInteger and without regexes.\r\n\r\nThis seems to work, although I didn&#39;t test it thoroughly with different Unicode scripts (and I&#39;m really not a Java programmer):\r\n```java\r\n    public static String incrementString(String str) {\r\n        if (str.isEmpty())\r\n            return &quot;1&quot;;\r\n        char lastChar = str.charAt(str.length()-1);\r\n        if (!Character.isDigit(lastChar)) \r\n            return str + &quot;1&quot;;\r\n        String prefix = str.substring(0, str.length()-1);\r\n        if (Character.digit(lastChar, 10) != 9)\r\n            return prefix + (char)(lastChar + 1);\r\n        return incrementString(prefix) + (char)(lastChar - 9);\r\n    }\r\n```","title":"A function which increments a string, to create a new string","body":"<p>How would you solve this problem by hand? I'll bet you wouldn't require a calculator.</p>\n<p>The way I would do would be to just look at the last character in the string:</p>\n<ol>\n<li>If the string is empty or the last character is not a digit, append the character <code>1</code>.</li>\n<li>If the last character is one of the digits <code>0</code> to <code>8</code>, change it to the next digit.</li>\n<li>If the last character is the digit <code>9</code>:\n<ul>\n<li>Remove all the trailing <code>9</code>s</li>\n<li>Apply whichever of (1) or (2) above is appropriate.</li>\n<li>Append the same number of <code>0</code>s as the number of <code>9</code>s you removed.</li>\n</ul>\n</li>\n</ol>\n<p>You can implement that simple algorithm in a few lines, without BigInteger and without regexes.</p>\n<p>This seems to work, although I didn't test it thoroughly with different Unicode scripts (and I'm really not a Java programmer):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static String incrementString(String str) {\n        if (str.isEmpty())\n            return &quot;1&quot;;\n        char lastChar = str.charAt(str.length()-1);\n        if (!Character.isDigit(lastChar)) \n            return str + &quot;1&quot;;\n        String prefix = str.substring(0, str.length()-1);\n        if (Character.digit(lastChar, 10) != 9)\n            return prefix + (char)(lastChar + 1);\n        return incrementString(prefix) + (char)(lastChar - 9);\n    }\n</code></pre>\n"}],"owner":{"account_id":27800111,"reputation":1,"user_id":21224708,"display_name":"lvvl"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1676656606,"creation_date":1676532258,"question_id":75468996,"body_markdown":"write a function which increments a string, to create a new string.\r\n\r\n- If the string already ends with a number, the number should be incremented by 1.\r\n- If the string does not end with a number. the number 1 should be appended to the new string.\r\n\r\nExamples: \r\n\r\n```\r\nfoo - foo1 \r\nfoobar23 - foobar24 \r\nfoo0042 - foo0043 \r\nfoo9 - foo10 \r\nfoo099 - foo100 \r\n```\r\n\r\nAttention: If the number has leading zeros the amount of digits should be considered.\r\n\r\nThe program passed tests on the CodeWars platform, except for one\r\nFor input string: &quot;1712031362069931272877416673&quot;\r\nshe falls on it\r\n\r\n```\r\nat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n```\r\n\r\nbut in IJ it works correctly ...\r\nAny idea why?\r\n\r\n```\r\nimport java.math.BigInteger;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(incrementString(&quot;foo001&quot;));\r\n        System.out.println(incrementString(&quot;33275375531813209960&quot;));\r\n        System.out.println(incrementString(&quot;0000004617702678077138438340108&quot;));\r\n    }\r\n\r\n    public static String incrementString(String str) {\r\n        boolean isNumeric = str.chars().allMatch( Character::isDigit );\r\n        if(str.isEmpty())\r\n            return &quot;1&quot;;\r\n\r\n        else if (isNumeric) {\r\n            BigInteger b = new BigInteger(str);\r\n            return String.format(&quot;%0&quot;+str.length() + &quot;d&quot;,b.add(BigInteger.valueOf(1)));\r\n        }\r\n        String timeRegex = &quot;(.*)(\\\\D)([0-9]*)&quot;;\r\n        Pattern pattern = Pattern.compile(timeRegex);\r\n        Matcher matcher = pattern.matcher(str);\r\n        if (matcher.matches()) {\r\n            String sec = matcher.group(3);\r\n            StringBuilder sb = new StringBuilder();\r\n            if (sec.isEmpty()) {\r\n                sec = &quot;0&quot;;\r\n                return str + sb+(Integer.parseInt(sec) + 1);\r\n            } else {\r\n                int length = String.valueOf(Integer.parseInt(sec) + 1).length();\r\n                if (sec.length() &gt; length) {\r\n\r\n                    for (int i = length; i &lt; sec.length(); i++) {\r\n                        sb.append(&quot;0&quot;);\r\n                    }\r\n                }\r\n                return str.substring(0,str.length() - sec.length()) + String.format(&quot;%0&quot;+sec.length() + &quot;d&quot;,Integer.parseInt(sec)+1);\r\n            }\r\n        }\r\n      else\r\n        return &quot;&quot;;\r\n    }\r\n}\r\n```","title":"A function which increments a string, to create a new string","body":"<p>write a function which increments a string, to create a new string.</p>\n<ul>\n<li>If the string already ends with a number, the number should be incremented by 1.</li>\n<li>If the string does not end with a number. the number 1 should be appended to the new string.</li>\n</ul>\n<p>Examples:</p>\n<pre><code>foo - foo1 \nfoobar23 - foobar24 \nfoo0042 - foo0043 \nfoo9 - foo10 \nfoo099 - foo100 \n</code></pre>\n<p>Attention: If the number has leading zeros the amount of digits should be considered.</p>\n<p>The program passed tests on the CodeWars platform, except for one\nFor input string: &quot;1712031362069931272877416673&quot;\nshe falls on it</p>\n<pre><code>at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n</code></pre>\n<p>but in IJ it works correctly ...\nAny idea why?</p>\n<pre><code>import java.math.BigInteger;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\npublic class Main {\n    public static void main(String[] args) {\n\n        System.out.println(incrementString(&quot;foo001&quot;));\n        System.out.println(incrementString(&quot;33275375531813209960&quot;));\n        System.out.println(incrementString(&quot;0000004617702678077138438340108&quot;));\n    }\n\n    public static String incrementString(String str) {\n        boolean isNumeric = str.chars().allMatch( Character::isDigit );\n        if(str.isEmpty())\n            return &quot;1&quot;;\n\n        else if (isNumeric) {\n            BigInteger b = new BigInteger(str);\n            return String.format(&quot;%0&quot;+str.length() + &quot;d&quot;,b.add(BigInteger.valueOf(1)));\n        }\n        String timeRegex = &quot;(.*)(\\\\D)([0-9]*)&quot;;\n        Pattern pattern = Pattern.compile(timeRegex);\n        Matcher matcher = pattern.matcher(str);\n        if (matcher.matches()) {\n            String sec = matcher.group(3);\n            StringBuilder sb = new StringBuilder();\n            if (sec.isEmpty()) {\n                sec = &quot;0&quot;;\n                return str + sb+(Integer.parseInt(sec) + 1);\n            } else {\n                int length = String.valueOf(Integer.parseInt(sec) + 1).length();\n                if (sec.length() &gt; length) {\n\n                    for (int i = length; i &lt; sec.length(); i++) {\n                        sb.append(&quot;0&quot;);\n                    }\n                }\n                return str.substring(0,str.length() - sec.length()) + String.format(&quot;%0&quot;+sec.length() + &quot;d&quot;,Integer.parseInt(sec)+1);\n            }\n        }\n      else\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"display_name":"user2858650"},"score":0,"creation_date":1676657813,"post_id":75487736,"comment_id":133188477,"body_markdown":"There is such a thing as [Extended-scope PersistenceContext](https://www.baeldung.com/jpa-hibernate-persistence-context). Is that the type of functionality that you are looking for? Note that the link is geared toward Hibernate implementation but @PersistenceContext is a JPA annotation so all ORMs should implement it (provided you have a container such as SpringBoot to manage your EntityManagerFactory).","body":"There is such a thing as <a href=\"https://www.baeldung.com/jpa-hibernate-persistence-context\" rel=\"nofollow noreferrer\">Extended-scope PersistenceContext</a>. Is that the type of functionality that you are looking for? Note that the link is geared toward Hibernate implementation but @PersistenceContext is a JPA annotation so all ORMs should implement it (provided you have a container such as SpringBoot to manage your EntityManagerFactory)."}],"owner":{"account_id":1537555,"reputation":81,"user_id":1433120,"display_name":"Rodrigo Valentim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676656543,"creation_date":1676656543,"question_id":75487736,"body_markdown":"Is it possible to call a procedure and then perform an insert in the same spring boot session?\r\n\r\n\r\nMy Adapter\r\n```\r\n    @Override\r\n    public Client makeRegister(Client client) {\r\n\r\n        var clientEntity = clientMapper.toEntity(client);\r\n        var cli = Optional.ofNullable(clientRepository.findByid(clientEntity.getId()));\r\n\r\n        if (!cli.isPresent()) {\r\n            clientRepository.callProcedure(1);\r\n            clientEntity = clientRepository.saveAndFlush(clientEntity);\r\n        }\r\n\r\n        return clientMapper.toDominio(clientEntity);\r\n    }\r\n```\r\n\r\nMy Repository\r\n\r\n\r\n```\r\n    @Procedure(&quot;schema.pkg_company.setcompanyid&quot;)\r\n    void callProcedure(@Param(&quot;pId&quot;) int pId);\r\n```\r\n\r\nInsert is only possible when the company configuration is correct.\r\n\r\nIs there any annotation for this functionality?","title":"Two DML with one session in spring boot","body":"<p>Is it possible to call a procedure and then perform an insert in the same spring boot session?</p>\n<p>My Adapter</p>\n<pre><code>    @Override\n    public Client makeRegister(Client client) {\n\n        var clientEntity = clientMapper.toEntity(client);\n        var cli = Optional.ofNullable(clientRepository.findByid(clientEntity.getId()));\n\n        if (!cli.isPresent()) {\n            clientRepository.callProcedure(1);\n            clientEntity = clientRepository.saveAndFlush(clientEntity);\n        }\n\n        return clientMapper.toDominio(clientEntity);\n    }\n</code></pre>\n<p>My Repository</p>\n<pre><code>    @Procedure(&quot;schema.pkg_company.setcompanyid&quot;)\n    void callProcedure(@Param(&quot;pId&quot;) int pId);\n</code></pre>\n<p>Insert is only possible when the company configuration is correct.</p>\n<p>Is there any annotation for this functionality?</p>\n"},{"tags":["java","text-alignment"],"comments":[{"owner":{"display_name":"user2577094"},"score":0,"creation_date":1378552311,"post_id":18672643,"comment_id":27501421,"body_markdown":"Look at string format with alignment.","body":"Look at string format with alignment."}],"answers":[{"comments":[{"owner":{"account_id":3203052,"reputation":1223,"user_id":2704743,"accept_rate":100,"display_name":"user2704743"},"score":0,"creation_date":1378552451,"post_id":18672700,"comment_id":27501460,"body_markdown":"ok thanks for your help I&#39;ll have a look at some string functions","body":"ok thanks for your help I&#39;ll have a look at some string functions"}],"tags":[],"owner":{"account_id":401940,"reputation":13996,"user_id":768795,"display_name":"Thomas W"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378552327,"creation_date":1378552327,"answer_id":18672700,"question_id":18672643,"body_markdown":"Write a function which pads a string to your desired column-length with spaces. This can be a static helper, and you can create a class StrUtils or similar to hold it.\r\n\r\n(There may also be Apache or other libraries with String helpers/utils to do this for you.)\r\n\r\nLong-term, if you&#39;re outputting tabular data you could consider exporting CSV (for Excel etc) or XML. But these are for typical long-term business requirements, not just a quick to-screen output.","title":"How to print a table of information in Java","body":"<p>Write a function which pads a string to your desired column-length with spaces. This can be a static helper, and you can create a class StrUtils or similar to hold it.</p>\n\n<p>(There may also be Apache or other libraries with String helpers/utils to do this for you.)</p>\n\n<p>Long-term, if you're outputting tabular data you could consider exporting CSV (for Excel etc) or XML. But these are for typical long-term business requirements, not just a quick to-screen output.</p>\n"},{"comments":[{"owner":{"account_id":1174188,"reputation":10871,"user_id":1150599,"accept_rate":48,"display_name":"corvid"},"score":0,"creation_date":1418165284,"post_id":18672745,"comment_id":43228593,"body_markdown":"is it possible to do this for an arbitrary number of elements?","body":"is it possible to do this for an arbitrary number of elements?"},{"owner":{"account_id":2911135,"reputation":3211,"user_id":2495331,"accept_rate":67,"display_name":"Luca Mastrostefano"},"score":0,"creation_date":1418246113,"post_id":18672745,"comment_id":43266192,"body_markdown":"Sorry corvid, i don&#39;t understand your question. Can you explain it better?","body":"Sorry corvid, i don&#39;t understand your question. Can you explain it better?"},{"owner":{"account_id":1312257,"reputation":7773,"user_id":1260028,"accept_rate":71,"display_name":"Serguei Fedorov"},"score":0,"creation_date":1425846961,"post_id":18672745,"comment_id":46118825,"body_markdown":"Is there a way to left alight this rather than right?","body":"Is there a way to left alight this rather than right?"},{"owner":{"account_id":2911135,"reputation":3211,"user_id":2495331,"accept_rate":67,"display_name":"Luca Mastrostefano"},"score":0,"creation_date":1425853705,"post_id":18672745,"comment_id":46121018,"body_markdown":"Sure, use System.out.format(&quot;%-15s%-15s%-15s\\n&quot;, row);","body":"Sure, use System.out.format(&quot;%-15s%-15s%-15s\\n&quot;, row);"},{"owner":{"account_id":5000828,"reputation":1249,"user_id":4019922,"accept_rate":100,"display_name":"Kimbluey"},"score":0,"creation_date":1468338190,"post_id":18672745,"comment_id":64081415,"body_markdown":"@corvid - To answer your question 2 years later, the example given already shows how to print an arbitrary number of table elements. The loop is read, &quot;For `row` in `table`&quot; - it goes until it cannot find a next `row`, thus you do not need to know exactly how many elements there are. :)","body":"@corvid - To answer your question 2 years later, the example given already shows how to print an arbitrary number of table elements. The loop is read, &quot;For <code>row</code> in <code>table</code>&quot; - it goes until it cannot find a next <code>row</code>, thus you do not need to know exactly how many elements there are. :)"},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1601683621,"post_id":18672745,"comment_id":113491327,"body_markdown":"`System.out.format(&quot;%-15s%-15s%-15s\\n&quot;, row);` it expects three strings, but only one (`row`) is provided. Isn&#39;t it an error? It certainly gets highlighted as such for me in IDE.","body":"<code>System.out.format(&quot;%-15s%-15s%-15s\\n&quot;, row);</code> it expects three strings, but only one (<code>row</code>) is provided. Isn&#39;t it an error? It certainly gets highlighted as such for me in IDE."},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":1,"creation_date":1604633646,"post_id":18672745,"comment_id":114413105,"body_markdown":"@Kimbluey what if the array to print contains `500` elements? We can&#39;t very well to manually repeat the `%15s` bit `500` times?","body":"@Kimbluey what if the array to print contains <code>500</code> elements? We can&#39;t very well to manually repeat the <code>%15s</code> bit <code>500</code> times?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1661696857,"post_id":18672745,"comment_id":129828454,"body_markdown":"@parsecer `row` is an `Object[]`, so it shouldn&#39;t be an error","body":"@parsecer <code>row</code> is an <code>Object[]</code>, so it shouldn&#39;t be an error"},{"owner":{"account_id":19774891,"reputation":199,"user_id":14481140,"display_name":"Doragon"},"score":0,"creation_date":1684933647,"post_id":18672745,"comment_id":134589840,"body_markdown":"@parsecer I don&#39;t really know a good answer to make this work for an arbitrary number of elements in a row, but I would try seeing if you could make the &quot;%15s%15s%15s%n&quot; a variable that you can loop and manipulate, and then try passing in the string variable as the format instead. Don&#39;t know if this helps you after so long, but if it does...","body":"@parsecer I don&#39;t really know a good answer to make this work for an arbitrary number of elements in a row, but I would try seeing if you could make the &quot;%15s%15s%15s%n&quot; a variable that you can loop and manipulate, and then try passing in the string variable as the format instead. Don&#39;t know if this helps you after so long, but if it does..."}],"tags":[],"owner":{"account_id":2911135,"reputation":3211,"user_id":2495331,"accept_rate":67,"display_name":"Luca Mastrostefano"},"comment_count":9,"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1636116931,"creation_date":1378552611,"answer_id":18672745,"question_id":18672643,"body_markdown":"You can use `System.out.format(...)`\r\n\r\nExample:\r\n\r\n    final Object[][] table = new String[4][];\r\n    table[0] = new String[] { &quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot; };\r\n    table[1] = new String[] { &quot;bar2&quot;, &quot;foo2&quot;, &quot;baz2&quot; };\r\n    table[2] = new String[] { &quot;baz3&quot;, &quot;bar3&quot;, &quot;foo3&quot; };\r\n    table[3] = new String[] { &quot;foo4&quot;, &quot;bar4&quot;, &quot;baz4&quot; };\r\n\r\n    for (final Object[] row : table) {\r\n        System.out.format(&quot;%15s%15s%15s%n&quot;, row);\r\n    }\r\n\r\nResult:\r\n\r\n            foo            bar            baz\r\n           bar2           foo2           baz2\r\n           baz3           bar3           foo3\r\n           foo4           bar4           baz4\r\n\r\nOr use the following code for left-aligned output:\r\n\r\n    System.out.format(&quot;%-15s%-15s%-15s%n&quot;, row);\r\n","title":"How to print a table of information in Java","body":"<p>You can use <code>System.out.format(...)</code></p>\n<p>Example:</p>\n<pre><code>final Object[][] table = new String[4][];\ntable[0] = new String[] { &quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot; };\ntable[1] = new String[] { &quot;bar2&quot;, &quot;foo2&quot;, &quot;baz2&quot; };\ntable[2] = new String[] { &quot;baz3&quot;, &quot;bar3&quot;, &quot;foo3&quot; };\ntable[3] = new String[] { &quot;foo4&quot;, &quot;bar4&quot;, &quot;baz4&quot; };\n\nfor (final Object[] row : table) {\n    System.out.format(&quot;%15s%15s%15s%n&quot;, row);\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>        foo            bar            baz\n       bar2           foo2           baz2\n       baz3           bar3           foo3\n       foo4           bar4           baz4\n</code></pre>\n<p>Or use the following code for left-aligned output:</p>\n<pre><code>System.out.format(&quot;%-15s%-15s%-15s%n&quot;, row);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636116964,"creation_date":1507998759,"answer_id":46746830,"question_id":18672643,"body_markdown":"This is one way to do it:\r\n\r\n    public class StoreItem {\r\n    \r\n        private String itemName;\r\n        private double price;\r\n        private int quantity;\r\n    \r\n    \r\n        public StoreItem(String itemName, double price, int quantity) {\r\n            this.setItemName(itemName);\r\n            this.setPrice(price);\r\n            this.setQuantity(quantity);\r\n        }\r\n    \r\n    \r\n        public String getItemName() {\r\n            return itemName;\r\n        }\r\n    \r\n        public void setItemName(String itemName) {\r\n            this.itemName = itemName;\r\n        }\r\n    \r\n        public double getPrice() {\r\n            return price;\r\n        }\r\n    \r\n        public void setPrice(double price) {\r\n            this.price = price;\r\n        }\r\n    \r\n        public int getQuantity() {\r\n            return quantity;\r\n        }\r\n    \r\n        public void setQuantity(int quantity) {\r\n            this.quantity = quantity;\r\n        }\r\n    \r\n    \r\n        public static void printInvoiceHeader() {\r\n            System.out.println(String.format(&quot;%30s %25s %10s %25s %10s&quot;, &quot;Item&quot;, &quot;|&quot;, &quot;Price($)&quot;, &quot;|&quot;, &quot;Qty&quot;));\r\n            System.out.println(String.format(&quot;%s&quot;, &quot;----------------------------------------------------------------------------------------------------------------&quot;));\r\n        }\r\n        public void printInvoice() {\r\n            System.out.println(String.format(&quot;%30s %25s %10.2f %25s %10s&quot;, this.getItemName(), &quot;|&quot;, this.getPrice(), &quot;|&quot;, this.getQuantity()));\r\n        }\r\n    \r\n        public static List&lt;StoreItem&gt; buildInvoice() {\r\n            List&lt;StoreItem&gt; itemList = new ArrayList&lt;&gt;();\r\n            itemList.add(new StoreItem(&quot;Nestle Decaff Coffee&quot;, 759.99, 2));\r\n            itemList.add(new StoreItem(&quot;Brown&#39;s Soft Tissue Paper&quot;, 15.80, 2));\r\n            itemList.add(new StoreItem(&quot;LG 500Mb External Drive&quot;, 700.00, 2));\r\n            return itemList;\r\n        }\r\n    \r\n        public static void main (String[] args) {\r\n    \r\n            StoreItem.printInvoiceHeader();\r\n            StoreItem.buildInvoice().forEach(StoreItem::printInvoice);\r\n         }\r\n    }\r\n\r\nOutput:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/67jRP.png","title":"How to print a table of information in Java","body":"<p>This is one way to do it:</p>\n<pre><code>public class StoreItem {\n\n    private String itemName;\n    private double price;\n    private int quantity;\n\n\n    public StoreItem(String itemName, double price, int quantity) {\n        this.setItemName(itemName);\n        this.setPrice(price);\n        this.setQuantity(quantity);\n    }\n\n\n    public String getItemName() {\n        return itemName;\n    }\n\n    public void setItemName(String itemName) {\n        this.itemName = itemName;\n    }\n\n    public double getPrice() {\n        return price;\n    }\n\n    public void setPrice(double price) {\n        this.price = price;\n    }\n\n    public int getQuantity() {\n        return quantity;\n    }\n\n    public void setQuantity(int quantity) {\n        this.quantity = quantity;\n    }\n\n\n    public static void printInvoiceHeader() {\n        System.out.println(String.format(&quot;%30s %25s %10s %25s %10s&quot;, &quot;Item&quot;, &quot;|&quot;, &quot;Price($)&quot;, &quot;|&quot;, &quot;Qty&quot;));\n        System.out.println(String.format(&quot;%s&quot;, &quot;----------------------------------------------------------------------------------------------------------------&quot;));\n    }\n    public void printInvoice() {\n        System.out.println(String.format(&quot;%30s %25s %10.2f %25s %10s&quot;, this.getItemName(), &quot;|&quot;, this.getPrice(), &quot;|&quot;, this.getQuantity()));\n    }\n\n    public static List&lt;StoreItem&gt; buildInvoice() {\n        List&lt;StoreItem&gt; itemList = new ArrayList&lt;&gt;();\n        itemList.add(new StoreItem(&quot;Nestle Decaff Coffee&quot;, 759.99, 2));\n        itemList.add(new StoreItem(&quot;Brown's Soft Tissue Paper&quot;, 15.80, 2));\n        itemList.add(new StoreItem(&quot;LG 500Mb External Drive&quot;, 700.00, 2));\n        return itemList;\n    }\n\n    public static void main (String[] args) {\n\n        StoreItem.printInvoiceHeader();\n        StoreItem.buildInvoice().forEach(StoreItem::printInvoice);\n     }\n}\n</code></pre>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/67jRP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/67jRP.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1645305,"reputation":468,"user_id":1516951,"display_name":"Vadim Zverev"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1527880073,"creation_date":1527880073,"answer_id":50649715,"question_id":18672643,"body_markdown":"General function to table-format a list of arrays:\r\n\r\n\tpublic static String formatAsTable(List&lt;List&lt;String&gt;&gt; rows)\r\n\t{\r\n\t\tint[] maxLengths = new int[rows.get(0).size()];\r\n\t\tfor (List&lt;String&gt; row : rows)\r\n\t\t{\r\n\t\t\tfor (int i = 0; i &lt; row.size(); i++)\r\n\t\t\t{\r\n\t\t\t\tmaxLengths[i] = Math.max(maxLengths[i], row.get(i).length());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tStringBuilder formatBuilder = new StringBuilder();\r\n\t\tfor (int maxLength : maxLengths)\r\n\t\t{\r\n\t\t\tformatBuilder.append(&quot;%-&quot;).append(maxLength + 2).append(&quot;s&quot;);\r\n\t\t}\r\n\t\tString format = formatBuilder.toString();\r\n\r\n\t\tStringBuilder result = new StringBuilder();\r\n\t\tfor (List&lt;String&gt; row : rows)\r\n\t\t{\r\n\t\t\tresult.append(String.format(format, row.toArray(new String[0]))).append(&quot;\\n&quot;);\r\n\t\t}\r\n\t\treturn result.toString();\r\n\t}\r\n\t\r\nUsage:\r\n\r\n\tList&lt;List&lt;String&gt;&gt; rows = new ArrayList&lt;&gt;();\r\n\tList&lt;String&gt; headers = Arrays.asList(&quot;Database&quot;, &quot;Maintainer&quot;, &quot;First public release date&quot;, &quot;Latest stable version&quot;, &quot;Latest release date&quot;);\r\n\trows.add(headers);\r\n\trows.add(Arrays.asList(&quot;4D (4th Dimension)&quot;, &quot;4D S.A.S.&quot;, &quot;1984&quot;, &quot;v16.0&quot;, &quot;2017-01-10&quot;));\r\n\trows.add(Arrays.asList(&quot;ADABAS&quot;, &quot;Software AG&quot;, &quot;1970&quot;, &quot;8.1&quot;, &quot;2013-06&quot;));\r\n\trows.add(Arrays.asList(&quot;Adaptive Server Enterprise&quot;, &quot;SAP AG&quot;, &quot;1987&quot;, &quot;16.0&quot;, &quot;2015&quot;));\r\n\trows.add(Arrays.asList(&quot;Apache Derby&quot;, &quot;Apache&quot;, &quot;2004&quot;, &quot;10.14.1.0&quot;, &quot;2017-10-22&quot;));\r\n\r\n\tSystem.out.println(formatAsTable(rows));\r\n\t\t\r\nThe result:\r\n\r\n\tDatabase                    Maintainer   First public release date  Latest stable version  Latest release date  \r\n\t4D (4th Dimension)          4D S.A.S.    1984                       v16.0                  2017-01-10           \r\n\tADABAS                      Software AG  1970                       8.1                    2013-06              \r\n\tAdaptive Server Enterprise  SAP AG       1987                       16.0                   2015                 \r\n\tApache Derby                Apache       2004                       10.14.1.0              2017-10-22    ","title":"How to print a table of information in Java","body":"<p>General function to table-format a list of arrays:</p>\n\n<pre><code>public static String formatAsTable(List&lt;List&lt;String&gt;&gt; rows)\n{\n    int[] maxLengths = new int[rows.get(0).size()];\n    for (List&lt;String&gt; row : rows)\n    {\n        for (int i = 0; i &lt; row.size(); i++)\n        {\n            maxLengths[i] = Math.max(maxLengths[i], row.get(i).length());\n        }\n    }\n\n    StringBuilder formatBuilder = new StringBuilder();\n    for (int maxLength : maxLengths)\n    {\n        formatBuilder.append(\"%-\").append(maxLength + 2).append(\"s\");\n    }\n    String format = formatBuilder.toString();\n\n    StringBuilder result = new StringBuilder();\n    for (List&lt;String&gt; row : rows)\n    {\n        result.append(String.format(format, row.toArray(new String[0]))).append(\"\\n\");\n    }\n    return result.toString();\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>List&lt;List&lt;String&gt;&gt; rows = new ArrayList&lt;&gt;();\nList&lt;String&gt; headers = Arrays.asList(\"Database\", \"Maintainer\", \"First public release date\", \"Latest stable version\", \"Latest release date\");\nrows.add(headers);\nrows.add(Arrays.asList(\"4D (4th Dimension)\", \"4D S.A.S.\", \"1984\", \"v16.0\", \"2017-01-10\"));\nrows.add(Arrays.asList(\"ADABAS\", \"Software AG\", \"1970\", \"8.1\", \"2013-06\"));\nrows.add(Arrays.asList(\"Adaptive Server Enterprise\", \"SAP AG\", \"1987\", \"16.0\", \"2015\"));\nrows.add(Arrays.asList(\"Apache Derby\", \"Apache\", \"2004\", \"10.14.1.0\", \"2017-10-22\"));\n\nSystem.out.println(formatAsTable(rows));\n</code></pre>\n\n<p>The result:</p>\n\n<pre><code>Database                    Maintainer   First public release date  Latest stable version  Latest release date  \n4D (4th Dimension)          4D S.A.S.    1984                       v16.0                  2017-01-10           \nADABAS                      Software AG  1970                       8.1                    2013-06              \nAdaptive Server Enterprise  SAP AG       1987                       16.0                   2015                 \nApache Derby                Apache       2004                       10.14.1.0              2017-10-22    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3890955,"reputation":546,"user_id":6835932,"display_name":"Micha Jaro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676656083,"creation_date":1627422080,"answer_id":68552067,"question_id":18672643,"body_markdown":"Library for printing Java objects as Markdown / CSV / HTML table using reflection: https://github.com/mjfryc/mjaron-etudes-java\r\n\r\n```gradle\r\ndependencies {\r\n    implementation &#39;io.github.mjfryc:mjaron-etudes-java:0.2.1&#39;\r\n}\r\n```\r\n\r\n```java\r\nCat[] cats = {cat0, cat1};\r\nTable.render(cats, Cat.class).markdown().to(System.out).run();\r\n```\r\n\r\nSample Markdown output:\r\n\r\n```\r\n| name | legsCount | lazy  | topSpeed |\r\n|------|-----------|-------|----------|\r\n| John | 4         | true  | 35.24    |\r\n| Bob  | 5         | false | 75.0     |\r\n```","title":"How to print a table of information in Java","body":"<p>Library for printing Java objects as Markdown / CSV / HTML table using reflection: <a href=\"https://github.com/mjfryc/mjaron-etudes-java\" rel=\"nofollow noreferrer\">https://github.com/mjfryc/mjaron-etudes-java</a></p>\n<pre><code>dependencies {\n    implementation 'io.github.mjfryc:mjaron-etudes-java:0.2.1'\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Cat[] cats = {cat0, cat1};\nTable.render(cats, Cat.class).markdown().to(System.out).run();\n</code></pre>\n<p>Sample Markdown output:</p>\n<pre><code>| name | legsCount | lazy  | topSpeed |\n|------|-----------|-------|----------|\n| John | 4         | true  | 35.24    |\n| Bob  | 5         | false | 75.0     |\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636117072,"creation_date":1636117072,"answer_id":69853627,"question_id":18672643,"body_markdown":"I think using [J-Text-Utils][1] to output the table for you would be a convenient way. Through this small library, you do not need to reinvent the wheel. You just input your data and it will take care of formatting for you.\r\n\r\nThis is an example from their [Google Code site][2]:\r\n\r\n```java\r\nString[] columnNames = {\r\n&quot;First Name&quot;,\r\n&quot;Last Name&quot;,\r\n&quot;Sport&quot;,\r\n&quot;# of Years&quot;,\r\n&quot;Vegetarian&quot;};\r\n\r\nObject[][] data = {\r\n{&quot;Kathy&quot;, &quot;Smith&quot;,\r\n&quot;Snowboarding&quot;, new Integer(5), new Boolean(false)},\r\n{&quot;John&quot;, &quot;Doe&quot;,\r\n&quot;Rowing&quot;, new Integer(3), new Boolean(true)},\r\n{&quot;Sue&quot;, &quot;Black&quot;,\r\n&quot;Knitting&quot;, new Integer(2), new Boolean(false)},\r\n{&quot;Jane&quot;, &quot;White&quot;,\r\n&quot;Speed reading&quot;, new Integer(20), new Boolean(true)}, {&quot;Joe&quot;, &quot;Brown&quot;,\r\n&quot;Pool&quot;, new Integer(10), new Boolean(false)}\r\n};\r\n\r\nTextTable tt = new TextTable(columnNames, data);\r\n// this adds the numbering on the left\r\ntt.setAddRowNumbering(true);\r\n// sort by the first column\r\ntt.setSort(0);\r\ntt.printTable();\r\n```\r\n\r\nThe Output:\r\n\r\n[![Output][3]][3]\r\n\r\n\r\n  [1]: https://code.google.com/archive/p/j-text-utils/\r\n  [2]: https://code.google.com/archive/p/j-text-utils/wikis/UsingTextTable.wiki\r\n  [3]: https://i.stack.imgur.com/xWhXO.png","title":"How to print a table of information in Java","body":"<p>I think using <a href=\"https://code.google.com/archive/p/j-text-utils/\" rel=\"nofollow noreferrer\">J-Text-Utils</a> to output the table for you would be a convenient way. Through this small library, you do not need to reinvent the wheel. You just input your data and it will take care of formatting for you.</p>\n<p>This is an example from their <a href=\"https://code.google.com/archive/p/j-text-utils/wikis/UsingTextTable.wiki\" rel=\"nofollow noreferrer\">Google Code site</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] columnNames = {\n&quot;First Name&quot;,\n&quot;Last Name&quot;,\n&quot;Sport&quot;,\n&quot;# of Years&quot;,\n&quot;Vegetarian&quot;};\n\nObject[][] data = {\n{&quot;Kathy&quot;, &quot;Smith&quot;,\n&quot;Snowboarding&quot;, new Integer(5), new Boolean(false)},\n{&quot;John&quot;, &quot;Doe&quot;,\n&quot;Rowing&quot;, new Integer(3), new Boolean(true)},\n{&quot;Sue&quot;, &quot;Black&quot;,\n&quot;Knitting&quot;, new Integer(2), new Boolean(false)},\n{&quot;Jane&quot;, &quot;White&quot;,\n&quot;Speed reading&quot;, new Integer(20), new Boolean(true)}, {&quot;Joe&quot;, &quot;Brown&quot;,\n&quot;Pool&quot;, new Integer(10), new Boolean(false)}\n};\n\nTextTable tt = new TextTable(columnNames, data);\n// this adds the numbering on the left\ntt.setAddRowNumbering(true);\n// sort by the first column\ntt.setSort(0);\ntt.printTable();\n</code></pre>\n<p>The Output:</p>\n<p><a href=\"https://i.stack.imgur.com/xWhXO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xWhXO.png\" alt=\"Output\" /></a></p>\n"}],"owner":{"account_id":3203052,"reputation":1223,"user_id":2704743,"accept_rate":100,"display_name":"user2704743"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105256,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":18672745,"answer_count":6,"score":15,"last_activity_date":1676656083,"creation_date":1378551996,"question_id":18672643,"body_markdown":"I&#39;m trying to print a table in Java and I was wondering what is the best way to do this?\r\n\r\nI&#39;ve tried printing new lines and using \\t to make contents line up but it doesn&#39;t work. Is there a method which does this or a better way?","title":"How to print a table of information in Java","body":"<p>I'm trying to print a table in Java and I was wondering what is the best way to do this?</p>\n\n<p>I've tried printing new lines and using \\t to make contents line up but it doesn't work. Is there a method which does this or a better way?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1638295998,"post_id":70067976,"comment_id":124049113,"body_markdown":"have you seen https://stackoverflow.com/a/58490797/175554 ?","body":"have you seen <a href=\"https://stackoverflow.com/a/58490797/175554\">stackoverflow.com/a/58490797/175554</a> ?"},{"owner":{"account_id":23419843,"reputation":1,"user_id":17480221,"display_name":"Alejandro Oller Valiente"},"score":0,"creation_date":1638379071,"post_id":70067976,"comment_id":124074162,"body_markdown":"@&#246;zkanpakdil Yes, but the error I get is when I request all Buildings, not one.","body":"@&#246;zkanpakdil Yes, but the error I get is when I request all Buildings, not one."},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1638383209,"post_id":70067976,"comment_id":124075958,"body_markdown":"can you put a reproducer to github ?","body":"can you put a reproducer to github ?"}],"answers":[{"comments":[{"owner":{"account_id":16027731,"reputation":1182,"user_id":11567551,"display_name":"Michiel Leegwater"},"score":0,"creation_date":1676654328,"post_id":75446394,"comment_id":133187417,"body_markdown":"Your solution is not very readable at the moment. \nThe code could be formatted using single backticks for inline code or triple backticks if you want to post a multi line piece of code.","body":"Your solution is not very readable at the moment.  The code could be formatted using single backticks for inline code or triple backticks if you want to post a multi line piece of code."}],"tags":[],"owner":{"account_id":24669356,"reputation":3,"user_id":18564544,"display_name":"M waseem haider"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676655526,"creation_date":1676369915,"answer_id":75446394,"question_id":70067976,"body_markdown":"solution \r\n\r\n    @JsonIgnore\r\n    @OneToMany(cascade = CascadeType.ALL,mappedBy = &quot;shipment&quot;, fetch=FetchType.LAZY)\r\n\r\nuse where relation is being create in many cause one to many relation fetching using lazy apply \r\n\r\n    @jsonIgnore annotation \r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;}) \r\n\r\nadding at top of the class \r\n\r\nadding in application.properties\r\n\r\n    spring.jackson.serialization.fail-on-empty-beans=false\r\n\r\nadding dependence in build.gradle\r\n\r\n    implementation group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-databind&#39;, version: &#39;2.7.0&#39;\r\n\r\nhope your solution has been solved \r\n\r\n  ","title":"Problems with Lazy Loading in Spring Boot","body":"<p>solution</p>\n<pre><code>@JsonIgnore\n@OneToMany(cascade = CascadeType.ALL,mappedBy = &quot;shipment&quot;, fetch=FetchType.LAZY)\n</code></pre>\n<p>use where relation is being create in many cause one to many relation fetching using lazy apply</p>\n<pre><code>@jsonIgnore annotation \n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;}) \n</code></pre>\n<p>adding at top of the class</p>\n<p>adding in application.properties</p>\n<pre><code>spring.jackson.serialization.fail-on-empty-beans=false\n</code></pre>\n<p>adding dependence in build.gradle</p>\n<pre><code>implementation group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.7.0'\n</code></pre>\n<p>hope your solution has been solved</p>\n"}],"owner":{"account_id":23419843,"reputation":1,"user_id":17480221,"display_name":"Alejandro Oller Valiente"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":793,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676655526,"creation_date":1637593803,"question_id":70067976,"body_markdown":"first post here.  Hope to not get bashed \r\n\r\nI&#39;m trying to build an app using Springboot.  I&#39;m using JpaRepository to access the MySQL database.  I&#39;ve been having this problem when I request to get all Building entities.\r\n\r\nI know that this error can be disabled in the application.properties but I want to know where have I done wrong and how to fix it.\r\n\r\nHere is the error:\r\n\r\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.aov.buildingapp.common.response.BaseResponse[&quot;data&quot;]-&gt;java.util.ArrayList[0]-&gt;org.aov.buildingapp.model.building.Building[&quot;apartments&quot;]-&gt;org.hibernate.collection.internal.PersistentBag[0]-&gt;org.aov.buildingapp.model.apartment.Apartment$HibernateProxy$d8LWlA1P[&quot;$$_hibernate_interceptor&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1276) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:71) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:33) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:119) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:79) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:18) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1514) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1006) ~[jackson-databind-2.12.5.jar:2.12.5]\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:454) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\nHere are the three entities that are related.  It goes a user has an apartment in a building.\r\n\r\nBuilding:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @ToString\r\n    @JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\r\n    @Table(name = &quot;building&quot;)\r\n\r\n    public class Building {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @Column(insertable = false, updatable = false, name = &quot;id_building&quot;)\r\n    private int id;\r\n\r\n    @Column\r\n    private String name;\r\n\r\n    @Column\r\n    private String direction;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;adminToBuilding&quot;)\r\n    @JsonManagedReference\r\n    private User adminUser;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;tenantInBuilding&quot;)\r\n    @JsonManagedReference\r\n    private List&lt;User&gt; tenants;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;apartmentInBuilding&quot;)\r\n    @JsonManagedReference\r\n    private List&lt;Apartment&gt; apartments;\r\n\r\n    }\r\n\r\nApartment:\r\n\r\n   \r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @ToString\r\n    @JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\r\n    @Table(name = &quot;apartment&quot;)\r\n    public class Apartment {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(insertable = false, updatable = false, name = &quot;id_apartment&quot;)\r\n    private int id;\r\n\r\n    @Column\r\n    private int floor;\r\n\r\n    @Column\r\n    private String num;\r\n\r\n    @ManyToOne(optional = false)\r\n    @JoinColumn(name = &quot;apartmentInBuilding&quot;, referencedColumnName = &quot;id_building&quot;)\r\n    @JsonBackReference\r\n    private Building apartmentInBuilding;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;tenantInApartment&quot;)\r\n    @JsonManagedReference\r\n    private List&lt;User&gt; tenantsInApartment;\r\n\r\n    }\r\n\r\n\r\nUser:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @ToString\r\n    @JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\r\n    @Table(name = &quot;user&quot;)\r\n    public class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;, insertable = false, updatable = false)\r\n    int id;\r\n\r\n    @Column\r\n    String first_name;\r\n\r\n    @Column\r\n    String last_name;\r\n\r\n    @Column\r\n    String email;\r\n\r\n    @Column\r\n    String password;\r\n\r\n    @Nullable\r\n    @OneToOne(orphanRemoval = true)\r\n    @JoinColumn(name = &quot;adminToBuilding&quot;, referencedColumnName = &quot;id_building&quot;)\r\n    @JsonBackReference\r\n    private Building adminToBuilding;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;tenantInBuilding&quot;, referencedColumnName = &quot;id_building&quot;)\r\n    @JsonBackReference\r\n    private Building tenantInBuilding;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;tenantInApartment&quot;, referencedColumnName = &quot;id_apartment&quot;)\r\n    @JsonBackReference\r\n    private Apartment tenantInApartment;\r\n\r\n    @Column\r\n    private int country_code;\r\n\r\n    @Column\r\n    private String mobile_telephone;\r\n\r\n    @Column\r\n    private String document_type;\r\n\r\n    @Column\r\n    private String document_number;\r\n\r\n    @Column\r\n    @Enumerated(EnumType.STRING)\r\n    private UserRoles role;\r\n\r\n    }\r\n\r\n\r\nThanks in advance!","title":"Problems with Lazy Loading in Spring Boot","body":"<p>first post here.  Hope to not get bashed</p>\n<p>I'm trying to build an app using Springboot.  I'm using JpaRepository to access the MySQL database.  I've been having this problem when I request to get all Building entities.</p>\n<p>I know that this error can be disabled in the application.properties but I want to know where have I done wrong and how to fix it.</p>\n<p>Here is the error:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.aov.buildingapp.common.response.BaseResponse[&quot;data&quot;]-&gt;java.util.ArrayList[0]-&gt;org.aov.buildingapp.model.building.Building[&quot;apartments&quot;]-&gt;org.hibernate.collection.internal.PersistentBag[0]-&gt;org.aov.buildingapp.model.apartment.Apartment$HibernateProxy$d8LWlA1P[&quot;$$_hibernate_interceptor&quot;])\nat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1276) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:71) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:33) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:119) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:79) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:18) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1514) ~[jackson-databind-2.12.5.jar:2.12.5]\nat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1006) ~[jackson-databind-2.12.5.jar:2.12.5]\nat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:454) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n<p>Here are the three entities that are related.  It goes a user has an apartment in a building.</p>\n<p>Building:</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@ToString\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\n@Table(name = &quot;building&quot;)\n\npublic class Building {\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE)\n@Column(insertable = false, updatable = false, name = &quot;id_building&quot;)\nprivate int id;\n\n@Column\nprivate String name;\n\n@Column\nprivate String direction;\n\n@OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;adminToBuilding&quot;)\n@JsonManagedReference\nprivate User adminUser;\n\n@OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;tenantInBuilding&quot;)\n@JsonManagedReference\nprivate List&lt;User&gt; tenants;\n\n@OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;apartmentInBuilding&quot;)\n@JsonManagedReference\nprivate List&lt;Apartment&gt; apartments;\n\n}\n</code></pre>\n<p>Apartment:</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@ToString\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\n@Table(name = &quot;apartment&quot;)\npublic class Apartment {\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(insertable = false, updatable = false, name = &quot;id_apartment&quot;)\nprivate int id;\n\n@Column\nprivate int floor;\n\n@Column\nprivate String num;\n\n@ManyToOne(optional = false)\n@JoinColumn(name = &quot;apartmentInBuilding&quot;, referencedColumnName = &quot;id_building&quot;)\n@JsonBackReference\nprivate Building apartmentInBuilding;\n\n@OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;tenantInApartment&quot;)\n@JsonManagedReference\nprivate List&lt;User&gt; tenantsInApartment;\n\n}\n</code></pre>\n<p>User:</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@ToString\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\n@Table(name = &quot;user&quot;)\npublic class User {\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name = &quot;id&quot;, insertable = false, updatable = false)\nint id;\n\n@Column\nString first_name;\n\n@Column\nString last_name;\n\n@Column\nString email;\n\n@Column\nString password;\n\n@Nullable\n@OneToOne(orphanRemoval = true)\n@JoinColumn(name = &quot;adminToBuilding&quot;, referencedColumnName = &quot;id_building&quot;)\n@JsonBackReference\nprivate Building adminToBuilding;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;tenantInBuilding&quot;, referencedColumnName = &quot;id_building&quot;)\n@JsonBackReference\nprivate Building tenantInBuilding;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;tenantInApartment&quot;, referencedColumnName = &quot;id_apartment&quot;)\n@JsonBackReference\nprivate Apartment tenantInApartment;\n\n@Column\nprivate int country_code;\n\n@Column\nprivate String mobile_telephone;\n\n@Column\nprivate String document_type;\n\n@Column\nprivate String document_number;\n\n@Column\n@Enumerated(EnumType.STRING)\nprivate UserRoles role;\n\n}\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","formatting"],"answers":[{"tags":[],"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1273516396,"creation_date":1273516396,"answer_id":2805384,"question_id":2805373,"body_markdown":"Use printf with padded fields to achive column alignments.\r\n\r\nPrintWriter.printf to be specific","title":"How to print object list to file with formatting in table format","body":"<p>Use printf with padded fields to achive column alignments.</p>\n\n<p>PrintWriter.printf to be specific</p>\n"},{"comments":[{"owner":{"account_id":126176,"reputation":1136,"user_id":322492,"accept_rate":70,"display_name":"jgg"},"score":0,"creation_date":1273527600,"post_id":2805422,"comment_id":2844685,"body_markdown":"Awesome! This is really simple and effective. Thanks.","body":"Awesome! This is really simple and effective. Thanks."}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1273516666,"creation_date":1273516666,"answer_id":2805422,"question_id":2805373,"body_markdown":"    import java.util.*;\r\n    \r\n    public class Test {\r\n        \r\n        public static void main(String[] args) {\r\n            List&lt;Person&gt; list = new ArrayList&lt;Person&gt;();\r\n            list.add(new Person(&quot;alpha&quot;, &quot;astreet&quot;, 12));\r\n            list.add(new Person(&quot;bravo&quot;, &quot;bstreet&quot;, 23));\r\n            list.add(new Person(&quot;charlie&quot;, &quot;cstreet&quot;, 34));\r\n            list.add(new Person(&quot;delta&quot;, &quot;dstreet&quot;, 45));\r\n            \r\n            System.out.println(String.format(&quot;%-10s%-10s%-10s&quot;, &quot;Name&quot;, &quot;Age&quot;, &quot;Adress&quot;));\r\n            for (Person p : list)\r\n                System.out.println(String.format(&quot;%-10s%-10s%-10d&quot;, p.name, p.addr, p.age));\r\n        }\r\n    }\r\n    \r\n    class Person {\r\n        String name;\r\n        String addr;\r\n        int age;\r\n        public Person(String name, String addr, int age) {\r\n            this.name = name;\r\n            this.addr = addr;\r\n            this.age = age;\r\n        }\r\n    }\r\n\r\n\r\n----------\r\n\r\n**Output:**\r\n \r\n    Name      Age       Adress    \r\n    alpha     astreet   12        \r\n    bravo     bstreet   23        \r\n    charlie   cstreet   34        \r\n    delta     dstreet   45        \r\n","title":"How to print object list to file with formatting in table format","body":"<pre><code>import java.util.*;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        List&lt;Person&gt; list = new ArrayList&lt;Person&gt;();\n        list.add(new Person(\"alpha\", \"astreet\", 12));\n        list.add(new Person(\"bravo\", \"bstreet\", 23));\n        list.add(new Person(\"charlie\", \"cstreet\", 34));\n        list.add(new Person(\"delta\", \"dstreet\", 45));\n\n        System.out.println(String.format(\"%-10s%-10s%-10s\", \"Name\", \"Age\", \"Adress\"));\n        for (Person p : list)\n            System.out.println(String.format(\"%-10s%-10s%-10d\", p.name, p.addr, p.age));\n    }\n}\n\nclass Person {\n    String name;\n    String addr;\n    int age;\n    public Person(String name, String addr, int age) {\n        this.name = name;\n        this.addr = addr;\n        this.age = age;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Name      Age       Adress    \nalpha     astreet   12        \nbravo     bstreet   23        \ncharlie   cstreet   34        \ndelta     dstreet   45        \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3890955,"reputation":546,"user_id":6835932,"display_name":"Micha Jaro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676655523,"creation_date":1674758301,"answer_id":75250334,"question_id":2805373,"body_markdown":"Library for printing Java objects as Markdown / CSV / HTML table using reflection: https://github.com/mjfryc/mjaron-etudes-java\r\n\r\n```gradle\r\ndependencies {\r\n    implementation &#39;io.github.mjfryc:mjaron-etudes-java:0.2.1&#39;\r\n}\r\n```\r\n\r\n```java\r\nimport pl.mjaron.etudes;\r\n\r\nclass Sample {\r\n    void sample() {\r\n        Cat[] cats = {cat0, cat1};\r\n        Table.render(cats, Cat.class)\r\n            .markdown() // or .csv() or .html()\r\n            .to(System.out) // Or to StrigBuilder | OutputStream | File.\r\n            \r\n            // Optionally specify Left /Right / Center alignment.\r\n            .withAlign(VerticalAlign.Left)\r\n            \r\n            .run(); // Or .runToString() to return it to String.\r\n    }\r\n}\r\n```\r\n\r\nSample Markdown output:\r\n\r\n```\r\n| name | legsCount | lazy  | topSpeed |\r\n|------|-----------|-------|----------|\r\n| John | 4         | true  | 35.24    |\r\n| Bob  | 5         | false | 75.0     |\r\n```","title":"How to print object list to file with formatting in table format","body":"<p>Library for printing Java objects as Markdown / CSV / HTML table using reflection: <a href=\"https://github.com/mjfryc/mjaron-etudes-java\" rel=\"nofollow noreferrer\">https://github.com/mjfryc/mjaron-etudes-java</a></p>\n<pre><code>dependencies {\n    implementation 'io.github.mjfryc:mjaron-etudes-java:0.2.1'\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import pl.mjaron.etudes;\n\nclass Sample {\n    void sample() {\n        Cat[] cats = {cat0, cat1};\n        Table.render(cats, Cat.class)\n            .markdown() // or .csv() or .html()\n            .to(System.out) // Or to StrigBuilder | OutputStream | File.\n            \n            // Optionally specify Left /Right / Center alignment.\n            .withAlign(VerticalAlign.Left)\n            \n            .run(); // Or .runToString() to return it to String.\n    }\n}\n</code></pre>\n<p>Sample Markdown output:</p>\n<pre><code>| name | legsCount | lazy  | topSpeed |\n|------|-----------|-------|----------|\n| John | 4         | true  | 35.24    |\n| Bob  | 5         | false | 75.0     |\n</code></pre>\n"}],"owner":{"account_id":126176,"reputation":1136,"user_id":322492,"accept_rate":70,"display_name":"jgg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8523,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":2805422,"answer_count":3,"score":5,"last_activity_date":1676655523,"creation_date":1273516286,"question_id":2805373,"body_markdown":"I have to print list of objects to a text file with table format. For example, if I have list of Person(has getName,getAge and getAddress methods)objects, the text file should look like as below. \r\n\r\n    Name       Age      Address\r\n\r\n    Abc        20       some address1\r\n    Def        30       some address2 \r\n\r\nI can do this by manually writing some code, where I have to take care of spaces and formatting issues. \r\n\r\nI am just curious whether are they APIs or tools to do this formatting work?\r\n","title":"How to print object list to file with formatting in table format","body":"<p>I have to print list of objects to a text file with table format. For example, if I have list of Person(has getName,getAge and getAddress methods)objects, the text file should look like as below. </p>\n\n<pre><code>Name       Age      Address\n\nAbc        20       some address1\nDef        30       some address2 \n</code></pre>\n\n<p>I can do this by manually writing some code, where I have to take care of spaces and formatting issues. </p>\n\n<p>I am just curious whether are they APIs or tools to do this formatting work?</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":3,"creation_date":1438180157,"post_id":31703226,"comment_id":51345376,"body_markdown":"Is there any reason to use a `Stream` ? Can&#39;t you shuffle the original list, and then return a copy with `subList` ?","body":"Is there any reason to use a <code>Stream</code> ? Can&#39;t you shuffle the original list, and then return a copy with <code>subList</code> ?"},{"owner":{"account_id":1015767,"reputation":2808,"user_id":1027359,"accept_rate":71,"display_name":"dotvav"},"score":0,"creation_date":1438180513,"post_id":31703226,"comment_id":51345646,"body_markdown":"Do you know how many words are in the source stream?","body":"Do you know how many words are in the source stream?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1438180615,"post_id":31703226,"comment_id":51345724,"body_markdown":"What @AlexisC. said. `Collections.shuffle` and `list.subList(0,size)` should be enough.","body":"What @AlexisC. said. <code>Collections.shuffle</code> and <code>list.subList(0,size)</code> should be enough."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":1,"creation_date":1438189160,"post_id":31703226,"comment_id":51351737,"body_markdown":"See also this answer, if there is a large number of elements which might make shuffling expensive: http://stackoverflow.com/a/28655112/1441122","body":"See also this answer, if there is a large number of elements which might make shuffling expensive: <a href=\"http://stackoverflow.com/a/28655112/1441122\">stackoverflow.com/a/28655112/1441122</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1618094877,"post_id":31703226,"comment_id":118499294,"body_markdown":"This question seems to be a duplicate of [*Perform operation on n random distinct elements from Collection using Streams API*](https://stackoverflow.com/q/28651908/642706).","body":"This question seems to be a duplicate of <a href=\"https://stackoverflow.com/q/28651908/642706\"><i>Perform operation on n random distinct elements from Collection using Streams API</i></a>."}],"answers":[{"comments":[{"owner":{"account_id":1191016,"reputation":3319,"user_id":1163804,"accept_rate":75,"display_name":"Toilal"},"score":2,"creation_date":1438181243,"post_id":31703619,"comment_id":51346201,"body_markdown":"It doesn&#39;t really use java 8 stream API","body":"It doesn&#39;t really use java 8 stream API"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1438193100,"post_id":31703619,"comment_id":51354046,"body_markdown":"@Toilal: still, its a solution. Not everything gets better with streams. However, if a rather small result list is required, Id go into [this direction](http://stackoverflow.com/a/28671411/2711488) instead of shuffling the entire list","body":"@Toilal: still, its a solution. Not everything gets better with streams. However, if a rather small result list is required, Id go into <a href=\"http://stackoverflow.com/a/28671411/2711488\">this direction</a> instead of shuffling the entire list"},{"owner":{"account_id":1667007,"reputation":2777,"user_id":1534211,"display_name":"mate00"},"score":0,"creation_date":1438242760,"post_id":31703619,"comment_id":51373246,"body_markdown":"I agree. When input list is considered big, shuffling it all is not efficient.","body":"I agree. When input list is considered big, shuffling it all is not efficient."}],"tags":[],"owner":{"account_id":1667007,"reputation":2777,"user_id":1534211,"display_name":"mate00"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438180605,"creation_date":1438180605,"answer_id":31703619,"question_id":31703226,"body_markdown":"Try something like that:\r\n\r\n    List&lt;String&gt; getSomeRandom(int size, List&lt;String&gt; sourceList) {\r\n        List&lt;String&gt; copy = new ArrayList&lt;String&gt;(sourceList);\r\n        Collections.shuffle(copy);\r\n        List&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n        for (int i = 0; i &lt; size; i++) {\r\n            result.add(copy.get(i));\r\n        }\r\n\r\n        return result;\r\n    }","title":"How to get random objects from a stream","body":"<p>Try something like that:</p>\n\n<pre><code>List&lt;String&gt; getSomeRandom(int size, List&lt;String&gt; sourceList) {\n    List&lt;String&gt; copy = new ArrayList&lt;String&gt;(sourceList);\n    Collections.shuffle(copy);\n    List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n    for (int i = 0; i &lt; size; i++) {\n        result.add(copy.get(i));\n    }\n\n    return result;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1191016,"reputation":3319,"user_id":1163804,"accept_rate":75,"display_name":"Toilal"},"score":1,"creation_date":1438181062,"post_id":31703655,"comment_id":51346072,"body_markdown":"r.nextBoolean() would be easier","body":"r.nextBoolean() would be easier"},{"owner":{"account_id":6698137,"reputation":822,"user_id":5165589,"accept_rate":88,"display_name":"Timofey"},"score":0,"creation_date":1438181184,"post_id":31703655,"comment_id":51346156,"body_markdown":"Yes, I just didn&#39;t think about it :) But the point still the same","body":"Yes, I just didn&#39;t think about it :) But the point still the same"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1438181778,"post_id":31703655,"comment_id":51346631,"body_markdown":"This uses a comparator which doesn&#39;t impose any definite ordering at all, thus breaking its general contract in the extremest sense. Even if it happens to work with some sorting implementation, it does so by pure accident.","body":"This uses a comparator which doesn&#39;t impose any definite ordering at all, thus breaking its general contract in the extremest sense. Even if it happens to work with some sorting implementation, it does so by pure accident."},{"owner":{"account_id":6698137,"reputation":822,"user_id":5165589,"accept_rate":88,"display_name":"Timofey"},"score":0,"creation_date":1438182265,"post_id":31703655,"comment_id":51347024,"body_markdown":"This is what @Swiss_Codeaholic wants  random order. I thought this is kind of a standart that callback should return positive number if one argument &#39;more than&#39; another, and negative if the opposite. Am I wrong?","body":"This is what @Swiss_Codeaholic wants  random order. I thought this is kind of a standart that callback should return positive number if one argument &#39;more than&#39; another, and negative if the opposite. Am I wrong?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1438182834,"post_id":31703655,"comment_id":51347432,"body_markdown":"The comparator should impose some _definite_ random order. Your comparator doesn&#39;t impose _any_ order at all. Actually, it doesn&#39;t even define a general relation because it returns a different value each time, even when repeatedly asked to compare the same two objects. An order must additionally be reflexive, symmetric, and transitive.","body":"The comparator should impose some <i>definite</i> random order. Your comparator doesn&#39;t impose <i>any</i> order at all. Actually, it doesn&#39;t even define a general relation because it returns a different value each time, even when repeatedly asked to compare the same two objects. An order must additionally be reflexive, symmetric, and transitive."},{"owner":{"account_id":6698137,"reputation":822,"user_id":5165589,"accept_rate":88,"display_name":"Timofey"},"score":0,"creation_date":1438183151,"post_id":31703655,"comment_id":51347680,"body_markdown":"But is it really possible to follow these rules with random order? If the comparator would return the same number each time when asked to compare the same objects, wouldn&#39;t it be random?","body":"But is it really possible to follow these rules with random order? If the comparator would return the same number each time when asked to compare the same objects, wouldn&#39;t it be random?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1438184191,"post_id":31703655,"comment_id":51348491,"body_markdown":"Of course it is possible. A random order is just another order. A comparator which returns a random value doesn&#39;t specify any order at all. Take a list processed by `Collections.shuffle()`: for any two elements in that list, one comes before the other _every time you check_. And surely, an element compared to itself yields equality. Your comparator never returns zero.","body":"Of course it is possible. A random order is just another order. A comparator which returns a random value doesn&#39;t specify any order at all. Take a list processed by <code>Collections.shuffle()</code>: for any two elements in that list, one comes before the other <i>every time you check</i>. And surely, an element compared to itself yields equality. Your comparator never returns zero."},{"owner":{"account_id":6698137,"reputation":822,"user_id":5165589,"accept_rate":88,"display_name":"Timofey"},"score":0,"creation_date":1438185442,"post_id":31703655,"comment_id":51349392,"body_markdown":"I have edited the answer, so now it can return 0, thanks. But I just checked `Collections.shuffle()` for `List&lt;String&gt; src` from my example, and for any two elements every time they are in different order. Maybe I misunderstand you?","body":"I have edited the answer, so now it can return 0, thanks. But I just checked <code>Collections.shuffle()</code> for <code>List&lt;String&gt; src</code> from my example, and for any two elements every time they are in different order. Maybe I misunderstand you?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1438186565,"post_id":31703655,"comment_id":51350122,"body_markdown":"Yes, you do. You called `shuffle()` again each time. I mentioned a list which was processed by `shuffle` once and then inspected. That list has a random, but definite order, and the equivalent of that is what OP needs. Your solution is like shuffling the whole list each time you call `iterator.next()`","body":"Yes, you do. You called <code>shuffle()</code> again each time. I mentioned a list which was processed by <code>shuffle</code> once and then inspected. That list has a random, but definite order, and the equivalent of that is what OP needs. Your solution is like shuffling the whole list each time you call <code>iterator.next()</code>"},{"owner":{"account_id":6698137,"reputation":822,"user_id":5165589,"accept_rate":88,"display_name":"Timofey"},"score":0,"creation_date":1438186631,"post_id":31703655,"comment_id":51350164,"body_markdown":"Now I got it. Thank you!","body":"Now I got it. Thank you!"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":5,"creation_date":1438191201,"post_id":31703655,"comment_id":51352940,"body_markdown":"Your solution is actually broken. It may work for small lists (less than 32 elements), because in this case JDK switches to simpler sorting algorithm. But for big arrays the sort will randomly crash because of contract violation. Try this source: `List&lt;String&gt; src = IntStream.range(0, 100000).mapToObj(String::valueOf).collect(Collectors.toList());`. Use, for example, 0 seed (`Random r = new Random(0);`) and it will crash.","body":"Your solution is actually broken. It may work for small lists (less than 32 elements), because in this case JDK switches to simpler sorting algorithm. But for big arrays the sort will randomly crash because of contract violation. Try this source: <code>List&lt;String&gt; src = IntStream.range(0, 100000).mapToObj(String::valueOf).collect(Collectors.toList(&zwnj;&#8203;));</code>. Use, for example, 0 seed (<code>Random r = new Random(0);</code>) and it will crash."},{"owner":{"account_id":6698137,"reputation":822,"user_id":5165589,"accept_rate":88,"display_name":"Timofey"},"score":0,"creation_date":1438191382,"post_id":31703655,"comment_id":51353031,"body_markdown":"didn&#39;t know that, thanks! Where can I find more info on stream api (beside oracle documentatiob)?","body":"didn&#39;t know that, thanks! Where can I find more info on stream api (beside oracle documentatiob)?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1438192904,"post_id":31703655,"comment_id":51353916,"body_markdown":"@Timofey: This has nothing to do with the stream API. Its the [`Comparator` contract](http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html). You can expect every method using a comparator to dislike broken contracts. I.e. `Collections.sort` behaves the same, even under Java&#160;7.","body":"@Timofey: This has nothing to do with the stream API. Its the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code> contract</a>. You can expect every method using a comparator to dislike broken contracts. I.e. <code>Collections.sort</code> behaves the same, even under Java 7."}],"tags":[],"owner":{"account_id":6698137,"reputation":822,"user_id":5165589,"accept_rate":88,"display_name":"Timofey"},"comment_count":13,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1438185198,"creation_date":1438180699,"answer_id":31703655,"question_id":31703226,"body_markdown":"The answer is very simple(with stream):\r\n\r\n    List&lt;String&gt; a = src.stream().sorted((o1, o2) -&gt; {\r\n            if (o1.equals(o2)) return 0;\r\n            return (r.nextBoolean()) ? 1 : -1;\r\n        }).limit(10).collect(Collectors.toList());\r\n\r\nYou can test it:\r\n\r\n    List&lt;String&gt; src = new ArrayList&lt;String&gt;();\r\n    for (int i = 0; i &lt; 20; i++) {\r\n        src.add(String.valueOf(i*10));\r\n    }\r\n    Random r = new Random();\r\n    List&lt;String&gt; a = src.stream().sorted((o1, o2) -&gt; {\r\n            if (o1.equals(o2)) return 0;\r\n            return (r.nextBoolean()) ? 1 : -1;\r\n        }).limit(10).collect(Collectors.toList());\r\n    System.out.println(a);","title":"How to get random objects from a stream","body":"<p>The answer is very simple(with stream):</p>\n\n<pre><code>List&lt;String&gt; a = src.stream().sorted((o1, o2) -&gt; {\n        if (o1.equals(o2)) return 0;\n        return (r.nextBoolean()) ? 1 : -1;\n    }).limit(10).collect(Collectors.toList());\n</code></pre>\n\n<p>You can test it:</p>\n\n<pre><code>List&lt;String&gt; src = new ArrayList&lt;String&gt;();\nfor (int i = 0; i &lt; 20; i++) {\n    src.add(String.valueOf(i*10));\n}\nRandom r = new Random();\nList&lt;String&gt; a = src.stream().sorted((o1, o2) -&gt; {\n        if (o1.equals(o2)) return 0;\n        return (r.nextBoolean()) ? 1 : -1;\n    }).limit(10).collect(Collectors.toList());\nSystem.out.println(a);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":6,"creation_date":1438190668,"post_id":31705423,"comment_id":51352634,"body_markdown":"Using this solution you may get repeating words in the result which might be undesirable. If it&#39;s ok in your case, please edit the question to explicitly state this.","body":"Using this solution you may get repeating words in the result which might be undesirable. If it&#39;s ok in your case, please edit the question to explicitly state this."},{"owner":{"account_id":5405333,"reputation":4229,"user_id":4304038,"accept_rate":92,"display_name":"Adrian Krebs"},"score":0,"creation_date":1438249719,"post_id":31705423,"comment_id":51377598,"body_markdown":"Good point. But i could resolve that by adding .distinct right?","body":"Good point. But i could resolve that by adding .distinct right?"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":7,"creation_date":1438251082,"post_id":31705423,"comment_id":51378463,"body_markdown":"This way your resulting list will be shorter than requested. Probably `rand.ints(0, sourceWords.size()).distinct().limit(listSize).mapToObj(sourceWords::get)` would be better.","body":"This way your resulting list will be shorter than requested. Probably <code>rand.ints(0, sourceWords.size()).distinct().limit(listSize).mapToObj(sour&zwnj;&#8203;ceWords::get)</code> would be better."},{"owner":{"account_id":5405333,"reputation":4229,"user_id":4304038,"accept_rate":92,"display_name":"Adrian Krebs"},"score":1,"creation_date":1438284735,"post_id":31705423,"comment_id":51400485,"body_markdown":"Unfortunately that doesn&#39;t work.  `Limit()` is just ignored in this case.","body":"Unfortunately that doesn&#39;t work.  <code>Limit()</code> is just ignored in this case."}],"tags":[],"owner":{"account_id":5405333,"reputation":4229,"user_id":4304038,"accept_rate":92,"display_name":"Adrian Krebs"},"comment_count":4,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1549634295,"creation_date":1438185318,"answer_id":31705423,"question_id":31703226,"body_markdown":"I&#39;ve found a proper solution.\r\nRandom provides a few methods to return a stream. For example ints(size) which creates a stream of random integers.\r\n\r\n    public List&lt;String&gt; createList(int listSize)\r\n    {\r\n       Random rand = new Random();\r\n       List&lt;String&gt; wordList = rand.\r\n          ints(listSize, 0, sourceWords.size()).\r\n          mapToObj(i -&gt; sourceWords.get(i)).\r\n          collect(Collectors.toList());\r\n\r\n       return wordList;\r\n    }","title":"How to get random objects from a stream","body":"<p>I've found a proper solution.\nRandom provides a few methods to return a stream. For example ints(size) which creates a stream of random integers.</p>\n\n<pre><code>public List&lt;String&gt; createList(int listSize)\n{\n   Random rand = new Random();\n   List&lt;String&gt; wordList = rand.\n      ints(listSize, 0, sourceWords.size()).\n      mapToObj(i -&gt; sourceWords.get(i)).\n      collect(Collectors.toList());\n\n   return wordList;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4595156,"reputation":243,"user_id":3727446,"display_name":"daShader"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1455916070,"creation_date":1455907767,"answer_id":35512753,"question_id":31703226,"body_markdown":"I think the most elegant way is to have a special collector. \r\n\r\nI am pretty sure the only way you can guarantee that each item has an equal chance of being picked, is to collect, shuffle and re-stream. This can be easily done using built-in Collectors.collectingAndThen(...) helper.\r\n\r\nSorting by a random comparator or using randomized reducer, like suggested on some other answers, will result in very biased randomness.\r\n\r\n\r\n\r\n    List&lt;String&gt; wordList = sourceWords.stream()\r\n      .collect(Collectors.collectingAndThen(Collectors.toList(), collected -&gt; {\r\n          Collections.shuffle(collected);\r\n          return collected.stream();\r\n      }))\r\n      .limit(listSize)\r\n      .collect(Collectors.toList());\r\n\r\n\r\nYou can move that shuffling collector to a helper function:\r\n\r\n    public class CollectorUtils {\r\n    \r\n        public static &lt;T&gt; Collector&lt;T, ?, Stream&lt;T&gt;&gt; toShuffledStream() {\r\n            return Collectors.collectingAndThen(Collectors.toList(), collected -&gt; {\r\n                Collections.shuffle(collected);\r\n                return collected.stream();\r\n            });\r\n        }\r\n    \r\n    }\r\n\r\nI assume that you are looking for a way to nicely integrate with other stream processing functions. So following straightforward solution is not what you are looking for :)\r\n\r\n    Collections.shuffle(wordList)\r\n    return wordList.subList(0, limitSize)","title":"How to get random objects from a stream","body":"<p>I think the most elegant way is to have a special collector. </p>\n\n<p>I am pretty sure the only way you can guarantee that each item has an equal chance of being picked, is to collect, shuffle and re-stream. This can be easily done using built-in Collectors.collectingAndThen(...) helper.</p>\n\n<p>Sorting by a random comparator or using randomized reducer, like suggested on some other answers, will result in very biased randomness.</p>\n\n<pre><code>List&lt;String&gt; wordList = sourceWords.stream()\n  .collect(Collectors.collectingAndThen(Collectors.toList(), collected -&gt; {\n      Collections.shuffle(collected);\n      return collected.stream();\n  }))\n  .limit(listSize)\n  .collect(Collectors.toList());\n</code></pre>\n\n<p>You can move that shuffling collector to a helper function:</p>\n\n<pre><code>public class CollectorUtils {\n\n    public static &lt;T&gt; Collector&lt;T, ?, Stream&lt;T&gt;&gt; toShuffledStream() {\n        return Collectors.collectingAndThen(Collectors.toList(), collected -&gt; {\n            Collections.shuffle(collected);\n            return collected.stream();\n        });\n    }\n\n}\n</code></pre>\n\n<p>I assume that you are looking for a way to nicely integrate with other stream processing functions. So following straightforward solution is not what you are looking for :)</p>\n\n<pre><code>Collections.shuffle(wordList)\nreturn wordList.subList(0, limitSize)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":0,"creation_date":1516232346,"post_id":42429736,"comment_id":83609291,"body_markdown":"@Holger fair enough, it was pulled out of a private method we had where there was actually a guarantee of both those things. :)  First time hearing about `Collections.swap` too.","body":"@Holger fair enough, it was pulled out of a private method we had where there was actually a guarantee of both those things. :)  First time hearing about <code>Collections.swap</code> too."},{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":0,"creation_date":1516233334,"post_id":42429736,"comment_id":83609566,"body_markdown":"@Holger I just figured out also why the bug doesn&#39;t matter.","body":"@Holger I just figured out also why the bug doesn&#39;t matter."}],"tags":[],"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549634234,"creation_date":1487903458,"answer_id":42429736,"question_id":31703226,"body_markdown":"Here&#39;s a solution I came up with which seems to differ from all the other ones, so I figured why not add it to the pile.\r\n\r\nBasically it works by using the same kind of trick as one iteration of `Collections.shuffle` each time you ask for the next element - pick a random element, swap that element with the first one in the list, move the pointer forwards. Could also do it with the pointer counting back from the end.\r\n\r\nThe caveat is that it does mutate the list you passed in, but I guess you could just take a copy as the first thing if you didn&#39;t like that. We were more interested in reducing redundant copies.\r\n\r\n    private static &lt;T&gt; Stream&lt;T&gt; randomStream(List&lt;T&gt; list)\r\n    {\r\n        int characteristics = Spliterator.SIZED;\r\n        // If you know your list is also unique / immutable / non-null\r\n        //int characteristics = Spliterator.DISTINCT | Spliterator.IMMUTABLE | Spliterator.NONNULL | Spliterator.SIZED;\r\n        Spliterator&lt;T&gt; spliterator = new Spliterators.AbstractSpliterator&lt;T&gt;(list.size(), characteristics)\r\n        {\r\n            private final Random random = new SecureRandom();\r\n            private final int size = list.size();\r\n            private int frontPointer = 0;\r\n\r\n            @Override\r\n            public boolean tryAdvance(Consumer&lt;? super T&gt; action)\r\n            {\r\n                if (frontPointer == size)\r\n                {\r\n                    return false;\r\n                }\r\n\r\n                // Same logic as one iteration of Collections.shuffle, so people talking about it not being\r\n                // fair randomness can take that up with the JDK project.\r\n                int nextIndex = random.nextInt(size - frontPointer) + frontPointer;\r\n                T nextItem = list.get(nextIndex);\r\n                // Technically the value we end up putting into frontPointer\r\n                // is never used again, but using swap anyway, for clarity.\r\n                Collections.swap(list, nextIndex, frontPointer);\r\n\r\n                frontPointer++;\r\n                // All items from frontPointer onwards have not yet been chosen.\r\n\r\n                action.accept(nextItem);\r\n                return true;\r\n            }\r\n        };\r\n\r\n        return StreamSupport.stream(spliterator, false);\r\n    }\r\n","title":"How to get random objects from a stream","body":"<p>Here's a solution I came up with which seems to differ from all the other ones, so I figured why not add it to the pile.</p>\n\n<p>Basically it works by using the same kind of trick as one iteration of <code>Collections.shuffle</code> each time you ask for the next element - pick a random element, swap that element with the first one in the list, move the pointer forwards. Could also do it with the pointer counting back from the end.</p>\n\n<p>The caveat is that it does mutate the list you passed in, but I guess you could just take a copy as the first thing if you didn't like that. We were more interested in reducing redundant copies.</p>\n\n<pre><code>private static &lt;T&gt; Stream&lt;T&gt; randomStream(List&lt;T&gt; list)\n{\n    int characteristics = Spliterator.SIZED;\n    // If you know your list is also unique / immutable / non-null\n    //int characteristics = Spliterator.DISTINCT | Spliterator.IMMUTABLE | Spliterator.NONNULL | Spliterator.SIZED;\n    Spliterator&lt;T&gt; spliterator = new Spliterators.AbstractSpliterator&lt;T&gt;(list.size(), characteristics)\n    {\n        private final Random random = new SecureRandom();\n        private final int size = list.size();\n        private int frontPointer = 0;\n\n        @Override\n        public boolean tryAdvance(Consumer&lt;? super T&gt; action)\n        {\n            if (frontPointer == size)\n            {\n                return false;\n            }\n\n            // Same logic as one iteration of Collections.shuffle, so people talking about it not being\n            // fair randomness can take that up with the JDK project.\n            int nextIndex = random.nextInt(size - frontPointer) + frontPointer;\n            T nextItem = list.get(nextIndex);\n            // Technically the value we end up putting into frontPointer\n            // is never used again, but using swap anyway, for clarity.\n            Collections.swap(list, nextIndex, frontPointer);\n\n            frontPointer++;\n            // All items from frontPointer onwards have not yet been chosen.\n\n            action.accept(nextItem);\n            return true;\n        }\n    };\n\n    return StreamSupport.stream(spliterator, false);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2988954,"reputation":1169,"user_id":2536990,"display_name":"IgorL"},"score":0,"creation_date":1631622420,"post_id":48276152,"comment_id":122267639,"body_markdown":"Improved version: \n`st.stream().min((o1, o2) -&gt; o1 == o2 ? 0 : (ThreadLocalRandom.current().nextBoolean() ? -1 : 1)).orElseThrow();`\n1. Used java built-in class ThreadLocalRandom\n2. nextInt generates one from [-1, 0, 1] but 0 means equals for the elements and first element will be taken more cases than the element at farther positions.","body":"Improved version:  <code>st.stream().min((o1, o2) -&gt; o1 == o2 ? 0 : (ThreadLocalRandom.current().nextBoolean() ? -1 : 1)).orElseThrow();</code> 1. Used java built-in class ThreadLocalRandom 2. nextInt generates one from [-1, 0, 1] but 0 means equals for the elements and first element will be taken more cases than the element at farther positions."},{"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"score":0,"creation_date":1647597499,"post_id":48276152,"comment_id":126415906,"body_markdown":"Feels like a lot of computation is required just to get a random item, since JVM has to fist sort the whole list according to the the randomised method, followed by picking up the first item.","body":"Feels like a lot of computation is required just to get a random item, since JVM has to fist sort the whole list according to the the randomised method, followed by picking up the first item."}],"tags":[],"owner":{"account_id":1601812,"reputation":1854,"user_id":1482700,"accept_rate":72,"display_name":"kozla13"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1516088279,"creation_date":1516088279,"answer_id":48276152,"question_id":31703226,"body_markdown":"This is my one line solution:\r\n\r\n \r\n\r\n     List&lt;String&gt; st = Arrays.asList(&quot;aaaa&quot;,&quot;bbbb&quot;,&quot;cccc&quot;);\r\n     st.stream().sorted((o1, o2) -&gt; RandomUtils.nextInt(0, 2)-1).findFirst().get();\r\n\r\nRandomUtils are from commons lang 3","title":"How to get random objects from a stream","body":"<p>This is my one line solution:</p>\n\n<pre><code> List&lt;String&gt; st = Arrays.asList(\"aaaa\",\"bbbb\",\"cccc\");\n st.stream().sorted((o1, o2) -&gt; RandomUtils.nextInt(0, 2)-1).findFirst().get();\n</code></pre>\n\n<p>RandomUtils are from commons lang 3</p>\n"},{"tags":[],"owner":{"account_id":8564104,"reputation":83,"user_id":6417169,"display_name":"Jonatan Mendoza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594674197,"creation_date":1594673741,"answer_id":62884117,"question_id":31703226,"body_markdown":"If you want non repeated items in the result list and your initial list is immutable:\r\n\r\n - There isn&#39;t a direct way to get it from the current Streams API.\r\n - It&#39;s not possible to use a random Comparator because it&#39;s going to break the compare contract.\r\n\r\nYou can try something like:\r\n\r\n    public List&lt;String&gt; getStringList(final List&lt;String&gt; strings, final int size) {\r\n        if (size &lt; 1 || size &gt; strings.size()) {\r\n            throw new IllegalArgumentException(&quot;Out of range size.&quot;);\r\n        }\r\n\r\n        final List&lt;String&gt; stringList = new ArrayList&lt;&gt;(size);\r\n\r\n        for (int i = 0; i &lt; size; i++) {\r\n            getRandomString(strings, stringList)\r\n                    .ifPresent(stringList::add);\r\n        }\r\n\r\n        return stringList;\r\n    }\r\n\r\n    private Optional&lt;String&gt; getRandomString(final List&lt;String&gt; stringList, final List&lt;String&gt; excludeStringList) {\r\n        final List&lt;String&gt; filteredStringList = stringList.stream()\r\n                .filter(c -&gt; !excludeStringList.contains(c))\r\n                .collect(toList());\r\n\r\n        if (filteredStringList.isEmpty()) {\r\n            return Optional.empty();\r\n        }\r\n\r\n        final int randomIndex = new Random().nextInt(filteredStringList.size());\r\n        return Optional.of(filteredStringList.get(randomIndex));\r\n    }","title":"How to get random objects from a stream","body":"<p>If you want non repeated items in the result list and your initial list is immutable:</p>\n<ul>\n<li>There isn't a direct way to get it from the current Streams API.</li>\n<li>It's not possible to use a random Comparator because it's going to break the compare contract.</li>\n</ul>\n<p>You can try something like:</p>\n<pre><code>public List&lt;String&gt; getStringList(final List&lt;String&gt; strings, final int size) {\n    if (size &lt; 1 || size &gt; strings.size()) {\n        throw new IllegalArgumentException(&quot;Out of range size.&quot;);\n    }\n\n    final List&lt;String&gt; stringList = new ArrayList&lt;&gt;(size);\n\n    for (int i = 0; i &lt; size; i++) {\n        getRandomString(strings, stringList)\n                .ifPresent(stringList::add);\n    }\n\n    return stringList;\n}\n\nprivate Optional&lt;String&gt; getRandomString(final List&lt;String&gt; stringList, final List&lt;String&gt; excludeStringList) {\n    final List&lt;String&gt; filteredStringList = stringList.stream()\n            .filter(c -&gt; !excludeStringList.contains(c))\n            .collect(toList());\n\n    if (filteredStringList.isEmpty()) {\n        return Optional.empty();\n    }\n\n    final int randomIndex = new Random().nextInt(filteredStringList.size());\n    return Optional.of(filteredStringList.get(randomIndex));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2988954,"reputation":1169,"user_id":2536990,"display_name":"IgorL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631623098,"creation_date":1631623098,"answer_id":69177944,"question_id":31703226,"body_markdown":"@kozla13 improved version: \r\n\r\n```\r\nList&lt;String&gt; st = Arrays.asList(&quot;aaaa&quot;,&quot;bbbb&quot;,&quot;cccc&quot;);\r\nst.stream().min((o1, o2) -&gt; o1 == o2 ? 0 : (ThreadLocalRandom.current().nextBoolean() ? -1 : 1)).orElseThrow();\r\n```\r\n1. Used java built-in class ThreadLocalRandom\r\n2. nextInt generates one from sequence [-1, 0, 1], but return 0 in compare func means equals for the elements and side effect of this - first element (o1) will be always taken in this case.\r\n3. properly handle object equals case","title":"How to get random objects from a stream","body":"<p>@kozla13 improved version:</p>\n<pre><code>List&lt;String&gt; st = Arrays.asList(&quot;aaaa&quot;,&quot;bbbb&quot;,&quot;cccc&quot;);\nst.stream().min((o1, o2) -&gt; o1 == o2 ? 0 : (ThreadLocalRandom.current().nextBoolean() ? -1 : 1)).orElseThrow();\n</code></pre>\n<ol>\n<li>Used java built-in class ThreadLocalRandom</li>\n<li>nextInt generates one from sequence [-1, 0, 1], but return 0 in compare func means equals for the elements and side effect of this - first element (o1) will be always taken in this case.</li>\n<li>properly handle object equals case</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1500401,"reputation":1,"user_id":12868404,"display_name":"Junilu Lacar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664397288,"creation_date":1664387145,"answer_id":73885785,"question_id":31703226,"body_markdown":"If the source list is generally much larger than the new list, you might gain some efficiencies by using a `BitSet` to get random indices:\r\n\r\n```\r\nList&lt;String&gt; createList3(int listSize, List&lt;String&gt; sourceList) {\r\n  if (listSize &gt; sourceList.size()) {\r\n    throw new IllegalArgumentException(&quot;Not enough words in the source list.&quot;);\r\n  }\r\n\r\n  List&lt;String&gt; newWords = randomWords(listSize, sourceList);\r\n  Collections.shuffle(newWords); // optional, for random order\r\n  return newWords;\r\n}\r\n\r\nprivate List&lt;String&gt; randomWords(int listSize, List&lt;String&gt; sourceList) {\r\n  int endExclusive = sourceList.size();\r\n  BitSet indices = new BitSet(endExclusive);\r\n  Random rand = new Random();\r\n  while (indices.cardinality() &lt; listSize) {\r\n    indices.set(rand.nextInt(endExclusive));\r\n  }\r\n  \r\n  return indices.stream().mapToObj(i -&gt; sourceList.get(i))\r\n    .collect(Collectors.toList());\r\n}\r\n```","title":"How to get random objects from a stream","body":"<p>If the source list is generally much larger than the new list, you might gain some efficiencies by using a <code>BitSet</code> to get random indices:</p>\n<pre><code>List&lt;String&gt; createList3(int listSize, List&lt;String&gt; sourceList) {\n  if (listSize &gt; sourceList.size()) {\n    throw new IllegalArgumentException(&quot;Not enough words in the source list.&quot;);\n  }\n\n  List&lt;String&gt; newWords = randomWords(listSize, sourceList);\n  Collections.shuffle(newWords); // optional, for random order\n  return newWords;\n}\n\nprivate List&lt;String&gt; randomWords(int listSize, List&lt;String&gt; sourceList) {\n  int endExclusive = sourceList.size();\n  BitSet indices = new BitSet(endExclusive);\n  Random rand = new Random();\n  while (indices.cardinality() &lt; listSize) {\n    indices.set(rand.nextInt(endExclusive));\n  }\n  \n  return indices.stream().mapToObj(i -&gt; sourceList.get(i))\n    .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1500401,"reputation":1,"user_id":12868404,"display_name":"Junilu Lacar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664393574,"creation_date":1664393412,"answer_id":73886877,"question_id":31703226,"body_markdown":"A stream is probably overkill. Copy the source list so you&#39;re not creating side-effects, then give back a sublist of the shuffled copy.\r\n```\r\npublic static List&lt;String&gt; createList(int listSize, List&lt;String&gt; sourceList) {\r\n  if (listSize &gt; sourceList.size()) {\r\n    throw IllegalArgumentException(&quot;Not enough words for new list.&quot;);\r\n  }\r\n  List&lt;String&gt; copy = new ArrayList&lt;&gt;(sourceList);\r\n  Collections.shuffle(copy);\r\n  return copy.subList(0, listSize);\r\n}\r\n```","title":"How to get random objects from a stream","body":"<p>A stream is probably overkill. Copy the source list so you're not creating side-effects, then give back a sublist of the shuffled copy.</p>\n<pre><code>public static List&lt;String&gt; createList(int listSize, List&lt;String&gt; sourceList) {\n  if (listSize &gt; sourceList.size()) {\n    throw IllegalArgumentException(&quot;Not enough words for new list.&quot;);\n  }\n  List&lt;String&gt; copy = new ArrayList&lt;&gt;(sourceList);\n  Collections.shuffle(copy);\n  return copy.subList(0, listSize);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2746581,"reputation":55,"user_id":2366870,"display_name":"bedorlan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676655324,"creation_date":1676655324,"answer_id":75487529,"question_id":31703226,"body_markdown":"One liner to randomize a stream:\r\n```\r\nStream.of(1, 2, 3, 4, 5).sorted(Comparator.comparingDouble(x -&gt; Math.random()))\r\n```","title":"How to get random objects from a stream","body":"<p>One liner to randomize a stream:</p>\n<pre><code>Stream.of(1, 2, 3, 4, 5).sorted(Comparator.comparingDouble(x -&gt; Math.random()))\n</code></pre>\n"}],"owner":{"account_id":5405333,"reputation":4229,"user_id":4304038,"accept_rate":92,"display_name":"Adrian Krebs"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34645,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":31705423,"answer_count":11,"score":27,"last_activity_date":1676655324,"creation_date":1438179659,"question_id":31703226,"body_markdown":"Lets say I have a list of words and i want to create a method which takes the size of the new list as a parameter and returns the new list. How can i get random words from my original sourceList?\r\n\r\n    public List&lt;String&gt; createList(int listSize) {\r\n       Random rand = new Random();\r\n       List&lt;String&gt; wordList = sourceWords.\r\n          stream().\r\n          limit(listSize).\r\n          collect(Collectors.toList()); \r\n     \r\n       return wordList;\r\n    }\r\n\r\nSo how and where can I use my Random?","title":"How to get random objects from a stream","body":"<p>Lets say I have a list of words and i want to create a method which takes the size of the new list as a parameter and returns the new list. How can i get random words from my original sourceList?</p>\n\n<pre><code>public List&lt;String&gt; createList(int listSize) {\n   Random rand = new Random();\n   List&lt;String&gt; wordList = sourceWords.\n      stream().\n      limit(listSize).\n      collect(Collectors.toList()); \n\n   return wordList;\n}\n</code></pre>\n\n<p>So how and where can I use my Random?</p>\n"},{"tags":["java","jenkins","javafx","java-8","key-value"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1676609496,"post_id":75480320,"comment_id":133175710,"body_markdown":"Which operating system is the Jenkins build running on? Which JDK distribution is being used in the Jenkins build? Is JavaFX included in the JDK (not guaranteed, even for Java 8)?","body":"Which operating system is the Jenkins build running on? Which JDK distribution is being used in the Jenkins build? Is JavaFX included in the JDK (not guaranteed, even for Java 8)?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1676610346,"post_id":75480320,"comment_id":133175833,"body_markdown":"Probably you have OpenJDK 8 or a more recent JDK version on the Jenkins machine, but Oracle JDK 8 on your local development machine.","body":"Probably you have OpenJDK 8 or a more recent JDK version on the Jenkins machine, but Oracle JDK 8 on your local development machine."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1676610433,"post_id":75480320,"comment_id":133175847,"body_markdown":"JDK 8 and JavaFX 8 are largely obsolete.  Id recommend a modern version (19+).  Info on that is at [openjfx.io](https://openjfx.io/).","body":"JDK 8 and JavaFX 8 are largely obsolete.  Id recommend a modern version (19+).  Info on that is at <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">openjfx.io</a>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1676610942,"post_id":75480320,"comment_id":133175909,"body_markdown":"If the only reason you are using JavaFX is for the `Pair` class, then [use something else](https://stackoverflow.com/questions/521171/a-java-collection-of-value-pairs-tuples).   `Pair` (and other tuples like triplets, etc) were deliberately not put in the standard Java SE libraries,  see the [record alternatives section](https://openjdk.org/jeps/395) for reasons why.","body":"If the only reason you are using JavaFX is for the <code>Pair</code> class, then <a href=\"https://stackoverflow.com/questions/521171/a-java-collection-of-value-pairs-tuples\">use something else</a>.   <code>Pair</code> (and other tuples like triplets, etc) were deliberately not put in the standard Java SE libraries,  see the <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record alternatives section</a> for reasons why."},{"owner":{"account_id":24057171,"reputation":73,"user_id":18034851,"display_name":"GlidingSwords997"},"score":0,"creation_date":1676699045,"post_id":75480320,"comment_id":133194444,"body_markdown":"@jewelsea Yes, I had to use the other library as the javafx pair didn&#39;t work","body":"@jewelsea Yes, I had to use the other library as the javafx pair didn&#39;t work"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1676621803,"post_id":75480562,"comment_id":133177854,"body_markdown":"*JavaFX has never been a standard part of Java* but it shipped with the reference implementation and there was the claim that it was supposed to replace Swing, which [you can still read on the Oracle website](https://www.oracle.com/java/technologies/javafx/faq-javafx.html#:~:text=Is%20JavaFX%20replacing%20Swing,Yes), in undisputed form. So how could anyone back then assume that it is not a standard part of Java? Though, Id never have considered using a class from the depth of JavaFX for creating a simple pair. Thats not better than using, e.g. `AbstractMap.Simple[Immutable]Entry`","body":"<i>JavaFX has never been a standard part of Java</i> but it shipped with the reference implementation and there was the claim that it was supposed to replace Swing, which <a href=\"https://www.oracle.com/java/technologies/javafx/faq-javafx.html#:~:text=Is%20JavaFX%20replacing%20Swing,Yes\" rel=\"nofollow noreferrer\">you can still read on the Oracle website</a>, in undisputed form. So how could anyone back then assume that it is not a standard part of Java? Though, Id never have considered using a class from the depth of JavaFX for creating a simple pair. Thats not better than using, e.g. <code>AbstractMap.Simple[Immutable]Entry</code>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1676640017,"post_id":75480562,"comment_id":133183030,"body_markdown":"[Java v1.8.0_361](https://www.oracle.com/java/technologies/downloads/#java8-linux), which bundles JavaFX v8.0.361-b09, may an alternative.","body":"<a href=\"https://www.oracle.com/java/technologies/downloads/#java8-linux\" rel=\"nofollow noreferrer\">Java v1.8.0_361</a>, which bundles JavaFX v8.0.361-b09, may an alternative."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676655208,"creation_date":1676611722,"answer_id":75480562,"question_id":75480320,"body_markdown":"Your code uses the `Pair` class that comes with [JavaFX][1]. Unlike [Swing][2], JavaFX has never been a standard part of [Java SE][3]. You must make an implementation of JavaFX available to your app. \r\n\r\nIt would seem that &#128073; your local machine has an implementation of JavaFX, but your Jenkins machine does not. You need to get an implementation of JavaFX onto that Jenkins machine. \r\n\r\nThe [OpenJFX][4] subproject on the [OpenJDK][5] project is an open-source implementation of JavaFX. The [Gluon][6] company leads OpenJFX, in cooperation with Oracle. \r\n\r\nOne solution is for you to bundle OpenJFX as part of your app. The common way to do this is to configure a dependency management tool such as [Apache Maven][7] or [Gradle][8]. \r\n\r\nAn alternative solution is to use a [JDK][9] that comes bundled with an implementation of JavaFX. \r\n\r\nVendors of JDK products are free to bundle an implementation of JavaFX. \r\n\r\nOracle chose to do so with early releases of their commercial Java 8 product. &#128073; The company ceased bundling in later releases of Java 8. I guess that your local machine has an earlier release of Java 8 while your Jenkins machine has a later release of Java 8, with and without JavaFX bundled respectively. \r\n\r\nAt least two JDK vendors currently bundle OpenJFX with some editions of their JDK products:\r\n\r\n - Azul Systems provides *ZuluFX*\r\n - BellSoft provides *LibericaFX*. \r\n\r\nOf course, going this route means you must also get OpenJFX onto your apps deployment machines. \r\n\r\n----------\r\n\r\nAs [commented][10], if you are not really making a JavaFX app, then bundling OpenJFX just for that `Pair` class is overkill. \r\n\r\nSome folks use the map entry interface and implementations as a pairing class. See the [`Map.Entry`][11] interface with links to the mutable and immutable concrete classes. \r\n\r\nI suggest you roll your own. \r\n\r\nThe easiest DIY implementation in Java 16+ is as a [record][12]. \r\n\r\n    record PairOfInts ( int x , int y ) {}\r\n\r\nTip: You can declare a `record` locally within a method, in addition to nested in a class or standing alone as its own class. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JavaFX\r\n  [2]: https://en.wikipedia.org/wiki/Swing_(Java)\r\n  [3]: https://en.m.wikipedia.org/wiki/Java_Platform,_Standard_Edition\r\n  [4]: https://openjfx.io/\r\n  [5]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [6]: https://gluonhq.com/\r\n  [7]: https://en.m.wikipedia.org/wiki/Apache_Maven\r\n  [8]: https://en.m.wikipedia.org/wiki/Gradle\r\n  [9]: https://en.m.wikipedia.org/wiki/Java_Development_Kit\r\n  [10]: https://stackoverflow.com/questions/75480320/javafx-util-pair-working-in-local-but-not-in-jenkins/75480562#comment133175909_75480320\r\n  [11]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html\r\n  [12]: https://openjdk.org/jeps/395","title":"javafx.util.Pair working in local but not in jenkins","body":"<p>Your code uses the <code>Pair</code> class that comes with <a href=\"https://en.wikipedia.org/wiki/JavaFX\" rel=\"nofollow noreferrer\">JavaFX</a>. Unlike <a href=\"https://en.wikipedia.org/wiki/Swing_(Java)\" rel=\"nofollow noreferrer\">Swing</a>, JavaFX has never been a standard part of <a href=\"https://en.m.wikipedia.org/wiki/Java_Platform,_Standard_Edition\" rel=\"nofollow noreferrer\">Java SE</a>. You must make an implementation of JavaFX available to your app.</p>\n<p>It would seem that  your local machine has an implementation of JavaFX, but your Jenkins machine does not. You need to get an implementation of JavaFX onto that Jenkins machine.</p>\n<p>The <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">OpenJFX</a> subproject on the <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> project is an open-source implementation of JavaFX. The <a href=\"https://gluonhq.com/\" rel=\"nofollow noreferrer\">Gluon</a> company leads OpenJFX, in cooperation with Oracle.</p>\n<p>One solution is for you to bundle OpenJFX as part of your app. The common way to do this is to configure a dependency management tool such as <a href=\"https://en.m.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Apache Maven</a> or <a href=\"https://en.m.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Gradle</a>.</p>\n<p>An alternative solution is to use a <a href=\"https://en.m.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow noreferrer\">JDK</a> that comes bundled with an implementation of JavaFX.</p>\n<p>Vendors of JDK products are free to bundle an implementation of JavaFX.</p>\n<p>Oracle chose to do so with early releases of their commercial Java 8 product.  The company ceased bundling in later releases of Java 8. I guess that your local machine has an earlier release of Java 8 while your Jenkins machine has a later release of Java 8, with and without JavaFX bundled respectively.</p>\n<p>At least two JDK vendors currently bundle OpenJFX with some editions of their JDK products:</p>\n<ul>\n<li>Azul Systems provides <em>ZuluFX</em></li>\n<li>BellSoft provides <em>LibericaFX</em>.</li>\n</ul>\n<p>Of course, going this route means you must also get OpenJFX onto your apps deployment machines.</p>\n<hr />\n<p>As <a href=\"https://stackoverflow.com/questions/75480320/javafx-util-pair-working-in-local-but-not-in-jenkins/75480562#comment133175909_75480320\">commented</a>, if you are not really making a JavaFX app, then bundling OpenJFX just for that <code>Pair</code> class is overkill.</p>\n<p>Some folks use the map entry interface and implementations as a pairing class. See the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html\" rel=\"nofollow noreferrer\"><code>Map.Entry</code></a> interface with links to the mutable and immutable concrete classes.</p>\n<p>I suggest you roll your own.</p>\n<p>The easiest DIY implementation in Java 16+ is as a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>.</p>\n<pre><code>record PairOfInts ( int x , int y ) {}\n</code></pre>\n<p>Tip: You can declare a <code>record</code> locally within a method, in addition to nested in a class or standing alone as its own class.</p>\n"}],"owner":{"account_id":24057171,"reputation":73,"user_id":18034851,"display_name":"GlidingSwords997"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676655208,"creation_date":1676608991,"question_id":75480320,"body_markdown":"\r\nI am using Pair data structure in my code with java 8, it runs fine in local.\r\nBut in jenkins build, I get this issue:\r\n\r\n    error: package javafx.util does not exist\r\n    import javafx.util.Pair;","title":"javafx.util.Pair working in local but not in jenkins","body":"<p>I am using Pair data structure in my code with java 8, it runs fine in local.\nBut in jenkins build, I get this issue:</p>\n<pre><code>error: package javafx.util does not exist\nimport javafx.util.Pair;\n</code></pre>\n"},{"tags":["java","annotations","java-11","lombok"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1676648432,"post_id":75451747,"comment_id":133185566,"body_markdown":"[Please post text, not images.](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question/285557#285557)","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question/285557#285557\">Please post text, not images.</a>"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1676649181,"post_id":75451747,"comment_id":133185814,"body_markdown":"Can you show the complete error (as text)? `@Builder` on its own is just fine.","body":"Can you show the complete error (as text)? <code>@Builder</code> on its own is just fine."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1676651232,"post_id":75451747,"comment_id":133186450,"body_markdown":"You&#39;ll need to include a minimal, reproducible example and explain how you&#39;re compiling it.","body":"You&#39;ll need to include a minimal, reproducible example and explain how you&#39;re compiling it."},{"owner":{"account_id":8466250,"reputation":69,"user_id":6350335,"display_name":"Susheel Rao"},"score":0,"creation_date":1676651524,"post_id":75451747,"comment_id":133186551,"body_markdown":"This was an Exiting Code working for Java version 11 with spring Boot 2.7 . I just updated the Java Version to 17 and updated the Boot Version to  3.0.2  and just ran gradlew clean build. I am  getting this error .","body":"This was an Exiting Code working for Java version 11 with spring Boot 2.7 . I just updated the Java Version to 17 and updated the Boot Version to  3.0.2  and just ran gradlew clean build. I am  getting this error ."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1676652995,"post_id":75451747,"comment_id":133186997,"body_markdown":"And the imports, and kindly limit the example to the smallest code that exhibits the problem.","body":"And the imports, and kindly limit the example to the smallest code that exhibits the problem."}],"owner":{"account_id":8466250,"reputation":69,"user_id":6350335,"display_name":"Susheel Rao"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676655128,"creation_date":1676398629,"question_id":75451747,"body_markdown":"I am trying to use the `@Builder` annotation on my class and I get this compilation error:\r\n\r\n`**error: annotation value must be an annotation**`\r\n\r\n\r\n```\r\nC:\\Sample\\Work\\SpringBoot-Version\\SpringBoot-3.0\\spring-base-dependencies\\spring-base-api\\src\\main\\java\\com\\sample\\cloudnative\\base\\api\\BaseBodyError.java:19: error: annotation value must be an annotation @Builder ^** 1 error FAILURE: Build failed with an exception. \r\n* What went wrong: Execution failed for task &#39;:compileJava&#39;. \r\n&gt; Compilation failed; see the compiler error output for details. \r\n\r\n* Try: \r\n&gt; Run with --stacktrace option to get the stack trace. \r\n&gt; Run with --info or --debug option to get more log output. \r\n&gt; Run with --scan to get full insights. \r\n```\r\n\r\nI am using Lombok 1.18.24, Spring Boot 3.0.2, and Java 17. \r\n\r\nThis was an Exiting Code working for Java version 11 with spring Boot 2.7 . I just updated the Java Version to 17 and updated the Boot Version to 3.0.2 and just ran gradlew clean build. I am getting this error . \r\n\r\nThe Java class  I am  compiling\r\n\r\n```\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.ford.cloudnative.base.api.annotation.ApiProperty;\r\nimport io.swagger.annotations.ApiModel;\r\nimport io.swagger.annotations.ApiModelProperty;\r\nimport lombok.*;\r\n\r\nimport javax.validation.constraints.NotNull;\r\nimport javax.validation.constraints.Pattern;\r\nimport javax.validation.constraints.Size;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map; \r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@ApiModel(description = &quot;Base Body Error&quot;)\r\npublic class BaseBodyError {\r\n\r\n    @Singular\r\n    @Size(max = 8192)\r\n    @ApiModelProperty(value = &quot;List of data errors&quot;)\r\n    List&lt;@NotNull BaseBodyDataError&gt; dataErrors;\r\n\r\n    @Singular\r\n    @ApiModelProperty(value = &quot;Error field attributes&quot;)\r\n    Map&lt;String, Object&gt; attributes;\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @ApiModel(description = &quot;Base Body Data Error&quot;)\r\n    public static class BaseBodyDataError {\r\n\r\n        @Size(max = 1024, message = &quot;code length is limited to 1024 characters&quot;)\r\n        @Pattern(regexp = &quot;^.{0,1024}$&quot;)\r\n        @ApiModelProperty(example = &quot;Unauthorized&quot;, value = &quot;Error Code&quot;)\r\n        String code;\r\n\r\n      \r\n    }\r\n}\r\n\r\n```\r\n","title":"&quot;annotation value must be an annotation &quot; - for @Builder Annotation","body":"<p>I am trying to use the <code>@Builder</code> annotation on my class and I get this compilation error:</p>\n<p><code>**error: annotation value must be an annotation**</code></p>\n<pre><code>C:\\Sample\\Work\\SpringBoot-Version\\SpringBoot-3.0\\spring-base-dependencies\\spring-base-api\\src\\main\\java\\com\\sample\\cloudnative\\base\\api\\BaseBodyError.java:19: error: annotation value must be an annotation @Builder ^** 1 error FAILURE: Build failed with an exception. \n* What went wrong: Execution failed for task ':compileJava'. \n&gt; Compilation failed; see the compiler error output for details. \n\n* Try: \n&gt; Run with --stacktrace option to get the stack trace. \n&gt; Run with --info or --debug option to get more log output. \n&gt; Run with --scan to get full insights. \n</code></pre>\n<p>I am using Lombok 1.18.24, Spring Boot 3.0.2, and Java 17.</p>\n<p>This was an Exiting Code working for Java version 11 with spring Boot 2.7 . I just updated the Java Version to 17 and updated the Boot Version to 3.0.2 and just ran gradlew clean build. I am getting this error .</p>\n<p>The Java class  I am  compiling</p>\n<pre><code>\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.ford.cloudnative.base.api.annotation.ApiProperty;\nimport io.swagger.annotations.ApiModel;\nimport io.swagger.annotations.ApiModelProperty;\nimport lombok.*;\n\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Pattern;\nimport javax.validation.constraints.Size;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map; \n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@ApiModel(description = &quot;Base Body Error&quot;)\npublic class BaseBodyError {\n\n    @Singular\n    @Size(max = 8192)\n    @ApiModelProperty(value = &quot;List of data errors&quot;)\n    List&lt;@NotNull BaseBodyDataError&gt; dataErrors;\n\n    @Singular\n    @ApiModelProperty(value = &quot;Error field attributes&quot;)\n    Map&lt;String, Object&gt; attributes;\n\n    @Data\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @Builder\n    @ApiModel(description = &quot;Base Body Data Error&quot;)\n    public static class BaseBodyDataError {\n\n        @Size(max = 1024, message = &quot;code length is limited to 1024 characters&quot;)\n        @Pattern(regexp = &quot;^.{0,1024}$&quot;)\n        @ApiModelProperty(example = &quot;Unauthorized&quot;, value = &quot;Error Code&quot;)\n        String code;\n\n      \n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","whatsapp"],"comments":[{"owner":{"account_id":16442109,"reputation":7902,"user_id":11878069,"display_name":"davidev"},"score":0,"creation_date":1582104680,"post_id":60296949,"comment_id":106658368,"body_markdown":"I think this is not working intentionally","body":"I think this is not working intentionally"},{"owner":{"account_id":16191318,"reputation":187,"user_id":11689959,"display_name":"TheScribbler2019"},"score":2,"creation_date":1582105127,"post_id":60296949,"comment_id":106658626,"body_markdown":"No, WhatsApp doesn&#39;t provide such features. Mostly because of potential Spam and security reasons. Even Android canceled some SMS features because of the reasons mentioned above. Many Apps where removed from the PlayStore 2 years ago.","body":"No, WhatsApp doesn&#39;t provide such features. Mostly because of potential Spam and security reasons. Even Android canceled some SMS features because of the reasons mentioned above. Many Apps where removed from the PlayStore 2 years ago."},{"owner":{"account_id":338459,"reputation":3683,"user_id":667348,"accept_rate":40,"display_name":"Philio"},"score":0,"creation_date":1582105221,"post_id":60296949,"comment_id":106658682,"body_markdown":"It&#39;s not possible. It would be abused by scammers if it was. It would essentially allow anyone to get your WhatsApp to message anyone else without confirmation revealing your phone number.","body":"It&#39;s not possible. It would be abused by scammers if it was. It would essentially allow anyone to get your WhatsApp to message anyone else without confirmation revealing your phone number."},{"owner":{"account_id":9420675,"reputation":21,"user_id":7007173,"display_name":"Jithin MSs"},"score":0,"creation_date":1582105480,"post_id":60296949,"comment_id":106658827,"body_markdown":"But there is a whatsapp reminder app.How it is possible in that app? @davidev @","body":"But there is a whatsapp reminder app.How it is possible in that app? @davidev @"},{"owner":{"account_id":16442109,"reputation":7902,"user_id":11878069,"display_name":"davidev"},"score":0,"creation_date":1582106956,"post_id":60296949,"comment_id":106659687,"body_markdown":"@JithinMSs They are sending messages from your Account or you receive messages from them?","body":"@JithinMSs They are sending messages from your Account or you receive messages from them?"},{"owner":{"account_id":9420675,"reputation":21,"user_id":7007173,"display_name":"Jithin MSs"},"score":0,"creation_date":1582108779,"post_id":60296949,"comment_id":106660762,"body_markdown":"They are sending messages from my account @davidev","body":"They are sending messages from my account @davidev"}],"answers":[{"tags":[],"owner":{"account_id":18784598,"reputation":112,"user_id":13698449,"display_name":"max the computer science fox"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676655081,"creation_date":1593157417,"answer_id":62590191,"question_id":60296949,"body_markdown":"just use \r\n```\r\nfrom selenium.webdriver.common.keys import Keys\r\n```\r\nand then your message variable to write the message \r\n\r\nthe code to write the message: `.send_keys(&quot;message&quot;)` /you could also send the message variable\r\n\r\nthe code to send the message/press enter: `.send_keys(Keys.RETURN)`","title":"Send WhatsApp message automatically","body":"<p>just use</p>\n<pre><code>from selenium.webdriver.common.keys import Keys\n</code></pre>\n<p>and then your message variable to write the message</p>\n<p>the code to write the message: <code>.send_keys(&quot;message&quot;)</code> /you could also send the message variable</p>\n<p>the code to send the message/press enter: <code>.send_keys(Keys.RETURN)</code></p>\n"}],"owner":{"account_id":9420675,"reputation":21,"user_id":7007173,"display_name":"Jithin MSs"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":780,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1676655081,"creation_date":1582104538,"question_id":60296949,"body_markdown":"Trying to send WhatsApp message automatically.  I have a pre-filled message in the code, that will automatically appear in the text field of a whatsapp chat, but the user needs to click the send button.  Is there any way to send the message automatically (without the need to click the button)?\r\n\r\n```\r\nsendmessage.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View v) {\r\n\r\n        Intent intent = new Intent();    \r\n        intent.setData(Uri.parse(\r\n            &quot;https://api.whatsapp.com/send?phone=&quot;\r\n            + ccp.getFullNumberWithPlus() + enternumber.getText()\r\n            + &quot;&amp;text=&quot; +msg.getText()\r\n        ));\r\n        startActivity(intent);\r\n    }\r\n});\r\n```","title":"Send WhatsApp message automatically","body":"<p>Trying to send WhatsApp message automatically.  I have a pre-filled message in the code, that will automatically appear in the text field of a whatsapp chat, but the user needs to click the send button.  Is there any way to send the message automatically (without the need to click the button)?</p>\n<pre><code>sendmessage.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n\n        Intent intent = new Intent();    \n        intent.setData(Uri.parse(\n            &quot;https://api.whatsapp.com/send?phone=&quot;\n            + ccp.getFullNumberWithPlus() + enternumber.getText()\n            + &quot;&amp;text=&quot; +msg.getText()\n        ));\n        startActivity(intent);\n    }\n});\n</code></pre>\n"},{"tags":["java","android","kotlin","android-mediaplayer","android-audiomanager"],"owner":{"account_id":12979994,"reputation":13,"user_id":9382767,"display_name":"Kamrul Hasan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676654751,"creation_date":1676654751,"question_id":75487443,"body_markdown":"I am trying to build calling app like what&#39;s app. When user call to another user then beep beep lopping sound start util call accept or decine.\r\n\r\n\r\n```\r\nprivate val progressPlayer: MediaPlayer by lazy {\r\n    MediaPlayer.create(applicationContext, R.raw.progress_out).apply { isLooping = true }\r\n}\r\n```\r\n\r\n```\r\nval audioManager = getSystemService(Context.AUDIO_SERVICE) as AudioManager\r\nval isSpeakerOn = audioManager.isSpeakerphoneOn\r\nif (isSpeakerOn) {\r\n    audioManager.isSpeakerphoneOn = false\r\n}\r\naudioManager.mode = AudioManager.MODE_IN_CALL\r\naudioManager.setStreamVolume(AudioManager.STREAM_VOICE_CALL, audioManager.getStreamMaxVolume(AudioManager.STREAM_VOICE_CALL), 0)\r\n\r\nprogressPlayer.setAudioStreamType(AudioManager.STREAM_VOICE_CALL)\r\nprogressPlayer.start()\r\n\r\n```\r\nI am testing this code android 13. it&#39;s not working. Sound always playing in speaker mode.\r\n\r\n","title":"Play audio in phone mode OR speaker mode","body":"<p>I am trying to build calling app like what's app. When user call to another user then beep beep lopping sound start util call accept or decine.</p>\n<pre><code>private val progressPlayer: MediaPlayer by lazy {\n    MediaPlayer.create(applicationContext, R.raw.progress_out).apply { isLooping = true }\n}\n</code></pre>\n<pre><code>val audioManager = getSystemService(Context.AUDIO_SERVICE) as AudioManager\nval isSpeakerOn = audioManager.isSpeakerphoneOn\nif (isSpeakerOn) {\n    audioManager.isSpeakerphoneOn = false\n}\naudioManager.mode = AudioManager.MODE_IN_CALL\naudioManager.setStreamVolume(AudioManager.STREAM_VOICE_CALL, audioManager.getStreamMaxVolume(AudioManager.STREAM_VOICE_CALL), 0)\n\nprogressPlayer.setAudioStreamType(AudioManager.STREAM_VOICE_CALL)\nprogressPlayer.start()\n\n</code></pre>\n<p>I am testing this code android 13. it's not working. Sound always playing in speaker mode.</p>\n"},{"tags":["java","minecraft","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1676536273,"post_id":75469118,"comment_id":133157473,"body_markdown":"you&#39;re doing the GET request 2 times ? Also, the get request has limit in the params. For data update, you should use the POST method. You are sure listener are well registered ? FInally, why don&#39;t simply use the yml file as it&#39;s by default included into spigot?","body":"you&#39;re doing the GET request 2 times ? Also, the get request has limit in the params. For data update, you should use the POST method. You are sure listener are well registered ? FInally, why don&#39;t simply use the yml file as it&#39;s by default included into spigot?"},{"owner":{"account_id":25928663,"reputation":1,"user_id":19650154,"display_name":"Final Craft"},"score":0,"creation_date":1676536752,"post_id":75469118,"comment_id":133157607,"body_markdown":"i using GET requests when player join or leave, this time can be 2 seconds or else","body":"i using GET requests when player join or leave, this time can be 2 seconds or else"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1676537139,"post_id":75469118,"comment_id":133157725,"body_markdown":"Did you give the full `InventorySync` or did you reduced it?","body":"Did you give the full <code>InventorySync</code> or did you reduced it?"},{"owner":{"account_id":25928663,"reputation":1,"user_id":19650154,"display_name":"Final Craft"},"score":0,"creation_date":1676537212,"post_id":75469118,"comment_id":133157740,"body_markdown":"its full code(only urls hide)","body":"its full code(only urls hide)"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1676537741,"post_id":75469118,"comment_id":133157886,"body_markdown":"Does it throw an exception? Did you try to start it with a finer logging level?","body":"Does it throw an exception? Did you try to start it with a finer logging level?"},{"owner":{"account_id":25928663,"reputation":1,"user_id":19650154,"display_name":"Final Craft"},"score":0,"creation_date":1676537849,"post_id":75469118,"comment_id":133157915,"body_markdown":"its not work, but it not throw an exception, idk how to start it with a finer logging level","body":"its not work, but it not throw an exception, idk how to start it with a finer logging level"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1676537869,"post_id":75469118,"comment_id":133157919,"body_markdown":"Did you get a response? Maybe log it and add it to your question.","body":"Did you get a response? Maybe log it and add it to your question."},{"owner":{"account_id":25928663,"reputation":1,"user_id":19650154,"display_name":"Final Craft"},"score":0,"creation_date":1676538044,"post_id":75469118,"comment_id":133157964,"body_markdown":"code(on web server) not response when you save inventory, and java class not do GET request","body":"code(on web server) not response when you save inventory, and java class not do GET request"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1676538160,"post_id":75469118,"comment_id":133157998,"body_markdown":"[Here](https://stackoverflow.com/a/21181400/7082956) can you read how to set the logging level. Maybe `java.net.level=FINEST` into logging.properties","body":"<a href=\"https://stackoverflow.com/a/21181400/7082956\">Here</a> can you read how to set the logging level. Maybe <code>java.net.level=FINEST</code> into logging.properties"}],"answers":[{"comments":[{"owner":{"account_id":25928663,"reputation":1,"user_id":19650154,"display_name":"Final Craft"},"score":0,"creation_date":1676538738,"post_id":75469894,"comment_id":133158160,"body_markdown":"I use a web server because I want to transfer inventory between servers","body":"I use a web server because I want to transfer inventory between servers"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1676540650,"post_id":75469894,"comment_id":133158766,"body_markdown":"Oh ok, most of server will use database as it doesn&#39;t require another development, but it&#39;s always better to use post to update data","body":"Oh ok, most of server will use database as it doesn&#39;t require another development, but it&#39;s always better to use post to update data"},{"owner":{"account_id":25928663,"reputation":1,"user_id":19650154,"display_name":"Final Craft"},"score":0,"creation_date":1676541041,"post_id":75469894,"comment_id":133158891,"body_markdown":"this version not work(idk why) plugin.yml is correct\nupd: not saving*","body":"this version not work(idk why) plugin.yml is correct upd: not saving*"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1676541429,"post_id":75469894,"comment_id":133158998,"body_markdown":"what do you mean by &quot;not work&quot;? are you sure you didn&#39;t miss a step ?","body":"what do you mean by &quot;not work&quot;? are you sure you didn&#39;t miss a step ?"},{"owner":{"account_id":25928663,"reputation":1,"user_id":19650154,"display_name":"Final Craft"},"score":0,"creation_date":1676541496,"post_id":75469894,"comment_id":133159022,"body_markdown":"i mean inventory not saving to file(how to use yml file)","body":"i mean inventory not saving to file(how to use yml file)"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1676541825,"post_id":75469894,"comment_id":133159115,"body_markdown":"Do you see a file like `plugins/InventorySync/config.yml`? If yes, check the content. If no, can you create it? Also, are you sure events are well called ?","body":"Do you see a file like <code>plugins&#47;InventorySync&#47;config.yml</code>? If yes, check the content. If no, can you create it? Also, are you sure events are well called ?"},{"owner":{"account_id":25928663,"reputation":1,"user_id":19650154,"display_name":"Final Craft"},"score":0,"creation_date":1676542081,"post_id":75469894,"comment_id":133159202,"body_markdown":"config.yml was not created, now I will create, check and everything is called correctly","body":"config.yml was not created, now I will create, check and everything is called correctly"},{"owner":{"account_id":25928663,"reputation":1,"user_id":19650154,"display_name":"Final Craft"},"score":0,"creation_date":1676542473,"post_id":75469894,"comment_id":133159325,"body_markdown":"it not save player inventory to config.yml","body":"it not save player inventory to config.yml"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1676542582,"post_id":75469894,"comment_id":133159358,"body_markdown":"the config is empty ? did you checked for event handling? (like are you sure they are called, thanks to for example mesage send from them)","body":"the config is empty ? did you checked for event handling? (like are you sure they are called, thanks to for example mesage send from them)"},{"owner":{"account_id":25928663,"reputation":1,"user_id":19650154,"display_name":"Final Craft"},"score":0,"creation_date":1676542671,"post_id":75469894,"comment_id":133159393,"body_markdown":"yes, config.yml is empty, i think i dont use package","body":"yes, config.yml is empty, i think i dont use package"},{"owner":{"account_id":25928663,"reputation":1,"user_id":19650154,"display_name":"Final Craft"},"score":0,"creation_date":1676542840,"post_id":75469894,"comment_id":133159453,"body_markdown":"package not work","body":"package not work"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1676542887,"post_id":75469894,"comment_id":133159474,"body_markdown":"So you have startup error ?","body":"So you have startup error ?"},{"owner":{"account_id":25928663,"reputation":1,"user_id":19650154,"display_name":"Final Craft"},"score":0,"creation_date":1676543016,"post_id":75469894,"comment_id":133159521,"body_markdown":"no, it working but not working(plugin load but not save inventory)","body":"no, it working but not working(plugin load but not save inventory)"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1676543100,"post_id":75469894,"comment_id":133159553,"body_markdown":"Can you send the page that receive request ? I will try by myself and update my answer (but in few hours)","body":"Can you send the page that receive request ? I will try by myself and update my answer (but in few hours)"},{"owner":{"account_id":25928663,"reputation":1,"user_id":19650154,"display_name":"Final Craft"},"score":0,"creation_date":1676543306,"post_id":75469894,"comment_id":133159627,"body_markdown":"get player inventory:\n```\n&lt;?php\n//Get player nickname\n//check username for exist\nif (!isset($_GET[&#39;username&#39;]))\n{ die(); }\n//username exist:\nelse\n{ $username = $_GET[&#39;username&#39;]; }\n//get player inventory(if exist)\nif (!isset($_GET[&#39;inventory&#39;]))\n{ die(); }\n//decode inventory from base64:\nelse\n{ $inventory = base64_decode($_GET[&#39;inventory&#39;]); }\n//save inventory to file\nfile_put_contents(&#39;inventory/&#39;. $username .&#39;.inv&#39;, $inventory);\n```","body":"get player inventory: ``` &lt;?php //Get player nickname //check username for exist if (!isset($_GET[&#39;username&#39;])) { die(); } //username exist: else { $username = $_GET[&#39;username&#39;]; } //get player inventory(if exist) if (!isset($_GET[&#39;inventory&#39;])) { die(); } //decode inventory from base64: else { $inventory = base64_decode($_GET[&#39;inventory&#39;]); } //save inventory to file file_put_contents(&#39;inventory/&#39;. $username .&#39;.inv&#39;, $inventory); ```"},{"owner":{"account_id":25928663,"reputation":1,"user_id":19650154,"display_name":"Final Craft"},"score":0,"creation_date":1676543331,"post_id":75469894,"comment_id":133159637,"body_markdown":"return player inventory:\n```\n&lt;?php\nheader(&quot;content-type: application/json&quot;);\n//Get player nickname\n//check username for exist\nif (!isset($_GET[&#39;username&#39;]))\n{ die(&#39;[]&#39;); }\n//username exist:\nelse\n{ $username = $_GET[&#39;username&#39;]; }\n//find player&#39;s inventory if exists\nif (file_exists(&#39;inventory/&#39;. $username .&#39;.inv&#39;))\n{ echo file_get_contents(&#39;inventory/&#39;. $username .&#39;.inv&#39;); }\n//player file not found:\nelse\n{ echo &#39;[]&#39;; }\n```","body":"return player inventory: ``` &lt;?php header(&quot;content-type: application/json&quot;); //Get player nickname //check username for exist if (!isset($_GET[&#39;username&#39;])) { die(&#39;[]&#39;); } //username exist: else { $username = $_GET[&#39;username&#39;]; } //find player&#39;s inventory if exists if (file_exists(&#39;inventory/&#39;. $username .&#39;.inv&#39;)) { echo file_get_contents(&#39;inventory/&#39;. $username .&#39;.inv&#39;); } //player file not found: else { echo &#39;[]&#39;; } ```"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1676653989,"post_id":75469894,"comment_id":133187315,"body_markdown":"@FinalCraft I just edit my answer, and it works for me","body":"@FinalCraft I just edit my answer, and it works for me"}],"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"comment_count":17,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676653974,"creation_date":1676538130,"answer_id":75469894,"question_id":75469118,"body_markdown":"You said it&#39;s full code, so there is multiple issues :\r\n\r\n1. You are in the `JavaPlugin` class, and there isn&#39;t `onEnable()` method that register listener. So, you should add:\r\n```java\r\n@Override\r\npublic void onEnable() {\r\n   getServer().getPluginManager().registerEvents(this, this);\r\n}\r\n```\r\n2. I suggest you to create a new class for listeners, to have (*I omitted import*):\r\n```java\r\npublic class InventorySync extends JavaPlugin {\r\n    \r\n   @Override\r\n   public void onEnable() {\r\n      getServer().getPluginManager().registerEvents(new ConnectionListener(), this);\r\n   }\r\n}\r\n```\r\n```java\r\npublic class ConnectionListener implements Listener {\r\n    \r\n   String saveInv = &quot;*correct url*&quot;;\r\n   String loadInv = &quot;*correct url*&quot;;\r\n   Gson gson = new Gson();\r\n   @EventHandler\r\n   public void onJoin(PlayerJoinEvent event) throws IOException {\r\n        Player player = event.getPlayer();\r\n        UUID uuid = player.getUniqueId();\r\n        //InventoryGet.main(loadInv + &quot;?username=&quot; + uuid.toString());\r\n   }\r\n\r\n   @EventHandler\r\n   public void onQuit(PlayerQuitEvent event) throws IOException {\r\n        Player player = event.getPlayer();\r\n        UUID uuid = player.getUniqueId();\r\n        Object[] contents = Arrays.stream(player.getInventory().getContents()).toArray();\r\n        String inv = Base64.getEncoder().encodeToString( gson.toJson(contents).getBytes() );\r\n        InventoryGet.main(saveInv + &quot;?username=&quot; + uuid.toString() + &quot;&amp;inventory=&quot; + inv);\r\n   }\r\n}\r\n```\r\n3. You should not use `GET` request to update datas. The method `POST` is here.\r\n\r\n4. You are wrongly using gson according to Spigot API. You should use `ItemStack#serialize` and `ItemStack#deserialize`, like that:\r\n\r\n```java\r\n@EventHandler\r\npublic void onJoin(PlayerJoinEvent event) throws IOException {\r\n\tPlayer player = event.getPlayer();\r\n\tUUID uuid = player.getUniqueId();\r\n\tString inv = main(loadInv + &quot;?username=&quot; + uuid.toString());\r\n\tList&lt;Map&lt;String, Object&gt;&gt; list = gson.fromJson(inv, List.class);\r\n\tlist.stream().map(ItemStack::deserialize).forEach(it -&gt; {\r\n         // here you have items\r\n\t});\r\n}\r\n\r\n@EventHandler\r\npublic void onQuit(PlayerQuitEvent event) throws IOException {\r\n\tPlayer player = event.getPlayer();\r\n\tUUID uuid = player.getUniqueId();\r\n\tList&lt;Map&lt;String, Object&gt;&gt; contents = Arrays.stream(player.getInventory().getContents()).filter(Objects::nonNull).map(ItemStack::serialize).collect(Collectors.toList());\r\n\tString inv = Base64.getEncoder().encodeToString(gson.toJson(contents).getBytes());\r\n\tmain(saveInv + &quot;?username=&quot; + uuid.toString() + &quot;&amp;inventory=&quot; + inv);\r\n}\r\n```\r\nI added `filter(Objects::nonNull)` to prevent empty slot","title":"Why java class not do GET request","body":"<p>You said it's full code, so there is multiple issues :</p>\n<ol>\n<li>You are in the <code>JavaPlugin</code> class, and there isn't <code>onEnable()</code> method that register listener. So, you should add:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onEnable() {\n   getServer().getPluginManager().registerEvents(this, this);\n}\n</code></pre>\n<ol start=\"2\">\n<li>I suggest you to create a new class for listeners, to have (<em>I omitted import</em>):</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class InventorySync extends JavaPlugin {\n    \n   @Override\n   public void onEnable() {\n      getServer().getPluginManager().registerEvents(new ConnectionListener(), this);\n   }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class ConnectionListener implements Listener {\n    \n   String saveInv = &quot;*correct url*&quot;;\n   String loadInv = &quot;*correct url*&quot;;\n   Gson gson = new Gson();\n   @EventHandler\n   public void onJoin(PlayerJoinEvent event) throws IOException {\n        Player player = event.getPlayer();\n        UUID uuid = player.getUniqueId();\n        //InventoryGet.main(loadInv + &quot;?username=&quot; + uuid.toString());\n   }\n\n   @EventHandler\n   public void onQuit(PlayerQuitEvent event) throws IOException {\n        Player player = event.getPlayer();\n        UUID uuid = player.getUniqueId();\n        Object[] contents = Arrays.stream(player.getInventory().getContents()).toArray();\n        String inv = Base64.getEncoder().encodeToString( gson.toJson(contents).getBytes() );\n        InventoryGet.main(saveInv + &quot;?username=&quot; + uuid.toString() + &quot;&amp;inventory=&quot; + inv);\n   }\n}\n</code></pre>\n<ol start=\"3\">\n<li><p>You should not use <code>GET</code> request to update datas. The method <code>POST</code> is here.</p>\n</li>\n<li><p>You are wrongly using gson according to Spigot API. You should use <code>ItemStack#serialize</code> and <code>ItemStack#deserialize</code>, like that:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@EventHandler\npublic void onJoin(PlayerJoinEvent event) throws IOException {\n    Player player = event.getPlayer();\n    UUID uuid = player.getUniqueId();\n    String inv = main(loadInv + &quot;?username=&quot; + uuid.toString());\n    List&lt;Map&lt;String, Object&gt;&gt; list = gson.fromJson(inv, List.class);\n    list.stream().map(ItemStack::deserialize).forEach(it -&gt; {\n         // here you have items\n    });\n}\n\n@EventHandler\npublic void onQuit(PlayerQuitEvent event) throws IOException {\n    Player player = event.getPlayer();\n    UUID uuid = player.getUniqueId();\n    List&lt;Map&lt;String, Object&gt;&gt; contents = Arrays.stream(player.getInventory().getContents()).filter(Objects::nonNull).map(ItemStack::serialize).collect(Collectors.toList());\n    String inv = Base64.getEncoder().encodeToString(gson.toJson(contents).getBytes());\n    main(saveInv + &quot;?username=&quot; + uuid.toString() + &quot;&amp;inventory=&quot; + inv);\n}\n</code></pre>\n<p>I added <code>filter(Objects::nonNull)</code> to prevent empty slot</p>\n"}],"owner":{"account_id":25928663,"reputation":1,"user_id":19650154,"display_name":"Final Craft"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676653974,"creation_date":1676533080,"question_id":75469118,"body_markdown":"I made java script, it save/load player inventory when he leave/join, but someting goes wrong(GET request dont send)\r\nhere is classes.\r\n\r\nInventorySync:\r\n\r\n```\r\nimport com.google.gson.Gson;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.player.PlayerJoinEvent;\r\nimport org.bukkit.event.player.PlayerQuitEvent;\r\nimport org.bukkit.plugin.java.JavaPlugin;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Arrays;\r\nimport java.util.Base64;\r\nimport java.util.UUID;\r\n\r\nimport InventoryGet.*;\r\n\r\npublic class InventorySync extends JavaPlugin implements Listener {\r\n    String saveInv = &quot;*correct url*&quot;;\r\n    String loadInv = &quot;*correct url*&quot;;\r\n    Gson gson = new Gson();\r\n    @EventHandler\r\n    public void onJoin(PlayerJoinEvent event) throws IOException {\r\n        Player player = event.getPlayer();\r\n        UUID uuid = player.getUniqueId();\r\n        //InventoryGet.main(loadInv + &quot;?username=&quot; + uuid.toString());\r\n    }\r\n\r\n    @EventHandler\r\n    public void onQuit(PlayerQuitEvent event) throws IOException {\r\n        Player player = event.getPlayer();\r\n        UUID uuid = player.getUniqueId();\r\n        Object[] contents = Arrays.stream(player.getInventory().getContents()).toArray();\r\n        String inv = Base64.getEncoder().encodeToString( gson.toJson(contents).getBytes() );\r\n        InventoryGet.main(saveInv + &quot;?username=&quot; + uuid.toString() + &quot;&amp;inventory=&quot; + inv);\r\n    }\r\n}\r\n\r\n```\r\nInventoryGet:\r\n\r\n```\r\npackage InventoryGet;\r\n\r\nimport java.io.IOException;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.util.Scanner;\r\n\r\npublic class InventoryGet {\r\n    public static String main(String urlString) throws IOException {\r\n        try {\r\n            URL url = new URL(urlString);\r\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n            connection.setRequestMethod(&quot;GET&quot;);\r\n\r\n            int responseCode = connection.getResponseCode();\r\n            if (responseCode == HttpURLConnection.HTTP_OK) {\r\n                Scanner scanner = new Scanner(connection.getInputStream());\r\n                String response = scanner.useDelimiter(&quot;\\\\A&quot;).next();\r\n                scanner.close();\r\n                return response;\r\n            } else {\r\n                return &quot;GET request failed with response code &quot; + responseCode;\r\n            }\r\n        } catch (Exception e) {\r\n            return &quot;Exception occurred: &quot; + e.getMessage();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nThe URL is correct.\r\n\r\nFor the PHP script:\r\n\r\n**Update inventory**:\r\n```php\r\n&lt;?php\r\n//Get player nickname\r\n//check username for exist\r\nif (!isset($_GET[&#39;username&#39;]))\r\n{\r\n    die();\r\n} else { //username exist:\r\n    $username = $_GET[&#39;username&#39;];\r\n}\r\n//get player inventory(if exist)\r\nif (!isset($_GET[&#39;inventory&#39;])) {\r\n    die();\r\n} else { //decode inventory from base64:\r\n    $inventory = base64_decode($_GET[&#39;inventory&#39;]);\r\n} //save inventory to file\r\nfile_put_contents(&#39;inventory/&#39; . $username . &#39;.inv&#39;, $inventory);\r\n```\r\n\r\n**Get inventory**:\r\n```php\r\n&lt;?php\r\nheader(&quot;content-type: application/json&quot;);\r\n//Get player nickname\r\n//check username for exist\r\nif (!isset($_GET[&#39;username&#39;])) {\r\n    die(&#39;[]&#39;);\r\n} else { // username exist\r\n    $username = $_GET[&#39;username&#39;];\r\n} \r\nif (file_exists(&#39;inventory/&#39; . $username . &#39;.inv&#39;)) { //find player&#39;s inventory if exists\r\n    echo file_get_contents(&#39;inventory/&#39; . $username . &#39;.inv&#39;);\r\n} else { //player file not found:\r\n   echo &#39;[]&#39;;\r\n}\r\n```\r\n\r\nWhen player disconnect from server, server save his inventory, but server not do a GET request","title":"Why java class not do GET request","body":"<p>I made java script, it save/load player inventory when he leave/join, but someting goes wrong(GET request dont send)\nhere is classes.</p>\n<p>InventorySync:</p>\n<pre><code>import com.google.gson.Gson;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.player.PlayerJoinEvent;\nimport org.bukkit.event.player.PlayerQuitEvent;\nimport org.bukkit.plugin.java.JavaPlugin;\n\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.Base64;\nimport java.util.UUID;\n\nimport InventoryGet.*;\n\npublic class InventorySync extends JavaPlugin implements Listener {\n    String saveInv = &quot;*correct url*&quot;;\n    String loadInv = &quot;*correct url*&quot;;\n    Gson gson = new Gson();\n    @EventHandler\n    public void onJoin(PlayerJoinEvent event) throws IOException {\n        Player player = event.getPlayer();\n        UUID uuid = player.getUniqueId();\n        //InventoryGet.main(loadInv + &quot;?username=&quot; + uuid.toString());\n    }\n\n    @EventHandler\n    public void onQuit(PlayerQuitEvent event) throws IOException {\n        Player player = event.getPlayer();\n        UUID uuid = player.getUniqueId();\n        Object[] contents = Arrays.stream(player.getInventory().getContents()).toArray();\n        String inv = Base64.getEncoder().encodeToString( gson.toJson(contents).getBytes() );\n        InventoryGet.main(saveInv + &quot;?username=&quot; + uuid.toString() + &quot;&amp;inventory=&quot; + inv);\n    }\n}\n\n</code></pre>\n<p>InventoryGet:</p>\n<pre><code>package InventoryGet;\n\nimport java.io.IOException;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.Scanner;\n\npublic class InventoryGet {\n    public static String main(String urlString) throws IOException {\n        try {\n            URL url = new URL(urlString);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            connection.setRequestMethod(&quot;GET&quot;);\n\n            int responseCode = connection.getResponseCode();\n            if (responseCode == HttpURLConnection.HTTP_OK) {\n                Scanner scanner = new Scanner(connection.getInputStream());\n                String response = scanner.useDelimiter(&quot;\\\\A&quot;).next();\n                scanner.close();\n                return response;\n            } else {\n                return &quot;GET request failed with response code &quot; + responseCode;\n            }\n        } catch (Exception e) {\n            return &quot;Exception occurred: &quot; + e.getMessage();\n        }\n    }\n}\n\n</code></pre>\n<p>The URL is correct.</p>\n<p>For the PHP script:</p>\n<p><strong>Update inventory</strong>:</p>\n<pre class=\"lang-php prettyprint-override\"><code>&lt;?php\n//Get player nickname\n//check username for exist\nif (!isset($_GET['username']))\n{\n    die();\n} else { //username exist:\n    $username = $_GET['username'];\n}\n//get player inventory(if exist)\nif (!isset($_GET['inventory'])) {\n    die();\n} else { //decode inventory from base64:\n    $inventory = base64_decode($_GET['inventory']);\n} //save inventory to file\nfile_put_contents('inventory/' . $username . '.inv', $inventory);\n</code></pre>\n<p><strong>Get inventory</strong>:</p>\n<pre class=\"lang-php prettyprint-override\"><code>&lt;?php\nheader(&quot;content-type: application/json&quot;);\n//Get player nickname\n//check username for exist\nif (!isset($_GET['username'])) {\n    die('[]');\n} else { // username exist\n    $username = $_GET['username'];\n} \nif (file_exists('inventory/' . $username . '.inv')) { //find player's inventory if exists\n    echo file_get_contents('inventory/' . $username . '.inv');\n} else { //player file not found:\n   echo '[]';\n}\n</code></pre>\n<p>When player disconnect from server, server save his inventory, but server not do a GET request</p>\n"},{"tags":["java","unit-testing","spring-mvc","jsonpath","mockmvc"],"comments":[{"owner":{"account_id":107251,"reputation":11864,"user_id":285288,"accept_rate":64,"display_name":"James"},"score":0,"creation_date":1472114880,"post_id":32397690,"comment_id":65625719,"body_markdown":"Thanks for your last &quot;EDIT&quot;. The `.doesNotExist()` was what I&#39;m looking for.","body":"Thanks for your last &quot;EDIT&quot;. The <code>.doesNotExist()</code> was what I&#39;m looking for."}],"answers":[{"comments":[{"owner":{"account_id":3086045,"reputation":2217,"user_id":2613150,"accept_rate":80,"display_name":"Zobayer Hasan"},"score":0,"creation_date":1441371636,"post_id":32398295,"comment_id":52665457,"body_markdown":"Yes JsonIgnore is performing as expected. So what would be the best practice for testing entities with JsonIgnore over some fields. Assume this, say you want to write a test, you know which fields should be empty or null (or should not even exists) but you are not going to open the source code and read if there is actually a JsonIgnore annotation over them. and obviously you want your test to pass, not fail with an exception. Oh and ofcourse the password is hashed. Not that it matters, just a test project.","body":"Yes JsonIgnore is performing as expected. So what would be the best practice for testing entities with JsonIgnore over some fields. Assume this, say you want to write a test, you know which fields should be empty or null (or should not even exists) but you are not going to open the source code and read if there is actually a JsonIgnore annotation over them. and obviously you want your test to pass, not fail with an exception. Oh and ofcourse the password is hashed. Not that it matters, just a test project."},{"owner":{"account_id":2803978,"reputation":899,"user_id":2411594,"accept_rate":33,"display_name":"Paolof76"},"score":0,"creation_date":1441372451,"post_id":32398295,"comment_id":52665976,"body_markdown":"What you want to do is take care that the object UserResource is not returning a password, right? Let&#39;s say you have the new UserResourceAsm().toResource(user) returning the user, right? In this case, you should test not at SpringMVC level, but just perform a normal Unit Test that is checking the user.getPassword() is null. Hope this clarify!","body":"What you want to do is take care that the object UserResource is not returning a password, right? Let&#39;s say you have the new UserResourceAsm().toResource(user) returning the user, right? In this case, you should test not at SpringMVC level, but just perform a normal Unit Test that is checking the user.getPassword() is null. Hope this clarify!"},{"owner":{"account_id":2803978,"reputation":899,"user_id":2411594,"accept_rate":33,"display_name":"Paolof76"},"score":0,"creation_date":1441373112,"post_id":32398295,"comment_id":52666434,"body_markdown":"I added an example to help you understand what I mean. Let me see if you have more doubts","body":"I added an example to help you understand what I mean. Let me see if you have more doubts"},{"owner":{"account_id":3086045,"reputation":2217,"user_id":2613150,"accept_rate":80,"display_name":"Zobayer Hasan"},"score":0,"creation_date":1441373241,"post_id":32398295,"comment_id":52666524,"body_markdown":"yes it does! The reason I asked this is because I saw something similar on a tutorial I followed. But the tutorial author used an older version of hamcrest / mockito. Could this be a reason why he was managed to get test success?","body":"yes it does! The reason I asked this is because I saw something similar on a tutorial I followed. But the tutorial author used an older version of hamcrest / mockito. Could this be a reason why he was managed to get test success?"},{"owner":{"account_id":3086045,"reputation":2217,"user_id":2613150,"accept_rate":80,"display_name":"Zobayer Hasan"},"score":0,"creation_date":1441373602,"post_id":32398295,"comment_id":52666783,"body_markdown":"I have tested, and I think I am correct about the version. With json-path and json-path-assert version 0.9.1, my test passes. Test for null succeeds even if the field does not exists. However, with the newer versions, I think what you described in your answer regarding the use of Mapper is the preferred way to go. I&#39;m just learning the ropes for unit testing.","body":"I have tested, and I think I am correct about the version. With json-path and json-path-assert version 0.9.1, my test passes. Test for null succeeds even if the field does not exists. However, with the newer versions, I think what you described in your answer regarding the use of Mapper is the preferred way to go. I&#39;m just learning the ropes for unit testing."},{"owner":{"account_id":2803978,"reputation":899,"user_id":2411594,"accept_rate":33,"display_name":"Paolof76"},"score":0,"creation_date":1441374483,"post_id":32398295,"comment_id":52667418,"body_markdown":"I&#39;m using org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath from spring 3.2.13 and it&#39;s working like you described in the first place","body":"I&#39;m using org.springframework.test.web.servlet.result.MockMvcResultMat&zwnj;&#8203;chers.jsonPath from spring 3.2.13 and it&#39;s working like you described in the first place"},{"owner":{"account_id":953817,"reputation":493,"user_id":979478,"display_name":"Pawel Zieminski"},"score":0,"creation_date":1601682519,"post_id":32398295,"comment_id":113491155,"body_markdown":"I found out I accidentally down-voted this answer. I don&#39;t know how this happened. It&#39;s too late to simply undo it now. @Paolof76 could you edit the answer so I could fix that? Sorry.","body":"I found out I accidentally down-voted this answer. I don&#39;t know how this happened. It&#39;s too late to simply undo it now. @Paolof76 could you edit the answer so I could fix that? Sorry."}],"tags":[],"owner":{"account_id":2803978,"reputation":899,"user_id":2411594,"accept_rate":33,"display_name":"Paolof76"},"comment_count":7,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1441373050,"creation_date":1441370308,"answer_id":32398295,"question_id":32397690,"body_markdown":"@JsonIgnore is behaving as expected, not producing the password in the json output, so how could you expect to test something that you are explicitly excluding from the output?\r\n\r\nThe line:\r\n\r\n    .andExpect(jsonPath(&quot;$.property&quot;, is(&quot;some value&quot;)));\r\n\r\nor even a test that the property is null:\r\n    \r\n    .andExpect(jsonPath(&quot;$.property&quot;).value(IsNull.nullValue()));\r\n\r\ncorrespond to a json like:\r\n\r\n    {\r\n    ...\r\n    &quot;property&quot;: &quot;some value&quot;,\r\n    ...\r\n    }\r\n\r\nwhere the important part is the left side, that is the existence of &quot;property&quot;:\r\n\r\nInstead, @JsonIgnore is not producing the porperty in the output at all, so you can&#39;t expect it not in the test nor in the production output.\r\nIf you don&#39;t want the property in the output, it&#39;s fine, but you can&#39;t expect it in test.\r\nIf you want it empty in output (both in prod and test) you want to create a static Mapper method in the middle that is not passing the value of the property to the json object:\r\n\r\n    Mapper.mapPersonToRest(User user) {//exclude the password}\r\n\r\nand then your method would be:\r\n\r\n    @RequestMapping(value=&quot;/users/{userId}&quot;, method= RequestMethod.GET)\r\n    public ResponseEntity&lt;UserResource&gt; getUser(@PathVariable Long userId) {\r\n        logger.info(&quot;Request arrived for getUser() with params {}&quot;, userId);\r\n        User user = Mapper.mapPersonToRest(userService.getUserById(userId));\r\n        if(user != null) {\r\n            UserResource userResource = new UserResourceAsm().toResource(user);\r\n            return new ResponseEntity&lt;&gt;(userResource, HttpStatus.OK);\r\n        } else {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n\r\nAt this point, if your expectations are for Mapper.mapPersonToRest to return a user with a null password, you can write a normal Unit test on this method.\r\n\r\nP.S. Of course the password is crypted on the DB, right? ;)\r\n\r\n\r\n\r\n","title":"How to test if JSON path does not include a specific element, or if the element is present it is null?","body":"<p>@JsonIgnore is behaving as expected, not producing the password in the json output, so how could you expect to test something that you are explicitly excluding from the output?</p>\n\n<p>The line:</p>\n\n<pre><code>.andExpect(jsonPath(\"$.property\", is(\"some value\")));\n</code></pre>\n\n<p>or even a test that the property is null:</p>\n\n<pre><code>.andExpect(jsonPath(\"$.property\").value(IsNull.nullValue()));\n</code></pre>\n\n<p>correspond to a json like:</p>\n\n<pre><code>{\n...\n\"property\": \"some value\",\n...\n}\n</code></pre>\n\n<p>where the important part is the left side, that is the existence of \"property\":</p>\n\n<p>Instead, @JsonIgnore is not producing the porperty in the output at all, so you can't expect it not in the test nor in the production output.\nIf you don't want the property in the output, it's fine, but you can't expect it in test.\nIf you want it empty in output (both in prod and test) you want to create a static Mapper method in the middle that is not passing the value of the property to the json object:</p>\n\n<pre><code>Mapper.mapPersonToRest(User user) {//exclude the password}\n</code></pre>\n\n<p>and then your method would be:</p>\n\n<pre><code>@RequestMapping(value=\"/users/{userId}\", method= RequestMethod.GET)\npublic ResponseEntity&lt;UserResource&gt; getUser(@PathVariable Long userId) {\n    logger.info(\"Request arrived for getUser() with params {}\", userId);\n    User user = Mapper.mapPersonToRest(userService.getUserById(userId));\n    if(user != null) {\n        UserResource userResource = new UserResourceAsm().toResource(user);\n        return new ResponseEntity&lt;&gt;(userResource, HttpStatus.OK);\n    } else {\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n    }\n}\n</code></pre>\n\n<p>At this point, if your expectations are for Mapper.mapPersonToRest to return a user with a null password, you can write a normal Unit test on this method.</p>\n\n<p>P.S. Of course the password is crypted on the DB, right? ;)</p>\n"},{"comments":[{"owner":{"account_id":3086045,"reputation":2217,"user_id":2613150,"accept_rate":80,"display_name":"Zobayer Hasan"},"score":1,"creation_date":1454331613,"post_id":34951690,"comment_id":57981951,"body_markdown":"that&#39;s what I did, look at the last line of my question. [question last edited on \t\nSep 4 &#39;15 at 14:55]","body":"that&#39;s what I did, look at the last line of my question. [question last edited on \t Sep 4 &#39;15 at 14:55]"},{"owner":{"account_id":3133372,"reputation":1750,"user_id":2650481,"accept_rate":87,"display_name":"Adam Bogdan Boczek"},"score":1,"creation_date":1486369453,"post_id":34951690,"comment_id":71297974,"body_markdown":"if you use AssertJ (e.g. in a Spring Boot app) this is the way of checking it `assertThat(this.json.write(entity)).doesNotHaveJsonPathValue(&quot;@.keyl&quot;);`","body":"if you use AssertJ (e.g. in a Spring Boot app) this is the way of checking it <code>assertThat(this.json.write(entity)).doesNotHaveJsonPathValue&zwnj;&#8203;(&quot;@.keyl&quot;);</code>"},{"owner":{"account_id":3598500,"reputation":187,"user_id":3002438,"display_name":"ChrisM"},"score":0,"creation_date":1590693402,"post_id":34951690,"comment_id":109784852,"body_markdown":"Additionally, to check if no properties exist in the json (in other words, the json is an empty object: `{}`), you can use `.andExpect(jsonPath(&quot;$.*&quot;).doesNotExist())`","body":"Additionally, to check if no properties exist in the json (in other words, the json is an empty object: <code>{}</code>), you can use <code>.andExpect(jsonPath(&quot;$.*&quot;).doesNotExist())</code>"}],"tags":[],"owner":{"account_id":7691084,"reputation":2116,"user_id":5827377,"display_name":"benezra444"},"comment_count":3,"down_vote_count":0,"up_vote_count":210,"is_accepted":true,"score":210,"last_activity_date":1453480791,"creation_date":1453480791,"answer_id":34951690,"question_id":32397690,"body_markdown":"I had the same problem with the newer version. It looks to me that the doesNotExist() function will verify that the key is not in the result:\r\n\r\n    .andExpect(jsonPath(&quot;$.password&quot;).doesNotExist())\r\n","title":"How to test if JSON path does not include a specific element, or if the element is present it is null?","body":"<p>I had the same problem with the newer version. It looks to me that the doesNotExist() function will verify that the key is not in the result:</p>\n\n<pre><code>.andExpect(jsonPath(\"$.password\").doesNotExist())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3956850,"reputation":315,"user_id":3265041,"display_name":"M.Sinan ahin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590071640,"creation_date":1590071640,"answer_id":61936909,"question_id":32397690,"body_markdown":"`doesNotHaveJsonPath` for checking that it is not in json body","title":"How to test if JSON path does not include a specific element, or if the element is present it is null?","body":"<p><code>doesNotHaveJsonPath</code> for checking that it is not in json body</p>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602847009,"creation_date":1602847009,"answer_id":64388099,"question_id":32397690,"body_markdown":"I wanted to reuse the same code I use for testing for the parameter being supplied, and for it missing, and this is what I came up with\r\n\r\n      @Test\r\n      void testEditionFoundInRequest() throws JsonProcessingException {\r\n        testEditionWithValue(&quot;myEdition&quot;);\r\n      }\r\n    \r\n      @Test\r\n      void testEditionNotFoundInRequest() {\r\n        try {\r\n          testEditionWithValue(null);\r\n          throw new RuntimeException(&quot;Shouldn&#39;t pass&quot;);\r\n        } catch (AssertionError | JsonProcessingException e) {\r\n          var msg = e.getMessage();\r\n          assertTrue(msg.contains(&quot;No value at JSON path&quot;));\r\n        }\r\n      }\r\n\r\n\r\n      void testEditionWithValue(String edition) {   \r\n       var HOST =&quot;fakeHost&quot;;\r\n       var restTemplate = new RestTemplate();\r\n       var myRestClientUsingRestTemplate = new MyRestClientUsingRestTemplate(HOST, restTemplate);\r\n       MockRestServiceServer mockServer;\r\n       ObjectMapper objectMapper = new ObjectMapper();\r\n       String id = &quot;userId&quot;;\r\n       var mockResponse = &quot;{}&quot;;\r\n    \r\n       var request = new MyRequest.Builder(id).edition(null).build();\r\n       mockServer = MockRestServiceServer.bindTo(restTemplate).bufferContent().build();\r\n    \r\n       mockServer\r\n            .expect(method(POST))\r\n    \r\n            // THIS IS THE LINE I&#39;d like to say &quot;NOT&quot; found\r\n            .andExpect(jsonPath(&quot;$.edition&quot;).value(edition))\r\n            .andRespond(withSuccess(mockResponse, APPLICATION_JSON));\r\n    \r\n        var response = myRestClientUsingRestTemplate.makeRestCall(request);\r\n      } catch (AssertionError | JsonProcessingException e) {\r\n        var msg = e.getMessage();\r\n        assertTrue(msg.contains(&quot;No value at JSON path&quot;));\r\n      }\r\n\r\n","title":"How to test if JSON path does not include a specific element, or if the element is present it is null?","body":"<p>I wanted to reuse the same code I use for testing for the parameter being supplied, and for it missing, and this is what I came up with</p>\n<pre><code>  @Test\n  void testEditionFoundInRequest() throws JsonProcessingException {\n    testEditionWithValue(&quot;myEdition&quot;);\n  }\n\n  @Test\n  void testEditionNotFoundInRequest() {\n    try {\n      testEditionWithValue(null);\n      throw new RuntimeException(&quot;Shouldn't pass&quot;);\n    } catch (AssertionError | JsonProcessingException e) {\n      var msg = e.getMessage();\n      assertTrue(msg.contains(&quot;No value at JSON path&quot;));\n    }\n  }\n\n\n  void testEditionWithValue(String edition) {   \n   var HOST =&quot;fakeHost&quot;;\n   var restTemplate = new RestTemplate();\n   var myRestClientUsingRestTemplate = new MyRestClientUsingRestTemplate(HOST, restTemplate);\n   MockRestServiceServer mockServer;\n   ObjectMapper objectMapper = new ObjectMapper();\n   String id = &quot;userId&quot;;\n   var mockResponse = &quot;{}&quot;;\n\n   var request = new MyRequest.Builder(id).edition(null).build();\n   mockServer = MockRestServiceServer.bindTo(restTemplate).bufferContent().build();\n\n   mockServer\n        .expect(method(POST))\n\n        // THIS IS THE LINE I'd like to say &quot;NOT&quot; found\n        .andExpect(jsonPath(&quot;$.edition&quot;).value(edition))\n        .andRespond(withSuccess(mockResponse, APPLICATION_JSON));\n\n    var response = myRestClientUsingRestTemplate.makeRestCall(request);\n  } catch (AssertionError | JsonProcessingException e) {\n    var msg = e.getMessage();\n    assertTrue(msg.contains(&quot;No value at JSON path&quot;));\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1603525902,"creation_date":1603525902,"answer_id":64511181,"question_id":32397690,"body_markdown":"There is a difference between the property that is present, but having `null` value, and the property not being present at all.\r\n\r\nIf the test should fail _only_ when there is a non-`null` value, use:\r\n\r\n```\r\n.andExpect(jsonPath(&quot;password&quot;).doesNotExist())\r\n```\r\n\r\nIf the test should fail as soon as the property is present, even with a `null` value, use:\r\n\r\n```\r\n.andExpect(jsonPath(&quot;password&quot;).doesNotHaveJsonPath())\r\n```\r\n\r\n\r\n","title":"How to test if JSON path does not include a specific element, or if the element is present it is null?","body":"<p>There is a difference between the property that is present, but having <code>null</code> value, and the property not being present at all.</p>\n<p>If the test should fail <em>only</em> when there is a non-<code>null</code> value, use:</p>\n<pre><code>.andExpect(jsonPath(&quot;password&quot;).doesNotExist())\n</code></pre>\n<p>If the test should fail as soon as the property is present, even with a <code>null</code> value, use:</p>\n<pre><code>.andExpect(jsonPath(&quot;password&quot;).doesNotHaveJsonPath())\n</code></pre>\n"}],"owner":{"account_id":3086045,"reputation":2217,"user_id":2613150,"accept_rate":80,"display_name":"Zobayer Hasan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96443,"favorite_count":0,"down_vote_count":0,"up_vote_count":105,"accepted_answer_id":34951690,"answer_count":5,"score":105,"last_activity_date":1676653750,"creation_date":1441368441,"question_id":32397690,"body_markdown":"I have been writing some simple unit testing routines for a simple spring web application. When I add `@JsonIgnore` annotation on a getter method of a resource, the resulting json object does not include the corresponding json element. So when my unit test routine tries to test if this is null (which is the expected behavior for my case, I don&#39;t want the password to be available in json object), test routine runs into an exception:\r\n\r\n&gt; java.lang.AssertionError: No value for JSON path: $.password, exception: No results for path: $[&#39;password&#39;]\r\n\r\n\r\nThis is the unit test method I wrote, testing the &#39;password&#39; field with `is(nullValue())` method:\r\n\r\n    @Test\r\n    public void getUserThatExists() throws Exception {\r\n        User user = new User();\r\n        user.setId(1L);\r\n        user.setUsername(&quot;zobayer&quot;);\r\n        user.setPassword(&quot;123456&quot;);\r\n\r\n        when(userService.getUserById(1L)).thenReturn(user);\r\n\r\n        mockMvc.perform(get(&quot;/users/1&quot;))\r\n                .andExpect(jsonPath(&quot;$.username&quot;, is(user.getUsername())))\r\n                .andExpect(jsonPath(&quot;$.password&quot;, is(nullValue())))\r\n                .andExpect(jsonPath(&quot;$.links[*].href&quot;, hasItem(endsWith(&quot;/users/1&quot;))))\r\n                .andExpect(status().isOk())\r\n                .andDo(print());\r\n    }\r\n\r\nI have also tried it with `jsonPath().exists()` which gets a similar exception stating that the path doesn&#39;t exist. I am sharing some more code snippets so that the whole situation becomes more readable.\r\n\r\nThe controller method I am testing looks something like this:\r\n\r\n    @RequestMapping(value=&quot;/users/{userId}&quot;, method= RequestMethod.GET)\r\n    public ResponseEntity&lt;UserResource&gt; getUser(@PathVariable Long userId) {\r\n        logger.info(&quot;Request arrived for getUser() with params {}&quot;, userId);\r\n        User user = userService.getUserById(userId);\r\n        if(user != null) {\r\n            UserResource userResource = new UserResourceAsm().toResource(user);\r\n            return new ResponseEntity&lt;&gt;(userResource, HttpStatus.OK);\r\n        } else {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n\r\nI am using spring hateos resource assembler for converting entity to resource objects and this is my resource class:\r\n\r\n    public class UserResource extends ResourceSupport {\r\n        private Long userId;\r\n        private String username;\r\n        private String password;\r\n        \r\n        public Long getUserId() {\r\n            return userId;\r\n        }\r\n\r\n        public void setUserId(Long userId) {\r\n            this.userId = userId;\r\n        }\r\n\r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n\r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n\r\n        @JsonIgnore\r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n\r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n    }\r\n\r\nI understand why this is getting an exception, also in a way, the test is successful that it could not find the password field. But what I want to do is, run this test to ensure that the field is not present, or if present, it contains null value. How can I achieve this?\r\n\r\nThere is a similar post in stack overflow:\r\n[Hamcrest with MockMvc: check that key exists but value may be null][1]\r\n\r\nIn my case, the field may be non existent as well.\r\n\r\nFor the record, these are the versions of test packages I am using:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-path-assert&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n            &lt;version&gt;1.10.19&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n[EDIT]\r\nTo be more precise, say, you have to write a test for an entity where you know some of the fields need to be null or empty or should not even exists, and you don&#39;t actually go through the code to see if there is a `JsonIgnore` added on top of the property. And you want your tests to pass, how can I do this.\r\n\r\nPlease feel free to tell me that this is not practical at all, but still would be nice to know.\r\n\r\n\r\n[EDIT]\r\nThe above test succeeds with the following older json-path dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-path-assert&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n[EDIT] Found a quickfix that works with latest version of jayway.jasonpath after reading the documentation of spring&#39;s json path matcher.\r\n\r\n    .andExpect(jsonPath(&quot;$.password&quot;).doesNotExist())\r\n\r\n  [1]: https://stackoverflow.com/questions/25318424/hamcrest-with-mockmvc-check-that-key-exists-but-value-may-be-null","title":"How to test if JSON path does not include a specific element, or if the element is present it is null?","body":"<p>I have been writing some simple unit testing routines for a simple spring web application. When I add <code>@JsonIgnore</code> annotation on a getter method of a resource, the resulting json object does not include the corresponding json element. So when my unit test routine tries to test if this is null (which is the expected behavior for my case, I don't want the password to be available in json object), test routine runs into an exception:</p>\n<blockquote>\n<p>java.lang.AssertionError: No value for JSON path: $.password, exception: No results for path: $['password']</p>\n</blockquote>\n<p>This is the unit test method I wrote, testing the 'password' field with <code>is(nullValue())</code> method:</p>\n<pre><code>@Test\npublic void getUserThatExists() throws Exception {\n    User user = new User();\n    user.setId(1L);\n    user.setUsername(&quot;zobayer&quot;);\n    user.setPassword(&quot;123456&quot;);\n\n    when(userService.getUserById(1L)).thenReturn(user);\n\n    mockMvc.perform(get(&quot;/users/1&quot;))\n            .andExpect(jsonPath(&quot;$.username&quot;, is(user.getUsername())))\n            .andExpect(jsonPath(&quot;$.password&quot;, is(nullValue())))\n            .andExpect(jsonPath(&quot;$.links[*].href&quot;, hasItem(endsWith(&quot;/users/1&quot;))))\n            .andExpect(status().isOk())\n            .andDo(print());\n}\n</code></pre>\n<p>I have also tried it with <code>jsonPath().exists()</code> which gets a similar exception stating that the path doesn't exist. I am sharing some more code snippets so that the whole situation becomes more readable.</p>\n<p>The controller method I am testing looks something like this:</p>\n<pre><code>@RequestMapping(value=&quot;/users/{userId}&quot;, method= RequestMethod.GET)\npublic ResponseEntity&lt;UserResource&gt; getUser(@PathVariable Long userId) {\n    logger.info(&quot;Request arrived for getUser() with params {}&quot;, userId);\n    User user = userService.getUserById(userId);\n    if(user != null) {\n        UserResource userResource = new UserResourceAsm().toResource(user);\n        return new ResponseEntity&lt;&gt;(userResource, HttpStatus.OK);\n    } else {\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n    }\n}\n</code></pre>\n<p>I am using spring hateos resource assembler for converting entity to resource objects and this is my resource class:</p>\n<pre><code>public class UserResource extends ResourceSupport {\n    private Long userId;\n    private String username;\n    private String password;\n    \n    public Long getUserId() {\n        return userId;\n    }\n\n    public void setUserId(Long userId) {\n        this.userId = userId;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    @JsonIgnore\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n}\n</code></pre>\n<p>I understand why this is getting an exception, also in a way, the test is successful that it could not find the password field. But what I want to do is, run this test to ensure that the field is not present, or if present, it contains null value. How can I achieve this?</p>\n<p>There is a similar post in stack overflow:\n<a href=\"https://stackoverflow.com/questions/25318424/hamcrest-with-mockmvc-check-that-key-exists-but-value-may-be-null\">Hamcrest with MockMvc: check that key exists but value may be null</a></p>\n<p>In my case, the field may be non existent as well.</p>\n<p>For the record, these are the versions of test packages I am using:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n        &lt;artifactId&gt;json-path-assert&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n        &lt;version&gt;1.10.19&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>[EDIT]\nTo be more precise, say, you have to write a test for an entity where you know some of the fields need to be null or empty or should not even exists, and you don't actually go through the code to see if there is a <code>JsonIgnore</code> added on top of the property. And you want your tests to pass, how can I do this.</p>\n<p>Please feel free to tell me that this is not practical at all, but still would be nice to know.</p>\n<p>[EDIT]\nThe above test succeeds with the following older json-path dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n        &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n        &lt;artifactId&gt;json-path-assert&lt;/artifactId&gt;\n        &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>[EDIT] Found a quickfix that works with latest version of jayway.jasonpath after reading the documentation of spring's json path matcher.</p>\n<pre><code>.andExpect(jsonPath(&quot;$.password&quot;).doesNotExist())\n</code></pre>\n"},{"tags":["java","apache-spark-sql"],"owner":{"account_id":12412753,"reputation":385,"user_id":12551601,"display_name":"John Doe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676653731,"creation_date":1676647335,"question_id":75486147,"body_markdown":"I have hive/redshift tables and I want to create a spark data frame with precisely the DDL of the original tables, written in JAVA. Is there an option to achieve that? \r\n\r\nI think maybe is better to convert the DDL string to Spark schema json, and from that create a df struct type. I started to investiage the spark parser api\r\n\r\n \r\n\r\n    String ddlString = &quot;CREATE TABLE data.baab (&quot; +\r\n            &quot;id STRING, &quot; +\r\n            &quot;test STRING, &quot; +\r\n            &quot;test2 STRING, &quot; +\r\n            &quot;audit STRUCT&lt;createdDate: TIMESTAMP, createdBy: STRING, lastModifiedDate: TIMESTAMP, lastModifiedBy: STRING&gt;) &quot; +\r\n            &quot;USING parquet &quot; +\r\n            &quot;LOCATION &#39;s3://test.com&#39; &quot; +\r\n            &quot;TBLPROPERTIES (&#39;transient_lastDdlTime&#39; = &#39;1676593278&#39;)&quot;;\r\n\r\n    SparkSqlParser parser = new SparkSqlParser();\r\n\r\nand I cant see anything that related to ddl parser:\r\n\r\n     override def parseDataType(sqlText : _root_.scala.Predef.String) : org.apache.spark.sql.types.DataType = { /* compiled code */ }\r\n      override def parseExpression(sqlText : _root_.scala.Predef.String) : org.apache.spark.sql.catalyst.expressions.Expression = { /* compiled code */ }\r\n      override def parseTableIdentifier(sqlText : _root_.scala.Predef.String) : org.apache.spark.sql.catalyst.TableIdentifier = { /* compiled code */ }\r\n      override def parseFunctionIdentifier(sqlText : _root_.scala.Predef.String) : org.apache.spark.sql.catalyst.FunctionIdentifier = { /* compiled code */ }\r\n      override def parseMultipartIdentifier(sqlText : _root_.scala.Predef.String) : scala.Seq[_root_.scala.Predef.String] = { /* compiled code */ }\r\n      override def parseTableSchema(sqlText : _root_.scala.Predef.String) : org.apache.spark.sql.types.StructType = { /* compiled code */ }\r\n      override def parsePlan(sqlText : _root_.scala.Predef.String) : org.apache.spark.sql.catalyst.plans.logical.LogicalPlan = { /* compiled code */ }\r\n      protected def astBuilder : org.apache.spark.sql.catalyst.parser.AstBuilder\r\n      protected def parse[T](command : _root_.scala.Predef.String)(toResult : scala.Function1[org.apache.spark.sql.catalyst.parser.SqlBaseParser, T]) : T = { /* compiled code */ }\r\n\r\nthis is what I tried: \r\n\r\n            StructType struct = null;\r\n\r\n            Pattern pattern = Pattern.compile(&quot;\\\\(([^()]*)\\\\)&quot;);\r\n            Matcher matcher = pattern.matcher(ddlString);\r\n    \r\n            if (matcher.find()) {\r\n                String result = matcher.group(1);\r\n                struct =  StructType.fromDDL(result);\r\n            }\r\n    \r\n            return struct;\r\n\r\nthis is work, but I afraid that this solution will not covert all the cases.\r\nAny suggestions?","title":"Convert DDL String to Spark structType?","body":"<p>I have hive/redshift tables and I want to create a spark data frame with precisely the DDL of the original tables, written in JAVA. Is there an option to achieve that?</p>\n<p>I think maybe is better to convert the DDL string to Spark schema json, and from that create a df struct type. I started to investiage the spark parser api</p>\n<pre><code>String ddlString = &quot;CREATE TABLE data.baab (&quot; +\n        &quot;id STRING, &quot; +\n        &quot;test STRING, &quot; +\n        &quot;test2 STRING, &quot; +\n        &quot;audit STRUCT&lt;createdDate: TIMESTAMP, createdBy: STRING, lastModifiedDate: TIMESTAMP, lastModifiedBy: STRING&gt;) &quot; +\n        &quot;USING parquet &quot; +\n        &quot;LOCATION 's3://test.com' &quot; +\n        &quot;TBLPROPERTIES ('transient_lastDdlTime' = '1676593278')&quot;;\n\nSparkSqlParser parser = new SparkSqlParser();\n</code></pre>\n<p>and I cant see anything that related to ddl parser:</p>\n<pre><code> override def parseDataType(sqlText : _root_.scala.Predef.String) : org.apache.spark.sql.types.DataType = { /* compiled code */ }\n  override def parseExpression(sqlText : _root_.scala.Predef.String) : org.apache.spark.sql.catalyst.expressions.Expression = { /* compiled code */ }\n  override def parseTableIdentifier(sqlText : _root_.scala.Predef.String) : org.apache.spark.sql.catalyst.TableIdentifier = { /* compiled code */ }\n  override def parseFunctionIdentifier(sqlText : _root_.scala.Predef.String) : org.apache.spark.sql.catalyst.FunctionIdentifier = { /* compiled code */ }\n  override def parseMultipartIdentifier(sqlText : _root_.scala.Predef.String) : scala.Seq[_root_.scala.Predef.String] = { /* compiled code */ }\n  override def parseTableSchema(sqlText : _root_.scala.Predef.String) : org.apache.spark.sql.types.StructType = { /* compiled code */ }\n  override def parsePlan(sqlText : _root_.scala.Predef.String) : org.apache.spark.sql.catalyst.plans.logical.LogicalPlan = { /* compiled code */ }\n  protected def astBuilder : org.apache.spark.sql.catalyst.parser.AstBuilder\n  protected def parse[T](command : _root_.scala.Predef.String)(toResult : scala.Function1[org.apache.spark.sql.catalyst.parser.SqlBaseParser, T]) : T = { /* compiled code */ }\n</code></pre>\n<p>this is what I tried:</p>\n<pre><code>        StructType struct = null;\n\n        Pattern pattern = Pattern.compile(&quot;\\\\(([^()]*)\\\\)&quot;);\n        Matcher matcher = pattern.matcher(ddlString);\n\n        if (matcher.find()) {\n            String result = matcher.group(1);\n            struct =  StructType.fromDDL(result);\n        }\n\n        return struct;\n</code></pre>\n<p>this is work, but I afraid that this solution will not covert all the cases.\nAny suggestions?</p>\n"},{"tags":["java","json","parsing","replace","key-value"],"answers":[{"tags":[],"owner":{"account_id":4081337,"reputation":553,"user_id":3351754,"accept_rate":4,"display_name":"Tiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676653393,"creation_date":1676653393,"answer_id":75487233,"question_id":75486563,"body_markdown":"I just had to do :\r\n\r\n    \r\n        jsonObject.get(&quot;data&quot;).getAsJsonObject().get(&quot;car&quot;).getAsJsonObject().add(&quot;xia&quot;, jsonElementReplaced);","title":"How to put a JsonElement back into a JsonObject?","body":"<p>I just had to do :</p>\n<pre><code>    jsonObject.get(&quot;data&quot;).getAsJsonObject().get(&quot;car&quot;).getAsJsonObject().add(&quot;xia&quot;, jsonElementReplaced);\n</code></pre>\n"}],"owner":{"account_id":4081337,"reputation":553,"user_id":3351754,"accept_rate":4,"display_name":"Tiya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676653393,"creation_date":1676649525,"question_id":75486563,"body_markdown":"The goal is replace a value in a nested JSON. \r\n\r\nOriginal JSON :\r\n\r\n    {\r\n      &quot;data&quot;: {\r\n        &quot;car&quot;: {\r\n          &quot;xia&quot;: [\r\n            &quot;a0.c904.b0&quot;\r\n          ]\r\n        }\r\n      }\r\n    }\r\n\r\nExpected JSON:\r\n\r\n    {\r\n      &quot;data&quot;: {\r\n        &quot;car&quot;: {\r\n          &quot;xia&quot;: [\r\n            &quot;a0.c234.b0&quot;\r\n          ]\r\n        }\r\n      }\r\n    }\r\n\r\nMy code below gives me the JSONElement but I don&#39;t know how to put it back to the json object? \r\n\r\n    import com.google.gson.JsonElement;\r\n    import com.google.gson.JsonObject;\r\n    import com.google.gson.JsonParser;\r\n\r\n        String inputJson = &quot;{\\n&quot;\r\n                + &quot;  \\&quot;data\\&quot;: {\\n&quot;\r\n                + &quot;    \\&quot;car\\&quot;: {\\n&quot;\r\n                + &quot;      \\&quot;xia\\&quot;: [\\n&quot;\r\n                + &quot;        \\&quot;a0.c904.b0\\&quot;\\n&quot;\r\n                + &quot;      ]\\n&quot;\r\n                + &quot;    }\\n&quot;\r\n                + &quot;  }\\n&quot;\r\n                + &quot;}&quot;;\r\n        JsonObject jsonObject = new JsonParser().parse(inputJson).getAsJsonObject();\r\n        JsonElement jsonElement = jsonObject.get(&quot;data&quot;).getAsJsonObject().get(&quot;car&quot;).getAsJsonObject().get(&quot;xia&quot;);\r\n        String str = jsonElement.getAsString();\r\n        System.out.println(str);\r\n        String[] strs = str.split(&quot;\\\\.&quot;);\r\n        String replaced = strs[0] + &quot;.&quot; + strs[1].replaceAll(&quot;\\\\d+&quot;, &quot;234&quot;) + &quot;.&quot; + strs[2];\r\n        System.out.println(replaced);\r\n        JsonElement jsonElementReplaced = new JsonParser().parse(replaced);\r\n","title":"How to put a JsonElement back into a JsonObject?","body":"<p>The goal is replace a value in a nested JSON.</p>\n<p>Original JSON :</p>\n<pre><code>{\n  &quot;data&quot;: {\n    &quot;car&quot;: {\n      &quot;xia&quot;: [\n        &quot;a0.c904.b0&quot;\n      ]\n    }\n  }\n}\n</code></pre>\n<p>Expected JSON:</p>\n<pre><code>{\n  &quot;data&quot;: {\n    &quot;car&quot;: {\n      &quot;xia&quot;: [\n        &quot;a0.c234.b0&quot;\n      ]\n    }\n  }\n}\n</code></pre>\n<p>My code below gives me the JSONElement but I don't know how to put it back to the json object?</p>\n<pre><code>import com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\n\n    String inputJson = &quot;{\\n&quot;\n            + &quot;  \\&quot;data\\&quot;: {\\n&quot;\n            + &quot;    \\&quot;car\\&quot;: {\\n&quot;\n            + &quot;      \\&quot;xia\\&quot;: [\\n&quot;\n            + &quot;        \\&quot;a0.c904.b0\\&quot;\\n&quot;\n            + &quot;      ]\\n&quot;\n            + &quot;    }\\n&quot;\n            + &quot;  }\\n&quot;\n            + &quot;}&quot;;\n    JsonObject jsonObject = new JsonParser().parse(inputJson).getAsJsonObject();\n    JsonElement jsonElement = jsonObject.get(&quot;data&quot;).getAsJsonObject().get(&quot;car&quot;).getAsJsonObject().get(&quot;xia&quot;);\n    String str = jsonElement.getAsString();\n    System.out.println(str);\n    String[] strs = str.split(&quot;\\\\.&quot;);\n    String replaced = strs[0] + &quot;.&quot; + strs[1].replaceAll(&quot;\\\\d+&quot;, &quot;234&quot;) + &quot;.&quot; + strs[2];\n    System.out.println(replaced);\n    JsonElement jsonElementReplaced = new JsonParser().parse(replaced);\n</code></pre>\n"},{"tags":["java","maven","gradle","intellij-idea"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1676658733,"post_id":75486530,"comment_id":133188693,"body_markdown":"Can you run `curl https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-enforcer-plugin/3.1.0/maven-enforcer-plugin-3.1.0.pom` in your terminal? Do you get a valid POM back?","body":"Can you run <code>curl https:&#47;&#47;repo.maven.apache.org&#47;maven2&#47;org&#47;apache&#47;maven&#47;plugin&zwnj;&#8203;s&#47;maven-enforcer-plu&zwnj;&#8203;gin&#47;3.1.0&#47;maven-enfo&zwnj;&#8203;rcer-plugin-3.1.0.po&zwnj;&#8203;m</code> in your terminal? Do you get a valid POM back?"},{"owner":{"account_id":18882550,"reputation":146,"user_id":13774637,"display_name":"Ethan Yin"},"score":0,"creation_date":1676887395,"post_id":75486530,"comment_id":133221240,"body_markdown":"Do you see any errors related to &quot;transfer failed for https://repo.maven.apache.org/maven2/&quot; in the idea.log file?","body":"Do you see any errors related to &quot;transfer failed for <a href=\"https://repo.maven.apache.org/maven2/\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2</a>&quot; in the idea.log file?"}],"owner":{"account_id":7075668,"reputation":15,"user_id":5415792,"display_name":"Leonel Fonseca"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676653371,"creation_date":1676649335,"question_id":75486530,"body_markdown":"I&#39;m getting this error when I call any Maven command:\r\n\r\n    [ERROR] Plugin org.apache.maven.plugins:maven-enforcer-plugin:3.1.0 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-enforcer-plugin:jar:3.1.0: Could not transfer artifact org.apache.maven.plugins:maven-enforcer-plugin:pom:3.1.0 from/to central (https://repo.maven.apache.org/maven2): transfer failed for https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-enforcer-plugin/3.1.0/maven-enforcer-plugin-3.1.0.pom: Cannot assign requested address: connect -&gt; [Help 1]\r\n\r\nThings that I&#39;ve already checked:\r\n\r\n    1. Windows Firewall is not blocking outbound/inbound requests\r\n    2. Not behind any proxy\r\n    3. Connected to the internet\r\n    4. Settings file credentials and repo url OK     &lt;settings&gt;    \r\n        &lt;servers&gt;\r\n            &lt;server&gt;\r\n                &lt;id&gt;maven-snapshots&lt;/id&gt;\r\n                &lt;username&gt;dummy-username&lt;/username&gt;\r\n                &lt;password&gt;dummy-pwd&lt;/password&gt;\r\n            &lt;/server&gt;\r\n            &lt;server&gt;\r\n                &lt;id&gt;maven-releases&lt;/id&gt;\r\n                &lt;username&gt;dummy-username&lt;/username&gt;\r\n                &lt;password&gt;dummy-pwd&lt;/password&gt;\r\n            &lt;/server&gt;\r\n        &lt;/servers&gt;\r\n        &lt;activeProfiles&gt;\r\n            &lt;activeProfile&gt;local&lt;/activeProfile&gt;\r\n        &lt;/activeProfiles&gt;\r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n            &lt;id&gt;local&lt;/id&gt;\r\n            &lt;repositories&gt;\r\n                &lt;repository&gt;\r\n                    &lt;id&gt;maven-releases&lt;/id&gt;\r\n                    &lt;url&gt;https://dev-repo.tech5-sa.com/repository/maven-releases/&lt;/url&gt;\r\n                &lt;/repository&gt;\r\n            &lt;/repositories&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    &lt;/settings&gt;\r\n\r\n    5. Can access repo using browser\r\n    6. Cleaned caches\r\n\r\nThis was also happening with Gradle - this:  **Cannot assign requested address: connect** - , before I switch the project to be under Maven control, so I&#39;m guessing, some configuration in the machine (Machine is new).\r\n\r\n\r\n    Java version: 11.0.16\r\n    Apache Maven 3.8.7\r\n    \r\n    IntelliJ IDEA 2022.3.1\r\n    Build #IC-223.8214.52, built on December 20, 202\r\n\r\nCan anyone give me some hints ?\r\n\r\nThank You for your time.\r\n\r\nLeo\r\n","title":"Cannot assign requested address: connect","body":"<p>I'm getting this error when I call any Maven command:</p>\n<pre><code>[ERROR] Plugin org.apache.maven.plugins:maven-enforcer-plugin:3.1.0 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-enforcer-plugin:jar:3.1.0: Could not transfer artifact org.apache.maven.plugins:maven-enforcer-plugin:pom:3.1.0 from/to central (https://repo.maven.apache.org/maven2): transfer failed for https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-enforcer-plugin/3.1.0/maven-enforcer-plugin-3.1.0.pom: Cannot assign requested address: connect -&gt; [Help 1]\n</code></pre>\n<p>Things that I've already checked:</p>\n<pre><code>1. Windows Firewall is not blocking outbound/inbound requests\n2. Not behind any proxy\n3. Connected to the internet\n4. Settings file credentials and repo url OK     &lt;settings&gt;    \n    &lt;servers&gt;\n        &lt;server&gt;\n            &lt;id&gt;maven-snapshots&lt;/id&gt;\n            &lt;username&gt;dummy-username&lt;/username&gt;\n            &lt;password&gt;dummy-pwd&lt;/password&gt;\n        &lt;/server&gt;\n        &lt;server&gt;\n            &lt;id&gt;maven-releases&lt;/id&gt;\n            &lt;username&gt;dummy-username&lt;/username&gt;\n            &lt;password&gt;dummy-pwd&lt;/password&gt;\n        &lt;/server&gt;\n    &lt;/servers&gt;\n    &lt;activeProfiles&gt;\n        &lt;activeProfile&gt;local&lt;/activeProfile&gt;\n    &lt;/activeProfiles&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n        &lt;id&gt;local&lt;/id&gt;\n        &lt;repositories&gt;\n            &lt;repository&gt;\n                &lt;id&gt;maven-releases&lt;/id&gt;\n                &lt;url&gt;https://dev-repo.tech5-sa.com/repository/maven-releases/&lt;/url&gt;\n            &lt;/repository&gt;\n        &lt;/repositories&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/settings&gt;\n\n5. Can access repo using browser\n6. Cleaned caches\n</code></pre>\n<p>This was also happening with Gradle - this:  <strong>Cannot assign requested address: connect</strong> - , before I switch the project to be under Maven control, so I'm guessing, some configuration in the machine (Machine is new).</p>\n<pre><code>Java version: 11.0.16\nApache Maven 3.8.7\n\nIntelliJ IDEA 2022.3.1\nBuild #IC-223.8214.52, built on December 20, 202\n</code></pre>\n<p>Can anyone give me some hints ?</p>\n<p>Thank You for your time.</p>\n<p>Leo</p>\n"},{"tags":["java","sockets","routes","multicast","network-interface"],"answers":[{"tags":[],"owner":{"account_id":15206457,"reputation":133,"user_id":10972726,"display_name":"MichiBros"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676128327,"creation_date":1676128327,"answer_id":75421109,"question_id":75416232,"body_markdown":"After some investigations, I came to a conclusion that this is a router issue.\r\n\r\nIt seems that there is some sort of whitelisting going on.\r\n\r\nFor example, packets sent to the reserved Local Control Block multicast addresses (224.0.0.1-224.0.0.255) do not have this issue. Well-known multicast IPs are also whitelisted (like 239.255.255.250, used for SSDP).\r\n\r\nEven changing to the next multicast address (239.255.255.249 or 239.255.255.251) leads to the same issue.\r\n\r\nThe only solution I could come up with is to use one of these whitelisted addresses and to use a different port number (not one linked with the actual address).","title":"Router does not forward multicast packet across interfaces","body":"<p>After some investigations, I came to a conclusion that this is a router issue.</p>\n<p>It seems that there is some sort of whitelisting going on.</p>\n<p>For example, packets sent to the reserved Local Control Block multicast addresses (224.0.0.1-224.0.0.255) do not have this issue. Well-known multicast IPs are also whitelisted (like 239.255.255.250, used for SSDP).</p>\n<p>Even changing to the next multicast address (239.255.255.249 or 239.255.255.251) leads to the same issue.</p>\n<p>The only solution I could come up with is to use one of these whitelisted addresses and to use a different port number (not one linked with the actual address).</p>\n"},{"comments":[{"owner":{"account_id":15206457,"reputation":133,"user_id":10972726,"display_name":"MichiBros"},"score":0,"creation_date":1676655792,"post_id":75487076,"comment_id":133187885,"body_markdown":"It turned out to be a router issue. It seems that the router&#39;s vendor implemented a whitelist for multicast addresses. See my self-accepted answer.","body":"It turned out to be a router issue. It seems that the router&#39;s vendor implemented a whitelist for multicast addresses. See my self-accepted answer."}],"tags":[],"owner":{"account_id":13457090,"reputation":369,"user_id":9710374,"display_name":"Leroy Scandal"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676652521,"creation_date":1676652521,"answer_id":75487076,"question_id":75416232,"body_markdown":"\r\nyou may want to up your ttl to 3,\r\n\r\n **each time a multicast packet is received by a router the ttl is decremented by 1, when the ttl is 0 the packet is dropped.**\r\n\r\n\r\nDoes it work with the sender and receiver on the same machine?\r\n\r\n\r\nIf it does, next as root, run \r\n```\r\ntcpdump multicast\r\n\r\n```\r\non both machines\r\nyou should see something like \r\n```\r\n16:26:22.085822 IP debian.attlocal.net.51429 &gt; 239.35.3.5.3535: UDP, length 1316\r\n```\r\n\r\n","title":"Router does not forward multicast packet across interfaces","body":"<p>you may want to up your ttl to 3,</p>\n<p><strong>each time a multicast packet is received by a router the ttl is decremented by 1, when the ttl is 0 the packet is dropped.</strong></p>\n<p>Does it work with the sender and receiver on the same machine?</p>\n<p>If it does, next as root, run</p>\n<pre><code>tcpdump multicast\n\n</code></pre>\n<p>on both machines\nyou should see something like</p>\n<pre><code>16:26:22.085822 IP debian.attlocal.net.51429 &gt; 239.35.3.5.3535: UDP, length 1316\n</code></pre>\n"}],"owner":{"account_id":15206457,"reputation":133,"user_id":10972726,"display_name":"MichiBros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75421109,"answer_count":2,"score":0,"last_activity_date":1676652521,"creation_date":1676064192,"question_id":75416232,"body_markdown":"My router has three network interfaces:\r\n- Ethernet;\r\n- 2.4GHz antenna;\r\n- 5GHz antenna;\r\n\r\nI have a program that sends and receives packets on a multicast address (I set it to 239.5.6.7) on port 10468.\r\n\r\nFor my tests I have two devices (one sender and one receiver) that exchange information.\r\nIf both devices are connected to the same interface of the router (let&#39;s say, both connected to the 5GHz WiFi) then the devices will be able to communicate.\r\n\r\nOn the other hand, if the devices are on two different interfaces (one 5GHz and one Ethernet), packets will not be exchanged (as if the router does not forward multicast traffic to one interface to the others).\r\n\r\nAll three interfaces support multicast (examining traffic with WireShark shows that every host is able to join the multicast group), but it seems like the router is blocking this cross-interface exchange.\r\n\r\nIt really is a shitty router issue? Or I did something wrong on my end?\r\n\r\nBoth the sender and receiver communicate with the multicast group with all their interfaces (as long as they have a link-local IP address).\r\ngetActiveInterfaces() is a method that gathers such interfaces and saves them in an array list.\r\n\r\nSender snippet (getActiveInterfaces() returns only the ethernet connection):\r\n\r\n    static final int port = 10468;\r\n        public static void main(String[] args) {\r\n            try {\r\n                ArrayList&lt;NetworkInterface&gt; interfaces = getActiveInterfaces();\r\n                // Initialize sockets\r\n                ArrayList&lt;MulticastSocket&gt; sockets = new ArrayList&lt;&gt;(interfaces.size());\r\n                for (NetworkInterface networkInterface : interfaces) {\r\n                    MulticastSocket socket = new MulticastSocket();\r\n                    socket.setOption(StandardSocketOptions.IP_MULTICAST_TTL, 1);\r\n                    socket.setNetworkInterface(networkInterface);\r\n                    sockets.add(socket);\r\n                }\r\n\r\n            InetSocketAddress group = new InetSocketAddress(InetAddress.getByName(&quot;239.5.6.7&quot;), port);\r\n\r\n            byte[] buf = new byte[128];\r\n            String msg = &quot;Hello&quot;;\r\n            DatagramPacket toSend = new DatagramPacket(msg.getBytes(), msg.getBytes().length, group);\r\n\r\n            while (true) {\r\n                Thread.sleep(1000);\r\n                for (MulticastSocket socket : sockets)\r\n                    socket.send(toSend);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nReceiver snippet (getActiveInterfaces() returns only the 2.4GHz wireless connection):\r\n\r\n    static final int port = 10468;\r\n    public static void main(String[] args) {\r\n        try(MulticastSocket s = new MulticastSocket(port)) {\r\n            InetSocketAddress group = new InetSocketAddress(InetAddress.getByName(&quot;239.5.6.7&quot;), port);\r\n\r\n            ArrayList&lt;NetworkInterface&gt; activeInterfaces = getActiveInterfaces();\r\n            for (NetworkInterface networkInterface : activeInterfaces) {\r\n                s.joinGroup(group, networkInterface);\r\n            }\r\n\r\n            DatagramPacket rec = new DatagramPacket(new byte[128], 128);\r\n\r\n            while(true) {\r\n                s.receive(rec);\r\n                System.out.println(new String(rec.getData(), StandardCharsets.UTF_8).replaceAll(&quot;\\0&quot;, &quot;&quot;));\r\n            }\r\n\r\n        }catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Router does not forward multicast packet across interfaces","body":"<p>My router has three network interfaces:</p>\n<ul>\n<li>Ethernet;</li>\n<li>2.4GHz antenna;</li>\n<li>5GHz antenna;</li>\n</ul>\n<p>I have a program that sends and receives packets on a multicast address (I set it to 239.5.6.7) on port 10468.</p>\n<p>For my tests I have two devices (one sender and one receiver) that exchange information.\nIf both devices are connected to the same interface of the router (let's say, both connected to the 5GHz WiFi) then the devices will be able to communicate.</p>\n<p>On the other hand, if the devices are on two different interfaces (one 5GHz and one Ethernet), packets will not be exchanged (as if the router does not forward multicast traffic to one interface to the others).</p>\n<p>All three interfaces support multicast (examining traffic with WireShark shows that every host is able to join the multicast group), but it seems like the router is blocking this cross-interface exchange.</p>\n<p>It really is a shitty router issue? Or I did something wrong on my end?</p>\n<p>Both the sender and receiver communicate with the multicast group with all their interfaces (as long as they have a link-local IP address).\ngetActiveInterfaces() is a method that gathers such interfaces and saves them in an array list.</p>\n<p>Sender snippet (getActiveInterfaces() returns only the ethernet connection):</p>\n<pre><code>static final int port = 10468;\n    public static void main(String[] args) {\n        try {\n            ArrayList&lt;NetworkInterface&gt; interfaces = getActiveInterfaces();\n            // Initialize sockets\n            ArrayList&lt;MulticastSocket&gt; sockets = new ArrayList&lt;&gt;(interfaces.size());\n            for (NetworkInterface networkInterface : interfaces) {\n                MulticastSocket socket = new MulticastSocket();\n                socket.setOption(StandardSocketOptions.IP_MULTICAST_TTL, 1);\n                socket.setNetworkInterface(networkInterface);\n                sockets.add(socket);\n            }\n\n        InetSocketAddress group = new InetSocketAddress(InetAddress.getByName(&quot;239.5.6.7&quot;), port);\n\n        byte[] buf = new byte[128];\n        String msg = &quot;Hello&quot;;\n        DatagramPacket toSend = new DatagramPacket(msg.getBytes(), msg.getBytes().length, group);\n\n        while (true) {\n            Thread.sleep(1000);\n            for (MulticastSocket socket : sockets)\n                socket.send(toSend);\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>Receiver snippet (getActiveInterfaces() returns only the 2.4GHz wireless connection):</p>\n<pre><code>static final int port = 10468;\npublic static void main(String[] args) {\n    try(MulticastSocket s = new MulticastSocket(port)) {\n        InetSocketAddress group = new InetSocketAddress(InetAddress.getByName(&quot;239.5.6.7&quot;), port);\n\n        ArrayList&lt;NetworkInterface&gt; activeInterfaces = getActiveInterfaces();\n        for (NetworkInterface networkInterface : activeInterfaces) {\n            s.joinGroup(group, networkInterface);\n        }\n\n        DatagramPacket rec = new DatagramPacket(new byte[128], 128);\n\n        while(true) {\n            s.receive(rec);\n            System.out.println(new String(rec.getData(), StandardCharsets.UTF_8).replaceAll(&quot;\\0&quot;, &quot;&quot;));\n        }\n\n    }catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","node.js","signature","cryptojs"],"answers":[{"comments":[{"owner":{"account_id":23397745,"reputation":31,"user_id":19355668,"display_name":"Derliodev"},"score":0,"creation_date":1676652403,"post_id":75486662,"comment_id":133186830,"body_markdown":"thx i fix with your post, I forget some, and when see your post I fix and now work it!","body":"thx i fix with your post, I forget some, and when see your post I fix and now work it!"}],"tags":[],"owner":{"account_id":12926276,"reputation":742,"user_id":9346879,"display_name":"Kreetchy"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676652515,"creation_date":1676650111,"answer_id":75486662,"question_id":75486574,"body_markdown":"Using `crypto` library we can do something similar in JS. Adapt as appropriate, this is just a reference.\r\n\r\n    const fs = require(&#39;fs&#39;);\r\n    const crypto = require(&#39;crypto&#39;);\r\n    \r\n    function generateSignature(key, stringToSign) {\r\n      const privateKey = fs.readFileSync(key, &#39;utf-8&#39;);\r\n    \r\n      const sign = crypto.createSign(&#39;RSA-SHA256&#39;);\r\n      sign.update(stringToSign);\r\n    \r\n      const signature = sign.sign(privateKey, &#39;base64&#39;);\r\n    \r\n      return signature;\r\n    }\r\n    \r\n    const key = &#39;myKey.pem&#39;;\r\n    const stringToSign = &#39;myData&#39;;\r\n    \r\n    const signature = generateSignature(key, stringToSign);\r\n    \r\n    console.log(`Signature:\\n\\n${signature}`);\r\n\r\n","title":"I need to replicate this from Java to JavaScript (NodeJs)","body":"<p>Using <code>crypto</code> library we can do something similar in JS. Adapt as appropriate, this is just a reference.</p>\n<pre><code>const fs = require('fs');\nconst crypto = require('crypto');\n\nfunction generateSignature(key, stringToSign) {\n  const privateKey = fs.readFileSync(key, 'utf-8');\n\n  const sign = crypto.createSign('RSA-SHA256');\n  sign.update(stringToSign);\n\n  const signature = sign.sign(privateKey, 'base64');\n\n  return signature;\n}\n\nconst key = 'myKey.pem';\nconst stringToSign = 'myData';\n\nconst signature = generateSignature(key, stringToSign);\n\nconsole.log(`Signature:\\n\\n${signature}`);\n</code></pre>\n"}],"owner":{"account_id":23397745,"reputation":31,"user_id":19355668,"display_name":"Derliodev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1676652515,"creation_date":1676649580,"question_id":75486574,"body_markdown":"I try to get the same functionality of java class to replicate in NodeJs, but I can&#39;t do it. I don&#39;t understand all the JavaCode, specialy when the instance sing() (what&#39;s return). for that can&#39;t replicate into NodeJs\r\n\r\nJava Code\r\n\r\n    public String generateSignature(String key, String stringToSign) throws Exception {\r\n        Signature signatureInstance = Signature.getInstance(&quot;SHA256WithRSA&quot;);\r\n\r\n        ServiceKeyRep keyRep = new ServiceKeyRep(KeyRep.Type.PRIVATE, &quot;RSA&quot;, &quot;PKCS#8&quot;,      Base64.getDecoder().decode(key));\r\n\r\n        PrivateKey resolvedPrivateKey = (PrivateKey) keyRep.readResolve();\r\n\r\n        signatureInstance.initSign(resolvedPrivateKey);           \r\n        \r\n        byte[] bytesToSign = stringToSign.getBytes(&quot;UTF-8&quot;);\r\n\r\n        \r\n        signatureInstance.update(bytesToSign);\r\n        \r\n        String signatureString = Base64.getEncoder().encodeToString(signatureBytes);\r\n\r\n        return signatureString;\r\n    }\r\n\r\nAnd I try this on Node JS\r\n\r\n\r\n    const privateKey = fs.readFileSync(&#39;myKey.pem&#39;, &#39;utf-8&#39;);\r\n    const stringToSign = new Int8Array([ myData ]);\r\n    const data = Buffer.from(stringToSign);  \r\n    const sign = crypto.sign(&quot;RSA-SHA256&quot;, data , privateKey);  \r\n    const signature = sign.toString(&#39;base64&#39;);  \r\n\r\n    //Printing the signature \r\n    console.log(`Signature:\\n\\n ${signature}`);\r\n\r\nbut when I print, the out is not the same","title":"I need to replicate this from Java to JavaScript (NodeJs)","body":"<p>I try to get the same functionality of java class to replicate in NodeJs, but I can't do it. I don't understand all the JavaCode, specialy when the instance sing() (what's return). for that can't replicate into NodeJs</p>\n<p>Java Code</p>\n<pre><code>public String generateSignature(String key, String stringToSign) throws Exception {\n    Signature signatureInstance = Signature.getInstance(&quot;SHA256WithRSA&quot;);\n\n    ServiceKeyRep keyRep = new ServiceKeyRep(KeyRep.Type.PRIVATE, &quot;RSA&quot;, &quot;PKCS#8&quot;,      Base64.getDecoder().decode(key));\n\n    PrivateKey resolvedPrivateKey = (PrivateKey) keyRep.readResolve();\n\n    signatureInstance.initSign(resolvedPrivateKey);           \n    \n    byte[] bytesToSign = stringToSign.getBytes(&quot;UTF-8&quot;);\n\n    \n    signatureInstance.update(bytesToSign);\n    \n    String signatureString = Base64.getEncoder().encodeToString(signatureBytes);\n\n    return signatureString;\n}\n</code></pre>\n<p>And I try this on Node JS</p>\n<pre><code>const privateKey = fs.readFileSync('myKey.pem', 'utf-8');\nconst stringToSign = new Int8Array([ myData ]);\nconst data = Buffer.from(stringToSign);  \nconst sign = crypto.sign(&quot;RSA-SHA256&quot;, data , privateKey);  \nconst signature = sign.toString('base64');  \n\n//Printing the signature \nconsole.log(`Signature:\\n\\n ${signature}`);\n</code></pre>\n<p>but when I print, the out is not the same</p>\n"},{"tags":["java","kotlin","sockets","io","null-character"],"comments":[{"owner":{"account_id":6589671,"reputation":10127,"user_id":5091346,"accept_rate":72,"display_name":"Andrii Abramov"},"score":0,"creation_date":1497365972,"post_id":44525033,"comment_id":76042045,"body_markdown":"Possible duplicate of [In Kotlin, how do I read the entire contents of an InputStream into a String?](https://stackoverflow.com/questions/39500045/in-kotlin-how-do-i-read-the-entire-contents-of-an-inputstream-into-a-string)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/39500045/in-kotlin-how-do-i-read-the-entire-contents-of-an-inputstream-into-a-string\">In Kotlin, how do I read the entire contents of an InputStream into a String?</a>"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1497372263,"post_id":44525033,"comment_id":76046254,"body_markdown":"We don&#39;t know what the format of the data is. If you are reading until you receive a zero *byte*, then read in bytes and check for this zero byte. If you are reading an encoded byte stream for a specific charset then create a proper Reader for that charset and read in and examine individual characters.","body":"We don&#39;t know what the format of the data is. If you are reading until you receive a zero <i>byte</i>, then read in bytes and check for this zero byte. If you are reading an encoded byte stream for a specific charset then create a proper Reader for that charset and read in and examine individual characters."},{"owner":{"account_id":10746099,"reputation":13,"user_id":7907368,"display_name":"Catlin Cox"},"score":0,"creation_date":1497379700,"post_id":44525033,"comment_id":76050359,"body_markdown":"I am reading up to the null character of the stream.  The stream is coming back as UTF-8 from a tomcat server.","body":"I am reading up to the null character of the stream.  The stream is coming back as UTF-8 from a tomcat server."},{"owner":{"account_id":10746099,"reputation":13,"user_id":7907368,"display_name":"Catlin Cox"},"score":0,"creation_date":1497380382,"post_id":44525033,"comment_id":76050750,"body_markdown":"The default charset used by the buffered reader in Kotlin is UTF-8 so not passing the encoding is not what is causing the problem.","body":"The default charset used by the buffered reader in Kotlin is UTF-8 so not passing the encoding is not what is causing the problem."}],"answers":[{"tags":[],"owner":{"account_id":108728,"reputation":31809,"user_id":288456,"display_name":"Alexander Udalov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1497525676,"creation_date":1497525676,"answer_id":44566217,"question_id":44525033,"body_markdown":"Here&#39;s a more-or-less direct translation of your Java code to Kotlin:\r\n\r\n    fun readUpToNull(inputStream: InputStream): String {\r\n        return buildString {\r\n            while (true) {\r\n                val ch = inputStream.read().toChar()\r\n                if (ch == &#39;\\u0000&#39;) break\r\n                append(ch)\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Reading up to null character in Kotlin character by character from socket response","body":"<p>Here's a more-or-less direct translation of your Java code to Kotlin:</p>\n\n<pre><code>fun readUpToNull(inputStream: InputStream): String {\n    return buildString {\n        while (true) {\n            val ch = inputStream.read().toChar()\n            if (ch == '\\u0000') break\n            append(ch)\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27570471,"reputation":7,"user_id":21041769,"display_name":"code-lemur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676640930,"creation_date":1676640930,"answer_id":75484993,"question_id":44525033,"body_markdown":"I had a similar issue where I tried to convert a null character terminated string from a ByteArray to a string.\r\n\r\nWhere the Bytearray looked like this:\r\n\r\n    [123, 57, 46, 52, 125, 10, 0 , 17, 53, 12] // {9.4}\r\n\r\nWhere the value 0 represents the null character &#39;\\0&#39;. After the null character there&#39;s various garbage which I want to ignore.\r\n\r\nSince its easy to convert a input stream into array the solution below will work for input streams from sockets.\r\n\r\n    val inputByteArray : ByteArray = inputStream.readBytes()\r\n    val inputString : String = String(inputByteArray).substringBefore(&#39;\\u0000&#39;) // Truncate string after null character","title":"Reading up to null character in Kotlin character by character from socket response","body":"<p>I had a similar issue where I tried to convert a null character terminated string from a ByteArray to a string.</p>\n<p>Where the Bytearray looked like this:</p>\n<pre><code>[123, 57, 46, 52, 125, 10, 0 , 17, 53, 12] // {9.4}\n</code></pre>\n<p>Where the value 0 represents the null character '\\0'. After the null character there's various garbage which I want to ignore.</p>\n<p>Since its easy to convert a input stream into array the solution below will work for input streams from sockets.</p>\n<pre><code>val inputByteArray : ByteArray = inputStream.readBytes()\nval inputString : String = String(inputByteArray).substringBefore('\\u0000') // Truncate string after null character\n</code></pre>\n"}],"owner":{"account_id":10746099,"reputation":13,"user_id":7907368,"display_name":"Catlin Cox"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1780,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44566217,"answer_count":2,"score":1,"last_activity_date":1676652498,"creation_date":1497365803,"question_id":44525033,"body_markdown":"So say I have a stream being returned from a socket connection.  The stream is being returned terminated with &#39;\\0&#39; but in kotlin I can&#39;t seem to get this to work the same way.  The code below is in Java and I am probably just over looking something simple. \r\n    \r\n    public final String readUpToNull(InputStream inputStream) throws IOException {\r\n        StringBuilder builder = new StringBuilder();\r\n        char ch;\r\n        while ((ch = (char) inputStream.read()) != &#39;\\0&#39;) {\r\n            builder.append(ch);\r\n        }\r\n        return builder.toString();\r\n    }\r\n    \r\nIf anyone knows how to do this while communicating with a socket with the streams in Kotlin. The other post that is on here is covering reading the full string of text.  The socket is returning a longer string delimited by the &#39;\\0&#39;.  So the issue is I need to be able to load up the first string then the second string.\r\n    \r\n    Example\r\n    \r\n    Server : hello\\0 xml stuff all right here\\0\r\n    Client: read hello\r\n    Client: read xml stuff all right here\r\n    \r\nExample code from kotlinlang.org shows this as a solution using the Java to Kotlin converter.  Note that this code does not compile because of the assignment in the while statement.\r\n    \r\n    @Throws(IOException::class)\r\n    fun readUpToNull(inputStream:InputStream):String {\r\n        val builder = StringBuilder()\r\n        val ch:Char\r\n        while ((ch = inputStream.read() as Char) != &#39;\\u0000&#39;)\r\n        {\r\n          builder.append(ch)\r\n        }\r\n        return builder.toString()\r\n    }\r\n    \r\nHere is what I have so far but the this implementation is just hanging up the processes and is locking the unit test for the API call.\r\n\r\n    fun readUpToNull(stream: InputStream): String {\r\n        val reader = BufferedReader(InputStreamReader(stream))\r\n        val builder = StringBuilder()\r\n        while (true) {\r\n            val characters = reader.readText().toCharArray()\r\n            characters.takeWhile { it != &#39;\\u0000&#39; }.forEach { builder.append(it) }\r\n            break\r\n        }\r\n        return builder.toString()\r\n    }\r\n\r\n","title":"Reading up to null character in Kotlin character by character from socket response","body":"<p>So say I have a stream being returned from a socket connection.  The stream is being returned terminated with '\\0' but in kotlin I can't seem to get this to work the same way.  The code below is in Java and I am probably just over looking something simple. </p>\n\n<pre><code>public final String readUpToNull(InputStream inputStream) throws IOException {\n    StringBuilder builder = new StringBuilder();\n    char ch;\n    while ((ch = (char) inputStream.read()) != '\\0') {\n        builder.append(ch);\n    }\n    return builder.toString();\n}\n</code></pre>\n\n<p>If anyone knows how to do this while communicating with a socket with the streams in Kotlin. The other post that is on here is covering reading the full string of text.  The socket is returning a longer string delimited by the '\\0'.  So the issue is I need to be able to load up the first string then the second string.</p>\n\n<pre><code>Example\n\nServer : hello\\0 xml stuff all right here\\0\nClient: read hello\nClient: read xml stuff all right here\n</code></pre>\n\n<p>Example code from kotlinlang.org shows this as a solution using the Java to Kotlin converter.  Note that this code does not compile because of the assignment in the while statement.</p>\n\n<pre><code>@Throws(IOException::class)\nfun readUpToNull(inputStream:InputStream):String {\n    val builder = StringBuilder()\n    val ch:Char\n    while ((ch = inputStream.read() as Char) != '\\u0000')\n    {\n      builder.append(ch)\n    }\n    return builder.toString()\n}\n</code></pre>\n\n<p>Here is what I have so far but the this implementation is just hanging up the processes and is locking the unit test for the API call.</p>\n\n<pre><code>fun readUpToNull(stream: InputStream): String {\n    val reader = BufferedReader(InputStreamReader(stream))\n    val builder = StringBuilder()\n    while (true) {\n        val characters = reader.readText().toCharArray()\n        characters.takeWhile { it != '\\u0000' }.forEach { builder.append(it) }\n        break\n    }\n    return builder.toString()\n}\n</code></pre>\n"},{"tags":["java","java-9","java-module"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1522178699,"post_id":49520858,"comment_id":86047622,"body_markdown":"In which directory is the compiled module file? Seems like the directory you need to add to module path is `bin\\com.pantech.myModule`","body":"In which directory is the compiled module file? Seems like the directory you need to add to module path is <code>bin\\com.pantech.myModule</code>"},{"owner":{"account_id":13238992,"reputation":321,"user_id":9560177,"display_name":"D. Pante"},"score":0,"creation_date":1522179134,"post_id":49520858,"comment_id":86047868,"body_markdown":"The compiled module file (module-info.class) is located in the bin\\com.pantech.myModule directory.","body":"The compiled module file (module-info.class) is located in the bin\\com.pantech.myModule directory."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1522202567,"post_id":49520858,"comment_id":86055675,"body_markdown":"Could you share the class definition(starting from package declaration) and module definition as well, for the above to be reproduced, please? And honestly, for such experiments, I take [the quick-start here](http://openjdk.java.net/projects/jigsaw/quick-start) for reference. (you might want to cross verify the compilation commands as well)","body":"Could you share the class definition(starting from package declaration) and module definition as well, for the above to be reproduced, please? And honestly, for such experiments, I take <a href=\"http://openjdk.java.net/projects/jigsaw/quick-start\" rel=\"nofollow noreferrer\">the quick-start here</a> for reference. (you might want to cross verify the compilation commands as well)"},{"owner":{"account_id":13238992,"reputation":321,"user_id":9560177,"display_name":"D. Pante"},"score":0,"creation_date":1522270864,"post_id":49520858,"comment_id":86095893,"body_markdown":"Module definition file (module-info.java) located incom.pantech.myModule directory contains the following: module myModule {}  The source code for the HelloWorld file contains the following:\npackage com.pantech.myModule;\npublic class HelloWorld {\n   public static void main(String [] args) {\n      System.out.println(&quot;Hello World from module&quot;);\n   }\n}","body":"Module definition file (module-info.java) located incom.pantech.myModule directory contains the following: module myModule {}  The source code for the HelloWorld file contains the following: package com.pantech.myModule; public class HelloWorld {    public static void main(String [] args) {       System.out.println(&quot;Hello World from module&quot;);    } }"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1522287137,"post_id":49520858,"comment_id":86100770,"body_markdown":"@D.Pante The [answer by tretegfdg](https://stackoverflow.com/a/49546098/1746118) seems to be pointing out the mistake you made. That&#39;s why I suggest referring to the guide as well. The module name there is same as the package name `com.greetings`(in the sample), hence their command works. Also, refer to https://docs.oracle.com/javase/9/tools/java.htm for more details on the commands used.","body":"@D.Pante The <a href=\"https://stackoverflow.com/a/49546098/1746118\">answer by tretegfdg</a> seems to be pointing out the mistake you made. That&#39;s why I suggest referring to the guide as well. The module name there is same as the package name <code>com.greetings</code>(in the sample), hence their command works. Also, refer to <a href=\"https://docs.oracle.com/javase/9/tools/java.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/tools/java.htm</a> for more details on the commands used."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1558447244,"post_id":49520858,"comment_id":99098747,"body_markdown":"In Netbeans, I just used `Clean and Rebuild Project` and it worked.","body":"In Netbeans, I just used <code>Clean and Rebuild Project</code> and it worked."}],"answers":[{"comments":[{"owner":{"account_id":13238992,"reputation":321,"user_id":9560177,"display_name":"D. Pante"},"score":2,"creation_date":1522345125,"post_id":49546098,"comment_id":86132239,"body_markdown":"Thanks.  The problem was solved by changing the module name in the module-info.java file to com.pantech.myModule instead of just myModule.  The solution should have been obvious to me, but I guess that I was looking for something more obscure.","body":"Thanks.  The problem was solved by changing the module name in the module-info.java file to com.pantech.myModule instead of just myModule.  The solution should have been obvious to me, but I guess that I was looking for something more obscure."},{"owner":{"account_id":16208202,"reputation":448,"user_id":11702891,"display_name":"Bhaumik Bhatt"},"score":2,"creation_date":1612160119,"post_id":49546098,"comment_id":116669723,"body_markdown":"Can you please explain? I am still not able to figure out what changes i am supposed to make.","body":"Can you please explain? I am still not able to figure out what changes i am supposed to make."}],"tags":[],"owner":{"account_id":13248716,"reputation":61,"user_id":9566931,"display_name":"tretegfdg"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1575702592,"creation_date":1522282286,"answer_id":49546098,"question_id":49520858,"body_markdown":"You say that your `module-info.java` contains \r\n\r\n    module myModule {}\r\n\r\nThat means it declares a module called `myModule`, **not** `com.pantech.myModule`. Pointing this from the command format: \r\n\r\n     -m &lt;module-name&gt;/&lt;main-class&gt;","title":"Error occurred during initialization of boot layer FindException: Module not found","body":"<p>You say that your <code>module-info.java</code> contains </p>\n\n<pre><code>module myModule {}\n</code></pre>\n\n<p>That means it declares a module called <code>myModule</code>, <strong>not</strong> <code>com.pantech.myModule</code>. Pointing this from the command format: </p>\n\n<pre><code> -m &lt;module-name&gt;/&lt;main-class&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10769829,"reputation":413,"user_id":7923597,"display_name":"Rahat Rajdev"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1575690851,"creation_date":1531485633,"answer_id":51325339,"question_id":49520858,"body_markdown":"The reason behind this is that meanwhile creating your own class, you had also accepted to create a default class as prescribed by your IDE and after writing your code in your own class, you are getting such an error. In order to eliminate this, go to the PROJECT folder  `src`  Default package. Keep only one class (in which you had written code) and delete others.\r\n\r\nAfter that, run your program and it will definitely run without any error.","title":"Error occurred during initialization of boot layer FindException: Module not found","body":"<p>The reason behind this is that meanwhile creating your own class, you had also accepted to create a default class as prescribed by your IDE and after writing your code in your own class, you are getting such an error. In order to eliminate this, go to the PROJECT folder  <code>src</code>  Default package. Keep only one class (in which you had written code) and delete others.</p>\n\n<p>After that, run your program and it will definitely run without any error.</p>\n"},{"tags":[],"owner":{"account_id":16157089,"reputation":51,"user_id":11664108,"display_name":"Abbe"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1575736625,"creation_date":1560856338,"answer_id":56647810,"question_id":49520858,"body_markdown":"I had the same issue and I fixed it this way:\r\n\r\n 1. Deleted all projects from eclipse, not from the computer.\r\n 2. Created a new project and as soon as you write the name of your project, you get another window, in which is written: &quot;Create module-info.java&quot;. I just clicked &quot;don&#39;t create&quot;.\r\n 3. Created a package. Let us call the package `mywork`.\r\n 4. Created a Java class inside the package `myWork`. Let us call the class `HelloWorld`.\r\n 5. I run the file normally and it was working fine.\r\n\r\nNote: First, make sure that Java is running properly using the CMD command in that way you will understand the problem is on eclipse and not on JDK.","title":"Error occurred during initialization of boot layer FindException: Module not found","body":"<p>I had the same issue and I fixed it this way:</p>\n\n<ol>\n<li>Deleted all projects from eclipse, not from the computer.</li>\n<li>Created a new project and as soon as you write the name of your project, you get another window, in which is written: \"Create module-info.java\". I just clicked \"don't create\".</li>\n<li>Created a package. Let us call the package <code>mywork</code>.</li>\n<li>Created a Java class inside the package <code>myWork</code>. Let us call the class <code>HelloWorld</code>.</li>\n<li>I run the file normally and it was working fine.</li>\n</ol>\n\n<p>Note: First, make sure that Java is running properly using the CMD command in that way you will understand the problem is on eclipse and not on JDK.</p>\n"},{"tags":[],"owner":{"account_id":11657588,"reputation":1,"user_id":8536838,"display_name":"manju450"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1568682810,"creation_date":1568682810,"answer_id":57966136,"question_id":49520858,"body_markdown":"I faced same problem when I updated the Java version to 12.x. I was executing my project through Eclipse IDE. I am not sure whether this error is caused by compatibility issues.\r\n\r\nHowever, I removed 12.x from my system and installed 8.x and my project started working fine.","title":"Error occurred during initialization of boot layer FindException: Module not found","body":"<p>I faced same problem when I updated the Java version to 12.x. I was executing my project through Eclipse IDE. I am not sure whether this error is caused by compatibility issues.</p>\n\n<p>However, I removed 12.x from my system and installed 8.x and my project started working fine.</p>\n"},{"comments":[{"owner":{"account_id":2936066,"reputation":103,"user_id":2514912,"display_name":"bunkinet"},"score":1,"creation_date":1642321416,"post_id":59745710,"comment_id":125036066,"body_markdown":"I faced the same issues and this fixed it","body":"I faced the same issues and this fixed it"},{"owner":{"account_id":3233345,"reputation":69,"user_id":2728077,"accept_rate":25,"display_name":"mujib009"},"score":0,"creation_date":1659623201,"post_id":59745710,"comment_id":129342899,"body_markdown":"thanks Ankur, did the same and issue got fixed.","body":"thanks Ankur, did the same and issue got fixed."}],"tags":[],"owner":{"account_id":5979636,"reputation":119,"user_id":4699163,"display_name":"Ankur"},"comment_count":2,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1579067043,"creation_date":1579067043,"answer_id":59745710,"question_id":49520858,"body_markdown":"I had the same issue while executing my selenium tests and I removed the selenium dependencies from the ModulePath to ClassPath under Build path in eclipse and it worked!","title":"Error occurred during initialization of boot layer FindException: Module not found","body":"<p>I had the same issue while executing my selenium tests and I removed the selenium dependencies from the ModulePath to ClassPath under Build path in eclipse and it worked!</p>\n"},{"comments":[{"owner":{"account_id":16208202,"reputation":448,"user_id":11702891,"display_name":"Bhaumik Bhatt"},"score":0,"creation_date":1612160070,"post_id":60558171,"comment_id":116669715,"body_markdown":"Tries Same thing but it does not resolve the error","body":"Tries Same thing but it does not resolve the error"}],"tags":[],"owner":{"account_id":17225824,"reputation":29,"user_id":12471483,"display_name":"Kyler Conena"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1583473121,"creation_date":1583473121,"answer_id":60558171,"question_id":49520858,"body_markdown":"I solved this issue by going into Properties -&gt; Java Build Path and reordering my source folder so it was above the JRE System Library.","title":"Error occurred during initialization of boot layer FindException: Module not found","body":"<p>I solved this issue by going into Properties -> Java Build Path and reordering my source folder so it was above the JRE System Library.</p>\n"},{"tags":[],"owner":{"account_id":5921372,"reputation":55,"user_id":4839662,"display_name":"Emiliyana Kalinova"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602342143,"creation_date":1602342143,"answer_id":64294844,"question_id":49520858,"body_markdown":"I just encountered the same issue after adding the bin folder to .gitignore, not sure if that caused the issue. \r\n\r\nI solved it by going to Project/Properties/Build Path and I removed the scr folder and added it again.","title":"Error occurred during initialization of boot layer FindException: Module not found","body":"<p>I just encountered the same issue after adding the bin folder to .gitignore, not sure if that caused the issue.</p>\n<p>I solved it by going to Project/Properties/Build Path and I removed the scr folder and added it again.</p>\n"},{"tags":[],"owner":{"account_id":14060187,"reputation":29,"user_id":10156461,"display_name":"Romio Ranjan Sahoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602690429,"creation_date":1602690429,"answer_id":64357018,"question_id":49520858,"body_markdown":"check your project build in jdk 9 or not above that eclipse is having some issues with the modules. Change it to jdk 9 then it will run fine","title":"Error occurred during initialization of boot layer FindException: Module not found","body":"<p>check your project build in jdk 9 or not above that eclipse is having some issues with the modules. Change it to jdk 9 then it will run fine</p>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1615351882,"creation_date":1609295049,"answer_id":65501257,"question_id":49520858,"body_markdown":"I had similar issue, the problem I faced was I added the `selenium-server-standalone-3.141.59.jar` under `modulepath` instead it should be under `classpath`\r\n\r\nso select `classpath` via `(project -&gt; Properties -&gt; Java Bbuild Path -&gt; Libraries)`\r\nadd the downloaded latest [jar][1]\r\n\r\n\r\nAfter adding it must be something like this\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAnd appropriate driver for browser has to be downloaded for me i checked and downloaded the same version of chrom for chrome [driver][3] and added in the C:\\Program Files\\Java \r\n\r\n\r\n  [1]: https://www.selenium.dev/downloads/\r\n  [2]: https://i.stack.imgur.com/Kbjk2.png\r\n  [3]: https://chromedriver.chromium.org/downloads\r\n\r\nAnd following is the code that worked fine for me\r\n\r\n\tpublic class TestuiAautomation {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\tSystem.out.println(&quot;Jai Ganesha&quot;);\r\n\t\t\ttry {\r\n\t\t\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files\\\\Java\\\\chromedriver.exe&quot;);\r\n\t\t\t\tSystem.out.println(System.getProperty(&quot;webdriver.chrome.driver&quot;));\r\n\t\t\t\tChromeOptions chromeOptions = new ChromeOptions();\r\n\t\t\t\tchromeOptions.addArguments(&quot;no-sandbox&quot;);\r\n\t\t\t\tchromeOptions.addArguments(&quot;--test-type&quot;);\r\n\t\t\t\tchromeOptions.addArguments(&quot;disable-extensions&quot;);\r\n\t\t\t\tchromeOptions.addArguments(&quot;--start-maximized&quot;);\r\n\t\t\t\tWebDriver driver = new ChromeDriver(chromeOptions);\r\n\t\t\t\tdriver.get(&quot;https://www.google.com&quot;);\r\n\t\t\t\tSystem.out.println(&quot;Google is selected&quot;);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tSystem.err.println(e);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n","title":"Error occurred during initialization of boot layer FindException: Module not found","body":"<p>I had similar issue, the problem I faced was I added the <code>selenium-server-standalone-3.141.59.jar</code> under <code>modulepath</code> instead it should be under <code>classpath</code></p>\n<p>so select <code>classpath</code> via <code>(project -&gt; Properties -&gt; Java Bbuild Path -&gt; Libraries)</code>\nadd the downloaded latest <a href=\"https://www.selenium.dev/downloads/\" rel=\"noreferrer\">jar</a></p>\n<p>After adding it must be something like this</p>\n<p><a href=\"https://i.stack.imgur.com/Kbjk2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Kbjk2.png\" alt=\"enter image description here\" /></a></p>\n<p>And appropriate driver for browser has to be downloaded for me i checked and downloaded the same version of chrom for chrome <a href=\"https://chromedriver.chromium.org/downloads\" rel=\"noreferrer\">driver</a> and added in the C:\\Program Files\\Java</p>\n<p>And following is the code that worked fine for me</p>\n<pre><code>public class TestuiAautomation {\n\n    public static void main(String[] args) {\n\n        System.out.println(&quot;Jai Ganesha&quot;);\n        try {\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files\\\\Java\\\\chromedriver.exe&quot;);\n            System.out.println(System.getProperty(&quot;webdriver.chrome.driver&quot;));\n            ChromeOptions chromeOptions = new ChromeOptions();\n            chromeOptions.addArguments(&quot;no-sandbox&quot;);\n            chromeOptions.addArguments(&quot;--test-type&quot;);\n            chromeOptions.addArguments(&quot;disable-extensions&quot;);\n            chromeOptions.addArguments(&quot;--start-maximized&quot;);\n            WebDriver driver = new ChromeDriver(chromeOptions);\n            driver.get(&quot;https://www.google.com&quot;);\n            System.out.println(&quot;Google is selected&quot;);\n        } catch (Exception e) {\n            System.err.println(e);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15195459,"reputation":714,"user_id":10964962,"display_name":"Jacob Archambault"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615843212,"creation_date":1615843212,"answer_id":66645835,"question_id":49520858,"body_markdown":"This problem occurred for me after deleting my bin folder in order to get it out of my git history. To fix it\r\nIn Eclipse: \r\n1. Delete the project (from Eclipse, not from disk)\r\n2. Reimport it. ","title":"Error occurred during initialization of boot layer FindException: Module not found","body":"<p>This problem occurred for me after deleting my bin folder in order to get it out of my git history. To fix it\nIn Eclipse:</p>\n<ol>\n<li>Delete the project (from Eclipse, not from disk)</li>\n<li>Reimport it.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13193872,"reputation":75,"user_id":9529405,"display_name":"Md Nuhel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624374876,"creation_date":1624374876,"answer_id":68086245,"question_id":49520858,"body_markdown":"Try removing the JRE System Library from the Java build path of the project. Then add that again under the Modules by clicking Add Library.","title":"Error occurred during initialization of boot layer FindException: Module not found","body":"<p>Try removing the JRE System Library from the Java build path of the project. Then add that again under the Modules by clicking Add Library.</p>\n"},{"tags":[],"owner":{"account_id":9751904,"reputation":180,"user_id":7229904,"display_name":"dKucharczyk"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657190639,"creation_date":1657190639,"answer_id":72896398,"question_id":49520858,"body_markdown":"I had a similar problem when for the default package. Just add a package and move your main class to it, and maybe this will resolve your problems.","title":"Error occurred during initialization of boot layer FindException: Module not found","body":"<p>I had a similar problem when for the default package. Just add a package and move your main class to it, and maybe this will resolve your problems.</p>\n"},{"tags":[],"owner":{"account_id":793512,"reputation":788,"user_id":900699,"accept_rate":17,"display_name":"Graham Seed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660040142,"creation_date":1660040142,"answer_id":73290130,"question_id":49520858,"body_markdown":"I struggled with this too in Eclipse and everything was working fine on the command-line but I kept getting a &quot;module not found&quot; when run in Eclipse. When I found the &quot;Use &#39;release&#39; option&quot; under Java Compiler and ensured it is ticked then the app runs fine in Eclipse. That&#39;s using J17 and Eclipse 2022.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bo3yN.png","title":"Error occurred during initialization of boot layer FindException: Module not found","body":"<p>I struggled with this too in Eclipse and everything was working fine on the command-line but I kept getting a &quot;module not found&quot; when run in Eclipse. When I found the &quot;Use 'release' option&quot; under Java Compiler and ensured it is ticked then the app runs fine in Eclipse. That's using J17 and Eclipse 2022.</p>\n<p><a href=\"https://i.stack.imgur.com/Bo3yN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bo3yN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8038482,"reputation":37,"user_id":6060897,"display_name":"ibrahim "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676652289,"creation_date":1676652289,"answer_id":75487044,"question_id":49520858,"body_markdown":"I have had a similar situation when I have imported an existing project. So, go to *Run configurations*, and create a **new** run configuration instead of replacing or reusing an exisitng one. the old running configuration may create the problem. ","title":"Error occurred during initialization of boot layer FindException: Module not found","body":"<p>I have had a similar situation when I have imported an existing project. So, go to <em>Run configurations</em>, and create a <strong>new</strong> run configuration instead of replacing or reusing an exisitng one. the old running configuration may create the problem.</p>\n"}],"owner":{"account_id":13238992,"reputation":321,"user_id":9560177,"display_name":"D. Pante"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310556,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":14,"score":28,"last_activity_date":1676652289,"creation_date":1522178357,"question_id":49520858,"body_markdown":"Executing a simple &quot;Hello World&quot; program using Java 9 results in the following error message:\r\n\r\n&gt; Error occurred during initialization of boot layer  \r\n&gt; java.lang.module.FindException: Module com.pantech.myModule not found\r\n\r\nThe command line that I executed was:\r\n\r\n    java --module-path bin -m com.pantech.myModule/com.pantech.myModule.HelloWorld\r\n\r\nThis command line is executed from the parent directory of my `bin` directory that contains all of the `.class` bytecode files.\r\n\r\nThe `module-info.class` file is located in the `com.pantech.myModule` directory that is located in the `bin` directory. The `HelloWorld.class` file contains the main method and is located in the package directory within the `com.pantech.myModule` directory. Therefore, the pathname of the `HelloWorld.class` file is ***bin\\com.pantech.myModule\\com\\pantech\\myModule\\HelloWorld.class***.  \r\n\r\nThe `HelloWorld` class is in the `com.pantech.myModule` package (package name same as the module name).  \r\n\r\nI am using Windows 10 as the Operating System. From everything that I have read, the above command line should be correct. Any suggestions on how to fix this?\r\n","title":"Error occurred during initialization of boot layer FindException: Module not found","body":"<p>Executing a simple \"Hello World\" program using Java 9 results in the following error message:</p>\n\n<blockquote>\n  <p>Error occurred during initialization of boot layer<br>\n  java.lang.module.FindException: Module com.pantech.myModule not found</p>\n</blockquote>\n\n<p>The command line that I executed was:</p>\n\n<pre><code>java --module-path bin -m com.pantech.myModule/com.pantech.myModule.HelloWorld\n</code></pre>\n\n<p>This command line is executed from the parent directory of my <code>bin</code> directory that contains all of the <code>.class</code> bytecode files.</p>\n\n<p>The <code>module-info.class</code> file is located in the <code>com.pantech.myModule</code> directory that is located in the <code>bin</code> directory. The <code>HelloWorld.class</code> file contains the main method and is located in the package directory within the <code>com.pantech.myModule</code> directory. Therefore, the pathname of the <code>HelloWorld.class</code> file is <strong><em>bin\\com.pantech.myModule\\com\\pantech\\myModule\\HelloWorld.class</em></strong>.  </p>\n\n<p>The <code>HelloWorld</code> class is in the <code>com.pantech.myModule</code> package (package name same as the module name).  </p>\n\n<p>I am using Windows 10 as the Operating System. From everything that I have read, the above command line should be correct. Any suggestions on how to fix this?</p>\n"},{"tags":["java","android","kotlin","ads"],"answers":[{"tags":[],"owner":{"account_id":442800,"reputation":45812,"user_id":833622,"accept_rate":58,"display_name":"Sherif elKhatib"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676652147,"creation_date":1676651706,"answer_id":75486945,"question_id":75486812,"body_markdown":"According to the docs you linked:\r\n\r\n&gt;When a click is performed on a custom format ad, there are three possible responses from the SDK, attempted in this order:\r\n&gt;     \r\n&gt;     \r\n&gt; \r\n&gt;1. Invoke the OnCustomClickListener from AdLoader, if one was provided.\r\n&gt;2. For each of the ad&#39;s deep link URLs, attempt to locate a content resolver and start the first one that resolves.\r\n&gt;3. Open a browser and navigate to the ad&#39;s traditional Destination URL.\r\n\r\nAlso:\r\n\r\n&gt; If you pass a listener object in, the SDK instead invokes its onCustomClick method and takes no further action. \r\n\r\nTherefore, it seems you have to **pass a null OnCustomClickListener**.","title":"Google ad click is not opening the external web browser","body":"<p>According to the docs you linked:</p>\n<blockquote>\n<p>When a click is performed on a custom format ad, there are three possible responses from the SDK, attempted in this order:</p>\n<ol>\n<li>Invoke the OnCustomClickListener from AdLoader, if one was provided.</li>\n<li>For each of the ad's deep link URLs, attempt to locate a content resolver and start the first one that resolves.</li>\n<li>Open a browser and navigate to the ad's traditional Destination URL.</li>\n</ol>\n</blockquote>\n<p>Also:</p>\n<blockquote>\n<p>If you pass a listener object in, the SDK instead invokes its onCustomClick method and takes no further action.</p>\n</blockquote>\n<p>Therefore, it seems you have to <strong>pass a null OnCustomClickListener</strong>.</p>\n"}],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75486945,"answer_count":1,"score":0,"last_activity_date":1676652147,"creation_date":1676650924,"question_id":75486812,"body_markdown":"I am trying to implement the ad in my app with Custom Native Ad Format - https://developers.google.com/ad-manager/mobile-ads-sdk/android/native/custom-formats#java_1\r\n\r\nSo, according to the documentation I am going with the approach described there and creating the ad\r\n\r\n```\r\n...\r\nprivate void setListeners() {\r\n...\r\n    imageView.setOnClickListener(v -&gt; {\r\n        nativeCustomFormatAd.performClick(&quot;IMAGE&quot;);\r\n    });\r\n...\r\n}\r\n\r\nprivate NativeCustomFormatAd nativeCustomFormatAd;\r\n\r\nAdLoader adLoader = new AdLoader.Builder(context, &quot;/6499/example/native&quot;)\r\n    .forCustomFormatAd(&quot;10063170&quot;,\r\n      new NativeCustomFormatAd.OnCustomFormatAdLoadedListener() {\r\n          @Override\r\n          public void onCustomFormatAdLoaded(NativeCustomFormatAd ad) {\r\n              // Show the custom format and record an impression.\r\n\r\n             nativeCustomFormatAd = ad;\r\n              Drawable drawable = vm.nativeCustomFormatAd.getImage(&quot;IMAGE&quot;).getDrawable();\r\n              imageView.setDrawable(drawable);\r\n          }\r\n      },\r\n      new NativeCustomFormatAd.OnCustomClickListener() {\r\n          @Override\r\n          public void onCustomClick(NativeCustomFormatAd ad, String s) {\r\n              // Handle the click action\r\n          }\r\n      })\r\n    .withAdListener( ... )\r\n    .withNativeAdOptions( ... )\r\n    .build();\r\n\r\n\r\n            @SuppressLint(&quot;VisibleForTests&quot;)\r\n            AdManagerAdRequest adManagerAdRequest = new AdManagerAdRequest.Builder().build();\r\n            adLoader.loadAd(adManagerAdRequest);\r\n...\r\n```\r\n\r\nSo, it looks pretty simple I try to make a request for the ad then I got (in a callback) `NativeCustomFormatAd`, save it as a class member, and along with it get `drawable` and set it to the `imageView` (to present it in the UI). Once a user clicks on the `imageView` I get an event in the click listener and invoke `nativeCustomFormatAd.performClick(&quot;IMAGE&quot;);`. \r\n\r\nThe problem is that I expect that once I transfer the ad click to the SDK (by nativeCustomFormatAd.performClick(&quot;IMAGE&quot;);) SDK is supposed to open the external browser, but instead nothing happens. \r\n\r\n**P.S.** I am sure that `nativeCustomFormatAd.performClick(&quot;IMAGE&quot;);` getting invoked and also I see that SDK gets the click as I got a callback event here: \r\n\r\n```\r\n...\r\n      new NativeCustomFormatAd.OnCustomClickListener() {\r\n          @Override\r\n          public void onCustomClick(NativeCustomFormatAd ad, String s) {\r\n              // Handle the click action\r\n          }\r\n      })\r\n...\r\n```\r\n\r\nWhat am I missing here?\r\n\r\n","title":"Google ad click is not opening the external web browser","body":"<p>I am trying to implement the ad in my app with Custom Native Ad Format - <a href=\"https://developers.google.com/ad-manager/mobile-ads-sdk/android/native/custom-formats#java_1\" rel=\"nofollow noreferrer\">https://developers.google.com/ad-manager/mobile-ads-sdk/android/native/custom-formats#java_1</a></p>\n<p>So, according to the documentation I am going with the approach described there and creating the ad</p>\n<pre><code>...\nprivate void setListeners() {\n...\n    imageView.setOnClickListener(v -&gt; {\n        nativeCustomFormatAd.performClick(&quot;IMAGE&quot;);\n    });\n...\n}\n\nprivate NativeCustomFormatAd nativeCustomFormatAd;\n\nAdLoader adLoader = new AdLoader.Builder(context, &quot;/6499/example/native&quot;)\n    .forCustomFormatAd(&quot;10063170&quot;,\n      new NativeCustomFormatAd.OnCustomFormatAdLoadedListener() {\n          @Override\n          public void onCustomFormatAdLoaded(NativeCustomFormatAd ad) {\n              // Show the custom format and record an impression.\n\n             nativeCustomFormatAd = ad;\n              Drawable drawable = vm.nativeCustomFormatAd.getImage(&quot;IMAGE&quot;).getDrawable();\n              imageView.setDrawable(drawable);\n          }\n      },\n      new NativeCustomFormatAd.OnCustomClickListener() {\n          @Override\n          public void onCustomClick(NativeCustomFormatAd ad, String s) {\n              // Handle the click action\n          }\n      })\n    .withAdListener( ... )\n    .withNativeAdOptions( ... )\n    .build();\n\n\n            @SuppressLint(&quot;VisibleForTests&quot;)\n            AdManagerAdRequest adManagerAdRequest = new AdManagerAdRequest.Builder().build();\n            adLoader.loadAd(adManagerAdRequest);\n...\n</code></pre>\n<p>So, it looks pretty simple I try to make a request for the ad then I got (in a callback) <code>NativeCustomFormatAd</code>, save it as a class member, and along with it get <code>drawable</code> and set it to the <code>imageView</code> (to present it in the UI). Once a user clicks on the <code>imageView</code> I get an event in the click listener and invoke <code>nativeCustomFormatAd.performClick(&quot;IMAGE&quot;);</code>.</p>\n<p>The problem is that I expect that once I transfer the ad click to the SDK (by nativeCustomFormatAd.performClick(&quot;IMAGE&quot;);) SDK is supposed to open the external browser, but instead nothing happens.</p>\n<p><strong>P.S.</strong> I am sure that <code>nativeCustomFormatAd.performClick(&quot;IMAGE&quot;);</code> getting invoked and also I see that SDK gets the click as I got a callback event here:</p>\n<pre><code>...\n      new NativeCustomFormatAd.OnCustomClickListener() {\n          @Override\n          public void onCustomClick(NativeCustomFormatAd ad, String s) {\n              // Handle the click action\n          }\n      })\n...\n</code></pre>\n<p>What am I missing here?</p>\n"},{"tags":["java","spring-boot","exception"],"comments":[{"owner":{"account_id":3249294,"reputation":108,"user_id":2740033,"display_name":"F.C.Hsiao"},"score":0,"creation_date":1676617890,"post_id":75480506,"comment_id":133176932,"body_markdown":"https://stackoverflow.com/questions/10674474/java-is-it-bad-practice-to-do-a-try-catch-inside-a-try-catch","body":"<a href=\"https://stackoverflow.com/questions/10674474/java-is-it-bad-practice-to-do-a-try-catch-inside-a-try-catch\" title=\"java is it bad practice to do a try catch inside a try catch\">stackoverflow.com/questions/10674474/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676651821,"creation_date":1676651821,"answer_id":75486964,"question_id":75480506,"body_markdown":"I would suggest using `@Transactional` at service level, which would rollback the incomplete updates in db when any sql exceptions occur.\r\n\r\nExample:\r\n\r\n    @Transactional(rollbackFor = { SQLException.class })\r\n    public ResponseEntity post() {\r\n        . . .\r\n    }\r\n\r\n\r\nYou can read further from this guide:\r\n[https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth][1]\r\n\r\n\r\n  [1]: https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth","title":"How to update database table when an exception occured in business logic","body":"<p>I would suggest using <code>@Transactional</code> at service level, which would rollback the incomplete updates in db when any sql exceptions occur.</p>\n<p>Example:</p>\n<pre><code>@Transactional(rollbackFor = { SQLException.class })\npublic ResponseEntity post() {\n    . . .\n}\n</code></pre>\n<p>You can read further from this guide:\n<a href=\"https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth\" rel=\"nofollow noreferrer\">https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth</a></p>\n"}],"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676651821,"creation_date":1676611230,"question_id":75480506,"body_markdown":"I have an api which is doing following process :-\r\n1. Validating request\r\n2. Saving the request in DB\r\n3. Calling a different api synchronously to place the deal\r\n4. Sending 201 response.\r\n\r\nCurrently if any exception is coming on step 3, we are catching it and doing following operations:-\r\n\r\n    try{\r\n    Step 3}\r\n    Catch(exception e){\r\n    Log\r\n    UpdateDbstate()\r\n    }\r\n\r\nWhere updatedb state method is updating db state and try catch again if any db exception occured.\r\n\r\n**Problem here is if any exception occured in updatedbstate, the whole transaction will now be in inconsistent state as db is not updated**\r\n\r\nHow to correctly implement a solution around this.","title":"How to update database table when an exception occured in business logic","body":"<p>I have an api which is doing following process :-</p>\n<ol>\n<li>Validating request</li>\n<li>Saving the request in DB</li>\n<li>Calling a different api synchronously to place the deal</li>\n<li>Sending 201 response.</li>\n</ol>\n<p>Currently if any exception is coming on step 3, we are catching it and doing following operations:-</p>\n<pre><code>try{\nStep 3}\nCatch(exception e){\nLog\nUpdateDbstate()\n}\n</code></pre>\n<p>Where updatedb state method is updating db state and try catch again if any db exception occured.</p>\n<p><strong>Problem here is if any exception occured in updatedbstate, the whole transaction will now be in inconsistent state as db is not updated</strong></p>\n<p>How to correctly implement a solution around this.</p>\n"},{"tags":["java","string","reverse"],"comments":[{"owner":{"account_id":1737257,"reputation":1655,"user_id":1589522,"accept_rate":73,"display_name":"Maximin"},"score":0,"creation_date":1382158240,"post_id":19462439,"comment_id":28861273,"body_markdown":"Check my answer. That&#39;s the method to achieve it. Do u need working code or can you do it from this?","body":"Check my answer. That&#39;s the method to achieve it. Do u need working code or can you do it from this?"},{"owner":{"account_id":1384417,"reputation":1467,"user_id":1316731,"accept_rate":57,"display_name":"Umang Mehta"},"score":0,"creation_date":1382158527,"post_id":19462439,"comment_id":28861306,"body_markdown":"Do you need to achieve this without using any inbuilt functions?","body":"Do you need to achieve this without using any inbuilt functions?"},{"owner":{"account_id":1737257,"reputation":1655,"user_id":1589522,"accept_rate":73,"display_name":"Maximin"},"score":0,"creation_date":1382165582,"post_id":19462439,"comment_id":28862579,"body_markdown":"Accept answer if you got what you need.","body":"Accept answer if you got what you need."}],"answers":[{"tags":[],"owner":{"account_id":1737257,"reputation":1655,"user_id":1589522,"accept_rate":73,"display_name":"Maximin"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1382158010,"creation_date":1382158010,"answer_id":19462467,"question_id":19462439,"body_markdown":"1) Split your sentence (using split(), this will return an array, say words[])\r\n\r\n2) Reverse each word in the array words[].\r\n\r\n3) Reconstruct your sentence from the array words[].\r\n\r\n ","title":"Reverse each word of user given string without altering their position","body":"<p>1) Split your sentence (using split(), this will return an array, say words[])</p>\n\n<p>2) Reverse each word in the array words[].</p>\n\n<p>3) Reconstruct your sentence from the array words[].</p>\n"},{"tags":[],"owner":{"account_id":2967521,"reputation":596,"user_id":2520375,"accept_rate":62,"display_name":"Jose Cifuentes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382158147,"creation_date":1382158147,"answer_id":19462476,"question_id":19462439,"body_markdown":"Here&#39;s one solution:\r\n\r\n\r\n    public static String reverseEach(String inputString) {\r\n      String[] parts = inputString.split(&quot; &quot;);\r\n      StringBuilder sb = new StringBuilder();\r\n      for (String p : parts) {\r\n        sb.append(new StringBuffer(p).reverse().toString());\r\n        sb.append(&#39; &#39;);\r\n       }\r\n       return sb.toString();\r\n    }\r\n\r\n","title":"Reverse each word of user given string without altering their position","body":"<p>Here's one solution:</p>\n\n<pre><code>public static String reverseEach(String inputString) {\n  String[] parts = inputString.split(\" \");\n  StringBuilder sb = new StringBuilder();\n  for (String p : parts) {\n    sb.append(new StringBuffer(p).reverse().toString());\n    sb.append(' ');\n   }\n   return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1384417,"reputation":1467,"user_id":1316731,"accept_rate":57,"display_name":"Umang Mehta"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1382158404,"creation_date":1382158404,"answer_id":19462496,"question_id":19462439,"body_markdown":"     \r\n    \r\n    String str = &quot;hello world&quot;;\r\n    String revStr = reverseWordByWord(str);\r\n    \r\n     public String reverseWordByWord(String str){\r\n            int strLeng = str.length()-1;\r\n            String reverse = &quot;&quot;, temp = &quot;&quot;;\r\n    \r\n            for(int i = 0; i &lt;= strLeng; i++){\r\n                temp += str.charAt(i);\r\n                if((str.charAt(i) == &#39; &#39;) || (i == strLeng)){\r\n                    for(int j = temp.length()-1; j &gt;= 0; j--){\r\n                        reverse += temp.charAt(j);\r\n                        if((j == 0) &amp;&amp; (i != strLeng))\r\n                            reverse += &quot; &quot;;\r\n                    }\r\n                    temp = &quot;&quot;;\r\n                }\r\n            }\r\n            return reverse;\r\n        }\r\n\r\n**Input: hello world**\r\n\r\n**Output: olleh dlrow**","title":"Reverse each word of user given string without altering their position","body":"<pre><code>String str = \"hello world\";\nString revStr = reverseWordByWord(str);\n\n public String reverseWordByWord(String str){\n        int strLeng = str.length()-1;\n        String reverse = \"\", temp = \"\";\n\n        for(int i = 0; i &lt;= strLeng; i++){\n            temp += str.charAt(i);\n            if((str.charAt(i) == ' ') || (i == strLeng)){\n                for(int j = temp.length()-1; j &gt;= 0; j--){\n                    reverse += temp.charAt(j);\n                    if((j == 0) &amp;&amp; (i != strLeng))\n                        reverse += \" \";\n                }\n                temp = \"\";\n            }\n        }\n        return reverse;\n    }\n</code></pre>\n\n<p><strong>Input: hello world</strong></p>\n\n<p><strong>Output: olleh dlrow</strong></p>\n"},{"comments":[{"owner":{"account_id":3378015,"reputation":991,"user_id":2835764,"accept_rate":75,"display_name":"Sujal Mandal"},"score":0,"creation_date":1408913236,"post_id":19462914,"comment_id":39758828,"body_markdown":"You used a inbuilt function sir !","body":"You used a inbuilt function sir !"}],"tags":[],"owner":{"account_id":1765583,"reputation":855,"user_id":1611539,"accept_rate":83,"display_name":"x4nd3r"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1382162314,"creation_date":1382162314,"answer_id":19462914,"question_id":19462439,"body_markdown":"Here is simple code that implements @Maximin&#39;s answer.\r\n\r\n    public class Reverse {\r\n\t    public static void main(String args[]) throws IOException {\r\n\t\t    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\t\t    String input = br.readLine();\r\n\t\t    String[] words = input.split(&quot; &quot;);\r\n\t\t    String reverse = &quot;&quot;;\r\n\t\t    for (int i = 0; i &lt; words.length; i++) {\r\n\t\t\t    for (int j = words[i].length() - 1; j &gt;= 0; j--) {\r\n\t\t\t\t    reverse += words[i].charAt(j);\r\n\t\t\t    }\r\n\t\t\t    System.out.print(reverse + &quot; &quot;);\r\n\t\t\t    reverse = &quot;&quot;;\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\nThe reversed strings could also be placed into their own array by declaring `String[] reverse = new String[words.length];`, allowing you the option to reconstruct the sentence or format output as desired.","title":"Reverse each word of user given string without altering their position","body":"<p>Here is simple code that implements @Maximin's answer.</p>\n\n<pre><code>public class Reverse {\n    public static void main(String args[]) throws IOException {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        String input = br.readLine();\n        String[] words = input.split(\" \");\n        String reverse = \"\";\n        for (int i = 0; i &lt; words.length; i++) {\n            for (int j = words[i].length() - 1; j &gt;= 0; j--) {\n                reverse += words[i].charAt(j);\n            }\n            System.out.print(reverse + \" \");\n            reverse = \"\";\n        }\n    }\n}\n</code></pre>\n\n<p>The reversed strings could also be placed into their own array by declaring <code>String[] reverse = new String[words.length];</code>, allowing you the option to reconstruct the sentence or format output as desired.</p>\n"},{"comments":[{"owner":{"account_id":3002540,"reputation":6032,"user_id":2547739,"accept_rate":67,"display_name":"Paul Lo"},"score":1,"creation_date":1402835544,"post_id":24229472,"comment_id":37418038,"body_markdown":"Welcome to Stackoverflow, please better format your code :)","body":"Welcome to Stackoverflow, please better format your code :)"}],"tags":[],"owner":{"account_id":4615567,"reputation":1,"user_id":3742204,"display_name":"user3742204"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402834355,"creation_date":1402834355,"answer_id":24229472,"question_id":19462439,"body_markdown":"  class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            int i = 0,j=0;\r\n            string test = &quot;Hello Sir I am good&quot;;\r\n            StringBuilder sb = new StringBuilder();\r\n            char[] str = test.ToCharArray();\r\n            char[] revstr;\r\n            while (i &lt; str.Length)\r\n                i++; \r\n                i--;\r\n            for (int k = i; k &gt;= j;)\r\n            {\r\n\r\n                if (str[k] == &#39; &#39;)\r\n                {\r\n                    for (int l = k; l &lt; i; l++)\r\n                    {   \r\n                       \r\n                        sb.Append(str[l+1]);\r\n \r\n                    }\r\n                    sb.Append(&quot; &quot;);\r\n                    i = k - 1;  \r\n                }\r\n                k--;\r\n        \r\n            }\r\n            for (j = 0; j &lt;= i; j++)\r\n                sb.Append(str[j]);\r\n            Console.WriteLine(sb);\r\n\r\n            Console.ReadLine();","title":"Reverse each word of user given string without altering their position","body":"<p>class Program\n    {\n        static void Main(string[] args)\n        {\n            int i = 0,j=0;\n            string test = \"Hello Sir I am good\";\n            StringBuilder sb = new StringBuilder();\n            char[] str = test.ToCharArray();\n            char[] revstr;\n            while (i &lt; str.Length)\n                i++; \n                i--;\n            for (int k = i; k >= j;)\n            {</p>\n\n<pre><code>            if (str[k] == ' ')\n            {\n                for (int l = k; l &lt; i; l++)\n                {   \n\n                    sb.Append(str[l+1]);\n\n                }\n                sb.Append(\" \");\n                i = k - 1;  \n            }\n            k--;\n\n        }\n        for (j = 0; j &lt;= i; j++)\n            sb.Append(str[j]);\n        Console.WriteLine(sb);\n\n        Console.ReadLine();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4104827,"reputation":71,"user_id":3369245,"display_name":"user3369245"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410169981,"creation_date":1407831465,"answer_id":25259341,"question_id":19462439,"body_markdown":"very simple code is here\r\n\r\n\r\n    class reverse{\r\n    \tpublic static StringBuilder sb;    \r\n        public static void main(String args[])\r\n        {        \r\n           String str[] = &quot;He is the one&quot;.split(&quot; &quot;);        \r\n           String finalStr=&quot;&quot;;            \r\n           for(int i = str.length-1; i&gt;= 0 ;i--)    \r\n           {            \t\r\n                finalStr += str[i]+&quot; &quot;;\r\n                finalStr.toString();\r\n                \r\n                sb=new StringBuilder(finalStr);\r\n                sb.reverse();              \r\n          }         \r\n           System.out.print(sb);\r\n        }\r\n    }","title":"Reverse each word of user given string without altering their position","body":"<p>very simple code is here</p>\n\n<pre><code>class reverse{\n    public static StringBuilder sb;    \n    public static void main(String args[])\n    {        \n       String str[] = \"He is the one\".split(\" \");        \n       String finalStr=\"\";            \n       for(int i = str.length-1; i&gt;= 0 ;i--)    \n       {                \n            finalStr += str[i]+\" \";\n            finalStr.toString();\n\n            sb=new StringBuilder(finalStr);\n            sb.reverse();              \n      }         \n       System.out.print(sb);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3378015,"reputation":991,"user_id":2835764,"accept_rate":75,"display_name":"Sujal Mandal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408913105,"creation_date":1408913105,"answer_id":25476158,"question_id":19462439,"body_markdown":"i also faced a similar question but didn&#39;t clear the round because my approach was too complex for the person evaluating my answer, i am sharing it here, hope it helps someone.\r\n\r\n    package interviewPractice;\r\n    import java.util.Scanner;\r\n    \r\n    public class SentenceToWord \r\n    {\r\n    \tpublic static int getNumberOfWords(String sentence)\r\n    \t{\r\n    \t\tint counter=0;\r\n    \t\tfor(int i=0;i&lt;sentence.length();i++)\r\n    \t\t{\r\n    \t\t\tif(sentence.charAt(i)==&#39; &#39;)\r\n    \t\t\tcounter++;\r\n    \t\t}\r\n    \t\treturn counter+1;\r\n    \t}\r\n    \t\r\n    \tpublic static char[] getSubString(String sentence,int start,int end) //method to give substring, replacement of String.substring() \r\n    \t{\r\n    \t\tint counter=0;\r\n    \t\tchar charArrayToReturn[]=new char[end-start];\r\n    \t\tfor(int i=start;i&lt;end;i++)\r\n    \t\t{\r\n    \t\t\tcharArrayToReturn[counter++]=sentence.charAt(i);\r\n    \t\t}\r\n    \t\treturn charArrayToReturn;\r\n    \t}\r\n    \t\r\n    \tpublic static char[][] getWordsFromString(String sentence)\r\n    \t{\r\n    \t\tint wordsCounter=0;\r\n    \t\tint spaceIndex=0;\r\n    \t\tint length=sentence.length();\r\n    \t\tchar wordsArray[][]=new char[getNumberOfWords(sentence)][]; \r\n    \t\tfor(int i=0;i&lt;length;i++)\r\n    \t\t{\r\n    \t\t\tif(sentence.charAt(i)==&#39; &#39; || i+1==length)\r\n    \t\t\t{\r\n    \t\t\twordsArray[wordsCounter++]=getSubString(sentence, spaceIndex,i+1); //get each word as substring\r\n    \t\t\tspaceIndex=i+1; //increment space index\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn\twordsArray; //return the 2 dimensional char array\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \tSystem.out.println(&quot;Please enter the String&quot;);\r\n    \tScanner input=new Scanner(System.in);\r\n    \tString userInput=input.nextLine().trim();\r\n    \tint numOfWords=getNumberOfWords(userInput);\r\n    \tchar words[][]=new char[numOfWords+1][];\r\n    \twords=getWordsFromString(userInput);\r\n    \tSystem.out.println(&quot;Total number of words found in the String is &quot;+(numOfWords));\r\n    \tfor(int i=0;i&lt;numOfWords;i++)\r\n    \t{\r\n    \t\tSystem.out.println(&quot; &quot;);\r\n    \t\tfor(int j=0;j&lt;words[i].length;j++)\r\n    \t\t{\r\n    \t\tSystem.out.print(words[i][j]);//print out each char one by one\r\n    \t\t}\r\n    \t}\r\n    \t}\r\n    \r\n    }\r\n\r\nNow you have your words stored in the array &quot;words&quot; just reverse them.\r\n\r\n\r\n","title":"Reverse each word of user given string without altering their position","body":"<p>i also faced a similar question but didn't clear the round because my approach was too complex for the person evaluating my answer, i am sharing it here, hope it helps someone.</p>\n\n<pre><code>package interviewPractice;\nimport java.util.Scanner;\n\npublic class SentenceToWord \n{\n    public static int getNumberOfWords(String sentence)\n    {\n        int counter=0;\n        for(int i=0;i&lt;sentence.length();i++)\n        {\n            if(sentence.charAt(i)==' ')\n            counter++;\n        }\n        return counter+1;\n    }\n\n    public static char[] getSubString(String sentence,int start,int end) //method to give substring, replacement of String.substring() \n    {\n        int counter=0;\n        char charArrayToReturn[]=new char[end-start];\n        for(int i=start;i&lt;end;i++)\n        {\n            charArrayToReturn[counter++]=sentence.charAt(i);\n        }\n        return charArrayToReturn;\n    }\n\n    public static char[][] getWordsFromString(String sentence)\n    {\n        int wordsCounter=0;\n        int spaceIndex=0;\n        int length=sentence.length();\n        char wordsArray[][]=new char[getNumberOfWords(sentence)][]; \n        for(int i=0;i&lt;length;i++)\n        {\n            if(sentence.charAt(i)==' ' || i+1==length)\n            {\n            wordsArray[wordsCounter++]=getSubString(sentence, spaceIndex,i+1); //get each word as substring\n            spaceIndex=i+1; //increment space index\n            }\n        }\n        return  wordsArray; //return the 2 dimensional char array\n    }\n\n\n    public static void main(String[] args) \n    {\n    System.out.println(\"Please enter the String\");\n    Scanner input=new Scanner(System.in);\n    String userInput=input.nextLine().trim();\n    int numOfWords=getNumberOfWords(userInput);\n    char words[][]=new char[numOfWords+1][];\n    words=getWordsFromString(userInput);\n    System.out.println(\"Total number of words found in the String is \"+(numOfWords));\n    for(int i=0;i&lt;numOfWords;i++)\n    {\n        System.out.println(\" \");\n        for(int j=0;j&lt;words[i].length;j++)\n        {\n        System.out.print(words[i][j]);//print out each char one by one\n        }\n    }\n    }\n\n}\n</code></pre>\n\n<p>Now you have your words stored in the array \"words\" just reverse them.</p>\n"},{"tags":[],"owner":{"account_id":1913793,"reputation":412,"user_id":1726883,"display_name":"Uche Dim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410372371,"creation_date":1410372371,"answer_id":25772167,"question_id":19462439,"body_markdown":"here is one solution\r\n\r\n    fucntion String reverseSentence(String sentence){\r\n    String Rword = &quot;&quot;;\r\n    String newSentence = &quot;&quot;;\r\n    char space = &#39; &#39;;\r\n    String empty = &quot;&quot;;\r\n    \r\n    if(sentence == null || sentence == empty)\r\n    return null; // this could be an error message\r\n    else{\r\n          int tempi = 0;\r\n             if(sentence.charAt(0) == space){ \r\n                  Rword = Rword+sentence.charAt(0); // check for when the first char is a space\r\n                  tempi++;\r\n             }\r\n            for(int i=tempi; i&lt; sentence.length(); i++){\r\n                 if(sentence.charAt(i) == space) //if it reaches a space its a word\r\n                 {\r\n                    Rword = Rword+sentence.charAt(i);  //add the current space\r\n                    newSentence = newSentence+Rword ; //give the reversed word to the new sentence\r\n                    Rword = &quot;&quot;; // then empty the word\r\n                 }else{\r\n                        Rword = sentence.charAt(i)+Rword ; //while its not a space, reverse.  \r\n                      }\r\n            }\r\n              newSentence = newSentence+Rword; // the last char might not be a space to so the first \r\n                                               //  if statement in the loop will never happen again, \r\n                                                 //i add the last word after the loop\r\n              return newSentence;\r\n        }\r\n    }","title":"Reverse each word of user given string without altering their position","body":"<p>here is one solution</p>\n\n<pre><code>fucntion String reverseSentence(String sentence){\nString Rword = \"\";\nString newSentence = \"\";\nchar space = ' ';\nString empty = \"\";\n\nif(sentence == null || sentence == empty)\nreturn null; // this could be an error message\nelse{\n      int tempi = 0;\n         if(sentence.charAt(0) == space){ \n              Rword = Rword+sentence.charAt(0); // check for when the first char is a space\n              tempi++;\n         }\n        for(int i=tempi; i&lt; sentence.length(); i++){\n             if(sentence.charAt(i) == space) //if it reaches a space its a word\n             {\n                Rword = Rword+sentence.charAt(i);  //add the current space\n                newSentence = newSentence+Rword ; //give the reversed word to the new sentence\n                Rword = \"\"; // then empty the word\n             }else{\n                    Rword = sentence.charAt(i)+Rword ; //while its not a space, reverse.  \n                  }\n        }\n          newSentence = newSentence+Rword; // the last char might not be a space to so the first \n                                           //  if statement in the loop will never happen again, \n                                             //i add the last word after the loop\n          return newSentence;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4695683,"reputation":11,"user_id":4866751,"display_name":"Meht4409"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430834342,"creation_date":1430834342,"answer_id":30055111,"question_id":19462439,"body_markdown":"split the string using space and then loop through each element of String array and reverse it:\r\n\r\npublic class StringReverse {\r\n\r\n\tpublic static void main(String args[])\r\n\t{\r\n\tString eString=&quot; \\&quot;This is the one\\&quot;&quot;;\r\n\tString double_quoteString[]=eString.split(&quot;\\&quot;&quot;);\r\n\teString=double_quoteString[1];\r\n\tString[] splitStrings=eString.split(&quot;\\\\s+&quot;);\r\n\tString reverse=&quot;&quot;;\r\n\tfor(int i=0;i&lt;splitStrings.length;i++)\r\n\t{\r\n\t\tif(i!=0)\r\n\t\treverse+=&quot; &quot;;\r\n\t\t\r\n\t\tfor(int j=splitStrings[i].length()-1;j&gt;=0;j--)\r\n\t\t{\r\n\t\t\treverse+=splitStrings[i].charAt(j);\r\n\t\t}\r\n\t}\r\n\t\r\n\treverse=&quot;\\&quot;&quot;+reverse+&quot;\\&quot;&quot;;\r\n\tSystem.out.println(&quot;reverse is &quot;+reverse);\r\n\t}\r\n}","title":"Reverse each word of user given string without altering their position","body":"<p>split the string using space and then loop through each element of String array and reverse it:</p>\n\n<p>public class StringReverse {</p>\n\n<pre><code>public static void main(String args[])\n{\nString eString=\" \\\"This is the one\\\"\";\nString double_quoteString[]=eString.split(\"\\\"\");\neString=double_quoteString[1];\nString[] splitStrings=eString.split(\"\\\\s+\");\nString reverse=\"\";\nfor(int i=0;i&lt;splitStrings.length;i++)\n{\n    if(i!=0)\n    reverse+=\" \";\n\n    for(int j=splitStrings[i].length()-1;j&gt;=0;j--)\n    {\n        reverse+=splitStrings[i].charAt(j);\n    }\n}\n\nreverse=\"\\\"\"+reverse+\"\\\"\";\nSystem.out.println(\"reverse is \"+reverse);\n}\n</code></pre>\n\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":6128339,"reputation":4087,"user_id":4779472,"accept_rate":89,"display_name":"Rohit Gupta"},"score":0,"creation_date":1437209168,"post_id":31488484,"comment_id":50942842,"body_markdown":"Ok, I am upvoting it then.","body":"Ok, I am upvoting it then."}],"tags":[],"owner":{"account_id":5932369,"reputation":85,"user_id":4666454,"accept_rate":40,"display_name":"amjeremiad"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437200973,"creation_date":1437200973,"answer_id":31488484,"question_id":19462439,"body_markdown":"\r\n\r\n    import java.util.*;\r\n    class sort\r\n    {\r\n    public static void main(String[] aaa)\r\n    {\r\n    String s;\r\n    String rev=&quot;&quot;;\r\n    String temp=&quot; &quot;;\r\n    Scanner ob=new Scanner(System.in);\r\n    System.out.println(&quot; enter String&quot;);\r\n    s=ob.nextLine();\r\n    for(int i=s.length()-1;i&gt;=0;i--)\r\n    \trev=rev+s.charAt(i);\r\n    System.out.println(rev);\r\n    String[] a=rev.split(&quot; &quot;);\r\n    int j=a.length-1;\r\n    while(j&gt;=0)\r\n    {\r\n    \ttemp=temp+a[j];\r\n    \t\r\n    \ttemp=temp+&quot; &quot;;\r\n    \tj--;\r\n    \t\r\n    }\r\n    System.out.println(temp);\r\n    }\r\n    }\r\n\r\n\r\nI too tried this.Since I am learning java i tried this code in simple way.If i did any mistake in code or logic please correct me.Thank you....;\r\n","title":"Reverse each word of user given string without altering their position","body":"<pre><code>import java.util.*;\nclass sort\n{\npublic static void main(String[] aaa)\n{\nString s;\nString rev=\"\";\nString temp=\" \";\nScanner ob=new Scanner(System.in);\nSystem.out.println(\" enter String\");\ns=ob.nextLine();\nfor(int i=s.length()-1;i&gt;=0;i--)\n    rev=rev+s.charAt(i);\nSystem.out.println(rev);\nString[] a=rev.split(\" \");\nint j=a.length-1;\nwhile(j&gt;=0)\n{\n    temp=temp+a[j];\n\n    temp=temp+\" \";\n    j--;\n\n}\nSystem.out.println(temp);\n}\n}\n</code></pre>\n\n<p>I too tried this.Since I am learning java i tried this code in simple way.If i did any mistake in code or logic please correct me.Thank you....;</p>\n"},{"tags":[],"owner":{"account_id":3081071,"reputation":67,"user_id":2609255,"accept_rate":43,"display_name":"Amogh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438371093,"creation_date":1438371093,"answer_id":31753837,"question_id":19462439,"body_markdown":"A different solution and a simple one\r\n\r\n    public class strrev {\r\n    \tpublic static void main(String[] args)throws IOException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tBufferedReader br=new BufferedReader(new InputStreamReader(System.in));\r\n    \t\tSystem.out.println(&quot;Enter the string to be reversed&quot;);\r\n    \t\tString str=br.readLine();\r\n    \t\tchar rev;\r\n    \t\tint k=0;\t\t\r\n    \t\tfor(int i=0;i&lt;str.length();i++)\r\n    \t\t{\t\t\t\r\n    \t\t\tif(str.charAt(i)==32 ||i==str.length()-1)\r\n    \t\t\t{\r\n    \t\t\t\tfor(int j=i;j&gt;=k;j--)\r\n    \t\t\t\t{\r\n    \t\t\t\t\trev=str.charAt(j);\r\n    \t\t\t\t\tSystem.out.print(rev);\r\n    \t\t\t\t}\r\n    \t\t\t\tk=i;\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\t\t\t  \r\n    \t\t}\r\n    \t}\r\n    }","title":"Reverse each word of user given string without altering their position","body":"<p>A different solution and a simple one</p>\n\n<pre><code>public class strrev {\n    public static void main(String[] args)throws IOException {\n        // TODO Auto-generated method stub\n        BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n        System.out.println(\"Enter the string to be reversed\");\n        String str=br.readLine();\n        char rev;\n        int k=0;        \n        for(int i=0;i&lt;str.length();i++)\n        {           \n            if(str.charAt(i)==32 ||i==str.length()-1)\n            {\n                for(int j=i;j&gt;=k;j--)\n                {\n                    rev=str.charAt(j);\n                    System.out.print(rev);\n                }\n                k=i;\n                continue;\n            }             \n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5810384,"reputation":467,"user_id":4581664,"display_name":"Sammy"},"score":0,"creation_date":1445234525,"post_id":31859619,"comment_id":54219518,"body_markdown":"&quot;Write a Java program that will reverse each word of user given string without altering their position and using any built in function.&quot; Whereas your program leaves each word in tact, but alters it&#39;s position. Also invalid syntax on &gt; = because you can&#39;t have a space between.","body":"&quot;Write a Java program that will reverse each word of user given string without altering their position and using any built in function.&quot; Whereas your program leaves each word in tact, but alters it&#39;s position. Also invalid syntax on &gt; = because you can&#39;t have a space between."}],"tags":[],"owner":{"account_id":5127966,"reputation":1,"user_id":4111070,"display_name":"Kazi Shahjahan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470250624,"creation_date":1438874314,"answer_id":31859619,"question_id":19462439,"body_markdown":"Simple Solution: \r\nFirst we enter a enter a string through a scanner\r\nThen we split it by spaces. \r\nThen we reverse it using a for loop and output it.         \r\n\r\n   \r\n\r\n         public class reverse{\r\n                \r\n                 public static void main(String[] args){\r\n                            \r\n                     Scanner sc = new Scanner(System.in);\r\n                \r\n                     System.out.println(&quot;enter string&quot;);\r\n                                \r\n                        String s = sc.nextLine();\r\n                                \r\n                        String [] words = s.split(&quot; &quot;); // space for words\r\n                              \r\n                        for(int i = words.length - 1; i &gt;= 0; i--)\r\n                     {\r\n                        \r\n                        System.out.print(words[i] + &quot; &quot;);\r\n                          \r\n                     }\r\n                }\r\n    }","title":"Reverse each word of user given string without altering their position","body":"<p>Simple Solution: \nFirst we enter a enter a string through a scanner\nThen we split it by spaces. \nThen we reverse it using a for loop and output it.         </p>\n\n<pre><code>     public class reverse{\n\n             public static void main(String[] args){\n\n                 Scanner sc = new Scanner(System.in);\n\n                 System.out.println(\"enter string\");\n\n                    String s = sc.nextLine();\n\n                    String [] words = s.split(\" \"); // space for words\n\n                    for(int i = words.length - 1; i &gt;= 0; i--)\n                 {\n\n                    System.out.print(words[i] + \" \");\n\n                 }\n            }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4023887,"reputation":2257,"user_id":3313050,"display_name":"Benjamin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445233743,"creation_date":1445233274,"answer_id":33207338,"question_id":19462439,"body_markdown":"Reverse string\r\n\r\n\r\n         import java.util.*;\r\n\r\n         public class Main\r\n       {\r\n        \tpublic static void main(String[] args)\r\n\t     {\r\n             String m=&quot;java is           great&quot;;\r\n              String temp=&quot;&quot;;\r\n              System.out.println(m);\r\n              String store=&quot;&quot;;\r\n               int cnt=0;\r\n\t       char [] p=m.toCharArray();\r\n\t      for(int i=p.length-1;i&gt;=0;i--)\r\n\t       {\r\n\t\t   if(p[i]==&#39; &#39;||i==0)\r\n\t         \t{\r\n\t\t\tif(cnt&gt;=1||i==0)\r\n\t\t\t{\r\n\t\t\t\tif(i==0)\r\n\t\t\t\t\ttemp=temp+p[i];\r\n\t\t\t\tstore=store+new StringBuilder(temp).reverse().toString();\r\n\t\t\t\ttemp=&quot;&quot;;\r\n\t\t\t\tcnt=0;\r\n\t\t\t}\r\n\t\t\tif(p[i]==&#39; &#39;)\r\n\t\t\t{\r\n\t\t\t  store=store+p[i];\r\n\t\t    }\r\n\t\t\t \r\n\t\t\t\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\ttemp=temp+p[i];\r\n\t\t\tSystem.out.println(p[i]);\r\n\t\t\tcnt++;\r\n\t\t}\r\n\t       }\r\n\t     System.out.println(store);\r\n\t   }\r\n     }\r\n\r\n\r\nOutput.    great          Is java","title":"Reverse each word of user given string without altering their position","body":"<p>Reverse string</p>\n\n<pre><code>     import java.util.*;\n\n     public class Main\n   {\n        public static void main(String[] args)\n     {\n         String m=\"java is           great\";\n          String temp=\"\";\n          System.out.println(m);\n          String store=\"\";\n           int cnt=0;\n       char [] p=m.toCharArray();\n      for(int i=p.length-1;i&gt;=0;i--)\n       {\n       if(p[i]==' '||i==0)\n            {\n        if(cnt&gt;=1||i==0)\n        {\n            if(i==0)\n                temp=temp+p[i];\n            store=store+new StringBuilder(temp).reverse().toString();\n            temp=\"\";\n            cnt=0;\n        }\n        if(p[i]==' ')\n        {\n          store=store+p[i];\n        }\n\n\n    }\n    else\n    {\n        temp=temp+p[i];\n        System.out.println(p[i]);\n        cnt++;\n    }\n       }\n     System.out.println(store);\n   }\n }\n</code></pre>\n\n<p>Output.    great          Is java</p>\n"},{"tags":[],"owner":{"account_id":7591925,"reputation":1,"user_id":5759335,"display_name":"mister_geek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452196831,"creation_date":1452194334,"answer_id":34663388,"question_id":19462439,"body_markdown":"    public static void main(String[] args) {\r\n        String s;\r\n        s=&quot;hi Mister geek is here&quot;;//input string \r\n        int j=0;//for tracking each word\r\n        for(int i=0;i&lt;s.length();i++)//loop for the string \r\n        {     \r\n            if((int)s.charAt(i)==32/*if has  space checked by ascii code of the space */||i==s.length()-1/* for the end of string */)\r\n            {\r\n                for(int u=i;u&gt;=j;u--)// loop for each word\r\n                    System.out.print(s.charAt(u));\r\n              \r\n                j=i; \r\n            }\r\n        }  \r\n    }\r\n\r\n","title":"Reverse each word of user given string without altering their position","body":"<pre><code>public static void main(String[] args) {\n    String s;\n    s=\"hi Mister geek is here\";//input string \n    int j=0;//for tracking each word\n    for(int i=0;i&lt;s.length();i++)//loop for the string \n    {     \n        if((int)s.charAt(i)==32/*if has  space checked by ascii code of the space */||i==s.length()-1/* for the end of string */)\n        {\n            for(int u=i;u&gt;=j;u--)// loop for each word\n                System.out.print(s.charAt(u));\n\n            j=i; \n        }\n    }  \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5752727,"reputation":1642,"user_id":4541832,"display_name":"Maciej Lach"},"score":0,"creation_date":1452494893,"post_id":34715583,"comment_id":57177185,"body_markdown":"Please provide some description along with the code sample.","body":"Please provide some description along with the code sample."}],"tags":[],"owner":{"account_id":7589830,"reputation":19,"user_id":5757826,"accept_rate":33,"display_name":"chandan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452494634,"creation_date":1452494634,"answer_id":34715583,"question_id":19462439,"body_markdown":"    class p3`\r\n    //Reverse each word of user given string without altering their position\r\n    {\r\n    public static String reverseWord(String word)\r\n    {\r\n    \tString r=&quot;&quot;;\r\n    \tint len=word.length();\r\n    \tfor(int i=0;i&lt;len;i++)\r\n    \t{\r\n    \tr=word.charAt(i)+r;\t\r\n    \t}\r\n    \treturn r;\t\r\n    }\r\n    public static void main(String args[])throws IOException\r\n    {\r\n    \tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n            System.out.print(&quot;Enter string: &quot;);\r\n            String s = br.readLine()+&#39; &#39;;\r\n            String rev=&quot;&quot;,s1=&quot;&quot;;\r\n    \tint l=s.length();\r\n    \r\n    \tfor(int i=0;i&lt;l;i++)\r\n    \t{\r\n    \t\tif (s.charAt(i)!=&#39; &#39;)\r\n    \t\t{\r\n    \t\trev=rev+s.charAt(i);\r\n    \t\t\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\trev=reverseWord(rev);\r\n    \t\ts1=s1+rev+&quot; &quot;;\r\n    \t\trev=&quot;&quot;;\r\n    \t\t}\t\r\n    \t}\r\n            \r\n    \t\r\n    \tSystem.out.println(s1);\r\n    }}","title":"Reverse each word of user given string without altering their position","body":"<pre><code>class p3`\n//Reverse each word of user given string without altering their position\n{\npublic static String reverseWord(String word)\n{\n    String r=\"\";\n    int len=word.length();\n    for(int i=0;i&lt;len;i++)\n    {\n    r=word.charAt(i)+r; \n    }\n    return r;   \n}\npublic static void main(String args[])throws IOException\n{\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        System.out.print(\"Enter string: \");\n        String s = br.readLine()+' ';\n        String rev=\"\",s1=\"\";\n    int l=s.length();\n\n    for(int i=0;i&lt;l;i++)\n    {\n        if (s.charAt(i)!=' ')\n        {\n        rev=rev+s.charAt(i);\n\n        }\n        else\n        {\n        rev=reverseWord(rev);\n        s1=s1+rev+\" \";\n        rev=\"\";\n        }   \n    }\n\n\n    System.out.println(s1);\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6103977,"reputation":1,"user_id":4762130,"display_name":"Rishabh Kasliwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490086870,"creation_date":1490086870,"answer_id":42922405,"question_id":19462439,"body_markdown":"Please go through my approach.It will provide you correct output:-\r\n\r\n    public class ReverseWordByword {\r\n    \tprivate String sentence=&quot;My java virtual world&quot;;\r\n    \tprivate String newReverse;\r\n    \r\n    \tpublic ReverseWordByword() {\r\n    \t\tnewReverse=&quot;&quot;;\r\n    \r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew ReverseWordByword().wordReverse();\r\n    \t}\r\n    \tpublic void wordReverse(){\r\n    \t\tString arr[]=sentence.split(&quot;\\\\ &quot;);\r\n    \r\n    \t\tfor(int i=0;i&lt;arr.length;i++){\r\n    \t\t\tnewReverse=newReverse+reverseLogic(arr[i])+&quot; &quot;;\r\n    \t\t}\r\n    \t\tSystem.out.println(newReverse);\r\n    \t}\r\n    \tpublic String reverseLogic(String word){\r\n    \t\tString localWord=&quot;&quot;;\r\n    \t\tchar[] charArr=word.toCharArray();\r\n    \t\tfor(int i=word.length()-1;i&gt;=0;i--){\r\n    \t\t\tlocalWord=localWord+charArr[i];\r\n    \t\t}\r\n    \r\n    \t\treturn localWord;\r\n    \t}\r\n    }","title":"Reverse each word of user given string without altering their position","body":"<p>Please go through my approach.It will provide you correct output:-</p>\n\n<pre><code>public class ReverseWordByword {\n    private String sentence=\"My java virtual world\";\n    private String newReverse;\n\n    public ReverseWordByword() {\n        newReverse=\"\";\n\n    }\n    public static void main(String[] args) {\n        new ReverseWordByword().wordReverse();\n    }\n    public void wordReverse(){\n        String arr[]=sentence.split(\"\\\\ \");\n\n        for(int i=0;i&lt;arr.length;i++){\n            newReverse=newReverse+reverseLogic(arr[i])+\" \";\n        }\n        System.out.println(newReverse);\n    }\n    public String reverseLogic(String word){\n        String localWord=\"\";\n        char[] charArr=word.toCharArray();\n        for(int i=word.length()-1;i&gt;=0;i--){\n            localWord=localWord+charArr[i];\n        }\n\n        return localWord;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9411497,"reputation":813,"user_id":6997153,"accept_rate":83,"display_name":"Sarthak Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498286523,"creation_date":1498286523,"answer_id":44733618,"question_id":19462439,"body_markdown":"   \r\n\r\n    public class ReverseWord {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString s = &quot;My name is Sarthak &quot;;\r\n\t\tStringBuffer sb = new StringBuffer();\r\n\t\tint n = s.length();\r\n\t\tint j =n;\r\n\t\tint i;\r\n\t\tfor(i = n-1;i&gt;=0;i--){\r\n\t\t\t\r\n\t\t\tif(s.charAt(i) == &#39; &#39;){\r\n\t\t\t\tsb.append(s.substring(i+1, j));\r\n\t\t\t\tsb.append(&quot; &quot;);\r\n\t\t\t\tj = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\tsb.append(s.substring(0,j));\r\n\t\tSystem.out.println(sb);\r\n\t}\r\n    }\r\n","title":"Reverse each word of user given string without altering their position","body":"<pre><code>public class ReverseWord {\n\npublic static void main(String[] args) {\n    String s = \"My name is Sarthak \";\n    StringBuffer sb = new StringBuffer();\n    int n = s.length();\n    int j =n;\n    int i;\n    for(i = n-1;i&gt;=0;i--){\n\n        if(s.charAt(i) == ' '){\n            sb.append(s.substring(i+1, j));\n            sb.append(\" \");\n            j = i;\n        }\n    }\n    sb.append(s.substring(0,j));\n    System.out.println(sb);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11232169,"reputation":41,"user_id":8239803,"display_name":"Abhishek Dhiman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498893799,"creation_date":1498893799,"answer_id":44858429,"question_id":19462439,"body_markdown":"this function will take a string as input and would reverse the string.\r\n\r\n\tpublic static String reverseWordWise(String input) {\r\n\r\n        String[] words = input.split(&quot; &quot;);\r\n\t\tString reversestr = &quot;&quot;;\r\n\t\t\r\n\t\tfor(int i = words.length-1; i &gt;= 0; i--){\r\n\t\t    if(i == words.length-1){\r\n\t\t        reversestr = reversestr + words[i];\r\n\t\t    }else{\r\n\t\t    \treversestr = reversestr + &quot; &quot; + words[i];\r\n\t\t    }\r\n\t\t}//end of for loop\r\n\r\n\t\treturn reversestr;\r\n\t}","title":"Reverse each word of user given string without altering their position","body":"<p>this function will take a string as input and would reverse the string.</p>\n\n<pre><code>public static String reverseWordWise(String input) {\n\n    String[] words = input.split(\" \");\n    String reversestr = \"\";\n\n    for(int i = words.length-1; i &gt;= 0; i--){\n        if(i == words.length-1){\n            reversestr = reversestr + words[i];\n        }else{\n            reversestr = reversestr + \" \" + words[i];\n        }\n    }//end of for loop\n\n    return reversestr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7599472,"reputation":37,"user_id":5764594,"accept_rate":83,"display_name":"Piyush Garg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501477818,"creation_date":1501324723,"answer_id":45388264,"question_id":19462439,"body_markdown":"    public class ReverseEachWord {\r\n    \r\n    \tstatic void reverseEachWordOfString(String inputString)\r\n        {\r\n            String[] words = inputString.split(&quot; &quot;);\r\n             \r\n            String reverseString = &quot;&quot;;\r\n             \r\n            for (int i = 0; i &lt; words.length; i++) \r\n            {\r\n                String word = words[i];\r\n                 \r\n                String reverseWord = &quot;&quot;;\r\n                 \r\n                for (int j = word.length()-1; j &gt;= 0; j--) \r\n                {\r\n                    reverseWord = reverseWord + word.charAt(j);\r\n                }\r\n                 \r\n                reverseString = reverseString + reverseWord + &quot; &quot;;\r\n            }\r\n             \r\n            System.out.println(inputString);\r\n             \r\n            System.out.println(reverseString);\r\n             \r\n            System.out.println(&quot;-------------------------&quot;);\r\n        }\r\n         \r\n        public static void main(String[] args) \r\n        {\r\n    \r\n            reverseEachWordOfString(&quot;&quot;);\r\n             \r\n            reverseEachWordOfString(&quot;&quot;);\r\n             \r\n            reverseEachWordOfString(&quot;&quot;);\r\n             \r\n            reverseEachWordOfString(&quot;&quot;);\r\n        }\r\n\r\n    }\r\n\r\n\r\n","title":"Reverse each word of user given string without altering their position","body":"<pre><code>public class ReverseEachWord {\n\n    static void reverseEachWordOfString(String inputString)\n    {\n        String[] words = inputString.split(\" \");\n\n        String reverseString = \"\";\n\n        for (int i = 0; i &lt; words.length; i++) \n        {\n            String word = words[i];\n\n            String reverseWord = \"\";\n\n            for (int j = word.length()-1; j &gt;= 0; j--) \n            {\n                reverseWord = reverseWord + word.charAt(j);\n            }\n\n            reverseString = reverseString + reverseWord + \" \";\n        }\n\n        System.out.println(inputString);\n\n        System.out.println(reverseString);\n\n        System.out.println(\"-------------------------\");\n    }\n\n    public static void main(String[] args) \n    {\n\n        reverseEachWordOfString(\"\");\n\n        reverseEachWordOfString(\"\");\n\n        reverseEachWordOfString(\"\");\n\n        reverseEachWordOfString(\"\");\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1071979,"reputation":3793,"user_id":1071020,"display_name":"zgue"},"score":0,"creation_date":1513031026,"post_id":47762209,"comment_id":82486286,"body_markdown":"You should not post only code, explain your solution to the problem","body":"You should not post only code, explain your solution to the problem"}],"tags":[],"owner":{"account_id":12481177,"reputation":1,"user_id":9085874,"display_name":" "},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513029804,"creation_date":1513029804,"answer_id":47762209,"question_id":19462439,"body_markdown":"\tpublic String reverseString(String s) {\r\n\t\tString res = &quot;&quot;;\r\n\t\tString reverseFirstPart = &quot;&quot;;\r\n\t\tString reverseLastPart = &quot;&quot;;\r\n\t\r\n\t\t\tfor (int i=0; i &lt; s.length(); i++){\r\n\t            if (s.substring(i,i+1).equals(&quot; &quot;) ){\r\n\t            \tString firstPart = s.substring(0,i);\r\n\t            \tString lastPart = s.substring(i+1,s.length());\r\n\t                reverseFirstPart = new StringBuilder(firstPart).reverse().toString();\r\n\t                reverseLastPart = new StringBuilder(lastPart).reverse().toString();\r\n\t                res = reverseFirstPart + &quot; &quot; + reverseLastPart;\r\n\t            } else {\r\n\t            \tres = s.substring(i,i+1)+res;\r\n\t            \t}\r\n\t\t}  return res.substring(reverseLastPart.length());\r\n\t}","title":"Reverse each word of user given string without altering their position","body":"<pre><code>public String reverseString(String s) {\n    String res = \"\";\n    String reverseFirstPart = \"\";\n    String reverseLastPart = \"\";\n\n        for (int i=0; i &lt; s.length(); i++){\n            if (s.substring(i,i+1).equals(\" \") ){\n                String firstPart = s.substring(0,i);\n                String lastPart = s.substring(i+1,s.length());\n                reverseFirstPart = new StringBuilder(firstPart).reverse().toString();\n                reverseLastPart = new StringBuilder(lastPart).reverse().toString();\n                res = reverseFirstPart + \" \" + reverseLastPart;\n            } else {\n                res = s.substring(i,i+1)+res;\n                }\n    }  return res.substring(reverseLastPart.length());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12571092,"reputation":1,"user_id":9145166,"display_name":"Ganesh Babu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515001809,"creation_date":1515001809,"answer_id":48082578,"question_id":19462439,"body_markdown":"\tpublic static void main(String[] args) {\r\n\t\tString s = &quot;hello dear&quot;;\r\n\t\tString su= &quot;&quot;;\r\n\t\t//split the words\r\n\t\tString words [] =s.split(&quot; &quot;);\r\n\t\t//iterate each word and reverse using sb.reverse\r\n\t\t//and append in the string with &quot; &quot;\r\n\t\tfor (String w:words) {\r\n\t\t\tStringBuilder sb = new StringBuilder(w);\r\n\t\t\tsb.reverse();\r\n\t\t\tsu += sb.toString()+&quot; &quot;;\r\n\t\t}\r\n\t\tSystem.out.println(su.trim());\r\n\t\t//prints &quot;olleh raed&quot;\r\n\t}","title":"Reverse each word of user given string without altering their position","body":"<pre><code>public static void main(String[] args) {\n    String s = \"hello dear\";\n    String su= \"\";\n    //split the words\n    String words [] =s.split(\" \");\n    //iterate each word and reverse using sb.reverse\n    //and append in the string with \" \"\n    for (String w:words) {\n        StringBuilder sb = new StringBuilder(w);\n        sb.reverse();\n        su += sb.toString()+\" \";\n    }\n    System.out.println(su.trim());\n    //prints \"olleh raed\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6825874,"reputation":569,"user_id":5251614,"display_name":"Jilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520790241,"creation_date":1520790241,"answer_id":49223122,"question_id":19462439,"body_markdown":"    public class Main {\r\n        public static void main(String[] args) {\r\n            String[] s = new Scanner(System.in).nextLine().split(&quot; &quot;);\r\n            for ( String rs : s) {\r\n                System.out.print(new StringBuilder(rs).reverse()+&quot; &quot;);\r\n            }\r\n        }\r\n    }","title":"Reverse each word of user given string without altering their position","body":"<pre><code>public class Main {\n    public static void main(String[] args) {\n        String[] s = new Scanner(System.in).nextLine().split(\" \");\n        for ( String rs : s) {\n            System.out.print(new StringBuilder(rs).reverse()+\" \");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14117756,"reputation":1,"user_id":10199113,"display_name":"Ashish Pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533748884,"creation_date":1533748884,"answer_id":51752320,"question_id":19462439,"body_markdown":"\r\n    public class ReverseSent {\r\n    \tpublic String Reverse(String s) {\r\n    \t\tString s1=&quot;&quot;,s2=&quot;&quot;,s3=&quot;&quot;;\r\n    \t\tint l = s.length();\r\n    \t\tfor(int i=1;i&lt;=l;i++) {\r\n    \t\t\tif(s.charAt(l-i)==&#39; &#39;||(l-i)==0) {\r\n    \t\t\t\tfor(int j=1;j&lt;=s2.length();j++) {\r\n    \t\t\t\t\ts1=s1+s2.charAt(s2.length()-j);\r\n    \t\t\t\t}\r\n    \t\t\t\ts3=s3+s1+&quot; &quot;;\r\n    \t\t\t\ts1=&quot;&quot;;\r\n    \t\t\t\ts2=&quot;&quot;;\r\n    \t\t\t}else if((l-i)==1){\r\n    \t\t\t\ts2=s2+s.charAt(l-i)+s.charAt(0);\r\n    \t\t\t}else {\r\n    \t\t\t\ts2=s2+s.charAt(l-i);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn s3;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tReverseSent rs = new ReverseSent();\r\n    \t\tString s = &quot;Hello   i am ashish&quot;;\r\n    \t\tSystem.out.println(rs.Reverse(s));\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n     \r\ninput: Hello   i am ashish\r\n\r\noutput: ashish am i   Hello \r\n","title":"Reverse each word of user given string without altering their position","body":"<pre><code>public class ReverseSent {\n    public String Reverse(String s) {\n        String s1=\"\",s2=\"\",s3=\"\";\n        int l = s.length();\n        for(int i=1;i&lt;=l;i++) {\n            if(s.charAt(l-i)==' '||(l-i)==0) {\n                for(int j=1;j&lt;=s2.length();j++) {\n                    s1=s1+s2.charAt(s2.length()-j);\n                }\n                s3=s3+s1+\" \";\n                s1=\"\";\n                s2=\"\";\n            }else if((l-i)==1){\n                s2=s2+s.charAt(l-i)+s.charAt(0);\n            }else {\n                s2=s2+s.charAt(l-i);\n            }\n        }\n        return s3;\n    }\n\n    public static void main(String[] args) {\n        ReverseSent rs = new ReverseSent();\n        String s = \"Hello   i am ashish\";\n        System.out.println(rs.Reverse(s));\n\n    }\n\n}\n</code></pre>\n\n<p>input: Hello   i am ashish</p>\n\n<p>output: ashish am i   Hello </p>\n"},{"tags":[],"owner":{"account_id":8973392,"reputation":31,"user_id":6691121,"display_name":"Rahul jha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570621243,"creation_date":1570620121,"answer_id":58303027,"question_id":19462439,"body_markdown":"    package com.learning.misc;\r\n\r\n    public class WordReversal {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString str = &quot;functional Interface is core concept of Lambda&quot;;\r\n\r\n\t\tchar arr[] = str.toCharArray();\r\n\r\n\t\tint temp = 0;\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tif (arr[i] == &#39; &#39; || i == arr.length-1) {\r\n\t\t\t\tfor (int j = i; j &gt;= temp; j--) {\r\n\t\t\t\t\tSystem.out.print(arr[j]);\r\n\t\t\t\t}\r\n\t\t\t\ttemp = i+1;\r\n\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n\r\n","title":"Reverse each word of user given string without altering their position","body":"<pre><code>package com.learning.misc;\n\npublic class WordReversal {\n\npublic static void main(String[] args) {\n\n    String str = \"functional Interface is core concept of Lambda\";\n\n    char arr[] = str.toCharArray();\n\n    int temp = 0;\n    for (int i = 0; i &lt; arr.length; i++) {\n        if (arr[i] == ' ' || i == arr.length-1) {\n            for (int j = i; j &gt;= temp; j--) {\n                System.out.print(arr[j]);\n            }\n            temp = i+1;\n            System.out.print(\" \");\n        }\n\n    }\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9618140,"reputation":1,"user_id":7140216,"display_name":"vishal kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571416902,"creation_date":1571416902,"answer_id":58455016,"question_id":19462439,"body_markdown":"package com.practice.stringCodes;\r\n\r\npublic class ReverseStringWordsWithoutSplit {\r\n\t\r\n\tpublic static void main(String arg[])\r\n\t{\r\n\t\tString reversedString = &quot;&quot;;\r\n\t\tString givenString = &quot;My name is vishal kumar&quot;;\r\n\t\tgivenString = &quot; &quot; + givenString;\r\n\t\twhile(givenString.contains(&quot; &quot;))\r\n\t\t{\r\n\t\treversedString += (givenString.substring(givenString.lastIndexOf(&quot; &quot;), givenString.length()));\r\n\t\tgivenString = givenString.substring(0, givenString.lastIndexOf(&quot; &quot;));\r\n\t}\r\n\t\tSystem.out.println(reversedString.trim());\r\n\t}\r\n}\r\n","title":"Reverse each word of user given string without altering their position","body":"<p>package com.practice.stringCodes;</p>\n\n<p>public class ReverseStringWordsWithoutSplit {</p>\n\n<pre><code>public static void main(String arg[])\n{\n    String reversedString = \"\";\n    String givenString = \"My name is vishal kumar\";\n    givenString = \" \" + givenString;\n    while(givenString.contains(\" \"))\n    {\n    reversedString += (givenString.substring(givenString.lastIndexOf(\" \"), givenString.length()));\n    givenString = givenString.substring(0, givenString.lastIndexOf(\" \"));\n}\n    System.out.println(reversedString.trim());\n}\n</code></pre>\n\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":1837040,"reputation":844,"user_id":1667198,"display_name":"Ismael Sarmento"},"score":0,"creation_date":1627959186,"post_id":68625515,"comment_id":121288047,"body_markdown":"welcome to SOF. Some parts of your code are out of code block. Plus, can you do some unit testing and refactoring to improve your code? Tip, try not to nest loops and conditionals.","body":"welcome to SOF. Some parts of your code are out of code block. Plus, can you do some unit testing and refactoring to improve your code? Tip, try not to nest loops and conditionals."}],"tags":[],"owner":{"account_id":22363476,"reputation":1,"user_id":16579672,"display_name":"Sambit kumar Panda"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627923957,"creation_date":1627923957,"answer_id":68625515,"question_id":19462439,"body_markdown":"This is very simple using the inbuilt functions: split &amp; reverse. However my code is helpful for those who want the solution without using those functions.    \r\n`import java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\nclass ReverseWordSentence {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Enter the phrase to be reversed: &quot;);\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tString phrase = sc.nextLine();\r\n\t\tchar[] ch = phrase.toCharArray();\r\n\t\tArrayList&lt;Character&gt; wdl = new ArrayList&lt;Character&gt;();\r\n\t\tfor(int i=0; i&lt;ch.length; i++) {\r\n\t\t\tif(String.valueOf(ch[i]).equals(&quot; &quot;) || (i == phrase.length()-1) ) {\r\n\t\t\t\tif (i == phrase.length()-1) {\r\n\t\t\t\t\twdl.add(ch[i]);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor(int j=wdl.size()-1; j&gt;-1;--j) {\r\n\t\t\t\t\tSystem.out.print(wdl.get(j));\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(ch[i]==&#39; &#39;) {\r\n\t\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\twdl.clear();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\twdl.add(ch[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}`    ","title":"Reverse each word of user given string without altering their position","body":"<p>This is very simple using the inbuilt functions: split &amp; reverse. However my code is helpful for those who want the solution without using those functions.<br />\n`import java.util.ArrayList;\nimport java.util.Scanner;</p>\n<p>class ReverseWordSentence {</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(&quot;Enter the phrase to be reversed: &quot;);\n    Scanner sc = new Scanner(System.in);\n    String phrase = sc.nextLine();\n    char[] ch = phrase.toCharArray();\n    ArrayList&lt;Character&gt; wdl = new ArrayList&lt;Character&gt;();\n    for(int i=0; i&lt;ch.length; i++) {\n        if(String.valueOf(ch[i]).equals(&quot; &quot;) || (i == phrase.length()-1) ) {\n            if (i == phrase.length()-1) {\n                wdl.add(ch[i]);\n            }\n            \n            for(int j=wdl.size()-1; j&gt;-1;--j) {\n                System.out.print(wdl.get(j));\n            }\n            \n            if(ch[i]==' ') {\n                System.out.print(&quot; &quot;);\n            }\n            \n            wdl.clear();\n        }\n        else\n        {\n            wdl.add(ch[i]);\n        }\n    }\n}\n</code></pre>\n<p>}`</p>\n"},{"comments":[{"owner":{"account_id":2157438,"reputation":1216,"user_id":1912318,"display_name":"ishimwe"},"score":0,"creation_date":1677066844,"post_id":75486947,"comment_id":133262991,"body_markdown":"Your solution is reversing the whole sentence and not individual words.","body":"Your solution is reversing the whole sentence and not individual words."},{"owner":{"account_id":2157438,"reputation":1216,"user_id":1912318,"display_name":"ishimwe"},"score":0,"creation_date":1677066895,"post_id":75486947,"comment_id":133263009,"body_markdown":"Answer does not resolve the asked question.","body":"Answer does not resolve the asked question."}],"tags":[],"owner":{"account_id":27813373,"reputation":1,"user_id":21235322,"display_name":"SIBIHARAN S"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676651710,"creation_date":1676651710,"answer_id":75486947,"question_id":19462439,"body_markdown":"**Given a String S, reverse the string without reversing its individual words. Words are separated by dots.**\r\n\r\n    public static void main(String[] args) {\r\n        String s = &quot;i.love.java&quot;;\r\n        String[] words = s.split(&quot;\\\\.&quot;);\r\n        StringBuilder sb = new StringBuilder();\r\n        for(int i = words.length-1;i&gt;=0;i--){\r\n            sb.append(words[i]);\r\n            if( i != 0){\r\n                sb.append(&quot;.&quot;);\r\n            }\r\n        }\r\n        System.out.println(sb.toString());\r\n    }","title":"Reverse each word of user given string without altering their position","body":"<p><strong>Given a String S, reverse the string without reversing its individual words. Words are separated by dots.</strong></p>\n<pre><code>public static void main(String[] args) {\n    String s = &quot;i.love.java&quot;;\n    String[] words = s.split(&quot;\\\\.&quot;);\n    StringBuilder sb = new StringBuilder();\n    for(int i = words.length-1;i&gt;=0;i--){\n        sb.append(words[i]);\n        if( i != 0){\n            sb.append(&quot;.&quot;);\n        }\n    }\n    System.out.println(sb.toString());\n}\n</code></pre>\n"}],"owner":{"account_id":1732159,"reputation":15,"user_id":2350440,"display_name":"debanjan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94419,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"answer_count":27,"score":-3,"last_activity_date":1676651710,"creation_date":1382157739,"question_id":19462439,"body_markdown":"I need a little help. I found a question like **&quot;Write a Java program that will reverse each word of user given string without altering their position and using any built in function.&quot;**  \r\n\r\nI solved a code for reversing the whole sentence, but I don&#39;t  know how to solve this one. Please help me...\r\n\r\n    import java.io.*;\r\n    class test25 { \r\n        public static void main(String args[]) throws IOException { \r\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n            System.out.print(&quot;Enter string: &quot;);\r\n            String s = br.readLine();\r\n            String reverse = &quot;&quot;;\r\n            int length = s.length();\r\n    \r\n            for (int i = length - 1; i &gt;= 0; i--)\r\n                reverse = reverse + s.charAt(i);\r\n            System.out.println(&quot;Result:&quot; + reverse); \r\n        } \r\n    }","title":"Reverse each word of user given string without altering their position","body":"<p>I need a little help. I found a question like <strong>\"Write a Java program that will reverse each word of user given string without altering their position and using any built in function.\"</strong>  </p>\n\n<p>I solved a code for reversing the whole sentence, but I don't  know how to solve this one. Please help me...</p>\n\n<pre><code>import java.io.*;\nclass test25 { \n    public static void main(String args[]) throws IOException { \n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        System.out.print(\"Enter string: \");\n        String s = br.readLine();\n        String reverse = \"\";\n        int length = s.length();\n\n        for (int i = length - 1; i &gt;= 0; i--)\n            reverse = reverse + s.charAt(i);\n        System.out.println(\"Result:\" + reverse); \n    } \n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1676664941,"post_id":75486901,"comment_id":133190310,"body_markdown":"Have you overriden `equals` in `DoctorPOJO` class?","body":"Have you overriden <code>equals</code> in <code>DoctorPOJO</code> class?"},{"owner":{"account_id":18383045,"reputation":517,"user_id":13604662,"display_name":"Soumalya Bhattacharya"},"score":0,"creation_date":1676696074,"post_id":75486901,"comment_id":133194201,"body_markdown":"I didn&#39;t understand your point that well. Why do I need to override the equals","body":"I didn&#39;t understand your point that well. Why do I need to override the equals"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1676711343,"post_id":75486901,"comment_id":133195616,"body_markdown":"`given(doctorService.addNewDoctor(doctorPOJO)).willReturn(doc)` will return doc if actual argument to addNewDoctor is equal to doctorPOJO. Equality is checked using equals method. Default implementation checks if it is the same object - which is why you need to override it.","body":"<code>given(doctorService.addNewDoctor(doctorPOJO)).willReturn(doc&zwnj;&#8203;)</code> will return doc if actual argument to addNewDoctor is equal to doctorPOJO. Equality is checked using equals method. Default implementation checks if it is the same object - which is why you need to override it."},{"owner":{"account_id":18383045,"reputation":517,"user_id":13604662,"display_name":"Soumalya Bhattacharya"},"score":0,"creation_date":1676829901,"post_id":75486901,"comment_id":133211817,"body_markdown":"yeah add new doctor only accepts arguements of Type DoctorPOJO","body":"yeah add new doctor only accepts arguements of Type DoctorPOJO"}],"owner":{"account_id":18383045,"reputation":517,"user_id":13604662,"display_name":"Soumalya Bhattacharya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676651434,"creation_date":1676651434,"question_id":75486901,"body_markdown":"I&#39;m creating a REST API in spring boot where I have a `post` request end point. If it succeeds it returns the URI of the newly created resource in the `location header`.\r\n\r\nI wanted to write tests for the endpoint. I&#39;m using JUnit v5, and Mockito.\r\nThe problem is I have mocked the call to the service function but it still returns a `NullPointerException`\r\n\r\nIn the controller class, in the post end point I have this function:\r\n\r\n    @PostMapping(value = &quot;/new&quot;)\r\n        public ResponseEntity&lt;String&gt; registerNewDoctor(@RequestBody @Valid DoctorPOJO doctor) {\r\n            Doctor savedDoctor = doctorService.addNewDoctor(doctor);\r\n            if (doctor != null) {\r\n                log.debug(&quot;DOCTOR SAVED: {}&quot;,savedDoctor);\r\n                URI location = ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/id/{id}&quot;).buildAndExpand(savedDoctor.getDocId()).toUri();\r\n                return ResponseEntity.created(location).build();\r\n            } else {\r\n                return ResponseEntity.status(HttpStatus.UNPROCESSABLE_ENTITY).body(&quot;Object can not be processed&quot;);\r\n            }\r\n        }\r\n\r\nIn the unit Test I have:\r\n\r\n    @WebMvcTest\r\n    @Slf4j\r\n    class DoctorControllerTest {\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n    @MockBean\r\n    private DoctorService doctorService;\r\n    @MockBean\r\n    private SlotService slotService;\r\n    @Test\r\n    void registerNewDoctorTest() throws Exception {\r\n            // given - set up\r\n            SlotPOJO slot1 = new SlotPOJO(&quot;monday&quot;, LocalTime.parse(&quot;09:00:00.00&quot;), LocalTime.parse(&quot;13:00:00.00&quot;), LocalTime.parse(&quot;00:15:00.00&quot;));\r\n            SlotPOJO slot2 = new SlotPOJO(&quot;tuesday&quot;, LocalTime.parse(&quot;09:00:00.00&quot;), LocalTime.parse(&quot;13:00:00.00&quot;), LocalTime.parse(&quot;00:15:00.00&quot;));\r\n            List&lt;SlotPOJO&gt; slotPOJOList = new ArrayList&lt;&gt;(Arrays.asList(slot1, slot2));\r\n            DoctorPOJO doctorPOJO = new DoctorPOJO(1, &quot;doctor1&quot;, &quot;doc1email@gmail.com&quot;, &quot;1234567890&quot;, &quot;123&quot;, &quot;MBBS&quot;, &quot;Orthopedics&quot;, &quot;4y&quot;, slotPOJOList);\r\n            Doctor doc = new Doctor(1, &quot;doctor1&quot;, &quot;doc1email@gmail.com&quot;, &quot;1234567890&quot;, &quot;123&quot;, &quot;MBBS&quot;, &quot;Orthopedics&quot;, &quot;4y&quot;);\r\n    \r\n           // mocking the service method \r\n            given(doctorService.addNewDoctor(doctorPOJO)).willReturn(doc);\r\n    \r\n            // when - perform actions to be tested\r\n            ResultActions response = mockMvc.perform(post(&quot;/doctor/new&quot;).contentType(MediaType.APPLICATION_JSON).content(objectMapper.writeValueAsString(doctorPOJO)).accept(MediaType.APPLICATION_JSON));\r\n    \r\n            // then - verify the results\r\n            response.andDo(print()).andExpect(status().isCreated());\r\n        }\r\n    }\r\n\r\nAs you can see I have mocked the `addNewDoctor` method using mockito to return `doc` when called but I still get this error:\r\n\r\n&gt; Request processing failed; nested exception is\r\n&gt; java.lang.NullPointerException: Cannot invoke\r\n&gt; &quot;project.doctorservice.entity.Doctor.getDocId()&quot; because &quot;savedDoctor&quot;\r\n&gt; is null\r\n\r\nPlease help me sort out this mistake and guide me a little to how to do it correctly because I&#39;m new to unit testing","title":"How to test a post request which returns a URI with spring boot, junit 5 and mockito","body":"<p>I'm creating a REST API in spring boot where I have a <code>post</code> request end point. If it succeeds it returns the URI of the newly created resource in the <code>location header</code>.</p>\n<p>I wanted to write tests for the endpoint. I'm using JUnit v5, and Mockito.\nThe problem is I have mocked the call to the service function but it still returns a <code>NullPointerException</code></p>\n<p>In the controller class, in the post end point I have this function:</p>\n<pre><code>@PostMapping(value = &quot;/new&quot;)\n    public ResponseEntity&lt;String&gt; registerNewDoctor(@RequestBody @Valid DoctorPOJO doctor) {\n        Doctor savedDoctor = doctorService.addNewDoctor(doctor);\n        if (doctor != null) {\n            log.debug(&quot;DOCTOR SAVED: {}&quot;,savedDoctor);\n            URI location = ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/id/{id}&quot;).buildAndExpand(savedDoctor.getDocId()).toUri();\n            return ResponseEntity.created(location).build();\n        } else {\n            return ResponseEntity.status(HttpStatus.UNPROCESSABLE_ENTITY).body(&quot;Object can not be processed&quot;);\n        }\n    }\n</code></pre>\n<p>In the unit Test I have:</p>\n<pre><code>@WebMvcTest\n@Slf4j\nclass DoctorControllerTest {\n@Autowired\nprivate MockMvc mockMvc;\n@Autowired\nprivate ObjectMapper objectMapper;\n@MockBean\nprivate DoctorService doctorService;\n@MockBean\nprivate SlotService slotService;\n@Test\nvoid registerNewDoctorTest() throws Exception {\n        // given - set up\n        SlotPOJO slot1 = new SlotPOJO(&quot;monday&quot;, LocalTime.parse(&quot;09:00:00.00&quot;), LocalTime.parse(&quot;13:00:00.00&quot;), LocalTime.parse(&quot;00:15:00.00&quot;));\n        SlotPOJO slot2 = new SlotPOJO(&quot;tuesday&quot;, LocalTime.parse(&quot;09:00:00.00&quot;), LocalTime.parse(&quot;13:00:00.00&quot;), LocalTime.parse(&quot;00:15:00.00&quot;));\n        List&lt;SlotPOJO&gt; slotPOJOList = new ArrayList&lt;&gt;(Arrays.asList(slot1, slot2));\n        DoctorPOJO doctorPOJO = new DoctorPOJO(1, &quot;doctor1&quot;, &quot;doc1email@gmail.com&quot;, &quot;1234567890&quot;, &quot;123&quot;, &quot;MBBS&quot;, &quot;Orthopedics&quot;, &quot;4y&quot;, slotPOJOList);\n        Doctor doc = new Doctor(1, &quot;doctor1&quot;, &quot;doc1email@gmail.com&quot;, &quot;1234567890&quot;, &quot;123&quot;, &quot;MBBS&quot;, &quot;Orthopedics&quot;, &quot;4y&quot;);\n\n       // mocking the service method \n        given(doctorService.addNewDoctor(doctorPOJO)).willReturn(doc);\n\n        // when - perform actions to be tested\n        ResultActions response = mockMvc.perform(post(&quot;/doctor/new&quot;).contentType(MediaType.APPLICATION_JSON).content(objectMapper.writeValueAsString(doctorPOJO)).accept(MediaType.APPLICATION_JSON));\n\n        // then - verify the results\n        response.andDo(print()).andExpect(status().isCreated());\n    }\n}\n</code></pre>\n<p>As you can see I have mocked the <code>addNewDoctor</code> method using mockito to return <code>doc</code> when called but I still get this error:</p>\n<blockquote>\n<p>Request processing failed; nested exception is\njava.lang.NullPointerException: Cannot invoke\n&quot;project.doctorservice.entity.Doctor.getDocId()&quot; because &quot;savedDoctor&quot;\nis null</p>\n</blockquote>\n<p>Please help me sort out this mistake and guide me a little to how to do it correctly because I'm new to unit testing</p>\n"},{"tags":["java","spring","spring-mvc","spring-security","spring-security-oauth2"],"comments":[{"owner":{"account_id":1643695,"reputation":1322,"user_id":1515665,"accept_rate":75,"display_name":"Sajith Vijesekara"},"score":0,"creation_date":1570443351,"post_id":46042812,"comment_id":102902288,"body_markdown":"Is above issue fixed now ??","body":"Is above issue fixed now ??"}],"answers":[{"tags":[],"owner":{"account_id":2659345,"reputation":51,"user_id":2299392,"display_name":"Ali Akkaya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520804600,"creation_date":1520804600,"answer_id":49225421,"question_id":46042812,"body_markdown":"Can you try injecting ClientDetailsService to Authorization Server Config and configure it as below;\r\n\r\n**Authorization Server Configuration**\r\n\r\n    .....\r\n\r\n    @Autowired\r\n    private ClientDetailsService clientDetailsService;\r\n\r\n    ......\r\n    ......\r\n\r\n    @Override\r\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n        clients.withClientDetails(clientDetailsService);\r\n    }\r\n","title":"Spring security OAuth2 Refresh Token - IllegalStateException, UserDetailsService is required","body":"<p>Can you try injecting ClientDetailsService to Authorization Server Config and configure it as below;</p>\n\n<p><strong>Authorization Server Configuration</strong></p>\n\n<pre><code>.....\n\n@Autowired\nprivate ClientDetailsService clientDetailsService;\n\n......\n......\n\n@Override\npublic void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n    clients.withClientDetails(clientDetailsService);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297276,"reputation":2523,"user_id":4506703,"display_name":"DEWA Kazuyuki - "},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572928798,"creation_date":1572928798,"answer_id":58704608,"question_id":46042812,"body_markdown":"I&#39;ve solved this problem to use `endpoints.tokenServices()`.\r\n\r\nsee also: [Refresh token call fails using spring security an oauth2 with error: UserDetailsService is required](https://stackoverflow.com/a/58704509/4506703)","title":"Spring security OAuth2 Refresh Token - IllegalStateException, UserDetailsService is required","body":"<p>I've solved this problem to use <code>endpoints.tokenServices()</code>.</p>\n\n<p>see also: <a href=\"https://stackoverflow.com/a/58704509/4506703\">Refresh token call fails using spring security an oauth2 with error: UserDetailsService is required</a></p>\n"},{"comments":[{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":0,"creation_date":1612463125,"post_id":64652110,"comment_id":116781717,"body_markdown":"If I create an `AuthorizationServerConfigurerAdapter` the API suddenly starts returning &quot;Full authentication is required to access this resource&quot;, even though nothing else changed.","body":"If I create an <code>AuthorizationServerConfigurerAdapter</code> the API suddenly starts returning &quot;Full authentication is required to access this resource&quot;, even though nothing else changed."},{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":0,"creation_date":1612463817,"post_id":64652110,"comment_id":116782025,"body_markdown":"If that happens to you, doing the injection on `WebSecurityConfigurerAdapter` as shown on https://stackoverflow.com/a/43907120/679240 should do the trick.","body":"If that happens to you, doing the injection on <code>WebSecurityConfigurerAdapter</code> as shown on <a href=\"https://stackoverflow.com/a/43907120/679240\">stackoverflow.com/a/43907120/679240</a> should do the trick."}],"tags":[],"owner":{"account_id":6516085,"reputation":1261,"user_id":8735689,"accept_rate":64,"display_name":"Nelio Alves"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1604345449,"creation_date":1604345449,"answer_id":64652110,"question_id":46042812,"body_markdown":"Inject UserDetailsService in your AuthorizationServerConfigurerAdapter:\r\n\r\n\t@Autowired\r\n\tprivate UserDetailsService userDetailsService;\r\n\r\nAnd then configure it on this configure method:\r\n\r\n\t@Override\r\n\tpublic void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\r\n\t\t\r\n        endpoints\r\n        ...\r\n\r\n\t\t.userDetailsService(userDetailsService);\r\n\t}","title":"Spring security OAuth2 Refresh Token - IllegalStateException, UserDetailsService is required","body":"<p>Inject UserDetailsService in your AuthorizationServerConfigurerAdapter:</p>\n<pre><code>@Autowired\nprivate UserDetailsService userDetailsService;\n</code></pre>\n<p>And then configure it on this configure method:</p>\n<pre><code>@Override\npublic void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\n    \n    endpoints\n    ...\n\n    .userDetailsService(userDetailsService);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612464236,"creation_date":1612464236,"answer_id":66051862,"question_id":46042812,"body_markdown":"In my case, [Nelio Alves&#39; answer](https://stackoverflow.com/a/64652110/679240) almost did the trick, but it started returning &quot;Full authentication is required to access this resource&quot; for every request. Instead, I had to do the injection on `WebSecurityConfigurerAdapter`, roughly based on [Vijay Nandwana&#39;s answer to another similar question](https://stackoverflow.com/a/43907120/679240).\r\n\r\nHere&#39;s my code, for reference:\r\n\r\n``` java\r\npublic class MyWebSecurityConfigurer extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private AtsUserDetailsService userDetailsService;\r\n\r\n    (...)\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n        this.endpoints.getEndpointsConfigurer().userDetailsService(this.userDetailsService);\r\n\t    \r\n\t\thttp.csrf().disable()\r\n\t\t\t.authorizeRequests()\r\n\t\t\t.antMatchers(HttpMethod.POST, &quot;/oauth/token&quot;).permitAll()\r\n\t\t\t.anyRequest().fullyAuthenticated();\r\n\t}\r\n\r\n\t(...)\r\n\r\n}\r\n```","title":"Spring security OAuth2 Refresh Token - IllegalStateException, UserDetailsService is required","body":"<p>In my case, <a href=\"https://stackoverflow.com/a/64652110/679240\">Nelio Alves' answer</a> almost did the trick, but it started returning &quot;Full authentication is required to access this resource&quot; for every request. Instead, I had to do the injection on <code>WebSecurityConfigurerAdapter</code>, roughly based on <a href=\"https://stackoverflow.com/a/43907120/679240\">Vijay Nandwana's answer to another similar question</a>.</p>\n<p>Here's my code, for reference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyWebSecurityConfigurer extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private AtsUserDetailsService userDetailsService;\n\n    (...)\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        this.endpoints.getEndpointsConfigurer().userDetailsService(this.userDetailsService);\n        \n        http.csrf().disable()\n            .authorizeRequests()\n            .antMatchers(HttpMethod.POST, &quot;/oauth/token&quot;).permitAll()\n            .anyRequest().fullyAuthenticated();\n    }\n\n    (...)\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10114466,"reputation":151,"user_id":7473616,"display_name":"Kiran Maharjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676651318,"creation_date":1676651318,"answer_id":75486879,"question_id":46042812,"body_markdown":"Your scope and authorization_grant_types should be as following. This is how it solved for me.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eL6tY.png","title":"Spring security OAuth2 Refresh Token - IllegalStateException, UserDetailsService is required","body":"<p>Your scope and authorization_grant_types should be as following. This is how it solved for me.</p>\n<p><a href=\"https://i.stack.imgur.com/eL6tY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eL6tY.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8953722,"reputation":450,"user_id":6678890,"display_name":"Zalak Parikh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4997,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":5,"score":9,"last_activity_date":1676651318,"creation_date":1504551783,"question_id":46042812,"body_markdown":"I am new to Spring security and developing spring REST API with OAuth2 authentication and authorization. Everything is working fine, but when I request Refresh token, than I get error which states -\r\n\r\n&gt; org.springframework.security.oauth2.provider.endpoint.TokenEndpoint handleException\r\nIllegalStateException, UserDetailsService is required.\r\n\r\n**NOTE:** I am using custom authentication provider to authenticate user credentials from database.\r\n\r\nHere is my code:\r\n\r\n**Web security configure adapter:**\r\n\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class OAuth2SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n \r\n    @Autowired\r\n    private ClientDetailsService clientDetailsService;\r\n     \r\n    @Autowired\r\n    private CustomAuthenticationProvider authProvider;\r\n    \r\n    @Override\r\n    protected void configure(\r\n      AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(authProvider);\r\n    }\r\n  \r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n        .csrf().disable()\r\n        .anonymous().disable()\r\n        .authorizeRequests()\r\n        .antMatchers(&quot;/oauth/token&quot;).permitAll();\r\n\t}\r\n \r\n    @Override\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n \r\n \r\n    @Bean\r\n    public TokenStore tokenStore() {\r\n        return new InMemoryTokenStore();\r\n    }\r\n \r\n    @Bean\r\n    @Autowired\r\n    public TokenStoreUserApprovalHandler userApprovalHandler(TokenStore tokenStore){\r\n        TokenStoreUserApprovalHandler handler = new TokenStoreUserApprovalHandler();\r\n        handler.setTokenStore(tokenStore);\r\n        handler.setRequestFactory(new DefaultOAuth2RequestFactory(clientDetailsService));\r\n        handler.setClientDetailsService(clientDetailsService);\r\n        return handler;\r\n    }\r\n     \r\n    @Bean\r\n    @Autowired\r\n    public ApprovalStore approvalStore(TokenStore tokenStore) throws Exception {\r\n        TokenApprovalStore store = new TokenApprovalStore();\r\n        store.setTokenStore(tokenStore);\r\n        return store;\r\n    }\r\n     \r\n    }\r\n\r\n**Custom Authentication Provider**\r\n\r\n    @Component\r\n    public class CustomAuthenticationProvider implements AuthenticationProvider {\r\n\r\n\t@Override\r\n    public Authentication authenticate(Authentication authentication) \r\n      throws AuthenticationException {\r\n  \r\n        String username = authentication.getName();\r\n        String password = authentication.getCredentials().toString();\r\n        Ss_admin_service ss_admin_service = new Ss_admin_service();\r\n        Ss_admin ss_admin = new Ss_admin();\r\n        ss_admin.setA_password(password);\r\n        ss_admin.setA_username(username);\r\n        ss_admin_service.doLogin(ss_admin);\r\n        if(!ss_admin_service.doLogin(ss_admin)) {\r\n        \tthrow new BadCredentialsException(&quot;Invalid username/password&quot;);\r\n        }\r\n        return new UsernamePasswordAuthenticationToken(username, password, (Collection&lt;? extends GrantedAuthority&gt;) new ArrayList&lt;&gt;());\r\n\t}\r\n\t\r\n\t@Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        return authentication.equals(UsernamePasswordAuthenticationToken.class);\r\n    }\r\n\t\r\n    }\r\n\r\n**Authorization Server Configuration**\r\n\r\n    @Configuration\r\n    @EnableAuthorizationServer\r\n    public class AuthorizationServerConfiguration extends AuthorizationServerConfigurerAdapter {\r\n \r\n    private static String REALM=&quot;MY_OAUTH_REALM&quot;;\r\n     \r\n    @Autowired\r\n    private TokenStore tokenStore;\r\n \r\n    @Autowired\r\n    private UserApprovalHandler userApprovalHandler;\r\n \r\n    @Autowired\r\n    @Qualifier(&quot;authenticationManagerBean&quot;)\r\n    private AuthenticationManager authenticationManager;\r\n \r\n    @Override\r\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n \r\n        clients.inMemory()\r\n            .withClient(&quot;my-trusted-client&quot;)\r\n            .authorizedGrantTypes(&quot;password&quot;, &quot;authorization_code&quot;, &quot;refresh_token&quot;, &quot;implicit&quot;)\r\n            .authorities(&quot;ROLE_CLIENT&quot;, &quot;ROLE_TRUSTED_CLIENT&quot;)\r\n            .scopes(&quot;read&quot;, &quot;write&quot;, &quot;trust&quot;)\r\n            .secret(&quot;secret&quot;)\r\n            .accessTokenValiditySeconds(10).//Access token is only valid for 10 sec for testing.\r\n            refreshTokenValiditySeconds(10);//Refresh token is only valid for 10 sec for testing.\r\n    }\r\n \r\n    @Override\r\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\r\n        endpoints.tokenStore(tokenStore).userApprovalHandler(userApprovalHandler)\r\n                .authenticationManager(authenticationManager);\r\n    }\r\n \r\n    @Override\r\n    public void configure(AuthorizationServerSecurityConfigurer oauthServer) throws Exception {\r\n        oauthServer.realm(REALM+&quot;/client&quot;);\r\n    }\r\n \r\n    }\r\n\r\n**Resource server config**\r\n\r\n    @Configuration\r\n    @EnableResourceServer\r\n    public class OAuth2ResourceServerConfig extends ResourceServerConfigurerAdapter {\r\n \r\n\tprivate static final String RESOURCE_ID = &quot;SPRING_REST_API&quot;;\r\n \r\n\t@Override\r\n\tpublic void configure(ResourceServerSecurityConfigurer resources) {\r\n\t\tresources.resourceId(RESOURCE_ID).stateless(false);\r\n\t}\r\n \r\n\t@Override\r\n\tpublic void configure(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t.anonymous().disable()\r\n\t\t.requestMatchers().antMatchers(&quot;/admin/**&quot;)\r\n\t\t.and().authorizeRequests()\r\n\t\t.antMatchers(&quot;/admin/**&quot;).access(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n\t\t.and().exceptionHandling().accessDeniedHandler(new OAuth2AccessDeniedHandler());\r\n\t}\r\n \r\n    }\r\n","title":"Spring security OAuth2 Refresh Token - IllegalStateException, UserDetailsService is required","body":"<p>I am new to Spring security and developing spring REST API with OAuth2 authentication and authorization. Everything is working fine, but when I request Refresh token, than I get error which states -</p>\n\n<blockquote>\n  <p>org.springframework.security.oauth2.provider.endpoint.TokenEndpoint handleException\n  IllegalStateException, UserDetailsService is required.</p>\n</blockquote>\n\n<p><strong>NOTE:</strong> I am using custom authentication provider to authenticate user credentials from database.</p>\n\n<p>Here is my code:</p>\n\n<p><strong>Web security configure adapter:</strong></p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class OAuth2SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n@Autowired\nprivate ClientDetailsService clientDetailsService;\n\n@Autowired\nprivate CustomAuthenticationProvider authProvider;\n\n@Override\nprotected void configure(\n  AuthenticationManagerBuilder auth) throws Exception {\n    auth.authenticationProvider(authProvider);\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n    .csrf().disable()\n    .anonymous().disable()\n    .authorizeRequests()\n    .antMatchers(\"/oauth/token\").permitAll();\n}\n\n@Override\n@Bean\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n}\n\n\n@Bean\npublic TokenStore tokenStore() {\n    return new InMemoryTokenStore();\n}\n\n@Bean\n@Autowired\npublic TokenStoreUserApprovalHandler userApprovalHandler(TokenStore tokenStore){\n    TokenStoreUserApprovalHandler handler = new TokenStoreUserApprovalHandler();\n    handler.setTokenStore(tokenStore);\n    handler.setRequestFactory(new DefaultOAuth2RequestFactory(clientDetailsService));\n    handler.setClientDetailsService(clientDetailsService);\n    return handler;\n}\n\n@Bean\n@Autowired\npublic ApprovalStore approvalStore(TokenStore tokenStore) throws Exception {\n    TokenApprovalStore store = new TokenApprovalStore();\n    store.setTokenStore(tokenStore);\n    return store;\n}\n\n}\n</code></pre>\n\n<p><strong>Custom Authentication Provider</strong></p>\n\n<pre><code>@Component\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\n\n@Override\npublic Authentication authenticate(Authentication authentication) \n  throws AuthenticationException {\n\n    String username = authentication.getName();\n    String password = authentication.getCredentials().toString();\n    Ss_admin_service ss_admin_service = new Ss_admin_service();\n    Ss_admin ss_admin = new Ss_admin();\n    ss_admin.setA_password(password);\n    ss_admin.setA_username(username);\n    ss_admin_service.doLogin(ss_admin);\n    if(!ss_admin_service.doLogin(ss_admin)) {\n        throw new BadCredentialsException(\"Invalid username/password\");\n    }\n    return new UsernamePasswordAuthenticationToken(username, password, (Collection&lt;? extends GrantedAuthority&gt;) new ArrayList&lt;&gt;());\n}\n\n@Override\npublic boolean supports(Class&lt;?&gt; authentication) {\n    return authentication.equals(UsernamePasswordAuthenticationToken.class);\n}\n\n}\n</code></pre>\n\n<p><strong>Authorization Server Configuration</strong></p>\n\n<pre><code>@Configuration\n@EnableAuthorizationServer\npublic class AuthorizationServerConfiguration extends AuthorizationServerConfigurerAdapter {\n\nprivate static String REALM=\"MY_OAUTH_REALM\";\n\n@Autowired\nprivate TokenStore tokenStore;\n\n@Autowired\nprivate UserApprovalHandler userApprovalHandler;\n\n@Autowired\n@Qualifier(\"authenticationManagerBean\")\nprivate AuthenticationManager authenticationManager;\n\n@Override\npublic void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n\n    clients.inMemory()\n        .withClient(\"my-trusted-client\")\n        .authorizedGrantTypes(\"password\", \"authorization_code\", \"refresh_token\", \"implicit\")\n        .authorities(\"ROLE_CLIENT\", \"ROLE_TRUSTED_CLIENT\")\n        .scopes(\"read\", \"write\", \"trust\")\n        .secret(\"secret\")\n        .accessTokenValiditySeconds(10).//Access token is only valid for 10 sec for testing.\n        refreshTokenValiditySeconds(10);//Refresh token is only valid for 10 sec for testing.\n}\n\n@Override\npublic void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\n    endpoints.tokenStore(tokenStore).userApprovalHandler(userApprovalHandler)\n            .authenticationManager(authenticationManager);\n}\n\n@Override\npublic void configure(AuthorizationServerSecurityConfigurer oauthServer) throws Exception {\n    oauthServer.realm(REALM+\"/client\");\n}\n\n}\n</code></pre>\n\n<p><strong>Resource server config</strong></p>\n\n<pre><code>@Configuration\n@EnableResourceServer\npublic class OAuth2ResourceServerConfig extends ResourceServerConfigurerAdapter {\n\nprivate static final String RESOURCE_ID = \"SPRING_REST_API\";\n\n@Override\npublic void configure(ResourceServerSecurityConfigurer resources) {\n    resources.resourceId(RESOURCE_ID).stateless(false);\n}\n\n@Override\npublic void configure(HttpSecurity http) throws Exception {\n    http\n    .anonymous().disable()\n    .requestMatchers().antMatchers(\"/admin/**\")\n    .and().authorizeRequests()\n    .antMatchers(\"/admin/**\").access(\"hasRole('ADMIN')\")\n    .and().exceptionHandling().accessDeniedHandler(new OAuth2AccessDeniedHandler());\n}\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jwt"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1676654247,"post_id":75485975,"comment_id":133187397,"body_markdown":"`Claims::get(&quot;name of the token&quot;)` is not a valid method reference. Try this: `claims -&gt; claims.get(&quot;name of the token&quot;, String.class)`.","body":"<code>Claims::get(&quot;name of the token&quot;)</code> is not a valid method reference. Try this: <code>claims -&gt; claims.get(&quot;name of the token&quot;, String.class)</code>."}],"owner":{"account_id":5107716,"reputation":31,"user_id":4095333,"display_name":"Klaus Friman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1676651221,"creation_date":1676646373,"question_id":75485975,"body_markdown":"I&#39;m trying in to get a custom claim from JWT token in Spring Boot. I am able to get the subject as below:\r\n\r\n    public String extractUsername(String token) {\r\n\t\treturn extractClaim(token,  Claims::getSubject);\r\n    }\r\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\r\n\t    final Claims claims = extractAllClaims(token);\r\n\t    return claimsResolver.apply(claims);\r\n    }\r\n\r\n\r\nI tried  this \r\n\r\n    public String extractUsername(String token) {\r\n\t\treturn extractClaim(token,  Claims::get(&quot;name of the token&quot;));\r\n    }\r\n\r\n\r\nThis didn&#39;t work. The function get is like getSubjet present under io.jsonwebtoken.claims. ","title":"Getting a custom claim from JWT","body":"<p>I'm trying in to get a custom claim from JWT token in Spring Boot. I am able to get the subject as below:</p>\n<pre><code>public String extractUsername(String token) {\n    return extractClaim(token,  Claims::getSubject);\n}\npublic &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\n    final Claims claims = extractAllClaims(token);\n    return claimsResolver.apply(claims);\n}\n</code></pre>\n<p>I tried  this</p>\n<pre><code>public String extractUsername(String token) {\n    return extractClaim(token,  Claims::get(&quot;name of the token&quot;));\n}\n</code></pre>\n<p>This didn't work. The function get is like getSubjet present under io.jsonwebtoken.claims.</p>\n"},{"tags":["java","eclipse","product","rcp","e4"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1676532423,"post_id":75465813,"comment_id":133156448,"body_markdown":"It does look like missing plug-ins or wrong versions of plug-ins.  The first error is `Unresolved requirement: Require-Bundle: com.sun.jna; bundle-version=&quot;[5.8.0,6.0.0)&quot;` - plug-in `com.sun.jna` with a version of at least 5.8.0 and less than 6.0.0 cannot be found. You need to make sure all those plug-ins are included in the .product file. Even the simplest e4 RCP will contain over 90 plug-ins.","body":"It does look like missing plug-ins or wrong versions of plug-ins.  The first error is <code>Unresolved requirement: Require-Bundle: com.sun.jna; bundle-version=&quot;[5.8.0,6.0.0)&quot;</code> - plug-in <code>com.sun.jna</code> with a version of at least 5.8.0 and less than 6.0.0 cannot be found. You need to make sure all those plug-ins are included in the .product file. Even the simplest e4 RCP will contain over 90 plug-ins."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1676532879,"post_id":75465813,"comment_id":133156550,"body_markdown":"Note: Using a features based .product file can simplify things - in that case you just list your own feature listing your plug-ins and a small number of existing features containing the standard code - for example the `org.eclipse.e4.rcp` is enough for a &quot;pure&quot; e4 RCP.","body":"Note: Using a features based .product file can simplify things - in that case you just list your own feature listing your plug-ins and a small number of existing features containing the standard code - for example the <code>org.eclipse.e4.rcp</code> is enough for a &quot;pure&quot; e4 RCP."},{"owner":{"account_id":27797234,"reputation":1,"user_id":21222422,"display_name":"Jonas Schrottenbaum"},"score":0,"creation_date":1676651131,"post_id":75465813,"comment_id":133186415,"body_markdown":"Hello @greg-449, thanks for taking the time!\nI checked and the version of com.sun.jna in my product was 5.8.0. It was already included.\nNext i switched to a feature based product. The new product only contains org.eclipse.e4.rcp, my feature, org.eclipse.emf.ecore, org.eclipse.emf.common and my feature includes my plugin, two opcoach.e4.preferences plugins i used and because of the error with the DI i got (see Edit in Question) i again included org.eclipse.e4.core.services and org.eclipse.e4.ui.workbench. So i don&#39;t know why the EventBroker can&#39;t be injected. It still runs fine in the IDE.","body":"Hello @greg-449, thanks for taking the time! I checked and the version of com.sun.jna in my product was 5.8.0. It was already included. Next i switched to a feature based product. The new product only contains org.eclipse.e4.rcp, my feature, org.eclipse.emf.ecore, org.eclipse.emf.common and my feature includes my plugin, two opcoach.e4.preferences plugins i used and because of the error with the DI i got (see Edit in Question) i again included org.eclipse.e4.core.services and org.eclipse.e4.ui.workbench. So i don&#39;t know why the EventBroker can&#39;t be injected. It still runs fine in the IDE."},{"owner":{"account_id":27797234,"reputation":1,"user_id":21222422,"display_name":"Jonas Schrottenbaum"},"score":0,"creation_date":1676652582,"post_id":75465813,"comment_id":133186883,"body_markdown":"Another thing i&#39;m noticing: Every time i use the export wizard, the preferenceCustomization property gets removed from my product in the org.eclipse.core.runtime.products extenstion in the plugin.xml. I used it to specify a plugin_customization.ini for preferences default values. I guess that&#39;s not the problem right now, but i assume the ini will get lost in the export, or if it&#39;s there it will not be recognized and no default values will be used from it.","body":"Another thing i&#39;m noticing: Every time i use the export wizard, the preferenceCustomization property gets removed from my product in the org.eclipse.core.runtime.products extenstion in the plugin.xml. I used it to specify a plugin_customization.ini for preferences default values. I guess that&#39;s not the problem right now, but i assume the ini will get lost in the export, or if it&#39;s there it will not be recognized and no default values will be used from it."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1676661457,"post_id":75465813,"comment_id":133189397,"body_markdown":"The export RCP wizard is no longer supported and can be buggy. Only [tag:tycho] is supported for building RCPs. All the org.eclipse.e4 plugins are included in the org.eclipse.e4.rcp feature so should not need to be specified.","body":"The export RCP wizard is no longer supported and can be buggy. Only <a href=\"https://stackoverflow.com/questions/tagged/tycho\">tycho</a> is supported for building RCPs. All the org.eclipse.e4 plugins are included in the org.eclipse.e4.rcp feature so should not need to be specified."},{"owner":{"account_id":27797234,"reputation":1,"user_id":21222422,"display_name":"Jonas Schrottenbaum"},"score":0,"creation_date":1677322625,"post_id":75465813,"comment_id":133317534,"body_markdown":"I tried to set up tycho, but i&#39;m not quite sure how to do it. I&#39;m following the vogella tutorial on it. It assumes you have one project named target-platform with your target definition file named target-platform.target. I don&#39;t have this so i tried to set it up. After creating a new .target and adding my feature in the locations tab the errors org.eclipse.e4.core.services and org.eclipse.e4.ui.workbench could not be found showed. I wondered why as they are specified in the rcp feature in the product. And maybe this is the root of the problem. Turns out i have those two e4 plugins as ...(1/2)","body":"I tried to set up tycho, but i&#39;m not quite sure how to do it. I&#39;m following the vogella tutorial on it. It assumes you have one project named target-platform with your target definition file named target-platform.target. I don&#39;t have this so i tried to set it up. After creating a new .target and adding my feature in the locations tab the errors org.eclipse.e4.core.services and org.eclipse.e4.ui.workbench could not be found showed. I wondered why as they are specified in the rcp feature in the product. And maybe this is the root of the problem. Turns out i have those two e4 plugins as ...(1/2)"},{"owner":{"account_id":27797234,"reputation":1,"user_id":21222422,"display_name":"Jonas Schrottenbaum"},"score":0,"creation_date":1677322815,"post_id":75465813,"comment_id":133317550,"body_markdown":"Dependencies in my plugin. And as soon as i remove them from the plugin dependencies i get compile time errors. Any idea what i&#39;m doing wrong? I set up this project two years ago and did not know that much about a correct setup so i just added the e4 plugins as dependencies in my plugin. Is this wrong? Should they just be specified via the rcp feature in the product? If yes, how can i change it so no more compile errors occure after removing the two plugins from my plugin? (2/2)","body":"Dependencies in my plugin. And as soon as i remove them from the plugin dependencies i get compile time errors. Any idea what i&#39;m doing wrong? I set up this project two years ago and did not know that much about a correct setup so i just added the e4 plugins as dependencies in my plugin. Is this wrong? Should they just be specified via the rcp feature in the product? If yes, how can i change it so no more compile errors occure after removing the two plugins from my plugin? (2/2)"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1677322911,"post_id":75465813,"comment_id":133317562,"body_markdown":"The .target file lists the Eclipse code you want to use, for the current release of Eclipse just `https://download.eclipse.org/releases/2022-12` is enough. The .product file lists your feature and the Eclispe feature you want to use.","body":"The .target file lists the Eclipse code you want to use, for the current release of Eclipse just <code>https:&#47;&#47;download.eclipse.org&#47;releases&#47;2022-12</code> is enough. The .product file lists your feature and the Eclispe feature you want to use."},{"owner":{"account_id":27797234,"reputation":1,"user_id":21222422,"display_name":"Jonas Schrottenbaum"},"score":0,"creation_date":1677323372,"post_id":75465813,"comment_id":133317626,"body_markdown":"So for me it looks like adding them as dependencies in the plugin works inside the ide, but after the export it does not. That also would explain why it said the jna dependency is missing, because it tried to resolve it from the e4 plugins in my plugin and not from the same e4 plugins in the product where the jna was actually present.","body":"So for me it looks like adding them as dependencies in the plugin works inside the ide, but after the export it does not. That also would explain why it said the jna dependency is missing, because it tried to resolve it from the e4 plugins in my plugin and not from the same e4 plugins in the product where the jna was actually present."},{"owner":{"account_id":27797234,"reputation":1,"user_id":21222422,"display_name":"Jonas Schrottenbaum"},"score":0,"creation_date":1677323825,"post_id":75465813,"comment_id":133317686,"body_markdown":"If i specify https://download.eclipse.org/releases/2022-12 as software site location in the target it shows org.eclipse.equinox.p2.ui; org.eclipse.linuxtools.feature.group cannot be installed in this environment because its filter is not applicable. But what do you think about the e4 features as dependencies in my plugin? Could this be the problem?","body":"If i specify <a href=\"https://download.eclipse.org/releases/2022-12\" rel=\"nofollow noreferrer\">download.eclipse.org/releases/2022-12</a> as software site location in the target it shows org.eclipse.equinox.p2.ui; org.eclipse.linuxtools.feature.group cannot be installed in this environment because its filter is not applicable. But what do you think about the e4 features as dependencies in my plugin? Could this be the problem?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1677324443,"post_id":75465813,"comment_id":133317783,"body_markdown":"linuxtools is not part of e4, you will have to add another location to the target for it.  dependencies on e4 plug-ins in the MANIFEST.MF Require-Bundle entries is entirely normal.","body":"linuxtools is not part of e4, you will have to add another location to the target for it.  dependencies on e4 plug-ins in the MANIFEST.MF Require-Bundle entries is entirely normal."},{"owner":{"account_id":27797234,"reputation":1,"user_id":21222422,"display_name":"Jonas Schrottenbaum"},"score":0,"creation_date":1677328474,"post_id":75465813,"comment_id":133318347,"body_markdown":"Alright, so i&#39;m trying to get the target platform to work first then. What exactly did you mean by just https://download.eclipse.org/releases/2022-12 is enough?\nI used it as software site and then selected all and then the problem with linuxtools showed. But i dont use linuxtools. I don&#39;t even know what it is","body":"Alright, so i&#39;m trying to get the target platform to work first then. What exactly did you mean by just <a href=\"https://download.eclipse.org/releases/2022-12\" rel=\"nofollow noreferrer\">download.eclipse.org/releases/2022-12</a> is enough? I used it as software site and then selected all and then the problem with linuxtools showed. But i dont use linuxtools. I don&#39;t even know what it is"},{"owner":{"account_id":27797234,"reputation":1,"user_id":21222422,"display_name":"Jonas Schrottenbaum"},"score":0,"creation_date":1677328636,"post_id":75465813,"comment_id":133318380,"body_markdown":"Next i tried to follow the vogella tutorial on target platform which uses a similar site, but only includes eclipse platform sdk and equinox target components. But if i add just these i can&#39;t start my application because it says that org.apache.xmlgraphics is missing org.apache.comons.io, even though again, i dont use apache.xmlgraphics. Its just included in the rcp feature","body":"Next i tried to follow the vogella tutorial on target platform which uses a similar site, but only includes eclipse platform sdk and equinox target components. But if i add just these i can&#39;t start my application because it says that org.apache.xmlgraphics is missing org.apache.comons.io, even though again, i dont use apache.xmlgraphics. Its just included in the rcp feature"},{"owner":{"account_id":27797234,"reputation":1,"user_id":21222422,"display_name":"Jonas Schrottenbaum"},"score":0,"creation_date":1677328737,"post_id":75465813,"comment_id":133318393,"body_markdown":"I didn&#39;t know building rcp applications became a rocketscience in the meantime. Last time i used it i just pressed export and it worked. Its really frustrating to deal with this after a long time developing and not worrying about the export","body":"I didn&#39;t know building rcp applications became a rocketscience in the meantime. Last time i used it i just pressed export and it worked. Its really frustrating to deal with this after a long time developing and not worrying about the export"},{"owner":{"account_id":27797234,"reputation":1,"user_id":21222422,"display_name":"Jonas Schrottenbaum"},"score":0,"creation_date":1677329898,"post_id":75465813,"comment_id":133318592,"body_markdown":"Do i even need a target platform or can i just use the ide as target like before with tycho?\nIf i run mvn clean verify without the target platform in the tycho pom i get\n[ERROR] Cannot resolve project dependencies:\n[ERROR]   Software being installed: EloCalcProduct 1.0.0.qualifier\n[ERROR]   Missing requirement: testFeature.feature.group 1.0.0.qualifier requires &#39;org.eclipse.equinox.p2.iu; EloCalc 0.0.0&#39; but it could not be found\n[ERROR]   Cannot satisfy dependency: EloCalcProduct 1.0.0.qualifier depends on: org.eclipse.equinox.p2.iu; testFeature.feature.group 0.0.0","body":"Do i even need a target platform or can i just use the ide as target like before with tycho? If i run mvn clean verify without the target platform in the tycho pom i get [ERROR] Cannot resolve project dependencies: [ERROR]   Software being installed: EloCalcProduct 1.0.0.qualifier [ERROR]   Missing requirement: testFeature.feature.group 1.0.0.qualifier requires &#39;org.eclipse.equinox.p2.iu; EloCalc 0.0.0&#39; but it could not be found [ERROR]   Cannot satisfy dependency: EloCalcProduct 1.0.0.qualifier depends on: org.eclipse.equinox.p2.iu; testFeature.feature.group 0.0.0"},{"owner":{"account_id":27797234,"reputation":1,"user_id":21222422,"display_name":"Jonas Schrottenbaum"},"score":0,"creation_date":1677330238,"post_id":75465813,"comment_id":133318644,"body_markdown":"I added my plugin and my feature as modules in the pom. Is this correct?","body":"I added my plugin and my feature as modules in the pom. Is this correct?"}],"owner":{"account_id":27797234,"reputation":1,"user_id":21222422,"display_name":"Jonas Schrottenbaum"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676651107,"creation_date":1676498240,"question_id":75465813,"body_markdown":"I tried using the export wizard in the .product of an e4 RCP application i created. \r\nIt runs fine within the IDE, but the generated .exe fails to start.\r\n\r\nThe generated log is\r\n\r\n\r\n```\r\n!SESSION 2023-02-15 22:45:43.801 -----------------------------------------------\r\neclipse.buildId=unknown\r\njava.version=17.0.6\r\njava.vendor=Oracle Corporation\r\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=de_DE\r\nFramework arguments:  -clearPersistedState\r\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -clearPersistedState\r\n\r\n!ENTRY org.eclipse.e4.ui.workbench.addons.swt 4 0 2023-02-15 22:45:44.893\r\n!MESSAGE FrameworkEvent ERROR\r\n!STACK 0\r\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.e4.ui.workbench.addons.swt [44]\r\n  Unresolved requirement: Import-Package: org.eclipse.e4.ui.internal.workbench.swt\r\n    -&gt; Export-Package: org.eclipse.e4.ui.internal.workbench.swt; bundle-symbolic-name=&quot;org.eclipse.e4.ui.workbench.swt&quot;; bundle-version=&quot;0.16.100.v20210315-1604&quot;; version=&quot;0.0.0&quot;; x-friends:=&quot;org.eclipse.e4.ui.workbench.addons.swt,org.eclipse.e4.ui.workbench.renderers.swt,org.eclipse.ui.workbench&quot;\r\n       org.eclipse.e4.ui.workbench.swt [46]\r\n         Unresolved requirement: Require-Bundle: org.eclipse.urischeme; bundle-version=&quot;1.1.0&quot;\r\n           -&gt; Bundle-SymbolicName: org.eclipse.urischeme; bundle-version=&quot;1.1.400.v20210407-1558&quot;; singleton:=&quot;true&quot;\r\n              org.eclipse.urischeme [64]\r\n                Unresolved requirement: Require-Bundle: com.sun.jna; bundle-version=&quot;[5.8.0,6.0.0)&quot;\r\n  Unresolved requirement: Require-Bundle: org.eclipse.e4.ui.workbench.renderers.swt; bundle-version=&quot;0.9.1&quot;\r\n    -&gt; Bundle-SymbolicName: org.eclipse.e4.ui.workbench.renderers.swt; bundle-version=&quot;0.15.100.v20210515-1815&quot;; singleton:=&quot;true&quot;\r\n       org.eclipse.e4.ui.workbench.renderers.swt [45]\r\n         Unresolved requirement: Require-Bundle: org.eclipse.e4.ui.workbench.swt; bundle-version=&quot;0.9.0&quot;\r\n           -&gt; Bundle-SymbolicName: org.eclipse.e4.ui.workbench.swt; bundle-version=&quot;0.16.100.v20210315-1604&quot;; singleton:=&quot;true&quot;\r\n\r\n\tat org.eclipse.osgi.container.Module.start(Module.java:463)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel$2.run(ModuleContainer.java:1849)\r\n\tat org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor$1$1.execute(EquinoxContainerAdaptor.java:136)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1842)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1783)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1747)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1669)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:345)\r\n\r\n!ENTRY org.eclipse.e4.ui.workbench.renderers.swt 4 0 2023-02-15 22:45:44.895\r\n!MESSAGE FrameworkEvent ERROR\r\n!STACK 0\r\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.e4.ui.workbench.renderers.swt [45]\r\n  Unresolved requirement: Require-Bundle: org.eclipse.e4.ui.workbench.swt; bundle-version=&quot;0.9.0&quot;\r\n    -&gt; Bundle-SymbolicName: org.eclipse.e4.ui.workbench.swt; bundle-version=&quot;0.16.100.v20210315-1604&quot;; singleton:=&quot;true&quot;\r\n       org.eclipse.e4.ui.workbench.swt [46]\r\n         Unresolved requirement: Require-Bundle: org.eclipse.urischeme; bundle-version=&quot;1.1.0&quot;\r\n           -&gt; Bundle-SymbolicName: org.eclipse.urischeme; bundle-version=&quot;1.1.400.v20210407-1558&quot;; singleton:=&quot;true&quot;\r\n              org.eclipse.urischeme [64]\r\n                Unresolved requirement: Require-Bundle: com.sun.jna; bundle-version=&quot;[5.8.0,6.0.0)&quot;\r\n\r\n\tat org.eclipse.osgi.container.Module.start(Module.java:463)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel$2.run(ModuleContainer.java:1849)\r\n\tat org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor$1$1.execute(EquinoxContainerAdaptor.java:136)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1842)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1783)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1747)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1669)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:345)\r\n\r\n!ENTRY org.eclipse.e4.ui.workbench.swt 4 0 2023-02-15 22:45:44.896\r\n!MESSAGE FrameworkEvent ERROR\r\n!STACK 0\r\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.e4.ui.workbench.swt [46]\r\n  Unresolved requirement: Require-Bundle: org.eclipse.urischeme; bundle-version=&quot;1.1.0&quot;\r\n    -&gt; Bundle-SymbolicName: org.eclipse.urischeme; bundle-version=&quot;1.1.400.v20210407-1558&quot;; singleton:=&quot;true&quot;\r\n       org.eclipse.urischeme [64]\r\n         Unresolved requirement: Require-Bundle: com.sun.jna; bundle-version=&quot;[5.8.0,6.0.0)&quot;\r\n\r\n\tat org.eclipse.osgi.container.Module.start(Module.java:463)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel$2.run(ModuleContainer.java:1849)\r\n\tat org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor$1$1.execute(EquinoxContainerAdaptor.java:136)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1842)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1783)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1747)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1669)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:345)\r\n\r\n!ENTRY org.eclipse.e4.ui.workbench.addons.swt 2 0 2023-02-15 22:45:45.039\r\n!MESSAGE Could not resolve module: org.eclipse.e4.ui.workbench.addons.swt [44]\r\n  Unresolved requirement: Import-Package: org.eclipse.e4.ui.internal.workbench.swt\r\n    -&gt; Export-Package: org.eclipse.e4.ui.internal.workbench.swt; bundle-symbolic-name=&quot;org.eclipse.e4.ui.workbench.swt&quot;; bundle-version=&quot;0.16.100.v20210315-1604&quot;; version=&quot;0.0.0&quot;; x-friends:=&quot;org.eclipse.e4.ui.workbench.addons.swt,org.eclipse.e4.ui.workbench.renderers.swt,org.eclipse.ui.workbench&quot;\r\n       org.eclipse.e4.ui.workbench.swt [46]\r\n         Unresolved requirement: Require-Bundle: org.eclipse.urischeme; bundle-version=&quot;1.1.0&quot;\r\n           -&gt; Bundle-SymbolicName: org.eclipse.urischeme; bundle-version=&quot;1.1.400.v20210407-1558&quot;; singleton:=&quot;true&quot;\r\n              org.eclipse.urischeme [64]\r\n                Unresolved requirement: Require-Bundle: com.sun.jna; bundle-version=&quot;[5.8.0,6.0.0)&quot;\r\n  Unresolved requirement: Require-Bundle: org.eclipse.e4.ui.workbench.renderers.swt; bundle-version=&quot;0.9.1&quot;\r\n    -&gt; Bundle-SymbolicName: org.eclipse.e4.ui.workbench.renderers.swt; bundle-version=&quot;0.15.100.v20210515-1815&quot;; singleton:=&quot;true&quot;\r\n       org.eclipse.e4.ui.workbench.renderers.swt [45]\r\n         Unresolved requirement: Require-Bundle: org.eclipse.e4.ui.workbench.swt; bundle-version=&quot;0.9.0&quot;\r\n           -&gt; Bundle-SymbolicName: org.eclipse.e4.ui.workbench.swt; bundle-version=&quot;0.16.100.v20210315-1604&quot;; singleton:=&quot;true&quot;\r\n\r\n\r\n!ENTRY org.eclipse.e4.ui.workbench.swt 2 0 2023-02-15 22:45:45.039\r\n!MESSAGE Could not resolve module: org.eclipse.e4.ui.workbench.swt [46]\r\n  Unresolved requirement: Require-Bundle: org.eclipse.urischeme; bundle-version=&quot;1.1.0&quot;\r\n    -&gt; Bundle-SymbolicName: org.eclipse.urischeme; bundle-version=&quot;1.1.400.v20210407-1558&quot;; singleton:=&quot;true&quot;\r\n       org.eclipse.urischeme [64]\r\n         Unresolved requirement: Require-Bundle: com.sun.jna; bundle-version=&quot;[5.8.0,6.0.0)&quot;\r\n\r\n\r\n!ENTRY org.eclipse.urischeme 2 0 2023-02-15 22:45:45.040\r\n!MESSAGE Could not resolve module: org.eclipse.urischeme [64]\r\n  Unresolved requirement: Require-Bundle: com.sun.jna; bundle-version=&quot;[5.8.0,6.0.0)&quot;\r\n\r\n\r\n!ENTRY org.eclipse.e4.ui.workbench.renderers.swt 2 0 2023-02-15 22:45:45.040\r\n!MESSAGE Could not resolve module: org.eclipse.e4.ui.workbench.renderers.swt [45]\r\n  Unresolved requirement: Require-Bundle: org.eclipse.e4.ui.workbench.swt; bundle-version=&quot;0.9.0&quot;\r\n    -&gt; Bundle-SymbolicName: org.eclipse.e4.ui.workbench.swt; bundle-version=&quot;0.16.100.v20210315-1604&quot;; singleton:=&quot;true&quot;\r\n       org.eclipse.e4.ui.workbench.swt [46]\r\n         Unresolved requirement: Require-Bundle: org.eclipse.urischeme; bundle-version=&quot;1.1.0&quot;\r\n           -&gt; Bundle-SymbolicName: org.eclipse.urischeme; bundle-version=&quot;1.1.400.v20210407-1558&quot;; singleton:=&quot;true&quot;\r\n              org.eclipse.urischeme [64]\r\n                Unresolved requirement: Require-Bundle: com.sun.jna; bundle-version=&quot;[5.8.0,6.0.0)&quot;\r\n\r\n\r\n!ENTRY org.eclipse.osgi 4 0 2023-02-15 22:45:45.041\r\n!MESSAGE Application error\r\n!STACK 1\r\njava.lang.RuntimeException: Application &quot;org.eclipse.e4.ui.workbench.swt.E4Application&quot; could not be found in the registry. The applications available are: org.eclipse.equinox.app.error.\r\n\tat org.eclipse.equinox.internal.app.EclipseAppContainer.startDefaultApp(EclipseAppContainer.java:252)\r\n\tat org.eclipse.equinox.internal.app.MainApplicationLauncher.run(MainApplicationLauncher.java:33)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1462)\r\n\r\n```\r\n\r\n\r\nHow can i fix this?\r\n\r\nCould it be a local problem with the java installation? I removed my previously installed java 8 because java at least java 11 is required. I then installed java 17 jdk and set the env variables. But java 17 does not have a jre, so this might cause the problem? But i don&#39;t know how to solve it if thats the case.\r\n\r\n\r\nI thought it could be missing plugins in the product so i pressed the &quot;Add Required Plug-ins&quot; Button, but that just makes the situation worse with the same error\r\n\r\nEdit: After switching to a feature based product the error log changed to:\r\n```\r\n!SESSION 2023-02-17 17:18:49.227 -----------------------------------------------\r\neclipse.buildId=unknown\r\njava.version=17.0.6\r\njava.vendor=Oracle Corporation\r\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=de_DE\r\nFramework arguments:  -clearPersistedState\r\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -clearPersistedState\r\n\r\n!ENTRY org.eclipse.e4.ui.workbench 4 0 2023-02-17 17:18:50.852\r\n!MESSAGE Unable to create class &#39;elocalc.LifeCycle&#39; from bundle &#39;2&#39;\r\n!STACK 0\r\norg.eclipse.e4.core.di.InjectionException: Unable to process &quot;LifeCycle.eventBroker&quot;: no actual value was found for the argument &quot;IEventBroker&quot;.\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.reportUnresolvedArgument(InjectorImpl.java:482)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.resolveRequestorArgs(InjectorImpl.java:473)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.internalInject(InjectorImpl.java:129)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:405)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:332)\r\n\tat org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:202)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.createFromBundle(ReflectionContributionFactory.java:91)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.doCreate(ReflectionContributionFactory.java:60)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.create(ReflectionContributionFactory.java:42)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.E4Application.lambda$0(E4Application.java:230)\r\n\tat java.base/java.util.Optional.ifPresent(Optional.java:178)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.E4Application.createE4Workbench(E4Application.java:229)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.E4Application.start(E4Application.java:155)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1462)\r\n\r\n!ENTRY org.eclipse.e4.ui.workbench 4 0 2023-02-17 17:18:50.932\r\n!MESSAGE Unable to create class &#39;org.eclipse.e4.ui.internal.workbench.addons.CommandProcessingAddon&#39; from bundle &#39;48&#39;\r\n!STACK 0\r\norg.eclipse.e4.core.di.InjectionException: Unable to process &quot;CommandProcessingAddon.broker&quot;: no actual value was found for the argument &quot;IEventBroker&quot;.\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.reportUnresolvedArgument(InjectorImpl.java:482)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.resolveRequestorArgs(InjectorImpl.java:473)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.internalInject(InjectorImpl.java:129)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:405)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:346)\r\n\tat org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:227)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.createFromBundle(ReflectionContributionFactory.java:94)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.doCreate(ReflectionContributionFactory.java:60)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.create(ReflectionContributionFactory.java:37)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.E4Application.createE4Workbench(E4Application.java:276)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.E4Application.start(E4Application.java:155)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1462)\r\n\r\n!ENTRY org.eclipse.e4.ui.workbench 4 0 2023-02-17 17:18:50.937\r\n!MESSAGE Unable to create class &#39;elocalc.ui.handler.AddPlayerHandler&#39; from bundle &#39;2&#39;\r\n!STACK 0\r\norg.eclipse.e4.core.di.InjectionException: Unable to process &quot;AddPlayerHandler.eventBroker&quot;: no actual value was found for the argument &quot;IEventBroker&quot;.\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.reportUnresolvedArgument(InjectorImpl.java:482)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.resolveRequestorArgs(InjectorImpl.java:473)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.internalInject(InjectorImpl.java:129)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:405)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:332)\r\n\tat org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:202)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.createFromBundle(ReflectionContributionFactory.java:91)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.doCreate(ReflectionContributionFactory.java:60)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.create(ReflectionContributionFactory.java:42)\r\n\tat org.eclipse.e4.ui.internal.workbench.addons.HandlerProcessingAddon.processActiveHandler(HandlerProcessingAddon.java:141)\r\n\tat org.eclipse.e4.ui.internal.workbench.addons.HandlerProcessingAddon.postConstruct(HandlerProcessingAddon.java:55)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.processAnnotated(InjectorImpl.java:999)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.internalInject(InjectorImpl.java:140)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:405)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:346)\r\n\tat org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:227)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.createFromBundle(ReflectionContributionFactory.java:94)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.doCreate(ReflectionContributionFactory.java:60)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.create(ReflectionContributionFactory.java:37)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.E4Application.createE4Workbench(E4Application.java:276)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.E4Application.start(E4Application.java:155)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1462)\r\n\r\n!ENTRY org.eclipse.e4.ui.workbench 4 0 2023-02-17 17:18:50.946\r\n!MESSAGE Unable to create class &#39;org.eclipse.e4.ui.internal.workbench.addons.ContextProcessingAddon&#39; from bundle &#39;48&#39;\r\n!STACK 0\r\norg.eclipse.e4.core.di.InjectionException: Unable to process &quot;ContextProcessingAddon.broker&quot;: no actual value was found for the argument &quot;IEventBroker&quot;.\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.reportUnresolvedArgument(InjectorImpl.java:482)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.resolveRequestorArgs(InjectorImpl.java:473)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.internalInject(InjectorImpl.java:129)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:405)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:346)\r\n\tat org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:227)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.createFromBundle(ReflectionContributionFactory.java:94)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.doCreate(ReflectionContributionFactory.java:60)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.create(ReflectionContributionFactory.java:37)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.E4Application.createE4Workbench(E4Application.java:276)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.E4Application.start(E4Application.java:155)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1462)\r\n\r\n!ENTRY org.eclipse.osgi 4 0 2023-02-17 17:18:50.993\r\n!MESSAGE Application error\r\n!STACK 1\r\njava.lang.NullPointerException: Cannot invoke &quot;org.eclipse.e4.ui.css.swt.theme.IThemeManager.getEngineForDisplay(org.eclipse.swt.widgets.Display)&quot; because &quot;mgr&quot; is null\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createThemeEngine(PartRenderingEngine.java:1409)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.initializeStyling(PartRenderingEngine.java:1286)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1050)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n\tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.E4Application.start(E4Application.java:168)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1462)\r\n\r\n```\r\n\r\nThe application still runs fine inside the IDE","title":"e4 RCP application does not start after .exe is created with product export wizard","body":"<p>I tried using the export wizard in the .product of an e4 RCP application i created.\nIt runs fine within the IDE, but the generated .exe fails to start.</p>\n<p>The generated log is</p>\n<pre><code>!SESSION 2023-02-15 22:45:43.801 -----------------------------------------------\neclipse.buildId=unknown\njava.version=17.0.6\njava.vendor=Oracle Corporation\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=de_DE\nFramework arguments:  -clearPersistedState\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -clearPersistedState\n\n!ENTRY org.eclipse.e4.ui.workbench.addons.swt 4 0 2023-02-15 22:45:44.893\n!MESSAGE FrameworkEvent ERROR\n!STACK 0\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.e4.ui.workbench.addons.swt [44]\n  Unresolved requirement: Import-Package: org.eclipse.e4.ui.internal.workbench.swt\n    -&gt; Export-Package: org.eclipse.e4.ui.internal.workbench.swt; bundle-symbolic-name=&quot;org.eclipse.e4.ui.workbench.swt&quot;; bundle-version=&quot;0.16.100.v20210315-1604&quot;; version=&quot;0.0.0&quot;; x-friends:=&quot;org.eclipse.e4.ui.workbench.addons.swt,org.eclipse.e4.ui.workbench.renderers.swt,org.eclipse.ui.workbench&quot;\n       org.eclipse.e4.ui.workbench.swt [46]\n         Unresolved requirement: Require-Bundle: org.eclipse.urischeme; bundle-version=&quot;1.1.0&quot;\n           -&gt; Bundle-SymbolicName: org.eclipse.urischeme; bundle-version=&quot;1.1.400.v20210407-1558&quot;; singleton:=&quot;true&quot;\n              org.eclipse.urischeme [64]\n                Unresolved requirement: Require-Bundle: com.sun.jna; bundle-version=&quot;[5.8.0,6.0.0)&quot;\n  Unresolved requirement: Require-Bundle: org.eclipse.e4.ui.workbench.renderers.swt; bundle-version=&quot;0.9.1&quot;\n    -&gt; Bundle-SymbolicName: org.eclipse.e4.ui.workbench.renderers.swt; bundle-version=&quot;0.15.100.v20210515-1815&quot;; singleton:=&quot;true&quot;\n       org.eclipse.e4.ui.workbench.renderers.swt [45]\n         Unresolved requirement: Require-Bundle: org.eclipse.e4.ui.workbench.swt; bundle-version=&quot;0.9.0&quot;\n           -&gt; Bundle-SymbolicName: org.eclipse.e4.ui.workbench.swt; bundle-version=&quot;0.16.100.v20210315-1604&quot;; singleton:=&quot;true&quot;\n\n    at org.eclipse.osgi.container.Module.start(Module.java:463)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel$2.run(ModuleContainer.java:1849)\n    at org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor$1$1.execute(EquinoxContainerAdaptor.java:136)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1842)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1783)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1747)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1669)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\n    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:345)\n\n!ENTRY org.eclipse.e4.ui.workbench.renderers.swt 4 0 2023-02-15 22:45:44.895\n!MESSAGE FrameworkEvent ERROR\n!STACK 0\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.e4.ui.workbench.renderers.swt [45]\n  Unresolved requirement: Require-Bundle: org.eclipse.e4.ui.workbench.swt; bundle-version=&quot;0.9.0&quot;\n    -&gt; Bundle-SymbolicName: org.eclipse.e4.ui.workbench.swt; bundle-version=&quot;0.16.100.v20210315-1604&quot;; singleton:=&quot;true&quot;\n       org.eclipse.e4.ui.workbench.swt [46]\n         Unresolved requirement: Require-Bundle: org.eclipse.urischeme; bundle-version=&quot;1.1.0&quot;\n           -&gt; Bundle-SymbolicName: org.eclipse.urischeme; bundle-version=&quot;1.1.400.v20210407-1558&quot;; singleton:=&quot;true&quot;\n              org.eclipse.urischeme [64]\n                Unresolved requirement: Require-Bundle: com.sun.jna; bundle-version=&quot;[5.8.0,6.0.0)&quot;\n\n    at org.eclipse.osgi.container.Module.start(Module.java:463)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel$2.run(ModuleContainer.java:1849)\n    at org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor$1$1.execute(EquinoxContainerAdaptor.java:136)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1842)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1783)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1747)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1669)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\n    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:345)\n\n!ENTRY org.eclipse.e4.ui.workbench.swt 4 0 2023-02-15 22:45:44.896\n!MESSAGE FrameworkEvent ERROR\n!STACK 0\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.e4.ui.workbench.swt [46]\n  Unresolved requirement: Require-Bundle: org.eclipse.urischeme; bundle-version=&quot;1.1.0&quot;\n    -&gt; Bundle-SymbolicName: org.eclipse.urischeme; bundle-version=&quot;1.1.400.v20210407-1558&quot;; singleton:=&quot;true&quot;\n       org.eclipse.urischeme [64]\n         Unresolved requirement: Require-Bundle: com.sun.jna; bundle-version=&quot;[5.8.0,6.0.0)&quot;\n\n    at org.eclipse.osgi.container.Module.start(Module.java:463)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel$2.run(ModuleContainer.java:1849)\n    at org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor$1$1.execute(EquinoxContainerAdaptor.java:136)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1842)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1783)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1747)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1669)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\n    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:345)\n\n!ENTRY org.eclipse.e4.ui.workbench.addons.swt 2 0 2023-02-15 22:45:45.039\n!MESSAGE Could not resolve module: org.eclipse.e4.ui.workbench.addons.swt [44]\n  Unresolved requirement: Import-Package: org.eclipse.e4.ui.internal.workbench.swt\n    -&gt; Export-Package: org.eclipse.e4.ui.internal.workbench.swt; bundle-symbolic-name=&quot;org.eclipse.e4.ui.workbench.swt&quot;; bundle-version=&quot;0.16.100.v20210315-1604&quot;; version=&quot;0.0.0&quot;; x-friends:=&quot;org.eclipse.e4.ui.workbench.addons.swt,org.eclipse.e4.ui.workbench.renderers.swt,org.eclipse.ui.workbench&quot;\n       org.eclipse.e4.ui.workbench.swt [46]\n         Unresolved requirement: Require-Bundle: org.eclipse.urischeme; bundle-version=&quot;1.1.0&quot;\n           -&gt; Bundle-SymbolicName: org.eclipse.urischeme; bundle-version=&quot;1.1.400.v20210407-1558&quot;; singleton:=&quot;true&quot;\n              org.eclipse.urischeme [64]\n                Unresolved requirement: Require-Bundle: com.sun.jna; bundle-version=&quot;[5.8.0,6.0.0)&quot;\n  Unresolved requirement: Require-Bundle: org.eclipse.e4.ui.workbench.renderers.swt; bundle-version=&quot;0.9.1&quot;\n    -&gt; Bundle-SymbolicName: org.eclipse.e4.ui.workbench.renderers.swt; bundle-version=&quot;0.15.100.v20210515-1815&quot;; singleton:=&quot;true&quot;\n       org.eclipse.e4.ui.workbench.renderers.swt [45]\n         Unresolved requirement: Require-Bundle: org.eclipse.e4.ui.workbench.swt; bundle-version=&quot;0.9.0&quot;\n           -&gt; Bundle-SymbolicName: org.eclipse.e4.ui.workbench.swt; bundle-version=&quot;0.16.100.v20210315-1604&quot;; singleton:=&quot;true&quot;\n\n\n!ENTRY org.eclipse.e4.ui.workbench.swt 2 0 2023-02-15 22:45:45.039\n!MESSAGE Could not resolve module: org.eclipse.e4.ui.workbench.swt [46]\n  Unresolved requirement: Require-Bundle: org.eclipse.urischeme; bundle-version=&quot;1.1.0&quot;\n    -&gt; Bundle-SymbolicName: org.eclipse.urischeme; bundle-version=&quot;1.1.400.v20210407-1558&quot;; singleton:=&quot;true&quot;\n       org.eclipse.urischeme [64]\n         Unresolved requirement: Require-Bundle: com.sun.jna; bundle-version=&quot;[5.8.0,6.0.0)&quot;\n\n\n!ENTRY org.eclipse.urischeme 2 0 2023-02-15 22:45:45.040\n!MESSAGE Could not resolve module: org.eclipse.urischeme [64]\n  Unresolved requirement: Require-Bundle: com.sun.jna; bundle-version=&quot;[5.8.0,6.0.0)&quot;\n\n\n!ENTRY org.eclipse.e4.ui.workbench.renderers.swt 2 0 2023-02-15 22:45:45.040\n!MESSAGE Could not resolve module: org.eclipse.e4.ui.workbench.renderers.swt [45]\n  Unresolved requirement: Require-Bundle: org.eclipse.e4.ui.workbench.swt; bundle-version=&quot;0.9.0&quot;\n    -&gt; Bundle-SymbolicName: org.eclipse.e4.ui.workbench.swt; bundle-version=&quot;0.16.100.v20210315-1604&quot;; singleton:=&quot;true&quot;\n       org.eclipse.e4.ui.workbench.swt [46]\n         Unresolved requirement: Require-Bundle: org.eclipse.urischeme; bundle-version=&quot;1.1.0&quot;\n           -&gt; Bundle-SymbolicName: org.eclipse.urischeme; bundle-version=&quot;1.1.400.v20210407-1558&quot;; singleton:=&quot;true&quot;\n              org.eclipse.urischeme [64]\n                Unresolved requirement: Require-Bundle: com.sun.jna; bundle-version=&quot;[5.8.0,6.0.0)&quot;\n\n\n!ENTRY org.eclipse.osgi 4 0 2023-02-15 22:45:45.041\n!MESSAGE Application error\n!STACK 1\njava.lang.RuntimeException: Application &quot;org.eclipse.e4.ui.workbench.swt.E4Application&quot; could not be found in the registry. The applications available are: org.eclipse.equinox.app.error.\n    at org.eclipse.equinox.internal.app.EclipseAppContainer.startDefaultApp(EclipseAppContainer.java:252)\n    at org.eclipse.equinox.internal.app.MainApplicationLauncher.run(MainApplicationLauncher.java:33)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1462)\n\n</code></pre>\n<p>How can i fix this?</p>\n<p>Could it be a local problem with the java installation? I removed my previously installed java 8 because java at least java 11 is required. I then installed java 17 jdk and set the env variables. But java 17 does not have a jre, so this might cause the problem? But i don't know how to solve it if thats the case.</p>\n<p>I thought it could be missing plugins in the product so i pressed the &quot;Add Required Plug-ins&quot; Button, but that just makes the situation worse with the same error</p>\n<p>Edit: After switching to a feature based product the error log changed to:</p>\n<pre><code>!SESSION 2023-02-17 17:18:49.227 -----------------------------------------------\neclipse.buildId=unknown\njava.version=17.0.6\njava.vendor=Oracle Corporation\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=de_DE\nFramework arguments:  -clearPersistedState\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -clearPersistedState\n\n!ENTRY org.eclipse.e4.ui.workbench 4 0 2023-02-17 17:18:50.852\n!MESSAGE Unable to create class 'elocalc.LifeCycle' from bundle '2'\n!STACK 0\norg.eclipse.e4.core.di.InjectionException: Unable to process &quot;LifeCycle.eventBroker&quot;: no actual value was found for the argument &quot;IEventBroker&quot;.\n    at org.eclipse.e4.core.internal.di.InjectorImpl.reportUnresolvedArgument(InjectorImpl.java:482)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.resolveRequestorArgs(InjectorImpl.java:473)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalInject(InjectorImpl.java:129)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:405)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:332)\n    at org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:202)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.createFromBundle(ReflectionContributionFactory.java:91)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.doCreate(ReflectionContributionFactory.java:60)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.create(ReflectionContributionFactory.java:42)\n    at org.eclipse.e4.ui.internal.workbench.swt.E4Application.lambda$0(E4Application.java:230)\n    at java.base/java.util.Optional.ifPresent(Optional.java:178)\n    at org.eclipse.e4.ui.internal.workbench.swt.E4Application.createE4Workbench(E4Application.java:229)\n    at org.eclipse.e4.ui.internal.workbench.swt.E4Application.start(E4Application.java:155)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1462)\n\n!ENTRY org.eclipse.e4.ui.workbench 4 0 2023-02-17 17:18:50.932\n!MESSAGE Unable to create class 'org.eclipse.e4.ui.internal.workbench.addons.CommandProcessingAddon' from bundle '48'\n!STACK 0\norg.eclipse.e4.core.di.InjectionException: Unable to process &quot;CommandProcessingAddon.broker&quot;: no actual value was found for the argument &quot;IEventBroker&quot;.\n    at org.eclipse.e4.core.internal.di.InjectorImpl.reportUnresolvedArgument(InjectorImpl.java:482)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.resolveRequestorArgs(InjectorImpl.java:473)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalInject(InjectorImpl.java:129)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:405)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:346)\n    at org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:227)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.createFromBundle(ReflectionContributionFactory.java:94)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.doCreate(ReflectionContributionFactory.java:60)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.create(ReflectionContributionFactory.java:37)\n    at org.eclipse.e4.ui.internal.workbench.swt.E4Application.createE4Workbench(E4Application.java:276)\n    at org.eclipse.e4.ui.internal.workbench.swt.E4Application.start(E4Application.java:155)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1462)\n\n!ENTRY org.eclipse.e4.ui.workbench 4 0 2023-02-17 17:18:50.937\n!MESSAGE Unable to create class 'elocalc.ui.handler.AddPlayerHandler' from bundle '2'\n!STACK 0\norg.eclipse.e4.core.di.InjectionException: Unable to process &quot;AddPlayerHandler.eventBroker&quot;: no actual value was found for the argument &quot;IEventBroker&quot;.\n    at org.eclipse.e4.core.internal.di.InjectorImpl.reportUnresolvedArgument(InjectorImpl.java:482)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.resolveRequestorArgs(InjectorImpl.java:473)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalInject(InjectorImpl.java:129)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:405)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:332)\n    at org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:202)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.createFromBundle(ReflectionContributionFactory.java:91)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.doCreate(ReflectionContributionFactory.java:60)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.create(ReflectionContributionFactory.java:42)\n    at org.eclipse.e4.ui.internal.workbench.addons.HandlerProcessingAddon.processActiveHandler(HandlerProcessingAddon.java:141)\n    at org.eclipse.e4.ui.internal.workbench.addons.HandlerProcessingAddon.postConstruct(HandlerProcessingAddon.java:55)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.processAnnotated(InjectorImpl.java:999)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalInject(InjectorImpl.java:140)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:405)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:346)\n    at org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:227)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.createFromBundle(ReflectionContributionFactory.java:94)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.doCreate(ReflectionContributionFactory.java:60)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.create(ReflectionContributionFactory.java:37)\n    at org.eclipse.e4.ui.internal.workbench.swt.E4Application.createE4Workbench(E4Application.java:276)\n    at org.eclipse.e4.ui.internal.workbench.swt.E4Application.start(E4Application.java:155)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1462)\n\n!ENTRY org.eclipse.e4.ui.workbench 4 0 2023-02-17 17:18:50.946\n!MESSAGE Unable to create class 'org.eclipse.e4.ui.internal.workbench.addons.ContextProcessingAddon' from bundle '48'\n!STACK 0\norg.eclipse.e4.core.di.InjectionException: Unable to process &quot;ContextProcessingAddon.broker&quot;: no actual value was found for the argument &quot;IEventBroker&quot;.\n    at org.eclipse.e4.core.internal.di.InjectorImpl.reportUnresolvedArgument(InjectorImpl.java:482)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.resolveRequestorArgs(InjectorImpl.java:473)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalInject(InjectorImpl.java:129)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:405)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:346)\n    at org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:227)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.createFromBundle(ReflectionContributionFactory.java:94)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.doCreate(ReflectionContributionFactory.java:60)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.create(ReflectionContributionFactory.java:37)\n    at org.eclipse.e4.ui.internal.workbench.swt.E4Application.createE4Workbench(E4Application.java:276)\n    at org.eclipse.e4.ui.internal.workbench.swt.E4Application.start(E4Application.java:155)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1462)\n\n!ENTRY org.eclipse.osgi 4 0 2023-02-17 17:18:50.993\n!MESSAGE Application error\n!STACK 1\njava.lang.NullPointerException: Cannot invoke &quot;org.eclipse.e4.ui.css.swt.theme.IThemeManager.getEngineForDisplay(org.eclipse.swt.widgets.Display)&quot; because &quot;mgr&quot; is null\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createThemeEngine(PartRenderingEngine.java:1409)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.initializeStyling(PartRenderingEngine.java:1286)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1050)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n    at org.eclipse.e4.ui.internal.workbench.swt.E4Application.start(E4Application.java:168)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1462)\n\n</code></pre>\n<p>The application still runs fine inside the IDE</p>\n"},{"tags":["java","javascript","html","boomerang"],"comments":[{"owner":{"account_id":28563,"reputation":3940,"user_id":76392,"accept_rate":50,"display_name":"bluesmoon"},"score":0,"creation_date":1428020239,"post_id":29411975,"comment_id":47020339,"body_markdown":"Have you built boomerang with the necessary plugins? Show us what your boomerang.js file looks like.","body":"Have you built boomerang with the necessary plugins? Show us what your boomerang.js file looks like."},{"owner":{"account_id":6074443,"reputation":1,"user_id":4742231,"display_name":"Sherry"},"score":0,"creation_date":1428223642,"post_id":29411975,"comment_id":47075968,"body_markdown":"Here is my boomerang.js \nhttps://github.com/lognormal/boomerang/blob/master/boomerang.js","body":"Here is my boomerang.js  <a href=\"https://github.com/lognormal/boomerang/blob/master/boomerang.js\" rel=\"nofollow noreferrer\">github.com/lognormal/boomerang/blob/master/boomerang.js</a>"}],"answers":[{"comments":[{"owner":{"account_id":6074443,"reputation":1,"user_id":4742231,"display_name":"Sherry"},"score":0,"creation_date":1428314684,"post_id":29457882,"comment_id":47100030,"body_markdown":"I added plugin which is there in plugins folder of boomerang i.e. bw.js https://github.com/lognormal/boomerang/blob/master/plugins/bw.js but and now I call init method over it i.e. BOOMR.init. It says uncaught reference error, BOOMR object not intialized","body":"I added plugin which is there in plugins folder of boomerang i.e. bw.js <a href=\"https://github.com/lognormal/boomerang/blob/master/plugins/bw.js\" rel=\"nofollow noreferrer\">github.com/lognormal/boomerang/blob/master/plugins/bw.js</a> but and now I call init method over it i.e. BOOMR.init. It says uncaught reference error, BOOMR object not intialized"},{"owner":{"account_id":28563,"reputation":3940,"user_id":76392,"accept_rate":50,"display_name":"bluesmoon"},"score":0,"creation_date":1428327925,"post_id":29457882,"comment_id":47106199,"body_markdown":"I think you should take this over to the boomerang issues list: https://github.com/lognormal/boomerang/issues","body":"I think you should take this over to the boomerang issues list: <a href=\"https://github.com/lognormal/boomerang/issues\" rel=\"nofollow noreferrer\">github.com/lognormal/boomerang/issues</a>"},{"owner":{"account_id":6074443,"reputation":1,"user_id":4742231,"display_name":"Sherry"},"score":0,"creation_date":1429164003,"post_id":29457882,"comment_id":47471687,"body_markdown":"I am getting too much variations in data i.e bandwidth calculated on the same page again and again, which differ from boomerang results very much. when i load boomerang page(http://yahoo.github.io/boomerang/doc/howtos/howto-5.html) it gives bandwidth of around bw of 5917kbps (&#177;59%) and my results gives variety of range from 6006 kBytes/sec to 277238 kBytes/sec. Can you suggest me why this wide range of results and where can be the error?","body":"I am getting too much variations in data i.e bandwidth calculated on the same page again and again, which differ from boomerang results very much. when i load boomerang page(<a href=\"http://yahoo.github.io/boomerang/doc/howtos/howto-5.html\" rel=\"nofollow noreferrer\">yahoo.github.io/boomerang/doc/howtos/howto-5.html</a>) it gives bandwidth of around bw of 5917kbps (&#177;59%) and my results gives variety of range from 6006 kBytes/sec to 277238 kBytes/sec. Can you suggest me why this wide range of results and where can be the error?"},{"owner":{"account_id":28563,"reputation":3940,"user_id":76392,"accept_rate":50,"display_name":"bluesmoon"},"score":0,"creation_date":1429198249,"post_id":29457882,"comment_id":47496043,"body_markdown":"This is normal since bandwidth measurements depend on everything else happening on the network while the test is running.  Also, the page at yahoo.github.io has been obsolete for 4 years.  You should use the site at http://www.lognormal.com/boomerang/doc/","body":"This is normal since bandwidth measurements depend on everything else happening on the network while the test is running.  Also, the page at yahoo.github.io has been obsolete for 4 years.  You should use the site at <a href=\"http://www.lognormal.com/boomerang/doc/\" rel=\"nofollow noreferrer\">lognormal.com/boomerang/doc</a>"}],"tags":[],"owner":{"account_id":28563,"reputation":3940,"user_id":76392,"accept_rate":50,"display_name":"bluesmoon"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428327972,"creation_date":1428241162,"answer_id":29457882,"question_id":29411975,"body_markdown":"You&#39;re using boomerang without any plugins, so it doesn&#39;t run. The readme file has the following text near the top: \r\n\r\n&gt; You must include at least one plugin (it doesn&#39;t have to be rt) or else the beacon will never actually be called.\r\n\r\nhttps://github.com/lognormal/boomerang/blob/master/README.md","title":"BOOMR.subscribe function is not being executed","body":"<p>You're using boomerang without any plugins, so it doesn't run. The readme file has the following text near the top: </p>\n\n<blockquote>\n  <p>You must include at least one plugin (it doesn't have to be rt) or else the beacon will never actually be called.</p>\n</blockquote>\n\n<p><a href=\"https://github.com/lognormal/boomerang/blob/master/README.md\" rel=\"nofollow\">https://github.com/lognormal/boomerang/blob/master/README.md</a></p>\n"},{"tags":[],"owner":{"account_id":91683,"reputation":7632,"user_id":251614,"accept_rate":83,"display_name":"Homer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676651021,"creation_date":1676651021,"answer_id":75486825,"question_id":29411975,"body_markdown":"Probably unrelated to this particular question, but disabling **uBlock Origin** popup blocker worked for me.","title":"BOOMR.subscribe function is not being executed","body":"<p>Probably unrelated to this particular question, but disabling <strong>uBlock Origin</strong> popup blocker worked for me.</p>\n"}],"owner":{"account_id":6074443,"reputation":1,"user_id":4742231,"display_name":"Sherry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":987,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676651021,"creation_date":1427974554,"question_id":29411975,"body_markdown":"Here&#39;s my code snippet\r\n\r\nThis is my form.html\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \r\n    \t&lt;h1&gt;Beer Selection Page&lt;/h1&gt;\r\n    \t&lt;form method=&quot;post&quot; action=&quot;SelectBeer.do&quot;&gt;\r\n    \t\tSelect beer characteristics\r\n    \t\t&lt;p&gt;\r\n    \t\t\tColor: &lt;select name=&quot;color&quot; size=&quot;1&quot;&gt;\r\n    \r\n    \t\t\t\t&lt;option value=&quot;light&quot;&gt;light&lt;/option&gt;\r\n    \t\t\t\t&lt;option value=&quot;amber&quot;&gt;amber&lt;/option&gt;\r\n    \t\t\t\t&lt;option value=&quot;brown&quot;&gt;brown&lt;/option&gt;\r\n    \t\t\t\t&lt;option value=&quot;dark&quot;&gt;dark&lt;/option&gt;\r\n    \t\t\t&lt;/select&gt; &lt;br&gt;\r\n    \t\t\t&lt;br&gt;\r\n    \t\t\t&lt;input type=&quot;submit&quot; value=&quot;Submit Beer&quot; &gt;\r\n    \t\t\t\r\n    \t&lt;/form&gt;\r\n    \t\r\n    \t&lt;form action=&quot;BandwidthCalc.do&quot;&gt;\r\n    \t\t&lt;br&gt;\r\n    \t\t&lt;br&gt;\r\n    \t\t&lt;input type=&quot;submit&quot; value=&quot;Calculate Bandwidth&quot; &gt;\r\n    \t&lt;/form&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nHere is my BandwidthCalc.java servlet class\r\n\r\n\r\n    public class BandwidthCalc extends HttpServlet {\r\n    \t\r\n    \tpublic void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException, ServletException{\r\n    \t\t\r\n    \t\tRequestDispatcher view = request.getRequestDispatcher(&quot;bandwidth.jsp&quot;);\r\n    \t\tview.forward(request, response);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nThis is my bandwidth.jsp file\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n    &lt;title&gt;Bandwidth calculation&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \t\r\n    \tThis is bandwidth page!! &lt;br&gt;\r\n    \t&lt;script src=&quot;./js/jquery-2.1.3.min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n    \t&lt;script src=&quot;./Boomerang/boomerang.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n    \t&lt;script src=&quot;./js/testBeacon.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n    \r\n        &lt;div id=&quot;results&quot;&gt;\r\n    \t&lt;/div&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nAnd here is my testBeacon.js file\r\n\r\n    var bw=null,be=null,lat=null,laterr=null;\r\n    \t\r\n    BOOMR.init({\r\n        user_ip: &#39;127.0.0.1&#39;,\r\n    \r\n      });\r\n    \t\r\n    \tBOOMR.subscribe(&#39;before_beacon&#39;, function(o) {\r\n    var html = &quot;&quot;, t_name, t_other, others = [];\r\n    \r\n    \t\tif(!o.t_other) o.t_other = &quot;&quot;;\r\n    \r\n    \t\tfor(var k in o) {\r\n    \t\t\tif(!k.match(/^(t_done|t_other|bw|lat|bw_err|lat_err|u|r2?)$/)) {\r\n    \t\t\t\tif(k.match(/^t_/)) {\r\n    \t\t\t\t\to.t_other += &quot;,&quot; + k + &quot;|&quot; + o[k];\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tothers.push(k + &quot; = &quot; + o[k]);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif(o.t_done) { html += &quot;This page took &quot; + o.t_done + &quot; ms to load&lt;br&gt;&quot;; }\r\n    \t\tif(o.t_other) {\r\n    \t\t\tt_other = o.t_other.replace(/^,/, &#39;&#39;).replace(/\\|/g, &#39; = &#39;).split(&#39;,&#39;);\r\n    \t\t\thtml += &quot;Other timers measured: &lt;br&gt;&quot;;\r\n    \t\t\tfor(var i=0; i&lt;t_other.length; i++) {\r\n    \t\t\t\thtml += &quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot; + t_other[i] + &quot; ms&lt;br&gt;&quot;;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif(o.bw) { html += &quot;Your bandwidth to this server is &quot; + parseInt(o.bw*8/1024) + &quot;kbps (&amp;#x00b1;&quot; + parseInt(o.bw_err*100/o.bw) + &quot;%)&lt;br&gt;&quot;; }\r\n    \t\tif(o.lat) { html += &quot;Your latency to this server is &quot; + parseInt(o.lat) + &quot;&amp;#x00b1;&quot; + o.lat_err + &quot;ms&lt;br&gt;&quot;; }\r\n    \r\n    \t\tvar r = document.getElementById(&#39;results&#39;);\r\n    \t\tr.innerHTML = html;\r\n    \r\n    \t\tif(others.length) {\r\n    \t\t\tr.innerHTML += &quot;Other parameters:&lt;br&gt;&quot;;\r\n    \r\n    \t\t\tfor(var i=0; i&lt;others.length; i++) {\r\n    \t\t\t\tvar t = document.createTextNode(others[i]);\r\n    \t\t\t\tr.innerHTML += &quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot;;\r\n    \t\t\t\tr.appendChild(t);\r\n    \t\t\t\tr.innerHTML += &quot;&lt;br&gt;&quot;;\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    });\r\n\r\nWhen I run this BOOMR.subscribe function is not being executed. I can&#39;t understand why? I already included Boomerang folder using link http://github.com/lognormal/boomerang/\r\n\r\n\r\n\r\n\r\n\r\n","title":"BOOMR.subscribe function is not being executed","body":"<p>Here's my code snippet</p>\n\n<p>This is my form.html</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=\"UTF-8\"&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;h1&gt;Beer Selection Page&lt;/h1&gt;\n    &lt;form method=\"post\" action=\"SelectBeer.do\"&gt;\n        Select beer characteristics\n        &lt;p&gt;\n            Color: &lt;select name=\"color\" size=\"1\"&gt;\n\n                &lt;option value=\"light\"&gt;light&lt;/option&gt;\n                &lt;option value=\"amber\"&gt;amber&lt;/option&gt;\n                &lt;option value=\"brown\"&gt;brown&lt;/option&gt;\n                &lt;option value=\"dark\"&gt;dark&lt;/option&gt;\n            &lt;/select&gt; &lt;br&gt;\n            &lt;br&gt;\n            &lt;input type=\"submit\" value=\"Submit Beer\" &gt;\n\n    &lt;/form&gt;\n\n    &lt;form action=\"BandwidthCalc.do\"&gt;\n        &lt;br&gt;\n        &lt;br&gt;\n        &lt;input type=\"submit\" value=\"Calculate Bandwidth\" &gt;\n    &lt;/form&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Here is my BandwidthCalc.java servlet class</p>\n\n<pre><code>public class BandwidthCalc extends HttpServlet {\n\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException, ServletException{\n\n        RequestDispatcher view = request.getRequestDispatcher(\"bandwidth.jsp\");\n        view.forward(request, response);\n\n    }\n}\n</code></pre>\n\n<p>This is my bandwidth.jsp file</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n&lt;title&gt;Bandwidth calculation&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    This is bandwidth page!! &lt;br&gt;\n    &lt;script src=\"./js/jquery-2.1.3.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"./Boomerang/boomerang.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"./js/testBeacon.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n    &lt;div id=\"results\"&gt;\n    &lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And here is my testBeacon.js file</p>\n\n<pre><code>var bw=null,be=null,lat=null,laterr=null;\n\nBOOMR.init({\n    user_ip: '127.0.0.1',\n\n  });\n\n    BOOMR.subscribe('before_beacon', function(o) {\nvar html = \"\", t_name, t_other, others = [];\n\n        if(!o.t_other) o.t_other = \"\";\n\n        for(var k in o) {\n            if(!k.match(/^(t_done|t_other|bw|lat|bw_err|lat_err|u|r2?)$/)) {\n                if(k.match(/^t_/)) {\n                    o.t_other += \",\" + k + \"|\" + o[k];\n                }\n                else {\n                    others.push(k + \" = \" + o[k]);\n                }\n            }\n        }\n\n        if(o.t_done) { html += \"This page took \" + o.t_done + \" ms to load&lt;br&gt;\"; }\n        if(o.t_other) {\n            t_other = o.t_other.replace(/^,/, '').replace(/\\|/g, ' = ').split(',');\n            html += \"Other timers measured: &lt;br&gt;\";\n            for(var i=0; i&lt;t_other.length; i++) {\n                html += \"&amp;nbsp;&amp;nbsp;&amp;nbsp;\" + t_other[i] + \" ms&lt;br&gt;\";\n            }\n        }\n        if(o.bw) { html += \"Your bandwidth to this server is \" + parseInt(o.bw*8/1024) + \"kbps (&amp;#x00b1;\" + parseInt(o.bw_err*100/o.bw) + \"%)&lt;br&gt;\"; }\n        if(o.lat) { html += \"Your latency to this server is \" + parseInt(o.lat) + \"&amp;#x00b1;\" + o.lat_err + \"ms&lt;br&gt;\"; }\n\n        var r = document.getElementById('results');\n        r.innerHTML = html;\n\n        if(others.length) {\n            r.innerHTML += \"Other parameters:&lt;br&gt;\";\n\n            for(var i=0; i&lt;others.length; i++) {\n                var t = document.createTextNode(others[i]);\n                r.innerHTML += \"&amp;nbsp;&amp;nbsp;&amp;nbsp;\";\n                r.appendChild(t);\n                r.innerHTML += \"&lt;br&gt;\";\n\n            }\n        }\n});\n</code></pre>\n\n<p>When I run this BOOMR.subscribe function is not being executed. I can't understand why? I already included Boomerang folder using link <a href=\"http://github.com/lognormal/boomerang/\" rel=\"nofollow\">http://github.com/lognormal/boomerang/</a></p>\n"},{"tags":["java","spring-webflux"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1676589373,"post_id":75478535,"comment_id":133173141,"body_markdown":"how did you get Mono&lt;Mono&lt;T&gt;&gt;? Probably somewhere in the flow you are using `map` instead of `flatMap`","body":"how did you get Mono&lt;Mono&lt;T&gt;&gt;? Probably somewhere in the flow you are using <code>map</code> instead of <code>flatMap</code>"},{"owner":{"account_id":18591034,"reputation":1258,"user_id":13548254,"display_name":"user1354825"},"score":0,"creation_date":1676618442,"post_id":75478535,"comment_id":133177056,"body_markdown":"You&#39;re right Alex..but what is the logic behind this? Does &#39;map&#39; introduce another mono?","body":"You&#39;re right Alex..but what is the logic behind this? Does &#39;map&#39; introduce another mono?"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1676589305,"creation_date":1676588739,"answer_id":75478782,"question_id":75478535,"body_markdown":"You can use [`flatMap`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#flatMap-java.util.function.Function-):\r\n```java\r\nMono&lt;Mono&lt;Something&gt;&gt; input;//TODO set to something \r\nMono&lt;Something&gt; flattened = input.flatMap(Function.identity());\r\n```\r\n\r\n`flatMap` first maps the element in the `Mono` to a `Mono` so you have a `Mono&lt;Mono&lt;T&gt;&gt;` using a `Function` (in your case a function that just returns the elements i.e. keeps it as-is as you already have a `Mono&lt;Mono&lt;T&gt;&gt;`) and then flattens it to a single `Mono&lt;T&gt;`.\r\n\r\n`Function.identity()` is equivalent to `elem -&gt; elem`.","title":"Convert Mono&lt;Mono&lt;Something&gt;&gt; to Mono&lt;Something&gt;","body":"<p>You can use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#flatMap-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>flatMap</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono&lt;Mono&lt;Something&gt;&gt; input;//TODO set to something \nMono&lt;Something&gt; flattened = input.flatMap(Function.identity());\n</code></pre>\n<p><code>flatMap</code> first maps the element in the <code>Mono</code> to a <code>Mono</code> so you have a <code>Mono&lt;Mono&lt;T&gt;&gt;</code> using a <code>Function</code> (in your case a function that just returns the elements i.e. keeps it as-is as you already have a <code>Mono&lt;Mono&lt;T&gt;&gt;</code>) and then flattens it to a single <code>Mono&lt;T&gt;</code>.</p>\n<p><code>Function.identity()</code> is equivalent to <code>elem -&gt; elem</code>.</p>\n"},{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1676650785,"creation_date":1676650785,"answer_id":75486789,"question_id":75478535,"body_markdown":"In general, Mono&lt;Mono&lt;T&gt;&gt; doesn&#39;t really make sense, and most probably is the result of incorrect code. You can obtain it by wrapping a `Mono` by another `Mono`, for example, by using `Mono.just`.\r\n\r\nConsider the following code\r\n\r\n**Incorrect**\r\n```\r\nMono&lt;Mono&lt;Integer&gt;&gt; flow = Mono.just(1)\r\n    .map(value -&gt; Mono.just(value++))\r\n```\r\n\r\n**Correct**\r\n```\r\nMono&lt;Integer&gt; flow = Mono.just(1)\r\n    .map(value -&gt; value++)\r\n```\r\n\r\nIf you have control over the code, it&#39;s better to find the root cause and fix the issue. Otherwise, you can use a solution proposed by @dan1st and apply `.flatMap(Function.identity())`.\r\n","title":"Convert Mono&lt;Mono&lt;Something&gt;&gt; to Mono&lt;Something&gt;","body":"<p>In general, Mono&lt;Mono&gt; doesn't really make sense, and most probably is the result of incorrect code. You can obtain it by wrapping a <code>Mono</code> by another <code>Mono</code>, for example, by using <code>Mono.just</code>.</p>\n<p>Consider the following code</p>\n<p><strong>Incorrect</strong></p>\n<pre><code>Mono&lt;Mono&lt;Integer&gt;&gt; flow = Mono.just(1)\n    .map(value -&gt; Mono.just(value++))\n</code></pre>\n<p><strong>Correct</strong></p>\n<pre><code>Mono&lt;Integer&gt; flow = Mono.just(1)\n    .map(value -&gt; value++)\n</code></pre>\n<p>If you have control over the code, it's better to find the root cause and fix the issue. Otherwise, you can use a solution proposed by @dan1st and apply <code>.flatMap(Function.identity())</code>.</p>\n"}],"owner":{"account_id":18591034,"reputation":1258,"user_id":13548254,"display_name":"user1354825"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75478782,"answer_count":2,"score":0,"last_activity_date":1676650785,"creation_date":1676586450,"question_id":75478535,"body_markdown":"I&#39;m looking for a way to convert\r\n```\r\nMono&lt;Mono&lt;Something&gt;&gt; \r\n```\r\nto \r\n```\r\nMono&lt;Something&gt;\r\n```\r\nWhat is the way to do this without using ```block()``` or ```subscribe()```","title":"Convert Mono&lt;Mono&lt;Something&gt;&gt; to Mono&lt;Something&gt;","body":"<p>I'm looking for a way to convert</p>\n<pre><code>Mono&lt;Mono&lt;Something&gt;&gt; \n</code></pre>\n<p>to</p>\n<pre><code>Mono&lt;Something&gt;\n</code></pre>\n<p>What is the way to do this without using <code>block()</code> or <code>subscribe()</code></p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":2734255,"reputation":561,"user_id":2384806,"display_name":"mdoflaz"},"score":0,"creation_date":1654782769,"post_id":72561272,"comment_id":128178310,"body_markdown":"Possible duplicate of Q in the link and A is here : https://stackoverflow.com/a/25052275/2384806","body":"Possible duplicate of Q in the link and A is here : <a href=\"https://stackoverflow.com/a/25052275/2384806\">stackoverflow.com/a/25052275/2384806</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1654788914,"post_id":72561272,"comment_id":128180970,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":24516834,"reputation":56,"user_id":18430457,"display_name":"Tsimpragakis Vasilis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654782423,"creation_date":1654782423,"answer_id":72561459,"question_id":72561272,"body_markdown":"Have you used GeneratedValue annotation to specify that the id generation value witll be from a database sequence?\r\n\r\nexample: \r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seq_name&quot;)\r\n    @SequenceGenerator(name = &quot;seq_name&quot;, sequenceName = &quot;seq_name_in_database&quot;, allocationSize = 1)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;","title":"Hibernate Sequence generation in ms sql server","body":"<p>Have you used GeneratedValue annotation to specify that the id generation value witll be from a database sequence?</p>\n<p>example:</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seq_name&quot;)\n@SequenceGenerator(name = &quot;seq_name&quot;, sequenceName = &quot;seq_name_in_database&quot;, allocationSize = 1)\n@Column(name = &quot;id&quot;)\nprivate Long id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6282963,"reputation":179,"user_id":4883303,"display_name":"Elhoussin GHANEM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676650689,"creation_date":1676650689,"answer_id":75486769,"question_id":72561272,"body_markdown":"It seems that Hibernate (v 5.6.3) is using its own tables to manage sequences in sql server, you must create the table with the same name as your sequence with one column named next_val then insert a line with the init value.\r\nHibernate use the query to select :\r\n\r\n    select next_val as id_val from sequence_name with (updlock,rowlock)\r\n\r\nthen increment the next_val :\r\n\r\n    update sequence_utilisateur set next_val= ? where next_val=?\r\n\r\nAlso don&#39;t define the column for wich you use the generated value as IDENTITY.","title":"Hibernate Sequence generation in ms sql server","body":"<p>It seems that Hibernate (v 5.6.3) is using its own tables to manage sequences in sql server, you must create the table with the same name as your sequence with one column named next_val then insert a line with the init value.\nHibernate use the query to select :</p>\n<pre><code>select next_val as id_val from sequence_name with (updlock,rowlock)\n</code></pre>\n<p>then increment the next_val :</p>\n<pre><code>update sequence_utilisateur set next_val= ? where next_val=?\n</code></pre>\n<p>Also don't define the column for wich you use the generated value as IDENTITY.</p>\n"}],"owner":{"account_id":25516501,"reputation":1,"user_id":19307267,"display_name":"G Pavan Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1773,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1676650689,"creation_date":1654781679,"question_id":72561272,"body_markdown":"We are using @sequencegenerator annotations to generate sequence in mssql database but when we execute sequence is generated as table instead of sequence, we have used 2012Dialect but still we face same issue and application throws exception invalid object name - sequence name-. Please help with solution ","title":"Hibernate Sequence generation in ms sql server","body":"<p>We are using @sequencegenerator annotations to generate sequence in mssql database but when we execute sequence is generated as table instead of sequence, we have used 2012Dialect but still we face same issue and application throws exception invalid object name - sequence name-. Please help with solution</p>\n"},{"tags":["java","multithreading","wait","notify"],"comments":[{"owner":{"account_id":27802774,"reputation":15,"user_id":21226915,"display_name":"Denis"},"score":0,"creation_date":1676574437,"post_id":75472717,"comment_id":133169551,"body_markdown":"Fixed bug with limitation. The Runnable interface is implemented in the Car class. The error still occurs.","body":"Fixed bug with limitation. The Runnable interface is implemented in the Car class. The error still occurs."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1676941216,"post_id":75472717,"comment_id":133234477,"body_markdown":"`limit.getAndSet(limit.get()-1);` is a super bad pattern that introduces a possible race.  You are inside of a synchronized block whenever it is used so it doesn&#39;t matter in your case but `limit.decrementAndGet()` should be used with `AtomicInteger` instead.","body":"<code>limit.getAndSet(limit.get()-1);</code> is a super bad pattern that introduces a possible race.  You are inside of a synchronized block whenever it is used so it doesn&#39;t matter in your case but <code>limit.decrementAndGet()</code> should be used with <code>AtomicInteger</code> instead."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1676941285,"post_id":75472717,"comment_id":133234491,"body_markdown":"Because you are inside of synchronized blocks whenever you are reading or adjusting the limit then it can be a simple int type.","body":"Because you are inside of synchronized blocks whenever you are reading or adjusting the limit then it can be a simple int type."}],"answers":[{"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1676940999,"post_id":75486690,"comment_id":133234448,"body_markdown":"You completely rewrote the code.  I would have provided feedback on the code as posted and not provided another solution to what certainly is an academic problem.","body":"You completely rewrote the code.  I would have provided feedback on the code as posted and not provided another solution to what certainly is an academic problem."}],"tags":[],"owner":{"account_id":27813235,"reputation":16,"user_id":21235209,"display_name":"user21235209"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676650275,"creation_date":1676650275,"answer_id":75486690,"question_id":75472717,"body_markdown":"&gt; Notify does not work in the unlock method. Elements that are included in the wait, do not come out of waiting.\r\n\r\nYour code works fine on my machine.\r\n\r\nThe testing code:\r\n```java\r\npublic class App {\r\n  \r\n  public static void main(String[] args) throws Throwable {\r\n    var numTasks = 10;\r\n    var tunnel = new Tunnel();\r\n    var startLatch = new CountDownLatch(numTasks);\r\n    var threads = IntStream.rangeClosed(1, numTasks).mapToObj(i -&gt; {\r\n      var t = new Thread(() -&gt; {\r\n        try {\r\n          startLatch.countDown();\r\n          startLatch.await();\r\n          tunnel.goIntoTunnel();\r\n        } catch (InterruptedException e) {\r\n          e.printStackTrace();\r\n        }\r\n      });\r\n      t.setName(&quot;Car&quot; + i);\r\n      return t;\r\n    }).toList();\r\n    threads.forEach(t -&gt; t.start());\r\n    for (var t: threads) {\r\n      t.join();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe output:\r\n```text\r\nCar1 go into the tunnel\r\nCar3 go into the tunnel\r\nCar2 go into the tunnel\r\nCar4 go into the tunnel\r\nCar1 left the tunnel, time: 327\r\nCar4 left the tunnel, time: 2372\r\nCar5 go into the tunnel\r\nCar3 left the tunnel, time: 4174\r\nCar6 go into the tunnel\r\nCar2 left the tunnel, time: 4661\r\nCar8 go into the tunnel\r\nCar5 left the tunnel, time: 1995\r\nCar7 go into the tunnel\r\nCar8 left the tunnel, time: 2323\r\nCar9 go into the tunnel\r\nCar7 left the tunnel, time: 2794\r\nCar10 go into the tunnel\r\nCar6 left the tunnel, time: 3927\r\nCar9 left the tunnel, time: 3367\r\nCar10 left the tunnel, time: 4590\r\n```\r\n\r\nI don&#39;t see anything in the code of `Tunnel` that might prevent waiting threads from waking up:\r\n1. every car-thread calls [`notify()`][notify] in the end, this wakes up one waiting thread (if there are any)\r\n2. the awoken thread also call [`notify()`][notify], this wakes up another waiting thread\r\n3. ...\r\n\r\nThe only thing I can think of is if this `Tunnel` object is also used somewhere else in your code for waiting.  \r\nIn this case [`notify()`][notify] in `unlock()` might wake up that other waiting thread instead of one of the waiting car-threads.\r\n\r\nP.S. There are some additional problems in your code:\r\n1. `limit` is not incremented inside `lock()` when the thread is awoken. This might lead to 4 cars (3 threads that didn&#39;t wait + 1 awoken thread) in the tunnel simultaneously.\r\n2. `Tunnel.isOpen` is `true` when the tunnel is closed, and is `false` when the tunnel is closed. That&#39;s counter-intuitive.\r\n3. You can replace `AtomicInteger` by `int`, because in your code it&#39;s used only inside `synchronized` blocks. And code like `limit.getAndSet(limit.get()-1)` defeats the purpose of the `AtomicInteger`&#39;s existence.\r\n\r\n\r\n[notify]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()","title":"Notify does not work in the unlock method. Elements that are included in the wait, do not come out of waiting","body":"<blockquote>\n<p>Notify does not work in the unlock method. Elements that are included in the wait, do not come out of waiting.</p>\n</blockquote>\n<p>Your code works fine on my machine.</p>\n<p>The testing code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n  \n  public static void main(String[] args) throws Throwable {\n    var numTasks = 10;\n    var tunnel = new Tunnel();\n    var startLatch = new CountDownLatch(numTasks);\n    var threads = IntStream.rangeClosed(1, numTasks).mapToObj(i -&gt; {\n      var t = new Thread(() -&gt; {\n        try {\n          startLatch.countDown();\n          startLatch.await();\n          tunnel.goIntoTunnel();\n        } catch (InterruptedException e) {\n          e.printStackTrace();\n        }\n      });\n      t.setName(&quot;Car&quot; + i);\n      return t;\n    }).toList();\n    threads.forEach(t -&gt; t.start());\n    for (var t: threads) {\n      t.join();\n    }\n  }\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>Car1 go into the tunnel\nCar3 go into the tunnel\nCar2 go into the tunnel\nCar4 go into the tunnel\nCar1 left the tunnel, time: 327\nCar4 left the tunnel, time: 2372\nCar5 go into the tunnel\nCar3 left the tunnel, time: 4174\nCar6 go into the tunnel\nCar2 left the tunnel, time: 4661\nCar8 go into the tunnel\nCar5 left the tunnel, time: 1995\nCar7 go into the tunnel\nCar8 left the tunnel, time: 2323\nCar9 go into the tunnel\nCar7 left the tunnel, time: 2794\nCar10 go into the tunnel\nCar6 left the tunnel, time: 3927\nCar9 left the tunnel, time: 3367\nCar10 left the tunnel, time: 4590\n</code></pre>\n<p>I don't see anything in the code of <code>Tunnel</code> that might prevent waiting threads from waking up:</p>\n<ol>\n<li>every car-thread calls <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()\" rel=\"nofollow noreferrer\"><code>notify()</code></a> in the end, this wakes up one waiting thread (if there are any)</li>\n<li>the awoken thread also call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()\" rel=\"nofollow noreferrer\"><code>notify()</code></a>, this wakes up another waiting thread</li>\n<li>...</li>\n</ol>\n<p>The only thing I can think of is if this <code>Tunnel</code> object is also used somewhere else in your code for waiting.<br />\nIn this case <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()\" rel=\"nofollow noreferrer\"><code>notify()</code></a> in <code>unlock()</code> might wake up that other waiting thread instead of one of the waiting car-threads.</p>\n<p>P.S. There are some additional problems in your code:</p>\n<ol>\n<li><code>limit</code> is not incremented inside <code>lock()</code> when the thread is awoken. This might lead to 4 cars (3 threads that didn't wait + 1 awoken thread) in the tunnel simultaneously.</li>\n<li><code>Tunnel.isOpen</code> is <code>true</code> when the tunnel is closed, and is <code>false</code> when the tunnel is closed. That's counter-intuitive.</li>\n<li>You can replace <code>AtomicInteger</code> by <code>int</code>, because in your code it's used only inside <code>synchronized</code> blocks. And code like <code>limit.getAndSet(limit.get()-1)</code> defeats the purpose of the <code>AtomicInteger</code>'s existence.</li>\n</ol>\n"}],"owner":{"account_id":27802774,"reputation":15,"user_id":21226915,"display_name":"Denis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75486690,"answer_count":1,"score":0,"last_activity_date":1676650275,"creation_date":1676552700,"question_id":75472717,"body_markdown":"I&#39;m just starting to learn multithreading.\r\n\r\nNotify does not work in the unlock method. Elements that are included in the wait, do not come out of waiting.\r\n\r\n```\r\npublic class Tunnel {\r\n    static AtomicInteger limit = new AtomicInteger(0);\r\n    static boolean isOpen = false;\r\n    void goIntoTunnel() throws InterruptedException {\r\n        lock();\r\n        int timeIntoTunnel = (int) (Math.random() * 5000);\r\n        System.out.println(Thread.currentThread().getName() + &quot; go into the tunnel&quot;);\r\n        Thread.sleep(timeIntoTunnel);\r\n        unlock();\r\n        System.out.println(Thread.currentThread().getName() + &quot; left the tunnel, time: &quot; + timeIntoTunnel);\r\n    }\r\n\r\n    void lock() throws InterruptedException {\r\n        synchronized (this) {\r\n            if (limit.get() &lt; 3) {\r\n                limit.incrementAndGet();\r\n            } else isOpen = true;\r\n            while (isOpen) {\r\n                wait();\r\n            }\r\n        }\r\n    }\r\n\r\n    void unlock() throws InterruptedException {\r\n        synchronized (this) {\r\n            limit.getAndSet(limit.get()-1);\r\n            isOpen = false;\r\n                notify();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nSimulation of the race. Cars enter the tunnel, and there cannot be more than 3 cars in the tunnel at the same time","title":"Notify does not work in the unlock method. Elements that are included in the wait, do not come out of waiting","body":"<p>I'm just starting to learn multithreading.</p>\n<p>Notify does not work in the unlock method. Elements that are included in the wait, do not come out of waiting.</p>\n<pre><code>public class Tunnel {\n    static AtomicInteger limit = new AtomicInteger(0);\n    static boolean isOpen = false;\n    void goIntoTunnel() throws InterruptedException {\n        lock();\n        int timeIntoTunnel = (int) (Math.random() * 5000);\n        System.out.println(Thread.currentThread().getName() + &quot; go into the tunnel&quot;);\n        Thread.sleep(timeIntoTunnel);\n        unlock();\n        System.out.println(Thread.currentThread().getName() + &quot; left the tunnel, time: &quot; + timeIntoTunnel);\n    }\n\n    void lock() throws InterruptedException {\n        synchronized (this) {\n            if (limit.get() &lt; 3) {\n                limit.incrementAndGet();\n            } else isOpen = true;\n            while (isOpen) {\n                wait();\n            }\n        }\n    }\n\n    void unlock() throws InterruptedException {\n        synchronized (this) {\n            limit.getAndSet(limit.get()-1);\n            isOpen = false;\n                notify();\n        }\n    }\n}\n</code></pre>\n<p>Simulation of the race. Cars enter the tunnel, and there cannot be more than 3 cars in the tunnel at the same time</p>\n"},{"tags":["java","android","appium"],"answers":[{"comments":[{"owner":{"account_id":5942708,"reputation":357,"user_id":4673343,"display_name":"bucky barns"},"score":0,"creation_date":1676650181,"post_id":75485269,"comment_id":133186114,"body_markdown":"yes, I corrected that but still stuck with error &quot;appum spawn npm enonet&quot;","body":"yes, I corrected that but still stuck with error &quot;appum spawn npm enonet&quot;"}],"tags":[],"owner":{"account_id":26782210,"reputation":96,"user_id":20376910,"display_name":"valies"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676642491,"creation_date":1676642491,"answer_id":75485269,"question_id":75476493,"body_markdown":"The argument that you use in the terminal is different from the one you send programmatically: --plugins vs. --use-plugins.\r\n\r\n```\r\n.withArgument(() -&gt;&quot;--use-plugins&quot;, &quot;execute-driver&quot;)\r\n```","title":"Appium service builder not starting service","body":"<p>The argument that you use in the terminal is different from the one you send programmatically: --plugins vs. --use-plugins.</p>\n<pre><code>.withArgument(() -&gt;&quot;--use-plugins&quot;, &quot;execute-driver&quot;)\n</code></pre>\n"}],"owner":{"account_id":5942708,"reputation":357,"user_id":4673343,"display_name":"bucky barns"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676650219,"creation_date":1676572128,"question_id":75476493,"body_markdown":"\r\nI am able to start the appium server manually via terminal using command ```&quot;appium --use-plugins execute-driver&quot;```\r\n\r\nWhen I try to start appium service programtically, I am getting an error of &quot;Unrecognized arguments: --plugins execute-driver&quot;\r\nIf I remove the withArgument property then i get error &quot;Appium spawn npm ENOENT&quot;\r\n\r\nBelow is my code:\r\n\r\n```\r\nAppiumDriverLocalService service = new AppiumServiceBuilder()\r\n.usingDriverExecutable(new File(&quot;//Users//ABC//.nvm//versions//node//v19.2.0//bin//node&quot;))\r\n.withAppiumJS(new File(&quot;//Users//ABC//.nvm//versions//node//v19.2.0//lib/node_modules//appium//build//lib//main.js&quot;))\r\n.withArgument(() -&gt;&quot;--use-plugins&quot;, &quot;execute-driver&quot;)\r\n.withIPAddress(&quot;127.0.0.1&quot;).usingPort(4723).build();\r\n\t\t\r\n\t\tservice.start();\r\n\t\t\r\n\t\tUiAutomator2Options options = new UiAutomator2Options();\r\n\t\toptions.setDeviceName(&quot;sampleDevice&quot;);\r\n\t\toptions.setApp(&quot;//Users//ABC//Documents//appiumSampleProject//src//test//java//resources//Demos-debug.apk&quot;);\r\n\r\n\t\t\r\n\t\tAndroidDriver driver = new AndroidDriver(new URL(&quot;http://127.0.0.1:4723&quot;),options);\r\n\r\n```\r\n\r\nCan some one help with possible resolution for above problem\r\n","title":"Appium service builder not starting service","body":"<p>I am able to start the appium server manually via terminal using command <code>&quot;appium --use-plugins execute-driver&quot;</code></p>\n<p>When I try to start appium service programtically, I am getting an error of &quot;Unrecognized arguments: --plugins execute-driver&quot;\nIf I remove the withArgument property then i get error &quot;Appium spawn npm ENOENT&quot;</p>\n<p>Below is my code:</p>\n<pre><code>AppiumDriverLocalService service = new AppiumServiceBuilder()\n.usingDriverExecutable(new File(&quot;//Users//ABC//.nvm//versions//node//v19.2.0//bin//node&quot;))\n.withAppiumJS(new File(&quot;//Users//ABC//.nvm//versions//node//v19.2.0//lib/node_modules//appium//build//lib//main.js&quot;))\n.withArgument(() -&gt;&quot;--use-plugins&quot;, &quot;execute-driver&quot;)\n.withIPAddress(&quot;127.0.0.1&quot;).usingPort(4723).build();\n        \n        service.start();\n        \n        UiAutomator2Options options = new UiAutomator2Options();\n        options.setDeviceName(&quot;sampleDevice&quot;);\n        options.setApp(&quot;//Users//ABC//Documents//appiumSampleProject//src//test//java//resources//Demos-debug.apk&quot;);\n\n        \n        AndroidDriver driver = new AndroidDriver(new URL(&quot;http://127.0.0.1:4723&quot;),options);\n\n</code></pre>\n<p>Can some one help with possible resolution for above problem</p>\n"},{"tags":["java","intellij-idea","compilation"],"comments":[{"owner":{"account_id":3528225,"reputation":1214,"user_id":2948684,"accept_rate":93,"display_name":"Adam Shakhabov"},"score":10,"creation_date":1389214508,"post_id":21006136,"comment_id":31570514,"body_markdown":"Tried you: `File -&gt; Project Structure -&gt; Project :: Project language level` change to `Diamonds, ARM, multi-catch etc` ?","body":"Tried you: <code>File -&gt; Project Structure -&gt; Project :: Project language level</code> change to <code>Diamonds, ARM, multi-catch etc</code> ?"},{"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"score":43,"creation_date":1389302398,"post_id":21006136,"comment_id":31616199,"body_markdown":"Yes. As it turns out, there is yet another option under File -&gt; Project Structure -&gt; Modules :: Sources (next to Paths and Dependencies) and that has a &quot;Language level&quot; option which also needs to be set correctly. Thanks you all guys for the comments and the answers! :-)","body":"Yes. As it turns out, there is yet another option under File -&gt; Project Structure -&gt; Modules :: Sources (next to Paths and Dependencies) and that has a &quot;Language level&quot; option which also needs to be set correctly. Thanks you all guys for the comments and the answers! :-)"},{"owner":{"account_id":288377,"reputation":14624,"user_id":588759,"accept_rate":67,"display_name":"rofrol"},"score":0,"creation_date":1422000827,"post_id":21006136,"comment_id":44585652,"body_markdown":"duplicate https://stackoverflow.com/questions/21747254/getting-compile-error-for-diamond-operator-in-idea-ide","body":"duplicate <a href=\"https://stackoverflow.com/questions/21747254/getting-compile-error-for-diamond-operator-in-idea-ide\" title=\"getting compile error for diamond operator in idea ide\">stackoverflow.com/questions/21747254/&hellip;</a>"},{"owner":{"account_id":337459,"reputation":917,"user_id":665744,"accept_rate":100,"display_name":"8bitme"},"score":39,"creation_date":1444384485,"post_id":21006136,"comment_id":53891649,"body_markdown":"There are 3 places that need to be updated. (1) File -&gt; Settings (Ctrl+alt+s for the shortcut) then &quot;Build, Execution, Deployment&quot;&gt;Compiler&gt;Java Compiler and change the &quot;Target bytecode version&quot; to your desired Java version. (2 and 3) The  other place is under File&gt;Project Structure (Ctrl+Alt+Shift+S)&gt; &quot;Project Settings&quot;&gt;&quot;Project&quot; change Project SDK to point to the appropriate version of Java and set the Project language level to the correct version. The code assist only changes the language level for you unfortunately making this an annoyance for new projects.","body":"There are 3 places that need to be updated. (1) File -&gt; Settings (Ctrl+alt+s for the shortcut) then &quot;Build, Execution, Deployment&quot;&gt;Compiler&gt;Java Compiler and change the &quot;Target bytecode version&quot; to your desired Java version. (2 and 3) The  other place is under File&gt;Project Structure (Ctrl+Alt+Shift+S)&gt; &quot;Project Settings&quot;&gt;&quot;Project&quot; change Project SDK to point to the appropriate version of Java and set the Project language level to the correct version. The code assist only changes the language level for you unfortunately making this an annoyance for new projects."},{"owner":{"display_name":"user1308908"},"score":3,"creation_date":1447184570,"post_id":21006136,"comment_id":55050407,"body_markdown":"What if I have 200 modules in my project do I have to spend all day reclicking them?","body":"What if I have 200 modules in my project do I have to spend all day reclicking them?"},{"owner":{"account_id":1250016,"reputation":865,"user_id":3151513,"accept_rate":60,"display_name":"July"},"score":0,"creation_date":1455610701,"post_id":21006136,"comment_id":58553172,"body_markdown":"That&#39;s too annoying, why we have to change 3 places instead one-off config?  why not keep it simple? yes I have about 100 modules to set.","body":"That&#39;s too annoying, why we have to change 3 places instead one-off config?  why not keep it simple? yes I have about 100 modules to set."},{"owner":{"account_id":1168998,"reputation":10625,"user_id":1146608,"accept_rate":88,"display_name":"Patrick M"},"score":0,"creation_date":1459444914,"post_id":21006136,"comment_id":60301593,"body_markdown":"Ran into this just now with a new project in IntelliJ 2016. The error now says `Diamond types are not supported at this language level.` IntelliJ had set the module language level as 5 without asking or prompting, instead of the specified JDK 8 for the project and maven settings.","body":"Ran into this just now with a new project in IntelliJ 2016. The error now says <code>Diamond types are not supported at this language level.</code> IntelliJ had set the module language level as 5 without asking or prompting, instead of the specified JDK 8 for the project and maven settings."},{"owner":{"account_id":1724698,"reputation":1194,"user_id":1579667,"accept_rate":96,"display_name":"Benj"},"score":0,"creation_date":1465897516,"post_id":21006136,"comment_id":63081088,"body_markdown":"See that : http://stackoverflow.com/questions/27037657/stop-intellij-idea-to-switch-java-language-level-everytime-the-pom-is-reloaded","body":"See that : <a href=\"http://stackoverflow.com/questions/27037657/stop-intellij-idea-to-switch-java-language-level-everytime-the-pom-is-reloaded\" title=\"stop intellij idea to switch java language level everytime the pom is reloaded\">stackoverflow.com/questions/27037657/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2617274,"reputation":6112,"user_id":2266098,"accept_rate":72,"display_name":"NeplatnyUdaj"},"score":2,"creation_date":1389214623,"post_id":21006225,"comment_id":31570573,"body_markdown":"And check if ```Additional command line parameters``` in ```Java Compiler``` settings is blank.","body":"And check if <code>Additional command line parameters</code> in <code>Java Compiler</code> settings is blank."},{"owner":{"account_id":454252,"reputation":12552,"user_id":851699,"accept_rate":41,"display_name":"Peter"},"score":2,"creation_date":1455100876,"post_id":21006225,"comment_id":58334780,"body_markdown":"Note: The third thing (File -&gt; Project Structure -&gt; Modules :: Sources) is what solved it for me.","body":"Note: The third thing (File -&gt; Project Structure -&gt; Modules :: Sources) is what solved it for me."},{"owner":{"account_id":1168998,"reputation":10625,"user_id":1146608,"accept_rate":88,"display_name":"Patrick M"},"score":0,"creation_date":1459444958,"post_id":21006225,"comment_id":60301616,"body_markdown":"Helpful screenshots of this process over at this answer: http://stackoverflow.com/a/21747329/1146608","body":"Helpful screenshots of this process over at this answer: <a href=\"http://stackoverflow.com/a/21747329/1146608\">stackoverflow.com/a/21747329/1146608</a>"},{"owner":{"account_id":1724698,"reputation":1194,"user_id":1579667,"accept_rate":96,"display_name":"Benj"},"score":1,"creation_date":1465897566,"post_id":21006225,"comment_id":63081130,"body_markdown":"If using Maven, need to modify pom : http://stackoverflow.com/questions/27037657/stop-intellij-idea-to-switch-java-language-level-everytime-the-pom-is-reloaded","body":"If using Maven, need to modify pom : <a href=\"http://stackoverflow.com/questions/27037657/stop-intellij-idea-to-switch-java-language-level-everytime-the-pom-is-reloaded\" title=\"stop intellij idea to switch java language level everytime the pom is reloaded\">stackoverflow.com/questions/27037657/&hellip;</a>"},{"owner":{"account_id":3148809,"reputation":22476,"user_id":2662707,"display_name":"G. Ann - SonarSource Team"},"score":12,"creation_date":1497378775,"post_id":21006225,"comment_id":76049818,"body_markdown":"+1 for Language level. There _should not_ be SO MANY places to set and re-set and re-re-set the same #$%^ thing!","body":"+1 for Language level. There <i>should not</i> be SO MANY places to set and re-set and re-re-set the same #$%^ thing!"},{"owner":{"account_id":5476266,"reputation":274,"user_id":5394180,"display_name":"MrObjectOriented"},"score":2,"creation_date":1581148271,"post_id":21006225,"comment_id":106340569,"body_markdown":"&quot;Settings | Compiler | Java Compiler | Per-module bytecode version&quot; saved me!","body":"&quot;Settings | Compiler | Java Compiler | Per-module bytecode version&quot; saved me!"}],"tags":[],"owner":{"account_id":67383,"reputation":17785,"user_id":197205,"display_name":"Peter Gromov"},"comment_count":6,"down_vote_count":1,"up_vote_count":162,"is_accepted":false,"score":161,"last_activity_date":1422003086,"creation_date":1389214265,"answer_id":21006225,"question_id":21006136,"body_markdown":"Please check your project/module language levels (Project Structure | Project; Project Structure | Modules | module-name | Sources). You might also want to take a look at Settings | Compiler | Java Compiler | Per-module bytecode version.\r\n\r\nSet also this:\r\n\r\nFile -&gt; Project Structure -&gt; Modules :: Sources (next to Paths and Dependencies) and that has a &quot;Language level&quot; option which also needs to be set correctly. ","title":"IntelliJ IDEA 13 uses Java 1.5 despite setting to 1.7","body":"<p>Please check your project/module language levels (Project Structure | Project; Project Structure | Modules | module-name | Sources). You might also want to take a look at Settings | Compiler | Java Compiler | Per-module bytecode version.</p>\n\n<p>Set also this:</p>\n\n<p>File -> Project Structure -> Modules :: Sources (next to Paths and Dependencies) and that has a \"Language level\" option which also needs to be set correctly. </p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1389214282,"creation_date":1389214282,"answer_id":21006230,"question_id":21006136,"body_markdown":"First, you need to change the &quot;project bytecode version&quot; under `File &gt; Settings`, `Compiler &gt; Java Compiler`\r\n\r\nSecond, do a full rebuild.","title":"IntelliJ IDEA 13 uses Java 1.5 despite setting to 1.7","body":"<p>First, you need to change the \"project bytecode version\" under <code>File &gt; Settings</code>, <code>Compiler &gt; Java Compiler</code></p>\n\n<p>Second, do a full rebuild.</p>\n"},{"comments":[{"owner":{"account_id":3203491,"reputation":697,"user_id":2705076,"accept_rate":85,"display_name":"quaintm"},"score":4,"creation_date":1455647327,"post_id":26920121,"comment_id":58578450,"body_markdown":"good idea, but don&#39;t commit your hard overrides to a shared project unless you want to blow out all your teammates&#39; settings","body":"good idea, but don&#39;t commit your hard overrides to a shared project unless you want to blow out all your teammates&#39; settings"},{"owner":{"account_id":940012,"reputation":21855,"user_id":968244,"accept_rate":58,"display_name":"isapir"},"score":8,"creation_date":1472364815,"post_id":26920121,"comment_id":65717904,"body_markdown":"This solved the issue for me, thanks!  How can it &quot;blow the teammates&#39; settings&quot;?  If the project&#39;s target is 1.7 then it&#39;s 1.7.  It&#39;s not like each teammate has a different target environment.","body":"This solved the issue for me, thanks!  How can it &quot;blow the teammates&#39; settings&quot;?  If the project&#39;s target is 1.7 then it&#39;s 1.7.  It&#39;s not like each teammate has a different target environment."},{"owner":{"account_id":4470493,"reputation":474,"user_id":3636950,"display_name":"huuthang"},"score":1,"creation_date":1509629772,"post_id":26920121,"comment_id":81101671,"body_markdown":"Great, mine is maven project.","body":"Great, mine is maven project."},{"owner":{"account_id":2127288,"reputation":151,"user_id":1889046,"display_name":"pRmdk"},"score":1,"creation_date":1513263978,"post_id":26920121,"comment_id":82594430,"body_markdown":"For new maven projects this setting can be added in default maven projects. Use **Preferences | Editor | File and Code Templates | Maven | Maven Projects.xml**  `&lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;`  [InteliJ Support Forum](https://intellij-support.jetbrains.com/hc/en-us/community/posts/206922595-Default-java-language-setting-for-every-project)","body":"For new maven projects this setting can be added in default maven projects. Use <b>Preferences | Editor | File and Code Templates | Maven | Maven Projects.xml</b>  <code>&lt;properties&gt;         &lt;maven.compiler.source&gt;1.8&lt;&#47;maven.compiler.source&gt;         &lt;maven.compiler.target&gt;1.8&lt;&#47;maven.compiler.target&gt;     &lt;&#47;properties&gt;</code>  <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/206922595-Default-java-language-setting-for-every-project\" rel=\"nofollow noreferrer\">InteliJ Support Forum</a>"},{"owner":{"account_id":5437590,"reputation":524,"user_id":4326590,"display_name":"Metin Dagcilar"},"score":0,"creation_date":1513708079,"post_id":26920121,"comment_id":82752752,"body_markdown":"This did work for me. But only when I restarted IntelliJ, I tried just rebuilding the project alone and that didn&#39;t work.","body":"This did work for me. But only when I restarted IntelliJ, I tried just rebuilding the project alone and that didn&#39;t work."},{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1564141602,"post_id":26920121,"comment_id":100943055,"body_markdown":"For me it doesn&#39;t work using Java 11, but changing IntelijIDEA settings for compiler solved the issue.","body":"For me it doesn&#39;t work using Java 11, but changing IntelijIDEA settings for compiler solved the issue."}],"tags":[],"owner":{"account_id":1806435,"reputation":4159,"user_id":1643465,"accept_rate":86,"display_name":"Djordje Ivanovic"},"comment_count":6,"down_vote_count":1,"up_vote_count":117,"is_accepted":true,"score":116,"last_activity_date":1415919857,"creation_date":1415919857,"answer_id":26920121,"question_id":21006136,"body_markdown":"If nothing of this helps (my case), you can set it in your pom.xml, like this:\r\n\r\n    &lt;properties&gt;\r\n      &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n      &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\nAs this cool guy mentioned here:\r\n[https://stackoverflow.com/a/25888116/1643465][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25888116/1643465","title":"IntelliJ IDEA 13 uses Java 1.5 despite setting to 1.7","body":"<p>If nothing of this helps (my case), you can set it in your pom.xml, like this:</p>\n\n<pre><code>&lt;properties&gt;\n  &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n  &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>As this cool guy mentioned here:\n<a href=\"https://stackoverflow.com/a/25888116/1643465\">https://stackoverflow.com/a/25888116/1643465</a></p>\n"},{"comments":[{"owner":{"account_id":79530,"reputation":2608,"user_id":225437,"accept_rate":50,"display_name":"Andrew"},"score":0,"creation_date":1566478065,"post_id":29953590,"comment_id":101674667,"body_markdown":"This worked after exiting project deleting .idea folder and .iml file all of which are recreated when opening the project again.","body":"This worked after exiting project deleting .idea folder and .iml file all of which are recreated when opening the project again."},{"owner":{"account_id":2981539,"reputation":3702,"user_id":2531402,"accept_rate":25,"display_name":"OlgaMaciaszek"},"score":1,"creation_date":1566565830,"post_id":29953590,"comment_id":101707489,"body_markdown":"Pressing the &quot;refresh Maven&quot; button in idea should work.","body":"Pressing the &quot;refresh Maven&quot; button in idea should work."},{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":0,"creation_date":1571327271,"post_id":29953590,"comment_id":103212944,"body_markdown":"@OlgaMaciaszek refreshing was required for the solution to work. Thanks!","body":"@OlgaMaciaszek refreshing was required for the solution to work. Thanks!"},{"owner":{"account_id":6742230,"reputation":145,"user_id":5195090,"accept_rate":60,"display_name":"Abhishek Verma"},"score":0,"creation_date":1671092992,"post_id":29953590,"comment_id":132024470,"body_markdown":"This option worked for me directly without removing any file within the project. I am using Intellij2022.2, For me other option which is adding property in maven.compiler.* didn&#39;t worked.","body":"This option worked for me directly without removing any file within the project. I am using Intellij2022.2, For me other option which is adding property in maven.compiler.* didn&#39;t worked."}],"tags":[],"owner":{"account_id":2981539,"reputation":3702,"user_id":2531402,"accept_rate":25,"display_name":"OlgaMaciaszek"},"comment_count":4,"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1430338266,"creation_date":1430338266,"answer_id":29953590,"question_id":21006136,"body_markdown":"Alternatively, you can apply maven-compiler-plugin with appropriate java version by adding this to your pom.xml:\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;","title":"IntelliJ IDEA 13 uses Java 1.5 despite setting to 1.7","body":"<p>Alternatively, you can apply maven-compiler-plugin with appropriate java version by adding this to your pom.xml:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6835055,"reputation":7617,"user_id":5257399,"accept_rate":80,"display_name":"Birchlabs"},"score":6,"creation_date":1466513646,"post_id":37297419,"comment_id":63338455,"body_markdown":"I gave up on maintaining these at their correct numbers (for some reason they change  I assume when I do `git checkout`).\n\nI found that I was able to safely delete entries in this list; the module falls back to using &quot;Project bytecode version&quot;.","body":"I gave up on maintaining these at their correct numbers (for some reason they change  I assume when I do <code>git checkout</code>).  I found that I was able to safely delete entries in this list; the module falls back to using &quot;Project bytecode version&quot;."},{"owner":{"account_id":1349569,"reputation":878,"user_id":1289597,"accept_rate":53,"display_name":"sheldonkreger"},"score":0,"creation_date":1495734330,"post_id":37297419,"comment_id":75387167,"body_markdown":"These numbers also revert back to 1.5 for me unexpectedly. Only hard coding the compiler source and target versions in the pom.xml file works consistently.","body":"These numbers also revert back to 1.5 for me unexpectedly. Only hard coding the compiler source and target versions in the pom.xml file works consistently."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1518568793,"post_id":37297419,"comment_id":84557523,"body_markdown":"Note the &quot;Project bytecode version&quot; setting near the top of this screenshot, as well as the highlighted &quot;Target bytecode version&quot;.","body":"Note the &quot;Project bytecode version&quot; setting near the top of this screenshot, as well as the highlighted &quot;Target bytecode version&quot;."},{"owner":{"account_id":559251,"reputation":5026,"user_id":921587,"accept_rate":75,"display_name":"chrips"},"score":0,"creation_date":1560995879,"post_id":37297419,"comment_id":99922636,"body_markdown":"@Birchlabs Thank you, I think this is the right answer.","body":"@Birchlabs Thank you, I think this is the right answer."},{"owner":{"account_id":543690,"reputation":4269,"user_id":912903,"accept_rate":92,"display_name":"Jo&#227;o Rocha da Silva"},"score":1,"creation_date":1567381817,"post_id":37297419,"comment_id":101937689,"body_markdown":"This was the only solution that fixed the problem for me, IntelliJ IDEA 2019.1","body":"This was the only solution that fixed the problem for me, IntelliJ IDEA 2019.1"},{"owner":{"account_id":6980823,"reputation":639,"user_id":5353824,"display_name":"SystemsInCode"},"score":0,"creation_date":1571474485,"post_id":37297419,"comment_id":103259746,"body_markdown":"This worked for me today in 2019.2, the above POM fix fixed mvn compile etc. but I and running a intelij run configuration which still failed. Upgrading this setting fixed it for me.","body":"This worked for me today in 2019.2, the above POM fix fixed mvn compile etc. but I and running a intelij run configuration which still failed. Upgrading this setting fixed it for me."}],"tags":[],"owner":{"account_id":6835055,"reputation":7617,"user_id":5257399,"accept_rate":80,"display_name":"Birchlabs"},"comment_count":6,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1463572937,"creation_date":1463568675,"answer_id":37297419,"question_id":21006136,"body_markdown":"[For IntelliJ IDEA 2016.2]\r\n\r\nI would like to expand upon part of [Peter Gromov&#39;s answer][1] with an up-to-date screenshot.\r\nSpecifically this particular part:\r\n\r\n&gt; You might also want to take a look at Settings | Compiler | Java Compiler | Per-module bytecode version.\r\n\r\nI believe that (at least in 2016.2): checking out different commits in `git` resets these to 1.5.\r\n\r\n[![Per-module bytecode version][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/21006225/5257399\r\n  [2]: http://i.stack.imgur.com/vjNEv.png","title":"IntelliJ IDEA 13 uses Java 1.5 despite setting to 1.7","body":"<p>[For IntelliJ IDEA 2016.2]</p>\n\n<p>I would like to expand upon part of <a href=\"https://stackoverflow.com/a/21006225/5257399\">Peter Gromov's answer</a> with an up-to-date screenshot.\nSpecifically this particular part:</p>\n\n<blockquote>\n  <p>You might also want to take a look at Settings | Compiler | Java Compiler | Per-module bytecode version.</p>\n</blockquote>\n\n<p>I believe that (at least in 2016.2): checking out different commits in <code>git</code> resets these to 1.5.</p>\n\n<p><a href=\"https://i.stack.imgur.com/vjNEv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vjNEv.png\" alt=\"Per-module bytecode version\"></a></p>\n"},{"tags":[],"owner":{"account_id":4893649,"reputation":560,"user_id":3943968,"display_name":"jordom"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481280659,"creation_date":1481280659,"answer_id":41058715,"question_id":21006136,"body_markdown":"I have same problem but with different situation. I can compile without any issue with maven in command line (`mvn clean install`), but in Intellij I always got `&quot;java: diamond operator is not supported in -source 1.5&quot;` compile error despite I have set the maven-compiler-plugin with java 1.8 in the pom.xml.\r\n\r\nIt turned out I have remote repository setting in my maven&#39;s settings.xml which the project depends on, but Intellij uses his own maven which doesn&#39;t have same setting with my local maven. \r\n\r\nSo my solution was changing the Intellij&#39;s maven setting (`Settings -&gt; Build, execution, Deployment -&gt; Maven -&gt; Maven home directory`) to use the local maven.","title":"IntelliJ IDEA 13 uses Java 1.5 despite setting to 1.7","body":"<p>I have same problem but with different situation. I can compile without any issue with maven in command line (<code>mvn clean install</code>), but in Intellij I always got <code>\"java: diamond operator is not supported in -source 1.5\"</code> compile error despite I have set the maven-compiler-plugin with java 1.8 in the pom.xml.</p>\n\n<p>It turned out I have remote repository setting in my maven's settings.xml which the project depends on, but Intellij uses his own maven which doesn't have same setting with my local maven. </p>\n\n<p>So my solution was changing the Intellij's maven setting (<code>Settings -&gt; Build, execution, Deployment -&gt; Maven -&gt; Maven home directory</code>) to use the local maven.</p>\n"},{"tags":[],"owner":{"account_id":6699975,"reputation":5536,"user_id":5166818,"display_name":"Amit Kaneria"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1491530972,"creation_date":1491530558,"answer_id":43268486,"question_id":21006136,"body_markdown":"I tried making changes to Intellij IDEA as below:\r\n\r\n1.\r\n\r\n    File &gt;&gt; Settings &gt;&gt; Build, Execution, Deployment &gt;&gt; Compiler &gt;&gt; Java Compiler &gt;&gt; project bytecode version: 1.8 &gt;&gt; Per-module bytecode version: 1.8\r\n\r\n2.\r\n\r\n    File &gt;&gt; Project Structure &gt;&gt; Project Settings &gt;&gt; Project &gt;&gt; SDK : 1.8, Project Language : 8 - Lambdas\r\n    File &gt;&gt; Project Structure &gt;&gt; Project Settings &gt;&gt; Modules &gt;&gt; abc : Language level: 8 - Lambdas\r\n\r\nbut nothing worked, it reverted the versions to java 1.5 as soon as I saved it.\r\n\r\nHowever, adding below lines to root(project level) pom.xml worked me to resolve above issue: (both of the options worked for me)\r\n\r\nOption 1:\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\nOption 2:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n","title":"IntelliJ IDEA 13 uses Java 1.5 despite setting to 1.7","body":"<p>I tried making changes to Intellij IDEA as below:</p>\n\n<p>1.</p>\n\n<pre><code>File &gt;&gt; Settings &gt;&gt; Build, Execution, Deployment &gt;&gt; Compiler &gt;&gt; Java Compiler &gt;&gt; project bytecode version: 1.8 &gt;&gt; Per-module bytecode version: 1.8\n</code></pre>\n\n<p>2.</p>\n\n<pre><code>File &gt;&gt; Project Structure &gt;&gt; Project Settings &gt;&gt; Project &gt;&gt; SDK : 1.8, Project Language : 8 - Lambdas\nFile &gt;&gt; Project Structure &gt;&gt; Project Settings &gt;&gt; Modules &gt;&gt; abc : Language level: 8 - Lambdas\n</code></pre>\n\n<p>but nothing worked, it reverted the versions to java 1.5 as soon as I saved it.</p>\n\n<p>However, adding below lines to root(project level) pom.xml worked me to resolve above issue: (both of the options worked for me)</p>\n\n<p>Option 1:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>Option 2:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4382312,"reputation":123,"user_id":3573612,"display_name":"Oleksandr Volynets"},"score":0,"creation_date":1507276575,"post_id":43455770,"comment_id":80153682,"body_markdown":"Not sure yet but you may need to also replace JDK version in `compiler.xml` at the root of the project (IntelliJ 2017.2): `sed &#39;s/target=&quot;1.5&quot;/target=&quot;1.8&quot;/g&#39; .idea/compiler.xml`","body":"Not sure yet but you may need to also replace JDK version in <code>compiler.xml</code> at the root of the project (IntelliJ 2017.2): <code>sed &#39;s&#47;target=&quot;1.5&quot;&#47;target=&quot;1.8&quot;&#47;g&#39; .idea&#47;compiler.xml</code>"},{"owner":{"account_id":2463171,"reputation":94,"user_id":2146845,"display_name":"Saideep Sambaraju"},"score":0,"creation_date":1507925478,"post_id":43455770,"comment_id":80421561,"body_markdown":"compiler.xml may be specific to your project. This command targets only *.iml files which are only needed by intellij. You may have to adjust language settings in your maven pom.xml or in your case compiler.xml independent of the IDE.","body":"compiler.xml may be specific to your project. This command targets only *.iml files which are only needed by intellij. You may have to adjust language settings in your maven pom.xml or in your case compiler.xml independent of the IDE."},{"owner":{"account_id":1083598,"reputation":452,"user_id":6252425,"display_name":"Sergey Sargsyan"},"score":1,"creation_date":1519164596,"post_id":43455770,"comment_id":84795883,"body_markdown":"@SaideepSambaraju compiler.xml is present in any buildable idea project that I saw. From what I see, this file is the model of the Settings-&gt;compiler (linux) Preferences-&gt;Compiler (MacOS). You can use it to change target version by script as Oleksandr said or by hand without UI.","body":"@SaideepSambaraju compiler.xml is present in any buildable idea project that I saw. From what I see, this file is the model of the Settings-&gt;compiler (linux) Preferences-&gt;Compiler (MacOS). You can use it to change target version by script as Oleksandr said or by hand without UI."},{"owner":{"account_id":2463171,"reputation":94,"user_id":2146845,"display_name":"Saideep Sambaraju"},"score":0,"creation_date":1519246840,"post_id":43455770,"comment_id":84837136,"body_markdown":"@SergeySargsyan - I just checked it, it is in the .idea folder which I couldn&#39;t find by searching. Thanks for pointing it out.","body":"@SergeySargsyan - I just checked it, it is in the .idea folder which I couldn&#39;t find by searching. Thanks for pointing it out."}],"tags":[],"owner":{"account_id":2463171,"reputation":94,"user_id":2146845,"display_name":"Saideep Sambaraju"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492448037,"creation_date":1492448037,"answer_id":43455770,"question_id":21006136,"body_markdown":"In your command line(Unix terminal) Go to your project root folder, and do this\r\n     \r\n    find . -type f -name &#39;*.iml&#39; -exec sed -i &#39;&#39; s/JDK_1_5/JDK_1_8/g {} +\r\nThis will change the language level property in all your project .iml files from java 1.5 to java 1.8.","title":"IntelliJ IDEA 13 uses Java 1.5 despite setting to 1.7","body":"<p>In your command line(Unix terminal) Go to your project root folder, and do this</p>\n\n<pre><code>find . -type f -name '*.iml' -exec sed -i '' s/JDK_1_5/JDK_1_8/g {} +\n</code></pre>\n\n<p>This will change the language level property in all your project .iml files from java 1.5 to java 1.8.</p>\n"},{"tags":[],"owner":{"account_id":4722165,"reputation":2588,"user_id":3819751,"display_name":"ketankk"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1492772731,"creation_date":1492772731,"answer_id":43541119,"question_id":21006136,"body_markdown":"File-&gt;Project structure-&gt;Project Settings-&gt;Project-&gt;Project Language level\r\n\r\nFile-&gt;Project structure-&gt;Project Settings-&gt;Modules-&gt;Language level\r\n \r\nChange level using drop down\r\n","title":"IntelliJ IDEA 13 uses Java 1.5 despite setting to 1.7","body":"<p>File->Project structure->Project Settings->Project->Project Language level</p>\n\n<p>File->Project structure->Project Settings->Modules->Language level</p>\n\n<p>Change level using drop down</p>\n"},{"comments":[{"owner":{"account_id":2552414,"reputation":77,"user_id":2215941,"display_name":"wggn"},"score":0,"creation_date":1507917864,"post_id":44630234,"comment_id":80417944,"body_markdown":"This only works if you use a parent project like spring boot&#39;s.","body":"This only works if you use a parent project like spring boot&#39;s."}],"tags":[],"owner":{"account_id":1150494,"reputation":4777,"user_id":1132333,"accept_rate":61,"display_name":"H.Rabiee"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1497874226,"creation_date":1497874226,"answer_id":44630234,"question_id":21006136,"body_markdown":"I had the following property working for me in IntelliJ 2017\r\n\r\n \r\n\r\n      &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;       \r\n      &lt;/properties&gt;\r\n\r\n","title":"IntelliJ IDEA 13 uses Java 1.5 despite setting to 1.7","body":"<p>I had the following property working for me in IntelliJ 2017</p>\n\n<pre><code>  &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;       \n  &lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":934735,"reputation":23566,"user_id":963881,"accept_rate":83,"display_name":"syntagma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558973593,"creation_date":1558973593,"answer_id":56329434,"question_id":21006136,"body_markdown":"One more thing that could cause this is having incorrect `version` of the `&lt;parent&gt;` project.\r\n\r\nIn my case it was pointing to a non-existing project and for some reason IntelliJ downgraded version in settings to 1.5 and later when I fixed it, it was still interpreting target code version as 5 (despite setting it to 11).","title":"IntelliJ IDEA 13 uses Java 1.5 despite setting to 1.7","body":"<p>One more thing that could cause this is having incorrect <code>version</code> of the <code>&lt;parent&gt;</code> project.</p>\n\n<p>In my case it was pointing to a non-existing project and for some reason IntelliJ downgraded version in settings to 1.5 and later when I fixed it, it was still interpreting target code version as 5 (despite setting it to 11).</p>\n"},{"tags":[],"owner":{"account_id":6145453,"reputation":672,"user_id":4791576,"display_name":"Khyati Elhance"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568884940,"creation_date":1568883680,"answer_id":58007386,"question_id":21006136,"body_markdown":"In IntelliJ Community Edition 2019.02, Changing the following settings worked for me\r\n\r\n1. Update File-&gt;Project structure-&gt;Project Settings-&gt;Project-&gt;Project Language level to Java 11 (update to the java version that you wish to use in your project) using drop down.\r\n\r\n2. Update File-&gt;Project structure-&gt;Project Settings-&gt;Modules-&gt;Language level\r\n\r\n3. Update File-&gt;Settings-&gt;Build,Execution,Deployment -&gt; Compiler -&gt; Java Compiler-&gt; Project ByteCode Version to java 11.\r\n\r\n4. Update Target version for all the entries under File-&gt;Settings-&gt;Build,Execution,Deployment -&gt; Compiler -&gt; Java Compiler-&gt; Per module Byte Code Version.\r\n\r\n","title":"IntelliJ IDEA 13 uses Java 1.5 despite setting to 1.7","body":"<p>In IntelliJ Community Edition 2019.02, Changing the following settings worked for me</p>\n\n<ol>\n<li><p>Update File->Project structure->Project Settings->Project->Project Language level to Java 11 (update to the java version that you wish to use in your project) using drop down.</p></li>\n<li><p>Update File->Project structure->Project Settings->Modules->Language level</p></li>\n<li><p>Update File->Settings->Build,Execution,Deployment -> Compiler -> Java Compiler-> Project ByteCode Version to java 11.</p></li>\n<li><p>Update Target version for all the entries under File->Settings->Build,Execution,Deployment -> Compiler -> Java Compiler-> Per module Byte Code Version.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2697018,"reputation":5916,"user_id":2328781,"accept_rate":75,"display_name":"Danylo Zatorsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597840295,"creation_date":1597840295,"answer_id":63486989,"question_id":21006136,"body_markdown":"I managed to fix this by changing settings for new projects:\r\n\r\n 1. File -&gt; New Projects Settings -&gt; Settings for New Projects -&gt; Java\r\n    Compiler -&gt; **Set the version**\r\n    \r\n 2. File -&gt; New Projects Settings -&gt; Structure for New Projects -&gt;\r\n    Project -&gt; **Set Project SDK + set language level**\r\n    \r\n 3. Remove the projects\r\n    \r\n 4. Import the projects","title":"IntelliJ IDEA 13 uses Java 1.5 despite setting to 1.7","body":"<p>I managed to fix this by changing settings for new projects:</p>\n<ol>\n<li><p>File -&gt; New Projects Settings -&gt; Settings for New Projects -&gt; Java\nCompiler -&gt; <strong>Set the version</strong></p>\n</li>\n<li><p>File -&gt; New Projects Settings -&gt; Structure for New Projects -&gt;\nProject -&gt; <strong>Set Project SDK + set language level</strong></p>\n</li>\n<li><p>Remove the projects</p>\n</li>\n<li><p>Import the projects</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645252674,"creation_date":1645252674,"answer_id":71182778,"question_id":21006136,"body_markdown":"There seems a few places that effect the source (byte code) version in IntelliJ:\r\n\r\n     IntelliJ &gt; Preferences &gt;Build Exce Deploy &gt; Java Compiler\r\n    \t Module &gt; Target Bytecode Version\r\n     File &gt; Project Structure \r\n    \t Project &gt; Language Level &amp; SDK\r\n    \t Module &gt; Language Level\r\n     Maven Properties\r\n    \t     &lt;properties&gt;\r\n    \t         &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    \t         &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    \t     &lt;/properties&gt;\r\n\r\n","title":"IntelliJ IDEA 13 uses Java 1.5 despite setting to 1.7","body":"<p>There seems a few places that effect the source (byte code) version in IntelliJ:</p>\n<pre><code> IntelliJ &gt; Preferences &gt;Build Exce Deploy &gt; Java Compiler\n     Module &gt; Target Bytecode Version\n File &gt; Project Structure \n     Project &gt; Language Level &amp; SDK\n     Module &gt; Language Level\n Maven Properties\n         &lt;properties&gt;\n             &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n             &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n         &lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16320561,"reputation":91,"user_id":11786463,"display_name":"Volodymyr Taras"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676650157,"creation_date":1676650157,"answer_id":75486671,"question_id":21006136,"body_markdown":"nothing from other answers helped, except of installing new Intellij Idea version","title":"IntelliJ IDEA 13 uses Java 1.5 despite setting to 1.7","body":"<p>nothing from other answers helped, except of installing new Intellij Idea version</p>\n"}],"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119222,"favorite_count":0,"down_vote_count":0,"up_vote_count":157,"accepted_answer_id":26920121,"answer_count":15,"score":157,"last_activity_date":1676650157,"creation_date":1389213922,"question_id":21006136,"body_markdown":"Despite specifying JDK 1.7 in all project settings (including in `File -&gt; Project Structure -&gt; Project :: Project SDK`), the following error is produced by `IntelliJ 13` when trying to compile some simple Java 7 code which does use the diamond operator:\r\n\r\n    java: diamond operator is not supported in -source 1.5\r\n    (use -source 7 or higher to enable diamond operator)\r\n\r\nIs there any other place in the configuration where the expected `-source 7` option should be enabled?","title":"IntelliJ IDEA 13 uses Java 1.5 despite setting to 1.7","body":"<p>Despite specifying JDK 1.7 in all project settings (including in <code>File -&gt; Project Structure -&gt; Project :: Project SDK</code>), the following error is produced by <code>IntelliJ 13</code> when trying to compile some simple Java 7 code which does use the diamond operator:</p>\n\n<pre><code>java: diamond operator is not supported in -source 1.5\n(use -source 7 or higher to enable diamond operator)\n</code></pre>\n\n<p>Is there any other place in the configuration where the expected <code>-source 7</code> option should be enabled?</p>\n"},{"tags":["java","hibernate","orm"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1676649759,"post_id":75486556,"comment_id":133185995,"body_markdown":"Does the database `vuelos_lite` already exist? If not, that could cause the mentioned error.","body":"Does the database <code>vuelos_lite</code> already exist? If not, that could cause the mentioned error."},{"owner":{"account_id":21219727,"reputation":11,"user_id":15606599,"display_name":"Angel"},"score":0,"creation_date":1676650662,"post_id":75486556,"comment_id":133186264,"body_markdown":"@Seelenvirtuose yes the database vuelos_lite already exist","body":"@Seelenvirtuose yes the database vuelos_lite already exist"}],"owner":{"account_id":21219727,"reputation":11,"user_id":15606599,"display_name":"Angel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676649491,"creation_date":1676649491,"question_id":75486556,"body_markdown":"I am learning Hibernate and I dont understand why am I getting this error launching program:\r\n\r\n\r\njava.lang.IllegalStateException: Cannot get a connection as the driver manager is not properly initialized at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:172)\r\nat net.codejava.hibernate.VueloManager.setup(VueloManager.java:15)\r\nat net.codejava.hibernate.VueloManager.main(VueloManager.java:54)\r\n\r\n`hibernate.cfg.xml` file :\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;!-- Database connection settings --&gt;\r\n        &lt;property\r\n                name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n        &lt;property\r\n                name=&quot;connection.url&quot;&gt;jdbc:mysql://127.0.0.1:3306/vuelos_lite&lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n        &lt;mapping class=&quot;net.codejava.hibernate.Vuelo&quot; /&gt;\r\n        &lt;mapping class=&quot;net.codejava.hibernate.Pasajero&quot; /&gt;\r\n        &lt;mapping class=&quot;net.codejava.hibernate.Pasaje&quot; /&gt;\r\n\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\n\r\nVueloManager class. This is the main class of the program:\r\n\r\n```\r\npublic class VueloManager {\r\n    protected SessionFactory sessionFactory;\r\n\r\n    protected void setup() {\r\n        final StandardServiceRegistry registry = new StandardServiceRegistryBuilder().configure().build();\r\n        try {\r\n            sessionFactory = new MetadataSources(registry).buildMetadata().buildSessionFactory();\r\n        } catch (Exception ex) {\r\n            StandardServiceRegistryBuilder.destroy(registry);\r\n        }\r\n    }\r\n    protected void read() {\r\n        Session session = sessionFactory.openSession();\r\n\r\n        String identificadorId = &quot;BRU-2222&quot;;\r\n        Vuelo vuelo = session.get(Vuelo.class, identificadorId);\r\n\r\n        System.out.println(&quot;Id: &quot; + vuelo.getIdentificador());\r\n        System.out.println(&quot;Fecha: &quot; + vuelo.getDate());\r\n        System.out.println(&quot;Tipo Vuelo: &quot; + vuelo.getTipo_vuelo());\r\n\r\n        exit();\r\n\r\n    }\r\n    public static void main(String[] args) {\r\n        VueloManager manager = new VueloManager();\r\n\r\n        manager.setup();\r\n        //manager.read();\r\n        manager.exit();\r\n    }\r\n}\r\n```\r\n\r\nI have checked hibernate.cfg.xml connections and all is fine.","title":"Cannot get a connection as the driver manager is not properly initialized on hibernate","body":"<p>I am learning Hibernate and I dont understand why am I getting this error launching program:</p>\n<p>java.lang.IllegalStateException: Cannot get a connection as the driver manager is not properly initialized at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:172)\nat net.codejava.hibernate.VueloManager.setup(VueloManager.java:15)\nat net.codejava.hibernate.VueloManager.main(VueloManager.java:54)</p>\n<p><code>hibernate.cfg.xml</code> file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;!-- Database connection settings --&gt;\n        &lt;property\n                name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property\n                name=&quot;connection.url&quot;&gt;jdbc:mysql://127.0.0.1:3306/vuelos_lite&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        &lt;mapping class=&quot;net.codejava.hibernate.Vuelo&quot; /&gt;\n        &lt;mapping class=&quot;net.codejava.hibernate.Pasajero&quot; /&gt;\n        &lt;mapping class=&quot;net.codejava.hibernate.Pasaje&quot; /&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>VueloManager class. This is the main class of the program:</p>\n<pre><code>public class VueloManager {\n    protected SessionFactory sessionFactory;\n\n    protected void setup() {\n        final StandardServiceRegistry registry = new StandardServiceRegistryBuilder().configure().build();\n        try {\n            sessionFactory = new MetadataSources(registry).buildMetadata().buildSessionFactory();\n        } catch (Exception ex) {\n            StandardServiceRegistryBuilder.destroy(registry);\n        }\n    }\n    protected void read() {\n        Session session = sessionFactory.openSession();\n\n        String identificadorId = &quot;BRU-2222&quot;;\n        Vuelo vuelo = session.get(Vuelo.class, identificadorId);\n\n        System.out.println(&quot;Id: &quot; + vuelo.getIdentificador());\n        System.out.println(&quot;Fecha: &quot; + vuelo.getDate());\n        System.out.println(&quot;Tipo Vuelo: &quot; + vuelo.getTipo_vuelo());\n\n        exit();\n\n    }\n    public static void main(String[] args) {\n        VueloManager manager = new VueloManager();\n\n        manager.setup();\n        //manager.read();\n        manager.exit();\n    }\n}\n</code></pre>\n<p>I have checked hibernate.cfg.xml connections and all is fine.</p>\n"},{"tags":["java","inputstream","filereader","file-handling","readfile"],"comments":[{"owner":{"account_id":21591262,"reputation":1164,"user_id":15920836,"display_name":"StarshipladDev"},"score":0,"creation_date":1622067966,"post_id":67713428,"comment_id":119687294,"body_markdown":"What format does the input come in as? is each student on a new line? Give an example of what your ideal outcome would be","body":"What format does the input come in as? is each student on a new line? Give an example of what your ideal outcome would be"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1622068132,"post_id":67713428,"comment_id":119687340,"body_markdown":"`strArr = ` obviously does not mean &#39;append&#39;, that&#39;s a rather bizarre interpretation of what `=` might do. Don&#39;t use an array, that&#39;s not what they are for. Use a `List&lt;String&gt;`. `list.addAll(data.split(&quot; &quot;));` would be a decent start. You also need to apply try-with-resources here, and this is a very outdated way to read files in java. It also fails if the file is not in the right encoding, as you haven&#39;t specified it.","body":"<code>strArr = </code> obviously does not mean &#39;append&#39;, that&#39;s a rather bizarre interpretation of what <code>=</code> might do. Don&#39;t use an array, that&#39;s not what they are for. Use a <code>List&lt;String&gt;</code>. <code>list.addAll(data.split(&quot; &quot;));</code> would be a decent start. You also need to apply try-with-resources here, and this is a very outdated way to read files in java. It also fails if the file is not in the right encoding, as you haven&#39;t specified it."},{"owner":{"account_id":20065156,"reputation":29,"user_id":14710985,"display_name":"Uzair Siddiqui"},"score":0,"creation_date":1622068134,"post_id":67713428,"comment_id":119687341,"body_markdown":"@StarshipladDev I wanted to store all the file text in an array by splitting it at space, but it only stores the last lines.","body":"@StarshipladDev I wanted to store all the file text in an array by splitting it at space, but it only stores the last lines."},{"owner":{"account_id":20065156,"reputation":29,"user_id":14710985,"display_name":"Uzair Siddiqui"},"score":0,"creation_date":1622068241,"post_id":67713428,"comment_id":119687372,"body_markdown":"@rzwitserloot thanks for the help. I will try it.","body":"@rzwitserloot thanks for the help. I will try it."},{"owner":{"account_id":11819601,"reputation":91,"user_id":8649037,"display_name":"GDC"},"score":1,"creation_date":1622068284,"post_id":67713428,"comment_id":119687383,"body_markdown":"Hi Uzair, consider this: you are initializing the strArr variable as a list of fixed length. But then, you are not using that space you just allocated: strArr is set equal to data.split, which is the last line you read. At each iteration, you just store the last line you read into the strArr variable.","body":"Hi Uzair, consider this: you are initializing the strArr variable as a list of fixed length. But then, you are not using that space you just allocated: strArr is set equal to data.split, which is the last line you read. At each iteration, you just store the last line you read into the strArr variable."}],"answers":[{"comments":[{"owner":{"account_id":20065156,"reputation":29,"user_id":14710985,"display_name":"Uzair Siddiqui"},"score":1,"creation_date":1622068768,"post_id":67713512,"comment_id":119687503,"body_markdown":"It works perfectly fine. Thank you so much for your help!","body":"It works perfectly fine. Thank you so much for your help!"},{"owner":{"account_id":11819601,"reputation":91,"user_id":8649037,"display_name":"GDC"},"score":1,"creation_date":1622068953,"post_id":67713512,"comment_id":119687544,"body_markdown":"There is no need to initialize the second dimension to 500. Also, consider using try-with-resources.","body":"There is no need to initialize the second dimension to 500. Also, consider using try-with-resources."},{"owner":{"account_id":21591262,"reputation":1164,"user_id":15920836,"display_name":"StarshipladDev"},"score":0,"creation_date":1622069351,"post_id":67713512,"comment_id":119687623,"body_markdown":"-UzairSiddiqui can you upvote and mark as answered? I&#39;m 10 rep off less ads &lt;3 \n\nHey @GDC , I&#39;m a bit rusty as I moved to C# sharp for a while. I knew String[size][size1] woudl work, but couldn&#39;t confirm String[size][] , with latter initialization to the second index, would.\nThanks for the feedback, I will edit it as such.","body":"-UzairSiddiqui can you upvote and mark as answered? I&#39;m 10 rep off less ads &lt;3   Hey @GDC , I&#39;m a bit rusty as I moved to C# sharp for a while. I knew String[size][size1] woudl work, but couldn&#39;t confirm String[size][] , with latter initialization to the second index, would. Thanks for the feedback, I will edit it as such."}],"tags":[],"owner":{"account_id":21591262,"reputation":1164,"user_id":15920836,"display_name":"StarshipladDev"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676649357,"creation_date":1622068348,"answer_id":67713512,"question_id":67713428,"body_markdown":"The issue is is that you are replacing &#39;StrArr&#39; with the latest line read each time.\r\n\r\nTry doing it with a 2D Array , where the first index is for each line, and the second is for each words split up by `&quot; &quot;` in that line\r\n\r\n**example**:\r\n```\r\n        String[][] strArr=new String[numberOfLines][];\r\n        try {\r\n            FileInputStream myObj = new FileInputStream(&quot;allStudents.txt&quot;);\r\n            Scanner myReader = new Scanner(myObj);\r\n            int count=0;\r\n            while (myReader.hasNextLine()) {\r\n                String data = myReader.nextLine(); //YOUR ISSUE WAS HERE AND LINE BELOW\r\n                strArr[count]=data.split(&quot; &quot;);\r\n                count++;\r\n            }\r\n            myReader.close();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;An error occurred.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n```","title":"Read Text Line by Line in Java","body":"<p>The issue is is that you are replacing 'StrArr' with the latest line read each time.</p>\n<p>Try doing it with a 2D Array , where the first index is for each line, and the second is for each words split up by <code>&quot; &quot;</code> in that line</p>\n<p><strong>example</strong>:</p>\n<pre><code>        String[][] strArr=new String[numberOfLines][];\n        try {\n            FileInputStream myObj = new FileInputStream(&quot;allStudents.txt&quot;);\n            Scanner myReader = new Scanner(myObj);\n            int count=0;\n            while (myReader.hasNextLine()) {\n                String data = myReader.nextLine(); //YOUR ISSUE WAS HERE AND LINE BELOW\n                strArr[count]=data.split(&quot; &quot;);\n                count++;\n            }\n            myReader.close();\n        } catch (Exception e) {\n            System.out.println(&quot;An error occurred.&quot;);\n            e.printStackTrace();\n        }\n</code></pre>\n"}],"owner":{"account_id":20065156,"reputation":29,"user_id":14710985,"display_name":"Uzair Siddiqui"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"closed_date":1622098479,"answer_count":1,"score":-2,"last_activity_date":1676649447,"creation_date":1622067730,"question_id":67713428,"body_markdown":"I&#39;m trying to read a text file using Scanner and split the text at Space and store it in the array but it does not read the whole text but it actually reading the last two lines.\r\nI&#39;m trying to read these lines:\r\n\r\nStudent [name= Uzair Siddiqui , Roll Number = 1234 address= karachi , phoneNumber= 03312345 , major= cs Courses= [DM, OOP] , GPA= 3.8 ]\\\r\nStudent [name= Zaid Haris , Roll Number = 2323 address= kaaaa , phoneNumber= 01315121 , major= dm Courses= [JAVA, CAL] , GPA= 3.8 ] \r\n\r\nAnd I split the data at &quot; &quot; and storing it in a String array but it only stores the last lines i.e\r\n\r\nStudent [name= Zaid Haris , Roll Number = 2323 address= kaaaa , phoneNumber= 01315121 , major= dm Courses= [JAVA, CAL] , GPA= 3.8 ]\r\n\r\nMy Code is\r\n\r\n```\r\n        String [] strArr=new String[500];\r\n        try {\r\n            FileInputStream myObj = new FileInputStream(&quot;allStudents.txt&quot;);\r\n            Scanner myReader = new Scanner(myObj);\r\n\r\n\r\n            while (myReader.hasNextLine()) {\r\n                String data = myReader.nextLine();\r\n                strArr=data.split(&quot; &quot;);\r\n            }\r\n            myReader.close();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;An error occurred.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n\r\n```\r\nLooking for an answer asap. Thank you!\r\n","title":"Read Text Line by Line in Java","body":"<p>I'm trying to read a text file using Scanner and split the text at Space and store it in the array but it does not read the whole text but it actually reading the last two lines.\nI'm trying to read these lines:</p>\n<p>Student [name= Uzair Siddiqui , Roll Number = 1234 address= karachi , phoneNumber= 03312345 , major= cs Courses= [DM, OOP] , GPA= 3.8 ]<br />\nStudent [name= Zaid Haris , Roll Number = 2323 address= kaaaa , phoneNumber= 01315121 , major= dm Courses= [JAVA, CAL] , GPA= 3.8 ]</p>\n<p>And I split the data at &quot; &quot; and storing it in a String array but it only stores the last lines i.e</p>\n<p>Student [name= Zaid Haris , Roll Number = 2323 address= kaaaa , phoneNumber= 01315121 , major= dm Courses= [JAVA, CAL] , GPA= 3.8 ]</p>\n<p>My Code is</p>\n<pre><code>        String [] strArr=new String[500];\n        try {\n            FileInputStream myObj = new FileInputStream(&quot;allStudents.txt&quot;);\n            Scanner myReader = new Scanner(myObj);\n\n\n            while (myReader.hasNextLine()) {\n                String data = myReader.nextLine();\n                strArr=data.split(&quot; &quot;);\n            }\n            myReader.close();\n        } catch (Exception e) {\n            System.out.println(&quot;An error occurred.&quot;);\n            e.printStackTrace();\n        }\n\n</code></pre>\n<p>Looking for an answer asap. Thank you!</p>\n"},{"tags":["java","spring-boot","executorservice"],"answers":[{"comments":[{"owner":{"account_id":6972216,"reputation":35,"user_id":5348164,"display_name":"Alex"},"score":0,"creation_date":1676656497,"post_id":75486536,"comment_id":133188111,"body_markdown":"Hi Phil, alright thanks for the info. One question: Can you help me and explain why the programm exits normally in case the thread pool is not used?","body":"Hi Phil, alright thanks for the info. One question: Can you help me and explain why the programm exits normally in case the thread pool is not used?"},{"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"score":0,"creation_date":1676657330,"post_id":75486536,"comment_id":133188334,"body_markdown":"When the threadpool is not used, there would not be waiting threads after all http calls are processed, hence the application can exit normally","body":"When the threadpool is not used, there would not be waiting threads after all http calls are processed, hence the application can exit normally"}],"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676649441,"creation_date":1676649349,"answer_id":75486536,"question_id":75484965,"body_markdown":"The proper way is to call `executorService.shutdown()` after confirming all threads are done. Before `shutdown()` is called, the 10 threads would still be alive and waiting.\r\n\r\nBare in mind, after calling `executorService.shutdown()`, no more new threads can be added into the service, which in your case I think it is safe, as every time your application runs, a new `ExecutorService` is being built.\r\n\r\nYou can read further in documentation: [https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html","title":"Sprint-Boot Application does not end when using a HttpClient with sendAsync with a newFixedThreadPool","body":"<p>The proper way is to call <code>executorService.shutdown()</code> after confirming all threads are done. Before <code>shutdown()</code> is called, the 10 threads would still be alive and waiting.</p>\n<p>Bare in mind, after calling <code>executorService.shutdown()</code>, no more new threads can be added into the service, which in your case I think it is safe, as every time your application runs, a new <code>ExecutorService</code> is being built.</p>\n<p>You can read further in documentation: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html</a></p>\n"}],"owner":{"account_id":6972216,"reputation":35,"user_id":5348164,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75486536,"answer_count":1,"score":0,"last_activity_date":1676649441,"creation_date":1676640801,"question_id":75484965,"body_markdown":"When using a HttpClient (java.net.http.HttpClient) to do some GET requests I want to use a FixedThreadPool.\r\n\r\nTherefore I wrote a spring-boot application with this method (for testing it):\r\n\r\n    public class AppStartupRunner implements ApplicationRunner {\r\n      // ....\r\n      private ExecutorService executorService = Executors.newFixedThreadPool(10);\r\n    \r\n      @Override\r\n      public void run(ApplicationArguments args) throws Exception {\r\n      \r\n        HttpClient httpClient = HttpClient.newBuilder().executor(executorService).build();\r\n        //HttpClient httpClient = HttpClient.newBuilder().build();\r\n      \r\n        String url = &quot;https://&lt;url&gt;&quot;;\r\n        try {\r\n          httpClient\r\n            .sendAsync(HttpRequest.newBuilder().uri(URI.create(url)).GET().build(), BodyHandlers.ofString())\r\n            .thenApply(HttpResponse::body).get();\r\n        } catch (\r\n            Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n        \r\n        System.out.println(&quot;Out&quot;);\r\n      }\r\n      // ....\r\n    }\r\n\r\nMy problem is that when I run this application the http call gets done and I receive my data. I also already checked with the &quot;isDone&quot; method and it confirms that the request is completed. But the application does not end - I think the main thread does but there is still one (or more?) processes hanging/waiting.\r\n\r\nWhen I am replacing the httpClient with the one which does not use my executorService then the application ends correclty. \r\n\r\nOne point: when I let the HttpClient use the executorService and at the end explicitly shutdown the executorServer (--&gt; executorService.shutdown();) the application ends correctly, too. However I am not sure if this is the right solution, or just hiding a problem. Because the 10 Threads from the executorService are always running (whether the httpClient uses them or not), so I do not see what I would need to shutdown the executorService if it is used and otherwise I won&#39;t...","title":"Sprint-Boot Application does not end when using a HttpClient with sendAsync with a newFixedThreadPool","body":"<p>When using a HttpClient (java.net.http.HttpClient) to do some GET requests I want to use a FixedThreadPool.</p>\n<p>Therefore I wrote a spring-boot application with this method (for testing it):</p>\n<pre><code>public class AppStartupRunner implements ApplicationRunner {\n  // ....\n  private ExecutorService executorService = Executors.newFixedThreadPool(10);\n\n  @Override\n  public void run(ApplicationArguments args) throws Exception {\n  \n    HttpClient httpClient = HttpClient.newBuilder().executor(executorService).build();\n    //HttpClient httpClient = HttpClient.newBuilder().build();\n  \n    String url = &quot;https://&lt;url&gt;&quot;;\n    try {\n      httpClient\n        .sendAsync(HttpRequest.newBuilder().uri(URI.create(url)).GET().build(), BodyHandlers.ofString())\n        .thenApply(HttpResponse::body).get();\n    } catch (\n        Exception e) {\n      e.printStackTrace();\n    }\n    \n    System.out.println(&quot;Out&quot;);\n  }\n  // ....\n}\n</code></pre>\n<p>My problem is that when I run this application the http call gets done and I receive my data. I also already checked with the &quot;isDone&quot; method and it confirms that the request is completed. But the application does not end - I think the main thread does but there is still one (or more?) processes hanging/waiting.</p>\n<p>When I am replacing the httpClient with the one which does not use my executorService then the application ends correclty.</p>\n<p>One point: when I let the HttpClient use the executorService and at the end explicitly shutdown the executorServer (--&gt; executorService.shutdown();) the application ends correctly, too. However I am not sure if this is the right solution, or just hiding a problem. Because the 10 Threads from the executorService are always running (whether the httpClient uses them or not), so I do not see what I would need to shutdown the executorService if it is used and otherwise I won't...</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9583,"page":640,"page_size":100}
