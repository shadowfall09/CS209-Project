{"items":[{"tags":["java","string","search","arraylist","user-input"],"comments":[{"owner":{"account_id":20468026,"reputation":103,"user_id":15019099,"display_name":"LiavC"},"score":1,"creation_date":1645093774,"post_id":71156299,"comment_id":125781441,"body_markdown":"If you want to get the input from the user , you should read about the `Scanner` class .","body":"If you want to get the input from the user , you should read about the <code>Scanner</code> class ."},{"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"score":0,"creation_date":1645093828,"post_id":71156299,"comment_id":125781467,"body_markdown":"Another thing you may want to explore could be a choice of List vs Set","body":"Another thing you may want to explore could be a choice of List vs Set"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1645446688,"post_id":71156299,"comment_id":125866018,"body_markdown":"You wrote that the assignment says *&quot;You have an array...&quot;*, but you are using an `ArrayList`. Those are not the same; make sure using an `ArrayList` is actually allowed.","body":"You wrote that the assignment says <i>&quot;You have an array...&quot;</i>, but you are using an <code>ArrayList</code>. Those are not the same; make sure using an <code>ArrayList</code> is actually allowed."}],"answers":[{"tags":[],"owner":{"account_id":21704500,"reputation":75,"user_id":16017180,"display_name":"Joan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645093754,"creation_date":1645093754,"answer_id":71156391,"question_id":71156299,"body_markdown":" java.util.Scanner is used to get Console input\r\n\r\n  \r\n\r\n   \r\n\r\n     package searchElement;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    public class searchElement {\r\n    \r\n        public static void main(String[] args) {\r\n            \r\n            ArrayList&lt;String&gt; emailID = new ArrayList&lt;String&gt;();\r\n            \r\n            emailID.add(&quot;simon.hasler@gmx.com&quot;);\r\n            emailID.add(&quot;leonie.klein@gmx.com&quot;);\r\n            emailID.add(&quot;lea.hoch@gmx.com&quot;);\r\n            emailID.add(&quot;max.neumann@gmx.com&quot;);\r\n            emailID.add(&quot;henrik.fiesler@gmx.com&quot;);\r\n            emailID.add(&quot;laura.kramm@gmx.com&quot;);\r\n            emailID.add(&quot;sabine.neuwirth@gmx.com&quot;);\r\n            \r\n             // new code\r\n             String searcElement = null;\r\n             System.out.println(&quot;Enter the email to search&quot;);\r\n             Scanner sc = new Scanner(System.in);\r\n             searchElement = sc.NextLine();\r\n               \r\n               if (searchElement == null) {\r\n                    System.out.println(&quot;You haven&#39;t entered an email&quot;);\r\n                    return;\r\n               }\r\n                     for(int i=0; i&lt;emailID.size(); i++) {\r\n                        \r\n                        System.out.println(emailID.get(i));\r\n                        \r\n                        if(searcElement==emailID.get(i)) {\r\n                            \r\n                            System.out.println(&quot;\\n&quot;);\r\n                            \r\n                            System.out.println(&quot;email ID&quot; + searcElement + &quot;found&quot;);\r\n                            \r\n                            break;\r\n                            \r\n                        }\r\n                    }\r\n    \r\n        }\r\n    \r\n    }","title":"JAVA search the email ID entered by a user","body":"<p>java.util.Scanner is used to get Console input</p>\n<pre><code> package searchElement;\n\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class searchElement {\n\n    public static void main(String[] args) {\n        \n        ArrayList&lt;String&gt; emailID = new ArrayList&lt;String&gt;();\n        \n        emailID.add(&quot;simon.hasler@gmx.com&quot;);\n        emailID.add(&quot;leonie.klein@gmx.com&quot;);\n        emailID.add(&quot;lea.hoch@gmx.com&quot;);\n        emailID.add(&quot;max.neumann@gmx.com&quot;);\n        emailID.add(&quot;henrik.fiesler@gmx.com&quot;);\n        emailID.add(&quot;laura.kramm@gmx.com&quot;);\n        emailID.add(&quot;sabine.neuwirth@gmx.com&quot;);\n        \n         // new code\n         String searcElement = null;\n         System.out.println(&quot;Enter the email to search&quot;);\n         Scanner sc = new Scanner(System.in);\n         searchElement = sc.NextLine();\n           \n           if (searchElement == null) {\n                System.out.println(&quot;You haven't entered an email&quot;);\n                return;\n           }\n                 for(int i=0; i&lt;emailID.size(); i++) {\n                    \n                    System.out.println(emailID.get(i));\n                    \n                    if(searcElement==emailID.get(i)) {\n                        \n                        System.out.println(&quot;\\n&quot;);\n                        \n                        System.out.println(&quot;email ID&quot; + searcElement + &quot;found&quot;);\n                        \n                        break;\n                        \n                    }\n                }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24207916,"reputation":61,"user_id":18164845,"display_name":"niklasenberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645093996,"creation_date":1645093996,"answer_id":71156458,"question_id":71156299,"body_markdown":"Use [ArrayList.contains](https://www.geeksforgeeks.org/arraylist-contains-java/) and a Scanner.\r\n    \r\n    Scanner input = new Scanner(System.in);\r\n    System.out.println(&quot;Enter email: &quot;);\r\n    String searcElement = input.nextLine(); //Should probably be &quot;searchElement&quot; right?&quot;\r\n\r\n    if(emailID.contains(searcElement)){\r\n        return &quot;email ID&quot; + searcElement + &quot;found&quot;;\r\n    }\r\n    else{\r\n        return &quot;email ID&quot; + searcElement + &quot;not found&quot;;\r\n    }\r\n\r\n","title":"JAVA search the email ID entered by a user","body":"<p>Use <a href=\"https://www.geeksforgeeks.org/arraylist-contains-java/\" rel=\"nofollow noreferrer\">ArrayList.contains</a> and a Scanner.</p>\n<pre><code>Scanner input = new Scanner(System.in);\nSystem.out.println(&quot;Enter email: &quot;);\nString searcElement = input.nextLine(); //Should probably be &quot;searchElement&quot; right?&quot;\n\nif(emailID.contains(searcElement)){\n    return &quot;email ID&quot; + searcElement + &quot;found&quot;;\n}\nelse{\n    return &quot;email ID&quot; + searcElement + &quot;not found&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22170392,"reputation":284,"user_id":16415917,"display_name":"Damien Puaud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645094641,"creation_date":1645094641,"answer_id":71156612,"question_id":71156299,"body_markdown":"Well, first of all you need to ask for the user to enter the string in the console. For that you need to use Scanner:\r\n\r\n````\r\n// Using Scanner for Getting Input from User\r\nScanner sc = new Scanner(System.sc);\r\n\r\n// Get the input back for a string \r\nString stringInput = sc.nextLine();\r\nSystem.out.println(&quot;You entered string &quot; + stringInput);\r\n\r\n\r\n// Get the input back if your emailId is an int \r\nint intInput = sc.nextInt();\r\nSystem.out.println(&quot;You entered integer &quot; + intInput);\r\n````\r\n\r\nThen, to scan your arrayList and output the result itself (not a boolean wheareas it found it or not) simply loop through your list and use the contains method:\r\n````\r\nfor (String element : emailID){\r\n   if (element.contains(stringInput)){\r\n      System.out.println(element);\r\n   }\r\n}\r\n````\r\n\r\nIf you&#39;re new in programming I&#39;d advise you to check for those Scanner and contains stuff so you understand how it works and not just copy paste it without any understanding.\r\n\r\nWhen you&#39;ll be a little more comfortable with programming, another method to reach that result would be to use Java Stream Filter with Lambda.\r\n\r\n\r\nI hope that helped.","title":"JAVA search the email ID entered by a user","body":"<p>Well, first of all you need to ask for the user to enter the string in the console. For that you need to use Scanner:</p>\n<pre><code>// Using Scanner for Getting Input from User\nScanner sc = new Scanner(System.sc);\n\n// Get the input back for a string \nString stringInput = sc.nextLine();\nSystem.out.println(&quot;You entered string &quot; + stringInput);\n\n\n// Get the input back if your emailId is an int \nint intInput = sc.nextInt();\nSystem.out.println(&quot;You entered integer &quot; + intInput);\n</code></pre>\n<p>Then, to scan your arrayList and output the result itself (not a boolean wheareas it found it or not) simply loop through your list and use the contains method:</p>\n<pre><code>for (String element : emailID){\n   if (element.contains(stringInput)){\n      System.out.println(element);\n   }\n}\n</code></pre>\n<p>If you're new in programming I'd advise you to check for those Scanner and contains stuff so you understand how it works and not just copy paste it without any understanding.</p>\n<p>When you'll be a little more comfortable with programming, another method to reach that result would be to use Java Stream Filter with Lambda.</p>\n<p>I hope that helped.</p>\n"},{"tags":[],"owner":{"account_id":17160065,"reputation":9,"user_id":12419936,"display_name":"Hrbinoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645445754,"creation_date":1645445754,"answer_id":71206135,"question_id":71156299,"body_markdown":"Here is a solution too using regex to verify and stream to check if present\r\n\r\n        String searchElement;\r\n        System.out.println(&quot;E-mail: &quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n        searchElement = scanner.nextLine();\r\n        String regex = &quot;^(.+)@(.+)$&quot;;\r\n        Matcher matcher = Pattern.compile(regex).matcher(searchElement);\r\n        if (matcher.matches() &amp;&amp; emailID.stream().anyMatch(mail -&gt; mail.equals(searchElement))) {\r\n            System.out.println(searchElement + &quot; = is present&quot;);\r\n        } else {\r\n            System.out.println(&quot;Not a valid or is not present&quot;);\r\n        }","title":"JAVA search the email ID entered by a user","body":"<p>Here is a solution too using regex to verify and stream to check if present</p>\n<pre><code>    String searchElement;\n    System.out.println(&quot;E-mail: &quot;);\n    Scanner scanner = new Scanner(System.in);\n    searchElement = scanner.nextLine();\n    String regex = &quot;^(.+)@(.+)$&quot;;\n    Matcher matcher = Pattern.compile(regex).matcher(searchElement);\n    if (matcher.matches() &amp;&amp; emailID.stream().anyMatch(mail -&gt; mail.equals(searchElement))) {\n        System.out.println(searchElement + &quot; = is present&quot;);\n    } else {\n        System.out.println(&quot;Not a valid or is not present&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":24286727,"reputation":21,"user_id":18232397,"display_name":"Waterlily"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1780,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1645445754,"creation_date":1645093420,"question_id":71156299,"body_markdown":"I&#180;m new in programming and have to do some homework but I&#180;m stuck. \r\nI need to do this: \r\n\r\nAs a developer, write a program to search a string entered by a user from the array of strings.\r\n\r\n**Background of the problem statement:**\r\nYou have an array of email IDs of employees. As a programmer, write a program to search the email ID entered by a user.\r\n\r\nI have my ArrayList but now I want to be able to enter an email address in the console &amp; the program should check if the entered e-mail address is in my Array List. Can somebody please help me, I couldn&#39;t find anything like that (maybe also I don&#39;t know how to search for my answer) I&#180;m happy for any help!\r\n\r\ninstead of searching for the element in the syntax like I did here, \r\nI want to have the system asking the user for the email ID and search my \r\nArrayList for it. if the email ID is in the Array List the output should be:\r\n&quot;email ID&quot; + searcElement + &quot;found&quot;  otherwise &quot;email ID&quot; + searcElement + &quot;not found&quot;\r\n\r\n    package searchElement;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    public class searchElement {\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tArrayList&lt;String&gt; emailID = new ArrayList&lt;String&gt;();\r\n    \t\t\r\n    \t\temailID.add(&quot;simon.hasler@gmx.com&quot;);\r\n    \t\temailID.add(&quot;leonie.klein@gmx.com&quot;);\r\n    \t\temailID.add(&quot;lea.hoch@gmx.com&quot;);\r\n    \t\temailID.add(&quot;max.neumann@gmx.com&quot;);\r\n    \t\temailID.add(&quot;henrik.fiesler@gmx.com&quot;);\r\n    \t\temailID.add(&quot;laura.kramm@gmx.com&quot;);\r\n    \t\temailID.add(&quot;sabine.neuwirth@gmx.com&quot;);\r\n    \t\t\r\n       \r\n    \t\tString searcElement = &quot;simon.hasler@gmx.com&quot;;\r\n    \t\t\r\n    \t\t\t\tfor(int i=0; i&lt;emailID.size(); i++) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tSystem.out.println(emailID.get(i));\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif(searcElement==emailID.get(i)) {\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tSystem.out.println(&quot;\\n&quot;);\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tSystem.out.println(&quot;email ID&quot; + searcElement + &quot;found&quot;);\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n\r\n    \t}\r\n\r\n    }\r\n\r\n","title":"JAVA search the email ID entered by a user","body":"<p>I´m new in programming and have to do some homework but I´m stuck.\nI need to do this:</p>\n<p>As a developer, write a program to search a string entered by a user from the array of strings.</p>\n<p><strong>Background of the problem statement:</strong>\nYou have an array of email IDs of employees. As a programmer, write a program to search the email ID entered by a user.</p>\n<p>I have my ArrayList but now I want to be able to enter an email address in the console &amp; the program should check if the entered e-mail address is in my Array List. Can somebody please help me, I couldn't find anything like that (maybe also I don't know how to search for my answer) I´m happy for any help!</p>\n<p>instead of searching for the element in the syntax like I did here,\nI want to have the system asking the user for the email ID and search my\nArrayList for it. if the email ID is in the Array List the output should be:\n&quot;email ID&quot; + searcElement + &quot;found&quot;  otherwise &quot;email ID&quot; + searcElement + &quot;not found&quot;</p>\n<pre><code>package searchElement;\n\nimport java.util.ArrayList;\n\npublic class searchElement {\n\n    public static void main(String[] args) {\n        \n        ArrayList&lt;String&gt; emailID = new ArrayList&lt;String&gt;();\n        \n        emailID.add(&quot;simon.hasler@gmx.com&quot;);\n        emailID.add(&quot;leonie.klein@gmx.com&quot;);\n        emailID.add(&quot;lea.hoch@gmx.com&quot;);\n        emailID.add(&quot;max.neumann@gmx.com&quot;);\n        emailID.add(&quot;henrik.fiesler@gmx.com&quot;);\n        emailID.add(&quot;laura.kramm@gmx.com&quot;);\n        emailID.add(&quot;sabine.neuwirth@gmx.com&quot;);\n        \n   \n        String searcElement = &quot;simon.hasler@gmx.com&quot;;\n        \n                for(int i=0; i&lt;emailID.size(); i++) {\n                    \n                    System.out.println(emailID.get(i));\n                    \n                    if(searcElement==emailID.get(i)) {\n                        \n                        System.out.println(&quot;\\n&quot;);\n                        \n                        System.out.println(&quot;email ID&quot; + searcElement + &quot;found&quot;);\n                        \n                        break;\n                        \n                    }\n                }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","fisher-yates-shuffle"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645445847,"post_id":71206111,"comment_id":125865698,"body_markdown":"Can you see a place in your code where you are assigning an `int` to a `char`? Is there any need for the variable on the right hand side to be an `int`?","body":"Can you see a place in your code where you are assigning an <code>int</code> to a <code>char</code>? Is there any need for the variable on the right hand side to be an <code>int</code>?"},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1645446770,"post_id":71206111,"comment_id":125866049,"body_markdown":"You must use `char tmp` instead of `int tmp`","body":"You must use <code>char tmp</code> instead of <code>int tmp</code>"}],"owner":{"account_id":23639830,"reputation":49,"user_id":17670232,"display_name":"A Arbitrage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645445604,"creation_date":1645445604,"question_id":71206111,"body_markdown":"I&#39;m having an array of characters, which I tried to mix using Yates Shuffle, However this resulted in an error\r\n\r\nCode:\r\n\r\n    public static void main(String[] args) {\r\n    \t\tchar[] alphabet = &quot;abcdefghijklmnopqrstuvwxyz&quot;.toCharArray();\r\n    \t\tfor(int i = 0; i &lt; alphabet.length; i++)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(alphabet[i]);\r\n    \t\t}\r\n    \t\tknuth(alphabet);\r\n    \t\tfor(int i = 0; i &lt; alphabet.length; i++)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(alphabet[i]);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void knuth(char[] array) {\r\n    \t\tRandom r = new Random();\r\n    \t\tfor (int i = array.length - 1; i&gt;0; i--)\r\n    \t\t{\r\n    \t\t\tint index = r.nextInt(i);\r\n    \t\t\tint tmp = array[index];\r\n    \t\t\tarray[index] = array[i];\r\n    \t\t\tarray[i] = tmp;\r\n    \t\t}\r\n    \t}\r\n\r\n\r\nError:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n    \tType mismatch: cannot convert from int to char\r\n    \r\n    \tat testing_Class.knuth(testing_Class.java:28)\r\n    \tat testing_Class.main(testing_Class.java:14)\r\n\r\n","title":"Error while implementing Yates Shuffle for chars","body":"<p>I'm having an array of characters, which I tried to mix using Yates Shuffle, However this resulted in an error</p>\n<p>Code:</p>\n<pre><code>public static void main(String[] args) {\n        char[] alphabet = &quot;abcdefghijklmnopqrstuvwxyz&quot;.toCharArray();\n        for(int i = 0; i &lt; alphabet.length; i++)\n        {\n            System.out.println(alphabet[i]);\n        }\n        knuth(alphabet);\n        for(int i = 0; i &lt; alphabet.length; i++)\n        {\n            System.out.println(alphabet[i]);\n        }\n    }\n    \n    public static void knuth(char[] array) {\n        Random r = new Random();\n        for (int i = array.length - 1; i&gt;0; i--)\n        {\n            int index = r.nextInt(i);\n            int tmp = array[index];\n            array[index] = array[i];\n            array[i] = tmp;\n        }\n    }\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n    Type mismatch: cannot convert from int to char\n\n    at testing_Class.knuth(testing_Class.java:28)\n    at testing_Class.main(testing_Class.java:14)\n</code></pre>\n"},{"tags":["java","quarkus","intersystems-iris"],"comments":[{"owner":{"account_id":27118,"reputation":3700,"user_id":71208,"accept_rate":62,"display_name":"Max Rydahl Andersen"},"score":0,"creation_date":1644320541,"post_id":71027568,"comment_id":125570014,"body_markdown":"what error are you getting?","body":"what error are you getting?"}],"answers":[{"tags":[],"owner":{"account_id":23021460,"reputation":21,"user_id":18146879,"display_name":"Jos&#233; Junior"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645445267,"creation_date":1645445267,"answer_id":71206056,"question_id":71027568,"body_markdown":"I found the solution, to set up Intersystems IRIS on Quarkus you need to add manually the jar file, and also you need to set up the pom.xml also some setup from Intersystems was made as a java class.  you can see the solution looking at my project on GitHub\r\nthis is the link: https://github.com/JoseAdemar/quarkus-project-with-intersystems-ris-database","title":"How to set up IRIS database with Quarkus","body":"<p>I found the solution, to set up Intersystems IRIS on Quarkus you need to add manually the jar file, and also you need to set up the pom.xml also some setup from Intersystems was made as a java class.  you can see the solution looking at my project on GitHub\nthis is the link: <a href=\"https://github.com/JoseAdemar/quarkus-project-with-intersystems-ris-database\" rel=\"nofollow noreferrer\">https://github.com/JoseAdemar/quarkus-project-with-intersystems-ris-database</a></p>\n"}],"owner":{"account_id":23021460,"reputation":21,"user_id":18146879,"display_name":"Jos&#233; Junior"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645445267,"creation_date":1644283955,"question_id":71027568,"body_markdown":"I&#39;m trying to use Intersystems IRIS Database with\r\nQuarkus, but I&#39;m getting problems making it work\r\ndoes anyone knows how to set up the Intersystems IRIS Database\r\non Quarkus ?\r\n\r\nI did that on my pom.xml  and also I added the jar\r\nhibernate-iris-1.0.0.jar and intersystems-jdbc-3.2.0.jar but it&#39;s not working \r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;com.intersystems&lt;/groupId&gt;\r\n                &lt;artifactId&gt;intersystems-jdbc&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;scope&gt;system&lt;/scope&gt;\r\n                &lt;systemPath&gt;${project.basedir}/src/main/resources/intersystems-jdbc-3.2.0.jar&lt;/systemPath&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-iris&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0&lt;/version&gt;\r\n                &lt;scope&gt;system&lt;/scope&gt;\r\n                &lt;systemPath&gt;${project.basedir}/src/main/resources/hibernate-iris-1.0.0.jar&lt;/systemPath&gt;\r\n            &lt;/dependency&gt;\r\n\r\nThis is my application.properties\r\n\r\n&lt;code&gt;\r\nquarkus:\r\n  datasource:\r\n    db-kind: other \r\n    username: _system\r\n    password: *****\r\n    jdbc:\r\n      url: jdbc:IRIS://localhost:1972/USER\r\n      driver: com.intersystems.jdbc.IRISDriver\r\n  hibernate-orm:\r\n    dialect: org.hibernate.dialect.InterSystemsIRISDialect\r\n    jdbc:\r\n      timezone: UTC\r\n&lt;/code&gt;","title":"How to set up IRIS database with Quarkus","body":"<p>I'm trying to use Intersystems IRIS Database with\nQuarkus, but I'm getting problems making it work\ndoes anyone knows how to set up the Intersystems IRIS Database\non Quarkus ?</p>\n<p>I did that on my pom.xml  and also I added the jar\nhibernate-iris-1.0.0.jar and intersystems-jdbc-3.2.0.jar but it's not working</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.intersystems&lt;/groupId&gt;\n            &lt;artifactId&gt;intersystems-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/src/main/resources/intersystems-jdbc-3.2.0.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-iris&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/src/main/resources/hibernate-iris-1.0.0.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>This is my application.properties</p>\n<code>\nquarkus:\n  datasource:\n    db-kind: other \n    username: _system\n    password: *****\n    jdbc:\n      url: jdbc:IRIS://localhost:1972/USER\n      driver: com.intersystems.jdbc.IRISDriver\n  hibernate-orm:\n    dialect: org.hibernate.dialect.InterSystemsIRISDialect\n    jdbc:\n      timezone: UTC\n</code>\n"},{"tags":["java","android","file"],"answers":[{"tags":[],"owner":{"account_id":930431,"reputation":5167,"user_id":1116084,"display_name":"idiottiger"},"down_vote_count":3,"up_vote_count":141,"is_accepted":true,"score":138,"last_activity_date":1508066724,"creation_date":1333692040,"answer_id":10039728,"question_id":10039672,"body_markdown":"here it&#39;s a simple:\r\n\r\n    File file = new File(path);\r\n    int size = (int) file.length();\r\n    byte[] bytes = new byte[size];\r\n    try {\r\n        BufferedInputStream buf = new BufferedInputStream(new FileInputStream(file));\r\n        buf.read(bytes, 0, bytes.length);\r\n        buf.close();\r\n    } catch (FileNotFoundException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    } catch (IOException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    }\r\n\r\nAdd permission in manifest.xml:\r\n\r\n     &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;","title":"Android : How to read file in bytes?","body":"<p>here it's a simple:</p>\n\n<pre><code>File file = new File(path);\nint size = (int) file.length();\nbyte[] bytes = new byte[size];\ntry {\n    BufferedInputStream buf = new BufferedInputStream(new FileInputStream(file));\n    buf.read(bytes, 0, bytes.length);\n    buf.close();\n} catch (FileNotFoundException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Add permission in manifest.xml:</p>\n\n<pre><code> &lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2350981,"reputation":7663,"user_id":2059819,"accept_rate":56,"display_name":"Siavash"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1462157309,"creation_date":1446148919,"answer_id":33423541,"question_id":10039672,"body_markdown":"Here is a solution that guarantees entire file will be read, that requires no libraries and is efficient:\r\n\r\n    byte[] fullyReadFileToBytes(File f) throws IOException {\r\n        int size = (int) f.length();\r\n        byte bytes[] = new byte[size];\r\n        byte tmpBuff[] = new byte[size];\r\n        FileInputStream fis= new FileInputStream(f);;\r\n        try {\r\n             \r\n            int read = fis.read(bytes, 0, size);\r\n            if (read &lt; size) {\r\n                int remain = size - read;\r\n                while (remain &gt; 0) {\r\n                    read = fis.read(tmpBuff, 0, remain);\r\n                    System.arraycopy(tmpBuff, 0, bytes, size - remain, read);\r\n                    remain -= read;\r\n                }\r\n            }\r\n        }  catch (IOException e){\r\n            throw e;\r\n        } finally {\r\n            fis.close();\r\n        }\r\n\r\n        return bytes;\r\n    }\r\n\r\nNOTE: it assumes file size is less than MAX_INT bytes, you can add handling for that if you want. ","title":"Android : How to read file in bytes?","body":"<p>Here is a solution that guarantees entire file will be read, that requires no libraries and is efficient:</p>\n\n<pre><code>byte[] fullyReadFileToBytes(File f) throws IOException {\n    int size = (int) f.length();\n    byte bytes[] = new byte[size];\n    byte tmpBuff[] = new byte[size];\n    FileInputStream fis= new FileInputStream(f);;\n    try {\n\n        int read = fis.read(bytes, 0, size);\n        if (read &lt; size) {\n            int remain = size - read;\n            while (remain &gt; 0) {\n                read = fis.read(tmpBuff, 0, remain);\n                System.arraycopy(tmpBuff, 0, bytes, size - remain, read);\n                remain -= read;\n            }\n        }\n    }  catch (IOException e){\n        throw e;\n    } finally {\n        fis.close();\n    }\n\n    return bytes;\n}\n</code></pre>\n\n<p>NOTE: it assumes file size is less than MAX_INT bytes, you can add handling for that if you want. </p>\n"},{"tags":[],"owner":{"account_id":3421326,"reputation":709,"user_id":2868845,"display_name":"Renaud Boulard"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1533107740,"creation_date":1454365041,"answer_id":35141461,"question_id":10039672,"body_markdown":"The easiest solution today is to used Apache common io :\r\n\r\nhttp://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/FileUtils.html#readFileToByteArray(java.io.File)\r\n\r\n    byte bytes[] = FileUtils.readFileToByteArray(photoFile)\r\n\r\nThe only drawback is to add this dependency in your `build.gradle` app :\r\n\r\n    implementation &#39;commons-io:commons-io:2.5&#39;\r\n\r\n \\+ 1562 Methods count","title":"Android : How to read file in bytes?","body":"<p>The easiest solution today is to used Apache common io :</p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/FileUtils.html#readFileToByteArray(java.io.File)\" rel=\"noreferrer\">http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/FileUtils.html#readFileToByteArray(java.io.File)</a></p>\n\n<pre><code>byte bytes[] = FileUtils.readFileToByteArray(photoFile)\n</code></pre>\n\n<p>The only drawback is to add this dependency in your <code>build.gradle</code> app :</p>\n\n<pre><code>implementation 'commons-io:commons-io:2.5'\n</code></pre>\n\n<p>+ 1562 Methods count</p>\n"},{"tags":[],"owner":{"account_id":2323535,"reputation":9860,"user_id":2038544,"accept_rate":74,"display_name":"razz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462682465,"creation_date":1462682465,"answer_id":37096273,"question_id":10039672,"body_markdown":"You can also do it this way:\r\n\r\n    byte[] getBytes (File file)\r\n    {\r\n        FileInputStream input = null;\r\n        if (file.exists()) try\r\n        {\r\n            input = new FileInputStream (file);\r\n            int len = (int) file.length();\r\n            byte[] data = new byte[len];\r\n            int count, total = 0;\r\n            while ((count = input.read (data, total, len - total)) &gt; 0) total += count;\r\n            return data;\r\n        }\r\n        catch (Exception ex)\r\n        {\r\n            ex.printStackTrace();\r\n        }\r\n        finally\r\n        {\r\n            if (input != null) try\r\n            {\r\n                input.close();\r\n            }\r\n            catch (Exception ex)\r\n            {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n        return null;\r\n    }","title":"Android : How to read file in bytes?","body":"<p>You can also do it this way:</p>\n\n<pre><code>byte[] getBytes (File file)\n{\n    FileInputStream input = null;\n    if (file.exists()) try\n    {\n        input = new FileInputStream (file);\n        int len = (int) file.length();\n        byte[] data = new byte[len];\n        int count, total = 0;\n        while ((count = input.read (data, total, len - total)) &gt; 0) total += count;\n        return data;\n    }\n    catch (Exception ex)\n    {\n        ex.printStackTrace();\n    }\n    finally\n    {\n        if (input != null) try\n        {\n            input.close();\n        }\n        catch (Exception ex)\n        {\n            ex.printStackTrace();\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":366024,"reputation":2524,"user_id":711299,"accept_rate":71,"display_name":"lase"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1485290467,"creation_date":1485290467,"answer_id":41838608,"question_id":10039672,"body_markdown":"Since the accepted `BufferedInputStream#read` isn&#39;t guaranteed to read everything, rather than keeping track of the buffer sizes myself, I used this approach:\r\n\r\n    \r\n        byte bytes[] = new byte[(int) file.length()];\r\n        BufferedInputStream bis = new BufferedInputStream(new FileInputStream(file));\r\n        DataInputStream dis = new DataInputStream(bis);\r\n        dis.readFully(bytes);\r\n\r\nBlocks until a full read is complete, and doesn&#39;t require extra imports.","title":"Android : How to read file in bytes?","body":"<p>Since the accepted <code>BufferedInputStream#read</code> isn't guaranteed to read everything, rather than keeping track of the buffer sizes myself, I used this approach:</p>\n\n<pre><code>    byte bytes[] = new byte[(int) file.length()];\n    BufferedInputStream bis = new BufferedInputStream(new FileInputStream(file));\n    DataInputStream dis = new DataInputStream(bis);\n    dis.readFully(bytes);\n</code></pre>\n\n<p>Blocks until a full read is complete, and doesn't require extra imports.</p>\n"},{"tags":[],"owner":{"account_id":1146772,"reputation":31458,"user_id":1129332,"accept_rate":61,"display_name":"Ilya Gazman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508611089,"creation_date":1508611089,"answer_id":46866707,"question_id":10039672,"body_markdown":"A simple InputStream will do\r\n\r\n    byte[] fileToBytes(File file){\r\n        byte[] bytes = new byte[0];\r\n        try(FileInputStream inputStream = new FileInputStream(file)) {\r\n            bytes = new byte[inputStream.available()];\r\n            //noinspection ResultOfMethodCallIgnored\r\n            inputStream.read(bytes);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return bytes;\r\n    }","title":"Android : How to read file in bytes?","body":"<p>A simple InputStream will do</p>\n\n<pre><code>byte[] fileToBytes(File file){\n    byte[] bytes = new byte[0];\n    try(FileInputStream inputStream = new FileInputStream(file)) {\n        bytes = new byte[inputStream.available()];\n        //noinspection ResultOfMethodCallIgnored\n        inputStream.read(bytes);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return bytes;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10416738,"reputation":75,"user_id":7680587,"display_name":"user7680587"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551554288,"creation_date":1551552696,"answer_id":54961878,"question_id":10039672,"body_markdown":"Following is the working solution to read the entire file in chunks and its efficient solution to read the large files using a scanner class.\r\n\r\n       try {\r\n            FileInputStream fiStream = new FileInputStream(inputFile_name);\r\n            Scanner sc = null;\r\n            try {\r\n                sc = new Scanner(fiStream);\r\n                while (sc.hasNextLine()) {\r\n                    String line = sc.nextLine();\r\n                    byte[] buf = line.getBytes();\r\n                }\r\n            } finally {\r\n                if (fiStream != null) {\r\n                    fiStream.close();\r\n                }\r\n\r\n                if (sc != null) {\r\n                    sc.close();\r\n                }\r\n            }\r\n        }catch (Exception e){\r\n            Log.e(TAG, &quot;Exception: &quot; + e.toString());\r\n        }","title":"Android : How to read file in bytes?","body":"<p>Following is the working solution to read the entire file in chunks and its efficient solution to read the large files using a scanner class.</p>\n\n<pre><code>   try {\n        FileInputStream fiStream = new FileInputStream(inputFile_name);\n        Scanner sc = null;\n        try {\n            sc = new Scanner(fiStream);\n            while (sc.hasNextLine()) {\n                String line = sc.nextLine();\n                byte[] buf = line.getBytes();\n            }\n        } finally {\n            if (fiStream != null) {\n                fiStream.close();\n            }\n\n            if (sc != null) {\n                sc.close();\n            }\n        }\n    }catch (Exception e){\n        Log.e(TAG, \"Exception: \" + e.toString());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1905951,"reputation":3308,"user_id":1720829,"accept_rate":75,"display_name":"Nathan F."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1559062394,"creation_date":1559062394,"answer_id":56346892,"question_id":10039672,"body_markdown":"If you want to use a the `openFileInput` method from a Context for this, you can use the following code.\r\n\r\nThis will create a `BufferArrayOutputStream` and append each byte as it&#39;s read from the file to it.\r\n\r\n```java\r\n/**\r\n * &lt;p&gt;\r\n *     Creates a InputStream for a file using the specified Context\r\n *     and returns the Bytes read from the file.\r\n * &lt;/p&gt;\r\n *\r\n * @param context The context to use.\r\n * @param file The file to read from.\r\n * @return The array of bytes read from the file, or null if no file was found.\r\n */\r\npublic static byte[] read(Context context, String file) throws IOException {\r\n    byte[] ret = null;\r\n\r\n    if (context != null) {\r\n        try {\r\n            InputStream inputStream = context.openFileInput(file);\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\r\n            int nextByte = inputStream.read();\r\n            while (nextByte != -1) {\r\n                outputStream.write(nextByte);\r\n                nextByte = inputStream.read();\r\n            }\r\n\r\n            ret = outputStream.toByteArray();\r\n\r\n        } catch (FileNotFoundException ignored) { }\r\n    }\r\n\r\n    return ret;\r\n}\r\n```","title":"Android : How to read file in bytes?","body":"<p>If you want to use a the <code>openFileInput</code> method from a Context for this, you can use the following code.</p>\n\n<p>This will create a <code>BufferArrayOutputStream</code> and append each byte as it's read from the file to it.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * &lt;p&gt;\n *     Creates a InputStream for a file using the specified Context\n *     and returns the Bytes read from the file.\n * &lt;/p&gt;\n *\n * @param context The context to use.\n * @param file The file to read from.\n * @return The array of bytes read from the file, or null if no file was found.\n */\npublic static byte[] read(Context context, String file) throws IOException {\n    byte[] ret = null;\n\n    if (context != null) {\n        try {\n            InputStream inputStream = context.openFileInput(file);\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n\n            int nextByte = inputStream.read();\n            while (nextByte != -1) {\n                outputStream.write(nextByte);\n                nextByte = inputStream.read();\n            }\n\n            ret = outputStream.toByteArray();\n\n        } catch (FileNotFoundException ignored) { }\n    }\n\n    return ret;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13377127,"reputation":769,"user_id":9653703,"display_name":"Richard Kamere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636455139,"creation_date":1636455139,"answer_id":69896840,"question_id":10039672,"body_markdown":"To read a file in bytes, often used to read binary files, such as pictures, sounds, images, etc.\r\nUse the method below.\r\n\r\n     public static byte[] readFileByBytes(File file) {\r\n    \r\n            byte[] tempBuf = new byte[100];\r\n            int byteRead;\r\n            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n    \r\n            try {\r\n                BufferedInputStream bufferedInputStream = new BufferedInputStream(new FileInputStream(file));\r\n                while ((byteRead = bufferedInputStream.read(tempBuf)) != -1) {\r\n                    byteArrayOutputStream.write(tempBuf, 0, byteRead);\r\n                }\r\n                bufferedInputStream.close();\r\n                return byteArrayOutputStream.toByteArray();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n\r\n","title":"Android : How to read file in bytes?","body":"<p>To read a file in bytes, often used to read binary files, such as pictures, sounds, images, etc.\nUse the method below.</p>\n<pre><code> public static byte[] readFileByBytes(File file) {\n\n        byte[] tempBuf = new byte[100];\n        int byteRead;\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n\n        try {\n            BufferedInputStream bufferedInputStream = new BufferedInputStream(new FileInputStream(file));\n            while ((byteRead = bufferedInputStream.read(tempBuf)) != -1) {\n                byteArrayOutputStream.write(tempBuf, 0, byteRead);\n            }\n            bufferedInputStream.close();\n            return byteArrayOutputStream.toByteArray();\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21401367,"reputation":342,"user_id":15763443,"display_name":"Unes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645445231,"creation_date":1645443407,"answer_id":71205657,"question_id":10039672,"body_markdown":"In Kotlin you can simply use: \r\n\r\n    File(path).readBytes()\r\n\r\n","title":"Android : How to read file in bytes?","body":"<p>In Kotlin you can simply use:</p>\n<pre><code>File(path).readBytes()\n</code></pre>\n"}],"owner":{"account_id":81032,"reputation":20540,"user_id":228755,"accept_rate":99,"display_name":"Azhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121497,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":10039728,"answer_count":10,"score":83,"last_activity_date":1645445231,"creation_date":1333691490,"question_id":10039672,"body_markdown":"I am trying to get file content in bytes in Android application. I have get the file in SD card now want to get the selected file in bytes. I googled but no such success. Please help\r\n\r\nBelow is the code to get files with extension. Through this i get files and show in spinner. On file selection I want to get file in bytes.\r\n\r\n\r\n \r\n\r\n    private List&lt;String&gt; getListOfFiles(String path) {\r\n     \r\n       File files = new File(path);\r\n     \r\n       FileFilter filter = new FileFilter() {\r\n     \r\n          private final List&lt;String&gt; exts = Arrays.asList(&quot;jpeg&quot;, &quot;jpg&quot;, &quot;png&quot;, &quot;bmp&quot;, &quot;gif&quot;,&quot;mp3&quot;);\r\n     \r\n          public boolean accept(File pathname) {\r\n             String ext;\r\n             String path = pathname.getPath();\r\n             ext = path.substring(path.lastIndexOf(&quot;.&quot;) + 1);\r\n             return exts.contains(ext);\r\n          }\r\n       };\r\n     \r\n       final File [] filesFound = files.listFiles(filter);\r\n       List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n       if (filesFound != null &amp;&amp; filesFound.length &gt; 0) {\r\n          for (File file : filesFound) {\r\n             list.add(file.getName());\r\n          }\r\n       }\r\n       return list;\r\n    }\r\n\r\n ","title":"Android : How to read file in bytes?","body":"<p>I am trying to get file content in bytes in Android application. I have get the file in SD card now want to get the selected file in bytes. I googled but no such success. Please help</p>\n\n<p>Below is the code to get files with extension. Through this i get files and show in spinner. On file selection I want to get file in bytes.</p>\n\n<pre><code>private List&lt;String&gt; getListOfFiles(String path) {\n\n   File files = new File(path);\n\n   FileFilter filter = new FileFilter() {\n\n      private final List&lt;String&gt; exts = Arrays.asList(\"jpeg\", \"jpg\", \"png\", \"bmp\", \"gif\",\"mp3\");\n\n      public boolean accept(File pathname) {\n         String ext;\n         String path = pathname.getPath();\n         ext = path.substring(path.lastIndexOf(\".\") + 1);\n         return exts.contains(ext);\n      }\n   };\n\n   final File [] filesFound = files.listFiles(filter);\n   List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n   if (filesFound != null &amp;&amp; filesFound.length &gt; 0) {\n      for (File file : filesFound) {\n         list.add(file.getName());\n      }\n   }\n   return list;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":21712418,"reputation":26,"user_id":16023880,"display_name":"Новиков Алексей"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645444896,"creation_date":1645444896,"answer_id":71205985,"question_id":62289939,"body_markdown":"You can use `TokenStore::storeAccessToken`\r\n\r\nThis worked for my app, when autorities can be chaneged without user logout/login\r\n\r\n    private final TokenStore tokenStore;\r\n    \r\n    public void updateAuthorities() {\r\n            var auth = (OAuth2Authentication)SecurityContextHolder.getContext().getAuthentication();\r\n            List&lt;GrantedAuthority&gt; newAuthorities = &lt;Your autorities list&gt;;\r\n            var newAuth = new UsernamePasswordAuthenticationToken(\r\n                    auth.getPrincipal(),\r\n                    auth.getCredentials(),\r\n                    newAuthorities\r\n            );\r\n            newAuth.setDetails(auth.getDetails());\r\n            var oauth2Auth = new OAuth2Authentication(auth.getOAuth2Request(), newAuth);\r\n            oauth2Auth.setDetails(auth.getDetails());\r\n            oauth2Auth.setAuthenticated(true);\r\n            OAuth2AccessToken existingAccessToken = this.tokenStore.getAccessToken(auth);\r\n            tokenStore.storeAccessToken(existingAccessToken, oauth2Auth);\r\n            SecurityContextHolder.getContext().setAuthentication(oauth2Auth);\r\n        }","title":"Update user authorities in database Spring boot OAuth 2.0","body":"<p>You can use <code>TokenStore::storeAccessToken</code></p>\n<p>This worked for my app, when autorities can be chaneged without user logout/login</p>\n<pre><code>private final TokenStore tokenStore;\n\npublic void updateAuthorities() {\n        var auth = (OAuth2Authentication)SecurityContextHolder.getContext().getAuthentication();\n        List&lt;GrantedAuthority&gt; newAuthorities = &lt;Your autorities list&gt;;\n        var newAuth = new UsernamePasswordAuthenticationToken(\n                auth.getPrincipal(),\n                auth.getCredentials(),\n                newAuthorities\n        );\n        newAuth.setDetails(auth.getDetails());\n        var oauth2Auth = new OAuth2Authentication(auth.getOAuth2Request(), newAuth);\n        oauth2Auth.setDetails(auth.getDetails());\n        oauth2Auth.setAuthenticated(true);\n        OAuth2AccessToken existingAccessToken = this.tokenStore.getAccessToken(auth);\n        tokenStore.storeAccessToken(existingAccessToken, oauth2Auth);\n        SecurityContextHolder.getContext().setAuthentication(oauth2Auth);\n    }\n</code></pre>\n"}],"owner":{"account_id":17623522,"reputation":31,"user_id":12788957,"display_name":"Hafiz Hamza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1645444896,"creation_date":1591728997,"question_id":62289939,"body_markdown":"We can dynamically update a logged-in user&#39;s authorities, without having to log out and log in, by resetting the `Authentication` object (security token) in the Spring `SecurityContextHolder` by using this code.\r\n\r\n    Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n    \r\n    List&lt;GrantedAuthority&gt; updatedAuthorities = new ArrayList&lt;&gt;(auth.getAuthorities());\r\n    updatedAuthorities.add(...); //add your role here [e.g., new SimpleGrantedAuthority(&quot;ROLE_NEW_ROLE&quot;)]\r\n    \r\n    Authentication newAuth = new UsernamePasswordAuthenticationToken(auth.getPrincipal(), auth.getCredentials(), updatedAuthorities);\r\n    \r\n    SecurityContextHolder.getContext().setAuthentication(newAuth);\r\n\r\nBut this code doesn&#39;t update authorities in database and I want to update the authorities in database tables of OAuth `oauth_access_token` and `oauth_refresh_token` tables. Actually I am working on a social app where user authorities change frequently.\r\n\r\n&gt; Does Spring provide this feature out of the box?\r\n&gt;\r\n&gt; Or do you have any custom Logic?\r\n\r\n","title":"Update user authorities in database Spring boot OAuth 2.0","body":"<p>We can dynamically update a logged-in user's authorities, without having to log out and log in, by resetting the <code>Authentication</code> object (security token) in the Spring <code>SecurityContextHolder</code> by using this code.</p>\n\n<pre><code>Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n\nList&lt;GrantedAuthority&gt; updatedAuthorities = new ArrayList&lt;&gt;(auth.getAuthorities());\nupdatedAuthorities.add(...); //add your role here [e.g., new SimpleGrantedAuthority(\"ROLE_NEW_ROLE\")]\n\nAuthentication newAuth = new UsernamePasswordAuthenticationToken(auth.getPrincipal(), auth.getCredentials(), updatedAuthorities);\n\nSecurityContextHolder.getContext().setAuthentication(newAuth);\n</code></pre>\n\n<p>But this code doesn't update authorities in database and I want to update the authorities in database tables of OAuth <code>oauth_access_token</code> and <code>oauth_refresh_token</code> tables. Actually I am working on a social app where user authorities change frequently.</p>\n\n<blockquote>\n  <p>Does Spring provide this feature out of the box?</p>\n  \n  <p>Or do you have any custom Logic?</p>\n</blockquote>\n"},{"tags":["java","eclipse","opencv","apple-m1","arm64"],"answers":[{"tags":[],"owner":{"account_id":3777065,"reputation":41,"user_id":3137611,"display_name":"Huebi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645444891,"creation_date":1645444891,"answer_id":71205983,"question_id":71205211,"body_markdown":"Stupid me! I used aarch64-eclipse, aarch64-opencv BUT a X86_64 based Java under the hood. Thats why it demands X86 dylibs.\r\n\r\nI installed a corretto18 with aarch64 now everything works for me, too.","title":"Incompatible architecture problem using OpenCV/Java in Eclipse on Apple M1","body":"<p>Stupid me! I used aarch64-eclipse, aarch64-opencv BUT a X86_64 based Java under the hood. Thats why it demands X86 dylibs.</p>\n<p>I installed a corretto18 with aarch64 now everything works for me, too.</p>\n"}],"owner":{"account_id":3777065,"reputation":41,"user_id":3137611,"display_name":"Huebi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":632,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1645444891,"creation_date":1645441495,"question_id":71205211,"body_markdown":"I have a MacBookPro with the new M1 chip. My plan is to use it as development platform for opencv with Java. DevEnv is Eclipse.\r\n\r\nIn order to install opencv I followed this instructions:\r\n\r\n1) brew install ant\r\n2) brew edit opencv\r\nI change the line: -DBUILD_opencv_java=OFF in -DBUILD_opencv_java=ON\r\nto have Java support\r\n\r\nthen \r\n\r\n3) brew install --build-from-source opencv\r\n\r\n(I have installed Xcode before for other project and also the command line tools.)\r\n\r\nThe compilation was successful!\r\n\r\nThen I setup a simple project adding in the build path an external library which points to the compiled jar. I also add the path to the corresponding dylib.\r\n\r\nEclipse find the libraries!\r\n\r\nThis is the java code for the program:\r\n```\r\nimport org.opencv.core.Core;\r\nimport org.opencv.core.CvType;\r\nimport org.opencv.core.Mat;\r\n\r\npublic class OpenCVTest {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;hello world&quot;);\r\n\t\tSystem.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n        Mat mat = Mat.eye(3, 3, CvType.CV_8UC1);\r\n        System.out.println(&quot;mat = &quot; + mat.dump());\r\n\t}\r\n\r\n}\r\n```\r\nNo compilation errors marked in the editor.\r\n\r\n\r\nBUT when I start the program, it complains with this error (console):\r\n\r\n\r\nhello world\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: /opt/homebrew/Cellar/opencv/4.5.4_4/share/java/opencv4/libopencv_java454.dylib: dlopen(/opt/homebrew/Cellar/opencv/4.5.4_4/share/java/opencv4/libopencv_java454.dylib, 0x0001): tried: &#39;/opt/homebrew/Cellar/opencv/4.5.4_4/share/java/opencv4/libopencv_java454.dylib&#39; **(mach-o file, but is an incompatible architecture (have &#39;arm64&#39;, need &#39;x86_64&#39;))**, &#39;/usr/lib/libopencv_java454.dylib&#39; (no such file)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n\tat java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:384)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:228)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:170)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.findFromPaths(NativeLibraries.java:311)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:283)\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2422)\r\n\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\r\n\tat java.base/java.lang.System.loadLibrary(System.java:1989)\r\n\tat OpenCVTest.main(OpenCVTest.java:9)\r\n\r\n\r\nI checked in the console with file-command and it confirms that it is arm64, which I assume is the correct architecture.\r\n\r\nI checked my Eclipse and that was X86. so I installed another eclipse (aarch64) with the right archtiecture. \r\n\r\nSame error!\r\n\r\nSo what is the problem?\r\n\r\nThanks for the help.\r\n\r\n\r\n","title":"Incompatible architecture problem using OpenCV/Java in Eclipse on Apple M1","body":"<p>I have a MacBookPro with the new M1 chip. My plan is to use it as development platform for opencv with Java. DevEnv is Eclipse.</p>\n<p>In order to install opencv I followed this instructions:</p>\n<ol>\n<li>brew install ant</li>\n<li>brew edit opencv\nI change the line: -DBUILD_opencv_java=OFF in -DBUILD_opencv_java=ON\nto have Java support</li>\n</ol>\n<p>then</p>\n<ol start=\"3\">\n<li>brew install --build-from-source opencv</li>\n</ol>\n<p>(I have installed Xcode before for other project and also the command line tools.)</p>\n<p>The compilation was successful!</p>\n<p>Then I setup a simple project adding in the build path an external library which points to the compiled jar. I also add the path to the corresponding dylib.</p>\n<p>Eclipse find the libraries!</p>\n<p>This is the java code for the program:</p>\n<pre><code>import org.opencv.core.Core;\nimport org.opencv.core.CvType;\nimport org.opencv.core.Mat;\n\npublic class OpenCVTest {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;hello world&quot;);\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n        Mat mat = Mat.eye(3, 3, CvType.CV_8UC1);\n        System.out.println(&quot;mat = &quot; + mat.dump());\n    }\n\n}\n</code></pre>\n<p>No compilation errors marked in the editor.</p>\n<p>BUT when I start the program, it complains with this error (console):</p>\n<p>hello world\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: /opt/homebrew/Cellar/opencv/4.5.4_4/share/java/opencv4/libopencv_java454.dylib: dlopen(/opt/homebrew/Cellar/opencv/4.5.4_4/share/java/opencv4/libopencv_java454.dylib, 0x0001): tried: '/opt/homebrew/Cellar/opencv/4.5.4_4/share/java/opencv4/libopencv_java454.dylib' <strong>(mach-o file, but is an incompatible architecture (have 'arm64', need 'x86_64'))</strong>, '/usr/lib/libopencv_java454.dylib' (no such file)\nat java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\nat java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:384)\nat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:228)\nat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:170)\nat java.base/jdk.internal.loader.NativeLibraries.findFromPaths(NativeLibraries.java:311)\nat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:283)\nat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2422)\nat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\nat java.base/java.lang.System.loadLibrary(System.java:1989)\nat OpenCVTest.main(OpenCVTest.java:9)</p>\n<p>I checked in the console with file-command and it confirms that it is arm64, which I assume is the correct architecture.</p>\n<p>I checked my Eclipse and that was X86. so I installed another eclipse (aarch64) with the right archtiecture.</p>\n<p>Same error!</p>\n<p>So what is the problem?</p>\n<p>Thanks for the help.</p>\n"},{"tags":["java","retrofit","rx-java"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645445625,"post_id":71205980,"comment_id":125865632,"body_markdown":"What URL are you invoking?","body":"What URL are you invoking?"},{"owner":{"account_id":10489806,"reputation":45,"user_id":7732105,"display_name":"Johnny"},"score":0,"creation_date":1645486910,"post_id":71205980,"comment_id":125879747,"body_markdown":"forgot to mention, I&#39;m passing a local file from my phone \nfileName passed value looks like this\n\n/data/user/0/com.projectName.project/cache/test.pdf","body":"forgot to mention, I&#39;m passing a local file from my phone  fileName passed value looks like this  /data/user/0/com.projectName.project/cache/test.pdf"}],"owner":{"account_id":10489806,"reputation":45,"user_id":7732105,"display_name":"Johnny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645444874,"creation_date":1645444874,"question_id":71205980,"body_markdown":"    public void uploadFile(String token, String org, String fileName){\r\n        if(!ConnectionUtility.isNetworkAvailable2(getmContext())){\r\n            return;\r\n        }\r\n        retryTrigger = false;\r\n\r\n\r\n        File file = new File(fileName);\r\n        String fName = file.getName();      \r\n\r\n        RequestBody fb = RequestBody.create(file, MediaType.parse(&quot;application/pdf&quot;));\r\n\r\n\r\n        MultipartBody .Part body =\r\n                MultipartBody.Part.createFormData(&quot;uploadFile&quot;, fName, fb );\r\n\r\n\r\n        Map&lt;String,String&gt; headerMap = new HashMap&lt;&gt;();\r\n        headerMap.put(&quot;User-Agent&quot;, &quot;KMP&quot;);\r\n        headerMap.put(&quot;X-Auth-Token&quot;, token);\r\n        headerMap.put(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=----WebKitFormBoundarytkRt9rKilDJeeFe1&quot;);\r\n        headerMap.put(&quot;accept&quot;, &quot;application/json&quot;);\r\n        headerMap.put(&quot;Csrf-Token&quot;, &quot;nocheck&quot;);\r\n\r\n     mCompositeDisposables.add(mKcpsLoginApiInterface.getFileUrl(org,headerMap,body)\r\n                .subscribeOn(Schedulers.io())\r\n                .observeOn(AndroidSchedulers.mainThread())\r\n                .retry(1, throwable -&gt; {\r\n                    retryTrigger = true;\r\n                    return false;\r\n                })\r\n                .subscribeWith(new DisposableSingleObserver&lt;Response&lt;GetFileUrl&gt;&gt;() {\r\n                    @Override\r\n                    public void onSuccess(@NonNull Response&lt;GetFileUrl&gt; getFileUrlResponse) {                       \r\n                        // Always get 400 error    \r\n                        \r\n                    }\r\n\r\n                    @Override\r\n                    public void onError(@NonNull Throwable e) {\r\n\r\n                    }\r\n                })\r\n        );\r\n\r\n\r\n    }\r\n\r\nMy Interface looks like this\r\n\r\n    @Multipart\r\n    @POST(&quot;/o/{org}/files&quot;)\r\n    Single&lt;Response&lt;GetFileUrl&gt;&gt; getFileUrl(@Path(&quot;org&quot;) String org,\r\n                                            @HeaderMap Map&lt;String,String&gt; headers,\r\n                                            @Part MultipartBody.Part file\r\n    );\r\n\r\n\r\nAdditional Info:\r\n - I&#39;ve used the correct token and headers using swagger site and it works but when somehow I code it on my project, it won&#39;t work. Insights would be much appreciated. \r\n - I always seem to get 400 error response code.\r\nThank you","title":"400 Error when uploading file on server with auth token headers using Retrofit Android","body":"<pre><code>public void uploadFile(String token, String org, String fileName){\n    if(!ConnectionUtility.isNetworkAvailable2(getmContext())){\n        return;\n    }\n    retryTrigger = false;\n\n\n    File file = new File(fileName);\n    String fName = file.getName();      \n\n    RequestBody fb = RequestBody.create(file, MediaType.parse(&quot;application/pdf&quot;));\n\n\n    MultipartBody .Part body =\n            MultipartBody.Part.createFormData(&quot;uploadFile&quot;, fName, fb );\n\n\n    Map&lt;String,String&gt; headerMap = new HashMap&lt;&gt;();\n    headerMap.put(&quot;User-Agent&quot;, &quot;KMP&quot;);\n    headerMap.put(&quot;X-Auth-Token&quot;, token);\n    headerMap.put(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=----WebKitFormBoundarytkRt9rKilDJeeFe1&quot;);\n    headerMap.put(&quot;accept&quot;, &quot;application/json&quot;);\n    headerMap.put(&quot;Csrf-Token&quot;, &quot;nocheck&quot;);\n\n mCompositeDisposables.add(mKcpsLoginApiInterface.getFileUrl(org,headerMap,body)\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .retry(1, throwable -&gt; {\n                retryTrigger = true;\n                return false;\n            })\n            .subscribeWith(new DisposableSingleObserver&lt;Response&lt;GetFileUrl&gt;&gt;() {\n                @Override\n                public void onSuccess(@NonNull Response&lt;GetFileUrl&gt; getFileUrlResponse) {                       \n                    // Always get 400 error    \n                    \n                }\n\n                @Override\n                public void onError(@NonNull Throwable e) {\n\n                }\n            })\n    );\n\n\n}\n</code></pre>\n<p>My Interface looks like this</p>\n<pre><code>@Multipart\n@POST(&quot;/o/{org}/files&quot;)\nSingle&lt;Response&lt;GetFileUrl&gt;&gt; getFileUrl(@Path(&quot;org&quot;) String org,\n                                        @HeaderMap Map&lt;String,String&gt; headers,\n                                        @Part MultipartBody.Part file\n);\n</code></pre>\n<p>Additional Info:</p>\n<ul>\n<li>I've used the correct token and headers using swagger site and it works but when somehow I code it on my project, it won't work. Insights would be much appreciated.</li>\n<li>I always seem to get 400 error response code.\nThank you</li>\n</ul>\n"},{"tags":["java","spring-boot","javabeans"],"comments":[{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1645444501,"post_id":71205767,"comment_id":125865246,"body_markdown":"what is the spring boot version?","body":"what is the spring boot version?"}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645444566,"creation_date":1645444566,"answer_id":71205930,"question_id":71205767,"body_markdown":"Annotate your `JwtConfig` class with `@Configuration`\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;application.jwt&quot;)\r\n    public class JwtConfig {\r\n\r\nSee in Javadocs:\r\n\r\n&gt; Annotation for externalized configuration. Add this to a class\r\n&gt; definition or a @Bean method in a @Configuration class if you want to\r\n&gt; bind and validate some external Properties (e.g. from a .properties\r\n&gt; file).\r\n\r\nReference: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConfigurationProperties.html","title":"Parameter 0 of constructor in my class required a bean of my second class that could not be found","body":"<p>Annotate your <code>JwtConfig</code> class with <code>@Configuration</code></p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;application.jwt&quot;)\npublic class JwtConfig {\n</code></pre>\n<p>See in Javadocs:</p>\n<blockquote>\n<p>Annotation for externalized configuration. Add this to a class\ndefinition or a @Bean method in a @Configuration class if you want to\nbind and validate some external Properties (e.g. from a .properties\nfile).</p>\n</blockquote>\n<p>Reference: <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConfigurationProperties.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConfigurationProperties.html</a></p>\n"}],"owner":{"account_id":23653414,"reputation":269,"user_id":17682036,"display_name":"maxfromgermany"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71205930,"answer_count":1,"score":0,"last_activity_date":1645444566,"creation_date":1645443866,"question_id":71205767,"body_markdown":"I know it&#39;s a problem that is been posted 100 times, but unfortunately I am getting a `Defining Bean` error in my `Spring Boot` Application and I really do not know why. I do not see my error from launch to finish since I am defining a bean.\r\n\r\nI would appreciate any help. \r\n\r\nI&#39;m sure it&#39;s a stupid mistake which I just don&#39;t see\r\n\r\nMy error Code\r\n\r\n    Description:\r\n    \r\n    Parameter 0 of constructor in com.example.demo.jwt.JwtSecretKey required a bean of type &#39;com.example.demo.jwt.JwtConfig&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.example.demo.jwt.JwtConfig&#39; in your configuration.\r\n\r\nJwtSecretKey class\r\n\r\n    package com.example.demo.jwt;\r\n    \r\n    import io.jsonwebtoken.security.Keys;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import javax.crypto.SecretKey;\r\n    \r\n    @Configuration\r\n    public class JwtSecretKey {\r\n    \r\n      private final JwtConfig jwtConfig;\r\n    \r\n      @Autowired\r\n      public JwtSecretKey(JwtConfig jwtConfig) {\r\n        this.jwtConfig = jwtConfig;\r\n      }\r\n    \r\n      @Bean\r\n      public SecretKey secretKey() {\r\n        return Keys.hmacShaKeyFor(jwtConfig.getSecretKey().getBytes());\r\n      }\r\n    }\r\n\r\nJwtConfig class\r\n\r\n    package com.example.demo.jwt;\r\n    \r\n    import com.google.common.net.HttpHeaders;\r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    \r\n    @ConfigurationProperties(prefix = &quot;application.jwt&quot;)\r\n    public class JwtConfig {\r\n    \r\n      private String secretKey;\r\n      private String tokenPrefix;\r\n      private Integer tokenExpirationAfterDays;\r\n    \r\n      public JwtConfig() {}\r\n    \r\n      public String getSecretKey() {\r\n        return secretKey;\r\n      }\r\n    \r\n      public void setSecretKey(String secretKey) {\r\n        this.secretKey = secretKey;\r\n      }\r\n    \r\n      public String getTokenPrefix() {\r\n        return tokenPrefix;\r\n      }\r\n    \r\n      public void setTokenPrefix(String tokenPrefix) {\r\n        this.tokenPrefix = tokenPrefix;\r\n      }\r\n    \r\n      public Integer getTokenExpirationAfterDays() {\r\n        return tokenExpirationAfterDays;\r\n      }\r\n    \r\n      public void setTokenExpirationAfterDays(Integer tokenExpirationAfterDays) {\r\n        this.tokenExpirationAfterDays = tokenExpirationAfterDays;\r\n      }","title":"Parameter 0 of constructor in my class required a bean of my second class that could not be found","body":"<p>I know it's a problem that is been posted 100 times, but unfortunately I am getting a <code>Defining Bean</code> error in my <code>Spring Boot</code> Application and I really do not know why. I do not see my error from launch to finish since I am defining a bean.</p>\n<p>I would appreciate any help.</p>\n<p>I'm sure it's a stupid mistake which I just don't see</p>\n<p>My error Code</p>\n<pre><code>Description:\n\nParameter 0 of constructor in com.example.demo.jwt.JwtSecretKey required a bean of type 'com.example.demo.jwt.JwtConfig' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.example.demo.jwt.JwtConfig' in your configuration.\n</code></pre>\n<p>JwtSecretKey class</p>\n<pre><code>package com.example.demo.jwt;\n\nimport io.jsonwebtoken.security.Keys;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.crypto.SecretKey;\n\n@Configuration\npublic class JwtSecretKey {\n\n  private final JwtConfig jwtConfig;\n\n  @Autowired\n  public JwtSecretKey(JwtConfig jwtConfig) {\n    this.jwtConfig = jwtConfig;\n  }\n\n  @Bean\n  public SecretKey secretKey() {\n    return Keys.hmacShaKeyFor(jwtConfig.getSecretKey().getBytes());\n  }\n}\n</code></pre>\n<p>JwtConfig class</p>\n<pre><code>package com.example.demo.jwt;\n\nimport com.google.common.net.HttpHeaders;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\n\n@ConfigurationProperties(prefix = &quot;application.jwt&quot;)\npublic class JwtConfig {\n\n  private String secretKey;\n  private String tokenPrefix;\n  private Integer tokenExpirationAfterDays;\n\n  public JwtConfig() {}\n\n  public String getSecretKey() {\n    return secretKey;\n  }\n\n  public void setSecretKey(String secretKey) {\n    this.secretKey = secretKey;\n  }\n\n  public String getTokenPrefix() {\n    return tokenPrefix;\n  }\n\n  public void setTokenPrefix(String tokenPrefix) {\n    this.tokenPrefix = tokenPrefix;\n  }\n\n  public Integer getTokenExpirationAfterDays() {\n    return tokenExpirationAfterDays;\n  }\n\n  public void setTokenExpirationAfterDays(Integer tokenExpirationAfterDays) {\n    this.tokenExpirationAfterDays = tokenExpirationAfterDays;\n  }\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1427175,"reputation":1278,"user_id":1350375,"display_name":"epichorns"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1645444337,"creation_date":1335927842,"answer_id":10407167,"question_id":10407089,"body_markdown":"Define a new class member variable:\r\n`Bitmap mScaledBackground;`\r\nThen, assign your newly created scaled bitmap to it:\r\n`mScaledBackground = scaled;`\r\nThen, call in your draw method:\r\n`canvas.drawBitmap(mScaledBackground, 0, 0, null);`\r\n\r\nNote that it is not a good idea to hard-code screen size in the way you did in your snippet above. Better would be to fetch your device screen size in the following way:\r\n\r\n    int width = getWindowManager().getDefaultDisplay().getWidth();\r\n    int height = getWindowManager().getDefaultDisplay().getHeight();\r\n\r\nAnd it would be probably better not to declare a new bitmap for the only purpose of drawing your original background in a scaled way. Bitmaps consume a lot of precious resources, and usually a phone is limited to a few MB of Bitmaps you can load before your app ungracefully fails. Instead you could do something like this:\r\n\r\n    Rect src = new Rect(0, 0, bitmap.getWidth() - 1, bitmap.getHeight() - 1);\r\n    Rect dest = new Rect(0, 0, width - 1, height - 1);\r\n    canvas.drawBitmap(mBackground, src, dest, null);\r\n","title":"Draw a scaled Bitmap to the Canvas?","body":"<p>Define a new class member variable:\n<code>Bitmap mScaledBackground;</code>\nThen, assign your newly created scaled bitmap to it:\n<code>mScaledBackground = scaled;</code>\nThen, call in your draw method:\n<code>canvas.drawBitmap(mScaledBackground, 0, 0, null);</code></p>\n<p>Note that it is not a good idea to hard-code screen size in the way you did in your snippet above. Better would be to fetch your device screen size in the following way:</p>\n<pre><code>int width = getWindowManager().getDefaultDisplay().getWidth();\nint height = getWindowManager().getDefaultDisplay().getHeight();\n</code></pre>\n<p>And it would be probably better not to declare a new bitmap for the only purpose of drawing your original background in a scaled way. Bitmaps consume a lot of precious resources, and usually a phone is limited to a few MB of Bitmaps you can load before your app ungracefully fails. Instead you could do something like this:</p>\n<pre><code>Rect src = new Rect(0, 0, bitmap.getWidth() - 1, bitmap.getHeight() - 1);\nRect dest = new Rect(0, 0, width - 1, height - 1);\ncanvas.drawBitmap(mBackground, src, dest, null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1353125,"reputation":112,"user_id":1292070,"display_name":"sebsebmc"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1645444482,"creation_date":1335927900,"answer_id":10407176,"question_id":10407089,"body_markdown":"To draw the scaled bitmap you want save your scaled bitmap in a field somewhere (here called `mScaled`) and call:    \r\n\r\n    canvas.drawBitmap(mScaled, 0, 0, null);\r\n\r\nin your draw method (or wherever you call it right now).","title":"Draw a scaled Bitmap to the Canvas?","body":"<p>To draw the scaled bitmap you want save your scaled bitmap in a field somewhere (here called <code>mScaled</code>) and call:</p>\n<pre><code>canvas.drawBitmap(mScaled, 0, 0, null);\n</code></pre>\n<p>in your draw method (or wherever you call it right now).</p>\n"}],"owner":{"account_id":1446614,"reputation":381,"user_id":1364859,"accept_rate":62,"display_name":"tadamson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34890,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":10407167,"answer_count":2,"score":19,"last_activity_date":1645444482,"creation_date":1335927155,"question_id":10407089,"body_markdown":"The following code defines my Bitmap:\r\n\r\n    Resources res = context.getResources();\r\n\r\n    mBackground = BitmapFactory.decodeResource(res, R.drawable.background);\r\n\r\n    // scale bitmap\r\n    int h = 800; // height in pixels\r\n    int w = 480; // width in pixels\r\n    // Make sure w and h are in the correct order\r\n    Bitmap scaled = Bitmap.createScaledBitmap(mBackground, w, h, true);\r\n\r\n... And the following code is used to execute/draw it (the unscaled Bitmap):\r\n\r\n    canvas.drawBitmap(mBackground, 0, 0, null);\r\n\r\nMy question is, how might I set it to draw the scaled Bitmap returned in the form of `Bitmap scaled`, and not the original?","title":"Draw a scaled Bitmap to the Canvas?","body":"<p>The following code defines my Bitmap:</p>\n<pre><code>Resources res = context.getResources();\n\nmBackground = BitmapFactory.decodeResource(res, R.drawable.background);\n\n// scale bitmap\nint h = 800; // height in pixels\nint w = 480; // width in pixels\n// Make sure w and h are in the correct order\nBitmap scaled = Bitmap.createScaledBitmap(mBackground, w, h, true);\n</code></pre>\n<p>... And the following code is used to execute/draw it (the unscaled Bitmap):</p>\n<pre><code>canvas.drawBitmap(mBackground, 0, 0, null);\n</code></pre>\n<p>My question is, how might I set it to draw the scaled Bitmap returned in the form of <code>Bitmap scaled</code>, and not the original?</p>\n"},{"tags":["java","encoding","uri"],"comments":[{"owner":{"account_id":2617274,"reputation":6112,"user_id":2266098,"accept_rate":72,"display_name":"NeplatnyUdaj"},"score":2,"creation_date":1366139976,"post_id":16045246,"comment_id":22894391,"body_markdown":"http://stackoverflow.com/questions/5913623/rfc3986-which-pchars-need-to-be-percent-encoded","body":"<a href=\"http://stackoverflow.com/questions/5913623/rfc3986-which-pchars-need-to-be-percent-encoded\" title=\"rfc3986 which pchars need to be percent encoded\">stackoverflow.com/questions/5913623/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1366140444,"creation_date":1366140040,"answer_id":16045345,"question_id":16045246,"body_markdown":"Semicolon is a perfectly valid char in URIs. Of course if the receiving end uses semicolon as a special delimiter, the sender needs to escape it. But that&#39;s outside the standard practice, so you&#39;ll have to escape it yourself.\r\n\r\nBut in the java world, servlet is the standard, and it uses semicolon as special delimiters. I&#39;m not aware of any utility to help you there, so you&#39;ll still need to manually escape semicolons.","title":"Java URI doesn&#39;t encode semicolons in path. Best practice here?","body":"<p>Semicolon is a perfectly valid char in URIs. Of course if the receiving end uses semicolon as a special delimiter, the sender needs to escape it. But that's outside the standard practice, so you'll have to escape it yourself.</p>\n\n<p>But in the java world, servlet is the standard, and it uses semicolon as special delimiters. I'm not aware of any utility to help you there, so you'll still need to manually escape semicolons.</p>\n"},{"tags":[],"owner":{"account_id":3809533,"reputation":491,"user_id":5439738,"display_name":"Tomas Langer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645444403,"creation_date":1645444403,"answer_id":71205890,"question_id":16045246,"body_markdown":"The reason semicolon is not escaped automatically is because it has a meaning in the URI specification - it delimits &quot;path parameters&quot;.\r\nThe following URI si valid:\r\n`/some;a=b/path`\r\n\r\nand represents path `/some/path` with a path parameter `a` of value `b`.\r\n\r\nSo in this case the escape must be manual, because URI cannot determine whether the semicolon delimits parameters or is part of the path.","title":"Java URI doesn&#39;t encode semicolons in path. Best practice here?","body":"<p>The reason semicolon is not escaped automatically is because it has a meaning in the URI specification - it delimits &quot;path parameters&quot;.\nThe following URI si valid:\n<code>/some;a=b/path</code></p>\n<p>and represents path <code>/some/path</code> with a path parameter <code>a</code> of value <code>b</code>.</p>\n<p>So in this case the escape must be manual, because URI cannot determine whether the semicolon delimits parameters or is part of the path.</p>\n"}],"owner":{"account_id":1978717,"reputation":1308,"user_id":1775859,"accept_rate":81,"display_name":"Alex Broadwin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1669,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":16045345,"answer_count":2,"score":2,"last_activity_date":1645444403,"creation_date":1366139742,"question_id":16045246,"body_markdown":"I&#39;m working on a project where a local file is exported via HTTP. This involves getting a file URI, relativizing it using the exported path, tacking it onto the export URI and then handling that as a URL on the receiving end.\r\n\r\nNormally this works fine, but I run into trouble when the filename contains a semicolon. I narrowed it down to here:\r\n\r\n    new File(path).toURI()\r\n\r\nThe above method correctly encodes spaces and the like, but not semicolons (which should be encoded into a %3B). \r\n\r\nUltimately the above method returns the result of the URI constructor (protocol, host, path, fragment), which returns the bad URI. \r\n\r\nI could manually replace all semicolons with %3B, but that doesn&#39;t feel like the best solution. Is there really no built-in API to correctly encode a path?\r\n\r\nMany thanks for any assistance.","title":"Java URI doesn&#39;t encode semicolons in path. Best practice here?","body":"<p>I'm working on a project where a local file is exported via HTTP. This involves getting a file URI, relativizing it using the exported path, tacking it onto the export URI and then handling that as a URL on the receiving end.</p>\n\n<p>Normally this works fine, but I run into trouble when the filename contains a semicolon. I narrowed it down to here:</p>\n\n<pre><code>new File(path).toURI()\n</code></pre>\n\n<p>The above method correctly encodes spaces and the like, but not semicolons (which should be encoded into a %3B). </p>\n\n<p>Ultimately the above method returns the result of the URI constructor (protocol, host, path, fragment), which returns the bad URI. </p>\n\n<p>I could manually replace all semicolons with %3B, but that doesn't feel like the best solution. Is there really no built-in API to correctly encode a path?</p>\n\n<p>Many thanks for any assistance.</p>\n"},{"tags":["java","arraylist","hashmap"],"answers":[{"tags":[],"owner":{"account_id":3906058,"reputation":1357,"user_id":3232746,"accept_rate":100,"display_name":"Normal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645439659,"creation_date":1645438992,"answer_id":71204636,"question_id":71204356,"body_markdown":"Maybe something like this:\r\n\r\n            Map&lt;String, Double&gt; customersSum = new HashMap&lt;&gt;();\r\n            Double maxSum = Double.MIN_VALUE;\r\n            String customerWithMaxSum;\r\n            \r\n            for (Map.Entry&lt;String, List&lt;Double&gt;&gt; entry: customersOrders.entrySet()) {\r\n                String customerId = entry.getKey();\r\n                List&lt;Double&gt; customerOrders = entry.getValue();\r\n                \r\n                Double customerSum = customerOrders.stream().mapToDouble(d -&gt; d).sum();\r\n                customersSum.put(customerId, customerSum);\r\n                \r\n                if (customerSum &gt; maxSum) {\r\n                    maxSum =  customerSum;\r\n                    customerWithMaxSum = customerId;\r\n                }\r\n            }\r\n\r\nAlso could use stream pi for the second part:\r\n\r\n    Optional&lt;String&gt; customerWithMaxSum = customersSum.entrySet()\r\n                    .stream()\r\n                    .max(Comparator.comparingDouble(Map.Entry::getValue))\r\n                    .map(Map.Entry::getKey);\r\n\r\n","title":"How to iterate through ArrayList&lt;Double&gt; values of HashMap?","body":"<p>Maybe something like this:</p>\n<pre><code>        Map&lt;String, Double&gt; customersSum = new HashMap&lt;&gt;();\n        Double maxSum = Double.MIN_VALUE;\n        String customerWithMaxSum;\n        \n        for (Map.Entry&lt;String, List&lt;Double&gt;&gt; entry: customersOrders.entrySet()) {\n            String customerId = entry.getKey();\n            List&lt;Double&gt; customerOrders = entry.getValue();\n            \n            Double customerSum = customerOrders.stream().mapToDouble(d -&gt; d).sum();\n            customersSum.put(customerId, customerSum);\n            \n            if (customerSum &gt; maxSum) {\n                maxSum =  customerSum;\n                customerWithMaxSum = customerId;\n            }\n        }\n</code></pre>\n<p>Also could use stream pi for the second part:</p>\n<pre><code>Optional&lt;String&gt; customerWithMaxSum = customersSum.entrySet()\n                .stream()\n                .max(Comparator.comparingDouble(Map.Entry::getValue))\n                .map(Map.Entry::getKey);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17208480,"reputation":329,"user_id":12458473,"display_name":"Abdullah Khaled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645439006,"creation_date":1645439006,"answer_id":71204641,"question_id":71204356,"body_markdown":"Your logic code is not correct\r\n```java\r\n    for (double orderPrice : orders) {\r\n        if (orderPrice &gt; maxOrder) {\r\n            maxOrder = orderPrice;\r\n        }\r\n    }\r\n```\r\nYou are not adding the prices then comparing with `maxOrder` you instead compare each price with `maxOrder`. this is not what was required in your question.\r\n\r\nYou should do this instead\r\n```java\r\n    double ordersSum = 0;\r\n    for (double orderPrice : orders) {\r\n        ordersSum += orderPrice;\r\n    }\r\n    if (ordersSum &gt; maxOrder) {\r\n        maxOrder = ordersSum;\r\n    }\r\n```\r\nand in your second for loop, you are comparing a double value with an arraylist which should result a compilation error you should compare the sum for products from each custom to `maxOrder`.\r\n\r\nI should note here that this code is not very efficient you can instead loop on keys as you did in the second loop then calculate the sum inside of it and compare to `maxOrder` I will leave this implementation as an exercise for you. ","title":"How to iterate through ArrayList&lt;Double&gt; values of HashMap?","body":"<p>Your logic code is not correct</p>\n<pre class=\"lang-java prettyprint-override\"><code>    for (double orderPrice : orders) {\n        if (orderPrice &gt; maxOrder) {\n            maxOrder = orderPrice;\n        }\n    }\n</code></pre>\n<p>You are not adding the prices then comparing with <code>maxOrder</code> you instead compare each price with <code>maxOrder</code>. this is not what was required in your question.</p>\n<p>You should do this instead</p>\n<pre class=\"lang-java prettyprint-override\"><code>    double ordersSum = 0;\n    for (double orderPrice : orders) {\n        ordersSum += orderPrice;\n    }\n    if (ordersSum &gt; maxOrder) {\n        maxOrder = ordersSum;\n    }\n</code></pre>\n<p>and in your second for loop, you are comparing a double value with an arraylist which should result a compilation error you should compare the sum for products from each custom to <code>maxOrder</code>.</p>\n<p>I should note here that this code is not very efficient you can instead loop on keys as you did in the second loop then calculate the sum inside of it and compare to <code>maxOrder</code> I will leave this implementation as an exercise for you.</p>\n"},{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645439074,"creation_date":1645439074,"answer_id":71204654,"question_id":71204356,"body_markdown":"You could create another `HashMap` which keeps your sums and then find the maximum of them.\r\n\r\nFirst iterate through all your `HashMap` keys and find the sums for each customer like this:\r\n\r\n```java\r\nHashMap&lt;String, ArrayList&lt;Double&gt;&gt; customerOrders = new HashMap&lt;&gt;();\r\n// Fill your HashMap as you&#39;ve done above\r\n\r\nHashMap&lt;String, Double&gt; customerSums = new HashMap&lt;&gt;(); // The new HashMap that keeps the sums\r\n\r\nfor (String customerName : customerOrders.keySet()) // Foreach customer\r\n{\r\n    double currentSum = 0;\r\n    for (Double aDouble : customerOrders.get(customerName)) \r\n    {\r\n        currentSum += aDouble; // Sum the orders\r\n    }\r\n    \r\n    customerSums.put(customerName, currentSum); // Put the sum in your new HashMap\r\n    \r\n}\r\n```\r\n\r\nNow finding the maximum should be very straightforward. Try to do that :D","title":"How to iterate through ArrayList&lt;Double&gt; values of HashMap?","body":"<p>You could create another <code>HashMap</code> which keeps your sums and then find the maximum of them.</p>\n<p>First iterate through all your <code>HashMap</code> keys and find the sums for each customer like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HashMap&lt;String, ArrayList&lt;Double&gt;&gt; customerOrders = new HashMap&lt;&gt;();\n// Fill your HashMap as you've done above\n\nHashMap&lt;String, Double&gt; customerSums = new HashMap&lt;&gt;(); // The new HashMap that keeps the sums\n\nfor (String customerName : customerOrders.keySet()) // Foreach customer\n{\n    double currentSum = 0;\n    for (Double aDouble : customerOrders.get(customerName)) \n    {\n        currentSum += aDouble; // Sum the orders\n    }\n    \n    customerSums.put(customerName, currentSum); // Put the sum in your new HashMap\n    \n}\n</code></pre>\n<p>Now finding the maximum should be very straightforward. Try to do that :D</p>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645444358,"creation_date":1645444358,"answer_id":71205878,"question_id":71204356,"body_markdown":"You are iterating over the values in the `orders` Map.  This doesn&#39;t tell you who that is associated with.  Instead, you could iterate over the keyset or entryset, calculate the sum for that customer, and compare this to a running maximum.  Since you specified using for-loops, the following excludes use of the Stream API.\r\n\r\n    String maxOrderCustomer = null;\r\n    double maxOrder = 0.0;\r\n    for (Map.EntrySet&lt;String,List&lt;Double&gt;&gt; entry : customerOrders.entrySet()) {\r\n      Double sum = 0.0;\r\n      for (Double order : entry.getValue();\r\n        sum += order;\r\n      }\r\n      if (order &gt; maxOrder) {\r\n        maxOrder = order;\r\n        maxOrderCustomer = entry.getKey();\r\n      }\r\n    }\r\n\r\nAt this point, you will have the name of the customer with the largest sum and that sum value.  If you want to display the relevant list of orders, you can use the name to pull the list from the original Map.","title":"How to iterate through ArrayList&lt;Double&gt; values of HashMap?","body":"<p>You are iterating over the values in the <code>orders</code> Map.  This doesn't tell you who that is associated with.  Instead, you could iterate over the keyset or entryset, calculate the sum for that customer, and compare this to a running maximum.  Since you specified using for-loops, the following excludes use of the Stream API.</p>\n<pre><code>String maxOrderCustomer = null;\ndouble maxOrder = 0.0;\nfor (Map.EntrySet&lt;String,List&lt;Double&gt;&gt; entry : customerOrders.entrySet()) {\n  Double sum = 0.0;\n  for (Double order : entry.getValue();\n    sum += order;\n  }\n  if (order &gt; maxOrder) {\n    maxOrder = order;\n    maxOrderCustomer = entry.getKey();\n  }\n}\n</code></pre>\n<p>At this point, you will have the name of the customer with the largest sum and that sum value.  If you want to display the relevant list of orders, you can use the name to pull the list from the original Map.</p>\n"}],"owner":{"display_name":"user15270187"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71204654,"answer_count":4,"score":0,"last_activity_date":1645444358,"creation_date":1645437837,"question_id":71204356,"body_markdown":"A question from a total newbie. Sorry.\r\n\r\nI have this `customersOrders` `HashMap` that takes `String` as keys and `ArrayList&lt;Double&gt;` as values. I need to find the total sum of orders for each customer and the maximum total sum in order to find the biggest customer. How do I manage to do that using just nested `For` loops and `HashMap` methods? I&#39;m totally stuck on that.\r\n\r\n```\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        HashMap&lt;String, ArrayList&lt;Double&gt;&gt; customersOrders;\r\n\r\n        customersOrders = new HashMap&lt;&gt;();\r\n        ArrayList&lt;Double&gt; orders = new ArrayList&lt;&gt;();\r\n        orders.add(55.50);\r\n        orders.add(78.30);\r\n        orders.add(124.75);\r\n        customersOrders.put(&quot;John&quot;, orders);\r\n\r\n        orders = new ArrayList&lt;&gt;();\r\n        orders.add(28.35);\r\n        orders.add(37.40);\r\n        customersOrders.put(&quot;Helen&quot;, orders);\r\n\r\n        orders = new ArrayList&lt;&gt;();\r\n        orders.add(150.10);\r\n        customersOrders.put(&quot;Thomas&quot;, orders);\r\n\r\n        orders = new ArrayList&lt;&gt;();\r\n        orders.add(230.45);\r\n        orders.add(347.20);\r\n        customersOrders.put(&quot;Robert&quot;, orders);\r\n\r\n        orders = new ArrayList&lt;&gt;();\r\n        orders.add(530.25);\r\n        orders.add(325.40);\r\n        orders.add(11550.70);\r\n        orders.add(2480.65);\r\n        customersOrders.put(&quot;Jennifer&quot;, orders);\r\n\r\n        System.out.println(customersOrders);\r\n\r\n    }\r\n}\r\n```\r\nSo far I&#39;ve been trying to do something like this but obviously with no success:\r\n\r\n```\r\ndouble maxOrder = 0;\r\nString customerName = &quot;&quot;;\r\n\r\nfor (ArrayList&lt;Double&gt; orders : customersOrders.values()) {\r\n    for (double orderPrice : orders) {\r\n        if (orderPrice &gt; maxOrder) {\r\n            maxOrder = orderPrice;\r\n        }\r\n    }\r\n}\r\n        \r\nfor (String name : customersOrders.keySet()) {\r\n    if (maxOrder.equals(customersOrders.get(name))) {\r\n        customerName = name;\r\n        break;\r\n    }\r\n}\r\n```\r\n\r\n  ","title":"How to iterate through ArrayList&lt;Double&gt; values of HashMap?","body":"<p>A question from a total newbie. Sorry.</p>\n<p>I have this <code>customersOrders</code> <code>HashMap</code> that takes <code>String</code> as keys and <code>ArrayList&lt;Double&gt;</code> as values. I need to find the total sum of orders for each customer and the maximum total sum in order to find the biggest customer. How do I manage to do that using just nested <code>For</code> loops and <code>HashMap</code> methods? I'm totally stuck on that.</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n\n        HashMap&lt;String, ArrayList&lt;Double&gt;&gt; customersOrders;\n\n        customersOrders = new HashMap&lt;&gt;();\n        ArrayList&lt;Double&gt; orders = new ArrayList&lt;&gt;();\n        orders.add(55.50);\n        orders.add(78.30);\n        orders.add(124.75);\n        customersOrders.put(&quot;John&quot;, orders);\n\n        orders = new ArrayList&lt;&gt;();\n        orders.add(28.35);\n        orders.add(37.40);\n        customersOrders.put(&quot;Helen&quot;, orders);\n\n        orders = new ArrayList&lt;&gt;();\n        orders.add(150.10);\n        customersOrders.put(&quot;Thomas&quot;, orders);\n\n        orders = new ArrayList&lt;&gt;();\n        orders.add(230.45);\n        orders.add(347.20);\n        customersOrders.put(&quot;Robert&quot;, orders);\n\n        orders = new ArrayList&lt;&gt;();\n        orders.add(530.25);\n        orders.add(325.40);\n        orders.add(11550.70);\n        orders.add(2480.65);\n        customersOrders.put(&quot;Jennifer&quot;, orders);\n\n        System.out.println(customersOrders);\n\n    }\n}\n</code></pre>\n<p>So far I've been trying to do something like this but obviously with no success:</p>\n<pre><code>double maxOrder = 0;\nString customerName = &quot;&quot;;\n\nfor (ArrayList&lt;Double&gt; orders : customersOrders.values()) {\n    for (double orderPrice : orders) {\n        if (orderPrice &gt; maxOrder) {\n            maxOrder = orderPrice;\n        }\n    }\n}\n        \nfor (String name : customersOrders.keySet()) {\n    if (maxOrder.equals(customersOrders.get(name))) {\n        customerName = name;\n        break;\n    }\n}\n</code></pre>\n"},{"tags":["java","classnotfoundexception","classloading"],"answers":[{"tags":[],"owner":{"account_id":12846080,"reputation":51,"user_id":9292423,"display_name":"Haroon Rawat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645444225,"creation_date":1645444225,"answer_id":71205845,"question_id":71197848,"body_markdown":"it&#39;s was a Bug in vaadin check the page\r\nhttps://floriansblog.wordpress.com/2015/04/30/vaadin-osgi-managing-the-classloader/","title":"java.lang.ClassNotFoundException raised while the same is shown as loaded in -verbose logs and also present in the OSGI Bundle jar file","body":"<p>it's was a Bug in vaadin check the page\n<a href=\"https://floriansblog.wordpress.com/2015/04/30/vaadin-osgi-managing-the-classloader/\" rel=\"nofollow noreferrer\">https://floriansblog.wordpress.com/2015/04/30/vaadin-osgi-managing-the-classloader/</a></p>\n"}],"owner":{"account_id":24321380,"reputation":1,"user_id":18261718,"display_name":"Sumit Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645444225,"creation_date":1645384354,"question_id":71197848,"body_markdown":"I have an existing Maven project working fine on a java version 1.8.0_241. But this supports vaadin version 7.2.6 and is needed to upgrade to vaadin 8 along with the compatibilty package. After making the necessary changes all the compilation issue are resolved but during execution, we are **facing a ClassNotFoundException for one of our class GuiBaseApplication**. But the class file was present in the OSGI Bundle guibase-2.2.4-SNAPSHOT.jar being used.\r\n\r\nThis class is an abstract class extending one class and implementing another class.\r\n```\r\npublic abstract class GuiBaseApplication extends UI implements CrumbTrail\r\n{\r\n    -\r\n    -\r\n}\r\n```\r\n\r\nBut when we took the -verbose logs, then could see that class was loaded once as below log.\r\n\r\n        **[Loaded com.product.rm.common.guibase.GuiBaseApplication from file:/home/user/bcd/com.product.bss.vaadin/target/guibase-2.2.4-SNAPSHOT.jar]**\r\n\r\nUptill now the **Web GUI HTTP server was up and running.** \r\n\r\nThen trying to connect via the browser, the below error was displayed.\r\n```\r\nHTTP ERROR 500 javax.servlet.ServletException: com.vaadin.server.ServiceException: com.vaadin.server.ServiceException: com.product.rm.common.guibase.GuiBaseApplication could not be loaded\r\nURI:    /gui\r\nSTATUS: 500\r\nMESSAGE:        javax.servlet.ServletException: com.vaadin.server.ServiceException: com.vaadin.server.ServiceException: com.product.rm.common.guibase.GuiBaseApplication could not be loaded\r\nSERVLET:        com.product.rm.bcd.server.webgui.ApplicationServlet-27a56cca\r\nCAUSED BY:      javax.servlet.ServletException: com.vaadin.server.ServiceException: com.vaadin.server.ServiceException: com.product.rm.common.guibase.GuiBaseApplication could not be loaded\r\nCAUSED BY:      com.vaadin.server.ServiceException: com.vaadin.server.ServiceException: com.product.rm.common.guibase.GuiBaseApplication could not be loaded\r\nCAUSED BY:      com.vaadin.server.ServiceException: com.product.rm.common.guibase.GuiBaseApplication could not be loaded\r\nCAUSED BY:      java.lang.ClassNotFoundException: com.product.rm.common.guibase.GuiBaseApplication\r\n```\r\n\r\nChecking on the existing and working version, we could see that this class is loaded two more times as below but with $1 and $2 sign.\r\n```\r\n[Loaded com.product.rm.common.guibase.GuiBaseApplication$1 from file:/home/user/bcd/com.product.bss.vaadin/target/guibase-2.2.3-SNAPSHOT.jar]\r\n[Loaded com.product.rm.common.guibase.GuiBaseApplication$2 from file:/home/user/bcd/com.product.bss.vaadin/target/guibase-2.2.3-SNAPSHOT.jar]\r\n```\r\n\r\nWe checked and confirmed that these 2 classes are GuiBaseApplication$1 and GuiBaseApplication$2 are present in the guibase-2.2.4-SNAPSHOT.jar file but still class loading issue is there.\r\n\r\nIt will be very helpful if we get some directions for where to look further. What we can try to identify the cause and then resolve the issue.","title":"java.lang.ClassNotFoundException raised while the same is shown as loaded in -verbose logs and also present in the OSGI Bundle jar file","body":"<p>I have an existing Maven project working fine on a java version 1.8.0_241. But this supports vaadin version 7.2.6 and is needed to upgrade to vaadin 8 along with the compatibilty package. After making the necessary changes all the compilation issue are resolved but during execution, we are <strong>facing a ClassNotFoundException for one of our class GuiBaseApplication</strong>. But the class file was present in the OSGI Bundle guibase-2.2.4-SNAPSHOT.jar being used.</p>\n<p>This class is an abstract class extending one class and implementing another class.</p>\n<pre><code>public abstract class GuiBaseApplication extends UI implements CrumbTrail\n{\n    -\n    -\n}\n</code></pre>\n<p>But when we took the -verbose logs, then could see that class was loaded once as below log.</p>\n<pre><code>    **[Loaded com.product.rm.common.guibase.GuiBaseApplication from file:/home/user/bcd/com.product.bss.vaadin/target/guibase-2.2.4-SNAPSHOT.jar]**\n</code></pre>\n<p>Uptill now the <strong>Web GUI HTTP server was up and running.</strong></p>\n<p>Then trying to connect via the browser, the below error was displayed.</p>\n<pre><code>HTTP ERROR 500 javax.servlet.ServletException: com.vaadin.server.ServiceException: com.vaadin.server.ServiceException: com.product.rm.common.guibase.GuiBaseApplication could not be loaded\nURI:    /gui\nSTATUS: 500\nMESSAGE:        javax.servlet.ServletException: com.vaadin.server.ServiceException: com.vaadin.server.ServiceException: com.product.rm.common.guibase.GuiBaseApplication could not be loaded\nSERVLET:        com.product.rm.bcd.server.webgui.ApplicationServlet-27a56cca\nCAUSED BY:      javax.servlet.ServletException: com.vaadin.server.ServiceException: com.vaadin.server.ServiceException: com.product.rm.common.guibase.GuiBaseApplication could not be loaded\nCAUSED BY:      com.vaadin.server.ServiceException: com.vaadin.server.ServiceException: com.product.rm.common.guibase.GuiBaseApplication could not be loaded\nCAUSED BY:      com.vaadin.server.ServiceException: com.product.rm.common.guibase.GuiBaseApplication could not be loaded\nCAUSED BY:      java.lang.ClassNotFoundException: com.product.rm.common.guibase.GuiBaseApplication\n</code></pre>\n<p>Checking on the existing and working version, we could see that this class is loaded two more times as below but with $1 and $2 sign.</p>\n<pre><code>[Loaded com.product.rm.common.guibase.GuiBaseApplication$1 from file:/home/user/bcd/com.product.bss.vaadin/target/guibase-2.2.3-SNAPSHOT.jar]\n[Loaded com.product.rm.common.guibase.GuiBaseApplication$2 from file:/home/user/bcd/com.product.bss.vaadin/target/guibase-2.2.3-SNAPSHOT.jar]\n</code></pre>\n<p>We checked and confirmed that these 2 classes are GuiBaseApplication$1 and GuiBaseApplication$2 are present in the guibase-2.2.4-SNAPSHOT.jar file but still class loading issue is there.</p>\n<p>It will be very helpful if we get some directions for where to look further. What we can try to identify the cause and then resolve the issue.</p>\n"},{"tags":["java","eclipse","google-app-engine","maven","intellij-idea"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1418012195,"post_id":27351090,"comment_id":43156687,"body_markdown":"Are you setting the breakpoint, in both cases, *after* attaching?","body":"Are you setting the breakpoint, in both cases, <i>after</i> attaching?"},{"owner":{"account_id":42425,"reputation":3051,"user_id":123592,"accept_rate":59,"display_name":"Shane"},"score":0,"creation_date":1418025960,"post_id":27351090,"comment_id":43160772,"body_markdown":"Doesn&#39;t seem to make a difference :\\","body":"Doesn&#39;t seem to make a difference :\\"},{"owner":{"account_id":1439626,"reputation":521,"user_id":1360143,"accept_rate":100,"display_name":"datta"},"score":0,"creation_date":1430972138,"post_id":27351090,"comment_id":48296202,"body_markdown":"I have a similar problem and my question is here http://stackoverflow.com/questions/30088083/intellij-debugger-does-not-stop-at-breakpoints","body":"I have a similar problem and my question is here <a href=\"http://stackoverflow.com/questions/30088083/intellij-debugger-does-not-stop-at-breakpoints\" title=\"intellij debugger does not stop at breakpoints\">stackoverflow.com/questions/30088083/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1439626,"reputation":521,"user_id":1360143,"accept_rate":100,"display_name":"datta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431118625,"creation_date":1431118625,"answer_id":30132739,"question_id":27351090,"body_markdown":"I am not sure if this question is still active.\r\n\r\nI think you may have had the same problem I had.&lt;https://stackoverflow.com/questions/30088083/intellij-debugger-does-not-stop-at-breakpoints&gt; \r\n\r\nAre you sure your server is exposing the 8000 port for debugger to listen when it started. You should provide those JVM parameters if it is not.","title":"IntelliJ debugger not hitting breakpoints in a Maven Java Google App Engine project (Eclipse works)","body":"<p>I am not sure if this question is still active.</p>\n\n<p>I think you may have had the same problem I had.<a href=\"https://stackoverflow.com/questions/30088083/intellij-debugger-does-not-stop-at-breakpoints\">Intellij debugger does not stop at breakpoints</a> </p>\n\n<p>Are you sure your server is exposing the 8000 port for debugger to listen when it started. You should provide those JVM parameters if it is not.</p>\n"},{"tags":[],"owner":{"account_id":541510,"reputation":2306,"user_id":910095,"display_name":"Nikola Mihajlović"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524954099,"creation_date":1524953576,"answer_id":50081525,"question_id":27351090,"body_markdown":"I have managed to get it working as follows:\r\n\r\n- Add JVM flags to Maven/Gradle as suggested by IntelliJ.\r\n- Do not use remote (as suggested by GAE documentation). Instead, **debug** `appengineRun` Gradle task (similar for Maven). \r\n- Once it is up and running, hit Run/Attach to a Local Process.\r\n\r\n**BAM!** The debugger is attached, breakpoint hit and app suspended","title":"IntelliJ debugger not hitting breakpoints in a Maven Java Google App Engine project (Eclipse works)","body":"<p>I have managed to get it working as follows:</p>\n\n<ul>\n<li>Add JVM flags to Maven/Gradle as suggested by IntelliJ.</li>\n<li>Do not use remote (as suggested by GAE documentation). Instead, <strong>debug</strong> <code>appengineRun</code> Gradle task (similar for Maven). </li>\n<li>Once it is up and running, hit Run/Attach to a Local Process.</li>\n</ul>\n\n<p><strong>BAM!</strong> The debugger is attached, breakpoint hit and app suspended</p>\n"},{"tags":[],"owner":{"account_id":2705448,"reputation":130,"user_id":2335143,"accept_rate":40,"display_name":"Nariman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645444134,"creation_date":1645444134,"answer_id":71205824,"question_id":27351090,"body_markdown":"it is old question for sure, but this is the answer:\r\n\r\nmake sure you have in the maven run config `-DforkCount=0 -DreuseForks=false`  \r\n\r\nsource:\r\nhttps://intellij-support.jetbrains.com/hc/en-us/community/posts/206825095-Breakpoints-don-t-work-when-debugging-maven-project-","title":"IntelliJ debugger not hitting breakpoints in a Maven Java Google App Engine project (Eclipse works)","body":"<p>it is old question for sure, but this is the answer:</p>\n<p>make sure you have in the maven run config <code>-DforkCount=0 -DreuseForks=false</code></p>\n<p>source:\n<a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/206825095-Breakpoints-don-t-work-when-debugging-maven-project-\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/206825095-Breakpoints-don-t-work-when-debugging-maven-project-</a></p>\n"}],"owner":{"account_id":42425,"reputation":3051,"user_id":123592,"accept_rate":59,"display_name":"Shane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2810,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1645444134,"creation_date":1418010270,"question_id":27351090,"body_markdown":"So I&#39;m starting to pull my hair out here. IntelliJ just doesn&#39;t want to trigger breakpoints, whereas Eclipse works just fine. I never thought I&#39;d say that sentence :|\r\n\r\nHere&#39;s my example:\r\n\r\n-  Create a clean new GAE project from the classic example [Google Guestbook archetype][1]\r\n\r\n&gt; mvn archetype:generate -Dappengine-version=1.9.15\r\n&gt; -Dapplication-id=your-app-id -Dfilter=com.google.appengine.archetypes:guestbook-archetype\r\n\r\n- Uncomment the suggested lines in the pom.xml to allow remote debugging\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n                &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.9.15&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;enableJarClasses&gt;false&lt;/enableJarClasses&gt;\r\n                    &lt;!-- Comment in the below snippet to bind to all IPs instead of just localhost --&gt;\r\n                    &lt;!-- address&gt;0.0.0.0&lt;/address&gt;\r\n                    &lt;port&gt;8080&lt;/port --&gt;\r\n                    &lt;!-- Comment in the below snippet to enable local debugging with a remove debugger\r\n                    like those included with Eclipse or IntelliJ --&gt;\r\n                    &lt;jvmFlags&gt;\r\n                        &lt;jvmFlag&gt;-agentlib:jdwp=transport=dt_socket,address=8000,server=y,suspend=n&lt;/jvmFlag&gt;\r\n                    &lt;/jvmFlags&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\n- Run the devserver goal (which compiles, tests and runs the GAE environment)\r\n\r\n&gt; mvn appengine:devserver\r\n\r\n**(ECLIPSE: WORKING CASE)**\r\n\r\n- Fire up Eclipse Juno and import the project as a Maven project.\r\n- Create a &quot;Remote Java Application&quot; Debug configuration\r\n![enter image description here][2]\r\n- Set a breakpoint, Debug the app using the Remote config and BAM, breakpoint hit and app stops. As expected.\r\n\r\n**(INTELLIJ 14: *FAIL* CASE)**\r\n\r\n- Fire up INTELLIJ and import the project as a Maven project\r\n- Create a &quot;Remote Java Application&quot; Debug profile\r\n![enter image description here][3]\r\n- Set a breakpoint, Debug the app using the Remote config and BAM, breakpoint **FAILS** to trigger.\r\n\r\nOther than the different IDEs, there is no difference in the project setup. This tells me I must be doing something wrong in IntelliJ, but I honestly don&#39;t know what.\r\n\r\nIt just works in Eclipse and doesn&#39;t in IntelliJ. :|\r\n\r\nAny ideas?\r\n\r\n-- Shane\r\n\r\n\r\n  [1]: https://cloud.google.com/appengine/docs/java/tools/maven#maven_app_engine_archetypes\r\n  [2]: http://i.stack.imgur.com/JdPuF.jpg\r\n  [3]: http://i.stack.imgur.com/2oMnh.jpg","title":"IntelliJ debugger not hitting breakpoints in a Maven Java Google App Engine project (Eclipse works)","body":"<p>So I'm starting to pull my hair out here. IntelliJ just doesn't want to trigger breakpoints, whereas Eclipse works just fine. I never thought I'd say that sentence :|</p>\n\n<p>Here's my example:</p>\n\n<ul>\n<li>Create a clean new GAE project from the classic example <a href=\"https://cloud.google.com/appengine/docs/java/tools/maven#maven_app_engine_archetypes\" rel=\"nofollow noreferrer\">Google Guestbook archetype</a></li>\n</ul>\n\n<blockquote>\n  <p>mvn archetype:generate -Dappengine-version=1.9.15\n  -Dapplication-id=your-app-id -Dfilter=com.google.appengine.archetypes:guestbook-archetype</p>\n</blockquote>\n\n<ul>\n<li><p>Uncomment the suggested lines in the pom.xml to allow remote debugging</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.9.15&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;enableJarClasses&gt;false&lt;/enableJarClasses&gt;\n            &lt;!-- Comment in the below snippet to bind to all IPs instead of just localhost --&gt;\n            &lt;!-- address&gt;0.0.0.0&lt;/address&gt;\n            &lt;port&gt;8080&lt;/port --&gt;\n            &lt;!-- Comment in the below snippet to enable local debugging with a remove debugger\n            like those included with Eclipse or IntelliJ --&gt;\n            &lt;jvmFlags&gt;\n                &lt;jvmFlag&gt;-agentlib:jdwp=transport=dt_socket,address=8000,server=y,suspend=n&lt;/jvmFlag&gt;\n            &lt;/jvmFlags&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre></li>\n<li><p>Run the devserver goal (which compiles, tests and runs the GAE environment)</p></li>\n</ul>\n\n<blockquote>\n  <p>mvn appengine:devserver</p>\n</blockquote>\n\n<p><strong>(ECLIPSE: WORKING CASE)</strong></p>\n\n<ul>\n<li>Fire up Eclipse Juno and import the project as a Maven project.</li>\n<li>Create a \"Remote Java Application\" Debug configuration\n<img src=\"https://i.stack.imgur.com/JdPuF.jpg\" alt=\"enter image description here\"></li>\n<li>Set a breakpoint, Debug the app using the Remote config and BAM, breakpoint hit and app stops. As expected.</li>\n</ul>\n\n<p><strong>(INTELLIJ 14: <em>FAIL</em> CASE)</strong></p>\n\n<ul>\n<li>Fire up INTELLIJ and import the project as a Maven project</li>\n<li>Create a \"Remote Java Application\" Debug profile\n<img src=\"https://i.stack.imgur.com/2oMnh.jpg\" alt=\"enter image description here\"></li>\n<li>Set a breakpoint, Debug the app using the Remote config and BAM, breakpoint <strong>FAILS</strong> to trigger.</li>\n</ul>\n\n<p>Other than the different IDEs, there is no difference in the project setup. This tells me I must be doing something wrong in IntelliJ, but I honestly don't know what.</p>\n\n<p>It just works in Eclipse and doesn't in IntelliJ. :|</p>\n\n<p>Any ideas?</p>\n\n<p>-- Shane</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1645437779,"post_id":71204321,"comment_id":125862740,"body_markdown":"You are not updating Spring, but Spring Boot.","body":"You are not updating Spring, but Spring Boot."}],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645444118,"creation_date":1645444118,"answer_id":71205820,"question_id":71204321,"body_markdown":"Spring Data Elasticsearch does not build any aggregation in it&#39;s code by itself, so this must be referenced somewhere else when creating a `NativeSearchQuery` - that&#39;s the only way to build an aggregation request in Spring Data Elasticsearch. Do you include other libraries that might create some requests?    \r\nThe requested class btw is in the package `org.elasticsearch.search.aggregations.metrics`. \r\n\r\nSpring Boot 2.0 was using Spring Data Elasticsearch 3.0.x and Elasticsearch 5.5.0 whereas Spring Boot 2.3 uses Spring Data Elasticsearch 4.0.x and Elasticsearch 7.6. I suppose that the package changed in Elasticsearch during 5.5 and 7.6.\r\n\r\n","title":"java.lang.NoClassDefFoundError: org/elasticsearch/search/aggregations/metrics/max/MaxAggregationBuilder","body":"<p>Spring Data Elasticsearch does not build any aggregation in it's code by itself, so this must be referenced somewhere else when creating a <code>NativeSearchQuery</code> - that's the only way to build an aggregation request in Spring Data Elasticsearch. Do you include other libraries that might create some requests?<br />\nThe requested class btw is in the package <code>org.elasticsearch.search.aggregations.metrics</code>.</p>\n<p>Spring Boot 2.0 was using Spring Data Elasticsearch 3.0.x and Elasticsearch 5.5.0 whereas Spring Boot 2.3 uses Spring Data Elasticsearch 4.0.x and Elasticsearch 7.6. I suppose that the package changed in Elasticsearch during 5.5 and 7.6.</p>\n"}],"owner":{"account_id":17208480,"reputation":329,"user_id":12458473,"display_name":"Abdullah Khaled"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":685,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645444118,"creation_date":1645437697,"question_id":71204321,"body_markdown":"I&#39;m upgrading my application from spring-boot 2.0 to 2.3 then I found this error regarding elastic search \r\n```\r\njava.lang.NoClassDefFoundError: org/elasticsearch/search/aggregations/metrics/max/MaxAggregationBuilder\r\n\tat java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:1.8.0_111]\r\n\tat java.lang.Class.privateGetDeclaredConstructors(Class.java:2671) ~[na:1.8.0_111]\r\n\tat java.lang.Class.getDeclaredConstructors(Class.java:2020) ~[na:1.8.0_111]\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBindConstructorProvider.findConstructorBindingAnnotatedConstructor(ConfigurationPropertiesBindConstructorProvider.java:62) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBindConstructorProvider.getBindConstructor(ConfigurationPropertiesBindConstructorProvider.java:48) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBean$BindMethod.forType(ConfigurationPropertiesBean.java:311) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBeanDefinitionValidator.validate(ConfigurationPropertiesBeanDefinitionValidator.java:63) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBeanDefinitionValidator.postProcessBeanFactory(ConfigurationPropertiesBeanDefinitionValidator.java:45) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:291) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:175) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n\tat com.lms.firebaseNotification.FireBaseNotification.main(FireBaseNotification.java:22) [classes!/:0.0.1-SNAPSHOT]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [app.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:109) [app.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [app.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [app.jar:0.0.1-SNAPSHOT]\r\nCaused by: java.lang.ClassNotFoundException: org.elasticsearch.search.aggregations.metrics.max.MaxAggregationBuilder\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[na:1.8.0_111]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_111]\r\n\tat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:129) ~[app.jar:0.0.1-SNAPSHOT]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_111]\r\n\t... 28 common frames omitted\r\n```\r\nWhen I searched online I found [this question](https://stackoverflow.com/questions/58266367/elasticsearch-library-in-java-not-able-to-find-aggregationbuilders-sum-method) but my case is a little different I don&#39;t use `MaxAggregationBuilder` explicitly anywhere in my code so it is probably hidden in abstractions somewhere.\r\n\r\n**Note:** I didn&#39;t specifiy `spring-data-elasticserch`&#39;s version explicitly, I know it should be 4.x, but I left that to the spring boot parent, so I don&#39;t think it is a dependency problem but I don&#39;t know.","title":"java.lang.NoClassDefFoundError: org/elasticsearch/search/aggregations/metrics/max/MaxAggregationBuilder","body":"<p>I'm upgrading my application from spring-boot 2.0 to 2.3 then I found this error regarding elastic search</p>\n<pre><code>java.lang.NoClassDefFoundError: org/elasticsearch/search/aggregations/metrics/max/MaxAggregationBuilder\n    at java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:1.8.0_111]\n    at java.lang.Class.privateGetDeclaredConstructors(Class.java:2671) ~[na:1.8.0_111]\n    at java.lang.Class.getDeclaredConstructors(Class.java:2020) ~[na:1.8.0_111]\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBindConstructorProvider.findConstructorBindingAnnotatedConstructor(ConfigurationPropertiesBindConstructorProvider.java:62) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBindConstructorProvider.getBindConstructor(ConfigurationPropertiesBindConstructorProvider.java:48) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBean$BindMethod.forType(ConfigurationPropertiesBean.java:311) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBeanDefinitionValidator.validate(ConfigurationPropertiesBeanDefinitionValidator.java:63) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBeanDefinitionValidator.postProcessBeanFactory(ConfigurationPropertiesBeanDefinitionValidator.java:45) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:291) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:175) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n    at com.lms.firebaseNotification.FireBaseNotification.main(FireBaseNotification.java:22) [classes!/:0.0.1-SNAPSHOT]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [app.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:109) [app.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [app.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [app.jar:0.0.1-SNAPSHOT]\nCaused by: java.lang.ClassNotFoundException: org.elasticsearch.search.aggregations.metrics.max.MaxAggregationBuilder\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[na:1.8.0_111]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_111]\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:129) ~[app.jar:0.0.1-SNAPSHOT]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_111]\n    ... 28 common frames omitted\n</code></pre>\n<p>When I searched online I found <a href=\"https://stackoverflow.com/questions/58266367/elasticsearch-library-in-java-not-able-to-find-aggregationbuilders-sum-method\">this question</a> but my case is a little different I don't use <code>MaxAggregationBuilder</code> explicitly anywhere in my code so it is probably hidden in abstractions somewhere.</p>\n<p><strong>Note:</strong> I didn't specifiy <code>spring-data-elasticserch</code>'s version explicitly, I know it should be 4.x, but I left that to the spring boot parent, so I don't think it is a dependency problem but I don't know.</p>\n"},{"tags":["java","session","servlets","filter","chained"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645444768,"post_id":71205774,"comment_id":125865344,"body_markdown":"It is two different applications? They run in different VMs. How do you want they to share something? You need to send something like a JWT so the other application can retrieve information over the logged in user.","body":"It is two different applications? They run in different VMs. How do you want they to share something? You need to send something like a JWT so the other application can retrieve information over the logged in user."},{"owner":{"account_id":15144244,"reputation":11,"user_id":10928451,"display_name":"EBruno"},"score":0,"creation_date":1645444828,"post_id":71205774,"comment_id":125865358,"body_markdown":"Hi, pringi, Thanks for your response.  In fact, Application A retrieve a request and call application B. Application B takes some actions and call another service of Application A. So, I&#39;m not sure, the session has to be destroyed.","body":"Hi, pringi, Thanks for your response.  In fact, Application A retrieve a request and call application B. Application B takes some actions and call another service of Application A. So, I&#39;m not sure, the session has to be destroyed."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645445065,"post_id":71205774,"comment_id":125865446,"body_markdown":"On possible solution: https://www.baeldung.com/java-json-web-tokens-jjwt.","body":"On possible solution: <a href=\"https://www.baeldung.com/java-json-web-tokens-jjwt\" rel=\"nofollow noreferrer\">baeldung.com/java-json-web-tokens-jjwt</a>."},{"owner":{"account_id":15144244,"reputation":11,"user_id":10928451,"display_name":"EBruno"},"score":0,"creation_date":1645446174,"post_id":71205774,"comment_id":125865831,"body_markdown":"The login flow between Application A and B works already fine. The only things I want is to allow a user to send a value on parameter (first request on application A) and allow the  second call on application A (after the login process on application B) to retrieve the same value.","body":"The login flow between Application A and B works already fine. The only things I want is to allow a user to send a value on parameter (first request on application A) and allow the  second call on application A (after the login process on application B) to retrieve the same value."},{"owner":{"account_id":15144244,"reputation":11,"user_id":10928451,"display_name":"EBruno"},"score":0,"creation_date":1645446319,"post_id":71205774,"comment_id":125865891,"body_markdown":"ps : it is not a spring application and I don&#39;t have access to application B","body":"ps : it is not a spring application and I don&#39;t have access to application B"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645446596,"post_id":71205774,"comment_id":125865983,"body_markdown":"You cannot use session for that ( httpServletRequest.getSession().setAttribute(URL, value);) because they are two different applications. You need to pass the parameter in your call to the login system. Something like: new URI(the login system?url=value). Unless other mechanism is used (like a distributed cache, a database or something else where you have a key that is passed in each request and you can later retrieve the respective value (like jsessionId) , you need to send in each request between apps the &quot;session&quot; values. Something like it is done in JWT that represents the &quot;session&quot;.","body":"You cannot use session for that ( httpServletRequest.getSession().setAttribute(URL, value);) because they are two different applications. You need to pass the parameter in your call to the login system. Something like: new URI(the login system?url=value). Unless other mechanism is used (like a distributed cache, a database or something else where you have a key that is passed in each request and you can later retrieve the respective value (like jsessionId) , you need to send in each request between apps the &quot;session&quot; values. Something like it is done in JWT that represents the &quot;session&quot;."},{"owner":{"account_id":15144244,"reputation":11,"user_id":10928451,"display_name":"EBruno"},"score":0,"creation_date":1645448734,"post_id":71205774,"comment_id":125866820,"body_markdown":"Maybe I&#39;m wrong, but what about a cookie solution in this case? I mean, if in place of put my value on the session, I put the value on a cookie, is-it better? As the cookie will be created and read on the application A, it should work, no?","body":"Maybe I&#39;m wrong, but what about a cookie solution in this case? I mean, if in place of put my value on the session, I put the value on a cookie, is-it better? As the cookie will be created and read on the application A, it should work, no?"}],"owner":{"account_id":15144244,"reputation":11,"user_id":10928451,"display_name":"EBruno"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645443903,"creation_date":1645443903,"question_id":71205774,"body_markdown":"I&#39;m facing an issue in a new application I&#39;m working on it.\r\nI made a new entry point (used for a non logged user) and I want to store a value in the user session (value comes from a path param).\r\n\r\nSo, my entry point like this :\r\n\r\n    @GET\r\n    @Path(MYPATH + &quot;/{&quot; + VALUE + &quot;}&quot;)\r\n    public Response myEntryPoint(@PathParam(VALUE) String value, @Context HttpServletRequest httpServletRequest, @Context HttpServletResponse response) {\r\n        httpServletRequest.getSession().setAttribute(URL, value);\r\n            LOGGER.info(HttpServletRequest.getSession().getId());\r\n            return Response.seeOther(new URI(the login system)).build();\r\n    }\r\n\r\nThe &quot;login system&quot; is another application and will perform some actions like the login of the user and then call another endpoint of my application.\r\nMy goal is to retrieve the value put on the session.\r\nSo, I wrote the following code :\r\n\r\n    @GET\r\n    @Path(action)\r\n    public Response action(@Context HttpServletRequest request) {\r\n        LOGGER.info(request.getSession().getId());\r\n        String value = (String) request.getSession().getAttribute(URL);\r\n }\r\n\r\nI would expected the value contained the value given on parameter on the myEntryPoint call.\r\nBut, as you can imagine, the String value is empty and if I check the session ids of the requests (myEntryPoint &amp; action) are differents.\r\nWhen the action method is called, a lot of filter chained are called.\r\nDo you know what I did wrong? \r\nI tried the same exercice with cookies in place of session, but without success. \r\nValue is still empty.\r\n\r\nDo you have any idea / suggestion?\r\n\r\nThanks in advance\r\n\r\n\r\n","title":"Session destroyed after redirection","body":"<p>I'm facing an issue in a new application I'm working on it.\nI made a new entry point (used for a non logged user) and I want to store a value in the user session (value comes from a path param).</p>\n<p>So, my entry point like this :</p>\n<pre><code>@GET\n@Path(MYPATH + &quot;/{&quot; + VALUE + &quot;}&quot;)\npublic Response myEntryPoint(@PathParam(VALUE) String value, @Context HttpServletRequest httpServletRequest, @Context HttpServletResponse response) {\n    httpServletRequest.getSession().setAttribute(URL, value);\n        LOGGER.info(HttpServletRequest.getSession().getId());\n        return Response.seeOther(new URI(the login system)).build();\n}\n</code></pre>\n<p>The &quot;login system&quot; is another application and will perform some actions like the login of the user and then call another endpoint of my application.\nMy goal is to retrieve the value put on the session.\nSo, I wrote the following code :</p>\n<pre><code>@GET\n@Path(action)\npublic Response action(@Context HttpServletRequest request) {\n    LOGGER.info(request.getSession().getId());\n    String value = (String) request.getSession().getAttribute(URL);\n</code></pre>\n<p>}</p>\n<p>I would expected the value contained the value given on parameter on the myEntryPoint call.\nBut, as you can imagine, the String value is empty and if I check the session ids of the requests (myEntryPoint &amp; action) are differents.\nWhen the action method is called, a lot of filter chained are called.\nDo you know what I did wrong?\nI tried the same exercice with cookies in place of session, but without success.\nValue is still empty.</p>\n<p>Do you have any idea / suggestion?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","hibernate","postgresql"],"answers":[{"tags":[],"owner":{"account_id":1384921,"reputation":1573,"user_id":1317155,"accept_rate":88,"display_name":"Hein Bl&#246;d"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1439139136,"creation_date":1439138801,"answer_id":31906505,"question_id":31790573,"body_markdown":"I think you should use the `@JoinTable` annotation, at least that allows to set the schema name in standard JPA. Check the JavaDoc for [Java EE 7][1] or [Java EE 6][2].\r\n\r\nSo it would be something like `@JoinTable(name = &quot;master_to_videos&quot;, schema = &quot;test&quot; )`, and you could also specify the name of the join column if required.\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/persistence/JoinTable.html#schema--\r\n  [2]: http://docs.oracle.com/javaee/6/api/javax/persistence/JoinTable.html#schema%28%29","title":"How to set the schema of @OneToMany autogenerated tables?","body":"<p>I think you should use the <code>@JoinTable</code> annotation, at least that allows to set the schema name in standard JPA. Check the JavaDoc for <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/JoinTable.html#schema--\" rel=\"nofollow\">Java EE 7</a> or <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/JoinTable.html#schema%28%29\" rel=\"nofollow\">Java EE 6</a>.</p>\n\n<p>So it would be something like <code>@JoinTable(name = \"master_to_videos\", schema = \"test\" )</code>, and you could also specify the name of the join column if required.</p>\n"},{"tags":[],"owner":{"account_id":194097,"reputation":2923,"user_id":436210,"display_name":"Tea Curran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439184585,"creation_date":1439184585,"answer_id":31912176,"question_id":31790573,"body_markdown":"Hibernate will create the table in whichever persistence.xml the entity is defined in. So if MasterTable and VideoEntity are both in persistence.xml, it will create both tables in the configured data schema.","title":"How to set the schema of @OneToMany autogenerated tables?","body":"<p>Hibernate will create the table in whichever persistence.xml the entity is defined in. So if MasterTable and VideoEntity are both in persistence.xml, it will create both tables in the configured data schema.</p>\n"},{"tags":[],"owner":{"account_id":23378275,"reputation":11,"user_id":17446570,"display_name":"Aymen B&#39;m"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645443423,"creation_date":1645443423,"answer_id":71205662,"question_id":31790573,"body_markdown":"I agree with [Hein Bl&#246;d][1] i tested the @joinTable annotation after any other annotation like @ManyToOne @OneToMany ... as for your example it becomes like this\r\n\r\n    @OneToMany\r\n    @JoinTable(schema = &quot;testSchema&quot; )\r\n    private List&lt;VideoEntity&gt; videos;\r\n\r\n**testSchema** is interpreted by Hibernate as **test-schema** \r\n\r\n&gt; i know this is for an old question i&#39;m writing this so that any one\r\n&gt; right now can find the correct answer i search the internet and this is the first question i found.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1317155/hein-bl%C3%B6d","title":"How to set the schema of @OneToMany autogenerated tables?","body":"<p>I agree with <a href=\"https://stackoverflow.com/users/1317155/hein-bl%C3%B6d\">Hein Blöd</a> i tested the @joinTable annotation after any other annotation like @ManyToOne @OneToMany ... as for your example it becomes like this</p>\n<pre><code>@OneToMany\n@JoinTable(schema = &quot;testSchema&quot; )\nprivate List&lt;VideoEntity&gt; videos;\n</code></pre>\n<p><strong>testSchema</strong> is interpreted by Hibernate as <strong>test-schema</strong></p>\n<blockquote>\n<p>i know this is for an old question i'm writing this so that any one\nright now can find the correct answer i search the internet and this is the first question i found.</p>\n</blockquote>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1494,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1645443423,"creation_date":1438613962,"question_id":31790573,"body_markdown":"I want to put all of the following autogenerated tables into a specific schema.\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;master_table&quot;, schema = &quot;test&quot;)\r\n    public class MasterTable {\r\n    \t@OneToMany\r\n    \tprivate List&lt;VideoEntity&gt; videos;\r\n    \r\n    \t@Entity\r\n    \t@Table(name = &quot;video_entity&quot;, schema = &quot;test&quot;)\r\n     \tpublic static class VideoEntity {\r\n    \r\n    \t}\r\n    }\r\n\r\nResult: there are the two entity tables in `test` schema, but also one in the `public` schema called `master_table_videos` for the list mapping.\r\n\r\nQuestion: how can I tell `hibernate` to also put the list-mapping table in the same schema than the others?\r\n","title":"How to set the schema of @OneToMany autogenerated tables?","body":"<p>I want to put all of the following autogenerated tables into a specific schema.</p>\n\n<pre><code>@Entity\n@Table(name = \"master_table\", schema = \"test\")\npublic class MasterTable {\n    @OneToMany\n    private List&lt;VideoEntity&gt; videos;\n\n    @Entity\n    @Table(name = \"video_entity\", schema = \"test\")\n    public static class VideoEntity {\n\n    }\n}\n</code></pre>\n\n<p>Result: there are the two entity tables in <code>test</code> schema, but also one in the <code>public</code> schema called <code>master_table_videos</code> for the list mapping.</p>\n\n<p>Question: how can I tell <code>hibernate</code> to also put the list-mapping table in the same schema than the others?</p>\n"},{"tags":["java","gradle","groovy","build.gradle","gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":3769888,"reputation":11744,"user_id":3225458,"display_name":"romtsn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645443376,"creation_date":1645442702,"answer_id":71205518,"question_id":71204816,"body_markdown":"You&#39;d need to bundle the `checkstyle.xml` within your plugin&#39;s `resources` folder, so when you ship it, you can always access it from within the plugin code.\r\n\r\nBasically, you need to put the config under `src/main/resources/checkstyle.xml` of the plugin and then access it like this:\r\n```java\r\nURL resourceURL = getClass().getClassLoader().getResource(&quot;checkstyle.xml&quot;);\r\nif (resourceURL != null) {\r\n  File resourceFile = File(resourceURL.getFile());\r\n  checkstyleExtension.setConfigFile(resourceFile);\r\n} \r\n```\r\n\r\nAlso remember, if you ship your plugin as a `.jar`, you&#39;d need to unpack the `checkstyle.xml` into a temp file beforehand. Roughly:\r\n```java\r\nFile temp = File.createTempFile(&quot;.checkstyle&quot;, &quot;.xml&quot;)\r\ntry (FileOutputStream out = new FileOutputStream(temp)) {\r\n  try (InputStream resourceStream = getClass().getClassLoader().getResourceAsStream(&quot;checkstyle.xml&quot;)) {\r\n    byte[] buffer = new byte[1024];\r\n    int bytes = resourceStream.read(buffer);\r\n    while (bytes &gt;= 0) {\r\n      out.write(buffer, 0, bytes);\r\n      bytes = resourceStream.read(buffer);\r\n    }\r\n  }\r\n}\r\n```","title":"Configure Gradle Plugin inside Gradle plugin","body":"<p>You'd need to bundle the <code>checkstyle.xml</code> within your plugin's <code>resources</code> folder, so when you ship it, you can always access it from within the plugin code.</p>\n<p>Basically, you need to put the config under <code>src/main/resources/checkstyle.xml</code> of the plugin and then access it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL resourceURL = getClass().getClassLoader().getResource(&quot;checkstyle.xml&quot;);\nif (resourceURL != null) {\n  File resourceFile = File(resourceURL.getFile());\n  checkstyleExtension.setConfigFile(resourceFile);\n} \n</code></pre>\n<p>Also remember, if you ship your plugin as a <code>.jar</code>, you'd need to unpack the <code>checkstyle.xml</code> into a temp file beforehand. Roughly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File temp = File.createTempFile(&quot;.checkstyle&quot;, &quot;.xml&quot;)\ntry (FileOutputStream out = new FileOutputStream(temp)) {\n  try (InputStream resourceStream = getClass().getClassLoader().getResourceAsStream(&quot;checkstyle.xml&quot;)) {\n    byte[] buffer = new byte[1024];\n    int bytes = resourceStream.read(buffer);\n    while (bytes &gt;= 0) {\n      out.write(buffer, 0, bytes);\n      bytes = resourceStream.read(buffer);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71205518,"answer_count":1,"score":0,"last_activity_date":1645443392,"creation_date":1645439806,"question_id":71204816,"body_markdown":"I want to create a custom Gradle plugin that will encapsulate Checkstyle and PMD configurations. So, other projects can just apply one custom plugin without bothering about any additional configurations.\r\n\r\nI applied `checkstyle` plugin.\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java-gradle-plugin&#39;\r\n    id &#39;checkstyle&#39;\r\n}\r\n```\r\n\r\nAnd then I applied it inside my custom plugin.\r\n\r\n```java\r\npublic class CustomPlugin implements Plugin&lt;Project&gt; {\r\n    public void apply(Project project) {\r\n        project.getPluginManager().apply(CheckstylePlugin.class);\r\n    }\r\n}\r\n```\r\n\r\nWhen I try to build the project I get an error.\r\n\r\n```\r\nUnable to find: config/checkstyle/checkstyle.xml\r\n```\r\n\r\nHow can I override other plugin&#39;s properties? For example, I want to change the default `checkstyle.xml` path. I can do it manually inside `build.gradle` of the plugin project itself. But in this case, other projects that apply the plugin won&#39;t have this configurations defined by default (I tested it).\r\n\r\n## EDIT 1:\r\n\r\nI managed to configure `checkstyle` plugin with `ChecktyleExtension`.\r\n\r\n```java\r\npublic class MetricCodingRulesGradlePluginPlugin implements Plugin&lt;Project&gt; {\r\n    public void apply(Project project) {\r\n        project.getPluginManager().apply(&quot;checkstyle&quot;);\r\n        project.getExtensions().configure(CheckstyleExtension.class, checkstyleExtension -&gt; {\r\n            checkstyleExtension.setConfigFile(new File(&quot;style/checkstyle.xml&quot;));\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n`checkstyle.xml` is placed in the plugin project. When I try to apply it within any other project, `checkstyle` searches it inside the current project directory but not the plugin&#39;s one. Is it possible to overcome this issue? I don&#39;t want users of that plugin to put any additional files inside their project. \r\n\r\n## EDIT 2:\r\n\r\nI put the config files to `resources` folder and tried to read the content.\r\n\r\n```java\r\npublic class MetricCodingRulesGradlePluginPlugin implements Plugin&lt;Project&gt; {\r\n    public void apply(Project project) {\r\n        project.getPluginManager().apply(&quot;checkstyle&quot;);\r\n        project.getExtensions().configure(CheckstyleExtension.class, checkstyleExtension -&gt; {\r\n            URL url = getClass().getClassLoader().getResource(&quot;style/checkstyle.xml&quot;);\r\n            System.out.println(&quot;URL: &quot; + url);\r\n            try {\r\n                checkstyleExtension.setConfigFile(\r\n                    Paths.get(url.toURI())\r\n                        .toFile()\r\n                );\r\n            } catch (URISyntaxException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nWhen I apply the plugin to another project, I get the following error:\r\n\r\n```\r\nURL: jar:file:/Users/user/.gradle/caches/jars-9/8f4176a8ae146bf601f1214b287eb805/my-plugin-0.0.1-SNAPSHOT.jar!/style/checkstyle.xml\r\n\r\nCaused by: java.nio.file.FileSystemNotFoundException\r\n\tat com.sun.nio.zipfs.ZipFileSystemProvider.getFileSystem(ZipFileSystemProvider.java:171)\r\n\tat com.sun.nio.zipfs.ZipFileSystemProvider.getPath(ZipFileSystemProvider.java:157)\r\n```\r\n\r\nJava cannot read the file from the `jar` archive for some reason. Any approaches to overcome this error?","title":"Configure Gradle Plugin inside Gradle plugin","body":"<p>I want to create a custom Gradle plugin that will encapsulate Checkstyle and PMD configurations. So, other projects can just apply one custom plugin without bothering about any additional configurations.</p>\n<p>I applied <code>checkstyle</code> plugin.</p>\n<pre><code>plugins {\n    id 'java-gradle-plugin'\n    id 'checkstyle'\n}\n</code></pre>\n<p>And then I applied it inside my custom plugin.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomPlugin implements Plugin&lt;Project&gt; {\n    public void apply(Project project) {\n        project.getPluginManager().apply(CheckstylePlugin.class);\n    }\n}\n</code></pre>\n<p>When I try to build the project I get an error.</p>\n<pre><code>Unable to find: config/checkstyle/checkstyle.xml\n</code></pre>\n<p>How can I override other plugin's properties? For example, I want to change the default <code>checkstyle.xml</code> path. I can do it manually inside <code>build.gradle</code> of the plugin project itself. But in this case, other projects that apply the plugin won't have this configurations defined by default (I tested it).</p>\n<h2>EDIT 1:</h2>\n<p>I managed to configure <code>checkstyle</code> plugin with <code>ChecktyleExtension</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MetricCodingRulesGradlePluginPlugin implements Plugin&lt;Project&gt; {\n    public void apply(Project project) {\n        project.getPluginManager().apply(&quot;checkstyle&quot;);\n        project.getExtensions().configure(CheckstyleExtension.class, checkstyleExtension -&gt; {\n            checkstyleExtension.setConfigFile(new File(&quot;style/checkstyle.xml&quot;));\n        });\n    }\n}\n</code></pre>\n<p><code>checkstyle.xml</code> is placed in the plugin project. When I try to apply it within any other project, <code>checkstyle</code> searches it inside the current project directory but not the plugin's one. Is it possible to overcome this issue? I don't want users of that plugin to put any additional files inside their project.</p>\n<h2>EDIT 2:</h2>\n<p>I put the config files to <code>resources</code> folder and tried to read the content.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MetricCodingRulesGradlePluginPlugin implements Plugin&lt;Project&gt; {\n    public void apply(Project project) {\n        project.getPluginManager().apply(&quot;checkstyle&quot;);\n        project.getExtensions().configure(CheckstyleExtension.class, checkstyleExtension -&gt; {\n            URL url = getClass().getClassLoader().getResource(&quot;style/checkstyle.xml&quot;);\n            System.out.println(&quot;URL: &quot; + url);\n            try {\n                checkstyleExtension.setConfigFile(\n                    Paths.get(url.toURI())\n                        .toFile()\n                );\n            } catch (URISyntaxException e) {\n                throw new RuntimeException(e);\n            }\n        });\n    }\n}\n</code></pre>\n<p>When I apply the plugin to another project, I get the following error:</p>\n<pre><code>URL: jar:file:/Users/user/.gradle/caches/jars-9/8f4176a8ae146bf601f1214b287eb805/my-plugin-0.0.1-SNAPSHOT.jar!/style/checkstyle.xml\n\nCaused by: java.nio.file.FileSystemNotFoundException\n    at com.sun.nio.zipfs.ZipFileSystemProvider.getFileSystem(ZipFileSystemProvider.java:171)\n    at com.sun.nio.zipfs.ZipFileSystemProvider.getPath(ZipFileSystemProvider.java:157)\n</code></pre>\n<p>Java cannot read the file from the <code>jar</code> archive for some reason. Any approaches to overcome this error?</p>\n"},{"tags":["java","api","rest","httpurlconnection","bufferedreader"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1614707512,"post_id":66444501,"comment_id":117465541,"body_markdown":"A zip file is a binary. So you can&#39;t use a character based _reader_ (you are using an `InputStreamReader`) to read the content. Take the input stream as is (because they are nbyte based).","body":"A zip file is a binary. So you can&#39;t use a character based <i>reader</i> (you are using an <code>InputStreamReader</code>) to read the content. Take the input stream as is (because they are nbyte based)."},{"owner":{"account_id":2328976,"reputation":4965,"user_id":2042827,"accept_rate":47,"display_name":"ikos23"},"score":0,"creation_date":1614707583,"post_id":66444501,"comment_id":117465565,"body_markdown":"What do you need to do with that zip file? Do you need to save it somewhere or you are interested in a content (in what’s inside) ?","body":"What do you need to do with that zip file? Do you need to save it somewhere or you are interested in a content (in what’s inside) ?"},{"owner":{"account_id":11942587,"reputation":75,"user_id":8738876,"display_name":"Ars"},"score":0,"creation_date":1614707862,"post_id":66444501,"comment_id":117465705,"body_markdown":"I need to save it somewhere. There is a parameter on the endpoint where I can specify where to save it.","body":"I need to save it somewhere. There is a parameter on the endpoint where I can specify where to save it."}],"answers":[{"tags":[],"owner":{"account_id":2328976,"reputation":4965,"user_id":2042827,"accept_rate":47,"display_name":"ikos23"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1614721719,"creation_date":1614707981,"answer_id":66444706,"question_id":66444501,"body_markdown":"I guess you can try this API:\r\n\r\n    try (ZipInputStream zis = new ZipInputStream(con.getInputStream())) {\r\n            \r\n        ZipEntry entry; // kinda self-explained (a file inside zip)\r\n\r\n        while ((entry = zis.getNextEntry()) != null) {\r\n             // do whatever you need :)\r\n             // this is just a dummy stuff\r\n            System.out.format(&quot;File: %s Size: %d Last Modified %s %n&quot;,\r\n                        entry.getName(), entry.getSize(),\r\n                        LocalDate.ofEpochDay(entry.getTime() / MILLS_IN_DAY));\r\n        }\r\n    }\r\n\r\nIn any case, you get a stream, so you can do all the stuff that java IO API allows you to do.\r\n\r\nFor instance, to save the file you can do something like:\r\n\r\n    // I am skipping here exception handling, closing stream, etc.\r\n    byte[] zipContent = zis.readAllBytes();\r\n    new FileOutputStream(&quot;some.zip&quot;).write(zipContent);\r\n\r\nTo do something with files inside zip you can do something like:\r\n\r\n     // again, skipping exceptions, closing, etc.\r\n     // also, you&#39;d probably do this in while loop as in the first example\r\n     // so let&#39;s say we get ZipEntry \r\n     ZipEntry entry = zis.getNextEntry();\r\n     \r\n     // crate OutputStream to extract the entry from zip file\r\n     final OutputStream os = new FileOutputStream(&quot;c:/someDir/&quot; + entry.getName());\r\n     \r\n     \r\n     byte[] buffer = new byte[1024];\r\n     int length;\r\n     \r\n     //read the entry from zip file and extract it to disk\r\n     while( (length = zis.read(buffer)) &gt; 0) {\r\n         os.write(buffer, 0, length);\r\n     }\r\n\r\n     // at this point you should get your file\r\n\r\nI know, this is kinda low level API, you need to deal with streams, bytes, etc., perhaps there are some libs that allows to do this with a single line of code or something :) ","title":"How do I work with a REST API in Java that returns a zip file?","body":"<p>I guess you can try this API:</p>\n<pre><code>try (ZipInputStream zis = new ZipInputStream(con.getInputStream())) {\n        \n    ZipEntry entry; // kinda self-explained (a file inside zip)\n\n    while ((entry = zis.getNextEntry()) != null) {\n         // do whatever you need :)\n         // this is just a dummy stuff\n        System.out.format(&quot;File: %s Size: %d Last Modified %s %n&quot;,\n                    entry.getName(), entry.getSize(),\n                    LocalDate.ofEpochDay(entry.getTime() / MILLS_IN_DAY));\n    }\n}\n</code></pre>\n<p>In any case, you get a stream, so you can do all the stuff that java IO API allows you to do.</p>\n<p>For instance, to save the file you can do something like:</p>\n<pre><code>// I am skipping here exception handling, closing stream, etc.\nbyte[] zipContent = zis.readAllBytes();\nnew FileOutputStream(&quot;some.zip&quot;).write(zipContent);\n</code></pre>\n<p>To do something with files inside zip you can do something like:</p>\n<pre><code> // again, skipping exceptions, closing, etc.\n // also, you'd probably do this in while loop as in the first example\n // so let's say we get ZipEntry \n ZipEntry entry = zis.getNextEntry();\n \n // crate OutputStream to extract the entry from zip file\n final OutputStream os = new FileOutputStream(&quot;c:/someDir/&quot; + entry.getName());\n \n \n byte[] buffer = new byte[1024];\n int length;\n \n //read the entry from zip file and extract it to disk\n while( (length = zis.read(buffer)) &gt; 0) {\n     os.write(buffer, 0, length);\n }\n\n // at this point you should get your file\n</code></pre>\n<p>I know, this is kinda low level API, you need to deal with streams, bytes, etc., perhaps there are some libs that allows to do this with a single line of code or something :)</p>\n"}],"owner":{"account_id":11942587,"reputation":75,"user_id":8738876,"display_name":"Ars"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4141,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66444706,"answer_count":1,"score":2,"last_activity_date":1645443103,"creation_date":1614707168,"question_id":66444501,"body_markdown":"I am familiar with the basics of making a GET request in Java using the HttpURLConnection class. In a normal situation where the return type would be a JSON, I&#39;d do something like this:\r\n```\r\n    URL obj = new URL(myURLString);\r\n    HttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n    con.setRequestMethod(&quot;GET&quot;);\r\n    int responseCode = con.getResponseCode();\r\n    if (responseCode == HttpURLConnection.HTTP_OK) {\r\n        BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n        String inpLine;\r\n        StringBuffer resp = new StringBuffer();\r\n\r\n        while ((inpLine = in.readLine()) != null) {\r\n            resp.append(inputLine);\r\n        }\r\n        in.close();\r\n        System.out.println(resp.toString());                          \r\n    } else { System.out.println(&quot;Request failed&quot;);\r\n```\r\n\r\nHowever, the current endpoint I&#39;m trying to work with sends back a zip file containing various types of files. The &#39;Content-Type&#39; in that case would be &#39;application/octet-stream&#39;. Hitting that endpoint with the above code results in a mess of symbols (not sure what it&#39;s called) written to the console. Even in Postman, I see the same, and it only works when I use the &#39;Send &amp; Download&#39; option when making the request, which prompts me to save the response and I get the zip file. \r\n\r\nAny help on how to hit the API and download the returned zip file through Java? Thank you in advance.\r\n\r\nEdit: What I intend to do with the zip file is save it locally and then other parts of my program will work with the contents.","title":"How do I work with a REST API in Java that returns a zip file?","body":"<p>I am familiar with the basics of making a GET request in Java using the HttpURLConnection class. In a normal situation where the return type would be a JSON, I'd do something like this:</p>\n<pre><code>    URL obj = new URL(myURLString);\n    HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n    con.setRequestMethod(&quot;GET&quot;);\n    int responseCode = con.getResponseCode();\n    if (responseCode == HttpURLConnection.HTTP_OK) {\n        BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n        String inpLine;\n        StringBuffer resp = new StringBuffer();\n\n        while ((inpLine = in.readLine()) != null) {\n            resp.append(inputLine);\n        }\n        in.close();\n        System.out.println(resp.toString());                          \n    } else { System.out.println(&quot;Request failed&quot;);\n</code></pre>\n<p>However, the current endpoint I'm trying to work with sends back a zip file containing various types of files. The 'Content-Type' in that case would be 'application/octet-stream'. Hitting that endpoint with the above code results in a mess of symbols (not sure what it's called) written to the console. Even in Postman, I see the same, and it only works when I use the 'Send &amp; Download' option when making the request, which prompts me to save the response and I get the zip file.</p>\n<p>Any help on how to hit the API and download the returned zip file through Java? Thank you in advance.</p>\n<p>Edit: What I intend to do with the zip file is save it locally and then other parts of my program will work with the contents.</p>\n"},{"tags":["java","json","amazon-dynamodb"],"comments":[{"owner":{"account_id":3811299,"reputation":21,"user_id":4752873,"display_name":"Yan Zhang"},"score":0,"creation_date":1520470121,"post_id":49163647,"comment_id":85332901,"body_markdown":"Map refers to Map&lt;String, AttributeValue&gt;. AttributeValue is com.amazonaws.services.dynamodbv2.model.AttributeValue;","body":"Map refers to Map&lt;String, AttributeValue&gt;. AttributeValue is com.amazonaws.services.dynamodbv2.model.AttributeValue;"},{"owner":{"account_id":6843,"reputation":60258,"user_id":11635,"accept_rate":56,"display_name":"Ruben Bartelink"},"score":0,"creation_date":1657745245,"post_id":49163647,"comment_id":128886661,"body_markdown":"Aside: if you can export in Ion format, the parsing can be easier - [example](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DataExport.Output.html)","body":"Aside: if you can export in Ion format, the parsing can be easier - <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DataExport.Output.html\" rel=\"nofollow noreferrer\">example</a>"}],"answers":[{"tags":[],"owner":{"account_id":12858852,"reputation":37,"user_id":9301299,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526167983,"creation_date":1526167565,"answer_id":50311486,"question_id":49163647,"body_markdown":"I didn&#39;t find any either so I wrote some kotlin code to do it \r\n\r\n\r\n    // convert dynamodb json map to normal json map\r\n    @Suppress(&quot;unchecked_cast&quot;)\r\n    internal fun Map&lt;String, Any&gt;.toSimpleMapValue(): Map&lt;String, Any&gt; {\r\n        return this.mapValues { (_, v) -&gt;\r\n            (v as Map&lt;String, Any&gt;).toSimpleValue()\r\n        }\r\n    }\r\n    \r\n    @Suppress(&quot;unchecked_cast&quot;, &quot;implicit_cast_to_any&quot;)\r\n    private fun Map&lt;String, Any&gt;.toSimpleValue() : Any {\r\n        require(this.size == 1)\r\n    \r\n        val list = this.map { (k, v) -&gt;\r\n             when (k) {\r\n                &quot;BOOL&quot; -&gt; when (v) {\r\n                    0 -&gt; false\r\n                    1 -&gt; true\r\n                    else -&gt; throw IllegalArgumentException(&quot;Unknown value $v for boolean&quot;)\r\n                }\r\n                &quot;S&quot; -&gt; v as String\r\n                &quot;N&quot; -&gt; BigDecimal(v as String)\r\n                &quot;B&quot; -&gt; copyAllBytesFrom(v as ByteBuffer)\r\n                &quot;SS&quot; -&gt; LinkedHashSet(v as List&lt;String&gt;)\r\n                &quot;NS&quot; -&gt; LinkedHashSet((v as List&lt;String&gt;).map { BigDecimal(it) })\r\n                &quot;BS&quot; -&gt; LinkedHashSet((v as List&lt;ByteBuffer&gt;).map { copyAllBytesFrom(it) })\r\n                &quot;L&quot; -&gt; ArrayList((v as List&lt;Any&gt;).map { (it as Map&lt;String, Any&gt;).toSimpleValue() })\r\n                &quot;M&quot; -&gt; (v as Map&lt;String, Any&gt;).toSimpleMapValue()\r\n    \r\n                else -&gt; throw IllegalArgumentException(&quot;Invalid key $k&quot;)\r\n            }\r\n        }\r\n    \r\n        return list[0]\r\n    }\r\n    \r\nAbove should do the same ting as AWS.DynamoDB.Converter.unmarshall in Javascript SDK. \r\n\r\nThen use `Item.fromMap(newImage.toSimpleMapValue())` to convert the DynamoDB Map/Json to Item. \r\n\r\nI didn&#39;t test all the cases, especially not sure binary type.\r\n\r\n    \r\n","title":"Convert DynamoDB special JSON text to normal JSON","body":"<p>I didn't find any either so I wrote some kotlin code to do it </p>\n\n<pre><code>// convert dynamodb json map to normal json map\n@Suppress(\"unchecked_cast\")\ninternal fun Map&lt;String, Any&gt;.toSimpleMapValue(): Map&lt;String, Any&gt; {\n    return this.mapValues { (_, v) -&gt;\n        (v as Map&lt;String, Any&gt;).toSimpleValue()\n    }\n}\n\n@Suppress(\"unchecked_cast\", \"implicit_cast_to_any\")\nprivate fun Map&lt;String, Any&gt;.toSimpleValue() : Any {\n    require(this.size == 1)\n\n    val list = this.map { (k, v) -&gt;\n         when (k) {\n            \"BOOL\" -&gt; when (v) {\n                0 -&gt; false\n                1 -&gt; true\n                else -&gt; throw IllegalArgumentException(\"Unknown value $v for boolean\")\n            }\n            \"S\" -&gt; v as String\n            \"N\" -&gt; BigDecimal(v as String)\n            \"B\" -&gt; copyAllBytesFrom(v as ByteBuffer)\n            \"SS\" -&gt; LinkedHashSet(v as List&lt;String&gt;)\n            \"NS\" -&gt; LinkedHashSet((v as List&lt;String&gt;).map { BigDecimal(it) })\n            \"BS\" -&gt; LinkedHashSet((v as List&lt;ByteBuffer&gt;).map { copyAllBytesFrom(it) })\n            \"L\" -&gt; ArrayList((v as List&lt;Any&gt;).map { (it as Map&lt;String, Any&gt;).toSimpleValue() })\n            \"M\" -&gt; (v as Map&lt;String, Any&gt;).toSimpleMapValue()\n\n            else -&gt; throw IllegalArgumentException(\"Invalid key $k\")\n        }\n    }\n\n    return list[0]\n}\n</code></pre>\n\n<p>Above should do the same ting as AWS.DynamoDB.Converter.unmarshall in Javascript SDK. </p>\n\n<p>Then use <code>Item.fromMap(newImage.toSimpleMapValue())</code> to convert the DynamoDB Map/Json to Item. </p>\n\n<p>I didn't test all the cases, especially not sure binary type.</p>\n"},{"tags":[],"owner":{"account_id":13331566,"reputation":309,"user_id":9622664,"display_name":"Andrei"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1535091774,"creation_date":1535091494,"answer_id":51998552,"question_id":49163647,"body_markdown":"please use this function `AWS.DynamoDB.Converter.unmarshall`\r\n\r\nRelated docs: [unmarshall-property](https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/DynamoDB/Converter.html#unmarshall-property)\r\n","title":"Convert DynamoDB special JSON text to normal JSON","body":"<p>please use this function <code>AWS.DynamoDB.Converter.unmarshall</code></p>\n\n<p>Related docs: <a href=\"https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/DynamoDB/Converter.html#unmarshall-property\" rel=\"nofollow noreferrer\">unmarshall-property</a></p>\n"}],"owner":{"account_id":3811299,"reputation":21,"user_id":4752873,"display_name":"Yan Zhang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6757,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1645442615,"creation_date":1520470025,"question_id":49163647,"body_markdown":"I have a file containing data exported from DynamoDB, it has DynamoDB&#39;s &quot;special JSON&quot; format:\r\n\r\n`{&quot;key1&quot;: {&quot;m&quot;:{&quot;key2&quot;:{&quot;s&quot;:&quot;val2&quot;},&quot;key3&quot;:{&quot;s&quot;:&quot;val3&quot;}}}}`\r\n\r\nI need to parse this file and convert the data to DynamoDB item (com.amazonaws.services.dynamodbv2.document.Item) or normal JSON (I know how to convert normal JSON to Item)\r\n\r\nI found there are ways to convert Map&lt;String, AttributeValue&gt; to Item like the following posts:\r\n1. https://stackoverflow.com/questions/43812278/converting-dynamodb-json-to-standard-json-with-java\r\n2. https://stackoverflow.com/questions/37655755/how-to-get-the-pure-json-string-from-dynamodb-stream-new-image\r\n\r\nTo use the solutions mentioned in these posts, I need to write code to convert the special JSON to Map&lt;String, AttributeValue&gt;.\r\n\r\nIs there a native way to convert DynamoDB &quot;special JSON&quot; **text** to normal JSON or directly to DynamoDB item?\r\n\r\n\r\n\r\n","title":"Convert DynamoDB special JSON text to normal JSON","body":"<p>I have a file containing data exported from DynamoDB, it has DynamoDB's \"special JSON\" format:</p>\n\n<p><code>{\"key1\": {\"m\":{\"key2\":{\"s\":\"val2\"},\"key3\":{\"s\":\"val3\"}}}}</code></p>\n\n<p>I need to parse this file and convert the data to DynamoDB item (com.amazonaws.services.dynamodbv2.document.Item) or normal JSON (I know how to convert normal JSON to Item)</p>\n\n<p>I found there are ways to convert Map to Item like the following posts:\n1. <a href=\"https://stackoverflow.com/questions/43812278/converting-dynamodb-json-to-standard-json-with-java\">Converting DynamoDB JSON to Standard JSON with Java</a>\n2. <a href=\"https://stackoverflow.com/questions/37655755/how-to-get-the-pure-json-string-from-dynamodb-stream-new-image\">How to get the pure Json string from DynamoDB stream new image?</a></p>\n\n<p>To use the solutions mentioned in these posts, I need to write code to convert the special JSON to Map.</p>\n\n<p>Is there a native way to convert DynamoDB \"special JSON\" <strong>text</strong> to normal JSON or directly to DynamoDB item?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645442489,"creation_date":1645442489,"answer_id":71205473,"question_id":71205272,"body_markdown":"&gt; Please keep in mind that querying in a loop won&#39;t work since Firebase queries asynchronously.\r\n\r\nIt&#39;s true that Firebase API is asynchronous but you can create a separate Task object for each new Firestore call and use [Tasks.whenAllSuccess()][1] method, as explained in my answer from the following post:\r\n\r\n* https://stackoverflow.com/questions/50118345/firestore-merging-two-queries-locally/50132229\r\n\r\nOne more thing to mention is that there is another helpful method present which is called [Tasks.whenAllSuccess(Collection&lt;? extends Task&lt;?&gt;&gt; tasks)][2], so you can call this method with a list of Task objects. Please see another answer of mine that does that:\r\n\r\n* https://stackoverflow.com/questions/51892766/android-firestore-convert-array-of-document-references-to-listpojo/51897261\r\n\r\n\r\n  [1]: https://developers.google.com/android/reference/com/google/android/gms/tasks/Tasks#whenAllSuccess(com.google.android.gms.tasks.Task%3C?%3E...)\r\n  [2]: https://developers.google.com/android/reference/com/google/android/gms/tasks/Tasks#whenAllSuccess(java.util.Collection%3C?%20extends%20com.google.android.gms.tasks.Task%3C?%3E%3E)","title":"Firestore collection.whereIn() won&#39;t allow duplicates","body":"<blockquote>\n<p>Please keep in mind that querying in a loop won't work since Firebase queries asynchronously.</p>\n</blockquote>\n<p>It's true that Firebase API is asynchronous but you can create a separate Task object for each new Firestore call and use <a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/Tasks#whenAllSuccess(com.google.android.gms.tasks.Task%3C?%3E...)\" rel=\"nofollow noreferrer\">Tasks.whenAllSuccess()</a> method, as explained in my answer from the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50118345/firestore-merging-two-queries-locally/50132229\">Firestore - Merging two queries locally</a></li>\n</ul>\n<p>One more thing to mention is that there is another helpful method present which is called <a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/Tasks#whenAllSuccess(java.util.Collection%3C?%20extends%20com.google.android.gms.tasks.Task%3C?%3E%3E)\" rel=\"nofollow noreferrer\">Tasks.whenAllSuccess(Collection&gt; tasks)</a>, so you can call this method with a list of Task objects. Please see another answer of mine that does that:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/51892766/android-firestore-convert-array-of-document-references-to-listpojo/51897261\">Android Firestore convert array of document references to List&lt;Pojo&gt;</a></li>\n</ul>\n"}],"owner":{"account_id":21141443,"reputation":23,"user_id":15543771,"display_name":"Sean LEE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645442549,"creation_date":1645441751,"question_id":71205272,"body_markdown":"The structure of my Firestore follows.\r\n\r\n**Posts - Post # - Fields(Post Title, date, CommentId[])**\r\n\r\n**Comments - Comment # - Fields(Title, date, UserId)**\r\n\r\n**Users - User # - Fields(username, photo,...etc)**\r\n\r\nthe user# is equivalent to UserId from the field in the comment.\r\n\r\nmeaning:\r\n\r\n**Posts - PostId7777 - Fields(&quot;Morning!&quot;, 02/04/22, [] {CommentId8888, ....))**\r\n\r\n**Comments - CommentId8888 - Fields(&quot;Hello World!&quot;, 02/10/22, userid9999)**\r\n\r\n**Users - userid9999 - Fields(&quot;exampleUser, ......)**\r\n\r\nSince I found this structure is the most efficient, whenever I load comments first I get the array of comment Ids from the post, then load the comments using collection.whereIn(FieldPath.documentId, commentIds).\r\n\r\nand Then I load user info using the userIds from comment fields.\r\n\r\nBut the problem arises here.\r\n\r\nAmong the comments, there might be a duplicate author(user).\r\n\r\nso let&#39;s say there are 5 comments. 3 comments have non-duplicate author, but the remaining 2 is from the same user. \r\n\r\nso when I query mDB.collection(&quot;users&quot;).whereIn(FieldPath.docId(), uIDs).get()\r\nqueryDocSnapshots will only have **4 snapshots** because 2 comments are from the **same author.**\r\n\r\nPlease keep in mind that querying in a loop won&#39;t work since Firebase queries asynchronously. I need an alternative for the **WHERE-IN.**\r\n\r\n```\r\npublic static void forum_get_comments_step_two(Context _context, String _action, ArrayList&lt;Comment&gt; _retVal, ArrayList&lt;String&gt; _uIds) {\r\n\r\n        ArrayList&lt;Comment&gt; newRetVal = new ArrayList&lt;&gt;();\r\n\r\n        mDb.collection(&quot;users&quot;).whereIn(FieldPath.documentId(), _uIds).get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                int x = 0;\r\n                for (DocumentSnapshot doc : queryDocumentSnapshots) {\r\n\r\n                    Comment currVal = _retVal.get(x);\r\n\r\n                    User user = new User(doc.getId(), doc.getString(&quot;username&quot;),\r\n                            Integer.parseInt(doc.get(&quot;emblem_league&quot;).toString()),\r\n                            Integer.parseInt(doc.get(&quot;emblem_team&quot;).toString()));\r\n\r\n                    newRetVal.add(new Comment(currVal.getPostId(), user, currVal.getDesc(),\r\n                            currVal.getParentId(), currVal.getMentionId()));\r\n\r\n                    x++;\r\n                }\r\n                sendBroadcast(_context, _action, true, newRetVal);\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Log.i(TAG, &quot;getCommentsStep2 failure: &quot; + e.getLocalizedMessage());\r\n                sendBroadcast(_context, _action, false, null);\r\n            }\r\n        });\r\n    }\r\n```\r\n","title":"Firestore collection.whereIn() won&#39;t allow duplicates","body":"<p>The structure of my Firestore follows.</p>\n<p><strong>Posts - Post # - Fields(Post Title, date, CommentId[])</strong></p>\n<p><strong>Comments - Comment # - Fields(Title, date, UserId)</strong></p>\n<p><strong>Users - User # - Fields(username, photo,...etc)</strong></p>\n<p>the user# is equivalent to UserId from the field in the comment.</p>\n<p>meaning:</p>\n<p><strong>Posts - PostId7777 - Fields(&quot;Morning!&quot;, 02/04/22, [] {CommentId8888, ....))</strong></p>\n<p><strong>Comments - CommentId8888 - Fields(&quot;Hello World!&quot;, 02/10/22, userid9999)</strong></p>\n<p><strong>Users - userid9999 - Fields(&quot;exampleUser, ......)</strong></p>\n<p>Since I found this structure is the most efficient, whenever I load comments first I get the array of comment Ids from the post, then load the comments using collection.whereIn(FieldPath.documentId, commentIds).</p>\n<p>and Then I load user info using the userIds from comment fields.</p>\n<p>But the problem arises here.</p>\n<p>Among the comments, there might be a duplicate author(user).</p>\n<p>so let's say there are 5 comments. 3 comments have non-duplicate author, but the remaining 2 is from the same user.</p>\n<p>so when I query mDB.collection(&quot;users&quot;).whereIn(FieldPath.docId(), uIDs).get()\nqueryDocSnapshots will only have <strong>4 snapshots</strong> because 2 comments are from the <strong>same author.</strong></p>\n<p>Please keep in mind that querying in a loop won't work since Firebase queries asynchronously. I need an alternative for the <strong>WHERE-IN.</strong></p>\n<pre><code>public static void forum_get_comments_step_two(Context _context, String _action, ArrayList&lt;Comment&gt; _retVal, ArrayList&lt;String&gt; _uIds) {\n\n        ArrayList&lt;Comment&gt; newRetVal = new ArrayList&lt;&gt;();\n\n        mDb.collection(&quot;users&quot;).whereIn(FieldPath.documentId(), _uIds).get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n                int x = 0;\n                for (DocumentSnapshot doc : queryDocumentSnapshots) {\n\n                    Comment currVal = _retVal.get(x);\n\n                    User user = new User(doc.getId(), doc.getString(&quot;username&quot;),\n                            Integer.parseInt(doc.get(&quot;emblem_league&quot;).toString()),\n                            Integer.parseInt(doc.get(&quot;emblem_team&quot;).toString()));\n\n                    newRetVal.add(new Comment(currVal.getPostId(), user, currVal.getDesc(),\n                            currVal.getParentId(), currVal.getMentionId()));\n\n                    x++;\n                }\n                sendBroadcast(_context, _action, true, newRetVal);\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Log.i(TAG, &quot;getCommentsStep2 failure: &quot; + e.getLocalizedMessage());\n                sendBroadcast(_context, _action, false, null);\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","xml","google-maps","xaml","xamarin"],"answers":[{"tags":[],"owner":{"account_id":22204970,"reputation":1206,"user_id":16445022,"display_name":"Amjad S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645442099,"creation_date":1645353649,"answer_id":71193581,"question_id":71190572,"body_markdown":"try this.\r\n```\r\n&lt;StackLayout HorizontalOptions=&quot;FillAndExpand&quot; VerticalOptions=&quot;FillAndExpand&quot; \r\n             HeightRequest=&quot;1&quot; BackgroundColor=&quot;Aqua&quot;&gt;\r\n            \r\n        &lt;Label Text=&quot;placeholderText&quot; Margin=&quot;10,10,10,10&quot; /&gt;        \r\n        &lt;StackLayout Padding=&quot;10, 10, 10, 10&quot; VerticalOptions=&quot;EndAndExpand&quot;&gt;\r\n            &lt;Button VerticalOptions=&quot;Center&quot; Text=&quot;Login&quot; /&gt;\r\n        &lt;/StackLayout&gt;\r\n&lt;/StackLayout&gt;","title":"Xamarin View - How to put TextButton at the end and to the foreground","body":"<p>try this.</p>\n<pre><code>&lt;StackLayout HorizontalOptions=&quot;FillAndExpand&quot; VerticalOptions=&quot;FillAndExpand&quot; \n             HeightRequest=&quot;1&quot; BackgroundColor=&quot;Aqua&quot;&gt;\n            \n        &lt;Label Text=&quot;placeholderText&quot; Margin=&quot;10,10,10,10&quot; /&gt;        \n        &lt;StackLayout Padding=&quot;10, 10, 10, 10&quot; VerticalOptions=&quot;EndAndExpand&quot;&gt;\n            &lt;Button VerticalOptions=&quot;Center&quot; Text=&quot;Login&quot; /&gt;\n        &lt;/StackLayout&gt;\n&lt;/StackLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":10674537,"reputation":75,"user_id":7858526,"display_name":"Jaroxa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71193581,"answer_count":1,"score":0,"last_activity_date":1645442099,"creation_date":1645319280,"question_id":71190572,"body_markdown":"I am trying to figure out. How I can put the Login-Button at the end of the view, but on the foreground of placeholderText. This green textfield should be replaced by a maps-view later.\r\nMy current code:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\r\n    &lt;ContentPage xmlns=&quot;http://xamarin.com/schemas/2014/forms&quot;\r\n                xmlns:x=&quot;http://schemas.microsoft.com/winfx/2009/xaml&quot;\r\n                xmlns:d=&quot;http://xamarin.com/schemas/2014/forms/design&quot;\r\n                xmlns:mc=&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;\r\n                x:Class=&quot;FreemomentApp.GUI.Views.Examples.MapInterface&quot;\r\n                Shell.NavBarIsVisible=&quot;True&quot;&gt;\r\n        &lt;ContentPage.Content&gt;\r\n            &lt;StackLayout HorizontalOptions=&quot;FillAndExpand&quot; VerticalOptions=&quot;FillAndExpand&quot; \r\n                        HeightRequest=&quot;1&quot; BackgroundColor=&quot;DarkOrange&quot; &gt;\r\n                &lt;StackLayout Padding=&quot;10,10,10,10&quot; VerticalOptions=&quot;End&quot; BackgroundColor=&quot;Aqua&quot;&gt;\r\n                    &lt;Label Text=&quot;placeholderText&quot;/&gt;\r\n                &lt;/StackLayout&gt;\r\n                &lt;StackLayout Padding=&quot;10,10,10,10&quot; VerticalOptions=&quot;End&quot;&gt;\r\n                    &lt;Button VerticalOptions=&quot;Center&quot; Text=&quot;Login&quot;/&gt;\r\n                &lt;/StackLayout&gt;\r\n            &lt;/StackLayout&gt;\r\n        &lt;/ContentPage.Content&gt;\r\n    &lt;/ContentPage&gt;\r\n\r\nand my current state looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nMy targetview should looks like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7np4a.png\r\n  [2]: https://i.stack.imgur.com/7IHLm.png\r\n\r\nIt would be great, if somebody could help me with a hint. How I can reach my should state.\r\n\r\nI wish you a good night.","title":"Xamarin View - How to put TextButton at the end and to the foreground","body":"<p>I am trying to figure out. How I can put the Login-Button at the end of the view, but on the foreground of placeholderText. This green textfield should be replaced by a maps-view later.\nMy current code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\n&lt;ContentPage xmlns=&quot;http://xamarin.com/schemas/2014/forms&quot;\n            xmlns:x=&quot;http://schemas.microsoft.com/winfx/2009/xaml&quot;\n            xmlns:d=&quot;http://xamarin.com/schemas/2014/forms/design&quot;\n            xmlns:mc=&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;\n            x:Class=&quot;FreemomentApp.GUI.Views.Examples.MapInterface&quot;\n            Shell.NavBarIsVisible=&quot;True&quot;&gt;\n    &lt;ContentPage.Content&gt;\n        &lt;StackLayout HorizontalOptions=&quot;FillAndExpand&quot; VerticalOptions=&quot;FillAndExpand&quot; \n                    HeightRequest=&quot;1&quot; BackgroundColor=&quot;DarkOrange&quot; &gt;\n            &lt;StackLayout Padding=&quot;10,10,10,10&quot; VerticalOptions=&quot;End&quot; BackgroundColor=&quot;Aqua&quot;&gt;\n                &lt;Label Text=&quot;placeholderText&quot;/&gt;\n            &lt;/StackLayout&gt;\n            &lt;StackLayout Padding=&quot;10,10,10,10&quot; VerticalOptions=&quot;End&quot;&gt;\n                &lt;Button VerticalOptions=&quot;Center&quot; Text=&quot;Login&quot;/&gt;\n            &lt;/StackLayout&gt;\n        &lt;/StackLayout&gt;\n    &lt;/ContentPage.Content&gt;\n&lt;/ContentPage&gt;\n</code></pre>\n<p>and my current state looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/7np4a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7np4a.png\" alt=\"enter image description here\" /></a></p>\n<p>My targetview should looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/7IHLm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7IHLm.png\" alt=\"enter image description here\" /></a></p>\n<p>It would be great, if somebody could help me with a hint. How I can reach my should state.</p>\n<p>I wish you a good night.</p>\n"},{"tags":["java","android","android-animation"],"answers":[{"tags":[],"owner":{"account_id":2674098,"reputation":49601,"user_id":2310866,"display_name":"Xaver Kapeller"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1450224619,"creation_date":1450182031,"answer_id":34289160,"question_id":34277998,"body_markdown":"You can set the duration on the `Transition` you pass into `beginDelayedTransition()`. In your case that would be `ChangeBounds`. So try something like this:\r\n\r\n    final ChangeBounds transition = new ChangeBounds();\r\n    transition.setDuration(600L); // Sets a duration of 600 milliseconds\r\n    TransitionManager().beginDelayedTransition(animLayout, transition);\r\n\r\n---\r\n\r\nBy default if no duration is set a `Transition` falls back to the default animation duration which is 300ms. So for example if you want the transition to take twice as long, use 600ms.","title":"Is it possible to set transition speed/time in transition everywhere on android","body":"<p>You can set the duration on the <code>Transition</code> you pass into <code>beginDelayedTransition()</code>. In your case that would be <code>ChangeBounds</code>. So try something like this:</p>\n\n<pre><code>final ChangeBounds transition = new ChangeBounds();\ntransition.setDuration(600L); // Sets a duration of 600 milliseconds\nTransitionManager().beginDelayedTransition(animLayout, transition);\n</code></pre>\n\n<hr>\n\n<p>By default if no duration is set a <code>Transition</code> falls back to the default animation duration which is 300ms. So for example if you want the transition to take twice as long, use 600ms.</p>\n"},{"tags":[],"owner":{"account_id":202133,"reputation":4744,"user_id":449007,"accept_rate":86,"display_name":"yozhik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645441986,"creation_date":1645441986,"answer_id":71205338,"question_id":34277998,"body_markdown":"    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n            super.onViewCreated(view, savedInstanceState)\r\n            this.defaultPeekHeight = Resources.getSystem().displayMetrics.heightPixels / 4\r\n            bottomSheetBehavior.peekHeight = defaultPeekHeight\r\n            presenter.loadItems()\r\n        }\r\n    \r\n        override fun onItemsLoaded(\r\n            items: List&lt;RecyclerItem&lt;*&gt;&gt;\r\n        ) {\r\n            updateItems(items)\r\n            b.root.doOnLayout {\r\n                //animate expanding of bottom sheet\r\n                val transition = ChangeBounds()\r\n                transition.duration = ANIMATION_DURATION\r\n                TransitionManager.beginDelayedTransition(b.draggableBottomSheetLayout, transition)\r\n                bottomSheetBehavior.peekHeight = max(b.root.height, defaultPeekHeight)\r\n            }}","title":"Is it possible to set transition speed/time in transition everywhere on android","body":"<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        this.defaultPeekHeight = Resources.getSystem().displayMetrics.heightPixels / 4\n        bottomSheetBehavior.peekHeight = defaultPeekHeight\n        presenter.loadItems()\n    }\n\n    override fun onItemsLoaded(\n        items: List&lt;RecyclerItem&lt;*&gt;&gt;\n    ) {\n        updateItems(items)\n        b.root.doOnLayout {\n            //animate expanding of bottom sheet\n            val transition = ChangeBounds()\n            transition.duration = ANIMATION_DURATION\n            TransitionManager.beginDelayedTransition(b.draggableBottomSheetLayout, transition)\n            bottomSheetBehavior.peekHeight = max(b.root.height, defaultPeekHeight)\n        }}\n</code></pre>\n"}],"owner":{"account_id":4860757,"reputation":435,"user_id":3920449,"accept_rate":62,"display_name":"johnguild"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6430,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":34289160,"answer_count":2,"score":14,"last_activity_date":1645441986,"creation_date":1450133046,"question_id":34277998,"body_markdown":"I&#39;m using [Transitions-Everywhere][1] for my app, and I wonder if I can set the transition speed/time of the transitions..\r\n\r\nI have something like this:\r\n\r\n    TransitionManager().beginDelayedTransition(animLayout, new ChangeBounds());\r\n\r\n    FrameLayout.LayoutParams layoutParams = (FrameLayout.LayoutParams) findViewById(R.id.myId).getLayoutParams();\r\n    layoutParams.height = (int) myHeight;\r\n    layoutParams.width = (int) myWidth;\r\n    myLayout.setLayoutParams(layoutParams);\r\n\r\nIn short, I want the transition to be slower than the default, but I just can&#39;t figure out how to set the speed of the transition!\r\n\r\n  [1]: https://github.com/andkulikov/Transitions-Everywhere","title":"Is it possible to set transition speed/time in transition everywhere on android","body":"<p>I'm using <a href=\"https://github.com/andkulikov/Transitions-Everywhere\" rel=\"noreferrer\">Transitions-Everywhere</a> for my app, and I wonder if I can set the transition speed/time of the transitions..</p>\n\n<p>I have something like this:</p>\n\n<pre><code>TransitionManager().beginDelayedTransition(animLayout, new ChangeBounds());\n\nFrameLayout.LayoutParams layoutParams = (FrameLayout.LayoutParams) findViewById(R.id.myId).getLayoutParams();\nlayoutParams.height = (int) myHeight;\nlayoutParams.width = (int) myWidth;\nmyLayout.setLayoutParams(layoutParams);\n</code></pre>\n\n<p>In short, I want the transition to be slower than the default, but I just can't figure out how to set the speed of the transition!</p>\n"},{"tags":["java","string","date","calendar"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":2,"creation_date":1411332769,"post_id":25963720,"comment_id":40651621,"body_markdown":"Convert them to an actual time-based representation and compare them instead.","body":"Convert them to an actual time-based representation and compare them instead."},{"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"score":3,"creation_date":1411332876,"post_id":25963720,"comment_id":40651644,"body_markdown":"With that particular date format, you don&#39;t need to parse the dates because the fields are already in most-to-least-significant order, but @Makoto has the right idea in general.  Plus, parsing the date will be robust against bad inputs.","body":"With that particular date format, you don&#39;t need to parse the dates because the fields are already in most-to-least-significant order, but @Makoto has the right idea in general.  Plus, parsing the date will be robust against bad inputs."},{"owner":{"account_id":4531444,"reputation":533,"user_id":3681785,"accept_rate":50,"display_name":"sid smith"},"score":0,"creation_date":1411348300,"post_id":25963720,"comment_id":40654946,"body_markdown":"See my answer for a working example.","body":"See my answer for a working example."},{"owner":{"account_id":1554391,"reputation":1540,"user_id":1445967,"accept_rate":37,"display_name":"user1445967"},"score":2,"creation_date":1564423274,"post_id":25963720,"comment_id":101017611,"body_markdown":"I don&#39;t believe the marked duplicate is the same question, the link points to a higher-level question about technique/strategy and advantages/disadvantages.  This question asks for a code example of how to do it.","body":"I don&#39;t believe the marked duplicate is the same question, the link points to a higher-level question about technique/strategy and advantages/disadvantages.  This question asks for a code example of how to do it."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1570515323,"post_id":25963720,"comment_id":102927668,"body_markdown":"@user1445967 Agreed. I re-opened the Question. And provided [an Answer](https://stackoverflow.com/a/58281016/642706) using *java.time*. Thanks.","body":"@user1445967 Agreed. I re-opened the Question. And provided <a href=\"https://stackoverflow.com/a/58281016/642706\">an Answer</a> using <i>java.time</i>. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1411332903,"creation_date":1411332903,"answer_id":25963764,"question_id":25963720,"body_markdown":"Convert them to an actual `Date` object, then call `before`.\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/dd h:m&quot;);\r\n    System.out.println(sdf.parse(startDate).before(sdf.parse(endDate)));\r\n\r\nRecall that `parse` will throw a `ParseException`, so you should either catch it in this code block, or declare it to be thrown as part of your method signature.","title":"How to compare two string dates in Java?","body":"<p>Convert them to an actual <code>Date</code> object, then call <code>before</code>.</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy/MM/dd h:m\");\nSystem.out.println(sdf.parse(startDate).before(sdf.parse(endDate)));\n</code></pre>\n\n<p>Recall that <code>parse</code> will throw a <code>ParseException</code>, so you should either catch it in this code block, or declare it to be thrown as part of your method signature.</p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411332923,"creation_date":1411332923,"answer_id":25963771,"question_id":25963720,"body_markdown":"Use `SimpleDateFormat` to parse your string representation into instance of `Date`. The invoke `getTime()` to get milliseconds. Then compare the milliseconds.","title":"How to compare two string dates in Java?","body":"<p>Use <code>SimpleDateFormat</code> to parse your string representation into instance of <code>Date</code>. The invoke <code>getTime()</code> to get milliseconds. Then compare the milliseconds.</p>\n"},{"tags":[],"owner":{"account_id":3681456,"reputation":442,"user_id":3066330,"display_name":"Kenny Hung"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1411332946,"creation_date":1411332946,"answer_id":25963778,"question_id":25963720,"body_markdown":"The simplest and safest way would probably be to parse both of these strings as dates, and compare them. You can convert to a date using a SimpleDateFormat, use the before or after method on the date object to compare them.","title":"How to compare two string dates in Java?","body":"<p>The simplest and safest way would probably be to parse both of these strings as dates, and compare them. You can convert to a date using a SimpleDateFormat, use the before or after method on the date object to compare them.</p>\n"},{"tags":[],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520518000,"creation_date":1411332973,"answer_id":25963783,"question_id":25963720,"body_markdown":"Use [``SimpleDateFormat``][1] to convert to ``Date`` to compare:\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm&quot;);\r\n    Date start = sdf.parse(startDate);\r\n    Date end = sdf.parse(endDate);\r\n    System.out.println(start.before(end));\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","title":"How to compare two string dates in Java?","body":"<p>Use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a> to convert to <code>Date</code> to compare:</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy/MM/dd HH:mm\");\nDate start = sdf.parse(startDate);\nDate end = sdf.parse(endDate);\nSystem.out.println(start.before(end));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4531444,"reputation":533,"user_id":3681785,"accept_rate":50,"display_name":"sid smith"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1411348329,"creation_date":1411333127,"answer_id":25963807,"question_id":25963720,"body_markdown":"Here is a fully working demo. For date formatting, refer - http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\r\n\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.Locale;\r\n    \r\n    public class Dating {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tString startDate = &quot;2014/09/12 00:00&quot;;\r\n    \t\tString endDate = &quot;2014/09/13 00:00&quot;;\r\n    \r\n    \t\ttry {\r\n    \t\t\tDate start = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm&quot;, Locale.ENGLISH)\r\n    \t\t\t\t\t.parse(startDate);\r\n    \t\t\tDate end = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm&quot;, Locale.ENGLISH)\r\n    \t\t\t\t\t.parse(endDate);\r\n    \r\n    \t\t\tSystem.out.println(start);\r\n    \t\t\tSystem.out.println(end);\r\n    \r\n    \t\t\tif (start.compareTo(end) &gt; 0) {\r\n    \t\t\t\tSystem.out.println(&quot;start is after end&quot;);\r\n    \t\t\t} else if (start.compareTo(end) &lt; 0) {\r\n    \t\t\t\tSystem.out.println(&quot;start is before end&quot;);\r\n    \t\t\t} else if (start.compareTo(end) == 0) {\r\n    \t\t\t\tSystem.out.println(&quot;start is equal to end&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;Something weird happened...&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t} catch (ParseException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to compare two string dates in Java?","body":"<p>Here is a fully working demo. For date formatting, refer - <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html</a></p>\n\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Locale;\n\npublic class Dating {\n\n    public static void main(String[] args) {\n\n        String startDate = \"2014/09/12 00:00\";\n        String endDate = \"2014/09/13 00:00\";\n\n        try {\n            Date start = new SimpleDateFormat(\"yyyy/MM/dd HH:mm\", Locale.ENGLISH)\n                    .parse(startDate);\n            Date end = new SimpleDateFormat(\"yyyy/MM/dd HH:mm\", Locale.ENGLISH)\n                    .parse(endDate);\n\n            System.out.println(start);\n            System.out.println(end);\n\n            if (start.compareTo(end) &gt; 0) {\n                System.out.println(\"start is after end\");\n            } else if (start.compareTo(end) &lt; 0) {\n                System.out.println(\"start is before end\");\n            } else if (start.compareTo(end) == 0) {\n                System.out.println(\"start is equal to end\");\n            } else {\n                System.out.println(\"Something weird happened...\");\n            }\n\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1922425,"reputation":1733,"user_id":1733575,"accept_rate":0,"display_name":"Thadeuse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570516010,"creation_date":1440758060,"answer_id":32269006,"question_id":25963720,"body_markdown":"```java\r\npublic class DateComparision\r\n{\r\n\r\n    public static void main(String args[]) throws AssertionError, ParseException\r\n    {\r\n\r\n        DateFormat df = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n\r\n        //comparing date using compareTo method in Java\r\n        System.out.println(&quot;Comparing two Date in Java using CompareTo method&quot;);\r\n        \r\n        compareDatesByCompareTo(df, df.parse(&quot;01-01-2012&quot;), df.parse(&quot;01-01-2012&quot;));\r\n        compareDatesByCompareTo(df, df.parse(&quot;02-03-2012&quot;), df.parse(&quot;04-05-2012&quot;));\r\n        compareDatesByCompareTo(df, df.parse(&quot;02-03-2012&quot;), df.parse(&quot;01-02-2012&quot;));\r\n\r\n        //comparing dates in java using Date.before, Date.after and Date.equals\r\n        System.out.println(&quot;Comparing two Date in Java using Date&#39;s before, after and equals method&quot;);\r\n        \r\n        compareDatesByDateMethods(df, df.parse(&quot;01-01-2012&quot;), df.parse(&quot;01-01-2012&quot;));\r\n        compareDatesByDateMethods(df, df.parse(&quot;02-03-2012&quot;), df.parse(&quot;04-05-2012&quot;));\r\n        compareDatesByDateMethods(df, df.parse(&quot;02-03-2012&quot;), df.parse(&quot;01-02-2012&quot;));\r\n\r\n        //comparing dates in java using Calendar.before(), Calendar.after and Calendar.equals()\r\n        \r\n        System.out.println(&quot;Comparing two Date in Java using Calendar&#39;s before, after and equals method&quot;);\r\n        compareDatesByCalendarMethods(df, df.parse(&quot;01-01-2012&quot;), df.parse(&quot;01-01-2012&quot;));\r\n        compareDatesByCalendarMethods(df, df.parse(&quot;02-03-2012&quot;), df.parse(&quot;04-05-2012&quot;));\r\n        compareDatesByCalendarMethods(df, df.parse(&quot;02-03-2012&quot;), df.parse(&quot;01-02-2012&quot;));\r\n\r\n    }\r\n\r\n    public static void compareDatesByCompareTo(DateFormat df, Date oldDate, Date newDate)\r\n    {\r\n        //how to check if date1 is equal to date2\r\n        if (oldDate.compareTo(newDate) == 0)\r\n        {\r\n            System.out.println(df.format(oldDate) + &quot; and &quot; + df.format(newDate) + &quot; are equal to each other&quot;);\r\n        }\r\n\r\n        //checking if date1 is less than date 2\r\n        if (oldDate.compareTo(newDate) &lt; 0)\r\n        {\r\n            System.out.println(df.format(oldDate) + &quot; is less than &quot; + df.format(newDate));\r\n        }\r\n\r\n        //how to check if date1 is greater than date2 in java\r\n        if (oldDate.compareTo(newDate) &gt; 0)\r\n        {\r\n            System.out.println(df.format(oldDate) + &quot; is greater than &quot; + df.format(newDate));\r\n        }\r\n    }\r\n\r\n    public static void compareDatesByDateMethods(DateFormat df, Date oldDate, Date newDate)\r\n    {\r\n        //how to check if two dates are equals in java\r\n        if (oldDate.equals(newDate))\r\n        {\r\n            System.out.println(df.format(oldDate) + &quot; and &quot; + df.format(newDate) + &quot; are equal to each other&quot;);\r\n        }\r\n\r\n        //checking if date1 comes before date2\r\n        if (oldDate.before(newDate))\r\n        {\r\n            System.out.println(df.format(oldDate) + &quot; comes before &quot; + df.format(newDate));\r\n        }\r\n\r\n        //checking if date1 comes after date2\r\n        if (oldDate.after(newDate))\r\n        {\r\n            System.out.println(df.format(oldDate) + &quot; comes after &quot; + df.format(newDate));\r\n        }\r\n    }\r\n\r\n    public static void compareDatesByCalendarMethods(DateFormat df, Date oldDate, Date newDate)\r\n    {\r\n\r\n        //creating calendar instances for date comparision\r\n        Calendar oldCal = Calendar.getInstance();\r\n        Calendar newCal = Calendar.getInstance();\r\n\r\n        oldCal.setTime(oldDate);\r\n        newCal.setTime(newDate);\r\n\r\n        //how to check if two dates are equals in java using Calendar\r\n        if (oldCal.equals(newCal))\r\n        {\r\n            System.out.println(df.format(oldDate) + &quot; and &quot; + df.format(newDate) + &quot; are equal to each other&quot;);\r\n        }\r\n\r\n        //how to check if one date comes before another using Calendar\r\n        if (oldCal.before(newCal))\r\n        {\r\n            System.out.println(df.format(oldDate) + &quot; comes before &quot; + df.format(newDate));\r\n        }\r\n\r\n        //how to check if one date comes after another using Calendar\r\n        if (oldCal.after(newCal))\r\n        {\r\n            System.out.println(df.format(oldDate) + &quot; comes after &quot; + df.format(newDate));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**OUTPUT**\r\n```none\r\nComparing two Date in Java using CompareTo method\r\n01-01-2012 and 01-01-2012 are equal to each other\r\n02-03-2012 is less than 04-05-2012\r\n02-03-2012 is greater than 01-02-2012\r\n\r\nComparing two Date in Java using Date&#39;s before, after and equals method\r\n01-01-2012 and 01-01-2012 are equal to each other\r\n02-03-2012 comes before 04-05-2012\r\n02-03-2012 comes after 01-02-2012\r\n\r\nComparing two Date in Java using Calendar&#39;s before, after and equals method\r\n01-01-2012 and 01-01-2012 are equal to each other\r\n02-03-2012 comes before 04-05-2012\r\n02-03-2012 comes after 01-02-2012\r\n```","title":"How to compare two string dates in Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class DateComparision\n{\n\n    public static void main(String args[]) throws AssertionError, ParseException\n    {\n\n        DateFormat df = new SimpleDateFormat(\"dd-MM-yyyy\");\n\n        //comparing date using compareTo method in Java\n        System.out.println(\"Comparing two Date in Java using CompareTo method\");\n\n        compareDatesByCompareTo(df, df.parse(\"01-01-2012\"), df.parse(\"01-01-2012\"));\n        compareDatesByCompareTo(df, df.parse(\"02-03-2012\"), df.parse(\"04-05-2012\"));\n        compareDatesByCompareTo(df, df.parse(\"02-03-2012\"), df.parse(\"01-02-2012\"));\n\n        //comparing dates in java using Date.before, Date.after and Date.equals\n        System.out.println(\"Comparing two Date in Java using Date's before, after and equals method\");\n\n        compareDatesByDateMethods(df, df.parse(\"01-01-2012\"), df.parse(\"01-01-2012\"));\n        compareDatesByDateMethods(df, df.parse(\"02-03-2012\"), df.parse(\"04-05-2012\"));\n        compareDatesByDateMethods(df, df.parse(\"02-03-2012\"), df.parse(\"01-02-2012\"));\n\n        //comparing dates in java using Calendar.before(), Calendar.after and Calendar.equals()\n\n        System.out.println(\"Comparing two Date in Java using Calendar's before, after and equals method\");\n        compareDatesByCalendarMethods(df, df.parse(\"01-01-2012\"), df.parse(\"01-01-2012\"));\n        compareDatesByCalendarMethods(df, df.parse(\"02-03-2012\"), df.parse(\"04-05-2012\"));\n        compareDatesByCalendarMethods(df, df.parse(\"02-03-2012\"), df.parse(\"01-02-2012\"));\n\n    }\n\n    public static void compareDatesByCompareTo(DateFormat df, Date oldDate, Date newDate)\n    {\n        //how to check if date1 is equal to date2\n        if (oldDate.compareTo(newDate) == 0)\n        {\n            System.out.println(df.format(oldDate) + \" and \" + df.format(newDate) + \" are equal to each other\");\n        }\n\n        //checking if date1 is less than date 2\n        if (oldDate.compareTo(newDate) &lt; 0)\n        {\n            System.out.println(df.format(oldDate) + \" is less than \" + df.format(newDate));\n        }\n\n        //how to check if date1 is greater than date2 in java\n        if (oldDate.compareTo(newDate) &gt; 0)\n        {\n            System.out.println(df.format(oldDate) + \" is greater than \" + df.format(newDate));\n        }\n    }\n\n    public static void compareDatesByDateMethods(DateFormat df, Date oldDate, Date newDate)\n    {\n        //how to check if two dates are equals in java\n        if (oldDate.equals(newDate))\n        {\n            System.out.println(df.format(oldDate) + \" and \" + df.format(newDate) + \" are equal to each other\");\n        }\n\n        //checking if date1 comes before date2\n        if (oldDate.before(newDate))\n        {\n            System.out.println(df.format(oldDate) + \" comes before \" + df.format(newDate));\n        }\n\n        //checking if date1 comes after date2\n        if (oldDate.after(newDate))\n        {\n            System.out.println(df.format(oldDate) + \" comes after \" + df.format(newDate));\n        }\n    }\n\n    public static void compareDatesByCalendarMethods(DateFormat df, Date oldDate, Date newDate)\n    {\n\n        //creating calendar instances for date comparision\n        Calendar oldCal = Calendar.getInstance();\n        Calendar newCal = Calendar.getInstance();\n\n        oldCal.setTime(oldDate);\n        newCal.setTime(newDate);\n\n        //how to check if two dates are equals in java using Calendar\n        if (oldCal.equals(newCal))\n        {\n            System.out.println(df.format(oldDate) + \" and \" + df.format(newDate) + \" are equal to each other\");\n        }\n\n        //how to check if one date comes before another using Calendar\n        if (oldCal.before(newCal))\n        {\n            System.out.println(df.format(oldDate) + \" comes before \" + df.format(newDate));\n        }\n\n        //how to check if one date comes after another using Calendar\n        if (oldCal.after(newCal))\n        {\n            System.out.println(df.format(oldDate) + \" comes after \" + df.format(newDate));\n        }\n    }\n}\n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Comparing two Date in Java using CompareTo method\n01-01-2012 and 01-01-2012 are equal to each other\n02-03-2012 is less than 04-05-2012\n02-03-2012 is greater than 01-02-2012\n\nComparing two Date in Java using Date's before, after and equals method\n01-01-2012 and 01-01-2012 are equal to each other\n02-03-2012 comes before 04-05-2012\n02-03-2012 comes after 01-02-2012\n\nComparing two Date in Java using Calendar's before, after and equals method\n01-01-2012 and 01-01-2012 are equal to each other\n02-03-2012 comes before 04-05-2012\n02-03-2012 comes after 01-02-2012\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1685801,"reputation":10967,"user_id":1549135,"accept_rate":89,"display_name":"Atais"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501594606,"creation_date":1441108635,"answer_id":32331012,"question_id":25963720,"body_markdown":"I think it could be done much simpler,\r\n---\r\n**Using Joda Time**\r\n\r\nYou can try parsing this dates simply:\r\n\r\n    import org.joda.time.DateTime;\r\n    import org.joda.time.format.DateTimeFormat;\r\n    import org.joda.time.format.DateTimeFormatter;\r\n\r\n    DateTimeFormatter formatter = DateTimeFormat.forPattern(&quot;yyyy/MM/dd HH:mm&quot;);\r\n    DateTime d1 = formatter.parseDateTime(startDate);\r\n    DateTime d2 = formatter.parseDateTime(endDate);\r\n\r\n    Assert.assertTrue(d1.isBefore(d2));\r\n    Assert.assertTrue(d2.isAfter(d1));\r\n\r\n","title":"How to compare two string dates in Java?","body":"<h2>I think it could be done much simpler,</h2>\n\n<p><strong>Using Joda Time</strong></p>\n\n<p>You can try parsing this dates simply:</p>\n\n<pre><code>import org.joda.time.DateTime;\nimport org.joda.time.format.DateTimeFormat;\nimport org.joda.time.format.DateTimeFormatter;\n\nDateTimeFormatter formatter = DateTimeFormat.forPattern(\"yyyy/MM/dd HH:mm\");\nDateTime d1 = formatter.parseDateTime(startDate);\nDateTime d2 = formatter.parseDateTime(endDate);\n\nAssert.assertTrue(d1.isBefore(d2));\nAssert.assertTrue(d2.isAfter(d1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1570515613,"creation_date":1570515282,"answer_id":58281016,"question_id":25963720,"body_markdown":"# tl;dr\r\n\r\nUse modern *java.time* classes to parse the inputs into [`LocalDateTime`][1] objects by defining a formatting pattern with [`DateTimeFormatter`][2], and comparing by calling [`isBefore`][3]. \r\n\r\n# *java.time*\r\n\r\nThe modern approach uses the *java.time* classes.\r\n\r\nDefine a formatting pattern to match your inputs.\r\n\r\nParse as `LocalDateTime` objects, as your inputs lack an indicator of time zone or offset-from-UTC. \r\n\r\n\tString startInput = &quot;2014/09/12 00:00&quot;;\r\n\tString stopInput = &quot;2014/09/13 00:00&quot;;\r\n\t\r\n\tDateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;uuuu/MM/dd HH:mm&quot; );\r\n\t\r\n\tLocalDateTime start = LocalDateTime.parse( startInput , f ) ;\r\n\tLocalDateTime stop = LocalDateTime.parse( stopInput , f ) ;\r\n\tboolean isBefore = start.isBefore( stop ) ;\r\n\t\r\nDump to console.\r\n\r\n\tSystem.out.println( start + &quot; is before &quot; + stop + &quot; = &quot; + isBefore );\r\n\r\nSee this [code run live at IdeOne.com][4].\r\n\r\n\r\n&gt;2014-09-12T00:00 is before 2014-09-13T00:00 = true\r\n\r\n\r\n[![Table of date-time types in Java, both modern and legacy.][5]][5]\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n[![Table of which java.time library to use with which version of Java or Android.][6]][6]\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDateTime.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDateTime.html#isBefore(java.time.chrono.ChronoLocalDateTime)\r\n  [4]: https://ideone.com/P8zTBx\r\n  [5]: https://i.stack.imgur.com/f2Qn1.png\r\n  [6]: https://i.stack.imgur.com/ihPP2.png","title":"How to compare two string dates in Java?","body":"<h1>tl;dr</h1>\n\n<p>Use modern <em>java.time</em> classes to parse the inputs into <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a> objects by defining a formatting pattern with <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a>, and comparing by calling <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDateTime.html#isBefore(java.time.chrono.ChronoLocalDateTime)\" rel=\"noreferrer\"><code>isBefore</code></a>. </p>\n\n<h1><em>java.time</em></h1>\n\n<p>The modern approach uses the <em>java.time</em> classes.</p>\n\n<p>Define a formatting pattern to match your inputs.</p>\n\n<p>Parse as <code>LocalDateTime</code> objects, as your inputs lack an indicator of time zone or offset-from-UTC. </p>\n\n<pre><code>String startInput = \"2014/09/12 00:00\";\nString stopInput = \"2014/09/13 00:00\";\n\nDateTimeFormatter f = DateTimeFormatter.ofPattern( \"uuuu/MM/dd HH:mm\" );\n\nLocalDateTime start = LocalDateTime.parse( startInput , f ) ;\nLocalDateTime stop = LocalDateTime.parse( stopInput , f ) ;\nboolean isBefore = start.isBefore( stop ) ;\n</code></pre>\n\n<p>Dump to console.</p>\n\n<pre><code>System.out.println( start + \" is before \" + stop + \" = \" + isBefore );\n</code></pre>\n\n<p>See this <a href=\"https://ideone.com/P8zTBx\" rel=\"noreferrer\">code run live at IdeOne.com</a>.</p>\n\n<blockquote>\n  <p>2014-09-12T00:00 is before 2014-09-13T00:00 = true</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/f2Qn1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/f2Qn1.png\" alt=\"Table of date-time types in Java, both modern and legacy.\"></a></p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n\n<ul>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/ihPP2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ihPP2.png\" alt=\"Table of which java.time library to use with which version of Java or Android.\"></a></p>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"}],"owner":{"account_id":3344039,"reputation":11379,"user_id":2809564,"accept_rate":82,"display_name":"john"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157536,"favorite_count":0,"down_vote_count":1,"up_vote_count":31,"accepted_answer_id":25963764,"answer_count":8,"score":30,"last_activity_date":1645441755,"creation_date":1411332624,"question_id":25963720,"body_markdown":"I have two dates in String format like below - \r\n\r\n\tString startDate = &quot;2014/09/12 00:00&quot;;\r\n\r\n\tString endDate = &quot;2014/09/13 00:00&quot;;\r\n\t\r\nI want to make sure startDate should be less than endDate. startDate should not be greater than endDate.\r\n\r\nHow can I compare these two dates and return boolean accordingly?","title":"How to compare two string dates in Java?","body":"<p>I have two dates in String format like below - </p>\n\n<pre><code>String startDate = \"2014/09/12 00:00\";\n\nString endDate = \"2014/09/13 00:00\";\n</code></pre>\n\n<p>I want to make sure startDate should be less than endDate. startDate should not be greater than endDate.</p>\n\n<p>How can I compare these two dates and return boolean accordingly?</p>\n"},{"tags":["java","database","hibernate","session","transactions"],"comments":[{"owner":{"account_id":16305411,"reputation":455,"user_id":11775515,"display_name":"Prashant Joshi"},"score":0,"creation_date":1630571740,"post_id":25893476,"comment_id":121994657,"body_markdown":"[Depends on how you are creating session object ,see this answer here](https://stackoverflow.com/a/45733794/11775515) [Also check this ](https://stackoverflow.com/q/64527494/11775515)","body":"<a href=\"https://stackoverflow.com/a/45733794/11775515\">Depends on how you are creating session object ,see this answer here</a> [Also check this ](<a href=\"https://stackoverflow.com/q/64527494/11775515\">stackoverflow.com/q/64527494/11775515</a>)"}],"answers":[{"tags":[],"owner":{"account_id":2078753,"reputation":2150,"user_id":1851358,"accept_rate":64,"display_name":"faisalbhagat"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1410965821,"creation_date":1410965821,"answer_id":25893969,"question_id":25893476,"body_markdown":"From hibernates documentation \r\n\r\n&quot;A Session is an inexpensive, non-threadsafe object that should be used once and then discarded for: a single request, a conversation or a single unit of work. A Session will not obtain a JDBC Connection, or a Datasource, unless it is needed. It will not consume any resources until used.&quot;\r\n\r\nso if you are creating sessions again and again it will not burden the system much. If you are continuing a session for too long it may create problems as session is not thread safe .In my opinion you simplest solution is the best &quot;So the simplest way to do this is for each item that needs to be created to create a new session, open transaction, save new object, commit transaction, close session&quot;\r\n\r\nBy the way if you are creating single record of anything you dont need transaction too much. creating single record is inherently &quot; all or none&quot; thing for which we use transaction","title":"Can you have multiple transactions within one Hibernate Session?","body":"<p>From hibernates documentation </p>\n\n<p>\"A Session is an inexpensive, non-threadsafe object that should be used once and then discarded for: a single request, a conversation or a single unit of work. A Session will not obtain a JDBC Connection, or a Datasource, unless it is needed. It will not consume any resources until used.\"</p>\n\n<p>so if you are creating sessions again and again it will not burden the system much. If you are continuing a session for too long it may create problems as session is not thread safe .In my opinion you simplest solution is the best \"So the simplest way to do this is for each item that needs to be created to create a new session, open transaction, save new object, commit transaction, close session\"</p>\n\n<p>By the way if you are creating single record of anything you dont need transaction too much. creating single record is inherently \" all or none\" thing for which we use transaction</p>\n"},{"tags":[],"owner":{"account_id":5045299,"reputation":95,"user_id":4051499,"accept_rate":50,"display_name":"Vinay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411589573,"creation_date":1411589573,"answer_id":26025647,"question_id":25893476,"body_markdown":"Short answer is yes, you can use same session for transaction. Take a look at org.hibernate.Transaction., it has required method to manage transaction.","title":"Can you have multiple transactions within one Hibernate Session?","body":"<p>Short answer is yes, you can use same session for transaction. Take a look at org.hibernate.Transaction., it has required method to manage transaction.</p>\n"},{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1411592327,"creation_date":1411592327,"answer_id":26026378,"question_id":25893476,"body_markdown":"Obviously, you can. A hibernate session is more or less a database connection and a cache for database objects. And you can have multiple successive transactions in a single database connection. More, when you use a connection pool, the connection is not closed but is recycled.\r\n\r\nWhether you should or not is a matter of reusing objects from session. If there is a good chance but you can reuse objects that a preceding transaction has put in session, you should keep one single session for multiple transactions. But if once an object has been committed, it will never be re-used, it is certainly better to close the session and re-open a new one, or simply clear it.\r\n\r\nHow to do it :\r\n\r\nIf you have a Session object, you create transactions with :\r\n\r\n    Transaction transaction;\r\n    transaction = session.beginTransaction();\r\n    ... (operations in the context of transaction)\r\n    transaction.commit();\r\n    ... (other commands outside of any transaction)\r\n    transaction = session.beginTransaction();\r\n    ... (and so on and so forth ...)","title":"Can you have multiple transactions within one Hibernate Session?","body":"<p>Obviously, you can. A hibernate session is more or less a database connection and a cache for database objects. And you can have multiple successive transactions in a single database connection. More, when you use a connection pool, the connection is not closed but is recycled.</p>\n\n<p>Whether you should or not is a matter of reusing objects from session. If there is a good chance but you can reuse objects that a preceding transaction has put in session, you should keep one single session for multiple transactions. But if once an object has been committed, it will never be re-used, it is certainly better to close the session and re-open a new one, or simply clear it.</p>\n\n<p>How to do it :</p>\n\n<p>If you have a Session object, you create transactions with :</p>\n\n<pre><code>Transaction transaction;\ntransaction = session.beginTransaction();\n... (operations in the context of transaction)\ntransaction.commit();\n... (other commands outside of any transaction)\ntransaction = session.beginTransaction();\n... (and so on and so forth ...)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1610259151,"creation_date":1411592392,"answer_id":26026394,"question_id":25893476,"body_markdown":"The session-per-request pattern uses one JDBC connection per session if you run local transactions. For JTA, the connections are aggressively released after each statement only to be reacquired for the next statement.\r\n\r\nThe Hibernate transaction API delegates the begin/commit/rollback to the JDBC Connection for local transactions and to the associated UserTransaction for JTA. Therefore, you can run multiple transactions on the same Hibernate Session, but there&#39;s a catch. Once an exception is thrown you can no longer reuse that Session.\r\n\r\nMy advice is to divide-and-conquer. Just split all items, construct a Command object for each of those and send them to an [`ExecutorService#invokeAll`][2]. Use the returned List&lt;Future&gt; to iterate and call [`Future#get()`][3] to make sure the original thread waits after all batch jobs to complete. \r\n\r\nThe `ExecutorService` will make sure you run all Commands concurrently and each Command should use a Service that uses its own `@Transaction`. Because transactions are thread-bound you will have all [batch jobs run in isolation][4].\r\n\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#invokeAll%28java.util.Collection%29\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html#get%28%29\r\n  [4]: https://vladmihalcea.com/the-best-way-to-do-batch-processing-with-jpa-and-hibernate/","title":"Can you have multiple transactions within one Hibernate Session?","body":"<p>The session-per-request pattern uses one JDBC connection per session if you run local transactions. For JTA, the connections are aggressively released after each statement only to be reacquired for the next statement.</p>\n<p>The Hibernate transaction API delegates the begin/commit/rollback to the JDBC Connection for local transactions and to the associated UserTransaction for JTA. Therefore, you can run multiple transactions on the same Hibernate Session, but there's a catch. Once an exception is thrown you can no longer reuse that Session.</p>\n<p>My advice is to divide-and-conquer. Just split all items, construct a Command object for each of those and send them to an <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#invokeAll%28java.util.Collection%29\" rel=\"nofollow noreferrer\"><code>ExecutorService#invokeAll</code></a>. Use the returned List to iterate and call <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html#get%28%29\" rel=\"nofollow noreferrer\"><code>Future#get()</code></a> to make sure the original thread waits after all batch jobs to complete.</p>\n<p>The <code>ExecutorService</code> will make sure you run all Commands concurrently and each Command should use a Service that uses its own <code>@Transaction</code>. Because transactions are thread-bound you will have all <a href=\"https://vladmihalcea.com/the-best-way-to-do-batch-processing-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">batch jobs run in isolation</a>.</p>\n"},{"tags":[],"owner":{"account_id":7892743,"reputation":33,"user_id":5962402,"display_name":"Faizan Mohammad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627470174,"creation_date":1456215922,"answer_id":35572339,"question_id":25893476,"body_markdown":"    package hibernate;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\n    class Tester {\r\n    public static void main(String[] args) {\r\n        SessionFactory sf = new org.hibernate.cfg.Configuration().configure().buildSessionFactory(new StandardServiceRegistryBuilder().configure().build());\r\n        Session session = sf.openSession();\r\n        session.beginTransaction();\r\n            Student student = new Student();\r\n        student.setName(&quot;Mr X&quot;);\r\n        student.setRollNo(13090);\r\n            session.save(student);\r\n        session.getTransaction().commit();\r\n        session.getTransaction().begin();\r\n        session.load(Student.class,23);\r\n        student.setName(&quot;New Name&quot;);\r\n        student.setRollNo(123);\r\n        session.update(student);\r\n        session.getTransaction().commit();\r\n        session.close();\r\n      }\r\n    }\r\n","title":"Can you have multiple transactions within one Hibernate Session?","body":"<pre><code>package hibernate;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nclass Tester {\npublic static void main(String[] args) {\n    SessionFactory sf = new org.hibernate.cfg.Configuration().configure().buildSessionFactory(new StandardServiceRegistryBuilder().configure().build());\n    Session session = sf.openSession();\n    session.beginTransaction();\n        Student student = new Student();\n    student.setName(&quot;Mr X&quot;);\n    student.setRollNo(13090);\n        session.save(student);\n    session.getTransaction().commit();\n    session.getTransaction().begin();\n    session.load(Student.class,23);\n    student.setName(&quot;New Name&quot;);\n    student.setRollNo(123);\n    session.update(student);\n    session.getTransaction().commit();\n    session.close();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194363,"reputation":1,"user_id":4528004,"display_name":"Wang3an"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645441661,"creation_date":1645439557,"answer_id":71204764,"question_id":25893476,"body_markdown":" docs.jboss.org [Chapter 13. Transactions and Concurrency][1]\r\n&gt; Use a single database transaction to serve the clients request, starting and committing it when you open and close the Session. The relationship between the two is one-to-one and this model is a perfect fit for many applications. \r\n\r\nIt seemed we should always obey the &quot;one-to-one relationship&quot; rule.\r\n\r\nBut, although the sample below will trigger a exception in the line where the second &quot;session.beginTransaction()&quot; is called\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalStateException: Session/EntityManager is closed\r\n\r\n\r\n    \tprivate static void saveEmployees(SessionFactory factory) {\r\n\t\t// crate session\r\n\t\t//Session session = factory.openSession();\r\n\t\tSession session = factory.getCurrentSession();\r\n\r\n\r\n\t\t{\r\n\t\t\t// start a transaction\r\n\t\t\tTransaction trans = session.beginTransaction();\r\n\t\t\t\r\n\t\t\t// create an employee\r\n\t\t\tEmployee tempEmployee = new Employee(&quot;Steve&quot;,&quot;Rogers&quot;, &quot;The Avengers&quot;);\r\n\t\t\t// save to database\r\n\t\t\tsession.save(tempEmployee);\r\n\r\n\t\t\t// commit the transaction\r\n\t\t\ttrans.commit();\r\n\t\t}\r\n\t\t{\r\n\t\t\t// start a transaction\r\n\t\t\tTransaction trans = session.beginTransaction();\r\n\r\n\t\t\t// create an employee\r\n\t\t\tEmployee tempEmployee = new Employee(&quot;Tony&quot;,&quot;Stark&quot;, &quot;The Avengers&quot;);\r\n\t\t\t// save to database\r\n\t\t\tsession.save(tempEmployee);\r\n\t\t\t\r\n\t\t\t// commit the transaction\r\n\t\t\ttrans.commit();\r\n\t\t}\r\n\t\t\r\n\t\t// close session\r\n\t\tsession.close();\r\n\t\t\r\n\t}\r\n\r\n, another sample below will work properly.\r\nThe only difference is that the second sample uses &quot;factory.openSession()&quot; to get a session, instead of &quot;factory.getCurrentSession()&quot;.\r\n\r\n    \tprivate static void saveEmployees(SessionFactory factory) {\r\n\t\t// crate session\r\n\t\tSession session = factory.openSession();\r\n\t\t//Session session = factory.getCurrentSession();\r\n\r\n\r\n\t\t{\r\n\t\t\t// start a transaction\r\n\t\t\tTransaction trans = session.beginTransaction();\r\n\t\t\t\r\n\t\t\t// create an employee\r\n\t\t\tEmployee tempEmployee = new Employee(&quot;Steve&quot;,&quot;Rogers&quot;, &quot;The Avengers&quot;);\r\n\t\t\t// save to database\r\n\t\t\tsession.save(tempEmployee);\r\n\r\n\t\t\t// commit the transaction\r\n\t\t\ttrans.commit();\r\n\t\t}\r\n\t\t{\r\n\t\t\t// start a transaction\r\n\t\t\tTransaction trans = session.beginTransaction();\r\n\r\n\t\t\t// create an employee\r\n\t\t\tEmployee tempEmployee = new Employee(&quot;Tony&quot;,&quot;Stark&quot;, &quot;The Avengers&quot;);\r\n\t\t\t// save to database\r\n\t\t\tsession.save(tempEmployee);\r\n\t\t\t\r\n\t\t\t// commit the transaction\r\n\t\t\ttrans.commit();\r\n\t\t}\r\n\t\t\r\n\t\t// close session\r\n\t\tsession.close();\r\n\t\t\r\n\t}\r\n\r\nI am a starter, and I don&#39;t know why &quot;factory.getCurrentSession()&quot; works differently from &quot;factory.openSession()&quot;, yet.\r\n\r\n  [1]: https://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/transactions.html","title":"Can you have multiple transactions within one Hibernate Session?","body":"<p>docs.jboss.org <a href=\"https://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/transactions.html\" rel=\"nofollow noreferrer\">Chapter 13. Transactions and Concurrency</a></p>\n<blockquote>\n<p>Use a single database transaction to serve the clients request, starting and committing it when you open and close the Session. The relationship between the two is one-to-one and this model is a perfect fit for many applications.</p>\n</blockquote>\n<p>It seemed we should always obey the &quot;one-to-one relationship&quot; rule.</p>\n<p>But, although the sample below will trigger a exception in the line where the second &quot;session.beginTransaction()&quot; is called</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.IllegalStateException: Session/EntityManager is closed</p>\n</blockquote>\n<pre><code>    private static void saveEmployees(SessionFactory factory) {\n    // crate session\n    //Session session = factory.openSession();\n    Session session = factory.getCurrentSession();\n\n\n    {\n        // start a transaction\n        Transaction trans = session.beginTransaction();\n        \n        // create an employee\n        Employee tempEmployee = new Employee(&quot;Steve&quot;,&quot;Rogers&quot;, &quot;The Avengers&quot;);\n        // save to database\n        session.save(tempEmployee);\n\n        // commit the transaction\n        trans.commit();\n    }\n    {\n        // start a transaction\n        Transaction trans = session.beginTransaction();\n\n        // create an employee\n        Employee tempEmployee = new Employee(&quot;Tony&quot;,&quot;Stark&quot;, &quot;The Avengers&quot;);\n        // save to database\n        session.save(tempEmployee);\n        \n        // commit the transaction\n        trans.commit();\n    }\n    \n    // close session\n    session.close();\n    \n}\n</code></pre>\n<p>, another sample below will work properly.\nThe only difference is that the second sample uses &quot;factory.openSession()&quot; to get a session, instead of &quot;factory.getCurrentSession()&quot;.</p>\n<pre><code>    private static void saveEmployees(SessionFactory factory) {\n    // crate session\n    Session session = factory.openSession();\n    //Session session = factory.getCurrentSession();\n\n\n    {\n        // start a transaction\n        Transaction trans = session.beginTransaction();\n        \n        // create an employee\n        Employee tempEmployee = new Employee(&quot;Steve&quot;,&quot;Rogers&quot;, &quot;The Avengers&quot;);\n        // save to database\n        session.save(tempEmployee);\n\n        // commit the transaction\n        trans.commit();\n    }\n    {\n        // start a transaction\n        Transaction trans = session.beginTransaction();\n\n        // create an employee\n        Employee tempEmployee = new Employee(&quot;Tony&quot;,&quot;Stark&quot;, &quot;The Avengers&quot;);\n        // save to database\n        session.save(tempEmployee);\n        \n        // commit the transaction\n        trans.commit();\n    }\n    \n    // close session\n    session.close();\n    \n}\n</code></pre>\n<p>I am a starter, and I don't know why &quot;factory.getCurrentSession()&quot; works differently from &quot;factory.openSession()&quot;, yet.</p>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63968,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":26026394,"answer_count":6,"score":29,"last_activity_date":1645441661,"creation_date":1410964453,"question_id":25893476,"body_markdown":"Can you have multiple transactions within one Hibernate Session?\r\n\r\nI&#39;m unclear if this is an allowable desirable. In my code I have a long running thread and takes items from a Blocking Queue, depending on what is on the queue, it may need to create and save a hibernate object, or it may not need to do anything. \r\n\r\nEach item is distinct so if item 1 is saved and item 2 fails to save whatever reason I don&#39;t want to that to prevent item 1 being added to the database. \r\n\r\nSo the simplest way to do this is for each item that needs to be created to create a new session, open transaction, save new object, commit transaction, close session\r\n\r\nHowever, that means a new session is created for each item, which seems to go against Hibernates own recommendations to not do Session Per Request Pattern. So my alternative was to create one session in the thread, then just open and commit a new transaction as required when needed to create a new object. But I&#39;ve seen no examples of this approach and I&#39;m unsure if it actually works. ","title":"Can you have multiple transactions within one Hibernate Session?","body":"<p>Can you have multiple transactions within one Hibernate Session?</p>\n\n<p>I'm unclear if this is an allowable desirable. In my code I have a long running thread and takes items from a Blocking Queue, depending on what is on the queue, it may need to create and save a hibernate object, or it may not need to do anything. </p>\n\n<p>Each item is distinct so if item 1 is saved and item 2 fails to save whatever reason I don't want to that to prevent item 1 being added to the database. </p>\n\n<p>So the simplest way to do this is for each item that needs to be created to create a new session, open transaction, save new object, commit transaction, close session</p>\n\n<p>However, that means a new session is created for each item, which seems to go against Hibernates own recommendations to not do Session Per Request Pattern. So my alternative was to create one session in the thread, then just open and commit a new transaction as required when needed to create a new object. But I've seen no examples of this approach and I'm unsure if it actually works. </p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":2,"creation_date":1645440258,"post_id":71204417,"comment_id":125863630,"body_markdown":"First of all, is there any reasons why you&#39;re calling threads inside a thread? Secondly, I don&#39;t see any `notify()` nor `notifyAll()`, and the last one, what is the problem with &quot;always prefer the local endpoint&quot;? -- You can&#39;t decide which thread will run first after all.","body":"First of all, is there any reasons why you&#39;re calling threads inside a thread? Secondly, I don&#39;t see any <code>notify()</code> nor <code>notifyAll()</code>, and the last one, what is the problem with &quot;always prefer the local endpoint&quot;? -- You can&#39;t decide which thread will run first after all."},{"owner":{"account_id":8836205,"reputation":55,"user_id":6600404,"display_name":"Thomas Thaler"},"score":0,"creation_date":1645440958,"post_id":71204417,"comment_id":125863908,"body_markdown":"You&#39;re absolutely right, I forgot to add the calls to ```notify```. Strangely enough, it did work though. The problem with &quot;always prefer the local endpoint&quot; is that my program will then end up stuffing all the files found by Endpoint e1 into the watchlist so that basically running it simultaneously is invain.","body":"You&#39;re absolutely right, I forgot to add the calls to <code>notify</code>. Strangely enough, it did work though. The problem with &quot;always prefer the local endpoint&quot; is that my program will then end up stuffing all the files found by Endpoint e1 into the watchlist so that basically running it simultaneously is invain."},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1645441704,"post_id":71204417,"comment_id":125864182,"body_markdown":"If you must run second thread first, then what you will need is a volatile boolean -- lets say this value is `false` by default; first thread needs to check this var then lock it by the synchronized block, thus second thread will run and then notify the first thread after it has done its job.","body":"If you must run second thread first, then what you will need is a volatile boolean -- lets say this value is <code>false</code> by default; first thread needs to check this var then lock it by the synchronized block, thus second thread will run and then notify the first thread after it has done its job."},{"owner":{"account_id":8836205,"reputation":55,"user_id":6600404,"display_name":"Thomas Thaler"},"score":0,"creation_date":1645442043,"post_id":71204417,"comment_id":125864308,"body_markdown":"I don&#39;t strictly need to run the second thread first, I just want them to execute simultaneosly. The result should not be that one thread claims all the CPU time for itself but rather also grants the second thread the possibility to do its work","body":"I don&#39;t strictly need to run the second thread first, I just want them to execute simultaneosly. The result should not be that one thread claims all the CPU time for itself but rather also grants the second thread the possibility to do its work"},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1645442420,"post_id":71204417,"comment_id":125864446,"body_markdown":"It that case, set its priority or use `yield()`.","body":"It that case, set its priority or use <code>yield()</code>."}],"owner":{"account_id":8836205,"reputation":55,"user_id":6600404,"display_name":"Thomas Thaler"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645441626,"creation_date":1645438093,"question_id":71204417,"body_markdown":"I am currently working on optimizing the core of my small file synchronizer. For this purpose I wrote the following class, which takes 2 Endpoints (one of which is a local SSD on my computer and the otherone a remote SSH enabled server with a slower HDD) as an input. The purpose of this class is to make sure file reconciliation can already take place while still searching through the files. However the Java Thread scheduler seems to always prefer the local endpoint over the remote one.\r\n\r\nIs there any code specific reason for this? I already tried to use ```Collections.synchronizedMap()```, two instances of ```ConcurrentSkipListMap``` and my latest attempt features the ```lock``` object and a synchronized block as displayed below.\r\n\r\n```\r\npublic class FSComparator implements Runnable, FSCheckCompleteListener {\r\n\r\n    private final Map&lt;String, FSEntry&gt; entries1;\r\n\r\n    private final Map&lt;String, FSEntry&gt; entries2;\r\n\r\n    private final Consumer&lt;FSModification&gt; mod;\r\n\r\n    private final Set&lt;FSEntry&gt; watchList;\r\n\r\n    private final AbstractEndpoint&lt;?&gt; e1;\r\n\r\n    private final AbstractEndpoint&lt;?&gt; e2;\r\n\r\n    private final String dir1;\r\n\r\n    private final String dir2;\r\n\r\n    private final AtomicInteger completeCount = new AtomicInteger(0);\r\n\r\n    private final Object lock = new Object();\r\n\r\n    public FSComparator(String dir1, String dir2, AbstractEndpoint&lt;?&gt; e1, AbstractEndpoint&lt;?&gt; e2, Consumer&lt;FSModification&gt; mod){\r\n        // initialization\r\n    }\r\n\r\n    @Override\r\n    public void complete() {\r\n        if (completeCount.incrementAndGet() == 2){\r\n            checkWatchList();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            Thread t2 = new Thread(() -&gt; {\r\n                try {\r\n                    e2.getFiles(dir2, (f) -&gt; !f.equals(&quot;.DS_Store&quot;), (entry) -&gt; {\r\n                        synchronized (lock) {\r\n                            //System.out.println(&quot;e2&quot;);\r\n                            entries2.put(entry.getFilename(), entry);\r\n                            FSEntry other = entries1.get(entry.getFilename());\r\n\r\n                            // perform checks against Endpoint e1 involving checksums etc.\r\n                            // if the file cannot be found in the other Endpoint yet it is \r\n                            // added to the watchlist which is being checked at the end \r\n                            // when both threads finished\r\n                        }\r\n                    }, this);\r\n                } catch (EndpointException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            });\r\n            t2.start();\r\n\r\n            Thread t1 = new Thread(() -&gt; {\r\n                try {\r\n                    e1.getFiles(dir1, (f) -&gt; !f.equals(&quot;.DS_Store&quot;), (entry) -&gt; {\r\n                        synchronized (lock) {\r\n                            //System.out.println(&quot;e1&quot;);\r\n                            entries1.put(entry.getFilename(), entry);\r\n                            FSEntry other = entries2.get(entry.getFilename());\r\n\r\n                            // perform checks against Endpoint e2 involving checksums etc.\r\n                            // if the file cannot be found in the other Endpoint yet it is \r\n                            // added to the watchlist which is being checked at the end \r\n                            // when both threads finished\r\n                        }\r\n                    }, this);\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            });\r\n            t1.start();\r\n\r\n            t2.join();\r\n            t1.join();\r\n        } catch (Exception ex){\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void checkWatchList(){\r\n        // final check of remaining entries in the watchlist\r\n    }\r\n}\r\n```\r\n\r\nAlso it does not matter whether I start Thread t2 first, still t1 is being preferred. Maybe I am overlooking something with regards to multi-threading.","title":"Multi-threading scheduler does not work properly","body":"<p>I am currently working on optimizing the core of my small file synchronizer. For this purpose I wrote the following class, which takes 2 Endpoints (one of which is a local SSD on my computer and the otherone a remote SSH enabled server with a slower HDD) as an input. The purpose of this class is to make sure file reconciliation can already take place while still searching through the files. However the Java Thread scheduler seems to always prefer the local endpoint over the remote one.</p>\n<p>Is there any code specific reason for this? I already tried to use <code>Collections.synchronizedMap()</code>, two instances of <code>ConcurrentSkipListMap</code> and my latest attempt features the <code>lock</code> object and a synchronized block as displayed below.</p>\n<pre><code>public class FSComparator implements Runnable, FSCheckCompleteListener {\n\n    private final Map&lt;String, FSEntry&gt; entries1;\n\n    private final Map&lt;String, FSEntry&gt; entries2;\n\n    private final Consumer&lt;FSModification&gt; mod;\n\n    private final Set&lt;FSEntry&gt; watchList;\n\n    private final AbstractEndpoint&lt;?&gt; e1;\n\n    private final AbstractEndpoint&lt;?&gt; e2;\n\n    private final String dir1;\n\n    private final String dir2;\n\n    private final AtomicInteger completeCount = new AtomicInteger(0);\n\n    private final Object lock = new Object();\n\n    public FSComparator(String dir1, String dir2, AbstractEndpoint&lt;?&gt; e1, AbstractEndpoint&lt;?&gt; e2, Consumer&lt;FSModification&gt; mod){\n        // initialization\n    }\n\n    @Override\n    public void complete() {\n        if (completeCount.incrementAndGet() == 2){\n            checkWatchList();\n        }\n    }\n\n    @Override\n    public void run() {\n        try {\n            Thread t2 = new Thread(() -&gt; {\n                try {\n                    e2.getFiles(dir2, (f) -&gt; !f.equals(&quot;.DS_Store&quot;), (entry) -&gt; {\n                        synchronized (lock) {\n                            //System.out.println(&quot;e2&quot;);\n                            entries2.put(entry.getFilename(), entry);\n                            FSEntry other = entries1.get(entry.getFilename());\n\n                            // perform checks against Endpoint e1 involving checksums etc.\n                            // if the file cannot be found in the other Endpoint yet it is \n                            // added to the watchlist which is being checked at the end \n                            // when both threads finished\n                        }\n                    }, this);\n                } catch (EndpointException ex) {\n                    ex.printStackTrace();\n                }\n            });\n            t2.start();\n\n            Thread t1 = new Thread(() -&gt; {\n                try {\n                    e1.getFiles(dir1, (f) -&gt; !f.equals(&quot;.DS_Store&quot;), (entry) -&gt; {\n                        synchronized (lock) {\n                            //System.out.println(&quot;e1&quot;);\n                            entries1.put(entry.getFilename(), entry);\n                            FSEntry other = entries2.get(entry.getFilename());\n\n                            // perform checks against Endpoint e2 involving checksums etc.\n                            // if the file cannot be found in the other Endpoint yet it is \n                            // added to the watchlist which is being checked at the end \n                            // when both threads finished\n                        }\n                    }, this);\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n            });\n            t1.start();\n\n            t2.join();\n            t1.join();\n        } catch (Exception ex){\n            ex.printStackTrace();\n        }\n    }\n\n    private void checkWatchList(){\n        // final check of remaining entries in the watchlist\n    }\n}\n</code></pre>\n<p>Also it does not matter whether I start Thread t2 first, still t1 is being preferred. Maybe I am overlooking something with regards to multi-threading.</p>\n"},{"tags":["javascript","java","node.js","arduino-c++"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1645380924,"post_id":71196508,"comment_id":125850813,"body_markdown":"I won&#39;t worry about this as long you have periodically enough data from the sensor. If temp or hum is undefined, don&#39;t write to the log. With radio tx and serial sensor connection, this could be the &quot;normal&quot; behavior for a home project and not for a nuclear plant. \n(You should tag the Q with JavaScript).","body":"I won&#39;t worry about this as long you have periodically enough data from the sensor. If temp or hum is undefined, don&#39;t write to the log. With radio tx and serial sensor connection, this could be the &quot;normal&quot; behavior for a home project and not for a nuclear plant.  (You should tag the Q with JavaScript)."},{"owner":{"account_id":24317661,"reputation":1,"user_id":18258574,"display_name":"Gavin Naylor"},"score":0,"creation_date":1645386841,"post_id":71196508,"comment_id":125852307,"body_markdown":"Thanks for your comments Peter. I will give &quot;If temp or hum is undefined, don&#39;t write to the log&quot; a shot. My original thought was to get out of the JSON.parse() when the error occurs and then recall it until the error goes away.","body":"Thanks for your comments Peter. I will give &quot;If temp or hum is undefined, don&#39;t write to the log&quot; a shot. My original thought was to get out of the JSON.parse() when the error occurs and then recall it until the error goes away."}],"answers":[{"tags":[],"owner":{"account_id":24317661,"reputation":1,"user_id":18258574,"display_name":"Gavin Naylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645441392,"creation_date":1645441392,"answer_id":71205185,"question_id":71196508,"body_markdown":"I did some changes to my code to check the contents of the **const sensorData = tryParseJson(data)** as shown below.\r\n```\r\n\tconst sensorData = tryParseJson(data);\r\n\r\n\t\tif (sensorData.temperature == undefined || sensorData.humidity == undefined){\r\n\t\t\t//console.log(&#39;Temperature or Humidity is undefined&#39;);\r\n\t\t} else {\r\n```\r\n\r\nand then used a **IF statement** to append **or not** append to the log.txt file.\r\n\r\nEverything is now working, however there is still one minor issue.\r\n\r\nI noticed something in the log.txt file. If the value of the temp or humidity is say 25.00, then the file will have 25. will no trailing zero&#39;s. This will not happen say if the temp is 25.4\r\n\r\nif I check the values of sensorData in this line of code **const sensorData = tryParseJson(data);** the values are correct. They seem to change with **fs.appendFile**\r\n\r\nAny idea why?","title":"I am have a problem reading some data using the serial.read() command","body":"<p>I did some changes to my code to check the contents of the <strong>const sensorData = tryParseJson(data)</strong> as shown below.</p>\n<pre><code>    const sensorData = tryParseJson(data);\n\n        if (sensorData.temperature == undefined || sensorData.humidity == undefined){\n            //console.log('Temperature or Humidity is undefined');\n        } else {\n</code></pre>\n<p>and then used a <strong>IF statement</strong> to append <strong>or not</strong> append to the log.txt file.</p>\n<p>Everything is now working, however there is still one minor issue.</p>\n<p>I noticed something in the log.txt file. If the value of the temp or humidity is say 25.00, then the file will have 25. will no trailing zero's. This will not happen say if the temp is 25.4</p>\n<p>if I check the values of sensorData in this line of code <strong>const sensorData = tryParseJson(data);</strong> the values are correct. They seem to change with <strong>fs.appendFile</strong></p>\n<p>Any idea why?</p>\n"}],"owner":{"account_id":24317661,"reputation":1,"user_id":18258574,"display_name":"Gavin Naylor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71205185,"answer_count":1,"score":0,"last_activity_date":1645441392,"creation_date":1645375322,"question_id":71196508,"body_markdown":"I am periodically reading the temperature and Humidity values from a DHT22 sensor in a green house tunnel. \r\n\r\nThe sensor is attached to a Arduino Pro Mini. The Pro Mini also has a nF24l01 transceiver attached to it, and the readings are transmitted to another nF24L01/Arduino Pro Mini in my office. \r\n\r\nThe Arduino is connected to a desktop PC via a USB serial cable.\r\n\r\nThe intention is to write the received Temperatue and Humidity readings to a file in a CSV format.\r\n\r\nI am receiving all the data over the radio link which in-turn is feed to my PC via my USB port. I am running Node with a file called index.js.\r\n\r\nBelow is the code from the Arduino connected to the PC. It is the receiver side of the radio link.\r\n```\r\n[code]\r\n/*\r\n   See documentation at https://nRF24.github.io/RF24\r\n   See License information at root directory of this library\r\n   Author: Brendan Doherty (2bndy5)\r\n*/\r\n\r\n/**\r\n   A simple example of sending data from 1 nRF24L01 transceiver to another.\r\n  String message = &quot;&quot;;\r\n   This example was written to be used on 2 devices acting as &quot;nodes&quot;.\r\n   Use the Serial Monitor to change each node&#39;s behavior.\r\n*/\r\n#include &lt;SPI.h&gt;\r\n#include &lt;printf.h&gt;\r\n#include &lt;nRF24L01.h&gt;\r\n#include &lt;RF24.h&gt;\r\n\r\nstruct dataStruct {\r\n  float HumH;\r\n  float TempC;\r\n} myData;\r\n\r\nbool newData = false;\r\n\r\nRF24 radio(9, 10); // using pin 7 for the CE pin, andradio.read(&amp;data, sizeof(MyData)); pin 8 for the CSN pin\r\n\r\nuint8_t address[][6] = {&quot;1Node&quot;, &quot;2Node&quot;};\r\n\r\nbool radioNumber = 1; // 0 uses address[0] to transmit, 1 uses address[1] to transmit\r\n\r\nbool role = false;  // true = TX role, false = RX role\r\n\r\nvoid setup() {\r\n  Serial.begin(115200);\r\n\r\n  if (!radio.begin()) {\r\n    Serial.println(F(&quot;radio hardware is not responding!!&quot;));\r\n    while (1) {} // hold in infinite loop\r\n  }\r\n\r\n  radio.setPALevel(RF24_PA_HIGH);                  // RF24_PA_MAX is default.\r\n  radio.setPayloadSize(sizeof(dataStruct));           // float datatype occupies 4 bytes\r\n  radio.openWritingPipe(address[radioNumber]);     // always uses pipe 0\r\n  radio.openReadingPipe(1, address[!radioNumber]); // using pipe 1\r\n  radio.startListening(); // put radio in RX mode\r\n\r\n  // For debugging info\r\n  printf_begin();             // needed only once for printing details\r\n  radio.printDetails();       // (smaller) function that prints raw register values\r\n  radio.printPrettyDetails(); // (larger) function that prints human readable data\r\n\r\n} // end of setup\r\n\r\nvoid getData() {\r\n\r\n  if (radio.available()) {\r\n\r\n    //Serial.println(&quot;Radio is available******&quot;);\r\n\r\n    radio.read(&amp;myData, sizeof(dataStruct));\r\n    newData = true;\r\n  }\r\n  //Serial.println(&quot;Radio is NOT available******&quot;);\r\n}\r\n\r\nvoid showData() {\r\n  if (newData == true) {\r\n    String message = &quot;&quot;;\r\n    message = message + &quot;{\\&quot;humidity\\&quot;: &quot;;\r\n    message = message + myData.HumH;\r\n    message = message + &quot;, \\&quot;temperature\\&quot;: &quot;;\r\n    message = message + myData.TempC;\r\n    message = message + &quot;}&quot;;\r\n    \r\n    Serial.println(message);\r\n    newData = false;\r\n  }\r\n}\r\n\r\nvoid loop() {\r\n\r\n  getData();\r\n  showData();\r\n}\r\n[/code]\r\n```\r\nBelow is a screen shot of the serial output of the Arduino Pro Mini connected to my PC shown what is being received from the green house and what is being sent to the PC.\r\n\r\n[Arduino Serial port screen shot][1]\r\n\r\n\r\nThe index2.js code is listed below\r\n\r\n```\r\nconst SerialPort = require(&#39;serialport&#39;);\r\n//const Readline = new SerialPort.parsers.Readline(&#39;\\n&#39;);\r\nconst port = new SerialPort(&#39;/dev/ttyUSB0&#39;, {\r\n\tbaudRate: 115200\r\n});\r\n\r\nconst fs = require(&#39;fs&#39;);\r\nconst { endianness } = require(&#39;os&#39;);\r\nconst { exit } = require(&#39;process&#39;);\r\nconst { Console } = require(&#39;console&#39;);\r\n\r\n//const logIntervalMinutes = 1;\r\nlet lastMoment = new Date();\r\n\r\nfunction tryParseJson(str) {\r\n\ttry {\r\n\t\tJSON.parse(str);\r\n\r\n\t} catch (e) {\r\n\t\t\r\n\t\tconsole.log(&quot;JSON error&quot;)\r\n\t\treturn false;\r\n\t}\r\n\treturn JSON.parse(str);\r\n}\r\n\r\nconsole.log(&#39;Initialising...&#39;);\r\n\r\nport.on(&#39;open&#39;, function () {\r\n\r\n\tconsole.log(&#39;Opened port...&#39;);\r\n\tport.on(&#39;data&#39;, function (data) {\r\n\r\n\t\tconst sensorData = tryParseJson(data);\r\n\r\n\t\tconsole.log(&#39;Data:  &#39; + data);\r\n\t\tconst moment = new Date();\r\n\r\n\t\tfs.appendFile(&#39;log.txt&#39;, `\\n${sensorData.temperature} , ${sensorData.humidity} , ${moment}`, function (err) {\r\n\t\t\tif (err) {\r\n\t\t\t\tconsole.log(&#39;Your Jason has failed to get a complete string...&#39;);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(&#39;Logged data: &#39;, moment);\r\n\t\t\t};\r\n\t\t});\r\n\t});\r\n});\r\n```\r\nWhen I run **node index2.js** and look at the log.txt file I see that sometimes the temp/Hum values are listed as **undefined** as show in the screen shot below.\r\n\r\n[log.txt][2]\r\n\r\nAfter a bit of debugging I saw the following in the **console.log()** as show in the screen shot below.\r\n\r\n[Console.log() screen shot with program running.][3]\r\n\r\nSo my problem is that every now and again, the fs.append can&#39;t determine the value of sensorData.temperature and sensorData.humidity. The fs.append still appends a record to the log.txt file but the 1st two fields have **undefined** in them.\r\n\r\n```\r\n\tfs.appendFile(&#39;log.txt&#39;, `\\n${sensorData.temperature} , ${sensorData.humidity} , ${moment}`, function (err) {\r\n\t\t\tif (err) {\r\n\t\t\t\tconsole.log(&#39;Your Jason has failed to get a complete string...&#39;);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(&#39;Logged data: &#39;, moment);\r\n\t\t\t};\r\n\t\t});\r\n```\r\nIt appears that **function tryParseJson(str)** sometimes only gets some of the data and not the full JSON object. see code below,\r\n\r\n```\r\nfunction tryParseJson(str) {\r\n\ttry {\r\n\t\tJSON.parse(str);\r\n\r\n\t} catch (e) {\r\n\t\t\r\n\t\tconsole.log(&quot;JSON error&quot;)\r\n\t\treturn false;\r\n\t}\r\n\treturn JSON.parse(str);\r\n```\r\nI see that **catch (e)** gets called and my **console.log(&quot;JSON error&quot;)** gets printed.\r\n\r\nI need some help to work out how to resolve this..\r\n\r\n  [1]: https://i.stack.imgur.com/2VEic.png\r\n  [2]: https://i.stack.imgur.com/HJfqX.png\r\n  [3]: https://i.stack.imgur.com/ceM2k.png","title":"I am have a problem reading some data using the serial.read() command","body":"<p>I am periodically reading the temperature and Humidity values from a DHT22 sensor in a green house tunnel.</p>\n<p>The sensor is attached to a Arduino Pro Mini. The Pro Mini also has a nF24l01 transceiver attached to it, and the readings are transmitted to another nF24L01/Arduino Pro Mini in my office.</p>\n<p>The Arduino is connected to a desktop PC via a USB serial cable.</p>\n<p>The intention is to write the received Temperatue and Humidity readings to a file in a CSV format.</p>\n<p>I am receiving all the data over the radio link which in-turn is feed to my PC via my USB port. I am running Node with a file called index.js.</p>\n<p>Below is the code from the Arduino connected to the PC. It is the receiver side of the radio link.</p>\n<pre><code>[code]\n/*\n   See documentation at https://nRF24.github.io/RF24\n   See License information at root directory of this library\n   Author: Brendan Doherty (2bndy5)\n*/\n\n/**\n   A simple example of sending data from 1 nRF24L01 transceiver to another.\n  String message = &quot;&quot;;\n   This example was written to be used on 2 devices acting as &quot;nodes&quot;.\n   Use the Serial Monitor to change each node's behavior.\n*/\n#include &lt;SPI.h&gt;\n#include &lt;printf.h&gt;\n#include &lt;nRF24L01.h&gt;\n#include &lt;RF24.h&gt;\n\nstruct dataStruct {\n  float HumH;\n  float TempC;\n} myData;\n\nbool newData = false;\n\nRF24 radio(9, 10); // using pin 7 for the CE pin, andradio.read(&amp;data, sizeof(MyData)); pin 8 for the CSN pin\n\nuint8_t address[][6] = {&quot;1Node&quot;, &quot;2Node&quot;};\n\nbool radioNumber = 1; // 0 uses address[0] to transmit, 1 uses address[1] to transmit\n\nbool role = false;  // true = TX role, false = RX role\n\nvoid setup() {\n  Serial.begin(115200);\n\n  if (!radio.begin()) {\n    Serial.println(F(&quot;radio hardware is not responding!!&quot;));\n    while (1) {} // hold in infinite loop\n  }\n\n  radio.setPALevel(RF24_PA_HIGH);                  // RF24_PA_MAX is default.\n  radio.setPayloadSize(sizeof(dataStruct));           // float datatype occupies 4 bytes\n  radio.openWritingPipe(address[radioNumber]);     // always uses pipe 0\n  radio.openReadingPipe(1, address[!radioNumber]); // using pipe 1\n  radio.startListening(); // put radio in RX mode\n\n  // For debugging info\n  printf_begin();             // needed only once for printing details\n  radio.printDetails();       // (smaller) function that prints raw register values\n  radio.printPrettyDetails(); // (larger) function that prints human readable data\n\n} // end of setup\n\nvoid getData() {\n\n  if (radio.available()) {\n\n    //Serial.println(&quot;Radio is available******&quot;);\n\n    radio.read(&amp;myData, sizeof(dataStruct));\n    newData = true;\n  }\n  //Serial.println(&quot;Radio is NOT available******&quot;);\n}\n\nvoid showData() {\n  if (newData == true) {\n    String message = &quot;&quot;;\n    message = message + &quot;{\\&quot;humidity\\&quot;: &quot;;\n    message = message + myData.HumH;\n    message = message + &quot;, \\&quot;temperature\\&quot;: &quot;;\n    message = message + myData.TempC;\n    message = message + &quot;}&quot;;\n    \n    Serial.println(message);\n    newData = false;\n  }\n}\n\nvoid loop() {\n\n  getData();\n  showData();\n}\n[/code]\n</code></pre>\n<p>Below is a screen shot of the serial output of the Arduino Pro Mini connected to my PC shown what is being received from the green house and what is being sent to the PC.</p>\n<p><a href=\"https://i.stack.imgur.com/2VEic.png\" rel=\"nofollow noreferrer\">Arduino Serial port screen shot</a></p>\n<p>The index2.js code is listed below</p>\n<pre><code>const SerialPort = require('serialport');\n//const Readline = new SerialPort.parsers.Readline('\\n');\nconst port = new SerialPort('/dev/ttyUSB0', {\n    baudRate: 115200\n});\n\nconst fs = require('fs');\nconst { endianness } = require('os');\nconst { exit } = require('process');\nconst { Console } = require('console');\n\n//const logIntervalMinutes = 1;\nlet lastMoment = new Date();\n\nfunction tryParseJson(str) {\n    try {\n        JSON.parse(str);\n\n    } catch (e) {\n        \n        console.log(&quot;JSON error&quot;)\n        return false;\n    }\n    return JSON.parse(str);\n}\n\nconsole.log('Initialising...');\n\nport.on('open', function () {\n\n    console.log('Opened port...');\n    port.on('data', function (data) {\n\n        const sensorData = tryParseJson(data);\n\n        console.log('Data:  ' + data);\n        const moment = new Date();\n\n        fs.appendFile('log.txt', `\\n${sensorData.temperature} , ${sensorData.humidity} , ${moment}`, function (err) {\n            if (err) {\n                console.log('Your Jason has failed to get a complete string...');\n            } else {\n                console.log('Logged data: ', moment);\n            };\n        });\n    });\n});\n</code></pre>\n<p>When I run <strong>node index2.js</strong> and look at the log.txt file I see that sometimes the temp/Hum values are listed as <strong>undefined</strong> as show in the screen shot below.</p>\n<p><a href=\"https://i.stack.imgur.com/HJfqX.png\" rel=\"nofollow noreferrer\">log.txt</a></p>\n<p>After a bit of debugging I saw the following in the <strong>console.log()</strong> as show in the screen shot below.</p>\n<p><a href=\"https://i.stack.imgur.com/ceM2k.png\" rel=\"nofollow noreferrer\">Console.log() screen shot with program running.</a></p>\n<p>So my problem is that every now and again, the fs.append can't determine the value of sensorData.temperature and sensorData.humidity. The fs.append still appends a record to the log.txt file but the 1st two fields have <strong>undefined</strong> in them.</p>\n<pre><code>    fs.appendFile('log.txt', `\\n${sensorData.temperature} , ${sensorData.humidity} , ${moment}`, function (err) {\n            if (err) {\n                console.log('Your Jason has failed to get a complete string...');\n            } else {\n                console.log('Logged data: ', moment);\n            };\n        });\n</code></pre>\n<p>It appears that <strong>function tryParseJson(str)</strong> sometimes only gets some of the data and not the full JSON object. see code below,</p>\n<pre><code>function tryParseJson(str) {\n    try {\n        JSON.parse(str);\n\n    } catch (e) {\n        \n        console.log(&quot;JSON error&quot;)\n        return false;\n    }\n    return JSON.parse(str);\n</code></pre>\n<p>I see that <strong>catch (e)</strong> gets called and my <strong>console.log(&quot;JSON error&quot;)</strong> gets printed.</p>\n<p>I need some help to work out how to resolve this..</p>\n"},{"tags":["java","docker","intellij-idea","docker-compose"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645441295,"creation_date":1645441295,"answer_id":71205171,"question_id":71205054,"body_markdown":"**Docker part:**\r\n\r\nCan you try to remove a `host` network mode? And check whether it works.\r\n\r\nAlternatively I don&#39;t see a reason to use port forwarding here, these two configurations are kind of mutually exclusive.\r\n\r\nFrom the documentation: \r\n\r\n&gt;If you use the host network mode for a container, that container’s network stack is not isolated from the Docker host (the container shares the host’s networking namespace), and the container does not get its own IP-address allocated. For instance, if you run a container which binds to port 80 and you use host networking, the container’s application is available on port 80 on the host’s IP address.\r\n\r\nAnd then:\r\n\r\n&gt;Note: Given that the container does not have its own IP-address when using host mode networking, port-mapping does not take effect, and the -p, --publish, -P, and --publish-all option are ignored\r\n\r\nSo bottom line you should not deal with port forwarding in the network-mode=host and just make sure that your port is available on the host machine.\r\n\r\n\r\n**Java part:**\r\n\r\nIt looks like your &quot;java&quot; part is ok, however it has a nuance: depending on the actual java version the remote server options slightly change:\r\n\r\nFor example in java 11 you should use:\r\n~~~\r\n-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:9251\r\n~~~\r\nAnd in java 8:\r\n~~~\r\n-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=:9251\r\n~~~\r\n\r\nNote the &quot;*&quot; that has changed. So you should try that...\r\n","title":"How to Remote debug of java application running as docker container in Intellij","body":"<p><strong>Docker part:</strong></p>\n<p>Can you try to remove a <code>host</code> network mode? And check whether it works.</p>\n<p>Alternatively I don't see a reason to use port forwarding here, these two configurations are kind of mutually exclusive.</p>\n<p>From the documentation:</p>\n<blockquote>\n<p>If you use the host network mode for a container, that container’s network stack is not isolated from the Docker host (the container shares the host’s networking namespace), and the container does not get its own IP-address allocated. For instance, if you run a container which binds to port 80 and you use host networking, the container’s application is available on port 80 on the host’s IP address.</p>\n</blockquote>\n<p>And then:</p>\n<blockquote>\n<p>Note: Given that the container does not have its own IP-address when using host mode networking, port-mapping does not take effect, and the -p, --publish, -P, and --publish-all option are ignored</p>\n</blockquote>\n<p>So bottom line you should not deal with port forwarding in the network-mode=host and just make sure that your port is available on the host machine.</p>\n<p><strong>Java part:</strong></p>\n<p>It looks like your &quot;java&quot; part is ok, however it has a nuance: depending on the actual java version the remote server options slightly change:</p>\n<p>For example in java 11 you should use:</p>\n<pre><code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:9251\n</code></pre>\n<p>And in java 8:</p>\n<pre><code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=:9251\n</code></pre>\n<p>Note the &quot;*&quot; that has changed. So you should try that...</p>\n"}],"owner":{"account_id":1958805,"reputation":2191,"user_id":1761065,"accept_rate":86,"display_name":"Mahendran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5075,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71205171,"answer_count":1,"score":4,"last_activity_date":1645441295,"creation_date":1645440811,"question_id":71205054,"body_markdown":"In the below example since I have many environment variables I cannot directly run ENTRYPOINT with  java -jar command option. Instead I have used entrypoint.sh\r\n\r\nDockerfile\r\n\r\n    ENV JAVA_TOOL_OPTIONS -agentlib:jdwp=transport=dt_socket,address=9251,server=y,suspend=n\r\n    RUN [&quot;chmod&quot;, &quot;777&quot;, &quot;entrypoint.sh&quot;]\r\n    ENTRYPOINT [&quot;bash&quot;,&quot;entrypoint.sh&quot;]\r\n    EXPOSE 9251\r\n\r\nentrypoint.sh\r\n    \r\n    java $JVM_OPTS $JAVA_OPTS org.springframework.boot.loader.JarLauncher\r\n\r\ndocker-compose.yaml\r\n\r\n    version: &#39;3.1&#39;\r\n\r\n\tservices:\r\n\t  bus:                                           \r\n\t\timage: sample-image\r\n\t\tnetwork_mode: &quot;host&quot;\r\n\t\tports:\r\n\t\t  - 9251:9251\r\n\t\tenvironment:\r\n\t\t  - DEBUG_PORT=9251\r\n\t\t  - JVM_OPTS=-Xms1G -Xmx5G -XX:MaxMetaspaceSize=512m -XX:+UseG1GC\r\n\r\nIn the below snapshot we can see when the service is started with debugging enabled \r\n[![enter image description here][1]][1]\r\n\r\nwhen running `sudo netstat -tulpn | grep :9251` shows\r\n\r\nThe docker is running in a linux box which I am trying to connect from local windows machine. Also note that it is mandatory that I need to keep the network_mode as `host`.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EeA4z.png\r\n  [2]: https://i.stack.imgur.com/D16sw.png\r\n  [3]: https://i.stack.imgur.com/sur6J.png","title":"How to Remote debug of java application running as docker container in Intellij","body":"<p>In the below example since I have many environment variables I cannot directly run ENTRYPOINT with  java -jar command option. Instead I have used entrypoint.sh</p>\n<p>Dockerfile</p>\n<pre><code>ENV JAVA_TOOL_OPTIONS -agentlib:jdwp=transport=dt_socket,address=9251,server=y,suspend=n\nRUN [&quot;chmod&quot;, &quot;777&quot;, &quot;entrypoint.sh&quot;]\nENTRYPOINT [&quot;bash&quot;,&quot;entrypoint.sh&quot;]\nEXPOSE 9251\n</code></pre>\n<p>entrypoint.sh</p>\n<pre><code>java $JVM_OPTS $JAVA_OPTS org.springframework.boot.loader.JarLauncher\n</code></pre>\n<p>docker-compose.yaml</p>\n<pre><code>version: '3.1'\n\nservices:\n  bus:                                           \n    image: sample-image\n    network_mode: &quot;host&quot;\n    ports:\n      - 9251:9251\n    environment:\n      - DEBUG_PORT=9251\n      - JVM_OPTS=-Xms1G -Xmx5G -XX:MaxMetaspaceSize=512m -XX:+UseG1GC\n</code></pre>\n<p>In the below snapshot we can see when the service is started with debugging enabled\n<a href=\"https://i.stack.imgur.com/EeA4z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EeA4z.png\" alt=\"enter image description here\" /></a></p>\n<p>when running <code>sudo netstat -tulpn | grep :9251</code> shows</p>\n<p>The docker is running in a linux box which I am trying to connect from local windows machine. Also note that it is mandatory that I need to keep the network_mode as <code>host</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/D16sw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D16sw.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/sur6J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sur6J.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","jtextfield","jfilechooser","jcomponent"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1645443044,"post_id":71205132,"comment_id":125864711,"body_markdown":"You could recursively search through the children components of the `JFileChooser`. If you find a `Component` which is `instanceof Container`, look through all of its children (via `Container#getComponents()`. As the exit condition, you check for `instanceof JTextField`, and either return it (if you expect there only to be one), or you store it somewhere.","body":"You could recursively search through the children components of the <code>JFileChooser</code>. If you find a <code>Component</code> which is <code>instanceof Container</code>, look through all of its children (via <code>Container#getComponents()</code>. As the exit condition, you check for <code>instanceof JTextField</code>, and either return it (if you expect there only to be one), or you store it somewhere."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1645455829,"post_id":71205132,"comment_id":125869816,"body_markdown":"Check out [Swing Utils](https://tips4java.wordpress.com/2008/11/13/swing-utils/) which can recursively return a List of components for a given Container.","body":"Check out <a href=\"https://tips4java.wordpress.com/2008/11/13/swing-utils/\" rel=\"nofollow noreferrer\">Swing Utils</a> which can recursively return a List of components for a given Container."}],"owner":{"account_id":3997330,"reputation":3,"user_id":3297580,"display_name":"Mr_Saint"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645441149,"creation_date":1645441149,"question_id":71205132,"body_markdown":"I would like to give a name to every component of a jFileChooser for automation testing. Since this is a composite component, I tried to access the field with getComponent(int index) method but all the immediate components are panels. I was able to access the buttons of the jFileChooser by calling getComponent(int index) in one of the panels, but I could not find the jTextField (I assume it must be a jTextField) anywhere. \r\n\r\nIn addition, is there a better way to access the underlying components without using the getComponent(int index)?","title":"How can you name the component (jTextField) that shows the selected file inside a JFileChooser","body":"<p>I would like to give a name to every component of a jFileChooser for automation testing. Since this is a composite component, I tried to access the field with getComponent(int index) method but all the immediate components are panels. I was able to access the buttons of the jFileChooser by calling getComponent(int index) in one of the panels, but I could not find the jTextField (I assume it must be a jTextField) anywhere.</p>\n<p>In addition, is there a better way to access the underlying components without using the getComponent(int index)?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1645438915,"post_id":71204581,"comment_id":125863170,"body_markdown":"Maybe all you need is remove the `^[^-]*-` match? What is the programming environment?","body":"Maybe all you need is remove the <code>^[^-]*-</code> match? What is the programming environment?"},{"owner":{"account_id":13060216,"reputation":79,"user_id":9437674,"display_name":"08XI"},"score":0,"creation_date":1645439061,"post_id":71204581,"comment_id":125863226,"body_markdown":"Enviroment is java, but anyway thank you it works. Add it like answer and will mark your answer and give you +","body":"Enviroment is java, but anyway thank you it works. Add it like answer and will mark your answer and give you +"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645440557,"creation_date":1645440084,"answer_id":71204880,"question_id":71204581,"body_markdown":"You can remove all text before the first occurrence of a hyphen and the hyphen(s) right after with\r\n```java\r\nString result = text.replaceFirst(&quot;^[^-]*-+&quot;, &quot;&quot;);\r\n```\r\nSee the [regex demo][1]. The `replaceFirst` will find and remove the first occurrence of \r\n\r\n - `^` - start of string\r\n - `[^-]*` - zero or more chars other than `-`\r\n - `-+` - one or more `-` chars.\r\n\r\nAn approach with `String#split` is also viable:\r\n```java\r\nString text = &quot;123-text&quot;;\r\nString[] chunks = text.split(&quot;-&quot;, 2);        // limit splitting into 2 chunks\r\nSystem.out.println(chunks[chunks.length-1]); // Get the last item\r\n// =&gt; text\r\n```\r\nSee the [Java demo online][2].\r\n\r\n\r\n  [1]: https://regex101.com/r/9aOQn4/1\r\n  [2]: https://ideone.com/jIC6NT","title":"Regex match all text after dash","body":"<p>You can remove all text before the first occurrence of a hyphen and the hyphen(s) right after with</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = text.replaceFirst(&quot;^[^-]*-+&quot;, &quot;&quot;);\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/9aOQn4/1\" rel=\"nofollow noreferrer\">regex demo</a>. The <code>replaceFirst</code> will find and remove the first occurrence of</p>\n<ul>\n<li><code>^</code> - start of string</li>\n<li><code>[^-]*</code> - zero or more chars other than <code>-</code></li>\n<li><code>-+</code> - one or more <code>-</code> chars.</li>\n</ul>\n<p>An approach with <code>String#split</code> is also viable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String text = &quot;123-text&quot;;\nString[] chunks = text.split(&quot;-&quot;, 2);        // limit splitting into 2 chunks\nSystem.out.println(chunks[chunks.length-1]); // Get the last item\n// =&gt; text\n</code></pre>\n<p>See the <a href=\"https://ideone.com/jIC6NT\" rel=\"nofollow noreferrer\">Java demo online</a>.</p>\n"}],"owner":{"account_id":13060216,"reputation":79,"user_id":9437674,"display_name":"08XI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":71204880,"answer_count":1,"score":0,"last_activity_date":1645440557,"creation_date":1645438788,"question_id":71204581,"body_markdown":"I try to get all text after hyphen (dash). For example, if I have a text like this:\r\n```none\r\n123-text\r\n```\r\nI need to get `text`.\r\n\r\nI tried this:\r\n```none\r\n^.*(?=(\\-))\r\n```\r\nBut it matches all text after dash with that dash and I need to get just text.","title":"Regex match all text after dash","body":"<p>I try to get all text after hyphen (dash). For example, if I have a text like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>123-text\n</code></pre>\n<p>I need to get <code>text</code>.</p>\n<p>I tried this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>^.*(?=(\\-))\n</code></pre>\n<p>But it matches all text after dash with that dash and I need to get just text.</p>\n"},{"tags":["java","pdf","itext","pdf-generation","itext7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1644428579,"post_id":71051824,"comment_id":125606399,"body_markdown":"In iText 7 you don&#39;t necessarily have a single current page number anymore as you don&#39;t necessarily have a single `Document` (or similar) object working on your PDF anymore. Thus, please explain the context some more.","body":"In iText 7 you don&#39;t necessarily have a single current page number anymore as you don&#39;t necessarily have a single <code>Document</code> (or similar) object working on your PDF anymore. Thus, please explain the context some more."},{"owner":{"account_id":18007988,"reputation":107,"user_id":13088319,"display_name":"skorpyo"},"score":0,"creation_date":1644433432,"post_id":71051824,"comment_id":125608269,"body_markdown":"I have updated the description of the problem. Any documentation links that explain how  paging  and  layouts work  in itext7 are highly appreciated.","body":"I have updated the description of the problem. Any documentation links that explain how  paging  and  layouts work  in itext7 are highly appreciated."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1644574376,"post_id":71051824,"comment_id":125647953,"body_markdown":"Do I understand your item 4 correctly that the `buildBody` method used to call `getCurrentPageNumber` itself? I.e. not some event listener as described in item 2 and 3 but `buildBody` itself? In that case I assume the presence of the event listeners is irrelevant, isn&#39;t it? I&#39;ll write an answer under that assumption.","body":"Do I understand your item 4 correctly that the <code>buildBody</code> method used to call <code>getCurrentPageNumber</code> itself? I.e. not some event listener as described in item 2 and 3 but <code>buildBody</code> itself? In that case I assume the presence of the event listeners is irrelevant, isn&#39;t it? I&#39;ll write an answer under that assumption."},{"owner":{"account_id":18007988,"reputation":107,"user_id":13088319,"display_name":"skorpyo"},"score":0,"creation_date":1644580204,"post_id":71051824,"comment_id":125650034,"body_markdown":"Yes. buildBody() used to call getCurrentPageNumber() itself. The presence of the listener is not irelevant since it is used for the generation of the HEADER and of the FOOTER on every new page. The buildBody() method does not have anything to do with the FOOTER and the HEADER. It only must generate content for inbetween HEADER and FOOTER","body":"Yes. buildBody() used to call getCurrentPageNumber() itself. The presence of the listener is not irelevant since it is used for the generation of the HEADER and of the FOOTER on every new page. The buildBody() method does not have anything to do with the FOOTER and the HEADER. It only must generate content for inbetween HEADER and FOOTER"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1644581088,"post_id":71051824,"comment_id":125650335,"body_markdown":"*&quot;The presence of the listener is not irelevant&quot;* - then how does it influence the `getCurrentPageNumber()` call in `buildBody()`?","body":"<i>&quot;The presence of the listener is not irelevant&quot;</i> - then how does it influence the <code>getCurrentPageNumber()</code> call in <code>buildBody()</code>?"},{"owner":{"account_id":18007988,"reputation":107,"user_id":13088319,"display_name":"skorpyo"},"score":0,"creation_date":1644583620,"post_id":71051824,"comment_id":125651235,"body_markdown":"When you said: &quot;In that case I assume the presence of the event listeners is irrelevant, isn&#39;t it? &quot;, it makes me think of irrelevant in the entire context. The presence of the IEventListener is irelevant for the buildBody() method, BUT it is relevant for the HEADER and the FOOTER of every page. I think this is just a communication missunderstanding.","body":"When you said: &quot;In that case I assume the presence of the event listeners is irrelevant, isn&#39;t it? &quot;, it makes me think of irrelevant in the entire context. The presence of the IEventListener is irelevant for the buildBody() method, BUT it is relevant for the HEADER and the FOOTER of every page. I think this is just a communication missunderstanding."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644575724,"creation_date":1644575724,"answer_id":71078668,"question_id":71051824,"body_markdown":"Considering that the code you want to port apparently used the iText 5 `PdfDocument`/`PdfWriter` pattern, the _current page number_ in that code always was the _currently last page number_, i.e. the _current number of pages_ in the document being created.\r\n\r\nIn iText 7 these numbers are not automatically the same; if you port the code keeping the general architecture, though, those numbers most likely will remain the same in your iText 7 code, too.\r\n\r\nIn iText 7 you can get the _current number of pages_ from the `PdfDocument` in question:\r\n```\r\nPdfDocument pdfDocument = ...;\r\n...\r\nint currentNamberOfPages = pdfDocument.getNumberOfPages();\r\n```\r\n\r\nCurrently your `buildBody` method signature does not include the `PdfDocument` (which made sense in iText 5). For iText 7 you should consider changing the signature to include the `PdfDocument`. Most likely, though, you won&#39;t need the `PdfWriter` anymore which you then can exclude.\r\n\r\nIf you need to keep that method signature for some obscure reason, you can retrieve the `PdfDocument` from the `Document` using the `getPdfDocument` method.","title":"How to getCurrentPageNumber() in Itext 7","body":"<p>Considering that the code you want to port apparently used the iText 5 <code>PdfDocument</code>/<code>PdfWriter</code> pattern, the <em>current page number</em> in that code always was the <em>currently last page number</em>, i.e. the <em>current number of pages</em> in the document being created.</p>\n<p>In iText 7 these numbers are not automatically the same; if you port the code keeping the general architecture, though, those numbers most likely will remain the same in your iText 7 code, too.</p>\n<p>In iText 7 you can get the <em>current number of pages</em> from the <code>PdfDocument</code> in question:</p>\n<pre><code>PdfDocument pdfDocument = ...;\n...\nint currentNamberOfPages = pdfDocument.getNumberOfPages();\n</code></pre>\n<p>Currently your <code>buildBody</code> method signature does not include the <code>PdfDocument</code> (which made sense in iText 5). For iText 7 you should consider changing the signature to include the <code>PdfDocument</code>. Most likely, though, you won't need the <code>PdfWriter</code> anymore which you then can exclude.</p>\n<p>If you need to keep that method signature for some obscure reason, you can retrieve the <code>PdfDocument</code> from the <code>Document</code> using the <code>getPdfDocument</code> method.</p>\n"}],"owner":{"account_id":18007988,"reputation":107,"user_id":13088319,"display_name":"skorpyo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1050,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71078668,"answer_count":1,"score":0,"last_activity_date":1645440286,"creation_date":1644418553,"question_id":71051824,"body_markdown":"In Itext 5, PdfWriter used to have a method called **getCurrentPageNumber()**.\r\nItext 7 does not have it anymore.\r\n\r\nHow can I get the current page number since the entire pdf is going to use the same Document instance ( **PdfDocument pdfDocument = new PdfDocument(writer)**)from start to end?\r\n\r\nUse case: An apllication written using itext5 needs to be rewritten using itext7.\r\nOur app generates PDF files for our customer&#39;s monthly bills.\r\n\r\nStructure of the pdf: \r\n1. Create document:\r\n\r\n        PdfWriter writer = new PdfWriter(new FileOutputStream(filename));\r\n        PdfDocument pdfDocument = new PdfDocument(writer);\r\n        Document document = new Document(pdfDocument, PageSize.A4);\r\n        document.setMargins(235, 35, 0, 38);\r\n        buildBody(pdfData, document, writer);\r\n\r\n\r\n2. For every page I use an IEventHandler for the Start and another one for the End of the pages to add some data at the Header and Footer.\r\n\r\n\r\n        pdfDocument.addEventHandler(PdfDocumentEvent.START_PAGE, new  \r\n        StartPageHandler&lt;&gt;(pdfData, document, this));\r\n        pdfDocument.addEventHandler(PdfDocumentEvent.END_PAGE, new  \r\n        EndPageHandler&lt;&gt;(pdfData, document, this));\r\n \r\n\r\n3.Each IEventHandler instance has this format(except the rectangle values):\r\n\r\n    Rectangle rectangle = new Rectangle(51, 50, 500, 60); (This is for the END_PAGE)\r\n    Rectangle[] columns = new Rectangle[] {rectangle};\r\n    document.setRenderer(new ColumnDocumentRenderer(document, columns));\r\n    document.add(lineSeparatorHeader);\r\n    document.add(paragraphInfo); // information used in the Header/Footer\r\n\r\n\r\n4. The **buildBody(pdfData, document, writer)** method (from step 1) was using the **writer.getCurrentPageNumber()** method in order to check if the content we wanted to add has exceeded the space on the page and has passed on another page. If it passed on another page, I would have to add some extra information (somehow as a title in the body of the page) before the rest of the content is added. (It used to work with itext5)\r\n","title":"How to getCurrentPageNumber() in Itext 7","body":"<p>In Itext 5, PdfWriter used to have a method called <strong>getCurrentPageNumber()</strong>.\nItext 7 does not have it anymore.</p>\n<p>How can I get the current page number since the entire pdf is going to use the same Document instance ( <strong>PdfDocument pdfDocument = new PdfDocument(writer)</strong>)from start to end?</p>\n<p>Use case: An apllication written using itext5 needs to be rewritten using itext7.\nOur app generates PDF files for our customer's monthly bills.</p>\n<p>Structure of the pdf:</p>\n<ol>\n<li><p>Create document:</p>\n<pre><code> PdfWriter writer = new PdfWriter(new FileOutputStream(filename));\n PdfDocument pdfDocument = new PdfDocument(writer);\n Document document = new Document(pdfDocument, PageSize.A4);\n document.setMargins(235, 35, 0, 38);\n buildBody(pdfData, document, writer);\n</code></pre>\n</li>\n<li><p>For every page I use an IEventHandler for the Start and another one for the End of the pages to add some data at the Header and Footer.</p>\n<pre><code> pdfDocument.addEventHandler(PdfDocumentEvent.START_PAGE, new  \n StartPageHandler&lt;&gt;(pdfData, document, this));\n pdfDocument.addEventHandler(PdfDocumentEvent.END_PAGE, new  \n EndPageHandler&lt;&gt;(pdfData, document, this));\n</code></pre>\n</li>\n</ol>\n<p>3.Each IEventHandler instance has this format(except the rectangle values):</p>\n<pre><code>Rectangle rectangle = new Rectangle(51, 50, 500, 60); (This is for the END_PAGE)\nRectangle[] columns = new Rectangle[] {rectangle};\ndocument.setRenderer(new ColumnDocumentRenderer(document, columns));\ndocument.add(lineSeparatorHeader);\ndocument.add(paragraphInfo); // information used in the Header/Footer\n</code></pre>\n<ol start=\"4\">\n<li>The <strong>buildBody(pdfData, document, writer)</strong> method (from step 1) was using the <strong>writer.getCurrentPageNumber()</strong> method in order to check if the content we wanted to add has exceeded the space on the page and has passed on another page. If it passed on another page, I would have to add some extra information (somehow as a title in the body of the page) before the rest of the content is added. (It used to work with itext5)</li>\n</ol>\n"},{"tags":["java","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1645428533,"post_id":71202006,"comment_id":125859659,"body_markdown":"You only have 1 step? So how could that be prevented? Unless you mean when reading fails but then everything stops already. In short your questions isn&#39;t very clear.","body":"You only have 1 step? So how could that be prevented? Unless you mean when reading fails but then everything stops already. In short your questions isn&#39;t very clear."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1645432488,"post_id":71202006,"comment_id":125860830,"body_markdown":"See if this helps https://www.baeldung.com/spring-batch-skip-logic#1-using-skip-and-skiplimit","body":"See if this helps <a href=\"https://www.baeldung.com/spring-batch-skip-logic#1-using-skip-and-skiplimit\" rel=\"nofollow noreferrer\">baeldung.com/spring-batch-skip-logic#1-using-skip-and-skipli&zwnj;&#8203;mit</a>"}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645440111,"creation_date":1645440111,"answer_id":71204888,"question_id":71202006,"body_markdown":"You reader is implementing something like this:\r\n\r\n    public class MyReader implements Tasklet, StepExecutionListener {\r\n\r\nIn that case you can use the ExitStatus to signal the error.\r\nFor example:\r\n\r\n      @Override\r\n      public ExitStatus afterStep(StepExecution stepExecution) {\r\n   \r\n    \r\n        return ExitStatus.FAILED;\r\n      }\r\n\r\n\r\nIn this case batch processing will stop and no more processing occur.\r\n\r\n\r\n`afterStep` is available from `StepExecutionListener`.\r\n\r\n \r\n\r\nReference: https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/ExitStatus.html","title":"Our spring batch job is having only one step. We have reader, processor,writer Operations in the step. How to stop proceeding to processor step","body":"<p>You reader is implementing something like this:</p>\n<pre><code>public class MyReader implements Tasklet, StepExecutionListener {\n</code></pre>\n<p>In that case you can use the ExitStatus to signal the error.\nFor example:</p>\n<pre><code>  @Override\n  public ExitStatus afterStep(StepExecution stepExecution) {\n\n\n    return ExitStatus.FAILED;\n  }\n</code></pre>\n<p>In this case batch processing will stop and no more processing occur.</p>\n<p><code>afterStep</code> is available from <code>StepExecutionListener</code>.</p>\n<p>Reference: <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/ExitStatus.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/ExitStatus.html</a></p>\n"}],"owner":{"account_id":24313188,"reputation":11,"user_id":18254862,"display_name":"Oliva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645440111,"creation_date":1645424792,"question_id":71202006,"body_markdown":"Our spring batch job is having only one step.we have reader, processor, writer Operations in the step. How to stop proceeding to processor step when prior step is failing?","title":"Our spring batch job is having only one step. We have reader, processor,writer Operations in the step. How to stop proceeding to processor step","body":"<p>Our spring batch job is having only one step.we have reader, processor, writer Operations in the step. How to stop proceeding to processor step when prior step is failing?</p>\n"},{"tags":["java","transactions","spring-boot","mybatis"],"comments":[{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1463607732,"post_id":37310550,"comment_id":62142159,"body_markdown":"Annotating private methods doesn&#39;t do any good. see http://stackoverflow.com/q/7085271/217324","body":"Annotating private methods doesn&#39;t do any good. see <a href=\"http://stackoverflow.com/q/7085271/217324\">stackoverflow.com/q/7085271/217324</a>"},{"owner":{"account_id":121542,"reputation":550,"user_id":314706,"accept_rate":100,"display_name":"Xandel"},"score":0,"creation_date":1463607920,"post_id":37310550,"comment_id":62142223,"body_markdown":"Have edited the question - I can confirm that the issue still exists with a public method.","body":"Have edited the question - I can confirm that the issue still exists with a public method."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1463608041,"post_id":37310550,"comment_id":62142259,"body_markdown":"also checked exceptions don&#39;t cause a rollback by default.","body":"also checked exceptions don&#39;t cause a rollback by default."},{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":0,"creation_date":1463752063,"post_id":37310550,"comment_id":62213008,"body_markdown":"Can you post the insert method code too? do you use `sqlSession` to insert or simply using `@Insert` mapper annotations? If you are using `sqlSession` please post the relevant code on how you create the object. The same did work for me when i started working on mybatis. I used `@Transactional` on method level only.","body":"Can you post the insert method code too? do you use <code>sqlSession</code> to insert or simply using <code>@Insert</code> mapper annotations? If you are using <code>sqlSession</code> please post the relevant code on how you create the object. The same did work for me when i started working on mybatis. I used <code>@Transactional</code> on method level only."},{"owner":{"account_id":121542,"reputation":550,"user_id":314706,"accept_rate":100,"display_name":"Xandel"},"score":0,"creation_date":1465204816,"post_id":37310550,"comment_id":62786779,"body_markdown":"I am using mybator generated mappers which creates mapper interfaces (no annotations) and a matching sql mapper file containing the insert / update sql queries. The SqlSession is wired automatically by Spring.","body":"I am using mybator generated mappers which creates mapper interfaces (no annotations) and a matching sql mapper file containing the insert / update sql queries. The SqlSession is wired automatically by Spring."},{"owner":{"account_id":121542,"reputation":550,"user_id":314706,"accept_rate":100,"display_name":"Xandel"},"score":0,"creation_date":1491979636,"post_id":37310550,"comment_id":73786260,"body_markdown":"Just a comment on the answers I&#39;m getting that are related to the rollback example - perhaps it was a bad example but that was just the small working example I provided to illustrate the problem. The actual issue was that records were committed immediately (rather than after the method completes) regardless of a rollback.","body":"Just a comment on the answers I&#39;m getting that are related to the rollback example - perhaps it was a bad example but that was just the small working example I provided to illustrate the problem. The actual issue was that records were committed immediately (rather than after the method completes) regardless of a rollback."}],"answers":[{"tags":[],"owner":{"account_id":121542,"reputation":550,"user_id":314706,"accept_rate":100,"display_name":"Xandel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1503476090,"creation_date":1463608896,"answer_id":37310820,"question_id":37310550,"body_markdown":"So I got it working by annotating the class definition with `@Transactional` instead of the method definition.\r\n\r\nI am not sure if this is common practice. The Spring Boot Transaction Management documentation doesn&#39;t do it like that [here][1] but the Mybatis Spring sample does do it that way in their documentation [here][2]...\r\n\r\nIf anyone has further information that could explain this I will happily mark that answer as the correct one.\r\n\r\nFor now however, my problem is solved.\r\n\r\n**EDIT**\r\n\r\nReturning to this problem month&#39;s later I have finally gotten to the bottom of it. There were 2 main issues here.\r\n\r\n 1. As Kazuki correctly mentioned, you need to explicitly declare that rollbacks need to happen for checked exceptions using the `@Transactional(rollbackFor = Exception.class)` annotation.\r\n\r\n 2. &quot;Transaction boundaries are only created when properly annotated methods are called through a Spring proxy. This means that you need to call your annotated method directly through an @Autowired bean or the transaction will never start.&quot; (reference to this source below)\r\n\r\nIn my sample code I was calling `this.performTransactionTest()` from the same class. In this way the transaction will be ignored. If I instead call it via a wired reference to my class such as `myAutoWiredBean.performTransactionTest()` everything works as expected. This also explains why it appeared only the class level annotation was working, but that&#39;s because any method called would have been referenced by a wired bean.\r\n\r\nTwo articles which were MAJOR assistance to me in understanding the finer details of Spring&#39;s transaction management are here. A big thanks to the authors Nitin Prabhu and Tim Mattison.\r\n\r\nhttps://dzone.com/articles/spring-transaction-management\r\n\r\nhttp://blog.timmattison.com/archives/2012/04/19/tips-for-debugging-springs-transactional-annotation/\r\n\r\nI hope this helps somebody!\r\n\r\n  [1]: https://spring.io/guides/gs/managing-transactions/\r\n  [2]: http://www.mybatis.org/spring/sample.html","title":"Spring Transaction Management not working with Spring Boot + MyBatis?","body":"<p>So I got it working by annotating the class definition with <code>@Transactional</code> instead of the method definition.</p>\n\n<p>I am not sure if this is common practice. The Spring Boot Transaction Management documentation doesn't do it like that <a href=\"https://spring.io/guides/gs/managing-transactions/\" rel=\"noreferrer\">here</a> but the Mybatis Spring sample does do it that way in their documentation <a href=\"http://www.mybatis.org/spring/sample.html\" rel=\"noreferrer\">here</a>...</p>\n\n<p>If anyone has further information that could explain this I will happily mark that answer as the correct one.</p>\n\n<p>For now however, my problem is solved.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Returning to this problem month's later I have finally gotten to the bottom of it. There were 2 main issues here.</p>\n\n<ol>\n<li><p>As Kazuki correctly mentioned, you need to explicitly declare that rollbacks need to happen for checked exceptions using the <code>@Transactional(rollbackFor = Exception.class)</code> annotation.</p></li>\n<li><p>\"Transaction boundaries are only created when properly annotated methods are called through a Spring proxy. This means that you need to call your annotated method directly through an @Autowired bean or the transaction will never start.\" (reference to this source below)</p></li>\n</ol>\n\n<p>In my sample code I was calling <code>this.performTransactionTest()</code> from the same class. In this way the transaction will be ignored. If I instead call it via a wired reference to my class such as <code>myAutoWiredBean.performTransactionTest()</code> everything works as expected. This also explains why it appeared only the class level annotation was working, but that's because any method called would have been referenced by a wired bean.</p>\n\n<p>Two articles which were MAJOR assistance to me in understanding the finer details of Spring's transaction management are here. A big thanks to the authors Nitin Prabhu and Tim Mattison.</p>\n\n<p><a href=\"https://dzone.com/articles/spring-transaction-management\" rel=\"noreferrer\">https://dzone.com/articles/spring-transaction-management</a></p>\n\n<p><a href=\"http://blog.timmattison.com/archives/2012/04/19/tips-for-debugging-springs-transactional-annotation/\" rel=\"noreferrer\">http://blog.timmattison.com/archives/2012/04/19/tips-for-debugging-springs-transactional-annotation/</a></p>\n\n<p>I hope this helps somebody!</p>\n"},{"tags":[],"owner":{"account_id":9063694,"reputation":399,"user_id":6749368,"display_name":"Kazuki Shimizu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554901260,"creation_date":1491842230,"answer_id":43328596,"question_id":37310550,"body_markdown":"A default behavior of `Spring Transaction Management` is to commit when a checked exception occurred. If you want to rollback a transaction, you can throw an unchecked exception(`RuntimeException`). Also `@Transactional(rollbackFor = Exception.class)` gives the same result.\r\n\r\nPlease try this.\r\n\r\nFor details see https://docs.spring.io/spring/docs/current/spring-framework-reference/data-access.html#transaction-declarative-rolling-back\r\n\r\nThanks. ","title":"Spring Transaction Management not working with Spring Boot + MyBatis?","body":"<p>A default behavior of <code>Spring Transaction Management</code> is to commit when a checked exception occurred. If you want to rollback a transaction, you can throw an unchecked exception(<code>RuntimeException</code>). Also <code>@Transactional(rollbackFor = Exception.class)</code> gives the same result.</p>\n\n<p>Please try this.</p>\n\n<p>For details see <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/data-access.html#transaction-declarative-rolling-back\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/spring-framework-reference/data-access.html#transaction-declarative-rolling-back</a></p>\n\n<p>Thanks. </p>\n"},{"tags":[],"owner":{"account_id":13542147,"reputation":1,"user_id":9769556,"display_name":"shams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525944686,"creation_date":1525940942,"answer_id":50268653,"question_id":37310550,"body_markdown":"The root cause is missing transaction manager for cases we are explicitly creating data source rather and not relying on spring boot to create automatically based on parameters from `application.yml`. \r\nAlso it is not needed to annotate the class instead annotate the method like below and initialize the transaction manager bean during startup.\r\n\r\n    @Transactional(propagation = Propagation.REQUIRED, transactionManager = &quot;transactionManager&quot;, rollbackFor = CustomExcp.class)\r\n    public int updt(Emp vo) throws CustomExcp {\r\n    ...\r\n    }\r\n\r\n    @Bean\r\n        public DataSourceTransactionManager transactionManager() {\r\n            DataSourceTransactionManager transactionManager = new DataSourceTransactionManager();\r\n            transactionManager.setDataSource(dataSource);\r\n            log.info(&quot;DataSource Transaction Manager&quot;);\r\n            return transactionManager;\r\n        }\r\n\r\n","title":"Spring Transaction Management not working with Spring Boot + MyBatis?","body":"<p>The root cause is missing transaction manager for cases we are explicitly creating data source rather and not relying on spring boot to create automatically based on parameters from <code>application.yml</code>. \nAlso it is not needed to annotate the class instead annotate the method like below and initialize the transaction manager bean during startup.</p>\n\n<pre><code>@Transactional(propagation = Propagation.REQUIRED, transactionManager = \"transactionManager\", rollbackFor = CustomExcp.class)\npublic int updt(Emp vo) throws CustomExcp {\n...\n}\n\n@Bean\n    public DataSourceTransactionManager transactionManager() {\n        DataSourceTransactionManager transactionManager = new DataSourceTransactionManager();\n        transactionManager.setDataSource(dataSource);\n        log.info(\"DataSource Transaction Manager\");\n        return transactionManager;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1211289,"reputation":689,"user_id":1179766,"accept_rate":43,"display_name":"Debadatta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645439719,"creation_date":1645439719,"answer_id":71204796,"question_id":37310550,"body_markdown":"You probably have two data sources using *MapperScan* that might be messing up a mybatis config. You need to add *SqlSessionFactory* and *SqlSessionTemplate* as mentioned here http://mybatis.org/spring/getting-started.html.\r\n\r\n  \r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.apache.ibatis.session.SqlSessionFactory;\r\n    import org.mybatis.spring.SqlSessionFactoryBean;\r\n    import org.mybatis.spring.SqlSessionTemplate;\r\n    import org.mybatis.spring.annotation.MapperScan;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Primary;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    @Configuration\r\n    @Slf4j\r\n    @MapperScan(value = &quot;com.abc.xyx.aaa&quot;, sqlSessionTemplateRef = &quot;PrimarySessionTemplate&quot;)\r\n    public class MyBatisPrimaryConfig {\r\n    \r\n        @Bean(name = &quot;PrimarySessionFactory&quot;)\r\n        @Primary\r\n        public SqlSessionFactory sessionFactory(@Qualifier(&quot;PrimaryDataSource&quot;) DataSource dataSource) throws Exception {\r\n            SqlSessionFactoryBean sqlSessionFactoryBean = new SqlSessionFactoryBean();\r\n            sqlSessionFactoryBean.setDataSource(dataSource);\r\n            return sqlSessionFactoryBean.getObject();\r\n        }\r\n    \r\n        @Bean(name = &quot;PrimarySessionTemplate&quot;)\r\n        @Primary\r\n        public SqlSessionTemplate primarySessionTemplate(@Qualifier(&quot;PrimarySessionFactory&quot;) SqlSessionFactory sqlSessionFactory) {\r\n            return new SqlSessionTemplate(sqlSessionFactory);\r\n        }\r\n    }","title":"Spring Transaction Management not working with Spring Boot + MyBatis?","body":"<p>You probably have two data sources using <em>MapperScan</em> that might be messing up a mybatis config. You need to add <em>SqlSessionFactory</em> and <em>SqlSessionTemplate</em> as mentioned here <a href=\"http://mybatis.org/spring/getting-started.html\" rel=\"nofollow noreferrer\">http://mybatis.org/spring/getting-started.html</a>.</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.apache.ibatis.session.SqlSessionFactory;\nimport org.mybatis.spring.SqlSessionFactoryBean;\nimport org.mybatis.spring.SqlSessionTemplate;\nimport org.mybatis.spring.annotation.MapperScan;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\n\nimport javax.sql.DataSource;\n\n@Configuration\n@Slf4j\n@MapperScan(value = &quot;com.abc.xyx.aaa&quot;, sqlSessionTemplateRef = &quot;PrimarySessionTemplate&quot;)\npublic class MyBatisPrimaryConfig {\n\n    @Bean(name = &quot;PrimarySessionFactory&quot;)\n    @Primary\n    public SqlSessionFactory sessionFactory(@Qualifier(&quot;PrimaryDataSource&quot;) DataSource dataSource) throws Exception {\n        SqlSessionFactoryBean sqlSessionFactoryBean = new SqlSessionFactoryBean();\n        sqlSessionFactoryBean.setDataSource(dataSource);\n        return sqlSessionFactoryBean.getObject();\n    }\n\n    @Bean(name = &quot;PrimarySessionTemplate&quot;)\n    @Primary\n    public SqlSessionTemplate primarySessionTemplate(@Qualifier(&quot;PrimarySessionFactory&quot;) SqlSessionFactory sqlSessionFactory) {\n        return new SqlSessionTemplate(sqlSessionFactory);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":121542,"reputation":550,"user_id":314706,"accept_rate":100,"display_name":"Xandel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12489,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":37310820,"answer_count":4,"score":8,"last_activity_date":1645439719,"creation_date":1463607611,"question_id":37310550,"body_markdown":"I am trying to get Spring Transaction Management working in my new Spring Boot + MyBatis application.\r\n\r\nSo far I have managed to get everything working with minimal issues - it&#39;s just getting the `@Transactional` annotation to function correctly. Currently, all statements are committed immediately regardless of whether the method is annotated or not.\r\n\r\nSpring Boot does so much of the boilerplate configuration for you that it&#39;s difficult to find the missing link.\r\n\r\nMy `build.gradle` contains the following dependencies:\r\n\r\n    compile(&quot;org.springframework.boot:spring-boot-starter-amqp&quot;)\r\n    compile(&quot;org.mybatis.spring.boot:mybatis-spring-boot-starter:1.0.0&quot;)\r\n    compile(&quot;mysql:mysql-connector-java:5.1.38&quot;)\r\n\r\nMy `application.properties` contains the following datasource configuration:\r\n\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/my_db\r\n    spring.datasource.username=my_user\r\n    spring.datasource.password=my_pass\r\n\r\nA simple example of a method in a bean that is not acting as expected is as follows:\r\n\r\n    @Transactional\r\n    public void performTransactionTest() throws Exception {\r\n    \t\r\n    \tPerson person = new Person();\r\n    \tperson.setPersonId(123);\r\n    \tpersonMapper.insert(person);\r\n    \t\r\n    \tthrow new Exception(&quot;This should force a rollback!&quot;);\r\n    \t\r\n    }\r\n\r\nThe Exception gets thrown but the record has already been inserted.\r\n\r\nThere is basically no documentation currently in existence on transaction configuration for Spring Boot AND MyBatis together but as far as I understand, it should mostly wire itself up as would be done manually in a Spring + MyBatis application and where it doesn&#39;t - we are able to configure it further. With that said I have tried the following configurations in my `applicationContext.xml` with no luck:\r\n\r\n    &lt;tx:annotation-driven proxy-target-class=&quot;true&quot; transaction-manager=&quot;transactionManager&quot; /&gt;\r\n\r\n\t&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\nI can confirm that even without any of the above configurations a DataSourceTransactionManager is configured with the same DataSource that the MyBatis mappers&#39; SqlSession uses.\r\n\r\nAny help or ideas that could push me in the right direction would be greatly appreciated. If you require any further information I am happy to provide it!\r\n\r\nThanks in advance!\r\n\r\nXandel\r\n\r\n","title":"Spring Transaction Management not working with Spring Boot + MyBatis?","body":"<p>I am trying to get Spring Transaction Management working in my new Spring Boot + MyBatis application.</p>\n\n<p>So far I have managed to get everything working with minimal issues - it's just getting the <code>@Transactional</code> annotation to function correctly. Currently, all statements are committed immediately regardless of whether the method is annotated or not.</p>\n\n<p>Spring Boot does so much of the boilerplate configuration for you that it's difficult to find the missing link.</p>\n\n<p>My <code>build.gradle</code> contains the following dependencies:</p>\n\n<pre><code>compile(\"org.springframework.boot:spring-boot-starter-amqp\")\ncompile(\"org.mybatis.spring.boot:mybatis-spring-boot-starter:1.0.0\")\ncompile(\"mysql:mysql-connector-java:5.1.38\")\n</code></pre>\n\n<p>My <code>application.properties</code> contains the following datasource configuration:</p>\n\n<pre><code>spring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/my_db\nspring.datasource.username=my_user\nspring.datasource.password=my_pass\n</code></pre>\n\n<p>A simple example of a method in a bean that is not acting as expected is as follows:</p>\n\n<pre><code>@Transactional\npublic void performTransactionTest() throws Exception {\n\n    Person person = new Person();\n    person.setPersonId(123);\n    personMapper.insert(person);\n\n    throw new Exception(\"This should force a rollback!\");\n\n}\n</code></pre>\n\n<p>The Exception gets thrown but the record has already been inserted.</p>\n\n<p>There is basically no documentation currently in existence on transaction configuration for Spring Boot AND MyBatis together but as far as I understand, it should mostly wire itself up as would be done manually in a Spring + MyBatis application and where it doesn't - we are able to configure it further. With that said I have tried the following configurations in my <code>applicationContext.xml</code> with no luck:</p>\n\n<pre><code>&lt;tx:annotation-driven proxy-target-class=\"true\" transaction-manager=\"transactionManager\" /&gt;\n\n&lt;bean id=\"transactionManager\" class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"sqlSessionFactory\" class=\"org.mybatis.spring.SqlSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>I can confirm that even without any of the above configurations a DataSourceTransactionManager is configured with the same DataSource that the MyBatis mappers' SqlSession uses.</p>\n\n<p>Any help or ideas that could push me in the right direction would be greatly appreciated. If you require any further information I am happy to provide it!</p>\n\n<p>Thanks in advance!</p>\n\n<p>Xandel</p>\n"},{"tags":["java","spring","rest","mybatis","transactional"],"comments":[{"owner":{"account_id":2133309,"reputation":2564,"user_id":7671876,"display_name":"codeLover"},"score":0,"creation_date":1530540757,"post_id":51137431,"comment_id":89260294,"body_markdown":"can you show how you have configured your database connection?","body":"can you show how you have configured your database connection?"},{"owner":{"account_id":3927345,"reputation":13,"user_id":3247224,"display_name":"nikita"},"score":1,"creation_date":1530624962,"post_id":51137431,"comment_id":89295329,"body_markdown":"defaultautocommit is false @GarimaGupta","body":"defaultautocommit is false @GarimaGupta"},{"owner":{"account_id":1211289,"reputation":689,"user_id":1179766,"accept_rate":43,"display_name":"Debadatta"},"score":0,"creation_date":1645178729,"post_id":51137431,"comment_id":125807615,"body_markdown":"Did you get any solution for this ?","body":"Did you get any solution for this ?"}],"answers":[{"tags":[],"owner":{"account_id":201937,"reputation":1347,"user_id":448690,"display_name":"Jorge"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1537747713,"creation_date":1537747713,"answer_id":52471349,"question_id":51137431,"body_markdown":"I dealt with a similar issue for a whole day.\n\nJust when I was borderline with insanity, I found out that when you use `@Transactional` in a test the rules are different: **by default, your changes are rolled back.**\n\nQuick solution: add the annotation `@Commit` to your method, i.e.:\n\n\n\n    @Transactional(propagation = Propagation.REQUIRES_NEW,isolation = Isolation.READ_COMMITTED, rollbackFor = Exception.class)\n    @Commit\n    public void test(String idEntity) throws BaseException\n    {\n        getCustomerInformationDAO().updatetm(idEntity);\n    }\n\nYou can read some details in the following text:\n&gt; One common issue in tests that access a real database is their effect on the state of the persistence store. Even when you use a development database, changes to the state may affect future tests. Also, many operations — such as inserting or modifying persistent data — cannot be performed (or verified) outside of a transaction.\n&gt;\n&gt; The TestContext framework addresses this issue. By default, the framework creates and rolls back a transaction for each test. You can write code that can assume the existence of a transaction. If you call transactionally proxied objects in your tests, they behave correctly, according to their configured transactional semantics. In addition, if a test method deletes the contents of selected tables while running within the transaction managed for the test, the transaction rolls back by default, and the database returns to its state prior to execution of the test. Transactional support is provided to a test by using a PlatformTransactionManager bean defined in the test’s application context.\n&gt;\n&gt; If you want a transaction to commit (unusual, but occasionally useful when you want a particular test to populate or modify the database), you can tell the TestContext framework to cause the transaction to commit instead of roll back by using the @Commit annotation.\n\nhttps://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#testing","title":"@Transactional not committing (Spring Mybatis)","body":"<p>I dealt with a similar issue for a whole day.</p>\n<p>Just when I was borderline with insanity, I found out that when you use <code>@Transactional</code> in a test the rules are different: <strong>by default, your changes are rolled back.</strong></p>\n<p>Quick solution: add the annotation <code>@Commit</code> to your method, i.e.:</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRES_NEW,isolation = Isolation.READ_COMMITTED, rollbackFor = Exception.class)\n@Commit\npublic void test(String idEntity) throws BaseException\n{\n    getCustomerInformationDAO().updatetm(idEntity);\n}\n</code></pre>\n<p>You can read some details in the following text:</p>\n<blockquote>\n<p>One common issue in tests that access a real database is their effect on the state of the persistence store. Even when you use a development database, changes to the state may affect future tests. Also, many operations — such as inserting or modifying persistent data — cannot be performed (or verified) outside of a transaction.</p>\n<p>The TestContext framework addresses this issue. By default, the framework creates and rolls back a transaction for each test. You can write code that can assume the existence of a transaction. If you call transactionally proxied objects in your tests, they behave correctly, according to their configured transactional semantics. In addition, if a test method deletes the contents of selected tables while running within the transaction managed for the test, the transaction rolls back by default, and the database returns to its state prior to execution of the test. Transactional support is provided to a test by using a PlatformTransactionManager bean defined in the test’s application context.</p>\n<p>If you want a transaction to commit (unusual, but occasionally useful when you want a particular test to populate or modify the database), you can tell the TestContext framework to cause the transaction to commit instead of roll back by using the @Commit annotation.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#testing\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#testing</a></p>\n"},{"tags":[],"owner":{"account_id":1211289,"reputation":689,"user_id":1179766,"accept_rate":43,"display_name":"Debadatta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645439553,"creation_date":1645439553,"answer_id":71204762,"question_id":51137431,"body_markdown":"You probably have two data sources using *MapperScan* that might be messing up a mybatis config. You need to add *SqlSessionFactory* and *SqlSessionTemplate*  as mentioned here http://mybatis.org/spring/getting-started.html.\r\n\r\n    \r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.apache.ibatis.session.SqlSessionFactory;\r\n    import org.mybatis.spring.SqlSessionFactoryBean;\r\n    import org.mybatis.spring.SqlSessionTemplate;\r\n    import org.mybatis.spring.annotation.MapperScan;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Primary;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    @Configuration\r\n    @Slf4j\r\n    @MapperScan(value = &quot;com.abc.xyx.aaa&quot;, sqlSessionTemplateRef = &quot;PrimarySessionTemplate&quot;)\r\n    public class MyBatisPrimaryConfig {\r\n    \r\n    \t@Bean(name = &quot;PrimarySessionFactory&quot;)\r\n        @Primary\r\n        public SqlSessionFactory sessionFactory(@Qualifier(&quot;PrimaryDataSource&quot;) DataSource dataSource) throws Exception {\r\n            SqlSessionFactoryBean sqlSessionFactoryBean = new SqlSessionFactoryBean();\r\n            sqlSessionFactoryBean.setDataSource(dataSource);\r\n            return sqlSessionFactoryBean.getObject();\r\n        }\r\n    \r\n    \t@Bean(name = &quot;PrimarySessionTemplate&quot;)\r\n    \t@Primary\r\n    \tpublic SqlSessionTemplate primarySessionTemplate(@Qualifier(&quot;PrimarySessionFactory&quot;) SqlSessionFactory sqlSessionFactory) {\r\n    \t\treturn new SqlSessionTemplate(sqlSessionFactory);\r\n    \t}\r\n    }","title":"@Transactional not committing (Spring Mybatis)","body":"<p>You probably have two data sources using <em>MapperScan</em> that might be messing up a mybatis config. You need to add <em>SqlSessionFactory</em> and <em>SqlSessionTemplate</em>  as mentioned here <a href=\"http://mybatis.org/spring/getting-started.html\" rel=\"nofollow noreferrer\">http://mybatis.org/spring/getting-started.html</a>.</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.apache.ibatis.session.SqlSessionFactory;\nimport org.mybatis.spring.SqlSessionFactoryBean;\nimport org.mybatis.spring.SqlSessionTemplate;\nimport org.mybatis.spring.annotation.MapperScan;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\n\nimport javax.sql.DataSource;\n\n@Configuration\n@Slf4j\n@MapperScan(value = &quot;com.abc.xyx.aaa&quot;, sqlSessionTemplateRef = &quot;PrimarySessionTemplate&quot;)\npublic class MyBatisPrimaryConfig {\n\n    @Bean(name = &quot;PrimarySessionFactory&quot;)\n    @Primary\n    public SqlSessionFactory sessionFactory(@Qualifier(&quot;PrimaryDataSource&quot;) DataSource dataSource) throws Exception {\n        SqlSessionFactoryBean sqlSessionFactoryBean = new SqlSessionFactoryBean();\n        sqlSessionFactoryBean.setDataSource(dataSource);\n        return sqlSessionFactoryBean.getObject();\n    }\n\n    @Bean(name = &quot;PrimarySessionTemplate&quot;)\n    @Primary\n    public SqlSessionTemplate primarySessionTemplate(@Qualifier(&quot;PrimarySessionFactory&quot;) SqlSessionFactory sqlSessionFactory) {\n        return new SqlSessionTemplate(sqlSessionFactory);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3927345,"reputation":13,"user_id":3247224,"display_name":"nikita"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1796,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1645439553,"creation_date":1530538341,"question_id":51137431,"body_markdown":"I have below Service:\r\n\r\n\t@Transactional(propagation = Propagation.REQUIRES_NEW,isolation = Isolation.READ_COMMITTED, rollbackFor = Exception.class)\r\n\tpublic void test(String idEntity) throws BaseException\r\n\t{\r\n\t\tgetCustomerInformationDAO().updatetm(idEntity);\r\n\t}\r\n\r\nThis service has been marked as @Service annotation.\r\n\r\nI am calling this service from a controller.\r\n\t\r\n\t\t@RequestMapping(value=&quot;/test&quot;, method = RequestMethod.GET,produces = MediaType.APPLICATION_JSON_VALUE,consumes = MediaType.APPLICATION_JSON_VALUE)\r\n\t@Override\r\n\tpublic void test(@RequestParam(&quot;idEntity&quot;) String idEntity) throws BaseException\r\n\t{\r\n\t\tmonolithicService.test(idEntity);\r\n\t}\r\n\r\n\r\nBelow Dao(this has been marked as @Repository) method:\r\n\r\n    @Override\r\n    \tpublic void updatetm(String idEntity) throws BaseException\r\n    \t{\r\n    \tupdateRecord( &quot;customerinformation-update.updatelfcentitylDt&quot;, idEntity ); \r\n    \t}\r\n\r\nTransaction manager has been marked as \t\r\n\r\n    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;.\r\n\r\n\r\nWith above changes, it doesnt commit the transaction, even if it is successful.\r\n\r\nCan anyone help me with this...\r\n\r\n\r\n","title":"@Transactional not committing (Spring Mybatis)","body":"<p>I have below Service:</p>\n\n<pre><code>@Transactional(propagation = Propagation.REQUIRES_NEW,isolation = Isolation.READ_COMMITTED, rollbackFor = Exception.class)\npublic void test(String idEntity) throws BaseException\n{\n    getCustomerInformationDAO().updatetm(idEntity);\n}\n</code></pre>\n\n<p>This service has been marked as @Service annotation.</p>\n\n<p>I am calling this service from a controller.</p>\n\n<pre><code>    @RequestMapping(value=\"/test\", method = RequestMethod.GET,produces = MediaType.APPLICATION_JSON_VALUE,consumes = MediaType.APPLICATION_JSON_VALUE)\n@Override\npublic void test(@RequestParam(\"idEntity\") String idEntity) throws BaseException\n{\n    monolithicService.test(idEntity);\n}\n</code></pre>\n\n<p>Below Dao(this has been marked as @Repository) method:</p>\n\n<pre><code>@Override\n    public void updatetm(String idEntity) throws BaseException\n    {\n    updateRecord( \"customerinformation-update.updatelfcentitylDt\", idEntity ); \n    }\n</code></pre>\n\n<p>Transaction manager has been marked as  </p>\n\n<pre><code>&lt;tx:annotation-driven transaction-manager=\"transactionManager\" /&gt;.\n</code></pre>\n\n<p>With above changes, it doesnt commit the transaction, even if it is successful.</p>\n\n<p>Can anyone help me with this...</p>\n"},{"tags":["java","datetime","date-format"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1449237492,"post_id":34089965,"comment_id":55931957,"body_markdown":"What does the &quot;etc&quot; mean? If you can accept &quot;dd/MM/yyyy&quot; and &quot;MM/dd/yyyy&quot; (both of which are pretty common) then it&#39;s game over - you can&#39;t hope to tell whether &quot;04/12/2015&quot; is December 4th or April 12th.","body":"What does the &quot;etc&quot; mean? If you can accept &quot;dd/MM/yyyy&quot; and &quot;MM/dd/yyyy&quot; (both of which are pretty common) then it&#39;s game over - you can&#39;t hope to tell whether &quot;04/12/2015&quot; is December 4th or April 12th."},{"owner":{"account_id":5426896,"reputation":58746,"user_id":4318868,"display_name":"Slava Vedenin"},"score":0,"creation_date":1449238468,"post_id":34089965,"comment_id":55932610,"body_markdown":"If you have a lot of string with one pattern - game isn&#39;t over, you can analyze all string and found where day, and where month statistically.","body":"If you have a lot of string with one pattern - game isn&#39;t over, you can analyze all string and found where day, and where month statistically."},{"owner":{"account_id":4552562,"reputation":5388,"user_id":3697264,"accept_rate":92,"display_name":"SPlatten"},"score":0,"creation_date":1589957511,"post_id":34089965,"comment_id":109494896,"body_markdown":"It&#39;s simple enough to work with strings but if you don&#39;t know the format then its impossible to sensibly decode day, month and year, how would you know the order of the fields?  You could just extract all the fields on a non-numeric delimiter.","body":"It&#39;s simple enough to work with strings but if you don&#39;t know the format then its impossible to sensibly decode day, month and year, how would you know the order of the fields?  You could just extract all the fields on a non-numeric delimiter."}],"answers":[{"tags":[],"owner":{"account_id":7230662,"reputation":8299,"user_id":5517633,"display_name":"Abdelhak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449239076,"creation_date":1449237558,"answer_id":34090039,"question_id":34089965,"body_markdown":"Try to use this:\r\n     \r\n      public static void main(String []args){\r\n\t    \tSimpleDateFormat dt = new SimpleDateFormat(); \r\n\t    \tTimeZone date;\r\n\t\t\tdate = dt.getTimeZone();\r\n      Calendar cal = Calendar.getInstance().getInstance(Locale.UK);\r\n      cal.setTimeZone(date);\r\n      int year = cal.get(Calendar.YEAR);\r\n      int month = cal.get(Calendar.MONTH);\r\n      int day = cal.get(Calendar.DAY_OF_MONTH);\r\n\r\n\t\t\tSystem.out.println(year);  \r\n\t\t\tSystem.out.println(month); \r\n\t\t\tSystem.out.println(day);   \r\n\t    }\r\n","title":"Getting date from unknown Date format string","body":"<p>Try to use this:</p>\n\n<pre><code>  public static void main(String []args){\n        SimpleDateFormat dt = new SimpleDateFormat(); \n        TimeZone date;\n        date = dt.getTimeZone();\n  Calendar cal = Calendar.getInstance().getInstance(Locale.UK);\n  cal.setTimeZone(date);\n  int year = cal.get(Calendar.YEAR);\n  int month = cal.get(Calendar.MONTH);\n  int day = cal.get(Calendar.DAY_OF_MONTH);\n\n        System.out.println(year);  \n        System.out.println(month); \n        System.out.println(day);   \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1799577,"reputation":5303,"user_id":1638237,"accept_rate":59,"display_name":"nafas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1449237773,"creation_date":1449237773,"answer_id":34090104,"question_id":34089965,"body_markdown":"your best bet is to use [natty][1]\r\n\r\n\r\n  [1]: http://natty.joestelmach.com/\r\n\r\nvery useful library, \r\n\r\nhere is an example of how to use it:\r\n\r\n\tpublic static Date parse(String date) throws Exception {\r\n\r\n\t\ttry{\r\n\r\n\t\t\tList&lt;DateGroup&gt; parse = new PrettyTimeParser().parseSyntax(date);\r\n\t\t\treturn parse.get(0).getDates().get(0);\r\n\r\n\t\t}catch (Exception e){\r\n\t\t\tthrow new Exception(&quot;unparseable date: &quot; + date);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n","title":"Getting date from unknown Date format string","body":"<p>your best bet is to use <a href=\"http://natty.joestelmach.com/\" rel=\"nofollow\">natty</a></p>\n\n<p>very useful library, </p>\n\n<p>here is an example of how to use it:</p>\n\n<pre><code>public static Date parse(String date) throws Exception {\n\n    try{\n\n        List&lt;DateGroup&gt; parse = new PrettyTimeParser().parseSyntax(date);\n        return parse.get(0).getDates().get(0);\n\n    }catch (Exception e){\n        throw new Exception(\"unparseable date: \" + date);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5426896,"reputation":58746,"user_id":4318868,"display_name":"Slava Vedenin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449238699,"creation_date":1449237898,"answer_id":34090142,"question_id":34089965,"body_markdown":"If you unknown pattern format you can use something like this\r\n\r\n        DateTimeFormatter formatter1 = DateTimeFormat.forPattern(&quot;d/MM/YY&quot;)\r\n                .withLocale(Locale.UK);\r\n        DateTimeFormatter formatter2 = DateTimeFormat.forPattern(&quot;m:d:YYYY&quot;)\r\n                .withLocale(Locale.UK);\r\n        ...\r\n        DateTimeFormatter formatterN = DateTimeFormat.forPattern(...\r\n\r\n        String stringDate = &quot;08:18:2012&quot;;\r\n        LocalDate date;\r\n        try {\r\n            date = formatter1.parseLocalDate(stringDate);\r\n        } catch (Exception exp) {\r\n           try {\r\n              date = formatter2.parseLocalDate(stringDate);\r\n           } catch (Exception exp) {\r\n              ...\r\n              date = formatterN.parseLocalDate(stringDate);\r\n           }\r\n        } \r\n\r\nOR using List:\r\n\r\n        List&lt;DateTimeFormatter&gt; formatterList = new ArrayList&lt;&gt;();\r\n        formatterList.add(DateTimeFormat.forPattern(&quot;d/MM/YY&quot;)\r\n                .withLocale(Locale.UK));\r\n        formatterList.add(DateTimeFormat.forPattern(&quot;m:d:YYYY&quot;)\r\n                .withLocale(Locale.UK));\r\n        ...\r\n        formatterList.add(DateTimeFormat.forPattern(...\r\n\r\n        String stringDate = &quot;08:18:2012&quot;;\r\n        LocalDate date;\r\n        for(DateTimeFormatter formatter : formatterList) {\r\n           try {\r\n              return formatter.parseLocalDate(stringDate);\r\n           } catch (Exception exp) {\r\n\r\n           }\r\n        } \r\n\r\nBut it&#39;s impossible if you have pattern like &quot;d/MM/YY&quot; and &quot;MM/d/YY&quot;, because you can recognize what string &quot;01/01/15&quot; means (where day and where month). Only if you have a lot of strings with one pattern you can statistically undestand what is day and what is month (month never be more then 12).","title":"Getting date from unknown Date format string","body":"<p>If you unknown pattern format you can use something like this</p>\n\n<pre><code>    DateTimeFormatter formatter1 = DateTimeFormat.forPattern(\"d/MM/YY\")\n            .withLocale(Locale.UK);\n    DateTimeFormatter formatter2 = DateTimeFormat.forPattern(\"m:d:YYYY\")\n            .withLocale(Locale.UK);\n    ...\n    DateTimeFormatter formatterN = DateTimeFormat.forPattern(...\n\n    String stringDate = \"08:18:2012\";\n    LocalDate date;\n    try {\n        date = formatter1.parseLocalDate(stringDate);\n    } catch (Exception exp) {\n       try {\n          date = formatter2.parseLocalDate(stringDate);\n       } catch (Exception exp) {\n          ...\n          date = formatterN.parseLocalDate(stringDate);\n       }\n    } \n</code></pre>\n\n<p>OR using List:</p>\n\n<pre><code>    List&lt;DateTimeFormatter&gt; formatterList = new ArrayList&lt;&gt;();\n    formatterList.add(DateTimeFormat.forPattern(\"d/MM/YY\")\n            .withLocale(Locale.UK));\n    formatterList.add(DateTimeFormat.forPattern(\"m:d:YYYY\")\n            .withLocale(Locale.UK));\n    ...\n    formatterList.add(DateTimeFormat.forPattern(...\n\n    String stringDate = \"08:18:2012\";\n    LocalDate date;\n    for(DateTimeFormatter formatter : formatterList) {\n       try {\n          return formatter.parseLocalDate(stringDate);\n       } catch (Exception exp) {\n\n       }\n    } \n</code></pre>\n\n<p>But it's impossible if you have pattern like \"d/MM/YY\" and \"MM/d/YY\", because you can recognize what string \"01/01/15\" means (where day and where month). Only if you have a lot of strings with one pattern you can statistically undestand what is day and what is month (month never be more then 12).</p>\n"},{"tags":[],"owner":{"account_id":4717131,"reputation":140,"user_id":4137880,"display_name":"Pavoletto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645438910,"creation_date":1449239048,"answer_id":34090496,"question_id":34089965,"body_markdown":"Look at the [Cacovsky&#39;s answer](https://stackoverflow.com/a/21164291/441662) to [this](https://stackoverflow.com/questions/3389348/parse-any-date-in-java) question.","title":"Getting date from unknown Date format string","body":"<p>Look at the <a href=\"https://stackoverflow.com/a/21164291/441662\">Cacovsky's answer</a> to <a href=\"https://stackoverflow.com/questions/3389348/parse-any-date-in-java\">this</a> question.</p>\n"},{"tags":[],"owner":{"account_id":14668216,"reputation":47,"user_id":10593431,"display_name":"Mahdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589972715,"creation_date":1589957330,"answer_id":61906781,"question_id":34089965,"body_markdown":"\t//download library:   org.ocpsoft.prettytime.nlp.PrettyTimeParser\r\n\t\r\n    String str = &quot;2020.03.03&quot;;\r\n\tDate date = new PrettyTimeParser().parseSyntax(str).get(0).getDates().get(0);\r\n\tSystem.out.println(date)","title":"Getting date from unknown Date format string","body":"<pre><code>//download library:   org.ocpsoft.prettytime.nlp.PrettyTimeParser\n\nString str = \"2020.03.03\";\nDate date = new PrettyTimeParser().parseSyntax(str).get(0).getDates().get(0);\nSystem.out.println(date)\n</code></pre>\n"}],"owner":{"account_id":3950799,"reputation":5193,"user_id":3261292,"accept_rate":62,"display_name":"Minions"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3573,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34090104,"answer_count":5,"score":2,"last_activity_date":1645438910,"creation_date":1449237312,"question_id":34089965,"body_markdown":"If i have a string that contain a date in a format (unknown) &quot;d/MM/YY&quot; or &quot;m:d:YYYY&quot; etc.).\r\n\r\nHow could i parse it and get day,month,year values ?\r\n\r\nI tried to parse them by filling an array with all format combinations , and try to parse the date with each one of them , i think it&#39;s a stupid solution !\r\n\r\nAny ideas ?\r\n\r\n","title":"Getting date from unknown Date format string","body":"<p>If i have a string that contain a date in a format (unknown) \"d/MM/YY\" or \"m:d:YYYY\" etc.).</p>\n\n<p>How could i parse it and get day,month,year values ?</p>\n\n<p>I tried to parse them by filling an array with all format combinations , and try to parse the date with each one of them , i think it's a stupid solution !</p>\n\n<p>Any ideas ?</p>\n"},{"tags":["java","maven","netbeans"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645421909,"post_id":71201574,"comment_id":125858213,"body_markdown":"You need to show your pom.xml. The dependencies included on the classpath depend on the scopes of each dependency.","body":"You need to show your pom.xml. The dependencies included on the classpath depend on the scopes of each dependency."},{"owner":{"account_id":8468404,"reputation":2305,"user_id":6351897,"accept_rate":77,"display_name":"HelloWorld"},"score":0,"creation_date":1645422996,"post_id":71201574,"comment_id":125858395,"body_markdown":"I included the pom.xml @tgdavies. But doesn&#39;t &lt;scope&gt;test&lt;/test&gt; also includes all &lt;scope&gt;compile&lt;/scope&gt; ? So if it is in test then it must also be in compile, mustn&#39;t it ?","body":"I included the pom.xml @tgdavies. But doesn&#39;t &lt;scope&gt;test&lt;/test&gt; also includes all &lt;scope&gt;compile&lt;/scope&gt; ? So if it is in test then it must also be in compile, mustn&#39;t it ?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645426596,"post_id":71201574,"comment_id":125859136,"body_markdown":"You&#39;re supplying `exec.args`, so the classpath will be whatever gets substituted for `%classpath`. This is a Netbeans issue, not a maven issue.","body":"You&#39;re supplying <code>exec.args</code>, so the classpath will be whatever gets substituted for <code>%classpath</code>. This is a Netbeans issue, not a maven issue."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645426747,"post_id":71201574,"comment_id":125859167,"body_markdown":"What happens if you just run `mvn &quot;-Dexec.args=myPackage.MyMain&quot; -DskipTests=true org.codehaus.mojo:exec-maven-plugin:1.5.0:java`","body":"What happens if you just run <code>mvn &quot;-Dexec.args=myPackage.MyMain&quot; -DskipTests=true org.codehaus.mojo:exec-maven-plugin:1.5.0:java</code>"},{"owner":{"account_id":8468404,"reputation":2305,"user_id":6351897,"accept_rate":77,"display_name":"HelloWorld"},"score":0,"creation_date":1645427338,"post_id":71201574,"comment_id":125859318,"body_markdown":"It outputs the same : `/pathTo/netbeans/java/maven/boot/plexus-classworlds-2.5.2.jar`","body":"It outputs the same : <code>&#47;pathTo&#47;netbeans&#47;java&#47;maven&#47;boot&#47;plexus-classworlds-2.5.2.ja&zwnj;&#8203;r</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645428422,"post_id":71201574,"comment_id":125859621,"body_markdown":"You&#39;re sure that your pom doesn&#39;t have any configuration for the exec plugin?","body":"You&#39;re sure that your pom doesn&#39;t have any configuration for the exec plugin?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1645436101,"post_id":71201574,"comment_id":125862145,"body_markdown":"I never run my java programs this way. For example, for the pdfbox app, I use `java -cp &quot;pdfbox-app-2.0.25;./lib/*&quot; org.apache.pdfbox.tools.PDFBox param...param` and the lib subdirectory has the needed jar files. Note that if you&#39;re not on windows, you may have to use &quot;:&quot; instead of &quot;;&quot; for the classpath.","body":"I never run my java programs this way. For example, for the pdfbox app, I use <code>java -cp &quot;pdfbox-app-2.0.25;.&#47;lib&#47;*&quot; org.apache.pdfbox.tools.PDFBox param...param</code> and the lib subdirectory has the needed jar files. Note that if you&#39;re not on windows, you may have to use &quot;:&quot; instead of &quot;;&quot; for the classpath."},{"owner":{"account_id":8468404,"reputation":2305,"user_id":6351897,"accept_rate":77,"display_name":"HelloWorld"},"score":0,"creation_date":1645439193,"post_id":71201574,"comment_id":125863276,"body_markdown":"@tgdavies there is configuration for the exec plugin (see my edit) but I think the dependencies management it handled by [`plexus-classworlds`](https://codehaus-plexus.github.io/plexus-classworlds/) which seems to do dynamic loading under the hood.","body":"@tgdavies there is configuration for the exec plugin (see my edit) but I think the dependencies management it handled by <a href=\"https://codehaus-plexus.github.io/plexus-classworlds/\" rel=\"nofollow noreferrer\"><code>plexus-classworlds</code></a> which seems to do dynamic loading under the hood."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645439369,"post_id":71201574,"comment_id":125863334,"body_markdown":"You can try explicitly setting which scope is use for the classpath: https://www.mojohaus.org/exec-maven-plugin/java-mojo.html#classpathScope","body":"You can try explicitly setting which scope is use for the classpath: <a href=\"https://www.mojohaus.org/exec-maven-plugin/java-mojo.html#classpathScope\" rel=\"nofollow noreferrer\">mojohaus.org/exec-maven-plugin/java-mojo.html#classpathScope</a>"},{"owner":{"account_id":8468404,"reputation":2305,"user_id":6351897,"accept_rate":77,"display_name":"HelloWorld"},"score":0,"creation_date":1645440871,"post_id":71201574,"comment_id":125863872,"body_markdown":"Thank you @tgdavies I tried both compile and test scopes but nothing changed.","body":"Thank you @tgdavies I tried both compile and test scopes but nothing changed."},{"owner":{"account_id":8468404,"reputation":2305,"user_id":6351897,"accept_rate":77,"display_name":"HelloWorld"},"score":0,"creation_date":1645446543,"post_id":71201574,"comment_id":125865963,"body_markdown":"@TilmanHausherr I tried your suggestion but it did not lead to the expected results (JPEG2000 still missing). I also tried to copy the jars  (https://pastebin.com/4maHgz4E as you wrote) in the root folder because root folder is automatically in the classpath but it did not work as expected either. Finally with the built jar with dependency, I tried to put the only the missing jars (JAI, JPEG2000, JBIG) under `./lib/javafx-sdk-11.0.2/lib` because I knew that this path was on the path, and it worked. Still I don&#39;t know why it did not worked in ./lib or in . (root).","body":"@TilmanHausherr I tried your suggestion but it did not lead to the expected results (JPEG2000 still missing). I also tried to copy the jars  (<a href=\"https://pastebin.com/4maHgz4E\" rel=\"nofollow noreferrer\">pastebin.com/4maHgz4E</a> as you wrote) in the root folder because root folder is automatically in the classpath but it did not work as expected either. Finally with the built jar with dependency, I tried to put the only the missing jars (JAI, JPEG2000, JBIG) under <code>.&#47;lib&#47;javafx-sdk-11.0.2&#47;lib</code> because I knew that this path was on the path, and it worked. Still I don&#39;t know why it did not worked in ./lib or in . (root)."}],"owner":{"account_id":8468404,"reputation":2305,"user_id":6351897,"accept_rate":77,"display_name":"HelloWorld"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645438817,"creation_date":1645421234,"question_id":71201574,"body_markdown":"\r\nI have a maven project. When I run it under Netbeans 11 (the command displayed by Netbeans is :  `mvn &quot;-Dexec.args=-classpath %classpath myPackage.MyMain&quot; -DOMP_THREAD_LIMIT=1 -DskipTests=true org.codehaus.mojo:exec-maven-plugin:1.5.0:java`) and print the classpath with `System.out.println(System.getProperty(&quot;java.class.path&quot;).replace(&quot;:&quot;,&quot;\\n&quot;));` it only shows a single jar \r\n\r\n&gt; /path/to/netbeans/java/maven/boot/plexus-classworlds-2.5.2.jar\r\n\r\nSo I can&#39;t check which libraries are actually included.\r\n\r\nOn the contrary when I run a test it show all jars that are included :\r\n \r\n    ...\r\n    /home/user/.m2/repository/com/github/jai-imageio/jai-imageio-core/1.4.0/jai-imageio-core-1.4.0.jar\r\n    /home/user/.m2/repository/com/github/jai-imageio/jai-imageio-jpeg2000/1.4.0/jai-imageio-jpeg2000-1.4.0.jar\r\n    /home/user/.m2/repository/org/apache/pdfbox/jbig2-imageio/3.0.2/jbig2-imageio-3.0.2.jar\r\n    /home/user/.m2/repository/org/apache/tika/tika-parsers/1.21/tika-parsers-1.21.jar\r\n    ...\r\n\r\nHow can I have the same behavior at compile time as the one I have at test time and show the actual included jars ?\r\n\r\nThe pom.xml reads :\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jai-imageio-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;  \r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jai-imageio-jpeg2000&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;  \r\n            \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jbig2-imageio&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\r\n            &lt;version&gt;${tikaVersion}&lt;/version&gt;         \r\n        &lt;/dependency&gt;\r\n```\r\n\r\nThe building part of pom reads like :\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t&lt;executions&gt;\r\n\t    &lt;execution&gt;\r\n\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t&lt;goals&gt;\r\n\t\t    &lt;goal&gt;single&lt;/goal&gt;\r\n\t\t&lt;/goals&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t    &lt;archive&gt;\r\n\t\t        &lt;manifest&gt;\r\n\t\t            &lt;mainClass&gt;\r\n\t\t                ${mainClass}\r\n\t\t            &lt;/mainClass&gt;                                    \r\n\t\t        &lt;/manifest&gt;\r\n\r\n\t\t        &lt;manifestEntries&gt;\r\n\t\t            &lt;Implementation-Version&gt;${project.version}&lt;/Implementation-Version&gt;\r\n\t\t            &lt;Implementation-Title&gt;${project.artifactId}&lt;/Implementation-Title&gt;\r\n\t\t        &lt;/manifestEntries&gt;\r\n\t\t    &lt;/archive&gt;\r\n\t\t    &lt;descriptorRefs&gt;\r\n\t\t        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t    &lt;/descriptorRefs&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t    &lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n\r\n```\r\n\r\nAnd the execution part reads like :\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.0&lt;/version&gt;\r\n        \r\n        &lt;configuration&gt;\r\n            &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n            &lt;argLine&gt;-Xmx1024M&lt;/argLine&gt;\r\n        &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n&lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;${javaVersion}&lt;/source&gt;\r\n            &lt;target&gt;${javaVersion}&lt;/target&gt;                    \r\n        &lt;/configuration&gt;\r\n&lt;/plugin&gt; \r\n\r\n```\r\n","title":"Java how to force classpath in compile to be the same as in test","body":"<p>I have a maven project. When I run it under Netbeans 11 (the command displayed by Netbeans is :  <code>mvn &quot;-Dexec.args=-classpath %classpath myPackage.MyMain&quot; -DOMP_THREAD_LIMIT=1 -DskipTests=true org.codehaus.mojo:exec-maven-plugin:1.5.0:java</code>) and print the classpath with <code>System.out.println(System.getProperty(&quot;java.class.path&quot;).replace(&quot;:&quot;,&quot;\\n&quot;));</code> it only shows a single jar</p>\n<blockquote>\n<p>/path/to/netbeans/java/maven/boot/plexus-classworlds-2.5.2.jar</p>\n</blockquote>\n<p>So I can't check which libraries are actually included.</p>\n<p>On the contrary when I run a test it show all jars that are included :</p>\n<pre><code>...\n/home/user/.m2/repository/com/github/jai-imageio/jai-imageio-core/1.4.0/jai-imageio-core-1.4.0.jar\n/home/user/.m2/repository/com/github/jai-imageio/jai-imageio-jpeg2000/1.4.0/jai-imageio-jpeg2000-1.4.0.jar\n/home/user/.m2/repository/org/apache/pdfbox/jbig2-imageio/3.0.2/jbig2-imageio-3.0.2.jar\n/home/user/.m2/repository/org/apache/tika/tika-parsers/1.21/tika-parsers-1.21.jar\n...\n</code></pre>\n<p>How can I have the same behavior at compile time as the one I have at test time and show the actual included jars ?</p>\n<p>The pom.xml reads :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\n            &lt;artifactId&gt;jai-imageio-core&lt;/artifactId&gt;\n            &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;/dependency&gt;  \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\n            &lt;artifactId&gt;jai-imageio-jpeg2000&lt;/artifactId&gt;\n            &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;/dependency&gt;  \n            \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;jbig2-imageio&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n            &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\n            &lt;version&gt;${tikaVersion}&lt;/version&gt;         \n        &lt;/dependency&gt;\n</code></pre>\n<p>The building part of pom reads like :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;single&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;archive&gt;\n                &lt;manifest&gt;\n                    &lt;mainClass&gt;\n                        ${mainClass}\n                    &lt;/mainClass&gt;                                    \n                &lt;/manifest&gt;\n\n                &lt;manifestEntries&gt;\n                    &lt;Implementation-Version&gt;${project.version}&lt;/Implementation-Version&gt;\n                    &lt;Implementation-Title&gt;${project.artifactId}&lt;/Implementation-Title&gt;\n                &lt;/manifestEntries&gt;\n            &lt;/archive&gt;\n            &lt;descriptorRefs&gt;\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n        &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n\n</code></pre>\n<p>And the execution part reads like :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.6.0&lt;/version&gt;\n        \n        &lt;configuration&gt;\n            &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n            &lt;argLine&gt;-Xmx1024M&lt;/argLine&gt;\n        &lt;/configuration&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;${javaVersion}&lt;/source&gt;\n            &lt;target&gt;${javaVersion}&lt;/target&gt;                    \n        &lt;/configuration&gt;\n&lt;/plugin&gt; \n\n</code></pre>\n"},{"tags":["java","scala","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":4362835,"reputation":88,"user_id":3559391,"display_name":"Lingaraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645438022,"creation_date":1645262741,"answer_id":71183667,"question_id":71160360,"body_markdown":"In Spark, you can use Window Aggregate Functions directly, I will show that here in Scala.\r\n\r\n\r\n\r\nHere is your input data (my preparation): \r\n```\r\nimport scala.collection.JavaConversions._\r\nimport org.apache.spark.sql.functions._\r\nimport org.apache.spark.sql.types._\r\nimport org.apache.spark.sql.Row\r\n\r\nval schema = StructType(\r\n    StructField(&quot;Col1&quot;, StringType, false) ::\r\n    StructField(&quot;Col2&quot;, IntegerType, false) :: Nil\r\n)\r\n\r\nval row = Seq(Row(&quot;a&quot;, 1),Row(&quot;b&quot;, 8),Row(&quot;b&quot;, 2),Row(&quot;a&quot;, 5),Row(&quot;b&quot;, 5),Row(&quot;a&quot;, 3))\r\nval df = spark.createDataFrame(row, schema)\r\ndf.show(false)\r\n//input:\r\n// +----+----+\r\n// |Col1|Col2|\r\n// +----+----+\r\n// |a   |1   |\r\n// |b   |8   |\r\n// |b   |2   |\r\n// |a   |5   |\r\n// |b   |5   |\r\n// |a   |3   |\r\n// +----+----+\r\n```\r\n\r\n\r\n\r\n\r\nHere is the code to obtain desired logic :\r\n\r\n```\r\n  import org.apache.spark.sql.expressions.Window\r\n  df\r\n// NEWCOLUMN: EVALUATE/CREATE LIST OF VALUES FOR EACH RECORD OVER THE WINDOW AS FRAME MOVES\r\n    .withColumn(\r\n      &quot;collected_list&quot;,\r\n      collect_list(col(&quot;Col2&quot;)) over Window\r\n        .partitionBy(col(&quot;Col1&quot;))\r\n        .orderBy(col(&quot;Col2&quot;))\r\n    )\r\n// NEWCOLUMN: MAX SIZE OF COLLECTED LIST IN EACH WINDOW\r\n    .withColumn(\r\n      &quot;max_size&quot;,\r\n      max(size(col(&quot;collected_list&quot;))) over Window.partitionBy(col(&quot;Col1&quot;))\r\n    )\r\n// FILTER TO GET ONLY HIGHEST SIZED ARRAY ROW\r\n    .where(col(&quot;max_size&quot;) - size(col(&quot;collected_list&quot;)) === 0)\r\n    .orderBy(col(&quot;Col1&quot;))\r\n    .drop(&quot;Col2&quot;, &quot;max_size&quot;)\r\n    .show(false)\r\n\r\n// output:\r\n// +----+--------------+\r\n// |Col1|collected_list|\r\n// +----+--------------+\r\n// |a   |[1, 3, 5]     |\r\n// |b   |[2, 5, 8]     |\r\n// +----+--------------+\r\n\r\n```\r\n\r\n\r\nNote: \r\n\r\n 1. you can just use collect_list() Aggregate function with groupBy directly but, you can not get the collection list ordered.\r\n 2. collect_set() Aggregate function you can explore if you want to eliminate duplicates (with some changes to the above query).\r\n\r\n\r\n##### EDIT 2 : You can write your custom collect_list() as a UDAF (UserDefinedAggregateFunction) like this in Scala Spark for DataFrames\r\n\r\n##### Online Docs\r\n1. [For Spark2.3.0][1]\r\n2. [For Latest Version][2]\r\n\r\n##### Below Code Spark Version == 2.3.0\r\n```\r\nobject Your_Collect_Array extends UserDefinedAggregateFunction {\r\n\r\n    override def inputSchema: StructType = StructType(\r\n      StructField(&quot;yourInputToAggFunction&quot;, LongType, false) :: Nil\r\n    )\r\n\r\n    override def dataType: ArrayType = ArrayType(LongType, false)\r\n\r\n    override def deterministic: Boolean = true\r\n\r\n    override def bufferSchema: StructType = {\r\n      StructType(\r\n        StructField(&quot;yourCollectedArray&quot;, ArrayType(LongType, false), false) :: Nil\r\n      )\r\n    }\r\n    override def initialize(buffer: MutableAggregationBuffer): Unit = {\r\n      buffer(0) = new Array[Long](0)\r\n    }\r\n\r\n    override def update(buffer: MutableAggregationBuffer, input: Row): Unit = {\r\n\r\n      buffer.update(\r\n        0,\r\n        buffer.getAs[mutable.WrappedArray[Long]](0) :+ input.getLong(0)\r\n      )\r\n\r\n    }\r\n\r\n    override def merge(\r\n        buffer1: MutableAggregationBuffer,\r\n        buffer2: Row\r\n    ): Unit = {\r\n      buffer1.update(\r\n        0,\r\n        buffer1.getAs[mutable.WrappedArray[Long]](0) ++ buffer2\r\n          .getAs[mutable.WrappedArray[Long]](0)\r\n      )\r\n\r\n    }\r\n    override def evaluate(buffer: Row): Any =\r\n      buffer.getAs[mutable.WrappedArray[Long]](0)\r\n\r\n  }\r\n\r\n\r\n//Below is the query with just one line change i.e., calling above written custom udf \r\ndf\r\n// NEWCOLUMN : USING OUR CUSTOM UDF\r\n  .withColumn(\r\n    &quot;your_collected_list&quot;,\r\n    Your_Collect_Array(col(&quot;Col2&quot;)) over Window\r\n      .partitionBy(col(&quot;Col1&quot;))\r\n      .orderBy(col(&quot;Col2&quot;))\r\n  )\r\n// NEWCOLUMN: MAX SIZE OF COLLECTED LIST IN EACH WINDOW\r\n  .withColumn(\r\n    &quot;max_size&quot;,\r\n    max(size(col(&quot;your_collected_list&quot;))) over Window.partitionBy(col(&quot;Col1&quot;))\r\n  )\r\n// FILTER TO GET ONLY HIGHEST SIZED ARRAY ROW\r\n  .where(col(&quot;max_size&quot;) - size(col(&quot;your_collected_list&quot;)) === 0)\r\n  .orderBy(col(&quot;Col1&quot;))\r\n  .drop(&quot;Col2&quot;, &quot;max_size&quot;)\r\n  .show(false)\r\n\r\n//Output:\r\n// +----+-------------------+\r\n// |Col1|your_collected_list|\r\n// +----+-------------------+\r\n// |a   |[1, 3, 5]          |\r\n// |b   |[2, 5, 8]          |\r\n// +----+-------------------+\r\n\r\n```\r\n\r\nNote: \r\n1. UDFs are not that efficient in spark hence, use them only when you absolutely need them. They are mainly focused for data analytics. \r\n\r\n\r\n  [1]: https://spark.apache.org/docs/2.3.0/api/scala/index.html#org.apache.spark.sql.expressions.UserDefinedAggregateFunction\r\n  [2]: https://spark.apache.org/docs/3.2.1/sql-ref-functions-udf-aggregate.html","title":"How to apply a function on a sequential data within group in spark?","body":"<p>In Spark, you can use Window Aggregate Functions directly, I will show that here in Scala.</p>\n<p>Here is your input data (my preparation):</p>\n<pre><code>import scala.collection.JavaConversions._\nimport org.apache.spark.sql.functions._\nimport org.apache.spark.sql.types._\nimport org.apache.spark.sql.Row\n\nval schema = StructType(\n    StructField(&quot;Col1&quot;, StringType, false) ::\n    StructField(&quot;Col2&quot;, IntegerType, false) :: Nil\n)\n\nval row = Seq(Row(&quot;a&quot;, 1),Row(&quot;b&quot;, 8),Row(&quot;b&quot;, 2),Row(&quot;a&quot;, 5),Row(&quot;b&quot;, 5),Row(&quot;a&quot;, 3))\nval df = spark.createDataFrame(row, schema)\ndf.show(false)\n//input:\n// +----+----+\n// |Col1|Col2|\n// +----+----+\n// |a   |1   |\n// |b   |8   |\n// |b   |2   |\n// |a   |5   |\n// |b   |5   |\n// |a   |3   |\n// +----+----+\n</code></pre>\n<p>Here is the code to obtain desired logic :</p>\n<pre><code>  import org.apache.spark.sql.expressions.Window\n  df\n// NEWCOLUMN: EVALUATE/CREATE LIST OF VALUES FOR EACH RECORD OVER THE WINDOW AS FRAME MOVES\n    .withColumn(\n      &quot;collected_list&quot;,\n      collect_list(col(&quot;Col2&quot;)) over Window\n        .partitionBy(col(&quot;Col1&quot;))\n        .orderBy(col(&quot;Col2&quot;))\n    )\n// NEWCOLUMN: MAX SIZE OF COLLECTED LIST IN EACH WINDOW\n    .withColumn(\n      &quot;max_size&quot;,\n      max(size(col(&quot;collected_list&quot;))) over Window.partitionBy(col(&quot;Col1&quot;))\n    )\n// FILTER TO GET ONLY HIGHEST SIZED ARRAY ROW\n    .where(col(&quot;max_size&quot;) - size(col(&quot;collected_list&quot;)) === 0)\n    .orderBy(col(&quot;Col1&quot;))\n    .drop(&quot;Col2&quot;, &quot;max_size&quot;)\n    .show(false)\n\n// output:\n// +----+--------------+\n// |Col1|collected_list|\n// +----+--------------+\n// |a   |[1, 3, 5]     |\n// |b   |[2, 5, 8]     |\n// +----+--------------+\n\n</code></pre>\n<p>Note:</p>\n<ol>\n<li>you can just use collect_list() Aggregate function with groupBy directly but, you can not get the collection list ordered.</li>\n<li>collect_set() Aggregate function you can explore if you want to eliminate duplicates (with some changes to the above query).</li>\n</ol>\n<h5>EDIT 2 : You can write your custom collect_list() as a UDAF (UserDefinedAggregateFunction) like this in Scala Spark for DataFrames</h5>\n<h5>Online Docs</h5>\n<ol>\n<li><a href=\"https://spark.apache.org/docs/2.3.0/api/scala/index.html#org.apache.spark.sql.expressions.UserDefinedAggregateFunction\" rel=\"nofollow noreferrer\">For Spark2.3.0</a></li>\n<li><a href=\"https://spark.apache.org/docs/3.2.1/sql-ref-functions-udf-aggregate.html\" rel=\"nofollow noreferrer\">For Latest Version</a></li>\n</ol>\n<h5>Below Code Spark Version == 2.3.0</h5>\n<pre><code>object Your_Collect_Array extends UserDefinedAggregateFunction {\n\n    override def inputSchema: StructType = StructType(\n      StructField(&quot;yourInputToAggFunction&quot;, LongType, false) :: Nil\n    )\n\n    override def dataType: ArrayType = ArrayType(LongType, false)\n\n    override def deterministic: Boolean = true\n\n    override def bufferSchema: StructType = {\n      StructType(\n        StructField(&quot;yourCollectedArray&quot;, ArrayType(LongType, false), false) :: Nil\n      )\n    }\n    override def initialize(buffer: MutableAggregationBuffer): Unit = {\n      buffer(0) = new Array[Long](0)\n    }\n\n    override def update(buffer: MutableAggregationBuffer, input: Row): Unit = {\n\n      buffer.update(\n        0,\n        buffer.getAs[mutable.WrappedArray[Long]](0) :+ input.getLong(0)\n      )\n\n    }\n\n    override def merge(\n        buffer1: MutableAggregationBuffer,\n        buffer2: Row\n    ): Unit = {\n      buffer1.update(\n        0,\n        buffer1.getAs[mutable.WrappedArray[Long]](0) ++ buffer2\n          .getAs[mutable.WrappedArray[Long]](0)\n      )\n\n    }\n    override def evaluate(buffer: Row): Any =\n      buffer.getAs[mutable.WrappedArray[Long]](0)\n\n  }\n\n\n//Below is the query with just one line change i.e., calling above written custom udf \ndf\n// NEWCOLUMN : USING OUR CUSTOM UDF\n  .withColumn(\n    &quot;your_collected_list&quot;,\n    Your_Collect_Array(col(&quot;Col2&quot;)) over Window\n      .partitionBy(col(&quot;Col1&quot;))\n      .orderBy(col(&quot;Col2&quot;))\n  )\n// NEWCOLUMN: MAX SIZE OF COLLECTED LIST IN EACH WINDOW\n  .withColumn(\n    &quot;max_size&quot;,\n    max(size(col(&quot;your_collected_list&quot;))) over Window.partitionBy(col(&quot;Col1&quot;))\n  )\n// FILTER TO GET ONLY HIGHEST SIZED ARRAY ROW\n  .where(col(&quot;max_size&quot;) - size(col(&quot;your_collected_list&quot;)) === 0)\n  .orderBy(col(&quot;Col1&quot;))\n  .drop(&quot;Col2&quot;, &quot;max_size&quot;)\n  .show(false)\n\n//Output:\n// +----+-------------------+\n// |Col1|your_collected_list|\n// +----+-------------------+\n// |a   |[1, 3, 5]          |\n// |b   |[2, 5, 8]          |\n// +----+-------------------+\n\n</code></pre>\n<p>Note:</p>\n<ol>\n<li>UDFs are not that efficient in spark hence, use them only when you absolutely need them. They are mainly focused for data analytics.</li>\n</ol>\n"}],"owner":{"account_id":5624495,"reputation":971,"user_id":6225526,"accept_rate":71,"display_name":"Selva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1645438022,"creation_date":1645109540,"question_id":71160360,"body_markdown":"I have a custom function which is depended on the order of the data. I want to apply this function for each group in spark in parallel (parallel groups). How can I do?\n\nFor example,\n\n    public ArrayList&lt;Integer&gt; my_logic(ArrayList&lt;Integer&gt; glist) {\n        Boolean b = true;\n        ArrayList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n        for (int i=1; i&lt;glist.size();I++) {  // Size is around 30000\n            If b &amp;&amp; glist[i-1] &gt; glist[i] {\n                // some logic then set b to false\n                result.add(glist[i]);\n            } else {\n               // some logic then set b to true\n            }\n        }\n     return result;\n    }\nMy data,\n\n    Col1  Col2\n    a        1\n    b        2\n    a        3\n    c        4\n    c        3\n    ….      ….\n\nI want something similar to below\n\n    df.group_by(col(“Col1”)).apply(my_logic(col(“Col2”))); \n    // output\n    a     [1,3,5…]\n    b     [2,5,8…]\n    ….   ….","title":"How to apply a function on a sequential data within group in spark?","body":"<p>I have a custom function which is depended on the order of the data. I want to apply this function for each group in spark in parallel (parallel groups). How can I do?</p>\n<p>For example,</p>\n<pre><code>public ArrayList&lt;Integer&gt; my_logic(ArrayList&lt;Integer&gt; glist) {\n    Boolean b = true;\n    ArrayList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    for (int i=1; i&lt;glist.size();I++) {  // Size is around 30000\n        If b &amp;&amp; glist[i-1] &gt; glist[i] {\n            // some logic then set b to false\n            result.add(glist[i]);\n        } else {\n           // some logic then set b to true\n        }\n    }\n return result;\n}\n</code></pre>\n<p>My data,</p>\n<pre><code>Col1  Col2\na        1\nb        2\na        3\nc        4\nc        3\n….      ….\n</code></pre>\n<p>I want something similar to below</p>\n<pre><code>df.group_by(col(“Col1”)).apply(my_logic(col(“Col2”))); \n// output\na     [1,3,5…]\nb     [2,5,8…]\n….   ….\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","mockito","mockmvc"],"comments":[{"owner":{"account_id":2734023,"reputation":2572,"user_id":2357083,"display_name":"Abbin Varghese"},"score":0,"creation_date":1574775991,"post_id":59051719,"comment_id":104344646,"body_markdown":"Should be because the mockbean is not injected to MockMvc. Can you try adding &#39;@InjectMocks&#39; above `private MockMvc mockMvc;`","body":"Should be because the mockbean is not injected to MockMvc. Can you try adding &#39;@InjectMocks&#39; above <code>private MockMvc mockMvc;</code>"},{"owner":{"account_id":10815791,"reputation":347,"user_id":8375274,"accept_rate":50,"display_name":"m.y.m"},"score":0,"creation_date":1574776578,"post_id":59051719,"comment_id":104344987,"body_markdown":"@AbbinVarghese, the same. Nothing changed.","body":"@AbbinVarghese, the same. Nothing changed."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1574779473,"post_id":59051719,"comment_id":104346608,"body_markdown":"Remove your `@BeforeEach` and `@RunWith`. Spring Boot already does all of that for you and as you are using jUnit5 (judging from the `@BeforeEach` you shouldn&#39;t use the `@RunWith` as that is for JUnit4).","body":"Remove your <code>@BeforeEach</code> and <code>@RunWith</code>. Spring Boot already does all of that for you and as you are using jUnit5 (judging from the <code>@BeforeEach</code> you shouldn&#39;t use the <code>@RunWith</code> as that is for JUnit4)."},{"owner":{"account_id":10815791,"reputation":347,"user_id":8375274,"accept_rate":50,"display_name":"m.y.m"},"score":0,"creation_date":1574781001,"post_id":59051719,"comment_id":104347559,"body_markdown":"Check the updated code @M.Deinum","body":"Check the updated code @M.Deinum"}],"answers":[{"tags":[],"owner":{"account_id":536581,"reputation":3624,"user_id":905494,"display_name":"tksilicon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645437710,"creation_date":1574777526,"answer_id":59052822,"question_id":59051719,"body_markdown":"Annotate your test class this way. \r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n\r\nAutowire this:\r\n\r\n    @Autowired\r\n    private WebApplicationContext wac;\r\n\r\nThis is just a class variable:\r\n\r\n    private MockMvc mockMvc;\r\n\r\nYour setup method:\r\n\r\n    @Before\r\n    public void setup() {\r\n        this.mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();\r\n    }\r\n\r\nBefore this line:\r\n\r\n    given(studentService.findAl()).willReturn(students);\r\n\r\nCreate:\r\n\r\n    StudentService studentService = org.mockito.Mockito.mock(StudentService.class);\r\n\r\nIt should run.\r\n\r\n","title":"Unit testing for spring boot RESTFUL Controller","body":"<p>Annotate your test class this way.</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n</code></pre>\n<p>Autowire this:</p>\n<pre><code>@Autowired\nprivate WebApplicationContext wac;\n</code></pre>\n<p>This is just a class variable:</p>\n<pre><code>private MockMvc mockMvc;\n</code></pre>\n<p>Your setup method:</p>\n<pre><code>@Before\npublic void setup() {\n    this.mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();\n}\n</code></pre>\n<p>Before this line:</p>\n<pre><code>given(studentService.findAl()).willReturn(students);\n</code></pre>\n<p>Create:</p>\n<pre><code>StudentService studentService = org.mockito.Mockito.mock(StudentService.class);\n</code></pre>\n<p>It should run.</p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574836300,"creation_date":1574779709,"answer_id":59053502,"question_id":59051719,"body_markdown":"There are a couple of things with your test, first you are mixing JUnit4 and JUnit5, don&#39;t, second you are trying to work against the Spring Boot created mock, don&#39;t. Finally you are creating a new mock for the service and register behavior. \r\n\r\n1. Remove the `@RunWith` annotation, that is for JUnit4 tests and not needed with JUnit5. \r\n2. Remove your `@BeforeEach` method, as that interferes with the prepared `MockMvc` by Spring Boot (through the `@WebMvcTest`) and the mock created by `@MockBean`. \r\n3. Remove `StudentService studentService = mock(StudentService.class);` from your test method. `@MockBean` already creates a mock. This creates a new mock, not tied to the controller. \r\n4. The version of Spring Boot used (2.0.x) doesn&#39;t yet have an `@WebMvcTest` that includes the `@ExtendWith` annotation (as of Spring Boot 2.1.x). So add that as well to use the proper execution model. \r\n\r\n**pro-tip:** Remove the no-args constructor and `@Autowired` from your `StudentController`, Spring is smart enough to pick the single constructor.\r\n\r\n","title":"Unit testing for spring boot RESTFUL Controller","body":"<p>There are a couple of things with your test, first you are mixing JUnit4 and JUnit5, don't, second you are trying to work against the Spring Boot created mock, don't. Finally you are creating a new mock for the service and register behavior. </p>\n\n<ol>\n<li>Remove the <code>@RunWith</code> annotation, that is for JUnit4 tests and not needed with JUnit5. </li>\n<li>Remove your <code>@BeforeEach</code> method, as that interferes with the prepared <code>MockMvc</code> by Spring Boot (through the <code>@WebMvcTest</code>) and the mock created by <code>@MockBean</code>. </li>\n<li>Remove <code>StudentService studentService = mock(StudentService.class);</code> from your test method. <code>@MockBean</code> already creates a mock. This creates a new mock, not tied to the controller. </li>\n<li>The version of Spring Boot used (2.0.x) doesn't yet have an <code>@WebMvcTest</code> that includes the <code>@ExtendWith</code> annotation (as of Spring Boot 2.1.x). So add that as well to use the proper execution model. </li>\n</ol>\n\n<p><strong>pro-tip:</strong> Remove the no-args constructor and <code>@Autowired</code> from your <code>StudentController</code>, Spring is smart enough to pick the single constructor.</p>\n"},{"tags":[],"owner":{"account_id":10815791,"reputation":347,"user_id":8375274,"accept_rate":50,"display_name":"m.y.m"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574784180,"creation_date":1574784180,"answer_id":59054914,"question_id":59051719,"body_markdown":"Finally I found an answer, to add `@ExtendWith(SpringExtension.class)` in order to work in JUnit5.&lt;br&gt;\r\nSo, my controller test class would be: \r\n\r\n    package com.demo.student.demo.controller;\r\n    \r\n    import com.demo.student.demo.entity.Student;\r\n    import com.demo.student.demo.service.StudentService;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\n    import org.springframework.boot.test.mock.mockito.MockBean;\r\n    import org.springframework.test.context.junit.jupiter.SpringExtension;\r\n    import org.springframework.test.web.servlet.MockMvc;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import static org.mockito.BDDMockito.given;\r\n    import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\n    \r\n    @ExtendWith(SpringExtension.class)\r\n    @WebMvcTest\r\n    class StudentControllerTest {\r\n    \r\n        private final static String URI = &quot;/v1/students&quot;;\r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n        @MockBean\r\n        private StudentService studentService;\r\n    \r\n        @Test\r\n        void findAll() throws Exception {\r\n            // given\r\n            Student student = new Student(1, &quot;test&quot;, &quot;test@test.test&quot;);\r\n            List&lt;Student&gt; students = Arrays.asList(student);\r\n            given(studentService.findAl()).willReturn(students);\r\n    \r\n            // when + then\r\n            mockMvc.perform(get(URI))\r\n                    .andExpect(status().isOk())\r\n                    .andExpect(content().json(&quot;[{&#39;id&#39;:1,&#39;email&#39;:&#39;test@test.test&#39;}]&quot;));\r\n        }\r\n    \r\n    }\r\n\r\nAnd also here is the pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.demo.student&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;demo&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.modelmapper/modelmapper --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n                &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n                &lt;version&gt;0.7.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n                &lt;version&gt;3.25.0-GA&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"Unit testing for spring boot RESTFUL Controller","body":"<p>Finally I found an answer, to add <code>@ExtendWith(SpringExtension.class)</code> in order to work in JUnit5.<br>\nSo, my controller test class would be: </p>\n\n<pre><code>package com.demo.student.demo.controller;\n\nimport com.demo.student.demo.entity.Student;\nimport com.demo.student.demo.service.StudentService;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\nimport org.springframework.test.web.servlet.MockMvc;\n\nimport java.util.Arrays;\nimport java.util.List;\n\nimport static org.mockito.BDDMockito.given;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\n\n@ExtendWith(SpringExtension.class)\n@WebMvcTest\nclass StudentControllerTest {\n\n    private final static String URI = \"/v1/students\";\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private StudentService studentService;\n\n    @Test\n    void findAll() throws Exception {\n        // given\n        Student student = new Student(1, \"test\", \"test@test.test\");\n        List&lt;Student&gt; students = Arrays.asList(student);\n        given(studentService.findAl()).willReturn(students);\n\n        // when + then\n        mockMvc.perform(get(URI))\n                .andExpect(status().isOk())\n                .andExpect(content().json(\"[{'id':1,'email':'test@test.test'}]\"));\n    }\n\n}\n</code></pre>\n\n<p>And also here is the pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.demo.student&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;junit&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.modelmapper/modelmapper --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;0.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.2.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n            &lt;version&gt;3.25.0-GA&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\n            &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":10815791,"reputation":347,"user_id":8375274,"accept_rate":50,"display_name":"m.y.m"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1645437710,"creation_date":1574773782,"question_id":59051719,"body_markdown":"I am trying to do unit testing for spring boot RESTFUL controller but I am receiving a null pointer exception. The application has a `StudentController` which depends on a `StudentService`. \r\nHere is the controller code: \r\n\r\n    package com.demo.student.demo.controller;\r\n    \r\n    import com.demo.student.demo.annotation.ApiDescription;\r\n    import com.demo.student.demo.entity.Student;\r\n    import com.demo.student.demo.entity.StudentDto;\r\n    import com.demo.student.demo.service.StudentService;\r\n    import io.swagger.annotations.Api;\r\n    import io.swagger.annotations.ApiOperation;\r\n    import org.modelmapper.ModelMapper;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @RestController\r\n    @RequestMapping(value = &quot;/v1/students&quot;)\r\n    @Api(description = &quot;This is a general description for StudentController RESTFUL Controller&quot;)\r\n    public class StudentController {\r\n    \r\n        private StudentService studentService;\r\n        private ModelMapper modelMapper;\r\n    \r\n        public StudentController(ModelMapper modelMapper, StudentService studentService){\r\n            this.studentService = studentService;\r\n            this.modelMapper = modelMapper;\r\n        }\r\n    \r\n        private StudentDto convertToDto(Student student) {\r\n            StudentDto studentDto = modelMapper.map(student, StudentDto.class);\r\n            return studentDto;\r\n        }\r\n    \r\n        private Student convertToEntity(StudentDto studentDto) {\r\n            Student student = modelMapper.map(studentDto, Student.class);\r\n            return student;\r\n        }\r\n    \r\n        @GetMapping\r\n        @ApiOperation(&quot;Returns a list of all students in the system.&quot;)\r\n        @ApiDescription(&quot;FIND_ALL_STUDENTS.md&quot;)\r\n        public List&lt;StudentDto&gt; findAll(){\r\n            List&lt;Student&gt; students = studentService.findAl();\r\n            return students.stream()\r\n                    .map(student -&gt; convertToDto(student))\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        @GetMapping(&quot;/{id}&quot;)\r\n        @ApiOperation(&quot;Returns a specific Student by his/her identifier. 404 if does not exist.&quot;)\r\n        @ApiDescription(&quot;FIND_STUDENT_BY_ID.md&quot;)\r\n        public StudentDto findById(@PathVariable(&quot;id&quot;) long id){\r\n            return convertToDto(studentService.findById(id));\r\n        }\r\n    \r\n        @PostMapping\r\n        @ApiOperation(&quot;Creates/Updates a new Student.&quot;)\r\n        @ApiDescription(&quot;SAVE_OR_UPDATE_STUDENT.md&quot;)\r\n        public StudentDto saveOrUpdate(@RequestBody StudentDto studentDto) {\r\n            Student student = convertToEntity(studentDto);\r\n            student.setUsername(student.getEmail() + &quot;----&quot; + student.getId());\r\n            Student studentCreated = studentService.saveOrUpdate(student);\r\n            return convertToDto(studentCreated);\r\n        }\r\n    \r\n        @DeleteMapping(&quot;/{id}&quot;)\r\n        @ApiOperation(&quot;Deletes a Student from the system. 404 if the Student&#39;s identifier is not found.&quot;)\r\n        @ApiDescription(&quot;DELETE_STUDENT_BY_ID.md&quot;)\r\n        public void deleteById(@PathVariable(&quot;id&quot;) long id){\r\n            studentService.deleteById(id);\r\n        }\r\n    \r\n    }\r\n\r\nAnd here is the service implementation code: \r\n\r\n    package com.demo.student.demo.service;\r\n    \r\n    import com.demo.student.demo.entity.Student;\r\n    import com.demo.student.demo.exception.StudentNotFoundException;\r\n    import com.demo.student.demo.repository.StudentRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    \r\n    \r\n    @Service\r\n    public class StudentServiceImpl implements StudentService {\r\n    \r\n        private StudentRepository studentRepository;\r\n    \r\n        @Autowired\r\n        public StudentServiceImpl(StudentRepository studentRepository){\r\n            this.studentRepository = studentRepository;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Student&gt; findAl() {\r\n            return studentRepository.findAll();\r\n        }\r\n    \r\n        @Override\r\n        public Student findById(long id) {\r\n            return  studentRepository.findById(id).orElseThrow(() -&gt; new StudentNotFoundException(id));\r\n        }\r\n    \r\n        @Override\r\n        public Student saveOrUpdate(Student student) {\r\n            studentRepository.save(student);\r\n            return student;\r\n        }\r\n    \r\n        @Override\r\n        public void deleteById(long id) {\r\n            if(this.findById(id) != null)\r\n                studentRepository.deleteById(id);\r\n        }\r\n    \r\n    }\r\n\r\nAnd this is the test class for the controller: \r\n\r\n    package com.demo.student.demo.controller;\r\n    \r\n    import com.demo.student.demo.entity.Student;\r\n    import com.demo.student.demo.service.StudentService;\r\n    import com.demo.student.demo.service.StudentServiceImpl;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\n    import org.springframework.boot.test.mock.mockito.MockBean;\r\n    import org.springframework.test.web.servlet.MockMvc;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import static org.mockito.BDDMockito.given;\r\n    import static org.mockito.Mockito.mock;\r\n    import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\n    \r\n    @WebMvcTest(StudentController.class)\r\n    class StudentControllerTest {\r\n    \r\n        private final static String URI = &quot;/v1/students&quot;;\r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n        @MockBean\r\n        private StudentService studentService;\r\n    \r\n        @Test\r\n        void findAll() throws Exception {    \r\n            // given\r\n            Student student = new Student(1, &quot;test&quot;, &quot;test@test.test&quot;);\r\n            List&lt;Student&gt; students = Arrays.asList(student);\r\n            given(studentService.findAl()).willReturn(students);\r\n    \r\n            // when + then\r\n            mockMvc.perform(get(URI))\r\n                    .andExpect(status().isOk())\r\n                    .andExpect(content().json(&quot;[{&#39;id&#39;:1,&#39;email&#39;:&#39;test@test.test&#39;}]&quot;));\r\n        }\r\n    \r\n    }\r\n\r\nHere is also the pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.demo.student&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;demo&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.modelmapper/modelmapper --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n                &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n                &lt;version&gt;0.7.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n                &lt;version&gt;3.25.0-GA&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nWhen I run the test I receive a NULL POINTER EXCEPTION pointing to a code line in the `StudentController` class where the student service retrieves all the student data: `List&lt;Student&gt; students = studentService.findAl();`\r\n\r\n    java.lang.NullPointerException: null\r\n    \tat com.demo.student.demo.controller.StudentController.findAll\r\n\r\nCan anyone tell me what is the problem?","title":"Unit testing for spring boot RESTFUL Controller","body":"<p>I am trying to do unit testing for spring boot RESTFUL controller but I am receiving a null pointer exception. The application has a <code>StudentController</code> which depends on a <code>StudentService</code>. \nHere is the controller code: </p>\n\n<pre><code>package com.demo.student.demo.controller;\n\nimport com.demo.student.demo.annotation.ApiDescription;\nimport com.demo.student.demo.entity.Student;\nimport com.demo.student.demo.entity.StudentDto;\nimport com.demo.student.demo.service.StudentService;\nimport io.swagger.annotations.Api;\nimport io.swagger.annotations.ApiOperation;\nimport org.modelmapper.ModelMapper;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@RestController\n@RequestMapping(value = \"/v1/students\")\n@Api(description = \"This is a general description for StudentController RESTFUL Controller\")\npublic class StudentController {\n\n    private StudentService studentService;\n    private ModelMapper modelMapper;\n\n    public StudentController(ModelMapper modelMapper, StudentService studentService){\n        this.studentService = studentService;\n        this.modelMapper = modelMapper;\n    }\n\n    private StudentDto convertToDto(Student student) {\n        StudentDto studentDto = modelMapper.map(student, StudentDto.class);\n        return studentDto;\n    }\n\n    private Student convertToEntity(StudentDto studentDto) {\n        Student student = modelMapper.map(studentDto, Student.class);\n        return student;\n    }\n\n    @GetMapping\n    @ApiOperation(\"Returns a list of all students in the system.\")\n    @ApiDescription(\"FIND_ALL_STUDENTS.md\")\n    public List&lt;StudentDto&gt; findAll(){\n        List&lt;Student&gt; students = studentService.findAl();\n        return students.stream()\n                .map(student -&gt; convertToDto(student))\n                .collect(Collectors.toList());\n    }\n\n    @GetMapping(\"/{id}\")\n    @ApiOperation(\"Returns a specific Student by his/her identifier. 404 if does not exist.\")\n    @ApiDescription(\"FIND_STUDENT_BY_ID.md\")\n    public StudentDto findById(@PathVariable(\"id\") long id){\n        return convertToDto(studentService.findById(id));\n    }\n\n    @PostMapping\n    @ApiOperation(\"Creates/Updates a new Student.\")\n    @ApiDescription(\"SAVE_OR_UPDATE_STUDENT.md\")\n    public StudentDto saveOrUpdate(@RequestBody StudentDto studentDto) {\n        Student student = convertToEntity(studentDto);\n        student.setUsername(student.getEmail() + \"----\" + student.getId());\n        Student studentCreated = studentService.saveOrUpdate(student);\n        return convertToDto(studentCreated);\n    }\n\n    @DeleteMapping(\"/{id}\")\n    @ApiOperation(\"Deletes a Student from the system. 404 if the Student's identifier is not found.\")\n    @ApiDescription(\"DELETE_STUDENT_BY_ID.md\")\n    public void deleteById(@PathVariable(\"id\") long id){\n        studentService.deleteById(id);\n    }\n\n}\n</code></pre>\n\n<p>And here is the service implementation code: </p>\n\n<pre><code>package com.demo.student.demo.service;\n\nimport com.demo.student.demo.entity.Student;\nimport com.demo.student.demo.exception.StudentNotFoundException;\nimport com.demo.student.demo.repository.StudentRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n\n@Service\npublic class StudentServiceImpl implements StudentService {\n\n    private StudentRepository studentRepository;\n\n    @Autowired\n    public StudentServiceImpl(StudentRepository studentRepository){\n        this.studentRepository = studentRepository;\n    }\n\n    @Override\n    public List&lt;Student&gt; findAl() {\n        return studentRepository.findAll();\n    }\n\n    @Override\n    public Student findById(long id) {\n        return  studentRepository.findById(id).orElseThrow(() -&gt; new StudentNotFoundException(id));\n    }\n\n    @Override\n    public Student saveOrUpdate(Student student) {\n        studentRepository.save(student);\n        return student;\n    }\n\n    @Override\n    public void deleteById(long id) {\n        if(this.findById(id) != null)\n            studentRepository.deleteById(id);\n    }\n\n}\n</code></pre>\n\n<p>And this is the test class for the controller: </p>\n\n<pre><code>package com.demo.student.demo.controller;\n\nimport com.demo.student.demo.entity.Student;\nimport com.demo.student.demo.service.StudentService;\nimport com.demo.student.demo.service.StudentServiceImpl;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.test.web.servlet.MockMvc;\n\nimport java.util.Arrays;\nimport java.util.List;\n\nimport static org.mockito.BDDMockito.given;\nimport static org.mockito.Mockito.mock;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\n\n@WebMvcTest(StudentController.class)\nclass StudentControllerTest {\n\n    private final static String URI = \"/v1/students\";\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private StudentService studentService;\n\n    @Test\n    void findAll() throws Exception {    \n        // given\n        Student student = new Student(1, \"test\", \"test@test.test\");\n        List&lt;Student&gt; students = Arrays.asList(student);\n        given(studentService.findAl()).willReturn(students);\n\n        // when + then\n        mockMvc.perform(get(URI))\n                .andExpect(status().isOk())\n                .andExpect(content().json(\"[{'id':1,'email':'test@test.test'}]\"));\n    }\n\n}\n</code></pre>\n\n<p>Here is also the pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.demo.student&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.modelmapper/modelmapper --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;0.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.2.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n            &lt;version&gt;3.25.0-GA&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\n            &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>When I run the test I receive a NULL POINTER EXCEPTION pointing to a code line in the <code>StudentController</code> class where the student service retrieves all the student data: <code>List&lt;Student&gt; students = studentService.findAl();</code></p>\n\n<pre><code>java.lang.NullPointerException: null\n    at com.demo.student.demo.controller.StudentController.findAll\n</code></pre>\n\n<p>Can anyone tell me what is the problem?</p>\n"},{"tags":["java","selenium","angular","sendkeys"],"comments":[{"owner":{"account_id":6244293,"reputation":3872,"user_id":4856814,"display_name":"murali selenium"},"score":0,"creation_date":1463113508,"post_id":37200048,"comment_id":61934412,"body_markdown":"good..looks like issue with Angular2 only.","body":"good..looks like issue with Angular2 only."},{"owner":{"account_id":6600231,"reputation":672,"user_id":5098772,"display_name":"Victor1125"},"score":0,"creation_date":1574722519,"post_id":37200048,"comment_id":104324946,"body_markdown":"Add rendered html, please. I think txtFirstName is not input but parent for this input in DOM. First you must analize html, because sometimes rendered html looks different like source code.","body":"Add rendered html, please. I think txtFirstName is not input but parent for this input in DOM. First you must analize html, because sometimes rendered html looks different like source code."}],"answers":[{"tags":[],"owner":{"account_id":879403,"reputation":632265,"user_id":217408,"accept_rate":97,"display_name":"G&#252;nter Z&#246;chbauer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1463111841,"creation_date":1463108864,"answer_id":37200601,"question_id":37200048,"body_markdown":"I assume this is caused by this Angular2 issue https://github.com/angular/angular/issues/5808\r\n\r\nAngular can&#39;t process input events when they arrive too fast. \r\n\r\nAs a workaround you would need to send single characters with a small delay between each.","title":"Selenium sendKeys are not sending all characters","body":"<p>I assume this is caused by this Angular2 issue <a href=\"https://github.com/angular/angular/issues/5808\" rel=\"noreferrer\">https://github.com/angular/angular/issues/5808</a></p>\n\n<p>Angular can't process input events when they arrive too fast. </p>\n\n<p>As a workaround you would need to send single characters with a small delay between each.</p>\n"},{"tags":[],"owner":{"account_id":3412418,"reputation":45,"user_id":2862062,"display_name":"Manjunatha.N"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1463380096,"creation_date":1463380096,"answer_id":37247929,"question_id":37200048,"body_markdown":"try this code.. other way to set values using javascript\r\nWebDriver driver = new FirefoxDriver();\r\nJavascriptExecutor jse = (JavascriptExecutor)driver;\r\njse.executeScript(&quot;document.getElementsByName(&#39;body&#39;)[0].setAttribute(&#39;type&#39;, &#39;text&#39;);&quot;);\r\ndriver.findElement(By.xpath(&quot;//input[@name=&#39;body&#39;]&quot;)).clear();\r\ndriver.findElement(By.xpath(&quot;//input[@name=&#39;body&#39;]&quot;)).sendKeys(&quot;Ripon: body text&quot;);","title":"Selenium sendKeys are not sending all characters","body":"<p>try this code.. other way to set values using javascript\nWebDriver driver = new FirefoxDriver();\nJavascriptExecutor jse = (JavascriptExecutor)driver;\njse.executeScript(\"document.getElementsByName('body')[0].setAttribute('type', 'text');\");\ndriver.findElement(By.xpath(\"//input[@name='body']\")).clear();\ndriver.findElement(By.xpath(\"//input[@name='body']\")).sendKeys(\"Ripon: body text\");</p>\n"},{"tags":[],"owner":{"account_id":5076916,"reputation":8313,"user_id":4074045,"display_name":"Arg0n"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1470906868,"creation_date":1470906868,"answer_id":38892121,"question_id":37200048,"body_markdown":"I stumbled upon this error when doing integration tests with NightwatchJS (which uses selenium).\r\n\r\nSo I&#39;m writing this for people coming here in the future.\r\n\r\nI wrote this **extension command** for nightwatch:\r\n\r\n    exports.command = function (selector, value, using) {\r\n        var self = this;\r\n        self.elements(using || &#39;css selector&#39;, selector, function (elems) {\r\n            elems.value.forEach(function (element) {\r\n                for (var c of value.split(&#39;&#39;)) {\r\n                    self.elementIdValue(element.ELEMENT, c);\r\n                }\r\n            });\r\n        });\r\n        return this;\r\n    };\r\n\r\nWhich can be used in this way:\r\n\r\n    var username = &#39;integration@test.com&#39;;\r\n    browser.setValueSlow(&#39;input[ngcontrol=username]&#39;, username); //Works with ng2!\r\n\r\nThis issue was also discussed on NightwatchJS&#39;s github [here][1]\r\n\r\n\r\n  [1]: https://github.com/nightwatchjs/nightwatch/issues/983","title":"Selenium sendKeys are not sending all characters","body":"<p>I stumbled upon this error when doing integration tests with NightwatchJS (which uses selenium).</p>\n\n<p>So I'm writing this for people coming here in the future.</p>\n\n<p>I wrote this <strong>extension command</strong> for nightwatch:</p>\n\n<pre><code>exports.command = function (selector, value, using) {\n    var self = this;\n    self.elements(using || 'css selector', selector, function (elems) {\n        elems.value.forEach(function (element) {\n            for (var c of value.split('')) {\n                self.elementIdValue(element.ELEMENT, c);\n            }\n        });\n    });\n    return this;\n};\n</code></pre>\n\n<p>Which can be used in this way:</p>\n\n<pre><code>var username = 'integration@test.com';\nbrowser.setValueSlow('input[ngcontrol=username]', username); //Works with ng2!\n</code></pre>\n\n<p>This issue was also discussed on NightwatchJS's github <a href=\"https://github.com/nightwatchjs/nightwatch/issues/983\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"display_name":"user3379369"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562237607,"creation_date":1556784059,"answer_id":55948007,"question_id":37200048,"body_markdown":"This is due to a bug in Angular apps. Workaround is to put a sleep function.\r\n\r\n    public void setText(By element, String text) {\r\n        sleep(100); // Angular version &lt; 2 apps require this sleep due to a bug\r\n        driver.findElement(element).clear();\r\n        driver.findElement(element).sendKeys(text);\r\n    }","title":"Selenium sendKeys are not sending all characters","body":"<p>This is due to a bug in Angular apps. Workaround is to put a sleep function.</p>\n\n<pre><code>public void setText(By element, String text) {\n    sleep(100); // Angular version &lt; 2 apps require this sleep due to a bug\n    driver.findElement(element).clear();\n    driver.findElement(element).sendKeys(text);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9368230,"reputation":167,"user_id":6952393,"display_name":"Seunara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558020101,"creation_date":1558020101,"answer_id":56171875,"question_id":37200048,"body_markdown":"I was getting this error too in Java, Selenium. You might also be getting this error too while writing your codes -  *&quot;sendKeys (CharSequence) from the type Webelement refers to the missing type charSequence&quot;* \r\n\r\nI tried varying the wait time and even typing extra characters before the main characters, they did not work.\r\n\r\nThe simple trick I used was to change the Java Compiler version from JRE 9 to JRE 10. ","title":"Selenium sendKeys are not sending all characters","body":"<p>I was getting this error too in Java, Selenium. You might also be getting this error too while writing your codes -  <em>\"sendKeys (CharSequence) from the type Webelement refers to the missing type charSequence\"</em> </p>\n\n<p>I tried varying the wait time and even typing extra characters before the main characters, they did not work.</p>\n\n<p>The simple trick I used was to change the Java Compiler version from JRE 9 to JRE 10. </p>\n"},{"tags":[],"owner":{"account_id":17143373,"reputation":1,"user_id":12406853,"display_name":"Jul&#237;an Hern&#225;ndez Tuyin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575014511,"creation_date":1574704829,"answer_id":59037646,"question_id":37200048,"body_markdown":"i had the same problem, if you see it carefully selenium is changing the characters, some numbers perform a backspace or other symbols, i read it happens when using selenium with vncserver, i changed to firefox.... and it worked.\r\n\r\nif that&#39;s not your problem, maybe sending the data in parts:\r\n```\r\ninput1=&quot;Joh201605130947AM&quot;\r\ntxtFirstName.sendKeys(input1[0:7])\r\ntxtFirstName.sendKeys(input1[8:end])","title":"Selenium sendKeys are not sending all characters","body":"<p>i had the same problem, if you see it carefully selenium is changing the characters, some numbers perform a backspace or other symbols, i read it happens when using selenium with vncserver, i changed to firefox.... and it worked.</p>\n\n<p>if that's not your problem, maybe sending the data in parts:</p>\n\n<pre><code>input1=\"Joh201605130947AM\"\ntxtFirstName.sendKeys(input1[0:7])\ntxtFirstName.sendKeys(input1[8:end])\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14284626,"reputation":695,"user_id":10318272,"display_name":"S. Doe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577436202,"creation_date":1577436202,"answer_id":59498111,"question_id":37200048,"body_markdown":"Using\r\n\r\n - Chromium 78.0.3904.70,\r\n - Vaadin Flow Framework 14.1.3,\r\n - Selenium 3.141.59\r\n - and OpenJDK 11.0.5\r\n\r\nthe behavior also occurs and is even worse:\r\nI see that the character is typed in and suddenly after that it disappears.\r\nA workaround is to be persistent and just try it again. And again. Until the character is finally typed in.\r\n\r\n        // Type in every single character\r\n        for (int i = 0; i &lt; textToType.length(); i++) {\r\n            boolean typingCharacterWasSuccessful = false;\r\n            // If typing was not successful before, just type again\r\n            while (!typingCharacterWasSuccessful) {\r\n                // Type in the character\r\n                char singleCharacterToType = textToType.charAt(i);\r\n                htmlTextfeld.sendKeys(Character.toString(singleCharacterToType));\r\n                // Wait a little. Maybe alternatively/additionally wait.until(...)\r\n                Thread.sleep(200);\r\n                // Check typed in string.\r\n                String inputValueAfterTyping = htmlTextfeld.getAttribute(&quot;value&quot;);\r\n                if (inputValueAfterTyping.length() &gt; i + 1) {\r\n                    // Alternatively: delete everything and start all over\r\n                    throw new Exception(&quot;Input value too long. Maybe character typed in twice!?&quot;);\r\n                }\r\n                // Typing was successful if the value in the input field is as expected (up to now)\r\n                typingCharacterWasSuccessful\r\n                        = inputValueAfterTyping.equals(textToType.substring(0, i + 1));\r\n            }\r\n        }","title":"Selenium sendKeys are not sending all characters","body":"<p>Using</p>\n\n<ul>\n<li>Chromium 78.0.3904.70,</li>\n<li>Vaadin Flow Framework 14.1.3,</li>\n<li>Selenium 3.141.59</li>\n<li>and OpenJDK 11.0.5</li>\n</ul>\n\n<p>the behavior also occurs and is even worse:\nI see that the character is typed in and suddenly after that it disappears.\nA workaround is to be persistent and just try it again. And again. Until the character is finally typed in.</p>\n\n<pre><code>    // Type in every single character\n    for (int i = 0; i &lt; textToType.length(); i++) {\n        boolean typingCharacterWasSuccessful = false;\n        // If typing was not successful before, just type again\n        while (!typingCharacterWasSuccessful) {\n            // Type in the character\n            char singleCharacterToType = textToType.charAt(i);\n            htmlTextfeld.sendKeys(Character.toString(singleCharacterToType));\n            // Wait a little. Maybe alternatively/additionally wait.until(...)\n            Thread.sleep(200);\n            // Check typed in string.\n            String inputValueAfterTyping = htmlTextfeld.getAttribute(\"value\");\n            if (inputValueAfterTyping.length() &gt; i + 1) {\n                // Alternatively: delete everything and start all over\n                throw new Exception(\"Input value too long. Maybe character typed in twice!?\");\n            }\n            // Typing was successful if the value in the input field is as expected (up to now)\n            typingCharacterWasSuccessful\n                    = inputValueAfterTyping.equals(textToType.substring(0, i + 1));\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16428746,"reputation":21,"user_id":11868103,"display_name":"Yiannis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621368567,"creation_date":1621343341,"answer_id":67586889,"question_id":37200048,"body_markdown":"I had a similar issue for big texts in Java. \r\n\r\nI overcome the issue using the copy and paste of the text in the keyboard-related methods, as in the following method: \r\n\r\n    import java.awt.datatransfer.Clipboard;\r\n    import java.awt.datatransfer.StringSelection;\r\n    \r\n    public static void clickAndSetMultilineText(WebElement element, String text) {\r\n        /** click on element **/\r\n        element.click();\r\n\r\n        /** clear older content of the text using keyboard functionality **/\r\n        element.sendKeys(Keys.CONTROL + &quot;a&quot;); // select all text\r\n        element.sendKeys(Keys.DELETE);        // delete old text\r\n        \r\n        StringSelection stringSelection= new StringSelection(text);\r\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n        clipboard.setContents(stringSelection, null); // copy text to the keyboard\r\n        element.sendKeys(Keys.CONTROL+&quot;v&quot;);           // paste text to the field\r\n    }\r\n\r\nHope this is helpful.","title":"Selenium sendKeys are not sending all characters","body":"<p>I had a similar issue for big texts in Java.</p>\n<p>I overcome the issue using the copy and paste of the text in the keyboard-related methods, as in the following method:</p>\n<pre><code>import java.awt.datatransfer.Clipboard;\nimport java.awt.datatransfer.StringSelection;\n\npublic static void clickAndSetMultilineText(WebElement element, String text) {\n    /** click on element **/\n    element.click();\n\n    /** clear older content of the text using keyboard functionality **/\n    element.sendKeys(Keys.CONTROL + &quot;a&quot;); // select all text\n    element.sendKeys(Keys.DELETE);        // delete old text\n    \n    StringSelection stringSelection= new StringSelection(text);\n    Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n    clipboard.setContents(stringSelection, null); // copy text to the keyboard\n    element.sendKeys(Keys.CONTROL+&quot;v&quot;);           // paste text to the field\n}\n</code></pre>\n<p>Hope this is helpful.</p>\n"},{"tags":[],"owner":{"account_id":16590014,"reputation":39,"user_id":11988424,"display_name":"Dushyanth Sunny"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645436462,"creation_date":1645436462,"answer_id":71204082,"question_id":37200048,"body_markdown":"\r\nBy using Actions class, this issue solved for me\r\nTried many ways as mentioned above. Also tried to setvalue by js executescript\r\nFinally, found this code and it worked well for  grid component built on angular\r\n\r\n\r\n        actions.sendKeys(webElement,\r\n        modifiedValue).perform();","title":"Selenium sendKeys are not sending all characters","body":"<p>By using Actions class, this issue solved for me\nTried many ways as mentioned above. Also tried to setvalue by js executescript\nFinally, found this code and it worked well for  grid component built on angular</p>\n<pre><code>    actions.sendKeys(webElement,\n    modifiedValue).perform();\n</code></pre>\n"}],"owner":{"account_id":8433254,"reputation":153,"user_id":6328195,"display_name":"Larica B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22780,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":37200601,"answer_count":9,"score":15,"last_activity_date":1645436462,"creation_date":1463104541,"question_id":37200048,"body_markdown":"I&#39;m using Java, Selenium, and Chrome for test automation. Our developers recently upgraded our UI from AngularJS to Angular2 (not sure if that matters). But since then, sendKeys is inputting incomplete characters in to the text field.  Here&#39;s an example:\r\n\r\n    \tpublic void enterCustomerDetails()\r\n\t\t{\t\r\n\t\t\ttxtFirstName.sendKeys(&quot;Joh201605130947AM&quot;);\r\n\t\t\ttxtSurname.sendKeys(&quot;Doe201605130947AM&quot;);\r\n\t\t\ttxtEmail.sendKeys(&quot;johndoe@gmail.com&quot;);\r\n\t\t}\r\n\r\nI also tried using executeScript. It didn&#39;t work. It can enter complete characters but the form thinks the field is null.\r\n\r\n    public void forceSendKeys(WebElement element, String text)\r\n\t{\r\n\t\tif (element != null)\r\n\t\t\t((JavascriptExecutor) this.webDriver).executeScript(&quot;arguments[0].value=arguments[1]&quot;, element, text);\r\n\t}\r\n\r\n    public void enterCustomerDetails()\r\n    \t\t{\t\r\n    \t\t\tforceSendKeys(txtFirstName, &quot;Joh201605130947AM&quot;);\r\n    \t\t\tforceSendKeys(txtSurname, &quot;Doe201605130947AM&quot;);\r\n                forceSendKeys(txtEmail, &quot;johndoe@gmail.com&quot;);\r\n    \t\t}\r\n\r\nI also tried using .click() before .sendKeys and adding in sleep time. They didn&#39;t work too.\r\n\r\nI got an idea to enter the characters 1 by 1 from this post: https://stackoverflow.com/questions/24492795/how-to-enter-characters-one-by-one-in-to-a-text-field-in-selenium-webdriver/24522875 \r\n\r\nIt worked but that means I have to rewrite all my codes from sendKeys to the new function:\r\n\r\n    \tpublic void sendChar(WebElement element, String value)\r\n\t{\r\n\t    element.clear();\r\n\r\n\t    for (int i = 0; i &lt; value.length(); i++){\r\n\t        char c = value.charAt(i);\r\n\t        String s = new StringBuilder().append(c).toString();\r\n\t        element.sendKeys(s);\r\n\t    }       \r\n\t}\r\n    \r\n    public void enterCustomerDetails()\r\n    \t{\r\n    \t\tsendChar(txtFirstName, &quot;Joh201605130947AM&quot;);\r\n    \t\tsendChar(txtSurname, &quot;Doe201605130947AM&quot;);\t\t\r\n            sendChar(txtEmail, &quot;johndoe@gmail.com&quot;);\r\n        }\r\n\r\nIf you guys know a better way, please help! :)\t\r\n\r\n","title":"Selenium sendKeys are not sending all characters","body":"<p>I'm using Java, Selenium, and Chrome for test automation. Our developers recently upgraded our UI from AngularJS to Angular2 (not sure if that matters). But since then, sendKeys is inputting incomplete characters in to the text field.  Here's an example:</p>\n\n<pre><code>    public void enterCustomerDetails()\n    {   \n        txtFirstName.sendKeys(\"Joh201605130947AM\");\n        txtSurname.sendKeys(\"Doe201605130947AM\");\n        txtEmail.sendKeys(\"johndoe@gmail.com\");\n    }\n</code></pre>\n\n<p>I also tried using executeScript. It didn't work. It can enter complete characters but the form thinks the field is null.</p>\n\n<pre><code>public void forceSendKeys(WebElement element, String text)\n{\n    if (element != null)\n        ((JavascriptExecutor) this.webDriver).executeScript(\"arguments[0].value=arguments[1]\", element, text);\n}\n\npublic void enterCustomerDetails()\n        {   \n            forceSendKeys(txtFirstName, \"Joh201605130947AM\");\n            forceSendKeys(txtSurname, \"Doe201605130947AM\");\n            forceSendKeys(txtEmail, \"johndoe@gmail.com\");\n        }\n</code></pre>\n\n<p>I also tried using .click() before .sendKeys and adding in sleep time. They didn't work too.</p>\n\n<p>I got an idea to enter the characters 1 by 1 from this post: <a href=\"https://stackoverflow.com/questions/24492795/how-to-enter-characters-one-by-one-in-to-a-text-field-in-selenium-webdriver/24522875\">How to enter characters one by one in to a text field in selenium webdriver?</a> </p>\n\n<p>It worked but that means I have to rewrite all my codes from sendKeys to the new function:</p>\n\n<pre><code>    public void sendChar(WebElement element, String value)\n{\n    element.clear();\n\n    for (int i = 0; i &lt; value.length(); i++){\n        char c = value.charAt(i);\n        String s = new StringBuilder().append(c).toString();\n        element.sendKeys(s);\n    }       \n}\n\npublic void enterCustomerDetails()\n    {\n        sendChar(txtFirstName, \"Joh201605130947AM\");\n        sendChar(txtSurname, \"Doe201605130947AM\");      \n        sendChar(txtEmail, \"johndoe@gmail.com\");\n    }\n</code></pre>\n\n<p>If you guys know a better way, please help! :)  </p>\n"},{"tags":["java","logging","properties","spring-boot","yaml"],"comments":[{"owner":{"account_id":6576401,"reputation":288,"user_id":5082270,"display_name":"tobad357"},"score":0,"creation_date":1436111958,"post_id":31231506,"comment_id":50463027,"body_markdown":"Per default Spring Boot uses the logging.file property which should be the same for both applications and hence they should use the same config. What problem do you have when adding your config file?","body":"Per default Spring Boot uses the logging.file property which should be the same for both applications and hence they should use the same config. What problem do you have when adding your config file?"}],"answers":[{"tags":[],"owner":{"account_id":3982481,"reputation":891,"user_id":5021783,"display_name":"Lucas Saldanha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1436129604,"creation_date":1436129604,"answer_id":31234906,"question_id":31231506,"body_markdown":"Spring Boot uses as default Logback. You can put a logback.xml file in src/main/resources to configure the log. And both applications will automatically use this file to configure their logging engine.\r\n\r\nYou can learn how to configure Logback here: http://logback.qos.ch/manual/configuration.html\r\n\r\nA simple example. It will set the log level to INFO and log to the Console:\r\n\r\n    &lt;configuration&gt;\r\n      &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n          &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n      &lt;/appender&gt;\r\n    \r\n      &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n      &lt;/root&gt;\r\n    &lt;/configuration&gt;","title":"Share Spring Boot YAML configuration between two applications","body":"<p>Spring Boot uses as default Logback. You can put a logback.xml file in src/main/resources to configure the log. And both applications will automatically use this file to configure their logging engine.</p>\n\n<p>You can learn how to configure Logback here: <a href=\"http://logback.qos.ch/manual/configuration.html\" rel=\"nofollow\">http://logback.qos.ch/manual/configuration.html</a></p>\n\n<p>A simple example. It will set the log level to INFO and log to the Console:</p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n    &lt;encoder&gt;\n      &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n\n  &lt;root level=\"info\"&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n  &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":1556522,"reputation":233,"user_id":1447450,"display_name":"paulchapman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":31234906,"answer_count":1,"score":0,"last_activity_date":1645436069,"creation_date":1436107330,"question_id":31231506,"body_markdown":"I have two applications in the same maven project and have given each of them their own configuration file by setting the `spring.config.name` property for each before invoking SpringApplication.run().\r\n\r\nThus, in the first application, I set `spring.config.name` to `server1` so it looks for `server1` instead of `application.yml`.  In the second I have set `spring.config.name` to `server2`.\r\n\r\nHowever I would like them to share the same logging configuration.  Unfortunately, logging configuration cannot be imported via @PropertySource since logging is already configured before property-sources are read - see [Logging section](http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html) of Spring Boot manual.\r\n\r\nIs there any way I can do this?","title":"Share Spring Boot YAML configuration between two applications","body":"<p>I have two applications in the same maven project and have given each of them their own configuration file by setting the <code>spring.config.name</code> property for each before invoking SpringApplication.run().</p>\n<p>Thus, in the first application, I set <code>spring.config.name</code> to <code>server1</code> so it looks for <code>server1</code> instead of <code>application.yml</code>.  In the second I have set <code>spring.config.name</code> to <code>server2</code>.</p>\n<p>However I would like them to share the same logging configuration.  Unfortunately, logging configuration cannot be imported via @PropertySource since logging is already configured before property-sources are read - see <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html\" rel=\"nofollow noreferrer\">Logging section</a> of Spring Boot manual.</p>\n<p>Is there any way I can do this?</p>\n"},{"tags":["java","mysql","spring-boot","jpa"],"comments":[{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1645290535,"post_id":71187180,"comment_id":125833924,"body_markdown":"Its would be better to show us a `SHOW CREATE TABLE tablename` for each relevant, related table. Then we can see what has been done and what has been missed.","body":"Its would be better to show us a <code>SHOW CREATE TABLE tablename</code> for each relevant, related table. Then we can see what has been done and what has been missed."},{"owner":{"account_id":23759020,"reputation":59,"user_id":17774714,"display_name":"mikebrucks"},"score":0,"creation_date":1645290915,"post_id":71187180,"comment_id":125834032,"body_markdown":"I updated it. I need a way to detach the employee from department and designation .","body":"I updated it. I need a way to detach the employee from department and designation ."},{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1645291592,"post_id":71187180,"comment_id":125834203,"body_markdown":"https://stackoverflow.com/questions/1027656/what-is-mysqls-default-on-delete-behavior Look at the accepted answer on that question","body":"<a href=\"https://stackoverflow.com/questions/1027656/what-is-mysqls-default-on-delete-behavior\" title=\"what is mysqls default on delete behavior\">stackoverflow.com/questions/1027656/&hellip;</a> Look at the accepted answer on that question"},{"owner":{"account_id":23759020,"reputation":59,"user_id":17774714,"display_name":"mikebrucks"},"score":0,"creation_date":1645350671,"post_id":71187180,"comment_id":125843666,"body_markdown":"Thank you for the link, I check it, but I can&#39;t see an example for spring","body":"Thank you for the link, I check it, but I can&#39;t see an example for spring"},{"owner":{"account_id":23759020,"reputation":59,"user_id":17774714,"display_name":"mikebrucks"},"score":0,"creation_date":1645354434,"post_id":71187180,"comment_id":125844392,"body_markdown":"@RiggsFolly I can quite understand what they mean in this question What I need to do to make another table witch will hold relation for department and designation as departmen_designation ?","body":"@RiggsFolly I can quite understand what they mean in this question What I need to do to make another table witch will hold relation for department and designation as departmen_designation ?"}],"answers":[{"tags":[],"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645436041,"creation_date":1645436041,"answer_id":71203994,"question_id":71187180,"body_markdown":"Spring is completely irrelevant to your question. Its all about the MySQL database and the way you have defined the tables in your DDL. \r\n\r\nYou cannot delete a Parent row if a Child row exists on your database because of how you defined that constraint.\r\n\r\nThere is a `ON DELETE ....` syntax which tells MySQL what to do when a parent row is deleted, by default MySQL will reject the delete, you can change this in a number of ways, as specified in the [MySQL manual](https://dev.mysql.com/doc/refman/8.0/en/create-table-foreign-keys.html), of all the odd places.\r\n\r\nIn your case as you want to NOT DELETE the Employee when you delete the Department, and you have the column \r\n```\r\n`department_id` bigint DEFAULT NULL,\r\n```\r\n\r\ndefined as DEFAULT NULL then change your CONSTRAINT as below\r\n\r\n```\r\nCONSTRAINT `FKgy4qe3dnqrm3ktd76sxp7n4c2` \r\n        FOREIGN KEY (`department_id`) \r\n        REFERENCES `departments` (`id`)\r\n    ON DELETE SET NULL\r\n```\r\n\r\nYou could of course also do \r\n\r\n```\r\nCONSTRAINT `FKgy4qe3dnqrm3ktd76sxp7n4c2` \r\n        FOREIGN KEY (`department_id`) \r\n        REFERENCES `departments` (`id`)\r\n    ON DELETE SET DEFAULT\r\n```\r\nboth would do the same thing in this case as your default is NULL for that column","title":"Cannot delete or update a parent row: spring problem without cascade","body":"<p>Spring is completely irrelevant to your question. Its all about the MySQL database and the way you have defined the tables in your DDL.</p>\n<p>You cannot delete a Parent row if a Child row exists on your database because of how you defined that constraint.</p>\n<p>There is a <code>ON DELETE ....</code> syntax which tells MySQL what to do when a parent row is deleted, by default MySQL will reject the delete, you can change this in a number of ways, as specified in the <a href=\"https://dev.mysql.com/doc/refman/8.0/en/create-table-foreign-keys.html\" rel=\"nofollow noreferrer\">MySQL manual</a>, of all the odd places.</p>\n<p>In your case as you want to NOT DELETE the Employee when you delete the Department, and you have the column</p>\n<pre><code>`department_id` bigint DEFAULT NULL,\n</code></pre>\n<p>defined as DEFAULT NULL then change your CONSTRAINT as below</p>\n<pre><code>CONSTRAINT `FKgy4qe3dnqrm3ktd76sxp7n4c2` \n        FOREIGN KEY (`department_id`) \n        REFERENCES `departments` (`id`)\n    ON DELETE SET NULL\n</code></pre>\n<p>You could of course also do</p>\n<pre><code>CONSTRAINT `FKgy4qe3dnqrm3ktd76sxp7n4c2` \n        FOREIGN KEY (`department_id`) \n        REFERENCES `departments` (`id`)\n    ON DELETE SET DEFAULT\n</code></pre>\n<p>both would do the same thing in this case as your default is NULL for that column</p>\n"}],"owner":{"account_id":23759020,"reputation":59,"user_id":17774714,"display_name":"mikebrucks"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1406,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71203994,"answer_count":1,"score":-2,"last_activity_date":1645436041,"creation_date":1645290168,"question_id":71187180,"body_markdown":"&gt; java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`hrms`.`employees`, CONSTRAINT `FKe4i9i8vu1j96m71g4v98kqirb` FOREIGN KEY (`designation_id`) REFERENCES `designations` (`id`))\r\n\r\nI just land on this problem, I try to delete an entity, but the entity have a relation with another entity and another entity have another relation to imagine the picture this is the tables [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5pQT9.png\r\n\r\nHow to detach employee and designation from department when I want to delete department. I can delete designations in the code, but I don&#39;t want to delete the employee with foreign key associated to the department and designation.\r\n\r\n```\r\n\r\nCREATE TABLE `departments` (\r\n    `id` bigint NOT NULL AUTO_INCREMENT,\r\n    `name` varchar(150) NOT NULL,\r\n    PRIMARY KEY (`id`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\r\n\r\nCREATE TABLE `designations` (\r\n    `id` bigint NOT NULL AUTO_INCREMENT,\r\n    `department_name` varchar(40) DEFAULT NULL,\r\n    `name` varchar(140) NOT NULL,\r\n    PRIMARY KEY (`id`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\r\n\r\nCREATE TABLE `employees` (\r\n    `id` bigint NOT NULL AUTO_INCREMENT,\r\n    `address` varchar(255) NOT NULL,\r\n    `dob` varchar(255) DEFAULT NULL,\r\n    `email` varchar(35) NOT NULL,\r\n    `employee_number` varchar(255) NOT NULL,\r\n    `first_name` varchar(40) NOT NULL,\r\n    `full_name` varchar(100) NOT NULL,\r\n    `gender` varchar(255) DEFAULT NULL,\r\n    `join_date` varchar(255) NOT NULL,\r\n    `last_name` varchar(40) NOT NULL,\r\n    `password` varchar(40) NOT NULL,\r\n    `phone_number` varchar(255) NOT NULL,\r\n    `username` varchar(255) NOT NULL,\r\n    `department_id` bigint DEFAULT NULL,\r\n    `designation_id` bigint DEFAULT NULL,\r\n    `avatar_image` varchar(64) DEFAULT NULL,\r\n    PRIMARY KEY (`id`),\r\n    KEY `FKgy4qe3dnqrm3ktd76sxp7n4c2` (`department_id`),\r\n    KEY `FKe4i9i8vu1j96m71g4v98kqirb` (`designation_id`),\r\n    CONSTRAINT `FKe4i9i8vu1j96m71g4v98kqirb` \r\n        FOREIGN KEY (`designation_id`) \r\n        REFERENCES `designations` (`id`),\r\n    CONSTRAINT `FKgy4qe3dnqrm3ktd76sxp7n4c2` \r\n        FOREIGN KEY (`department_id`) \r\n        REFERENCES `departments` (`id`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\r\n\r\n```","title":"Cannot delete or update a parent row: spring problem without cascade","body":"<blockquote>\n<p>java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (<code>hrms</code>.<code>employees</code>, CONSTRAINT <code>FKe4i9i8vu1j96m71g4v98kqirb</code> FOREIGN KEY (<code>designation_id</code>) REFERENCES <code>designations</code> (<code>id</code>))</p>\n</blockquote>\n<p>I just land on this problem, I try to delete an entity, but the entity have a relation with another entity and another entity have another relation to imagine the picture this is the tables <a href=\"https://i.stack.imgur.com/5pQT9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5pQT9.png\" alt=\"enter image description here\" /></a></p>\n<p>How to detach employee and designation from department when I want to delete department. I can delete designations in the code, but I don't want to delete the employee with foreign key associated to the department and designation.</p>\n<pre><code>\nCREATE TABLE `departments` (\n    `id` bigint NOT NULL AUTO_INCREMENT,\n    `name` varchar(150) NOT NULL,\n    PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\n\nCREATE TABLE `designations` (\n    `id` bigint NOT NULL AUTO_INCREMENT,\n    `department_name` varchar(40) DEFAULT NULL,\n    `name` varchar(140) NOT NULL,\n    PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\n\nCREATE TABLE `employees` (\n    `id` bigint NOT NULL AUTO_INCREMENT,\n    `address` varchar(255) NOT NULL,\n    `dob` varchar(255) DEFAULT NULL,\n    `email` varchar(35) NOT NULL,\n    `employee_number` varchar(255) NOT NULL,\n    `first_name` varchar(40) NOT NULL,\n    `full_name` varchar(100) NOT NULL,\n    `gender` varchar(255) DEFAULT NULL,\n    `join_date` varchar(255) NOT NULL,\n    `last_name` varchar(40) NOT NULL,\n    `password` varchar(40) NOT NULL,\n    `phone_number` varchar(255) NOT NULL,\n    `username` varchar(255) NOT NULL,\n    `department_id` bigint DEFAULT NULL,\n    `designation_id` bigint DEFAULT NULL,\n    `avatar_image` varchar(64) DEFAULT NULL,\n    PRIMARY KEY (`id`),\n    KEY `FKgy4qe3dnqrm3ktd76sxp7n4c2` (`department_id`),\n    KEY `FKe4i9i8vu1j96m71g4v98kqirb` (`designation_id`),\n    CONSTRAINT `FKe4i9i8vu1j96m71g4v98kqirb` \n        FOREIGN KEY (`designation_id`) \n        REFERENCES `designations` (`id`),\n    CONSTRAINT `FKgy4qe3dnqrm3ktd76sxp7n4c2` \n        FOREIGN KEY (`department_id`) \n        REFERENCES `departments` (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\n\n</code></pre>\n"},{"tags":["java","c++","java-native-interface","unreal-engine4"],"answers":[{"tags":[],"owner":{"account_id":15253791,"reputation":16,"user_id":11452108,"display_name":"Owl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1610189553,"creation_date":1604136406,"answer_id":64620244,"question_id":61440799,"body_markdown":"This plugin should help:\r\n\r\n&gt; https://github.com/Sovahero/PluginMobileNativeCode\r\n\r\nCall Jni code with a single C++ function: `AndroidUtils::CallJavaCode&lt;ReturnType&gt;(“com/epicgames/ue4/YourClass”, “YourFunction”, false, “arg1”,“arg2”,“arg3”)`","title":"How to make Unreal Engine 4 work with JNI?","body":"<p>This plugin should help:</p>\n<blockquote>\n<p><a href=\"https://github.com/Sovahero/PluginMobileNativeCode\" rel=\"nofollow noreferrer\">https://github.com/Sovahero/PluginMobileNativeCode</a></p>\n</blockquote>\n<p>Call Jni code with a single C++ function: <code>AndroidUtils::CallJavaCode&lt;ReturnType&gt;(“com/epicgames/ue4/YourClass”, “YourFunction”, false, “arg1”,“arg2”,“arg3”)</code></p>\n"}],"owner":{"account_id":14311460,"reputation":3,"user_id":10728107,"display_name":"denisbaic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1748,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64620244,"answer_count":1,"score":0,"last_activity_date":1645435246,"creation_date":1587904176,"question_id":61440799,"body_markdown":"I had a question about Unreal Engine 4. I am writing a game on android and I need to calculate the pulse of a person’s pulse using a photoplethysmogram. I already wrote the game and found an example of reading the pulse on the github, but I can’t imagine how to access the camera and the flashlight of the mobile phone through the Java and Unreal Engine 4/c++. I googled about JNI, but did not find the normal documentation or examples of how Unreal work with this that were explained . Can anyone help with this?","title":"How to make Unreal Engine 4 work with JNI?","body":"<p>I had a question about Unreal Engine 4. I am writing a game on android and I need to calculate the pulse of a person’s pulse using a photoplethysmogram. I already wrote the game and found an example of reading the pulse on the github, but I can’t imagine how to access the camera and the flashlight of the mobile phone through the Java and Unreal Engine 4/c++. I googled about JNI, but did not find the normal documentation or examples of how Unreal work with this that were explained . Can anyone help with this?</p>\n"},{"tags":["java","maven","http","https","proxy"],"answers":[{"tags":[],"owner":{"account_id":20298,"reputation":26693,"user_id":48382,"accept_rate":61,"display_name":"Krzysztof Krasoń"},"down_vote_count":3,"up_vote_count":58,"is_accepted":false,"score":55,"last_activity_date":1465720927,"creation_date":1465720927,"answer_id":37772286,"question_id":31032174,"body_markdown":"Maven proxy from settings.xml is used for both http and https, so you just need to define one proxy server and it will be used for both, you just need to leave only one `proxy` tag, like this:\r\n\r\n    &lt;proxies&gt;\r\n        &lt;proxy&gt;\r\n            &lt;id&gt;myhttpproxy&lt;/id&gt;\r\n            &lt;active&gt;true&lt;/active&gt;\r\n            &lt;protocol&gt;http&lt;/protocol&gt;\r\n            &lt;host&gt;192.168.1.2&lt;/host&gt;\r\n            &lt;port&gt;3128&lt;/port&gt;\r\n            &lt;nonProxyHosts&gt;localhost&lt;/nonProxyHosts&gt;\r\n        &lt;/proxy&gt;\r\n    &lt;/proxies&gt;\r\n\r\nThe protocol above is the protocol of the proxy server, not the proxied request.\r\n","title":"How to configure a proxy server for both HTTP and HTTPS in Maven&#39;s settings.xml?","body":"<p>Maven proxy from settings.xml is used for both http and https, so you just need to define one proxy server and it will be used for both, you just need to leave only one <code>proxy</code> tag, like this:</p>\n\n<pre><code>&lt;proxies&gt;\n    &lt;proxy&gt;\n        &lt;id&gt;myhttpproxy&lt;/id&gt;\n        &lt;active&gt;true&lt;/active&gt;\n        &lt;protocol&gt;http&lt;/protocol&gt;\n        &lt;host&gt;192.168.1.2&lt;/host&gt;\n        &lt;port&gt;3128&lt;/port&gt;\n        &lt;nonProxyHosts&gt;localhost&lt;/nonProxyHosts&gt;\n    &lt;/proxy&gt;\n&lt;/proxies&gt;\n</code></pre>\n\n<p>The protocol above is the protocol of the proxy server, not the proxied request.</p>\n"},{"tags":[],"owner":{"account_id":10551903,"reputation":21,"user_id":7774351,"display_name":"AnselmM"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490620887,"creation_date":1490620887,"answer_id":43047656,"question_id":31032174,"body_markdown":"I solved the problem with updating the maven version, or in other words not using the embedded eclipse maven version, but external version 3.3.9.","title":"How to configure a proxy server for both HTTP and HTTPS in Maven&#39;s settings.xml?","body":"<p>I solved the problem with updating the maven version, or in other words not using the embedded eclipse maven version, but external version 3.3.9.</p>\n"},{"tags":[],"owner":{"account_id":2161934,"reputation":4386,"user_id":1915920,"accept_rate":97,"display_name":"Andreas Covidiot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643451120,"creation_date":1493895720,"answer_id":43781054,"question_id":31032174,"body_markdown":"Update 2022-01: a more up-to-date answer/solution for the current tech-stack (Eclipse 4.17 / 2020-09) can be found [here][1]\r\n(old: 4.6 / 2017)\r\n\r\nIt **works without** the extra **`...&lt;id&gt;httpsproxy&lt;/id&gt;...` entry** (as @Krzysztof Krasoń mentioned) and with it (as the asker stated).\r\nThe problem for us was, that the &lt;s&gt;`Eclipse-&gt;Maven-&gt;User Settings-&gt;[x] Update Settings`&lt;/s&gt; was obviously not working at all and to test certain things `Eclipse-&gt;Maven-&gt;[x] Download repository index updates on startup` must be checked (e.g. `Maven Repositories View-&gt;Global Repositories-&gt;central-&gt;Update Index`). And most of all:\r\n\r\n**Eclipse must be restarted after every `settings.xml` update! :-/**\r\n\r\nI guess it&#39;s a bug or reload/caching issue.\r\nWe successfully tested it with \r\n\r\n* Kepler (4.3) and Neon (4.6) \r\n* and their embedded Maven versions (3.2.1 / 3.3.9) as well as an external \r\n3.3.3\r\n* with `http://` and `https://` URLs\r\n\r\n[1]: https://stackoverflow.com/a/70897567/1915920","title":"How to configure a proxy server for both HTTP and HTTPS in Maven&#39;s settings.xml?","body":"<p>Update 2022-01: a more up-to-date answer/solution for the current tech-stack (Eclipse 4.17 / 2020-09) can be found <a href=\"https://stackoverflow.com/a/70897567/1915920\">here</a>\n(old: 4.6 / 2017)</p>\n<p>It <strong>works without</strong> the extra <strong><code>...&lt;id&gt;httpsproxy&lt;/id&gt;...</code> entry</strong> (as @Krzysztof Krasoń mentioned) and with it (as the asker stated).\nThe problem for us was, that the <s><code>Eclipse-&gt;Maven-&gt;User Settings-&gt;[x] Update Settings</code></s> was obviously not working at all and to test certain things <code>Eclipse-&gt;Maven-&gt;[x] Download repository index updates on startup</code> must be checked (e.g. <code>Maven Repositories View-&gt;Global Repositories-&gt;central-&gt;Update Index</code>). And most of all:</p>\n<p><strong>Eclipse must be restarted after every <code>settings.xml</code> update! :-/</strong></p>\n<p>I guess it's a bug or reload/caching issue.\nWe successfully tested it with</p>\n<ul>\n<li>Kepler (4.3) and Neon (4.6)</li>\n<li>and their embedded Maven versions (3.2.1 / 3.3.9) as well as an external\n3.3.3</li>\n<li>with <code>http://</code> and <code>https://</code> URLs</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1085180,"reputation":34239,"user_id":1081043,"accept_rate":72,"display_name":"wisbucky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1538176723,"creation_date":1537927625,"answer_id":52508940,"question_id":31032174,"body_markdown":"My tests with Eclipse Maven show that the `protocol` in `settings.xml` is referring to the protocol of the **proxy server**, not the protocol of the **URL request**. It also shows that Maven only uses the first active proxy server listed, and ignores the rest.\r\n\r\nHere&#39;s my evidence:\r\n\r\n**1. The [documentation][1] says that**\r\n\r\n&gt; **active**: true if this proxy is active. This is useful for declaring a set of proxies, but only one may be active at a time.\r\n&gt; \r\n&gt; **protocol**, host, port: The **protocol://host:port of the proxy**, separated into discrete elements.&quot;\r\n\r\n**2. The [source code][2] is even clearer:** \r\n\r\n        /**\r\n         * Get the protocol of the proxy server.\r\n         * @return the protocol of the proxy server\r\n         */\r\n        public String getProtocol()\r\n        {\r\n            return protocol;\r\n        }\r\n\r\n**3. Real world tests (using Eclipse Maven):**\r\n\r\n**a. 1st proxy is a bogus ftp, 2nd is real http, 3rd is real https. Result: FAIL.**\r\n\r\nIf the protocol were for the URL request, then Maven would&#39;ve looked up the real http/https proxies and worked perfectly fine. Instead, it used the 1st proxy even though it was &quot;ftp&quot;, and failed.\r\n\r\n        &lt;proxies&gt;\r\n            &lt;proxy&gt;\r\n                &lt;id&gt;bogus_ftp&lt;/id&gt;\r\n                &lt;active&gt;true&lt;/active&gt;\r\n                &lt;protocol&gt;ftp&lt;/protocol&gt;\r\n                &lt;port&gt;123&lt;/port&gt;\r\n                &lt;host&gt;bogus.proxy.com&lt;/host&gt;\r\n            &lt;/proxy&gt;\r\n            &lt;proxy&gt;\r\n                &lt;id&gt;real_http&lt;/id&gt;\r\n                &lt;active&gt;true&lt;/active&gt;\r\n                &lt;protocol&gt;http&lt;/protocol&gt;\r\n                &lt;port&gt;123&lt;/port&gt;\r\n                &lt;host&gt;real.proxy.com&lt;/host&gt;\r\n            &lt;/proxy&gt;\r\n            &lt;proxy&gt;\r\n                &lt;id&gt;real_https&lt;/id&gt;\r\n                &lt;active&gt;true&lt;/active&gt;\r\n                &lt;protocol&gt;https&lt;/protocol&gt;\r\n                &lt;port&gt;123&lt;/port&gt;\r\n                &lt;host&gt;real.proxy.com&lt;/host&gt;\r\n            &lt;/proxy&gt;\r\n        &lt;/proxies&gt;\r\n\r\n**b. 1st proxy is real http, 2nd is bogus https. Result: SUCCESS.**\r\n\r\nThis shows that it only used the 1st proxy. Otherwise, it would have used the 2nd proxy for https requests, hit the bogus proxy server, and failed.\r\n\r\n        &lt;proxies&gt;\r\n            &lt;proxy&gt;\r\n                &lt;id&gt;real_http&lt;/id&gt;\r\n                &lt;active&gt;true&lt;/active&gt;\r\n                &lt;protocol&gt;http&lt;/protocol&gt;\r\n                &lt;port&gt;123&lt;/port&gt;\r\n                &lt;host&gt;real.proxy.com&lt;/host&gt;\r\n            &lt;/proxy&gt;\r\n            &lt;proxy&gt;\r\n                &lt;id&gt;bogus_https&lt;/id&gt;\r\n                &lt;active&gt;true&lt;/active&gt;\r\n                &lt;protocol&gt;https&lt;/protocol&gt;\r\n                &lt;port&gt;123&lt;/port&gt;\r\n                &lt;host&gt;bogus.proxy.com&lt;/host&gt;\r\n            &lt;/proxy&gt;\r\n        &lt;/proxies&gt;\r\n\r\n**c. Both are http, but 1st proxy is bogus, 2nd is real. Result: FAIL.**\r\n\r\nThis shows that maven doesn&#39;t use multiple proxies, even for the same protocol. Otherwise, it would have tried the 2nd real proxy and succeeded.\r\n\r\n        &lt;proxies&gt;\r\n            &lt;proxy&gt;\r\n                &lt;id&gt;bogus_http&lt;/id&gt;\r\n                &lt;active&gt;true&lt;/active&gt;\r\n                &lt;protocol&gt;http&lt;/protocol&gt;\r\n                &lt;port&gt;123&lt;/port&gt;\r\n                &lt;host&gt;bogus.proxy.com&lt;/host&gt;\r\n            &lt;/proxy&gt;\r\n            &lt;proxy&gt;\r\n                &lt;id&gt;real_http&lt;/id&gt;\r\n                &lt;active&gt;true&lt;/active&gt;\r\n                &lt;protocol&gt;http&lt;/protocol&gt;\r\n                &lt;port&gt;123&lt;/port&gt;\r\n                &lt;host&gt;real.proxy.com&lt;/host&gt;\r\n            &lt;/proxy&gt;\r\n        &lt;/proxies&gt;\r\n\r\n  [1]: https://maven.apache.org/settings.html#Proxies\r\n  [2]: https://github.com/apache/maven/blob/a2b800de32cdb9adc1e64a43a0fc32e3ba878103/maven-artifact/src/main/java/org/apache/maven/repository/Proxy.java\r\n\r\n","title":"How to configure a proxy server for both HTTP and HTTPS in Maven&#39;s settings.xml?","body":"<p>My tests with Eclipse Maven show that the <code>protocol</code> in <code>settings.xml</code> is referring to the protocol of the <strong>proxy server</strong>, not the protocol of the <strong>URL request</strong>. It also shows that Maven only uses the first active proxy server listed, and ignores the rest.</p>\n\n<p>Here's my evidence:</p>\n\n<p><strong>1. The <a href=\"https://maven.apache.org/settings.html#Proxies\" rel=\"nofollow noreferrer\">documentation</a> says that</strong></p>\n\n<blockquote>\n  <p><strong>active</strong>: true if this proxy is active. This is useful for declaring a set of proxies, but only one may be active at a time.</p>\n  \n  <p><strong>protocol</strong>, host, port: The <strong>protocol://host:port of the proxy</strong>, separated into discrete elements.\"</p>\n</blockquote>\n\n<p><strong>2. The <a href=\"https://github.com/apache/maven/blob/a2b800de32cdb9adc1e64a43a0fc32e3ba878103/maven-artifact/src/main/java/org/apache/maven/repository/Proxy.java\" rel=\"nofollow noreferrer\">source code</a> is even clearer:</strong> </p>\n\n<pre><code>    /**\n     * Get the protocol of the proxy server.\n     * @return the protocol of the proxy server\n     */\n    public String getProtocol()\n    {\n        return protocol;\n    }\n</code></pre>\n\n<p><strong>3. Real world tests (using Eclipse Maven):</strong></p>\n\n<p><strong>a. 1st proxy is a bogus ftp, 2nd is real http, 3rd is real https. Result: FAIL.</strong></p>\n\n<p>If the protocol were for the URL request, then Maven would've looked up the real http/https proxies and worked perfectly fine. Instead, it used the 1st proxy even though it was \"ftp\", and failed.</p>\n\n<pre><code>    &lt;proxies&gt;\n        &lt;proxy&gt;\n            &lt;id&gt;bogus_ftp&lt;/id&gt;\n            &lt;active&gt;true&lt;/active&gt;\n            &lt;protocol&gt;ftp&lt;/protocol&gt;\n            &lt;port&gt;123&lt;/port&gt;\n            &lt;host&gt;bogus.proxy.com&lt;/host&gt;\n        &lt;/proxy&gt;\n        &lt;proxy&gt;\n            &lt;id&gt;real_http&lt;/id&gt;\n            &lt;active&gt;true&lt;/active&gt;\n            &lt;protocol&gt;http&lt;/protocol&gt;\n            &lt;port&gt;123&lt;/port&gt;\n            &lt;host&gt;real.proxy.com&lt;/host&gt;\n        &lt;/proxy&gt;\n        &lt;proxy&gt;\n            &lt;id&gt;real_https&lt;/id&gt;\n            &lt;active&gt;true&lt;/active&gt;\n            &lt;protocol&gt;https&lt;/protocol&gt;\n            &lt;port&gt;123&lt;/port&gt;\n            &lt;host&gt;real.proxy.com&lt;/host&gt;\n        &lt;/proxy&gt;\n    &lt;/proxies&gt;\n</code></pre>\n\n<p><strong>b. 1st proxy is real http, 2nd is bogus https. Result: SUCCESS.</strong></p>\n\n<p>This shows that it only used the 1st proxy. Otherwise, it would have used the 2nd proxy for https requests, hit the bogus proxy server, and failed.</p>\n\n<pre><code>    &lt;proxies&gt;\n        &lt;proxy&gt;\n            &lt;id&gt;real_http&lt;/id&gt;\n            &lt;active&gt;true&lt;/active&gt;\n            &lt;protocol&gt;http&lt;/protocol&gt;\n            &lt;port&gt;123&lt;/port&gt;\n            &lt;host&gt;real.proxy.com&lt;/host&gt;\n        &lt;/proxy&gt;\n        &lt;proxy&gt;\n            &lt;id&gt;bogus_https&lt;/id&gt;\n            &lt;active&gt;true&lt;/active&gt;\n            &lt;protocol&gt;https&lt;/protocol&gt;\n            &lt;port&gt;123&lt;/port&gt;\n            &lt;host&gt;bogus.proxy.com&lt;/host&gt;\n        &lt;/proxy&gt;\n    &lt;/proxies&gt;\n</code></pre>\n\n<p><strong>c. Both are http, but 1st proxy is bogus, 2nd is real. Result: FAIL.</strong></p>\n\n<p>This shows that maven doesn't use multiple proxies, even for the same protocol. Otherwise, it would have tried the 2nd real proxy and succeeded.</p>\n\n<pre><code>    &lt;proxies&gt;\n        &lt;proxy&gt;\n            &lt;id&gt;bogus_http&lt;/id&gt;\n            &lt;active&gt;true&lt;/active&gt;\n            &lt;protocol&gt;http&lt;/protocol&gt;\n            &lt;port&gt;123&lt;/port&gt;\n            &lt;host&gt;bogus.proxy.com&lt;/host&gt;\n        &lt;/proxy&gt;\n        &lt;proxy&gt;\n            &lt;id&gt;real_http&lt;/id&gt;\n            &lt;active&gt;true&lt;/active&gt;\n            &lt;protocol&gt;http&lt;/protocol&gt;\n            &lt;port&gt;123&lt;/port&gt;\n            &lt;host&gt;real.proxy.com&lt;/host&gt;\n        &lt;/proxy&gt;\n    &lt;/proxies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2161934,"reputation":4386,"user_id":1915920,"accept_rate":97,"display_name":"Andreas Covidiot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645434899,"creation_date":1643389871,"answer_id":70897567,"question_id":31032174,"body_markdown":"For ***Eclipse** 4.17 (2020-09)* with *M2E 1.16.1* (**and the focus it should especially work there!**) and *Maven 3.3.3 (external) or 3.6.3 (embedded)* (and likely similar combinations/versions) it works for **mixed `http://...` and `https://...` repo URLs** with the following setup (other than in the [past][1]):\r\n\r\ne.g. to make it work for `settings.xml` or `pom.xml`:\r\n* `&lt;url&gt; https://repo.maven.apache.org/maven2 &lt;/url&gt;`\r\n* `&lt;url&gt; http://my-local-repo/repository/rep1 &lt;/url&gt;`\r\n* `&lt;url&gt; http://my-local-sonatype-nexus-repo-manager-oss-v3/repository/rep2 &lt;/url&gt;`\r\n\r\nyou need:\r\n\r\n1. **two entries** in your `&lt;usr-home&gt;/.m2/settings.xml` if some repos have `http://` and some `https://` URLs (unfortunately not like maybe stated in docs or in older Maven or m2e versions/combinations)\r\n\r\n      &lt;proxies&gt;\r\n\r\n        &lt;proxy&gt;\r\n            &lt;id&gt;http&lt;/id&gt;\r\n            &lt;active&gt;true&lt;/active&gt;\r\n            &lt;protocol&gt;http&lt;/protocol&gt;\r\n            &lt;port&gt;8080&lt;/port&gt;\r\n            &lt;host&gt;some-proxy.com&lt;/host&gt;\r\n        &lt;/proxy&gt;\r\n\r\n        &lt;proxy&gt;\r\n            &lt;id&gt;https&lt;/id&gt;  &lt;!-- important!: different id than above! --&gt;\r\n            &lt;active&gt;true&lt;/active&gt;\r\n            &lt;protocol&gt;https&lt;/protocol&gt;\r\n            &lt;port&gt;8080&lt;/port&gt;\r\n            &lt;host&gt;some-proxy.com&lt;/host&gt;\r\n        &lt;/proxy&gt;\r\n\r\n      &lt;/proxies&gt;\r\n\r\n2. additionally the Eclipse **M2E plugin has the problem to not sync at all if** the  \r\n*Window -&gt; Preferences -&gt; Maven -&gt; **[x] Download repository index updates on startup*** is **not enabled**\r\n(=&gt; thus one could **think of it as: &quot;*[x] Enable repository index updates (additionally on startup)*&quot;**)\r\n\r\n3. furthermore **some repos**, e.g. the known Sonatype&#39;s *Nexus Repository Manager* v3 (at least 3.2), **do not support indexing out-of-the-box** (do not get confused by [feature request NEXUS-17279][2]) and thus one has at least two options:\r\n   * **set up index generation jobs for desired/unindexed repos**\r\n     (`Repo Admin UI -&gt; Config -&gt; Tasks -&gt; Create Task -&gt;` [`Maven - Publish Maven Indexer files`][9] ...)\r\n      * in M2E: `Minimum Index Enabled` should suffice (may take 20 min to index for central)\r\n   * **disable indexing for such repos** in the *Maven Repository* view (Eclipse workspace wide)\r\n      * right click those repos and select ***Index Details Disabled***  \r\n        (should become grayed out)\r\n   * to **check if some repo supports indexing** (whether by config or design) you could check if the file **`&lt;repo-base-url&gt;/repX/.index/nexus-maven-repository-index.properties` exists**\r\n      * e.g. https://repo.maven.apache.org/maven2/.index/nexus-maven-repository-index.properties\r\n   * a [list of free/commercial repo managers][5] is provided on the Apache Maven Project website, where those open source ones support it (last checked 2022-02-10):\r\n      * [Apache Archiva][7]\r\n      * [JFrog Artifactory Open Source][6]\r\n      * [Sonatype Nexus Repository Manager v2][8]\r\n\r\n4. to be sure to not run into caching or crash problems you should **restart Eclipse (e.g. with `-clean` option)** in case something does not work right away after the above setup\r\n\r\n5. Do not get confused: we experienced that the **servers UI search (Nexus Manager) did not always display all available matches** (but the M2E client did), e.g. `&quot;groovy-all&quot;` did only return some `2.*` versions whereas some `3.*` were in fact also available.\r\n   * (*Task jobs* to repair the browse/search indizes did not help it)\r\n\r\nOf course without indexing one would loose the ability to search within repo artifacts but the **direct download should always work** nevertheless.\r\n* e.g. via *`pom.xml` -&gt; right click -&gt; Maven -&gt; Add Dependency -&gt; Enter groupId, artifactId ...*\r\n   * if you enter `groovy` in this generic search field there should be quite some suggestions if it works, &quot;*artifactId cannot be empty*&quot; or &quot;*groupId cannot be empty*&quot; warnings can be ignored (and any content in both will be ignored then):\r\n[![enter image description here][4]][4]\r\n      * if it still does not work, maybe *Window -&gt; Show view -&gt; Maven Repositories -&gt; &lt;your index supporting repo&gt; -&gt; `Full Index Enabled`* must be checked (may take a while to complete)  \r\n(Eclipse restart not necessary)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/43781054/1915920\r\n  [2]: https://issues.sonatype.org/browse/NEXUS-17279\r\n  [3]: https://stackoverflow.com/a/41470500/1915920\r\n  [4]: https://i.stack.imgur.com/3RK4e.png\r\n  [5]: https://maven.apache.org/repository-management.html\r\n  [6]: https://www.jfrog.com/confluence/display/JFROG/Maven+Indexer\r\n  [7]: https://archiva.apache.org/docs/2.2.7/adminguide/repositories.html\r\n  [8]: https://stackoverflow.com/questions/41467162/how-to-download-remote-index-in-nexus-oss-3-2/41470500#41470500\r\n  [9]: https://help.sonatype.com/repomanager3/nexus-repository-administration/tasks#Tasks-Maven-PublishMavenIndexerfiles","title":"How to configure a proxy server for both HTTP and HTTPS in Maven&#39;s settings.xml?","body":"<p>For <em><strong>Eclipse</strong> 4.17 (2020-09)</em> with <em>M2E 1.16.1</em> (<strong>and the focus it should especially work there!</strong>) and <em>Maven 3.3.3 (external) or 3.6.3 (embedded)</em> (and likely similar combinations/versions) it works for <strong>mixed <code>http://...</code> and <code>https://...</code> repo URLs</strong> with the following setup (other than in the <a href=\"https://stackoverflow.com/a/43781054/1915920\">past</a>):</p>\n<p>e.g. to make it work for <code>settings.xml</code> or <code>pom.xml</code>:</p>\n<ul>\n<li><code>&lt;url&gt; https://repo.maven.apache.org/maven2 &lt;/url&gt;</code></li>\n<li><code>&lt;url&gt; http://my-local-repo/repository/rep1 &lt;/url&gt;</code></li>\n<li><code>&lt;url&gt; http://my-local-sonatype-nexus-repo-manager-oss-v3/repository/rep2 &lt;/url&gt;</code></li>\n</ul>\n<p>you need:</p>\n<ol>\n<li><p><strong>two entries</strong> in your <code>&lt;usr-home&gt;/.m2/settings.xml</code> if some repos have <code>http://</code> and some <code>https://</code> URLs (unfortunately not like maybe stated in docs or in older Maven or m2e versions/combinations)</p>\n   \n<pre><code> &lt;proxy&gt;\n     &lt;id&gt;http&lt;/id&gt;\n     &lt;active&gt;true&lt;/active&gt;\n     &lt;protocol&gt;http&lt;/protocol&gt;\n     &lt;port&gt;8080&lt;/port&gt;\n     &lt;host&gt;some-proxy.com&lt;/host&gt;\n &lt;/proxy&gt;\n\n &lt;proxy&gt;\n     &lt;id&gt;https&lt;/id&gt;  &lt;!-- important!: different id than above! --&gt;\n     &lt;active&gt;true&lt;/active&gt;\n     &lt;protocol&gt;https&lt;/protocol&gt;\n     &lt;port&gt;8080&lt;/port&gt;\n     &lt;host&gt;some-proxy.com&lt;/host&gt;\n &lt;/proxy&gt;\n</code></pre>\n   \n</li>\n<li><p>additionally the Eclipse <strong>M2E plugin has the problem to not sync at all if</strong> the<br />\n<em>Window -&gt; Preferences -&gt; Maven -&gt; <strong>[x] Download repository index updates on startup</strong></em> is <strong>not enabled</strong>\n(=&gt; thus one could <strong>think of it as: &quot;<em>[x] Enable repository index updates (additionally on startup)</em>&quot;</strong>)</p>\n</li>\n<li><p>furthermore <strong>some repos</strong>, e.g. the known Sonatype's <em>Nexus Repository Manager</em> v3 (at least 3.2), <strong>do not support indexing out-of-the-box</strong> (do not get confused by <a href=\"https://issues.sonatype.org/browse/NEXUS-17279\" rel=\"nofollow noreferrer\">feature request NEXUS-17279</a>) and thus one has at least two options:</p>\n<ul>\n<li><strong>set up index generation jobs for desired/unindexed repos</strong>\n(<code>Repo Admin UI -&gt; Config -&gt; Tasks -&gt; Create Task -&gt;</code> <a href=\"https://help.sonatype.com/repomanager3/nexus-repository-administration/tasks#Tasks-Maven-PublishMavenIndexerfiles\" rel=\"nofollow noreferrer\"><code>Maven - Publish Maven Indexer files</code></a> ...)\n<ul>\n<li>in M2E: <code>Minimum Index Enabled</code> should suffice (may take 20 min to index for central)</li>\n</ul>\n</li>\n<li><strong>disable indexing for such repos</strong> in the <em>Maven Repository</em> view (Eclipse workspace wide)\n<ul>\n<li>right click those repos and select <em><strong>Index Details Disabled</strong></em><br />\n(should become grayed out)</li>\n</ul>\n</li>\n<li>to <strong>check if some repo supports indexing</strong> (whether by config or design) you could check if the file <strong><code>&lt;repo-base-url&gt;/repX/.index/nexus-maven-repository-index.properties</code> exists</strong>\n<ul>\n<li>e.g. <a href=\"https://repo.maven.apache.org/maven2/.index/nexus-maven-repository-index.properties\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/.index/nexus-maven-repository-index.properties</a></li>\n</ul>\n</li>\n<li>a <a href=\"https://maven.apache.org/repository-management.html\" rel=\"nofollow noreferrer\">list of free/commercial repo managers</a> is provided on the Apache Maven Project website, where those open source ones support it (last checked 2022-02-10):\n<ul>\n<li><a href=\"https://archiva.apache.org/docs/2.2.7/adminguide/repositories.html\" rel=\"nofollow noreferrer\">Apache Archiva</a></li>\n<li><a href=\"https://www.jfrog.com/confluence/display/JFROG/Maven+Indexer\" rel=\"nofollow noreferrer\">JFrog Artifactory Open Source</a></li>\n<li><a href=\"https://stackoverflow.com/questions/41467162/how-to-download-remote-index-in-nexus-oss-3-2/41470500#41470500\">Sonatype Nexus Repository Manager v2</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>to be sure to not run into caching or crash problems you should <strong>restart Eclipse (e.g. with <code>-clean</code> option)</strong> in case something does not work right away after the above setup</p>\n</li>\n<li><p>Do not get confused: we experienced that the <strong>servers UI search (Nexus Manager) did not always display all available matches</strong> (but the M2E client did), e.g. <code>&quot;groovy-all&quot;</code> did only return some <code>2.*</code> versions whereas some <code>3.*</code> were in fact also available.</p>\n<ul>\n<li>(<em>Task jobs</em> to repair the browse/search indizes did not help it)</li>\n</ul>\n</li>\n</ol>\n<p>Of course without indexing one would loose the ability to search within repo artifacts but the <strong>direct download should always work</strong> nevertheless.</p>\n<ul>\n<li>e.g. via <em><code>pom.xml</code> -&gt; right click -&gt; Maven -&gt; Add Dependency -&gt; Enter groupId, artifactId ...</em>\n<ul>\n<li>if you enter <code>groovy</code> in this generic search field there should be quite some suggestions if it works, &quot;<em>artifactId cannot be empty</em>&quot; or &quot;<em>groupId cannot be empty</em>&quot; warnings can be ignored (and any content in both will be ignored then):\n<a href=\"https://i.stack.imgur.com/3RK4e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3RK4e.png\" alt=\"enter image description here\" /></a>\n<ul>\n<li>if it still does not work, maybe <em>Window -&gt; Show view -&gt; Maven Repositories -&gt;  -&gt; <code>Full Index Enabled</code></em> must be checked (may take a while to complete)<br />\n(Eclipse restart not necessary)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":970630,"reputation":955,"user_id":993262,"display_name":"Stephen Hartley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46416,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"answer_count":5,"score":44,"last_activity_date":1645434899,"creation_date":1435163683,"question_id":31032174,"body_markdown":"I&#39;m using Maven 3.1.1 behind a proxy server. The same proxy handles both `HTTP` and `HTTPS` traffic.\r\n\r\nI can&#39;t seem to tell maven using `settings.xml` to use both protocols. It seems to me that it is only possible to have one active proxy, as whichever active proxy is defined first is used, and subsequent &#39;active&#39; proxy definitions are ignored. This is my `settings.xml`:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n   \t&lt;proxies&gt;\r\n\t\t&lt;proxy&gt;\r\n\t\t\t&lt;id&gt;myhttpproxy&lt;/id&gt;\r\n\t\t\t&lt;active&gt;true&lt;/active&gt;\r\n\t\t\t&lt;protocol&gt;http&lt;/protocol&gt;\r\n\t\t\t&lt;host&gt;192.168.1.2&lt;/host&gt;\r\n\t\t\t&lt;port&gt;3128&lt;/port&gt;\r\n\t\t\t&lt;nonProxyHosts&gt;localhost&lt;/nonProxyHosts&gt;\r\n\t\t&lt;/proxy&gt;\r\n\t\t&lt;proxy&gt;\r\n\t\t\t&lt;id&gt;myhttpsproxy&lt;/id&gt;\r\n\t\t\t&lt;active&gt;true&lt;/active&gt;\r\n\t\t\t&lt;protocol&gt;https&lt;/protocol&gt;\r\n\t\t\t&lt;host&gt;192.168.1.2&lt;/host&gt;\r\n\t\t\t&lt;port&gt;3128&lt;/port&gt;\r\n\t\t\t&lt;nonProxyHosts&gt;localhost&lt;/nonProxyHosts&gt;\r\n\t\t&lt;/proxy&gt;\r\n\t&lt;/proxies&gt;\r\n\r\n\r\nIs it possible to configure a proxy for both `HTTP` and `HTTPS` in maven&#39;s `settings.xml`?  I&#39;m aware that I could workaround this by passing Java system properties to the maven invocation such as:\r\n\r\n    -Dhttps.proxyHost=192.168.1.2 -Dhttps.proxyPort=3128\r\n\r\nbut surely this must be possible from within `settings.xml`?\r\n\r\nMaven bugs raised such as [MNG-2305][1] and [MNG-4394][2] suggest this issue is resolved, but I am not convinced.\r\n\r\nAlternatively, is there a &quot;proxy proxy&quot; I could run locally that I could point maven to?  The &quot;proxy proxy&quot; would route http/https accordingly.  Even so, I would still need to define two active proxy definitions in `settings.xml` for Maven to direct both types of traffic.\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/MNG-2305\r\n  [2]: https://issues.apache.org/jira/browse/MNG-4394","title":"How to configure a proxy server for both HTTP and HTTPS in Maven&#39;s settings.xml?","body":"<p>I'm using Maven 3.1.1 behind a proxy server. The same proxy handles both <code>HTTP</code> and <code>HTTPS</code> traffic.</p>\n\n<p>I can't seem to tell maven using <code>settings.xml</code> to use both protocols. It seems to me that it is only possible to have one active proxy, as whichever active proxy is defined first is used, and subsequent 'active' proxy definitions are ignored. This is my <code>settings.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;proxies&gt;\n    &lt;proxy&gt;\n        &lt;id&gt;myhttpproxy&lt;/id&gt;\n        &lt;active&gt;true&lt;/active&gt;\n        &lt;protocol&gt;http&lt;/protocol&gt;\n        &lt;host&gt;192.168.1.2&lt;/host&gt;\n        &lt;port&gt;3128&lt;/port&gt;\n        &lt;nonProxyHosts&gt;localhost&lt;/nonProxyHosts&gt;\n    &lt;/proxy&gt;\n    &lt;proxy&gt;\n        &lt;id&gt;myhttpsproxy&lt;/id&gt;\n        &lt;active&gt;true&lt;/active&gt;\n        &lt;protocol&gt;https&lt;/protocol&gt;\n        &lt;host&gt;192.168.1.2&lt;/host&gt;\n        &lt;port&gt;3128&lt;/port&gt;\n        &lt;nonProxyHosts&gt;localhost&lt;/nonProxyHosts&gt;\n    &lt;/proxy&gt;\n&lt;/proxies&gt;\n</code></pre>\n\n<p>Is it possible to configure a proxy for both <code>HTTP</code> and <code>HTTPS</code> in maven's <code>settings.xml</code>?  I'm aware that I could workaround this by passing Java system properties to the maven invocation such as:</p>\n\n<pre><code>-Dhttps.proxyHost=192.168.1.2 -Dhttps.proxyPort=3128\n</code></pre>\n\n<p>but surely this must be possible from within <code>settings.xml</code>?</p>\n\n<p>Maven bugs raised such as <a href=\"https://issues.apache.org/jira/browse/MNG-2305\" rel=\"noreferrer\">MNG-2305</a> and <a href=\"https://issues.apache.org/jira/browse/MNG-4394\" rel=\"noreferrer\">MNG-4394</a> suggest this issue is resolved, but I am not convinced.</p>\n\n<p>Alternatively, is there a \"proxy proxy\" I could run locally that I could point maven to?  The \"proxy proxy\" would route http/https accordingly.  Even so, I would still need to define two active proxy definitions in <code>settings.xml</code> for Maven to direct both types of traffic.</p>\n"},{"tags":["java","keycloak","keycloak-authorization-services"],"answers":[{"tags":[],"owner":{"account_id":3923073,"reputation":2489,"user_id":3244618,"accept_rate":12,"display_name":"FrancMo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645434868,"creation_date":1645434868,"answer_id":71203750,"question_id":71183244,"body_markdown":"Ok I found very good article explaining how to do it step by step, I highly recommend it.\r\n\r\n[java-keycloak-custom-user-providers][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-keycloak-custom-user-providers","title":"Keycloak, java plugin, auth user custom connected to third party","body":"<p>Ok I found very good article explaining how to do it step by step, I highly recommend it.</p>\n<p><a href=\"https://www.baeldung.com/java-keycloak-custom-user-providers\" rel=\"nofollow noreferrer\">java-keycloak-custom-user-providers</a></p>\n"}],"owner":{"account_id":3923073,"reputation":2489,"user_id":3244618,"accept_rate":12,"display_name":"FrancMo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71203750,"answer_count":1,"score":0,"last_activity_date":1645434868,"creation_date":1645258202,"question_id":71183244,"body_markdown":"I have a need to make &quot;hacky&quot; oauth flow. I mean add ability for users, to login to my system using credentials from other, which does not have oidc unfortunately and wont have for many months.\r\n\r\nI would like to have this option, to enter this other system login/password click login in button, and then inside keycloak flow try those credentials to connect this other system, get tokens and then login this user with keycloak user database as usual or if this user does not exists create him.\r\n\r\nI am not sure how to achieve this goal, any one did smth similar ?\r\n\r\nthanks!\r\n\r\nEDIT:\r\nhmm probably I need to use AbstractUsernameFormAuthenticator, will send here response when done.","title":"Keycloak, java plugin, auth user custom connected to third party","body":"<p>I have a need to make &quot;hacky&quot; oauth flow. I mean add ability for users, to login to my system using credentials from other, which does not have oidc unfortunately and wont have for many months.</p>\n<p>I would like to have this option, to enter this other system login/password click login in button, and then inside keycloak flow try those credentials to connect this other system, get tokens and then login this user with keycloak user database as usual or if this user does not exists create him.</p>\n<p>I am not sure how to achieve this goal, any one did smth similar ?</p>\n<p>thanks!</p>\n<p>EDIT:\nhmm probably I need to use AbstractUsernameFormAuthenticator, will send here response when done.</p>\n"},{"tags":["java","switch-statement","void","java-16","switch-expression"],"comments":[{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1613379201,"post_id":66204407,"comment_id":117047065,"body_markdown":"You&#39;re using a switch expression where you should be using a switch statement.","body":"You&#39;re using a switch expression where you should be using a switch statement."},{"owner":{"account_id":286329,"reputation":2281,"user_id":974534,"display_name":"Arboreal Shark"},"score":8,"creation_date":1613379322,"post_id":66204407,"comment_id":117047128,"body_markdown":"@NomadMaker The purpose of the expression is to get a compilation error when a new enum value is added.","body":"@NomadMaker The purpose of the expression is to get a compilation error when a new enum value is added."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1613382301,"post_id":66204407,"comment_id":117048322,"body_markdown":"The `Consumer` could be accompanied with the suggestions made at [How to ensure completeness in an enum switch at compile time?](https://stackoverflow.com/questions/16797529/how-to-ensure-completeness-in-an-enum-switch-at-compile-time). See also the Visitor pattern [described here](https://stackoverflow.com/questions/859563/java-enums-and-switch-statements-the-default-case).","body":"The <code>Consumer</code> could be accompanied with the suggestions made at <a href=\"https://stackoverflow.com/questions/16797529/how-to-ensure-completeness-in-an-enum-switch-at-compile-time\">How to ensure completeness in an enum switch at compile time?</a>. See also the Visitor pattern <a href=\"https://stackoverflow.com/questions/859563/java-enums-and-switch-statements-the-default-case\">described here</a>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1613395959,"post_id":66204407,"comment_id":117054379,"body_markdown":"Given your edit, what about yielding the cast `event` and then call `handle` passing the `switch` expression itself as an argument?","body":"Given your edit, what about yielding the cast <code>event</code> and then call <code>handle</code> passing the <code>switch</code> expression itself as an argument?"},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1613503039,"post_id":66204407,"comment_id":117093157,"body_markdown":"Are you able to refactor `event` so that `handle()` is moved there? Then no switch is needed, just `event.handle()`.","body":"Are you able to refactor <code>event</code> so that <code>handle()</code> is moved there? Then no switch is needed, just <code>event.handle()</code>."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1613560677,"post_id":66204407,"comment_id":117110247,"body_markdown":"Some IDEs and other tools have an option for emitting warnings for non-exhaustive switches. In Eclipse this is controlled with *Preferences &gt; Java &gt; Compiler &gt; Errors/Warnings &gt; Incomplete &#39;switch&#39; cases on enum*.","body":"Some IDEs and other tools have an option for emitting warnings for non-exhaustive switches. In Eclipse this is controlled with <i>Preferences &gt; Java &gt; Compiler &gt; Errors/Warnings &gt; Incomplete &#39;switch&#39; cases on enum</i>."}],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1614784833,"creation_date":1613380972,"answer_id":66205454,"question_id":66204407,"body_markdown":"Maybe yield a `Consumer` of `Event`, so you yield something useful, the trade off is one more line for `consumer.accept`.\r\n\r\n```\r\nConsumer&lt;Event&gt; consumer = switch (event.getEventType()) {\r\n    case ORDER -&gt; e -&gt; handle((OrderEvent) e);\r\n    case INVOICE -&gt; e -&gt; handle((InvoiceEvent) e);\r\n    case PAYMENT -&gt; e -&gt; handle((PaymentEvent) e);\r\n};\r\nconsumer.accept(event);\r\n```\r\nContinue if you concern performance\r\n---\r\nBased on the comment concerning performance penalty, a benchmark is performed to compare following scenarios:\r\n1. Using consumer and handle is instance method\r\n2. Using consumer and handle is static method\r\n3. Not using consumer and handle is instance method\r\n4. Not using consumer and handle is static method  \r\n\r\nTo see   \r\n- Is using Consumer has large performance impact?\r\n- Is there any difference for static and instance `handle` method?  \r\n\r\nAnd the result is: \r\n```\r\n# Run complete. Total time: 00:20:30\r\n\r\nBenchmark                                          Mode  Cnt      Score     Error   Units\r\nSwitchExpressionBenchMark.consumerHandle          thrpt  300  49343.496 &#177;  91.324  ops/ms\r\nSwitchExpressionBenchMark.consumerStaticHandle    thrpt  300  49312.273 &#177; 112.630  ops/ms\r\nSwitchExpressionBenchMark.noConsumerHandle        thrpt  300  49353.232 &#177; 106.522  ops/ms\r\nSwitchExpressionBenchMark.noConsumerStaticHandle  thrpt  300  49496.614 &#177; 122.916  ops/ms\r\n\r\n```\r\nBy observing the result, there is no much different between the 4 scenarios. \r\n- Using Consumer does not have significant performance impact.\r\n- The performance different between static and instance `handle` method is neglectable.\r\n\r\n---\r\nThe benchmark is performed with:  \r\nCPU: Intel(R) Core(TM) i7-8750H  \r\nMemory: 16G  \r\nJMH version: 1.19  \r\nVM version: JDK 15.0.2  \r\n\r\n```java\r\nimport org.openjdk.jmh.annotations.*;\r\nimport org.openjdk.jmh.infra.Blackhole;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.function.Consumer;\r\n\r\n@BenchmarkMode(Mode.Throughput)\r\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n@State(Scope.Thread)\r\n@Warmup(iterations = 30, time = 500, timeUnit = TimeUnit.MILLISECONDS)\r\n@Measurement(iterations = 30, time = 500, timeUnit = TimeUnit.MILLISECONDS)\r\npublic class SwitchExpressionBenchMark {\r\n    public static void main(String[] args) throws Exception {\r\n        org.openjdk.jmh.Main.main(args);\r\n    }\r\n\r\n    @Benchmark\r\n    public void consumerStaticHandle(Blackhole blackhole, InvoiceEvent invoiceEvent) {\r\n        Event event = invoiceEvent;\r\n        Consumer&lt;Event&gt; consumer = switch (event.getEventType()) {\r\n            case ORDER -&gt; e -&gt; staticHandle((OrderEvent) e);\r\n            case INVOICE -&gt; e -&gt; staticHandle((InvoiceEvent) e);\r\n            case PAYMENT -&gt; e -&gt; staticHandle((PaymentEvent) e);\r\n        };\r\n        consumer.accept(event);\r\n    }\r\n\r\n    @Benchmark\r\n    public void consumerHandle(Blackhole blackhole, InvoiceEvent invoiceEvent) {\r\n        Event event = invoiceEvent;\r\n        Consumer&lt;Event&gt; consumer = switch (event.getEventType()) {\r\n            case ORDER -&gt; e -&gt; this.handle((OrderEvent) e);\r\n            case INVOICE -&gt; e -&gt; this.handle((InvoiceEvent) e);\r\n            case PAYMENT -&gt; e -&gt; this.handle((PaymentEvent) e);\r\n        };\r\n        consumer.accept(event);\r\n    }\r\n\r\n    @Benchmark\r\n    public void noConsumerHandle(Blackhole blackhole, InvoiceEvent invoiceEvent) {\r\n        Event event = invoiceEvent;\r\n        int unused = switch (event.getEventType()) {\r\n            case ORDER -&gt; {\r\n                this.handle((OrderEvent) event);\r\n                yield 0;\r\n            }\r\n            case INVOICE -&gt; {\r\n                this.handle((InvoiceEvent) event);\r\n                yield 0;\r\n            }\r\n            case PAYMENT -&gt; {\r\n                this.handle((PaymentEvent) event);\r\n                yield 0;\r\n            }\r\n        };\r\n    }\r\n\r\n    @Benchmark\r\n    public void noConsumerStaticHandle(Blackhole blackhole, InvoiceEvent invoiceEvent) {\r\n        Event event = invoiceEvent;\r\n        int unused = switch (event.getEventType()) {\r\n            case ORDER -&gt; {\r\n                staticHandle((OrderEvent) event);\r\n                yield 0;\r\n            }\r\n            case INVOICE -&gt; {\r\n                staticHandle((InvoiceEvent) event);\r\n                yield 0;\r\n            }\r\n            case PAYMENT -&gt; {\r\n                staticHandle((PaymentEvent) event);\r\n                yield 0;\r\n            }\r\n        };\r\n    }\r\n\r\n    private static void staticHandle(PaymentEvent event) {\r\n        doSomeJob();\r\n    }\r\n\r\n    private static void staticHandle(InvoiceEvent event) {\r\n        doSomeJob();\r\n    }\r\n\r\n    private static void staticHandle(OrderEvent event) {\r\n        doSomeJob();\r\n    }\r\n\r\n    private void handle(PaymentEvent event) {\r\n        doSomeJob();\r\n    }\r\n\r\n    private void handle(InvoiceEvent event) {\r\n        doSomeJob();\r\n    }\r\n\r\n    private void handle(OrderEvent event) {\r\n        doSomeJob();\r\n    }\r\n\r\n    private static void doSomeJob() {\r\n        Blackhole.consumeCPU(16);\r\n    }\r\n\r\n    private enum EventType {\r\n        ORDER, INVOICE, PAYMENT\r\n    }\r\n\r\n    public static class Event {\r\n        public EventType getEventType() {\r\n            return eventType;\r\n        }\r\n\r\n        public void setEventType(EventType eventType) {\r\n            this.eventType = eventType;\r\n        }\r\n\r\n        private EventType eventType;\r\n\r\n        public double getD() {\r\n            return d;\r\n        }\r\n\r\n        public void setD(double d) {\r\n            this.d = d;\r\n        }\r\n\r\n\r\n        private double d;\r\n    }\r\n\r\n    public static class OrderEvent extends Event {\r\n    }\r\n\r\n    @State(Scope.Thread)\r\n    public static class InvoiceEvent extends Event {\r\n        @Setup(Level.Trial)\r\n        public void doSetup() {\r\n            this.setEventType(EventType.INVOICE);\r\n        }\r\n    }\r\n\r\n    public static class PaymentEvent extends Event {\r\n    }\r\n}\r\n```","title":"Switch expression with void return type","body":"<p>Maybe yield a <code>Consumer</code> of <code>Event</code>, so you yield something useful, the trade off is one more line for <code>consumer.accept</code>.</p>\n<pre><code>Consumer&lt;Event&gt; consumer = switch (event.getEventType()) {\n    case ORDER -&gt; e -&gt; handle((OrderEvent) e);\n    case INVOICE -&gt; e -&gt; handle((InvoiceEvent) e);\n    case PAYMENT -&gt; e -&gt; handle((PaymentEvent) e);\n};\nconsumer.accept(event);\n</code></pre>\n<h2>Continue if you concern performance</h2>\n<p>Based on the comment concerning performance penalty, a benchmark is performed to compare following scenarios:</p>\n<ol>\n<li>Using consumer and handle is instance method</li>\n<li>Using consumer and handle is static method</li>\n<li>Not using consumer and handle is instance method</li>\n<li>Not using consumer and handle is static method</li>\n</ol>\n<p>To see</p>\n<ul>\n<li>Is using Consumer has large performance impact?</li>\n<li>Is there any difference for static and instance <code>handle</code> method?</li>\n</ul>\n<p>And the result is:</p>\n<pre><code># Run complete. Total time: 00:20:30\n\nBenchmark                                          Mode  Cnt      Score     Error   Units\nSwitchExpressionBenchMark.consumerHandle          thrpt  300  49343.496 ±  91.324  ops/ms\nSwitchExpressionBenchMark.consumerStaticHandle    thrpt  300  49312.273 ± 112.630  ops/ms\nSwitchExpressionBenchMark.noConsumerHandle        thrpt  300  49353.232 ± 106.522  ops/ms\nSwitchExpressionBenchMark.noConsumerStaticHandle  thrpt  300  49496.614 ± 122.916  ops/ms\n\n</code></pre>\n<p>By observing the result, there is no much different between the 4 scenarios.</p>\n<ul>\n<li>Using Consumer does not have significant performance impact.</li>\n<li>The performance different between static and instance <code>handle</code> method is neglectable.</li>\n</ul>\n<hr />\n<p>The benchmark is performed with:<br />\nCPU: Intel(R) Core(TM) i7-8750H<br />\nMemory: 16G<br />\nJMH version: 1.19<br />\nVM version: JDK 15.0.2</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.openjdk.jmh.annotations.*;\nimport org.openjdk.jmh.infra.Blackhole;\n\nimport java.util.concurrent.TimeUnit;\nimport java.util.function.Consumer;\n\n@BenchmarkMode(Mode.Throughput)\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\n@State(Scope.Thread)\n@Warmup(iterations = 30, time = 500, timeUnit = TimeUnit.MILLISECONDS)\n@Measurement(iterations = 30, time = 500, timeUnit = TimeUnit.MILLISECONDS)\npublic class SwitchExpressionBenchMark {\n    public static void main(String[] args) throws Exception {\n        org.openjdk.jmh.Main.main(args);\n    }\n\n    @Benchmark\n    public void consumerStaticHandle(Blackhole blackhole, InvoiceEvent invoiceEvent) {\n        Event event = invoiceEvent;\n        Consumer&lt;Event&gt; consumer = switch (event.getEventType()) {\n            case ORDER -&gt; e -&gt; staticHandle((OrderEvent) e);\n            case INVOICE -&gt; e -&gt; staticHandle((InvoiceEvent) e);\n            case PAYMENT -&gt; e -&gt; staticHandle((PaymentEvent) e);\n        };\n        consumer.accept(event);\n    }\n\n    @Benchmark\n    public void consumerHandle(Blackhole blackhole, InvoiceEvent invoiceEvent) {\n        Event event = invoiceEvent;\n        Consumer&lt;Event&gt; consumer = switch (event.getEventType()) {\n            case ORDER -&gt; e -&gt; this.handle((OrderEvent) e);\n            case INVOICE -&gt; e -&gt; this.handle((InvoiceEvent) e);\n            case PAYMENT -&gt; e -&gt; this.handle((PaymentEvent) e);\n        };\n        consumer.accept(event);\n    }\n\n    @Benchmark\n    public void noConsumerHandle(Blackhole blackhole, InvoiceEvent invoiceEvent) {\n        Event event = invoiceEvent;\n        int unused = switch (event.getEventType()) {\n            case ORDER -&gt; {\n                this.handle((OrderEvent) event);\n                yield 0;\n            }\n            case INVOICE -&gt; {\n                this.handle((InvoiceEvent) event);\n                yield 0;\n            }\n            case PAYMENT -&gt; {\n                this.handle((PaymentEvent) event);\n                yield 0;\n            }\n        };\n    }\n\n    @Benchmark\n    public void noConsumerStaticHandle(Blackhole blackhole, InvoiceEvent invoiceEvent) {\n        Event event = invoiceEvent;\n        int unused = switch (event.getEventType()) {\n            case ORDER -&gt; {\n                staticHandle((OrderEvent) event);\n                yield 0;\n            }\n            case INVOICE -&gt; {\n                staticHandle((InvoiceEvent) event);\n                yield 0;\n            }\n            case PAYMENT -&gt; {\n                staticHandle((PaymentEvent) event);\n                yield 0;\n            }\n        };\n    }\n\n    private static void staticHandle(PaymentEvent event) {\n        doSomeJob();\n    }\n\n    private static void staticHandle(InvoiceEvent event) {\n        doSomeJob();\n    }\n\n    private static void staticHandle(OrderEvent event) {\n        doSomeJob();\n    }\n\n    private void handle(PaymentEvent event) {\n        doSomeJob();\n    }\n\n    private void handle(InvoiceEvent event) {\n        doSomeJob();\n    }\n\n    private void handle(OrderEvent event) {\n        doSomeJob();\n    }\n\n    private static void doSomeJob() {\n        Blackhole.consumeCPU(16);\n    }\n\n    private enum EventType {\n        ORDER, INVOICE, PAYMENT\n    }\n\n    public static class Event {\n        public EventType getEventType() {\n            return eventType;\n        }\n\n        public void setEventType(EventType eventType) {\n            this.eventType = eventType;\n        }\n\n        private EventType eventType;\n\n        public double getD() {\n            return d;\n        }\n\n        public void setD(double d) {\n            this.d = d;\n        }\n\n\n        private double d;\n    }\n\n    public static class OrderEvent extends Event {\n    }\n\n    @State(Scope.Thread)\n    public static class InvoiceEvent extends Event {\n        @Setup(Level.Trial)\n        public void doSetup() {\n            this.setEventType(EventType.INVOICE);\n        }\n    }\n\n    public static class PaymentEvent extends Event {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1613393575,"creation_date":1613392119,"answer_id":66208031,"question_id":66204407,"body_markdown":"If you have test classes (say JUNIT test cases) which you build and run before releasing your main code, then you could drop a simple guard function into any existing test class for each enum you want to watch:\r\n\r\n    String checkForEnumChanged(YourEnum guard) {\r\n        return switch (guard) {\r\n            case ORDER -&gt; &quot;OK&quot;;\r\n            case INVOICE -&gt; &quot;OK&quot;;\r\n            case PAYMENT -&gt; &quot;OK&quot;;\r\n        };\r\n    }\r\n\r\nThis means you can keep your main application code clear of the `yield 0;` style of switch and get a compile error in the test classes when the enum values are edited.","title":"Switch expression with void return type","body":"<p>If you have test classes (say JUNIT test cases) which you build and run before releasing your main code, then you could drop a simple guard function into any existing test class for each enum you want to watch:</p>\n<pre><code>String checkForEnumChanged(YourEnum guard) {\n    return switch (guard) {\n        case ORDER -&gt; &quot;OK&quot;;\n        case INVOICE -&gt; &quot;OK&quot;;\n        case PAYMENT -&gt; &quot;OK&quot;;\n    };\n}\n</code></pre>\n<p>This means you can keep your main application code clear of the <code>yield 0;</code> style of switch and get a compile error in the test classes when the enum values are edited.</p>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1613920870,"creation_date":1613436596,"answer_id":66217353,"question_id":66204407,"body_markdown":"The statement of the question is a bit of an &quot;XY problem&quot;; what you want is totality checking, but you&#39;re asking for it to be treated as an expression, not because you want an expression, but because you want the totality checking that comes with expression-hood.\r\n\r\nOne of the items of &quot;technical debt&quot; left from the addition of switch expressions is the ability for switch _statements_ to opt into the same totality checking that switch expressions get.  We could not retroactively change this about switch statements -- switch statements have always been allowed to be partial -- but you are correct that it would be nice to be able to get this sort of type checking.  As you surmise, turning it into a void expression switch is one way to get there, but it is indeed ugly, and worse, will not be easily discoverable.  It is on our list to find a way to allow you to opt back into totality checking for switch statements.  There have been discussions on the `amber-spec-experts` list about this; it is related to several other possible features, and design discussions are still ongoing.","title":"Switch expression with void return type","body":"<p>The statement of the question is a bit of an &quot;XY problem&quot;; what you want is totality checking, but you're asking for it to be treated as an expression, not because you want an expression, but because you want the totality checking that comes with expression-hood.</p>\n<p>One of the items of &quot;technical debt&quot; left from the addition of switch expressions is the ability for switch <em>statements</em> to opt into the same totality checking that switch expressions get.  We could not retroactively change this about switch statements -- switch statements have always been allowed to be partial -- but you are correct that it would be nice to be able to get this sort of type checking.  As you surmise, turning it into a void expression switch is one way to get there, but it is indeed ugly, and worse, will not be easily discoverable.  It is on our list to find a way to allow you to opt back into totality checking for switch statements.  There have been discussions on the <code>amber-spec-experts</code> list about this; it is related to several other possible features, and design discussions are still ongoing.</p>\n"},{"tags":[],"owner":{"account_id":20511313,"reputation":2360,"user_id":15102459,"display_name":"Thiyanesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613808240,"creation_date":1613807506,"answer_id":66289249,"question_id":66204407,"body_markdown":"## Add a delegate\r\nAdd a delegate method to forward the request and return a `Void` type\r\n```java\r\npublic class SwitchTest {\r\n    \r\n    enum EventType {\r\n        ORDER,\r\n        INVOICE,\r\n        PARCELDELIVERY\r\n    }\r\n\r\n    interface Event {\r\n\r\n        EventType getType();\r\n    }\r\n\r\n    static class OrderType implements Event {\r\n\r\n        @Override\r\n        public EventType getType() {\r\n            return EventType.ORDER;\r\n        }\r\n    }\r\n\r\n    static class InvoiceType implements Event {\r\n\r\n        @Override\r\n        public EventType getType() {\r\n            return EventType.INVOICE;\r\n        }\r\n    }\r\n\r\n    static void handle(Event e) {\r\n        System.out.println(e.getType());\r\n    }\r\n\r\n    static Void switchExpressionDelegate(Event e) {\r\n        handle(e);\r\n        return null;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Event event = new OrderType();\r\n        Void nullNoop = switch (event.getType()) {\r\n            case ORDER -&gt; switchExpressionDelegate(event);\r\n            case INVOICE -&gt; switchExpressionDelegate(event);\r\n            case PARCELDELIVERY -&gt; switchExpressionDelegate(event);\r\n        };\r\n    }\r\n}\r\n\r\n```\r\n\r\n## Exact type\r\nAssuming the `handle` method has exact type, then a parallel hierarchy of delegate methods have to be added. (this does not look good though)\r\n```java\r\n\r\n    static Void switchExpressionDelegate(OrderType e) {\r\n        handle(e);\r\n        return null;\r\n    }\r\n\r\n    static Void switchExpressionDelegate(InvoiceType e) {\r\n        handle(e);\r\n        return null;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Event event = new OrderType();\r\n        Void nullNoop = switch (event.getType()) {\r\n            case ORDER -&gt; switchExpressionDelegate((OrderType) event);\r\n            case INVOICE -&gt; switchExpressionDelegate((InvoiceType) event);\r\n            case PARCELDELIVERY -&gt; switchExpressionDelegate((OrderType) event); // can throw error in an actual implementation\r\n        };\r\n    }\r\n```\r\n\r\n## Adapter\r\nIf adding new classes is an option, then adapter classes can be added\r\n\r\n## All the above looks round about\r\nAs pointed by other answer by `sambabcde`, the best option seems to be using a Consumer\r\n```java\r\n    public static void main(String[] args) {\r\n        Event event = new OrderType();\r\n        Consumer&lt;Void&gt; nullNoop = switch (event.getType()) {\r\n            case ORDER -&gt; e -&gt; handle((OrderType) event);\r\n            case INVOICE -&gt; e -&gt; handle((InvoiceType) event);\r\n            case PARCELDELIVERY -&gt; e -&gt; handle((OrderType) event);\r\n        };\r\n        nullNoop.accept(null);\r\n    }\r\n```","title":"Switch expression with void return type","body":"<h2>Add a delegate</h2>\n<p>Add a delegate method to forward the request and return a <code>Void</code> type</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SwitchTest {\n    \n    enum EventType {\n        ORDER,\n        INVOICE,\n        PARCELDELIVERY\n    }\n\n    interface Event {\n\n        EventType getType();\n    }\n\n    static class OrderType implements Event {\n\n        @Override\n        public EventType getType() {\n            return EventType.ORDER;\n        }\n    }\n\n    static class InvoiceType implements Event {\n\n        @Override\n        public EventType getType() {\n            return EventType.INVOICE;\n        }\n    }\n\n    static void handle(Event e) {\n        System.out.println(e.getType());\n    }\n\n    static Void switchExpressionDelegate(Event e) {\n        handle(e);\n        return null;\n    }\n\n    public static void main(String[] args) {\n        Event event = new OrderType();\n        Void nullNoop = switch (event.getType()) {\n            case ORDER -&gt; switchExpressionDelegate(event);\n            case INVOICE -&gt; switchExpressionDelegate(event);\n            case PARCELDELIVERY -&gt; switchExpressionDelegate(event);\n        };\n    }\n}\n\n</code></pre>\n<h2>Exact type</h2>\n<p>Assuming the <code>handle</code> method has exact type, then a parallel hierarchy of delegate methods have to be added. (this does not look good though)</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    static Void switchExpressionDelegate(OrderType e) {\n        handle(e);\n        return null;\n    }\n\n    static Void switchExpressionDelegate(InvoiceType e) {\n        handle(e);\n        return null;\n    }\n\n    public static void main(String[] args) {\n        Event event = new OrderType();\n        Void nullNoop = switch (event.getType()) {\n            case ORDER -&gt; switchExpressionDelegate((OrderType) event);\n            case INVOICE -&gt; switchExpressionDelegate((InvoiceType) event);\n            case PARCELDELIVERY -&gt; switchExpressionDelegate((OrderType) event); // can throw error in an actual implementation\n        };\n    }\n</code></pre>\n<h2>Adapter</h2>\n<p>If adding new classes is an option, then adapter classes can be added</p>\n<h2>All the above looks round about</h2>\n<p>As pointed by other answer by <code>sambabcde</code>, the best option seems to be using a Consumer</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        Event event = new OrderType();\n        Consumer&lt;Void&gt; nullNoop = switch (event.getType()) {\n            case ORDER -&gt; e -&gt; handle((OrderType) event);\n            case INVOICE -&gt; e -&gt; handle((InvoiceType) event);\n            case PARCELDELIVERY -&gt; e -&gt; handle((OrderType) event);\n        };\n        nullNoop.accept(null);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1573514,"reputation":1365,"user_id":1460643,"accept_rate":56,"display_name":"Aliaksei"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645434697,"creation_date":1645434697,"answer_id":71203718,"question_id":66204407,"body_markdown":"How about Runnable :\r\n\r\n    Runnable limitOperationRunnable = switch (limitOperation) {\r\n      case INSERT -&gt; () -&gt; ...;\r\n      case UPDATE -&gt; () -&gt; ...;\r\n      case DELETE -&gt; () -&gt; ...;\r\n    };\r\n    limitOperationRunnable.run();","title":"Switch expression with void return type","body":"<p>How about Runnable :</p>\n<pre><code>Runnable limitOperationRunnable = switch (limitOperation) {\n  case INSERT -&gt; () -&gt; ...;\n  case UPDATE -&gt; () -&gt; ...;\n  case DELETE -&gt; () -&gt; ...;\n};\nlimitOperationRunnable.run();\n</code></pre>\n"}],"owner":{"account_id":286329,"reputation":2281,"user_id":974534,"display_name":"Arboreal Shark"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4863,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":66205454,"answer_count":5,"score":37,"last_activity_date":1645434697,"creation_date":1613375801,"question_id":66204407,"body_markdown":"Is there any way to force an exhaustive check of all enum values when the switch branches call methods with void return type? It&#39;s quite ugly to hard-code a yield just to coax the compiler to demand exhaustiveness.\r\n\r\nThis is my current pattern (the handle methods have void return type)\r\n\r\n```java\r\nint unused = switch (event.getEventType()) {\r\n    case ORDER   -&gt; { handle((OrderEvent) event); yield 0; }\r\n    case INVOICE -&gt; { handle((InvoiceEvent) event); yield 0; }\r\n    case PAYMENT -&gt; { handle((PaymentEvent) event); yield 0; }\r\n};\r\n```\r\n\r\nThe reason I want to use an expression is to get a compilation error when a new enum value is added and is not handled.","title":"Switch expression with void return type","body":"<p>Is there any way to force an exhaustive check of all enum values when the switch branches call methods with void return type? It's quite ugly to hard-code a yield just to coax the compiler to demand exhaustiveness.</p>\n<p>This is my current pattern (the handle methods have void return type)</p>\n<pre class=\"lang-java prettyprint-override\"><code>int unused = switch (event.getEventType()) {\n    case ORDER   -&gt; { handle((OrderEvent) event); yield 0; }\n    case INVOICE -&gt; { handle((InvoiceEvent) event); yield 0; }\n    case PAYMENT -&gt; { handle((PaymentEvent) event); yield 0; }\n};\n</code></pre>\n<p>The reason I want to use an expression is to get a compilation error when a new enum value is added and is not handled.</p>\n"},{"tags":["java","jsp","encoding","path","cjk"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1645433350,"post_id":71203409,"comment_id":125861107,"body_markdown":"Welcome to the site. [Please do not post pictures of your code.](https://meta.stackoverflow.com/q/285551/3890632)","body":"Welcome to the site. <a href=\"https://meta.stackoverflow.com/q/285551/3890632\">Please do not post pictures of your code.</a>"},{"owner":{"account_id":23867627,"reputation":1,"user_id":17869767,"display_name":"Jelly"},"score":0,"creation_date":1645433592,"post_id":71203409,"comment_id":125861220,"body_markdown":"ohhh thx for the comment I&#39;ll edit it right away. thx very much","body":"ohhh thx for the comment I&#39;ll edit it right away. thx very much"},{"owner":{"account_id":19833403,"reputation":571,"user_id":14527497,"display_name":"dangerousmanleesanghyeon"},"score":0,"creation_date":1645449110,"post_id":71203409,"comment_id":125866982,"body_markdown":"did you try this? `String filename1 = java.net.URLEncoder.encode(request.getParameter(&quot;filename1&quot;), StandardCharsets.UTF_8);`","body":"did you try this? <code>String filename1 = java.net.URLEncoder.encode(request.getParameter(&quot;filename1&quot;)&zwnj;&#8203;, StandardCharsets.UTF_8);</code>"},{"owner":{"account_id":23867627,"reputation":1,"user_id":17869767,"display_name":"Jelly"},"score":0,"creation_date":1645515923,"post_id":71203409,"comment_id":125885077,"body_markdown":"@dangerousmanleesanghyeon  thx for the comment! but I get the message  &quot;StandardCharsets cannot be resolved to a variable&quot;.. btw I already imported &#39;java.net.*&#39;","body":"@dangerousmanleesanghyeon  thx for the comment! but I get the message  &quot;StandardCharsets cannot be resolved to a variable&quot;.. btw I already imported &#39;java.net.*&#39;"},{"owner":{"account_id":19833403,"reputation":571,"user_id":14527497,"display_name":"dangerousmanleesanghyeon"},"score":0,"creation_date":1645516669,"post_id":71203409,"comment_id":125885300,"body_markdown":"@jelly if you use eclipse, try change eclipse encoding setting","body":"@jelly if you use eclipse, try change eclipse encoding setting"}],"owner":{"account_id":23867627,"reputation":1,"user_id":17869767,"display_name":"Jelly"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645434006,"creation_date":1645433154,"question_id":71203409,"body_markdown":"I made a page for uploading files with MultipartRequest.\r\nThere is no problem when i check the uploaded files.\r\nand then I have a problem when I&#39;m **downloading** it.\r\n\r\nIf the file&#39;s name is in Korean, the program cannot read the path of the file. I tried to set &quot;URIEncoding=&quot;UTF-8&quot; at Connector tag at server.xml but it didn&#39;t work.\r\n\r\nHow can I get the path of the file which name is in Korean?\r\n\r\n[first Jsp file]\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n    pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n&lt;title&gt;Insert title here&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;form action=&quot;02_fileUpload.jsp&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n        &lt;table border=1&gt;\r\n            &lt;tr&gt;\r\n                &lt;td colspan=2 align=&quot;center&quot;&gt;&lt;h3&gt;file upload form&lt;/h3&gt;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;uploader&lt;/td&gt;\r\n                &lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;uploder&quot; name=&quot;uploader&quot;&gt;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;title&lt;/td&gt;\r\n                &lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;title&quot; name=&quot;title&quot;&gt;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;file name1&lt;/td&gt;\r\n                &lt;td&gt;&lt;input type=&quot;file&quot; name=&quot;file1&quot;&gt;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;file name2&lt;/td&gt;\r\n                &lt;td&gt;&lt;input type=&quot;file&quot; name=&quot;file2&quot;&gt;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td colspan=&quot;2&quot; align=&quot;center&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;send&quot;&gt;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/table&gt;\r\n    &lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n[second Jsp file]\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n    pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;%@ page import=&quot;com.oreilly.servlet.MultipartRequest&quot; %&gt;\r\n&lt;%@ page import=&quot;com.oreilly.servlet.multipart.DefaultFileRenamePolicy&quot; %&gt;\r\n&lt;%@ page import=&quot;java.util.&quot; %&gt;\r\n&lt;%\r\n    String uploadPath = request.getRealPath(&quot;upload&quot;);\r\n\r\n    int size = 101024*1024;\r\n    String uploader = &quot;&quot;;\r\n    String title = &quot;&quot;;\r\n    String filename1= &quot;&quot;;\r\n    String filename2= &quot;&quot;;\r\n\r\n    try{\r\n        MultipartRequest multi = \r\n                new MultipartRequest(request, uploadPath, size, &quot;utf-8&quot;, new DefaultFileRenamePolicy());\r\n        uploader = multi.getParameter(&quot;uploader&quot;);\r\n        title = multi.getParameter(&quot;title&quot;);\r\n\r\n        Enumeration files = multi.getFileNames();\r\n        String file1 = (String)files.nextElement();\r\n        filename1 = multi.getFilesystemName(file1);\r\n\r\n\r\n        String file2 = (String)files.nextElement();\r\n        filename2 = multi.getFilesystemName(file2);\r\n\r\n\r\n    }catch(Exception e){\r\n        e.printStackTrace();\r\n    }\r\n%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n&lt;title&gt;&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;form name=&quot;filecheck&quot; action=&quot;03_fileCheck.jsp&quot; method=&quot;post&quot;&gt;\r\n        &lt;input type=&quot;hidden&quot; name =&quot;uploader&quot; value=&quot;&lt;%=uploader%&gt;&quot;&gt;\r\n        &lt;input type=&quot;hidden&quot; name =&quot;title&quot; value=&quot;&lt;%=title%&gt;&quot;&gt;\r\n        &lt;input type=&quot;hidden&quot; name =&quot;filename1&quot; value=&quot;&lt;%=filename1%&gt;&quot;&gt;\r\n        &lt;input type=&quot;hidden&quot; name =&quot;filename2&quot; value=&quot;&lt;%=filename2%&gt;&quot;&gt;\r\n    &lt;/form&gt;\r\n    &lt;a href = &quot;#&quot; onclick=&quot;javascript:filecheck.submit()&quot;&gt;go to check for upload files&lt;/a&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n[Third Jsp file]\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n    pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;%\r\n    request.setCharacterEncoding(&quot;utf-8&quot;);\r\n    String uploader = request.getParameter(&quot;uploader&quot;);\r\n    String title = request.getParameter(&quot;title&quot;);\r\n    String filename1 = request.getParameter(&quot;filename1&quot;);\r\n    String filename2 = request.getParameter(&quot;filename2&quot;);\r\n%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n&lt;title&gt;check for upload files and download them&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    uploader: &lt;%=uploader%&gt;&lt;br&gt;\r\n    title:&lt;%=title%&gt;&lt;br&gt;\r\n    file name1: &lt;a href =&quot;upload/&lt;%=filename1%&gt;&quot;&gt;&lt;%=filename1%&gt;&lt;/a&gt;&lt;br&gt;\r\n    file name2: &lt;a href =&quot;upload/&lt;%=filename2%&gt;&quot;&gt;&lt;%=filename2%&gt;&lt;/a&gt;&lt;p&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n[This comes out when I download files which name is in KR : 404 not Found][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/icPF6.png","title":"How can I get the path of the file which name is not in English?","body":"<p>I made a page for uploading files with MultipartRequest.\nThere is no problem when i check the uploaded files.\nand then I have a problem when I'm <strong>downloading</strong> it.</p>\n<p>If the file's name is in Korean, the program cannot read the path of the file. I tried to set &quot;URIEncoding=&quot;UTF-8&quot; at Connector tag at server.xml but it didn't work.</p>\n<p>How can I get the path of the file which name is in Korean?</p>\n<p>[first Jsp file]</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form action=&quot;02_fileUpload.jsp&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\n        &lt;table border=1&gt;\n            &lt;tr&gt;\n                &lt;td colspan=2 align=&quot;center&quot;&gt;&lt;h3&gt;file upload form&lt;/h3&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;uploader&lt;/td&gt;\n                &lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;uploder&quot; name=&quot;uploader&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;title&lt;/td&gt;\n                &lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;title&quot; name=&quot;title&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;file name1&lt;/td&gt;\n                &lt;td&gt;&lt;input type=&quot;file&quot; name=&quot;file1&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;file name2&lt;/td&gt;\n                &lt;td&gt;&lt;input type=&quot;file&quot; name=&quot;file2&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td colspan=&quot;2&quot; align=&quot;center&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;send&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>[second Jsp file]</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@ page import=&quot;com.oreilly.servlet.MultipartRequest&quot; %&gt;\n&lt;%@ page import=&quot;com.oreilly.servlet.multipart.DefaultFileRenamePolicy&quot; %&gt;\n&lt;%@ page import=&quot;java.util.&quot; %&gt;\n&lt;%\n    String uploadPath = request.getRealPath(&quot;upload&quot;);\n\n    int size = 101024*1024;\n    String uploader = &quot;&quot;;\n    String title = &quot;&quot;;\n    String filename1= &quot;&quot;;\n    String filename2= &quot;&quot;;\n\n    try{\n        MultipartRequest multi = \n                new MultipartRequest(request, uploadPath, size, &quot;utf-8&quot;, new DefaultFileRenamePolicy());\n        uploader = multi.getParameter(&quot;uploader&quot;);\n        title = multi.getParameter(&quot;title&quot;);\n\n        Enumeration files = multi.getFileNames();\n        String file1 = (String)files.nextElement();\n        filename1 = multi.getFilesystemName(file1);\n\n\n        String file2 = (String)files.nextElement();\n        filename2 = multi.getFilesystemName(file2);\n\n\n    }catch(Exception e){\n        e.printStackTrace();\n    }\n%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form name=&quot;filecheck&quot; action=&quot;03_fileCheck.jsp&quot; method=&quot;post&quot;&gt;\n        &lt;input type=&quot;hidden&quot; name =&quot;uploader&quot; value=&quot;&lt;%=uploader%&gt;&quot;&gt;\n        &lt;input type=&quot;hidden&quot; name =&quot;title&quot; value=&quot;&lt;%=title%&gt;&quot;&gt;\n        &lt;input type=&quot;hidden&quot; name =&quot;filename1&quot; value=&quot;&lt;%=filename1%&gt;&quot;&gt;\n        &lt;input type=&quot;hidden&quot; name =&quot;filename2&quot; value=&quot;&lt;%=filename2%&gt;&quot;&gt;\n    &lt;/form&gt;\n    &lt;a href = &quot;#&quot; onclick=&quot;javascript:filecheck.submit()&quot;&gt;go to check for upload files&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>[Third Jsp file]</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%\n    request.setCharacterEncoding(&quot;utf-8&quot;);\n    String uploader = request.getParameter(&quot;uploader&quot;);\n    String title = request.getParameter(&quot;title&quot;);\n    String filename1 = request.getParameter(&quot;filename1&quot;);\n    String filename2 = request.getParameter(&quot;filename2&quot;);\n%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;check for upload files and download them&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    uploader: &lt;%=uploader%&gt;&lt;br&gt;\n    title:&lt;%=title%&gt;&lt;br&gt;\n    file name1: &lt;a href =&quot;upload/&lt;%=filename1%&gt;&quot;&gt;&lt;%=filename1%&gt;&lt;/a&gt;&lt;br&gt;\n    file name2: &lt;a href =&quot;upload/&lt;%=filename2%&gt;&quot;&gt;&lt;%=filename2%&gt;&lt;/a&gt;&lt;p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/icPF6.png\" rel=\"nofollow noreferrer\">This comes out when I download files which name is in KR : 404 not Found</a></p>\n"},{"tags":["java","spring-boot","spring-mvc"],"owner":{"account_id":7972620,"reputation":303,"user_id":6016749,"display_name":"Shruti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":0,"score":-3,"last_activity_date":1645433929,"creation_date":1645433792,"question_id":71203537,"body_markdown":"getting unknown source for the fetch call from db via JPA. Could it be a JPA cache exception?\r\n Below is the stack trace  : \r\n\r\n\r\norg.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:378), org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:255), org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:527), org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61), org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212), com.sun.proxy.$Proxy204.**findByMediaUrlAndStore(Unknown Source)**,","title":"Facing issue sometimes on fetching data from db","body":"<p>getting unknown source for the fetch call from db via JPA. Could it be a JPA cache exception?\nBelow is the stack trace  :</p>\n<p>org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:378), org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:255), org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:527), org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61), org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242), org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61), org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186), org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212), com.sun.proxy.$Proxy204.<strong>findByMediaUrlAndStore(Unknown Source)</strong>,</p>\n"},{"tags":["java","filesystems","outputstream","disk"],"comments":[{"owner":{"account_id":886807,"reputation":2755,"user_id":926064,"accept_rate":53,"display_name":"Luciano"},"score":0,"creation_date":1699018710,"post_id":71203570,"comment_id":136481459,"body_markdown":"I&#39;ve faced the same issue, and for now I am considering calling `sync` using JNI. My project is gonna be restricted to POSIX systems for that reason. Let me know if you ended up going through different ways.","body":"I&#39;ve faced the same issue, and for now I am considering calling <code>sync</code> using JNI. My project is gonna be restricted to POSIX systems for that reason. Let me know if you ended up going through different ways."}],"owner":{"account_id":2602268,"reputation":3383,"user_id":2254314,"accept_rate":61,"display_name":"JohnyTex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1645433901,"creation_date":1645433901,"question_id":71203570,"body_markdown":"How can I force a sync of the entire filesystem to disk in Java?\r\nIt seems I can only force sync single files using getFd() from file-streams.\r\n\r\nI can call sync with a shell, but how can I do it in Java?","title":"How can I force a sync of the entire filesystem to disk in Java?","body":"<p>How can I force a sync of the entire filesystem to disk in Java?\nIt seems I can only force sync single files using getFd() from file-streams.</p>\n<p>I can call sync with a shell, but how can I do it in Java?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":32034,"reputation":10711,"user_id":88396,"accept_rate":86,"display_name":"Pete"},"score":0,"creation_date":1291007058,"post_id":4300975,"comment_id":4669060,"body_markdown":"I&#39;m not sure I understand.  You have 1 class declaration, 4 variable declarations and 3 method declarations.  What&#39;s the question?","body":"I&#39;m not sure I understand.  You have 1 class declaration, 4 variable declarations and 3 method declarations.  What&#39;s the question?"},{"owner":{"account_id":32034,"reputation":10711,"user_id":88396,"accept_rate":86,"display_name":"Pete"},"score":0,"creation_date":1291007143,"post_id":4300975,"comment_id":4669069,"body_markdown":"Even if it is some kind of homework I don&#39;t see the problem.  He&#39;s asking us what the difference is and not for code to &quot;do something&quot;.","body":"Even if it is some kind of homework I don&#39;t see the problem.  He&#39;s asking us what the difference is and not for code to &quot;do something&quot;."},{"owner":{"account_id":24755,"reputation":10214,"user_id":63155,"accept_rate":79,"display_name":"Corey Sunwold"},"score":0,"creation_date":1291007410,"post_id":4300975,"comment_id":4669088,"body_markdown":"I think Mavin is looking for an explanation of static versus non-static, final versus non-final, and the difference between public and private methods and properties.","body":"I think Mavin is looking for an explanation of static versus non-static, final versus non-final, and the difference between public and private methods and properties."},{"owner":{"account_id":156522,"reputation":13969,"user_id":373861,"accept_rate":95,"display_name":"Favonius"},"score":0,"creation_date":1291007426,"post_id":4300975,"comment_id":4669090,"body_markdown":"There is no problem in asking homework questions. But tagging it as `homework` would help others also, as in how to answer and to what level explanation is required.","body":"There is no problem in asking homework questions. But tagging it as <code>homework</code> would help others also, as in how to answer and to what level explanation is required."},{"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"score":0,"creation_date":1291008529,"post_id":4300975,"comment_id":4669173,"body_markdown":"@Favonius Just FYI: there is a group of SO users that believe that the homework tag shouldn&#39;t exist and they&#39;ve been going around removing the homework tag from questions. They removed it from a question I tagged as homework, and when I asked them about it they weren&#39;t able to give much more explanation other than &quot;it&#39;s bad&quot; and they also linked to the &quot;no meta tags&quot; post (which doesn&#39;t even mention the homework tag, and is arguably talking about a different type of tag).","body":"@Favonius Just FYI: there is a group of SO users that believe that the homework tag shouldn&#39;t exist and they&#39;ve been going around removing the homework tag from questions. They removed it from a question I tagged as homework, and when I asked them about it they weren&#39;t able to give much more explanation other than &quot;it&#39;s bad&quot; and they also linked to the &quot;no meta tags&quot; post (which doesn&#39;t even mention the homework tag, and is arguably talking about a different type of tag)."}],"answers":[{"tags":[],"owner":{"account_id":216737,"reputation":2449,"user_id":472161,"accept_rate":59,"display_name":"Dominik Seibold"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291007244,"creation_date":1291007244,"answer_id":4301000,"question_id":4300975,"body_markdown":"Let&#39;s do your homework:\r\n\r\n    public final static int a;\r\n`a` is public, so it&#39;s accessible from everywhere. It&#39;s final, so its value can&#39;t be changed after its declaration. It&#39;s static, so it doesn&#39;t belong to instances of the `Hello`-class, but to the class itself.","title":"Basic Java Question, variable type &amp; Method type in java","body":"<p>Let's do your homework:</p>\n\n<pre><code>public final static int a;\n</code></pre>\n\n<p><code>a</code> is public, so it's accessible from everywhere. It's final, so its value can't be changed after its declaration. It's static, so it doesn't belong to instances of the <code>Hello</code>-class, but to the class itself.</p>\n"},{"tags":[],"owner":{"account_id":24755,"reputation":10214,"user_id":63155,"accept_rate":79,"display_name":"Corey Sunwold"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1291008007,"creation_date":1291007303,"answer_id":4301003,"question_id":4300975,"body_markdown":"    public final static int a;\r\n\r\nThis declares a constant property that is static.  That means it is not tied to any instance of the Hello class and is accessible both outside the Hello class and inside.  Since it is final you will not be able to modify this value and it will always be its default value of 0.\r\n\r\n    public final int a;\r\n\r\nSimilar to the one above, except it is tied to this instance of Hello.  \r\n\r\n    public int a;\r\n\r\nThis is a public property of this instance of Hello, modifiable both inside and outside the Hello class.  This is considered bad practice.\r\n\r\n    int a;\r\n\r\nA default level property of this instance of Hello.  Modifiable only inside this instance of Hello.  \r\n\r\n    static public void Method() {}\r\n\r\nA static (not tied to an instance) method within Hello class that is accessible both internally and externally.  It does not have access to things like:\r\n\r\n    public final int a;  \r\n    public int a;\r\n    int a;\r\n\r\nIt cannot access these because this method is not tied to this instance where as all of those values are.\r\n\r\n    public void Method() {}\r\n\r\nA public method of Hello class.  It is accessible both internally and externally.\r\n\r\n    private void Method() {}\r\n\r\nSimilar to the method above, except it is only accessible internally.","title":"Basic Java Question, variable type &amp; Method type in java","body":"<pre><code>public final static int a;\n</code></pre>\n\n<p>This declares a constant property that is static.  That means it is not tied to any instance of the Hello class and is accessible both outside the Hello class and inside.  Since it is final you will not be able to modify this value and it will always be its default value of 0.</p>\n\n<pre><code>public final int a;\n</code></pre>\n\n<p>Similar to the one above, except it is tied to this instance of Hello.  </p>\n\n<pre><code>public int a;\n</code></pre>\n\n<p>This is a public property of this instance of Hello, modifiable both inside and outside the Hello class.  This is considered bad practice.</p>\n\n<pre><code>int a;\n</code></pre>\n\n<p>A default level property of this instance of Hello.  Modifiable only inside this instance of Hello.  </p>\n\n<pre><code>static public void Method() {}\n</code></pre>\n\n<p>A static (not tied to an instance) method within Hello class that is accessible both internally and externally.  It does not have access to things like:</p>\n\n<pre><code>public final int a;  \npublic int a;\nint a;\n</code></pre>\n\n<p>It cannot access these because this method is not tied to this instance where as all of those values are.</p>\n\n<pre><code>public void Method() {}\n</code></pre>\n\n<p>A public method of Hello class.  It is accessible both internally and externally.</p>\n\n<pre><code>private void Method() {}\n</code></pre>\n\n<p>Similar to the method above, except it is only accessible internally.</p>\n"},{"tags":[],"owner":{"account_id":238570,"reputation":8889,"user_id":507546,"accept_rate":88,"display_name":"gigadot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291010547,"creation_date":1291010547,"answer_id":4301223,"question_id":4300975,"body_markdown":"Corey Sunwold&#39;s answer is very clear. I just want to add a few words if you don&#39;t already know. if `final` is used for object reference, it means you cannot change it to reference another object but the object itself is still mutable. For example\r\n\r\n    public final static List a = new ArrayList();\r\n\r\nThe variable `a` is set to reference an instance of `ArrayList`. You will not be able to set `a` to another `ArrayList` object but you can still add element to `a`.\r\n\r\n`final` keyword in Java does not mean constant and is not equivalent to `const` keyword in C++. It really does mean that variables (primitive), references (objects), methods or classes are final and cannot be further modified.","title":"Basic Java Question, variable type &amp; Method type in java","body":"<p>Corey Sunwold's answer is very clear. I just want to add a few words if you don't already know. if <code>final</code> is used for object reference, it means you cannot change it to reference another object but the object itself is still mutable. For example</p>\n\n<pre><code>public final static List a = new ArrayList();\n</code></pre>\n\n<p>The variable <code>a</code> is set to reference an instance of <code>ArrayList</code>. You will not be able to set <code>a</code> to another <code>ArrayList</code> object but you can still add element to <code>a</code>.</p>\n\n<p><code>final</code> keyword in Java does not mean constant and is not equivalent to <code>const</code> keyword in C++. It really does mean that variables (primitive), references (objects), methods or classes are final and cannot be further modified.</p>\n"},{"tags":[],"owner":{"account_id":9537059,"reputation":11,"user_id":7086874,"display_name":"KCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504504294,"creation_date":1504504294,"answer_id":46030989,"question_id":4300975,"body_markdown":"\r\n\r\n    public class Hello {\r\n        public final static int a;\r\n        public final int a;\r\n        public int a;\r\n        int a;\r\n    \r\n        static public void Method(){}\r\n        public void Method(){}\r\n        private void Method(){}\r\n    }\r\n\r\n**what is the difference between the declartion and Method above above??**\r\n&lt;br&gt;=&gt; Declarations are first 4 lines because you did not assign anything into it. If you assign with **=** (ex. int a = 3), then it is called as an assignment statement.\r\n&lt;br&gt;And last three lines are methods. They have format as : &lt;br&gt;access modifier(ex. public) return type(ex. void) method name(ex.Method) parameter( () ) body ( {} )\r\n\r\n&lt;br&gt; Difference between declaration and method is :&lt;br&gt;\r\n- declaration : You **declare** something with name that you will you, but you have not assigned anything into it yet. &lt;br&gt;\r\n- method : A **function** which executes the code inside the body. ","title":"Basic Java Question, variable type &amp; Method type in java","body":"<pre><code>public class Hello {\n    public final static int a;\n    public final int a;\n    public int a;\n    int a;\n\n    static public void Method(){}\n    public void Method(){}\n    private void Method(){}\n}\n</code></pre>\n\n<p><strong>what is the difference between the declartion and Method above above??</strong>\n<br>=> Declarations are first 4 lines because you did not assign anything into it. If you assign with <strong>=</strong> (ex. int a = 3), then it is called as an assignment statement.\n<br>And last three lines are methods. They have format as : <br>access modifier(ex. public) return type(ex. void) method name(ex.Method) parameter( () ) body ( {} )</p>\n\n<p><br> Difference between declaration and method is :<br>\n- declaration : You <strong>declare</strong> something with name that you will you, but you have not assigned anything into it yet. <br>\n- method : A <strong>function</strong> which executes the code inside the body. </p>\n"},{"tags":[],"owner":{"display_name":"user8668335"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506327504,"creation_date":1506327504,"answer_id":46400542,"question_id":4300975,"body_markdown":"    public final static int a;\r\nit does not belong to any instance and remains constant.\r\n\r\n    public final int a;\r\nIt is constant and cannot be changed throughout the program/Application\r\n\r\n    public int a;\r\nNormal declaration of variable, Can be changed at any point of time through the application/program.\r\n\r\n    int a;\r\nSame as public int a, the variables declared without a specifiers remains public by default. so, there will be no difference\r\n\r\n    static public void Method(){}\r\nThis method does not belong to any instance of a class.\r\n\r\n    public void Method(){}\r\nThis method can be accessed by any other class by extending, i.e. with the help of inheritance.\r\n\r\n    private void Method(){}\r\nThis method can be accessed only by the class where it belongs to. hence cannot be accessed by other class at any point.\r\n\r\nFor More about access specifiers [click here][1]\r\nFor More about Inheritance [click here][2]\r\n\r\n\r\n  [1]: http://java-answers.blogspot.in/2012/01/access-specifiers-in-java.html\r\n  [2]: https://beginnersbook.com/2013/03/inheritance-in-java/","title":"Basic Java Question, variable type &amp; Method type in java","body":"<pre><code>public final static int a;\n</code></pre>\n\n<p>it does not belong to any instance and remains constant.</p>\n\n<pre><code>public final int a;\n</code></pre>\n\n<p>It is constant and cannot be changed throughout the program/Application</p>\n\n<pre><code>public int a;\n</code></pre>\n\n<p>Normal declaration of variable, Can be changed at any point of time through the application/program.</p>\n\n<pre><code>int a;\n</code></pre>\n\n<p>Same as public int a, the variables declared without a specifiers remains public by default. so, there will be no difference</p>\n\n<pre><code>static public void Method(){}\n</code></pre>\n\n<p>This method does not belong to any instance of a class.</p>\n\n<pre><code>public void Method(){}\n</code></pre>\n\n<p>This method can be accessed by any other class by extending, i.e. with the help of inheritance.</p>\n\n<pre><code>private void Method(){}\n</code></pre>\n\n<p>This method can be accessed only by the class where it belongs to. hence cannot be accessed by other class at any point.</p>\n\n<p>For More about access specifiers <a href=\"http://java-answers.blogspot.in/2012/01/access-specifiers-in-java.html\" rel=\"nofollow noreferrer\">click here</a>\nFor More about Inheritance <a href=\"https://beginnersbook.com/2013/03/inheritance-in-java/\" rel=\"nofollow noreferrer\">click here</a></p>\n"},{"tags":[],"owner":{"account_id":11020013,"reputation":1,"user_id":8094614,"display_name":"S.H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513810184,"creation_date":1513808237,"answer_id":47915162,"question_id":4300975,"body_markdown":"Here two things are tricky, First:\r\n\r\n    public final static int a; \r\n\r\nActually this is static variable means (not tied to the instance) then its final so its mean value should be constant throughout the program and also public that&#39;s mean its accessible internally and externally.\r\n\r\nSecond: \r\n\r\n    static public void Method() {}\r\n\r\nSame with this method not ties to the instance and accessible internally and externally ","title":"Basic Java Question, variable type &amp; Method type in java","body":"<p>Here two things are tricky, First:</p>\n\n<pre><code>public final static int a; \n</code></pre>\n\n<p>Actually this is static variable means (not tied to the instance) then its final so its mean value should be constant throughout the program and also public that's mean its accessible internally and externally.</p>\n\n<p>Second: </p>\n\n<pre><code>static public void Method() {}\n</code></pre>\n\n<p>Same with this method not ties to the instance and accessible internally and externally </p>\n"}],"owner":{"account_id":676629,"reputation":3099,"user_id":519087,"accept_rate":38,"display_name":"Mavin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":4301003,"answer_count":6,"score":-1,"last_activity_date":1645433812,"creation_date":1291006763,"question_id":4300975,"body_markdown":"I have very very basic java question:\r\nFor the class below:\r\n\r\n\r\n    public class Hello {\r\n    \tpublic final static int a;\r\n    \tpublic final int a;\r\n        public int a;\r\n        int a;\r\n    \r\n        static public void Method(){}\r\n        public void Method(){}\r\n        private void Method(){}\r\n    }\r\n\r\nwhat is the difference between the declartion and Method above above??","title":"Basic Java Question, variable type &amp; Method type in java","body":"<p>I have very very basic java question:\nFor the class below:</p>\n\n<pre><code>public class Hello {\n    public final static int a;\n    public final int a;\n    public int a;\n    int a;\n\n    static public void Method(){}\n    public void Method(){}\n    private void Method(){}\n}\n</code></pre>\n\n<p>what is the difference between the declartion and Method above above??</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1645432947,"post_id":71200654,"comment_id":125860954,"body_markdown":"The eager loading is only taken into account when using `findById` as that uses `EntityManager.find`. The `findAll` uses a query and that bypasses the mapping and it thus won&#39;t eagerly load the collection. You can check the difference in the query by doing a `findAll` and `findById` the first will not have a join, the second will.","body":"The eager loading is only taken into account when using <code>findById</code> as that uses <code>EntityManager.find</code>. The <code>findAll</code> uses a query and that bypasses the mapping and it thus won&#39;t eagerly load the collection. You can check the difference in the query by doing a <code>findAll</code> and <code>findById</code> the first will not have a join, the second will."},{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1680613293,"post_id":71200654,"comment_id":133924972,"body_markdown":"@M.Deinum - a related follow up Q. Among Student and College which is the owning entity for the given mappings as in the Question.","body":"@M.Deinum - a related follow up Q. Among Student and College which is the owning entity for the given mappings as in the Question."},{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1680613742,"post_id":71200654,"comment_id":133925080,"body_markdown":"@M.Deinum - i would say Student is the owning side, but few articles quoted it other way so I have to double check.","body":"@M.Deinum - i would say Student is the owning side, but few articles quoted it other way so I have to double check."}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1645416950,"creation_date":1645416950,"answer_id":71201185,"question_id":71200654,"body_markdown":"Eager loading only defines **when** the related entities are fetched but not **how** the entities are fetched (i.e. whether they are fetched by a join SQL or select SQL one by one separately). \r\n\r\nThe default behavior is that it will load the entities that need to be eager fetched by the select SQL one by one. So it can cause N+1 query problem which is demonstrated by your cases.\r\n\r\nAfter you load the college list , the eager loading take effect which immediately load the students for each college by a select SQL one by one.","title":"Eager loading is triggering n+1 queries?","body":"<p>Eager loading only defines <strong>when</strong> the related entities are fetched but not <strong>how</strong> the entities are fetched (i.e. whether they are fetched by a join SQL or select SQL one by one separately).</p>\n<p>The default behavior is that it will load the entities that need to be eager fetched by the select SQL one by one. So it can cause N+1 query problem which is demonstrated by your cases.</p>\n<p>After you load the college list , the eager loading take effect which immediately load the students for each college by a select SQL one by one.</p>\n"}],"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71201185,"answer_count":1,"score":2,"last_activity_date":1645433664,"creation_date":1645411168,"question_id":71200654,"body_markdown":"This question is specific to n+1 problem when using eager loading. The issue I am seeing is, n+1 problem is happening when child entity is defined to load eagerly, is this expected. \r\n\r\nThe entity relationships are as follows. A student belongs to one college, and a college can have multiple students. So there is  ManyToOne relationship between Student --&gt; College, and a OneToMany relationship between College --&gt; Student.\r\n\r\nThe entities are as below.\r\n\r\n    @Entity\r\n    public class College {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate int collegeId;\r\n    \r\n    \tprivate String collegeName;\r\n    \r\n    \t@OneToMany(targetEntity = Student.class, mappedBy = &quot;college&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n        //as you can see students is loaded eagerly.\r\n    \tprivate List&lt;Student&gt; students;\r\n\r\nand\r\n\r\n    @Entity\r\n    public class Student {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate int studentId;\r\n    \r\n    \tprivate String studentName;\r\n    \r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;collegeId_fk&quot;)\r\n    \tprivate College college;\r\n\r\n\r\nNow when I run below code,   \r\n\r\n    collegeRepo.findAll().forEach( c -&gt; System.err.println(&quot;college wit students: &quot; + c.getStudents() ) );\r\n\r\nI see multiple queries are triggered:\r\n\r\n    2022-02-21 07:12:32.242 TRACE 19824 --- [           main] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]\r\n    Hibernate: \r\n        select\r\n            college0_.college_id as college_1_1_,\r\n            college0_.college_name as college_2_1_ \r\n        from\r\n            college college0_\r\n    2022-02-21 07:12:32.497 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_1_1_] : [INTEGER]) - [1]\r\n    2022-02-21 07:12:32.500 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_2_1_] : [VARCHAR]) - [college1]\r\n    2022-02-21 07:12:32.501 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_1_1_] : [INTEGER]) - [2]\r\n    2022-02-21 07:12:32.501 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_2_1_] : [VARCHAR]) - [college2]\r\n    2022-02-21 07:12:32.501 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_1_1_] : [INTEGER]) - [3]\r\n    2022-02-21 07:12:32.501 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_2_1_] : [VARCHAR]) - [college3]\r\n    2022-02-21 07:12:32.501 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_1_1_] : [INTEGER]) - [4]\r\n    2022-02-21 07:12:32.502 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_2_1_] : [VARCHAR]) - [college4]\r\n    Hibernate: \r\n        select\r\n            students0_.college_id_fk as college_3_12_0_,\r\n            students0_.student_id as student_1_12_0_,\r\n            students0_.student_id as student_1_12_1_,\r\n            students0_.college_id_fk as college_3_12_1_,\r\n            students0_.student_name as student_2_12_1_ \r\n        from\r\n            student students0_ \r\n        where\r\n            students0_.college_id_fk=?\r\n    2022-02-21 07:12:32.510 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]\r\n    Hibernate: \r\n        select\r\n            students0_.college_id_fk as college_3_12_0_,\r\n            students0_.student_id as student_1_12_0_,\r\n            students0_.student_id as student_1_12_1_,\r\n            students0_.college_id_fk as college_3_12_1_,\r\n            students0_.student_name as student_2_12_1_ \r\n        from\r\n            student students0_ \r\n        where\r\n            students0_.college_id_fk=?\r\n    2022-02-21 07:12:32.744 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [3]\r\n    Hibernate: \r\n        select\r\n            students0_.college_id_fk as college_3_12_0_,\r\n            students0_.student_id as student_1_12_0_,\r\n            students0_.student_id as student_1_12_1_,\r\n            students0_.college_id_fk as college_3_12_1_,\r\n            students0_.student_name as student_2_12_1_ \r\n        from\r\n            student students0_ \r\n        where\r\n            students0_.college_id_fk=?\r\n    2022-02-21 07:12:32.975 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [2]\r\n    2022-02-21 07:12:33.207 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_1_] : [INTEGER]) - [1]\r\n    2022-02-21 07:12:33.207 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_1_] : [INTEGER]) - [2]\r\n    2022-02-21 07:12:33.207 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_2_12_1_] : [VARCHAR]) - [student1]\r\n    2022-02-21 07:12:33.207 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_0_] : [INTEGER]) - [2]\r\n    2022-02-21 07:12:33.208 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_0_] : [INTEGER]) - [1]\r\n    2022-02-21 07:12:33.211 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_1_] : [INTEGER]) - [2]\r\n    2022-02-21 07:12:33.211 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_1_] : [INTEGER]) - [2]\r\n    2022-02-21 07:12:33.211 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_2_12_1_] : [VARCHAR]) - [student2]\r\n    2022-02-21 07:12:33.211 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_0_] : [INTEGER]) - [2]\r\n    2022-02-21 07:12:33.211 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_0_] : [INTEGER]) - [2]\r\n    2022-02-21 07:12:33.211 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_1_] : [INTEGER]) - [3]\r\n    2022-02-21 07:12:33.212 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_1_] : [INTEGER]) - [2]\r\n    2022-02-21 07:12:33.212 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_2_12_1_] : [VARCHAR]) - [student3]\r\n    2022-02-21 07:12:33.212 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_0_] : [INTEGER]) - [2]\r\n    2022-02-21 07:12:33.212 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_0_] : [INTEGER]) - [3]\r\n    2022-02-21 07:12:33.212 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_1_] : [INTEGER]) - [4]\r\n    2022-02-21 07:12:33.212 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_1_] : [INTEGER]) - [2]\r\n    2022-02-21 07:12:33.212 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_2_12_1_] : [VARCHAR]) - [student4]\r\n    2022-02-21 07:12:33.212 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_0_] : [INTEGER]) - [2]\r\n    2022-02-21 07:12:33.212 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_0_] : [INTEGER]) - [4]\r\n    2022-02-21 07:12:33.213 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_1_] : [INTEGER]) - [5]\r\n    2022-02-21 07:12:33.213 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_1_] : [INTEGER]) - [2]\r\n    2022-02-21 07:12:33.213 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_2_12_1_] : [VARCHAR]) - [student5]\r\n    2022-02-21 07:12:33.213 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_0_] : [INTEGER]) - [2]\r\n    2022-02-21 07:12:33.213 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_0_] : [INTEGER]) - [5]\r\n    2022-02-21 07:12:33.213 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_1_] : [INTEGER]) - [6]\r\n    2022-02-21 07:12:33.213 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_1_] : [INTEGER]) - [2]\r\n    2022-02-21 07:12:33.213 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_2_12_1_] : [VARCHAR]) - [student6]\r\n    2022-02-21 07:12:33.213 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_0_] : [INTEGER]) - [2]\r\n    2022-02-21 07:12:33.213 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_0_] : [INTEGER]) - [6]\r\n    Hibernate: \r\n        select\r\n            students0_.college_id_fk as college_3_12_0_,\r\n            students0_.student_id as student_1_12_0_,\r\n            students0_.student_id as student_1_12_1_,\r\n            students0_.college_id_fk as college_3_12_1_,\r\n            students0_.student_name as student_2_12_1_ \r\n        from\r\n            student students0_ \r\n        where\r\n            students0_.college_id_fk=?\r\n    2022-02-21 07:12:33.214 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [1]\r\n    2022-02-21 07:12:33.449 TRACE 19824 --- [           main] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]\r\n    college wit students: []\r\n    2022-02-21 07:12:33.450 TRACE 19824 --- [           main] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.demo.MyRunner.run]\r\n    2022-02-21 07:12:33.450 DEBUG 19824 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit\r\n    2022-02-21 07:12:33.450 DEBUG 19824 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(8781131&lt;open&gt;)]\r\n    college wit students: [Student [studentId=1, studentName=student1, college=College [collegeId=2, collegeName=college2]], Student [studentId=2, studentName=student2, college=College [collegeId=2, collegeName=college2]], Student [studentId=3, studentName=student3, college=College [collegeId=2, collegeName=college2]], Student [studentId=4, studentName=student4, college=College [collegeId=2, collegeName=college2]], Student [studentId=5, studentName=student5, college=College [collegeId=2, collegeName=college2]], Student [studentId=6, studentName=student6, college=College [collegeId=2, collegeName=college2]]]\r\n    college wit students: []\r\n    college wit students: []\r\n    2022-02-21 07:12:33.919 DEBUG 19824 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(8781131&lt;open&gt;)] after transaction\r\n\r\nI am aware that using `JOIN FETCH` or `NamedEntityGraph` this can be solved.   \r\nHowever, I am more keen to understand if eager loading also (not just lazy loading) creates n+1 queries.\r\n\r\n\r\n ","title":"Eager loading is triggering n+1 queries?","body":"<p>This question is specific to n+1 problem when using eager loading. The issue I am seeing is, n+1 problem is happening when child entity is defined to load eagerly, is this expected.</p>\n<p>The entity relationships are as follows. A student belongs to one college, and a college can have multiple students. So there is  ManyToOne relationship between Student --&gt; College, and a OneToMany relationship between College --&gt; Student.</p>\n<p>The entities are as below.</p>\n<pre><code>@Entity\npublic class College {\n\n    @Id\n    @GeneratedValue\n    private int collegeId;\n\n    private String collegeName;\n\n    @OneToMany(targetEntity = Student.class, mappedBy = &quot;college&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    //as you can see students is loaded eagerly.\n    private List&lt;Student&gt; students;\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\npublic class Student {\n\n    @Id\n    @GeneratedValue\n    private int studentId;\n\n    private String studentName;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;collegeId_fk&quot;)\n    private College college;\n</code></pre>\n<p>Now when I run below code,</p>\n<pre><code>collegeRepo.findAll().forEach( c -&gt; System.err.println(&quot;college wit students: &quot; + c.getStudents() ) );\n</code></pre>\n<p>I see multiple queries are triggered:</p>\n<pre><code>2022-02-21 07:12:32.242 TRACE 19824 --- [           main] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]\nHibernate: \n    select\n        college0_.college_id as college_1_1_,\n        college0_.college_name as college_2_1_ \n    from\n        college college0_\n2022-02-21 07:12:32.497 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_1_1_] : [INTEGER]) - [1]\n2022-02-21 07:12:32.500 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_2_1_] : [VARCHAR]) - [college1]\n2022-02-21 07:12:32.501 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_1_1_] : [INTEGER]) - [2]\n2022-02-21 07:12:32.501 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_2_1_] : [VARCHAR]) - [college2]\n2022-02-21 07:12:32.501 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_1_1_] : [INTEGER]) - [3]\n2022-02-21 07:12:32.501 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_2_1_] : [VARCHAR]) - [college3]\n2022-02-21 07:12:32.501 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_1_1_] : [INTEGER]) - [4]\n2022-02-21 07:12:32.502 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_2_1_] : [VARCHAR]) - [college4]\nHibernate: \n    select\n        students0_.college_id_fk as college_3_12_0_,\n        students0_.student_id as student_1_12_0_,\n        students0_.student_id as student_1_12_1_,\n        students0_.college_id_fk as college_3_12_1_,\n        students0_.student_name as student_2_12_1_ \n    from\n        student students0_ \n    where\n        students0_.college_id_fk=?\n2022-02-21 07:12:32.510 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]\nHibernate: \n    select\n        students0_.college_id_fk as college_3_12_0_,\n        students0_.student_id as student_1_12_0_,\n        students0_.student_id as student_1_12_1_,\n        students0_.college_id_fk as college_3_12_1_,\n        students0_.student_name as student_2_12_1_ \n    from\n        student students0_ \n    where\n        students0_.college_id_fk=?\n2022-02-21 07:12:32.744 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [3]\nHibernate: \n    select\n        students0_.college_id_fk as college_3_12_0_,\n        students0_.student_id as student_1_12_0_,\n        students0_.student_id as student_1_12_1_,\n        students0_.college_id_fk as college_3_12_1_,\n        students0_.student_name as student_2_12_1_ \n    from\n        student students0_ \n    where\n        students0_.college_id_fk=?\n2022-02-21 07:12:32.975 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [2]\n2022-02-21 07:12:33.207 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_1_] : [INTEGER]) - [1]\n2022-02-21 07:12:33.207 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_1_] : [INTEGER]) - [2]\n2022-02-21 07:12:33.207 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_2_12_1_] : [VARCHAR]) - [student1]\n2022-02-21 07:12:33.207 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_0_] : [INTEGER]) - [2]\n2022-02-21 07:12:33.208 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_0_] : [INTEGER]) - [1]\n2022-02-21 07:12:33.211 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_1_] : [INTEGER]) - [2]\n2022-02-21 07:12:33.211 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_1_] : [INTEGER]) - [2]\n2022-02-21 07:12:33.211 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_2_12_1_] : [VARCHAR]) - [student2]\n2022-02-21 07:12:33.211 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_0_] : [INTEGER]) - [2]\n2022-02-21 07:12:33.211 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_0_] : [INTEGER]) - [2]\n2022-02-21 07:12:33.211 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_1_] : [INTEGER]) - [3]\n2022-02-21 07:12:33.212 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_1_] : [INTEGER]) - [2]\n2022-02-21 07:12:33.212 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_2_12_1_] : [VARCHAR]) - [student3]\n2022-02-21 07:12:33.212 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_0_] : [INTEGER]) - [2]\n2022-02-21 07:12:33.212 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_0_] : [INTEGER]) - [3]\n2022-02-21 07:12:33.212 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_1_] : [INTEGER]) - [4]\n2022-02-21 07:12:33.212 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_1_] : [INTEGER]) - [2]\n2022-02-21 07:12:33.212 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_2_12_1_] : [VARCHAR]) - [student4]\n2022-02-21 07:12:33.212 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_0_] : [INTEGER]) - [2]\n2022-02-21 07:12:33.212 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_0_] : [INTEGER]) - [4]\n2022-02-21 07:12:33.213 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_1_] : [INTEGER]) - [5]\n2022-02-21 07:12:33.213 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_1_] : [INTEGER]) - [2]\n2022-02-21 07:12:33.213 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_2_12_1_] : [VARCHAR]) - [student5]\n2022-02-21 07:12:33.213 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_0_] : [INTEGER]) - [2]\n2022-02-21 07:12:33.213 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_0_] : [INTEGER]) - [5]\n2022-02-21 07:12:33.213 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_1_] : [INTEGER]) - [6]\n2022-02-21 07:12:33.213 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_1_] : [INTEGER]) - [2]\n2022-02-21 07:12:33.213 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_2_12_1_] : [VARCHAR]) - [student6]\n2022-02-21 07:12:33.213 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([college_3_12_0_] : [INTEGER]) - [2]\n2022-02-21 07:12:33.213 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicExtractor   : extracted value ([student_1_12_0_] : [INTEGER]) - [6]\nHibernate: \n    select\n        students0_.college_id_fk as college_3_12_0_,\n        students0_.student_id as student_1_12_0_,\n        students0_.student_id as student_1_12_1_,\n        students0_.college_id_fk as college_3_12_1_,\n        students0_.student_name as student_2_12_1_ \n    from\n        student students0_ \n    where\n        students0_.college_id_fk=?\n2022-02-21 07:12:33.214 TRACE 19824 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [1]\n2022-02-21 07:12:33.449 TRACE 19824 --- [           main] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]\ncollege wit students: []\n2022-02-21 07:12:33.450 TRACE 19824 --- [           main] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.demo.MyRunner.run]\n2022-02-21 07:12:33.450 DEBUG 19824 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit\n2022-02-21 07:12:33.450 DEBUG 19824 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(8781131&lt;open&gt;)]\ncollege wit students: [Student [studentId=1, studentName=student1, college=College [collegeId=2, collegeName=college2]], Student [studentId=2, studentName=student2, college=College [collegeId=2, collegeName=college2]], Student [studentId=3, studentName=student3, college=College [collegeId=2, collegeName=college2]], Student [studentId=4, studentName=student4, college=College [collegeId=2, collegeName=college2]], Student [studentId=5, studentName=student5, college=College [collegeId=2, collegeName=college2]], Student [studentId=6, studentName=student6, college=College [collegeId=2, collegeName=college2]]]\ncollege wit students: []\ncollege wit students: []\n2022-02-21 07:12:33.919 DEBUG 19824 --- [           main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(8781131&lt;open&gt;)] after transaction\n</code></pre>\n<p>I am aware that using <code>JOIN FETCH</code> or <code>NamedEntityGraph</code> this can be solved.<br />\nHowever, I am more keen to understand if eager loading also (not just lazy loading) creates n+1 queries.</p>\n"},{"tags":["java","jvm","out-of-memory","apache-flink"],"owner":{"account_id":7909307,"reputation":409,"user_id":5973816,"display_name":"Poison"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":900,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1645433629,"creation_date":1645433282,"question_id":71203437,"body_markdown":"Why does this setting default to 0 bytes? In our application, there are dependencies that use direct memory, but we didn&#39;t know it before, and then triggered `java.lang.OutOfMemoryError: Direct buffer memory`, so we found that it was caused by insufficient direct memory. Under the current design, if the default settings are used, does it mean that the application can still use the direct memory, but the direct memory pre-allocated to the framework and the network is preempted? Because they share the `-XX:MaxDirectMemorySize` setting?\r\n\r\nReference: &lt;br /&gt;\r\n[Configuration | Apache Flink](https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/config/#taskmanager-memory-task-off-heap-size)&lt;br /&gt;\r\n[Set up TaskManager Memory | Apache Flink](https://nightlies.apache.org/flink/flink-docs-master/docs/deployment/memory/mem_setup_tm/)\r\n\r\nSupplementary question: After `java.lang.OutOfMemoryError: Direct buffer memory` occurs, will the previously allocated direct memory be released? Will previously held file descriptors be released?\r\n\r\nWe found that physical memory will be exhausted after many times `java.lang.OutOfMemoryError: Direct buffer memory`, and sometimes file descriptors will also be exhausted, so I want to know the answer to the above question.","title":"Why does taskmanager.memory.task.off-heap.size default to 0 bytes in Flink?","body":"<p>Why does this setting default to 0 bytes? In our application, there are dependencies that use direct memory, but we didn't know it before, and then triggered <code>java.lang.OutOfMemoryError: Direct buffer memory</code>, so we found that it was caused by insufficient direct memory. Under the current design, if the default settings are used, does it mean that the application can still use the direct memory, but the direct memory pre-allocated to the framework and the network is preempted? Because they share the <code>-XX:MaxDirectMemorySize</code> setting?</p>\n<p>Reference: <br />\n<a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/config/#taskmanager-memory-task-off-heap-size\" rel=\"nofollow noreferrer\">Configuration | Apache Flink</a><br />\n<a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/deployment/memory/mem_setup_tm/\" rel=\"nofollow noreferrer\">Set up TaskManager Memory | Apache Flink</a></p>\n<p>Supplementary question: After <code>java.lang.OutOfMemoryError: Direct buffer memory</code> occurs, will the previously allocated direct memory be released? Will previously held file descriptors be released?</p>\n<p>We found that physical memory will be exhausted after many times <code>java.lang.OutOfMemoryError: Direct buffer memory</code>, and sometimes file descriptors will also be exhausted, so I want to know the answer to the above question.</p>\n"},{"tags":["java","eclipse-jdt"],"owner":{"account_id":18808933,"reputation":11,"user_id":13717557,"display_name":"wenqiang liu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645433535,"creation_date":1591755223,"question_id":62294749,"body_markdown":"For example, the code I want to edit is as follows：\r\n\r\n```\r\npublic class demo {\r\n}\r\n/***/\r\n```\r\n\r\nThe modified code I want is as follows\r\n\r\n```\r\npublic class demo {\r\n}\r\n/**default*/\r\n```\r\n\r\nI tried to use `ASTParser` to add that Javadoc：\r\n\r\n\tASTParser astParser = ASTParser.newParser(AST.JLS3);\r\n\tastParser.setKind(ASTParser.K_COMPILATION_UNIT);\r\n\tastParser.setSource(copy);\r\n\tastParser.setResolveBindings(true);\r\n\tastParser.setBindingsRecovery(true);\r\n\tastParser.setStatementsRecovery(true);\r\n\tCompilationUnit unit1 = (CompilationUnit) astParser.createAST(null);\r\n\tunit1.recordModifications();\r\n    AST ast = unit1.getAST();\r\n\tString locations = &quot;default&quot;;\r\n\tTagElement element = ast.newTagElement();\r\n\telement.setTagName(locations);\r\n\tfor (Object object : unit1.getCommentList()) {\r\n\t\tif (object instanceof Javadoc) {\r\n\t\t\tJavadoc doc = (Javadoc) object;\r\n\t\t\ttry {\r\n\t\t\t\tdoc.tags().set(0, element);\r\n\t\t\t\tbreak;\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tlogger.error(e.getMessage());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tDocument document = new Document(copy.getBuffer().getContents());\r\n\tTextEdit edits = astRoot.rewrite(document, copy.getJavaProject().getOptions(true));\r\n\tedits.apply(document);\r\n\tString javaSource = document.get();\r\n\r\nBut this `javaSource` cannot be applied.\r\n\r\nWhat should I do?","title":"How to use JDT to programmatically edit global Javadoc？","body":"<p>For example, the code I want to edit is as follows：</p>\n\n<pre><code>public class demo {\n}\n/***/\n</code></pre>\n\n<p>The modified code I want is as follows</p>\n\n<pre><code>public class demo {\n}\n/**default*/\n</code></pre>\n\n<p>I tried to use <code>ASTParser</code> to add that Javadoc：</p>\n\n<pre><code>ASTParser astParser = ASTParser.newParser(AST.JLS3);\nastParser.setKind(ASTParser.K_COMPILATION_UNIT);\nastParser.setSource(copy);\nastParser.setResolveBindings(true);\nastParser.setBindingsRecovery(true);\nastParser.setStatementsRecovery(true);\nCompilationUnit unit1 = (CompilationUnit) astParser.createAST(null);\nunit1.recordModifications();\nAST ast = unit1.getAST();\nString locations = \"default\";\nTagElement element = ast.newTagElement();\nelement.setTagName(locations);\nfor (Object object : unit1.getCommentList()) {\n    if (object instanceof Javadoc) {\n        Javadoc doc = (Javadoc) object;\n        try {\n            doc.tags().set(0, element);\n            break;\n        } catch (Exception e) {\n            logger.error(e.getMessage());\n        }\n    }\n}\nDocument document = new Document(copy.getBuffer().getContents());\nTextEdit edits = astRoot.rewrite(document, copy.getJavaProject().getOptions(true));\nedits.apply(document);\nString javaSource = document.get();\n</code></pre>\n\n<p>But this <code>javaSource</code> cannot be applied.</p>\n\n<p>What should I do?</p>\n"},{"tags":["java","unit-testing","mockito","junit5"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1645186412,"post_id":71173262,"comment_id":125810270,"body_markdown":"Please can you format your code? It is nearly impossible to read.","body":"Please can you format your code? It is nearly impossible to read."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1645186495,"post_id":71173262,"comment_id":125810309,"body_markdown":"Is there more than one EmailMessagingException class, and you&#39;re importing the wrong one?","body":"Is there more than one EmailMessagingException class, and you&#39;re importing the wrong one?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1645333128,"post_id":71173262,"comment_id":125841088,"body_markdown":"Your code is very unclear, and I can&#39;t tell for sure which methods belonmg to which classes, but `sesClient.sendEmail(request)` doesn&#39;t appear to throw an `EmailMessagingException`. That&#39;s thrown from `sendEmail(@NonNull final AmazonSimpleEmailService sesClient...`.","body":"Your code is very unclear, and I can&#39;t tell for sure which methods belonmg to which classes, but <code>sesClient.sendEmail(request)</code> doesn&#39;t appear to throw an <code>EmailMessagingException</code>. That&#39;s thrown from <code>sendEmail(@NonNull final AmazonSimpleEmailService sesClient...</code>."},{"owner":{"account_id":11440552,"reputation":25,"user_id":8386305,"display_name":"Ayush Chhangani"},"score":0,"creation_date":1645433891,"post_id":71173262,"comment_id":125861331,"body_markdown":"@AndyTurner I have edited the code.","body":"@AndyTurner I have edited the code."},{"owner":{"account_id":11440552,"reputation":25,"user_id":8386305,"display_name":"Ayush Chhangani"},"score":0,"creation_date":1645434159,"post_id":71173262,"comment_id":125861435,"body_markdown":"@tgdavies I believe it throws exception if you look closely at method signature.","body":"@tgdavies I believe it throws exception if you look closely at method signature."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645437034,"post_id":71173262,"comment_id":125862467,"body_markdown":"No, it doesn&#39;t throw any checked exceptions: https://docs.amazonaws.cn/AWSJavaSDK/latest/javadoc/com/amazonaws/services/simpleemail/AmazonSimpleEmailService.html#sendEmail-com.amazonaws.services.simpleemail.model.SendEmailRequest-","body":"No, it doesn&#39;t throw any checked exceptions: <a href=\"https://docs.amazonaws.cn/AWSJavaSDK/latest/javadoc/com/amazonaws/services/simpleemail/AmazonSimpleEmailService.html#sendEmail-com.amazonaws.services.simpleemail.model.SendEmailRequest-\" rel=\"nofollow noreferrer\">docs.amazonaws.cn/AWSJavaSDK/latest/javadoc/com/amazonaws/&hellip;</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645437261,"post_id":71173262,"comment_id":125862546,"body_markdown":"It looks as though `emailUtil` is a mock, so why do you even need a mock of `AmazonSimpleEmailService`?","body":"It looks as though <code>emailUtil</code> is a mock, so why do you even need a mock of <code>AmazonSimpleEmailService</code>?"},{"owner":{"account_id":11440552,"reputation":25,"user_id":8386305,"display_name":"Ayush Chhangani"},"score":0,"creation_date":1646076219,"post_id":71173262,"comment_id":126030584,"body_markdown":"Fixed it, seems instead of this  when(sesClient.sendEmail(Mockito.any())).thenThrow(EmailMessagingException.class); \nit should be when(emailUtil.sendEmail(Mockito.any())).thenThrow(EmailMessagingException.class);","body":"Fixed it, seems instead of this  when(sesClient.sendEmail(Mockito.any())).thenThrow(EmailMess&zwnj;&#8203;agingException.class&zwnj;&#8203;);  it should be when(emailUtil.sendEmail(Mockito.any())).thenThrow(EmailMess&zwnj;&#8203;agingException.class&zwnj;&#8203;);"}],"owner":{"account_id":11440552,"reputation":25,"user_id":8386305,"display_name":"Ayush Chhangani"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645433524,"creation_date":1645186198,"question_id":71173262,"body_markdown":"need ur help.\r\n\r\nWhen I am writing a UT, Where my main function is something like this:\r\n```\r\npublic String handleRequest(.......){\r\ntry {\r\n.....\r\n......\r\nxyz.sendEmail(sesClient, emailSender, emailRecepient, mailSubject, mailBody);\r\n.....\r\n.....\r\ncatch (EmailMessagingException de) {\r\n.......\r\n}\r\n}\r\n```\r\n```    \r\npublic  void sendEmail(@NonNull final AmazonSimpleEmailService sesClient, @NonNull String emailSender,\r\n    @NonNull String emailRecepient, @NonNull String subject, @NonNull String body) throws EmailMessagingException{\r\n    try {\r\n        SendEmailRequest request = new SendEmailRequest()\r\n                .withDestination(\r\n    new Destination().withToAddresses(emailRecepient)) .withMessage(new Message()\r\n.withBody(new Body()\r\n.withText(new Content()\r\n.withCharset(&quot;UTF-8&quot;).withData(body)))\r\n.withSubject(new Content()\r\n.withCharset(&quot;UTF-8&quot;).withData(subject)))\r\n.withSource(emailSender);\r\nsesClient.sendEmail(request); } catch (Exception ex) { System.out.println(&quot;The email was not sent. Error message: &quot;\r\n    ex.getMessage()); throw new EmailMessagingException(&quot;Error when sending email via ses&quot;, ex); } }\r\n```\r\n\r\nMy UT looks like this:\r\n\r\n```\r\npublic void testHandleRequestForEmailMessagingException()throws Exception{ \r\nwhen(sesClient.sendEmail(Mockito.any())).thenThrow(EmailMessagingException.class); \r\nassertThrows(RuntimeException.class, ()-&gt;xyz.handleRequest(abc, context)); \r\n        ...... \r\n        ..... \r\nverify(emailUtil).sendEmail(Mockito.any(), Mockito.any(), Mockito.any(), Mockito.any(), Mockito.any());\r\n }\r\n```\r\n\r\nNow, when running this UT, I get error\r\n\r\nChecked exception is invalid for this method! Invalid: EmailMessagingException\r\nI wrote another UT which tests similar other exception from a method call in same main method.  I am not sure what I am doing wrong here.","title":"Getting Checked exception is invalid for this method! Invalid error in Mockito Unit tests","body":"<p>need ur help.</p>\n<p>When I am writing a UT, Where my main function is something like this:</p>\n<pre><code>public String handleRequest(.......){\ntry {\n.....\n......\nxyz.sendEmail(sesClient, emailSender, emailRecepient, mailSubject, mailBody);\n.....\n.....\ncatch (EmailMessagingException de) {\n.......\n}\n}\n</code></pre>\n<pre><code>public  void sendEmail(@NonNull final AmazonSimpleEmailService sesClient, @NonNull String emailSender,\n    @NonNull String emailRecepient, @NonNull String subject, @NonNull String body) throws EmailMessagingException{\n    try {\n        SendEmailRequest request = new SendEmailRequest()\n                .withDestination(\n    new Destination().withToAddresses(emailRecepient)) .withMessage(new Message()\n.withBody(new Body()\n.withText(new Content()\n.withCharset(&quot;UTF-8&quot;).withData(body)))\n.withSubject(new Content()\n.withCharset(&quot;UTF-8&quot;).withData(subject)))\n.withSource(emailSender);\nsesClient.sendEmail(request); } catch (Exception ex) { System.out.println(&quot;The email was not sent. Error message: &quot;\n    ex.getMessage()); throw new EmailMessagingException(&quot;Error when sending email via ses&quot;, ex); } }\n</code></pre>\n<p>My UT looks like this:</p>\n<pre><code>public void testHandleRequestForEmailMessagingException()throws Exception{ \nwhen(sesClient.sendEmail(Mockito.any())).thenThrow(EmailMessagingException.class); \nassertThrows(RuntimeException.class, ()-&gt;xyz.handleRequest(abc, context)); \n        ...... \n        ..... \nverify(emailUtil).sendEmail(Mockito.any(), Mockito.any(), Mockito.any(), Mockito.any(), Mockito.any());\n }\n</code></pre>\n<p>Now, when running this UT, I get error</p>\n<p>Checked exception is invalid for this method! Invalid: EmailMessagingException\nI wrote another UT which tests similar other exception from a method call in same main method.  I am not sure what I am doing wrong here.</p>\n"},{"tags":["java","log4j","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1645378744,"post_id":71196533,"comment_id":125850229,"body_markdown":"Can you explain how did you do it in Log4j 1.x? Log4j 2.x supports all the methods available in Log4j to classify messages and more.","body":"Can you explain how did you do it in Log4j 1.x? Log4j 2.x supports all the methods available in Log4j to classify messages and more."},{"owner":{"account_id":5133995,"reputation":173,"user_id":4113317,"display_name":"Hrushi"},"score":0,"creation_date":1645379058,"post_id":71196533,"comment_id":125850313,"body_markdown":"log4j.logger.BusinessFunction=trace,OP\nlog4j.logger.Connection=trace,CONN\nlog4j.appender.OP=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.OP.File =./logs/performance/Publication/PUB.log\nlog4j.appender.OP.layout=org.apache.log4j.PatternLayout\nlog4j.appender.OP.layout.ConversionPattern=%m, %d{yyyy-MM-dd HH:mm:ss,SSS}, %C, %L, %M, %t%n\nlog4j.appender.CONN=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.CONN.File =./logs/performance/Connection/CONN.log\nlog4j.appender.CONN.layout.ConversionPattern=%m, %d{yyyy-MM-dd HH:mm:ss,SSS}, %C, %L, %M, %t%n","body":"log4j.logger.BusinessFunction=trace,OP log4j.logger.Connection=trace,CONN log4j.appender.OP=org.apache.log4j.DailyRollingFileAppender log4j.appender.OP.File =./logs/performance/Publication/PUB.log log4j.appender.OP.layout=org.apache.log4j.PatternLayout log4j.appender.OP.layout.ConversionPattern=%m, %d{yyyy-MM-dd HH:mm:ss,SSS}, %C, %L, %M, %t%n log4j.appender.CONN=org.apache.log4j.DailyRollingFileAppende&zwnj;&#8203;r log4j.appender.CONN.File =./logs/performance/Connection/CONN.log log4j.appender.CONN.layout.ConversionPattern=%m, %d{yyyy-MM-dd HH:mm:ss,SSS}, %C, %L, %M, %t%n"}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645379528,"creation_date":1645379528,"answer_id":71197141,"question_id":71196533,"body_markdown":"In Log4j 1.x you attached each appender to a different logger. In Log4j 2.x you just need to do the same:\r\n\r\n```\r\nlogger.1.name = BusinessFunction\r\nlogger.1.level = TRACE\r\nlogger.1.appenderRef.1.ref = LOG1FILE1\r\n\r\nlogger.2.name = Connection\r\nlogger.2.level = TRACE\r\nlogger.2.appenderRef.1.ref = LOGFILE\r\n```\r\n\r\nYou should also consider attaching the root logger to a file.","title":"How to handle more than two appenders logging separately","body":"<p>In Log4j 1.x you attached each appender to a different logger. In Log4j 2.x you just need to do the same:</p>\n<pre><code>logger.1.name = BusinessFunction\nlogger.1.level = TRACE\nlogger.1.appenderRef.1.ref = LOG1FILE1\n\nlogger.2.name = Connection\nlogger.2.level = TRACE\nlogger.2.appenderRef.1.ref = LOGFILE\n</code></pre>\n<p>You should also consider attaching the root logger to a file.</p>\n"}],"owner":{"account_id":5133995,"reputation":173,"user_id":4113317,"display_name":"Hrushi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71197141,"answer_count":1,"score":0,"last_activity_date":1645433317,"creation_date":1645375480,"question_id":71196533,"body_markdown":"We are moving from Log4j1 to log4j2. I am able to create multiple files and added logging in those files like below: \r\n\r\n    name=PropertiesConfig\r\n    appenders = file1, file2\r\n    \r\n    appender.file1.type = File\r\n    appender.file1.name = LOG1FILE1\r\n    appender.file1.fileName= ./logs/operation.log\r\n    appender.file1.layout.type=PatternLayout\r\n    appender.file1.layout.pattern= %-d{yyyy MMM dd HH:mm:ss:SSS} GMT %-d{Z} %-5p[%t] %m%n\r\n    \r\n    appender.file2.type = File\r\n    appender.file2.name = LOGFILE\r\n    appender.file2.fileName= ./logs/Connection.log\r\n    appender.file2.layout.type=PatternLayout\r\n    appender.file2.layout.pattern= %-d{yyyy MMM dd HH:mm:ss:SSS} GMT %-d{Z} %-5p[%t] %m%n\r\n    rootLogger.level = info\r\n    rootLogger.additivity = false\r\n    rootLogger.appenderRefs = logfile\r\n    rootLogger.appenderRef.logfile.ref = LOGFILE\r\n    \r\n    rootLogger.appenderRefs = LOG1FILE1\r\n    rootLogger.appenderRef.LOG1FILE1.ref = LOG1FILE1\r\n\r\nI need to understand, how I can do logging in one particular file for a particular type of appender. I was able to do this in log4j1 earlier. Let&#39;s consider I have two appenders one is for Connection and another one is for Operation, so when instantiating the connection, write logs in Connection.log file whereas when operation is performing the logging happens in operation.log file. So same thing I wanted to handle in log4j2.\r\n\r\n","title":"How to handle more than two appenders logging separately","body":"<p>We are moving from Log4j1 to log4j2. I am able to create multiple files and added logging in those files like below:</p>\n<pre><code>name=PropertiesConfig\nappenders = file1, file2\n\nappender.file1.type = File\nappender.file1.name = LOG1FILE1\nappender.file1.fileName= ./logs/operation.log\nappender.file1.layout.type=PatternLayout\nappender.file1.layout.pattern= %-d{yyyy MMM dd HH:mm:ss:SSS} GMT %-d{Z} %-5p[%t] %m%n\n\nappender.file2.type = File\nappender.file2.name = LOGFILE\nappender.file2.fileName= ./logs/Connection.log\nappender.file2.layout.type=PatternLayout\nappender.file2.layout.pattern= %-d{yyyy MMM dd HH:mm:ss:SSS} GMT %-d{Z} %-5p[%t] %m%n\nrootLogger.level = info\nrootLogger.additivity = false\nrootLogger.appenderRefs = logfile\nrootLogger.appenderRef.logfile.ref = LOGFILE\n\nrootLogger.appenderRefs = LOG1FILE1\nrootLogger.appenderRef.LOG1FILE1.ref = LOG1FILE1\n</code></pre>\n<p>I need to understand, how I can do logging in one particular file for a particular type of appender. I was able to do this in log4j1 earlier. Let's consider I have two appenders one is for Connection and another one is for Operation, so when instantiating the connection, write logs in Connection.log file whereas when operation is performing the logging happens in operation.log file. So same thing I wanted to handle in log4j2.</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1645445108,"post_id":71203443,"comment_id":125865462,"body_markdown":"do you have a PDF where that happens? Maybe a square annotation with an invisible border. See the AddAnnotations.java example. However I noticed that the text appears only when the mouse is at the edge or at the speech bubble.","body":"do you have a PDF where that happens? Maybe a square annotation with an invisible border. See the AddAnnotations.java example. However I noticed that the text appears only when the mouse is at the edge or at the speech bubble."},{"owner":{"account_id":24326601,"reputation":11,"user_id":18266073,"display_name":"Bernhard"},"score":0,"creation_date":1645459414,"post_id":71203443,"comment_id":125871318,"body_markdown":"Great, I&#39;ll have a look. This is really about making the file accessible so a screenreader has to be able to pick up the text annotated to the image.","body":"Great, I&#39;ll have a look. This is really about making the file accessible so a screenreader has to be able to pick up the text annotated to the image."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1645459533,"post_id":71203443,"comment_id":125871367,"body_markdown":"Also please mention which PDF viewer you use. There is very little in the PDF specification on such visual extras, so don&#39;t count on tool tips available on arbitrary viewers. If you want accessibility, you should focus on tagging, not on tool tips.","body":"Also please mention which PDF viewer you use. There is very little in the PDF specification on such visual extras, so don&#39;t count on tool tips available on arbitrary viewers. If you want accessibility, you should focus on tagging, not on tool tips."},{"owner":{"account_id":24326601,"reputation":11,"user_id":18266073,"display_name":"Bernhard"},"score":0,"creation_date":1645459802,"post_id":71203443,"comment_id":125871472,"body_markdown":"I&#39;m using Acrobat Reader. Ok, good point. Maybe I try another reader or a screenreader like JAWS.\nI can have a look if there is a good example on tagging on the PDFBox website","body":"I&#39;m using Acrobat Reader. Ok, good point. Maybe I try another reader or a screenreader like JAWS. I can have a look if there is a good example on tagging on the PDFBox website"},{"owner":{"account_id":24326601,"reputation":11,"user_id":18266073,"display_name":"Bernhard"},"score":0,"creation_date":1645459961,"post_id":71203443,"comment_id":125871520,"body_markdown":"I belive I did use tagging in this code:","body":"I belive I did use tagging in this code:"}],"owner":{"account_id":24326601,"reputation":11,"user_id":18266073,"display_name":"Bernhard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645433311,"creation_date":1645433311,"question_id":71203443,"body_markdown":"Can anyone give a hint on how to add a &quot;alt text&quot; to an image in a pdf-document created by PDFBox.\r\n\r\nI would like the text to appear when hovering over the image.\r\n\r\nI have already added the image to the document and all is looking good. Just missing the &quot;alt text&quot;","title":"Apache PDFBox Image text","body":"<p>Can anyone give a hint on how to add a &quot;alt text&quot; to an image in a pdf-document created by PDFBox.</p>\n<p>I would like the text to appear when hovering over the image.</p>\n<p>I have already added the image to the document and all is looking good. Just missing the &quot;alt text&quot;</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1386375514,"post_id":20435871,"comment_id":30528039,"body_markdown":"Your servlet doesn&#39;t have the port 8080. The underlying java application (in which your Servlet container is running) is listening on that port. Also, don&#39;t ask for 3rd party resources, that is off-topic.","body":"Your servlet doesn&#39;t have the port 8080. The underlying java application (in which your Servlet container is running) is listening on that port. Also, don&#39;t ask for 3rd party resources, that is off-topic."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1386375604,"post_id":20435871,"comment_id":30528054,"body_markdown":"No. That means your web server has the port 8080, Servlet(s) run in a web container (a special Java Servlet enabled web server). The only way your Servlet(s) would have different port numbers is if they were running in separate container(s). It&#39;s possible there may be a justification for that, but your understanding is/was flawed.","body":"No. That means your web server has the port 8080, Servlet(s) run in a web container (a special Java Servlet enabled web server). The only way your Servlet(s) would have different port numbers is if they were running in separate container(s). It&#39;s possible there may be a justification for that, but your understanding is/was flawed."},{"owner":{"account_id":1350946,"reputation":2430,"user_id":1290607,"accept_rate":82,"display_name":"Bula"},"score":0,"creation_date":1386375716,"post_id":20435871,"comment_id":30528081,"body_markdown":"@ElliottFrisch and Sotirios Delimanolis Thank you so much. Tomcat would be my container in this case and has a socket open to listen to port 8080 right?","body":"@ElliottFrisch and Sotirios Delimanolis Thank you so much. Tomcat would be my container in this case and has a socket open to listen to port 8080 right?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1386375832,"post_id":20435871,"comment_id":30528108,"body_markdown":"That is 100% correct.","body":"That is 100% correct."}],"answers":[{"tags":[],"owner":{"account_id":83369,"reputation":15890,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1386375648,"creation_date":1386375648,"answer_id":20435894,"question_id":20435871,"body_markdown":"Servlets are not bound to a port. The server (tomcat or jetty or whatever) is bound to a port.\r\n\r\nYour Servlet is bound to a path.\r\n","title":"Servlets with different ports","body":"<p>Servlets are not bound to a port. The server (tomcat or jetty or whatever) is bound to a port.</p>\n\n<p>Your Servlet is bound to a path.</p>\n"},{"tags":[],"owner":{"account_id":2339705,"reputation":1133,"user_id":2052584,"accept_rate":75,"display_name":"MrSnrub"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1386375874,"creation_date":1386375874,"answer_id":20435930,"question_id":20435871,"body_markdown":"If you use Apache Tomcat: It provides more than one so called **Connector** which are used to interact with clients or other software components. One of its connectors is **HTTP**. In the `server.xml` configuration file you can freely configure the port the HTTP connector of your Servlet container will listen on. For example, you can make the HTTP connector listen on the default HTTP port 80.\r\n\r\nHave a look here: http://tomcat.apache.org/tomcat-7.0-doc/config/http.html ","title":"Servlets with different ports","body":"<p>If you use Apache Tomcat: It provides more than one so called <strong>Connector</strong> which are used to interact with clients or other software components. One of its connectors is <strong>HTTP</strong>. In the <code>server.xml</code> configuration file you can freely configure the port the HTTP connector of your Servlet container will listen on. For example, you can make the HTTP connector listen on the default HTTP port 80.</p>\n\n<p>Have a look here: <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/config/http.html\" rel=\"nofollow\">http://tomcat.apache.org/tomcat-7.0-doc/config/http.html</a> </p>\n"},{"tags":[],"owner":{"account_id":6651349,"reputation":4535,"user_id":7756492,"display_name":"ucMedia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645433277,"creation_date":1645433277,"answer_id":71203435,"question_id":20435871,"body_markdown":"If you use `IntelliJ IDEA`, follow the steps below:\r\n\r\n[![enter image description here][1]][1]&lt;br&gt;&lt;br&gt;\r\n[![enter image description here][2]][2]&lt;br&gt;&lt;br&gt;\r\n[![enter image description here][3]][3]&lt;br&gt;&lt;br&gt;\r\n\r\nAnd finally click **Apply** button\r\n\r\n  [1]: https://i.stack.imgur.com/7VZwl.jpg\r\n  [2]: https://i.stack.imgur.com/NymAY.jpg\r\n  [3]: https://i.stack.imgur.com/WMqYX.jpg","title":"Servlets with different ports","body":"<p>If you use <code>IntelliJ IDEA</code>, follow the steps below:</p>\n<p><a href=\"https://i.stack.imgur.com/7VZwl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7VZwl.jpg\" alt=\"enter image description here\" /></a><br><br>\n<a href=\"https://i.stack.imgur.com/NymAY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NymAY.jpg\" alt=\"enter image description here\" /></a><br><br>\n<a href=\"https://i.stack.imgur.com/WMqYX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WMqYX.jpg\" alt=\"enter image description here\" /></a><br><br></p>\n<p>And finally click <strong>Apply</strong> button</p>\n"}],"owner":{"account_id":1350946,"reputation":2430,"user_id":1290607,"accept_rate":82,"display_name":"Bula"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6259,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":20435894,"answer_count":3,"score":2,"last_activity_date":1645433277,"creation_date":1386375447,"question_id":20435871,"body_markdown":"I was reading the headfirst book about JSP and Servlets and I found out that different servlets have different ports and you should always ask which port is available when developing your own servlet. \r\n\r\nNow this might have a very simple answer but I ran my servlet from this url:\r\n\r\n    http://localhost:8080/ch1/Serv1\r\n\r\nDoes that mean that my servlet has the port 8080? Can you please point me to a link which will explain these things in better detail? \r\n\r\nAll I get from Google searches is exactly what says in the book ( which I&#39;m sure is right ) that all servlets have different ports.\r\n\r\nThank you","title":"Servlets with different ports","body":"<p>I was reading the headfirst book about JSP and Servlets and I found out that different servlets have different ports and you should always ask which port is available when developing your own servlet. </p>\n\n<p>Now this might have a very simple answer but I ran my servlet from this url:</p>\n\n<pre><code>http://localhost:8080/ch1/Serv1\n</code></pre>\n\n<p>Does that mean that my servlet has the port 8080? Can you please point me to a link which will explain these things in better detail? </p>\n\n<p>All I get from Google searches is exactly what says in the book ( which I'm sure is right ) that all servlets have different ports.</p>\n\n<p>Thank you</p>\n"},{"tags":["java","json","hibernate","struts2","lazy-initialization"],"comments":[{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1403166805,"post_id":24301980,"comment_id":37556538,"body_markdown":"http://stackoverflow.com/a/21099135/1654265","body":"<a href=\"http://stackoverflow.com/a/21099135/1654265\">stackoverflow.com/a/21099135/1654265</a>"},{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1403167437,"post_id":24301980,"comment_id":37556933,"body_markdown":"@AndreaLigios I would Like to fetch only few properties. on setting `FetchType.EAGER` with collection it is  showing `OutOfMemoryError`","body":"@AndreaLigios I would Like to fetch only few properties. on setting <code>FetchType.EAGER</code> with collection it is  showing <code>OutOfMemoryError</code>"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1403177022,"post_id":24301980,"comment_id":37562597,"body_markdown":"See also http://stackoverflow.com/a/20565206/573032","body":"See also <a href=\"http://stackoverflow.com/a/20565206/573032\">stackoverflow.com/a/20565206/573032</a>"},{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1403180657,"post_id":24301980,"comment_id":37564749,"body_markdown":"I tried to your answer http://stackoverflow.com/a/23989812/876739 IS `includeProperties` and `excludeNullProperties` is correct","body":"I tried to your answer <a href=\"http://stackoverflow.com/a/23989812/876739\">stackoverflow.com/a/23989812/876739</a> IS <code>includeProperties</code> and <code>excludeNullProperties</code> is correct"},{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1403180758,"post_id":24301980,"comment_id":37564806,"body_markdown":"fetchByProductName(getName());` method contains only Jdbc code. But why it is shoing Hibernate exception.","body":"fetchByProductName(getName());` method contains only Jdbc code. But why it is shoing Hibernate exception."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1403350469,"post_id":24301980,"comment_id":37630140,"body_markdown":"@xrcwrn If you are using hibernate to map your entity classes then each instance you get from the hibernate session returns references managed by hibernate even if they are in the detached state.","body":"@xrcwrn If you are using hibernate to map your entity classes then each instance you get from the hibernate session returns references managed by hibernate even if they are in the detached state."},{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1403759772,"post_id":24301980,"comment_id":37784979,"body_markdown":"@RomanC  On `fetchByProductName()` before success I added `sout(&quot;returning from action);` So this line is also printing without any `Exception`. After this exceptions are thrown. I think problem in `struts.xml` could you tell me is ther any problem/correction above struts.xml","body":"@RomanC  On <code>fetchByProductName()</code> before success I added <code>sout(&quot;returning from action);</code> So this line is also printing without any <code>Exception</code>. After this exceptions are thrown. I think problem in <code>struts.xml</code> could you tell me is ther any problem/correction above struts.xml"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1403778970,"post_id":24301980,"comment_id":37794481,"body_markdown":"@xrcwrn: What exactly you are asking? Hibernate exception is probably due to use of hibernate annotations on your entity. Lazy init exception is being thrown because you haven&#39;t init all properties on fetch. So what do you not understand?","body":"@xrcwrn: What exactly you are asking? Hibernate exception is probably due to use of hibernate annotations on your entity. Lazy init exception is being thrown because you haven&#39;t init all properties on fetch. So what do you not understand?"},{"owner":{"account_id":1603420,"reputation":4616,"user_id":1484017,"display_name":"Yogesh"},"score":0,"creation_date":1403781961,"post_id":24301980,"comment_id":37796211,"body_markdown":"@xrcwrn post code for `ProductDetailsBusiness` &amp; beans in method `fetchByProductName`","body":"@xrcwrn post code for <code>ProductDetailsBusiness</code> &amp; beans in method <code>fetchByProductName</code>"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1403803414,"post_id":24301980,"comment_id":37809960,"body_markdown":"@xrcwrn Lazy initialization is replaced by IoC, this is an old paradigm for object instantiation, is managed by Hibernate, that&#39;s why it requires an open session. Could you provide a code for action class?","body":"@xrcwrn Lazy initialization is replaced by IoC, this is an old paradigm for object instantiation, is managed by Hibernate, that&#39;s why it requires an open session. Could you provide a code for action class?"},{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1403847589,"post_id":24301980,"comment_id":37825046,"body_markdown":"@Yogi I have updated my Action class and Added `fetchByProductName()` method.","body":"@Yogi I have updated my Action class and Added <code>fetchByProductName()</code> method."},{"owner":{"account_id":1603420,"reputation":4616,"user_id":1484017,"display_name":"Yogesh"},"score":0,"creation_date":1403849747,"post_id":24301980,"comment_id":37825892,"body_markdown":"@xrcwrn first of all I did not see it clearly in the start but this issue is related to your `SingleProduct` action not `ProductByName` so would suggest provide code related to this, and make sure you tried using `Hibernate.initialize(data)` in `SingleProduct`","body":"@xrcwrn first of all I did not see it clearly in the start but this issue is related to your <code>SingleProduct</code> action not <code>ProductByName</code> so would suggest provide code related to this, and make sure you tried using <code>Hibernate.initialize(data)</code> in <code>SingleProduct</code>"}],"answers":[{"tags":[],"owner":{"account_id":1603420,"reputation":4616,"user_id":1484017,"display_name":"Yogesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403168953,"creation_date":1403168953,"answer_id":24302863,"question_id":24301980,"body_markdown":"[`LazyInitializationException`][1] is root cause in this problem which is thrown when Struts 2 json plugin tries to serialize your `productList` object. as per the exception document\r\n\r\n&gt; (It) Indicates access to unfetched data outside of a session context. \r\n&gt; For example, when an uninitialized proxy or collection is accessed\r\n&gt; after the session was closed.\r\n\r\nthis means you are trying to access collection of `billDetailses` entity which was loaded in form of hibernate proxy in java from database. As per hibernate **[document][2]**\r\n\r\n&gt; A LazyInitializationException will be thrown by Hibernate if an uninitialized collection or proxy is accessed outside of the scope of the Session, i.e., when the entity owning the collection or having the reference to the proxy is in the detached state.\r\n\r\n  so this means `list` collections of `billDetailses` is not initialized which you can force initialize before completing action\r\nusing\r\n\r\n    Hibernate.initialize(data) // collection entity\r\n\r\nSetting `FetchType.EAGER` on collection mapping also solves the problem but it will add over head to `billDetailses` object as every time this object is loaded in java it&#39;s collection will be force loaded and from my consideration it is like buying Ferrari and always running it in 1st gear.\r\n\r\n\r\nIf you get `LazyInitializationException` very often I suggest try using [`OpenSessionInViewFilter`][3] which keeps your hibernate session open from start of request until the response is completed from your application.\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/LazyInitializationException.html\r\n  [2]: https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/performance.html#performance-fetching-initialization\r\n  [3]: http://docs.spring.io/spring/docs/3.0.x/api/org/springframework/orm/hibernate3/support/OpenSessionInViewFilter.html","title":"org.apache.struts2.json.JSONException: org.hibernate.LazyInitializationException: failed to lazily initialize a collection","body":"<p><a href=\"http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/LazyInitializationException.html\" rel=\"nofollow\"><code>LazyInitializationException</code></a> is root cause in this problem which is thrown when Struts 2 json plugin tries to serialize your <code>productList</code> object. as per the exception document</p>\n\n<blockquote>\n  <p>(It) Indicates access to unfetched data outside of a session context. \n  For example, when an uninitialized proxy or collection is accessed\n  after the session was closed.</p>\n</blockquote>\n\n<p>this means you are trying to access collection of <code>billDetailses</code> entity which was loaded in form of hibernate proxy in java from database. As per hibernate <strong><a href=\"https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/performance.html#performance-fetching-initialization\" rel=\"nofollow\">document</a></strong></p>\n\n<blockquote>\n  <p>A LazyInitializationException will be thrown by Hibernate if an uninitialized collection or proxy is accessed outside of the scope of the Session, i.e., when the entity owning the collection or having the reference to the proxy is in the detached state.</p>\n</blockquote>\n\n<p>so this means <code>list</code> collections of <code>billDetailses</code> is not initialized which you can force initialize before completing action\nusing</p>\n\n<pre><code>Hibernate.initialize(data) // collection entity\n</code></pre>\n\n<p>Setting <code>FetchType.EAGER</code> on collection mapping also solves the problem but it will add over head to <code>billDetailses</code> object as every time this object is loaded in java it's collection will be force loaded and from my consideration it is like buying Ferrari and always running it in 1st gear.</p>\n\n<p>If you get <code>LazyInitializationException</code> very often I suggest try using <a href=\"http://docs.spring.io/spring/docs/3.0.x/api/org/springframework/orm/hibernate3/support/OpenSessionInViewFilter.html\" rel=\"nofollow\"><code>OpenSessionInViewFilter</code></a> which keeps your hibernate session open from start of request until the response is completed from your application.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1403850792,"creation_date":1403850792,"answer_id":24445373,"question_id":24301980,"body_markdown":"The serialization process to JSON is controlled by JSON result, which is a part of the [JSON plugin][1] that you used in your project. And you already know that to limit properties used by serializer you should use `includeProperties` of the `json` result. There&#39;s also `root` property that you should examine. If not specified the json result uses by default the `top` object of the value stack. If your action is model driven then *model overrides action*. So, the regexes you used in the `includeProperties` apply to the model object, and serializer which is `JSONWriter` uses `BeanInfo` to extract properties of the bean. First, these properties are checked for existence of `@JSON` annotation and if it has `serialize=false`, then it&#39;s skipped, otherwise it&#39;s included. This way you can control the serialization process via putting annotations on the properties that you won&#39;t serialize to JSON such as `@OneToMany` properties, etc. Then `includeProperties` or `excludeProperties` are checked if they are not empty. At this time you should acknowledge that if you don&#39;t have properties that matches to the patterns specified then them won&#39;t be serialized. So, lets move to `LazyInitializationException`, as I said if you have `@JSON` annotation ever in the model hierarchy you should put `serialize=false` inside it because by default it&#39;s `true`.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @JSON(serialize=false)\r\n    public Object getBillDetailses(){ return billDetailses; }\r\n\r\nYou said your `productList` in the action class, then you should configure the result\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;!-- Result config --&gt;\r\n    &lt;result type=&quot;json&quot;&gt;\r\n      &lt;param name=&quot;includeProperties&quot;&gt;\r\n        ^productList\\[\\d+\\]\\.id,\r\n        ^productList\\[\\d+\\]\\.name,\r\n        ^productList\\[\\d+\\]\\.description\r\n      &lt;/param&gt;\r\n      &lt;param name=&quot;root&quot;&gt;\r\n        #action\r\n      &lt;/param&gt;\r\n    &lt;/result&gt;   \r\n\r\nNote, that `^` stands for beginning the expression, so only action properties will be  included.\r\n\r\n  [1]: http://struts.apache.org/release/2.3.x/docs/json-plugin.html\r\n\r\n","title":"org.apache.struts2.json.JSONException: org.hibernate.LazyInitializationException: failed to lazily initialize a collection","body":"<p>The serialization process to JSON is controlled by JSON result, which is a part of the <a href=\"http://struts.apache.org/release/2.3.x/docs/json-plugin.html\" rel=\"nofollow\">JSON plugin</a> that you used in your project. And you already know that to limit properties used by serializer you should use <code>includeProperties</code> of the <code>json</code> result. There's also <code>root</code> property that you should examine. If not specified the json result uses by default the <code>top</code> object of the value stack. If your action is model driven then <em>model overrides action</em>. So, the regexes you used in the <code>includeProperties</code> apply to the model object, and serializer which is <code>JSONWriter</code> uses <code>BeanInfo</code> to extract properties of the bean. First, these properties are checked for existence of <code>@JSON</code> annotation and if it has <code>serialize=false</code>, then it's skipped, otherwise it's included. This way you can control the serialization process via putting annotations on the properties that you won't serialize to JSON such as <code>@OneToMany</code> properties, etc. Then <code>includeProperties</code> or <code>excludeProperties</code> are checked if they are not empty. At this time you should acknowledge that if you don't have properties that matches to the patterns specified then them won't be serialized. So, lets move to <code>LazyInitializationException</code>, as I said if you have <code>@JSON</code> annotation ever in the model hierarchy you should put <code>serialize=false</code> inside it because by default it's <code>true</code>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@JSON(serialize=false)\npublic Object getBillDetailses(){ return billDetailses; }\n</code></pre>\n\n<p>You said your <code>productList</code> in the action class, then you should configure the result</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Result config --&gt;\n&lt;result type=\"json\"&gt;\n  &lt;param name=\"includeProperties\"&gt;\n    ^productList\\[\\d+\\]\\.id,\n    ^productList\\[\\d+\\]\\.name,\n    ^productList\\[\\d+\\]\\.description\n  &lt;/param&gt;\n  &lt;param name=\"root\"&gt;\n    #action\n  &lt;/param&gt;\n&lt;/result&gt;   \n</code></pre>\n\n<p>Note, that <code>^</code> stands for beginning the expression, so only action properties will be  included.</p>\n"}],"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5498,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":24445373,"answer_count":2,"score":1,"last_activity_date":1645433223,"creation_date":1403166347,"question_id":24301980,"body_markdown":"I am calling autocomplete from JSP  `url: &quot;ProductByName&quot;`.\r\nOn response in console it is showing\r\n\r\n    POST http://localhost:8082/Store/SingleProduct 500 (Internal Server Error) \r\n\r\n**In JSP:**\r\n\r\n \r\n\r\n     $(&quot;.name&quot;).autocomplete({\r\n                        source: function(request, response) {\r\n                            $.ajax({\r\n                                url: &quot;ProductByName&quot;,\r\n                                dataType: &quot;json&quot;,\r\n                                data: {\r\n                                    str: request.term,\r\n                                    maxRows: 5\r\n                                },...\r\n\r\n**In `struts.xml`:**\r\n\r\n\r\n    &lt;action name=&quot;ProductByName&quot; class=&quot;iland.productdetails.ProductDetailsAction&quot; method=&quot;fetchByProductName&quot;&gt;\r\n                &lt;result type=&quot;json&quot;&gt;\r\n                    &lt;param name=&quot;includeProperties&quot;&gt;productList\\[\\d+\\]\\.id,\r\n                        productList\\[\\d+\\]\\.name,\r\n                        productList\\[\\d+\\]\\.description\r\n                    &lt;/param&gt;\r\n                    &lt;param name=&quot;excludeNullProperties&quot;&gt;true&lt;/param&gt;\r\n                &lt;/result&gt;\r\n            &lt;/action&gt;\r\n\r\nI want to fetch only few properties of `productList`\r\n\r\n**In Action class:**\r\n\r\n \r\n    public class ProductDetailsAction extends ActionSupport {\r\n\r\n    private long id;\r\n\r\n    private String barCode;//bardoce\r\n\r\n    private String name;\r\n    private String desc;\r\n\r\n    private long quantity;\r\n    private float unitPrice;\r\n    private float sellingPrice;\r\n    private float totalSellingPrice;\r\n    private long clientId;\r\n    private ArrayList&lt;BillDetails&gt; BillList;\r\n    private Date startDate;\r\n    private Date endDate;\r\n    private int discountPercentage;\r\n    private Timestamp addDate;\r\n    private String dataStatus;\r\n    private ArrayList&lt;ProductDetailsAction&gt; productList;\r\n    private ArrayList&lt;Product&gt; productBillList;\r\n    public String fetchByProductName() {\r\n             ProductDetailsBusiness pdb = new ProductDetailsBusiness();\r\n              Map data = pdb.fetchByProductName(getName());\r\n              setProductList((ArrayList) data.get(&quot;list&quot;));\r\n              return SUCCESS;\r\n      }\r\n       //other methods and getter and setter\r\n        }   \r\n\r\n**I am getting following exception:**\r\n\r\n    SEVERE: Exception occurred during processing request: org.apache.struts2.json.JSONException: org.apache.struts2.json.JSONException: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: iland.hbm.Client.billDetailses, no session or session was closed\r\n    org.apache.struts2.json.JSONException: org.apache.struts2.json.JSONException: org.apache.struts2.json.JSONException: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: iland.hbm.Client.billDetailses, no session or session was closed\r\n    \tat org.apache.struts2.json.JSONWriter.bean(JSONWriter.java:246)\r\n    \tat org.apache.struts2.json.JSONWriter.processCustom(JSONWriter.java:178)\r\n    \tat org.apache.struts2.json.JSONWriter.process(JSONWriter.java:168)\r\n    \tat org.apache.struts2.json.JSONWriter.value(JSONWriter.java:134)\r\n    \tat org.apache.struts2.json.JSONWriter.write(JSONWriter.java:102)\r\n    \tat org.apache.struts2.json.JSONUtil.serialize(JSONUtil.java:116)\r\n    \tat org.apache.struts2.json.JSONResult.createJSONString(JSONResult.java:197)\r\n    \tat org.apache.struts2.json.JSONResult.execute(JSONResult.java:171)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:371)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:275)\r\n    \tat org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:167)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\r\n    \tat org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:239)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:239)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:161)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:189)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\r\n    \tat org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:563)\r\n    \tat org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)\r\n    \tat org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:99)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n    Caused by: org.apache.struts2.json.JSONException: org.apache.struts2.json.JSONException: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: iland.hbm.Client.billDetailses, no session or session was closed\r\n    \tat org.apache.struts2.json.JSONWriter.bean(JSONWriter.java:246)\r\n    \tat org.apache.struts2.json.JSONWriter.processCustom(JSONWriter.java:178)\r\n    \tat org.apache.struts2.json.JSONWriter.process(JSONWriter.java:168)\r\n    \tat org.apache.struts2.json.JSONWriter.value(JSONWriter.java:134)\r\n    \tat org.apache.struts2.json.JSONWriter.add(JSONWriter.java:390)\r\n    \tat org.apache.struts2.json.JSONWriter.bean(JSONWriter.java:231)\r\n    \t... 71 more\r\n    Caused by: org.apache.struts2.json.JSONException: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: iland.hbm.Client.billDetailses, no session or session was closed\r\n    \tat org.apache.struts2.json.JSONWriter.bean(JSONWriter.java:246)\r\n    \tat org.apache.struts2.json.JSONWriter.processCustom(JSONWriter.java:178)\r\n    \tat org.apache.struts2.json.JSONWriter.process(JSONWriter.java:168)\r\n    \tat org.apache.struts2.json.JSONWriter.value(JSONWriter.java:134)\r\n    \tat org.apache.struts2.json.JSONWriter.add(JSONWriter.java:390)\r\n    \tat org.apache.struts2.json.JSONWriter.bean(JSONWriter.java:231)\r\n    \t... 76 more\r\n    Caused by: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: iland.hbm.Client.billDetailses, no session or session was closed\r\n    \tat org.hibernate.collection.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:383)\r\n    \tat org.hibernate.collection.AbstractPersistentCollection.throwLazyInitializationExceptionIfNotConnected(AbstractPersistentCollection.java:375)\r\n    \tat org.hibernate.collection.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:368)\r\n    \tat org.hibernate.collection.AbstractPersistentCollection.read(AbstractPersistentCollection.java:111)\r\n    \tat org.hibernate.collection.PersistentSet.equals(PersistentSet.java:429)\r\n    \tat java.util.Vector.indexOf(Vector.java:408)\r\n    \tat java.util.Vector.contains(Vector.java:367)\r\n    \tat org.apache.struts2.json.JSONWriter.value(JSONWriter.java:117)\r\n    \tat org.apache.struts2.json.JSONWriter.add(JSONWriter.java:390)\r\n    \tat org.apache.struts2.json.JSONWriter.bean(JSONWriter.java:231)\r\n    \t... 81 more \r\n\r\n**Edit:**\r\n\r\n`fetchByProductName(getName());` method contains only Jdbc code. Then why Hibernate Errorrs??   \r\n\r\nI am fetching date from database and also printing on console. before success I gave `System.out.println(`In action`);` this is aslo printing properly\r\nIt doesnt have to access data from database then why  `failed to lazily initialize a collection of XXX`\r\nHow to resolve this.\r\n\r\n**Edit:**\r\n\r\n     public class ProductDetailsBusiness {\r\n\r\n    ProductDetailsAction pda = null;\r\n    PreparedStatement ps = null;\r\n    ResultSet rs = null, res = null;\r\n    Connection con = null;\r\n    String status = null;\r\n    ArrayList&lt;ProductDetailsAction&gt; ar = null;\r\n\r\n    public Map fetchByProductName(String name, long cid) {\r\n            System.out.println(&quot; ProductBusiness fetchByProductName()&quot;);\r\n            status = &quot;success&quot;;\r\n            System.out.println(&quot;Name is &quot; + name);\r\n    \r\n            ar = new ArrayList();\r\n            con = ConnectionFactory.getConnection();\r\n    \r\n            try {\r\n                String query = &quot;select * from product &quot;\r\n                        + &quot;where status=? and cid=? &quot;\r\n                        + &quot;order by add_date&quot;;\r\n    \r\n                ps = con.prepareStatement(query);\r\n                ps.setString(1, &quot;active&quot;);\r\n                 ps.setLong(2, cid);\r\n                System.out.println(&quot;Before execution&quot;);\r\n                res = ps.executeQuery();\r\n    \r\n                System.out.println(&quot;Details are&quot;);\r\n                while (res.next()) {\r\n                    pda = new ProductDetailsAction();\r\n                    long id1 = res.getLong(&quot;id&quot;);\r\n                    String barCode = res.getString(&quot;barcode&quot;);\r\n                    String name1 = res.getString(&quot;name&quot;);\r\n                    String desc = res.getString(&quot;description&quot;);\r\n                    long quntity = res.getLong(&quot;quntity&quot;);\r\n                    float unit_price = res.getLong(&quot;unit_price&quot;);\r\n                    float selling_price = res.getLong(&quot;selling_price&quot;);\r\n                    int discount_percent = res.getInt(&quot;discount_percent&quot;);\r\n                    pda.setId(id1);\r\n                    pda.setBarCode(barCode);\r\n                    pda.setName(name1);\r\n                    pda.setDesc(desc);\r\n                    pda.setQuantity(quntity);\r\n                    pda.setUnitPrice(unit_price);\r\n                    pda.setSellingPrice(selling_price);\r\n                    pda.setDiscountPercentage(discount_percent);\r\n                    System.out.println(&quot;id &quot;+id1+&quot; name &quot;+name1+&quot; &quot;+desc);\r\n                    ar.add(pda);\r\n                }\r\n    \r\n                con.close();\r\n            } catch (SQLException s) {\r\n                status = &quot;failure&quot;;\r\n                System.out.println(&quot;SQL code does not execute.&quot; + s);\r\n            } finally {\r\n                try {\r\n                    if (con != null) {\r\n                        con.close();\r\n                    }\r\n                } catch (SQLException sqe) {\r\n                    status = &quot;failure&quot;;\r\n                    System.out.println(&quot;SQLException &quot; + sqe);\r\n                }\r\n            }\r\n            Map m = new HashMap();\r\n            m.put(&quot;status&quot;, status);\r\n            m.put(&quot;list&quot;, ar);\r\n            return m;\r\n        }\r\n          //other methods\r\n        }\r\n\r\nAlso updated action class Please also see it  ","title":"org.apache.struts2.json.JSONException: org.hibernate.LazyInitializationException: failed to lazily initialize a collection","body":"<p>I am calling autocomplete from JSP  <code>url: &quot;ProductByName&quot;</code>.\nOn response in console it is showing</p>\n<pre><code>POST http://localhost:8082/Store/SingleProduct 500 (Internal Server Error) \n</code></pre>\n<p><strong>In JSP:</strong></p>\n<pre><code> $(&quot;.name&quot;).autocomplete({\n                    source: function(request, response) {\n                        $.ajax({\n                            url: &quot;ProductByName&quot;,\n                            dataType: &quot;json&quot;,\n                            data: {\n                                str: request.term,\n                                maxRows: 5\n                            },...\n</code></pre>\n<p><strong>In <code>struts.xml</code>:</strong></p>\n<pre><code>&lt;action name=&quot;ProductByName&quot; class=&quot;iland.productdetails.ProductDetailsAction&quot; method=&quot;fetchByProductName&quot;&gt;\n            &lt;result type=&quot;json&quot;&gt;\n                &lt;param name=&quot;includeProperties&quot;&gt;productList\\[\\d+\\]\\.id,\n                    productList\\[\\d+\\]\\.name,\n                    productList\\[\\d+\\]\\.description\n                &lt;/param&gt;\n                &lt;param name=&quot;excludeNullProperties&quot;&gt;true&lt;/param&gt;\n            &lt;/result&gt;\n        &lt;/action&gt;\n</code></pre>\n<p>I want to fetch only few properties of <code>productList</code></p>\n<p><strong>In Action class:</strong></p>\n<pre><code>public class ProductDetailsAction extends ActionSupport {\n\nprivate long id;\n\nprivate String barCode;//bardoce\n\nprivate String name;\nprivate String desc;\n\nprivate long quantity;\nprivate float unitPrice;\nprivate float sellingPrice;\nprivate float totalSellingPrice;\nprivate long clientId;\nprivate ArrayList&lt;BillDetails&gt; BillList;\nprivate Date startDate;\nprivate Date endDate;\nprivate int discountPercentage;\nprivate Timestamp addDate;\nprivate String dataStatus;\nprivate ArrayList&lt;ProductDetailsAction&gt; productList;\nprivate ArrayList&lt;Product&gt; productBillList;\npublic String fetchByProductName() {\n         ProductDetailsBusiness pdb = new ProductDetailsBusiness();\n          Map data = pdb.fetchByProductName(getName());\n          setProductList((ArrayList) data.get(&quot;list&quot;));\n          return SUCCESS;\n  }\n   //other methods and getter and setter\n    }   \n</code></pre>\n<p><strong>I am getting following exception:</strong></p>\n<pre><code>SEVERE: Exception occurred during processing request: org.apache.struts2.json.JSONException: org.apache.struts2.json.JSONException: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: iland.hbm.Client.billDetailses, no session or session was closed\norg.apache.struts2.json.JSONException: org.apache.struts2.json.JSONException: org.apache.struts2.json.JSONException: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: iland.hbm.Client.billDetailses, no session or session was closed\n    at org.apache.struts2.json.JSONWriter.bean(JSONWriter.java:246)\n    at org.apache.struts2.json.JSONWriter.processCustom(JSONWriter.java:178)\n    at org.apache.struts2.json.JSONWriter.process(JSONWriter.java:168)\n    at org.apache.struts2.json.JSONWriter.value(JSONWriter.java:134)\n    at org.apache.struts2.json.JSONWriter.write(JSONWriter.java:102)\n    at org.apache.struts2.json.JSONUtil.serialize(JSONUtil.java:116)\n    at org.apache.struts2.json.JSONResult.createJSONString(JSONResult.java:197)\n    at org.apache.struts2.json.JSONResult.execute(JSONResult.java:171)\n    at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:371)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:275)\n    at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:167)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\n    at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:239)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:239)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:161)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:189)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\n    at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:563)\n    at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)\n    at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:99)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:744)\nCaused by: org.apache.struts2.json.JSONException: org.apache.struts2.json.JSONException: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: iland.hbm.Client.billDetailses, no session or session was closed\n    at org.apache.struts2.json.JSONWriter.bean(JSONWriter.java:246)\n    at org.apache.struts2.json.JSONWriter.processCustom(JSONWriter.java:178)\n    at org.apache.struts2.json.JSONWriter.process(JSONWriter.java:168)\n    at org.apache.struts2.json.JSONWriter.value(JSONWriter.java:134)\n    at org.apache.struts2.json.JSONWriter.add(JSONWriter.java:390)\n    at org.apache.struts2.json.JSONWriter.bean(JSONWriter.java:231)\n    ... 71 more\nCaused by: org.apache.struts2.json.JSONException: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: iland.hbm.Client.billDetailses, no session or session was closed\n    at org.apache.struts2.json.JSONWriter.bean(JSONWriter.java:246)\n    at org.apache.struts2.json.JSONWriter.processCustom(JSONWriter.java:178)\n    at org.apache.struts2.json.JSONWriter.process(JSONWriter.java:168)\n    at org.apache.struts2.json.JSONWriter.value(JSONWriter.java:134)\n    at org.apache.struts2.json.JSONWriter.add(JSONWriter.java:390)\n    at org.apache.struts2.json.JSONWriter.bean(JSONWriter.java:231)\n    ... 76 more\nCaused by: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: iland.hbm.Client.billDetailses, no session or session was closed\n    at org.hibernate.collection.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:383)\n    at org.hibernate.collection.AbstractPersistentCollection.throwLazyInitializationExceptionIfNotConnected(AbstractPersistentCollection.java:375)\n    at org.hibernate.collection.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:368)\n    at org.hibernate.collection.AbstractPersistentCollection.read(AbstractPersistentCollection.java:111)\n    at org.hibernate.collection.PersistentSet.equals(PersistentSet.java:429)\n    at java.util.Vector.indexOf(Vector.java:408)\n    at java.util.Vector.contains(Vector.java:367)\n    at org.apache.struts2.json.JSONWriter.value(JSONWriter.java:117)\n    at org.apache.struts2.json.JSONWriter.add(JSONWriter.java:390)\n    at org.apache.struts2.json.JSONWriter.bean(JSONWriter.java:231)\n    ... 81 more \n</code></pre>\n<p><strong>Edit:</strong></p>\n<p><code>fetchByProductName(getName());</code> method contains only Jdbc code. Then why Hibernate Errorrs??</p>\n<p>I am fetching date from database and also printing on console. before success I gave <code>System.out.println(</code>In action<code>);</code> this is aslo printing properly\nIt doesnt have to access data from database then why  <code>failed to lazily initialize a collection of XXX</code>\nHow to resolve this.</p>\n<p><strong>Edit:</strong></p>\n<pre><code> public class ProductDetailsBusiness {\n\nProductDetailsAction pda = null;\nPreparedStatement ps = null;\nResultSet rs = null, res = null;\nConnection con = null;\nString status = null;\nArrayList&lt;ProductDetailsAction&gt; ar = null;\n\npublic Map fetchByProductName(String name, long cid) {\n        System.out.println(&quot; ProductBusiness fetchByProductName()&quot;);\n        status = &quot;success&quot;;\n        System.out.println(&quot;Name is &quot; + name);\n\n        ar = new ArrayList();\n        con = ConnectionFactory.getConnection();\n\n        try {\n            String query = &quot;select * from product &quot;\n                    + &quot;where status=? and cid=? &quot;\n                    + &quot;order by add_date&quot;;\n\n            ps = con.prepareStatement(query);\n            ps.setString(1, &quot;active&quot;);\n             ps.setLong(2, cid);\n            System.out.println(&quot;Before execution&quot;);\n            res = ps.executeQuery();\n\n            System.out.println(&quot;Details are&quot;);\n            while (res.next()) {\n                pda = new ProductDetailsAction();\n                long id1 = res.getLong(&quot;id&quot;);\n                String barCode = res.getString(&quot;barcode&quot;);\n                String name1 = res.getString(&quot;name&quot;);\n                String desc = res.getString(&quot;description&quot;);\n                long quntity = res.getLong(&quot;quntity&quot;);\n                float unit_price = res.getLong(&quot;unit_price&quot;);\n                float selling_price = res.getLong(&quot;selling_price&quot;);\n                int discount_percent = res.getInt(&quot;discount_percent&quot;);\n                pda.setId(id1);\n                pda.setBarCode(barCode);\n                pda.setName(name1);\n                pda.setDesc(desc);\n                pda.setQuantity(quntity);\n                pda.setUnitPrice(unit_price);\n                pda.setSellingPrice(selling_price);\n                pda.setDiscountPercentage(discount_percent);\n                System.out.println(&quot;id &quot;+id1+&quot; name &quot;+name1+&quot; &quot;+desc);\n                ar.add(pda);\n            }\n\n            con.close();\n        } catch (SQLException s) {\n            status = &quot;failure&quot;;\n            System.out.println(&quot;SQL code does not execute.&quot; + s);\n        } finally {\n            try {\n                if (con != null) {\n                    con.close();\n                }\n            } catch (SQLException sqe) {\n                status = &quot;failure&quot;;\n                System.out.println(&quot;SQLException &quot; + sqe);\n            }\n        }\n        Map m = new HashMap();\n        m.put(&quot;status&quot;, status);\n        m.put(&quot;list&quot;, ar);\n        return m;\n    }\n      //other methods\n    }\n</code></pre>\n<p>Also updated action class Please also see it</p>\n"},{"tags":["java","mysql","linux","docker"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1645432619,"post_id":71203254,"comment_id":125860861,"body_markdown":"Redirect to a file using https://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html#redirectOutput(java.io.File)","body":"Redirect to a file using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html#redirectOutput(java.io.File)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1645432842,"post_id":71203254,"comment_id":125860922,"body_markdown":"Redirects are a feature of the shell, and when you use `ProcessBuilder` you are not using a shell.","body":"Redirects are a feature of the shell, and when you use <code>ProcessBuilder</code> you are not using a shell."}],"owner":{"account_id":24326943,"reputation":1,"user_id":18266363,"display_name":"raxcl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645432930,"answer_count":0,"score":0,"last_activity_date":1645432879,"creation_date":1645432262,"question_id":71203254,"body_markdown":"##### The phenomenon and background of the problem\r\nDeploy springboot project into docker container, back up blog database in mysql container docker \r\n##### Problem related code\r\n```java\r\n        ProcessBuilder processBuilder = new ProcessBuilder(&quot;docker&quot;,&quot;exec&quot;,&quot;mysql&quot;,&quot;mysqldump&quot;,&quot;-h81.71.87.241&quot;,&quot;-P3306&quot;,&quot;-uroot&quot;,&quot;-proot&quot;,&quot;blog&quot;,&quot;&gt;&quot;,&quot;/mnt/docker/backup/aaa.sql&quot;);\r\n```\r\n#####  Running results and error contents\r\n```\r\nmysqldump: Couldn&#39;t find table: &quot;&gt;&quot;\r\n```\r\n##### The result I want to achieve\r\nPlease advise how to solve this problem.","title":"java: mysqldump: Couldn&#39;t find table: &quot;&gt;&quot;","body":"<h5>The phenomenon and background of the problem</h5>\n<p>Deploy springboot project into docker container, back up blog database in mysql container docker</p>\n<h5>Problem related code</h5>\n<pre class=\"lang-java prettyprint-override\"><code>        ProcessBuilder processBuilder = new ProcessBuilder(&quot;docker&quot;,&quot;exec&quot;,&quot;mysql&quot;,&quot;mysqldump&quot;,&quot;-h81.71.87.241&quot;,&quot;-P3306&quot;,&quot;-uroot&quot;,&quot;-proot&quot;,&quot;blog&quot;,&quot;&gt;&quot;,&quot;/mnt/docker/backup/aaa.sql&quot;);\n</code></pre>\n<h5>Running results and error contents</h5>\n<pre><code>mysqldump: Couldn't find table: &quot;&gt;&quot;\n</code></pre>\n<h5>The result I want to achieve</h5>\n<p>Please advise how to solve this problem.</p>\n"},{"tags":["java","unit-testing","jpa","entity","persistence"],"comments":[{"owner":{"account_id":23276273,"reputation":1,"user_id":17360367,"display_name":"Eric Wauthion"},"score":0,"creation_date":1646658659,"post_id":71172215,"comment_id":126170652,"body_markdown":"The solution was to add resources test in Pom.change the path of web-inf in path resources","body":"The solution was to add resources test in Pom.change the path of web-inf in path resources"},{"owner":{"account_id":509205,"reputation":523,"user_id":2515808,"display_name":"Shekhar Sahu"},"score":1,"creation_date":1654011923,"post_id":71172215,"comment_id":127988555,"body_markdown":"could you please elaborate?","body":"could you please elaborate?"}],"owner":{"account_id":23276273,"reputation":1,"user_id":17360367,"display_name":"Eric Wauthion"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645432545,"creation_date":1645181407,"question_id":71172215,"body_markdown":"I want to make a Dao unit test to test my class BasicDao.\r\nI try to create an entity Student1 in a memory db.\r\nI make a simple entity with a simple table with one field.\r\nBut I have an error message that I don&#39;t understand (see stacktrace at the end)\r\n\r\nPersitence.xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.1&quot;\r\n    \txmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n    \r\n    \t&lt;persistence-unit name=&quot;h2-in-memory-pu&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    \t\t&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n    \t\t\r\n    \t\t&lt;!-- Entities --&gt;\r\n    \t\t&lt;class&gt;be.etnic.moodlecustom.lib.model.Student1&lt;/class&gt;\r\n    \t\t\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.h2.Driver&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;javax.persistence.jdbc.url&quot;\t\r\n    \t\t\t\tvalue=&quot;jdbc:h2:mem:test;INIT=RUNSCRIPT FROM &#39;classpath:/resources/create.sql&#39;\\;RUNSCRIPT FROM &#39;classpath:/resources/data.sql&#39;&quot; /&gt;\r\n    \r\n    \t\t\t&lt;!--Hibernate properties --&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.default_schema&quot; value=&quot;MOODAGE&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;wildfly.jpa.default-unit&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\nClass Student1\r\n\r\n    @Table(name=&quot;STUDENT1&quot;)\r\n    @Entity\r\n    public class Student1 implements Serializable {\r\n\t@Id\r\n\tprivate Integer ID;\r\n\t\r\n\tpublic Student1() {}\r\n\t\r\n\tpublic Integer getID() {\r\n\t\treturn ID;\r\n\t}\r\n\tpublic void setID(Integer iD) {\r\n\t\tID = iD;\r\n\t}\r\n\t\r\n}\r\n\r\nStructure table\r\n\r\n    CREATE SCHEMA MOODAGE;\r\n    \r\n    CREATE TABLE MOODAGE.STUDENT1(\r\n    \tID INTEGER\r\n    );\r\n\r\n\r\nBasicDaoTest Class\r\n    \r\n    class BasicDaoTest {\r\n    \tprivate static EntityManagerFactory emf;\r\n    \tprivate static EntityManager em;\r\n    \tprivate BasicDao basicDao = new BasicDao();\r\n    \t\r\n    \t\r\n    \t@BeforeAll\r\n    \tstatic void setUpBeforeClass() throws Exception {\r\n    \t\temf = Persistence.createEntityManagerFactory(&quot;h2-in-memory-pu&quot;);\r\n            em = emf.createEntityManager();\r\n    \t}\r\n    \r\n    \t@AfterAll\r\n    \tstatic void tearDownAfterClass() throws Exception {\r\n        //    em.clear();\r\n        //    em.close();\r\n        //    emf.close();\r\n    \t}\r\n    \r\n    \t@BeforeEach\r\n    \tvoid setUp() throws Exception {\r\n    \t\tbasicDao.setEm(em);\r\n    \t}\r\n    \r\n    \t@AfterEach\r\n    \tvoid tearDown() throws Exception {\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid testSetEm() {\r\n    \t\tassertNotNull(em);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid testFindAll() {\r\n    \t\tList&lt;Student1&gt; students = basicDao.findAll(em, Student1.class);\r\n    \t\tassertNotNull(students);\r\n    \t}\r\n\r\nPOM\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;be.etnic.moodlecustom-batch&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;moodlecustom-batch&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.2-SNAPSHOT&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;artifactId&gt;moodlecustom-batch-lib&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;${project.artifactId}&lt;/name&gt;\r\n\t&lt;!-- Describe this module --&gt;\r\n\t&lt;description&gt;moodle batch lib&lt;/description&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;be.etnic.common&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;common-lib&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.20&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.3.Final&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- JPA for Java EE application servers --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;org.eclipse.persistence.jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.8.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.8.Final&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt; &lt;!-- provided if youre deploying to jboss as 7.1 --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;resteasy-jackson-provider&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.8.Final&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.logging&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jboss-logging&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.1.Final&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20201115&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-digester&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-digester&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.jdt.core.compiler&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ecj&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.4.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;6.12.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javassist&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.12.1.GA&lt;/version&gt;\r\n\t\t&lt;/dependency&gt; \r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;${basedir}/src/main/resources&lt;/directory&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;pack-sql&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;skipAssembly&gt;false&lt;/skipAssembly&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;skip&gt;false&lt;/skip&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.6&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;generate-sources&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;sourceRoot&gt;${project.build.directory}/generated-sources/wsdl/src/gen/java&lt;/sourceRoot&gt;\r\n\t\t\t\t\t\t\t&lt;wsdlOptions&gt;\r\n\t\t\t\t\t\t\t&lt;/wsdlOptions&gt;\r\n\r\n\t\t\t\t\t\t\t&lt;defaultOptions&gt;\r\n\t\t\t\t\t\t\t\t&lt;autoNameResolution&gt;true&lt;/autoNameResolution&gt;\r\n\t\t\t\t\t\t\t\t&lt;noAddressBinding&gt;true&lt;/noAddressBinding&gt;\r\n\t\t\t\t\t\t\t&lt;/defaultOptions&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.4&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;!-- &lt;version&gt;3.0.0&lt;/version&gt; --&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;add-generated-source&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;add-source&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;sources&gt;\r\n\t\t\t\t\t\t\t\t&lt;source&gt;${project.build.directory}/generated-sources/openapi/src/gen/java&lt;/source&gt;\r\n\t\t\t\t\t\t\t&lt;/sources&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;sourceFileExcludes&gt;\r\n\t\t\t\t\t\t&lt;sourceFileExclude&gt;${project.build.directory}/generated-sources/**&lt;/sourceFileExclude&gt;\r\n\t\t\t\t\t&lt;/sourceFileExcludes&gt;\r\n\t\t\t\t\t&lt;excludePackageNames&gt;be.etnic.ddle.*,be.etnic.esb.*,\r\n\t\t\t\t\t\tbe.etnic.glob.*, be.cfwb.enseignement.*, be.etnic.types.*,\r\n\t\t\t\t\t\tbe.etnic.services_web.*, be.etnic.transversal.*,\r\n\t\t\t\t\t\torg.alfresco.ws.*, be.etnic.alfresco.*\r\n\t\t\t\t\t&lt;/excludePackageNames&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n    \r\n\r\n  \r\n\r\nStacktrace\r\njavax.persistence.PersistenceException: [PersistenceUnit: h2-in-memory-pu] Unable to build Hibernate SessionFactory\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:951)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:881)\r\n\tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:58)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat be.etnic.moodlecustom.lib.dao.BasicDaoTest.setUpBeforeClass(BasicDaoTest.java:27)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:126)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeAllMethod(TimeoutExtension.java:68)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllMethods$9(ClassBasedTestDescriptor.java:384)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllMethods(ClassBasedTestDescriptor.java:382)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:196)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:78)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:136)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:84)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\nCaused by: org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister\r\n\tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:123)\r\n\tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77)\r\n\tat org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:128)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:297)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:493)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:878)\r\n\t... 61 more\r\nCaused by: org.hibernate.HibernateException: Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]\r\n\tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:91)\r\n\tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:116)\r\n\tat org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:382)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:510)\r\n\tat org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:124)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96)\r\n\t... 66 more\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:88)\r\n\t... 76 more\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5c3bd550\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n\tat javassist.util.proxy.SecurityActions.setAccessible(SecurityActions.java:103)\r\n\tat javassist.util.proxy.FactoryHelper.toClass2(FactoryHelper.java:181)\r\n\tat javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:164)\r\n\tat javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:507)\r\n\tat javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:492)\r\n\tat javassist.util.proxy.ProxyFactory.createClass1(ProxyFactory.java:428)\r\n\tat javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:400)\r\n\tat org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:72)\r\n\tat org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:162)\r\n\tat org.hibernate.tuple.entity.AbstractEntityTuplizer.&lt;init&gt;(AbstractEntityTuplizer.java:158)\r\n\tat org.hibernate.tuple.entity.PojoEntityTuplizer.&lt;init&gt;(PojoEntityTuplizer.java:58)\r\n\t... 82 more\r\n","title":"Unable to build Hibernate SessionFactory - InaccessibleObjectException","body":"<p>I want to make a Dao unit test to test my class BasicDao.\nI try to create an entity Student1 in a memory db.\nI make a simple entity with a simple table with one field.\nBut I have an error message that I don't understand (see stacktrace at the end)</p>\n<p>Persitence.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot;\n    xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n\n    &lt;persistence-unit name=&quot;h2-in-memory-pu&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        \n        &lt;!-- Entities --&gt;\n        &lt;class&gt;be.etnic.moodlecustom.lib.model.Student1&lt;/class&gt;\n        \n        &lt;properties&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.h2.Driver&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; \n                value=&quot;jdbc:h2:mem:test;INIT=RUNSCRIPT FROM 'classpath:/resources/create.sql'\\;RUNSCRIPT FROM 'classpath:/resources/data.sql'&quot; /&gt;\n\n            &lt;!--Hibernate properties --&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot; /&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot;/&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\n            &lt;property name=&quot;hibernate.default_schema&quot; value=&quot;MOODAGE&quot; /&gt;\n            &lt;property name=&quot;wildfly.jpa.default-unit&quot; value=&quot;true&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>Class Student1</p>\n<pre><code>@Table(name=&quot;STUDENT1&quot;)\n@Entity\npublic class Student1 implements Serializable {\n@Id\nprivate Integer ID;\n\npublic Student1() {}\n\npublic Integer getID() {\n    return ID;\n}\npublic void setID(Integer iD) {\n    ID = iD;\n}\n</code></pre>\n<p>}</p>\n<p>Structure table</p>\n<pre><code>CREATE SCHEMA MOODAGE;\n\nCREATE TABLE MOODAGE.STUDENT1(\n    ID INTEGER\n);\n</code></pre>\n<p>BasicDaoTest Class</p>\n<pre><code>class BasicDaoTest {\n    private static EntityManagerFactory emf;\n    private static EntityManager em;\n    private BasicDao basicDao = new BasicDao();\n    \n    \n    @BeforeAll\n    static void setUpBeforeClass() throws Exception {\n        emf = Persistence.createEntityManagerFactory(&quot;h2-in-memory-pu&quot;);\n        em = emf.createEntityManager();\n    }\n\n    @AfterAll\n    static void tearDownAfterClass() throws Exception {\n    //    em.clear();\n    //    em.close();\n    //    emf.close();\n    }\n\n    @BeforeEach\n    void setUp() throws Exception {\n        basicDao.setEm(em);\n    }\n\n    @AfterEach\n    void tearDown() throws Exception {\n    }\n\n    @Test\n    void testSetEm() {\n        assertNotNull(em);\n    }\n\n    @Test\n    void testFindAll() {\n        List&lt;Student1&gt; students = basicDao.findAll(em, Student1.class);\n        assertNotNull(students);\n    }\n</code></pre>\n<p>POM</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;be.etnic.moodlecustom-batch&lt;/groupId&gt;\n    &lt;artifactId&gt;moodlecustom-batch&lt;/artifactId&gt;\n    &lt;version&gt;0.0.2-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;artifactId&gt;moodlecustom-batch-lib&lt;/artifactId&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;${project.artifactId}&lt;/name&gt;\n&lt;!-- Describe this module --&gt;\n&lt;description&gt;moodle batch lib&lt;/description&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;be.etnic.common&lt;/groupId&gt;\n        &lt;artifactId&gt;common-lib&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax&lt;/groupId&gt;\n        &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;3.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.20&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n        &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.2.3.Final&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- JPA for Java EE application servers --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.persistence.jpa&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\n        &lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n        &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\n        &lt;version&gt;3.0.8.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n        &lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt;\n        &lt;version&gt;3.0.8.Final&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt; &lt;!-- provided if youre deploying to jboss as 7.1 --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n        &lt;artifactId&gt;resteasy-jackson-provider&lt;/artifactId&gt;\n        &lt;version&gt;3.0.8.Final&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.logging&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-logging&lt;/artifactId&gt;\n        &lt;version&gt;3.3.1.Final&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20201115&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-digester&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-digester&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n        &lt;version&gt;1.9.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n        &lt;version&gt;4.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.jdt.core.compiler&lt;/groupId&gt;\n        &lt;artifactId&gt;ecj&lt;/artifactId&gt;\n        &lt;version&gt;4.4.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;4.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n      &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n      &lt;version&gt;6.12.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n        &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n        &lt;version&gt;5.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-net&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n        &lt;version&gt;3.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javassist&lt;/groupId&gt;\n        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n        &lt;version&gt;3.12.1.GA&lt;/version&gt;\n    &lt;/dependency&gt; \n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${basedir}/src/main/resources&lt;/directory&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;pack-sql&lt;/id&gt;\n                    &lt;configuration&gt;\n                        &lt;skipAssembly&gt;false&lt;/skipAssembly&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;skip&gt;false&lt;/skip&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.6&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;generate-sources&lt;/id&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceRoot&gt;${project.build.directory}/generated-sources/wsdl/src/gen/java&lt;/sourceRoot&gt;\n                        &lt;wsdlOptions&gt;\n                        &lt;/wsdlOptions&gt;\n\n                        &lt;defaultOptions&gt;\n                            &lt;autoNameResolution&gt;true&lt;/autoNameResolution&gt;\n                            &lt;noAddressBinding&gt;true&lt;/noAddressBinding&gt;\n                        &lt;/defaultOptions&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;wsdl2java&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.4&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n            &lt;!-- &lt;version&gt;3.0.0&lt;/version&gt; --&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;add-generated-source&lt;/id&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;add-source&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sources&gt;\n                            &lt;source&gt;${project.build.directory}/generated-sources/openapi/src/gen/java&lt;/source&gt;\n                        &lt;/sources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;sourceFileExcludes&gt;\n                    &lt;sourceFileExclude&gt;${project.build.directory}/generated-sources/**&lt;/sourceFileExclude&gt;\n                &lt;/sourceFileExcludes&gt;\n                &lt;excludePackageNames&gt;be.etnic.ddle.*,be.etnic.esb.*,\n                    be.etnic.glob.*, be.cfwb.enseignement.*, be.etnic.types.*,\n                    be.etnic.services_web.*, be.etnic.transversal.*,\n                    org.alfresco.ws.*, be.etnic.alfresco.*\n                &lt;/excludePackageNames&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Stacktrace\njavax.persistence.PersistenceException: [PersistenceUnit: h2-in-memory-pu] Unable to build Hibernate SessionFactory\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:951)\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:881)\nat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:58)\nat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\nat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\nat be.etnic.moodlecustom.lib.dao.BasicDaoTest.setUpBeforeClass(BasicDaoTest.java:27)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\nat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\nat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\nat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:126)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeAllMethod(TimeoutExtension.java:68)\nat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllMethods$9(ClassBasedTestDescriptor.java:384)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllMethods(ClassBasedTestDescriptor.java:382)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:196)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:78)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:136)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:84)\nat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister\nat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:123)\nat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77)\nat org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:128)\nat org.hibernate.internal.SessionFactoryImpl.(SessionFactoryImpl.java:297)\nat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:493)\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:878)\n... 61 more\nCaused by: org.hibernate.HibernateException: Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]\nat org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:91)\nat org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:116)\nat org.hibernate.tuple.entity.EntityMetamodel.(EntityMetamodel.java:382)\nat org.hibernate.persister.entity.AbstractEntityPersister.(AbstractEntityPersister.java:510)\nat org.hibernate.persister.entity.SingleTableEntityPersister.(SingleTableEntityPersister.java:124)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\nat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96)\n... 66 more\nCaused by: java.lang.reflect.InvocationTargetException\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\nat org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:88)\n... 76 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5c3bd550\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\nat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\nat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\nat javassist.util.proxy.SecurityActions.setAccessible(SecurityActions.java:103)\nat javassist.util.proxy.FactoryHelper.toClass2(FactoryHelper.java:181)\nat javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:164)\nat javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:507)\nat javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:492)\nat javassist.util.proxy.ProxyFactory.createClass1(ProxyFactory.java:428)\nat javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:400)\nat org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:72)\nat org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:162)\nat org.hibernate.tuple.entity.AbstractEntityTuplizer.(AbstractEntityTuplizer.java:158)\nat org.hibernate.tuple.entity.PojoEntityTuplizer.(PojoEntityTuplizer.java:58)\n... 82 more</p>\n"},{"tags":["java","azure","azure-functions","azure-java-sdk"],"comments":[{"owner":{"account_id":8782512,"reputation":1507,"user_id":6565719,"accept_rate":27,"display_name":"Master Po"},"score":1,"creation_date":1564738956,"post_id":57306448,"comment_id":101138039,"body_markdown":"Does that mean `appInsights` is the only way by which I can get the invocation logs? The functionality is already implemented and is using `logback` to write logs.\nI&#39;m trying to execute the same functionality with Azure functions. I would like to see the logs in invocation details. see image attached. But it only shows the context logger logs there. Should I use this context logger wherever I have to log something? You can see the log statements are in a different class. Similarly there are more logs in the execution flow. I&#39;ve to see them. Does it blocks the log entries from other loggers?","body":"Does that mean <code>appInsights</code> is the only way by which I can get the invocation logs? The functionality is already implemented and is using <code>logback</code> to write logs. I&#39;m trying to execute the same functionality with Azure functions. I would like to see the logs in invocation details. see image attached. But it only shows the context logger logs there. Should I use this context logger wherever I have to log something? You can see the log statements are in a different class. Similarly there are more logs in the execution flow. I&#39;ve to see them. Does it blocks the log entries from other loggers?"},{"owner":{"account_id":40617,"reputation":58344,"user_id":117700,"accept_rate":91,"display_name":"Alex Gordon"},"score":0,"creation_date":1564755621,"post_id":57306448,"comment_id":101146727,"body_markdown":"another words, it&#39;s working locally, but when you deploy to azure it does not work?","body":"another words, it&#39;s working locally, but when you deploy to azure it does not work?"},{"owner":{"account_id":40617,"reputation":58344,"user_id":117700,"accept_rate":91,"display_name":"Alex Gordon"},"score":0,"creation_date":1564755694,"post_id":57306448,"comment_id":101146764,"body_markdown":"also you keep referring to _invocation_ logs. what does invocation mean?","body":"also you keep referring to <i>invocation</i> logs. what does invocation mean?"},{"owner":{"account_id":1813,"reputation":7948,"user_id":2491,"accept_rate":82,"display_name":"Svend"},"score":1,"creation_date":1565009885,"post_id":57306448,"comment_id":101205101,"body_markdown":"Invocation refers to the act of invoking a method. It&#39;s plain english.","body":"Invocation refers to the act of invoking a method. It&#39;s plain english."},{"owner":{"account_id":8782512,"reputation":1507,"user_id":6565719,"accept_rate":27,"display_name":"Master Po"},"score":0,"creation_date":1565011165,"post_id":57306448,"comment_id":101205767,"body_markdown":"The invocation means the function gets executed whenever a new message is added to the queue(Its a queue triggered function). I pack the function with command `mvn clean package`. The command `mvn azure-functions:run` is used to run it locally. `mvn azure-functions:deploy` is used to deploy it. You can see that the statement _&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; INSIDE THE SERVICE HANDLE &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;_ is visible when its run locally. But the log statements in the class `MySampleService` is not available when its deployed in portal (not available in log streaming or invocation details).","body":"The invocation means the function gets executed whenever a new message is added to the queue(Its a queue triggered function). I pack the function with command <code>mvn clean package</code>. The command <code>mvn azure-functions:run</code> is used to run it locally. <code>mvn azure-functions:deploy</code> is used to deploy it. You can see that the statement <i>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; INSIDE THE SERVICE HANDLE &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</i> is visible when its run locally. But the log statements in the class <code>MySampleService</code> is not available when its deployed in portal (not available in log streaming or invocation details)."}],"answers":[{"tags":[],"owner":{"account_id":7760502,"reputation":818,"user_id":5873434,"accept_rate":40,"display_name":"MRDJR97"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1582668557,"creation_date":1582668557,"answer_id":60403910,"question_id":57306448,"body_markdown":"You need to use Kudu.\r\n\r\nGet the URL for the application, if your application URL is xxxxxxx.azurewebsites.net, then input xxxxxxx.scm.azurewebsites.net to see the logs.","title":"Azure Functions with java - How to get the logs written within the function?","body":"<p>You need to use Kudu.</p>\n\n<p>Get the URL for the application, if your application URL is xxxxxxx.azurewebsites.net, then input xxxxxxx.scm.azurewebsites.net to see the logs.</p>\n"},{"tags":[],"owner":{"account_id":3103902,"reputation":512,"user_id":2627264,"display_name":"Harsh Goswami"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597079883,"creation_date":1597079883,"answer_id":63344954,"question_id":57306448,"body_markdown":"None of the logging framework works other than **java.util.logging** till this date.\r\n\r\nI have tried with log4j2, but logs don&#39;t come up in invocations details **and hence they don&#39;t show up in Application Insights query** either.\r\n\r\nBut Log4j2 logs appear under **&quot;Log stream&quot;** section of any of your Functions Apps. But again, that&#39;s not really helpful.\r\n\r\nIf you have already built-in application with some other logging framework, then either you need to change all of your logging to **java.util.logging** or do below.\r\n\r\nCreate below 2 custom classes in a separate maven module and include that to all of your function modules. **Have same package name as the framework that you are using. In my case its &quot;org.apache.logging.log4j&quot;**\r\n\r\nThey are not perfectly built custom classes. But this works.\r\n\r\nLogManager.java\r\n---------------\r\n\r\n    package org.apache.logging.log4j;\r\n    \r\n    public class LogManager {\r\n    \r\n    \tstatic Logger logger = new Logger();\r\n    \r\n    \tpublic static Logger getLogger() {\r\n    \t\treturn logger;\r\n    \t}\r\n    \r\n    \tpublic static void setLogger(Logger logger1) {\r\n    \t\tlogger = logger1;\r\n    \t}\r\n    \r\n    \tpublic static Logger getLogger(Class&lt;?&gt; class1) {\r\n    \t\treturn logger;\r\n    \t}\r\n    \r\n    \tpublic static Logger getLogger(String name) {\r\n    \t\treturn logger;\r\n    \t}\r\n    }\r\n\r\nLogger.java\r\n-----------\r\n\r\n    package org.apache.logging.log4j;\r\n    \r\n    import java.util.logging.Level;\r\n    \r\n    public class Logger {\r\n    \r\n    \tprivate java.util.logging.Logger logger;\r\n    \r\n    \tpublic void setLogger(java.util.logging.Logger logger) {\r\n    \t\tthis.logger = logger;\r\n    \t}\r\n    \r\n    \tpublic void debug(Object... obj) {\r\n    \t\tprintLog(obj, Level.FINE);\r\n    \t}\r\n    \r\n    \tpublic void info(Object... obj) {\r\n    \t\tprintLog(obj, Level.INFO);\r\n    \t}\r\n    \r\n    \tpublic void error(Object... obj) {\r\n    \t\tprintLog(obj, Level.SEVERE);\r\n    \t}\r\n    \r\n    \tpublic void log(Object level, Object... obj) {\r\n    \t\tprintLog(obj, Level.FINEST);\r\n    \t}\r\n    \r\n    \tpublic void warn(Object... obj) {\r\n    \t\tprintLog(obj, Level.WARNING);\r\n    \t}\r\n    \r\n    \tprivate void printLog(Object[] obj, Level level) {\r\n    \t\tif (obj != null) {\r\n    \r\n    \t\t\tString logString = obj[0] != null ? obj[0].toString() : &quot;&quot;;\r\n    \r\n    \t\t\tif (obj.length &gt; 1) {\r\n    \t\t\t\tfor (int i = 1; i &lt; obj.length; i++) {\r\n    \t\t\t\t\tif (obj[i] != null) {\r\n    \t\t\t\t\t\tlogString = logString.replaceFirst(&quot;\\\\{}&quot;, obj[i].toString());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\tlogger.log(level, logString);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Then you can set your custom logger using Azure&#39;s Execution Context.**\r\n\r\n    // LOG var Global to class    \r\n    private final Logger LOG = LogManager.getLogger(BgdInfoAnalyticsHandler.class);\r\n\r\n    @FunctionName(&quot;func-name-fn&quot;)\r\n    \tpublic void run(\r\n    \t\t\t@ServiceBusQueueTrigger(name = &quot;TriggerName&quot;, queueName = &quot;sbq-use-queue-name&quot;, connection = &quot;AzureWebJobsServiceBus&quot;) String input,\r\n    \t\t\tExecutionContext context) {\r\n    \t\tLOG.setLogger(context.getLogger());\r\n    \t\tLogManager.setLogger(LOG);\r\n    \t\tString fnInput = HostServiceUtil.getBlobData(input);\r\n    \t\tLOG.info(&quot;fnInput : {} &quot;, fnInput);\r\n    \t\tinvokeService(fnInput);\r\n    \t}\r\n\r\nOnce this Logger is initiated/set in the entry point of your run method with Azure&#39;s ExecutionContext logger. You get this logger from any other class by doing **LogManager.getLogger** (Custom Class) as it is static.\r\n\r\n**Note:** [Static vars are being shared by different invocations or functions (if they resides in same function app)][1]\r\n\r\nThen you can do query in Application Insights as below:\r\n\r\n    union traces\r\n    | union exceptions | union requests\r\n    // | where timestamp &gt; ago(2d)\r\n    // | where cloud_RoleName =~ &#39;fun-use-function-app-name&#39; and operation_Name =~ &#39;function-name-fn&#39; //and operation_Id =~ &quot;7303edd79433b0468f934c80a88e5f77&quot;\r\n    // | where innermostMessage contains &quot;Exception&quot; or message contains &quot;Exception&quot;\r\n    | project timestamp, message = iff(message != &#39;&#39;, message, \r\n        iff(innermostMessage != &#39;&#39;, innermostMessage, customDimensions.[&#39;prop__{OriginalFormat}&#39;])), logLevel = customDimensions.[&#39;LogLevel&#39;]\r\n        , operation_Name, operation_Id, cloud_RoleName, invocationId=customDimensions[&#39;InvocationId&#39;]\r\n    | order by timestamp asc\r\n    | take 3000\r\n    \r\n\r\n**You can also see Failure/Exception under: ApplicationInsights &gt; Investigate section &gt; Failures**\r\n\r\n  [1]: https://markheath.net/post/sharing-state-between-azure-functions","title":"Azure Functions with java - How to get the logs written within the function?","body":"<p>None of the logging framework works other than <strong>java.util.logging</strong> till this date.</p>\n<p>I have tried with log4j2, but logs don't come up in invocations details <strong>and hence they don't show up in Application Insights query</strong> either.</p>\n<p>But Log4j2 logs appear under <strong>&quot;Log stream&quot;</strong> section of any of your Functions Apps. But again, that's not really helpful.</p>\n<p>If you have already built-in application with some other logging framework, then either you need to change all of your logging to <strong>java.util.logging</strong> or do below.</p>\n<p>Create below 2 custom classes in a separate maven module and include that to all of your function modules. <strong>Have same package name as the framework that you are using. In my case its &quot;org.apache.logging.log4j&quot;</strong></p>\n<p>They are not perfectly built custom classes. But this works.</p>\n<h2>LogManager.java</h2>\n<pre><code>package org.apache.logging.log4j;\n\npublic class LogManager {\n\n    static Logger logger = new Logger();\n\n    public static Logger getLogger() {\n        return logger;\n    }\n\n    public static void setLogger(Logger logger1) {\n        logger = logger1;\n    }\n\n    public static Logger getLogger(Class&lt;?&gt; class1) {\n        return logger;\n    }\n\n    public static Logger getLogger(String name) {\n        return logger;\n    }\n}\n</code></pre>\n<h2>Logger.java</h2>\n<pre><code>package org.apache.logging.log4j;\n\nimport java.util.logging.Level;\n\npublic class Logger {\n\n    private java.util.logging.Logger logger;\n\n    public void setLogger(java.util.logging.Logger logger) {\n        this.logger = logger;\n    }\n\n    public void debug(Object... obj) {\n        printLog(obj, Level.FINE);\n    }\n\n    public void info(Object... obj) {\n        printLog(obj, Level.INFO);\n    }\n\n    public void error(Object... obj) {\n        printLog(obj, Level.SEVERE);\n    }\n\n    public void log(Object level, Object... obj) {\n        printLog(obj, Level.FINEST);\n    }\n\n    public void warn(Object... obj) {\n        printLog(obj, Level.WARNING);\n    }\n\n    private void printLog(Object[] obj, Level level) {\n        if (obj != null) {\n\n            String logString = obj[0] != null ? obj[0].toString() : &quot;&quot;;\n\n            if (obj.length &gt; 1) {\n                for (int i = 1; i &lt; obj.length; i++) {\n                    if (obj[i] != null) {\n                        logString = logString.replaceFirst(&quot;\\\\{}&quot;, obj[i].toString());\n                    }\n                }                   \n            }\n            logger.log(level, logString);\n        }\n    }\n}\n</code></pre>\n<p><strong>Then you can set your custom logger using Azure's Execution Context.</strong></p>\n<pre><code>// LOG var Global to class    \nprivate final Logger LOG = LogManager.getLogger(BgdInfoAnalyticsHandler.class);\n\n@FunctionName(&quot;func-name-fn&quot;)\n    public void run(\n            @ServiceBusQueueTrigger(name = &quot;TriggerName&quot;, queueName = &quot;sbq-use-queue-name&quot;, connection = &quot;AzureWebJobsServiceBus&quot;) String input,\n            ExecutionContext context) {\n        LOG.setLogger(context.getLogger());\n        LogManager.setLogger(LOG);\n        String fnInput = HostServiceUtil.getBlobData(input);\n        LOG.info(&quot;fnInput : {} &quot;, fnInput);\n        invokeService(fnInput);\n    }\n</code></pre>\n<p>Once this Logger is initiated/set in the entry point of your run method with Azure's ExecutionContext logger. You get this logger from any other class by doing <strong>LogManager.getLogger</strong> (Custom Class) as it is static.</p>\n<p><strong>Note:</strong> <a href=\"https://markheath.net/post/sharing-state-between-azure-functions\" rel=\"nofollow noreferrer\">Static vars are being shared by different invocations or functions (if they resides in same function app)</a></p>\n<p>Then you can do query in Application Insights as below:</p>\n<pre><code>union traces\n| union exceptions | union requests\n// | where timestamp &gt; ago(2d)\n// | where cloud_RoleName =~ 'fun-use-function-app-name' and operation_Name =~ 'function-name-fn' //and operation_Id =~ &quot;7303edd79433b0468f934c80a88e5f77&quot;\n// | where innermostMessage contains &quot;Exception&quot; or message contains &quot;Exception&quot;\n| project timestamp, message = iff(message != '', message, \n    iff(innermostMessage != '', innermostMessage, customDimensions.['prop__{OriginalFormat}'])), logLevel = customDimensions.['LogLevel']\n    , operation_Name, operation_Id, cloud_RoleName, invocationId=customDimensions['InvocationId']\n| order by timestamp asc\n| take 3000\n</code></pre>\n<p><strong>You can also see Failure/Exception under: ApplicationInsights &gt; Investigate section &gt; Failures</strong></p>\n"},{"tags":[],"owner":{"account_id":13151600,"reputation":130,"user_id":9500065,"display_name":"Helay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601903085,"creation_date":1601903085,"answer_id":64209207,"question_id":57306448,"body_markdown":"It&#39;s now available via [distributed tracing][1]. You can view richer data from your function applications pertaining to the following [requests, dependencies, logs and metrics.][2]\r\n\r\nAll you need is:\r\n1. Add dependency:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;applicationinsights-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6.0&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n```\r\n\r\n2. Create a configuration file named **ApplicationInsights.json** with the following content:\r\n\r\n```\r\n{\r\n  &quot;instrumentationSettings&quot;: {\r\n    &quot;connectionString&quot;: &quot;InstrumentationKey=00000000-0000-0000-0000-000000000000&quot;\r\n  }\r\n}\r\n```\r\n\r\n3. Create a TelemetryClient:\r\n\r\n```\r\nprivate static final TelemetryClient telemetryClient = new TelemetryClient();\r\n```\r\n\r\n4. Use it\r\n\r\n```\r\n  telemetryClient.trackTrace(message, SeverityLevel.Warning, properties);\r\n```\r\n  [1]: https://github.com/Azure/azure-functions-java-worker/wiki/Distributed-Tracing-for-Java-Azure-Functions\r\n  [2]: https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-in-process-agent#autocollected-requests-dependencies-logs-and-metrics\r\n","title":"Azure Functions with java - How to get the logs written within the function?","body":"<p>It's now available via <a href=\"https://github.com/Azure/azure-functions-java-worker/wiki/Distributed-Tracing-for-Java-Azure-Functions\" rel=\"nofollow noreferrer\">distributed tracing</a>. You can view richer data from your function applications pertaining to the following <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-in-process-agent#autocollected-requests-dependencies-logs-and-metrics\" rel=\"nofollow noreferrer\">requests, dependencies, logs and metrics.</a></p>\n<p>All you need is:</p>\n<ol>\n<li>Add dependency:</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;applicationinsights-core&lt;/artifactId&gt;\n    &lt;version&gt;2.6.0&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Create a configuration file named <strong>ApplicationInsights.json</strong> with the following content:</li>\n</ol>\n<pre><code>{\n  &quot;instrumentationSettings&quot;: {\n    &quot;connectionString&quot;: &quot;InstrumentationKey=00000000-0000-0000-0000-000000000000&quot;\n  }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Create a TelemetryClient:</li>\n</ol>\n<pre><code>private static final TelemetryClient telemetryClient = new TelemetryClient();\n</code></pre>\n<ol start=\"4\">\n<li>Use it</li>\n</ol>\n<pre><code>  telemetryClient.trackTrace(message, SeverityLevel.Warning, properties);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645432445,"creation_date":1644347424,"answer_id":71039572,"question_id":57306448,"body_markdown":"**Updated in 2022**\r\n\r\nApplication Insights agent supports SLF4j logs (for log4j2, logback, and jul) out of the box. Quoting from https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config#auto-collected-logging\r\n\r\n&gt; Log4j, Logback, and java.util.logging are auto-instrumented, and\r\n&gt; logging performed via these logging frameworks is auto-collected.\r\n&gt; Logging is only captured if it first meets the level that is\r\n&gt; configured for the logging framework, and second, also meets the level\r\n&gt; that is configured for Application Insights.\r\n\r\nFor more details, refer to a similar question: https://stackoverflow.com/a/71203259/894565","title":"Azure Functions with java - How to get the logs written within the function?","body":"<p><strong>Updated in 2022</strong></p>\n<p>Application Insights agent supports SLF4j logs (for log4j2, logback, and jul) out of the box. Quoting from <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config#auto-collected-logging\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config#auto-collected-logging</a></p>\n<blockquote>\n<p>Log4j, Logback, and java.util.logging are auto-instrumented, and\nlogging performed via these logging frameworks is auto-collected.\nLogging is only captured if it first meets the level that is\nconfigured for the logging framework, and second, also meets the level\nthat is configured for Application Insights.</p>\n</blockquote>\n<p>For more details, refer to a similar question: <a href=\"https://stackoverflow.com/a/71203259/894565\">https://stackoverflow.com/a/71203259/894565</a></p>\n"}],"owner":{"account_id":8782512,"reputation":1507,"user_id":6565719,"accept_rate":27,"display_name":"Master Po"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7026,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1645432445,"creation_date":1564653465,"question_id":57306448,"body_markdown":"I&#39;ve deployed a queue triggered azure function with Java in Azure. I&#39;ve added `logback-classic` and `lombok` in `pom.xml` for logging.\r\nBut the logs are not displayed on the function&#39;s `monitor &gt; invocation details` or the `log-streaming service` in portal.\r\nBut I could see the logs written with `context.getLogger()`. The logs writter with logback logger is not visible. Please let me know how to check my logs in function invocation.\r\n\r\nFollowing is the queue triggerred azure function handle\r\n\r\n    public class QueueHandlerFunction {\r\n    \r\n      @FunctionName(&quot;queuetriggertest&quot;)\r\n      public void queueMessageHandler(@QueueTrigger(name = &quot;msg&quot;,\r\n          queueName = &quot;my-test-queue&quot;, connection = &quot;MyQStorage&quot;) final String payload,\r\n          final ExecutionContext context) {\r\n    \r\n    \t//Logs with this logger is visible\r\n        context.getLogger().info(&quot;Received Message From my-test-queue : &quot; + payload);\r\n    \t\r\n        MySampleService.handleQueueMessage(payload);\r\n      }\r\n    }\r\n\r\nFollowing is the `MySampleService` class with lombok logger\r\n\r\n    @Slf4j\r\n    public class MySampleService {\r\n    \r\n      public static void handleQueueMessage(final String payload) {\r\n    \r\n        log.info(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; INSIDE THE SERVICE HANDLE &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n        if (StringUtils.isNotBlank(payload)) {\r\n    \t\tlog.info(&quot;Received Payload : {}&quot;, payload); //This log not available\r\n    \t\t// TODO Work with incoming payload\r\n        } else {\r\n          log.info(&quot;Message payload is Blank.&quot;); //This log not available\r\n        }\r\n      }\r\n    \r\n    }\r\n\r\nFollowing is he `logback.xml` placed in the resources folder of the maven project.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE xml&gt;\r\n    &lt;configuration&gt;\r\n       &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n          &lt;encoder&gt;\r\n             &lt;pattern&gt;%d{E MMM dd yyyy hh:mm:ss a} [%thread] %-5level %logger{36}\r\n    \t\t\t\t- %msg%n&lt;/pattern&gt;\r\n          &lt;/encoder&gt;\r\n       &lt;/appender&gt;\r\n       \r\n       &lt;logger name=&quot;com.howayig.test&quot; level=&quot;INFO&quot; /&gt;\r\n       &lt;root level=&quot;INFO&quot;&gt;\r\n          &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n       &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\nAnd I&#39;ve the following dependencies in the `pom.xml`\r\n\r\n\t\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.microsoft.azure.functions&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;azure-functions-java-library&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;3.7&lt;/version&gt;\r\n\t\t    &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.16.20&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\n**EDIT**: Attached portal screenshot for the function invocation logs...\r\n\r\n[![Attached portal screenshot for the function invocation logs][1]][1]\r\n\r\n\r\n**EDIT 2**: Added screenshots of local execution and deployed one in portal.\r\n\r\n - Logs in command prompt when is executed locally\r\n[![Command prompt when executed the function locally][2]][2]\r\n\r\n - Live streaming console service of the function from the portal for a new message in queue\r\n[![Portal Console with live streaming][3]][3]\r\n - Invocation details of the function from the portal for a new message in queue\r\n[![Portal Invocation details][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rHLTl.png\r\n  [2]: https://i.stack.imgur.com/pfp6Y.png\r\n  [3]: https://i.stack.imgur.com/vZM20.png\r\n  [4]: https://i.stack.imgur.com/9HZyZ.png","title":"Azure Functions with java - How to get the logs written within the function?","body":"<p>I've deployed a queue triggered azure function with Java in Azure. I've added <code>logback-classic</code> and <code>lombok</code> in <code>pom.xml</code> for logging.\nBut the logs are not displayed on the function's <code>monitor &gt; invocation details</code> or the <code>log-streaming service</code> in portal.\nBut I could see the logs written with <code>context.getLogger()</code>. The logs writter with logback logger is not visible. Please let me know how to check my logs in function invocation.</p>\n<p>Following is the queue triggerred azure function handle</p>\n<pre><code>public class QueueHandlerFunction {\n\n  @FunctionName(&quot;queuetriggertest&quot;)\n  public void queueMessageHandler(@QueueTrigger(name = &quot;msg&quot;,\n      queueName = &quot;my-test-queue&quot;, connection = &quot;MyQStorage&quot;) final String payload,\n      final ExecutionContext context) {\n\n    //Logs with this logger is visible\n    context.getLogger().info(&quot;Received Message From my-test-queue : &quot; + payload);\n    \n    MySampleService.handleQueueMessage(payload);\n  }\n}\n</code></pre>\n<p>Following is the <code>MySampleService</code> class with lombok logger</p>\n<pre><code>@Slf4j\npublic class MySampleService {\n\n  public static void handleQueueMessage(final String payload) {\n\n    log.info(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; INSIDE THE SERVICE HANDLE &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n    if (StringUtils.isNotBlank(payload)) {\n        log.info(&quot;Received Payload : {}&quot;, payload); //This log not available\n        // TODO Work with incoming payload\n    } else {\n      log.info(&quot;Message payload is Blank.&quot;); //This log not available\n    }\n  }\n\n}\n</code></pre>\n<p>Following is he <code>logback.xml</code> placed in the resources folder of the maven project.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE xml&gt;\n&lt;configuration&gt;\n   &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n      &lt;encoder&gt;\n         &lt;pattern&gt;%d{E MMM dd yyyy hh:mm:ss a} [%thread] %-5level %logger{36}\n                - %msg%n&lt;/pattern&gt;\n      &lt;/encoder&gt;\n   &lt;/appender&gt;\n   \n   &lt;logger name=&quot;com.howayig.test&quot; level=&quot;INFO&quot; /&gt;\n   &lt;root level=&quot;INFO&quot;&gt;\n      &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n   &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>And I've the following dependencies in the <code>pom.xml</code></p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.azure.functions&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-functions-java-library&lt;/artifactId&gt;\n            &lt;version&gt;1.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.16.20&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p><strong>EDIT</strong>: Attached portal screenshot for the function invocation logs...</p>\n<p><a href=\"https://i.stack.imgur.com/rHLTl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rHLTl.png\" alt=\"Attached portal screenshot for the function invocation logs\" /></a></p>\n<p><strong>EDIT 2</strong>: Added screenshots of local execution and deployed one in portal.</p>\n<ul>\n<li><p>Logs in command prompt when is executed locally\n<a href=\"https://i.stack.imgur.com/pfp6Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pfp6Y.png\" alt=\"Command prompt when executed the function locally\" /></a></p>\n</li>\n<li><p>Live streaming console service of the function from the portal for a new message in queue\n<a href=\"https://i.stack.imgur.com/vZM20.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vZM20.png\" alt=\"Portal Console with live streaming\" /></a></p>\n</li>\n<li><p>Invocation details of the function from the portal for a new message in queue\n<a href=\"https://i.stack.imgur.com/9HZyZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9HZyZ.png\" alt=\"Portal Invocation details\" /></a></p>\n</li>\n</ul>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1607551197,"creation_date":1607551197,"answer_id":65225549,"question_id":65225459,"body_markdown":"` linearlayout_profile` is null because you navigated to another activity and there is no reference to `linearlayout_profile` and hence null.\r\n\r\nYou need to add null check to prevent the crash.","title":"If we change fragment before countdowntimer is finished, the application crashes in android","body":"<p><code> linearlayout_profile</code> is null because you navigated to another activity and there is no reference to <code>linearlayout_profile</code> and hence null.</p>\n<p>You need to add null check to prevent the crash.</p>\n"},{"tags":[],"owner":{"account_id":14172306,"reputation":1738,"user_id":10238560,"display_name":"Tarif Chakder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607574776,"creation_date":1607574776,"answer_id":65228551,"question_id":65225459,"body_markdown":"when you passed to another activity you should destroy timer\r\n\r\n       override fun onDestroy() {\r\n        super.onDestroy()\r\n        timer?.cancel()\r\n    }","title":"If we change fragment before countdowntimer is finished, the application crashes in android","body":"<p>when you passed to another activity you should destroy timer</p>\n<pre><code>   override fun onDestroy() {\n    super.onDestroy()\n    timer?.cancel()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17878837,"reputation":21,"user_id":12988168,"display_name":"Yazeed Mohammad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645432045,"creation_date":1645432045,"answer_id":71203207,"question_id":65225459,"body_markdown":"        private var countDownTimer: CountDownTimer? = null\r\n\r\n        private fun startTimer() {\r\n        countDownTimer = object : CountDownTimer(100000, 1000) {\r\n            override fun onTick(millisUntilFinished: Long) {\r\n                val secondsUntilFinished: Long = ceil(millisUntilFinished.toDouble() / 1000).toLong()\r\n\r\n                val string: String = getString(R.string.resend_code_after).replace(&quot;*&quot;, secondsUntilFinished.toString())\r\n                binding.resendOTP.text = string\r\n            }\r\n\r\n            override fun onFinish() {\r\n                val string: String = getString(R.string.resend_code)\r\n                binding.resendOTP.text = string\r\n            }\r\n        }.start()\r\n    }\r\n\r\nthen when you want to change fragment or activity use this code in onClick or Nav function to cancel countDown before change fragment or activity\r\n\r\n    countDownTimer!!.cancel()","title":"If we change fragment before countdowntimer is finished, the application crashes in android","body":"<pre><code>    private var countDownTimer: CountDownTimer? = null\n\n    private fun startTimer() {\n    countDownTimer = object : CountDownTimer(100000, 1000) {\n        override fun onTick(millisUntilFinished: Long) {\n            val secondsUntilFinished: Long = ceil(millisUntilFinished.toDouble() / 1000).toLong()\n\n            val string: String = getString(R.string.resend_code_after).replace(&quot;*&quot;, secondsUntilFinished.toString())\n            binding.resendOTP.text = string\n        }\n\n        override fun onFinish() {\n            val string: String = getString(R.string.resend_code)\n            binding.resendOTP.text = string\n        }\n    }.start()\n}\n</code></pre>\n<p>then when you want to change fragment or activity use this code in onClick or Nav function to cancel countDown before change fragment or activity</p>\n<pre><code>countDownTimer!!.cancel()\n</code></pre>\n"}],"owner":{"account_id":20174681,"reputation":63,"user_id":14796648,"display_name":"Burak Erg&#252;n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65225549,"answer_count":3,"score":0,"last_activity_date":1645432045,"creation_date":1607550753,"question_id":65225459,"body_markdown":"As soon as the application opens, I use a 2-second countdown timer. After 2 second I visible linearlayout and invisible progressbar. The reason I use this is because I can pull all data through firebase and assign it to the corresponding text boxes. However, if I pass to another activity during the countdown timer, the program crashes.\r\n\r\n```\r\nobject : CountDownTimer(1000, 1000) {\r\n            override fun onTick(p0: Long) {\r\n            }\r\n\r\n            override fun onFinish() {\r\n                  linearLayout_profile.visibility = View.VISIBLE\r\n                  progressBar_profile.visibility = View.INVISIBLE\r\n            }\r\n        }.start()\r\n```\r\n\r\n```\r\n2020-12-10 00:50:24.118 1742-1742/com.burakergun.emre E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.burakergun.emre, PID: 1742\r\n    java.lang.NullPointerException: linearLayout_profile must not be null\r\n        at com.burakergun.emre.Fragment.ProfileFragment$onViewCreated$3.onFinish(ProfileFragment.kt:66)\r\n        at android.os.CountDownTimer$1.handleMessage(CountDownTimer.java:127)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n2020-12-10 00:50:24.185 1742-1742/com.burakergun.emre I/Process: Sending signal. PID: 1742 SIG: 9\r\n\r\n```\r\n\r\nI check the logcat and show the fatal error. The error says linearlayout_profile must be not null. How can linearlayout_profile be null. I dont understand that \r\npart.","title":"If we change fragment before countdowntimer is finished, the application crashes in android","body":"<p>As soon as the application opens, I use a 2-second countdown timer. After 2 second I visible linearlayout and invisible progressbar. The reason I use this is because I can pull all data through firebase and assign it to the corresponding text boxes. However, if I pass to another activity during the countdown timer, the program crashes.</p>\n<pre><code>object : CountDownTimer(1000, 1000) {\n            override fun onTick(p0: Long) {\n            }\n\n            override fun onFinish() {\n                  linearLayout_profile.visibility = View.VISIBLE\n                  progressBar_profile.visibility = View.INVISIBLE\n            }\n        }.start()\n</code></pre>\n<pre><code>2020-12-10 00:50:24.118 1742-1742/com.burakergun.emre E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.burakergun.emre, PID: 1742\n    java.lang.NullPointerException: linearLayout_profile must not be null\n        at com.burakergun.emre.Fragment.ProfileFragment$onViewCreated$3.onFinish(ProfileFragment.kt:66)\n        at android.os.CountDownTimer$1.handleMessage(CountDownTimer.java:127)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n2020-12-10 00:50:24.185 1742-1742/com.burakergun.emre I/Process: Sending signal. PID: 1742 SIG: 9\n\n</code></pre>\n<p>I check the logcat and show the fatal error. The error says linearlayout_profile must be not null. How can linearlayout_profile be null. I dont understand that\npart.</p>\n"},{"tags":["java","reflection","dynamic","invoke"],"answers":[{"tags":[],"owner":{"account_id":13361,"reputation":5213,"user_id":26787,"accept_rate":50,"display_name":"alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1229129175,"creation_date":1229129175,"answer_id":364593,"question_id":364523,"body_markdown":"Take a look at [Java&#39;s scripting support][1]; I believe it will help you tackle your problem.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/javax/script/package-summary.html","title":"Is there a general &quot;back-end&quot; library for Java reflection","body":"<p>Take a look at <a href=\"http://java.sun.com/javase/6/docs/api/javax/script/package-summary.html\" rel=\"nofollow noreferrer\">Java's scripting support</a>; I believe it will help you tackle your problem.</p>\n"},{"tags":[],"owner":{"account_id":16191,"reputation":943,"user_id":35014,"accept_rate":100,"display_name":"Nils-Petter Nilsen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1229198376,"creation_date":1229198376,"answer_id":365633,"question_id":364523,"body_markdown":"Have a look at &lt;a href=&quot;http://commons.apache.org/beanutils/&quot;&gt;Apache Commons BeanUtils&lt;/a&gt;","title":"Is there a general &quot;back-end&quot; library for Java reflection","body":"<p>Have a look at <a href=\"http://commons.apache.org/beanutils/\" rel=\"nofollow noreferrer\">Apache Commons BeanUtils</a></p>\n"},{"tags":[],"owner":{"account_id":7416,"reputation":15463,"user_id":12880,"display_name":"flicken"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1510572314,"creation_date":1229202001,"answer_id":365724,"question_id":364523,"body_markdown":"Try the [FEST Reflection][1] module.  It&#39;s a fluent way to do Java reflection.  For example:\r\n\r\n     String name = method(&quot;get&quot;).withReturnType(String.class)\r\n                             .withParameterTypes(int.class)\r\n                             .in(names)\r\n                             .invoke(8);\r\n\r\n\r\n\r\n  [1]: https://github.com/alexruiz/fest-reflect","title":"Is there a general &quot;back-end&quot; library for Java reflection","body":"<p>Try the <a href=\"https://github.com/alexruiz/fest-reflect\" rel=\"nofollow noreferrer\">FEST Reflection</a> module.  It's a fluent way to do Java reflection.  For example:</p>\n\n<pre><code> String name = method(\"get\").withReturnType(String.class)\n                         .withParameterTypes(int.class)\n                         .in(names)\n                         .invoke(8);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17822,"reputation":39726,"user_id":40310,"accept_rate":62,"display_name":"Dave Ray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1229204518,"creation_date":1229204518,"answer_id":365786,"question_id":364523,"body_markdown":"I ended up going with Alex&#39;s suggestion. BeanUtils helps a lot for beans, but I don&#39;t want to work solely with Beans. FEST looks really cool and I&#39;ve bookmarked it for further study, but like BeanUtils, it doesn&#39;t appear to solve what I consider to be the difficult problem here. Namely, given a method name and list of arguments, pick the method that best &quot;fits&quot; the arguments. If a method takes a float and I have a double, it should be smart enough to not reject that method because the signature doesn&#39;t match exactly.\r\n\r\nObviously, scripting languages built on the JVM solve this problem, but in a much more complicated way than I need due to language-specific optimizations. So, since this is a minor and experimental feature, I&#39;ve chosen an expeditious solution using the scripting engine support (JavaScript, in particular) in Java 1.6. Here&#39;s the basic idea:\r\n\r\n    private ScriptEngine engine = ... initialize with JavaScript engine ...\r\n    \r\n    private Object invoke(Object object, String methodName, Object[] args) \r\n       throws RhsFunctionException\r\n    {\r\n       // build up &quot;o.method(arg0, arg1, arg2, ...)&quot;\r\n       StringBuilder exp = new StringBuilder(&quot;o.&quot; + methodName);\r\n       engine.put(&quot;o&quot;, object);\r\n       buildArgs(arguments, exp);\r\n       \r\n       try {\r\n          return engine.eval(exp.toString());\r\n       }\r\n       catch (ScriptException e) {\r\n          throw new RhsFunctionException(e.getMessage(), e);\r\n       }\r\n    }\r\n    \r\n    private void buildArgs(Object[] args, StringBuilder exp)\r\n    {\r\n       // Use bindings to avoid having to escape arguments\r\n       exp.append(&#39;(&#39;);\r\n       int i = 0;\r\n       for(Symbol arg : args) {\r\n             String argName = &quot;arg&quot; + i;\r\n             engine.put(argName, arg);\r\n             if(i != 0) {\r\n                exp.append(&#39;,&#39;);\r\n             }\r\n             exp.append(argName);\r\n             ++i;\r\n       }\r\n       exp.append(&#39;)&#39;);\r\n    }\r\n\r\nThere&#39;s obviously a bit more to it, but this is the basic idea. I don&#39;t really like building up a string and evaluating it, but by using the bindings suggested by Alex, I avoid most of the pitfalls around escaping. Furthermore, I have a clean, simple interface that I can swap out with a &quot;real&quot; implementation if it proves necessary.\r\n\r\nAny feedback or alternate solutions are more than welcome.\r\n","title":"Is there a general &quot;back-end&quot; library for Java reflection","body":"<p>I ended up going with Alex's suggestion. BeanUtils helps a lot for beans, but I don't want to work solely with Beans. FEST looks really cool and I've bookmarked it for further study, but like BeanUtils, it doesn't appear to solve what I consider to be the difficult problem here. Namely, given a method name and list of arguments, pick the method that best \"fits\" the arguments. If a method takes a float and I have a double, it should be smart enough to not reject that method because the signature doesn't match exactly.</p>\n\n<p>Obviously, scripting languages built on the JVM solve this problem, but in a much more complicated way than I need due to language-specific optimizations. So, since this is a minor and experimental feature, I've chosen an expeditious solution using the scripting engine support (JavaScript, in particular) in Java 1.6. Here's the basic idea:</p>\n\n<pre><code>private ScriptEngine engine = ... initialize with JavaScript engine ...\n\nprivate Object invoke(Object object, String methodName, Object[] args) \n   throws RhsFunctionException\n{\n   // build up \"o.method(arg0, arg1, arg2, ...)\"\n   StringBuilder exp = new StringBuilder(\"o.\" + methodName);\n   engine.put(\"o\", object);\n   buildArgs(arguments, exp);\n\n   try {\n      return engine.eval(exp.toString());\n   }\n   catch (ScriptException e) {\n      throw new RhsFunctionException(e.getMessage(), e);\n   }\n}\n\nprivate void buildArgs(Object[] args, StringBuilder exp)\n{\n   // Use bindings to avoid having to escape arguments\n   exp.append('(');\n   int i = 0;\n   for(Symbol arg : args) {\n         String argName = \"arg\" + i;\n         engine.put(argName, arg);\n         if(i != 0) {\n            exp.append(',');\n         }\n         exp.append(argName);\n         ++i;\n   }\n   exp.append(')');\n}\n</code></pre>\n\n<p>There's obviously a bit more to it, but this is the basic idea. I don't really like building up a string and evaluating it, but by using the bindings suggested by Alex, I avoid most of the pitfalls around escaping. Furthermore, I have a clean, simple interface that I can swap out with a \"real\" implementation if it proves necessary.</p>\n\n<p>Any feedback or alternate solutions are more than welcome.</p>\n"},{"tags":[],"owner":{"account_id":19073,"reputation":1091,"user_id":44380,"display_name":"Bent Andr&#233; Solheim"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1325185516,"creation_date":1229331141,"answer_id":367800,"question_id":364523,"body_markdown":"Just a comment to your own answer; actually beanutils has support for getting &quot;a close match&quot; given a set of parameters. See [getMatchingAccessibleMethod()][1]\r\n\r\nBeanUtils is really powerful and has lots of utility methods for inspecting classes. The same support is naturally available for constructors.\r\n\r\n  [1]: http://commons.apache.org/beanutils/v1.8.0/apidocs/org/apache/commons/beanutils/MethodUtils.html#getMatchingAccessibleMethod(java.lang.Class,%20java.lang.String,%20java.lang.Class[])","title":"Is there a general &quot;back-end&quot; library for Java reflection","body":"<p>Just a comment to your own answer; actually beanutils has support for getting \"a close match\" given a set of parameters. See <a href=\"http://commons.apache.org/beanutils/v1.8.0/apidocs/org/apache/commons/beanutils/MethodUtils.html#getMatchingAccessibleMethod(java.lang.Class,%20java.lang.String,%20java.lang.Class[])\" rel=\"nofollow noreferrer\">getMatchingAccessibleMethod()</a></p>\n\n<p>BeanUtils is really powerful and has lots of utility methods for inspecting classes. The same support is naturally available for constructors.</p>\n"},{"tags":[],"owner":{"account_id":47675,"reputation":7983,"user_id":141321,"accept_rate":66,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264054207,"creation_date":1264054207,"answer_id":2107261,"question_id":364523,"body_markdown":"I would strongly consider also having a look at springs ReflectionUtils class.\r\nVery powerful reflection handling.\r\n","title":"Is there a general &quot;back-end&quot; library for Java reflection","body":"<p>I would strongly consider also having a look at springs ReflectionUtils class.\nVery powerful reflection handling.</p>\n"},{"tags":[],"owner":{"account_id":126468,"reputation":101,"user_id":322986,"display_name":"Hexren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305029145,"creation_date":1275580589,"answer_id":2967645,"question_id":364523,"body_markdown":"TO raise this from the dead:\r\n\r\n\r\n    invoke(Object object, String methodName, Object[] args) \r\n\r\nApache Commons lang has exactly that method. \r\n[MethodUtils#invoke][1]\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/api-2.6/org/apache/commons/lang/reflect/MethodUtils.html#invokeMethod%28java.lang.Object,%20java.lang.String,%20java.lang.Object%5B%5D%29","title":"Is there a general &quot;back-end&quot; library for Java reflection","body":"<p>TO raise this from the dead:</p>\n\n<pre><code>invoke(Object object, String methodName, Object[] args) \n</code></pre>\n\n<p>Apache Commons lang has exactly that method. \n<a href=\"http://commons.apache.org/lang/api-2.6/org/apache/commons/lang/reflect/MethodUtils.html#invokeMethod%28java.lang.Object,%20java.lang.String,%20java.lang.Object%5B%5D%29\" rel=\"nofollow noreferrer\">MethodUtils#invoke</a></p>\n"},{"tags":[],"owner":{"account_id":16614,"reputation":1490,"user_id":36397,"accept_rate":62,"display_name":"yclian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1320682932,"creation_date":1320647799,"answer_id":8033416,"question_id":364523,"body_markdown":"I wrote and open-sourced this code after reading this thread, maybe you can find it useful.\r\n\r\nhttps://github.com/yclian/Reflects.java/blob/master/src/test/java/my/jug/reflects/ReflectsTest.java\r\n\r\nIt&#39;s inspired by Guava, so you can use `Predicate` to filter the methods you like.\r\n","title":"Is there a general &quot;back-end&quot; library for Java reflection","body":"<p>I wrote and open-sourced this code after reading this thread, maybe you can find it useful.</p>\n\n<p><a href=\"https://github.com/yclian/Reflects.java/blob/master/src/test/java/my/jug/reflects/ReflectsTest.java\" rel=\"nofollow\">https://github.com/yclian/Reflects.java/blob/master/src/test/java/my/jug/reflects/ReflectsTest.java</a></p>\n\n<p>It's inspired by Guava, so you can use <code>Predicate</code> to filter the methods you like.</p>\n"},{"tags":[],"owner":{"account_id":27543,"reputation":7198,"user_id":72810,"accept_rate":61,"display_name":"lexicalscope"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1324467614,"creation_date":1324467614,"answer_id":8589222,"question_id":364523,"body_markdown":"I have started to create a library com.lexicalscope.fluent-reflection:fluent-reflection\r\n which integrates with [hamcrest][1] and [lambdaj][2]\r\n\r\nYou can write code like this; which calls all the post construct annotated methods in a class:\r\n\r\n    forEach(\r\n       object(subject).methods(annotatedWith(PostConstruct.class)),\r\n       ReflectedMethod.class).call();\r\n\r\n\r\nBlog post here: http://www.lexicalscope.com/blog/category/software-projects/fluent-reflection/\r\n\r\nDocumentation here: http://fluent-reflection.lexicalscope.com/\r\n\r\nYou can get it from maven central here:\r\nhttp://repo1.maven.org/maven2/com/lexicalscope/fluent-reflection/fluent-reflection/\r\n\r\nIt has some basic features missing at the moment, like access to fields, but it works for methods. It will probably take a while to get to a really feature stable point (like a year or two), as I am only working on it occasionally. But it is developed to quite a high quality standard (I hope) and it is opensource so you can basically use it as it is now if it has all the features you need (you just might have to adjust your code a bit if you want to use newer versions that are released). I am using it in some production code at them moment.\r\n\r\nIt is designed to be quite extensible, so you can plugin in strategies to find the methods you want in a loosely coupled (compositional) style. So if it doesn&#39;t have the exact method lookup strategy you want, hopefully it is easy to add it.\r\n\r\n  [1]: http://code.google.com/p/hamcrest/%20hamcrest\r\n  [2]: http://code.google.com/p/lambdaj/%20lambdaj","title":"Is there a general &quot;back-end&quot; library for Java reflection","body":"<p>I have started to create a library com.lexicalscope.fluent-reflection:fluent-reflection\n which integrates with <a href=\"http://code.google.com/p/hamcrest/%20hamcrest\" rel=\"nofollow\">hamcrest</a> and <a href=\"http://code.google.com/p/lambdaj/%20lambdaj\" rel=\"nofollow\">lambdaj</a></p>\n\n<p>You can write code like this; which calls all the post construct annotated methods in a class:</p>\n\n<pre><code>forEach(\n   object(subject).methods(annotatedWith(PostConstruct.class)),\n   ReflectedMethod.class).call();\n</code></pre>\n\n<p>Blog post here: <a href=\"http://www.lexicalscope.com/blog/category/software-projects/fluent-reflection/\" rel=\"nofollow\">http://www.lexicalscope.com/blog/category/software-projects/fluent-reflection/</a></p>\n\n<p>Documentation here: <a href=\"http://fluent-reflection.lexicalscope.com/\" rel=\"nofollow\">http://fluent-reflection.lexicalscope.com/</a></p>\n\n<p>You can get it from maven central here:\n<a href=\"http://repo1.maven.org/maven2/com/lexicalscope/fluent-reflection/fluent-reflection/\" rel=\"nofollow\">http://repo1.maven.org/maven2/com/lexicalscope/fluent-reflection/fluent-reflection/</a></p>\n\n<p>It has some basic features missing at the moment, like access to fields, but it works for methods. It will probably take a while to get to a really feature stable point (like a year or two), as I am only working on it occasionally. But it is developed to quite a high quality standard (I hope) and it is opensource so you can basically use it as it is now if it has all the features you need (you just might have to adjust your code a bit if you want to use newer versions that are released). I am using it in some production code at them moment.</p>\n\n<p>It is designed to be quite extensible, so you can plugin in strategies to find the methods you want in a loosely coupled (compositional) style. So if it doesn't have the exact method lookup strategy you want, hopefully it is easy to add it.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1325186162,"creation_date":1325186162,"answer_id":8672357,"question_id":364523,"body_markdown":"If you&#39;re looking for simplicity, I have created a simple library called [jOOR][1] in order to facilitate access to the reflection API in Java. It supports the most essential actions without building up a huge API. Here&#39;s an example of what jOOR code looks like:\r\n\r\n    String world = \r\n    on(&quot;java.lang.String&quot;) // Like Class.forName()\r\n    .create(&quot;Hello World&quot;) // Call the most specific matching constructor\r\n    .call(&quot;substring&quot;, 6)  // Call the most specific matching substring() method\r\n    .call(&quot;toString&quot;)      // Call toString()\r\n    .get()                 // Get the wrapped object, in this case a String\r\n\r\n\r\n  [1]: http://code.google.com/p/joor/","title":"Is there a general &quot;back-end&quot; library for Java reflection","body":"<p>If you're looking for simplicity, I have created a simple library called <a href=\"http://code.google.com/p/joor/\" rel=\"noreferrer\">jOOR</a> in order to facilitate access to the reflection API in Java. It supports the most essential actions without building up a huge API. Here's an example of what jOOR code looks like:</p>\n\n<pre><code>String world = \non(\"java.lang.String\") // Like Class.forName()\n.create(\"Hello World\") // Call the most specific matching constructor\n.call(\"substring\", 6)  // Call the most specific matching substring() method\n.call(\"toString\")      // Call toString()\n.get()                 // Get the wrapped object, in this case a String\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11885028,"reputation":2467,"user_id":8697659,"display_name":"improbable"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589213678,"creation_date":1589213678,"answer_id":61734299,"question_id":364523,"body_markdown":"There is the [reflections][1] project, which I believe the most up-to-date utility reflections library with Java 8 support compared to others resorts listed hereabove and ultimately the best way to do some advanced reflection actions as of March 2020.\r\n\r\nIt reads:\r\n&gt; Released org.reflections:reflections:0.9.12 - with support for Java 8\r\n&gt; &lt;br&gt;...&lt;br&gt;\r\n&gt; Reflections library has over 2.5 million downloads per month from Maven Central, and is being used by thousands of projects and libraries. We&#39;re looking for maintainers to assist in reviewing pull requests and managing releases, please reach out.\r\n&gt; &lt;br&gt;...&lt;br&gt;\r\n&gt; Reflections scans your classpath, indexes the metadata, allows you to query it on runtime and may save and collect that information for many modules within your project.\r\n\r\nUsed in conjunction with Java Standard Reflection, it should satisfy all your needs.\r\n\r\n\r\n  [1]: https://github.com/ronmamo/reflections","title":"Is there a general &quot;back-end&quot; library for Java reflection","body":"<p>There is the <a href=\"https://github.com/ronmamo/reflections\" rel=\"nofollow noreferrer\">reflections</a> project, which I believe the most up-to-date utility reflections library with Java 8 support compared to others resorts listed hereabove and ultimately the best way to do some advanced reflection actions as of March 2020.</p>\n\n<p>It reads:</p>\n\n<blockquote>\n  <p>Released org.reflections:reflections:0.9.12 - with support for Java 8\n  <br>...<br>\n  Reflections library has over 2.5 million downloads per month from Maven Central, and is being used by thousands of projects and libraries. We're looking for maintainers to assist in reviewing pull requests and managing releases, please reach out.\n  <br>...<br>\n  Reflections scans your classpath, indexes the metadata, allows you to query it on runtime and may save and collect that information for many modules within your project.</p>\n</blockquote>\n\n<p>Used in conjunction with Java Standard Reflection, it should satisfy all your needs.</p>\n"}],"owner":{"account_id":17822,"reputation":39726,"user_id":40310,"accept_rate":62,"display_name":"Dave Ray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7358,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":367800,"answer_count":11,"score":12,"last_activity_date":1645431871,"creation_date":1229126406,"question_id":364523,"body_markdown":"I&#39;m currently working with a specialized, interpreted, programming language implemented in Java. As a very small part of the language, I&#39;d like to add the ability to make calls into Java.  Before I dive into all of the nitty-gritty of reflection, I was wondering if anyone knew of a general library for doing the &quot;back-end&quot; part of invoking Java code reflectively.\r\n\r\nThat is, I parse a string (I define the grammar) into some data structure that represents a Java method call (or constructor, or field access) and then pass that data structure to this library that invokes the call and returns the result. In particular, I&#39;d like it to already handle all the edge cases that I don&#39;t want to figure out:\r\n\r\n  - Automagically pick the right method based on the types of arguments (like an intelligent Class.getDeclaredMethod())\r\n  - Handle distinction between arrays and normal object references\r\n  - etc\r\n\r\nI&#39;ve spent a little time looking at the implementations of dynamic languages on the JVM, but these are generally much more complicated than I&#39;m looking for, or highly optimized for the particular language.\r\n\r\nAnother option is to convert my grammar into a string in some dynamic language and invoke it with Rhino or something, but that&#39;s a little more overhead than I&#39;m looking for.\r\n\r\n","title":"Is there a general &quot;back-end&quot; library for Java reflection","body":"<p>I'm currently working with a specialized, interpreted, programming language implemented in Java. As a very small part of the language, I'd like to add the ability to make calls into Java.  Before I dive into all of the nitty-gritty of reflection, I was wondering if anyone knew of a general library for doing the &quot;back-end&quot; part of invoking Java code reflectively.</p>\n<p>That is, I parse a string (I define the grammar) into some data structure that represents a Java method call (or constructor, or field access) and then pass that data structure to this library that invokes the call and returns the result. In particular, I'd like it to already handle all the edge cases that I don't want to figure out:</p>\n<ul>\n<li>Automagically pick the right method based on the types of arguments (like an intelligent Class.getDeclaredMethod())</li>\n<li>Handle distinction between arrays and normal object references</li>\n<li>etc</li>\n</ul>\n<p>I've spent a little time looking at the implementations of dynamic languages on the JVM, but these are generally much more complicated than I'm looking for, or highly optimized for the particular language.</p>\n<p>Another option is to convert my grammar into a string in some dynamic language and invoke it with Rhino or something, but that's a little more overhead than I'm looking for.</p>\n"},{"tags":["java","replace","lucene","full-text-search"],"answers":[{"tags":[],"owner":{"account_id":13252333,"reputation":337,"user_id":9569499,"display_name":"sys463"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645431843,"creation_date":1645431843,"answer_id":71203168,"question_id":71128446,"body_markdown":"Just in case for anyone who needs this. I managed to solve the problem using Apache Highlighter. See code sample below\r\n```\r\nHighlighter highlighter = new Highlighter((originalText, tokenGroup) -&gt; {\r\n    if (tokenGroup.getTotalScore() &lt;= 0) {\r\n        return originalText;\r\n    }\r\n    return &quot;###&quot;;\r\n}, new QueryScorer(query));\r\n// ...\r\nString highlighted = highlighter.getBestFragments(tokenStream, fieldText, 100, &quot;...&quot;);\r\n```","title":"Apache Lucene to replace found terms","body":"<p>Just in case for anyone who needs this. I managed to solve the problem using Apache Highlighter. See code sample below</p>\n<pre><code>Highlighter highlighter = new Highlighter((originalText, tokenGroup) -&gt; {\n    if (tokenGroup.getTotalScore() &lt;= 0) {\n        return originalText;\n    }\n    return &quot;###&quot;;\n}, new QueryScorer(query));\n// ...\nString highlighted = highlighter.getBestFragments(tokenStream, fieldText, 100, &quot;...&quot;);\n</code></pre>\n"}],"owner":{"account_id":13252333,"reputation":337,"user_id":9569499,"display_name":"sys463"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71203168,"answer_count":1,"score":0,"last_activity_date":1645431843,"creation_date":1644936389,"question_id":71128446,"body_markdown":"I&#39;m looking for a way to find-and-replace words basing on queries in a text using Apache Lucene.\r\nExample - I have a text &quot;Happy New Year!&quot; and Lucene query &quot;year~2&quot; with fuzzy-detection and some replace characters (&quot;###&quot;). As the result I want the following - &quot;Happy New ###!&quot;. Is there a way to achieve this using Apache Lucene only?","title":"Apache Lucene to replace found terms","body":"<p>I'm looking for a way to find-and-replace words basing on queries in a text using Apache Lucene.\nExample - I have a text &quot;Happy New Year!&quot; and Lucene query &quot;year~2&quot; with fuzzy-detection and some replace characters (&quot;###&quot;). As the result I want the following - &quot;Happy New ###!&quot;. Is there a way to achieve this using Apache Lucene only?</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":21381213,"reputation":197,"user_id":15747094,"display_name":"Lakshmi"},"score":0,"creation_date":1645429367,"post_id":71202490,"comment_id":125859883,"body_markdown":"Edit your question with details of code as well.","body":"Edit your question with details of code as well."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1645436229,"post_id":71202490,"comment_id":125862186,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":24274598,"reputation":29,"user_id":18222083,"display_name":"xmadevelpers"},"score":0,"creation_date":1645436382,"post_id":71202490,"comment_id":125862253,"body_markdown":"dtInterface.onSetValues(mItemsList,holder.qnt);\ni need to pass the items via interface, atleast","body":"dtInterface.onSetValues(mItemsList,holder.qnt); i need to pass the items via interface, atleast"}],"owner":{"account_id":24274598,"reputation":29,"user_id":18222083,"display_name":"xmadevelpers"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1645431262,"creation_date":1645427956,"question_id":71202490,"body_markdown":"  i want to store items when clicking &quot;+&quot; button from  this recyclerview is in adapterclass . i want to store this to cart.\r\n\r\n//if i click + number button then the item should go to the cart. please anyone help me.\r\ni am retrieving all details from firebase. if anyone can help me please \r\n\r\n\r\n    \r\n    public class ItemsRecyclerAdapter extends RecyclerView.Adapter&lt;ItemsRecyclerAdapter.ViewHolder&gt; {\r\n        Context applicationContext;\r\n        List&lt;Items&gt; mItemsList;\r\n        DataTransferInterface dtInterface;\r\n    \r\n        Feature feature;\r\n        BestSell bestSell;\r\n        Items items;\r\n    \r\n        FirebaseFirestore mStore;\r\n        FirebaseAuth fAuth;\r\n    \r\n    \r\n        public ItemsRecyclerAdapter(Context applicationContext, List&lt;Items&gt; mItemsList, DataTransferInterface dtInterface) {\r\n            this.applicationContext = applicationContext;\r\n            this.mItemsList = mItemsList;\r\n            this.dtInterface = dtInterface;\r\n    \r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(applicationContext).inflate(R.layout.single_item_layout,parent,false);\r\n            return new ViewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull ViewHolder holder, final int position) {\r\n    \r\n    \r\n            holder.btn1.setRange(1, 10);\r\n            holder.btn1.setOnClickListener((ElegantNumberButton.OnClickListener) view -&gt; {\r\n                String number = holder.btn1.getNumber();\r\n    \r\n    \r\n            });\r\n            holder.btn1.setOnValueChangeListener((view, oldValue, newValue) -&gt; {\r\n    \r\n                Log.d(&quot;TAG&quot;, String.format(&quot;oldValue: %d   newValue: %d&quot;, oldValue, newValue));\r\n    \r\n                holder.qnt = newValue;\r\n    \r\n                Log.d(&quot;TAG&quot;, String.format(&quot;qnt %d   newValue: %d&quot;, holder.qnt, newValue));\r\n    \r\n                dtInterface.onSetValues(mItemsList,holder.qnt);\r\n    \r\n    \r\n            });\r\n    \r\n    \r\n    \r\n            //all itms il maaruunath\r\n    \r\n            holder.mCost.setText(mItemsList.get(position).getPrice()+&quot;AED&quot;);\r\n            holder.mName.setText(mItemsList.get(position).getName());\r\n            holder.mQuantity.setText(mItemsList.get(position).getQuantity());\r\n            holder.mCountry.setText(mItemsList.get(position).getCountry());\r\n            if (!(applicationContext instanceof HomeActivity)){\r\n                Glide.with(applicationContext).load(mItemsList.get(position).getImg_url()).into(holder.mItemImage);\r\n    \r\n            }else {\r\n                    holder.mItemImage.setVisibility(View.GONE);\r\n            }\r\n    \r\n            holder.mItemImage.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intent = new Intent(applicationContext, DetailActivity.class);\r\n                    intent.putExtra(&quot;detail&quot;,mItemsList.get(position));\r\n    \r\n                    applicationContext.startActivity(intent);\r\n                }\r\n            });\r\n            holder.go_to_details.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intent = new Intent(applicationContext, DetailActivity.class);\r\n                    intent.putExtra(&quot;detail&quot;,mItemsList.get(position));\r\n    \r\n                    intent.putExtra(&quot;quantity&quot;,holder.qnt);\r\n                    applicationContext.startActivity(intent);\r\n                }\r\n            });\r\n    \r\n            holder.mName.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intent = new Intent(applicationContext, DetailActivity.class);\r\n                    intent.putExtra(&quot;detail&quot;,mItemsList.get(position));\r\n                    applicationContext.startActivity(intent);\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return mItemsList.size();\r\n        }\r\n    \r\n        public class ViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n            private ImageView mItemImage;\r\n            private TextView mCost;\r\n            private TextView mName;\r\n            private TextView mCountry;\r\n            private TextView mQuantity;\r\n            private ImageView go_to_details;\r\n    \r\n    \r\n            public ElegantNumberButton btn1;\r\n            int qnt =1;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n            public ViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                mItemImage = itemView.findViewById(R.id.item_image);\r\n                mCost = itemView.findViewById(R.id.item_cost);\r\n                mName = itemView.findViewById(R.id.item_nam);\r\n                mCountry = itemView.findViewById(R.id.item_country);\r\n                mQuantity = itemView.findViewById(R.id.item_quantity);\r\n    \r\n                go_to_details = itemView.findViewById(R.id.go_to_detail);\r\n    \r\n                btn1 = itemView.findViewById(R.id.number_button);\r\n    \r\n    \r\n            }\r\n    \r\n        }\r\n        public interface DataTransferInterface {\r\n            public void onSetValues(List&lt;Items&gt; mItemList, int al);\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vk0Ah.jpg\r\n\r\n**//if i click + number button then the item should go to the cart. please anyone help me.\r\ni am retrieving all details from firebase. if anyone can help me please** \r\n","title":"How to Store Items to Cart when Clicking Elegant Plus number Button","body":"<p>i want to store items when clicking &quot;+&quot; button from  this recyclerview is in adapterclass . i want to store this to cart.</p>\n<p>//if i click + number button then the item should go to the cart. please anyone help me.\ni am retrieving all details from firebase. if anyone can help me please</p>\n<pre><code>public class ItemsRecyclerAdapter extends RecyclerView.Adapter&lt;ItemsRecyclerAdapter.ViewHolder&gt; {\n    Context applicationContext;\n    List&lt;Items&gt; mItemsList;\n    DataTransferInterface dtInterface;\n\n    Feature feature;\n    BestSell bestSell;\n    Items items;\n\n    FirebaseFirestore mStore;\n    FirebaseAuth fAuth;\n\n\n    public ItemsRecyclerAdapter(Context applicationContext, List&lt;Items&gt; mItemsList, DataTransferInterface dtInterface) {\n        this.applicationContext = applicationContext;\n        this.mItemsList = mItemsList;\n        this.dtInterface = dtInterface;\n\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(applicationContext).inflate(R.layout.single_item_layout,parent,false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, final int position) {\n\n\n        holder.btn1.setRange(1, 10);\n        holder.btn1.setOnClickListener((ElegantNumberButton.OnClickListener) view -&gt; {\n            String number = holder.btn1.getNumber();\n\n\n        });\n        holder.btn1.setOnValueChangeListener((view, oldValue, newValue) -&gt; {\n\n            Log.d(&quot;TAG&quot;, String.format(&quot;oldValue: %d   newValue: %d&quot;, oldValue, newValue));\n\n            holder.qnt = newValue;\n\n            Log.d(&quot;TAG&quot;, String.format(&quot;qnt %d   newValue: %d&quot;, holder.qnt, newValue));\n\n            dtInterface.onSetValues(mItemsList,holder.qnt);\n\n\n        });\n\n\n\n        //all itms il maaruunath\n\n        holder.mCost.setText(mItemsList.get(position).getPrice()+&quot;AED&quot;);\n        holder.mName.setText(mItemsList.get(position).getName());\n        holder.mQuantity.setText(mItemsList.get(position).getQuantity());\n        holder.mCountry.setText(mItemsList.get(position).getCountry());\n        if (!(applicationContext instanceof HomeActivity)){\n            Glide.with(applicationContext).load(mItemsList.get(position).getImg_url()).into(holder.mItemImage);\n\n        }else {\n                holder.mItemImage.setVisibility(View.GONE);\n        }\n\n        holder.mItemImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(applicationContext, DetailActivity.class);\n                intent.putExtra(&quot;detail&quot;,mItemsList.get(position));\n\n                applicationContext.startActivity(intent);\n            }\n        });\n        holder.go_to_details.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(applicationContext, DetailActivity.class);\n                intent.putExtra(&quot;detail&quot;,mItemsList.get(position));\n\n                intent.putExtra(&quot;quantity&quot;,holder.qnt);\n                applicationContext.startActivity(intent);\n            }\n        });\n\n        holder.mName.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(applicationContext, DetailActivity.class);\n                intent.putExtra(&quot;detail&quot;,mItemsList.get(position));\n                applicationContext.startActivity(intent);\n            }\n        });\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return mItemsList.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        private ImageView mItemImage;\n        private TextView mCost;\n        private TextView mName;\n        private TextView mCountry;\n        private TextView mQuantity;\n        private ImageView go_to_details;\n\n\n        public ElegantNumberButton btn1;\n        int qnt =1;\n\n\n\n\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            mItemImage = itemView.findViewById(R.id.item_image);\n            mCost = itemView.findViewById(R.id.item_cost);\n            mName = itemView.findViewById(R.id.item_nam);\n            mCountry = itemView.findViewById(R.id.item_country);\n            mQuantity = itemView.findViewById(R.id.item_quantity);\n\n            go_to_details = itemView.findViewById(R.id.go_to_detail);\n\n            btn1 = itemView.findViewById(R.id.number_button);\n\n\n        }\n\n    }\n    public interface DataTransferInterface {\n        public void onSetValues(List&lt;Items&gt; mItemList, int al);\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vk0Ah.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vk0Ah.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>//if i click + number button then the item should go to the cart. please anyone help me.\ni am retrieving all details from firebase. if anyone can help me please</strong></p>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":7356800,"reputation":6070,"user_id":5601284,"accept_rate":100,"display_name":"byxor"},"score":0,"creation_date":1644450363,"post_id":71058152,"comment_id":125613542,"body_markdown":"I think the `2` in `data[2][j][k]` is causing the issue. What if `data` has less than 3 elements?","body":"I think the <code>2</code> in <code>data[2][j][k]</code> is causing the issue. What if <code>data</code> has less than 3 elements?"},{"owner":{"account_id":7356800,"reputation":6070,"user_id":5601284,"accept_rate":100,"display_name":"byxor"},"score":0,"creation_date":1644450413,"post_id":71058152,"comment_id":125613555,"body_markdown":"`i`, `j` and `k` should all be in range, but `2` may not be","body":"<code>i</code>, <code>j</code> and <code>k</code> should all be in range, but <code>2</code> may not be"},{"owner":{"account_id":15249665,"reputation":3,"user_id":11003477,"display_name":"Andy Mercado"},"score":0,"creation_date":1644519878,"post_id":71058152,"comment_id":125635256,"body_markdown":"so the last array does have less than 3 elements, so if this is the case, how am I able to work around this?","body":"so the last array does have less than 3 elements, so if this is the case, how am I able to work around this?"}],"owner":{"account_id":15249665,"reputation":3,"user_id":11003477,"display_name":"Andy Mercado"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645431079,"creation_date":1644449878,"question_id":71058152,"body_markdown":"I have this array where the first two 2d arrays are of n*n size, but the last array is a 2d array of size * 2. \r\n```\r\n  123  321  13\r\n  231  132  21\r\n  312  213  32\r\n```\r\n\r\nEssentially I need to compare the values of the first two arrays and compare them with the values of the smaller 2d array. I keep getting an out of bounds error. The first two arrays values need to be compared with the values of the last array\r\n\r\n```    \r\nfor (int i = 0; i &lt; data.length; i++) {\r\n  for (int j = 0; j &lt; data[i].length; j++) {\r\n    for (int k = 0; k &lt; data[i][j].length; k++) {\r\n      // I keep getting an out of bounds error here\r\n      if(data[i][j][k] &lt; data[2][j][k]) {\r\n        // do something\r\n      }\r\n    }\r\n  }\r\n}\r\n```","title":"How can I compare data values while looping through my 3D array?","body":"<p>I have this array where the first two 2d arrays are of n*n size, but the last array is a 2d array of size * 2.</p>\n<pre><code>  123  321  13\n  231  132  21\n  312  213  32\n</code></pre>\n<p>Essentially I need to compare the values of the first two arrays and compare them with the values of the smaller 2d array. I keep getting an out of bounds error. The first two arrays values need to be compared with the values of the last array</p>\n<pre><code>for (int i = 0; i &lt; data.length; i++) {\n  for (int j = 0; j &lt; data[i].length; j++) {\n    for (int k = 0; k &lt; data[i][j].length; k++) {\n      // I keep getting an out of bounds error here\n      if(data[i][j][k] &lt; data[2][j][k]) {\n        // do something\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","dictionary","hyperlink","hashmap","key"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1645367655,"post_id":71195284,"comment_id":125847452,"body_markdown":"Either write your own implementation of  a map class that extends HashMap and override the put method or don&#39;t use the put method to modify your map but write your own update method.","body":"Either write your own implementation of  a map class that extends HashMap and override the put method or don&#39;t use the put method to modify your map but write your own update method."},{"owner":{"account_id":6522844,"reputation":2162,"user_id":10919349,"display_name":"Richard K Yu"},"score":0,"creation_date":1645369622,"post_id":71195284,"comment_id":125847927,"body_markdown":"What happens if you do map.put(“z”,20) after putting y? Do all gets give you 20 in that case?","body":"What happens if you do map.put(“z”,20) after putting y? Do all gets give you 20 in that case?"},{"owner":{"account_id":24319657,"reputation":23,"user_id":18260272,"display_name":"Archetyper"},"score":0,"creation_date":1645370614,"post_id":71195284,"comment_id":125848132,"body_markdown":"@Eritrean how would I go about that? Could you perhaps give me an example on what such a method could look like?","body":"@Eritrean how would I go about that? Could you perhaps give me an example on what such a method could look like?"},{"owner":{"account_id":24319657,"reputation":23,"user_id":18260272,"display_name":"Archetyper"},"score":0,"creation_date":1645370728,"post_id":71195284,"comment_id":125848158,"body_markdown":"@RichardKYu if I do map.put(&quot;z&quot;, 20); after putting y i would like to x-value to be the same as y-value and z to be its own value. I want to be able to choose which values are linked and not.","body":"@RichardKYu if I do map.put(&quot;z&quot;, 20); after putting y i would like to x-value to be the same as y-value and z to be its own value. I want to be able to choose which values are linked and not."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645431009,"creation_date":1645370815,"answer_id":71195862,"question_id":71195284,"body_markdown":"If you want to associate a group of *keys* with the *same object*, it can be achieved by using a **mutable object** as a value.\r\n\r\nFor instance, you can make use of `StringBuilder` or implement a custom class. It&#39;ll be more **performant** and **easier** than an approach with implementing your own map which extends `HashMap` and is able to track these groups of keys and triggers a series of updates for each call of `put()`, `replace()` or `remove()`.\r\n\r\nSolution with a custom mutable `Container` can look like this:\r\n```\r\nHashMap&lt;String, Container&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\nContainer&lt;Integer&gt; commonValue = new Container&lt;&gt;(0);\r\nmap.put(&quot;x&quot;, commonValue);\r\nmap.put(&quot;y&quot;, commonValue);\r\n\r\nSystem.out.println(&quot;Value for &#39;x&#39;: &quot; + map.get(&quot;x&quot;));\r\nSystem.out.println(&quot;Value for &#39;y&#39;: &quot; + map.get(&quot;y&quot;));\r\n\r\ncommonValue.setValue(10);\r\n\r\nSystem.out.println(&quot;Value for &#39;x&#39;: &quot; + map.get(&quot;x&quot;));\r\nSystem.out.println(&quot;Value for &#39;y&#39;: &quot; + map.get(&quot;y&quot;));\r\n```\r\nThe `Container` class itself.\r\n```\r\npublic class Container&lt;T&gt; {\r\n    private T value;\r\n\r\n    public Container(T value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public T getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(T value) {\r\n        this.value = value;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return String.valueOf(value);\r\n    }\r\n}\r\n```\r\nAs I have already said, the alternative is to use a mutable class that is already provided by the JDK. The code is then almost the same:\r\n```\r\nHashMap&lt;String, StringBuilder&gt; map = new HashMap&lt;&gt;();\r\nStringBuilder commonValue = new StringBuilder(&quot;0&quot;);\r\nmap.put(&quot;x&quot;, commonValue);\r\nmap.put(&quot;y&quot;, commonValue);\r\n\r\nSystem.out.println(&quot;Value for &#39;x&#39;: &quot; + map.get(&quot;x&quot;));\r\nSystem.out.println(&quot;Value for &#39;y&#39;: &quot; + map.get(&quot;y&quot;));\r\n\r\ncommonValue.replace(0, commonValue.length(), &quot;10&quot;);\r\n\r\nSystem.out.println(&quot;Value for &#39;x&#39;: &quot; + map.get(&quot;x&quot;));\r\nSystem.out.println(&quot;Value for &#39;y&#39;: &quot; + map.get(&quot;y&quot;));\r\n```\r\nOutput (by both versions)\r\n```\r\nValue for &#39;x&#39;: 0\r\nValue for &#39;y&#39;: 0\r\nValue for &#39;x&#39;: 10\r\nValue for &#39;y&#39;: 10\r\n```","title":"How link multiple keys to the same value in the HashMap","body":"<p>If you want to associate a group of <em>keys</em> with the <em>same object</em>, it can be achieved by using a <strong>mutable object</strong> as a value.</p>\n<p>For instance, you can make use of <code>StringBuilder</code> or implement a custom class. It'll be more <strong>performant</strong> and <strong>easier</strong> than an approach with implementing your own map which extends <code>HashMap</code> and is able to track these groups of keys and triggers a series of updates for each call of <code>put()</code>, <code>replace()</code> or <code>remove()</code>.</p>\n<p>Solution with a custom mutable <code>Container</code> can look like this:</p>\n<pre><code>HashMap&lt;String, Container&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\nContainer&lt;Integer&gt; commonValue = new Container&lt;&gt;(0);\nmap.put(&quot;x&quot;, commonValue);\nmap.put(&quot;y&quot;, commonValue);\n\nSystem.out.println(&quot;Value for 'x': &quot; + map.get(&quot;x&quot;));\nSystem.out.println(&quot;Value for 'y': &quot; + map.get(&quot;y&quot;));\n\ncommonValue.setValue(10);\n\nSystem.out.println(&quot;Value for 'x': &quot; + map.get(&quot;x&quot;));\nSystem.out.println(&quot;Value for 'y': &quot; + map.get(&quot;y&quot;));\n</code></pre>\n<p>The <code>Container</code> class itself.</p>\n<pre><code>public class Container&lt;T&gt; {\n    private T value;\n\n    public Container(T value) {\n        this.value = value;\n    }\n\n    public T getValue() {\n        return value;\n    }\n\n    public void setValue(T value) {\n        this.value = value;\n    }\n\n    @Override\n    public String toString() {\n        return String.valueOf(value);\n    }\n}\n</code></pre>\n<p>As I have already said, the alternative is to use a mutable class that is already provided by the JDK. The code is then almost the same:</p>\n<pre><code>HashMap&lt;String, StringBuilder&gt; map = new HashMap&lt;&gt;();\nStringBuilder commonValue = new StringBuilder(&quot;0&quot;);\nmap.put(&quot;x&quot;, commonValue);\nmap.put(&quot;y&quot;, commonValue);\n\nSystem.out.println(&quot;Value for 'x': &quot; + map.get(&quot;x&quot;));\nSystem.out.println(&quot;Value for 'y': &quot; + map.get(&quot;y&quot;));\n\ncommonValue.replace(0, commonValue.length(), &quot;10&quot;);\n\nSystem.out.println(&quot;Value for 'x': &quot; + map.get(&quot;x&quot;));\nSystem.out.println(&quot;Value for 'y': &quot; + map.get(&quot;y&quot;));\n</code></pre>\n<p>Output (by both versions)</p>\n<pre><code>Value for 'x': 0\nValue for 'y': 0\nValue for 'x': 10\nValue for 'y': 10\n</code></pre>\n"}],"owner":{"account_id":24319657,"reputation":23,"user_id":18260272,"display_name":"Archetyper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1188,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71195862,"answer_count":1,"score":2,"last_activity_date":1645431009,"creation_date":1645366528,"question_id":71195284,"body_markdown":"I am trying to link the value of a key to another key&#39;s value but cannot seem to get it working. \r\n\r\nFor example, if I&#39;m creating a `HashMap` and adding a key-value pair `(&quot;x&quot;, 0)` to it. I then want to be able to add *other keys* mapped to the same value as the first one. \r\n\r\nSo if I have `(&quot;x&quot;, map.get(&quot;y&quot;))` and `(&quot;y&quot;, 0)` I want to be able somehow to link it. So that if I now update a value for `&quot;y&quot;` key like that `(&quot;y&quot;, 10)`, then I expect that `map.get(&quot;x&quot;)` should also return `10`.\r\n```\r\nHashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;x&quot;, 0);\r\nmap.put(&quot;y&quot;, 0);\r\n\r\n//I now somehow want to link the value of x so its dependent on y\r\n\r\nSystem.out.println(map.get(&quot;x&quot;));\r\n//Should return 0\r\n\r\nmap.put(&quot;y&quot;, 10);\r\n\r\nSystem.out.println(map.get(&quot;x&quot;));\r\n//Should return 10 now\r\n```\r\nI can&#39;t figure out how to get this working as x always gets the value of what y is now, and not what y is at the time of printing the value.","title":"How link multiple keys to the same value in the HashMap","body":"<p>I am trying to link the value of a key to another key's value but cannot seem to get it working.</p>\n<p>For example, if I'm creating a <code>HashMap</code> and adding a key-value pair <code>(&quot;x&quot;, 0)</code> to it. I then want to be able to add <em>other keys</em> mapped to the same value as the first one.</p>\n<p>So if I have <code>(&quot;x&quot;, map.get(&quot;y&quot;))</code> and <code>(&quot;y&quot;, 0)</code> I want to be able somehow to link it. So that if I now update a value for <code>&quot;y&quot;</code> key like that <code>(&quot;y&quot;, 10)</code>, then I expect that <code>map.get(&quot;x&quot;)</code> should also return <code>10</code>.</p>\n<pre><code>HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;x&quot;, 0);\nmap.put(&quot;y&quot;, 0);\n\n//I now somehow want to link the value of x so its dependent on y\n\nSystem.out.println(map.get(&quot;x&quot;));\n//Should return 0\n\nmap.put(&quot;y&quot;, 10);\n\nSystem.out.println(map.get(&quot;x&quot;));\n//Should return 10 now\n</code></pre>\n<p>I can't figure out how to get this working as x always gets the value of what y is now, and not what y is at the time of printing the value.</p>\n"},{"tags":["java","spring-mvc","spring-data-jpa","freemarker"],"comments":[{"owner":{"account_id":19263996,"reputation":47,"user_id":17375334,"display_name":"daniel.chan"},"score":0,"creation_date":1645430443,"post_id":71180841,"comment_id":125860192,"body_markdown":"`up` up up up up up","body":"<code>up</code> up up up up up"}],"owner":{"account_id":19263996,"reputation":47,"user_id":17375334,"display_name":"daniel.chan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645430485,"creation_date":1645225666,"question_id":71180841,"body_markdown":"I have this Person entity and it has a child field which is the Parent Person and join to itself via parent_id.  When I tried to hit Update, why is the `person.getParentPerson()` is always null?\r\n\r\n    @javax.persistence.Table(name = &quot;person&quot;)\r\n    @Entity\r\n    public class Person implements Serializable {\r\n    \r\n        // Fields\r\n        @Column(name = &quot;id&quot;, nullable = false, insertable = true, updatable = true, length = 20, precision = 0, unique =\r\n            true)\r\n        @Id\r\n        private Long id;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;parent_id&quot;)\r\n        private ParentPerson parentPerson;\r\n    \r\n        @Column(name = &quot;name&quot;, nullable = true, insertable = true, updatable = true, length = 10)\r\n        private String name;\r\n    \r\n        //some other fields, setters and getters\r\n        .... \r\n    }\r\n    \r\n    @Controller\r\n    @RequestMapping(&quot;/person&quot;)\r\n    public class PersonController {\r\n    \r\n        @RequestMapping(&quot;/add.htm&quot;)\r\n        private ModelAndView personEdit() {\r\n            Person person = new Person();\r\n            Person parentPerson = new ParentPerson();\r\n            if (checkIsParent()) {\r\n               parentPerson.setId(-1);\r\n            }\r\n            person.setParentPerson(parentPerson);         \r\n            mav.addObject(&quot;person&quot;, person)\r\n            return mav;       \r\n        }\r\n    \r\n        @RequestMapping(&quot;/update.htm&quot;)\r\n        @ModelAttribute(&quot;person&quot;) @Valid Person person\r\n        private ModelAndView personUpdate() {\r\n            //person.getParentPerson() is null   \r\n        }\r\n    }\r\n\r\n\r\n\r\nHTML snippet:\r\n    \r\n       &lt;form id=&quot;uForm&quot; action=&quot;update.htm&quot; method=&quot;post&quot; accept-charset=&quot;UTF-8&quot; autocomplete=&quot;off&quot;&gt;\r\n           &lt;@global.spring.formInput path=&quot;person.id&quot; attributes=&#39;size=&quot;40&quot;&#39;/&gt;\r\n           &lt;@global.spring.formInput path=&quot;person.name&quot; attributes=&#39;size=&quot;40&quot;&#39;/&gt;\r\n       &lt;/form&gt;\r\n      \r\n\r\n  ","title":"Child object binding is null","body":"<p>I have this Person entity and it has a child field which is the Parent Person and join to itself via parent_id.  When I tried to hit Update, why is the <code>person.getParentPerson()</code> is always null?</p>\n<pre><code>@javax.persistence.Table(name = &quot;person&quot;)\n@Entity\npublic class Person implements Serializable {\n\n    // Fields\n    @Column(name = &quot;id&quot;, nullable = false, insertable = true, updatable = true, length = 20, precision = 0, unique =\n        true)\n    @Id\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;parent_id&quot;)\n    private ParentPerson parentPerson;\n\n    @Column(name = &quot;name&quot;, nullable = true, insertable = true, updatable = true, length = 10)\n    private String name;\n\n    //some other fields, setters and getters\n    .... \n}\n\n@Controller\n@RequestMapping(&quot;/person&quot;)\npublic class PersonController {\n\n    @RequestMapping(&quot;/add.htm&quot;)\n    private ModelAndView personEdit() {\n        Person person = new Person();\n        Person parentPerson = new ParentPerson();\n        if (checkIsParent()) {\n           parentPerson.setId(-1);\n        }\n        person.setParentPerson(parentPerson);         \n        mav.addObject(&quot;person&quot;, person)\n        return mav;       \n    }\n\n    @RequestMapping(&quot;/update.htm&quot;)\n    @ModelAttribute(&quot;person&quot;) @Valid Person person\n    private ModelAndView personUpdate() {\n        //person.getParentPerson() is null   \n    }\n}\n</code></pre>\n<p>HTML snippet:</p>\n<pre><code>   &lt;form id=&quot;uForm&quot; action=&quot;update.htm&quot; method=&quot;post&quot; accept-charset=&quot;UTF-8&quot; autocomplete=&quot;off&quot;&gt;\n       &lt;@global.spring.formInput path=&quot;person.id&quot; attributes='size=&quot;40&quot;'/&gt;\n       &lt;@global.spring.formInput path=&quot;person.name&quot; attributes='size=&quot;40&quot;'/&gt;\n   &lt;/form&gt;\n  \n</code></pre>\n"},{"tags":["java","connection","prepared-statement","hikaricp"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1645305194,"post_id":71189200,"comment_id":125837277,"body_markdown":"Is the question if the connection gets closed with `try-with-resources` on the `PreparedStatement` or do you want to ask a different question about restructuring your code which closes the connection after running a query? Please [edit] your post to make it clear what single question you want to ask.","body":"Is the question if the connection gets closed with <code>try-with-resources</code> on the <code>PreparedStatement</code> or do you want to ask a different question about restructuring your code which closes the connection after running a query? Please <a href=\"https://stackoverflow.com/posts/71189200/edit\">edit</a> your post to make it clear what single question you want to ask."},{"owner":{"display_name":"user12055552"},"score":0,"creation_date":1645305750,"post_id":71189200,"comment_id":125837397,"body_markdown":"@Progman Yes, that&#39;s my basic question.  I have edited it to make it a little more clear.","body":"@Progman Yes, that&#39;s my basic question.  I have edited it to make it a little more clear."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1645305927,"post_id":71189200,"comment_id":125837432,"body_markdown":"Which database system and which JDBC client/version/library are you using?","body":"Which database system and which JDBC client/version/library are you using?"},{"owner":{"display_name":"user12055552"},"score":0,"creation_date":1645306426,"post_id":71189200,"comment_id":125837566,"body_markdown":"Mysql with HikariCP so com.mysql.jdbc.Driver","body":"Mysql with HikariCP so com.mysql.jdbc.Driver"},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":1,"creation_date":1645306949,"post_id":71189200,"comment_id":125837676,"body_markdown":"This doesn&#39;t seem to be a question about try-with-resources, but about the `close` method of `PreparedStatement`.","body":"This doesn&#39;t seem to be a question about try-with-resources, but about the <code>close</code> method of <code>PreparedStatement</code>."}],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645305557,"creation_date":1645305248,"answer_id":71189249,"question_id":71189200,"body_markdown":"Q: What makes you think returning an object from one of your own methods won&#39;t allow the object to be &quot;closed&quot; in a Java try with resources?\r\n\r\nFrom the Java documentation:\r\n\r\n&gt; https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n&gt; \r\n&gt; &gt;  Any object that implements java.lang.AutoCloseable, which includes\r\n&gt; &gt; all objects which implement java.io.Closeable, can be used as a\r\n&gt; &gt; resource.\r\n\r\nThe key issue: the object returned from your method must implement `java.lang.AutoCloseable`.  In your case, it does:\r\n\r\n&gt; https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html\r\n&gt; \r\n&gt; **Interface PreparedStatement**\r\n&gt; \r\n&gt; * All Superinterfaces:\r\n&gt; \r\n&gt;     AutoCloseable, Statement, Wrapper\r\n\r\n\r\n","title":"Try-with-resources - Does it automatically close the connection? Java","body":"<p>Q: What makes you think returning an object from one of your own methods won't allow the object to be &quot;closed&quot; in a Java try with resources?</p>\n<p>From the Java documentation:</p>\n<blockquote>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html</a></p>\n<blockquote>\n<p>Any object that implements java.lang.AutoCloseable, which includes\nall objects which implement java.io.Closeable, can be used as a\nresource.</p>\n</blockquote>\n</blockquote>\n<p>The key issue: the object returned from your method must implement <code>java.lang.AutoCloseable</code>.  In your case, it does:</p>\n<blockquote>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html</a></p>\n<p><strong>Interface PreparedStatement</strong></p>\n<ul>\n<li><p>All Superinterfaces:</p>\n<p>AutoCloseable, Statement, Wrapper</p>\n</li>\n</ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1645369730,"creation_date":1645306495,"answer_id":71189397,"question_id":71189200,"body_markdown":"No, the try with resources does not close the `Connection` that is used inside the `PreparedStatement`.\r\nOnly the `PreparedStatement` and its `ResultSet` are closed.\r\n\r\n[When a Statement object is closed, its current ResultSet object, if one exists, is also closed.][1]\r\n\r\nIt is possible to reuse a `connection` to execute many `PreparedStatements`. Each of which is closed after usage. When the `connection` is no longer needed it can be closed as well.\r\n\r\nYou could perhaps check it like this:\r\n\r\n    public void query(String queryString, List&lt;String&gt; queryParams, Consumer&lt;ResultSet&gt; sqlConsumer)\r\n    {\r\n        Connection connection;\r\n        try (PreparedStatement preparedStatement = this.configureStatement(queryString, queryParams))\r\n        {\r\n            connection=preparedStatement.getConnection();\r\n            sqlConsumer.accept(preparedStatement.executeQuery());\r\n        } catch(SQLException exception)\r\n        {\r\n            exception.printStackTrace();\r\n        }\r\n        if(connection!=null){\r\n            System.out.println(&quot;Is Connection closed:&quot;+connection.isClosed());\r\n        }\r\n    }\r\n    \r\n    private PreparedStatement configureStatement(String query, List&lt;String&gt; queryParams) throws SQLException\r\n    {\r\n        PreparedStatement preparedStatement = this.getConnection().prepareStatement(query);\r\n        for (int i = 0; i &lt; queryParams.size(); ++i)\r\n            preparedStatement.setString(i, queryParams.get(i));\r\n\r\n        return preparedStatement;\r\n    }\r\n\r\n\r\nA refactoring that closes connections by using the try-with-resources with multiple statements:\r\n\r\n    public void query(String queryString, List&lt;String&gt; queryParams, Consumer&lt;ResultSet&gt; sqlConsumer)\r\n        {\r\n\r\n            try ( Connection connection=this.getConnection(); \r\n                  PreparedStatement preparedStatement = this.configureStatement(connection, queryString, queryParams);)\r\n            {\r\n                sqlConsumer.accept(preparedStatement.executeQuery());\r\n            } catch(SQLException exception)\r\n            {\r\n                exception.printStackTrace();\r\n            }\r\n            if(connection!=null){\r\n               connection.close();\r\n            }\r\n        }\r\n    \r\n    private PreparedStatement configureStatement( Connection connection,String query, List&lt;String&gt; queryParams) throws SQLException\r\n        {\r\n            PreparedStatement preparedStatement = connection.prepareStatement(query);\r\n            for (int i = 0; i &lt; queryParams.size(); ++i)\r\n                preparedStatement.setString(i, queryParams.get(i));\r\n    \r\n            return preparedStatement;\r\n        }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#close--","title":"Try-with-resources - Does it automatically close the connection? Java","body":"<p>No, the try with resources does not close the <code>Connection</code> that is used inside the <code>PreparedStatement</code>.\nOnly the <code>PreparedStatement</code> and its <code>ResultSet</code> are closed.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#close--\" rel=\"nofollow noreferrer\">When a Statement object is closed, its current ResultSet object, if one exists, is also closed.</a></p>\n<p>It is possible to reuse a <code>connection</code> to execute many <code>PreparedStatements</code>. Each of which is closed after usage. When the <code>connection</code> is no longer needed it can be closed as well.</p>\n<p>You could perhaps check it like this:</p>\n<pre><code>public void query(String queryString, List&lt;String&gt; queryParams, Consumer&lt;ResultSet&gt; sqlConsumer)\n{\n    Connection connection;\n    try (PreparedStatement preparedStatement = this.configureStatement(queryString, queryParams))\n    {\n        connection=preparedStatement.getConnection();\n        sqlConsumer.accept(preparedStatement.executeQuery());\n    } catch(SQLException exception)\n    {\n        exception.printStackTrace();\n    }\n    if(connection!=null){\n        System.out.println(&quot;Is Connection closed:&quot;+connection.isClosed());\n    }\n}\n\nprivate PreparedStatement configureStatement(String query, List&lt;String&gt; queryParams) throws SQLException\n{\n    PreparedStatement preparedStatement = this.getConnection().prepareStatement(query);\n    for (int i = 0; i &lt; queryParams.size(); ++i)\n        preparedStatement.setString(i, queryParams.get(i));\n\n    return preparedStatement;\n}\n</code></pre>\n<p>A refactoring that closes connections by using the try-with-resources with multiple statements:</p>\n<pre><code>public void query(String queryString, List&lt;String&gt; queryParams, Consumer&lt;ResultSet&gt; sqlConsumer)\n    {\n\n        try ( Connection connection=this.getConnection(); \n              PreparedStatement preparedStatement = this.configureStatement(connection, queryString, queryParams);)\n        {\n            sqlConsumer.accept(preparedStatement.executeQuery());\n        } catch(SQLException exception)\n        {\n            exception.printStackTrace();\n        }\n        if(connection!=null){\n           connection.close();\n        }\n    }\n\nprivate PreparedStatement configureStatement( Connection connection,String query, List&lt;String&gt; queryParams) throws SQLException\n    {\n        PreparedStatement preparedStatement = connection.prepareStatement(query);\n        for (int i = 0; i &lt; queryParams.size(); ++i)\n            preparedStatement.setString(i, queryParams.get(i));\n\n        return preparedStatement;\n    }\n</code></pre>\n"}],"owner":{"display_name":"user12055552"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1999,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71189397,"answer_count":2,"score":-1,"last_activity_date":1645430441,"creation_date":1645304952,"question_id":71189200,"body_markdown":"I&#39;ve been working on a SQL utility and I am trying to set the parameters inside a prepared statement in multiple functions.  \r\n\r\nTo lessen the code, I have a function that returns a prepared statement where all the params are set.  \r\n\r\n***My question is:***   \r\nDoes the connection reference in the `configureStatement()`  get closed using the try with resources in the `query()`? If not how can the code be refactored to close the `PreparedStatement` and the `Connection` every time?\r\n\r\n```\r\n    public void query(String queryString, List&lt;String&gt; queryParams, Consumer&lt;ResultSet&gt; sqlConsumer)\r\n    {\r\n        try (PreparedStatement preparedStatement = this.configureStatement(queryString, queryParams))\r\n        {\r\n            sqlConsumer.accept(preparedStatement.executeQuery());\r\n        } catch(SQLException exception)\r\n        {\r\n            exception.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    private PreparedStatement configureStatement(String query, List&lt;String&gt; queryParams) throws SQLException\r\n    {\r\n        PreparedStatement preparedStatement = this.getConnection().prepareStatement(query);\r\n        for (int i = 0; i &lt; queryParams.size(); ++i)\r\n            preparedStatement.setString(i, queryParams.get(i));\r\n\r\n        return preparedStatement;\r\n    }\r\n```","title":"Try-with-resources - Does it automatically close the connection? Java","body":"<p>I've been working on a SQL utility and I am trying to set the parameters inside a prepared statement in multiple functions.</p>\n<p>To lessen the code, I have a function that returns a prepared statement where all the params are set.</p>\n<p><em><strong>My question is:</strong></em><br />\nDoes the connection reference in the <code>configureStatement()</code>  get closed using the try with resources in the <code>query()</code>? If not how can the code be refactored to close the <code>PreparedStatement</code> and the <code>Connection</code> every time?</p>\n<pre><code>    public void query(String queryString, List&lt;String&gt; queryParams, Consumer&lt;ResultSet&gt; sqlConsumer)\n    {\n        try (PreparedStatement preparedStatement = this.configureStatement(queryString, queryParams))\n        {\n            sqlConsumer.accept(preparedStatement.executeQuery());\n        } catch(SQLException exception)\n        {\n            exception.printStackTrace();\n        }\n    }\n    \n    private PreparedStatement configureStatement(String query, List&lt;String&gt; queryParams) throws SQLException\n    {\n        PreparedStatement preparedStatement = this.getConnection().prepareStatement(query);\n        for (int i = 0; i &lt; queryParams.size(); ++i)\n            preparedStatement.setString(i, queryParams.get(i));\n\n        return preparedStatement;\n    }\n</code></pre>\n"},{"tags":["java","json","rest","jira","jira-rest-api"],"answers":[{"tags":[],"owner":{"account_id":24326627,"reputation":26,"user_id":18266098,"display_name":"NISHANT DESAI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645430420,"creation_date":1645430420,"answer_id":71202918,"question_id":71202406,"body_markdown":"    // Connect Jackson ObjectMapper to Unirest\r\n    //Remove This Block Of Code first.\r\n            Unirest.setObjectMapper(new ObjectMapper() {\r\n                private com.fasterxml.jackson.databind.ObjectMapper jacksonObjectMapper\r\n                        = new com.fasterxml.jackson.databind.ObjectMapper();\r\n    \r\n                public &lt;T&gt; T readValue(String value, Class&lt;T&gt; valueType) {\r\n                    try {\r\n                        return jacksonObjectMapper.readValue(value, valueType);\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n    \r\n                public String writeValue(Object value) {\r\n                    try {\r\n                        return jacksonObjectMapper.writeValueAsString(value);\r\n                    } catch (JsonProcessingException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            });\r\n    \r\n    //Then Add This Code.\r\n    //Use ObjectNode\r\n    \r\n    ObjectNode obj = payload;\r\n    JSONObject json = new JSONObject(obj.toString());\r\n    \r\n    HttpResponse&lt;com.mashape.unirest.http.JsonNode&gt; response = null;\r\n            try {\r\n                response = Unirest.post(&quot;https://{myaccount}.atlassian.net//rest/api/3/issue&quot;)\r\n                            .basicAuth(&quot;{myEmailId}&quot;, &quot;{MyAPITOken}&quot;)\r\n                        .header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n                        .body(json)\r\n                        .asJson();\r\n    \r\n    \r\n                System.out.println(response.getBody());\r\n                System.out.println(response.getStatus());\r\n            } catch (UnirestException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n    I think so it will work.","title":"Error in parsing Json Object node while creating an issue of Jira using REST API of atlassian in Java","body":"<pre><code>// Connect Jackson ObjectMapper to Unirest\n//Remove This Block Of Code first.\n        Unirest.setObjectMapper(new ObjectMapper() {\n            private com.fasterxml.jackson.databind.ObjectMapper jacksonObjectMapper\n                    = new com.fasterxml.jackson.databind.ObjectMapper();\n\n            public &lt;T&gt; T readValue(String value, Class&lt;T&gt; valueType) {\n                try {\n                    return jacksonObjectMapper.readValue(value, valueType);\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n            public String writeValue(Object value) {\n                try {\n                    return jacksonObjectMapper.writeValueAsString(value);\n                } catch (JsonProcessingException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        });\n\n//Then Add This Code.\n//Use ObjectNode\n\nObjectNode obj = payload;\nJSONObject json = new JSONObject(obj.toString());\n\nHttpResponse&lt;com.mashape.unirest.http.JsonNode&gt; response = null;\n        try {\n            response = Unirest.post(&quot;https://{myaccount}.atlassian.net//rest/api/3/issue&quot;)\n                        .basicAuth(&quot;{myEmailId}&quot;, &quot;{MyAPITOken}&quot;)\n                    .header(&quot;Accept&quot;, &quot;application/json&quot;)\n                    .body(json)\n                    .asJson();\n\n\n            System.out.println(response.getBody());\n            System.out.println(response.getStatus());\n        } catch (UnirestException e) {\n            e.printStackTrace();\n        }\n\nI think so it will work.\n</code></pre>\n"}],"owner":{"account_id":21116173,"reputation":54,"user_id":15523221,"display_name":"Nishit Popat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":605,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71202918,"answer_count":1,"score":0,"last_activity_date":1645430420,"creation_date":1645427420,"question_id":71202406,"body_markdown":"I am trying to create an issue using Jira REST API in java. But I am getting below Runtime Exception in my console.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: com.fasterxml.jackson.databind.JsonMappingException: Unexpected IOException (of type org.codehaus.jackson.JsonParseException): Illegal white space character (code 0x20) as character #3 of 4-char base64 unit: can only used between units\r\n     at [Source: N/A; line: -1, column: -1]\r\n    \tat CreateIssue$1.writeValue(CreateIssue.java:60)\r\n    \tat com.mashape.unirest.request.HttpRequestWithBody.body(HttpRequestWithBody.java:158)\r\n    \tat CreateIssue.main(CreateIssue.java:72)\r\n\r\nBelow is my code,\r\nI have implemented same code as provided in the documentation, still I am getting an error.\r\n\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.mashape.unirest.http.HttpResponse;\r\n    import com.mashape.unirest.http.Unirest;\r\n    import com.mashape.unirest.http.exceptions.UnirestException;\r\n    import com.mashape.unirest.http.ObjectMapper;\r\n    import org.codehaus.jackson.node.JsonNodeFactory;\r\n    import org.codehaus.jackson.node.ObjectNode;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class CreateIssue{\r\n        public static void main(String[]args) {\r\n            JsonNodeFactory jnf = JsonNodeFactory.instance;\r\n            ObjectNode payload = jnf.objectNode();\r\n    \r\n            {\r\n                ObjectNode fields = payload.putObject(&quot;fields&quot;);\r\n                {\r\n                    fields.put(&quot;summary&quot;, &quot;This is test Summary&quot;);\r\n                    ObjectNode project = fields.putObject(&quot;project&quot;);\r\n                    {\r\n                        project.put(&quot;key&quot;, &quot;DEM12&quot;);\r\n                    }\r\n                    ObjectNode issueType = fields.putObject(&quot;issuetype&quot;);\r\n                    {\r\n                        issueType.put(&quot;name&quot;, &quot;Task&quot;);\r\n                    }\r\n                }\r\n    \r\n            }\r\n            // Connect Jackson ObjectMapper to Unirest\r\n            Unirest.setObjectMapper(new ObjectMapper() {\r\n                private com.fasterxml.jackson.databind.ObjectMapper jacksonObjectMapper\r\n                        = new com.fasterxml.jackson.databind.ObjectMapper();\r\n    \r\n                public &lt;T&gt; T readValue(String value, Class&lt;T&gt; valueType) {\r\n                    try {\r\n                        return jacksonObjectMapper.readValue(value, valueType);\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n    \r\n                public String writeValue(Object value) {\r\n                    try {\r\n                        return jacksonObjectMapper.writeValueAsString(value);\r\n                    } catch (JsonProcessingException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            });\r\n    \r\n            System.out.println(&quot;Payload from here: &quot;+ payload);\r\n    \r\n            HttpResponse&lt;com.mashape.unirest.http.JsonNode&gt; response = null;\r\n            try {\r\n                response = Unirest.post(&quot;https://{myaccount}.atlassian.net//rest/api/3/issue&quot;)\r\n                            .basicAuth(&quot;{myEmailId}&quot;, &quot;{MyAPITOken}&quot;)\r\n                        .header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n                        .body(payload)\r\n                        .asJson();\r\n    \r\n    \r\n                System.out.println(response.getBody());\r\n                System.out.println(response.getStatus());\r\n            } catch (UnirestException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nThe output which I am printing here, is genuine json and if I put post request in **Postman** using that output, it is **working fine**. So I think **error is lying in my code somewhere**, but I don&#39;t know where.\r\n**Can anyone help with this?**","title":"Error in parsing Json Object node while creating an issue of Jira using REST API of atlassian in Java","body":"<p>I am trying to create an issue using Jira REST API in java. But I am getting below Runtime Exception in my console.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: com.fasterxml.jackson.databind.JsonMappingException: Unexpected IOException (of type org.codehaus.jackson.JsonParseException): Illegal white space character (code 0x20) as character #3 of 4-char base64 unit: can only used between units\n at [Source: N/A; line: -1, column: -1]\n    at CreateIssue$1.writeValue(CreateIssue.java:60)\n    at com.mashape.unirest.request.HttpRequestWithBody.body(HttpRequestWithBody.java:158)\n    at CreateIssue.main(CreateIssue.java:72)\n</code></pre>\n<p>Below is my code,\nI have implemented same code as provided in the documentation, still I am getting an error.</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.mashape.unirest.http.HttpResponse;\nimport com.mashape.unirest.http.Unirest;\nimport com.mashape.unirest.http.exceptions.UnirestException;\nimport com.mashape.unirest.http.ObjectMapper;\nimport org.codehaus.jackson.node.JsonNodeFactory;\nimport org.codehaus.jackson.node.ObjectNode;\n\nimport java.io.IOException;\n\npublic class CreateIssue{\n    public static void main(String[]args) {\n        JsonNodeFactory jnf = JsonNodeFactory.instance;\n        ObjectNode payload = jnf.objectNode();\n\n        {\n            ObjectNode fields = payload.putObject(&quot;fields&quot;);\n            {\n                fields.put(&quot;summary&quot;, &quot;This is test Summary&quot;);\n                ObjectNode project = fields.putObject(&quot;project&quot;);\n                {\n                    project.put(&quot;key&quot;, &quot;DEM12&quot;);\n                }\n                ObjectNode issueType = fields.putObject(&quot;issuetype&quot;);\n                {\n                    issueType.put(&quot;name&quot;, &quot;Task&quot;);\n                }\n            }\n\n        }\n        // Connect Jackson ObjectMapper to Unirest\n        Unirest.setObjectMapper(new ObjectMapper() {\n            private com.fasterxml.jackson.databind.ObjectMapper jacksonObjectMapper\n                    = new com.fasterxml.jackson.databind.ObjectMapper();\n\n            public &lt;T&gt; T readValue(String value, Class&lt;T&gt; valueType) {\n                try {\n                    return jacksonObjectMapper.readValue(value, valueType);\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n            public String writeValue(Object value) {\n                try {\n                    return jacksonObjectMapper.writeValueAsString(value);\n                } catch (JsonProcessingException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        });\n\n        System.out.println(&quot;Payload from here: &quot;+ payload);\n\n        HttpResponse&lt;com.mashape.unirest.http.JsonNode&gt; response = null;\n        try {\n            response = Unirest.post(&quot;https://{myaccount}.atlassian.net//rest/api/3/issue&quot;)\n                        .basicAuth(&quot;{myEmailId}&quot;, &quot;{MyAPITOken}&quot;)\n                    .header(&quot;Accept&quot;, &quot;application/json&quot;)\n                    .body(payload)\n                    .asJson();\n\n\n            System.out.println(response.getBody());\n            System.out.println(response.getStatus());\n        } catch (UnirestException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The output which I am printing here, is genuine json and if I put post request in <strong>Postman</strong> using that output, it is <strong>working fine</strong>. So I think <strong>error is lying in my code somewhere</strong>, but I don't know where.\n<strong>Can anyone help with this?</strong></p>\n"},{"tags":["java","c","windows","maven","gradle"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1645430445,"post_id":71202369,"comment_id":125860194,"body_markdown":"The error means that it tries to load a native library called `jpostal_expander` and it can&#39;t find. It would likely be called `jpostal_expander.dll`. This could mean that you didn&#39;t properly build it. I don&#39;t know jpostal, so I can&#39;t help you on that.","body":"The error means that it tries to load a native library called <code>jpostal_expander</code> and it can&#39;t find. It would likely be called <code>jpostal_expander.dll</code>. This could mean that you didn&#39;t properly build it. I don&#39;t know jpostal, so I can&#39;t help you on that."},{"owner":{"account_id":9010593,"reputation":2151,"user_id":6715384,"display_name":"HMT"},"score":0,"creation_date":1655143025,"post_id":71202369,"comment_id":128256611,"body_markdown":"Hi, were you able to solve this issue ?","body":"Hi, were you able to solve this issue ?"}],"owner":{"account_id":22441774,"reputation":135,"user_id":16646191,"display_name":"Vance Brockberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1645430378,"creation_date":1645427199,"question_id":71202369,"body_markdown":"I&#39;m trying to setup [libpostal][1]/[jpostal][2] on my Windows 10 machine in a Java environment. I followed the [Windows Installation Guide on GitHub][3].\r\n\r\nI am able to see the `libpostal` folder installed under: `C:\\xxx\\Program Files\\libpostal\\` with sub folders: `.git`, `autom4te.cache`, `data`, `m4`, `resources` etc.\r\n\r\nHowever, when I run:\r\n\r\n\tAddressExpander expander = AddressExpander.getInstance();\r\n\r\nI get the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no jpostal_expander in java.library.path\r\n    \tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\r\n    \tat java.lang.Runtime.loadLibrary0(Runtime.java:870)\r\n    \tat java.lang.System.loadLibrary(System.java:1122)\r\n    \tat com.mapzen.jpostal.AddressExpander.&lt;clinit&gt;(AddressExpander.java:7)\r\n    \tat jpostal.JPostal.execute(JPostal.java:24)\r\n    \tat global_projects.GlobalMain.main(GlobalMain.java:37)\r\n\r\n\r\nI normally use Maven for my build. However, since [there is currently no Maven repository for JPostal][4], I am using Gradle.\r\n\r\nI followed the solution suggested on [this GitHub thread][5] by adding [the following gradle.build file][6], however I still get the same error.\r\n\r\nWhat am I doing wrong?\r\n\r\n\r\n  [1]: https://github.com/openvenues/libpostal\r\n  [2]: https://github.com/openvenues/jpostal\r\n  [3]: https://github.com/openvenues/libpostal#installation-windows\r\n  [4]: https://github.com/openvenues/jpostal/issues/7\r\n  [5]: https://github.com/openvenues/jpostal/issues/3\r\n  [6]: https://github.com/openvenues/jpostal/blob/master/build.gradle#L18","title":"Setting up LibPostal (JPostal) on Windows in Java","body":"<p>I'm trying to setup <a href=\"https://github.com/openvenues/libpostal\" rel=\"nofollow noreferrer\">libpostal</a>/<a href=\"https://github.com/openvenues/jpostal\" rel=\"nofollow noreferrer\">jpostal</a> on my Windows 10 machine in a Java environment. I followed the <a href=\"https://github.com/openvenues/libpostal#installation-windows\" rel=\"nofollow noreferrer\">Windows Installation Guide on GitHub</a>.</p>\n<p>I am able to see the <code>libpostal</code> folder installed under: <code>C:\\xxx\\Program Files\\libpostal\\</code> with sub folders: <code>.git</code>, <code>autom4te.cache</code>, <code>data</code>, <code>m4</code>, <code>resources</code> etc.</p>\n<p>However, when I run:</p>\n<pre><code>AddressExpander expander = AddressExpander.getInstance();\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no jpostal_expander in java.library.path\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\n    at java.lang.Runtime.loadLibrary0(Runtime.java:870)\n    at java.lang.System.loadLibrary(System.java:1122)\n    at com.mapzen.jpostal.AddressExpander.&lt;clinit&gt;(AddressExpander.java:7)\n    at jpostal.JPostal.execute(JPostal.java:24)\n    at global_projects.GlobalMain.main(GlobalMain.java:37)\n</code></pre>\n<p>I normally use Maven for my build. However, since <a href=\"https://github.com/openvenues/jpostal/issues/7\" rel=\"nofollow noreferrer\">there is currently no Maven repository for JPostal</a>, I am using Gradle.</p>\n<p>I followed the solution suggested on <a href=\"https://github.com/openvenues/jpostal/issues/3\" rel=\"nofollow noreferrer\">this GitHub thread</a> by adding <a href=\"https://github.com/openvenues/jpostal/blob/master/build.gradle#L18\" rel=\"nofollow noreferrer\">the following gradle.build file</a>, however I still get the same error.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","android","android-studio","graph","highcharts"],"comments":[{"owner":{"account_id":16834650,"reputation":1442,"user_id":12171673,"display_name":"Sebastian Hajdus"},"score":0,"creation_date":1644232166,"post_id":70989974,"comment_id":125541648,"body_markdown":"You can use [xAxis.tickPositions](https://api.highcharts.com/highcharts/xAxis.tickPositions) options to set an array with specific ticks on the x-axis. [xAxis.tickPositioner](https://api.highcharts.com/highcharts/xAxis.tickPositioner) This option runs a Callback Function that returns an array indicating where the ticks are located on the axis.","body":"You can use <a href=\"https://api.highcharts.com/highcharts/xAxis.tickPositions\" rel=\"nofollow noreferrer\">xAxis.tickPositions</a> options to set an array with specific ticks on the x-axis. <a href=\"https://api.highcharts.com/highcharts/xAxis.tickPositioner\" rel=\"nofollow noreferrer\">xAxis.tickPositioner</a> This option runs a Callback Function that returns an array indicating where the ticks are located on the axis."},{"owner":{"account_id":4527653,"reputation":67,"user_id":3679027,"accept_rate":50,"display_name":"Lubron"},"score":0,"creation_date":1645115286,"post_id":70989974,"comment_id":125790583,"body_markdown":"Thanks! I solved the problem, but another one comes! I have to put my chart in a specific part of my layout. At the beginning I tried to retrieve width and height of this layout and I obtained, for example, 800x600, so I put these values into chart.setWidth(800) and chart.setHeight(600) but the chart doesn&#39;t fit in the layout, seems that dimensions changes at runtime. How can I measure real time dimension of my layout or fit the chart to my effective layout dimension? \n\nThanks!","body":"Thanks! I solved the problem, but another one comes! I have to put my chart in a specific part of my layout. At the beginning I tried to retrieve width and height of this layout and I obtained, for example, 800x600, so I put these values into chart.setWidth(800) and chart.setHeight(600) but the chart doesn&#39;t fit in the layout, seems that dimensions changes at runtime. How can I measure real time dimension of my layout or fit the chart to my effective layout dimension?   Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":16834650,"reputation":1442,"user_id":12171673,"display_name":"Sebastian Hajdus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645430306,"creation_date":1645430306,"answer_id":71202894,"question_id":70989974,"body_markdown":"The height and width of the `HIChart` object are in pixels and what you got from your container is probably the value in dp. You need to convert these values to pixels and use that value for the height/width of the chart.\r\n\r\nThis will really only change the size of the chart that is in the container, i.e. in our `HIChartView`. I would rather not move the height/width values of the chart but operate directly on the `HIChartView`.","title":"HighCharts: drawing graph paper for ECG on Android","body":"<p>The height and width of the <code>HIChart</code> object are in pixels and what you got from your container is probably the value in dp. You need to convert these values to pixels and use that value for the height/width of the chart.</p>\n<p>This will really only change the size of the chart that is in the container, i.e. in our <code>HIChartView</code>. I would rather not move the height/width values of the chart but operate directly on the <code>HIChartView</code>.</p>\n"}],"owner":{"account_id":4527653,"reputation":67,"user_id":3679027,"accept_rate":50,"display_name":"Lubron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645430306,"creation_date":1643993231,"question_id":70989974,"body_markdown":"in my Android app I found the need to draw, in a part of my activity, the result of an ECG bluetooth device acquisition; in other activity i can draw graph to visualize other vital parameters using HighCharts without problems, but for ECG a lot of challanges spawned!\r\n\r\nThe first, and most difficult at the time, is to draw the graph paper where the ECG lies; for those who doesn&#39;t know, it&#39;s a special grid composed by squares (ticks), major ones composed by 5 minor ones, representing time on X axis (0.2s major tick, 0.04s minor ticks) and voltage on Y axis (0.5mV major ticks, 0.1mV minor ticks).\r\n\r\nMy goal is to draw this graph paper keeping the size of these squares fixed, for example, 25dp for the major ticks (thus 5d for the minor ticks),both on vertical and horizontal.\r\n\r\nUsing various HighCharts properties, as \r\n- setTickPixelInterval\r\n- setTickInterval\r\n- setMinotTickInterval\r\n\r\nand more, when the duration of the acquisition changes, the graph stretches to reduce the graph length (also using the scrollableArea) modifying the desidered tick dimension.\r\n\r\nThere&#39;s a way to fix the tick dimension in a way that HighChart won&#39;t ever modify it?\r\n\r\nThanks in advance!","title":"HighCharts: drawing graph paper for ECG on Android","body":"<p>in my Android app I found the need to draw, in a part of my activity, the result of an ECG bluetooth device acquisition; in other activity i can draw graph to visualize other vital parameters using HighCharts without problems, but for ECG a lot of challanges spawned!</p>\n<p>The first, and most difficult at the time, is to draw the graph paper where the ECG lies; for those who doesn't know, it's a special grid composed by squares (ticks), major ones composed by 5 minor ones, representing time on X axis (0.2s major tick, 0.04s minor ticks) and voltage on Y axis (0.5mV major ticks, 0.1mV minor ticks).</p>\n<p>My goal is to draw this graph paper keeping the size of these squares fixed, for example, 25dp for the major ticks (thus 5d for the minor ticks),both on vertical and horizontal.</p>\n<p>Using various HighCharts properties, as</p>\n<ul>\n<li>setTickPixelInterval</li>\n<li>setTickInterval</li>\n<li>setMinotTickInterval</li>\n</ul>\n<p>and more, when the duration of the acquisition changes, the graph stretches to reduce the graph length (also using the scrollableArea) modifying the desidered tick dimension.</p>\n<p>There's a way to fix the tick dimension in a way that HighChart won't ever modify it?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","synchronized"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1645429305,"post_id":71202694,"comment_id":125859869,"body_markdown":"Yes it is, in this context.  Yes, it will.","body":"Yes it is, in this context.  Yes, it will."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1645429560,"post_id":71202694,"comment_id":125859937,"body_markdown":"It is equivalent to `synchronized (this)` at all times if the method isn&#39;t `static`. I don&#39;t understand what exactly you mean by `[Class].this`, unless you are referring to the syntax for getting the enclosing instance of an inner class object, in which case the answer is &#39;no&#39;.","body":"It is equivalent to <code>synchronized (this)</code> at all times if the method isn&#39;t <code>static</code>. I don&#39;t understand what exactly you mean by <code>[Class].this</code>, unless you are referring to the syntax for getting the enclosing instance of an inner class object, in which case the answer is &#39;no&#39;."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1645431196,"post_id":71202694,"comment_id":125860406,"body_markdown":"Wow.  What createUpdater() returns is a closure on the Demo instance, yes?","body":"Wow.  What createUpdater() returns is a closure on the Demo instance, yes?"},{"owner":{"account_id":450954,"reputation":600,"user_id":846563,"accept_rate":57,"display_name":"datahaki"},"score":0,"creation_date":1645514188,"post_id":71202694,"comment_id":125884515,"body_markdown":"@CryptoFool the demo code is imcomplete. we have different &quot;updaters&quot;: some for flow addition and some for flow subtraction... they all contribute to updating the mass. the design is preliminary.","body":"@CryptoFool the demo code is imcomplete. we have different &quot;updaters&quot;: some for flow addition and some for flow subtraction... they all contribute to updating the mass. the design is preliminary."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1646214461,"post_id":71202694,"comment_id":126065849,"body_markdown":"You could also use a lambda expression, which uses `this` the same way as the surrounding code, `public Consumer&lt;Double&gt; createUpdater() { return flow -&gt; { synchronized(this) { mass += flow * 0.1; } }; }` This will, of course, fail when `mass` still has its initial value of `null`. You should really rethink this strategy. Boxing every value into a `Double`, just for the sake of an initial value (as all other updates never produce `null`), is questionable.","body":"You could also use a lambda expression, which uses <code>this</code> the same way as the surrounding code, <code>public Consumer&lt;Double&gt; createUpdater() { return flow -&gt; { synchronized(this) { mass += flow * 0.1; } }; }</code> This will, of course, fail when <code>mass</code> still has its initial value of <code>null</code>. You should really rethink this strategy. Boxing every value into a <code>Double</code>, just for the sake of an initial value (as all other updates never produce <code>null</code>), is questionable."}],"owner":{"account_id":450954,"reputation":600,"user_id":846563,"accept_rate":57,"display_name":"datahaki"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645430680,"answer_count":0,"score":0,"last_activity_date":1645430284,"creation_date":1645429132,"question_id":71202694,"body_markdown":"Have a look at the example below where `synchronized` is used twice:\r\n\r\n```java\r\npublic class Demo {\r\n  private Double mass = null;\r\n\r\n  public synchronized void setMass(double mass) {\r\n    this.mass = mass;\r\n  }\r\n\r\n  public Consumer&lt;Double&gt; createUpdater() {\r\n    return new Consumer&lt;&gt;() {\r\n      @Override\r\n      public void accept(Double flow) {\r\n        synchronized (Demo.this) {\r\n          mass = mass + flow * 0.1;\r\n        }\r\n      }\r\n    };\r\n  }\r\n}\r\n```\r\n\r\nWill one block the simultaneous execution of the other block?\r\nIn other words, does the synchronized keyword on a function refer to instance ([Class].this) in Java?","title":"Is synchronized function equivalent to synchronized([Class].this)]","body":"<p>Have a look at the example below where <code>synchronized</code> is used twice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Demo {\n  private Double mass = null;\n\n  public synchronized void setMass(double mass) {\n    this.mass = mass;\n  }\n\n  public Consumer&lt;Double&gt; createUpdater() {\n    return new Consumer&lt;&gt;() {\n      @Override\n      public void accept(Double flow) {\n        synchronized (Demo.this) {\n          mass = mass + flow * 0.1;\n        }\n      }\n    };\n  }\n}\n</code></pre>\n<p>Will one block the simultaneous execution of the other block?\nIn other words, does the synchronized keyword on a function refer to instance ([Class].this) in Java?</p>\n"},{"tags":["java","cryptography","x509certificate","bouncycastle","ocsp"],"answers":[{"tags":[],"owner":{"account_id":7248366,"reputation":25,"user_id":5529547,"display_name":"haakl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645430280,"creation_date":1645430280,"answer_id":71202891,"question_id":71112011,"body_markdown":"If you stumble upon the same problem;\r\n\r\nI added the responding certificate for the OCSP to PKIXRevocationChecker.setOcspResponderCert() after validating that it originates from the root CA or is the root CA. The revocation checker will still validate that the responding certificate has the proper extensions to sign OCSPs.","title":"Authorized responder for an OCSP response not validating with CertPathValidator","body":"<p>If you stumble upon the same problem;</p>\n<p>I added the responding certificate for the OCSP to PKIXRevocationChecker.setOcspResponderCert() after validating that it originates from the root CA or is the root CA. The revocation checker will still validate that the responding certificate has the proper extensions to sign OCSPs.</p>\n"}],"owner":{"account_id":7248366,"reputation":25,"user_id":5529547,"display_name":"haakl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":994,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71202891,"answer_count":1,"score":1,"last_activity_date":1645430280,"creation_date":1644842108,"question_id":71112011,"body_markdown":"I&#39;m trying to validate a certificate path with stapled OCSP checking through CertPathValidator. There might be some RFC-protocol that prohibits what I expect to validate just fine, but I&#39;ve been unable to find this.\r\n\r\nSome paint art to describe relations between certificates discussed:\r\n[overview][1]\r\n\r\nWhen verifying the certificate path I get an exception stating that the responder is not authorized to sign OCSP responses.\r\n&gt;CertPathValidatorException: Responder&#39;s certificate is not authorized to sign OCSP responses\r\n\r\nThis is due to sun.security.provider.certpath.OCSPResponse:561. The checks leading to this outcome expect the certificate used to sign the OCSP response (or its issuer) to be the same as the one issuing the certificate of the signature we are verifying.\r\n\r\nThis is however not the case here. OCSP responders certificate has extended key usage for OCSP-signing, should it not be able to sign OCSP responses when there is an intermediate between the CA and signers certificate?\r\n\r\n  [1]: https://i.stack.imgur.com/kIk9N.png","title":"Authorized responder for an OCSP response not validating with CertPathValidator","body":"<p>I'm trying to validate a certificate path with stapled OCSP checking through CertPathValidator. There might be some RFC-protocol that prohibits what I expect to validate just fine, but I've been unable to find this.</p>\n<p>Some paint art to describe relations between certificates discussed:\n<a href=\"https://i.stack.imgur.com/kIk9N.png\" rel=\"nofollow noreferrer\">overview</a></p>\n<p>When verifying the certificate path I get an exception stating that the responder is not authorized to sign OCSP responses.</p>\n<blockquote>\n<p>CertPathValidatorException: Responder's certificate is not authorized to sign OCSP responses</p>\n</blockquote>\n<p>This is due to sun.security.provider.certpath.OCSPResponse:561. The checks leading to this outcome expect the certificate used to sign the OCSP response (or its issuer) to be the same as the one issuing the certificate of the signature we are verifying.</p>\n<p>This is however not the case here. OCSP responders certificate has extended key usage for OCSP-signing, should it not be able to sign OCSP responses when there is an intermediate between the CA and signers certificate?</p>\n"},{"tags":["java","maven","google-cloud-functions"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645430263,"creation_date":1645430263,"answer_id":71202887,"question_id":71202662,"body_markdown":"Your error is stating that you are attempting to use a class which does not exist.  If it works locally and it does not work on Google Cloud, that means the libraries/jar are not configured properly.\r\n\r\nIf what you are deploying is a Fat/Uber jar, unzip the jar and verify the location of `nimbus-jose-jwt`.\r\n\r\n&gt; An uber JAR is a JAR file that contains the function classes as well\r\n&gt; as all of its dependencies. You can build an uber JAR with both Maven\r\n&gt; and Gradle\r\n\r\nIf what you are deploying is a Thin Jar, ensure that your dependencies are in a package relative to the JAR deployed.\r\n\r\n&gt; A thin JAR is a JAR file that contains only the function classes\r\n&gt; without the dependencies embedded in the same JAR file. Because the\r\n&gt; dependencies are still needed for deployment, you need to set things\r\n&gt; up as follows:\r\n&gt; \r\n&gt; The dependencies must be in a subdirectory relative to the JAR to be\r\n&gt; deployed. The JAR must have a META-INF/MANIFEST.MF file that includes\r\n&gt; a Class-Path attribute whose value lists the required dependency\r\n&gt; paths.\r\n\r\n\r\nThe Google Cloud documentation is very clear on how you can use Maven/Gradle to deploy either.\r\n\r\nhttps://cloud.google.com/functions/docs/concepts/java-deploy#deploy_from_a_jar\r\n","title":"Error deploying Encryption Java cloud function on Google cloud","body":"<p>Your error is stating that you are attempting to use a class which does not exist.  If it works locally and it does not work on Google Cloud, that means the libraries/jar are not configured properly.</p>\n<p>If what you are deploying is a Fat/Uber jar, unzip the jar and verify the location of <code>nimbus-jose-jwt</code>.</p>\n<blockquote>\n<p>An uber JAR is a JAR file that contains the function classes as well\nas all of its dependencies. You can build an uber JAR with both Maven\nand Gradle</p>\n</blockquote>\n<p>If what you are deploying is a Thin Jar, ensure that your dependencies are in a package relative to the JAR deployed.</p>\n<blockquote>\n<p>A thin JAR is a JAR file that contains only the function classes\nwithout the dependencies embedded in the same JAR file. Because the\ndependencies are still needed for deployment, you need to set things\nup as follows:</p>\n<p>The dependencies must be in a subdirectory relative to the JAR to be\ndeployed. The JAR must have a META-INF/MANIFEST.MF file that includes\na Class-Path attribute whose value lists the required dependency\npaths.</p>\n</blockquote>\n<p>The Google Cloud documentation is very clear on how you can use Maven/Gradle to deploy either.</p>\n<p><a href=\"https://cloud.google.com/functions/docs/concepts/java-deploy#deploy_from_a_jar\" rel=\"nofollow noreferrer\">https://cloud.google.com/functions/docs/concepts/java-deploy#deploy_from_a_jar</a></p>\n"}],"owner":{"account_id":12528131,"reputation":77,"user_id":9117221,"display_name":"gooner_psy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71202887,"answer_count":1,"score":0,"last_activity_date":1645430263,"creation_date":1645428929,"question_id":71202662,"body_markdown":"Facing the below error while trying to deploy an encryption java cloud function on Google cloud. [Note, function works locally].\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/nimbusds/jose/JWEEncrypter at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137) at java.base/java.lang.Class.getConstructor0(Class.java:3342) at java.base/java.lang.Class.getConstructor(Class.java:2151) at com.google.cloud.functions.invoker.HttpFunctionExecutor.forClass(HttpFunctionExecutor.java:53) at com.google.cloud.functions.invoker.runner.Invoker.startServer(Invoker.java:243) at com.google.cloud.functions.invoker.runner.Invoker.main(Invoker.java:121) Caused by: java.lang.ClassNotFoundException: com.nimbusds.jose.JWEEncrypter at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476) at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589) at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ... 7 more\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/nimbusds/jose/JWEEncrypter at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137) at java.base/java.lang.Class.getConstructor0(Class.java:3342) at java.base/java.lang.Class.getConstructor(Class.java:2151) at com.google.cloud.functions.invoker.HttpFunctionExecutor.forClass(HttpFunctionExecutor.java:53) at com.google.cloud.functions.invoker.runner.Invoker.startServer(Invoker.java:243) at com.google.cloud.functions.invoker.runner.Invoker.main(Invoker.java:121) Caused by: java.lang.ClassNotFoundException: com.nimbusds.jose.JWEEncrypter at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476) at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589) at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) \r\n```\r\n\r\nUsing the nimbus-jose-jwt jar. Tried with multiple versions of the jar as well. However, facing the same error.\r\nBelow is snippet of it added in pom.xml:\r\n\r\n```\r\n\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;9.15.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n```\r\n\r\nJava Runtime : Java 11 .\r\nAdding the function code below:\r\n\r\n```\r\nimport com.google.cloud.functions.HttpFunction;\r\nimport com.google.cloud.functions.HttpRequest;\r\nimport com.google.cloud.functions.HttpResponse;\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.JsonElement;\r\nimport com.google.gson.JsonObject;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URLEncoder;\r\nimport java.util.HashMap;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport java.util.stream.Collectors;\r\nimport org.apache.http.HttpStatus;\r\nimport java.security.interfaces.*;\r\nimport javax.crypto.*;\r\nimport com.nimbusds.jose.*;\r\nimport com.nimbusds.jose.crypto.*;\r\nimport com.nimbusds.jwt.*;\r\nimport java.util.*;\r\nimport java.security.KeyFactory;\r\nimport java.security.spec.X509EncodedKeySpec;\r\nimport java.io.File;\r\nimport java.security.PublicKey;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.DataInputStream;\r\npublic class Encrypt implements HttpFunction {\r\n\r\n  private static final Gson gson = new Gson();\r\n  private static final Logger logger = Logger.getLogger(\r\n      Encrypt.class.getName());\r\n\r\n  public void service(HttpRequest request, HttpResponse response)\r\n      throws IOException {\r\n    PrintWriter writer = new PrintWriter(response.getWriter());\r\n\r\n    String contentType = request.getContentType().orElse(&quot;&quot;);\r\n    String plaintext, ciphertext = &quot;&quot;;\r\n    String jwtString=&quot;&quot;;\r\n    try {\r\n      JsonObject body = gson.fromJson(request.getReader(), JsonObject.class);\r\n      plaintext = body.toString();\r\n      logger.log(Level.INFO, &quot;Plaintext: &quot; + plaintext);\r\n      RSAPublicKey publicKey = getPublicKey();\r\n      Date now = new Date();\r\n      // convert json object to map\r\n      Map&lt;String, Object&gt; claims = gson.fromJson(plaintext, HashMap.class);\r\n      System.out.println(&quot;claims: &quot;+claims);\r\n  \r\n      JWTClaimsSet jwtClaims;\r\n      jwtClaims=generate(claims);\r\n      \r\n      System.out.println(&quot;jwtClaims: &quot; + jwtClaims);\r\n   \r\n      System.out.println(jwtClaims.toJSONObject());\r\n  \r\n      JWEHeader header = new JWEHeader.Builder(JWEAlgorithm.RSA_OAEP_256, EncryptionMethod.A256GCM)\r\n          .type(JOSEObjectType.JWT).build();\r\n\r\n      EncryptedJWT jwt = new EncryptedJWT(header, jwtClaims);\r\n\r\n      RSAEncrypter encrypter = new RSAEncrypter(((RSAPublicKey)(publicKey)));\r\n\r\n      jwt.encrypt(encrypter);\r\n\r\n       jwtString = jwt.serialize();\r\n\r\n      System.out.println(jwtString);\r\n\r\n      jwt = EncryptedJWT.parse(jwtString);\r\n\r\n      response.setStatusCode(HttpURLConnection.HTTP_OK);\r\n    } catch (Exception e) {\r\n      logger.severe(&quot;Error parsing JSON: &quot; + e.getMessage());\r\n    }\r\n    HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    map.put(&quot;payload&quot;, jwtString);\r\n    String mapAsString = map\r\n        .keySet()\r\n        .stream()\r\n        .map(key -&gt; &quot;\\&quot;&quot; + key + &quot;\\&quot;:\\&quot;&quot; + map.get(key) + &quot;\\&quot;&quot;)\r\n        .collect(Collectors.joining(&quot;, &quot;, &quot;{&quot;, &quot;}&quot;));\r\n    logger.log(Level.INFO, &quot;mapAsString: &quot; + mapAsString);\r\n    writer.printf(mapAsString);\r\n  }\r\n\r\n\r\n  public static RSAPublicKey getPublicKey() {\r\n    try {\r\n\r\n      String publicKeyString = &quot;aaa&quot;;\r\n      publicKeyString = publicKeyString.trim();\r\n      // byte[] publicKeyBytes=publicKeyString.getBytes();\r\n      KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\r\n      byte[] decoded = Base64.getDecoder().decode(publicKeyString);\r\n      X509EncodedKeySpec publicKeySpec = new X509EncodedKeySpec(decoded);\r\n      RSAPublicKey publicKey = (RSAPublicKey) keyFactory.generatePublic(publicKeySpec);\r\n      return publicKey;\r\n    } catch (Exception e) {\r\n\r\n      e.printStackTrace();\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public JWTClaimsSet generate(final Map&lt;String, Object&gt; claims) {\r\n    // claims builder\r\n    final JWTClaimsSet.Builder builder = new JWTClaimsSet.Builder();\r\n    // add claims\r\n    for (final Map.Entry&lt;String, Object&gt; entry : claims.entrySet()) {\r\n      builder.claim(entry.getKey(), entry.getValue());\r\n    }\r\n\r\n    return builder.build();\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n  }\r\n\r\n}\r\n```\r\nHave also tried &quot;mvn clean package&quot; before deploying. Still face the same issue.\r\n\r\ndeployment error:\r\n[![deployment-error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/67MKl.png","title":"Error deploying Encryption Java cloud function on Google cloud","body":"<p>Facing the below error while trying to deploy an encryption java cloud function on Google cloud. [Note, function works locally].</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/nimbusds/jose/JWEEncrypter at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137) at java.base/java.lang.Class.getConstructor0(Class.java:3342) at java.base/java.lang.Class.getConstructor(Class.java:2151) at com.google.cloud.functions.invoker.HttpFunctionExecutor.forClass(HttpFunctionExecutor.java:53) at com.google.cloud.functions.invoker.runner.Invoker.startServer(Invoker.java:243) at com.google.cloud.functions.invoker.runner.Invoker.main(Invoker.java:121) Caused by: java.lang.ClassNotFoundException: com.nimbusds.jose.JWEEncrypter at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476) at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589) at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ... 7 more\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/nimbusds/jose/JWEEncrypter at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137) at java.base/java.lang.Class.getConstructor0(Class.java:3342) at java.base/java.lang.Class.getConstructor(Class.java:2151) at com.google.cloud.functions.invoker.HttpFunctionExecutor.forClass(HttpFunctionExecutor.java:53) at com.google.cloud.functions.invoker.runner.Invoker.startServer(Invoker.java:243) at com.google.cloud.functions.invoker.runner.Invoker.main(Invoker.java:121) Caused by: java.lang.ClassNotFoundException: com.nimbusds.jose.JWEEncrypter at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476) at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589) at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) \n</code></pre>\n<p>Using the nimbus-jose-jwt jar. Tried with multiple versions of the jar as well. However, facing the same error.\nBelow is snippet of it added in pom.xml:</p>\n<pre><code>    &lt;dependency&gt;\n            &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n            &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\n            &lt;version&gt;9.15.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Java Runtime : Java 11 .\nAdding the function code below:</p>\n<pre><code>import com.google.cloud.functions.HttpFunction;\nimport com.google.cloud.functions.HttpRequest;\nimport com.google.cloud.functions.HttpResponse;\nimport com.google.gson.Gson;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.net.HttpURLConnection;\nimport java.net.URLEncoder;\nimport java.util.HashMap;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport java.util.stream.Collectors;\nimport org.apache.http.HttpStatus;\nimport java.security.interfaces.*;\nimport javax.crypto.*;\nimport com.nimbusds.jose.*;\nimport com.nimbusds.jose.crypto.*;\nimport com.nimbusds.jwt.*;\nimport java.util.*;\nimport java.security.KeyFactory;\nimport java.security.spec.X509EncodedKeySpec;\nimport java.io.File;\nimport java.security.PublicKey;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.DataInputStream;\npublic class Encrypt implements HttpFunction {\n\n  private static final Gson gson = new Gson();\n  private static final Logger logger = Logger.getLogger(\n      Encrypt.class.getName());\n\n  public void service(HttpRequest request, HttpResponse response)\n      throws IOException {\n    PrintWriter writer = new PrintWriter(response.getWriter());\n\n    String contentType = request.getContentType().orElse(&quot;&quot;);\n    String plaintext, ciphertext = &quot;&quot;;\n    String jwtString=&quot;&quot;;\n    try {\n      JsonObject body = gson.fromJson(request.getReader(), JsonObject.class);\n      plaintext = body.toString();\n      logger.log(Level.INFO, &quot;Plaintext: &quot; + plaintext);\n      RSAPublicKey publicKey = getPublicKey();\n      Date now = new Date();\n      // convert json object to map\n      Map&lt;String, Object&gt; claims = gson.fromJson(plaintext, HashMap.class);\n      System.out.println(&quot;claims: &quot;+claims);\n  \n      JWTClaimsSet jwtClaims;\n      jwtClaims=generate(claims);\n      \n      System.out.println(&quot;jwtClaims: &quot; + jwtClaims);\n   \n      System.out.println(jwtClaims.toJSONObject());\n  \n      JWEHeader header = new JWEHeader.Builder(JWEAlgorithm.RSA_OAEP_256, EncryptionMethod.A256GCM)\n          .type(JOSEObjectType.JWT).build();\n\n      EncryptedJWT jwt = new EncryptedJWT(header, jwtClaims);\n\n      RSAEncrypter encrypter = new RSAEncrypter(((RSAPublicKey)(publicKey)));\n\n      jwt.encrypt(encrypter);\n\n       jwtString = jwt.serialize();\n\n      System.out.println(jwtString);\n\n      jwt = EncryptedJWT.parse(jwtString);\n\n      response.setStatusCode(HttpURLConnection.HTTP_OK);\n    } catch (Exception e) {\n      logger.severe(&quot;Error parsing JSON: &quot; + e.getMessage());\n    }\n    HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n    map.put(&quot;payload&quot;, jwtString);\n    String mapAsString = map\n        .keySet()\n        .stream()\n        .map(key -&gt; &quot;\\&quot;&quot; + key + &quot;\\&quot;:\\&quot;&quot; + map.get(key) + &quot;\\&quot;&quot;)\n        .collect(Collectors.joining(&quot;, &quot;, &quot;{&quot;, &quot;}&quot;));\n    logger.log(Level.INFO, &quot;mapAsString: &quot; + mapAsString);\n    writer.printf(mapAsString);\n  }\n\n\n  public static RSAPublicKey getPublicKey() {\n    try {\n\n      String publicKeyString = &quot;aaa&quot;;\n      publicKeyString = publicKeyString.trim();\n      // byte[] publicKeyBytes=publicKeyString.getBytes();\n      KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n\n      byte[] decoded = Base64.getDecoder().decode(publicKeyString);\n      X509EncodedKeySpec publicKeySpec = new X509EncodedKeySpec(decoded);\n      RSAPublicKey publicKey = (RSAPublicKey) keyFactory.generatePublic(publicKeySpec);\n      return publicKey;\n    } catch (Exception e) {\n\n      e.printStackTrace();\n      return null;\n    }\n  }\n\n  public JWTClaimsSet generate(final Map&lt;String, Object&gt; claims) {\n    // claims builder\n    final JWTClaimsSet.Builder builder = new JWTClaimsSet.Builder();\n    // add claims\n    for (final Map.Entry&lt;String, Object&gt; entry : claims.entrySet()) {\n      builder.claim(entry.getKey(), entry.getValue());\n    }\n\n    return builder.build();\n  }\n\n  public static void main(String[] args) {\n  }\n\n}\n</code></pre>\n<p>Have also tried &quot;mvn clean package&quot; before deploying. Still face the same issue.</p>\n<p>deployment error:\n<a href=\"https://i.stack.imgur.com/67MKl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/67MKl.png\" alt=\"deployment-error\" /></a></p>\n"},{"tags":["java","spring-boot","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":14075779,"reputation":353,"user_id":10168103,"display_name":"chmilevfa"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1535645575,"creation_date":1534696565,"answer_id":51919741,"question_id":50490617,"body_markdown":"You can try to use `telegrambots-spring-boot-starter` from the same library.\r\n\r\nYour main configuration should looks like:\r\n\r\n    @SpringBootApplication\r\n    public class YourApplicationMainClass {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    ApiContextInitializer.init();\r\n\t\t\r\n\t\t    SpringApplication.run(YourApplicationMainClass.class, args);\r\n\t    }\r\n    }\r\n\r\nAnd class of your bot:\r\n\r\n    // Standard Spring component annotation\r\n    @Component\r\n    public class YourBotName extends TelegramLongPollingBot {\r\n        //Bot body.\r\n    }\r\n\r\nA bit more information you can find here https://github.com/rubenlagus/TelegramBots/tree/master/telegrambots-spring-boot-starter","title":"Can I launch a telegram bot from a Spring Boot application?","body":"<p>You can try to use <code>telegrambots-spring-boot-starter</code> from the same library.</p>\n\n<p>Your main configuration should looks like:</p>\n\n<pre><code>@SpringBootApplication\npublic class YourApplicationMainClass {\n\n    public static void main(String[] args) {\n        ApiContextInitializer.init();\n\n        SpringApplication.run(YourApplicationMainClass.class, args);\n    }\n}\n</code></pre>\n\n<p>And class of your bot:</p>\n\n<pre><code>// Standard Spring component annotation\n@Component\npublic class YourBotName extends TelegramLongPollingBot {\n    //Bot body.\n}\n</code></pre>\n\n<p>A bit more information you can find here <a href=\"https://github.com/rubenlagus/TelegramBots/tree/master/telegrambots-spring-boot-starter\" rel=\"noreferrer\">https://github.com/rubenlagus/TelegramBots/tree/master/telegrambots-spring-boot-starter</a></p>\n"},{"tags":[],"owner":{"account_id":2720792,"reputation":43,"user_id":2347129,"display_name":"daniele.dagostino"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645429958,"creation_date":1592208099,"answer_id":62383865,"question_id":50490617,"body_markdown":"As @Bobby said, you can try the \r\n\r\n&gt; telegrambots-spring-boot-starter project\r\n\r\nAnd also you can add the new telegrambots-extensions dependency which make you able to manage command bot.\r\n\r\nSo the code will be\r\n\r\n    @Component\r\n    public class Foo extends TelegramLongPollingCommandBot {\r\n    \r\n            @Override\r\n            public void processNonCommandUpdate(Update update) {\r\n\r\nAlso you can manage the command in this way.\r\n\r\n    @Component\r\n    public class FooCommand extends DefaultBotCommand {\r\n             \r\n          @Override\r\n          public void execute(AbsSender absSender, User user, Chat chat, Integer messageId, String[] arguments) {\r\n\r\nYou can register your TelegramLongPollingCommandBot within the SpringBoot class main, as below:\r\n\r\n```java\r\n  @SpringBootApplication \r\n  public class TelegramBotConfiguration { \r\n       public static void main(String[] args)  \t{ \t\t\r\n          ApiContextInitializer.init();\r\n          TelegramBotsApi telegramBotsApi = new TelegramBotsApi();\r\n          try {\r\n            session = telegramBotsApi.registerBot(new Foo());\r\n          \t\r\n          } catch (TelegramApiException e) {\r\n              log.error(e);\r\n          }\r\n          SpringApplication.run(TelegramBotConfiguration.class, args);\r\n       }\r\n  }\r\n```\r\n\r\n(https://github.com/rubenlagus/TelegramBots/tree/master/telegrambots-extensions)","title":"Can I launch a telegram bot from a Spring Boot application?","body":"<p>As @Bobby said, you can try the</p>\n<blockquote>\n<p>telegrambots-spring-boot-starter project</p>\n</blockquote>\n<p>And also you can add the new telegrambots-extensions dependency which make you able to manage command bot.</p>\n<p>So the code will be</p>\n<pre><code>@Component\npublic class Foo extends TelegramLongPollingCommandBot {\n\n        @Override\n        public void processNonCommandUpdate(Update update) {\n</code></pre>\n<p>Also you can manage the command in this way.</p>\n<pre><code>@Component\npublic class FooCommand extends DefaultBotCommand {\n         \n      @Override\n      public void execute(AbsSender absSender, User user, Chat chat, Integer messageId, String[] arguments) {\n</code></pre>\n<p>You can register your TelegramLongPollingCommandBot within the SpringBoot class main, as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @SpringBootApplication \n  public class TelegramBotConfiguration { \n       public static void main(String[] args)   {       \n          ApiContextInitializer.init();\n          TelegramBotsApi telegramBotsApi = new TelegramBotsApi();\n          try {\n            session = telegramBotsApi.registerBot(new Foo());\n            \n          } catch (TelegramApiException e) {\n              log.error(e);\n          }\n          SpringApplication.run(TelegramBotConfiguration.class, args);\n       }\n  }\n</code></pre>\n<p>(<a href=\"https://github.com/rubenlagus/TelegramBots/tree/master/telegrambots-extensions\" rel=\"nofollow noreferrer\">https://github.com/rubenlagus/TelegramBots/tree/master/telegrambots-extensions</a>)</p>\n"}],"owner":{"account_id":10898095,"reputation":544,"user_id":8011306,"accept_rate":90,"display_name":"Bobby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11200,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":51919741,"answer_count":2,"score":4,"last_activity_date":1645429958,"creation_date":1527084703,"question_id":50490617,"body_markdown":"I try to create a bot from here\r\nhttps://github.com/rubenlagus/TelegramBots\r\n\r\nIt works as a simple application, but when I try to add Spring Boot it doesn&#39;t work. I suppose it is because Spring Boot launches Tomcat and telegram bot tries to send/recieve some http.\r\n\r\nI don&#39;t get any errors (bot launches as @Component bean).\r\n\r\nIs it even possible to connect this kind of bot and a Spring Boot app or at least a web application?\r\n","title":"Can I launch a telegram bot from a Spring Boot application?","body":"<p>I try to create a bot from here\n<a href=\"https://github.com/rubenlagus/TelegramBots\" rel=\"nofollow noreferrer\">https://github.com/rubenlagus/TelegramBots</a></p>\n\n<p>It works as a simple application, but when I try to add Spring Boot it doesn't work. I suppose it is because Spring Boot launches Tomcat and telegram bot tries to send/recieve some http.</p>\n\n<p>I don't get any errors (bot launches as @Component bean).</p>\n\n<p>Is it even possible to connect this kind of bot and a Spring Boot app or at least a web application?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1645429631,"post_id":71202768,"comment_id":125859963,"body_markdown":"Basically by applying a different format. What have you tried so far? Can you show us any code attempt?","body":"Basically by applying a different format. What have you tried so far? Can you show us any code attempt?"},{"owner":{"account_id":24297371,"reputation":71,"user_id":18241377,"display_name":"Jorne Schuurmans"},"score":0,"creation_date":1645429745,"post_id":71202768,"comment_id":125859998,"body_markdown":"I think you ae looking for this\nhttps://stackoverflow.com/questions/6531632/conversion-from-12-hours-time-to-24-hours-time-in-java","body":"I think you ae looking for this <a href=\"https://stackoverflow.com/questions/6531632/conversion-from-12-hours-time-to-24-hours-time-in-java\" title=\"conversion from 12 hours time to 24 hours time in java\">stackoverflow.com/questions/6531632/&hellip;</a>"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1645429777,"post_id":71202768,"comment_id":125860006,"body_markdown":"https://stackoverflow.com/questions/69566133/how-to-change-time-format-in-java-am-pm-vs-am-pm","body":"<a href=\"https://stackoverflow.com/questions/69566133/how-to-change-time-format-in-java-am-pm-vs-am-pm\" title=\"how to change time format in java am pm vs am pm\">stackoverflow.com/questions/69566133/&hellip;</a>"},{"owner":{"account_id":20936085,"reputation":483,"user_id":15381219,"display_name":"Nishikant Tayade"},"score":0,"creation_date":1645429827,"post_id":71202768,"comment_id":125860025,"body_markdown":"Also check out [link](https://beginnersbook.com/2014/01/how-to-convert-12-hour-time-to-24-hour-date-in-java/)","body":"Also check out <a href=\"https://beginnersbook.com/2014/01/how-to-convert-12-hour-time-to-24-hour-date-in-java/\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1645430362,"post_id":71202768,"comment_id":125860172,"body_markdown":"What type is holding the information in your code? Do you already use a specialzed class like `java.time.LocalTime` for it or do you have `String`s formatted as `&quot;hh:mm a&quot;`?","body":"What type is holding the information in your code? Do you already use a specialzed class like <code>java.time.LocalTime</code> for it or do you have <code>String</code>s formatted as <code>&quot;hh:mm a&quot;</code>?"}],"owner":{"account_id":22821261,"reputation":185,"user_id":16971088,"display_name":"Ipal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645430554,"answer_count":0,"score":0,"last_activity_date":1645429537,"creation_date":1645429537,"question_id":71202768,"body_markdown":"I have a task to change format 12 hours time to 24 hours time. What is the method i have to use?\r\nfor example:\r\ntime like 10.30 AM, 09.12 AM, 09.00 AM\r\nHow can I Change to format 24 hours time in java ?","title":"what method can i use to change format 12 hours time to 24 hour time","body":"<p>I have a task to change format 12 hours time to 24 hours time. What is the method i have to use?\nfor example:\ntime like 10.30 AM, 09.12 AM, 09.00 AM\nHow can I Change to format 24 hours time in java ?</p>\n"},{"tags":["java","apache-poi","footer","docx","xwpf"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1645429683,"post_id":71202610,"comment_id":125859976,"body_markdown":"This code is misusing the `CT*` classes. Using the current `apache poi` versions this is not more needed. There is a `BetterHeaderFooterExample.java` in https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xwpf/usermodel/ which shows how to create header/footer now.","body":"This code is misusing the <code>CT*</code> classes. Using the current <code>apache poi</code> versions this is not more needed. There is a <code>BetterHeaderFooterExample.java</code> in <a href=\"https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xwpf/usermodel/\" rel=\"nofollow noreferrer\">svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/jav&zwnj;&#8203;a/&hellip;</a> which shows how to create header/footer now."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1645433481,"post_id":71202610,"comment_id":125861163,"body_markdown":"What `apache poi` version?","body":"What <code>apache poi</code> version?"},{"owner":{"account_id":24326349,"reputation":13,"user_id":18265848,"display_name":"PIXCEL"},"score":0,"creation_date":1645434199,"post_id":71202610,"comment_id":125861449,"body_markdown":"version  apache poi 3.9","body":"version  apache poi 3.9"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1645434619,"post_id":71202610,"comment_id":125861593,"body_markdown":"Sorry, that version is too old. Nobody should use that ancient version in 2022.","body":"Sorry, that version is too old. Nobody should use that ancient version in 2022."},{"owner":{"account_id":24326349,"reputation":13,"user_id":18265848,"display_name":"PIXCEL"},"score":0,"creation_date":1645435012,"post_id":71202610,"comment_id":125861745,"body_markdown":"Thinking about it haha","body":"Thinking about it haha"}],"owner":{"account_id":24326349,"reputation":13,"user_id":18265848,"display_name":"PIXCEL"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645429217,"creation_date":1645428633,"question_id":71202610,"body_markdown":"I am using Apache POI to create header and footer but the resulting file cannot be opened.\r\n[1]: https://i.stack.imgur.com/eDGcF.png\r\n\r\n    XWPFDocument  docx = new XWPFDocument();\r\n\tCTP ctpFooter = CTP.Factory.newInstance();\r\n    ctpFooter.addNewR().addNewT();\r\n\r\n    XWPFParagraph footerParagraph = new XWPFParagraph(ctpFooter, docx);\r\n    XWPFRun footerRun = footerParagraph.createRun();\r\n    footerRun.setFontSize(6);\r\n    footerRun.setText(&quot;footerText&quot;);\r\n    XWPFParagraph[] parsFooter = new XWPFParagraph[1];\r\n    parsFooter[0] = footerParagraph;\r\n\r\n    CTSectPr sectPr = docx.getDocument().getBody().addNewSectPr();\r\n    XWPFHeaderFooterPolicy policy = new XWPFHeaderFooterPolicy(docx, sectPr);\r\n    policy.createFooter(XWPFHeaderFooterPolicy.DEFAULT, parsFooter);\r\n    \r\n    FileOutputStream out = new FileOutputStream(&quot;E:/docx/write-test.docx&quot;);\r\n    docx.write(out);\r\n    out.close();","title":"I am using Apache POI to create header and footer in docx but the resulting file cannot be opened","body":"<p>I am using Apache POI to create header and footer but the resulting file cannot be opened.\n[1]: <a href=\"https://i.stack.imgur.com/eDGcF.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/eDGcF.png</a></p>\n<pre><code>XWPFDocument  docx = new XWPFDocument();\nCTP ctpFooter = CTP.Factory.newInstance();\nctpFooter.addNewR().addNewT();\n\nXWPFParagraph footerParagraph = new XWPFParagraph(ctpFooter, docx);\nXWPFRun footerRun = footerParagraph.createRun();\nfooterRun.setFontSize(6);\nfooterRun.setText(&quot;footerText&quot;);\nXWPFParagraph[] parsFooter = new XWPFParagraph[1];\nparsFooter[0] = footerParagraph;\n\nCTSectPr sectPr = docx.getDocument().getBody().addNewSectPr();\nXWPFHeaderFooterPolicy policy = new XWPFHeaderFooterPolicy(docx, sectPr);\npolicy.createFooter(XWPFHeaderFooterPolicy.DEFAULT, parsFooter);\n\nFileOutputStream out = new FileOutputStream(&quot;E:/docx/write-test.docx&quot;);\ndocx.write(out);\nout.close();\n</code></pre>\n"},{"tags":["java","ms-word","apache-poi","docx","xwpf"],"answers":[{"tags":[],"owner":{"account_id":23480587,"reputation":3,"user_id":17532778,"display_name":"ali zhadigerov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645386530,"creation_date":1645386530,"answer_id":71198156,"question_id":71198054,"body_markdown":"I have a dirty workaround. Since the text block on the right side of the image is static, I replaced the text with screen-shot on the original docx. And now, when the placeholder image been substituted by the new image, everything is rendered as expected.","title":"Java Apache POI: insert an image &quot;infront the text&quot;","body":"<p>I have a dirty workaround. Since the text block on the right side of the image is static, I replaced the text with screen-shot on the original docx. And now, when the placeholder image been substituted by the new image, everything is rendered as expected.</p>\n"},{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645428987,"creation_date":1645428224,"answer_id":71202542,"question_id":71198054,"body_markdown":"To replace picture templates in Microsoft Word there is no need to delete them. \r\n\r\nThe storage is as so:\r\nThe embedded media is stored as binary file. This is the picture data (`XWPFPictureData`). In the document a picture element (`XWPFPicture`) links to that picture data.\r\n\r\nThe `XWPFPicture` has settings for position, size and text flow. These dont need to be changed.\r\n\r\nThe changing is needed in `XWPFPictureData`. There one can replace the old binary content with the new.\r\n\r\nSo the need is to find the `XWPFPicture` in the document. There is a non visual picture name stored while inserting the picture in the document. So if one knows that name, then this could be a criteriea to find the picture.\r\n\r\nIf found one can get the `XWPFPictureData` from found `XWPFPicture`. There is method `XWPFPicture.getPictureData`to do so. Then one can replace the old binary content of `XWPFPictureData` with the new. `XWPFPictureData` is a package part. So it has `PackagePart.getOutputStream` to get an output stream to write to.\r\n\r\nFollowing complete example shows that all.\r\n\r\nThe `source.docx` needs to have an embedded picture named &quot;QRTemplate.jpg&quot;. This is the name of the source file used while inserting the picture into Word document using Word GUI. And there needs to be a file `QR.jpg` which contains the new content.\r\n\r\nThe `result.docx` then has all pictures named &quot;QRTemplate.jpg&quot; replaced with the content of the given file `QR.jpg`.\r\n\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.OutputStream;\r\n    import java.io.FileOutputStream;\r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    public class WordReplacePictureData {\r\n        \r\n     static XWPFPicture getPictureByName(XWPFRun run, String pictureName) {\r\n      if (pictureName == null) return null;\r\n      for (XWPFPicture picture : run.getEmbeddedPictures()) {\r\n       String nonVisualPictureName = picture.getCTPicture().getNvPicPr().getCNvPr().getName();\r\n       if (pictureName.equals(nonVisualPictureName)) {\r\n    \treturn picture;   \r\n       }\r\n      }\r\n      return null;\r\n     }\r\n     \r\n     static void replacePictureData(XWPFPictureData source, String pictureResultPath) {\r\n      try ( FileInputStream in = new FileInputStream(pictureResultPath); \r\n    \t\tOutputStream out = source.getPackagePart().getOutputStream();\r\n    \t   ) {\r\n       byte[] buffer = new byte[2048];\r\n       int length;\r\n       while ((length = in.read(buffer)) &gt; 0) {\r\n        out.write(buffer, 0, length);\r\n       }\r\n      } catch (Exception ex) {\r\n       ex.printStackTrace();  \r\n      }\r\n     }\r\n     \r\n     static void replacePicture(XWPFRun run, String pictureName, String pictureResultPath) {\r\n      XWPFPicture picture = getPictureByName(run, pictureName);\r\n      if (picture != null) {\r\n       XWPFPictureData source = picture.getPictureData();\r\n       replacePictureData(source, pictureResultPath);\r\n      }   \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n      String templatePath = &quot;./source.docx&quot;;\r\n      String resultPath = &quot;./result.docx&quot;;\r\n      String pictureTemplateName = &quot;QRTemplate.jpg&quot;;\r\n      String pictureResultPath = &quot;./QR.jpg&quot;;\r\n      \r\n      try ( XWPFDocument document = new XWPFDocument(new FileInputStream(templatePath));\r\n            FileOutputStream out = new FileOutputStream(resultPath);\r\n           ) {\r\n       \r\n       for (IBodyElement bodyElement : document.getBodyElements()) {\r\n        if (bodyElement instanceof XWPFParagraph) {\r\n         XWPFParagraph paragraph = (XWPFParagraph)bodyElement;\r\n         for (XWPFRun run : paragraph.getRuns()) {\r\n          replacePicture(run, pictureTemplateName, pictureResultPath);\r\n         }\r\n        }\r\n       }\t   \r\n       document.write(out);\r\n      }\t   \r\n     }\r\n    }","title":"Java Apache POI: insert an image &quot;infront the text&quot;","body":"<p>To replace picture templates in Microsoft Word there is no need to delete them.</p>\n<p>The storage is as so:\nThe embedded media is stored as binary file. This is the picture data (<code>XWPFPictureData</code>). In the document a picture element (<code>XWPFPicture</code>) links to that picture data.</p>\n<p>The <code>XWPFPicture</code> has settings for position, size and text flow. These dont need to be changed.</p>\n<p>The changing is needed in <code>XWPFPictureData</code>. There one can replace the old binary content with the new.</p>\n<p>So the need is to find the <code>XWPFPicture</code> in the document. There is a non visual picture name stored while inserting the picture in the document. So if one knows that name, then this could be a criteriea to find the picture.</p>\n<p>If found one can get the <code>XWPFPictureData</code> from found <code>XWPFPicture</code>. There is method <code>XWPFPicture.getPictureData</code>to do so. Then one can replace the old binary content of <code>XWPFPictureData</code> with the new. <code>XWPFPictureData</code> is a package part. So it has <code>PackagePart.getOutputStream</code> to get an output stream to write to.</p>\n<p>Following complete example shows that all.</p>\n<p>The <code>source.docx</code> needs to have an embedded picture named &quot;QRTemplate.jpg&quot;. This is the name of the source file used while inserting the picture into Word document using Word GUI. And there needs to be a file <code>QR.jpg</code> which contains the new content.</p>\n<p>The <code>result.docx</code> then has all pictures named &quot;QRTemplate.jpg&quot; replaced with the content of the given file <code>QR.jpg</code>.</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.OutputStream;\nimport java.io.FileOutputStream;\nimport org.apache.poi.xwpf.usermodel.*;\n\npublic class WordReplacePictureData {\n    \n static XWPFPicture getPictureByName(XWPFRun run, String pictureName) {\n  if (pictureName == null) return null;\n  for (XWPFPicture picture : run.getEmbeddedPictures()) {\n   String nonVisualPictureName = picture.getCTPicture().getNvPicPr().getCNvPr().getName();\n   if (pictureName.equals(nonVisualPictureName)) {\n    return picture;   \n   }\n  }\n  return null;\n }\n \n static void replacePictureData(XWPFPictureData source, String pictureResultPath) {\n  try ( FileInputStream in = new FileInputStream(pictureResultPath); \n        OutputStream out = source.getPackagePart().getOutputStream();\n       ) {\n   byte[] buffer = new byte[2048];\n   int length;\n   while ((length = in.read(buffer)) &gt; 0) {\n    out.write(buffer, 0, length);\n   }\n  } catch (Exception ex) {\n   ex.printStackTrace();  \n  }\n }\n \n static void replacePicture(XWPFRun run, String pictureName, String pictureResultPath) {\n  XWPFPicture picture = getPictureByName(run, pictureName);\n  if (picture != null) {\n   XWPFPictureData source = picture.getPictureData();\n   replacePictureData(source, pictureResultPath);\n  }   \n }\n\n public static void main(String[] args) throws Exception {\n  String templatePath = &quot;./source.docx&quot;;\n  String resultPath = &quot;./result.docx&quot;;\n  String pictureTemplateName = &quot;QRTemplate.jpg&quot;;\n  String pictureResultPath = &quot;./QR.jpg&quot;;\n  \n  try ( XWPFDocument document = new XWPFDocument(new FileInputStream(templatePath));\n        FileOutputStream out = new FileOutputStream(resultPath);\n       ) {\n   \n   for (IBodyElement bodyElement : document.getBodyElements()) {\n    if (bodyElement instanceof XWPFParagraph) {\n     XWPFParagraph paragraph = (XWPFParagraph)bodyElement;\n     for (XWPFRun run : paragraph.getRuns()) {\n      replacePicture(run, pictureTemplateName, pictureResultPath);\n     }\n    }\n   }       \n   document.write(out);\n  }    \n }\n}\n</code></pre>\n"}],"owner":{"account_id":23480587,"reputation":3,"user_id":17532778,"display_name":"ali zhadigerov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645428987,"creation_date":1645385707,"question_id":71198054,"body_markdown":"I have a placeholder image in my docx file and I want to replace it with new image. The problem is - the placeholder image has an attribute &quot;in front of text&quot;, but the new image has not. As a result the alignment breaks. Here is my code snippet and the docx with placeholder and the resulting docx.\r\n\r\n````\r\n            .......\r\n            replaceImage(doc, &quot;Рисунок 1&quot;, qr, 50, 50);\r\n\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            doc.write(out);\r\n            out.close();\r\n            return out.toByteArray();\r\n        }\r\n    }\r\n\r\n    public XWPFDocument replaceImage(XWPFDocument document, String imageOldName, byte[] newImage, int newImageWidth, int newImageHeight) throws Exception {\r\n        try {\r\n            int imageParagraphPos = -1;\r\n            XWPFParagraph imageParagraph = null;\r\n            List&lt;IBodyElement&gt; documentElements = document.getBodyElements();\r\n            for (IBodyElement documentElement : documentElements) {\r\n                imageParagraphPos++;\r\n                if (documentElement instanceof XWPFParagraph) {\r\n                    imageParagraph = (XWPFParagraph) documentElement;\r\n                    if (imageParagraph.getCTP() != null &amp;&amp; imageParagraph.getCTP().toString().trim().contains(imageOldName)) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (imageParagraph == null) {\r\n                throw new Exception(&quot;Unable to replace image data due to the exception:\\n&quot;\r\n                        + &quot;&#39;&quot; + imageOldName + &quot;&#39; not found in in document.&quot;);\r\n            }\r\n            ParagraphAlignment oldImageAlignment = imageParagraph.getAlignment();\r\n\r\n            // remove old image\r\n            boolean isDeleted = document.removeBodyElement(imageParagraphPos);\r\n            // now add new image\r\n            XWPFParagraph newImageParagraph = document.createParagraph();\r\n            XWPFRun newImageRun = newImageParagraph.createRun();\r\n            newImageParagraph.setAlignment(oldImageAlignment);\r\n            try (InputStream is = new ByteArrayInputStream(newImage)) {\r\n                newImageRun.addPicture(is, XWPFDocument.PICTURE_TYPE_JPEG, &quot;qr&quot;,\r\n                        Units.toEMU(newImageWidth), Units.toEMU(newImageHeight));\r\n            }\r\n\r\n            // set new image at the old image position\r\n            document.setParagraph(newImageParagraph, imageParagraphPos);\r\n\r\n            // NOW REMOVE REDUNDANT IMAGE FORM THE END OF DOCUMENT\r\n            document.removeBodyElement(document.getBodyElements().size() - 1);\r\n\r\n            return document;\r\n        } catch (Exception e) {\r\n            throw new Exception(&quot;Unable to replace image &#39;&quot; + imageOldName + &quot;&#39; due to the exception:\\n&quot; + e);\r\n        }\r\n    }\r\n````\r\n\r\nThe image with placeholder:\r\n\r\n[enter image description here][1]\r\n\r\n\r\nThe resulting image:\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VxZD1.png\r\n  [2]: https://i.stack.imgur.com/Awwg8.png","title":"Java Apache POI: insert an image &quot;infront the text&quot;","body":"<p>I have a placeholder image in my docx file and I want to replace it with new image. The problem is - the placeholder image has an attribute &quot;in front of text&quot;, but the new image has not. As a result the alignment breaks. Here is my code snippet and the docx with placeholder and the resulting docx.</p>\n<pre><code>            .......\n            replaceImage(doc, &quot;Рисунок 1&quot;, qr, 50, 50);\n\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\n            doc.write(out);\n            out.close();\n            return out.toByteArray();\n        }\n    }\n\n    public XWPFDocument replaceImage(XWPFDocument document, String imageOldName, byte[] newImage, int newImageWidth, int newImageHeight) throws Exception {\n        try {\n            int imageParagraphPos = -1;\n            XWPFParagraph imageParagraph = null;\n            List&lt;IBodyElement&gt; documentElements = document.getBodyElements();\n            for (IBodyElement documentElement : documentElements) {\n                imageParagraphPos++;\n                if (documentElement instanceof XWPFParagraph) {\n                    imageParagraph = (XWPFParagraph) documentElement;\n                    if (imageParagraph.getCTP() != null &amp;&amp; imageParagraph.getCTP().toString().trim().contains(imageOldName)) {\n                        break;\n                    }\n                }\n            }\n\n            if (imageParagraph == null) {\n                throw new Exception(&quot;Unable to replace image data due to the exception:\\n&quot;\n                        + &quot;'&quot; + imageOldName + &quot;' not found in in document.&quot;);\n            }\n            ParagraphAlignment oldImageAlignment = imageParagraph.getAlignment();\n\n            // remove old image\n            boolean isDeleted = document.removeBodyElement(imageParagraphPos);\n            // now add new image\n            XWPFParagraph newImageParagraph = document.createParagraph();\n            XWPFRun newImageRun = newImageParagraph.createRun();\n            newImageParagraph.setAlignment(oldImageAlignment);\n            try (InputStream is = new ByteArrayInputStream(newImage)) {\n                newImageRun.addPicture(is, XWPFDocument.PICTURE_TYPE_JPEG, &quot;qr&quot;,\n                        Units.toEMU(newImageWidth), Units.toEMU(newImageHeight));\n            }\n\n            // set new image at the old image position\n            document.setParagraph(newImageParagraph, imageParagraphPos);\n\n            // NOW REMOVE REDUNDANT IMAGE FORM THE END OF DOCUMENT\n            document.removeBodyElement(document.getBodyElements().size() - 1);\n\n            return document;\n        } catch (Exception e) {\n            throw new Exception(&quot;Unable to replace image '&quot; + imageOldName + &quot;' due to the exception:\\n&quot; + e);\n        }\n    }\n</code></pre>\n<p>The image with placeholder:</p>\n<p><a href=\"https://i.stack.imgur.com/VxZD1.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The resulting image:</p>\n<p><a href=\"https://i.stack.imgur.com/Awwg8.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1645185226,"post_id":71172929,"comment_id":125809844,"body_markdown":"One option would be to use `java.time`…","body":"One option would be to use <code>java.time</code>…"}],"answers":[{"tags":[],"owner":{"account_id":5288818,"reputation":329,"user_id":4221943,"display_name":"MG1616"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645428214,"creation_date":1645189888,"answer_id":71174039,"question_id":71172929,"body_markdown":"You can achieve this using [Calendar][1] \r\n \r\nHere&#39;s an example for the week rage\r\n\r\n```kotlin\r\n\r\nimport java.time.LocalDate\r\nimport java.util.Locale\r\nimport java.text.SimpleDateFormat\r\nimport java.util.Date\r\nimport java.util.TimeZone\r\nimport java.util.Calendar\r\n\r\nval formatter = SimpleDateFormat(&quot;dd-MM-yyyy&quot;, Locale.getDefault())\r\n                      \r\n\r\nfun toCalendar(date: Date): Calendar {\r\n    val cal: Calendar = Calendar.getInstance(TimeZone.getDefault())\r\n    cal.time = date\r\n    return cal\r\n}\r\n\r\nfun printRange(date: Date, rangeType: Int) {\r\n    val cal: Calendar = toCalendar(date)\r\n\r\n    val startDay = cal.getActualMinimum(rangeType)\r\n    cal.set(rangeType, startDay)\r\n    val startDate = cal.time\r\n    \r\n    val endDay = cal.getActualMaximum(rangeType)\r\n    cal.set(rangeType, endDay)\r\n    val endDate = cal.time\r\n\t\t\r\n    println(&quot;${formatter.format(startDate)} to ${formatter.format(endDate)}&quot;)\r\n}\r\n\r\n\r\nfun main() {\r\n\tprintRange(Date(), Calendar.DAY_OF_WEEK)\r\n\tprintRange(Date(), Calendar.DAY_OF_MONTH)\r\n\tprintRange(Date(), Calendar.DAY_OF_YEAR)\r\n}\r\n\r\n```\r\n\r\nResult : \r\n\r\n```\r\n20-02-2022 to 26-02-2022\r\n01-02-2022 to 28-02-2022\r\n01-01-2022 to 31-12-2022\r\n```\r\n\r\nYou can do the same logic for other range (month and year). \r\n\r\n\r\nPlease, pay attention to the [TimeZone][2] when working with dates!\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html","title":"How to find the range of week, month and year for current Date and Time in Android","body":"<p>You can achieve this using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\">Calendar</a></p>\n<p>Here's an example for the week rage</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\nimport java.time.LocalDate\nimport java.util.Locale\nimport java.text.SimpleDateFormat\nimport java.util.Date\nimport java.util.TimeZone\nimport java.util.Calendar\n\nval formatter = SimpleDateFormat(&quot;dd-MM-yyyy&quot;, Locale.getDefault())\n                      \n\nfun toCalendar(date: Date): Calendar {\n    val cal: Calendar = Calendar.getInstance(TimeZone.getDefault())\n    cal.time = date\n    return cal\n}\n\nfun printRange(date: Date, rangeType: Int) {\n    val cal: Calendar = toCalendar(date)\n\n    val startDay = cal.getActualMinimum(rangeType)\n    cal.set(rangeType, startDay)\n    val startDate = cal.time\n    \n    val endDay = cal.getActualMaximum(rangeType)\n    cal.set(rangeType, endDay)\n    val endDate = cal.time\n        \n    println(&quot;${formatter.format(startDate)} to ${formatter.format(endDate)}&quot;)\n}\n\n\nfun main() {\n    printRange(Date(), Calendar.DAY_OF_WEEK)\n    printRange(Date(), Calendar.DAY_OF_MONTH)\n    printRange(Date(), Calendar.DAY_OF_YEAR)\n}\n\n</code></pre>\n<p>Result :</p>\n<pre><code>20-02-2022 to 26-02-2022\n01-02-2022 to 28-02-2022\n01-01-2022 to 31-12-2022\n</code></pre>\n<p>You can do the same logic for other range (month and year).</p>\n<p>Please, pay attention to the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html\" rel=\"nofollow noreferrer\">TimeZone</a> when working with dates!</p>\n"}],"owner":{"account_id":22147781,"reputation":13,"user_id":16396763,"display_name":"Sat Talk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":880,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":71174039,"answer_count":1,"score":-2,"last_activity_date":1645428214,"creation_date":1645184604,"question_id":71172929,"body_markdown":"How do I get start and end range of weeks, month and year in android ?\r\n\r\nsay for current Date and time 18,Feb,2022\r\nI want some thing like,\r\n\r\nweek -&gt; 14-01-2022 to 20-02-2022\r\n\r\nmonth -&gt; 01-01-2022 to 28-02-2022 ( likewise 30, 31 for other months )\r\n\r\nyear -&gt; 01-01-2022 to 31-12-2022\r\n\r\nAnswer in kotlin code is preferable please\r\n","title":"How to find the range of week, month and year for current Date and Time in Android","body":"<p>How do I get start and end range of weeks, month and year in android ?</p>\n<p>say for current Date and time 18,Feb,2022\nI want some thing like,</p>\n<p>week -&gt; 14-01-2022 to 20-02-2022</p>\n<p>month -&gt; 01-01-2022 to 28-02-2022 ( likewise 30, 31 for other months )</p>\n<p>year -&gt; 01-01-2022 to 31-12-2022</p>\n<p>Answer in kotlin code is preferable please</p>\n"},{"tags":["java","class","static-analysis"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645209776,"creation_date":1645209776,"answer_id":71178403,"question_id":71178355,"body_markdown":"You definitely need to use a good parser for that.\r\n\r\n[ANTLR][1] is a parser generator that comes with a huge library of ready to use grammars, one of which is [Java][2]. With that one it is easy to transform a java source file into an abstract syntax tree. On that tree do whatever analysis or transformation you need.\r\n\r\n\r\n  [1]: https://www.antlr.org/\r\n  [2]: https://github.com/antlr/grammars-v4/tree/master/java","title":"Parsing .java file to extract all features","body":"<p>You definitely need to use a good parser for that.</p>\n<p><a href=\"https://www.antlr.org/\" rel=\"nofollow noreferrer\">ANTLR</a> is a parser generator that comes with a huge library of ready to use grammars, one of which is <a href=\"https://github.com/antlr/grammars-v4/tree/master/java\" rel=\"nofollow noreferrer\">Java</a>. With that one it is easy to transform a java source file into an abstract syntax tree. On that tree do whatever analysis or transformation you need.</p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645218751,"creation_date":1645213496,"answer_id":71179085,"question_id":71178355,"body_markdown":"Have a look to [the JavaDoc API][1]. It provides everything you need, and you do not even need to write a parser of your own.\r\n\r\nOk, in the beginning it is far from being intuitive, but the good thing is, it works along the same line as an AnnotationProcessor, so you learn two things in one go.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/jdk.javadoc/jdk/javadoc/doclet/package-summary.html","title":"Parsing .java file to extract all features","body":"<p>Have a look to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.javadoc/jdk/javadoc/doclet/package-summary.html\" rel=\"nofollow noreferrer\">the JavaDoc API</a>. It provides everything you need, and you do not even need to write a parser of your own.</p>\n<p>Ok, in the beginning it is far from being intuitive, but the good thing is, it works along the same line as an AnnotationProcessor, so you learn two things in one go.</p>\n"},{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645428001,"creation_date":1645428001,"answer_id":71202498,"question_id":71178355,"body_markdown":"Is your task an academic one? If not then I would consider supporting/joining an existing static analysis tool project like [spotbugs][1], [PMD][2], ...\r\n\r\nAnd does it really need to be `.java` files or can it also be `.class` files? Most available static analysis tools for java work on bytecode. So why reinvent the wheel?\r\n[Spotbugs][1] for instance is using [BCEL][3] and [ASM][4].\r\n\r\n\r\n  [1]: https://spotbugs.github.io/\r\n  [2]: https://pmd.github.io/\r\n  [3]: https://commons.apache.org/proper/commons-bcel/\r\n  [4]: https://en.wikipedia.org/wiki/ObjectWeb_ASM","title":"Parsing .java file to extract all features","body":"<p>Is your task an academic one? If not then I would consider supporting/joining an existing static analysis tool project like <a href=\"https://spotbugs.github.io/\" rel=\"nofollow noreferrer\">spotbugs</a>, <a href=\"https://pmd.github.io/\" rel=\"nofollow noreferrer\">PMD</a>, ...</p>\n<p>And does it really need to be <code>.java</code> files or can it also be <code>.class</code> files? Most available static analysis tools for java work on bytecode. So why reinvent the wheel?\n<a href=\"https://spotbugs.github.io/\" rel=\"nofollow noreferrer\">Spotbugs</a> for instance is using <a href=\"https://commons.apache.org/proper/commons-bcel/\" rel=\"nofollow noreferrer\">BCEL</a> and <a href=\"https://en.wikipedia.org/wiki/ObjectWeb_ASM\" rel=\"nofollow noreferrer\">ASM</a>.</p>\n"}],"owner":{"account_id":9469812,"reputation":362,"user_id":7040964,"display_name":"MuhammedH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1645428001,"creation_date":1645209461,"question_id":71178355,"body_markdown":"I need to parse .java file to do static analyze and extract information from the file like:\r\n\r\n 1. variables\r\n 2. methods\r\n 3. annotations\r\n 4. inner classes\r\n 5. ...\r\n\r\nI need to parse It at runtime something like this:\r\n\r\n    JavaClass c = parse(&quot;file.java&quot;);\r\n    c.getMethods();\r\n\r\nI am not sure if there is any tool already exists, and if not can you please provide with some advice how to build it. ","title":"Parsing .java file to extract all features","body":"<p>I need to parse .java file to do static analyze and extract information from the file like:</p>\n<ol>\n<li>variables</li>\n<li>methods</li>\n<li>annotations</li>\n<li>inner classes</li>\n<li>...</li>\n</ol>\n<p>I need to parse It at runtime something like this:</p>\n<pre><code>JavaClass c = parse(&quot;file.java&quot;);\nc.getMethods();\n</code></pre>\n<p>I am not sure if there is any tool already exists, and if not can you please provide with some advice how to build it.</p>\n"},{"tags":["java","android","httpurlconnection","bufferedreader"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1645426786,"post_id":71202202,"comment_id":125859180,"body_markdown":"Post the full stack trace.  The problem isn&#39;t (or at least likely isn&#39;t) something returning null.  Null is what your result object is by default.  Instead, you probably have an IOException, as it was caught but didn&#39;t crash.  We just don&#39;t know what type, which is important in solving it.","body":"Post the full stack trace.  The problem isn&#39;t (or at least likely isn&#39;t) something returning null.  Null is what your result object is by default.  Instead, you probably have an IOException, as it was caught but didn&#39;t crash.  We just don&#39;t know what type, which is important in solving it."},{"owner":{"account_id":17506041,"reputation":3,"user_id":12695244,"display_name":"Hadi"},"score":0,"creation_date":1645434769,"post_id":71202202,"comment_id":125861668,"body_markdown":"I tried my code with this API : &lt;https://timeapi.io/api/Time/current/zone?timeZone=Europe/Amsterdam&gt; and it worked. and help me find out that what&#39;s the difference between API with &#39;query&#39; and API with &#39;path&#39;??","body":"I tried my code with this API : &lt;<a href=\"https://timeapi.io/api/Time/current/zone?timeZone=Europe/Amsterdam\" rel=\"nofollow noreferrer\">timeapi.io/api/Time/current/zone?timeZone=Europe/Amsterdam</a>&gt; and it worked. and help me find out that what&#39;s the difference between API with &#39;query&#39; and API with &#39;path&#39;??"}],"answers":[{"tags":[],"owner":{"account_id":16612457,"reputation":311,"user_id":12005025,"display_name":"Laxmi kant"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645427012,"creation_date":1645427012,"answer_id":71202336,"question_id":71202202,"body_markdown":"You need to Try getting the input stream from this you can then get the text data as so:--&gt;\r\n\r\n     URL url;\r\n    HttpURLConnection urlConnection = null;\r\n    try {\r\n        url = new URL(&quot;http://worldtimeapi.org/api/timezone/America/Denver&quot;);\r\n\r\n        urlConnection = (HttpURLConnection) url\r\n                .openConnection();\r\n\r\n        InputStream in = urlConnection.getInputStream();\r\n\r\n        InputStreamReader isw = new InputStreamReader(in);\r\n\r\n        int data = isw.read();\r\n        while (data != -1) {\r\n            char current = (char) data;\r\n            data = isw.read();\r\n            System.out.print(current);\r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    } finally {\r\n        if (urlConnection != null) {\r\n            urlConnection.disconnect();\r\n        }    \r\n    }\r\n\r\nYou can probably use other Inputstream readers such as buffered reader also.\r\n\r\nThe problem is that when you open the connection - it does not &#39;pull&#39; any data.\r\n\r\n","title":"How to get response from a http connection in android","body":"<p>You need to Try getting the input stream from this you can then get the text data as so:--&gt;</p>\n<pre><code> URL url;\nHttpURLConnection urlConnection = null;\ntry {\n    url = new URL(&quot;http://worldtimeapi.org/api/timezone/America/Denver&quot;);\n\n    urlConnection = (HttpURLConnection) url\n            .openConnection();\n\n    InputStream in = urlConnection.getInputStream();\n\n    InputStreamReader isw = new InputStreamReader(in);\n\n    int data = isw.read();\n    while (data != -1) {\n        char current = (char) data;\n        data = isw.read();\n        System.out.print(current);\n    }\n} catch (Exception e) {\n    e.printStackTrace();\n} finally {\n    if (urlConnection != null) {\n        urlConnection.disconnect();\n    }    \n}\n</code></pre>\n<p>You can probably use other Inputstream readers such as buffered reader also.</p>\n<p>The problem is that when you open the connection - it does not 'pull' any data.</p>\n"}],"owner":{"account_id":17506041,"reputation":3,"user_id":12695244,"display_name":"Hadi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1645427911,"creation_date":1645426093,"question_id":71202202,"body_markdown":"I&#39;m trying to handle this API &lt;http://worldtimeapi.org&gt;\r\nHere is my code :\r\n\r\n    @Nullable\r\n    public String getResponseFromHttpUrl(@NonNull URL gotUrl) {\r\n\r\n        Log.v(LOG_TAG, &quot;URI : &quot; + gotUrl);\r\n        String timeJSONString = null;\r\n        HttpURLConnection urlConnection = null;\r\n        BufferedReader bufferedReader = null;\r\n        try {\r\n            urlConnection = (HttpURLConnection) gotUrl.openConnection();\r\n\r\n            InputStream inputStream = urlConnection.getInputStream();\r\n\r\n            bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n\r\n            StringBuilder stringBuilder = new StringBuilder();\r\n\r\n            String line;\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n                stringBuilder.append(line);\r\n                stringBuilder.append(&quot;\\n&quot;);\r\n            }\r\n\r\n            if (stringBuilder.length() == 0) {\r\n                // Stream was empty. No point in parsing.\r\n                return null;\r\n            }\r\n\r\n            timeJSONString = stringBuilder.toString();\r\n\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (urlConnection != null) {\r\n                urlConnection.disconnect();\r\n            }\r\n            if (bufferedReader != null) {\r\n                try {\r\n                    bufferedReader.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n        Log.d(LOG_TAG, &quot;Response : &quot; + timeJSONString);\r\n\r\n        return timeJSONString;\r\n    }\r\n\r\nBut the problem is my method returns null.\r\nAs you can see in below:\r\n\r\nV/NetworkUtils: URI : http://worldtimeapi.org/api/timezone/America/Denver\r\n\r\nW/System.err:     at com.example.timeonearth.NetworkUtils.getResponseFromHttpUrl(NetworkUtils.java:56)\r\n\r\nD/NetworkUtils: Response : null\r\n\r\n","title":"How to get response from a http connection in android","body":"<p>I'm trying to handle this API <a href=\"http://worldtimeapi.org\" rel=\"nofollow noreferrer\">http://worldtimeapi.org</a>\nHere is my code :</p>\n<pre><code>@Nullable\npublic String getResponseFromHttpUrl(@NonNull URL gotUrl) {\n\n    Log.v(LOG_TAG, &quot;URI : &quot; + gotUrl);\n    String timeJSONString = null;\n    HttpURLConnection urlConnection = null;\n    BufferedReader bufferedReader = null;\n    try {\n        urlConnection = (HttpURLConnection) gotUrl.openConnection();\n\n        InputStream inputStream = urlConnection.getInputStream();\n\n        bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n\n        StringBuilder stringBuilder = new StringBuilder();\n\n        String line;\n        while ((line = bufferedReader.readLine()) != null) {\n            stringBuilder.append(line);\n            stringBuilder.append(&quot;\\n&quot;);\n        }\n\n        if (stringBuilder.length() == 0) {\n            // Stream was empty. No point in parsing.\n            return null;\n        }\n\n        timeJSONString = stringBuilder.toString();\n\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    } finally {\n        if (urlConnection != null) {\n            urlConnection.disconnect();\n        }\n        if (bufferedReader != null) {\n            try {\n                bufferedReader.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    Log.d(LOG_TAG, &quot;Response : &quot; + timeJSONString);\n\n    return timeJSONString;\n}\n</code></pre>\n<p>But the problem is my method returns null.\nAs you can see in below:</p>\n<p>V/NetworkUtils: URI : <a href=\"http://worldtimeapi.org/api/timezone/America/Denver\" rel=\"nofollow noreferrer\">http://worldtimeapi.org/api/timezone/America/Denver</a></p>\n<p>W/System.err:     at com.example.timeonearth.NetworkUtils.getResponseFromHttpUrl(NetworkUtils.java:56)</p>\n<p>D/NetworkUtils: Response : null</p>\n"},{"tags":["java","inheritance","interface"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1645394474,"post_id":71199139,"comment_id":125853948,"body_markdown":"`class which is being defined` Why did you mention class? An interface can extend one or more interfaces and inherits their methods apart from private (also note that *static* members of the interface or class can **not** be inherited by definition).","body":"<code>class which is being defined</code> Why did you mention class? An interface can extend one or more interfaces and inherits their methods apart from private (also note that <i>static</i> members of the interface or class can <b>not</b> be inherited by definition)."},{"owner":{"account_id":6401660,"reputation":147,"user_id":4964096,"accept_rate":33,"display_name":"linuxman"},"score":0,"creation_date":1645394677,"post_id":71199139,"comment_id":125853990,"body_markdown":"I mentioned class, because both interfaces and classes are types.","body":"I mentioned class, because both interfaces and classes are types."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645395383,"creation_date":1645395383,"answer_id":71199289,"question_id":71199139,"body_markdown":"Words are tools used to convey meaning. If I say &quot;The Student interface inherits from the Person interface&quot;, then the words I used are &#39;good&#39;, by definition, if everybody who hears me intuits immediately that we have:\r\n\r\n```\r\npublic interface Student extends Person {}\r\n```\r\n\r\nAnd the word was bad by definition if some or all of the folks who hear me / read my text don&#39;t do that.\r\n\r\n__Period.__\r\n\r\nThe problem is, what if the &#39;audience&#39; is large and not easily enumerated? What if I write a blog post or SO answer that will build up a few hundred thousand views over the next 20 years? It&#39;s a bit hard to ask _today_ if somebody who reads an answer 15 years hence actually correctly understands what I intended the words I used to convey.\r\n\r\n__That is the only point of whining about proper usage of terminology__. There is no law that makes it illegal to call this &#39;inheritance&#39;, obviously. There are 4 useful sources for this:\r\n\r\n* The audience&#39;s knowledge, if that is knowable. For an SO answer where it&#39;ll be read for the next 20 years, this isn&#39;t knowable. In a classroom, it is. In a conversation in a dev team, it definitely is. If everybody calls this kind of usage of the `extends` keyword, for some reason, &quot;`Student` ixtends `Person`&quot; (I made that up), then that&#39;s the word to use. The role of teaching here surely is to teach that which is most likely to convey your meanings to as broad an audience as is feasible, so this source is basically irrelevant.\r\n* An official definition. Official as in, official. Not &#39;my teacher said so&#39;, or &#39;this textbook said so&#39;. That textbook is just written by somebody, not by some sort of Judge+Jury+Executioner. But specs carry some weight. So let&#39;s have a look!\r\n\r\n[JLS &#167;9.1.3](https://docs.oracle.com/javase/specs/jls/se11/html/jls-9.html#jls-9.1.3):\r\n&gt; If an extends clause is provided, then the interface being declared extends each of the other named interfaces and therefore inherits the member types, instance methods, and constants of each of the other named interfaces.\r\n\r\nPretty close: &quot;inherits the member types&quot;, straight from the spec. I&#39;d say your teacher is full of it, and is teaching their personal preferences as the only right answer. If you prefer, confront them about it, and make sure you print out &#167;9.1.3 and show them.\r\n\r\nTo really rub it in, here&#39;s the relevant section about `extend`ing `class` definitions: [JLS &#167;8.1.4](https://docs.oracle.com/javase/specs/jls/se11/html/jls-8.html#jls-8.1.4) - this doesn&#39;t mention the word &quot;inheritance&quot; _at all_, so going by spec your teacher is completely wrong.\r\n\r\n* Common &#39;slang&#39; - what does Jane Q. Average Coder tend to assume the word means? I&#39;m rather very sure that virtually every java programmer will intuit that the word &quot;inheritance&quot; at the very least means `class X extends Y`, and will at least be thinking: &quot;... and probably also `interface A extends B`, and perhaps even `class X implements B`. In other words, going by this definition, if the distinction matters then __terminology is irrelevant__ - saying &quot;A inherits from B&quot; when you aren&#39;t talking generally but want to specifically convey that A and B are classes and specifically _not_ interfaces, then that sentence __is not fit for purpose__ - it won&#39;t convey that idea. It doesn&#39;t matter what the JLS, your teacher, or any manual or book o&#39; definitions says. This, clearly, cannot really determine an answer, though it strongly suggests you&#39;re right. To &#39;prove&#39; it you&#39;d have to, I dunno, go grab a mike and walk around a java conference, ask folks what they think it means.\r\n\r\n* Some sort of generally agreed upon source of truth. A few books are so revered they are generally trusted; in other words, a book that is so trusted, that you win any argument almost immediately if you say: &quot;... and [this hallowed book] agrees, see [chapter link here]&quot;. In java, _maybe_ that&#39;s [Effective Java](https://www.amazon.com/Effective-Java-Joshua-Bloch/dp/0134685997), but books are annoying, in that you can&#39;t easily link to them in a way that anybody can verify (they&#39;d have to buy the book first). I don&#39;t have a copy here with me right now but I highly doubt it picks any side here, it&#39;s not that kind of book.\r\n\r\n... and that&#39;s it.\r\n\r\nIt&#39;s complicated, but, in essence, your teacher is just wrong here. It&#39;s stupid to mark this down. Giving said teacher the benefit of the doubt, they told you beforehand that the exercise involved remembering arbitrary meaningless stuff and you get graded on your ability to remember the arbitrary rules; the test has very little to do with java, it&#39;s more like a game of memory, with java concepts. There is some didactic basis for teaching like this, but you can perform such a test without having to resort to laying down the meaning of nebulous terms like &#39;inheritance&#39; in such an overly precise fashion, so, whilst that&#39;s giving the benefit of the doubt, that means the grade-down is good, but their teaching methodology sucks.\r\n\r\nFeel free to show this answer to them, and they can comment if they&#39;d like to discuss the finer points.\r\n","title":"Is an interface extension equivalent to inheritance? (Java)","body":"<p>Words are tools used to convey meaning. If I say &quot;The Student interface inherits from the Person interface&quot;, then the words I used are 'good', by definition, if everybody who hears me intuits immediately that we have:</p>\n<pre><code>public interface Student extends Person {}\n</code></pre>\n<p>And the word was bad by definition if some or all of the folks who hear me / read my text don't do that.</p>\n<p><strong>Period.</strong></p>\n<p>The problem is, what if the 'audience' is large and not easily enumerated? What if I write a blog post or SO answer that will build up a few hundred thousand views over the next 20 years? It's a bit hard to ask <em>today</em> if somebody who reads an answer 15 years hence actually correctly understands what I intended the words I used to convey.</p>\n<p><strong>That is the only point of whining about proper usage of terminology</strong>. There is no law that makes it illegal to call this 'inheritance', obviously. There are 4 useful sources for this:</p>\n<ul>\n<li>The audience's knowledge, if that is knowable. For an SO answer where it'll be read for the next 20 years, this isn't knowable. In a classroom, it is. In a conversation in a dev team, it definitely is. If everybody calls this kind of usage of the <code>extends</code> keyword, for some reason, &quot;<code>Student</code> ixtends <code>Person</code>&quot; (I made that up), then that's the word to use. The role of teaching here surely is to teach that which is most likely to convey your meanings to as broad an audience as is feasible, so this source is basically irrelevant.</li>\n<li>An official definition. Official as in, official. Not 'my teacher said so', or 'this textbook said so'. That textbook is just written by somebody, not by some sort of Judge+Jury+Executioner. But specs carry some weight. So let's have a look!</li>\n</ul>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-9.html#jls-9.1.3\" rel=\"nofollow noreferrer\">JLS §9.1.3</a>:</p>\n<blockquote>\n<p>If an extends clause is provided, then the interface being declared extends each of the other named interfaces and therefore inherits the member types, instance methods, and constants of each of the other named interfaces.</p>\n</blockquote>\n<p>Pretty close: &quot;inherits the member types&quot;, straight from the spec. I'd say your teacher is full of it, and is teaching their personal preferences as the only right answer. If you prefer, confront them about it, and make sure you print out §9.1.3 and show them.</p>\n<p>To really rub it in, here's the relevant section about <code>extend</code>ing <code>class</code> definitions: <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-8.html#jls-8.1.4\" rel=\"nofollow noreferrer\">JLS §8.1.4</a> - this doesn't mention the word &quot;inheritance&quot; <em>at all</em>, so going by spec your teacher is completely wrong.</p>\n<ul>\n<li><p>Common 'slang' - what does Jane Q. Average Coder tend to assume the word means? I'm rather very sure that virtually every java programmer will intuit that the word &quot;inheritance&quot; at the very least means <code>class X extends Y</code>, and will at least be thinking: &quot;... and probably also <code>interface A extends B</code>, and perhaps even <code>class X implements B</code>. In other words, going by this definition, if the distinction matters then <strong>terminology is irrelevant</strong> - saying &quot;A inherits from B&quot; when you aren't talking generally but want to specifically convey that A and B are classes and specifically <em>not</em> interfaces, then that sentence <strong>is not fit for purpose</strong> - it won't convey that idea. It doesn't matter what the JLS, your teacher, or any manual or book o' definitions says. This, clearly, cannot really determine an answer, though it strongly suggests you're right. To 'prove' it you'd have to, I dunno, go grab a mike and walk around a java conference, ask folks what they think it means.</p>\n</li>\n<li><p>Some sort of generally agreed upon source of truth. A few books are so revered they are generally trusted; in other words, a book that is so trusted, that you win any argument almost immediately if you say: &quot;... and [this hallowed book] agrees, see [chapter link here]&quot;. In java, <em>maybe</em> that's <a href=\"https://rads.stackoverflow.com/amzn/click/com/0134685997\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Effective Java</a>, but books are annoying, in that you can't easily link to them in a way that anybody can verify (they'd have to buy the book first). I don't have a copy here with me right now but I highly doubt it picks any side here, it's not that kind of book.</p>\n</li>\n</ul>\n<p>... and that's it.</p>\n<p>It's complicated, but, in essence, your teacher is just wrong here. It's stupid to mark this down. Giving said teacher the benefit of the doubt, they told you beforehand that the exercise involved remembering arbitrary meaningless stuff and you get graded on your ability to remember the arbitrary rules; the test has very little to do with java, it's more like a game of memory, with java concepts. There is some didactic basis for teaching like this, but you can perform such a test without having to resort to laying down the meaning of nebulous terms like 'inheritance' in such an overly precise fashion, so, whilst that's giving the benefit of the doubt, that means the grade-down is good, but their teaching methodology sucks.</p>\n<p>Feel free to show this answer to them, and they can comment if they'd like to discuss the finer points.</p>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645427434,"creation_date":1645395772,"answer_id":71199335,"question_id":71199139,"body_markdown":"Well, the [Java Language Specification &#167; 9.1.3][1] mentions this:\r\n\r\n&gt; If an `extends` clause is provided, then the interface being declared extends each of the specified interface types and therefore ***inherits*** the member classes, member interfaces, instance methods, and `static` fields of each of those interface types.\r\n\r\n&lt;sup&gt;(Emphasis mine.)&lt;/sup&gt;\r\n\r\nSo yes, I&#39;m pretty sure this is inheritance.\r\n\r\n[1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.1.3","title":"Is an interface extension equivalent to inheritance? (Java)","body":"<p>Well, the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.1.3\" rel=\"nofollow noreferrer\">Java Language Specification § 9.1.3</a> mentions this:</p>\n<blockquote>\n<p>If an <code>extends</code> clause is provided, then the interface being declared extends each of the specified interface types and therefore <em><strong>inherits</strong></em> the member classes, member interfaces, instance methods, and <code>static</code> fields of each of those interface types.</p>\n</blockquote>\n<p><sup>(Emphasis mine.)</sup></p>\n<p>So yes, I'm pretty sure this is inheritance.</p>\n"},{"tags":[],"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645400286,"creation_date":1645400286,"answer_id":71199742,"question_id":71199139,"body_markdown":"Maybe to give an example of inheritance we should point to something from `CrudRepository` which is inherited by `UserRepository`.","title":"Is an interface extension equivalent to inheritance? (Java)","body":"<p>Maybe to give an example of inheritance we should point to something from <code>CrudRepository</code> which is inherited by <code>UserRepository</code>.</p>\n"}],"owner":{"account_id":6401660,"reputation":147,"user_id":4964096,"accept_rate":33,"display_name":"linuxman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71199289,"answer_count":3,"score":2,"last_activity_date":1645427434,"creation_date":1645394028,"question_id":71199139,"body_markdown":"I have a theoretical question about the definition of inheritance. I had a test one month ago and we had to give an example for inheritance.\r\n\r\nThis was my answer:\r\n\r\n    public interface UserRepository extends CrudRepository&lt;User, Long&gt;\r\n\r\nBy definition the extend keyword indicates that the class which is being defined is derived from the base using inheritance. \r\nHowever, my professor graded this answer as wrong with the comment that my example is an interface extension and has nothing to do with inheritance.\r\n\r\nWhat is the difference between an interface extension and inheritance? Why was my answer wrong, did I confuse something about the definition of inheritance?","title":"Is an interface extension equivalent to inheritance? (Java)","body":"<p>I have a theoretical question about the definition of inheritance. I had a test one month ago and we had to give an example for inheritance.</p>\n<p>This was my answer:</p>\n<pre><code>public interface UserRepository extends CrudRepository&lt;User, Long&gt;\n</code></pre>\n<p>By definition the extend keyword indicates that the class which is being defined is derived from the base using inheritance.\nHowever, my professor graded this answer as wrong with the comment that my example is an interface extension and has nothing to do with inheritance.</p>\n<p>What is the difference between an interface extension and inheritance? Why was my answer wrong, did I confuse something about the definition of inheritance?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":1,"creation_date":1406930749,"post_id":25089362,"comment_id":39038899,"body_markdown":"show us your code and output.","body":"show us your code and output."},{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":1,"creation_date":1406930798,"post_id":25089362,"comment_id":39038912,"body_markdown":"What does &quot;not working&quot; mean? (Anyway, the issue is that `-` has meaning inside a character class, use `&quot;[-()\\\\s]&quot;`)","body":"What does &quot;not working&quot; mean? (Anyway, the issue is that <code>-</code> has meaning inside a character class, use <code>&quot;[-()\\\\s]&quot;</code>)"}],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1406930856,"creation_date":1406930856,"answer_id":25089392,"question_id":25089362,"body_markdown":"This should work:\r\n\r\n    String phNo = &quot;(123) 456-7890&quot;.replaceAll(&quot;[()\\\\s-]+&quot;, &quot;&quot;);\r\n\r\nIn your regex:\r\n\r\n- `\\s` should be `\\\\s`\r\n- Hyphen should be first or last in character class to avoid escaping or use it as `\\\\-`\r\n- Use quantifier `+` as in `[()\\\\s-]+` to increase efficiency by minimizing # of replacements","title":"Remove parentheses, dashes, and spaces from phone number","body":"<p>This should work:</p>\n\n<pre><code>String phNo = \"(123) 456-7890\".replaceAll(\"[()\\\\s-]+\", \"\");\n</code></pre>\n\n<p>In your regex:</p>\n\n<ul>\n<li><code>\\s</code> should be <code>\\\\s</code></li>\n<li>Hyphen should be first or last in character class to avoid escaping or use it as <code>\\\\-</code></li>\n<li>Use quantifier <code>+</code> as in <code>[()\\\\s-]+</code> to increase efficiency by minimizing # of replacements</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1406930921,"creation_date":1406930921,"answer_id":25089402,"question_id":25089362,"body_markdown":"The `-` character with brackets `[]` indicates a character range, e.g. `[a-z]`.  However, the character range doesn&#39;t work here where you want a literal `-` to be used.  Escape it.\r\n\r\n    String phNo = &quot;(123) 456-7890&quot;.replaceAll(&quot;[()\\\\-\\\\s]&quot;, &quot;&quot;).trim());","title":"Remove parentheses, dashes, and spaces from phone number","body":"<p>The <code>-</code> character with brackets <code>[]</code> indicates a character range, e.g. <code>[a-z]</code>.  However, the character range doesn't work here where you want a literal <code>-</code> to be used.  Escape it.</p>\n\n<pre><code>String phNo = \"(123) 456-7890\".replaceAll(\"[()\\\\-\\\\s]\", \"\").trim());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2540011,"reputation":70006,"user_id":2206004,"accept_rate":100,"display_name":"hwnd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406942990,"creation_date":1406931356,"answer_id":25089483,"question_id":25089362,"body_markdown":"There are two main reasons this does not work as expected.\r\n\r\n1. Inside of a character class the hyphen has **special meaning**. You can place a hyphen as the first or last character of the class. In some regular expression implementations, you can also place directly after a range. If you place the hyphen anywhere else you need to escape it in order to add it to your class.\r\n\r\n        String phNo = &quot;(123) 456-7890&quot;.replaceAll(&quot;[()\\\\-\\\\s]&quot;).trim();\r\n                                                      ^^\r\n\r\n2. You are not supplying a replacement value which neither answer has pointed out to you.\r\n\r\n        String phNo = &quot;(123) 456-7890&quot;.replaceAll(&quot;[()\\\\-\\\\s]&quot;, &quot;&quot;).trim();\r\n                                                                ^^\r\n   And finally, you can remove `.trim()` here as well.\r\n\r\n        String phNo = &quot;(123) 456-7890&quot;.replaceAll(&quot;[()\\\\-\\\\s]&quot;, &quot;&quot;);","title":"Remove parentheses, dashes, and spaces from phone number","body":"<p>There are two main reasons this does not work as expected.</p>\n\n<ol>\n<li><p>Inside of a character class the hyphen has <strong>special meaning</strong>. You can place a hyphen as the first or last character of the class. In some regular expression implementations, you can also place directly after a range. If you place the hyphen anywhere else you need to escape it in order to add it to your class.</p>\n\n<pre><code>String phNo = \"(123) 456-7890\".replaceAll(\"[()\\\\-\\\\s]\").trim();\n                                              ^^\n</code></pre></li>\n<li><p>You are not supplying a replacement value which neither answer has pointed out to you.</p>\n\n<pre><code>String phNo = \"(123) 456-7890\".replaceAll(\"[()\\\\-\\\\s]\", \"\").trim();\n                                                        ^^\n</code></pre>\n\n<p>And finally, you can remove <code>.trim()</code> here as well.</p>\n\n<pre><code>String phNo = \"(123) 456-7890\".replaceAll(\"[()\\\\-\\\\s]\", \"\");\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4681862,"reputation":4855,"user_id":3790360,"accept_rate":57,"display_name":"Andie2302"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1406970207,"creation_date":1406945810,"answer_id":25091028,"question_id":25089362,"body_markdown":"If you want the phone number then use:\r\n\r\n    String phNo = &quot;(123) 456-7890&quot;.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;);\r\n\r\nThis regex will mark all characters that are not digits, and replace them with an empty string.\r\n\r\n\r\n----------\r\nThe regex: `\\D+`&lt;p&gt;\r\n\r\n - Match a single character that is not a digit.  `\\D`\r\n   - Between one and unlimited times, as many times as possible. `+`","title":"Remove parentheses, dashes, and spaces from phone number","body":"<p>If you want the phone number then use:</p>\n\n<pre><code>String phNo = \"(123) 456-7890\".replaceAll(\"\\\\D+\", \"\");\n</code></pre>\n\n<p>This regex will mark all characters that are not digits, and replace them with an empty string.</p>\n\n<hr>\n\n<p>The regex: <code>\\D+</code><p></p>\n\n<ul>\n<li>Match a single character that is not a digit.  <code>\\D</code>\n<ul>\n<li>Between one and unlimited times, as many times as possible. <code>+</code></li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5827515,"reputation":3613,"user_id":4593298,"accept_rate":50,"display_name":"katwal-Dipak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1436349863,"creation_date":1436349863,"answer_id":31289434,"question_id":25089362,"body_markdown":"      String newStr = phoneNumber.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\r\n            System.out.println(newStr);\r\nRemoves All Non-Digit Characters.\r\n\r\n   [Java Regex - Tutorial ][1]\r\n\r\n\r\n  [1]: http://www.vogella.com/tutorials/JavaRegularExpressions/article.html","title":"Remove parentheses, dashes, and spaces from phone number","body":"<pre><code>  String newStr = phoneNumber.replaceAll(\"[^0-9]\", \"\");\n        System.out.println(newStr);\n</code></pre>\n\n<p>Removes All Non-Digit Characters.</p>\n\n<p><a href=\"http://www.vogella.com/tutorials/JavaRegularExpressions/article.html\" rel=\"nofollow\">Java Regex - Tutorial </a></p>\n"},{"tags":[],"owner":{"account_id":6382882,"reputation":8825,"user_id":4951663,"accept_rate":90,"display_name":"Mohit Suthar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538992059,"creation_date":1538992059,"answer_id":52699575,"question_id":25089362,"body_markdown":"If you are using Kotlin than\r\n\r\n**`mobileNo.replace(Regex(&quot;[()\\\\-\\\\s]&quot;), &quot;&quot;)`**","title":"Remove parentheses, dashes, and spaces from phone number","body":"<p>If you are using Kotlin than</p>\n\n<p><strong><code>mobileNo.replace(Regex(\"[()\\\\-\\\\s]\"), \"\")</code></strong></p>\n"},{"tags":[],"owner":{"account_id":23670789,"reputation":301,"user_id":17697574,"display_name":"KingJoeffrey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1645427185,"creation_date":1645427185,"answer_id":71202366,"question_id":25089362,"body_markdown":"IN 2022 use this! all other answers too old!!!!!!!!!!!\r\n\r\n```\r\nresult = &quot;(123) 456-7890&quot;.replace(/[^+\\d]+/g, &quot;&quot;);\r\n```","title":"Remove parentheses, dashes, and spaces from phone number","body":"<p>IN 2022 use this! all other answers too old!!!!!!!!!!!</p>\n<pre><code>result = &quot;(123) 456-7890&quot;.replace(/[^+\\d]+/g, &quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":4676968,"reputation":163,"user_id":3786942,"accept_rate":30,"display_name":"user3786942"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29705,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":7,"score":9,"last_activity_date":1645427185,"creation_date":1406930708,"question_id":25089362,"body_markdown":"I have a phone number like (123) 456-7890. I am using the `replaceAll` method to remove `()` and `-` and spaces from the string. I tried following\r\n\r\n    String phNo= &quot;(123) 456-7890&quot;.replaceAll(&quot;[()-\\\\s]&quot;).trim();\r\n\r\nbut it&#39;s not working. Any solution?","title":"Remove parentheses, dashes, and spaces from phone number","body":"<p>I have a phone number like (123) 456-7890. I am using the <code>replaceAll</code> method to remove <code>()</code> and <code>-</code> and spaces from the string. I tried following</p>\n\n<pre><code>String phNo= \"(123) 456-7890\".replaceAll(\"[()-\\\\s]\").trim();\n</code></pre>\n\n<p>but it's not working. Any solution?</p>\n"},{"tags":["java","html","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1645414718,"post_id":71200673,"comment_id":125857122,"body_markdown":"I’m away from my computer so I can’t say for sure, but I do see that your modal calls `exam.enrolledStudent`, which would be fine if `getOneExamSchedule` returns an ` Exam ` - but it doesn’t, it returns an ` Optional `, so I’d try making it something like `exam.get().enrolledStudent`","body":"I’m away from my computer so I can’t say for sure, but I do see that your modal calls <code>exam.enrolledStudent</code>, which would be fine if <code>getOneExamSchedule</code> returns an ` Exam ` - but it doesn’t, it returns an ` Optional <code>, so I’d try making it something like </code>exam.get().enrolledStudent`"},{"owner":{"account_id":20719168,"reputation":47,"user_id":15213946,"display_name":"mike kong"},"score":0,"creation_date":1645414929,"post_id":71200673,"comment_id":125857154,"body_markdown":"I try what u suggest, it trigger the error. If use ```exam.get().enrolledStudent```, it cant access the enrolled student list","body":"I try what u suggest, it trigger the error. If use <code>exam.get().enrolledStudent</code>, it cant access the enrolled student list"}],"answers":[{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645427102,"creation_date":1645427102,"answer_id":71202357,"question_id":71200673,"body_markdown":"You generate this modal `&lt;div&gt;` for each element in `listExam`, all using the same `studentListModal` id. Each of those modals should have a unique id.\r\n\r\nReplace:\r\n\r\n`id=&quot;studentListModal&quot;`\r\n\r\nwith:\r\n\r\n`th:id=&quot;|studentListModal-${exam.id}|&quot;`\r\n\r\non the modal itself.\r\n\r\nAlso update the trigger on the button:\r\n\r\n`data-target=&quot;#studentListModal&quot;`\r\n\r\nshould be:\r\n\r\n`th:attr=&quot;data-target=|#studentListModal-${exam.id}|&quot;`\r\n\r\n(Not 100% sure of that last one, check the generated HTML in your browser to make sure it matches with the id&#39;s of the modals).\r\n\r\nFinally, do not return `Optional` from a controller method. I suggest to use:\r\n\r\n```\r\n@RequestMapping(&quot;/getOneExamSchedule&quot;)\r\n    @ResponseBody\r\n    public Exam getOneExamSchedule(Long id){\r\n        return examService.getOneExam(id)\r\n               orElseThrow( () -&gt; new ExamNotFoundException(id));\r\n    }\r\n```\r\n\r\n(Where `ExamNotFoundException` is an exception class you create for your application).\r\n\r\n","title":"How to output the element in list with the unique id using Thymeleaf in Spring Boot?","body":"<p>You generate this modal <code>&lt;div&gt;</code> for each element in <code>listExam</code>, all using the same <code>studentListModal</code> id. Each of those modals should have a unique id.</p>\n<p>Replace:</p>\n<p><code>id=&quot;studentListModal&quot;</code></p>\n<p>with:</p>\n<p><code>th:id=&quot;|studentListModal-${exam.id}|&quot;</code></p>\n<p>on the modal itself.</p>\n<p>Also update the trigger on the button:</p>\n<p><code>data-target=&quot;#studentListModal&quot;</code></p>\n<p>should be:</p>\n<p><code>th:attr=&quot;data-target=|#studentListModal-${exam.id}|&quot;</code></p>\n<p>(Not 100% sure of that last one, check the generated HTML in your browser to make sure it matches with the id's of the modals).</p>\n<p>Finally, do not return <code>Optional</code> from a controller method. I suggest to use:</p>\n<pre><code>@RequestMapping(&quot;/getOneExamSchedule&quot;)\n    @ResponseBody\n    public Exam getOneExamSchedule(Long id){\n        return examService.getOneExam(id)\n               orElseThrow( () -&gt; new ExamNotFoundException(id));\n    }\n</code></pre>\n<p>(Where <code>ExamNotFoundException</code> is an exception class you create for your application).</p>\n"}],"owner":{"account_id":20719168,"reputation":47,"user_id":15213946,"display_name":"mike kong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1091,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71202357,"answer_count":1,"score":-1,"last_activity_date":1645427102,"creation_date":1645411416,"question_id":71200673,"body_markdown":"In my entity class, I have a arraylist that have stored a list of enrolled student. Whenever I click the **student** button, it will show a enrolled student list. The [below screenshot][1] is my enroll student page. But when I click on the other button to show their own enrolled student list, it show the [list][2] for the first row. It supposed to be unique record for each id.  \r\n\r\nFor my attempt I have tried to write the ```@requestMapping``` that is to retrieve only one id. So   when I click on the student button, it will only return the enrolled student list of corresponding row. But it failed, so how should I do now to get the unique record for each row?\r\n\r\n[![enter image description here][1]][1]\r\n```\r\npublic class Exam {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\r\n\t@Column(name = &quot;duration&quot;, nullable = false, length = 100)\r\n\tprivate double duration;\r\n\t\r\n\t@ManyToMany\r\n\t@JoinTable(\r\n\t\t\tname=&quot;exam_enrolled_student&quot;,\r\n\t\t\tjoinColumns = @JoinColumn(name = &quot;exam_id&quot;),\r\n\t\t\tinverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;)\r\n\t)\r\n\tprivate List&lt;User&gt; enrolledStudent = new ArrayList&lt;User&gt;();\r\n```\r\n**Controller method to get a single id**\r\n```\r\n@RequestMapping(&quot;/getOneExamSchedule&quot;)\r\n\t@ResponseBody\r\n\tpublic Optional&lt;Exam&gt; getOneExamSchedule(Long id){\r\n\t\treturn examService.getOneExam(id);\r\n\t}\r\n```\r\n\r\n\r\n**Below is the code for the *student button* and the modal to show the enrolled student list.** \r\n```\r\n&lt;tbody&gt;\r\n\t\t\t\t\t\t&lt;tr th:each=&quot;exam: ${listExam}&quot;&gt;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;td&gt;&lt;a th:href=&quot;@{/getOneExamSchedule/(id=${exam.id})}&quot; type=&quot;button&quot; id=&quot;studentListDetailBtn&quot; class=&quot;btn btn-primary&quot; data-toggle=&quot;modal&quot; data-target=&quot;#studentListModal&quot;&gt;Student\r\n\t\t\t\t\t\t\t\t\t&lt;span class=&quot;badge badge-light&quot; th:text=&quot;${#lists.size(exam.enrolledStudent)}&quot;&gt;[Number of elements]&lt;/span&gt;\r\n\t\t\t\t\t\t\t\t&lt;/a&gt; \r\n\t\t\t\t\t\t\t\t&lt;!-- Modal --&gt;\r\n\t\t\t\t\t\t\t\t&lt;div class=&quot;modal fade&quot; id=&quot;studentListModal&quot;\r\n\t\t\t\t\t\t\t\t\tdata-backdrop=&quot;static&quot; data-keyboard=&quot;false&quot; tabindex=&quot;-1&quot;\r\n\t\t\t\t\t\t\t\t\taria-labelledby=&quot;staticBackdropLabel&quot; aria-hidden=&quot;true&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;div class=&quot;modal-dialog&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;div class=&quot;modal-content&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;div class=&quot;modal-header&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;h5 class=&quot;modal-title&quot; id=&quot;staticBackdropLabel&quot;&gt;Enrolled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tStudent List&lt;/h5&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-dismiss=&quot;modal&quot;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=&quot;Close&quot;&gt;&lt;/button&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;div class=&quot;modal-body&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;ol th:each = &quot;student:${exam.enrolledStudent}&quot; class=&quot;list-group list&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;li\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=&quot;list-group-item d-flex justify-content-between align-items-start&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;div class=&quot;ms-2 me-auto&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;div id=&quot;studentName&quot; th:text=&quot;|Student Name: ${student.username}|&quot; class=&quot;fw-bold&quot; &gt;Student Name&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;ol class=&quot;list-group list ms-4&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;li id=&quot;studentEmail&quot; th:text=&quot;|Email : ${student.email}|&quot;&gt;&lt;/li&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;li id =&quot;studentEduInst&quot; th:text=&quot;|Educational Instituion : ${student.eduInst}&quot;|&gt;&lt;/li&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;/ol&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;/li&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;/ol&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;div class=&quot;modal-footer&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t&lt;/div&gt; \r\n\t\t\t\t\t\t\t&lt;/td&gt;\r\n\t\t\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t\t&lt;/tbody&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1hoBz.png\r\n  [2]: https://i.stack.imgur.com/V42GW.png","title":"How to output the element in list with the unique id using Thymeleaf in Spring Boot?","body":"<p>In my entity class, I have a arraylist that have stored a list of enrolled student. Whenever I click the <strong>student</strong> button, it will show a enrolled student list. The <a href=\"https://i.stack.imgur.com/1hoBz.png\" rel=\"nofollow noreferrer\">below screenshot</a> is my enroll student page. But when I click on the other button to show their own enrolled student list, it show the <a href=\"https://i.stack.imgur.com/V42GW.png\" rel=\"nofollow noreferrer\">list</a> for the first row. It supposed to be unique record for each id.</p>\n<p>For my attempt I have tried to write the <code>@requestMapping</code> that is to retrieve only one id. So   when I click on the student button, it will only return the enrolled student list of corresponding row. But it failed, so how should I do now to get the unique record for each row?</p>\n<p><a href=\"https://i.stack.imgur.com/1hoBz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1hoBz.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class Exam {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;duration&quot;, nullable = false, length = 100)\n    private double duration;\n    \n    @ManyToMany\n    @JoinTable(\n            name=&quot;exam_enrolled_student&quot;,\n            joinColumns = @JoinColumn(name = &quot;exam_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;)\n    )\n    private List&lt;User&gt; enrolledStudent = new ArrayList&lt;User&gt;();\n</code></pre>\n<p><strong>Controller method to get a single id</strong></p>\n<pre><code>@RequestMapping(&quot;/getOneExamSchedule&quot;)\n    @ResponseBody\n    public Optional&lt;Exam&gt; getOneExamSchedule(Long id){\n        return examService.getOneExam(id);\n    }\n</code></pre>\n<p><strong>Below is the code for the <em>student button</em> and the modal to show the enrolled student list.</strong></p>\n<pre><code>&lt;tbody&gt;\n                        &lt;tr th:each=&quot;exam: ${listExam}&quot;&gt;\n                            \n                                \n                            &lt;td&gt;&lt;a th:href=&quot;@{/getOneExamSchedule/(id=${exam.id})}&quot; type=&quot;button&quot; id=&quot;studentListDetailBtn&quot; class=&quot;btn btn-primary&quot; data-toggle=&quot;modal&quot; data-target=&quot;#studentListModal&quot;&gt;Student\n                                    &lt;span class=&quot;badge badge-light&quot; th:text=&quot;${#lists.size(exam.enrolledStudent)}&quot;&gt;[Number of elements]&lt;/span&gt;\n                                &lt;/a&gt; \n                                &lt;!-- Modal --&gt;\n                                &lt;div class=&quot;modal fade&quot; id=&quot;studentListModal&quot;\n                                    data-backdrop=&quot;static&quot; data-keyboard=&quot;false&quot; tabindex=&quot;-1&quot;\n                                    aria-labelledby=&quot;staticBackdropLabel&quot; aria-hidden=&quot;true&quot;&gt;\n                                    &lt;div class=&quot;modal-dialog&quot;&gt;\n                                        &lt;div class=&quot;modal-content&quot;&gt;\n                                            &lt;div class=&quot;modal-header&quot;&gt;\n                                                &lt;h5 class=&quot;modal-title&quot; id=&quot;staticBackdropLabel&quot;&gt;Enrolled\n                                                    Student List&lt;/h5&gt;\n                                                &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-dismiss=&quot;modal&quot;\n                                                    aria-label=&quot;Close&quot;&gt;&lt;/button&gt;\n                                            &lt;/div&gt;\n                                            &lt;div class=&quot;modal-body&quot;&gt;\n                                                &lt;ol th:each = &quot;student:${exam.enrolledStudent}&quot; class=&quot;list-group list&quot;&gt;\n                                                    &lt;li\n                                                        class=&quot;list-group-item d-flex justify-content-between align-items-start&quot;&gt;\n                                                        &lt;div class=&quot;ms-2 me-auto&quot;&gt;\n                                                            &lt;div id=&quot;studentName&quot; th:text=&quot;|Student Name: ${student.username}|&quot; class=&quot;fw-bold&quot; &gt;Student Name&lt;/div&gt;\n                                                            &lt;ol class=&quot;list-group list ms-4&quot;&gt;\n                                                                &lt;li id=&quot;studentEmail&quot; th:text=&quot;|Email : ${student.email}|&quot;&gt;&lt;/li&gt;\n                                                                &lt;li id =&quot;studentEduInst&quot; th:text=&quot;|Educational Instituion : ${student.eduInst}&quot;|&gt;&lt;/li&gt;\n                                                            &lt;/ol&gt;\n                                                        &lt;/div&gt;\n                                                    &lt;/li&gt;\n                                                    \n                                                &lt;/ol&gt;\n                                            &lt;/div&gt;\n                                            &lt;div class=&quot;modal-footer&quot;&gt;\n                                                &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot;\n                                                    data-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt; \n                            &lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/tbody&gt;\n</code></pre>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":22350399,"reputation":26,"user_id":16568661,"display_name":"Sachin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645426956,"creation_date":1645426956,"answer_id":71202326,"question_id":65882650,"body_markdown":"***First Network security is not all about securing one application. It&#39;s a platform which ensure the security of complete organization, platform, application. its a much broader term when we consider at enterprises level. However I just want to brief about it.***\r\n\r\nIt provides the below feature to any organization.\r\n\r\n1. it detects and prevents the various attacks (ransomware or DDoS attack) or malicious activity using firewalls, IPS solutions.\r\n2. it ensure the integrity on endpoints connected to an organization network or campuses to avoid any DDoS attack. \r\n3. End to end data delivery of data between two sites over the internet in encrypted channel so no one can sniff the data and see what exactly in data.\r\n\r\nWhen it comes to application level there are some application which we need to host direct to internet facing so users can access over the internet. However while doing so we need to be take care that our application is exposed to the world in that not all user are with good intention. \r\n\r\nSo, we have to be make sure our application should be secure and enabled with security features like SSL (secure socket layer) certificate or behind secure firewall devices and accessible over secure channel.\r\n\r\nBasically, SSL certificate authentication requires three way handshake between Clients and server machine which basically exchange public and private key in certificate. This three way handshake only be succeed if client machine would he required private key combination to negotiate with server to access the contain.\r\n\r\nOnce the parameter are negotiated then three way channel would form between two machine further data transfer would take place after that.\r\n\r\nAll the above thing are to secure any organization data. Because data could contain sensitive information, or database information that would be critical to any environment. **In Today&#39;s era Data is Every thing.** ","title":"Network security configuration","body":"<p><em><strong>First Network security is not all about securing one application. It's a platform which ensure the security of complete organization, platform, application. its a much broader term when we consider at enterprises level. However I just want to brief about it.</strong></em></p>\n<p>It provides the below feature to any organization.</p>\n<ol>\n<li>it detects and prevents the various attacks (ransomware or DDoS attack) or malicious activity using firewalls, IPS solutions.</li>\n<li>it ensure the integrity on endpoints connected to an organization network or campuses to avoid any DDoS attack.</li>\n<li>End to end data delivery of data between two sites over the internet in encrypted channel so no one can sniff the data and see what exactly in data.</li>\n</ol>\n<p>When it comes to application level there are some application which we need to host direct to internet facing so users can access over the internet. However while doing so we need to be take care that our application is exposed to the world in that not all user are with good intention.</p>\n<p>So, we have to be make sure our application should be secure and enabled with security features like SSL (secure socket layer) certificate or behind secure firewall devices and accessible over secure channel.</p>\n<p>Basically, SSL certificate authentication requires three way handshake between Clients and server machine which basically exchange public and private key in certificate. This three way handshake only be succeed if client machine would he required private key combination to negotiate with server to access the contain.</p>\n<p>Once the parameter are negotiated then three way channel would form between two machine further data transfer would take place after that.</p>\n<p>All the above thing are to secure any organization data. Because data could contain sensitive information, or database information that would be critical to any environment. <strong>In Today's era Data is Every thing.</strong></p>\n"}],"owner":{"account_id":16729470,"reputation":98,"user_id":12092238,"display_name":"Hossam Sadekk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71202326,"answer_count":1,"score":-1,"last_activity_date":1645426956,"creation_date":1611569361,"question_id":65882650,"body_markdown":"What is the purpose of network security configuration , I know that http is not secure and when we want even to use that in our app we then use network security configuration but what does it really do?","title":"Network security configuration","body":"<p>What is the purpose of network security configuration , I know that http is not secure and when we want even to use that in our app we then use network security configuration but what does it really do?</p>\n"},{"tags":["java","3d","geometry"],"comments":[{"owner":{"account_id":23485501,"reputation":1502,"user_id":17537072,"display_name":"Daniel Cruz"},"score":0,"creation_date":1645318463,"post_id":71190491,"comment_id":125839502,"body_markdown":"Hi, can you add more details? what are you aiming for? an algorithm or a peace of code, please structure your question so we know the kind of answer you want to get","body":"Hi, can you add more details? what are you aiming for? an algorithm or a peace of code, please structure your question so we know the kind of answer you want to get"},{"owner":{"account_id":24314979,"reputation":23,"user_id":18256316,"display_name":"Juho"},"score":0,"creation_date":1645319102,"post_id":71190491,"comment_id":125839580,"body_markdown":"Added more details","body":"Added more details"},{"owner":{"account_id":23485501,"reputation":1502,"user_id":17537072,"display_name":"Daniel Cruz"},"score":0,"creation_date":1645320073,"post_id":71190491,"comment_id":125839686,"body_markdown":"so you want an algorithm that, given two points gives you &quot;the&quot; cube that seems more intuitive for the user for those two points?","body":"so you want an algorithm that, given two points gives you &quot;the&quot; cube that seems more intuitive for the user for those two points?"},{"owner":{"account_id":24314979,"reputation":23,"user_id":18256316,"display_name":"Juho"},"score":0,"creation_date":1645320606,"post_id":71190491,"comment_id":125839749,"body_markdown":"Pretty much yes.","body":"Pretty much yes."},{"owner":{"account_id":23485501,"reputation":1502,"user_id":17537072,"display_name":"Daniel Cruz"},"score":0,"creation_date":1645320698,"post_id":71190491,"comment_id":125839763,"body_markdown":"well... what programming language are you using?","body":"well... what programming language are you using?"},{"owner":{"account_id":24314979,"reputation":23,"user_id":18256316,"display_name":"Juho"},"score":0,"creation_date":1645320779,"post_id":71190491,"comment_id":125839770,"body_markdown":"I&#39;m using java.","body":"I&#39;m using java."},{"owner":{"account_id":23485501,"reputation":1502,"user_id":17537072,"display_name":"Daniel Cruz"},"score":0,"creation_date":1645321073,"post_id":71190491,"comment_id":125839806,"body_markdown":"My java is really rusted... some pseudocode would work for you?","body":"My java is really rusted... some pseudocode would work for you?"},{"owner":{"account_id":24314979,"reputation":23,"user_id":18256316,"display_name":"Juho"},"score":0,"creation_date":1645321215,"post_id":71190491,"comment_id":125839816,"body_markdown":"Yes thats fine!","body":"Yes thats fine!"},{"owner":{"account_id":24314979,"reputation":23,"user_id":18256316,"display_name":"Juho"},"score":0,"creation_date":1645349929,"post_id":71190491,"comment_id":125843521,"body_markdown":"If we are going with my original idea the vector math in itself is pretty simple yes, but I have no Idea where to start, how should I decide the alignment of the cube with only the 2 points given. More importantly the program needs to figure it out itself based on something but I dont know what. This might be a given for some people but my vector math knowledge is really basic.                          Edit. Location of the points doesnt matter for me they just need to be at any corner of the cube","body":"If we are going with my original idea the vector math in itself is pretty simple yes, but I have no Idea where to start, how should I decide the alignment of the cube with only the 2 points given. More importantly the program needs to figure it out itself based on something but I dont know what. This might be a given for some people but my vector math knowledge is really basic.                          Edit. Location of the points doesnt matter for me they just need to be at any corner of the cube"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1645425902,"post_id":71190491,"comment_id":125858987,"body_markdown":"I added answer with vector approach using the 2 points as cubes internal diagonal (have reworded it slightly to make it more understandable, updated image and repair some typos in code comments)","body":"I added answer with vector approach using the 2 points as cubes internal diagonal (have reworded it slightly to make it more understandable, updated image and repair some typos in code comments)"}],"answers":[{"tags":[],"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645426869,"creation_date":1645374838,"answer_id":71196438,"question_id":71190491,"body_markdown":"lets assume your 2 points are defining the cube&#39;s internal diagonal `u` (blue). \r\n\r\n[![cube diagonals][1]][1]\r\n\r\nFrom these 2 points we already know 2 vertexes of cube and their average is center of the cube `p`.\r\n\r\nNow we need to select plane in which both `u,v` diagonals will be by using any direction not (anti)parallel to diagonal `u` and use it as normal of the plane `n` (green). In such cases I usually use either `(1.0,0.0,0.0)` or `(0.0,1.0,0.0)` depending on if the first is parallel or not (that can be decided with dot product). You can also use camera forward and right directions so the cube aligns the same way regardless on camera orientation.\r\n\r\nNow to obtain the red diagonal we just rotate the blue one by `~70.529deg = 2*atan(1/sqrt(2))` around align vector `n` and center `p`.\r\n\r\nFinally to obtain last missing 2 diagonals (`U,V` in code) we just rotate the first two (`u,v`) by `90deg` around `n&#39;` and center `p`. The `n&#39;` is just direction in the midle `u` and `-v` so `n&#39;=u-v`.\r\n\r\nHere small C++ code for this using my [GLSL style vector math](https://ulozto.net/tamhle/Lac6wsTA65Ni#!ZJD0MwR2AJR0ZmR5LJAyZwHlLJH1MJyBAGL0I3MvJKDlF2L3LD==) (you can use any other like GLM or even own you just need `v+v,v-v,v*c,v/c,dot,cross,length`) also note angles `a0,a1` are in radians:\r\n\r\n    //---------------------------------------------------------------------------\r\n    vec3 A=vec3(-0.7,-0.8,+0.5),\t// input points\r\n    \t B=vec3(+0.5,+0.6,-0.4);\r\n    vec3 pnt[8];\t\t\t\t\t// output cube points\r\n    //---------------------------------------------------------------------------\r\n    // return rotated p around axis (center is (0,0,0))\r\n    vec3 rotate(float ang,vec3 axis,vec3 p)\r\n    \t{\r\n    \tfloat c=cos(ang),s=sin(ang);// precompute goniometrics\r\n    \tvec3 u,v,w;\t\t\t\t\t// bazis vectors\r\n    \tfloat x,y,z,xx,yy;\r\n    \tw=normalize(axis);\t\t\t// w is rotation axis\r\n    \tu=vec3(1.0,0.0,0.0);\t\t// u = any unit align vector not parallel to w\r\n    \tif (fabs(dot(u,w))&gt;0.75) u=vec3(0.0,1.0,0.0);\r\n    \tu=cross(u,w);\t\t\t\t// make u paralel to w and align vector\r\n    \tv=cross(u,w);\t\t\t \t// make v paralel to u and w\r\n    \t// convert to basis vectors local coordinates\r\n    \txx=dot(p,u);\r\n    \tyy=dot(p,v);\r\n    \tz =dot(p,w);\r\n    \t// rotate XY plane\r\n    \tx=xx*c-yy*s;\r\n    \ty=xx*s+yy*c;\r\n    \t// convert back to global coordinates\r\n    \tp=(x*u)+(y*v)+(z*w);\r\n    \treturn p;\r\n    \t}\r\n    //---------------------------------------------------------------------------\r\n    // compute pnt[] from A,B\r\n    void diagonal2cube()\r\n    \t{\r\n    \tconst float a0=1.230959417340774682134929178248;\t// 70.5288 deg\r\n    \tconst float a1=1.5707963267948966192313216916398;\t// 90.0000 deg\r\n    \tfloat a;\r\n    \tvec3 p,u,v,U,V,n;\r\n    \tp=0.5*(A+B);\t\t// center of cube\r\n    \tu=A-p;\t\t\t\t// half diagonal from center to pnt[0]\r\n    \ta=length(u);\t\t// half size of cube&#39;s diagonal\r\n    \tu=normalize(u);\t\t// normalize u\r\n    \tn=vec3(1.0,0.0,0.0);// n = any unit align vector not parallel to u\r\n    \tif (fabs(dot(u,n))&gt;0.75) n=vec3(0.0,1.0,0.0);\r\n    \tn=cross(u,n);\t\t// make n paralel to u and align vector\r\n    \tu*=a;\t\t\t\t// rescale u back to original size\r\n    \tv=rotate(a0,n,u);\t// v is u rotated by 70.5288 deg around n\r\n    \tn=u-v;\t\t\t\t// n is axis perpendicular to n and in the same plane as u,v\r\n    \tU=rotate(a1,n,u);\t// U is u rotated by 90.0 deg around n\r\n    \tV=rotate(a1,n,v);\t// V is v rotated by 90.0 deg around n\r\n    \tpnt[0]=p+u;\t\t\t// construct the cube vertexes\r\n    \tpnt[6]=p-u;\r\n    \tpnt[1]=p+v;\r\n    \tpnt[7]=p-v;\r\n    \tpnt[3]=p+U;\r\n    \tpnt[5]=p-U;\r\n    \tpnt[2]=p+V;\r\n    \tpnt[4]=p-V;\r\n    \t}\r\n    //---------------------------------------------------------------------------\r\n\r\nHere preview of generated cube using OpenGL:\r\n\r\n[![preview][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MuoZ8.png\r\n  [2]: https://i.stack.imgur.com/i8VPW.png","title":"Creating a cube with only 2 known points","body":"<p>lets assume your 2 points are defining the cube's internal diagonal <code>u</code> (blue).</p>\n<p><a href=\"https://i.stack.imgur.com/MuoZ8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MuoZ8.png\" alt=\"cube diagonals\" /></a></p>\n<p>From these 2 points we already know 2 vertexes of cube and their average is center of the cube <code>p</code>.</p>\n<p>Now we need to select plane in which both <code>u,v</code> diagonals will be by using any direction not (anti)parallel to diagonal <code>u</code> and use it as normal of the plane <code>n</code> (green). In such cases I usually use either <code>(1.0,0.0,0.0)</code> or <code>(0.0,1.0,0.0)</code> depending on if the first is parallel or not (that can be decided with dot product). You can also use camera forward and right directions so the cube aligns the same way regardless on camera orientation.</p>\n<p>Now to obtain the red diagonal we just rotate the blue one by <code>~70.529deg = 2*atan(1/sqrt(2))</code> around align vector <code>n</code> and center <code>p</code>.</p>\n<p>Finally to obtain last missing 2 diagonals (<code>U,V</code> in code) we just rotate the first two (<code>u,v</code>) by <code>90deg</code> around <code>n'</code> and center <code>p</code>. The <code>n'</code> is just direction in the midle <code>u</code> and <code>-v</code> so <code>n'=u-v</code>.</p>\n<p>Here small C++ code for this using my <a href=\"https://ulozto.net/tamhle/Lac6wsTA65Ni#!ZJD0MwR2AJR0ZmR5LJAyZwHlLJH1MJyBAGL0I3MvJKDlF2L3LD==\" rel=\"nofollow noreferrer\">GLSL style vector math</a> (you can use any other like GLM or even own you just need <code>v+v,v-v,v*c,v/c,dot,cross,length</code>) also note angles <code>a0,a1</code> are in radians:</p>\n<pre><code>//---------------------------------------------------------------------------\nvec3 A=vec3(-0.7,-0.8,+0.5),    // input points\n     B=vec3(+0.5,+0.6,-0.4);\nvec3 pnt[8];                    // output cube points\n//---------------------------------------------------------------------------\n// return rotated p around axis (center is (0,0,0))\nvec3 rotate(float ang,vec3 axis,vec3 p)\n    {\n    float c=cos(ang),s=sin(ang);// precompute goniometrics\n    vec3 u,v,w;                 // bazis vectors\n    float x,y,z,xx,yy;\n    w=normalize(axis);          // w is rotation axis\n    u=vec3(1.0,0.0,0.0);        // u = any unit align vector not parallel to w\n    if (fabs(dot(u,w))&gt;0.75) u=vec3(0.0,1.0,0.0);\n    u=cross(u,w);               // make u paralel to w and align vector\n    v=cross(u,w);               // make v paralel to u and w\n    // convert to basis vectors local coordinates\n    xx=dot(p,u);\n    yy=dot(p,v);\n    z =dot(p,w);\n    // rotate XY plane\n    x=xx*c-yy*s;\n    y=xx*s+yy*c;\n    // convert back to global coordinates\n    p=(x*u)+(y*v)+(z*w);\n    return p;\n    }\n//---------------------------------------------------------------------------\n// compute pnt[] from A,B\nvoid diagonal2cube()\n    {\n    const float a0=1.230959417340774682134929178248;    // 70.5288 deg\n    const float a1=1.5707963267948966192313216916398;   // 90.0000 deg\n    float a;\n    vec3 p,u,v,U,V,n;\n    p=0.5*(A+B);        // center of cube\n    u=A-p;              // half diagonal from center to pnt[0]\n    a=length(u);        // half size of cube's diagonal\n    u=normalize(u);     // normalize u\n    n=vec3(1.0,0.0,0.0);// n = any unit align vector not parallel to u\n    if (fabs(dot(u,n))&gt;0.75) n=vec3(0.0,1.0,0.0);\n    n=cross(u,n);       // make n paralel to u and align vector\n    u*=a;               // rescale u back to original size\n    v=rotate(a0,n,u);   // v is u rotated by 70.5288 deg around n\n    n=u-v;              // n is axis perpendicular to n and in the same plane as u,v\n    U=rotate(a1,n,u);   // U is u rotated by 90.0 deg around n\n    V=rotate(a1,n,v);   // V is v rotated by 90.0 deg around n\n    pnt[0]=p+u;         // construct the cube vertexes\n    pnt[6]=p-u;\n    pnt[1]=p+v;\n    pnt[7]=p-v;\n    pnt[3]=p+U;\n    pnt[5]=p-U;\n    pnt[2]=p+V;\n    pnt[4]=p-V;\n    }\n//---------------------------------------------------------------------------\n</code></pre>\n<p>Here preview of generated cube using OpenGL:</p>\n<p><a href=\"https://i.stack.imgur.com/i8VPW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i8VPW.png\" alt=\"preview\" /></a></p>\n"}],"owner":{"account_id":24314979,"reputation":23,"user_id":18256316,"display_name":"Juho"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":71196438,"answer_count":1,"score":0,"last_activity_date":1645426869,"creation_date":1645318299,"question_id":71190491,"body_markdown":"Im currently making a program that generates a cube based on 2 points the user has given. I do know that the cube could be rotated in an infinite number of ways based on only 2 points . However for example geogebra generates a cube only based on 2 points and I want to replicate that. My knowledge of vectors is very limited but Im guessing I need 2 normals created from the vector that the 2 points make with those 3 vectors in total Im able to create the cube. \r\n\r\nMy problem is I dont know how to create 2 normals that are aligned with each other in a way that makes it possible for me to create the cube using them since there are an infinite number of normals for a vector in 3 dimensional space. My guess is that I need to discard one axis when calculating the normals. But I have no clue how to do that.\r\n\r\nEdit. \r\nMy code just calculates the points of each corner, the area of the cube and the center point, no graphics just saves x,y,z of each point to the cube class. I just need the math that I need to add to my code in order to calculate each corner point. ","title":"Creating a cube with only 2 known points","body":"<p>Im currently making a program that generates a cube based on 2 points the user has given. I do know that the cube could be rotated in an infinite number of ways based on only 2 points . However for example geogebra generates a cube only based on 2 points and I want to replicate that. My knowledge of vectors is very limited but Im guessing I need 2 normals created from the vector that the 2 points make with those 3 vectors in total Im able to create the cube.</p>\n<p>My problem is I dont know how to create 2 normals that are aligned with each other in a way that makes it possible for me to create the cube using them since there are an infinite number of normals for a vector in 3 dimensional space. My guess is that I need to discard one axis when calculating the normals. But I have no clue how to do that.</p>\n<p>Edit.\nMy code just calculates the points of each corner, the area of the cube and the center point, no graphics just saves x,y,z of each point to the cube class. I just need the math that I need to add to my code in order to calculate each corner point.</p>\n"},{"tags":["java","jsp","servlets"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1645426837,"post_id":71202275,"comment_id":125859198,"body_markdown":"set the id&#39;s of the fields in your form  to `user` and `pass`","body":"set the id&#39;s of the fields in your form  to <code>user</code> and <code>pass</code>"},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1645427807,"post_id":71202275,"comment_id":125859442,"body_markdown":"You should  add name attributes to your user and pass input tags.   &lt;input type=&quot;text&quot; value=&quot;user&quot; name=&quot;user&quot;&gt; &lt;input type=&quot;password&quot; value=&quot;pass&quot; name=&quot;pass&quot;&gt;","body":"You should  add name attributes to your user and pass input tags.   &lt;input type=&quot;text&quot; value=&quot;user&quot; name=&quot;user&quot;&gt; &lt;input type=&quot;password&quot; value=&quot;pass&quot; name=&quot;pass&quot;&gt;"}],"owner":{"account_id":17140604,"reputation":1,"user_id":12404721,"display_name":"SAURAV SINGH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645426707,"answer_count":0,"score":0,"last_activity_date":1645426778,"creation_date":1645426596,"question_id":71202275,"body_markdown":"&gt; &#39;here is login form page&#39;\r\n\r\n    &lt;form action=&quot;login&quot;&gt;\r\n\t\tEnter user:&lt;input type=&quot;text&quot; value=&quot;user&quot;&gt;\r\n\t\tEnter pass:&lt;input type=&quot;password&quot; value=&quot;pass&quot;&gt;\r\n\t\t&lt;input type=&quot;submit&quot; value=&quot;login&quot;&gt;\r\n\t\t\t\r\n\t&lt;/form&gt;\r\n\r\n&gt; &#39;here is login servlet class code&#39;\r\n\r\n    public class Login extends HttpServlet {\r\n    \r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \t\t\tthrows ServletException, IOException {\r\n    \t\tPrintWriter out = response.getWriter();\r\n    \r\n    \t\tString uname = request.getParameter(&quot;user&quot;);\r\n    \t\tString pass = request.getParameter(&quot;pass&quot;);\r\n        if (user.equals(&quot;Navin&quot;) &amp;&amp; pass.equals(&quot;navin&quot;)) {\r\n    \t\t\tresponse.sendRedirect(&quot;welcome.jsp&quot;);\r\n    \t\t} else {\r\n    \t\t\tresponse.sendRedirect(&quot;login.jsp&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n    \r\n    \r\n","title":"how I can get rid of null pointer exception","body":"<blockquote>\n<p>'here is login form page'</p>\n</blockquote>\n<pre><code>&lt;form action=&quot;login&quot;&gt;\n    Enter user:&lt;input type=&quot;text&quot; value=&quot;user&quot;&gt;\n    Enter pass:&lt;input type=&quot;password&quot; value=&quot;pass&quot;&gt;\n    &lt;input type=&quot;submit&quot; value=&quot;login&quot;&gt;\n        \n&lt;/form&gt;\n</code></pre>\n<blockquote>\n<p>'here is login servlet class code'</p>\n</blockquote>\n<pre><code>public class Login extends HttpServlet {\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        PrintWriter out = response.getWriter();\n\n        String uname = request.getParameter(&quot;user&quot;);\n        String pass = request.getParameter(&quot;pass&quot;);\n    if (user.equals(&quot;Navin&quot;) &amp;&amp; pass.equals(&quot;navin&quot;)) {\n            response.sendRedirect(&quot;welcome.jsp&quot;);\n        } else {\n            response.sendRedirect(&quot;login.jsp&quot;);\n        }\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","json","gson"],"owner":{"account_id":23118939,"reputation":67,"user_id":17225742,"display_name":"Rifaldi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1645426084,"creation_date":1645087935,"question_id":71154956,"body_markdown":"I try get data from database and display it to listview, when i try enter this activity this program will auto close and give error &quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot; when i saw logcat. I have read same case like this but i really dont know how to solve this. What should i do for solving this error?\r\n\r\nHere my code\r\n    \r\n     load.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                header = new HashMap&lt;&gt;();\r\n                param = new HashMap&lt;&gt;();\r\n                header.put(&quot;Cookie&quot;, splogin.getString(&quot;header&quot;, &quot;&quot;));\r\n                param.put(&quot;query&quot;, &quot;{id,product_id{barcode},display_name,location_id{name},location_dest_id{name},reference,date,qty_done}&quot;);\r\n                param.put(&quot;filter&quot;, &quot;[[\\&quot;state\\&quot;,\\&quot;in\\&quot;,[\\&quot;confirmed\\&quot;,\\&quot;assigned\\&quot;]],[\\&quot;scheduled_date\\&quot;,\\&quot;ilike\\&quot;,\\&quot;&quot;.concat(&quot;\\&quot;],[\\&quot;name\\&quot;,\\&quot;ilike\\&quot;,\\&quot;WH/OUT/\\&quot;]]&quot;));\r\n                rn_transfer.setHeaders(header);\r\n                rn_transfer.setParams(param, RequestNetworkController.REQUEST_PARAM);\r\n                rn_transfer.startRequestNetwork(RequestNetworkController.GET, splogin.getString(&quot;server&quot;, &quot;&quot;).concat(&quot;/api/stock.move.line/&quot;), &quot;transfer&quot;, _rn_transfer_request_listener);\r\n            }\r\n        });\r\n\r\n        _rn_transfer_request_listener = new RequestNetwork.RequestListener() {\r\n            @Override\r\n            public void onResponse(String _param1, String _param2, HashMap&lt;String, Object&gt; _param3) {\r\n                final String _tag = _param1;\r\n                final String _response = _param2;\r\n                final HashMap&lt;String, Object&gt; _responseHeaders = _param3;\r\n                detail = new HashMap&lt;&gt;();\r\n                master = new HashMap&lt;&gt;();\r\n                detail = new Gson().fromJson(_response, new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;(){}.getType());\r\n                //namaproduk.setText(detail.get(&quot;display_name&quot;).toString().trim());\r\n                str= (new Gson()).toJson(detail.get(&quot;result&quot;), new TypeToken&lt;ArrayList&lt;HashMap&lt;String, Object&gt;&gt;&gt;(){}.getType());\r\n                listmap_transfer = new Gson().fromJson(str, new TypeToken&lt;ArrayList&lt;HashMap&lt;String, Object&gt;&gt;&gt;(){}.getType());\r\n                SketchwareUtil.sortListMap(listmap_transfer, &quot;date&quot;, false, false);\r\n                listViewdata.setAdapter(new ListviewdataAdapter(listmap_transfer));\r\n                ((BaseAdapter)listViewdata.getAdapter()).notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onErrorResponse(String _param1, String _param2) {\r\n\r\n            }\r\n        };\r\n\r\n        load.setVisibility(View.GONE);\r\n        load.performClick();\r\n\r\nModel class i use for display data from json\r\n\r\n    public class RequestNetwork {\r\n     private HashMap&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n     private HashMap&lt;String, Object&gt; headers = new HashMap&lt;&gt;();\r\n\r\n     private Activity activity;\r\n\r\n     private int requestType = 0;\r\n\r\n     public RequestNetwork(Activity activity) {\r\n       this.activity = activity;\r\n     }\r\n\r\n      public void setHeaders(HashMap&lt;String, Object&gt; headers) {\r\n        this.headers = headers;\r\n     }\r\n\r\n      public void setParams(HashMap&lt;String, Object&gt; params, int requestType) {\r\n        this.params = params;\r\n        this.requestType = requestType;\r\n     }\r\n\r\n       public HashMap&lt;String, Object&gt; getParams() {\r\n         return params;\r\n    }\r\n\r\n       public HashMap&lt;String, Object&gt; getHeaders() {\r\n         return headers;\r\n     }\r\n\r\n        public Activity getActivity() {\r\n         return activity;\r\n     }\r\n\r\n        public int getRequestType() {\r\n         return requestType;\r\n     }\r\n\r\n        public void startRequestNetwork(String method, String url, String tag, RequestListener requestListener) {\r\n       RequestNetworkController.getInstance().execute(this, method, url, tag, requestListener);\r\n     }\r\n\r\n         public interface RequestListener {\r\n          public void onResponse(String tag, String response, HashMap&lt;String, Object&gt; responseHeaders);\r\n          public void onErrorResponse(String tag, String message);\r\n     }\r\n    }\r\n\r\n\r\nHere my json look like when i use postman for checking\r\n\r\n    {&quot;count&quot;: 3, &quot;prev&quot;: null, &quot;current&quot;: 1, &quot;next&quot;: null, &quot;total_pages&quot;: 1, &quot;result&quot;: [{&quot;id&quot;: 1, &quot;product_id&quot;: {&quot;barcode&quot;: &quot;000068&quot;}, &quot;display_name&quot;: &quot;[AMIAVSA001] Aviamed Masker Earloop U-Shaped&quot;, &quot;location_id&quot;: {&quot;name&quot;: &quot;Inventory adjustment&quot;}, &quot;location_dest_id&quot;: {&quot;name&quot;: &quot;Stock&quot;}, &quot;reference&quot;: &quot;INV:stock opname2&quot;, &quot;date&quot;: &quot;2019-09-12-08-44&quot;, &quot;qty_done&quot;: 165.0}, {&quot;id&quot;: 502, &quot;product_id&quot;: {&quot;barcode&quot;: &quot;000068&quot;}, &quot;display_name&quot;: &quot;[AMIAVSA001] Aviamed Masker Earloop U-Shaped&quot;, &quot;location_id&quot;: {&quot;name&quot;: &quot;Stock&quot;}, &quot;location_dest_id&quot;: {&quot;name&quot;: &quot;Customers&quot;}, &quot;reference&quot;: &quot;PW/OUT/00002&quot;, &quot;date&quot;: &quot;2019-09-25-02-30&quot;, &quot;qty_done&quot;: 1000.0}, {&quot;id&quot;: 526, &quot;product_id&quot;: {&quot;barcode&quot;: &quot;000068&quot;}, &quot;display_name&quot;: &quot;[AMIAVSA001] Aviamed Masker Earloop U-Shaped&quot;, &quot;location_id&quot;: {&quot;name&quot;: &quot;Stock&quot;}, &quot;location_dest_id&quot;: {&quot;name&quot;: &quot;Customers&quot;}, &quot;reference&quot;: &quot;PW/OUT/00003&quot;, &quot;date&quot;: &quot;2019-09-25-03-34&quot;, &quot;qty_done&quot;: 305.0}]}\r\n\r\n","title":"Try solving error Expected BEGIN_OBJECT but was STRING at line 1 column 1","body":"<p>I try get data from database and display it to listview, when i try enter this activity this program will auto close and give error &quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot; when i saw logcat. I have read same case like this but i really dont know how to solve this. What should i do for solving this error?</p>\n<p>Here my code</p>\n<pre><code> load.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            header = new HashMap&lt;&gt;();\n            param = new HashMap&lt;&gt;();\n            header.put(&quot;Cookie&quot;, splogin.getString(&quot;header&quot;, &quot;&quot;));\n            param.put(&quot;query&quot;, &quot;{id,product_id{barcode},display_name,location_id{name},location_dest_id{name},reference,date,qty_done}&quot;);\n            param.put(&quot;filter&quot;, &quot;[[\\&quot;state\\&quot;,\\&quot;in\\&quot;,[\\&quot;confirmed\\&quot;,\\&quot;assigned\\&quot;]],[\\&quot;scheduled_date\\&quot;,\\&quot;ilike\\&quot;,\\&quot;&quot;.concat(&quot;\\&quot;],[\\&quot;name\\&quot;,\\&quot;ilike\\&quot;,\\&quot;WH/OUT/\\&quot;]]&quot;));\n            rn_transfer.setHeaders(header);\n            rn_transfer.setParams(param, RequestNetworkController.REQUEST_PARAM);\n            rn_transfer.startRequestNetwork(RequestNetworkController.GET, splogin.getString(&quot;server&quot;, &quot;&quot;).concat(&quot;/api/stock.move.line/&quot;), &quot;transfer&quot;, _rn_transfer_request_listener);\n        }\n    });\n\n    _rn_transfer_request_listener = new RequestNetwork.RequestListener() {\n        @Override\n        public void onResponse(String _param1, String _param2, HashMap&lt;String, Object&gt; _param3) {\n            final String _tag = _param1;\n            final String _response = _param2;\n            final HashMap&lt;String, Object&gt; _responseHeaders = _param3;\n            detail = new HashMap&lt;&gt;();\n            master = new HashMap&lt;&gt;();\n            detail = new Gson().fromJson(_response, new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;(){}.getType());\n            //namaproduk.setText(detail.get(&quot;display_name&quot;).toString().trim());\n            str= (new Gson()).toJson(detail.get(&quot;result&quot;), new TypeToken&lt;ArrayList&lt;HashMap&lt;String, Object&gt;&gt;&gt;(){}.getType());\n            listmap_transfer = new Gson().fromJson(str, new TypeToken&lt;ArrayList&lt;HashMap&lt;String, Object&gt;&gt;&gt;(){}.getType());\n            SketchwareUtil.sortListMap(listmap_transfer, &quot;date&quot;, false, false);\n            listViewdata.setAdapter(new ListviewdataAdapter(listmap_transfer));\n            ((BaseAdapter)listViewdata.getAdapter()).notifyDataSetChanged();\n        }\n\n        @Override\n        public void onErrorResponse(String _param1, String _param2) {\n\n        }\n    };\n\n    load.setVisibility(View.GONE);\n    load.performClick();\n</code></pre>\n<p>Model class i use for display data from json</p>\n<pre><code>public class RequestNetwork {\n private HashMap&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n private HashMap&lt;String, Object&gt; headers = new HashMap&lt;&gt;();\n\n private Activity activity;\n\n private int requestType = 0;\n\n public RequestNetwork(Activity activity) {\n   this.activity = activity;\n }\n\n  public void setHeaders(HashMap&lt;String, Object&gt; headers) {\n    this.headers = headers;\n }\n\n  public void setParams(HashMap&lt;String, Object&gt; params, int requestType) {\n    this.params = params;\n    this.requestType = requestType;\n }\n\n   public HashMap&lt;String, Object&gt; getParams() {\n     return params;\n}\n\n   public HashMap&lt;String, Object&gt; getHeaders() {\n     return headers;\n }\n\n    public Activity getActivity() {\n     return activity;\n }\n\n    public int getRequestType() {\n     return requestType;\n }\n\n    public void startRequestNetwork(String method, String url, String tag, RequestListener requestListener) {\n   RequestNetworkController.getInstance().execute(this, method, url, tag, requestListener);\n }\n\n     public interface RequestListener {\n      public void onResponse(String tag, String response, HashMap&lt;String, Object&gt; responseHeaders);\n      public void onErrorResponse(String tag, String message);\n }\n}\n</code></pre>\n<p>Here my json look like when i use postman for checking</p>\n<pre><code>{&quot;count&quot;: 3, &quot;prev&quot;: null, &quot;current&quot;: 1, &quot;next&quot;: null, &quot;total_pages&quot;: 1, &quot;result&quot;: [{&quot;id&quot;: 1, &quot;product_id&quot;: {&quot;barcode&quot;: &quot;000068&quot;}, &quot;display_name&quot;: &quot;[AMIAVSA001] Aviamed Masker Earloop U-Shaped&quot;, &quot;location_id&quot;: {&quot;name&quot;: &quot;Inventory adjustment&quot;}, &quot;location_dest_id&quot;: {&quot;name&quot;: &quot;Stock&quot;}, &quot;reference&quot;: &quot;INV:stock opname2&quot;, &quot;date&quot;: &quot;2019-09-12-08-44&quot;, &quot;qty_done&quot;: 165.0}, {&quot;id&quot;: 502, &quot;product_id&quot;: {&quot;barcode&quot;: &quot;000068&quot;}, &quot;display_name&quot;: &quot;[AMIAVSA001] Aviamed Masker Earloop U-Shaped&quot;, &quot;location_id&quot;: {&quot;name&quot;: &quot;Stock&quot;}, &quot;location_dest_id&quot;: {&quot;name&quot;: &quot;Customers&quot;}, &quot;reference&quot;: &quot;PW/OUT/00002&quot;, &quot;date&quot;: &quot;2019-09-25-02-30&quot;, &quot;qty_done&quot;: 1000.0}, {&quot;id&quot;: 526, &quot;product_id&quot;: {&quot;barcode&quot;: &quot;000068&quot;}, &quot;display_name&quot;: &quot;[AMIAVSA001] Aviamed Masker Earloop U-Shaped&quot;, &quot;location_id&quot;: {&quot;name&quot;: &quot;Stock&quot;}, &quot;location_dest_id&quot;: {&quot;name&quot;: &quot;Customers&quot;}, &quot;reference&quot;: &quot;PW/OUT/00003&quot;, &quot;date&quot;: &quot;2019-09-25-03-34&quot;, &quot;qty_done&quot;: 305.0}]}\n</code></pre>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1645424498,"post_id":71201879,"comment_id":125858697,"body_markdown":"What do you mean with making bold of some words? What words? How is the text displayed?","body":"What do you mean with making bold of some words? What words? How is the text displayed?"}],"answers":[{"tags":[],"owner":{"account_id":22030097,"reputation":128,"user_id":16297498,"display_name":"Mahesh Gouda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645425769,"creation_date":1645425769,"answer_id":71202154,"question_id":71201879,"body_markdown":"JSON only stores plain text, It does not format the text, if you want to make the data in the JSON object appear bold or colorful in the UI you need to handle this from the front end side.  ","title":"Bold words in a string of json file in Android","body":"<p>JSON only stores plain text, It does not format the text, if you want to make the data in the JSON object appear bold or colorful in the UI you need to handle this from the front end side.</p>\n"}],"owner":{"account_id":18426996,"reputation":35,"user_id":13423052,"display_name":"Gopal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71202154,"answer_count":1,"score":0,"last_activity_date":1645425769,"creation_date":1645423768,"question_id":71201879,"body_markdown":"I have a long text in one of the strings at json file. I want to make bold of some words in that text.\r\n\r\nHow can I do it?\r\n\r\nsample.json file:\r\n\r\n        {\r\n            &quot;local_id&quot;: &quot;82&quot;,\r\n            &quot;local_title&quot;: &quot;He is Lord&quot;,\r\n            &quot;local_hint&quot;: &quot;He is Lord&quot;,\r\n            &quot;local_text&quot;: &quot;He is Lord, He is Lord\\nHe is risen from the dead and He is Lord\\nEvery knee shall bow,\\nevery tongue confess\\nThat Jesus Christ is Lord.&quot;,\r\n            &quot;local_category&quot;: &quot;nothing&quot;,\r\n            &quot;local_categorycount&quot;: &quot;1&quot;\r\n\r\n\r\n        }\r\n","title":"Bold words in a string of json file in Android","body":"<p>I have a long text in one of the strings at json file. I want to make bold of some words in that text.</p>\n<p>How can I do it?</p>\n<p>sample.json file:</p>\n<pre><code>    {\n        &quot;local_id&quot;: &quot;82&quot;,\n        &quot;local_title&quot;: &quot;He is Lord&quot;,\n        &quot;local_hint&quot;: &quot;He is Lord&quot;,\n        &quot;local_text&quot;: &quot;He is Lord, He is Lord\\nHe is risen from the dead and He is Lord\\nEvery knee shall bow,\\nevery tongue confess\\nThat Jesus Christ is Lord.&quot;,\n        &quot;local_category&quot;: &quot;nothing&quot;,\n        &quot;local_categorycount&quot;: &quot;1&quot;\n\n\n    }\n</code></pre>\n"},{"tags":["java","android","selenium","selenium-webdriver","appium-android"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1644954007,"post_id":71028637,"comment_id":125740809,"body_markdown":"You can run the webdriver local or remote (if remote you run the webdriver locally, but it communicates with a remote server that hosts a &quot;grid&quot;, hub+nodes).  So all you need is your code + the webdriver + the browser you are automating.  (chromedriver+chrome, geckodriver+firefox, etc... )  https://www.selenium.dev/documentation/","body":"You can run the webdriver local or remote (if remote you run the webdriver locally, but it communicates with a remote server that hosts a &quot;grid&quot;, hub+nodes).  So all you need is your code + the webdriver + the browser you are automating.  (chromedriver+chrome, geckodriver+firefox, etc... )  <a href=\"https://www.selenium.dev/documentation/\" rel=\"nofollow noreferrer\">selenium.dev/documentation</a>"},{"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"score":0,"creation_date":1644981051,"post_id":71028637,"comment_id":125747295,"body_markdown":"@pcalkins Can I run my code + the webdriver + and android webview all within my android app?","body":"@pcalkins Can I run my code + the webdriver + and android webview all within my android app?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1645127689,"post_id":71028637,"comment_id":125795270,"body_markdown":"I haven&#39;t used Appium, but I don&#39;t think so.  The driver is outside of the app... this is the best way to perform testing since you&#39;re going through the user&#39;s interface.  If your app uses a webview it already has hooks inside that you can use to write your own unit tests from inside the app.","body":"I haven&#39;t used Appium, but I don&#39;t think so.  The driver is outside of the app... this is the best way to perform testing since you&#39;re going through the user&#39;s interface.  If your app uses a webview it already has hooks inside that you can use to write your own unit tests from inside the app."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1645132322,"post_id":71028637,"comment_id":125796794,"body_markdown":"If I understand what you are trying to do, you might want to take a look at this: https://github.com/null-dev/HtmlUnit-Android  It&#39;s an android port of HTMLUnit.  (HTMLUnit is a gui-less browser that takes commands very similar to Selenium&#39;s webdriver.)","body":"If I understand what you are trying to do, you might want to take a look at this: <a href=\"https://github.com/null-dev/HtmlUnit-Android\" rel=\"nofollow noreferrer\">github.com/null-dev/HtmlUnit-Android</a>  It&#39;s an android port of HTMLUnit.  (HTMLUnit is a gui-less browser that takes commands very similar to Selenium&#39;s webdriver.)"},{"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"score":0,"creation_date":1645170922,"post_id":71028637,"comment_id":125804815,"body_markdown":"@pcalkins HtmlUnit is is exactly what i wanted. Tried that but looks like this lib is not  maintained. I tried to use it but it mimics old browser versions (FireFox 52 max). which the website am tryng to hit doesnot support. The original lib (non android port) has support for latest firefox but doesnot work on andorid.","body":"@pcalkins HtmlUnit is is exactly what i wanted. Tried that but looks like this lib is not  maintained. I tried to use it but it mimics old browser versions (FireFox 52 max). which the website am tryng to hit doesnot support. The original lib (non android port) has support for latest firefox but doesnot work on andorid."},{"owner":{"account_id":3953640,"reputation":1606,"user_id":3262990,"display_name":"Yevgen"},"score":0,"creation_date":1645299979,"post_id":71028637,"comment_id":125836125,"body_markdown":"@user93796 What you need is a headless browser, something which a lot browser engines are capable of, but, alas, not in regards to Android. Also please check this question, see if it helps you - https://stackoverflow.com/questions/17399055/android-web-scraping-with-a-headless-browser","body":"@user93796 What you need is a headless browser, something which a lot browser engines are capable of, but, alas, not in regards to Android. Also please check this question, see if it helps you - <a href=\"https://stackoverflow.com/questions/17399055/android-web-scraping-with-a-headless-browser\" title=\"android web scraping with a headless browser\">stackoverflow.com/questions/17399055/&hellip;</a>"},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1645387591,"post_id":71028637,"comment_id":125852513,"body_markdown":"Please don&#39;t change the question based on which you have received well researched answers. Once you receive canonical answers changing the question can make all the existing answers invalid and may not be useful to future readers. If your requirement have changed feel free to raise a new question. StackOverflow contributors will be happy to help you out. For the time being I have reverted back the question to it&#39;s initial state.","body":"Please don&#39;t change the question based on which you have received well researched answers. Once you receive canonical answers changing the question can make all the existing answers invalid and may not be useful to future readers. If your requirement have changed feel free to raise a new question. StackOverflow contributors will be happy to help you out. For the time being I have reverted back the question to it&#39;s initial state."},{"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"score":0,"creation_date":1645476733,"post_id":71028637,"comment_id":125877279,"body_markdown":"That is why i added it under EDIT section. Ultimate goal is to solve the original problem, noting wrong in updating question with edit section.","body":"That is why i added it under EDIT section. Ultimate goal is to solve the original problem, noting wrong in updating question with edit section."},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1645478634,"post_id":71028637,"comment_id":125877813,"body_markdown":"@user93796 Thats exactly not how StackOverflow works. If the premise of your question have changed you should ask a new question as changing the question can make all the existing answers invalid and may not be useful to future readers.","body":"@user93796 Thats exactly not how StackOverflow works. If the premise of your question have changed you should ask a new question as changing the question can make all the existing answers invalid and may not be useful to future readers."}],"answers":[{"tags":[],"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645102792,"creation_date":1645102792,"answer_id":71158620,"question_id":71028637,"body_markdown":"You can use the `Selenium` or `Appium` without any server. Both are plugins, which means they are basically open code or libraries. You call those objects on your local machine (or phone), you don&#39;t call an online remote API.\r\n\r\nThe Selenium and Appium helps to find elements on a web page or to find elements inside a mobile app. There is absolutely no need for a server here or remote machine.\r\n\r\nSo, **YES**, just add the lib which gives you access to `api`&#39;s like you showed above.  ","title":"Using selenium from within my app without any external server","body":"<p>You can use the <code>Selenium</code> or <code>Appium</code> without any server. Both are plugins, which means they are basically open code or libraries. You call those objects on your local machine (or phone), you don't call an online remote API.</p>\n<p>The Selenium and Appium helps to find elements on a web page or to find elements inside a mobile app. There is absolutely no need for a server here or remote machine.</p>\n<p>So, <strong>YES</strong>, just add the lib which gives you access to <code>api</code>'s like you showed above.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645141518,"creation_date":1645138110,"answer_id":71166351,"question_id":71028637,"body_markdown":"Selenium\r\n--------\r\n[Selenium](https://stackoverflow.com/a/54482491/7429447) in it&#39;s basic form doesn&#39;t needs any seperate server to run. Selenium along with it&#39;s wide range of tools and libraries that can support the automation of web browsers within the same machine ( i.e. _localhost_). \r\n\r\n\r\n----------\r\n\r\n\r\nWebDriver\r\n---------\r\nAt the core of Selenium is [WebDriver](https://stackoverflow.com/a/48080871/7429447) an interface to write instruction sets that can be run interchangeably in many browsers using each browser&#39;s native support for Test Automation. This can be achieved in three simple steps:\r\n\r\n- [_Installing the Selenium library_](https://www.selenium.dev/documentation/webdriver/getting_started/install_library/)\r\n- [_Installing the browser drivers_](https://www.selenium.dev/documentation/webdriver/getting_started/install_drivers/)\r\n- [_Writing your first Selenium script_](https://www.selenium.dev/documentation/webdriver/getting_started/first_script/)\r\n\r\nSample code block:\r\n\r\n\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;/path/to/geckodriver&quot;);\r\n    WebDriver driver = new FirefoxDriver();\r\n\tdriver.get(&quot;https://www.amazon.com/&quot;);\r\n\tdriver.findElement(By.cssSelector(&quot;input.nav-input[value=&#39;Go&#39;]&quot;)).click();\r\n\r\n\r\n----------\r\n\r\n\r\nSelenium Grid\r\n-------------\r\nHowever, Selenium also supports a distribution server for scaling browser allocation. If your usecase include steps to run tests in parallel across multiple machines, then [Selenium Grid](https://stackoverflow.com/a/59648301/7429447) would be your best bet.\r\n\r\n[Selenium Grid](https://stackoverflow.com/a/46524276/7429447) allows the execution of WebDriver scripts on remote machines (virtual or real) by routing commands sent by the client to remote browser instances. It aims to provide an easy way to run tests in parallel on multiple machines.\r\n\r\n[Selenium Grid](https://stackoverflow.com/a/44043640/7429447) would also allow you to run tests in parallel on multiple machines and to manage different browser versions and browser configurations centrally (instead of in each individual test).\r\n\r\nHaving said that, it does solves a subset of common delegation and distribution problems, but will may not be able to manage your infrastructure, and might not exactly suit to your specific need.\r\n\r\n\r\n----------\r\n\r\n\r\nAppium\r\n------\r\nSimilarly, [Appium](https://appium.io/docs/en/about-appium/getting-started/?lang=en) is an open-source tool for automating native, mobile web, and hybrid applications on iOS mobile, Android mobile, and Windows desktop platforms. _**Hybrid apps**_ which have a wrapper around a _`webview`_  is a native control that enables interaction with web content. Projects like [Apache Cordova](https://cordova.apache.org/) make it easier to build apps using web technologies that are then bundled into a native wrapper, creating a hybrid app.","title":"Using selenium from within my app without any external server","body":"<h2>Selenium</h2>\n<p><a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> in it's basic form doesn't needs any seperate server to run. Selenium along with it's wide range of tools and libraries that can support the automation of web browsers within the same machine ( i.e. <em>localhost</em>).</p>\n<hr />\n<h2>WebDriver</h2>\n<p>At the core of Selenium is <a href=\"https://stackoverflow.com/a/48080871/7429447\">WebDriver</a> an interface to write instruction sets that can be run interchangeably in many browsers using each browser's native support for Test Automation. This can be achieved in three simple steps:</p>\n<ul>\n<li><a href=\"https://www.selenium.dev/documentation/webdriver/getting_started/install_library/\" rel=\"nofollow noreferrer\"><em>Installing the Selenium library</em></a></li>\n<li><a href=\"https://www.selenium.dev/documentation/webdriver/getting_started/install_drivers/\" rel=\"nofollow noreferrer\"><em>Installing the browser drivers</em></a></li>\n<li><a href=\"https://www.selenium.dev/documentation/webdriver/getting_started/first_script/\" rel=\"nofollow noreferrer\"><em>Writing your first Selenium script</em></a></li>\n</ul>\n<p>Sample code block:</p>\n<pre><code>System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;/path/to/geckodriver&quot;);\nWebDriver driver = new FirefoxDriver();\ndriver.get(&quot;https://www.amazon.com/&quot;);\ndriver.findElement(By.cssSelector(&quot;input.nav-input[value='Go']&quot;)).click();\n</code></pre>\n<hr />\n<h2>Selenium Grid</h2>\n<p>However, Selenium also supports a distribution server for scaling browser allocation. If your usecase include steps to run tests in parallel across multiple machines, then <a href=\"https://stackoverflow.com/a/59648301/7429447\">Selenium Grid</a> would be your best bet.</p>\n<p><a href=\"https://stackoverflow.com/a/46524276/7429447\">Selenium Grid</a> allows the execution of WebDriver scripts on remote machines (virtual or real) by routing commands sent by the client to remote browser instances. It aims to provide an easy way to run tests in parallel on multiple machines.</p>\n<p><a href=\"https://stackoverflow.com/a/44043640/7429447\">Selenium Grid</a> would also allow you to run tests in parallel on multiple machines and to manage different browser versions and browser configurations centrally (instead of in each individual test).</p>\n<p>Having said that, it does solves a subset of common delegation and distribution problems, but will may not be able to manage your infrastructure, and might not exactly suit to your specific need.</p>\n<hr />\n<h2>Appium</h2>\n<p>Similarly, <a href=\"https://appium.io/docs/en/about-appium/getting-started/?lang=en\" rel=\"nofollow noreferrer\">Appium</a> is an open-source tool for automating native, mobile web, and hybrid applications on iOS mobile, Android mobile, and Windows desktop platforms. <em><strong>Hybrid apps</strong></em> which have a wrapper around a <em><code>webview</code></em>  is a native control that enables interaction with web content. Projects like <a href=\"https://cordova.apache.org/\" rel=\"nofollow noreferrer\">Apache Cordova</a> make it easier to build apps using web technologies that are then bundled into a native wrapper, creating a hybrid app.</p>\n"},{"tags":[],"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645425546,"creation_date":1645423931,"answer_id":71201899,"question_id":71028637,"body_markdown":"Based on your question and your response comment to the answer provided by @undetectedSelenium, the following assumptions apply:\r\n\r\n 1. You are testing a browser within an android phone that is connected to a Windows machine via an adb server running on the Windows machine\r\n 2. The browser under test is Chrome\r\n\r\nInstall selenium as part of your project:\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nSample code block based on your psuedo code and answer provided by @undetectedSelenium \r\n```\r\nSystem.setProperty(“webdriver.chrome.driver”, “C:\\\\path\\\\to\\\\chromedriver.exe”);\r\nChromeOptions options = new ChromeOptions();\r\noptions.setExperimentalOption(“androidPackage”, “com.android.chrome”);\r\n\r\n// By default if the following option is not applied, selenium will take the 1st available\r\n// node provided by the adb server if multiple android devices are attached\r\noptions.setExperimentalOption(&quot;androidDeviceSerial&quot;, deviceId);\r\n\r\nWebDriver driver = new ChromeDriver(options);\r\ndriver.get(&quot;https://www.amazon.com/&quot;);\r\ndriver.findElement(By.cssSelector(&quot;input.nav-input[value=&#39;Go&#39;]&quot;)).click();\r\n```\r\n\r\nThe ```deviceId``` variable needs to contain the uuid listed as a device from the adb server for the particular device under test, i.e.\r\n\r\n```\r\noptions.setExperimentalOption(&quot;androidDeviceSerial&quot;, 95s572sp0478);\r\n```\r\n\r\nAlso you will require the correct Chromedriver for your android device. Check the version of Chrome browser installed on the device and download the correct driver from here for your Windows machine [Chromedriver Downloads][1]. Then place into your desired directory and add the directory path into the code.\r\n\r\n\r\n  [1]: https://chromedriver.chromium.org/downloads","title":"Using selenium from within my app without any external server","body":"<p>Based on your question and your response comment to the answer provided by @undetectedSelenium, the following assumptions apply:</p>\n<ol>\n<li>You are testing a browser within an android phone that is connected to a Windows machine via an adb server running on the Windows machine</li>\n<li>The browser under test is Chrome</li>\n</ol>\n<p>Install selenium as part of your project:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Sample code block based on your psuedo code and answer provided by @undetectedSelenium</p>\n<pre><code>System.setProperty(“webdriver.chrome.driver”, “C:\\\\path\\\\to\\\\chromedriver.exe”);\nChromeOptions options = new ChromeOptions();\noptions.setExperimentalOption(“androidPackage”, “com.android.chrome”);\n\n// By default if the following option is not applied, selenium will take the 1st available\n// node provided by the adb server if multiple android devices are attached\noptions.setExperimentalOption(&quot;androidDeviceSerial&quot;, deviceId);\n\nWebDriver driver = new ChromeDriver(options);\ndriver.get(&quot;https://www.amazon.com/&quot;);\ndriver.findElement(By.cssSelector(&quot;input.nav-input[value='Go']&quot;)).click();\n</code></pre>\n<p>The <code>deviceId</code> variable needs to contain the uuid listed as a device from the adb server for the particular device under test, i.e.</p>\n<pre><code>options.setExperimentalOption(&quot;androidDeviceSerial&quot;, 95s572sp0478);\n</code></pre>\n<p>Also you will require the correct Chromedriver for your android device. Check the version of Chrome browser installed on the device and download the correct driver from here for your Windows machine <a href=\"https://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">Chromedriver Downloads</a>. Then place into your desired directory and add the directory path into the code.</p>\n"}],"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1171,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1645425546,"creation_date":1644294716,"question_id":71028637,"body_markdown":"From within my app I want to hit a website and than perform user action.  Currently am using webview but I think webdriver will be easy to use and correct approach.\r\n\r\nCurrent code:\r\n```\r\nWebView browser = (WebView) view.findViewById(R.id.webview);\r\nbrowser.getSettings().setJavaScriptEnabled(true);\r\nbrowser.getSettings().setDomStorageEnabled(true);\r\nbrowser.getSettings().setUserAgentString(`&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.81 Safari/537.36&quot;);`\r\nbrowser.setWebViewClient(new MyBrowser());\r\nbrowser.loadUrl(&quot;https://myurl.com&quot;);\r\n```\r\n\r\nIssues with current code: Its hard to send key stores or use Xpath.\r\n\r\nWhat am looking for?\r\nHit the website using driver and than click buttons etc. Pseudo code as follows:\r\n  \r\n\r\n    chat=driver.find_element_by_xpath(&quot;/html/somepath&quot;)\r\n    chat.click()\r\n    time.sleep(2)      \r\n    search=driver.find_element_by_xpath(&quot;/html/body/div[1]/div/div/div[2]/div[1]/span/div/span/div/div[1]/div/label/input&quot;)\r\n    search.click()\r\n\r\n\r\nI understand that this is possible using selenium/appium. But what am confused is does selenium/appium also needs a server that runs on a separate machine? I want to run all of the code in my app without external server or any more apps. \r\n\r\nCan I just add lib which gives me access to apis like I showed above?","title":"Using selenium from within my app without any external server","body":"<p>From within my app I want to hit a website and than perform user action.  Currently am using webview but I think webdriver will be easy to use and correct approach.</p>\n<p>Current code:</p>\n<pre><code>WebView browser = (WebView) view.findViewById(R.id.webview);\nbrowser.getSettings().setJavaScriptEnabled(true);\nbrowser.getSettings().setDomStorageEnabled(true);\nbrowser.getSettings().setUserAgentString(`&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.81 Safari/537.36&quot;);`\nbrowser.setWebViewClient(new MyBrowser());\nbrowser.loadUrl(&quot;https://myurl.com&quot;);\n</code></pre>\n<p>Issues with current code: Its hard to send key stores or use Xpath.</p>\n<p>What am looking for?\nHit the website using driver and than click buttons etc. Pseudo code as follows:</p>\n<pre><code>chat=driver.find_element_by_xpath(&quot;/html/somepath&quot;)\nchat.click()\ntime.sleep(2)      \nsearch=driver.find_element_by_xpath(&quot;/html/body/div[1]/div/div/div[2]/div[1]/span/div/span/div/div[1]/div/label/input&quot;)\nsearch.click()\n</code></pre>\n<p>I understand that this is possible using selenium/appium. But what am confused is does selenium/appium also needs a server that runs on a separate machine? I want to run all of the code in my app without external server or any more apps.</p>\n<p>Can I just add lib which gives me access to apis like I showed above?</p>\n"},{"tags":["java","cmd","command-line","jar","diacritics"],"answers":[{"tags":[],"owner":{"account_id":18876185,"reputation":65,"user_id":13769660,"display_name":"takibu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645425041,"creation_date":1645397910,"answer_id":71199548,"question_id":71199185,"body_markdown":"Update; I solved it by running \r\n\r\n    java -Dfile.encoding=UTF-8 -jar jarfile\r\n\r\nKey here was `-Dfile.encoding=UTF-8`","title":"Unable to open File with Umlauts (chcp 65001/1252) with JAR - JAVA","body":"<p>Update; I solved it by running</p>\n<pre><code>java -Dfile.encoding=UTF-8 -jar jarfile\n</code></pre>\n<p>Key here was <code>-Dfile.encoding=UTF-8</code></p>\n"}],"owner":{"account_id":18876185,"reputation":65,"user_id":13769660,"display_name":"takibu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71199548,"answer_count":1,"score":0,"last_activity_date":1645425041,"creation_date":1645394376,"question_id":71199185,"body_markdown":"I have a File that contains Umlauts (erkl&#228;rung1.txt) that I need to process using my JAR File.\r\n\r\nI implemented my Code in IntelliJ, and when I run it from there, it can find and open the file without any problems.\r\n\r\nThe problem happens when I run it from the command line on Windows since I need to run it as a JAR File. I have used the ```chcp 1252``` command, it did not recognize the Umlauts properly. Then, I used the ```chcp 65001``` command, this one did recognize the Umlauts but unfortunately I am still unable to find the File, not sure why - since the console prints out the path correctly.\r\n\r\nHere is my code:\r\n```\r\nString pathOne = &quot;C:\\\\Users\\\\takibu\\\\Desktop\\\\Erkl&#228;rungen\\\\erkl&#228;rung1.txt&quot;;\r\nFile pathFile = new File(pathOne);\r\nif(pathFile.exists()) {\r\n    System.out.println(&quot;It exists!&quot;);\r\n} else {\r\n    System.out.println(&quot;Path does not exist: &quot; + pathOne);\r\n} \r\n```\r\n\r\nAnd here is the output with the ```chcp 65001```:\r\n[![enter image description here][1]][1]\r\n\r\nI am wondering, and have been searching for a while now, unfortunately without any luck, is there a way to find&amp;open a File containing Umlauts from JAR &amp; the console? The part that confuses me - as You can see, the path is printed out correctly in the console with the ```chcp 65001``` - but still, it is not found, although it is there?\r\n\r\nAny help would be greatly appreciated!!\r\n\r\nPS: With command ```chcp 1252```, I get this output: ```Erkl&#195;&#164;rungen\\erkl&#195;&#164;rung1.txt```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u23Xu.png","title":"Unable to open File with Umlauts (chcp 65001/1252) with JAR - JAVA","body":"<p>I have a File that contains Umlauts (erklärung1.txt) that I need to process using my JAR File.</p>\n<p>I implemented my Code in IntelliJ, and when I run it from there, it can find and open the file without any problems.</p>\n<p>The problem happens when I run it from the command line on Windows since I need to run it as a JAR File. I have used the <code>chcp 1252</code> command, it did not recognize the Umlauts properly. Then, I used the <code>chcp 65001</code> command, this one did recognize the Umlauts but unfortunately I am still unable to find the File, not sure why - since the console prints out the path correctly.</p>\n<p>Here is my code:</p>\n<pre><code>String pathOne = &quot;C:\\\\Users\\\\takibu\\\\Desktop\\\\Erklärungen\\\\erklärung1.txt&quot;;\nFile pathFile = new File(pathOne);\nif(pathFile.exists()) {\n    System.out.println(&quot;It exists!&quot;);\n} else {\n    System.out.println(&quot;Path does not exist: &quot; + pathOne);\n} \n</code></pre>\n<p>And here is the output with the <code>chcp 65001</code>:\n<a href=\"https://i.stack.imgur.com/u23Xu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u23Xu.png\" alt=\"enter image description here\" /></a></p>\n<p>I am wondering, and have been searching for a while now, unfortunately without any luck, is there a way to find&amp;open a File containing Umlauts from JAR &amp; the console? The part that confuses me - as You can see, the path is printed out correctly in the console with the <code>chcp 65001</code> - but still, it is not found, although it is there?</p>\n<p>Any help would be greatly appreciated!!</p>\n<p>PS: With command <code>chcp 1252</code>, I get this output: <code>ErklÃ¤rungen\\erklÃ¤rung1.txt</code></p>\n"},{"tags":["java","jar","java-8"],"comments":[{"owner":{"account_id":4321138,"reputation":2844,"user_id":3529323,"accept_rate":50,"display_name":"bcsb1001"},"score":1,"creation_date":1412609283,"post_id":26219534,"comment_id":41120664,"body_markdown":"So... both Java 7 and Java 8? Which one are you actually using?","body":"So... both Java 7 and Java 8? Which one are you actually using?"},{"owner":{"account_id":334436,"reputation":2189,"user_id":660887,"accept_rate":62,"display_name":"jamp"},"score":0,"creation_date":1412609733,"post_id":26219534,"comment_id":41120949,"body_markdown":"@bcsb1001 forgot to remove the tag, fixed","body":"@bcsb1001 forgot to remove the tag, fixed"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1412707626,"post_id":26219534,"comment_id":41164855,"body_markdown":"Trying to open the zip file system directly using `new ZipFileSystemProvider().newFileSystem(`&#160;*path&#160;inside&#160;another&#160;zip*&#160;`, emptyMap())` you will get an `UnsupportedOperationException`.","body":"Trying to open the zip file system directly using <code>new ZipFileSystemProvider().newFileSystem(</code> <i>path inside another zip</i> <code>, emptyMap())</code> you will get an <code>UnsupportedOperationException</code>."}],"answers":[{"tags":[],"owner":{"account_id":2812323,"reputation":2352,"user_id":2418306,"accept_rate":80,"display_name":"user2418306"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1451664713,"creation_date":1412611911,"answer_id":26220333,"question_id":26219534,"body_markdown":"You [have to](https://community.oracle.com/thread/2265518?start=0&amp;tstart=0) extract nested jar first.\n\nEdit:\nAnswers on oracle forum don&#39;t give clear reason why you have to extract jar first.\n\nHere is quote [from][1] Rajendra Gutupalli&#39;s blog (author of com.sun.nio.zipfs):\n\n&gt; Let&#39;s assume that we have a Jar file nested inside a Zip. The following program prints the contents of the MANIFEST.MF file which is inside nested jarCompress1.jar file.\n&gt;\n&gt;     import java.io.BufferedInputStream; \n&gt;     import java.nio.file.*; \n&gt;     import java.util.HashMap; \n&gt;     import java.util.Map;\n&gt; \n&gt;     public class ReadEntry {\n&gt; \n&gt;         public static void main(String... args) throws Exception {\n&gt;             Path zipfile = Path.get(&quot;c:/zips/zip1.zip&quot;);\n&gt;             Map&lt;String, String&gt; env = new HashMap();\n&gt;             FileSystem manager = FileSystems.newFileSystem(zipfile, env,null);\n&gt;             Path path = manager.getPath(&quot;/jarCompress1.jar/META-INF/MANIFEST.MF&quot;);\n&gt;             System.out.println(&quot;Reading input stream&quot;);\n&gt;             BufferedInputStream bis = new BufferedInputStream(path.newInputStream());\n&gt;             int ch = -1;\n&gt;             while ((ch = bis.read()) != -1) {\n&gt;                 System.out.print((char) ch);\n&gt;             }\n&gt;         } \n&gt;     }\n\nAnd another [one][2]:\n&gt;Important point to note here is, zip file path can expand to nested zips or jars in the file&#39;s path name. For example, /home/userA/zipfile.zip/DirA/dirB/jarFile.jar/META-INF/MANIFEST.MF accesses the jar file “jarFile.jar” inside Zip file “/home/userA/zipfile.zip”. \n\nI couldn&#39;t reproduce claimed behavior. Next code:\n\n    try (FileSystem fs1 = FileSystems.newFileSystem(Paths.get(&quot;f1.zip&quot;), null)) {\n        Path path = fs1.getPath(&quot;/f2.zip/test.txt&quot;);\n        Files.lines(path).forEach(System.out::println);\n    }\n\nGives exception\n\n    Exception in thread &quot;main&quot; java.nio.file.NoSuchFileException: f2.zip/test.txt\n      at com.sun.nio.zipfs.ZipFileSystem.newInputStream(ZipFileSystem.java:544)\n      at com.sun.nio.zipfs.ZipPath.newInputStream(ZipPath.java:645)\n      at com.sun.nio.zipfs.ZipFileSystemProvider.newInputStream(ZipFileSystemProvider.java:278)\n      at java.nio.file.Files.newInputStream(Files.java:152)\n      at java.nio.file.Files.newBufferedReader(Files.java:2781)\n      at java.nio.file.Files.lines(Files.java:3741)\n      at java.nio.file.Files.lines(Files.java:3782)\n\nMay be someone would confirm that it&#39;s a bug or point to the error in my code.\n\nMeanwhile returning to your original question. You cannot create FileSystem inside zip(jar) because there is no `FileSystemProvider` (look source code of `newFileSystem` method) which can create `FileSystem` instance from ZipPath. Hence you have to options extract the from outer zip or write your own `FileSystemProvider` implementation.\n\n  [1]: https://blogs.oracle.com/rajendrag/entry/zip_file_system_provider\n  [2]: https://blogs.oracle.com/rajendrag/entry/zip_file_system_provider_implementation","title":"get FileSystems of a jar inside another jar","body":"<p>You <a href=\"https://community.oracle.com/thread/2265518?start=0&amp;tstart=0\" rel=\"nofollow noreferrer\">have to</a> extract nested jar first.</p>\n<p>Edit:\nAnswers on oracle forum don't give clear reason why you have to extract jar first.</p>\n<p>Here is quote <a href=\"https://blogs.oracle.com/rajendrag/entry/zip_file_system_provider\" rel=\"nofollow noreferrer\">from</a> Rajendra Gutupalli's blog (author of com.sun.nio.zipfs):</p>\n<blockquote>\n<p>Let's assume that we have a Jar file nested inside a Zip. The following program prints the contents of the MANIFEST.MF file which is inside nested jarCompress1.jar file.</p>\n<pre><code>import java.io.BufferedInputStream; \nimport java.nio.file.*; \nimport java.util.HashMap; \nimport java.util.Map;\n\npublic class ReadEntry {\n\n    public static void main(String... args) throws Exception {\n        Path zipfile = Path.get(&quot;c:/zips/zip1.zip&quot;);\n        Map&lt;String, String&gt; env = new HashMap();\n        FileSystem manager = FileSystems.newFileSystem(zipfile, env,null);\n        Path path = manager.getPath(&quot;/jarCompress1.jar/META-INF/MANIFEST.MF&quot;);\n        System.out.println(&quot;Reading input stream&quot;);\n        BufferedInputStream bis = new BufferedInputStream(path.newInputStream());\n        int ch = -1;\n        while ((ch = bis.read()) != -1) {\n            System.out.print((char) ch);\n        }\n    } \n}\n</code></pre>\n</blockquote>\n<p>And another <a href=\"https://blogs.oracle.com/rajendrag/entry/zip_file_system_provider_implementation\" rel=\"nofollow noreferrer\">one</a>:</p>\n<blockquote>\n<p>Important point to note here is, zip file path can expand to nested zips or jars in the file's path name. For example, /home/userA/zipfile.zip/DirA/dirB/jarFile.jar/META-INF/MANIFEST.MF accesses the jar file “jarFile.jar” inside Zip file “/home/userA/zipfile.zip”.</p>\n</blockquote>\n<p>I couldn't reproduce claimed behavior. Next code:</p>\n<pre><code>try (FileSystem fs1 = FileSystems.newFileSystem(Paths.get(&quot;f1.zip&quot;), null)) {\n    Path path = fs1.getPath(&quot;/f2.zip/test.txt&quot;);\n    Files.lines(path).forEach(System.out::println);\n}\n</code></pre>\n<p>Gives exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.nio.file.NoSuchFileException: f2.zip/test.txt\n  at com.sun.nio.zipfs.ZipFileSystem.newInputStream(ZipFileSystem.java:544)\n  at com.sun.nio.zipfs.ZipPath.newInputStream(ZipPath.java:645)\n  at com.sun.nio.zipfs.ZipFileSystemProvider.newInputStream(ZipFileSystemProvider.java:278)\n  at java.nio.file.Files.newInputStream(Files.java:152)\n  at java.nio.file.Files.newBufferedReader(Files.java:2781)\n  at java.nio.file.Files.lines(Files.java:3741)\n  at java.nio.file.Files.lines(Files.java:3782)\n</code></pre>\n<p>May be someone would confirm that it's a bug or point to the error in my code.</p>\n<p>Meanwhile returning to your original question. You cannot create FileSystem inside zip(jar) because there is no <code>FileSystemProvider</code> (look source code of <code>newFileSystem</code> method) which can create <code>FileSystem</code> instance from ZipPath. Hence you have to options extract the from outer zip or write your own <code>FileSystemProvider</code> implementation.</p>\n"},{"tags":[],"owner":{"account_id":1186296,"reputation":51,"user_id":1160193,"display_name":"Dan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626534258,"creation_date":1626532782,"answer_id":68421517,"question_id":26219534,"body_markdown":"Given a jarfile URI like: jar:file:/console/console.jar!/BOOT-INF/lib/generator.jar!/generator/static/\r\n\r\nI wrote the following method to extract the jars recursively and return all of the file systems:\r\n\r\n    private FileSystem getNestedFileSystems(URI generatorAssets) throws IOException {\r\n        String[] jarFiles = generatorAssets.toString().split(&quot;!&quot;);\r\n        URI rootJarUri = URI.create(jarFiles[0]);\r\n        FileSystem currentFs;\r\n        try {\r\n            currentFs = FileSystems.getFileSystem(rootJarUri);\r\n        } catch (FileSystemNotFoundException fsnf) {\r\n            currentFs = FileSystems.newFileSystem(rootJarUri, Map.of(&quot;create&quot;, &quot;true&quot;));\r\n        }\r\n        Path currentJar = null;\r\n        if (jarFiles.length &gt; 2) {\r\n            for (int i = 1; i &lt; (jarFiles.length - 1); i++) {\r\n                Path nestedJar = currentFs.getPath(jarFiles[i]);\r\n                Path extractedJar = Files.createTempFile(&quot;jar-&quot; + i, &quot;.jar&quot;);\r\n                Files.copy(nestedJar, extractedJar, StandardCopyOption.REPLACE_EXISTING);\r\n                currentFs.close();\r\n                if (currentJar != null) {\r\n                    Files.delete(currentJar);\r\n                }\r\n                currentJar = extractedJar;\r\n                currentFs = FileSystems.newFileSystem(URI.create(&quot;jar:file:&quot; + extractedJar),\r\n                        Map.of(&quot;create&quot;, &quot;true&quot;));\r\n            }\r\n        }\r\n        return currentFs;\r\n    }\r\n\r\nReturning a list of filesystems so you can close them all after use and not leak FD&#39;s. The last FileSystem will be able to get your desired directory/object/etc","title":"get FileSystems of a jar inside another jar","body":"<p>Given a jarfile URI like: jar:file:/console/console.jar!/BOOT-INF/lib/generator.jar!/generator/static/</p>\n<p>I wrote the following method to extract the jars recursively and return all of the file systems:</p>\n<pre><code>private FileSystem getNestedFileSystems(URI generatorAssets) throws IOException {\n    String[] jarFiles = generatorAssets.toString().split(&quot;!&quot;);\n    URI rootJarUri = URI.create(jarFiles[0]);\n    FileSystem currentFs;\n    try {\n        currentFs = FileSystems.getFileSystem(rootJarUri);\n    } catch (FileSystemNotFoundException fsnf) {\n        currentFs = FileSystems.newFileSystem(rootJarUri, Map.of(&quot;create&quot;, &quot;true&quot;));\n    }\n    Path currentJar = null;\n    if (jarFiles.length &gt; 2) {\n        for (int i = 1; i &lt; (jarFiles.length - 1); i++) {\n            Path nestedJar = currentFs.getPath(jarFiles[i]);\n            Path extractedJar = Files.createTempFile(&quot;jar-&quot; + i, &quot;.jar&quot;);\n            Files.copy(nestedJar, extractedJar, StandardCopyOption.REPLACE_EXISTING);\n            currentFs.close();\n            if (currentJar != null) {\n                Files.delete(currentJar);\n            }\n            currentJar = extractedJar;\n            currentFs = FileSystems.newFileSystem(URI.create(&quot;jar:file:&quot; + extractedJar),\n                    Map.of(&quot;create&quot;, &quot;true&quot;));\n        }\n    }\n    return currentFs;\n}\n</code></pre>\n<p>Returning a list of filesystems so you can close them all after use and not leak FD's. The last FileSystem will be able to get your desired directory/object/etc</p>\n"},{"tags":[],"owner":{"account_id":234929,"reputation":909,"user_id":501399,"accept_rate":83,"display_name":"vadipp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645424281,"creation_date":1645424281,"answer_id":71201938,"question_id":26219534,"body_markdown":"The problem is solved at least in Java 14 (maybe earlier). OP&#39;s code works there with one change: you need to add an explicit cast to `ClassLoader` for the second argument of `newFileSystem`.\r\n\r\nFor a more complete example, this code prints the contents of `README.md` which is inside the `internal.zip` archive which itself is inside the `archive.zip` archive:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.nio.file.*;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) throws IOException {\r\n        Path zipfile = Paths.get(&quot;archive.zip&quot;);\r\n        FileSystem manager = FileSystems.newFileSystem(zipfile, (ClassLoader) null);\r\n        Path internal = manager.getPath(&quot;internal.zip&quot;);\r\n        FileSystem internalManager = FileSystems.newFileSystem(internal, (ClassLoader) null);\r\n        Path internalFile = internalManager.getPath(&quot;README.md&quot;);\r\n        Files.lines(internalFile).forEach(System.out::println);\r\n    }\r\n}\r\n```\r\n\r\nNote that file names inside archives are case-sensitive.","title":"get FileSystems of a jar inside another jar","body":"<p>The problem is solved at least in Java 14 (maybe earlier). OP's code works there with one change: you need to add an explicit cast to <code>ClassLoader</code> for the second argument of <code>newFileSystem</code>.</p>\n<p>For a more complete example, this code prints the contents of <code>README.md</code> which is inside the <code>internal.zip</code> archive which itself is inside the <code>archive.zip</code> archive:</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.*;\n\npublic class Test {\n    public static void main(String[] args) throws IOException {\n        Path zipfile = Paths.get(&quot;archive.zip&quot;);\n        FileSystem manager = FileSystems.newFileSystem(zipfile, (ClassLoader) null);\n        Path internal = manager.getPath(&quot;internal.zip&quot;);\n        FileSystem internalManager = FileSystems.newFileSystem(internal, (ClassLoader) null);\n        Path internalFile = internalManager.getPath(&quot;README.md&quot;);\n        Files.lines(internalFile).forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>Note that file names inside archives are case-sensitive.</p>\n"}],"owner":{"account_id":334436,"reputation":2189,"user_id":660887,"accept_rate":62,"display_name":"jamp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5069,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":26220333,"answer_count":3,"score":5,"last_activity_date":1645424281,"creation_date":1412609166,"question_id":26219534,"body_markdown":"This is what I&#39;m trying to do:\r\n\r\n    FileSystem fs1 = FileSystems.newFileSystem(Paths.get(&quot;f1.jar&quot;), null);\r\n    FileSystem fs2 = FileSystems.newFileSystem(fs1.getPath(&quot;/f2.jar&quot;), null);\r\n\r\nbut I get a `java.nio.file.ProviderNotFoundException` thrown by `FileSystems.newFileSystem()` on the second line.\r\n\r\nWhat am I doing wrong?\r\n\r\nThanks!","title":"get FileSystems of a jar inside another jar","body":"<p>This is what I'm trying to do:</p>\n\n<pre><code>FileSystem fs1 = FileSystems.newFileSystem(Paths.get(\"f1.jar\"), null);\nFileSystem fs2 = FileSystems.newFileSystem(fs1.getPath(\"/f2.jar\"), null);\n</code></pre>\n\n<p>but I get a <code>java.nio.file.ProviderNotFoundException</code> thrown by <code>FileSystems.newFileSystem()</code> on the second line.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","sql","database","testing","h2"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1645177857,"post_id":71171384,"comment_id":125807254,"body_markdown":"This?: [On duplicate key update feature in H2](https://stackoverflow.com/q/29809219/3890632)","body":"This?: <a href=\"https://stackoverflow.com/q/29809219/3890632\">On duplicate key update feature in H2</a>"},{"owner":{"account_id":13971581,"reputation":139,"user_id":10408834,"display_name":"Arun Singhal"},"score":0,"creation_date":1645178088,"post_id":71171384,"comment_id":125807352,"body_markdown":"Yeah. Tried the solutions mentioned there but nothing worked. I am already on the latest version of h2 and also have setup the mode in URL correctly","body":"Yeah. Tried the solutions mentioned there but nothing worked. I am already on the latest version of h2 and also have setup the mode in URL correctly"},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":0,"creation_date":1645182275,"post_id":71171384,"comment_id":125808810,"body_markdown":"Your test case (with appended comma after `INT` missed in definition of your table) doesn&#39;t throw any exceptions in MySQL compatibility mode of H2 2.1.210.","body":"Your test case (with appended comma after <code>INT</code> missed in definition of your table) doesn&#39;t throw any exceptions in MySQL compatibility mode of H2 2.1.210."}],"owner":{"account_id":13971581,"reputation":139,"user_id":10408834,"display_name":"Arun Singhal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":830,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645423798,"creation_date":1645177744,"question_id":71171384,"body_markdown":"Table Creation Query\r\n```\r\nCREATE TABLE A (\r\n      COLUMN1 VARCHAR(255),\r\n      COLUMN2 INT,\r\n      PRIMARY KEY(COLUMN1)\r\n);\r\n```\r\n\r\nInsert Query\r\n```\r\nINSERT INTO A (COLUMN1, COLUMN2)  VALUES (&#39;www.google.com&#39;, 10) ON DUPLICATE KEY UPDATE COLUMN2=10;\r\n\r\n```\r\n\r\n**ERROR**: \r\norg.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement at line 1 of resource class path resource [DATA/testdata.sql]: INSERT INTO A (COLUMN1, COLUMN2) VALUES (&#39;www.google.com&#39;, 10) ON DUPLICATE KEY UPDATE COLUMN2=10; nested exception is org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;INSERT INTO A (COLUMN1, COLUMN2) VALUES (&#39;www.google.com&#39;, 10) [*]ON DUPLICATE KEY UPDATE COLUMN2=10&quot;; SQL statement:\r\nINSERT INTO A (COLUMN1, COLUMN2) VALUES (&#39;www.google.com&#39;, 10) ON DUPLICATE KEY UPDATE COLUMN2=10 [42000-210]\r\n\r\n**gradle**: testImplementation group: &#39;com.h2database&#39;, name: &#39;h2&#39;, version: &#39;2.1.210&#39;\r\n\r\n**dbUrl**: jdbc:h2:mem:test;MODE=MySQL;DATABASE_TO_LOWER=TRUE;CASE_INSENSITIVE_IDENTIFIERS=TRUE\r\n\r\n","title":"On Duplicate Key Failure in H2","body":"<p>Table Creation Query</p>\n<pre><code>CREATE TABLE A (\n      COLUMN1 VARCHAR(255),\n      COLUMN2 INT,\n      PRIMARY KEY(COLUMN1)\n);\n</code></pre>\n<p>Insert Query</p>\n<pre><code>INSERT INTO A (COLUMN1, COLUMN2)  VALUES ('www.google.com', 10) ON DUPLICATE KEY UPDATE COLUMN2=10;\n\n</code></pre>\n<p><strong>ERROR</strong>:\norg.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement at line 1 of resource class path resource [DATA/testdata.sql]: INSERT INTO A (COLUMN1, COLUMN2) VALUES ('www.google.com', 10) ON DUPLICATE KEY UPDATE COLUMN2=10; nested exception is org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;INSERT INTO A (COLUMN1, COLUMN2) VALUES ('www.google.com', 10) [*]ON DUPLICATE KEY UPDATE COLUMN2=10&quot;; SQL statement:\nINSERT INTO A (COLUMN1, COLUMN2) VALUES ('www.google.com', 10) ON DUPLICATE KEY UPDATE COLUMN2=10 [42000-210]</p>\n<p><strong>gradle</strong>: testImplementation group: 'com.h2database', name: 'h2', version: '2.1.210'</p>\n<p><strong>dbUrl</strong>: jdbc:h2:mem:test;MODE=MySQL;DATABASE_TO_LOWER=TRUE;CASE_INSENSITIVE_IDENTIFIERS=TRUE</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","dto"],"answers":[{"tags":[],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645385430,"creation_date":1645385026,"answer_id":71197941,"question_id":71195302,"body_markdown":"The error is quite straightforward, your class `BaseEmployee` lacks the appropriate constructor needed to execute `getBaseEmployeeById()`. Your class is annotated with `@NoArgsConstructor` and `@AllArgsConstructor` but those are `lombok` annotations that may not be recognized by Spring. Your method `getBaseEmployeeById()` needs an explicitly defined constructor with the following signature:\r\n\r\n    public BaseEmployee(int id, Date birthDate, String firstName, String lastName, char gender, Date hireDate)\r\n\r\nSuch a constructor is currently missing. \r\n\r\nPlease add a constructor with the described signature to your class and try again.","title":"JPA Query - no appropriate constructor in class error","body":"<p>The error is quite straightforward, your class <code>BaseEmployee</code> lacks the appropriate constructor needed to execute <code>getBaseEmployeeById()</code>. Your class is annotated with <code>@NoArgsConstructor</code> and <code>@AllArgsConstructor</code> but those are <code>lombok</code> annotations that may not be recognized by Spring. Your method <code>getBaseEmployeeById()</code> needs an explicitly defined constructor with the following signature:</p>\n<pre><code>public BaseEmployee(int id, Date birthDate, String firstName, String lastName, char gender, Date hireDate)\n</code></pre>\n<p>Such a constructor is currently missing.</p>\n<p>Please add a constructor with the described signature to your class and try again.</p>\n"},{"tags":[],"owner":{"account_id":17947811,"reputation":76,"user_id":13041661,"display_name":"pete_bc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645423756,"creation_date":1645397732,"answer_id":71199531,"question_id":71195302,"body_markdown":"The all-args constructor that Lombok generates calls for two arguments of type `java.util.Date`.\r\n\r\nWhen hibernate executes your jpql, it uses `org.hibernate.type.TimestampType` objects in the constructor and not `java.util.Date` objects. Of course no such constuctor was generated, hence the error.\r\n\r\nHere is a stack overflow discussion of how to deal with this situation: https://stackoverflow.com/questions/9533935/how-to-force-hibernate-to-return-dates-as-java-util-date-instead-of-timestamp","title":"JPA Query - no appropriate constructor in class error","body":"<p>The all-args constructor that Lombok generates calls for two arguments of type <code>java.util.Date</code>.</p>\n<p>When hibernate executes your jpql, it uses <code>org.hibernate.type.TimestampType</code> objects in the constructor and not <code>java.util.Date</code> objects. Of course no such constuctor was generated, hence the error.</p>\n<p>Here is a stack overflow discussion of how to deal with this situation: <a href=\"https://stackoverflow.com/questions/9533935/how-to-force-hibernate-to-return-dates-as-java-util-date-instead-of-timestamp\">How to force Hibernate to return dates as java.util.Date instead of Timestamp?</a></p>\n"}],"owner":{"account_id":18843894,"reputation":15,"user_id":13744696,"display_name":"Serhat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1736,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71199531,"answer_count":2,"score":0,"last_activity_date":1645423756,"creation_date":1645366619,"question_id":71195302,"body_markdown":"I have an Employee entity class that has many columns. I want to get some columns from this class, therefore I have used dtos. I created a new BaseEmployee class and writed query in EmployeeRepository. But I get this error: &quot;no appropriate constructor in class error&quot; when I try to run app.\r\n\r\n    @Entity\r\n    @Table(name = &quot;employees&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @JsonAutoDetect(fieldVisibility = Visibility.ANY)\r\n    public class Employee {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;emp_no&quot;)\r\n        private  int id;\r\n        @Column(name = &quot;birth_date&quot;)   \r\n        private Date birthDate;\r\n        @Column(name = &quot;first_name&quot;)\r\n        private String firstName;\r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lastName;\r\n        @Column(name = &quot;gender&quot;)\r\n        private char gender;\r\n        @Column(name = &quot;hire_date&quot;)  \r\n        private Date hireDate;\r\n    \r\n        @OneToMany(mappedBy = &quot;employees&quot;)\r\n        private List&lt;Title&gt; titles; \r\n    \r\n        @OneToMany(mappedBy = &quot;employees&quot;)\r\n        private List&lt;Salary&gt; salary;\r\n    \r\n        @OneToMany(mappedBy = &quot;employee&quot;)\r\n        private List&lt;DeptEmp&gt; departmentList;\r\n    \r\n       @OneToMany(mappedBy = &quot;employee&quot;)\r\n       private List&lt;DeptManager&gt; managerDepartment;\r\n    \r\n    }\r\n\r\n\r\nMy dto class:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class BaseEmployee {\r\n    \r\n        private  int id;\r\n        private Date birthDate;\r\n        private String firstName;\r\n        private String lastName;\r\n        private char gender;\r\n        private Date hireDate;\r\n    \r\n    }\r\n\r\nJpa Repository:\r\n\r\n    public interface EmployeeRepository extends JpaRepository&lt;Employee,Integer&gt; {\r\n        \r\n        List&lt;Employee&gt; getByFirstNameContains(String firstName);\r\n        List&lt;Employee&gt; getByFirstNameStartsWith(String firstName);\r\n    \r\n    \r\n        @Query(&quot;Select new dev.serhat.employeeapi.models.dtos.BaseEmployee&quot;\r\n        + &quot;(e.id, e.birthDate, e.firstName, e.lastName, e.gender, e.hireDate) From Employee e WHERE e.id = :id&quot;)\r\n        Optional&lt;BaseEmployee&gt; getBaseEmployeeById(int id);\r\n        \r\n        \r\n    }\r\n\r\n\r\nErrors:\r\n\r\n    HH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\r\n    2022-02-20 16:33:42.533  INFO 24371 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2022-02-20 16:33:42.559  INFO 24371 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-02-20 16:33:43.431 ERROR 24371 --- [  restartedMain] o.h.hql.internal.ast.ErrorTracker        :  Unable to locate appropriate constructor on class [dev.serhat.employeeapi.models.dtos.BaseEmployee]. Expected arguments are: int, java.util.Date, java.lang.String, java.lang.String, char, java.util.Date\r\n    [cause=org.hibernate.PropertyNotFoundException: no appropriate constructor in class: dev.serhat.employeeapi.models.dtos.BaseEmployee]\r\n    2022-02-20 16:33:43.443 ERROR 24371 --- [  restartedMain] o.h.hql.internal.ast.ErrorTracker        :  Unable to locate appropriate constructor on class [dev.serhat.employeeapi.models.dtos.BaseEmployee]. Expected arguments are: int, java.util.Date, java.lang.String, java.lang.String, char, java.util.Date\r\n    [cause=org.hibernate.PropertyNotFoundException: no appropriate constructor in class: dev.serhat.employeeapi.models.dtos.BaseEmployee]\r\n    \r\n    org.hibernate.hql.internal.ast.DetailedSemanticException: Unable to locate appropriate constructor on class [dev.serhat.employeeapi.models.dtos.BaseEmployee]. Expected arguments are: int, java.util.Date, java.lang.String, java.lang.String, char, java.util.Date\r\n            at org.hibernate.hql.internal.ast.tree.ConstructorNode.resolveConstructor(ConstructorNode.java:182) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\r\n\r\n","title":"JPA Query - no appropriate constructor in class error","body":"<p>I have an Employee entity class that has many columns. I want to get some columns from this class, therefore I have used dtos. I created a new BaseEmployee class and writed query in EmployeeRepository. But I get this error: &quot;no appropriate constructor in class error&quot; when I try to run app.</p>\n<pre><code>@Entity\n@Table(name = &quot;employees&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonAutoDetect(fieldVisibility = Visibility.ANY)\npublic class Employee {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;emp_no&quot;)\n    private  int id;\n    @Column(name = &quot;birth_date&quot;)   \n    private Date birthDate;\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n    @Column(name = &quot;gender&quot;)\n    private char gender;\n    @Column(name = &quot;hire_date&quot;)  \n    private Date hireDate;\n\n    @OneToMany(mappedBy = &quot;employees&quot;)\n    private List&lt;Title&gt; titles; \n\n    @OneToMany(mappedBy = &quot;employees&quot;)\n    private List&lt;Salary&gt; salary;\n\n    @OneToMany(mappedBy = &quot;employee&quot;)\n    private List&lt;DeptEmp&gt; departmentList;\n\n   @OneToMany(mappedBy = &quot;employee&quot;)\n   private List&lt;DeptManager&gt; managerDepartment;\n\n}\n</code></pre>\n<p>My dto class:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class BaseEmployee {\n\n    private  int id;\n    private Date birthDate;\n    private String firstName;\n    private String lastName;\n    private char gender;\n    private Date hireDate;\n\n}\n</code></pre>\n<p>Jpa Repository:</p>\n<pre><code>public interface EmployeeRepository extends JpaRepository&lt;Employee,Integer&gt; {\n    \n    List&lt;Employee&gt; getByFirstNameContains(String firstName);\n    List&lt;Employee&gt; getByFirstNameStartsWith(String firstName);\n\n\n    @Query(&quot;Select new dev.serhat.employeeapi.models.dtos.BaseEmployee&quot;\n    + &quot;(e.id, e.birthDate, e.firstName, e.lastName, e.gender, e.hireDate) From Employee e WHERE e.id = :id&quot;)\n    Optional&lt;BaseEmployee&gt; getBaseEmployeeById(int id);\n    \n    \n}\n</code></pre>\n<p>Errors:</p>\n<pre><code>HH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\n2022-02-20 16:33:42.533  INFO 24371 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-02-20 16:33:42.559  INFO 24371 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-02-20 16:33:43.431 ERROR 24371 --- [  restartedMain] o.h.hql.internal.ast.ErrorTracker        :  Unable to locate appropriate constructor on class [dev.serhat.employeeapi.models.dtos.BaseEmployee]. Expected arguments are: int, java.util.Date, java.lang.String, java.lang.String, char, java.util.Date\n[cause=org.hibernate.PropertyNotFoundException: no appropriate constructor in class: dev.serhat.employeeapi.models.dtos.BaseEmployee]\n2022-02-20 16:33:43.443 ERROR 24371 --- [  restartedMain] o.h.hql.internal.ast.ErrorTracker        :  Unable to locate appropriate constructor on class [dev.serhat.employeeapi.models.dtos.BaseEmployee]. Expected arguments are: int, java.util.Date, java.lang.String, java.lang.String, char, java.util.Date\n[cause=org.hibernate.PropertyNotFoundException: no appropriate constructor in class: dev.serhat.employeeapi.models.dtos.BaseEmployee]\n\norg.hibernate.hql.internal.ast.DetailedSemanticException: Unable to locate appropriate constructor on class [dev.serhat.employeeapi.models.dtos.BaseEmployee]. Expected arguments are: int, java.util.Date, java.lang.String, java.lang.String, char, java.util.Date\n        at org.hibernate.hql.internal.ast.tree.ConstructorNode.resolveConstructor(ConstructorNode.java:182) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n</code></pre>\n"},{"tags":["java","excel","kotlin","inputstream"],"answers":[{"tags":[],"owner":{"account_id":8515474,"reputation":353,"user_id":6384058,"display_name":"Bing-hsu Gao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645423487,"creation_date":1645423487,"answer_id":71201847,"question_id":70800930,"body_markdown":"I think I solved the problem. \r\n\r\nThe trouble is here\r\n\r\n```kotlin\r\nclass ByteSequenceInputStreamFactory(\r\n    private val seq: Sequence&lt;Byte&gt;,\r\n) {\r\n    fun inputStreamProvider(): InputStream = object : InputStream() {\r\n        private val iter = seq.iterator()\r\n        override fun read(): Int {\r\n            return if (iter.hasNext()) iter.next().toInt() /* this is not OK */  else -1\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe invocation of method `Byte.intoInt()` doesn&#39;t have the intended result expected by the `InputStream`. \r\n\r\nAccording to Java Doc, method `InputStream.read()`\r\n\r\n&gt; Reads the next byte of data from the input stream. The value byte is returned as **an int in the range 0 to 255**. If no byte is available because the end of the stream has been reached, the value -1 is returned. This method blocks until input data is available, the end of the stream is detected, or an exception is thrown.\r\n\r\nThe tricky part is, the `Int` returned from `Byte.toInt()` is not an **int in the range 0 to 255**. \r\n\r\nIn kotlin, a `Byte`:\r\n\r\n&gt; Represents a 8-bit **signed integer**. On the JVM, non-nullable values of this type are represented as values of the primitive type byte.\r\n\r\nand the `Byte.toInt()` method:\r\n\r\n&gt; Converts this Byte value to Int.\r\nThe resulting Int value represents the same numerical value as this Byte.\r\n**The least significant 8 bits of the resulting Int value are the same as the bits of this Byte value, whereas the most significant 24 bits are filled with the sign bit of this value**.\r\n\r\nSimply invocation of `Byte.toInt()` will return the **signed** integer underlying this `Byte`. To have the **0-255** representation of it, I need to extract the lease 8 significant bits by doing this:\r\n\r\n```kotlin\r\nval the_0_255_int = someByte.toInt().and(0xff) // extract the last 8 bits\r\n```\r\n\r\nso the correct code for my problem looks like this:\r\n\r\n```kotlin\r\nclass ByteSequenceInputStreamFactory(\r\n    private val seq: Sequence&lt;Byte&gt;,\r\n) {\r\n    fun inputStreamProvider(): InputStream = object : InputStream() {\r\n        private val iter = seq.iterator()\r\n        override fun read(): Int {\r\n            return if (iter.hasNext()) iter.next().toInt().and(0xff)  else -1\r\n        }\r\n    }\r\n}\r\n```","title":"Why my implementation of `InputStream` not working with `StreamingReader` from `com.monitorjbl:xlsx-streamer:2.2.0`","body":"<p>I think I solved the problem.</p>\n<p>The trouble is here</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class ByteSequenceInputStreamFactory(\n    private val seq: Sequence&lt;Byte&gt;,\n) {\n    fun inputStreamProvider(): InputStream = object : InputStream() {\n        private val iter = seq.iterator()\n        override fun read(): Int {\n            return if (iter.hasNext()) iter.next().toInt() /* this is not OK */  else -1\n        }\n    }\n}\n</code></pre>\n<p>The invocation of method <code>Byte.intoInt()</code> doesn't have the intended result expected by the <code>InputStream</code>.</p>\n<p>According to Java Doc, method <code>InputStream.read()</code></p>\n<blockquote>\n<p>Reads the next byte of data from the input stream. The value byte is returned as <strong>an int in the range 0 to 255</strong>. If no byte is available because the end of the stream has been reached, the value -1 is returned. This method blocks until input data is available, the end of the stream is detected, or an exception is thrown.</p>\n</blockquote>\n<p>The tricky part is, the <code>Int</code> returned from <code>Byte.toInt()</code> is not an <strong>int in the range 0 to 255</strong>.</p>\n<p>In kotlin, a <code>Byte</code>:</p>\n<blockquote>\n<p>Represents a 8-bit <strong>signed integer</strong>. On the JVM, non-nullable values of this type are represented as values of the primitive type byte.</p>\n</blockquote>\n<p>and the <code>Byte.toInt()</code> method:</p>\n<blockquote>\n<p>Converts this Byte value to Int.\nThe resulting Int value represents the same numerical value as this Byte.\n<strong>The least significant 8 bits of the resulting Int value are the same as the bits of this Byte value, whereas the most significant 24 bits are filled with the sign bit of this value</strong>.</p>\n</blockquote>\n<p>Simply invocation of <code>Byte.toInt()</code> will return the <strong>signed</strong> integer underlying this <code>Byte</code>. To have the <strong>0-255</strong> representation of it, I need to extract the lease 8 significant bits by doing this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val the_0_255_int = someByte.toInt().and(0xff) // extract the last 8 bits\n</code></pre>\n<p>so the correct code for my problem looks like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class ByteSequenceInputStreamFactory(\n    private val seq: Sequence&lt;Byte&gt;,\n) {\n    fun inputStreamProvider(): InputStream = object : InputStream() {\n        private val iter = seq.iterator()\n        override fun read(): Int {\n            return if (iter.hasNext()) iter.next().toInt().and(0xff)  else -1\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8515474,"reputation":353,"user_id":6384058,"display_name":"Bing-hsu Gao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71201847,"answer_count":1,"score":1,"last_activity_date":1645423487,"creation_date":1642766372,"question_id":70800930,"body_markdown":"Due to the lack of activity of the library&#39;s GitHub site, I decide to drop this question here hoping for any support.\r\n\r\nThe problem I am working on is to read an Excel file in a streaming fashion. Specially, the Excel file is stored in a SQLite database, as blob, after being split into multiple rows using a certain block size. For example a 3MB file is split into three rows, each contains 1MB of raw data. Rows are property ordered, so if I pipe out the blob column of each row by order to the file system, I can get a copy of the Excel file.\r\n\r\nSince `StreamingReader` works with `InputStream`, I decide to implement an `InputStream` on top of those rows in the SQLite database, so that `StreamingReader` reads data directly from the db.\r\n\r\nI first construct a `Sequence&lt;Byte&gt;` on top of the query result, sequencing the bytes from all the blob columns:\r\n```kotlin\r\n    fun blocksByteSequence(id: String): Sequence&lt;Byte&gt; {\r\n        return sequence {\r\n            val conn = source.connection\r\n            val stmt = conn.createStatement()\r\n            val r = stmt.executeQuery(findFileQuery(id))\r\n            while (r.next()) yieldAll(r.getBytes(raw_data_column).asIterable())\r\n            stmt.close()\r\n            conn.close()\r\n        }\r\n    }\r\n```\r\n\r\nthen It is fairly straightforward to turn `Sequence&lt;Byte&gt;` into `InputStream`:\r\n\r\n```kotlin\r\nclass ByteSequenceInputStreamFactory(\r\n    private val seq: Sequence&lt;Byte&gt;,\r\n) {\r\n    fun inputStreamProvider(): InputStream = object : InputStream() {\r\n        private val iter = seq.iterator()\r\n        override fun read(): Int {\r\n            return if (iter.hasNext()) iter.next().toInt() else -1\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nerror arises when I am trying to construct a `StreamingReader` using such `InputStream`:\r\n\r\n```kotlin\r\nval byteSeq = blocksByteSequence(id)\r\nval ins = ByteSequenceInputStreamFactory(byteSeq).inputStreamProvider()\r\nval reader = StreamingReader.builder().open(ins) // error\r\n```\r\n\r\nError Message:\r\n```\r\nCould not open the specified zip entry source stream\r\norg.apache.poi.openxml4j.exceptions.InvalidOperationException: Could not open the specified zip entry source stream\r\n\tat app//org.apache.poi.openxml4j.opc.ZipPackage.openZipEntrySourceStream(ZipPackage.java:212)\r\n\tat app//org.apache.poi.openxml4j.opc.ZipPackage.openZipEntrySourceStream(ZipPackage.java:194)\r\n\t...\r\nCaused by: java.util.zip.ZipException: invalid distances set\r\n\tat org.apache.commons.compress.archivers.zip.ZipArchiveInputStream.readFromInflater(ZipArchiveInputStream.java:586)\r\n\tat org.apache.commons.compress.archivers.zip.ZipArchiveInputStream.readDeflated(ZipArchiveInputStream.java:551)\r\n   ...\r\nCaused by: java.util.zip.DataFormatException: invalid distances set\r\n\tat java.base/java.util.zip.Inflater.inflateBytesBytes(Native Method)\r\n\tat java.base/java.util.zip.Inflater.inflate(Inflater.java:378)\r\n   ...\r\n```\r\n\r\nHowever, if I dump all the bytes from SQLite into a Excel File at some path:\r\n\r\n```kotlin\r\nval byteSeq = manager.blocksByteSequence(id)\r\nval out = java.nio.file.Path.of(&quot;./private/test.xlsx&quot;)\r\nout.outputStream().use { o -&gt; byteSeq.forEach {  o.write(it.toInt()) } }\r\n```\r\n\r\nand use the `InputStream` produced by that file, the error is gone.\r\n\r\n```kotlin\r\nval reader = StreamingReader.builder().open(out.inputStream())\r\n```","title":"Why my implementation of `InputStream` not working with `StreamingReader` from `com.monitorjbl:xlsx-streamer:2.2.0`","body":"<p>Due to the lack of activity of the library's GitHub site, I decide to drop this question here hoping for any support.</p>\n<p>The problem I am working on is to read an Excel file in a streaming fashion. Specially, the Excel file is stored in a SQLite database, as blob, after being split into multiple rows using a certain block size. For example a 3MB file is split into three rows, each contains 1MB of raw data. Rows are property ordered, so if I pipe out the blob column of each row by order to the file system, I can get a copy of the Excel file.</p>\n<p>Since <code>StreamingReader</code> works with <code>InputStream</code>, I decide to implement an <code>InputStream</code> on top of those rows in the SQLite database, so that <code>StreamingReader</code> reads data directly from the db.</p>\n<p>I first construct a <code>Sequence&lt;Byte&gt;</code> on top of the query result, sequencing the bytes from all the blob columns:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    fun blocksByteSequence(id: String): Sequence&lt;Byte&gt; {\n        return sequence {\n            val conn = source.connection\n            val stmt = conn.createStatement()\n            val r = stmt.executeQuery(findFileQuery(id))\n            while (r.next()) yieldAll(r.getBytes(raw_data_column).asIterable())\n            stmt.close()\n            conn.close()\n        }\n    }\n</code></pre>\n<p>then It is fairly straightforward to turn <code>Sequence&lt;Byte&gt;</code> into <code>InputStream</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class ByteSequenceInputStreamFactory(\n    private val seq: Sequence&lt;Byte&gt;,\n) {\n    fun inputStreamProvider(): InputStream = object : InputStream() {\n        private val iter = seq.iterator()\n        override fun read(): Int {\n            return if (iter.hasNext()) iter.next().toInt() else -1\n        }\n    }\n}\n</code></pre>\n<p>error arises when I am trying to construct a <code>StreamingReader</code> using such <code>InputStream</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val byteSeq = blocksByteSequence(id)\nval ins = ByteSequenceInputStreamFactory(byteSeq).inputStreamProvider()\nval reader = StreamingReader.builder().open(ins) // error\n</code></pre>\n<p>Error Message:</p>\n<pre><code>Could not open the specified zip entry source stream\norg.apache.poi.openxml4j.exceptions.InvalidOperationException: Could not open the specified zip entry source stream\n    at app//org.apache.poi.openxml4j.opc.ZipPackage.openZipEntrySourceStream(ZipPackage.java:212)\n    at app//org.apache.poi.openxml4j.opc.ZipPackage.openZipEntrySourceStream(ZipPackage.java:194)\n    ...\nCaused by: java.util.zip.ZipException: invalid distances set\n    at org.apache.commons.compress.archivers.zip.ZipArchiveInputStream.readFromInflater(ZipArchiveInputStream.java:586)\n    at org.apache.commons.compress.archivers.zip.ZipArchiveInputStream.readDeflated(ZipArchiveInputStream.java:551)\n   ...\nCaused by: java.util.zip.DataFormatException: invalid distances set\n    at java.base/java.util.zip.Inflater.inflateBytesBytes(Native Method)\n    at java.base/java.util.zip.Inflater.inflate(Inflater.java:378)\n   ...\n</code></pre>\n<p>However, if I dump all the bytes from SQLite into a Excel File at some path:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val byteSeq = manager.blocksByteSequence(id)\nval out = java.nio.file.Path.of(&quot;./private/test.xlsx&quot;)\nout.outputStream().use { o -&gt; byteSeq.forEach {  o.write(it.toInt()) } }\n</code></pre>\n<p>and use the <code>InputStream</code> produced by that file, the error is gone.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val reader = StreamingReader.builder().open(out.inputStream())\n</code></pre>\n"},{"tags":["java","tomcat","keycloak"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1566305992,"post_id":57574109,"comment_id":101608771,"body_markdown":"Check if you have duplicate keycloak libraries in the classpath at runtime .","body":"Check if you have duplicate keycloak libraries in the classpath at runtime ."},{"owner":{"account_id":16540836,"reputation":41,"user_id":11951655,"display_name":"AbramD"},"score":0,"creation_date":1566306225,"post_id":57574109,"comment_id":101608895,"body_markdown":"I thought about that too.  The only reference to the Keycloak objects is through a reference to the Tomcat library.","body":"I thought about that too.  The only reference to the Keycloak objects is through a reference to the Tomcat library."},{"owner":{"account_id":5989141,"reputation":5020,"user_id":7725621,"accept_rate":77,"display_name":"Kohei TAMURA"},"score":0,"creation_date":1566356455,"post_id":57574109,"comment_id":101626395,"body_markdown":"[This page](https://stackoverflow.com/questions/43865259/java-lang-classcastexception-with-the-same-class-object) may help you.","body":"<a href=\"https://stackoverflow.com/questions/43865259/java-lang-classcastexception-with-the-same-class-object\">This page</a> may help you."}],"answers":[{"tags":[],"owner":{"account_id":16540836,"reputation":41,"user_id":11951655,"display_name":"AbramD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1566405736,"creation_date":1566405736,"answer_id":57596015,"question_id":57574109,"body_markdown":"I found the issue.  One of my libraries was causing a conflict.","title":"Keycloak with Tomcat: org.keycloak.KeycloakPrincipal cannot be cast to org.keycloak.KeycloakPrincipal","body":"<p>I found the issue.  One of my libraries was causing a conflict.</p>\n"},{"tags":[],"owner":{"account_id":15765982,"reputation":153,"user_id":11376336,"display_name":"user2101"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586190550,"creation_date":1586190550,"answer_id":61064473,"question_id":57574109,"body_markdown":"Remoing the keycloak adapters fromWEB-INF directory solves this issue. ","title":"Keycloak with Tomcat: org.keycloak.KeycloakPrincipal cannot be cast to org.keycloak.KeycloakPrincipal","body":"<p>Remoing the keycloak adapters fromWEB-INF directory solves this issue. </p>\n"},{"tags":[],"owner":{"account_id":5547180,"reputation":11,"user_id":4401475,"display_name":"JagadeeshaHP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645423190,"creation_date":1645423190,"answer_id":71201810,"question_id":57574109,"body_markdown":"I also got the same issue. \r\n\r\nsolution :\r\n\r\na) Project/maven keycloak jar and tomcat/lib keycloak jars should have same version\r\n\r\nb) Add scope as provided in pom.xml\r\n\t\r\n    &lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;keycloak-core&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;17.0.0&lt;/version&gt;\r\n    \t    &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\n","title":"Keycloak with Tomcat: org.keycloak.KeycloakPrincipal cannot be cast to org.keycloak.KeycloakPrincipal","body":"<p>I also got the same issue.</p>\n<p>solution :</p>\n<p>a) Project/maven keycloak jar and tomcat/lib keycloak jars should have same version</p>\n<p>b) Add scope as provided in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n        &lt;artifactId&gt;keycloak-core&lt;/artifactId&gt;\n        &lt;version&gt;17.0.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":16540836,"reputation":41,"user_id":11951655,"display_name":"AbramD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2457,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57596015,"answer_count":3,"score":2,"last_activity_date":1645423190,"creation_date":1566305431,"question_id":57574109,"body_markdown":"I am running Keycloak with the Tomcat adapter.  But, when I try to get the KeycloakPrincipal, it errors out with this;\r\n\r\njava.lang.ClassCastException: org.keycloak.KeycloakPrincipal cannot be cast to org.keycloak.KeycloakPrincipal\r\n\r\nMy code is very simple and my environment is setup exactly like the KeyCloak docs say it should be.\r\n\r\n```\r\n{\r\n\tHttpServletRequest request = (HttpServletRequest)getApp().getFromUserStorage(HttpServletRequest.class.getName());\r\n\tKeycloakPrincipal kcp = (KeycloakPrincipal) request.getUserPrincipal();\r\n}\r\n```\r\n\r\nAny ideas as to what is wrong here?   The only solutions I&#39;ve found by googling have to do with Maven configuration, but Maven isn&#39;t being used here.","title":"Keycloak with Tomcat: org.keycloak.KeycloakPrincipal cannot be cast to org.keycloak.KeycloakPrincipal","body":"<p>I am running Keycloak with the Tomcat adapter.  But, when I try to get the KeycloakPrincipal, it errors out with this;</p>\n\n<p>java.lang.ClassCastException: org.keycloak.KeycloakPrincipal cannot be cast to org.keycloak.KeycloakPrincipal</p>\n\n<p>My code is very simple and my environment is setup exactly like the KeyCloak docs say it should be.</p>\n\n<pre><code>{\n    HttpServletRequest request = (HttpServletRequest)getApp().getFromUserStorage(HttpServletRequest.class.getName());\n    KeycloakPrincipal kcp = (KeycloakPrincipal) request.getUserPrincipal();\n}\n</code></pre>\n\n<p>Any ideas as to what is wrong here?   The only solutions I've found by googling have to do with Maven configuration, but Maven isn't being used here.</p>\n"},{"tags":["java","xcode","apple-m1","openjdk-11"],"answers":[{"tags":[],"owner":{"account_id":18163499,"reputation":1,"user_id":13214515,"display_name":"TuzkiYao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645422373,"creation_date":1645422373,"answer_id":71201695,"question_id":70820256,"body_markdown":"i was try changed file &#39;toolchain.m4&#39;, $HEAD replace with $TAIL in line 231, and args &#39;-n 1&#39; replace with &#39;-n 2&#39;, like that\r\n```shell\r\nXCODE_VERSION_OUTPUT=`&quot;$XCODEBUILD&quot; -version 2&gt;&amp;1 | $TAIL -n 2`\r\n```\r\nnow, it is works in my mac","title":"openjdk11 compiler error: Failed to determine Xcode version","body":"<p>i was try changed file 'toolchain.m4', $HEAD replace with $TAIL in line 231, and args '-n 1' replace with '-n 2', like that</p>\n<pre class=\"lang-sh prettyprint-override\"><code>XCODE_VERSION_OUTPUT=`&quot;$XCODEBUILD&quot; -version 2&gt;&amp;1 | $TAIL -n 2`\n</code></pre>\n<p>now, it is works in my mac</p>\n"}],"owner":{"account_id":8847129,"reputation":168,"user_id":6607559,"accept_rate":75,"display_name":"Terrence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645422373,"creation_date":1642925611,"question_id":70820256,"body_markdown":"I tried to compile openjdk11 in Apple M1 environment, but an error occurred in the process, resulting in the interruption of compilation.\r\n\r\n```bash\r\nbash configure --disable-warnings-as-errors --with-debug-level=slowdebug\r\n\r\nchecking if Boot JDK is 32 or 64 bits... 64\r\nchecking for local Boot JDK Class Data Sharing (CDS)... yes, created\r\nchecking for Build JDK... yes, will use output dir\r\nconfigure: xcodebuild output: objc[97127]: Class AMSupportURLConnectionDelegate is implemented in both /usr/lib/libauthinstall.dylib (0x203c6ab90) and /Library/Apple/System/Library/PrivateFrameworks/MobileDevice.framework/Versions/A/MobileDevice (0x1042e82c8). One of the two will be used. Which one is undefined.\r\nconfigure: error: Failed to determine Xcode version.\r\n/Users/xxx/Documents/My/Sources/java/opensource/jdk-jdk-11-28/build/.configure-support/generated-configure.sh: line 84: 5: Bad file descriptor\r\nconfigure exiting with result code 1\r\n```\r\n\r\nI have located the location of the error in the configuration script, which seems to need to modify the script to solve the problem.\r\n\r\n```bash\r\nif test &quot;x$OPENJDK_TARGET_OS&quot; = xmacosx; then\r\n    if test -n &quot;$XCODEBUILD&quot;; then\r\n      # On Mac OS X, default toolchain to clang after Xcode 5\r\n      XCODE_VERSION_OUTPUT=`&quot;$XCODEBUILD&quot; -version 2&gt;&amp;1 | $HEAD -n 1`\r\n      $ECHO &quot;$XCODE_VERSION_OUTPUT&quot; | $GREP &quot;Xcode &quot; &gt; /dev/null\r\n      if test $? -ne 0; then\r\n        AC_MSG_NOTICE([xcodebuild output: $XCODE_VERSION_OUTPUT])   // Output log I temporarily added\r\n        AC_MSG_ERROR([Failed to determine Xcode version.])\r\n      fi\r\n      XCODE_MAJOR_VERSION=`$ECHO $XCODE_VERSION_OUTPUT | \\\r\n          $SED -e &#39;s/^Xcode \\(@&lt;:@1-9@:&gt;@@&lt;:@0-9.@:&gt;@*\\)/\\1/&#39; | \\\r\n          $CUT -f 1 -d .`\r\n      AC_MSG_NOTICE([Xcode major version: $XCODE_MAJOR_VERSION])\r\n      if test $XCODE_MAJOR_VERSION -ge 5; then\r\n          DEFAULT_TOOLCHAIN=&quot;clang&quot;\r\n      else\r\n          DEFAULT_TOOLCHAIN=&quot;gcc&quot;\r\n      fi\r\n    else\r\n      # If Xcode is not installed, but the command line tools are\r\n      # then we can&#39;t run xcodebuild. On these systems we should\r\n      # default to clang\r\n      DEFAULT_TOOLCHAIN=&quot;clang&quot;\r\n    fi\r\n  else\r\n    # First toolchain type in the list is the default\r\n    DEFAULT_TOOLCHAIN=${VALID_TOOLCHAINS%% *}\r\n  fi\r\n```\r\n","title":"openjdk11 compiler error: Failed to determine Xcode version","body":"<p>I tried to compile openjdk11 in Apple M1 environment, but an error occurred in the process, resulting in the interruption of compilation.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>bash configure --disable-warnings-as-errors --with-debug-level=slowdebug\n\nchecking if Boot JDK is 32 or 64 bits... 64\nchecking for local Boot JDK Class Data Sharing (CDS)... yes, created\nchecking for Build JDK... yes, will use output dir\nconfigure: xcodebuild output: objc[97127]: Class AMSupportURLConnectionDelegate is implemented in both /usr/lib/libauthinstall.dylib (0x203c6ab90) and /Library/Apple/System/Library/PrivateFrameworks/MobileDevice.framework/Versions/A/MobileDevice (0x1042e82c8). One of the two will be used. Which one is undefined.\nconfigure: error: Failed to determine Xcode version.\n/Users/xxx/Documents/My/Sources/java/opensource/jdk-jdk-11-28/build/.configure-support/generated-configure.sh: line 84: 5: Bad file descriptor\nconfigure exiting with result code 1\n</code></pre>\n<p>I have located the location of the error in the configuration script, which seems to need to modify the script to solve the problem.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>if test &quot;x$OPENJDK_TARGET_OS&quot; = xmacosx; then\n    if test -n &quot;$XCODEBUILD&quot;; then\n      # On Mac OS X, default toolchain to clang after Xcode 5\n      XCODE_VERSION_OUTPUT=`&quot;$XCODEBUILD&quot; -version 2&gt;&amp;1 | $HEAD -n 1`\n      $ECHO &quot;$XCODE_VERSION_OUTPUT&quot; | $GREP &quot;Xcode &quot; &gt; /dev/null\n      if test $? -ne 0; then\n        AC_MSG_NOTICE([xcodebuild output: $XCODE_VERSION_OUTPUT])   // Output log I temporarily added\n        AC_MSG_ERROR([Failed to determine Xcode version.])\n      fi\n      XCODE_MAJOR_VERSION=`$ECHO $XCODE_VERSION_OUTPUT | \\\n          $SED -e 's/^Xcode \\(@&lt;:@1-9@:&gt;@@&lt;:@0-9.@:&gt;@*\\)/\\1/' | \\\n          $CUT -f 1 -d .`\n      AC_MSG_NOTICE([Xcode major version: $XCODE_MAJOR_VERSION])\n      if test $XCODE_MAJOR_VERSION -ge 5; then\n          DEFAULT_TOOLCHAIN=&quot;clang&quot;\n      else\n          DEFAULT_TOOLCHAIN=&quot;gcc&quot;\n      fi\n    else\n      # If Xcode is not installed, but the command line tools are\n      # then we can't run xcodebuild. On these systems we should\n      # default to clang\n      DEFAULT_TOOLCHAIN=&quot;clang&quot;\n    fi\n  else\n    # First toolchain type in the list is the default\n    DEFAULT_TOOLCHAIN=${VALID_TOOLCHAINS%% *}\n  fi\n</code></pre>\n"},{"tags":["java","tcp","iso8583","jpos"],"comments":[{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1640891793,"post_id":70535526,"comment_id":124686012,"body_markdown":"this seems to be exactly the same question as https://stackoverflow.com/q/70535539/3444205, and this is a possible answer https://stackoverflow.com/a/70535774/3444205","body":"this seems to be exactly the same question as <a href=\"https://stackoverflow.com/q/70535539/3444205\">stackoverflow.com/q/70535539/3444205</a>, and this is a possible answer <a href=\"https://stackoverflow.com/a/70535774/3444205\">stackoverflow.com/a/70535774/3444205</a>"},{"owner":{"account_id":22320084,"reputation":13,"user_id":16542836,"display_name":"Hamza Azam"},"score":0,"creation_date":1640892060,"post_id":70535526,"comment_id":124686082,"body_markdown":"@Andr&#233;sAlcarraz Can you tell what channel.setPackager(packager) does. I&#39;ve done this instead, isoMsg.setPackager(packager);","body":"@Andr&#233;sAlcarraz Can you tell what channel.setPackager(packager) does. I&#39;ve done this instead, isoMsg.setPackager(packager);"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1640897605,"post_id":70535526,"comment_id":124687645,"body_markdown":"it applies the packager to all the messages sent  through it, using it to get the bytes to send","body":"it applies the packager to all the messages sent  through it, using it to get the bytes to send"},{"owner":{"account_id":2976512,"reputation":3160,"user_id":2527458,"accept_rate":36,"display_name":"Majid Hajibaba"},"score":0,"creation_date":1645421058,"post_id":70535526,"comment_id":125858083,"body_markdown":"use code on https://stackoverflow.com/questions/45658725/jpos-iso-8583-parsing-issue","body":"use code on <a href=\"https://stackoverflow.com/questions/45658725/jpos-iso-8583-parsing-issue\" title=\"jpos iso 8583 parsing issue\">stackoverflow.com/questions/45658725/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2976512,"reputation":3160,"user_id":2527458,"accept_rate":36,"display_name":"Majid Hajibaba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645422046,"creation_date":1645422046,"answer_id":71201664,"question_id":70535526,"body_markdown":"Use `String.format(&quot;%04x%s&quot;,  strIsoMsg.length()/2, strIsoMsg)`.\r\n\r\nI provide you a pattern code which you can use this pattern for sending message. \r\nthe \r\n```\r\n   ISO87BPackager packager = new ISO87BPackager();\r\n\r\n   ISOMsg isoMsg = new ISOMsg();\r\n   isoMsg.setPackager(packager);\r\n   isoMsg.setMTI(&quot;0800&quot;);\r\n   isoMsg.set(3, &quot;000000&quot;); //PROCESSING CODE\r\n   isoMsg.set(4, strAmount); //AMOUNT, TRANSACTION\r\n   ...\r\n   ...\r\n   ...\r\n\r\n   byte[] b1 = isoMsg.pack();\r\n   isoMsg.set(64, MAC.calcMac(b1));\r\n   byte[] b2 = isoMsg.pack();\r\n   strIsoMsg = &quot;700800900&quot; + new String(Hex.encodeHex(b2));\r\n   \r\n   String msgHexWithLen = String.format(&quot;%04x%s&quot;,  strIsoMsg.length()/2, strIsoMsg);\r\n   byte[] bytes = IsoParser.hexStringToByteArray(msgHexWithLen);\r\n   ...\r\n   ...\r\n   ...\r\n   Socket socket = new Socket();\r\n   socket.connect(new InetSocketAddress(&quot;x.y.z.w&quot;, 7151), 5000);\r\n   socket.setSoTimeout(30000);\r\n\r\n   socket.getOutputStream().write(bytes, 0, bytes.length);\r\n   socket.getOutputStream().flush();\r\n\r\n```","title":"Appending length in hex of 2 bytes two Iso8583 message using JPOS","body":"<p>Use <code>String.format(&quot;%04x%s&quot;,  strIsoMsg.length()/2, strIsoMsg)</code>.</p>\n<p>I provide you a pattern code which you can use this pattern for sending message.\nthe</p>\n<pre><code>   ISO87BPackager packager = new ISO87BPackager();\n\n   ISOMsg isoMsg = new ISOMsg();\n   isoMsg.setPackager(packager);\n   isoMsg.setMTI(&quot;0800&quot;);\n   isoMsg.set(3, &quot;000000&quot;); //PROCESSING CODE\n   isoMsg.set(4, strAmount); //AMOUNT, TRANSACTION\n   ...\n   ...\n   ...\n\n   byte[] b1 = isoMsg.pack();\n   isoMsg.set(64, MAC.calcMac(b1));\n   byte[] b2 = isoMsg.pack();\n   strIsoMsg = &quot;700800900&quot; + new String(Hex.encodeHex(b2));\n   \n   String msgHexWithLen = String.format(&quot;%04x%s&quot;,  strIsoMsg.length()/2, strIsoMsg);\n   byte[] bytes = IsoParser.hexStringToByteArray(msgHexWithLen);\n   ...\n   ...\n   ...\n   Socket socket = new Socket();\n   socket.connect(new InetSocketAddress(&quot;x.y.z.w&quot;, 7151), 5000);\n   socket.setSoTimeout(30000);\n\n   socket.getOutputStream().write(bytes, 0, bytes.length);\n   socket.getOutputStream().flush();\n\n</code></pre>\n"}],"owner":{"account_id":22320084,"reputation":13,"user_id":16542836,"display_name":"Hamza Azam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":742,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645422046,"creation_date":1640889793,"question_id":70535526,"body_markdown":"I am using JPOS to send a 0800 network request. But the problem is that header length of 2 bytes is not getting appended to my message. \r\nThe length of the message if 42 but adding the header of 2 bytes should make it 44. \r\nTCP DUMP: \r\n```\r\n length 42\r\n        0x0000:  4500 005e 4448 4000 4006 8842 0a14 5140  E..^DH@.@..B..Q@\r\n        0x0010:  0a5f 085d 952e 30c8 5cdb c683 49e6 692d  ._.]..0.\\...I.i-\r\n        0x0020:  8018 01f6 6e60 0000 0101 080a 0775 0600  ....n`.......u..\r\n        0x0030:  889f a492 3038 3030 8220 0100 0000 0000  ....0800........\r\n        0x0040:  0400 0000 0000 0000 3132 3234 3139 3035  ........12241905\r\n        0x0050:  3136 3132 3033 3437 3030 3130 3033       16120347001003\r\n```\r\nSince my message is of 42 length, 002A should be append in hex dump.\r\n\r\n\r\nThe message should be: \r\n\r\n\r\n```\r\nMy Code:\r\nBaseChannel channel = new NACChannel(packager, null);\r\nchannel.setHost(&quot;xx.xx.xx.xx&quot;, xxxxx);\r\nchannel.connect();\r\nISOMsg isoMsg = new ISOMsg();\r\nisoMsg.setPackager(packager);\r\nisoMsg.setMTI(&quot;0800&quot;);\r\nisoMsg.set(7, &quot;1224190516&quot;);\r\nisoMsg.set(11, &quot;120347&quot;);\r\nisoMsg.set(24, &quot;001&quot;);\r\nisoMsg.set(70, &quot;003&quot;);\r\nbyte[] send_PackedRequestData = isoMsg.pack();\r\nchannel.send(send_PackedRequestData);\r\n```\r\nHow can i append the length of the message to the start so it become \r\n\r\n```\r\n002A0800................1224190516120347001003\r\n```","title":"Appending length in hex of 2 bytes two Iso8583 message using JPOS","body":"<p>I am using JPOS to send a 0800 network request. But the problem is that header length of 2 bytes is not getting appended to my message.\nThe length of the message if 42 but adding the header of 2 bytes should make it 44.\nTCP DUMP:</p>\n<pre><code> length 42\n        0x0000:  4500 005e 4448 4000 4006 8842 0a14 5140  E..^DH@.@..B..Q@\n        0x0010:  0a5f 085d 952e 30c8 5cdb c683 49e6 692d  ._.]..0.\\...I.i-\n        0x0020:  8018 01f6 6e60 0000 0101 080a 0775 0600  ....n`.......u..\n        0x0030:  889f a492 3038 3030 8220 0100 0000 0000  ....0800........\n        0x0040:  0400 0000 0000 0000 3132 3234 3139 3035  ........12241905\n        0x0050:  3136 3132 3033 3437 3030 3130 3033       16120347001003\n</code></pre>\n<p>Since my message is of 42 length, 002A should be append in hex dump.</p>\n<p>The message should be:</p>\n<pre><code>My Code:\nBaseChannel channel = new NACChannel(packager, null);\nchannel.setHost(&quot;xx.xx.xx.xx&quot;, xxxxx);\nchannel.connect();\nISOMsg isoMsg = new ISOMsg();\nisoMsg.setPackager(packager);\nisoMsg.setMTI(&quot;0800&quot;);\nisoMsg.set(7, &quot;1224190516&quot;);\nisoMsg.set(11, &quot;120347&quot;);\nisoMsg.set(24, &quot;001&quot;);\nisoMsg.set(70, &quot;003&quot;);\nbyte[] send_PackedRequestData = isoMsg.pack();\nchannel.send(send_PackedRequestData);\n</code></pre>\n<p>How can i append the length of the message to the start so it become</p>\n<pre><code>002A0800................1224190516120347001003\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":20936085,"reputation":483,"user_id":15381219,"display_name":"Nishikant Tayade"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645421912,"creation_date":1645420879,"answer_id":71201547,"question_id":71201410,"body_markdown":"You have created the ArrayList with Course Object, so when adding into the List, you need to create the Course object and then add it.\r\n\r\n    Course newCourse = new Course(courseName, courseID, Integer.parseInt(maxStudents), Integer.parseInt(registeredStudents), instructor, Integer.parseInt(sectionNumber), location);\r\n    \r\n    coursesList.add(newCourse);\r\n\r\nAlso, it good practise to code to an interface, so instead of doing \r\n\r\n    ArrayList&lt;Course&gt; coursesList = new ArrayList&lt;Course&gt;();\r\n\r\nChange it to,\r\n\r\n     List&lt;Course&gt; coursesList = new ArrayList&lt;&gt;();","title":"The method add(Course, Object[], int) in the type ArrayList&lt;Course&gt; is not applicable for the arguments [Java]","body":"<p>You have created the ArrayList with Course Object, so when adding into the List, you need to create the Course object and then add it.</p>\n<pre><code>Course newCourse = new Course(courseName, courseID, Integer.parseInt(maxStudents), Integer.parseInt(registeredStudents), instructor, Integer.parseInt(sectionNumber), location);\n\ncoursesList.add(newCourse);\n</code></pre>\n<p>Also, it good practise to code to an interface, so instead of doing</p>\n<pre><code>ArrayList&lt;Course&gt; coursesList = new ArrayList&lt;Course&gt;();\n</code></pre>\n<p>Change it to,</p>\n<pre><code> List&lt;Course&gt; coursesList = new ArrayList&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":23351380,"reputation":23,"user_id":17424886,"display_name":"laura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":782,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71201547,"answer_count":1,"score":-1,"last_activity_date":1645421912,"creation_date":1645419668,"question_id":71201410,"body_markdown":"I am having troubles to transfer the data from an array to an ArrayList. I am getting the error: The method add(Course, Object[], int) in the type ArrayList&lt;Course&gt; is not applicable for the arguments (String, String, int, int, String, int, String). I already checked the data fields in the class Course, they are all correct.\r\n\r\nPlease help me!\r\n\r\n    ArrayList&lt;Course&gt; coursesList = new ArrayList&lt;Course&gt;();\r\n    boolean exit = false;\r\n    \r\n    String fileName = &quot;MyUniversityCoursesFile.csv&quot;;\r\n    String line = null;\r\n    \r\n    try {\r\n    \tFileReader fr = new FileReader(fileName);\r\n    \tBufferedReader br = new BufferedReader(fr);\r\n    \tbr.readLine();\r\n    \twhile ((line = br.readLine()) != null) {\r\n    \t\tString[] coursesArray = line.split(&quot;,&quot;);\r\n    \t\tString courseName = coursesArray[0];\r\n    \t\tString courseID = coursesArray[1];\r\n    \t\tString maxStudents = coursesArray[2];\r\n    \t\tString registeredStudents = coursesArray[3];\r\n    \t\t// String studentsList = coursesArray[4];\r\n \t\t\tString instructor = coursesArray[5];\r\n    \t\tString sectionNumber = coursesArray[6];\r\n    \t\tString location = coursesArray[7];\t\r\n    \t\t\t\r\n    \t\tcoursesList.add(courseName, courseID, Integer.parseInt(maxStudents), Integer.parseInt(registeredStudents), instructor, Integer.parseInt(sectionNumber), location);\r\n    \t}","title":"The method add(Course, Object[], int) in the type ArrayList&lt;Course&gt; is not applicable for the arguments [Java]","body":"<p>I am having troubles to transfer the data from an array to an ArrayList. I am getting the error: The method add(Course, Object[], int) in the type ArrayList is not applicable for the arguments (String, String, int, int, String, int, String). I already checked the data fields in the class Course, they are all correct.</p>\n<p>Please help me!</p>\n<pre><code>ArrayList&lt;Course&gt; coursesList = new ArrayList&lt;Course&gt;();\nboolean exit = false;\n\nString fileName = &quot;MyUniversityCoursesFile.csv&quot;;\nString line = null;\n\ntry {\n    FileReader fr = new FileReader(fileName);\n    BufferedReader br = new BufferedReader(fr);\n    br.readLine();\n    while ((line = br.readLine()) != null) {\n        String[] coursesArray = line.split(&quot;,&quot;);\n        String courseName = coursesArray[0];\n        String courseID = coursesArray[1];\n        String maxStudents = coursesArray[2];\n        String registeredStudents = coursesArray[3];\n        // String studentsList = coursesArray[4];\n        String instructor = coursesArray[5];\n        String sectionNumber = coursesArray[6];\n        String location = coursesArray[7];  \n            \n        coursesList.add(courseName, courseID, Integer.parseInt(maxStudents), Integer.parseInt(registeredStudents), instructor, Integer.parseInt(sectionNumber), location);\n    }\n</code></pre>\n"},{"tags":["java","android","android-mediaplayer","surfaceview","android-bitmap"],"answers":[{"tags":[],"owner":{"account_id":3706082,"reputation":3972,"user_id":3084577,"accept_rate":97,"display_name":"lubilis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644368008,"creation_date":1644368008,"answer_id":71042749,"question_id":70938608,"body_markdown":"You are probably trying to prepare the `MediaPlayer` when the `MediaPlayer` is in a wrong state. Check the [MediaPlayer State Diagram][1]. The `prepare` or `prepareAsync` methods can be called only if the MediaPlayer is in **Initialized** or **Stopped** state.\r\n\r\nSince the `MediaPlayer` state is not accessible, you could use this extension to check what&#39;s wrong with your `MediaPlayer` (remember to remove the external player listeners from your code before trying this)\r\n\r\n    import android.content.Context\r\n    import android.media.MediaPlayer\r\n    import android.net.Uri\r\n    import android.util.Log\r\n    \r\n    class AudioPlayer : MediaPlayer(), MediaPlayer.OnBufferingUpdateListener, MediaPlayer.OnCompletionListener, MediaPlayer.OnErrorListener, MediaPlayer.OnInfoListener, MediaPlayer.OnPreparedListener {\r\n    \r\n        enum class AudioPlayerState {\r\n            IDLE,\r\n            INITIALIZED,\r\n            PREPARING,\r\n            PREPARED,\r\n            STARTED,\r\n            STOPPED,\r\n            PAUSED,\r\n            PLAYBACK_COMPLETED,\r\n            ERROR,\r\n            END\r\n        }\r\n    \r\n        var playerState: AudioPlayerState? = null\r\n            set(value) {\r\n                Log.d(javaClass.name, &quot;Setting new player state $value&quot;)\r\n                field = value\r\n            }\r\n    \r\n        init {\r\n            playerState = AudioPlayerState.IDLE\r\n            setOnPreparedListener(this)\r\n            setOnBufferingUpdateListener(this)\r\n            setOnCompletionListener(this)\r\n            setOnErrorListener(this)\r\n            setOnInfoListener(this)\r\n        }\r\n    \r\n        override fun setDataSource(context: Context, uri: Uri) {\r\n            if (playerState != AudioPlayerState.IDLE) Log.e(javaClass.name, &quot;Trying to set data source on player state $playerState&quot;)\r\n            super.setDataSource(context, uri)\r\n            playerState = AudioPlayerState.INITIALIZED\r\n        }\r\n    \r\n        override fun prepare() {\r\n            if (playerState != AudioPlayerState.INITIALIZED &amp;&amp; playerState != AudioPlayerState.STOPPED) Log.e(javaClass.name, &quot;Trying to prepare on player state $playerState&quot;)\r\n            playerState = try {\r\n                super.prepare()\r\n                AudioPlayerState.PREPARED\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n                Log.e(javaClass.name, &quot;Exception on audio player prepare ${e.message} with state $playerState&quot;)\r\n                AudioPlayerState.ERROR\r\n            }\r\n        }\r\n    \r\n        override fun prepareAsync() {\r\n            playerState = try {\r\n                super.prepareAsync()\r\n                AudioPlayerState.PREPARING\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n                Log.e(javaClass.name, &quot;Exception on audio player prepare async ${e.message} with state $playerState&quot;)\r\n                AudioPlayerState.ERROR\r\n            }\r\n        }\r\n    \r\n        override fun start() {\r\n            if (playerState != AudioPlayerState.PREPARED &amp;&amp;\r\n                playerState != AudioPlayerState.STARTED &amp;&amp;\r\n                playerState != AudioPlayerState.PAUSED &amp;&amp;\r\n                playerState != AudioPlayerState.PLAYBACK_COMPLETED\r\n            ) Log.e(javaClass.name, &quot;Trying to start on player state $playerState&quot;)\r\n            playerState = try {\r\n                super.start()\r\n                AudioPlayerState.STARTED\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n                Log.e(javaClass.name, &quot;Exception on audio player start ${e.message} with state $playerState&quot;)\r\n                AudioPlayerState.ERROR\r\n            }\r\n        }\r\n    \r\n        override fun stop() {\r\n            if (playerState != AudioPlayerState.PREPARED &amp;&amp;\r\n                playerState != AudioPlayerState.STARTED &amp;&amp;\r\n                playerState != AudioPlayerState.STOPPED &amp;&amp;\r\n                playerState != AudioPlayerState.PAUSED &amp;&amp;\r\n                playerState != AudioPlayerState.PLAYBACK_COMPLETED\r\n            ) Log.e(javaClass.name, &quot;Trying to stop on player state $playerState&quot;)\r\n            playerState = try {\r\n                super.stop()\r\n                AudioPlayerState.STOPPED\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n                Log.e(javaClass.name, &quot;Exception on audio player stop ${e.message} with state $playerState&quot;)\r\n                AudioPlayerState.ERROR\r\n            }\r\n        }\r\n    \r\n        override fun pause() {\r\n            if (playerState != AudioPlayerState.STARTED &amp;&amp;\r\n                playerState != AudioPlayerState.PAUSED &amp;&amp;\r\n                playerState != AudioPlayerState.PLAYBACK_COMPLETED\r\n            ) Log.e(javaClass.name, &quot;Trying to pause on player state $playerState&quot;)\r\n            playerState = try {\r\n                super.pause()\r\n                AudioPlayerState.PAUSED\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n                Log.e(javaClass.name, &quot;Exception on audio player pause ${e.message} with state $playerState&quot;)\r\n                AudioPlayerState.ERROR\r\n            }\r\n        }\r\n    \r\n        override fun seekTo(msec: Int) {\r\n            if (playerState != AudioPlayerState.PREPARED &amp;&amp;\r\n                playerState != AudioPlayerState.STARTED &amp;&amp;\r\n                playerState != AudioPlayerState.PAUSED &amp;&amp;\r\n                playerState != AudioPlayerState.PLAYBACK_COMPLETED\r\n            ) Log.e(javaClass.name, &quot;Trying to seek to on player state $playerState&quot;)\r\n            try {\r\n                super.seekTo(msec)\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n                Log.e(javaClass.name, &quot;Exception on audio player seek to ${e.message} with state $playerState&quot;)\r\n                playerState = AudioPlayerState.ERROR\r\n            }\r\n        }\r\n    \r\n        override fun seekTo(msec: Long, mode: Int) {\r\n            if (playerState != AudioPlayerState.PREPARED &amp;&amp;\r\n                playerState != AudioPlayerState.STARTED &amp;&amp;\r\n                playerState != AudioPlayerState.PAUSED &amp;&amp;\r\n                playerState != AudioPlayerState.PLAYBACK_COMPLETED\r\n            ) Log.e(javaClass.name, &quot;Trying to seek to with mode on player state $playerState&quot;)\r\n            try {\r\n                super.seekTo(msec, mode)\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n                Log.e(javaClass.name, &quot;Exception on audio player seek to with mode ${e.message} with state $playerState&quot;)\r\n                playerState = AudioPlayerState.ERROR\r\n            }\r\n        }\r\n    \r\n        override fun getCurrentPosition(): Int {\r\n            if (playerState == null) return 0\r\n            if (playerState != AudioPlayerState.IDLE &amp;&amp;\r\n                playerState != AudioPlayerState.INITIALIZED &amp;&amp;\r\n                playerState != AudioPlayerState.PREPARED &amp;&amp;\r\n                playerState != AudioPlayerState.STARTED &amp;&amp;\r\n                playerState != AudioPlayerState.PAUSED &amp;&amp;\r\n                playerState != AudioPlayerState.STOPPED &amp;&amp;\r\n                playerState != AudioPlayerState.PLAYBACK_COMPLETED\r\n            ) Log.e(javaClass.name, &quot;Trying to get current position on player state $playerState&quot;)\r\n            try {\r\n                return super.getCurrentPosition()\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n                Log.e(javaClass.name, &quot;Exception on audio player current position ${e.message} with state $playerState&quot;)\r\n                playerState = AudioPlayerState.ERROR\r\n            }\r\n            return 0\r\n        }\r\n    \r\n        override fun isPlaying(): Boolean {\r\n            if (playerState == null) return false\r\n            if (playerState != AudioPlayerState.IDLE &amp;&amp;\r\n                playerState != AudioPlayerState.INITIALIZED &amp;&amp;\r\n                playerState != AudioPlayerState.PREPARED &amp;&amp;\r\n                playerState != AudioPlayerState.STARTED &amp;&amp;\r\n                playerState != AudioPlayerState.PAUSED &amp;&amp;\r\n                playerState != AudioPlayerState.STOPPED &amp;&amp;\r\n                playerState != AudioPlayerState.PLAYBACK_COMPLETED\r\n            ) Log.e(javaClass.name, &quot;Trying to get is playing on player state $playerState&quot;)\r\n            try {\r\n                return super.isPlaying()\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n                Log.e(javaClass.name, &quot;Exception on audio player is playing ${e.message} with state $playerState&quot;)\r\n                playerState = AudioPlayerState.ERROR\r\n            }\r\n            return false\r\n        }\r\n    \r\n        override fun reset() {\r\n            playerState = try {\r\n                super.reset()\r\n                AudioPlayerState.IDLE\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n                Log.e(javaClass.name, &quot;Exception on audio player reset ${e.message} with state $playerState&quot;)\r\n                AudioPlayerState.ERROR\r\n            }\r\n        }\r\n    \r\n        override fun release() {\r\n            playerState = try {\r\n                super.release()\r\n                AudioPlayerState.END\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n                Log.e(javaClass.name, &quot;Exception on audio player release ${e.message} with state $playerState&quot;)\r\n                AudioPlayerState.ERROR\r\n            }\r\n        }\r\n    \r\n        override fun onPrepared(mp: MediaPlayer?) {\r\n            if (playerState != AudioPlayerState.STARTED) {\r\n                playerState = AudioPlayerState.PREPARED\r\n            }\r\n        }\r\n    \r\n        override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean {\r\n            return false\r\n        }\r\n    \r\n        override fun onError(mp: MediaPlayer?, what: Int, extra: Int): Boolean {\r\n            playerState = AudioPlayerState.ERROR\r\n            return false\r\n        }\r\n    \r\n        override fun onCompletion(mp: MediaPlayer?) {\r\n            playerState = AudioPlayerState.PLAYBACK_COMPLETED\r\n            seekTo(0)\r\n        }\r\n    \r\n        override fun onBufferingUpdate(mp: MediaPlayer?, percent: Int) {\r\n    \r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/media/MediaPlayer#state-diagram","title":"Illegal State Exception in mediaplayer.prepare android","body":"<p>You are probably trying to prepare the <code>MediaPlayer</code> when the <code>MediaPlayer</code> is in a wrong state. Check the <a href=\"https://developer.android.com/reference/android/media/MediaPlayer#state-diagram\" rel=\"nofollow noreferrer\">MediaPlayer State Diagram</a>. The <code>prepare</code> or <code>prepareAsync</code> methods can be called only if the MediaPlayer is in <strong>Initialized</strong> or <strong>Stopped</strong> state.</p>\n<p>Since the <code>MediaPlayer</code> state is not accessible, you could use this extension to check what's wrong with your <code>MediaPlayer</code> (remember to remove the external player listeners from your code before trying this)</p>\n<pre><code>import android.content.Context\nimport android.media.MediaPlayer\nimport android.net.Uri\nimport android.util.Log\n\nclass AudioPlayer : MediaPlayer(), MediaPlayer.OnBufferingUpdateListener, MediaPlayer.OnCompletionListener, MediaPlayer.OnErrorListener, MediaPlayer.OnInfoListener, MediaPlayer.OnPreparedListener {\n\n    enum class AudioPlayerState {\n        IDLE,\n        INITIALIZED,\n        PREPARING,\n        PREPARED,\n        STARTED,\n        STOPPED,\n        PAUSED,\n        PLAYBACK_COMPLETED,\n        ERROR,\n        END\n    }\n\n    var playerState: AudioPlayerState? = null\n        set(value) {\n            Log.d(javaClass.name, &quot;Setting new player state $value&quot;)\n            field = value\n        }\n\n    init {\n        playerState = AudioPlayerState.IDLE\n        setOnPreparedListener(this)\n        setOnBufferingUpdateListener(this)\n        setOnCompletionListener(this)\n        setOnErrorListener(this)\n        setOnInfoListener(this)\n    }\n\n    override fun setDataSource(context: Context, uri: Uri) {\n        if (playerState != AudioPlayerState.IDLE) Log.e(javaClass.name, &quot;Trying to set data source on player state $playerState&quot;)\n        super.setDataSource(context, uri)\n        playerState = AudioPlayerState.INITIALIZED\n    }\n\n    override fun prepare() {\n        if (playerState != AudioPlayerState.INITIALIZED &amp;&amp; playerState != AudioPlayerState.STOPPED) Log.e(javaClass.name, &quot;Trying to prepare on player state $playerState&quot;)\n        playerState = try {\n            super.prepare()\n            AudioPlayerState.PREPARED\n        } catch (e: Exception) {\n            e.printStackTrace()\n            Log.e(javaClass.name, &quot;Exception on audio player prepare ${e.message} with state $playerState&quot;)\n            AudioPlayerState.ERROR\n        }\n    }\n\n    override fun prepareAsync() {\n        playerState = try {\n            super.prepareAsync()\n            AudioPlayerState.PREPARING\n        } catch (e: Exception) {\n            e.printStackTrace()\n            Log.e(javaClass.name, &quot;Exception on audio player prepare async ${e.message} with state $playerState&quot;)\n            AudioPlayerState.ERROR\n        }\n    }\n\n    override fun start() {\n        if (playerState != AudioPlayerState.PREPARED &amp;&amp;\n            playerState != AudioPlayerState.STARTED &amp;&amp;\n            playerState != AudioPlayerState.PAUSED &amp;&amp;\n            playerState != AudioPlayerState.PLAYBACK_COMPLETED\n        ) Log.e(javaClass.name, &quot;Trying to start on player state $playerState&quot;)\n        playerState = try {\n            super.start()\n            AudioPlayerState.STARTED\n        } catch (e: Exception) {\n            e.printStackTrace()\n            Log.e(javaClass.name, &quot;Exception on audio player start ${e.message} with state $playerState&quot;)\n            AudioPlayerState.ERROR\n        }\n    }\n\n    override fun stop() {\n        if (playerState != AudioPlayerState.PREPARED &amp;&amp;\n            playerState != AudioPlayerState.STARTED &amp;&amp;\n            playerState != AudioPlayerState.STOPPED &amp;&amp;\n            playerState != AudioPlayerState.PAUSED &amp;&amp;\n            playerState != AudioPlayerState.PLAYBACK_COMPLETED\n        ) Log.e(javaClass.name, &quot;Trying to stop on player state $playerState&quot;)\n        playerState = try {\n            super.stop()\n            AudioPlayerState.STOPPED\n        } catch (e: Exception) {\n            e.printStackTrace()\n            Log.e(javaClass.name, &quot;Exception on audio player stop ${e.message} with state $playerState&quot;)\n            AudioPlayerState.ERROR\n        }\n    }\n\n    override fun pause() {\n        if (playerState != AudioPlayerState.STARTED &amp;&amp;\n            playerState != AudioPlayerState.PAUSED &amp;&amp;\n            playerState != AudioPlayerState.PLAYBACK_COMPLETED\n        ) Log.e(javaClass.name, &quot;Trying to pause on player state $playerState&quot;)\n        playerState = try {\n            super.pause()\n            AudioPlayerState.PAUSED\n        } catch (e: Exception) {\n            e.printStackTrace()\n            Log.e(javaClass.name, &quot;Exception on audio player pause ${e.message} with state $playerState&quot;)\n            AudioPlayerState.ERROR\n        }\n    }\n\n    override fun seekTo(msec: Int) {\n        if (playerState != AudioPlayerState.PREPARED &amp;&amp;\n            playerState != AudioPlayerState.STARTED &amp;&amp;\n            playerState != AudioPlayerState.PAUSED &amp;&amp;\n            playerState != AudioPlayerState.PLAYBACK_COMPLETED\n        ) Log.e(javaClass.name, &quot;Trying to seek to on player state $playerState&quot;)\n        try {\n            super.seekTo(msec)\n        } catch (e: Exception) {\n            e.printStackTrace()\n            Log.e(javaClass.name, &quot;Exception on audio player seek to ${e.message} with state $playerState&quot;)\n            playerState = AudioPlayerState.ERROR\n        }\n    }\n\n    override fun seekTo(msec: Long, mode: Int) {\n        if (playerState != AudioPlayerState.PREPARED &amp;&amp;\n            playerState != AudioPlayerState.STARTED &amp;&amp;\n            playerState != AudioPlayerState.PAUSED &amp;&amp;\n            playerState != AudioPlayerState.PLAYBACK_COMPLETED\n        ) Log.e(javaClass.name, &quot;Trying to seek to with mode on player state $playerState&quot;)\n        try {\n            super.seekTo(msec, mode)\n        } catch (e: Exception) {\n            e.printStackTrace()\n            Log.e(javaClass.name, &quot;Exception on audio player seek to with mode ${e.message} with state $playerState&quot;)\n            playerState = AudioPlayerState.ERROR\n        }\n    }\n\n    override fun getCurrentPosition(): Int {\n        if (playerState == null) return 0\n        if (playerState != AudioPlayerState.IDLE &amp;&amp;\n            playerState != AudioPlayerState.INITIALIZED &amp;&amp;\n            playerState != AudioPlayerState.PREPARED &amp;&amp;\n            playerState != AudioPlayerState.STARTED &amp;&amp;\n            playerState != AudioPlayerState.PAUSED &amp;&amp;\n            playerState != AudioPlayerState.STOPPED &amp;&amp;\n            playerState != AudioPlayerState.PLAYBACK_COMPLETED\n        ) Log.e(javaClass.name, &quot;Trying to get current position on player state $playerState&quot;)\n        try {\n            return super.getCurrentPosition()\n        } catch (e: Exception) {\n            e.printStackTrace()\n            Log.e(javaClass.name, &quot;Exception on audio player current position ${e.message} with state $playerState&quot;)\n            playerState = AudioPlayerState.ERROR\n        }\n        return 0\n    }\n\n    override fun isPlaying(): Boolean {\n        if (playerState == null) return false\n        if (playerState != AudioPlayerState.IDLE &amp;&amp;\n            playerState != AudioPlayerState.INITIALIZED &amp;&amp;\n            playerState != AudioPlayerState.PREPARED &amp;&amp;\n            playerState != AudioPlayerState.STARTED &amp;&amp;\n            playerState != AudioPlayerState.PAUSED &amp;&amp;\n            playerState != AudioPlayerState.STOPPED &amp;&amp;\n            playerState != AudioPlayerState.PLAYBACK_COMPLETED\n        ) Log.e(javaClass.name, &quot;Trying to get is playing on player state $playerState&quot;)\n        try {\n            return super.isPlaying()\n        } catch (e: Exception) {\n            e.printStackTrace()\n            Log.e(javaClass.name, &quot;Exception on audio player is playing ${e.message} with state $playerState&quot;)\n            playerState = AudioPlayerState.ERROR\n        }\n        return false\n    }\n\n    override fun reset() {\n        playerState = try {\n            super.reset()\n            AudioPlayerState.IDLE\n        } catch (e: Exception) {\n            e.printStackTrace()\n            Log.e(javaClass.name, &quot;Exception on audio player reset ${e.message} with state $playerState&quot;)\n            AudioPlayerState.ERROR\n        }\n    }\n\n    override fun release() {\n        playerState = try {\n            super.release()\n            AudioPlayerState.END\n        } catch (e: Exception) {\n            e.printStackTrace()\n            Log.e(javaClass.name, &quot;Exception on audio player release ${e.message} with state $playerState&quot;)\n            AudioPlayerState.ERROR\n        }\n    }\n\n    override fun onPrepared(mp: MediaPlayer?) {\n        if (playerState != AudioPlayerState.STARTED) {\n            playerState = AudioPlayerState.PREPARED\n        }\n    }\n\n    override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean {\n        return false\n    }\n\n    override fun onError(mp: MediaPlayer?, what: Int, extra: Int): Boolean {\n        playerState = AudioPlayerState.ERROR\n        return false\n    }\n\n    override fun onCompletion(mp: MediaPlayer?) {\n        playerState = AudioPlayerState.PLAYBACK_COMPLETED\n        seekTo(0)\n    }\n\n    override fun onBufferingUpdate(mp: MediaPlayer?, percent: Int) {\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10270629,"reputation":309,"user_id":7579123,"display_name":"ddassa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644419787,"creation_date":1644419787,"answer_id":71052154,"question_id":70938608,"body_markdown":"According to exception, mediaPlayer in wrong state. Since i cannot see how you have defined the mediaPlayer, i assume you reuse the mediaPlayer. If so, make sure to stop and reset mediaPlayer before set a new dataSource like following in `onPostExecute`;\r\n\r\nRead more on here: [mediaPlayer][1]\r\n\r\n                @Override\r\n                protected void onPostExecute(FileCacheMediaDataSource dataSource) {\r\n                    super.onPostExecute(dataSource);\r\n                    if (mMediaPlayer == null) {\r\n                        return;\r\n                    }\r\n                    if (dataSource.getSize() == -1) {\r\n                        LogD.d(TAG, &quot;showErrorScreenSaver&quot;);\r\n                        screenSaverError();\r\n                        return;\r\n                    }\r\n                    try {\r\n                        // stop and reset media player\r\n                        mMediaPlayer.stop();\r\n                        mMediaPlayer.reset();\r\n\r\n                        // set datasource\r\n                        mMediaPlayer.setDataSource(dataSource);\r\n                        mMediaPlayer.setLooping(true);\r\n                        mMediaPlayer.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\r\n                            @Override\r\n                            public void onPrepared(MediaPlayer mp) {\r\n                                mp.start();\r\n                            }\r\n                        });\r\n                        mMediaPlayer.prepareAsync();\r\n                    } catch (IOException e) {\r\n                        LogD.i(TAG, &quot;startPlayFirstVideo = &quot; + e.toString());\r\n                    }\r\n                }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/media/MediaPlayer","title":"Illegal State Exception in mediaplayer.prepare android","body":"<p>According to exception, mediaPlayer in wrong state. Since i cannot see how you have defined the mediaPlayer, i assume you reuse the mediaPlayer. If so, make sure to stop and reset mediaPlayer before set a new dataSource like following in <code>onPostExecute</code>;</p>\n<p>Read more on here: <a href=\"https://developer.android.com/reference/android/media/MediaPlayer\" rel=\"nofollow noreferrer\">mediaPlayer</a></p>\n<pre><code>            @Override\n            protected void onPostExecute(FileCacheMediaDataSource dataSource) {\n                super.onPostExecute(dataSource);\n                if (mMediaPlayer == null) {\n                    return;\n                }\n                if (dataSource.getSize() == -1) {\n                    LogD.d(TAG, &quot;showErrorScreenSaver&quot;);\n                    screenSaverError();\n                    return;\n                }\n                try {\n                    // stop and reset media player\n                    mMediaPlayer.stop();\n                    mMediaPlayer.reset();\n\n                    // set datasource\n                    mMediaPlayer.setDataSource(dataSource);\n                    mMediaPlayer.setLooping(true);\n                    mMediaPlayer.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\n                        @Override\n                        public void onPrepared(MediaPlayer mp) {\n                            mp.start();\n                        }\n                    });\n                    mMediaPlayer.prepareAsync();\n                } catch (IOException e) {\n                    LogD.i(TAG, &quot;startPlayFirstVideo = &quot; + e.toString());\n                }\n            }\n</code></pre>\n"}],"owner":{"account_id":1054420,"reputation":735,"user_id":3500826,"accept_rate":48,"display_name":"Star"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":666,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645420986,"creation_date":1643709657,"question_id":70938608,"body_markdown":"I am using a method in asynctask in the class VideoSurfaceView. \r\n\r\nBut I am getting crash. \r\n\r\nI tried other ways too but didn&#39;t worked. Below is the code:\r\n\r\n......\r\n\r\n         public class VideoSurfaceView extends SurfaceView implements SurfaceHolder.Callback {\r\n    \r\n        private static final String TAG = &quot;VideoSurfaceView&quot;;\r\n    \r\n        private MediaPlayer mMediaPlayer;\r\n    \r\n        private String mVideoPath = &quot;&quot;;\r\n        private ScreenSaverView.OnVideoPrepareListener onVideoPrepareListener;\r\n    \r\n        private Bitmap mPreviewBitmap;\r\n    \r\n        private boolean locking = false;\r\n        private boolean lockResult = false;\r\n        private boolean reading = false;\r\n    \r\n        public VideoSurfaceView(Context context) {\r\n            super(context);\r\n            init();\r\n        }\r\n    \r\n        private void init() {\r\n            LogD.i(TAG, &quot;init&quot;);\r\n            SurfaceHolder mSurfaceHolder = getHolder();\r\n            mSurfaceHolder.addCallback(this);\r\n        }\r\n    \r\n        @Override\r\n        public void surfaceCreated(SurfaceHolder holder) {\r\n            LogD.i(TAG, &quot;surfaceCreated&quot;);\r\n            if (!getVideoPath().isEmpty()) {\r\n                initVideoPlayer();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\r\n            LogD.i(TAG, &quot;surfaceChanged&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void surfaceDestroyed(SurfaceHolder holder) {\r\n            LogD.i(TAG, &quot;surfaceDestroyed&quot;);\r\n            if (mMediaPlayer != null) {\r\n                if (mMediaPlayer.isPlaying()) {\r\n                    mMediaPlayer.stop();\r\n                }\r\n                mMediaPlayer.release();\r\n                mMediaPlayer = null;\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        private void initVideoPlayer() {\r\n            Canvas canvas = getHolder().lockCanvas();\r\n            if (mPreviewBitmap != null &amp;&amp; canvas != null) {\r\n                int w = getWidth();\r\n                int h = getHeight();\r\n                Rect src = new Rect(0, 0, mPreviewBitmap.getWidth(), mPreviewBitmap.getHeight());\r\n                Rect dst = new Rect(0, 0, w, h);\r\n                LogD.d(TAG, &quot;drawFirstFrame:view w: &quot; + getWidth() + &quot; h:&quot; + getHeight());\r\n                canvas.drawBitmap(mPreviewBitmap, src, dst, null);\r\n                getHolder().unlockCanvasAndPost(canvas);\r\n            } else if (canvas != null){\r\n                canvas.drawColor(Color.WHITE);\r\n                getHolder().unlockCanvasAndPost(canvas);\r\n            }\r\n    \r\n            boolean needClose = onVideoPrepareListener.onPrepare();\r\n            if (needClose) {\r\n                LogD.d(TAG, &quot;initVideoPlayer needClose return: &quot;);\r\n                return;\r\n            }\r\n    \r\n            LogD.i(TAG, &quot;initFirstPlayer()&quot;);\r\n            mMediaPlayer = new MediaPlayer();\r\n            mMediaPlayer.setVolume(0, 0);\r\n            mMediaPlayer.setDisplay(getHolder());\r\n            startPlayFirstVideo();\r\n        }\r\n    \r\n        private void startPlayFirstVideo() {\r\n    \r\n            new AsyncTask&lt;Void, Void, FileCacheMediaDataSource&gt;() {\r\n    \r\n                @Override\r\n                protected FileCacheMediaDataSource doInBackground(Void... voids) {\r\n                    locking = true;\r\n                    lockResult = false;\r\n                    reading = true;\r\n                    new Thread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            LockResult result = LockManager.getInstance().lock(LockReason.DISK_SCREENSAVER_READ_ACCESS);\r\n                            lockResult = result.isLockSuccess();\r\n                            if (!reading &amp;&amp; lockResult) {\r\n                                LockManager.getInstance().unlock(LockReason.DISK_SCREENSAVER_READ_ACCESS);\r\n                            }\r\n                            locking = false;\r\n                        }\r\n                    }).start();\r\n    \r\n                    String path = AppConst.SCREEN_SAVER_MEDIA_PATH + mVideoPath;\r\n                    FileCacheMediaDataSource dataSource = new FileCacheMediaDataSource(path);\r\n                    if (!locking &amp;&amp; lockResult) {\r\n                        LockManager.getInstance().unlock(LockReason.DISK_SCREENSAVER_READ_ACCESS);\r\n                    }\r\n                    reading = false;\r\n    \r\n                    return dataSource;\r\n                }\r\n    \r\n                @Override\r\n                protected void onPostExecute(FileCacheMediaDataSource dataSource) {\r\n                    super.onPostExecute(dataSource);\r\n                    if (mMediaPlayer == null) {\r\n                        return;\r\n                    }\r\n                    if (dataSource.getSize() == -1) {\r\n                        LogD.d(TAG, &quot;showErrorScreenSaver&quot;);\r\n                        screenSaverError();\r\n                        return;\r\n                    }\r\n                    try {\r\n                        // stop and reset media player\r\n                        mMediaPlayer.stop();\r\n                        mMediaPlayer.reset();\r\n                        mMediaPlayer.setDataSource(dataSource);\r\n                        mMediaPlayer.setLooping(true);\r\n                        mMediaPlayer.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\r\n                            @Override\r\n                            public void onPrepared(MediaPlayer mp) {\r\n                                mMediaPlayer.start();\r\n                            }\r\n                        });\r\n                        mMediaPlayer.setOnErrorListener(new MediaPlayer.OnErrorListener() {\r\n                            @Override\r\n                            public boolean onError(MediaPlayer mediaPlayer, int i, int i1) {\r\n                                return false;\r\n                            }\r\n                        });\r\n                        mMediaPlayer.prepare();\r\n                    } catch (IOException e) {\r\n                        LogD.i(TAG, &quot;startPlayFirstVideo = &quot; + e.toString());\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    \r\n        private void screenSaverError() {\r\n            if (videoSurfaceCallBack != null) {\r\n                videoSurfaceCallBack.onError();\r\n            }\r\n        }\r\n    \r\n    \r\n        public String getVideoPath() {\r\n            return mVideoPath;\r\n        }\r\n    \r\n        public void setOnVideoPrepareListener(ScreenSaverView.OnVideoPrepareListener onVideoPrepareListener) {\r\n            this.onVideoPrepareListener = onVideoPrepareListener;\r\n        }\r\n    \r\n        public void setPreviewBitmap(Bitmap bitmap){\r\n            mPreviewBitmap = bitmap;\r\n        }\r\n    \r\n        public void setVideoPath(String videoPath) {\r\n            mVideoPath = videoPath;\r\n    \r\n            Bitmap bitmap = mPreviewBitmap;\r\n            if (bitmap != null) {\r\n                int videoWidth = bitmap.getWidth();\r\n                int videoHeight = bitmap.getHeight();\r\n                float max = Math.max((float) videoWidth / (float) 1024,(float) videoHeight / (float) 520);\r\n                videoWidth = (int) Math.ceil((float) videoWidth / max);\r\n                videoHeight = (int) Math.ceil((float) videoHeight / max);\r\n                LogD.d(TAG, &quot;setVideoPath LayoutParams videoWidth:&quot;+videoWidth+&quot; videoHeight:&quot;+videoHeight);\r\n                RelativeLayout.LayoutParams layoutParams = new RelativeLayout.LayoutParams(videoWidth, videoHeight);\r\n                layoutParams.addRule(RelativeLayout.CENTER_IN_PARENT);\r\n                setLayoutParams(layoutParams);\r\n            }\r\n        }\r\n    \r\n        private VideoSurfaceCallBack videoSurfaceCallBack;\r\n    \r\n        public void setVideoSurfaceCallBack(VideoSurfaceCallBack videoSurfaceCallBack) {\r\n            this.videoSurfaceCallBack = videoSurfaceCallBack;\r\n        }\r\n    \r\n        interface VideoSurfaceCallBack {\r\n            void onError();\r\n        }\r\n    }\r\n\r\n I am getting error as,\r\n\r\n   \r\n\r\n       12-23 08:28:11.108  7759  7759 E AndroidRuntime: Process: com.example.custom, PID: 7759\r\n        12-23 08:28:11.108  7759  7759 E AndroidRuntime: java.lang.IllegalStateException\r\n        12-23 08:28:11.108  7759  7759 E AndroidRuntime: \tat android.media.MediaPlayer._prepare(Native Method)\r\n        12-23 08:28:11.108  7759  7759 E AndroidRuntime: \tat android.media.MediaPlayer.prepare(MediaPlayer.java:1274)\r\n        12-23 08:28:11.108  7759  7759 E AndroidRuntime: \tat com.example.custom.view.VideoSurfaceView$1.onPostExecute(VideoSurfaceView.java:155)\r\n        12-23 08:28:11.108  7759  7759 E AndroidRuntime: \tat com.example.custom.view.VideoSurfaceView$1.onPostExecute(VideoSurfaceView.java:106)\r\n        12-23 08:28:11.108  7759  7759 E AndroidRuntime: \tat android.os.AsyncTask.finish(AsyncTask.java:755)\r\n        12-23 08:28:11.108  7759  7759 E AndroidRuntime: \tat android.os.AsyncTask.access$900(AsyncTask.java:192)\r\n        12-23 08:28:11.108  7759  7759 E AndroidRuntime: \tat android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:772)\r\n        12-23 08:28:11.108  7759  7759 E AndroidRuntime: \tat android.os.Handler.dispatchMessage(Handler.java:107)\r\n        12-23 08:28:11.108  7759  7759 E AndroidRuntime: \tat android.os.Looper.loop(Looper.java:214)\r\n        12-23 08:28:11.108  7759  7759 E AndroidRuntime: \tat android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        12-23 08:28:11.108  7759  7759 E AndroidRuntime: \tat java.lang.reflect.Method.invoke(Native Method)\r\n        12-23 08:28:11.108  7759  7759 E AndroidRuntime: \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        12-23 08:28:11.108  7759  7759 E AndroidRuntime: \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n\r\n I am getting error in **mMediaPlayer.prepare();**. Kindly let me know where exactly I need to fix this issue. \r\n\r\nI tried using mMeiaPlayer.perpareAsync too but didn&#39;t worked.\r\n\r\n\r\n","title":"Illegal State Exception in mediaplayer.prepare android","body":"<p>I am using a method in asynctask in the class VideoSurfaceView.</p>\n<p>But I am getting crash.</p>\n<p>I tried other ways too but didn't worked. Below is the code:</p>\n<p>......</p>\n<pre><code>     public class VideoSurfaceView extends SurfaceView implements SurfaceHolder.Callback {\n\n    private static final String TAG = &quot;VideoSurfaceView&quot;;\n\n    private MediaPlayer mMediaPlayer;\n\n    private String mVideoPath = &quot;&quot;;\n    private ScreenSaverView.OnVideoPrepareListener onVideoPrepareListener;\n\n    private Bitmap mPreviewBitmap;\n\n    private boolean locking = false;\n    private boolean lockResult = false;\n    private boolean reading = false;\n\n    public VideoSurfaceView(Context context) {\n        super(context);\n        init();\n    }\n\n    private void init() {\n        LogD.i(TAG, &quot;init&quot;);\n        SurfaceHolder mSurfaceHolder = getHolder();\n        mSurfaceHolder.addCallback(this);\n    }\n\n    @Override\n    public void surfaceCreated(SurfaceHolder holder) {\n        LogD.i(TAG, &quot;surfaceCreated&quot;);\n        if (!getVideoPath().isEmpty()) {\n            initVideoPlayer();\n        }\n    }\n\n    @Override\n    public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\n        LogD.i(TAG, &quot;surfaceChanged&quot;);\n    }\n\n    @Override\n    public void surfaceDestroyed(SurfaceHolder holder) {\n        LogD.i(TAG, &quot;surfaceDestroyed&quot;);\n        if (mMediaPlayer != null) {\n            if (mMediaPlayer.isPlaying()) {\n                mMediaPlayer.stop();\n            }\n            mMediaPlayer.release();\n            mMediaPlayer = null;\n        }\n\n    }\n\n\n    private void initVideoPlayer() {\n        Canvas canvas = getHolder().lockCanvas();\n        if (mPreviewBitmap != null &amp;&amp; canvas != null) {\n            int w = getWidth();\n            int h = getHeight();\n            Rect src = new Rect(0, 0, mPreviewBitmap.getWidth(), mPreviewBitmap.getHeight());\n            Rect dst = new Rect(0, 0, w, h);\n            LogD.d(TAG, &quot;drawFirstFrame:view w: &quot; + getWidth() + &quot; h:&quot; + getHeight());\n            canvas.drawBitmap(mPreviewBitmap, src, dst, null);\n            getHolder().unlockCanvasAndPost(canvas);\n        } else if (canvas != null){\n            canvas.drawColor(Color.WHITE);\n            getHolder().unlockCanvasAndPost(canvas);\n        }\n\n        boolean needClose = onVideoPrepareListener.onPrepare();\n        if (needClose) {\n            LogD.d(TAG, &quot;initVideoPlayer needClose return: &quot;);\n            return;\n        }\n\n        LogD.i(TAG, &quot;initFirstPlayer()&quot;);\n        mMediaPlayer = new MediaPlayer();\n        mMediaPlayer.setVolume(0, 0);\n        mMediaPlayer.setDisplay(getHolder());\n        startPlayFirstVideo();\n    }\n\n    private void startPlayFirstVideo() {\n\n        new AsyncTask&lt;Void, Void, FileCacheMediaDataSource&gt;() {\n\n            @Override\n            protected FileCacheMediaDataSource doInBackground(Void... voids) {\n                locking = true;\n                lockResult = false;\n                reading = true;\n                new Thread(new Runnable() {\n                    @Override\n                    public void run() {\n                        LockResult result = LockManager.getInstance().lock(LockReason.DISK_SCREENSAVER_READ_ACCESS);\n                        lockResult = result.isLockSuccess();\n                        if (!reading &amp;&amp; lockResult) {\n                            LockManager.getInstance().unlock(LockReason.DISK_SCREENSAVER_READ_ACCESS);\n                        }\n                        locking = false;\n                    }\n                }).start();\n\n                String path = AppConst.SCREEN_SAVER_MEDIA_PATH + mVideoPath;\n                FileCacheMediaDataSource dataSource = new FileCacheMediaDataSource(path);\n                if (!locking &amp;&amp; lockResult) {\n                    LockManager.getInstance().unlock(LockReason.DISK_SCREENSAVER_READ_ACCESS);\n                }\n                reading = false;\n\n                return dataSource;\n            }\n\n            @Override\n            protected void onPostExecute(FileCacheMediaDataSource dataSource) {\n                super.onPostExecute(dataSource);\n                if (mMediaPlayer == null) {\n                    return;\n                }\n                if (dataSource.getSize() == -1) {\n                    LogD.d(TAG, &quot;showErrorScreenSaver&quot;);\n                    screenSaverError();\n                    return;\n                }\n                try {\n                    // stop and reset media player\n                    mMediaPlayer.stop();\n                    mMediaPlayer.reset();\n                    mMediaPlayer.setDataSource(dataSource);\n                    mMediaPlayer.setLooping(true);\n                    mMediaPlayer.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\n                        @Override\n                        public void onPrepared(MediaPlayer mp) {\n                            mMediaPlayer.start();\n                        }\n                    });\n                    mMediaPlayer.setOnErrorListener(new MediaPlayer.OnErrorListener() {\n                        @Override\n                        public boolean onError(MediaPlayer mediaPlayer, int i, int i1) {\n                            return false;\n                        }\n                    });\n                    mMediaPlayer.prepare();\n                } catch (IOException e) {\n                    LogD.i(TAG, &quot;startPlayFirstVideo = &quot; + e.toString());\n                }\n            }\n        };\n    }\n\n    private void screenSaverError() {\n        if (videoSurfaceCallBack != null) {\n            videoSurfaceCallBack.onError();\n        }\n    }\n\n\n    public String getVideoPath() {\n        return mVideoPath;\n    }\n\n    public void setOnVideoPrepareListener(ScreenSaverView.OnVideoPrepareListener onVideoPrepareListener) {\n        this.onVideoPrepareListener = onVideoPrepareListener;\n    }\n\n    public void setPreviewBitmap(Bitmap bitmap){\n        mPreviewBitmap = bitmap;\n    }\n\n    public void setVideoPath(String videoPath) {\n        mVideoPath = videoPath;\n\n        Bitmap bitmap = mPreviewBitmap;\n        if (bitmap != null) {\n            int videoWidth = bitmap.getWidth();\n            int videoHeight = bitmap.getHeight();\n            float max = Math.max((float) videoWidth / (float) 1024,(float) videoHeight / (float) 520);\n            videoWidth = (int) Math.ceil((float) videoWidth / max);\n            videoHeight = (int) Math.ceil((float) videoHeight / max);\n            LogD.d(TAG, &quot;setVideoPath LayoutParams videoWidth:&quot;+videoWidth+&quot; videoHeight:&quot;+videoHeight);\n            RelativeLayout.LayoutParams layoutParams = new RelativeLayout.LayoutParams(videoWidth, videoHeight);\n            layoutParams.addRule(RelativeLayout.CENTER_IN_PARENT);\n            setLayoutParams(layoutParams);\n        }\n    }\n\n    private VideoSurfaceCallBack videoSurfaceCallBack;\n\n    public void setVideoSurfaceCallBack(VideoSurfaceCallBack videoSurfaceCallBack) {\n        this.videoSurfaceCallBack = videoSurfaceCallBack;\n    }\n\n    interface VideoSurfaceCallBack {\n        void onError();\n    }\n}\n</code></pre>\n<p>I am getting error as,</p>\n<pre><code>   12-23 08:28:11.108  7759  7759 E AndroidRuntime: Process: com.example.custom, PID: 7759\n    12-23 08:28:11.108  7759  7759 E AndroidRuntime: java.lang.IllegalStateException\n    12-23 08:28:11.108  7759  7759 E AndroidRuntime:    at android.media.MediaPlayer._prepare(Native Method)\n    12-23 08:28:11.108  7759  7759 E AndroidRuntime:    at android.media.MediaPlayer.prepare(MediaPlayer.java:1274)\n    12-23 08:28:11.108  7759  7759 E AndroidRuntime:    at com.example.custom.view.VideoSurfaceView$1.onPostExecute(VideoSurfaceView.java:155)\n    12-23 08:28:11.108  7759  7759 E AndroidRuntime:    at com.example.custom.view.VideoSurfaceView$1.onPostExecute(VideoSurfaceView.java:106)\n    12-23 08:28:11.108  7759  7759 E AndroidRuntime:    at android.os.AsyncTask.finish(AsyncTask.java:755)\n    12-23 08:28:11.108  7759  7759 E AndroidRuntime:    at android.os.AsyncTask.access$900(AsyncTask.java:192)\n    12-23 08:28:11.108  7759  7759 E AndroidRuntime:    at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:772)\n    12-23 08:28:11.108  7759  7759 E AndroidRuntime:    at android.os.Handler.dispatchMessage(Handler.java:107)\n    12-23 08:28:11.108  7759  7759 E AndroidRuntime:    at android.os.Looper.loop(Looper.java:214)\n    12-23 08:28:11.108  7759  7759 E AndroidRuntime:    at android.app.ActivityThread.main(ActivityThread.java:7356)\n    12-23 08:28:11.108  7759  7759 E AndroidRuntime:    at java.lang.reflect.Method.invoke(Native Method)\n    12-23 08:28:11.108  7759  7759 E AndroidRuntime:    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n    12-23 08:28:11.108  7759  7759 E AndroidRuntime:    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n</code></pre>\n<p>I am getting error in <strong>mMediaPlayer.prepare();</strong>. Kindly let me know where exactly I need to fix this issue.</p>\n<p>I tried using mMeiaPlayer.perpareAsync too but didn't worked.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1645417430,"post_id":71201194,"comment_id":125857496,"body_markdown":"Have you tried your implementation to see if it works?","body":"Have you tried your implementation to see if it works?"},{"owner":{"account_id":8700699,"reputation":35,"user_id":6510703,"display_name":"Leon"},"score":0,"creation_date":1645417699,"post_id":71201194,"comment_id":125857537,"body_markdown":"@TimMoore sure I did. And it didn&#39;t","body":"@TimMoore sure I did. And it didn&#39;t"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1645418364,"post_id":71201194,"comment_id":125857624,"body_markdown":"The compiler doesn&#39;t *&quot;replace every `T` with Object&quot;*. Even at runtime, your real `T` (`IP`) in this case will still know that it&#39;s an `IP` object (called runtime class). And using `equals` is the right way to do this comparison. The problem is that we don&#39;t know what you mean when you say &quot;it didn&#39;t work&quot;. Could you please explain?","body":"The compiler doesn&#39;t <i>&quot;replace every <code>T</code> with Object&quot;</i>. Even at runtime, your real <code>T</code> (<code>IP</code>) in this case will still know that it&#39;s an <code>IP</code> object (called runtime class). And using <code>equals</code> is the right way to do this comparison. The problem is that we don&#39;t know what you mean when you say &quot;it didn&#39;t work&quot;. Could you please explain?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1645418876,"post_id":71201194,"comment_id":125857689,"body_markdown":"Works for me. See my code here: https://ideone.com/Zi9uVl","body":"Works for me. See my code here: <a href=\"https://ideone.com/Zi9uVl\" rel=\"nofollow noreferrer\">ideone.com/Zi9uVl</a>"},{"owner":{"account_id":8700699,"reputation":35,"user_id":6510703,"display_name":"Leon"},"score":0,"creation_date":1645420596,"post_id":71201194,"comment_id":125857985,"body_markdown":"I have updated my question to better reflect my expectations and the way my classes should be used.","body":"I have updated my question to better reflect my expectations and the way my classes should be used."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645420815,"creation_date":1645420815,"answer_id":71201536,"question_id":71201194,"body_markdown":"The line\r\n```\r\n if (e.getLabel().equals(e)) {\r\n```\r\nin ```contains``` should be\r\n```\r\n if (e.getLabel().equals(label)) {\r\n```\r\n\r\nSolution:\r\n\r\n```\r\n    public boolean contains(T label) {\r\n        for (Node&lt;T&gt; e : internal) {\r\n            if (e.getLabel().equals(label)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n```","title":"How to implement equals method which works on generics","body":"<p>The line</p>\n<pre><code> if (e.getLabel().equals(e)) {\n</code></pre>\n<p>in <code>contains</code> should be</p>\n<pre><code> if (e.getLabel().equals(label)) {\n</code></pre>\n<p>Solution:</p>\n<pre><code>    public boolean contains(T label) {\n        for (Node&lt;T&gt; e : internal) {\n            if (e.getLabel().equals(label)) {\n                return true;\n            }\n        }\n        return false;\n    }\n</code></pre>\n"}],"owner":{"account_id":8700699,"reputation":35,"user_id":6510703,"display_name":"Leon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645420815,"creation_date":1645417011,"question_id":71201194,"body_markdown":"I have the following problem. I have the following classes\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        // Expected:    true\r\n        // Results in:  true\r\n        List&lt;String&gt; strLst = new ArrayList&lt;&gt;();\r\n        strLst.add(new String(&quot;A&quot;));\r\n        System.out.println(strLst.contains(new String(&quot;A&quot;)));\r\n\r\n        // Expected:    true\r\n        // Results in:  true\r\n        List&lt;Number&gt; numLst = new ArrayList&lt;&gt;();\r\n        numLst.add(new Number(1));\r\n        System.out.println(numLst.contains(new Number(1)));\r\n\r\n        // Expected:    true\r\n        // Results in:  false\r\n        Container&lt;String&gt; integers = new Container&lt;&gt;();\r\n        integers.add(new String(&quot;A&quot;));\r\n        System.out.println(integers.contains(new String(&quot;A&quot;)));\r\n\r\n        // Expected:    true\r\n        // Results in:  false\r\n        Container&lt;Number&gt; numbers = new Container&lt;&gt;();\r\n        numbers.add(new Number(1));\r\n        System.out.println(numbers.contains(new Number(1)));\r\n    }    \r\n}\r\n\r\n\r\nclass Container&lt;T&gt; {\r\n    ArrayList&lt;Node&lt;T&gt;&gt; internal = new ArrayList&lt;&gt;();\r\n\r\n    public void add(T elem) {\r\n        internal.add(new Node&lt;&gt;(elem));\r\n    }\r\n\r\n\r\n    public boolean contains(T label) {\r\n        for (Node&lt;T&gt; e : internal) {\r\n            if (e.getLabel().equals(e)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\nclass Node&lt;T&gt; {\r\n    T label;\r\n    public Node(T label) {\r\n        this.label = label;\r\n    }\r\n\r\n    public T getLabel() {\r\n        return label; \r\n    }\r\n}\r\n\r\nclass Number {\r\n    private int val;\r\n    \r\n    public Number(int val) {\r\n        this.val = val;\r\n    }\r\n\r\n    public boolean equals(Object o) {\r\n        if (o instanceof Number) {\r\n            return this.val == ((Number) o).val;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI am not sure what went wrong here. I would expect similar behavior with my Container as with ArrayList. But it does not, because in my opinion ArrayList (see https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/ArrayList.java#L251) implements `contains` in a similar way.\r\n\r\nWhat does ArrayList do different than I do? And if it is not possible to implement such behavior the way I hope to, how would I do this alternatively?","title":"How to implement equals method which works on generics","body":"<p>I have the following problem. I have the following classes</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n\n        // Expected:    true\n        // Results in:  true\n        List&lt;String&gt; strLst = new ArrayList&lt;&gt;();\n        strLst.add(new String(&quot;A&quot;));\n        System.out.println(strLst.contains(new String(&quot;A&quot;)));\n\n        // Expected:    true\n        // Results in:  true\n        List&lt;Number&gt; numLst = new ArrayList&lt;&gt;();\n        numLst.add(new Number(1));\n        System.out.println(numLst.contains(new Number(1)));\n\n        // Expected:    true\n        // Results in:  false\n        Container&lt;String&gt; integers = new Container&lt;&gt;();\n        integers.add(new String(&quot;A&quot;));\n        System.out.println(integers.contains(new String(&quot;A&quot;)));\n\n        // Expected:    true\n        // Results in:  false\n        Container&lt;Number&gt; numbers = new Container&lt;&gt;();\n        numbers.add(new Number(1));\n        System.out.println(numbers.contains(new Number(1)));\n    }    \n}\n\n\nclass Container&lt;T&gt; {\n    ArrayList&lt;Node&lt;T&gt;&gt; internal = new ArrayList&lt;&gt;();\n\n    public void add(T elem) {\n        internal.add(new Node&lt;&gt;(elem));\n    }\n\n\n    public boolean contains(T label) {\n        for (Node&lt;T&gt; e : internal) {\n            if (e.getLabel().equals(e)) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n\nclass Node&lt;T&gt; {\n    T label;\n    public Node(T label) {\n        this.label = label;\n    }\n\n    public T getLabel() {\n        return label; \n    }\n}\n\nclass Number {\n    private int val;\n    \n    public Number(int val) {\n        this.val = val;\n    }\n\n    public boolean equals(Object o) {\n        if (o instanceof Number) {\n            return this.val == ((Number) o).val;\n        }\n        return false;\n    }\n}\n\n</code></pre>\n<p>I am not sure what went wrong here. I would expect similar behavior with my Container as with ArrayList. But it does not, because in my opinion ArrayList (see <a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/ArrayList.java#L251\" rel=\"nofollow noreferrer\">https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/ArrayList.java#L251</a>) implements <code>contains</code> in a similar way.</p>\n<p>What does ArrayList do different than I do? And if it is not possible to implement such behavior the way I hope to, how would I do this alternatively?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8418,"page":1574,"page_size":100}
