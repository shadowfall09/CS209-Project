{"items":[{"tags":["c#","java","matlab"],"comments":[{"owner":{"account_id":4887011,"reputation":128,"user_id":6323677,"display_name":"bream"},"score":1,"creation_date":1655342436,"post_id":10976288,"comment_id":128312279,"body_markdown":"This problem is called &quot;getting the list of cycles in a directed graph.&quot; These keywords may help you find the answer, as one [has been posted on SO before](https://stackoverflow.com/a/2794683/6323677).","body":"This problem is called &quot;getting the list of cycles in a directed graph.&quot; These keywords may help you find the answer, as one <a href=\"https://stackoverflow.com/a/2794683/6323677\">has been posted on SO before</a>."}],"answers":[{"tags":[],"owner":{"account_id":894985,"reputation":10623,"user_id":932466,"accept_rate":97,"display_name":"Paul de Lange"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1339401469,"creation_date":1339401469,"answer_id":10976305,"question_id":10976288,"body_markdown":"Don&#39;t know your level but the [boost][1] library is very good if you can get it configured correctly\r\n\r\n\r\n  [1]: http://www.boost.org/doc/libs/1_49_0/libs/graph/doc/table_of_contents.html","title":"Graph Theory Algorithms","body":"<p>Don't know your level but the <a href=\"http://www.boost.org/doc/libs/1_49_0/libs/graph/doc/table_of_contents.html\" rel=\"nofollow\">boost</a> library is very good if you can get it configured correctly</p>\n"},{"tags":[],"owner":{"account_id":317209,"reputation":4240,"user_id":633770,"accept_rate":80,"display_name":"arne.b"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1519031853,"creation_date":1339408352,"answer_id":10977826,"question_id":10976288,"body_markdown":"Why not write your own recursive function?\r\n\r\n    findPath(Node start, Node end, List&lt;Node&gt; alreadyVisited)\r\n        for (Node neighbor: other ends of outgoing edges from start) { \r\n             if (neighbor == end)\r\n                 display(&quot;Found a path: &quot; + alreadyVisited + end)\r\n             else if (neighbor not in alreadyVisited)\r\n                 findPath(neighbor, end, alreadyVisited + neighbor)\r\n        }\r\n\r\n...or something alike. Since you look for cycles, the initial call should have the same value passed to `start` and `end`. Of course, if output to the prompt is not sufficient, you need to collect the correct paths in a global array or find a more elegant way of returning them.\r\n\r\nAlso, doing a bidirectional search (following incoming edges simultaneously and checking for the intersection of nodes reached by consecutive outgoing edges and consecutive incoming edges instead of only whether the desired end point has been reached) should be faster for larger graphs.","title":"Graph Theory Algorithms","body":"<p>Why not write your own recursive function?</p>\n\n<pre><code>findPath(Node start, Node end, List&lt;Node&gt; alreadyVisited)\n    for (Node neighbor: other ends of outgoing edges from start) { \n         if (neighbor == end)\n             display(\"Found a path: \" + alreadyVisited + end)\n         else if (neighbor not in alreadyVisited)\n             findPath(neighbor, end, alreadyVisited + neighbor)\n    }\n</code></pre>\n\n<p>...or something alike. Since you look for cycles, the initial call should have the same value passed to <code>start</code> and <code>end</code>. Of course, if output to the prompt is not sufficient, you need to collect the correct paths in a global array or find a more elegant way of returning them.</p>\n\n<p>Also, doing a bidirectional search (following incoming edges simultaneously and checking for the intersection of nodes reached by consecutive outgoing edges and consecutive incoming edges instead of only whether the desired end point has been reached) should be faster for larger graphs.</p>\n"}],"owner":{"account_id":1557825,"reputation":685,"user_id":1448396,"accept_rate":73,"display_name":"NG_21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1583,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1655351651,"answer_count":2,"score":-1,"last_activity_date":1655342278,"creation_date":1339401376,"question_id":10976288,"body_markdown":"I am working on to get all the possible paths starting from a Node &#39;A&#39; and ending at the same node. The graph is a directed graph ( i.e each node is connected to at least one node ).\r\n\r\nThe constraints are :  I can visit a node exactly once, except for , ( of course the starting node).\r\n\r\nThe Problem : I tried to implement this using  graphraverse function in MATLAB , but it gives me only one such way. Any algorithm or logic that can be implemented in C, java would work.\r\n\r\nI would be glad if someone can give me any pointers to it . \r\n\r\nNote: I don&#39;t want the shortest path, I want a set of possible paths. \r\n\r\n ","title":"Graph Theory Algorithms","body":"<p>I am working on to get all the possible paths starting from a Node 'A' and ending at the same node. The graph is a directed graph ( i.e each node is connected to at least one node ).</p>\n\n<p>The constraints are :  I can visit a node exactly once, except for , ( of course the starting node).</p>\n\n<p>The Problem : I tried to implement this using  graphraverse function in MATLAB , but it gives me only one such way. Any algorithm or logic that can be implemented in C, java would work.</p>\n\n<p>I would be glad if someone can give me any pointers to it . </p>\n\n<p>Note: I don't want the shortest path, I want a set of possible paths. </p>\n"},{"tags":["java","junit","junit4","junit5"],"owner":{"account_id":18289412,"reputation":11,"user_id":13316539,"display_name":"oscar1712"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655340772,"creation_date":1655340772,"question_id":72639321,"body_markdown":"I am making a piece of software that runs a load test using the JUnit launcher. The problem is that I keep on encountering the following warning `WARNING: Error scanning files for URI jar: ...` with exception `java.nio.file.FileSystemAlreadyExistsException` emitted from the JUnit code base due to `jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.newFileSystem(ZipFileSystemProvider.java:102)` at `org.junit.platform.commons.util.CloseablePath.createForJarFileSystem(CloseablePath.java:57)`. \r\n\r\nI am launching the same test across multiple threads. I believe the issue is caused by the `.execute()` method performing test discovery each time, causing a race condition inside the JUnit code. \r\n\r\nI was wondering if there is there currently a way to perform test discovery once in JUnit and then use the same `TestPlan` to execute the test multiple times? If not is then is there a fix for this problem that allows me to invoke tests which are packaged in the `.jar` format (unzipping the test `.jar` is not feasible for my use case).  \r\n\r\nIt seems to me that JUnit no longer supports executing the same test plan repeatedly https://github.com/junit-team/junit5/issues/2379 forcing inefficient test discovery to happen each time leading to the `FileSystemAlreadyExistsException`. The following class in JUnit may not be thread safe https://github.com/junit-team/junit5/blob/main/junit-platform-commons/src/main/java/org/junit/platform/commons/util/CloseablePath.java\r\n\r\nThanks!","title":"JUnit java.nio.file.FileSystemAlreadyExistsException","body":"<p>I am making a piece of software that runs a load test using the JUnit launcher. The problem is that I keep on encountering the following warning <code>WARNING: Error scanning files for URI jar: ...</code> with exception <code>java.nio.file.FileSystemAlreadyExistsException</code> emitted from the JUnit code base due to <code>jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.newFileSystem(ZipFileSystemProvider.java:102)</code> at <code>org.junit.platform.commons.util.CloseablePath.createForJarFileSystem(CloseablePath.java:57)</code>.</p>\n<p>I am launching the same test across multiple threads. I believe the issue is caused by the <code>.execute()</code> method performing test discovery each time, causing a race condition inside the JUnit code.</p>\n<p>I was wondering if there is there currently a way to perform test discovery once in JUnit and then use the same <code>TestPlan</code> to execute the test multiple times? If not is then is there a fix for this problem that allows me to invoke tests which are packaged in the <code>.jar</code> format (unzipping the test <code>.jar</code> is not feasible for my use case).</p>\n<p>It seems to me that JUnit no longer supports executing the same test plan repeatedly <a href=\"https://github.com/junit-team/junit5/issues/2379\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit5/issues/2379</a> forcing inefficient test discovery to happen each time leading to the <code>FileSystemAlreadyExistsException</code>. The following class in JUnit may not be thread safe <a href=\"https://github.com/junit-team/junit5/blob/main/junit-platform-commons/src/main/java/org/junit/platform/commons/util/CloseablePath.java\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit5/blob/main/junit-platform-commons/src/main/java/org/junit/platform/commons/util/CloseablePath.java</a></p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-mvc","exception","jackson"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1499164619,"post_id":44903559,"comment_id":76784186,"body_markdown":"maybe you should not &quot;re-throw&quot; it!? (`throw e;`)","body":"maybe you should not &quot;re-throw&quot; it!? (<code>throw e;</code>)"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1499171345,"post_id":44903559,"comment_id":76789006,"body_markdown":"@xerx593  this code doesn;t invoke","body":"@xerx593  this code doesn;t invoke"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1499171868,"post_id":44903559,"comment_id":76789379,"body_markdown":"...thanks for updates, now I would ask whether `MyExceptionHandler` is correctly (spring) configured/scanned? (Can you verify in logging the initialization of ControllerAdvice)","body":"...thanks for updates, now I would ask whether <code>MyExceptionHandler</code> is correctly (spring) configured/scanned? (Can you verify in logging the initialization of ControllerAdvice)"},{"owner":{"account_id":8502585,"reputation":4489,"user_id":6375113,"accept_rate":100,"display_name":"Bugs"},"score":0,"creation_date":1499173748,"post_id":44903559,"comment_id":76790698,"body_markdown":"Please post solutions as answers not as updates to your question. This is for future visitors and to avoid confusion. Thank you.","body":"Please post solutions as answers not as updates to your question. This is for future visitors and to avoid confusion. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":10147549,"reputation":6813,"user_id":7495230,"accept_rate":57,"display_name":"Afridi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1499164960,"creation_date":1499164653,"answer_id":44903660,"question_id":44903559,"body_markdown":"Change `@ExceptionHandler` to `@ExceptionHandler(value = HttpMessageNotReadableException.class)`\r\n\r\nAnd instead of re-throwing same exception, its better to return a custom object containing that error message in meaningful way","title":"@ExceptionHandler doesn&#39;t catch HttpMessageNotReadableException","body":"<p>Change <code>@ExceptionHandler</code> to <code>@ExceptionHandler(value = HttpMessageNotReadableException.class)</code></p>\n\n<p>And instead of re-throwing same exception, its better to return a custom object containing that error message in meaningful way</p>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1499164837,"creation_date":1499164837,"answer_id":44903730,"question_id":44903559,"body_markdown":"You have to **specify** the class that the handler needs to handle. Like:\r\n\r\n    @ExceptionHandler(HttpMessageNotReadableException.class)\r\n\r\nSee [here][1] for further reading for example. Or [there][2] for a &quot;complete&quot; discussion regarding spring and exception handling.\r\n\r\n\r\n  [1]: https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\r\n  [2]: http://www.journaldev.com/2651/spring-mvc-exception-handling-controlleradvice-exceptionhandler-handlerexceptionresolver","title":"@ExceptionHandler doesn&#39;t catch HttpMessageNotReadableException","body":"<p>You have to <strong>specify</strong> the class that the handler needs to handle. Like:</p>\n\n<pre><code>@ExceptionHandler(HttpMessageNotReadableException.class)\n</code></pre>\n\n<p>See <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"noreferrer\">here</a> for further reading for example. Or <a href=\"http://www.journaldev.com/2651/spring-mvc-exception-handling-controlleradvice-exceptionhandler-handlerexceptionresolver\" rel=\"noreferrer\">there</a> for a \"complete\" discussion regarding spring and exception handling.</p>\n"},{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1499245926,"creation_date":1499176314,"answer_id":44907806,"question_id":44903559,"body_markdown":"Finally I found solution:\r\n\r\n\r\nRoot cause was that there was 2 places with `@ExceptionHandler`\r\n\r\n- Inside controller  \r\n- Inside the Separated class `MyExceptionHandler` described in question.  \r\n\r\nI moved method to `MyExceptionHandler` ans it became working.","title":"@ExceptionHandler doesn&#39;t catch HttpMessageNotReadableException","body":"<p>Finally I found solution:</p>\n\n<p>Root cause was that there was 2 places with <code>@ExceptionHandler</code></p>\n\n<ul>\n<li>Inside controller  </li>\n<li>Inside the Separated class <code>MyExceptionHandler</code> described in question.  </li>\n</ul>\n\n<p>I moved method to <code>MyExceptionHandler</code> ans it became working.</p>\n"},{"tags":[],"owner":{"account_id":19184755,"reputation":1,"user_id":17197142,"display_name":"Sol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655340520,"creation_date":1655340520,"answer_id":72639301,"question_id":44903559,"body_markdown":"Mine worked after I imported the class.In the beginning it was not recognizing the class. But it worked after importing import org.springframework.http.converter.*; ","title":"@ExceptionHandler doesn&#39;t catch HttpMessageNotReadableException","body":"<p>Mine worked after I imported the class.In the beginning it was not recognizing the class. But it worked after importing import org.springframework.http.converter.*;</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16866,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":44907806,"answer_count":4,"score":14,"last_activity_date":1655340520,"creation_date":1499164333,"question_id":44903559,"body_markdown":"I have the following exception handler:\r\n\r\n    @ControllerAdvice\r\n    public class MyExceptionHandler {\r\n      private static final Logger logger = LoggerFactory.getLogger(MyExceptionHandler.class);\r\n        @ExceptionHandler\r\n        @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n        public void handle(HttpMessageNotReadableException e) {\r\n            logger.warn(&quot;HttpMessageNotReadableException occurred.&quot;, e);\r\n            throw e;\r\n        }\r\n\r\nBut it doesn&#39;t catch `HttpMessageNotReadableException`?! In my logs I see (it prints spring itself):\r\n\r\n    2017-07-04 13:26:38,699 DEBUG org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.getMethodArgumentValues:164 - Failed to resolve argument 0 of type &#39;com.finvale.model.Client&#39;\r\n    org.springframework.http.converter.HttpMessageNotReadableException: Could not read document: Can not deserialize value of type java.time.LocalDate from String &quot;Invalid date&quot;: Text &#39;Invalid date&#39; could not be parsed at index 0\r\n     at [Source: java.io.PushbackInputStream@4f30395; line: 1, column: 103] (through reference chain: com.finvale.model.Client[&quot;birthDay&quot;]); nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Can not deserialize value of type java.time.LocalDate from String &quot;Invalid date&quot;: Text &#39;Invalid date&#39; could not be parsed at index 0\r\n     at [Source: java.io.PushbackInputStream@4f30395; line: 1, column: 103] (through reference chain: com.finvale.model.Client[&quot;birthDay&quot;])\r\n    \tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:240)\r\n    \tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:225)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:201)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:128)\r\n    \tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:108)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\r\nIs it possible to catch this exception in my ExceptionHandler ?\r\n\r\n\r\nP.S.\r\n-\r\n\r\nI agree that my code contains mistake. I neeed to specify type in annotation.\r\nI changed it like this:\r\n\r\n     @ExceptionHandler(HttpMessageNotReadableException.class)\r\n        @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n        public void handle(HttpMessageNotReadableException e) {\r\n\r\nbut I still see same behaviour.\r\n\r\n`handle` method doesn&#39;t invoke ","title":"@ExceptionHandler doesn&#39;t catch HttpMessageNotReadableException","body":"<p>I have the following exception handler:</p>\n\n<pre><code>@ControllerAdvice\npublic class MyExceptionHandler {\n  private static final Logger logger = LoggerFactory.getLogger(MyExceptionHandler.class);\n    @ExceptionHandler\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    public void handle(HttpMessageNotReadableException e) {\n        logger.warn(\"HttpMessageNotReadableException occurred.\", e);\n        throw e;\n    }\n</code></pre>\n\n<p>But it doesn't catch <code>HttpMessageNotReadableException</code>?! In my logs I see (it prints spring itself):</p>\n\n<pre><code>2017-07-04 13:26:38,699 DEBUG org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.getMethodArgumentValues:164 - Failed to resolve argument 0 of type 'com.finvale.model.Client'\norg.springframework.http.converter.HttpMessageNotReadableException: Could not read document: Can not deserialize value of type java.time.LocalDate from String \"Invalid date\": Text 'Invalid date' could not be parsed at index 0\n at [Source: java.io.PushbackInputStream@4f30395; line: 1, column: 103] (through reference chain: com.finvale.model.Client[\"birthDay\"]); nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Can not deserialize value of type java.time.LocalDate from String \"Invalid date\": Text 'Invalid date' could not be parsed at index 0\n at [Source: java.io.PushbackInputStream@4f30395; line: 1, column: 103] (through reference chain: com.finvale.model.Client[\"birthDay\"])\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:240)\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:225)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:201)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:128)\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:108)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n</code></pre>\n\n<p>Is it possible to catch this exception in my ExceptionHandler ?</p>\n\n<h2>P.S.</h2>\n\n<p>I agree that my code contains mistake. I neeed to specify type in annotation.\nI changed it like this:</p>\n\n<pre><code> @ExceptionHandler(HttpMessageNotReadableException.class)\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    public void handle(HttpMessageNotReadableException e) {\n</code></pre>\n\n<p>but I still see same behaviour.</p>\n\n<p><code>handle</code> method doesn't invoke </p>\n"},{"tags":["java","sorting","selection-sort"],"comments":[{"owner":{"display_name":"user14215102"},"score":1,"creation_date":1637266988,"post_id":70026152,"comment_id":123787549,"body_markdown":"That does look like bubble sort. If you want selection sort, the j loop should find where the minimum is and after the j loop ends, you do one swap to bring that element to the bottom.","body":"That does look like bubble sort. If you want selection sort, the j loop should find where the minimum is and after the j loop ends, you do one swap to bring that element to the bottom."},{"owner":{"account_id":16004350,"reputation":133,"user_id":11550214,"display_name":"snd"},"score":0,"creation_date":1637266990,"post_id":70026152,"comment_id":123787551,"body_markdown":"If you are sorting in ascending you can simply use `Arrays.sort(arr)`, import `java.util.Arrays`","body":"If you are sorting in ascending you can simply use <code>Arrays.sort(arr)</code>, import <code>java.util.Arrays</code>"},{"owner":{"account_id":20230445,"reputation":43,"user_id":14837124,"display_name":"Neel"},"score":0,"creation_date":1637269234,"post_id":70026152,"comment_id":123788358,"body_markdown":"@snd Thank you, but I already know that. My main objective is to make methods of all the sorting algorithms on my own.","body":"@snd Thank you, but I already know that. My main objective is to make methods of all the sorting algorithms on my own."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637266968,"creation_date":1637266968,"answer_id":70026248,"question_id":70026152,"body_markdown":"```java\r\npublic final class SelectionSort {\r\n\r\n    public static void sortAsc(int[] arr) {\r\n        for (int i = 0; i &lt; arr.length - 1; i++)\r\n            swap(arr, i, getMinIndex(arr, i));\r\n    }\r\n\r\n    private static int getMinIndex(int[] arr, int i) {\r\n        int minIndex = i;\r\n\r\n        for (; i &lt; arr.length; i++)\r\n            if (arr[i] &lt; arr[minIndex])\r\n                minIndex = i;\r\n\r\n        return minIndex;\r\n    }\r\n\r\n    private static void swap(int[] arr, int i, int j) {\r\n        int tmp = arr[i];\r\n        arr[i] = arr[j];\r\n        arr[j] = tmp;\r\n    }\r\n\r\n}\r\n```","title":"Valid selection sort algorithm?","body":"<pre class=\"lang-java prettyprint-override\"><code>public final class SelectionSort {\n\n    public static void sortAsc(int[] arr) {\n        for (int i = 0; i &lt; arr.length - 1; i++)\n            swap(arr, i, getMinIndex(arr, i));\n    }\n\n    private static int getMinIndex(int[] arr, int i) {\n        int minIndex = i;\n\n        for (; i &lt; arr.length; i++)\n            if (arr[i] &lt; arr[minIndex])\n                minIndex = i;\n\n        return minIndex;\n    }\n\n    private static void swap(int[] arr, int i, int j) {\n        int tmp = arr[i];\n        arr[i] = arr[j];\n        arr[j] = tmp;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653632968,"creation_date":1653591207,"answer_id":72396679,"question_id":70026152,"body_markdown":"Your implementation is definitely similar to the `selection sort`, but the swap should happen outside the nested loop. Within the innermost loop you should only save the index of the smallest element among the ones left to sort (I&#39;ve misread you if placement during my first editing of the answer).\r\n\r\nThe main difference between `selection sort` and `bubble sort` is mainly, but not entirely, in their nested loop. In fact, the `selection sort` tries in its nested loop to find the smallest element after i and then places it at the i-th position. In this way, at each iteration of the outer loop it is guaranteed that the i-th element corresponds to the smallest among the ones left to sort (from i to n-1).\r\n\r\n```\r\npublic void selectionSort(int[] arr){\r\n    int temp, min;\r\n    \r\n    // At every iteration, the outer loop checks whether the i-th element is already at the right place,\r\n    // i.e. being the smallest value among the ones that follow it\r\n    for (int i = 0; i &lt; arr.length-1; i++) {\r\n\r\n        //Assuming that the element in position i is the smallest among the ones left to sort\r\n        min = i;\r\n\r\n        //At every iteration of the outer loop, the innermost loop checks if there&#39;s a smaller value than the one in position i\r\n        for (int j = i + 1; j &lt; arr.length; j++) {\r\n\r\n            //If a smaller value than the min-th element is found then j is stored as the current smallest index\r\n            if (arr[min] &gt; arr[j]) {\r\n                min = j;\r\n            }\r\n        }\r\n\r\n        //Swapping the smallest element found with the one in position i.\r\n        //If min is still equal to i then no actual swap happens\r\n        temp = arr[i];\r\n        arr[i] = arr[min];\r\n        arr[min] = temp;\r\n    }\r\n}\r\n```\r\n\r\nOn the other hand, the `bubble sort` algorithm achieves the same thing but instead of traversing from left to right, it iterates from right to left carrying with it the new smallest element it encounters.\r\n\r\n```\r\npublic void bubbleSort(int[] vet) {\r\n    int temp;\r\n\r\n    //At every iteration, the outermost loop checks if there are any elements after i which are smaller than it\r\n    for (int i = 0; i &lt; vet.length - 1; i++) {\r\n        // The innermost loop starts from the right bound &#39;till the i index.\r\n        // Every time this loop finds in [j-1] a bigger element than the one in [j], \r\n        // then these two are swapped to carry along the smaller element in position j during the traverse.\r\n        // Instead if the element in [j-1] is smaller than the one in [j], \r\n        // then it leaves them like that and keeps carrying [j-1] along instead of [j].\r\n        for (int j = vet.length - 1; j &gt;= i + 1; j--) {\r\n            if (vet[j] &lt; (vet[j - 1])) {\r\n                temp = vet[j];\r\n                vet[j] = vet[j - 1];\r\n                vet[j - 1] = temp;\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Valid selection sort algorithm?","body":"<p>Your implementation is definitely similar to the <code>selection sort</code>, but the swap should happen outside the nested loop. Within the innermost loop you should only save the index of the smallest element among the ones left to sort (I've misread you if placement during my first editing of the answer).</p>\n<p>The main difference between <code>selection sort</code> and <code>bubble sort</code> is mainly, but not entirely, in their nested loop. In fact, the <code>selection sort</code> tries in its nested loop to find the smallest element after i and then places it at the i-th position. In this way, at each iteration of the outer loop it is guaranteed that the i-th element corresponds to the smallest among the ones left to sort (from i to n-1).</p>\n<pre><code>public void selectionSort(int[] arr){\n    int temp, min;\n    \n    // At every iteration, the outer loop checks whether the i-th element is already at the right place,\n    // i.e. being the smallest value among the ones that follow it\n    for (int i = 0; i &lt; arr.length-1; i++) {\n\n        //Assuming that the element in position i is the smallest among the ones left to sort\n        min = i;\n\n        //At every iteration of the outer loop, the innermost loop checks if there's a smaller value than the one in position i\n        for (int j = i + 1; j &lt; arr.length; j++) {\n\n            //If a smaller value than the min-th element is found then j is stored as the current smallest index\n            if (arr[min] &gt; arr[j]) {\n                min = j;\n            }\n        }\n\n        //Swapping the smallest element found with the one in position i.\n        //If min is still equal to i then no actual swap happens\n        temp = arr[i];\n        arr[i] = arr[min];\n        arr[min] = temp;\n    }\n}\n</code></pre>\n<p>On the other hand, the <code>bubble sort</code> algorithm achieves the same thing but instead of traversing from left to right, it iterates from right to left carrying with it the new smallest element it encounters.</p>\n<pre><code>public void bubbleSort(int[] vet) {\n    int temp;\n\n    //At every iteration, the outermost loop checks if there are any elements after i which are smaller than it\n    for (int i = 0; i &lt; vet.length - 1; i++) {\n        // The innermost loop starts from the right bound 'till the i index.\n        // Every time this loop finds in [j-1] a bigger element than the one in [j], \n        // then these two are swapped to carry along the smaller element in position j during the traverse.\n        // Instead if the element in [j-1] is smaller than the one in [j], \n        // then it leaves them like that and keeps carrying [j-1] along instead of [j].\n        for (int j = vet.length - 1; j &gt;= i + 1; j--) {\n            if (vet[j] &lt; (vet[j - 1])) {\n                temp = vet[j];\n                vet[j] = vet[j - 1];\n                vet[j - 1] = temp;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":235018,"reputation":364834,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653629094,"creation_date":1653629094,"answer_id":72400820,"question_id":70026152,"body_markdown":"Your algorithm is actually something called ***exchange sort***.\r\n\r\nIn selection sort, you run a pass over the array to locate the smallest element. Whenever an element is found smaller than the smallest one discovered so far, you make a note of its position, but don’t move or swap it. Only once you’ve finished scanning the array elements do you swap the item you found to an earlier spot in the array. This means you always do a total of at most n - 1 swaps, one per iteration of the outer loop.\r\n\r\nThat doesn’t correspond with what you have in your code, because you’re performing multiple swaps per iteration of the outer i loop. The algorithm you have is called *exchange sort*. It’s a legal sorting algorithm, and like selection sort at the end of each iteration of the outer i loop you’ll have correctly placed another element, but it runs slower than a true selection sort because you’re making many more swaps than are needed.","title":"Valid selection sort algorithm?","body":"<p>Your algorithm is actually something called <em><strong>exchange sort</strong></em>.</p>\n<p>In selection sort, you run a pass over the array to locate the smallest element. Whenever an element is found smaller than the smallest one discovered so far, you make a note of its position, but don’t move or swap it. Only once you’ve finished scanning the array elements do you swap the item you found to an earlier spot in the array. This means you always do a total of at most n - 1 swaps, one per iteration of the outer loop.</p>\n<p>That doesn’t correspond with what you have in your code, because you’re performing multiple swaps per iteration of the outer i loop. The algorithm you have is called <em>exchange sort</em>. It’s a legal sorting algorithm, and like selection sort at the end of each iteration of the outer i loop you’ll have correctly placed another element, but it runs slower than a true selection sort because you’re making many more swaps than are needed.</p>\n"}],"owner":{"account_id":20230445,"reputation":43,"user_id":14837124,"display_name":"Neel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72400820,"answer_count":3,"score":2,"last_activity_date":1655340204,"creation_date":1637266432,"question_id":70026152,"body_markdown":"I&#39;ve written the following method that uses selection sort to sort an array:\r\n\r\n    public T[] selection(T[] arr)\r\n    {\r\n       T temp, min;\r\n       for(int i = 0; i &lt; arr.length-1; i++)\r\n       {\r\n          for(int j = i + 1; j &lt; arr.length; j++)\r\n          {\r\n             min = arr[i];\r\n             if(min.compareTo(arr[j]) &gt; 0)\r\n             {\r\n                temp = arr[i];\r\n                arr[i] = arr[j];\r\n                arr[j] = temp;\r\n             }\r\n          }\r\n       return arr;\r\n    }\r\n\r\nHowever, I am having trouble distinguishing my algorithm from a bubble sort. Does my sorting method pass for a selection sort method? ","title":"Valid selection sort algorithm?","body":"<p>I've written the following method that uses selection sort to sort an array:</p>\n<pre><code>public T[] selection(T[] arr)\n{\n   T temp, min;\n   for(int i = 0; i &lt; arr.length-1; i++)\n   {\n      for(int j = i + 1; j &lt; arr.length; j++)\n      {\n         min = arr[i];\n         if(min.compareTo(arr[j]) &gt; 0)\n         {\n            temp = arr[i];\n            arr[i] = arr[j];\n            arr[j] = temp;\n         }\n      }\n   return arr;\n}\n</code></pre>\n<p>However, I am having trouble distinguishing my algorithm from a bubble sort. Does my sorting method pass for a selection sort method?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1655340412,"post_id":72639245,"comment_id":128312025,"body_markdown":"See https://www.java.com/en/download/help/error_1500.html","body":"See <a href=\"https://www.java.com/en/download/help/error_1500.html\" rel=\"nofollow noreferrer\">java.com/en/download/help/error_1500.html</a>"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1655366950,"post_id":72639245,"comment_id":128317110,"body_markdown":"Have you tried looking in the task manager?","body":"Have you tried looking in the task manager?"}],"owner":{"account_id":25567426,"reputation":11,"user_id":19348447,"display_name":"AyeKieran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655339889,"creation_date":1655339889,"question_id":72639245,"body_markdown":"Whenever I try and install the Java JDK, I get the message &quot;Another installation is already in progress.&quot; \r\n\r\nI have seen all these videos that say to go into your oracle folder and then delete JAVA_INSTALL_FLAG, but I don&#39;t have that. I don&#39;t even have the oracle folder in ProgramData.\r\nAny help?\r\nOS: Windows 10","title":"&quot;Another installation is already in progress&quot; -Java download","body":"<p>Whenever I try and install the Java JDK, I get the message &quot;Another installation is already in progress.&quot;</p>\n<p>I have seen all these videos that say to go into your oracle folder and then delete JAVA_INSTALL_FLAG, but I don't have that. I don't even have the oracle folder in ProgramData.\nAny help?\nOS: Windows 10</p>\n"},{"tags":["java","arrays","sorting","arraylist"],"comments":[{"owner":{"account_id":12508356,"reputation":17,"user_id":9104490,"display_name":"Maz"},"score":0,"creation_date":1553907934,"post_id":55427179,"comment_id":97573394,"body_markdown":"I know it says studentList.sortDescending() but even that doesn&#39;t work. That was messing around. I get an &quot;error: cannot find symbol&quot;","body":"I know it says studentList.sortDescending() but even that doesn&#39;t work. That was messing around. I get an &quot;error: cannot find symbol&quot;"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1553908245,"post_id":55427179,"comment_id":97573434,"body_markdown":"&quot;*I get an &quot;error: cannot find symbol&quot;*&quot; that is because there is no `sortDescending` nor `sortAscending` methods in List, there is `sort` method which takes `Comparator` which represents mechanism used to check among two compared objects first is equal, bigger or smaller than second one.","body":"&quot;<i>I get an &quot;error: cannot find symbol&quot;</i>&quot; that is because there is no <code>sortDescending</code> nor <code>sortAscending</code> methods in List, there is <code>sort</code> method which takes <code>Comparator</code> which represents mechanism used to check among two compared objects first is equal, bigger or smaller than second one."}],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1553908044,"creation_date":1553908044,"answer_id":55427212,"question_id":55427179,"body_markdown":"By using `Collections.sort()` ascending order\r\n\r\n    Collections.sort(studentList,Comparator.comparingDouble(Student::getGradePointsAverage));\r\n\r\nDescending order\r\n\r\n    Collections.sort(list,Comparator.comparingDouble(Student::getGradePointsAverage).reversed());","title":"How resort the arraylist in ascending order based on value","body":"<p>By using <code>Collections.sort()</code> ascending order</p>\n\n<pre><code>Collections.sort(studentList,Comparator.comparingDouble(Student::getGradePointsAverage));\n</code></pre>\n\n<p>Descending order</p>\n\n<pre><code>Collections.sort(list,Comparator.comparingDouble(Student::getGradePointsAverage).reversed());\n</code></pre>\n"}],"owner":{"account_id":12508356,"reputation":17,"user_id":9104490,"display_name":"Maz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1553908000,"accepted_answer_id":55427212,"answer_count":1,"score":0,"last_activity_date":1655339506,"creation_date":1553907684,"question_id":55427179,"body_markdown":"I&#39;m trying to sort this arraylist based on GPA in ascending order. Student class encapsulates 3 pieces of information: Student Number, Last Name, Grade Point Average.\r\n\r\nSo I need to sort them using gradePointAverage.  \r\n\r\n    //student array\r\n    studentArray[0] = student;\r\n    studentArray[1] = new Student(9093891, &quot;Brown&quot;, 2.55);\r\n    studentArray[2] = new Student(9301879, &quot;Carson&quot;, 1.11);\r\n    studentArray[3] = new Student(3910880, &quot;Deardon&quot;, 4.01);\r\n    studentArray[4] = new Student(8891783, &quot;Ellis&quot;, 2.66);\r\n    studentArray[5] = new Student(3899132, &quot;Fisher&quot;, 0.55);\r\n\r\n    //filling my studentlist\r\n    studentList.add(student);\r\n    studentList.add(studentArray[0]);\r\n    studentList.add(studentArray[1]);\r\n    studentList.add(studentArray[2]);\r\n    studentList.add(studentArray[3]);\r\n    studentList.add(studentArray[4]);\r\n\r\n    ArrayList&lt;String&gt; sortedArrayListDescending = studentList.sortDescending();","title":"How resort the arraylist in ascending order based on value","body":"<p>I'm trying to sort this arraylist based on GPA in ascending order. Student class encapsulates 3 pieces of information: Student Number, Last Name, Grade Point Average.</p>\n\n<p>So I need to sort them using gradePointAverage.  </p>\n\n<pre><code>//student array\nstudentArray[0] = student;\nstudentArray[1] = new Student(9093891, \"Brown\", 2.55);\nstudentArray[2] = new Student(9301879, \"Carson\", 1.11);\nstudentArray[3] = new Student(3910880, \"Deardon\", 4.01);\nstudentArray[4] = new Student(8891783, \"Ellis\", 2.66);\nstudentArray[5] = new Student(3899132, \"Fisher\", 0.55);\n\n//filling my studentlist\nstudentList.add(student);\nstudentList.add(studentArray[0]);\nstudentList.add(studentArray[1]);\nstudentList.add(studentArray[2]);\nstudentList.add(studentArray[3]);\nstudentList.add(studentArray[4]);\n\nArrayList&lt;String&gt; sortedArrayListDescending = studentList.sortDescending();\n</code></pre>\n"},{"tags":["java","audio","javax.sound.sampled"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1655337086,"post_id":72638874,"comment_id":128311503,"body_markdown":"Does this answer your question? [Accessing a file inside a .jar file](https://stackoverflow.com/questions/8258244/accessing-a-file-inside-a-jar-file) Specifically, you can&#39;t use `new File(&quot;noise.wav&quot;);` to get a file/resource from inside a compiled jar, instead load it as a stream using `this.getClass().getResourceAsStream(&quot;noise.wav&quot;);` and work with it that way.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8258244/accessing-a-file-inside-a-jar-file\">Accessing a file inside a .jar file</a> Specifically, you can&#39;t use <code>new File(&quot;noise.wav&quot;);</code> to get a file/resource from inside a compiled jar, instead load it as a stream using <code>this.getClass().getResourceAsStream(&quot;noise.wav&quot;);</code> and work with it that way."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1655338025,"post_id":72638874,"comment_id":128311676,"body_markdown":"Make the time to learn how to [Layout Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)","body":"Make the time to learn how to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Components Within a Container</a>"}],"answers":[{"tags":[],"owner":{"account_id":14798798,"reputation":92,"user_id":10687680,"display_name":"willbill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655338190,"creation_date":1655338190,"answer_id":72639093,"question_id":72638874,"body_markdown":"I think you should try moving the .wav file outside of the src folder, in the main project directory. ","title":"Audio file cant be found","body":"<p>I think you should try moving the .wav file outside of the src folder, in the main project directory.</p>\n"}],"owner":{"account_id":20448308,"reputation":15,"user_id":15003584,"display_name":"alexM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1655338155,"answer_count":1,"score":-2,"last_activity_date":1655338190,"creation_date":1655335747,"question_id":72638874,"body_markdown":"So for ActionListener practice Im trying to make a program that keeps track of how many times i die to this enemy in a video game. Each time the button on the GUI is pressed it increases the counter by 1 and it also is supposed to play a sound.\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport javax.sound.sampled.*;\r\n\r\npublic class Main implements ActionListener {\r\n\r\n    int bad = 0;\r\n\r\n    private static JFrame frame;\r\n    private static JPanel panel;\r\n    private static JLabel bText;\r\n    private static JLabel damn;\r\n    private static JButton button;\r\n    private static Clip clip;\r\n\r\n    public static void main(String[] args) throws UnsupportedAudioFileException, IOException, LineUnavailableException {\r\n\r\n        File file = new File(&quot;noise.wav&quot;);\r\n        AudioInputStream audioStream = AudioSystem.getAudioInputStream(file);\r\n        clip = AudioSystem.getClip();\r\n        clip.open(audioStream);\r\n\r\n        frame = new JFrame(&quot;times killed&quot;);\r\n        panel = new JPanel();\r\n        frame.setSize(420,420);\r\n        frame.add(panel);\r\n\r\n        panel.setLayout(null);\r\n\r\n        bText = new JLabel(&quot;Times killed:&quot;);\r\n        bText.setBounds(150,130,120,25);\r\n        panel.add(bText);\r\n\r\n        damn = new JLabel(&quot;0&quot;);\r\n        damn.setBounds(210,158,120,25);\r\n        panel.add(damn);\r\n\r\n        button = new JButton(&quot;Lmao you bad&quot;);\r\n        button.setBounds(140,190,150,25);\r\n        button.addActionListener(new Main());\r\n        panel.add(button);\r\n\r\n        frame.setVisible(true);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n\r\n        clip.start();\r\n        clip.setMicrosecondPosition(0);\r\n        bad++;\r\n        damn.setText(&quot;&quot; + bad);\r\n\r\n    }\r\n}\r\n```\r\n\r\nHowever when i run the program i get the error:\r\n```\r\nException in thread &quot;main&quot; java.io.FileNotFoundException: noise.wav (No such file or directory)\r\n\tat java.base/java.io.FileInputStream.open0(Native Method)\r\n\tat java.base/java.io.FileInputStream.open(FileInputStream.java:216)\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\r\n\tat java.desktop/com.sun.media.sound.SunFileReader.getAudioInputStream(SunFileReader.java:117)\r\n\tat java.desktop/javax.sound.sampled.AudioSystem.getAudioInputStream(AudioSystem.java:1060)\r\n\tat Main.main(Main.java:22)\r\n    \r\n```\r\n\r\nThe audio file is definitely in the source folder however and i need it there so when i make it into a jar file it brings the audio file with it.\r\n\r\n[![audio file in src folder][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/54FQR.png","title":"Audio file cant be found","body":"<p>So for ActionListener practice Im trying to make a program that keeps track of how many times i die to this enemy in a video game. Each time the button on the GUI is pressed it increases the counter by 1 and it also is supposed to play a sound.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.sound.sampled.*;\n\npublic class Main implements ActionListener {\n\n    int bad = 0;\n\n    private static JFrame frame;\n    private static JPanel panel;\n    private static JLabel bText;\n    private static JLabel damn;\n    private static JButton button;\n    private static Clip clip;\n\n    public static void main(String[] args) throws UnsupportedAudioFileException, IOException, LineUnavailableException {\n\n        File file = new File(&quot;noise.wav&quot;);\n        AudioInputStream audioStream = AudioSystem.getAudioInputStream(file);\n        clip = AudioSystem.getClip();\n        clip.open(audioStream);\n\n        frame = new JFrame(&quot;times killed&quot;);\n        panel = new JPanel();\n        frame.setSize(420,420);\n        frame.add(panel);\n\n        panel.setLayout(null);\n\n        bText = new JLabel(&quot;Times killed:&quot;);\n        bText.setBounds(150,130,120,25);\n        panel.add(bText);\n\n        damn = new JLabel(&quot;0&quot;);\n        damn.setBounds(210,158,120,25);\n        panel.add(damn);\n\n        button = new JButton(&quot;Lmao you bad&quot;);\n        button.setBounds(140,190,150,25);\n        button.addActionListener(new Main());\n        panel.add(button);\n\n        frame.setVisible(true);\n\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n\n        clip.start();\n        clip.setMicrosecondPosition(0);\n        bad++;\n        damn.setText(&quot;&quot; + bad);\n\n    }\n}\n</code></pre>\n<p>However when i run the program i get the error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.FileNotFoundException: noise.wav (No such file or directory)\n    at java.base/java.io.FileInputStream.open0(Native Method)\n    at java.base/java.io.FileInputStream.open(FileInputStream.java:216)\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\n    at java.desktop/com.sun.media.sound.SunFileReader.getAudioInputStream(SunFileReader.java:117)\n    at java.desktop/javax.sound.sampled.AudioSystem.getAudioInputStream(AudioSystem.java:1060)\n    at Main.main(Main.java:22)\n    \n</code></pre>\n<p>The audio file is definitely in the source folder however and i need it there so when i make it into a jar file it brings the audio file with it.</p>\n<p><a href=\"https://i.stack.imgur.com/54FQR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/54FQR.png\" alt=\"audio file in src folder\" /></a></p>\n"},{"tags":["java","matrix","bezier"],"comments":[{"owner":{"account_id":7846813,"reputation":1118,"user_id":8634018,"display_name":"Dominik Mokriš"},"score":0,"creation_date":1612616444,"post_id":66047918,"comment_id":116825164,"body_markdown":"Welcome to SO! Could you provide [https://stackoverflow.com/help/minimal-reproducible-example](reproducible example), please? I tried compiling your code but it does not find the `G_Graphics` class. Also, is the matrix multiplication inside a `Util` class?","body":"Welcome to SO! Could you provide [<a href=\"https://stackoverflow.com/help/minimal-reproducible-example](reproducible\">stackoverflow.com/help/&hellip;</a> example), please? I tried compiling your code but it does not find the <code>G_Graphics</code> class. Also, is the matrix multiplication inside a <code>Util</code> class?"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1612804272,"post_id":66047918,"comment_id":116875380,"body_markdown":"Note that numerical arrays in Java already get initialized to zeroes, so you don&#39;t need that first double-for loop. Having said that: did you test your matrix multiplication code? Because either you have and you know it&#39;s not part of the problem, or you haven&#39;t and you should probably first check whether it even works properly =) Having said that, the T matrix needs to be computed _for every step_, because that&#39;s your variable.","body":"Note that numerical arrays in Java already get initialized to zeroes, so you don&#39;t need that first double-for loop. Having said that: did you test your matrix multiplication code? Because either you have and you know it&#39;s not part of the problem, or you haven&#39;t and you should probably first check whether it even works properly =) Having said that, the T matrix needs to be computed <i>for every step</i>, because that&#39;s your variable."}],"answers":[{"tags":[],"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614358927,"creation_date":1612804788,"answer_id":66106287,"question_id":66047918,"body_markdown":"The problem is with this code:\r\n```\r\nt = 1/t;\r\ndouble[][] tValues = {{1,t,t*t,t*t*t}};\r\n...\r\nfor (double i = t; i &lt; 1; i+=t) {\r\n  ...\r\n}\r\n```\r\n\r\nThat `tValues` matrix is a variable, it needs to be _recomputed_ every time you compute a point for a new `t` value. And that `t` value should definitely not be stored at the object level, and _super definitely_ not get inverted any time you run your draw function. As your loop variable, keep it local to your `for` loop. At best, store your `step` size at the object level.\r\n\r\n```\r\nbeginDrawing(); // whatever is your API&#39;s equivalent of this\r\n\r\ndouble[][] xVal, yVal;\r\nfor(double t=0, step=0.01; t&lt;1.0; t+=step) {\r\n  double[][] tValues = {{1,t,t*t,t*t*t}};\r\n\r\n  // get the x coordinate **for this t value**\r\n  xVal = Util.matrixMultiplication(tValues, multiX);\r\n\r\n  // get the y coordinate **for this t value**\r\n  yVal = Util.matrixMultiplication(tValues, multiY);\r\n\r\n  addVertex(xVal[0][0], yVal[0][0]);  // or equivalent\r\n}\r\n\r\nendDrawing();  // or equivalent\r\n```\r\n","title":"Bezier curve method drawing wrong in java","body":"<p>The problem is with this code:</p>\n<pre><code>t = 1/t;\ndouble[][] tValues = {{1,t,t*t,t*t*t}};\n...\nfor (double i = t; i &lt; 1; i+=t) {\n  ...\n}\n</code></pre>\n<p>That <code>tValues</code> matrix is a variable, it needs to be <em>recomputed</em> every time you compute a point for a new <code>t</code> value. And that <code>t</code> value should definitely not be stored at the object level, and <em>super definitely</em> not get inverted any time you run your draw function. As your loop variable, keep it local to your <code>for</code> loop. At best, store your <code>step</code> size at the object level.</p>\n<pre><code>beginDrawing(); // whatever is your API's equivalent of this\n\ndouble[][] xVal, yVal;\nfor(double t=0, step=0.01; t&lt;1.0; t+=step) {\n  double[][] tValues = {{1,t,t*t,t*t*t}};\n\n  // get the x coordinate **for this t value**\n  xVal = Util.matrixMultiplication(tValues, multiX);\n\n  // get the y coordinate **for this t value**\n  yVal = Util.matrixMultiplication(tValues, multiY);\n\n  addVertex(xVal[0][0], yVal[0][0]);  // or equivalent\n}\n\nendDrawing();  // or equivalent\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17123254,"reputation":13,"user_id":12391030,"display_name":"David Augusta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655338149,"creation_date":1655338149,"answer_id":72639087,"question_id":66047918,"body_markdown":"i was doing in in each for loop but little bid differently problem was that in that code i was doing j &lt; 3 instead of j &lt; 4","title":"Bezier curve method drawing wrong in java","body":"<p>i was doing in in each for loop but little bid differently problem was that in that code i was doing j &lt; 3 instead of j &lt; 4</p>\n"}],"owner":{"account_id":17123254,"reputation":13,"user_id":12391030,"display_name":"David Augusta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1655356009,"accepted_answer_id":72639087,"answer_count":2,"score":-1,"last_activity_date":1655338149,"creation_date":1612449942,"question_id":66047918,"body_markdown":"Basically i have made code to draw Bezier curves but there is something wrong with it, it is not drawing how its suposed to. Core of this code should be correct, it was from one of my clases. \r\n\r\n   \r\n\r\n    public class Bezier {\r\n\r\n    double[][] pointsY;\r\n    double[][] pointsX;\r\n    double t;\r\n\r\n    public Bezier(double[][] pointsX, double[][] pointsY, double t) {\r\n        this.pointsY = pointsY;\r\n        this.pointsX = pointsX;\r\n        this.t = t;\r\n    }\r\n\r\n\r\n        public void drawCurveNormalize (G_Graphics graphic){\r\n\r\n\r\n            double[][] constants = {{1,0,0,0},\r\n                                    {-3,3,0,0},\r\n                                    {3,-6,3,0},\r\n                                    {-1,3,-3,1} };\r\n\r\n            t = 1/t;\r\n            double[][] tValues = {{1,t,t*t,t*t*t}};\r\n           \r\n            double[][] multiX = Util.matrixMultiplication(constants,pointsX);\r\n\r\n\r\n            double[][] multiY = Util.matrixMultiplication(constants,pointsY);\r\n            double[][] multi1;\r\n            double[][] multi2;\r\n            int dY = 0;\r\n            int dX = 0;\r\n\r\n\r\n            int xBeginning = (int)pointsX[0][0];\r\n            int yBeginning = (int)pointsY[0][0];\r\n\r\n            /*graphic.DDA(pointsX[0][0],pointsY[0][0],pointsX[1][0],pointsY[1][0],G_Color.G_cBlack);\r\n            graphic.DDA(pointsX[1][0],pointsY[1][0],pointsX[2][0],pointsY[2][0],G_Color.G_cBlack);\r\n            graphic.DDA(pointsX[2][0],pointsY[2][0],pointsX[3][0],pointsY[3][0],G_Color.G_cBlack);*/\r\n\r\n\r\n            for (double i = t; i &lt; 1; i+=t) {\r\n                double z = 1;\r\n                for (int j = 0; j &lt; 3; j++) {\r\n                    tValues[0][j] = z;\r\n                    z = z*i;\r\n                }\r\n\r\n                multi1 = Util.matrixMultiplication(tValues,multiX);\r\n                dX = (int)multi1[0][0];\r\n\r\n                multi2 = Util.matrixMultiplication(tValues,multiY);\r\n                dY = (int)multi2[0][0];\r\n\r\n                graphic.DDA(xBeginning,yBeginning,dX,dY,G_Color.G_cBlack);\r\n                xBeginning = dX;\r\n                yBeginning = dY;\r\n            }\r\n\r\n    }\r\n\r\ninput points are here \r\n\r\n        double pointsX[][] = new double[][]\r\n            {       {10},\r\n                    {100},\r\n                    {100},\r\n                    {350},\r\n            };\r\n        double pointsY[][] = new double[][]\r\n                {       {10},\r\n                        {10},\r\n                        {200},\r\n                        {200},\r\n                };\r\n\r\n\r\n    Bezier bezier = new Bezier(pointsX, pointsY,10);\r\nand it drawes this\r\n\r\n[![and it drawes this][1]][1]\r\n\r\n\r\nbut it should draw betwen those lines \r\n[![but it should draw betwen those lines ][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kKoL3.png\r\n  [2]: https://i.stack.imgur.com/TWjUo.png\r\n\r\n\r\nalso here is my code for MatrixMultiplication\r\n\r\n    public static double[][] matrixMultiplication(double[][] matrix1, double[][] matrix2) {\r\n        if (matrix1[0].length != matrix2.length) {\r\n           throw new RuntimeException(&quot;Matrix column/row fail&quot;);\r\n        }\r\n\r\n        double[][] matrixRet = new double[matrix1.length][matrix2[0].length];\r\n\r\n        for (int i = 0; i &lt; matrix1.length; i++) {\r\n            for (int j = 0; j &lt; matrix2[0].length; j++) {\r\n                matrixRet[i][j] = 0.0;\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; matrix1.length; i++) {\r\n            for (int j = 0; j &lt; matrix2[0].length; j++) {\r\n                for (int k = 0; k &lt; matrix1[0].length; k++) {\r\n                    matrixRet[i][j] += matrix1[i][k] * matrix2[k][j];\r\n                }\r\n            }\r\n        }\r\n \r\n       return matrixRet;\r\n    }","title":"Bezier curve method drawing wrong in java","body":"<p>Basically i have made code to draw Bezier curves but there is something wrong with it, it is not drawing how its suposed to. Core of this code should be correct, it was from one of my clases.</p>\n<pre><code>public class Bezier {\n\ndouble[][] pointsY;\ndouble[][] pointsX;\ndouble t;\n\npublic Bezier(double[][] pointsX, double[][] pointsY, double t) {\n    this.pointsY = pointsY;\n    this.pointsX = pointsX;\n    this.t = t;\n}\n\n\n    public void drawCurveNormalize (G_Graphics graphic){\n\n\n        double[][] constants = {{1,0,0,0},\n                                {-3,3,0,0},\n                                {3,-6,3,0},\n                                {-1,3,-3,1} };\n\n        t = 1/t;\n        double[][] tValues = {{1,t,t*t,t*t*t}};\n       \n        double[][] multiX = Util.matrixMultiplication(constants,pointsX);\n\n\n        double[][] multiY = Util.matrixMultiplication(constants,pointsY);\n        double[][] multi1;\n        double[][] multi2;\n        int dY = 0;\n        int dX = 0;\n\n\n        int xBeginning = (int)pointsX[0][0];\n        int yBeginning = (int)pointsY[0][0];\n\n        /*graphic.DDA(pointsX[0][0],pointsY[0][0],pointsX[1][0],pointsY[1][0],G_Color.G_cBlack);\n        graphic.DDA(pointsX[1][0],pointsY[1][0],pointsX[2][0],pointsY[2][0],G_Color.G_cBlack);\n        graphic.DDA(pointsX[2][0],pointsY[2][0],pointsX[3][0],pointsY[3][0],G_Color.G_cBlack);*/\n\n\n        for (double i = t; i &lt; 1; i+=t) {\n            double z = 1;\n            for (int j = 0; j &lt; 3; j++) {\n                tValues[0][j] = z;\n                z = z*i;\n            }\n\n            multi1 = Util.matrixMultiplication(tValues,multiX);\n            dX = (int)multi1[0][0];\n\n            multi2 = Util.matrixMultiplication(tValues,multiY);\n            dY = (int)multi2[0][0];\n\n            graphic.DDA(xBeginning,yBeginning,dX,dY,G_Color.G_cBlack);\n            xBeginning = dX;\n            yBeginning = dY;\n        }\n\n}\n</code></pre>\n<p>input points are here</p>\n<pre><code>    double pointsX[][] = new double[][]\n        {       {10},\n                {100},\n                {100},\n                {350},\n        };\n    double pointsY[][] = new double[][]\n            {       {10},\n                    {10},\n                    {200},\n                    {200},\n            };\n\n\nBezier bezier = new Bezier(pointsX, pointsY,10);\n</code></pre>\n<p>and it drawes this</p>\n<p><a href=\"https://i.stack.imgur.com/kKoL3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kKoL3.png\" alt=\"and it drawes this\" /></a></p>\n<p>but it should draw betwen those lines\n<a href=\"https://i.stack.imgur.com/TWjUo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TWjUo.png\" alt=\"but it should draw betwen those lines \" /></a></p>\n<p>also here is my code for MatrixMultiplication</p>\n<pre><code>public static double[][] matrixMultiplication(double[][] matrix1, double[][] matrix2) {\n    if (matrix1[0].length != matrix2.length) {\n       throw new RuntimeException(&quot;Matrix column/row fail&quot;);\n    }\n\n    double[][] matrixRet = new double[matrix1.length][matrix2[0].length];\n\n    for (int i = 0; i &lt; matrix1.length; i++) {\n        for (int j = 0; j &lt; matrix2[0].length; j++) {\n            matrixRet[i][j] = 0.0;\n        }\n    }\n\n    for (int i = 0; i &lt; matrix1.length; i++) {\n        for (int j = 0; j &lt; matrix2[0].length; j++) {\n            for (int k = 0; k &lt; matrix1[0].length; k++) {\n                matrixRet[i][j] += matrix1[i][k] * matrix2[k][j];\n            }\n        }\n    }\n\n   return matrixRet;\n}\n</code></pre>\n"},{"tags":["java","html","mysql","database"],"answers":[{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655337089,"creation_date":1655337089,"answer_id":72639002,"question_id":72637523,"body_markdown":"The syntax error is:\r\n\r\n&gt; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;&#39;logs&#39; values\r\n\r\nThis looks like you&#39;re using single-quotes (`&#39;`) to delimit the table name. Single-quotes in SQL are used for string delimiters, not identifier delimiters.\r\n\r\nThis is strange, because in your code you&#39;re clearly using back-ticks:\r\n\r\n    String insertQuery =&quot;INSERT INTO `logs`(`uuid`, `title`, `content`, `createTimestamp`) VALUES (?,?,?,?)&quot;;\r\n\r\nI&#39;m forced to conclude that the error is not coming from the code you showed in your question. I suggest you search for other code that may be doing the INSERT differently.\r\n","title":"Inserting into MySQL table from Eclipse with html form values- Wrong syntax error","body":"<p>The syntax error is:</p>\n<blockquote>\n<p>check the manual that corresponds to your MariaDB server version for the right syntax to use near ''logs' values</p>\n</blockquote>\n<p>This looks like you're using single-quotes (<code>'</code>) to delimit the table name. Single-quotes in SQL are used for string delimiters, not identifier delimiters.</p>\n<p>This is strange, because in your code you're clearly using back-ticks:</p>\n<pre><code>String insertQuery =&quot;INSERT INTO `logs`(`uuid`, `title`, `content`, `createTimestamp`) VALUES (?,?,?,?)&quot;;\n</code></pre>\n<p>I'm forced to conclude that the error is not coming from the code you showed in your question. I suggest you search for other code that may be doing the INSERT differently.</p>\n"}],"owner":{"account_id":23383632,"reputation":13,"user_id":17449392,"display_name":"Caitlyn Gibbons"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655337089,"creation_date":1655325274,"question_id":72637523,"body_markdown":"I am trying to insert values that are received from an html form. Everything seems to be working until I try and insert the values and I am receiving a wrong syntax error, but I have tried changing it to no avail. Here is my code:\r\n\r\nThe connection is being established, so I am not sure whats wrong.\r\n\r\n\r\n    import java.util.Date;\r\n    import java.util.UUID;\r\n    \r\n    public abstract class Log {\r\n        private String uuid;\r\n        private String title;\r\n        private String content;\r\n        private String createTimestamp;\r\n        \r\n      \r\n        \r\n        \r\n        public String getTitle() {\r\n    \t\treturn title;\r\n    \t}\r\n    \r\n    \tpublic void setTitle(String title) {\r\n    \t\tthis.title = title;\r\n    \t}\r\n    \t   public String getUUID() {\r\n    \t\t\treturn uuid;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setUUID(String uuid) {\t\r\n    \t\t\tthis.uuid = uuid;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getContent() {\r\n    \t\t\treturn content;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setContent(String content) {\r\n    \t\t\tthis.content = content;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getCreateTimestamp() {\r\n    \t\t\treturn createTimestamp;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setCreateTimestamp(String createTimestamp) {\r\n    \t\t\tthis.createTimestamp=createTimestamp;\r\n    \t\t\t\r\n    \t\t}\r\n    }\r\n    \r\n        package com.algonquin.loggy.servlets;\r\n        \r\n        import java.io.IOException;\r\n        import java.io.PrintWriter;\r\n        import java.sql.Connection;\r\n        import java.sql.SQLException;\r\n        import java.sql.Statement;\r\n        import java.text.SimpleDateFormat;\r\n        import java.util.ArrayList;\r\n        import java.util.UUID;\r\n        \r\n        import javax.servlet.ServletException;\r\n        import javax.servlet.annotation.WebServlet;\r\n        import javax.servlet.http.HttpServlet;\r\n        import javax.servlet.http.HttpServletRequest;\r\n        import javax.servlet.http.HttpServletResponse;\r\n        \r\n        import com.algonquin.loggy.beans.Log;\r\n        import com.algonquin.loggy.beans.TextLog;\r\n        import com.algonquin.loggy.dao.ApplicationDao;\r\n        import com.algonquin.loggy.dao.DBConnection;\r\n        \r\n        /**\r\n         * Servlet implementation class LogsServlet\r\n         */\r\n        @WebServlet(&quot;/LogsServlet&quot; )\r\n        public class LogsServlet extends HttpServlet {\r\n            private static final long serialVersionUID = 1L;\r\n        \r\n            /**\r\n             * @see HttpServlet#HttpServlet()\r\n             */\r\n            public LogsServlet() {\r\n                super();\r\n            }\r\n        \r\n            /**\r\n             * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse\r\n             *      response)\r\n             */\r\n            protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n                    throws ServletException, IOException {\r\n                String htmlResponse = &quot;&lt;html&gt;&lt;head&gt;&lt;link rel=\\&quot;stylesheet\\&quot; href=\\&quot;style.css\\&quot;&gt;&lt;title&gt;Loggy Servlet Form&lt;/title&gt;&lt;/head&gt;&quot;\r\n        \t\t\t\t+ &quot;&lt;body&gt;&lt;form id=\\&quot;logForm\\&quot; action=\\&quot;LogsServlet\\&quot; method=\\&quot;post\\&quot; &gt;\\n&quot;\r\n        \t\t\t\t+ &quot;        &lt;h3&gt;Create A New Log!&lt;/h3&gt;\\n&quot;\r\n        \t\t\t\t+ &quot;       \\n&quot;\r\n        \t\t\t\t+ &quot;        &lt;label id=\\&quot;logTitleLabel\\&quot; for=\\&quot;title\\&quot;&gt;Title :&lt;/label&gt;\\n&quot;\r\n        \t\t\t\t+ &quot;        &lt;br&gt;\\n&quot;\r\n        \t\t\t\t+ &quot;        &lt;input type=\\&quot;text\\&quot; id=\\&quot;logTitle\\&quot; name=\\&quot;title\\&quot; maxLength=\\&quot;60\\&quot;&gt;\\n&quot;\r\n        \t\t\t\t+ &quot;        &lt;br&gt;\\n&quot;\r\n        \t\t\t\t\r\n        \t\t\t\t+ &quot;        &lt;label id=\\&quot;logContentLabel\\&quot; for=\\&quot;content\\&quot;&gt;Content :&lt;/label&gt;\\n&quot;\r\n        \t\t\t\t+ &quot;        &lt;br&gt;\\n&quot;\r\n        \t\t\t\t+ &quot;        &lt;input type=\\&quot;text\\&quot; id=\\&quot;logContent\\&quot; name=\\&quot;content\\&quot;&gt;\\n&quot;\r\n        \t\t\t\t+ &quot;        &lt;br&gt;\\n&quot;\r\n        \t\t\t\t+ &quot;        &lt;button type=\\&quot;submit\\&quot; id=\\&quot;submitLog\\&quot;&gt;Submit Log&lt;/button&gt;\\n&quot;\r\n        \t\t\t\t+ &quot;        \\n&quot;\r\n        \t\t\t\t+ &quot;        &lt;/form&gt;&lt;/body&gt;&lt;/html&gt;&quot;;;\r\n                PrintWriter writer = response.getWriter();\r\n                writer.write(htmlResponse);\r\n            }\r\n        \r\n        \r\n        protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException{\r\n        \t\r\n        \tString title = request.getParameter(&quot;title&quot;);\r\n        \tString description = request.getParameter(&quot;description&quot;);\r\n        \tString content = request.getParameter(&quot;content&quot;);\r\n        \tString output;\r\n        \tString uuid =UUID.randomUUID().toString();\r\n        \tString createTimestamp=new SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new java.util.Date());\r\n        \t//ArrayList&lt;Log&gt; logsList = new ArrayList&lt;Log&gt;();\r\n        \tLog log= new TextLog();\r\n        \t\r\n        \tPrintWriter writer = response.getWriter();\r\n        \ttry {\r\n        \t\t\r\n        \t\tlog.setTitle(title);\r\n        \t\tlog.setContent(content);\r\n        \t\tlog.setCreateTimestamp(createTimestamp);\r\n        \t\tlog.setUUID(uuid);\r\n        \t\t\r\n        \t\t//logsList.add(log);\r\n        \t\t\r\n        \t\toutput=&quot;&lt;html&gt;&lt;body&gt;&lt;h3&gt;Log successfully created&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n        \t\twriter.write(output);\r\n        \t\t}\r\n        \t\tcatch(Exception e) {\r\n        \t\t\toutput=&quot;&lt;html&gt;&lt;body&gt;&lt;h3&gt;Log could not be created&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n        \t\t\twriter.write(output);\r\n        \t\t}\r\n        \t\r\n        \t\t\t\r\n        \tApplicationDao dao = new ApplicationDao();\r\n        \tString indexForm = &quot;&lt;html&gt;&lt;head&gt;&lt;link rel=\\&quot;stylesheet\\&quot; href=\\&quot;style.css\\&quot;&gt;&lt;title&gt;Loggy Servlet Form&lt;/title&gt;&lt;/head&gt;&quot;\r\n        \t\t\t+ &quot;&lt;body&gt;&lt;form id=\\&quot;logForm\\&quot; action=\\&quot;LogsServlet\\&quot; method=\\&quot;post\\&quot; &gt;\\n&quot;\r\n        \t\t\t+ &quot;        &lt;h3&gt;Create A New Log!&lt;/h3&gt;\\n&quot;\r\n        \t\t\t+ &quot;       \\n&quot;\r\n        \t\t\t+ &quot;        &lt;label id=\\&quot;logTitleLabel\\&quot; for=\\&quot;title\\&quot;&gt;Title :&lt;/label&gt;\\n&quot;\r\n        \t\t\t+ &quot;        &lt;br&gt;\\n&quot;\r\n        \t\t\t+ &quot;        &lt;input type=\\&quot;text\\&quot; id=\\&quot;logTitle\\&quot; name=\\&quot;title\\&quot; maxLength=\\&quot;60\\&quot;&gt;\\n&quot;\r\n        \t\t\t+ &quot;        &lt;br&gt;\\n&quot;\r\n        \t\t\r\n        \t\t\t+ &quot;        &lt;label id=\\&quot;logContentLabel\\&quot; for=\\&quot;content\\&quot;&gt;Content :&lt;/label&gt;\\n&quot;\r\n        \t\t\t+ &quot;        &lt;br&gt;\\n&quot;\r\n        \t\t\t+ &quot;        &lt;input type=\\&quot;text\\&quot; id=\\&quot;logContent\\&quot; name=\\&quot;content\\&quot;&gt;\\n&quot;\r\n        \t\t\t+ &quot;        &lt;br&gt;\\n&quot;\r\n        \t\t\t+ &quot;        &lt;button type=\\&quot;submit\\&quot; id=\\&quot;submitLog\\&quot;&gt;Submit Log&lt;/button&gt;\\n&quot;\r\n        \t\t\t+ &quot;        \\n&quot;\r\n        \t\t\t+ &quot;        &lt;/form&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n        \t\r\n        \twriter.write(indexForm);\r\n        \t\r\n        \tString insertQuery =&quot;INSERT INTO `logs`(`uuid`, `title`, `content`, `createTimestamp`) VALUES (?,?,?,?)&quot;;\r\n        \tConnection connection =DBConnection.getConnectionToDatabase();\r\n        \t\r\n        \t\r\n        \tjava.sql.PreparedStatement statement;\r\n        \ttry {\r\n        \t\tstatement = connection.prepareStatement(insertQuery);\r\n        \t\tstatement.setString(1,log.getUUID());\r\n        \t\tstatement.setString(2,log.getTitle());\r\n        \t\tstatement.setString(3,log.getContent());\r\n        \t\tstatement.setString(4,log.getCreateTimestamp());\r\n        \t\t\r\n        \t\tstatement.executeUpdate();\r\n        \t} catch (SQLException e) {\r\n        \t\t// TODO Auto-generated catch block\r\n        \t\te.printStackTrace();\r\n        \t}\r\n        \t\r\n        \r\n        import java.sql.Connection;\r\n        import java.sql.DriverManager;\r\n        import java.sql.SQLException;\r\n        \r\n        public class DBConnection {\r\n        \r\n            // Database Schema\r\n            // CREATE DATABASE loggy DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci;\r\n            // CREATE TABLE logs (uuid CHAR(40) NOT NULL PRIMARY KEY, title CHAR(128),\r\n            // content TEXT, createTimestamp Date);\r\n        \r\n        \t private static final String dbUser = &quot;user&quot;;\r\n        \t    private static final String dbPassword = &quot;password&quot;;\r\n        \t    private static Connection connection = null;\r\n        \t\t\r\n        \r\n        \t    public static Connection getConnectionToDatabase() {\r\n        \t\t\t\r\n        \r\n        \t\t\ttry {\r\n        \r\n        \t\t\t\t// load the driver class\r\n        \t\t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        \t\t\t\tSystem.out.println(&quot;MySQL JDBC Driver Registered!&quot;);\r\n        \r\n        \t\t\t\t// get hold of the DriverManager\r\n        \t\t\t\tconnection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/loggy&quot;,dbUser,dbPassword);\r\n        \t\t\t} catch (ClassNotFoundException e) {\r\n        \t\t\t\tSystem.out.println(&quot;Where is your MySQL JDBC Driver?&quot;);\r\n        \t\t\t\te.printStackTrace();\r\n        \r\n        \t\t\t}\r\n        \r\n        \t\t\tcatch (SQLException e) {\r\n        \t\t\t\tSystem.out.println(&quot;Connection Failed! Check output console&quot;);\r\n        \t\t\t\te.printStackTrace();\r\n        \r\n        \t\t\t}\r\n        \r\n        \t\t\tif (connection != null) {\r\n        \t\t\t\tSystem.out.println(&quot;Connection made to DB!&quot;);\r\n        \t\t\t}\r\n        \t\t\treturn connection;\r\n        \t\t\t\r\n        \t\t}\r\n        \t    \r\n        \r\n        \t      \r\n        \t}\r\n        \r\n        package com.algonquin.loggy.dao;\r\n        \r\n        import java.sql.Connection;\r\n        import java.sql.ResultSet;\r\n        import java.sql.SQLException;\r\n        import java.sql.Statement;\r\n        import java.sql.Timestamp;\r\n        import java.util.ArrayList;\r\n        import java.util.List;\r\n        \r\n        import com.algonquin.loggy.beans.Log;\r\n        import com.algonquin.loggy.beans.TextLog;\r\n        import com.algonquin.loggy.services.ApplicationService;\r\n        \r\n        public class ApplicationDao implements ApplicationService {\r\n        \r\n        \r\n            \tpublic List&lt;Log&gt; listLogs() {\r\n            \t\t\t\r\n            \t\tLog log = null;\r\n            \t\tList&lt;Log&gt; logs = new ArrayList&lt;&gt;();\r\n            \t\t\r\n            \t\ttry{\r\n            \t\t\tConnection connection = DBConnection.getConnectionToDatabase();\r\n            \t\t\t\r\n            \t\t\tString sql = &quot;select * from logs&quot;;\r\n            \t\t\t\r\n            \t\t\tStatement statement = connection.createStatement();\r\n            \t\t\t\r\n            \t\t\tResultSet set = statement.executeQuery(sql);\r\n            \t\t\t\r\n            \t\t\twhile(set.next()){\r\n            \t\t\t\t\r\n            \t\t\t\tString title = set.getString(&quot;title&quot;);\r\n            \t\t\t\tString content =set.getString(&quot;content&quot;);\r\n            \t\t\t\tString createTimestamp =set.getString(&quot;createTimestamp&quot;);\r\n            \t\t\t\tString uuid = set.getString(&quot;uuid&quot;);\r\n            \t\t\t    \r\n            \t\t\t    \r\n            \t\t\t\tLog log1 =new TextLog();\r\n            \t\t\t\tlog1.setTitle(title);\r\n            \t\t\t\tlog1.setContent(content);\r\n            \t\t\t\tlog1.setCreateTimestamp(createTimestamp);\r\n            \t\t\t\tlog1.setUUID(uuid);\r\n            \t\t\r\n            \t\t\t\tlogs.add(log1);\r\n            \t\t\t\t\r\n            \t\t\t}\r\n        \r\n            \t\t}\r\n            \t\tcatch(SQLException exception){\r\n            \t\t\texception.printStackTrace();\r\n            \t\t}\r\n            \t\treturn logs;\r\n        \r\n            \t    }\r\n            }\r\n    \r\n     \r\n    ERROR MESSAGE:\r\n\r\n      MySQL JDBC Driver Registered!\r\n    Connection made to DB!\r\n    java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;&#39;logs&#39; values(&#39;25de3284-4fea-4851-9215-13c51bb333cd&#39;,&#39;Log 101&#39;,&#39;this is a tes...&#39; at line 1\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\r\n    \tat com.algonquin.loggy.servlets.LogsServlet.doPost(LogsServlet.java:127)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n\r\n\r\n\r\nAlso, I have to display the objects in an html list that each item to be deleted, if there is any advice on that, that would be appreciated as well!\r\n\r\n","title":"Inserting into MySQL table from Eclipse with html form values- Wrong syntax error","body":"<p>I am trying to insert values that are received from an html form. Everything seems to be working until I try and insert the values and I am receiving a wrong syntax error, but I have tried changing it to no avail. Here is my code:</p>\n<p>The connection is being established, so I am not sure whats wrong.</p>\n<pre><code>import java.util.Date;\nimport java.util.UUID;\n\npublic abstract class Log {\n    private String uuid;\n    private String title;\n    private String content;\n    private String createTimestamp;\n    \n  \n    \n    \n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n       public String getUUID() {\n            return uuid;\n        }\n\n        public void setUUID(String uuid) {  \n            this.uuid = uuid;\n        }\n\n        public String getContent() {\n            return content;\n        }\n\n        public void setContent(String content) {\n            this.content = content;\n        }\n\n        public String getCreateTimestamp() {\n            return createTimestamp;\n        }\n\n        public void setCreateTimestamp(String createTimestamp) {\n            this.createTimestamp=createTimestamp;\n            \n        }\n}\n\n    package com.algonquin.loggy.servlets;\n    \n    import java.io.IOException;\n    import java.io.PrintWriter;\n    import java.sql.Connection;\n    import java.sql.SQLException;\n    import java.sql.Statement;\n    import java.text.SimpleDateFormat;\n    import java.util.ArrayList;\n    import java.util.UUID;\n    \n    import javax.servlet.ServletException;\n    import javax.servlet.annotation.WebServlet;\n    import javax.servlet.http.HttpServlet;\n    import javax.servlet.http.HttpServletRequest;\n    import javax.servlet.http.HttpServletResponse;\n    \n    import com.algonquin.loggy.beans.Log;\n    import com.algonquin.loggy.beans.TextLog;\n    import com.algonquin.loggy.dao.ApplicationDao;\n    import com.algonquin.loggy.dao.DBConnection;\n    \n    /**\n     * Servlet implementation class LogsServlet\n     */\n    @WebServlet(&quot;/LogsServlet&quot; )\n    public class LogsServlet extends HttpServlet {\n        private static final long serialVersionUID = 1L;\n    \n        /**\n         * @see HttpServlet#HttpServlet()\n         */\n        public LogsServlet() {\n            super();\n        }\n    \n        /**\n         * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse\n         *      response)\n         */\n        protected void doGet(HttpServletRequest request, HttpServletResponse response)\n                throws ServletException, IOException {\n            String htmlResponse = &quot;&lt;html&gt;&lt;head&gt;&lt;link rel=\\&quot;stylesheet\\&quot; href=\\&quot;style.css\\&quot;&gt;&lt;title&gt;Loggy Servlet Form&lt;/title&gt;&lt;/head&gt;&quot;\n                    + &quot;&lt;body&gt;&lt;form id=\\&quot;logForm\\&quot; action=\\&quot;LogsServlet\\&quot; method=\\&quot;post\\&quot; &gt;\\n&quot;\n                    + &quot;        &lt;h3&gt;Create A New Log!&lt;/h3&gt;\\n&quot;\n                    + &quot;       \\n&quot;\n                    + &quot;        &lt;label id=\\&quot;logTitleLabel\\&quot; for=\\&quot;title\\&quot;&gt;Title :&lt;/label&gt;\\n&quot;\n                    + &quot;        &lt;br&gt;\\n&quot;\n                    + &quot;        &lt;input type=\\&quot;text\\&quot; id=\\&quot;logTitle\\&quot; name=\\&quot;title\\&quot; maxLength=\\&quot;60\\&quot;&gt;\\n&quot;\n                    + &quot;        &lt;br&gt;\\n&quot;\n                    \n                    + &quot;        &lt;label id=\\&quot;logContentLabel\\&quot; for=\\&quot;content\\&quot;&gt;Content :&lt;/label&gt;\\n&quot;\n                    + &quot;        &lt;br&gt;\\n&quot;\n                    + &quot;        &lt;input type=\\&quot;text\\&quot; id=\\&quot;logContent\\&quot; name=\\&quot;content\\&quot;&gt;\\n&quot;\n                    + &quot;        &lt;br&gt;\\n&quot;\n                    + &quot;        &lt;button type=\\&quot;submit\\&quot; id=\\&quot;submitLog\\&quot;&gt;Submit Log&lt;/button&gt;\\n&quot;\n                    + &quot;        \\n&quot;\n                    + &quot;        &lt;/form&gt;&lt;/body&gt;&lt;/html&gt;&quot;;;\n            PrintWriter writer = response.getWriter();\n            writer.write(htmlResponse);\n        }\n    \n    \n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException{\n        \n        String title = request.getParameter(&quot;title&quot;);\n        String description = request.getParameter(&quot;description&quot;);\n        String content = request.getParameter(&quot;content&quot;);\n        String output;\n        String uuid =UUID.randomUUID().toString();\n        String createTimestamp=new SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new java.util.Date());\n        //ArrayList&lt;Log&gt; logsList = new ArrayList&lt;Log&gt;();\n        Log log= new TextLog();\n        \n        PrintWriter writer = response.getWriter();\n        try {\n            \n            log.setTitle(title);\n            log.setContent(content);\n            log.setCreateTimestamp(createTimestamp);\n            log.setUUID(uuid);\n            \n            //logsList.add(log);\n            \n            output=&quot;&lt;html&gt;&lt;body&gt;&lt;h3&gt;Log successfully created&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\n            writer.write(output);\n            }\n            catch(Exception e) {\n                output=&quot;&lt;html&gt;&lt;body&gt;&lt;h3&gt;Log could not be created&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\n                writer.write(output);\n            }\n        \n                \n        ApplicationDao dao = new ApplicationDao();\n        String indexForm = &quot;&lt;html&gt;&lt;head&gt;&lt;link rel=\\&quot;stylesheet\\&quot; href=\\&quot;style.css\\&quot;&gt;&lt;title&gt;Loggy Servlet Form&lt;/title&gt;&lt;/head&gt;&quot;\n                + &quot;&lt;body&gt;&lt;form id=\\&quot;logForm\\&quot; action=\\&quot;LogsServlet\\&quot; method=\\&quot;post\\&quot; &gt;\\n&quot;\n                + &quot;        &lt;h3&gt;Create A New Log!&lt;/h3&gt;\\n&quot;\n                + &quot;       \\n&quot;\n                + &quot;        &lt;label id=\\&quot;logTitleLabel\\&quot; for=\\&quot;title\\&quot;&gt;Title :&lt;/label&gt;\\n&quot;\n                + &quot;        &lt;br&gt;\\n&quot;\n                + &quot;        &lt;input type=\\&quot;text\\&quot; id=\\&quot;logTitle\\&quot; name=\\&quot;title\\&quot; maxLength=\\&quot;60\\&quot;&gt;\\n&quot;\n                + &quot;        &lt;br&gt;\\n&quot;\n            \n                + &quot;        &lt;label id=\\&quot;logContentLabel\\&quot; for=\\&quot;content\\&quot;&gt;Content :&lt;/label&gt;\\n&quot;\n                + &quot;        &lt;br&gt;\\n&quot;\n                + &quot;        &lt;input type=\\&quot;text\\&quot; id=\\&quot;logContent\\&quot; name=\\&quot;content\\&quot;&gt;\\n&quot;\n                + &quot;        &lt;br&gt;\\n&quot;\n                + &quot;        &lt;button type=\\&quot;submit\\&quot; id=\\&quot;submitLog\\&quot;&gt;Submit Log&lt;/button&gt;\\n&quot;\n                + &quot;        \\n&quot;\n                + &quot;        &lt;/form&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\n        \n        writer.write(indexForm);\n        \n        String insertQuery =&quot;INSERT INTO `logs`(`uuid`, `title`, `content`, `createTimestamp`) VALUES (?,?,?,?)&quot;;\n        Connection connection =DBConnection.getConnectionToDatabase();\n        \n        \n        java.sql.PreparedStatement statement;\n        try {\n            statement = connection.prepareStatement(insertQuery);\n            statement.setString(1,log.getUUID());\n            statement.setString(2,log.getTitle());\n            statement.setString(3,log.getContent());\n            statement.setString(4,log.getCreateTimestamp());\n            \n            statement.executeUpdate();\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n    \n    import java.sql.Connection;\n    import java.sql.DriverManager;\n    import java.sql.SQLException;\n    \n    public class DBConnection {\n    \n        // Database Schema\n        // CREATE DATABASE loggy DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci;\n        // CREATE TABLE logs (uuid CHAR(40) NOT NULL PRIMARY KEY, title CHAR(128),\n        // content TEXT, createTimestamp Date);\n    \n         private static final String dbUser = &quot;user&quot;;\n            private static final String dbPassword = &quot;password&quot;;\n            private static Connection connection = null;\n            \n    \n            public static Connection getConnectionToDatabase() {\n                \n    \n                try {\n    \n                    // load the driver class\n                    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n                    System.out.println(&quot;MySQL JDBC Driver Registered!&quot;);\n    \n                    // get hold of the DriverManager\n                    connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/loggy&quot;,dbUser,dbPassword);\n                } catch (ClassNotFoundException e) {\n                    System.out.println(&quot;Where is your MySQL JDBC Driver?&quot;);\n                    e.printStackTrace();\n    \n                }\n    \n                catch (SQLException e) {\n                    System.out.println(&quot;Connection Failed! Check output console&quot;);\n                    e.printStackTrace();\n    \n                }\n    \n                if (connection != null) {\n                    System.out.println(&quot;Connection made to DB!&quot;);\n                }\n                return connection;\n                \n            }\n            \n    \n              \n        }\n    \n    package com.algonquin.loggy.dao;\n    \n    import java.sql.Connection;\n    import java.sql.ResultSet;\n    import java.sql.SQLException;\n    import java.sql.Statement;\n    import java.sql.Timestamp;\n    import java.util.ArrayList;\n    import java.util.List;\n    \n    import com.algonquin.loggy.beans.Log;\n    import com.algonquin.loggy.beans.TextLog;\n    import com.algonquin.loggy.services.ApplicationService;\n    \n    public class ApplicationDao implements ApplicationService {\n    \n    \n            public List&lt;Log&gt; listLogs() {\n                    \n                Log log = null;\n                List&lt;Log&gt; logs = new ArrayList&lt;&gt;();\n                \n                try{\n                    Connection connection = DBConnection.getConnectionToDatabase();\n                    \n                    String sql = &quot;select * from logs&quot;;\n                    \n                    Statement statement = connection.createStatement();\n                    \n                    ResultSet set = statement.executeQuery(sql);\n                    \n                    while(set.next()){\n                        \n                        String title = set.getString(&quot;title&quot;);\n                        String content =set.getString(&quot;content&quot;);\n                        String createTimestamp =set.getString(&quot;createTimestamp&quot;);\n                        String uuid = set.getString(&quot;uuid&quot;);\n                        \n                        \n                        Log log1 =new TextLog();\n                        log1.setTitle(title);\n                        log1.setContent(content);\n                        log1.setCreateTimestamp(createTimestamp);\n                        log1.setUUID(uuid);\n                \n                        logs.add(log1);\n                        \n                    }\n    \n                }\n                catch(SQLException exception){\n                    exception.printStackTrace();\n                }\n                return logs;\n    \n                }\n        }\n\n \nERROR MESSAGE:\n\n  MySQL JDBC Driver Registered!\nConnection made to DB!\njava.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ''logs' values('25de3284-4fea-4851-9215-13c51bb333cd','Log 101','this is a tes...' at line 1\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\n    at com.algonquin.loggy.servlets.LogsServlet.doPost(LogsServlet.java:127)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>Also, I have to display the objects in an html list that each item to be deleted, if there is any advice on that, that would be appreciated as well!</p>\n"},{"tags":["java","apache-kafka","spring-webflux","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1655241805,"post_id":72622804,"comment_id":128285222,"body_markdown":"I want to say its not possible. The consumers actually need to **_do something_**, even if they were created automatically. In other words, what would processing those records actually look like?","body":"I want to say its not possible. The consumers actually need to <b><i>do something</i></b>, even if they were created automatically. In other words, what would processing those records actually look like?"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1655258862,"post_id":72622804,"comment_id":128288047,"body_markdown":"KafkaListener is a compiled code with method and annotation on it. How would you create such a code at runtime? And why you cannot feed all your topics to a single predefined KafkaListener?","body":"KafkaListener is a compiled code with method and annotation on it. How would you create such a code at runtime? And why you cannot feed all your topics to a single predefined KafkaListener?"},{"owner":{"account_id":22369264,"reputation":1,"user_id":16584568,"display_name":"EL MOSTAFA FADILI"},"score":0,"creation_date":1655285238,"post_id":72622804,"comment_id":128294088,"body_markdown":"please how can I Create get method(localhost:8080/topic/{name}) and read from a specific topic with one listener ??","body":"please how can I Create get method(localhost:8080/topic/{name}) and read from a specific topic with one listener ??"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655337021,"creation_date":1655337021,"answer_id":72638997,"question_id":72622804,"body_markdown":"This is not what consumer is for. The Kafka topic is a stream of data constantly changing . What is business purpose of that http request? Maybe you want to stream such a topic request to the `Flux`? Then consider to use Spring Integration dynamic flows and its `toReactivePublisher()` feature:\n\nhttps://docs.spring.io/spring-integration/docs/current/reference/html/dsl.html#java-dsl-runtime-flows\n\nhttps://docs.spring.io/spring-integration/docs/current/reference/html/reactive-streams.html#java-dsl\n\nThis sample shows something about Kafka and dynamic flows: https://github.com/spring-projects/spring-integration-samples/tree/main/dsl/kafka-dsl.\n\nAlso this one demonstrates some “to WebFlux” technique : https://github.com/artembilan/sandbox/tree/master/amqp-to-webflux.\n\n\nOr you can look into Reactor Kafka: https://projectreactor.io/docs/kafka/release/reference/.\n\n","title":"Auto create KafkaListeners","body":"<p>This is not what consumer is for. The Kafka topic is a stream of data constantly changing . What is business purpose of that http request? Maybe you want to stream such a topic request to the <code>Flux</code>? Then consider to use Spring Integration dynamic flows and its <code>toReactivePublisher()</code> feature:</p>\n<p><a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/dsl.html#java-dsl-runtime-flows\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/dsl.html#java-dsl-runtime-flows</a></p>\n<p><a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/reactive-streams.html#java-dsl\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/reactive-streams.html#java-dsl</a></p>\n<p>This sample shows something about Kafka and dynamic flows: <a href=\"https://github.com/spring-projects/spring-integration-samples/tree/main/dsl/kafka-dsl\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-integration-samples/tree/main/dsl/kafka-dsl</a>.</p>\n<p>Also this one demonstrates some “to WebFlux” technique : <a href=\"https://github.com/artembilan/sandbox/tree/master/amqp-to-webflux\" rel=\"nofollow noreferrer\">https://github.com/artembilan/sandbox/tree/master/amqp-to-webflux</a>.</p>\n<p>Or you can look into Reactor Kafka: <a href=\"https://projectreactor.io/docs/kafka/release/reference/\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/kafka/release/reference/</a>.</p>\n"}],"owner":{"account_id":22369264,"reputation":1,"user_id":16584568,"display_name":"EL MOSTAFA FADILI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655337021,"creation_date":1655237236,"question_id":72622804,"body_markdown":"I work with apache-kafka and web flux (spring boot) and I want to know if there is a method to auto create a `KafkaListener` for each topic I add in application.yml(or properties)","title":"Auto create KafkaListeners","body":"<p>I work with apache-kafka and web flux (spring boot) and I want to know if there is a method to auto create a <code>KafkaListener</code> for each topic I add in application.yml(or properties)</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":6068657,"reputation":6044,"user_id":4738175,"accept_rate":56,"display_name":"OBX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486269802,"creation_date":1486269802,"answer_id":42048620,"question_id":42048584,"body_markdown":"Add this to the `Activity`&#39;s parent `XML` layout container:\r\n\r\n    android:focusable=&quot;true&quot;\r\n    android:focusableInTouchMode=&quot;true&quot;\r\n\r\nie if you are using `RelativeLayout` :\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/activity&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:focusable=&quot;true&quot;\r\n    android:focusableInTouchMode=&quot;true&quot;\r\n    tools:context=&quot;com.example.activities.SampleActivity&quot;&gt;\r\n","title":"!hasFocus to be triggered after I focus on that Edittext (Android)","body":"<p>Add this to the <code>Activity</code>'s parent <code>XML</code> layout container:</p>\n\n<pre><code>android:focusable=\"true\"\nandroid:focusableInTouchMode=\"true\"\n</code></pre>\n\n<p>ie if you are using <code>RelativeLayout</code> :</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/activity\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:focusable=\"true\"\nandroid:focusableInTouchMode=\"true\"\ntools:context=\"com.example.activities.SampleActivity\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3343713,"reputation":3554,"user_id":2809326,"accept_rate":14,"display_name":"arjun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486269847,"creation_date":1486269847,"answer_id":42048624,"question_id":42048584,"body_markdown":"Try this\r\n\r\n    edtFirstname.setOnFocusChangeListener(new View.OnFocusChangeListener() {\r\n            @Override\r\n            public void onFocusChange(View v, boolean hasFocus) {\r\n              if (!hasFocus) {\r\n              //do validation here\r\n              }\r\n            }\r\n        });","title":"!hasFocus to be triggered after I focus on that Edittext (Android)","body":"<p>Try this</p>\n\n<pre><code>edtFirstname.setOnFocusChangeListener(new View.OnFocusChangeListener() {\n        @Override\n        public void onFocusChange(View v, boolean hasFocus) {\n          if (!hasFocus) {\n          //do validation here\n          }\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7748760,"reputation":399,"user_id":5865438,"accept_rate":80,"display_name":"Paul John Pulumbarit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1486298224,"creation_date":1486298224,"answer_id":42052135,"question_id":42048584,"body_markdown":"I was able to solve my own problem after hours of trying \r\n\r\n     edtFirstName.setOnTouchListener(new View.OnTouchListener() {\r\n            @Override\r\n            public boolean onTouch(View v, MotionEvent event) {\r\n               edtFirstName.setOnFocusChangeListener(new View.OnFocusChangeListener() {\r\n                   @Override\r\n                   public void onFocusChange(View v, boolean hasFocus) {\r\n\r\n                       if (!edtFirstName.hasFocus()) {\r\n                           if (edtFirstName.getText().toString().isEmpty()) {\r\n                               tilFName.setError(&quot;Must not be empty.&quot;);\r\n                           } else {\r\n                               tilFName.setError(null);\r\n                           }\r\n                       }\r\n\r\n                   }\r\n               });\r\n\r\n                return false;\r\n            }\r\n        });\r\n\r\n        edtLastName.setOnTouchListener(new View.OnTouchListener() {\r\n            @Override\r\n            public boolean onTouch(View v, MotionEvent event) {\r\n                edtLastName.setOnFocusChangeListener(new View.OnFocusChangeListener() {\r\n                    @Override\r\n                    public void onFocusChange(View v, boolean hasFocus) {\r\n\r\n                        if(!edtLastName.hasFocus()) {\r\n                            if (edtLastName.getText().toString().isEmpty()) {\r\n                                tilLName.setError(&quot;Must not be empty.&quot;);\r\n                            } else {\r\n                                tilLName.setError(null);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n\r\n                return false;\r\n            }\r\n        });\r\n\r\nMaybe I have to shorten the code because I have other edittexts waiting. lol. Thanks to your help guys!","title":"!hasFocus to be triggered after I focus on that Edittext (Android)","body":"<p>I was able to solve my own problem after hours of trying </p>\n\n<pre><code> edtFirstName.setOnTouchListener(new View.OnTouchListener() {\n        @Override\n        public boolean onTouch(View v, MotionEvent event) {\n           edtFirstName.setOnFocusChangeListener(new View.OnFocusChangeListener() {\n               @Override\n               public void onFocusChange(View v, boolean hasFocus) {\n\n                   if (!edtFirstName.hasFocus()) {\n                       if (edtFirstName.getText().toString().isEmpty()) {\n                           tilFName.setError(\"Must not be empty.\");\n                       } else {\n                           tilFName.setError(null);\n                       }\n                   }\n\n               }\n           });\n\n            return false;\n        }\n    });\n\n    edtLastName.setOnTouchListener(new View.OnTouchListener() {\n        @Override\n        public boolean onTouch(View v, MotionEvent event) {\n            edtLastName.setOnFocusChangeListener(new View.OnFocusChangeListener() {\n                @Override\n                public void onFocusChange(View v, boolean hasFocus) {\n\n                    if(!edtLastName.hasFocus()) {\n                        if (edtLastName.getText().toString().isEmpty()) {\n                            tilLName.setError(\"Must not be empty.\");\n                        } else {\n                            tilLName.setError(null);\n                        }\n                    }\n                }\n            });\n\n            return false;\n        }\n    });\n</code></pre>\n\n<p>Maybe I have to shorten the code because I have other edittexts waiting. lol. Thanks to your help guys!</p>\n"},{"tags":[],"owner":{"account_id":2417594,"reputation":728,"user_id":2111313,"display_name":"Herman Van Der Blom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655336699,"creation_date":1655336699,"answer_id":72638958,"question_id":42048584,"body_markdown":"See my solution. You need to set requestFocus with a delay. A code sample is if you scroll at my profile.","title":"!hasFocus to be triggered after I focus on that Edittext (Android)","body":"<p>See my solution. You need to set requestFocus with a delay. A code sample is if you scroll at my profile.</p>\n"}],"owner":{"account_id":7748760,"reputation":399,"user_id":5865438,"accept_rate":80,"display_name":"Paul John Pulumbarit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1141,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42052135,"answer_count":4,"score":2,"last_activity_date":1655336699,"creation_date":1486269367,"question_id":42048584,"body_markdown":"I need to show the error label after I clicked the Edittext.\r\nExample, at the start of the activity, error labels shouldn&#39;t display.\r\nOf course the focused edittext is the edtFirstName, if i click edtLastName and leave edtFirstName blank, it should display the error message. Same as edtLastName. My problem is at the very beginning, error label of edtLastName already display its error label &quot;must not be empty&quot;. It already call onFocusChange even at the start of the activity because the focus is at the edtFirstname. how can i fix it? i want to do what google add account on android does. \r\n\r\n           public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n         \r\n            view = inflater.inflate(R.layout.content_signup, container, false);\r\n                  \r\n            edtFirstName = (EditText) view.findViewById(R.id.edtFirstName);\r\n            edtLastName = (EditText) view.findViewById(R.id.edtLastName);\r\n               \r\n            tilFName = (TextInputLayout) view.findViewById(R.id.tilFName);\r\n            tilLName = (TextInputLayout) view.findViewById(R.id.tilLName);\r\n    \r\n            edtFirstName.setOnFocusChangeListener(this);\r\n            edtLastName.setOnFocusChangeListener(this);\r\n    \r\n\r\n\r\nthen\r\n\r\n\r\n\r\n     @Override\r\n        public void onFocusChange(View v, boolean hasFocus) {\r\n    \r\n            boolean flag = false;\r\n    \r\n            // First Name\r\n            if (!edtFirstName.hasFocus())\r\n            {\r\n                if (edtFirstName.getText().toString().isEmpty())\r\n                {\r\n                    tilFName.setError(&quot;Must not be empty.&quot;);\r\n                }\r\n                else\r\n                {\r\n                    tilFName.setError(null);\r\n                }\r\n    \r\n            }\r\n    \r\n            if (!edtLastName.hasFocus()) // this is triggered at the start of the activity. \r\n            {\r\n    \r\n                if (edtLastName.getText().toString().isEmpty())\r\n                {\r\n                    tilLName.setError(&quot;Must not be empty.&quot;);\r\n                }\r\n                else\r\n                {\r\n                    tilLName.setError(null);\r\n                }\r\n    \r\n            } \r\n\r\nIs there an appropriate code for LostFocus?\r\n\r\n\r\nEDIT::\r\n[This is what happening after starting the app. I&#39;m not tapping anything. The code already called onFocusChange at the startup][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pNZxe.png","title":"!hasFocus to be triggered after I focus on that Edittext (Android)","body":"<p>I need to show the error label after I clicked the Edittext.\nExample, at the start of the activity, error labels shouldn't display.\nOf course the focused edittext is the edtFirstName, if i click edtLastName and leave edtFirstName blank, it should display the error message. Same as edtLastName. My problem is at the very beginning, error label of edtLastName already display its error label \"must not be empty\". It already call onFocusChange even at the start of the activity because the focus is at the edtFirstname. how can i fix it? i want to do what google add account on android does. </p>\n\n<pre><code>       public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        view = inflater.inflate(R.layout.content_signup, container, false);\n\n        edtFirstName = (EditText) view.findViewById(R.id.edtFirstName);\n        edtLastName = (EditText) view.findViewById(R.id.edtLastName);\n\n        tilFName = (TextInputLayout) view.findViewById(R.id.tilFName);\n        tilLName = (TextInputLayout) view.findViewById(R.id.tilLName);\n\n        edtFirstName.setOnFocusChangeListener(this);\n        edtLastName.setOnFocusChangeListener(this);\n</code></pre>\n\n<p>then</p>\n\n<pre><code> @Override\n    public void onFocusChange(View v, boolean hasFocus) {\n\n        boolean flag = false;\n\n        // First Name\n        if (!edtFirstName.hasFocus())\n        {\n            if (edtFirstName.getText().toString().isEmpty())\n            {\n                tilFName.setError(\"Must not be empty.\");\n            }\n            else\n            {\n                tilFName.setError(null);\n            }\n\n        }\n\n        if (!edtLastName.hasFocus()) // this is triggered at the start of the activity. \n        {\n\n            if (edtLastName.getText().toString().isEmpty())\n            {\n                tilLName.setError(\"Must not be empty.\");\n            }\n            else\n            {\n                tilLName.setError(null);\n            }\n\n        } \n</code></pre>\n\n<p>Is there an appropriate code for LostFocus?</p>\n\n<p>EDIT::\n<a href=\"https://i.stack.imgur.com/pNZxe.png\" rel=\"nofollow noreferrer\">This is what happening after starting the app. I'm not tapping anything. The code already called onFocusChange at the startup</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":1,"creation_date":1336978858,"post_id":10578674,"comment_id":13698122,"body_markdown":"possible duplicate of [How to calculate the difference between two Java java.sql.Timestamps?](http://stackoverflow.com/questions/582278/how-to-calculate-the-difference-between-two-java-java-sql-timestamps)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/582278/how-to-calculate-the-difference-between-two-java-java-sql-timestamps\">How to calculate the difference between two Java java.sql.Timestamps?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1436590,"reputation":1694,"user_id":1357811,"accept_rate":100,"display_name":"Addicted"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336979872,"creation_date":1336979872,"answer_id":10578979,"question_id":10578674,"body_markdown":"Use the `UNIX_TIMESTAMP` function to convert the DATETIME into the value in Hour, minutes and seconds.  \r\nAnd if you are not sure of which value is bigger then use the ABS function.","title":"find hour or minute difference between 2 java.sql.Timestamps?","body":"<p>Use the <code>UNIX_TIMESTAMP</code> function to convert the DATETIME into the value in Hour, minutes and seconds.<br>\nAnd if you are not sure of which value is bigger then use the ABS function.</p>\n"},{"tags":[],"owner":{"account_id":64621,"reputation":1685,"user_id":190674,"accept_rate":50,"display_name":"erhanasikoglu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1336980417,"creation_date":1336980417,"answer_id":10579095,"question_id":10578674,"body_markdown":"For date add/remove this is my generic function : \r\n  \r\n    public static Date addRemoveAmountsFromDate(Date date, int field, int amount) {\r\n        Calendar tempCalendar = Calendar.getInstance();\r\n\r\n        tempCalendar.setTime(date);\r\n        tempCalendar.add(field, amount);\r\n\r\n        return tempCalendar.getTime();\r\n    }\r\n\r\nexample for &quot;field&quot; : Calendar.HOUR_OF_DAY, Calendar.MINUTE ","title":"find hour or minute difference between 2 java.sql.Timestamps?","body":"<p>For date add/remove this is my generic function : </p>\n\n<pre><code>public static Date addRemoveAmountsFromDate(Date date, int field, int amount) {\n    Calendar tempCalendar = Calendar.getInstance();\n\n    tempCalendar.setTime(date);\n    tempCalendar.add(field, amount);\n\n    return tempCalendar.getTime();\n}\n</code></pre>\n\n<p>example for \"field\" : Calendar.HOUR_OF_DAY, Calendar.MINUTE </p>\n"},{"tags":[],"owner":{"account_id":31262,"reputation":8475,"user_id":85737,"accept_rate":80,"display_name":"cb0"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1336980555,"creation_date":1336980555,"answer_id":10579124,"question_id":10578674,"body_markdown":"Just use:\r\n\r\n    Date.compareTo(Date) \r\n\r\nYou have to convert java.sql.Timestamps to Date first.","title":"find hour or minute difference between 2 java.sql.Timestamps?","body":"<p>Just use:</p>\n\n<pre><code>Date.compareTo(Date) \n</code></pre>\n\n<p>You have to convert java.sql.Timestamps to Date first.</p>\n"},{"tags":[],"owner":{"account_id":401367,"reputation":23742,"user_id":767881,"accept_rate":14,"display_name":"Ravinder Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337003840,"creation_date":1337003840,"answer_id":10584778,"question_id":10578674,"body_markdown":"`date_part` function can give you `hours` or as the interest may be but, it is a kind of `substr` and hence can&#39;t rely on it. You need to convert your `timestamp` value into `unix_timestamp` and `extract` *total* elapsed number of hours, minutes or whatever relevant since your `timestamp` till `current_timestamp`.  \r\n\r\n**Example**:  \r\n\r\n    select age( now(), timestamp &#39;2010-11-12 13:14:15&#39; );  \r\n    //results the interval to be &quot;*1 year 6 mons 2 days 04:39:36.093*&quot;  \r\n\r\n    select date_part( &#39;hours&#39;, age( now(), timestamp &#39;2010-03-10 02:03:04&#39; ) );  \r\n    // results *4* which is not correct.  \r\n\r\nCorrect value of hours or others can be calculated after finding total number of seconds elapsed since 1970. This can be achieved using `epoch` with `extract` function.  \r\n`epoch` returns total number of seconds since `1970-01-01 00:00:00-00`. And, you know, we can convert it into hours by dividing it with 3600.  \r\n\r\n**Using `epoch` with `extract`**:  \r\n\r\n    select\r\n      EXTRACT( EPOCH FROM current_timestamp - timestamp &#39;2010-11-12 13:14:15&#39; ) as total_seconds,\r\n      EXTRACT( EPOCH FROM current_timestamp - timestamp &#39;2010-11-12 13:14:15&#39; ) / 3600 as total_hours;  \r\n      ROUND(  \r\n             EXTRACT( EPOCH FROM current_timestamp - timestamp &#39;2010-11-12 13:14:15&#39; ) / 3600  \r\n           ) as total_hours_rounded;  \r\n\r\n// results:  \r\n\r\n    ----------------+--------------+-----------------------  \r\n    | total_seconds | total_hours  | total_hours_rounded  |  \r\n    | --------------+--------------+----------------------|  \r\n    | 47452282.218  | 13181.189505 | 13181                |  \r\n    ----------------+--------------+-----------------------  \r\n\r\nSimilarly, we can extract other required values and use as required.","title":"find hour or minute difference between 2 java.sql.Timestamps?","body":"<p><code>date_part</code> function can give you <code>hours</code> or as the interest may be but, it is a kind of <code>substr</code> and hence can't rely on it. You need to convert your <code>timestamp</code> value into <code>unix_timestamp</code> and <code>extract</code> <em>total</em> elapsed number of hours, minutes or whatever relevant since your <code>timestamp</code> till <code>current_timestamp</code>.  </p>\n\n<p><strong>Example</strong>:  </p>\n\n<pre><code>select age( now(), timestamp '2010-11-12 13:14:15' );  \n//results the interval to be \"*1 year 6 mons 2 days 04:39:36.093*\"  \n\nselect date_part( 'hours', age( now(), timestamp '2010-03-10 02:03:04' ) );  \n// results *4* which is not correct.  \n</code></pre>\n\n<p>Correct value of hours or others can be calculated after finding total number of seconds elapsed since 1970. This can be achieved using <code>epoch</code> with <code>extract</code> function.<br>\n<code>epoch</code> returns total number of seconds since <code>1970-01-01 00:00:00-00</code>. And, you know, we can convert it into hours by dividing it with 3600.  </p>\n\n<p><strong>Using <code>epoch</code> with <code>extract</code></strong>:  </p>\n\n<pre><code>select\n  EXTRACT( EPOCH FROM current_timestamp - timestamp '2010-11-12 13:14:15' ) as total_seconds,\n  EXTRACT( EPOCH FROM current_timestamp - timestamp '2010-11-12 13:14:15' ) / 3600 as total_hours;  \n  ROUND(  \n         EXTRACT( EPOCH FROM current_timestamp - timestamp '2010-11-12 13:14:15' ) / 3600  \n       ) as total_hours_rounded;  \n</code></pre>\n\n<p>// results:  </p>\n\n<pre><code>----------------+--------------+-----------------------  \n| total_seconds | total_hours  | total_hours_rounded  |  \n| --------------+--------------+----------------------|  \n| 47452282.218  | 13181.189505 | 13181                |  \n----------------+--------------+-----------------------  \n</code></pre>\n\n<p>Similarly, we can extract other required values and use as required.</p>\n"},{"tags":[],"owner":{"account_id":229213,"reputation":8557,"user_id":492015,"accept_rate":68,"display_name":"Arya"},"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1337391954,"creation_date":1337391954,"answer_id":10661651,"question_id":10578674,"body_markdown":"I ended using this, just want to post it for others if they search for it.\r\n\r\n\r\n\tpublic static long compareTwoTimeStamps(java.sql.Timestamp currentTime, java.sql.Timestamp oldTime)\r\n\t{\r\n\t\tlong milliseconds1 = oldTime.getTime();\r\n\t  long milliseconds2 = currentTime.getTime();\r\n\t  \r\n\t  long diff = milliseconds2 - milliseconds1;\r\n\t  long diffSeconds = diff / 1000;\r\n\t  long diffMinutes = diff / (60 * 1000);\r\n\t  long diffHours = diff / (60 * 60 * 1000);\r\n\t  long diffDays = diff / (24 * 60 * 60 * 1000);\r\n\r\n\t\treturn diffMinutes;\r\n\t}","title":"find hour or minute difference between 2 java.sql.Timestamps?","body":"<p>I ended using this, just want to post it for others if they search for it.</p>\n\n<pre><code>public static long compareTwoTimeStamps(java.sql.Timestamp currentTime, java.sql.Timestamp oldTime)\n{\n    long milliseconds1 = oldTime.getTime();\n  long milliseconds2 = currentTime.getTime();\n\n  long diff = milliseconds2 - milliseconds1;\n  long diffSeconds = diff / 1000;\n  long diffMinutes = diff / (60 * 1000);\n  long diffHours = diff / (60 * 60 * 1000);\n  long diffDays = diff / (24 * 60 * 60 * 1000);\n\n    return diffMinutes;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11416749,"reputation":247,"user_id":8369362,"display_name":"Yasin Hajilou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585559952,"creation_date":1585559952,"answer_id":60927413,"question_id":10578674,"body_markdown":"Use this, It is extremely accurate :\r\n\r\n        long diff = end - start;\r\n   \r\n        long diffDays = diff / (24 * 60 * 60 * 1000);\r\n        long remain = diff % (24 * 60 * 60 * 1000);\r\n    \r\n        long diffHours = remain / (60 * 60 * 1000);\r\n        remain = remain % (60 * 60 * 1000);\r\n    \r\n        long diffMinutes = remain / (60 * 1000);\r\n        remain = remain % (60 * 1000);\r\n    \r\n        long diffSeconds = remain / (1000);\r\n\r\n        System.out.println(&quot;days : &quot; + diffDays);\r\n        System.out.println(&quot;hours : &quot; + diffHours);\r\n        System.out.println(&quot;minutes : &quot; + diffMinutes);\r\n        System.out.println(&quot;secs: &quot; + diffSeconds2);","title":"find hour or minute difference between 2 java.sql.Timestamps?","body":"<p>Use this, It is extremely accurate :</p>\n\n<pre><code>    long diff = end - start;\n\n    long diffDays = diff / (24 * 60 * 60 * 1000);\n    long remain = diff % (24 * 60 * 60 * 1000);\n\n    long diffHours = remain / (60 * 60 * 1000);\n    remain = remain % (60 * 60 * 1000);\n\n    long diffMinutes = remain / (60 * 1000);\n    remain = remain % (60 * 1000);\n\n    long diffSeconds = remain / (1000);\n\n    System.out.println(\"days : \" + diffDays);\n    System.out.println(\"hours : \" + diffHours);\n    System.out.println(\"minutes : \" + diffMinutes);\n    System.out.println(\"secs: \" + diffSeconds2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8579517,"reputation":367,"user_id":6427673,"display_name":"Dan Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655336305,"creation_date":1655336305,"answer_id":72638929,"question_id":10578674,"body_markdown":"So the answer to this is pretty ancient and it came up when I was searching for an elegant solution. \r\n\r\nThere is a much nicer way to do this without having to faff with millisecond conversions:\r\n\r\n```    \r\nlong totalHours = ChronoUnit.HOURS.between(startTime.toInstant(), endTime.toInstant());\r\nlong totalMinutes = ChronoUnit.MINUTES.between(startTime.toInstant(), endTime.toInstant());\r\nlong totalSeconds = ChronoUnit.SECONDS.between(startTime.toInstant(), endTime.toInstant());\r\n```\r\nAnd a bunch of others `MILLIS`, `YEARS`, `DAYS`, `HALF_DAYS`, `DECADES`, `CENTURIES` and more!\r\n\r\nOnly thing I&#39;m not sure about is if these longer units account for leap years and you may need to apply some changes if you want to account for time zones and DST.\r\n\r\nEnjoy.","title":"find hour or minute difference between 2 java.sql.Timestamps?","body":"<p>So the answer to this is pretty ancient and it came up when I was searching for an elegant solution.</p>\n<p>There is a much nicer way to do this without having to faff with millisecond conversions:</p>\n<pre><code>long totalHours = ChronoUnit.HOURS.between(startTime.toInstant(), endTime.toInstant());\nlong totalMinutes = ChronoUnit.MINUTES.between(startTime.toInstant(), endTime.toInstant());\nlong totalSeconds = ChronoUnit.SECONDS.between(startTime.toInstant(), endTime.toInstant());\n</code></pre>\n<p>And a bunch of others <code>MILLIS</code>, <code>YEARS</code>, <code>DAYS</code>, <code>HALF_DAYS</code>, <code>DECADES</code>, <code>CENTURIES</code> and more!</p>\n<p>Only thing I'm not sure about is if these longer units account for leap years and you may need to apply some changes if you want to account for time zones and DST.</p>\n<p>Enjoy.</p>\n"}],"owner":{"account_id":229213,"reputation":8557,"user_id":492015,"accept_rate":68,"display_name":"Arya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36053,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":10661651,"answer_count":7,"score":16,"last_activity_date":1655336305,"creation_date":1336978483,"question_id":10578674,"body_markdown":"I store a `java.sql.Timestamp` in a *postgresql* database as *Timestamp* data type and I want to find out the difference in minutes or hours from the one stored in the DB to the current *timestamp*. What is the best way about doing this? are there built in methods for it or do I have to convert it to long or something?","title":"find hour or minute difference between 2 java.sql.Timestamps?","body":"<p>I store a <code>java.sql.Timestamp</code> in a <em>postgresql</em> database as <em>Timestamp</em> data type and I want to find out the difference in minutes or hours from the one stored in the DB to the current <em>timestamp</em>. What is the best way about doing this? are there built in methods for it or do I have to convert it to long or something?</p>\n"},{"tags":["java","mysql","javafx","jdbc","ant"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1655294008,"post_id":72630187,"comment_id":128297121,"body_markdown":"As far as I can tell, you&#39;re not adding MySQL Connector/J to your module path.","body":"As far as I can tell, you&#39;re not adding MySQL Connector/J to your module path."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1655296359,"post_id":72630187,"comment_id":128298142,"body_markdown":"Well ... given that you are trying to implement this as an executable JAR, you will need to create a &quot;shaded&quot; JAR (aka an &quot;uberJAR&quot;) which includes the contents of the connector JAR.   But you seem to have implemented your builds using ugly BAT files rather than a proper build tool such as Maven the *knows* how to create a shaded JAR.","body":"Well ... given that you are trying to implement this as an executable JAR, you will need to create a &quot;shaded&quot; JAR (aka an &quot;uberJAR&quot;) which includes the contents of the connector JAR.   But you seem to have implemented your builds using ugly BAT files rather than a proper build tool such as Maven the <i>knows</i> how to create a shaded JAR."},{"owner":{"account_id":22660542,"reputation":1,"user_id":16833690,"display_name":"TurtleTaco"},"score":0,"creation_date":1655297333,"post_id":72630187,"comment_id":128298557,"body_markdown":"@StephenC Moving forward I will learn how to use Maven, the course I&#39;m doing is a bit outdated in using ant so yeah unfortunately I have to make do with self made batch files.","body":"@StephenC Moving forward I will learn how to use Maven, the course I&#39;m doing is a bit outdated in using ant so yeah unfortunately I have to make do with self made batch files."},{"owner":{"account_id":22660542,"reputation":1,"user_id":16833690,"display_name":"TurtleTaco"},"score":0,"creation_date":1655297411,"post_id":72630187,"comment_id":128298594,"body_markdown":"@MarkRotteveel Thanks for the suggestion Mark! Where am I missing the module path and for which file?","body":"@MarkRotteveel Thanks for the suggestion Mark! Where am I missing the module path and for which file?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1655327579,"post_id":72630187,"comment_id":128309744,"body_markdown":"Aside: for your SQL statements, you should be using [prepared statements](https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html), not concatenated strings.","body":"Aside: for your SQL statements, you should be using <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">prepared statements</a>, not concatenated strings."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655336043,"creation_date":1655326695,"answer_id":72637742,"question_id":72630187,"body_markdown":"**Placing required jars on the classpath**\r\n\r\nLet&#39;s assume that you have an `app` directory in your image which follows the [standard image directory layout](https://datacadamia.com/lang/java/jlink#image_directory_layout) and have placed *both* the mysql-connector-java jar and your application jar in that app directory (as well as any additional non-modular jars which you want to run from the classpath).  Then you can do the following:\r\n\r\n * https://stackoverflow.com/q/219585/1155209\r\n\r\nChange your launch application batch file to use this command:\r\n\r\n    bin\\java -classpath app\\* customermanagementgui.CustomerManagementGUI\r\n\r\nWhat this will do is run both your app and the MySQL connector off of the classpath (placing them in the unnamed module).  The Java runtime and JavaFX components are modular and you have already packed them into your runtime image, so you don&#39;t need any additional module arguments.\r\n\r\nThe command does not use an executable jar with the `-jar` command as that [does not allow adding items outside of the jar command to the classpath][1]:\r\n\r\n&gt; When you use -jar, the specified JAR file is the source of all user classes, and other class path settings are ignored.\r\n\r\n**On Shading**\r\n\r\nYou could shade the MySQL connector jar file into your application file by unpacking both into the same directory, then repacking them.  But, it would seem better to me just to leave the app unshaded and use the classpath command-line switch to add jars for the unnamed module.  \r\n\r\nThe primary useful things about a shaded jar are it is a single file and that it has a short execution command.  But you already have lots of files because you have the `jlink` image.  Also, you have a batch file to perform the execution.  So you gain no benefit from a shaded jar (IMO). \r\n\r\nIf shading is used, care also needs to be taken to not include JavaFX modules in the shaded jar, as they are not supported in that execution mode.\r\n\r\n**Additional Info**\r\n\r\nThe nicest thing would be to just link a MySQL connector module (and an application module you define) into the jlink image you are creating.  However, currently, the MySQL connector does not define a module-info file, so it is not linkable.  If placed on the module path, the current MySQL connector implementation would become an [automatic module](https://stackoverflow.com/questions/46741907/what-is-an-automatic-module).\r\n\r\nIf you need an installer for your application, then you should use `jpackage`.\r\n\r\nMore information on packaging JavaFX applications can be found in:\r\n\r\n * [the packaging section of the javafx tag](https://stackoverflow.com/tags/javafx/info).\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#synopsis","title":"SQLException on database connection: No suitable driver found for jdbc:mysql://localhost:3306/smtbiz","body":"<p><strong>Placing required jars on the classpath</strong></p>\n<p>Let's assume that you have an <code>app</code> directory in your image which follows the <a href=\"https://datacadamia.com/lang/java/jlink#image_directory_layout\" rel=\"nofollow noreferrer\">standard image directory layout</a> and have placed <em>both</em> the mysql-connector-java jar and your application jar in that app directory (as well as any additional non-modular jars which you want to run from the classpath).  Then you can do the following:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/219585/1155209\">Including all the jars in a directory within the Java classpath</a></li>\n</ul>\n<p>Change your launch application batch file to use this command:</p>\n<pre><code>bin\\java -classpath app\\* customermanagementgui.CustomerManagementGUI\n</code></pre>\n<p>What this will do is run both your app and the MySQL connector off of the classpath (placing them in the unnamed module).  The Java runtime and JavaFX components are modular and you have already packed them into your runtime image, so you don't need any additional module arguments.</p>\n<p>The command does not use an executable jar with the <code>-jar</code> command as that <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#synopsis\" rel=\"nofollow noreferrer\">does not allow adding items outside of the jar command to the classpath</a>:</p>\n<blockquote>\n<p>When you use -jar, the specified JAR file is the source of all user classes, and other class path settings are ignored.</p>\n</blockquote>\n<p><strong>On Shading</strong></p>\n<p>You could shade the MySQL connector jar file into your application file by unpacking both into the same directory, then repacking them.  But, it would seem better to me just to leave the app unshaded and use the classpath command-line switch to add jars for the unnamed module.</p>\n<p>The primary useful things about a shaded jar are it is a single file and that it has a short execution command.  But you already have lots of files because you have the <code>jlink</code> image.  Also, you have a batch file to perform the execution.  So you gain no benefit from a shaded jar (IMO).</p>\n<p>If shading is used, care also needs to be taken to not include JavaFX modules in the shaded jar, as they are not supported in that execution mode.</p>\n<p><strong>Additional Info</strong></p>\n<p>The nicest thing would be to just link a MySQL connector module (and an application module you define) into the jlink image you are creating.  However, currently, the MySQL connector does not define a module-info file, so it is not linkable.  If placed on the module path, the current MySQL connector implementation would become an <a href=\"https://stackoverflow.com/questions/46741907/what-is-an-automatic-module\">automatic module</a>.</p>\n<p>If you need an installer for your application, then you should use <code>jpackage</code>.</p>\n<p>More information on packaging JavaFX applications can be found in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/tags/javafx/info\">the packaging section of the javafx tag</a>.</li>\n</ul>\n"}],"owner":{"account_id":22660542,"reputation":1,"user_id":16833690,"display_name":"TurtleTaco"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655336043,"creation_date":1655290846,"question_id":72630187,"body_markdown":"**Problem:** I am trying to create a self contained file for running my JDBC application which interfaces with a front end created using javafx. The program works perfectly fine when running it from the IDE (NetBeans) however when trying to run the application utilising my own batch files for; compiling, creating a custom JRE, creating a custom JAR and launch I run into this error: \r\n\r\nSQLException on database connection: No suitable driver found for jdbc:mysql://localhost:3306/smtbiz\r\n\r\nSQLState: 08001\r\n\r\n**Solutions tried:** including the mysql-connect.jar in the project library and including it in the compile time classpath location. I have had a good look at existing posts. Help is much much appreciated.\r\n\r\n**Main class**\r\n\r\n    public class CustomerManagementGUI extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;CustomerManagementUI.fxml&quot;));\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        //launch(args);\r\n        Scanner sc = new Scanner(System.in);\r\n        CustomerManagementGUI.launch(args);\r\n        CreateDatabase.createCustomerDB();\r\n\r\n    }\r\n\r\n**Database utility function class**\r\n\r\n    public class DBUtil {\r\n\r\n    private static final String URL_DB = &quot;jdbc:mysql://localhost:3306/smtbiz&quot;;\r\n    private static final String USER = &quot;root&quot;;\r\n    private static final String PASSWORD = &quot;&quot;;\r\n    private static Connection con = null;\r\n\r\n    public static void connectDatabase() {\r\n        try {\r\n            con = DriverManager.getConnection(URL_DB, USER, PASSWORD);\r\n            con.setAutoCommit(false);\r\n        } catch (SQLException ex) {\r\n            System.out.println(&quot;SQLException on database connection: &quot; + ex.getMessage());\r\n            System.out.println(&quot;SQLState: &quot; + ex.getSQLState());\r\n            System.out.println(&quot;VendorError: &quot; + ex.getErrorCode());\r\n        }\r\n    }\r\n\r\n    public static void closeDatabase() {\r\n        try {\r\n            if (con != null &amp;&amp; !con.isClosed()) {\r\n                con.close();\r\n            }\r\n        } catch (SQLException ex) {\r\n            System.out.println(&quot;SQLException on database close: &quot; + ex.getMessage());\r\n        }\r\n    }\r\n\r\n    public static ResultSet executeQuery(String queryStmt) {\r\n        Statement stmt = null;\r\n        ResultSet resultSet = null;\r\n        CachedRowSet crs = null;\r\n        try {\r\n            connectDatabase();\r\n            stmt = con.createStatement();\r\n            resultSet = stmt.executeQuery(queryStmt);\r\n            crs = RowSetProvider.newFactory().createCachedRowSet();\r\n            crs.populate(resultSet);\r\n        } catch (SQLException ex) {\r\n            System.out.println(&quot;SQLException on executeQuery: &quot; + ex.getMessage());\r\n        } finally {\r\n            try {\r\n                if (resultSet != null) {\r\n                    resultSet.close();\r\n                }\r\n                if (stmt != null) {\r\n                    stmt.close();\r\n                }\r\n                closeDatabase();\r\n            } catch (SQLException ex) {\r\n                System.out.println(&quot;SQLException caught on database closing: &quot; + ex.getMessage());\r\n            }\r\n        }\r\n        return crs;\r\n    }\r\n\r\n    public static int executeUpdate(String sqlStmt) {\r\n        Statement stmt = null;\r\n        int count;\r\n        try {\r\n            connectDatabase();\r\n            stmt = con.createStatement();\r\n            count = stmt.executeUpdate(sqlStmt);\r\n            con.commit();\r\n            return count;\r\n        } catch (SQLException ex) {\r\n            System.out.println(&quot;SQLException on executeUpdate: &quot; + ex.getMessage());\r\n            return 0;\r\n        } finally {\r\n            try {\r\n                if (stmt != null) {\r\n                    stmt.close();\r\n                }\r\n                closeDatabase();\r\n            } catch (SQLException ex) {\r\n                System.out.println(&quot;SQLException caught on database closing: &quot; + ex.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n**DAO Class**\r\n\r\n    public class CustomerDAO {\r\n\r\n    public static void insertCustomer(String name, String email, String mobile) {\r\n        String insertSQL = String.format(&quot;INSERT INTO customer (Name, Email, Mobile) VALUES (&#39;%s&#39;, &#39;%s&#39;, &#39;%s&#39;);&quot;,\r\n                name, email, mobile);\r\n        int count = DBUtil.executeUpdate(insertSQL);\r\n        if (count == 0) {\r\n            System.out.println(&quot;Failed to add new customer.&quot;);\r\n        } else {\r\n            System.out.println(&quot;\\nNew customer added successfully.&quot;);\r\n        }\r\n        \r\n    }\r\n\r\n    public static void deleteCustomer(int customerID) {\r\n        String deleteSQL = &quot;DELETE FROM customer WHERE id=&#39;&quot; + customerID + &quot;&#39;;&quot;;\r\n        int count = DBUtil.executeUpdate(deleteSQL);\r\n        if (count == 0) {\r\n            System.out.println(&quot;ID not found, delete unsuccessful.&quot;);\r\n        } else {\r\n            System.out.println(&quot;\\nID successfully deleted.&quot;);\r\n        }\r\n    }\r\n\r\n    public static void editCustomer(int customerID, String customerName, String customerEmail, String customerMobile) {\r\n        String editCustomer = &quot;UPDATE customer &quot;\r\n                + &quot;SET name = &quot; + &quot;\\&quot;&quot; + customerName + &quot;\\&quot;, &quot; + &quot;email = &quot; + &quot;\\&quot;&quot; + customerEmail + &quot;\\&quot;, &quot; + &quot;mobile = &quot; + &quot;\\&quot;&quot; + customerMobile + &quot;\\&quot; &quot;\r\n                + &quot;WHERE ID = &quot; + &quot;&quot; + customerID + &quot;;&quot;;\r\n\r\n        int count = DBUtil.executeUpdate(editCustomer);\r\n        if (count == 0) {\r\n            System.out.println(&quot;ID not found, edit unsuccessful.&quot;);\r\n        } else {\r\n            System.out.println(&quot;\\nID successfully edited.&quot;);\r\n        }\r\n    }\r\n\r\n    public static Customer searchCustomerID(int id) throws SQLException {\r\n        String query = &quot;SELECT * FROM customer WHERE ID =&quot; + id + &quot;;&quot;;\r\n        Customer c = null;\r\n        try {\r\n            ResultSet rs = DBUtil.executeQuery(query);\r\n            if (rs.next()) {\r\n                System.out.println(&quot;\\nCustomer found: &quot;);\r\n                c = new Customer();\r\n                c.setId(rs.getInt(&quot;ID&quot;));\r\n                c.setName(rs.getString(&quot;Name&quot;));\r\n                c.setEmail(rs.getString(&quot;Email&quot;));\r\n                c.setMobile(rs.getString(&quot;Mobile&quot;));\r\n            } else if (c == null){\r\n                System.out.println(&quot;Unfortunately that customer ID: &quot; + id + &quot; was not found.&quot;);\r\n            }\r\n            else {\r\n                System.out.println(&quot;Unfortunately that customer ID: &quot; + id + &quot; was not found.&quot;);\r\n            }\r\n        } catch (SQLException ex) {\r\n            System.out.println(&quot;SQLException on executeQuery: &quot; + ex.getMessage());\r\n        }\r\n        return c;\r\n    }\r\n\r\n    public static ObservableList&lt;Customer&gt; getAllCustomers() throws ClassNotFoundException, SQLException {\r\n\r\n        String query = &quot;SELECT * FROM customer;&quot;;\r\n        try {\r\n            ResultSet rs = DBUtil.executeQuery(query);\r\n            ObservableList&lt;Customer&gt; customerDetails = getCustomerModelObjects(rs);\r\n\r\n            return customerDetails;\r\n        } catch (SQLException ex) {\r\n            System.out.println(&quot;Error!&quot;);\r\n            ex.printStackTrace();;\r\n            throw ex;\r\n        }\r\n\r\n    }\r\n\r\n    public static ObservableList&lt;Customer&gt; getCustomerModelObjects(ResultSet rs) throws SQLException, ClassNotFoundException {\r\n        try {\r\n            ObservableList&lt;Customer&gt; customerList = FXCollections.observableArrayList();\r\n            while (rs.next()) {\r\n                Customer customer = new Customer();\r\n                customer.setId(rs.getInt(&quot;ID&quot;));\r\n                customer.setName(rs.getString(&quot;Name&quot;));\r\n                customer.setEmail(rs.getString(&quot;Email&quot;));\r\n                customer.setMobile(rs.getString(&quot;Mobile&quot;));\r\n                customerList.add(customer);\r\n            }\r\n            return customerList;\r\n        } catch (SQLException ex) {\r\n            throw ex;\r\n        }\r\n\r\n    }\r\n**Customer Object Class**\r\nNot included: to save post space.\r\n\r\n**Create Database Class**\r\n\r\n    public class CreateDatabase {\r\n\r\n    public static void createCustomerDB() {\r\n        String url = &quot;jdbc:mysql://localhost:3306/&quot;; // no database yet\r\n        String user = &quot;root&quot;;\r\n        String password = &quot;&quot;;\r\n        Connection con = null;\r\n        Statement stmt = null;\r\n        String query;\r\n        ResultSet result = null;\r\n        try {\r\n            con = DriverManager.getConnection(url, user, password);\r\n            stmt = con.createStatement();\r\n\r\n            query = &quot;DROP DATABASE IF EXISTS smtbiz;&quot;;\r\n            stmt.executeUpdate(query);\r\n\r\n            query = &quot;CREATE DATABASE smtbiz;&quot;;\r\n            stmt.executeUpdate(query);\r\n\r\n            query = &quot;USE smtbiz;&quot;;\r\n            stmt.executeUpdate(query);\r\n\r\n            query = &quot;&quot;&quot;\r\n                    CREATE TABLE customer (\r\n                    ID INTEGER NOT NULL AUTO_INCREMENT,\r\n                    Name VARCHAR(32),\r\n                    Email VARCHAR(25),\r\n                    Mobile VARCHAR(15),\r\n                    PRIMARY KEY(ID)\r\n                    );\r\n                    &quot;&quot;&quot;;\r\n            stmt.executeUpdate(query);\r\n\r\n            query = &quot;&quot;&quot;\r\n                    INSERT INTO customer\r\n                    (Name,Email,Mobile)\r\n                    VALUES\r\n                    (&quot;Kyle&quot;,&quot;Kyle.Henry@gmail.com&quot;,&quot;0489358318&quot;),\r\n                    (&quot;John&quot;,&quot;John.Potter@outlook.com&quot;,&quot;0460358348&quot;),\r\n                    (&quot;Liam&quot;,&quot;Liam.Stone@hotmail.com&quot;,&quot;0417335874&quot;),\r\n                    (&quot;Argon&quot;,&quot;Argon.Chung@gmail.com&quot;,&quot;0422358320&quot;),\r\n                    (&quot;Kris&quot;,&quot;Kris.Frank@gmail.com&quot;,&quot;0494358923&quot;);\r\n                    &quot;&quot;&quot;;\r\n            stmt.executeUpdate(query);\r\n            query = &quot;SELECT * FROM customer;&quot;;\r\n            result = stmt.executeQuery(query); // execute the SQL query\r\n        } catch (SQLException ex) {\r\n            System.out.println(&quot;SQLException on database creation: &quot; + ex.getMessage());\r\n        } finally {\r\n            try {\r\n                if (result != null) {\r\n                    result.close();\r\n                }\r\n                if (stmt != null) {\r\n                    stmt.close();\r\n                }\r\n                if (con != null) {\r\n                    con.close();\r\n                }\r\n            } catch (SQLException ex) {\r\n                System.out.println(&quot;SQLException caught: &quot; + ex.getMessage());\r\n            }\r\n        }\r\n    }\r\n**Below I have included the batch files used:**\r\n\r\n**Compile Batch**\r\n\r\n    @echo off\r\n    javac --module-path %PATH_TO_FX% --add-modules=javafx.base,javafx.controls,javafx.fxml,javafx.graphics src\\customermanagementgui\\*.java -d classes \r\n    copy src\\customermanagementgui\\*.fxml classes\\customermanagementgui\\*.fxml\r\n    pause\r\n\r\n**Create JAR batch**\r\n\r\n    @echo off\r\n    md app\r\n    jar --create --file=app/CustomerManagementGUI.jar --main-class=customermanagementgui.CustomerManagementGUI -m Manifest.mf -C classes .\r\n    REM md app\\lib\r\n    REM copy lib\\mysql-connector-java.jar app\\lib\r\n    xcopy .\\lib\\ .\\app\\lib /E /I\r\n    pause\r\n\r\n**Create JRE batch**\r\n\r\n    @echo off\r\n    jdeps -s --module-path %PATH_TO_FX% app\\CustomerManagementGUI.jar\r\n    jlink --module-path ../jmods;%PATH_TO_FX_JMOD% --add-modules java.base,java.sql,java.sql.rowset,javafx.base,javafx.controls,javafx.fxml,javafx.graphics --output jre\r\n    echo ############\r\n    echo # Finished #\r\n    echo ############\r\n    pause\r\n\r\n**Launch Application Batch**\r\n\r\n    @echo off\r\n    REM java -classpath classes customermanagementgui.CustomerManagementGUI\r\n    jre\\bin\\java -jar app/CustomerManagementGUI.jar\r\n    pause\r\n\r\n","title":"SQLException on database connection: No suitable driver found for jdbc:mysql://localhost:3306/smtbiz","body":"<p><strong>Problem:</strong> I am trying to create a self contained file for running my JDBC application which interfaces with a front end created using javafx. The program works perfectly fine when running it from the IDE (NetBeans) however when trying to run the application utilising my own batch files for; compiling, creating a custom JRE, creating a custom JAR and launch I run into this error:</p>\n<p>SQLException on database connection: No suitable driver found for jdbc:mysql://localhost:3306/smtbiz</p>\n<p>SQLState: 08001</p>\n<p><strong>Solutions tried:</strong> including the mysql-connect.jar in the project library and including it in the compile time classpath location. I have had a good look at existing posts. Help is much much appreciated.</p>\n<p><strong>Main class</strong></p>\n<pre><code>public class CustomerManagementGUI extends Application {\n\n@Override\npublic void start(Stage stage) throws Exception {\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;CustomerManagementUI.fxml&quot;));\n    Scene scene = new Scene(root);\n    stage.setScene(scene);\n    stage.show();\n}\n\npublic static void main(String[] args) {\n    //launch(args);\n    Scanner sc = new Scanner(System.in);\n    CustomerManagementGUI.launch(args);\n    CreateDatabase.createCustomerDB();\n\n}\n</code></pre>\n<p><strong>Database utility function class</strong></p>\n<pre><code>public class DBUtil {\n\nprivate static final String URL_DB = &quot;jdbc:mysql://localhost:3306/smtbiz&quot;;\nprivate static final String USER = &quot;root&quot;;\nprivate static final String PASSWORD = &quot;&quot;;\nprivate static Connection con = null;\n\npublic static void connectDatabase() {\n    try {\n        con = DriverManager.getConnection(URL_DB, USER, PASSWORD);\n        con.setAutoCommit(false);\n    } catch (SQLException ex) {\n        System.out.println(&quot;SQLException on database connection: &quot; + ex.getMessage());\n        System.out.println(&quot;SQLState: &quot; + ex.getSQLState());\n        System.out.println(&quot;VendorError: &quot; + ex.getErrorCode());\n    }\n}\n\npublic static void closeDatabase() {\n    try {\n        if (con != null &amp;&amp; !con.isClosed()) {\n            con.close();\n        }\n    } catch (SQLException ex) {\n        System.out.println(&quot;SQLException on database close: &quot; + ex.getMessage());\n    }\n}\n\npublic static ResultSet executeQuery(String queryStmt) {\n    Statement stmt = null;\n    ResultSet resultSet = null;\n    CachedRowSet crs = null;\n    try {\n        connectDatabase();\n        stmt = con.createStatement();\n        resultSet = stmt.executeQuery(queryStmt);\n        crs = RowSetProvider.newFactory().createCachedRowSet();\n        crs.populate(resultSet);\n    } catch (SQLException ex) {\n        System.out.println(&quot;SQLException on executeQuery: &quot; + ex.getMessage());\n    } finally {\n        try {\n            if (resultSet != null) {\n                resultSet.close();\n            }\n            if (stmt != null) {\n                stmt.close();\n            }\n            closeDatabase();\n        } catch (SQLException ex) {\n            System.out.println(&quot;SQLException caught on database closing: &quot; + ex.getMessage());\n        }\n    }\n    return crs;\n}\n\npublic static int executeUpdate(String sqlStmt) {\n    Statement stmt = null;\n    int count;\n    try {\n        connectDatabase();\n        stmt = con.createStatement();\n        count = stmt.executeUpdate(sqlStmt);\n        con.commit();\n        return count;\n    } catch (SQLException ex) {\n        System.out.println(&quot;SQLException on executeUpdate: &quot; + ex.getMessage());\n        return 0;\n    } finally {\n        try {\n            if (stmt != null) {\n                stmt.close();\n            }\n            closeDatabase();\n        } catch (SQLException ex) {\n            System.out.println(&quot;SQLException caught on database closing: &quot; + ex.getMessage());\n        }\n    }\n}\n</code></pre>\n<p><strong>DAO Class</strong></p>\n<pre><code>public class CustomerDAO {\n\npublic static void insertCustomer(String name, String email, String mobile) {\n    String insertSQL = String.format(&quot;INSERT INTO customer (Name, Email, Mobile) VALUES ('%s', '%s', '%s');&quot;,\n            name, email, mobile);\n    int count = DBUtil.executeUpdate(insertSQL);\n    if (count == 0) {\n        System.out.println(&quot;Failed to add new customer.&quot;);\n    } else {\n        System.out.println(&quot;\\nNew customer added successfully.&quot;);\n    }\n    \n}\n\npublic static void deleteCustomer(int customerID) {\n    String deleteSQL = &quot;DELETE FROM customer WHERE id='&quot; + customerID + &quot;';&quot;;\n    int count = DBUtil.executeUpdate(deleteSQL);\n    if (count == 0) {\n        System.out.println(&quot;ID not found, delete unsuccessful.&quot;);\n    } else {\n        System.out.println(&quot;\\nID successfully deleted.&quot;);\n    }\n}\n\npublic static void editCustomer(int customerID, String customerName, String customerEmail, String customerMobile) {\n    String editCustomer = &quot;UPDATE customer &quot;\n            + &quot;SET name = &quot; + &quot;\\&quot;&quot; + customerName + &quot;\\&quot;, &quot; + &quot;email = &quot; + &quot;\\&quot;&quot; + customerEmail + &quot;\\&quot;, &quot; + &quot;mobile = &quot; + &quot;\\&quot;&quot; + customerMobile + &quot;\\&quot; &quot;\n            + &quot;WHERE ID = &quot; + &quot;&quot; + customerID + &quot;;&quot;;\n\n    int count = DBUtil.executeUpdate(editCustomer);\n    if (count == 0) {\n        System.out.println(&quot;ID not found, edit unsuccessful.&quot;);\n    } else {\n        System.out.println(&quot;\\nID successfully edited.&quot;);\n    }\n}\n\npublic static Customer searchCustomerID(int id) throws SQLException {\n    String query = &quot;SELECT * FROM customer WHERE ID =&quot; + id + &quot;;&quot;;\n    Customer c = null;\n    try {\n        ResultSet rs = DBUtil.executeQuery(query);\n        if (rs.next()) {\n            System.out.println(&quot;\\nCustomer found: &quot;);\n            c = new Customer();\n            c.setId(rs.getInt(&quot;ID&quot;));\n            c.setName(rs.getString(&quot;Name&quot;));\n            c.setEmail(rs.getString(&quot;Email&quot;));\n            c.setMobile(rs.getString(&quot;Mobile&quot;));\n        } else if (c == null){\n            System.out.println(&quot;Unfortunately that customer ID: &quot; + id + &quot; was not found.&quot;);\n        }\n        else {\n            System.out.println(&quot;Unfortunately that customer ID: &quot; + id + &quot; was not found.&quot;);\n        }\n    } catch (SQLException ex) {\n        System.out.println(&quot;SQLException on executeQuery: &quot; + ex.getMessage());\n    }\n    return c;\n}\n\npublic static ObservableList&lt;Customer&gt; getAllCustomers() throws ClassNotFoundException, SQLException {\n\n    String query = &quot;SELECT * FROM customer;&quot;;\n    try {\n        ResultSet rs = DBUtil.executeQuery(query);\n        ObservableList&lt;Customer&gt; customerDetails = getCustomerModelObjects(rs);\n\n        return customerDetails;\n    } catch (SQLException ex) {\n        System.out.println(&quot;Error!&quot;);\n        ex.printStackTrace();;\n        throw ex;\n    }\n\n}\n\npublic static ObservableList&lt;Customer&gt; getCustomerModelObjects(ResultSet rs) throws SQLException, ClassNotFoundException {\n    try {\n        ObservableList&lt;Customer&gt; customerList = FXCollections.observableArrayList();\n        while (rs.next()) {\n            Customer customer = new Customer();\n            customer.setId(rs.getInt(&quot;ID&quot;));\n            customer.setName(rs.getString(&quot;Name&quot;));\n            customer.setEmail(rs.getString(&quot;Email&quot;));\n            customer.setMobile(rs.getString(&quot;Mobile&quot;));\n            customerList.add(customer);\n        }\n        return customerList;\n    } catch (SQLException ex) {\n        throw ex;\n    }\n\n}\n</code></pre>\n<p><strong>Customer Object Class</strong>\nNot included: to save post space.</p>\n<p><strong>Create Database Class</strong></p>\n<pre><code>public class CreateDatabase {\n\npublic static void createCustomerDB() {\n    String url = &quot;jdbc:mysql://localhost:3306/&quot;; // no database yet\n    String user = &quot;root&quot;;\n    String password = &quot;&quot;;\n    Connection con = null;\n    Statement stmt = null;\n    String query;\n    ResultSet result = null;\n    try {\n        con = DriverManager.getConnection(url, user, password);\n        stmt = con.createStatement();\n\n        query = &quot;DROP DATABASE IF EXISTS smtbiz;&quot;;\n        stmt.executeUpdate(query);\n\n        query = &quot;CREATE DATABASE smtbiz;&quot;;\n        stmt.executeUpdate(query);\n\n        query = &quot;USE smtbiz;&quot;;\n        stmt.executeUpdate(query);\n\n        query = &quot;&quot;&quot;\n                CREATE TABLE customer (\n                ID INTEGER NOT NULL AUTO_INCREMENT,\n                Name VARCHAR(32),\n                Email VARCHAR(25),\n                Mobile VARCHAR(15),\n                PRIMARY KEY(ID)\n                );\n                &quot;&quot;&quot;;\n        stmt.executeUpdate(query);\n\n        query = &quot;&quot;&quot;\n                INSERT INTO customer\n                (Name,Email,Mobile)\n                VALUES\n                (&quot;Kyle&quot;,&quot;Kyle.Henry@gmail.com&quot;,&quot;0489358318&quot;),\n                (&quot;John&quot;,&quot;John.Potter@outlook.com&quot;,&quot;0460358348&quot;),\n                (&quot;Liam&quot;,&quot;Liam.Stone@hotmail.com&quot;,&quot;0417335874&quot;),\n                (&quot;Argon&quot;,&quot;Argon.Chung@gmail.com&quot;,&quot;0422358320&quot;),\n                (&quot;Kris&quot;,&quot;Kris.Frank@gmail.com&quot;,&quot;0494358923&quot;);\n                &quot;&quot;&quot;;\n        stmt.executeUpdate(query);\n        query = &quot;SELECT * FROM customer;&quot;;\n        result = stmt.executeQuery(query); // execute the SQL query\n    } catch (SQLException ex) {\n        System.out.println(&quot;SQLException on database creation: &quot; + ex.getMessage());\n    } finally {\n        try {\n            if (result != null) {\n                result.close();\n            }\n            if (stmt != null) {\n                stmt.close();\n            }\n            if (con != null) {\n                con.close();\n            }\n        } catch (SQLException ex) {\n            System.out.println(&quot;SQLException caught: &quot; + ex.getMessage());\n        }\n    }\n}\n</code></pre>\n<p><strong>Below I have included the batch files used:</strong></p>\n<p><strong>Compile Batch</strong></p>\n<pre><code>@echo off\njavac --module-path %PATH_TO_FX% --add-modules=javafx.base,javafx.controls,javafx.fxml,javafx.graphics src\\customermanagementgui\\*.java -d classes \ncopy src\\customermanagementgui\\*.fxml classes\\customermanagementgui\\*.fxml\npause\n</code></pre>\n<p><strong>Create JAR batch</strong></p>\n<pre><code>@echo off\nmd app\njar --create --file=app/CustomerManagementGUI.jar --main-class=customermanagementgui.CustomerManagementGUI -m Manifest.mf -C classes .\nREM md app\\lib\nREM copy lib\\mysql-connector-java.jar app\\lib\nxcopy .\\lib\\ .\\app\\lib /E /I\npause\n</code></pre>\n<p><strong>Create JRE batch</strong></p>\n<pre><code>@echo off\njdeps -s --module-path %PATH_TO_FX% app\\CustomerManagementGUI.jar\njlink --module-path ../jmods;%PATH_TO_FX_JMOD% --add-modules java.base,java.sql,java.sql.rowset,javafx.base,javafx.controls,javafx.fxml,javafx.graphics --output jre\necho ############\necho # Finished #\necho ############\npause\n</code></pre>\n<p><strong>Launch Application Batch</strong></p>\n<pre><code>@echo off\nREM java -classpath classes customermanagementgui.CustomerManagementGUI\njre\\bin\\java -jar app/CustomerManagementGUI.jar\npause\n</code></pre>\n"},{"tags":["java","android","notifications"],"owner":{"account_id":25566789,"reputation":11,"user_id":19347993,"display_name":"Mohamad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655334333,"creation_date":1655334333,"question_id":72638753,"body_markdown":"I&#39;m creating an android java app that contains a part creates notifications to be confirmed or denied by the user, and the notifications cannot be dismissed by the user, only via the app\r\n\r\nThe problem is that once I create the notification, the action buttons work perfectly, **but if I create another notification, the old notifications&#39; buttons don&#39;t work anymore**\r\n\r\nWhich causes that if the user tried to confirm or deny any old notification (via their button &#39;Confrm&#39; &amp; &#39;Deny&#39;), the actions that the button must perform don&#39;t happen, but only happen with the last(newest) notification\r\n\r\nSo my question is **how to keep the old notifications&#39; buttons active after creating a new notification**\r\n\r\nI use the code below (with changing the NotificationID)\r\n```\r\nNotificationManager mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\nNotification.Builder mbuilder = new Notification.Builder(MainActivity.this);\r\nmbuilder.setContentTitle(&quot;Confirmation&quot;);\r\nmbuilder.setContentText(&quot;Do you want to confirm that you want to wake up at 7 am?&quot;);\r\nmbuilder.setSmallIcon(R.drawable.app_icon); \r\nmbuilder.setDefaults( Notification.DEFAULT_SOUND | Notification.DEFAULT_VIBRATE);\r\nmbuilder.setOngoing(true);\r\nmbuilder.setAutoCancel(false);\r\nIntent NotificationIntent = new Intent(getApplicationContext(), MainActivity.class);\r\nNotificationIntent.setClass(getApplicationContext(), MainActivity.class);\r\nNotificationIntent.putExtra(&quot;NotificationID&quot;, String.valueOf((long)(NotificationID)));\r\nNotificationIntent.setType(&quot;CONFIRMATION=true&quot;);\r\nPendingIntent PendingIntent1 = PendingIntent.getActivity(getApplicationContext(), 1, NotificationIntent, Intent.FLAG_ACTIVITY_NEW_TASK);\r\nmbuilder.addAction(R.drawable.app_icon, &quot;CONFIRM&quot;, PendingIntent1);\r\nNotificationIntent.setType(&quot;CONFIRMATION=false&quot;);\r\nPendingIntent PendingIntent2 = PendingIntent.getActivity(getApplicationContext(), 1, NotificationIntent, Intent.FLAG_ACTIVITY_NEW_TASK);\r\nmbuilder.addAction(R.drawable.app_icon, &quot;DENY&quot;, PendingIntent2);\r\n\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n\t\tNotificationChannel channel = new NotificationChannel(&quot;1&quot;, &quot;Confirmations&quot;, NotificationManager.IMPORTANCE_DEFAULT);\r\n\t\tchannel.enableLights(true);\r\n\t\tchannel.setLightColor(Color.BLUE);\r\n\t\tchannel.setShowBadge(true);\r\n\t\tchannel.enableVibration(true);\r\n\t\tmbuilder.setChannelId(&quot;1&quot;);\r\n\t\tif (mNotificationManager != null) {\r\n\t\t\t\tmNotificationManager.createNotificationChannel(channel);\r\n\t\t\t}\r\n} else {\r\n\t\t\tmbuilder.setDefaults(Notification.DEFAULT_SOUND | Notification.DEFAULT_LIGHTS | Notification.DEFAULT_VIBRATE);\r\n\t\t}\r\n\t\tif (mNotificationManager != null) {\r\n\t\t\t\tmNotificationManager.notify((int)(NotificationID), mbuilder.build());\r\n\t\t\t}\r\n```\r\n\r\nI change the intent type to know the clicked button because the intent can contain only one type, but if I add a flag instead, it will duplicate which will cause a problem in recognizing which button is clicked after launching the MainActivity, so it&#39;s easier to me to do that.\r\n\r\nThanks","title":"how to keep the old notifications&#39; buttons active after creating a new notification","body":"<p>I'm creating an android java app that contains a part creates notifications to be confirmed or denied by the user, and the notifications cannot be dismissed by the user, only via the app</p>\n<p>The problem is that once I create the notification, the action buttons work perfectly, <strong>but if I create another notification, the old notifications' buttons don't work anymore</strong></p>\n<p>Which causes that if the user tried to confirm or deny any old notification (via their button 'Confrm' &amp; 'Deny'), the actions that the button must perform don't happen, but only happen with the last(newest) notification</p>\n<p>So my question is <strong>how to keep the old notifications' buttons active after creating a new notification</strong></p>\n<p>I use the code below (with changing the NotificationID)</p>\n<pre><code>NotificationManager mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\nNotification.Builder mbuilder = new Notification.Builder(MainActivity.this);\nmbuilder.setContentTitle(&quot;Confirmation&quot;);\nmbuilder.setContentText(&quot;Do you want to confirm that you want to wake up at 7 am?&quot;);\nmbuilder.setSmallIcon(R.drawable.app_icon); \nmbuilder.setDefaults( Notification.DEFAULT_SOUND | Notification.DEFAULT_VIBRATE);\nmbuilder.setOngoing(true);\nmbuilder.setAutoCancel(false);\nIntent NotificationIntent = new Intent(getApplicationContext(), MainActivity.class);\nNotificationIntent.setClass(getApplicationContext(), MainActivity.class);\nNotificationIntent.putExtra(&quot;NotificationID&quot;, String.valueOf((long)(NotificationID)));\nNotificationIntent.setType(&quot;CONFIRMATION=true&quot;);\nPendingIntent PendingIntent1 = PendingIntent.getActivity(getApplicationContext(), 1, NotificationIntent, Intent.FLAG_ACTIVITY_NEW_TASK);\nmbuilder.addAction(R.drawable.app_icon, &quot;CONFIRM&quot;, PendingIntent1);\nNotificationIntent.setType(&quot;CONFIRMATION=false&quot;);\nPendingIntent PendingIntent2 = PendingIntent.getActivity(getApplicationContext(), 1, NotificationIntent, Intent.FLAG_ACTIVITY_NEW_TASK);\nmbuilder.addAction(R.drawable.app_icon, &quot;DENY&quot;, PendingIntent2);\n\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        NotificationChannel channel = new NotificationChannel(&quot;1&quot;, &quot;Confirmations&quot;, NotificationManager.IMPORTANCE_DEFAULT);\n        channel.enableLights(true);\n        channel.setLightColor(Color.BLUE);\n        channel.setShowBadge(true);\n        channel.enableVibration(true);\n        mbuilder.setChannelId(&quot;1&quot;);\n        if (mNotificationManager != null) {\n                mNotificationManager.createNotificationChannel(channel);\n            }\n} else {\n            mbuilder.setDefaults(Notification.DEFAULT_SOUND | Notification.DEFAULT_LIGHTS | Notification.DEFAULT_VIBRATE);\n        }\n        if (mNotificationManager != null) {\n                mNotificationManager.notify((int)(NotificationID), mbuilder.build());\n            }\n</code></pre>\n<p>I change the intent type to know the clicked button because the intent can contain only one type, but if I add a flag instead, it will duplicate which will cause a problem in recognizing which button is clicked after launching the MainActivity, so it's easier to me to do that.</p>\n<p>Thanks</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":21384180,"reputation":1690,"user_id":15749574,"display_name":"JustSightseeing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655333714,"creation_date":1655333374,"answer_id":72638659,"question_id":72637992,"body_markdown":"If you take a look at your mainActivity.kt code, you will know that this is not an emulator problem ;)\r\n\r\nhere you are declaring a lateinit variable of type &#39;ActivityMainBinding&#39;\r\nIt is not initialized anywhere later in any way!\r\n\r\n```\r\n private lateinit var binding: ActivityMainBinding\r\n``` \r\n\r\nyou will definitevely find a solution [here](https://developer.android.com/topic/libraries/view-binding) and I encourage you to read more about viewBinding :)\r\n\r\nbut if you do not want to do that:\r\n```\r\nprivate lateinit var binding: ActivityMainBinding\r\n\r\noverride fun onCreate(savedInstanceState: Bundle?) {\r\n    super.onCreate(savedInstanceState)\r\n\r\n    // as you can see here it is initalized\r\n    binding = ActivityMainBinding.inflate(layoutInflater)\r\n    val view = binding.root\r\n\r\n    // and because it is initalized, you can now reference it without the app crashing\r\n    binding.registerButton.setOnClickListener {\r\n            binding.registerFields.visibility = View.VISIBLE\r\n            binding.loginFields.visibility = View.GONE\r\n    }\r\n\r\n    setContentView(view)\r\n}\r\n```\r\n\r\nedit / tip: \r\nThe app crash will not always generate the Java stack trace, but if you run the app for another 3-5 times or run it in the debug mode it probably will generate it at some point. (worked for me so far)\r\n\r\n\r\n","title":"Android Studio emulator starts, but flashes white screen and crashes the app","body":"<p>If you take a look at your mainActivity.kt code, you will know that this is not an emulator problem ;)</p>\n<p>here you are declaring a lateinit variable of type 'ActivityMainBinding'\nIt is not initialized anywhere later in any way!</p>\n<pre><code> private lateinit var binding: ActivityMainBinding\n</code></pre>\n<p>you will definitevely find a solution <a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">here</a> and I encourage you to read more about viewBinding :)</p>\n<p>but if you do not want to do that:</p>\n<pre><code>private lateinit var binding: ActivityMainBinding\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    // as you can see here it is initalized\n    binding = ActivityMainBinding.inflate(layoutInflater)\n    val view = binding.root\n\n    // and because it is initalized, you can now reference it without the app crashing\n    binding.registerButton.setOnClickListener {\n            binding.registerFields.visibility = View.VISIBLE\n            binding.loginFields.visibility = View.GONE\n    }\n\n    setContentView(view)\n}\n</code></pre>\n<p>edit / tip:\nThe app crash will not always generate the Java stack trace, but if you run the app for another 3-5 times or run it in the debug mode it probably will generate it at some point. (worked for me so far)</p>\n"}],"owner":{"account_id":18687026,"reputation":117,"user_id":13622283,"display_name":"Kafka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72638659,"answer_count":1,"score":0,"last_activity_date":1655333714,"creation_date":1655328276,"question_id":72637992,"body_markdown":"As the title suggests, when I start up the emulator, it starts up totally fine, but then immediately shows a white screen, followed by the home screen. No app appears to have been installed. A few things to note:\r\n\r\n - I am using the Pixel 5 API 32 emulator, and I checked in my gradle settings that the target is API 32.\r\n- Attached below is my AndroidManifest.xml and MainActivity.kt code. I am very new to Kotlin programming, so it is very possible I may have missed something. Please let me know if you need any other code.\r\n- I am running this code on an M1 Macbook Air 2020. I have the latest version of Android Studio.\r\n- Absolutely no error appears (which is frustrating...)\r\n\r\nThank you in advance for your help. \r\n\r\nAndroidManifest.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.groupupandroid&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.GroupUpAndroid&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nMainActivity.kt\r\n```\r\npackage com.example.groupupandroid\r\n\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.view.View\r\nimport com.example.groupupandroid.databinding.ActivityMainBinding\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n    private lateinit var binding: ActivityMainBinding\r\n\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        binding.registerButton.setOnClickListener {\r\n            binding.registerFields.visibility = View.VISIBLE\r\n            binding.loginFields.visibility = View.GONE\r\n        }\r\n\r\n        binding.loginButton.setOnClickListener {\r\n            binding.registerFields.visibility = View.GONE\r\n            binding.loginFields.visibility = View.VISIBLE\r\n        }\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n[![Gif of what is happening][1]][1]\r\n\r\n\r\nAnimation of what is going on.\r\n\r\n  [1]: https://i.stack.imgur.com/JFJeI.gif","title":"Android Studio emulator starts, but flashes white screen and crashes the app","body":"<p>As the title suggests, when I start up the emulator, it starts up totally fine, but then immediately shows a white screen, followed by the home screen. No app appears to have been installed. A few things to note:</p>\n<ul>\n<li>I am using the Pixel 5 API 32 emulator, and I checked in my gradle settings that the target is API 32.</li>\n<li>Attached below is my AndroidManifest.xml and MainActivity.kt code. I am very new to Kotlin programming, so it is very possible I may have missed something. Please let me know if you need any other code.</li>\n<li>I am running this code on an M1 Macbook Air 2020. I have the latest version of Android Studio.</li>\n<li>Absolutely no error appears (which is frustrating...)</li>\n</ul>\n<p>Thank you in advance for your help.</p>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.groupupandroid&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.GroupUpAndroid&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>MainActivity.kt</p>\n<pre><code>package com.example.groupupandroid\n\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.View\nimport com.example.groupupandroid.databinding.ActivityMainBinding\n\nclass MainActivity : AppCompatActivity() {\n    private lateinit var binding: ActivityMainBinding\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        binding.registerButton.setOnClickListener {\n            binding.registerFields.visibility = View.VISIBLE\n            binding.loginFields.visibility = View.GONE\n        }\n\n        binding.loginButton.setOnClickListener {\n            binding.registerFields.visibility = View.GONE\n            binding.loginFields.visibility = View.VISIBLE\n        }\n\n\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JFJeI.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JFJeI.gif\" alt=\"Gif of what is happening\" /></a></p>\n<p>Animation of what is going on.</p>\n"},{"tags":["java","xsd","jaxb","upnp"],"answers":[{"tags":[],"owner":{"account_id":12726107,"reputation":36,"user_id":9244597,"display_name":"Stabak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655302143,"creation_date":1655302143,"answer_id":72632940,"question_id":72449228,"body_markdown":"Please try using the following in a terminal. You should have all the required Java Beans created. \r\n\r\n    &amp; &quot;C:\\Program Files\\Java\\jdk1.8.0_333\\bin\\xjc&quot; -d src -p com.example https://gitlab.gnome.org/GNOME/gupnp-av/-/raw/master/data/av.xsd\r\n\r\nWhat this does is uses the xjc command line tool to generate the artifacts from the supplied xsd. You can read more about it here: [Using JAXB xjc tooling to generate JAXB classes from an XML schema file][1]\r\n\r\n\r\n  [1]: https://www.ibm.com/docs/en/was/9.0.5?topic=ujxdb-using-jaxb-xjc-tooling-generate-jaxb-classes-from-xml-schema-file","title":"JAXB generated classes from Xml schema doesnt return getter setters for all attributes","body":"<p>Please try using the following in a terminal. You should have all the required Java Beans created.</p>\n<pre><code>&amp; &quot;C:\\Program Files\\Java\\jdk1.8.0_333\\bin\\xjc&quot; -d src -p com.example https://gitlab.gnome.org/GNOME/gupnp-av/-/raw/master/data/av.xsd\n</code></pre>\n<p>What this does is uses the xjc command line tool to generate the artifacts from the supplied xsd. You can read more about it here: <a href=\"https://www.ibm.com/docs/en/was/9.0.5?topic=ujxdb-using-jaxb-xjc-tooling-generate-jaxb-classes-from-xml-schema-file\" rel=\"nofollow noreferrer\">Using JAXB xjc tooling to generate JAXB classes from an XML schema file</a></p>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655332573,"creation_date":1655332193,"answer_id":72638524,"question_id":72449228,"body_markdown":"Although probably difficult in this case, due to the complexity of the schema you are working with, but you could try using [JAXB XML bindings](https://docs.oracle.com/javase/tutorial/jaxb/intro/custom.html) for this purpose.\r\n\r\nJAXB XML bindings allows you to customize the JAXB Java classes generation process in different ways.\r\n\r\nAmong these customizations, it allows you to instruct the generator to use your own model of classes.\r\n\r\nThis information should be provided in a bindings XML file; in your use case, it could be similar to this:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;jaxb:bindings \r\n    xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n    xmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n    version=&quot;2.1&quot;&gt;\r\n\r\n    &lt;jaxb:bindings schemaLocation=&quot;didl-lite-v2.xsd&quot;&gt;\r\n        &lt;jaxb:bindings node=&quot;//xsd:complexType[@name=&#39;container.type&#39;]&quot;&gt;\r\n            &lt;jaxb:class ref=&quot;didl.ContainerType&quot;/&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n        &lt;jaxb:bindings node=&quot;//xsd:complexType[@name=&#39;item.type&#39;]&quot;&gt;\r\n            &lt;jaxb:class ref=&quot;didl.ItemType&quot;/&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n&lt;/jaxb:bindings&gt;\r\n```\r\n\r\nNote the definition of the custom classes `didl.ContainerType` and `didl.ItemType`in order to represent the complex types `container.type` and `item.type`, respectively.\r\n\r\n`ContainerType` could look like this:\r\n\r\n```java\r\npackage didl;\r\n\r\nimport javax.xml.bind.annotation.XmlElement;\r\n\r\npublic class ContainerType {\r\n\r\n  @XmlElement(\r\n      name = &quot;title&quot;, namespace = &quot;http://purl.org/dc/elements/1.1/&quot;\r\n  )\r\n  private String title;\r\n\r\n  @XmlElement(\r\n      name = &quot;albumArtURI&quot;, namespace = &quot;urn:schemas-upnp-org:metadata-1-0/upnp/&quot;\r\n  )\r\n  private String albumArtURI;\r\n\r\n  // Other fields\r\n\r\n  public String getTitle() {\r\n    return title;\r\n  }\r\n\r\n  public String getAlbumArtURI() {\r\n    return albumArtURI;\r\n  }\r\n  \r\n  // Other getters\r\n}\r\n```\r\n\r\nI will use the `xjc` tool in the answer but the solution should be easily portable to Maven, for example.\r\n\r\nUsing `xjc`, you need to generate your code like this to tale into account the bindings file and classes requested:\r\n\r\n```sh\r\nxjc -d output -b binding.xml didl-lite-v2.xsd -classpath /path/to/custom/classes\r\n```\r\n\r\nAs you can see, we provided both the bindings file, `binding.xml`, and the `classpath` where the generator should search for your custom classes.\r\n\r\nThe same approach, although for simpler use cases, has been exemplified here in different questions in Stackoverflow, for example in these ones:\r\n\r\n - https://stackoverflow.com/questions/10420137/jaxb-xjc-mapping-to-existing-domain-objects\r\n - https://stackoverflow.com/questions/12891958/jax-b-how-to-map-a-schema-element-to-an-existing-java-class\r\n - https://stackoverflow.com/questions/23629801/jaxb-generates-listjaxbelement-instead-of-fields\r\n\r\n[This Oracle article](https://docs.oracle.com/cd/E19316-01/819-3669/bnazf/index.html) is quite dated, but it provides a good explanation about how the actual correspondence between fields happens.","title":"JAXB generated classes from Xml schema doesnt return getter setters for all attributes","body":"<p>Although probably difficult in this case, due to the complexity of the schema you are working with, but you could try using <a href=\"https://docs.oracle.com/javase/tutorial/jaxb/intro/custom.html\" rel=\"nofollow noreferrer\">JAXB XML bindings</a> for this purpose.</p>\n<p>JAXB XML bindings allows you to customize the JAXB Java classes generation process in different ways.</p>\n<p>Among these customizations, it allows you to instruct the generator to use your own model of classes.</p>\n<p>This information should be provided in a bindings XML file; in your use case, it could be similar to this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jaxb:bindings \n    xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    xmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\n    version=&quot;2.1&quot;&gt;\n\n    &lt;jaxb:bindings schemaLocation=&quot;didl-lite-v2.xsd&quot;&gt;\n        &lt;jaxb:bindings node=&quot;//xsd:complexType[@name='container.type']&quot;&gt;\n            &lt;jaxb:class ref=&quot;didl.ContainerType&quot;/&gt;\n        &lt;/jaxb:bindings&gt;\n        &lt;jaxb:bindings node=&quot;//xsd:complexType[@name='item.type']&quot;&gt;\n            &lt;jaxb:class ref=&quot;didl.ItemType&quot;/&gt;\n        &lt;/jaxb:bindings&gt;\n    &lt;/jaxb:bindings&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>Note the definition of the custom classes <code>didl.ContainerType</code> and <code>didl.ItemType</code>in order to represent the complex types <code>container.type</code> and <code>item.type</code>, respectively.</p>\n<p><code>ContainerType</code> could look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package didl;\n\nimport javax.xml.bind.annotation.XmlElement;\n\npublic class ContainerType {\n\n  @XmlElement(\n      name = &quot;title&quot;, namespace = &quot;http://purl.org/dc/elements/1.1/&quot;\n  )\n  private String title;\n\n  @XmlElement(\n      name = &quot;albumArtURI&quot;, namespace = &quot;urn:schemas-upnp-org:metadata-1-0/upnp/&quot;\n  )\n  private String albumArtURI;\n\n  // Other fields\n\n  public String getTitle() {\n    return title;\n  }\n\n  public String getAlbumArtURI() {\n    return albumArtURI;\n  }\n  \n  // Other getters\n}\n</code></pre>\n<p>I will use the <code>xjc</code> tool in the answer but the solution should be easily portable to Maven, for example.</p>\n<p>Using <code>xjc</code>, you need to generate your code like this to tale into account the bindings file and classes requested:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>xjc -d output -b binding.xml didl-lite-v2.xsd -classpath /path/to/custom/classes\n</code></pre>\n<p>As you can see, we provided both the bindings file, <code>binding.xml</code>, and the <code>classpath</code> where the generator should search for your custom classes.</p>\n<p>The same approach, although for simpler use cases, has been exemplified here in different questions in Stackoverflow, for example in these ones:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/10420137/jaxb-xjc-mapping-to-existing-domain-objects\">JAXB xjc mapping to existing domain objects</a></li>\n<li><a href=\"https://stackoverflow.com/questions/12891958/jax-b-how-to-map-a-schema-element-to-an-existing-java-class\">JAX-B - How to map a schema element to an existing Java class</a></li>\n<li><a href=\"https://stackoverflow.com/questions/23629801/jaxb-generates-listjaxbelement-instead-of-fields\">JAXB generates List&lt;Jaxbelement&gt; instead of fields</a></li>\n</ul>\n<p><a href=\"https://docs.oracle.com/cd/E19316-01/819-3669/bnazf/index.html\" rel=\"nofollow noreferrer\">This Oracle article</a> is quite dated, but it provides a good explanation about how the actual correspondence between fields happens.</p>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1655332573,"creation_date":1654005731,"question_id":72449228,"body_markdown":"I am using Jaxb to build Java classes for marshalling xml data from the [upnp][1] didlite specification, the required xsd files can be found at https://gitlab.gnome.org/GNOME/gupnp-av/-/tree/master/data\r\n\r\n\r\n  [1]: https://openconnectivity.org/developer/specifications/upnp-resources/upnp/\r\n\r\nIt works but not as well as I would like some elements dont return getters and setters for most attributes or even a name/value map. Instead they just provide a list of all JAXBElements that I have to iterate through to find the attribute I want, why is that ? \r\n\r\n    /**\r\n     * Gets the value of the allowedUnderItem property.\r\n     * \r\n     * &lt;p&gt;\r\n     * This accessor method returns a reference to the live list,\r\n     * not a snapshot. Therefore any modification you make to the\r\n     * returned list will be present inside the JAXB object.\r\n     * This is why there is not a &lt;CODE&gt;set&lt;/CODE&gt; method for the allowedUnderItem property.\r\n     * \r\n     * &lt;p&gt;\r\n     * For example, to add a new item, do as follows:\r\n     * &lt;pre&gt;\r\n     *    getAllowedUnderItem().add(newItem);\r\n     * &lt;/pre&gt;\r\n     * \r\n     * \r\n     * &lt;p&gt;\r\n     * Objects of the following type(s) are allowed in the list\r\n     * {@link JAXBElement }{@code &lt;}{@link ChannelGroupNameType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link ChannelIDType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link DayOfWeekEnLen3 }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link DescType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link DeviceUDNType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link ElementType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link ElementType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link ElementType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link ElementType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link ElementType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link ElementType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link ElementType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link ElementType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link ForeignMetadataType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link GenreType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link InclusionType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link ObjectLinkRefType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link ObjectLinkType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link OwnerType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link PersonWithRoleType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link PersonWithRoleType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link PersonWithRoleType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link PreservedTimeRangeType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link PriceType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link ProgramCodeType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link ProgramIDType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link ProgramIDType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link ProgramListType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link ProgramPreservedType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link QualifiedDateTime }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link QualifiedDateTime }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link QualifiedDateTimeISO8601 }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link QualifiedDateTimeISO8601 }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link QualifiedDateTimeRange }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link RatingType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link ResExtType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link ResType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link SearchClassType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link SearchClassType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link StateVariableCollectionType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link StatusType }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link Boolean }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link Boolean }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link Boolean }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link Boolean }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link Integer }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link Integer }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link Integer }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link Integer }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link Long }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link Long }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link Long }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link Long }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link Long }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link Long }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link Long }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link Long }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link Long }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n     * {@link JAXBElement }{@code &lt;}{@link List }{@code &lt;}{@link String }{@code &gt;}{@code &gt;}\r\n     * \r\n     * \r\n     */\r\n    public List&lt;JAXBElement&lt;?&gt;&gt; getAllowedUnderItem() {\r\n        if (allowedUnderItem == null) {\r\n            allowedUnderItem = new ArrayList&lt;JAXBElement&lt;?&gt;&gt;();\r\n        }\r\n        return this.allowedUnderItem;\r\n    }\r\n\r\nmeaning I have to write code like \r\n\r\n \r\n\r\n    if(object instanceof ContainerType)\r\n            {\r\n                id = ((ContainerType)object).getId();\r\n                title = ((ContainerType)object).getTitle().getValue();\r\n    \r\n                Iterator&lt;JAXBElement&lt;?&gt;&gt; i = ((ContainerType)object).getAllowedUnderContainer().iterator();\r\n                while(i.hasNext())\r\n                {\r\n                    JAXBElement next = i.next();\r\n                    if(next.getName().getLocalPart().equals(&quot;albumArtURI&quot;))\r\n                    {\r\n                        albumArtistUri = (String)next.getValue();\r\n                    }\r\n                }\r\n    }   \r\n\r\nHow can I improve this ?\r\n","title":"JAXB generated classes from Xml schema doesnt return getter setters for all attributes","body":"<p>I am using Jaxb to build Java classes for marshalling xml data from the <a href=\"https://openconnectivity.org/developer/specifications/upnp-resources/upnp/\" rel=\"nofollow noreferrer\">upnp</a> didlite specification, the required xsd files can be found at <a href=\"https://gitlab.gnome.org/GNOME/gupnp-av/-/tree/master/data\" rel=\"nofollow noreferrer\">https://gitlab.gnome.org/GNOME/gupnp-av/-/tree/master/data</a></p>\n<p>It works but not as well as I would like some elements dont return getters and setters for most attributes or even a name/value map. Instead they just provide a list of all JAXBElements that I have to iterate through to find the attribute I want, why is that ?</p>\n<pre><code>/**\n * Gets the value of the allowedUnderItem property.\n * \n * &lt;p&gt;\n * This accessor method returns a reference to the live list,\n * not a snapshot. Therefore any modification you make to the\n * returned list will be present inside the JAXB object.\n * This is why there is not a &lt;CODE&gt;set&lt;/CODE&gt; method for the allowedUnderItem property.\n * \n * &lt;p&gt;\n * For example, to add a new item, do as follows:\n * &lt;pre&gt;\n *    getAllowedUnderItem().add(newItem);\n * &lt;/pre&gt;\n * \n * \n * &lt;p&gt;\n * Objects of the following type(s) are allowed in the list\n * {@link JAXBElement }{@code &lt;}{@link ChannelGroupNameType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link ChannelIDType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link DayOfWeekEnLen3 }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link DescType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link DeviceUDNType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link ElementType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link ElementType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link ElementType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link ElementType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link ElementType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link ElementType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link ElementType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link ElementType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link ForeignMetadataType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link GenreType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link InclusionType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link ObjectLinkRefType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link ObjectLinkType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link OwnerType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link PersonWithRoleType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link PersonWithRoleType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link PersonWithRoleType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link PreservedTimeRangeType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link PriceType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link ProgramCodeType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link ProgramIDType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link ProgramIDType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link ProgramListType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link ProgramPreservedType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link QualifiedDateTime }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link QualifiedDateTime }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link QualifiedDateTimeISO8601 }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link QualifiedDateTimeISO8601 }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link QualifiedDateTimeRange }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link RatingType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link ResExtType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link ResType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link SearchClassType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link SearchClassType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link StateVariableCollectionType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link StatusType }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link Boolean }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link Boolean }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link Boolean }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link Boolean }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link Integer }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link Integer }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link Integer }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link Integer }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link Long }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link Long }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link Long }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link Long }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link Long }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link Long }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link Long }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link Long }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link Long }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n * {@link JAXBElement }{@code &lt;}{@link List }{@code &lt;}{@link String }{@code &gt;}{@code &gt;}\n * \n * \n */\npublic List&lt;JAXBElement&lt;?&gt;&gt; getAllowedUnderItem() {\n    if (allowedUnderItem == null) {\n        allowedUnderItem = new ArrayList&lt;JAXBElement&lt;?&gt;&gt;();\n    }\n    return this.allowedUnderItem;\n}\n</code></pre>\n<p>meaning I have to write code like</p>\n<pre><code>if(object instanceof ContainerType)\n        {\n            id = ((ContainerType)object).getId();\n            title = ((ContainerType)object).getTitle().getValue();\n\n            Iterator&lt;JAXBElement&lt;?&gt;&gt; i = ((ContainerType)object).getAllowedUnderContainer().iterator();\n            while(i.hasNext())\n            {\n                JAXBElement next = i.next();\n                if(next.getName().getLocalPart().equals(&quot;albumArtURI&quot;))\n                {\n                    albumArtistUri = (String)next.getValue();\n                }\n            }\n}   \n</code></pre>\n<p>How can I improve this ?</p>\n"},{"tags":["java","eclipse","plugins","minecraft","spigot"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1647850954,"post_id":71551704,"comment_id":126465621,"body_markdown":"If you have a `module-info.java` file, delete it.","body":"If you have a <code>module-info.java</code> file, delete it."}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649779967,"creation_date":1647861832,"answer_id":71556822,"question_id":71551704,"body_markdown":"It&#39;s better to use platform like [maven](https://maven.apache.org/what-is-maven.html) or [gradle](https://docs.gradle.org/current/userguide/what_is_gradle.html). Since Spigot 1.17 (include) it&#39;s not so easy to use spigot build as build path library.\r\n\r\nIn detail of all possibilities:\r\n1) **Use direct file**. It&#39;s not recommended. \r\n\r\nSince 1.17 included, the spigot jar contains others jar, and when you run the server, it copy all of them into folders. So, each files are containing part of the full spigot code :\r\n\r\n- `bundler/libraries` contains all basic libraries such as what you want: `spigot-api-1.18.jar` or mysql connectors.\r\n- `bundler/versions` contains the NMS part of spigot. Prefer to don&#39;t use this, but sometimes it&#39;s the only way to do what you want.\r\n\r\nThose files (in the `bundler` folder) can be imported in eclipse such as you do for the global spigotmc.\r\n\r\n2) Use **Maven** ([documentation](https://www.spigotmc.org/wiki/spigot-maven/)), and add this into your `pom.xml` file :\r\n```xml\r\n&lt;repositories&gt;\r\n    &lt;!-- This adds the Spigot Maven repository to the build --&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;spigot-repo&lt;/id&gt;\r\n        &lt;url&gt;https://hub.spigotmc.org/nexus/content/repositories/snapshots/&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n\r\n&lt;dependencies&gt;\r\n    &lt;!--This adds the Spigot API artifact to the build --&gt;\r\n    &lt;dependency&gt;\r\n           &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\r\n           &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\r\n           &lt;version&gt;1.18.2-R0.1-SNAPSHOT&lt;/version&gt;\r\n           &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\nNow, to build your project, you can: right click on project -&gt; Run As -&gt; Maven build\r\n\r\n3) Use **Gradle** ([documentation](https://www.spigotmc.org/wiki/spigot-gradle/)), and add this into your `build.gradle` file :\r\n```gradle\r\nrepositories {\r\n   maven { url = &#39;https://oss.sonatype.org/content/repositories/snapshots&#39; }\r\n}\r\ndependencies {\r\n  // Pick only one of these and read the comment in the repositories block.\r\n  compileOnly &#39;org.spigotmc:spigot-api:1.18.2-R0.1-SNAPSHOT&#39;\r\n}\r\n```\r\n\r\nTo build your project, you should create a new task (on top, where you run basic Java project) and config it as you want. [More informations](https://www.journaldev.com/8118/gradle-eclipse-plugin-tutorial)","title":"JavaPlugin cannot be resolved to a type","body":"<p>It's better to use platform like <a href=\"https://maven.apache.org/what-is-maven.html\" rel=\"nofollow noreferrer\">maven</a> or <a href=\"https://docs.gradle.org/current/userguide/what_is_gradle.html\" rel=\"nofollow noreferrer\">gradle</a>. Since Spigot 1.17 (include) it's not so easy to use spigot build as build path library.</p>\n<p>In detail of all possibilities:</p>\n<ol>\n<li><strong>Use direct file</strong>. It's not recommended.</li>\n</ol>\n<p>Since 1.17 included, the spigot jar contains others jar, and when you run the server, it copy all of them into folders. So, each files are containing part of the full spigot code :</p>\n<ul>\n<li><code>bundler/libraries</code> contains all basic libraries such as what you want: <code>spigot-api-1.18.jar</code> or mysql connectors.</li>\n<li><code>bundler/versions</code> contains the NMS part of spigot. Prefer to don't use this, but sometimes it's the only way to do what you want.</li>\n</ul>\n<p>Those files (in the <code>bundler</code> folder) can be imported in eclipse such as you do for the global spigotmc.</p>\n<ol start=\"2\">\n<li>Use <strong>Maven</strong> (<a href=\"https://www.spigotmc.org/wiki/spigot-maven/\" rel=\"nofollow noreferrer\">documentation</a>), and add this into your <code>pom.xml</code> file :</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;repositories&gt;\n    &lt;!-- This adds the Spigot Maven repository to the build --&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spigot-repo&lt;/id&gt;\n        &lt;url&gt;https://hub.spigotmc.org/nexus/content/repositories/snapshots/&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;dependencies&gt;\n    &lt;!--This adds the Spigot API artifact to the build --&gt;\n    &lt;dependency&gt;\n           &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\n           &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\n           &lt;version&gt;1.18.2-R0.1-SNAPSHOT&lt;/version&gt;\n           &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Now, to build your project, you can: right click on project -&gt; Run As -&gt; Maven build</p>\n<ol start=\"3\">\n<li>Use <strong>Gradle</strong> (<a href=\"https://www.spigotmc.org/wiki/spigot-gradle/\" rel=\"nofollow noreferrer\">documentation</a>), and add this into your <code>build.gradle</code> file :</li>\n</ol>\n<pre><code>repositories {\n   maven { url = 'https://oss.sonatype.org/content/repositories/snapshots' }\n}\ndependencies {\n  // Pick only one of these and read the comment in the repositories block.\n  compileOnly 'org.spigotmc:spigot-api:1.18.2-R0.1-SNAPSHOT'\n}\n</code></pre>\n<p>To build your project, you should create a new task (on top, where you run basic Java project) and config it as you want. <a href=\"https://www.journaldev.com/8118/gradle-eclipse-plugin-tutorial\" rel=\"nofollow noreferrer\">More informations</a></p>\n"},{"tags":[],"owner":{"account_id":24421470,"reputation":11,"user_id":18347637,"display_name":"MIFO 77"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655332132,"creation_date":1649804999,"answer_id":71850083,"question_id":71551704,"body_markdown":"You need to use BuildTools, you can get it here: https://www.spigotmc.org/wiki/buildtools/\r\n\r\nJust do what they tell you to do, and at the end, you&#39;ll get in the spigot/spigot-api/target folder a file named &#39;spigot-api-$(version)-R0.1-SNAPSHOT-shaded.jar&#39;, that&#39;s the file you need to put in build path\r\n","title":"JavaPlugin cannot be resolved to a type","body":"<p>You need to use BuildTools, you can get it here: <a href=\"https://www.spigotmc.org/wiki/buildtools/\" rel=\"nofollow noreferrer\">https://www.spigotmc.org/wiki/buildtools/</a></p>\n<p>Just do what they tell you to do, and at the end, you'll get in the spigot/spigot-api/target folder a file named 'spigot-api-$(version)-R0.1-SNAPSHOT-shaded.jar', that's the file you need to put in build path</p>\n"}],"owner":{"account_id":24624041,"reputation":3,"user_id":18523953,"display_name":"redDiamond"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71556822,"answer_count":2,"score":0,"last_activity_date":1655332132,"creation_date":1647822794,"question_id":71551704,"body_markdown":"I want to code a 1.18.2 Minecraft plugin using Java in the eclipse IDE. I&#39;m pretty sure I&#39;m using the latest versions for everything. I&#39;m using a tutorial and when it said to put this in:\r\n\r\n    public class Main extends JavaPlugin {\r\n\r\nA red line shows up under JavaPlugin and it says it cannot be resolved to a type. I&#39;m supposed to import this:\r\n\r\n`import org.bukkit.plugin.java.JavaPlugin;\r\n`\r\n\r\nEverything I&#39;ve googled has said to put the spigot jar in project properties &gt; build path &gt; libraries &gt; add external jar which I&#39;ve done, but it still doesn&#39;t work.\r\n","title":"JavaPlugin cannot be resolved to a type","body":"<p>I want to code a 1.18.2 Minecraft plugin using Java in the eclipse IDE. I'm pretty sure I'm using the latest versions for everything. I'm using a tutorial and when it said to put this in:</p>\n<pre><code>public class Main extends JavaPlugin {\n</code></pre>\n<p>A red line shows up under JavaPlugin and it says it cannot be resolved to a type. I'm supposed to import this:</p>\n<p><code>import org.bukkit.plugin.java.JavaPlugin; </code></p>\n<p>Everything I've googled has said to put the spigot jar in project properties &gt; build path &gt; libraries &gt; add external jar which I've done, but it still doesn't work.</p>\n"},{"tags":["java","module","spring-3","spring-integration","wavemaker"],"answers":[{"tags":[],"owner":{"account_id":126229,"reputation":159,"user_id":322580,"display_name":"C Keene"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1361572793,"creation_date":1361572793,"answer_id":15034414,"question_id":14806821,"body_markdown":"WaveMaker applications are just Spring 3 web applications. WaveMaker is a drag and drop builder for building a web gui (using dojo javascript toolkit) on top of a Java application (using Spring 3).\r\n\r\nYou can find out more on how to work with the Spring framework and wavemaker here:\r\n\r\nhttp://dev.wavemaker.com/wiki/bin/Spring\r\n","title":"Integrating a wave maker module into spring 3 application","body":"<p>WaveMaker applications are just Spring 3 web applications. WaveMaker is a drag and drop builder for building a web gui (using dojo javascript toolkit) on top of a Java application (using Spring 3).</p>\n\n<p>You can find out more on how to work with the Spring framework and wavemaker here:</p>\n\n<p><a href=\"http://dev.wavemaker.com/wiki/bin/Spring\" rel=\"nofollow\">http://dev.wavemaker.com/wiki/bin/Spring</a></p>\n"},{"tags":[],"owner":{"account_id":132300,"reputation":2222,"user_id":332897,"accept_rate":76,"display_name":"Enrique San Mart&#237;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371233881,"creation_date":1371233881,"answer_id":17114868,"question_id":14806821,"body_markdown":"you can integrate wavemaker (with a lot of effort) into a spring3 project, maybe you have to copy and setup too many options manually. Either, you can have 2 differents proyects that can share the same DB, if you want to do some sort of communication  between the projects, you can implements some webservices (in both side if it necesary) and you can send data or do some tricks in the apps.","title":"Integrating a wave maker module into spring 3 application","body":"<p>you can integrate wavemaker (with a lot of effort) into a spring3 project, maybe you have to copy and setup too many options manually. Either, you can have 2 differents proyects that can share the same DB, if you want to do some sort of communication  between the projects, you can implements some webservices (in both side if it necesary) and you can send data or do some tricks in the apps.</p>\n"}],"owner":{"account_id":1347455,"reputation":399,"user_id":1287917,"accept_rate":32,"display_name":"Milople Inc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1655331903,"creation_date":1360563145,"question_id":14806821,"body_markdown":"I have a module developed in wave maker- 6.5.1. Now I want to integrate the same in Spring 3 web application.\r\nCan anyone guide with how is it possible?\r\n","title":"Integrating a wave maker module into spring 3 application","body":"<p>I have a module developed in wave maker- 6.5.1. Now I want to integrate the same in Spring 3 web application.\nCan anyone guide with how is it possible?</p>\n"},{"tags":["java","testng"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":4,"creation_date":1655328959,"post_id":72638074,"comment_id":128310079,"body_markdown":"Are you sure it&#39;s actually a hyphen, not one of the many other hyphen-like characters? [This is interesting](https://www.compart.com/en/unicode/category/Pd)","body":"Are you sure it&#39;s actually a hyphen, not one of the many other hyphen-like characters? <a href=\"https://www.compart.com/en/unicode/category/Pd\" rel=\"nofollow noreferrer\">This is interesting</a>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1655330998,"post_id":72638074,"comment_id":128310498,"body_markdown":"What character set is the SOAP service returning its response in, what character set are you expecting it to be in, and what the numerical code points of the expected and actual characters? Remember, computers only deal with numbers. The idea that &#39;A&#39; is represented by the number 65 is merely a convention, and not always observed (EBCDIC). It looks like you have an encoding problem.","body":"What character set is the SOAP service returning its response in, what character set are you expecting it to be in, and what the numerical code points of the expected and actual characters? Remember, computers only deal with numbers. The idea that &#39;A&#39; is represented by the number 65 is merely a convention, and not always observed (EBCDIC). It looks like you have an encoding problem."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1655336070,"post_id":72638074,"comment_id":128311340,"body_markdown":"OK, I had a look, using [this web site](https://www.babelstone.co.uk/Unicode/whatisit.html) - which tells me that the character in your `getADJUP004ExpectedResponse` method is an en-dash, not a hyphen.  And according to TestNG, your actual output also has an en-dash, so it should be OK.  But the TestNG output shows that your expectation was for something else.  So at least part of the issue is either with TestNG, or with the way you&#39;re using TestNG.  Can you please show us some more code - like the whole TestNG test, or at the very least, the failing assertion?","body":"OK, I had a look, using <a href=\"https://www.babelstone.co.uk/Unicode/whatisit.html\" rel=\"nofollow noreferrer\">this web site</a> - which tells me that the character in your <code>getADJUP004ExpectedResponse</code> method is an en-dash, not a hyphen.  And according to TestNG, your actual output also has an en-dash, so it should be OK.  But the TestNG output shows that your expectation was for something else.  So at least part of the issue is either with TestNG, or with the way you&#39;re using TestNG.  Can you please show us some more code - like the whole TestNG test, or at the very least, the failing assertion?"},{"owner":{"account_id":4299853,"reputation":834,"user_id":3513792,"accept_rate":91,"display_name":"danilo"},"score":0,"creation_date":1655390017,"post_id":72638074,"comment_id":128325258,"body_markdown":"@DawoodibnKareem This is the assertion I am using: softAssert.assertEquals(actualResponseBody,expectedResponseBody,&quot;Differences were found on the response body&quot;);  .  I use similar assertions for other tests and they work fine.","body":"@DawoodibnKareem This is the assertion I am using: softAssert.assertEquals(actualResponseBody,expectedResponseB&zwnj;&#8203;ody,&quot;Differences were found on the response body&quot;);  .  I use similar assertions for other tests and they work fine."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1655412072,"post_id":72638074,"comment_id":128332823,"body_markdown":"OK, but you can see that TestNG is reporting that your &quot;expected response&quot; is different from the String provided by `getADJUP004ExpectedResponse`.  So either you&#39;re doing something to it between calling `getADJUP004ExpectedResponse` and calling `softAssert.assertEquals`, or there&#39;s a bug in TestNG, or your console window is messing up the encoding.  Since you still haven&#39;t shown the code of the test, I can&#39;t give any more help.","body":"OK, but you can see that TestNG is reporting that your &quot;expected response&quot; is different from the String provided by <code>getADJUP004ExpectedResponse</code>.  So either you&#39;re doing something to it between calling <code>getADJUP004ExpectedResponse</code> and calling <code>softAssert.assertEquals</code>, or there&#39;s a bug in TestNG, or your console window is messing up the encoding.  Since you still haven&#39;t shown the code of the test, I can&#39;t give any more help."}],"owner":{"account_id":4299853,"reputation":834,"user_id":3513792,"accept_rate":91,"display_name":"danilo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655331133,"creation_date":1655328765,"question_id":72638074,"body_markdown":"I am testing the response body from a SOAP service. I get the response from the SOAP service and store it as String and then compare it against the expected response. I am using org.testng.asserts.SoftAssert to do the comparison. Once the comparison happens I am getting and error because a difference was found. I copied and pasted the testng error in Notepad++ to see the difference. The response is supposed to have a hyphen, so I added that to  my expected response. But for some reason in the error message I see the hyphen in the expected response being replaced with weird character.\r\n\r\nThis is my expected response(**The hyphen is on  \\&lt;faultstring\\&gt; and &lt;ns2:LogMessage&gt; tags**) :\r\n\r\n       public String getADJUP004ExpectedResponse(){\r\n        return\r\n                &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot;&gt;\\n&quot;+\r\n                        &quot;   &lt;soapenv:Header/&gt;\\n&quot; +\r\n                        &quot;   &lt;soapenv:Body&gt;\\n&quot; +\r\n                        &quot;      &lt;ns0:Fault xmlns:ns0=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot;&gt;\\n\\n&quot; +\r\n                        &quot;            &lt;faultcode&gt;soapenv:Client&lt;/faultcode&gt;\\n&quot; +\r\n                        &quot;            &lt;faultstring&gt;Request Rejected – Old and New Adjuster Code are same on claim.&lt;/faultstring&gt;\\n&quot; +\r\n                        &quot;            &lt;detail&gt;\\n&quot; +\r\n                        &quot;               &lt;ns2:BaseFault xmlns:ns2=\\&quot;http://services.mycccportal.com/SOA/fault/v1\\&quot;&gt;\\n&quot; +\r\n                        &quot;                   &lt;ns2:UserMessage&gt;&quot;+&quot;004&quot;+&quot;&lt;/ns2:UserMessage&gt;\\n&quot; +\r\n                        &quot;                   &lt;ns2:LogMessage&gt;Request Rejected – Old and New Adjuster Code are same on claim.&lt;/ns2:LogMessage&gt;\\n&quot; +\r\n                        &quot;                   &lt;ns2:MustUnderstandChild&gt;true&lt;/ns2:MustUnderstandChild&gt;\\n&quot;+\r\n                        &quot;                   &lt;ns2:Level&gt;&quot;+&quot;SEVERE&quot;+&quot;&lt;/ns2:Level&gt;\\n&quot; +\r\n                        &quot;                   &lt;ns2:UniqueTransactionId&gt;&quot;+uniqueTransactionID+&quot;&lt;/ns2:UniqueTransactionId&gt;\\n&quot; +\r\n                        &quot;               &lt;/ns2:BaseFault&gt;\\n&quot; +\r\n                        &quot;           &lt;/detail&gt;\\n&quot; +\r\n                        &quot;       &lt;/ns0:Fault&gt;\\n&quot; +\r\n                        &quot;   &lt;/soapenv:Body&gt;&quot; +\r\n                        &quot;&lt;/soapenv:Envelope&gt;&quot;;\r\n    }\r\n\r\n\r\nAnd this is the error I am seeing from testng where the expected response hyphen has been replace with another character.\r\n\r\n           InboundEventSOAPTest.tc22BusinessErrorADJUP004:626 The following asserts failed:\r\n           Differences were found on the response body. Expected:\r\n     &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n\t&lt;soapenv:Header/&gt;\r\n\t&lt;soapenv:Body&gt;\r\n\t\t&lt;ns0:Fault xmlns:ns0=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n\t\t\t&lt;faultcode&gt;soapenv:Client&lt;/faultcode&gt;\r\n\t\t\t&lt;faultstring&gt;Request Rejected ▒ Old and New Adjuster Code are same on claim.&lt;/faultstring&gt;\r\n\t\t\t&lt;detail&gt;\r\n\t\t\t\t&lt;ns2:BaseFault xmlns:ns2=&quot;http://services.mycccportal.com/SOA/fault/v1&quot;&gt;\r\n\t\t\t\t\t&lt;ns2:UserMessage&gt;004&lt;/ns2:UserMessage&gt;\r\n\t\t\t\t\t&lt;ns2:LogMessage&gt;Request Rejected ▒ Old and New Adjuster Code are same on claim.&lt;/ns2:LogMessage&gt;\r\n\t\t\t\t\t&lt;ns2:MustUnderstandChild&gt;true&lt;/ns2:MustUnderstandChild&gt;\r\n\t\t\t\t\t&lt;ns2:Level&gt;SEVERE&lt;/ns2:Level&gt;\r\n\t\t\t\t\t&lt;ns2:UniqueTransactionId&gt;QOTesteqa202261516659614QOUSER&lt;/ns2:UniqueTransactionId&gt;\r\n\t\t\t\t&lt;/ns2:BaseFault&gt;\r\n\t\t\t&lt;/detail&gt;\r\n\t\t&lt;/ns0:Fault&gt;\r\n\t&lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\n    but found \r\n\r\n        &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n\t&lt;soapenv:Header/&gt;\r\n\t&lt;soapenv:Body&gt;\r\n\t\t&lt;ns0:Fault xmlns:ns0=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n\t\t\t&lt;faultcode&gt;soapenv:Client&lt;/faultcode&gt;\r\n\t\t\t&lt;faultstring&gt;Request Rejected – Old and New Adjuster Code are same on claim.&lt;/faultstring&gt;\r\n\t\t\t&lt;detail&gt;\r\n\t\t\t\t&lt;ns2:BaseFault xmlns:ns2=&quot;http://services.mycccportal.com/SOA/fault/v1&quot;&gt;\r\n\t\t\t\t\t&lt;ns2:UserMessage&gt;004&lt;/ns2:UserMessage&gt;\r\n\t\t\t\t\t&lt;ns2:LogMessage&gt;Request Rejected – Old and New Adjuster Code are same on claim.&lt;/ns2:LogMessage&gt;\r\n\t\t\t\t\t&lt;ns2:MustUnderstandChild&gt;true&lt;/ns2:MustUnderstandChild&gt;\r\n\t\t\t\t\t&lt;ns2:Level&gt;SEVERE&lt;/ns2:Level&gt;\r\n\t\t\t\t\t&lt;ns2:UniqueTransactionId&gt;QOTesteqa202261516659614QOUSER&lt;/ns2:UniqueTransactionId&gt;\r\n\t\t\t\t&lt;/ns2:BaseFault&gt;\r\n\t\t\t&lt;/detail&gt;\r\n\t\t&lt;/ns0:Fault&gt;\r\n\t&lt;/soapenv:Body&gt;\r\n      &lt;/soapenv:Envelope&gt;\r\n\r\n","title":"Hyphen is being replaced by strange symbol","body":"<p>I am testing the response body from a SOAP service. I get the response from the SOAP service and store it as String and then compare it against the expected response. I am using org.testng.asserts.SoftAssert to do the comparison. Once the comparison happens I am getting and error because a difference was found. I copied and pasted the testng error in Notepad++ to see the difference. The response is supposed to have a hyphen, so I added that to  my expected response. But for some reason in the error message I see the hyphen in the expected response being replaced with weird character.</p>\n<p>This is my expected response(<strong>The hyphen is on  &lt;faultstring&gt; and ns2:LogMessage tags</strong>) :</p>\n<pre><code>   public String getADJUP004ExpectedResponse(){\n    return\n            &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot;&gt;\\n&quot;+\n                    &quot;   &lt;soapenv:Header/&gt;\\n&quot; +\n                    &quot;   &lt;soapenv:Body&gt;\\n&quot; +\n                    &quot;      &lt;ns0:Fault xmlns:ns0=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot;&gt;\\n\\n&quot; +\n                    &quot;            &lt;faultcode&gt;soapenv:Client&lt;/faultcode&gt;\\n&quot; +\n                    &quot;            &lt;faultstring&gt;Request Rejected – Old and New Adjuster Code are same on claim.&lt;/faultstring&gt;\\n&quot; +\n                    &quot;            &lt;detail&gt;\\n&quot; +\n                    &quot;               &lt;ns2:BaseFault xmlns:ns2=\\&quot;http://services.mycccportal.com/SOA/fault/v1\\&quot;&gt;\\n&quot; +\n                    &quot;                   &lt;ns2:UserMessage&gt;&quot;+&quot;004&quot;+&quot;&lt;/ns2:UserMessage&gt;\\n&quot; +\n                    &quot;                   &lt;ns2:LogMessage&gt;Request Rejected – Old and New Adjuster Code are same on claim.&lt;/ns2:LogMessage&gt;\\n&quot; +\n                    &quot;                   &lt;ns2:MustUnderstandChild&gt;true&lt;/ns2:MustUnderstandChild&gt;\\n&quot;+\n                    &quot;                   &lt;ns2:Level&gt;&quot;+&quot;SEVERE&quot;+&quot;&lt;/ns2:Level&gt;\\n&quot; +\n                    &quot;                   &lt;ns2:UniqueTransactionId&gt;&quot;+uniqueTransactionID+&quot;&lt;/ns2:UniqueTransactionId&gt;\\n&quot; +\n                    &quot;               &lt;/ns2:BaseFault&gt;\\n&quot; +\n                    &quot;           &lt;/detail&gt;\\n&quot; +\n                    &quot;       &lt;/ns0:Fault&gt;\\n&quot; +\n                    &quot;   &lt;/soapenv:Body&gt;&quot; +\n                    &quot;&lt;/soapenv:Envelope&gt;&quot;;\n}\n</code></pre>\n<p>And this is the error I am seeing from testng where the expected response hyphen has been replace with another character.</p>\n<pre><code>       InboundEventSOAPTest.tc22BusinessErrorADJUP004:626 The following asserts failed:\n       Differences were found on the response body. Expected:\n &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n&lt;soapenv:Header/&gt;\n&lt;soapenv:Body&gt;\n    &lt;ns0:Fault xmlns:ns0=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n        &lt;faultcode&gt;soapenv:Client&lt;/faultcode&gt;\n        &lt;faultstring&gt;Request Rejected ▒ Old and New Adjuster Code are same on claim.&lt;/faultstring&gt;\n        &lt;detail&gt;\n            &lt;ns2:BaseFault xmlns:ns2=&quot;http://services.mycccportal.com/SOA/fault/v1&quot;&gt;\n                &lt;ns2:UserMessage&gt;004&lt;/ns2:UserMessage&gt;\n                &lt;ns2:LogMessage&gt;Request Rejected ▒ Old and New Adjuster Code are same on claim.&lt;/ns2:LogMessage&gt;\n                &lt;ns2:MustUnderstandChild&gt;true&lt;/ns2:MustUnderstandChild&gt;\n                &lt;ns2:Level&gt;SEVERE&lt;/ns2:Level&gt;\n                &lt;ns2:UniqueTransactionId&gt;QOTesteqa202261516659614QOUSER&lt;/ns2:UniqueTransactionId&gt;\n            &lt;/ns2:BaseFault&gt;\n        &lt;/detail&gt;\n    &lt;/ns0:Fault&gt;\n&lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n\nbut found \n\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n&lt;soapenv:Header/&gt;\n&lt;soapenv:Body&gt;\n    &lt;ns0:Fault xmlns:ns0=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n        &lt;faultcode&gt;soapenv:Client&lt;/faultcode&gt;\n        &lt;faultstring&gt;Request Rejected – Old and New Adjuster Code are same on claim.&lt;/faultstring&gt;\n        &lt;detail&gt;\n            &lt;ns2:BaseFault xmlns:ns2=&quot;http://services.mycccportal.com/SOA/fault/v1&quot;&gt;\n                &lt;ns2:UserMessage&gt;004&lt;/ns2:UserMessage&gt;\n                &lt;ns2:LogMessage&gt;Request Rejected – Old and New Adjuster Code are same on claim.&lt;/ns2:LogMessage&gt;\n                &lt;ns2:MustUnderstandChild&gt;true&lt;/ns2:MustUnderstandChild&gt;\n                &lt;ns2:Level&gt;SEVERE&lt;/ns2:Level&gt;\n                &lt;ns2:UniqueTransactionId&gt;QOTesteqa202261516659614QOUSER&lt;/ns2:UniqueTransactionId&gt;\n            &lt;/ns2:BaseFault&gt;\n        &lt;/detail&gt;\n    &lt;/ns0:Fault&gt;\n&lt;/soapenv:Body&gt;\n  &lt;/soapenv:Envelope&gt;\n</code></pre>\n"},{"tags":["java","eclipse","maven","plugins"],"answers":[{"tags":[],"owner":{"account_id":16140145,"reputation":38,"user_id":11651528,"display_name":"krez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560765703,"creation_date":1560765703,"answer_id":56628978,"question_id":56603586,"body_markdown":"add spigot-api jar to your External JARs in your project.","title":"JavaPlugin not being imported","body":"<p>add spigot-api jar to your External JARs in your project.</p>\n"},{"tags":[],"owner":{"account_id":9592484,"reputation":1,"user_id":11731933,"display_name":"Primed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562121111,"creation_date":1562121111,"answer_id":56862159,"question_id":56603586,"body_markdown":"You need to add the spigot server/api jar file to your project on eclipse.\r\n\r\nTo add it to eclipse:\r\n\r\n - Right-click on your project under the project explorer &gt; Click &quot;Properties&quot;\r\n - Select &quot;Java Build Path&quot; &gt; Select the &quot;Libraries&quot; tab &gt; Click &quot;Add External JARs&quot;\r\n - Find and select the spigot server/api jar file and click open.\r\n - Click the &quot;Ok&quot; button.","title":"JavaPlugin not being imported","body":"<p>You need to add the spigot server/api jar file to your project on eclipse.</p>\n\n<p>To add it to eclipse:</p>\n\n<ul>\n<li>Right-click on your project under the project explorer > Click \"Properties\"</li>\n<li>Select \"Java Build Path\" > Select the \"Libraries\" tab > Click \"Add External JARs\"</li>\n<li>Find and select the spigot server/api jar file and click open.</li>\n<li>Click the \"Ok\" button.</li>\n</ul>\n"}],"owner":{"account_id":14845154,"reputation":15,"user_id":10720659,"display_name":"Monchao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655330389,"creation_date":1560537592,"question_id":56603586,"body_markdown":"I&#39;m trying to code a plugin using Java in the eclipse IDE. I have to extend JavaPlugin in the class but it is saying its not there and I need to make a new class with it. I tried importing JavaPlugin manually and its saying its not a package.\r\n\r\n\r\n\r\nI&#39;ve tried importing org.bukkit.plugin.java.JavaPlugin but that didn&#39;t seem to work\r\n\r\n```\r\nimports org.bukkit.plugin.java.JavaPlugin;\r\n```\r\n\r\n```\r\nplubic class FirstSpigotPlugin extends JavaPlugin{\r\n}\r\n```\r\n\r\nIs it supposed to be JConsolePlugin now? When I hover over the problem, it either says &quot;Create class &#39;JavaPlugin&#39; or &quot;Change to JConsolePlugin&quot;\r\n\r\n(I&#39;m trying to use Spigot, not bukkit)","title":"JavaPlugin not being imported","body":"<p>I'm trying to code a plugin using Java in the eclipse IDE. I have to extend JavaPlugin in the class but it is saying its not there and I need to make a new class with it. I tried importing JavaPlugin manually and its saying its not a package.</p>\n\n<p>I've tried importing org.bukkit.plugin.java.JavaPlugin but that didn't seem to work</p>\n\n<pre><code>imports org.bukkit.plugin.java.JavaPlugin;\n</code></pre>\n\n<pre><code>plubic class FirstSpigotPlugin extends JavaPlugin{\n}\n</code></pre>\n\n<p>Is it supposed to be JConsolePlugin now? When I hover over the problem, it either says \"Create class 'JavaPlugin' or \"Change to JConsolePlugin\"</p>\n\n<p>(I'm trying to use Spigot, not bukkit)</p>\n"},{"tags":["java","gradle","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":4626602,"reputation":3739,"user_id":3750257,"display_name":"pppery"},"score":2,"creation_date":1655326302,"post_id":72637575,"comment_id":128309437,"body_markdown":"Possible duplicate of [Could not reserve enough space for object heap](https://stackoverflow.com/questions/4401396/could-not-reserve-enough-space-for-object-heap)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/4401396/could-not-reserve-enough-space-for-object-heap\">Could not reserve enough space for object heap</a>"},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1655328587,"post_id":72637575,"comment_id":128310001,"body_markdown":"You&#39;ve installed 32-bit Java, as evidenced by the `(x86)` in `C:\\Program Files (x86)\\Java\\jdk1.8.0_20`. Do you get the same error with 64-bit Java?","body":"You&#39;ve installed 32-bit Java, as evidenced by the <code>(x86)</code> in <code>C:\\Program Files (x86)\\Java\\jdk1.8.0_20</code>. Do you get the same error with 64-bit Java?"},{"owner":{"account_id":25566369,"reputation":66,"user_id":19347667,"display_name":"Christian Phillips"},"score":0,"creation_date":1655329192,"post_id":72637575,"comment_id":128310128,"body_markdown":"I did go through the Java 64-bit install process but I dont know if I installed the right one.","body":"I did go through the Java 64-bit install process but I dont know if I installed the right one."},{"owner":{"account_id":25566369,"reputation":66,"user_id":19347667,"display_name":"Christian Phillips"},"score":0,"creation_date":1655329270,"post_id":72637575,"comment_id":128310143,"body_markdown":"I went to (https://java.com/en/download/manual.jsp) to install 64-bit java.","body":"I went to (<a href=\"https://java.com/en/download/manual.jsp\" rel=\"nofollow noreferrer\">java.com/en/download/manual.jsp</a>) to install 64-bit java."},{"owner":{"account_id":25566369,"reputation":66,"user_id":19347667,"display_name":"Christian Phillips"},"score":0,"creation_date":1655330080,"post_id":72637575,"comment_id":128310307,"body_markdown":"I just fixed it.","body":"I just fixed it."}],"answers":[{"tags":[],"owner":{"account_id":25566369,"reputation":66,"user_id":19347667,"display_name":"Christian Phillips"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655330187,"creation_date":1655330187,"answer_id":72638275,"question_id":72637575,"body_markdown":"I went to advanced system settings then I went to enviorment variables and changed my old 32 bit JAVA_HOME path to my new 64 bit Java path.","title":"I am trying to setup a workspace for minecraft modding but when I run the command to setup the workspace it gives me a memory error?","body":"<p>I went to advanced system settings then I went to enviorment variables and changed my old 32 bit JAVA_HOME path to my new 64 bit Java path.</p>\n"}],"owner":{"account_id":25566369,"reputation":66,"user_id":19347667,"display_name":"Christian Phillips"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1655342523,"answer_count":1,"score":-1,"last_activity_date":1655330187,"creation_date":1655325609,"question_id":72637575,"body_markdown":"I was trying to setup my workspace for minecraft modding but when I ran the gradlew genEclipseRuns command to setup the files it gives me an error telling me that it is unable to start the daemon process. And also tells me that &quot;Error occurred during initialization of VM Could not reserve enough space for 3145728KB object heap&quot;. The full error log is pasted below. \r\n\r\n``` C:\\Users\\coolc\\OneDrive\\Documents\\New Mod 6-14-2022\\Mod-1&gt;gradlew genEclipseRuns\r\nTo honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.4/userguide/gradle_daemon.html#sec:disabling_the_daemon.\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nUnable to start the daemon process.\r\nThis problem might be caused by incorrect configuration of the daemon.\r\nFor example, an unrecognized jvm option is used.\r\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/7.4/userguide/gradle_daemon.html\r\nProcess command line: C:\\Program Files (x86)\\Java\\jdk1.8.0_202\\bin\\java.exe -Xmx3G -Dfile.encoding=windows-1252 -Duser.country=US -Duser.language=en -Duser.variant -cp C:\\Users\\coolc\\.gradle\\wrapper\\dists\\gradle-7.4-bin\\c0gwcg53nkjbqw7r0h0umtfvt\\gradle-7.4\\lib\\gradle-launcher-7.4.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 7.4\r\nPlease read the following process output to find out more:\r\n-----------------------\r\nError occurred during initialization of VM\r\nCould not reserve enough space for 3145728KB object heap\r\n\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n ```","title":"I am trying to setup a workspace for minecraft modding but when I run the command to setup the workspace it gives me a memory error?","body":"<p>I was trying to setup my workspace for minecraft modding but when I ran the gradlew genEclipseRuns command to setup the files it gives me an error telling me that it is unable to start the daemon process. And also tells me that &quot;Error occurred during initialization of VM Could not reserve enough space for 3145728KB object heap&quot;. The full error log is pasted below.</p>\n<pre><code>To honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.4/userguide/gradle_daemon.html#sec:disabling_the_daemon.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nUnable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/7.4/userguide/gradle_daemon.html\nProcess command line: C:\\Program Files (x86)\\Java\\jdk1.8.0_202\\bin\\java.exe -Xmx3G -Dfile.encoding=windows-1252 -Duser.country=US -Duser.language=en -Duser.variant -cp C:\\Users\\coolc\\.gradle\\wrapper\\dists\\gradle-7.4-bin\\c0gwcg53nkjbqw7r0h0umtfvt\\gradle-7.4\\lib\\gradle-launcher-7.4.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 7.4\nPlease read the following process output to find out more:\n-----------------------\nError occurred during initialization of VM\nCould not reserve enough space for 3145728KB object heap\n\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n</code></pre>\n"},{"tags":["java","c++","project-panama","java-18"],"comments":[{"owner":{"account_id":5809836,"reputation":33185,"user_id":4581301,"display_name":"user4581301"},"score":1,"creation_date":1655245046,"post_id":72623896,"comment_id":128285955,"body_markdown":"Default arguments are effectively pasted in by the compiler when it is reading the code that makes the call. You write, `CppClass example;` The compiler turns that into `CppClass example(&quot;default&quot;);` and then compiles. That means if the C++ compiler is not generating the code for the call, all bets are off from C++&#39;s point of view.","body":"Default arguments are effectively pasted in by the compiler when it is reading the code that makes the call. You write, <code>CppClass example;</code> The compiler turns that into <code>CppClass example(&quot;default&quot;);</code> and then compiles. That means if the C++ compiler is not generating the code for the call, all bets are off from C++&#39;s point of view."},{"owner":{"account_id":1840660,"reputation":51004,"user_id":1670129,"display_name":"Igor Tandetnik"},"score":3,"creation_date":1655245069,"post_id":72623896,"comment_id":128285959,"body_markdown":"You seem to be looking for [C++ ABI (Application Binary Interface)](https://stackoverflow.com/questions/67839008/please-explain-the-c-abi). There isn&#39;t a standardized one. Each compiler defines its own, and even then it often changes from version to version.","body":"You seem to be looking for <a href=\"https://stackoverflow.com/questions/67839008/please-explain-the-c-abi\">C++ ABI (Application Binary Interface)</a>. There isn&#39;t a standardized one. Each compiler defines its own, and even then it often changes from version to version."},{"owner":{"account_id":983058,"reputation":500,"user_id":1442767,"accept_rate":100,"display_name":"gudenau"},"score":0,"creation_date":1655245242,"post_id":72623896,"comment_id":128285992,"body_markdown":"So there is a pretty good chance that I just need to use a small library to convert everything. Not a huge deal, but that will be annoying to do.","body":"So there is a pretty good chance that I just need to use a small library to convert everything. Not a huge deal, but that will be annoying to do."},{"owner":{"account_id":5820711,"reputation":4823,"user_id":4641116,"display_name":"Eljay"},"score":3,"creation_date":1655245625,"post_id":72623896,"comment_id":128286052,"body_markdown":"Many programming languages have accommodations for the **C ABI**, because it&#39;s fairly stable, well defined on almost every platform, the &quot;native&quot; ABI for many operating systems, and nigh universal.  Getting FORTRAN to talk to Pascal might be done using a C ABI.  Java might use JNI to talk to a C ABI that is backed by C++.","body":"Many programming languages have accommodations for the <b>C ABI</b>, because it&#39;s fairly stable, well defined on almost every platform, the &quot;native&quot; ABI for many operating systems, and nigh universal.  Getting FORTRAN to talk to Pascal might be done using a C ABI.  Java might use JNI to talk to a C ABI that is backed by C++."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1655285010,"post_id":72623896,"comment_id":128294004,"body_markdown":"See also [What is the effect of extern &quot;C&quot; in C++?](https://stackoverflow.com/q/1041866/2711488)","body":"See also <a href=\"https://stackoverflow.com/q/1041866/2711488\">What is the effect of extern &quot;C&quot; in C++?</a>"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":3,"creation_date":1655320898,"post_id":72623896,"comment_id":128307740,"body_markdown":"There is no support in the foreign linker for any C++ ABIs at this point. So, to call C++, you will need to expose functions with C linkage.","body":"There is no support in the foreign linker for any C++ ABIs at this point. So, to call C++, you will need to expose functions with C linkage."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1655321922,"post_id":72623896,"comment_id":128308048,"body_markdown":"What about support for custom (user-defined) linkers? As far as I understand it, such a linker *could* be built if someone has enough knowledge about the specific underlying naming/mangling rules. But `Linker` is sealed.","body":"What about support for custom (user-defined) linkers? As far as I understand it, such a linker <i>could</i> be built if someone has enough knowledge about the specific underlying naming/mangling rules. But <code>Linker</code> is sealed."},{"owner":{"account_id":983058,"reputation":500,"user_id":1442767,"accept_rate":100,"display_name":"gudenau"},"score":0,"creation_date":1655327977,"post_id":72623896,"comment_id":128309861,"body_markdown":"So the last question I have right now is, how do you correctly handle `char*` -&gt; `std::string&amp;`? Like how do I manage the memory used by them to ensure they don&#39;t leak memory and don&#39;t have use-after frees.","body":"So the last question I have right now is, how do you correctly handle <code>char*</code> -&gt; <code>std::string&amp;</code>? Like how do I manage the memory used by them to ensure they don&#39;t leak memory and don&#39;t have use-after frees."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1655330785,"post_id":72623896,"comment_id":128310447,"body_markdown":"In C++ I think you&#39;re able to convert a char* to a string just through assignment. i.e. in the wrapper, declare an `std::string` variable, assign that the `char*` and then pass the variable to the target function. This will make a copy though. I think `std::string_view` will allow you to avoid the copy.","body":"In C++ I think you&#39;re able to convert a char* to a string just through assignment. i.e. in the wrapper, declare an <code>std::string</code> variable, assign that the <code>char*</code> and then pass the variable to the target function. This will make a copy though. I think <code>std::string_view</code> will allow you to avoid the copy."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":2,"creation_date":1655331029,"post_id":72623896,"comment_id":128310503,"body_markdown":"@JohannesKuhn Yes, someone could build their own linker, if they were content with going through the C ABI as well. i.e. it&#39;s theoretically possible (though extremely hard) to build a C++ linker using the current C linker. There&#39;s no need to implement `Linker` for that. That&#39;s just the interface used to expose the implementations in the JDK. But, there&#39;s no APIs that require being given a `Linker` instance. So it doesn&#39;t matter that it&#39;s sealed.","body":"@JohannesKuhn Yes, someone could build their own linker, if they were content with going through the C ABI as well. i.e. it&#39;s theoretically possible (though extremely hard) to build a C++ linker using the current C linker. There&#39;s no need to implement <code>Linker</code> for that. That&#39;s just the interface used to expose the implementations in the JDK. But, there&#39;s no APIs that require being given a <code>Linker</code> instance. So it doesn&#39;t matter that it&#39;s sealed."}],"answers":[{"tags":[],"owner":{"account_id":983058,"reputation":500,"user_id":1442767,"accept_rate":100,"display_name":"gudenau"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1655328664,"creation_date":1655328664,"answer_id":72638056,"question_id":72623896,"body_markdown":"So the general answer seems to be &quot;just create a shim library&quot; because the C++ ABI is far more fluid and not supported by Java.\r\n\r\n\r\nAs for the answers at the end:\r\n- You just do it like normal, but with `void*` pointers\r\n- Pass in `this` as a `void*` and treat it as an opaque pointer\r\n- Handled automatically in the shim, from what I gather std::string makes a copy and has an internal reference count\r\n- The default arguments are handled at compile time\r\n","title":"Java foreign function interface (FFI) interop with C++?","body":"<p>So the general answer seems to be &quot;just create a shim library&quot; because the C++ ABI is far more fluid and not supported by Java.</p>\n<p>As for the answers at the end:</p>\n<ul>\n<li>You just do it like normal, but with <code>void*</code> pointers</li>\n<li>Pass in <code>this</code> as a <code>void*</code> and treat it as an opaque pointer</li>\n<li>Handled automatically in the shim, from what I gather std::string makes a copy and has an internal reference count</li>\n<li>The default arguments are handled at compile time</li>\n</ul>\n"}],"owner":{"account_id":983058,"reputation":500,"user_id":1442767,"accept_rate":100,"display_name":"gudenau"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1381,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72638056,"answer_count":1,"score":4,"last_activity_date":1655329468,"creation_date":1655244299,"question_id":72623896,"body_markdown":"As of Java 18 the incubating foreign function interface doesn&#39;t appear to have a good way to handle C++ code. I am working on a project that requires bindings to C++ and I would like to know how to avoid creating a thunk library in C.\r\n\r\nOne of the C++ classes looks something like this:\r\n```c++\r\nnamespace library {\r\n\r\ntypedef uint8_t byte;\r\n\r\nclass CppClass {\r\n public:\r\n  static oncstexpr const char* DefaultArgument = &quot;default&quot;;\r\n\r\n  CppClass(const std::string&amp; argument = DefaultArgument);\r\n  virtual ~CppClass();\r\n\r\n  bool doStuff();\r\n\r\n  bool handleData(std::vector&lt;byte&gt;* data);\r\n\r\n private:\r\n  std::unique_ptr&lt;InternalType&gt; internalState;\r\n};\r\n\r\n}\r\n```\r\n\r\nI would like to create a Java class that looks something like the following to mirror that (with error checking left out):\r\n```java\r\npublic final class CppClass implements AutoCloseable {\r\n    public static final String DefaultArgument = &quot;default&quot;;\r\n\r\n    private static final MethodHandle NEW;\r\n    private static final MethodHandle FREE;\r\n    private static final MethodHandle DO_STUFF;\r\n    private static final MethodHandle HANDLE_DATA;\r\n\r\n    static{\r\n        var binder = Natives.getBinder();\r\n        NEW = binder.bind(&quot;(manged constructor)&quot;, ValueLayout.ADDRESS, ValueLayout.ADDRESS);\r\n        FREE = binder.bindVoid(&quot;(manged deconstructor)&quot;, ValueLayout.ADDRESS);\r\n        DO_STUFF = binder.bind(&quot;(manged doStuff)&quot;, ValueLayout.JAVA_BYTE, ValueLayout.ValueLayout.ADDRESS);\r\n        HANDLE_DATA = binder.bind(&quot;manged handleData)&quot;, ValueLayout.JAVA_BYTE, ValueLayout.ADDRESS, ValueLayout.ADDRESS, ValueLayout.JAVA_LONG);\r\n    }\r\n\r\n    private final MemorySegment pointer;\r\n\r\n    public CppClass() {\r\n        this(DefaultArgument);\r\n    }\r\n\r\n    public CppClass(String argument) {\r\n        try(var scope = MemoryScope.newConfinedScope()) {\r\n            var allocator = MemoryAllocator.nativeAllocator(scope);\r\n            pointer = (MemoryAddress)NEW.invokeExact(\r\n                allocator.allocateUtf8String(argument)\r\n            );\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        FREE.invokeExact(pointer);\r\n    }\r\n\r\n    public boolean doStuff() {\r\n        return (byte)DO_STUFF.invokeExact(pointer) != 0;\r\n    }\r\n\r\n    public boolean handleData(MemorySegment segment) {\r\n        return (byte)HANDLE_DATA.invokeEact(pointer, segment.address(), segment.byteSize()) != 0;\r\n    }\r\n}\r\n```\r\nwhere `Binder` looks something like this:\r\n```java\r\npublic interface Binder {\r\n    MethodHandle bind(String name, FunctionDescriptor desc);\r\n    MethodHandle bind(String name, MemoryLayout result, MemoryLayout... args);\r\n    MethodHandle bindVoid(String name, MemoryLayout... args);\r\n}\r\n```\r\n\r\nI am not sure what parts of this are correct. My biggest implementation questions are:\r\n- What is the correct way to call constructors and destructors?\r\n- What is the correct way to call methods?\r\n- What is the correct way to handle the std types (std::string, std::vector)\r\n- Do C++ compilers add the default argument values at compile time, or do they generate multiple methods?","title":"Java foreign function interface (FFI) interop with C++?","body":"<p>As of Java 18 the incubating foreign function interface doesn't appear to have a good way to handle C++ code. I am working on a project that requires bindings to C++ and I would like to know how to avoid creating a thunk library in C.</p>\n<p>One of the C++ classes looks something like this:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>namespace library {\n\ntypedef uint8_t byte;\n\nclass CppClass {\n public:\n  static oncstexpr const char* DefaultArgument = &quot;default&quot;;\n\n  CppClass(const std::string&amp; argument = DefaultArgument);\n  virtual ~CppClass();\n\n  bool doStuff();\n\n  bool handleData(std::vector&lt;byte&gt;* data);\n\n private:\n  std::unique_ptr&lt;InternalType&gt; internalState;\n};\n\n}\n</code></pre>\n<p>I would like to create a Java class that looks something like the following to mirror that (with error checking left out):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class CppClass implements AutoCloseable {\n    public static final String DefaultArgument = &quot;default&quot;;\n\n    private static final MethodHandle NEW;\n    private static final MethodHandle FREE;\n    private static final MethodHandle DO_STUFF;\n    private static final MethodHandle HANDLE_DATA;\n\n    static{\n        var binder = Natives.getBinder();\n        NEW = binder.bind(&quot;(manged constructor)&quot;, ValueLayout.ADDRESS, ValueLayout.ADDRESS);\n        FREE = binder.bindVoid(&quot;(manged deconstructor)&quot;, ValueLayout.ADDRESS);\n        DO_STUFF = binder.bind(&quot;(manged doStuff)&quot;, ValueLayout.JAVA_BYTE, ValueLayout.ValueLayout.ADDRESS);\n        HANDLE_DATA = binder.bind(&quot;manged handleData)&quot;, ValueLayout.JAVA_BYTE, ValueLayout.ADDRESS, ValueLayout.ADDRESS, ValueLayout.JAVA_LONG);\n    }\n\n    private final MemorySegment pointer;\n\n    public CppClass() {\n        this(DefaultArgument);\n    }\n\n    public CppClass(String argument) {\n        try(var scope = MemoryScope.newConfinedScope()) {\n            var allocator = MemoryAllocator.nativeAllocator(scope);\n            pointer = (MemoryAddress)NEW.invokeExact(\n                allocator.allocateUtf8String(argument)\n            );\n        }\n    }\n\n    @Override\n    public void close() {\n        FREE.invokeExact(pointer);\n    }\n\n    public boolean doStuff() {\n        return (byte)DO_STUFF.invokeExact(pointer) != 0;\n    }\n\n    public boolean handleData(MemorySegment segment) {\n        return (byte)HANDLE_DATA.invokeEact(pointer, segment.address(), segment.byteSize()) != 0;\n    }\n}\n</code></pre>\n<p>where <code>Binder</code> looks something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Binder {\n    MethodHandle bind(String name, FunctionDescriptor desc);\n    MethodHandle bind(String name, MemoryLayout result, MemoryLayout... args);\n    MethodHandle bindVoid(String name, MemoryLayout... args);\n}\n</code></pre>\n<p>I am not sure what parts of this are correct. My biggest implementation questions are:</p>\n<ul>\n<li>What is the correct way to call constructors and destructors?</li>\n<li>What is the correct way to call methods?</li>\n<li>What is the correct way to handle the std types (std::string, std::vector)</li>\n<li>Do C++ compilers add the default argument values at compile time, or do they generate multiple methods?</li>\n</ul>\n"},{"tags":["java","csv","split","jsonnode"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1559368006,"post_id":56404124,"comment_id":99406373,"body_markdown":"Did you try `String.split()`?","body":"Did you try <code>String.split()</code>?"},{"owner":{"account_id":4747721,"reputation":301,"user_id":3838600,"accept_rate":72,"display_name":"ermalsh"},"score":0,"creation_date":1559368048,"post_id":56404124,"comment_id":99406382,"body_markdown":"I did, is that the best method?","body":"I did, is that the best method?"}],"answers":[{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1559372637,"creation_date":1559372637,"answer_id":56404580,"question_id":56404124,"body_markdown":"Yes, if you want to split the single node into essentially two, `String.split` would be the obvious solution.\r\n\r\nIt would probably be nicest if your target class had a Builder you can create it with, so you can do something like this:\r\n\r\n    private List&lt;Product&gt; fromJsonNode(JsonNode node) {\r\n        String[] names = node.get(&quot;name&quot;).textValue().split(&quot;,&quot;);\r\n        // create list of known size\r\n        List&lt;Product&gt; products = new ArrayList&lt;&gt;(ids.length);\r\n        // these values will remain the same for all products\r\n        ProductBuilder builder = Product.builder()\r\n                                        .price(node.get(&quot;price&quot;).numberValue())\r\n                                        .sku(node.get(&quot;sku&quot;).textValue());\r\n        for (String name : names) {\r\n            // just set the name and create the product with it\r\n            products.add(builder.name(name).build());\r\n        }\r\n        return products;\r\n    }","title":"Comma spit/delimit jsonnode in java","body":"<p>Yes, if you want to split the single node into essentially two, <code>String.split</code> would be the obvious solution.</p>\n\n<p>It would probably be nicest if your target class had a Builder you can create it with, so you can do something like this:</p>\n\n<pre><code>private List&lt;Product&gt; fromJsonNode(JsonNode node) {\n    String[] names = node.get(\"name\").textValue().split(\",\");\n    // create list of known size\n    List&lt;Product&gt; products = new ArrayList&lt;&gt;(ids.length);\n    // these values will remain the same for all products\n    ProductBuilder builder = Product.builder()\n                                    .price(node.get(\"price\").numberValue())\n                                    .sku(node.get(\"sku\").textValue());\n    for (String name : names) {\n        // just set the name and create the product with it\n        products.add(builder.name(name).build());\n    }\n    return products;\n}\n</code></pre>\n"}],"owner":{"account_id":4747721,"reputation":301,"user_id":3838600,"accept_rate":72,"display_name":"ermalsh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56404580,"answer_count":1,"score":0,"last_activity_date":1655329209,"creation_date":1559367239,"question_id":56404124,"body_markdown":"What is the best way to iterate through a comma delimited json node called &#39;name&#39; in the scenario below?\r\n\r\n    GetStoredValue result = \r\n    dataManagerService.getStoredValue(itemId).checkedGet();\r\n    JsonNode node = mapper.readTree(result.getStoredString());\r\n    if (node.has(&quot;name&quot;)\r\n        &amp;&amp; node.has(&quot;price&quot;)\r\n        &amp;&amp; node.has(&quot;sku&quot;))\r\n    {\r\n        //iterate through comma delimited &quot;name&quot; value and return the dataSources\r\n        //node: {&quot;name&quot;:&quot;test1,test2&quot;, &quot;price&quot;:30, &quot;sku&quot;:&quot;123123123&quot;}\r\n\r\n        //return:\r\n        //{&quot;name&quot;:&quot;test1&quot;, &quot;price&quot;:30, &quot;sku&quot;:&quot;123123123&quot;}\r\n        //{&quot;name&quot;:&quot;test2&quot;, &quot;price&quot;:30, &quot;sku&quot;:&quot;123123123&quot;}\r\n\r\n        ComboPooledDataSource dataSource = createDataSource(node);\r\n        dataSources.put(itemId, dataSource);\r\n        return dataSources.get(itemId);\r\n    }","title":"Comma spit/delimit jsonnode in java","body":"<p>What is the best way to iterate through a comma delimited json node called 'name' in the scenario below?</p>\n<pre><code>GetStoredValue result = \ndataManagerService.getStoredValue(itemId).checkedGet();\nJsonNode node = mapper.readTree(result.getStoredString());\nif (node.has(&quot;name&quot;)\n    &amp;&amp; node.has(&quot;price&quot;)\n    &amp;&amp; node.has(&quot;sku&quot;))\n{\n    //iterate through comma delimited &quot;name&quot; value and return the dataSources\n    //node: {&quot;name&quot;:&quot;test1,test2&quot;, &quot;price&quot;:30, &quot;sku&quot;:&quot;123123123&quot;}\n\n    //return:\n    //{&quot;name&quot;:&quot;test1&quot;, &quot;price&quot;:30, &quot;sku&quot;:&quot;123123123&quot;}\n    //{&quot;name&quot;:&quot;test2&quot;, &quot;price&quot;:30, &quot;sku&quot;:&quot;123123123&quot;}\n\n    ComboPooledDataSource dataSource = createDataSource(node);\n    dataSources.put(itemId, dataSource);\n    return dataSources.get(itemId);\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-camel","apache-kafka-connect"],"comments":[{"owner":{"account_id":2010707,"reputation":890,"user_id":1799206,"accept_rate":48,"display_name":"Valath"},"score":1,"creation_date":1655342348,"post_id":72636422,"comment_id":128312267,"body_markdown":"its always better to turn off automatic topic creation option in cluster if not required, let the producer fail if topic is not available, which is a requisite for your app.","body":"its always better to turn off automatic topic creation option in cluster if not required, let the producer fail if topic is not available, which is a requisite for your app."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655328515,"creation_date":1655328515,"answer_id":72638033,"question_id":72636422,"body_markdown":"I&#39;m not sure that you can since Camel is more for integration of systems rather than direct communication to one system.\r\n\r\nSimilarly, Kafka Connect itself requires a working Kafka cluster, and assumes destination topics are already available, but latest releases of Kafka (as of 2.6) do provide the option to auto-create source connector topics. You can set `topic.creation.enable=false` to disable this, but then you&#39;ll be flooded with errors saying `UNKNOWN_TOPIC_OR_PARTITION`. To ignore those, you can try setting `errors.tolerance`, but then you&#39;d potentially be ignoring other exceptions \r\n\r\n","title":"How to check if a topic is available or not using Apache-Camel","body":"<p>I'm not sure that you can since Camel is more for integration of systems rather than direct communication to one system.</p>\n<p>Similarly, Kafka Connect itself requires a working Kafka cluster, and assumes destination topics are already available, but latest releases of Kafka (as of 2.6) do provide the option to auto-create source connector topics. You can set <code>topic.creation.enable=false</code> to disable this, but then you'll be flooded with errors saying <code>UNKNOWN_TOPIC_OR_PARTITION</code>. To ignore those, you can try setting <code>errors.tolerance</code>, but then you'd potentially be ignoring other exceptions</p>\n"}],"owner":{"account_id":25565625,"reputation":1,"user_id":19347119,"display_name":"mhm3091"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655328515,"creation_date":1655318797,"question_id":72636422,"body_markdown":"I am trying to write a condition where before implementing the Kafka-Camel route, I check if there is the destination topic is available or not. If the topic is missing, the routing doesn&#39;t happen. \r\n\r\nThe reason I am doing this is, when there is no topic and the routing is invoked, the NetworkClient creates the topic by sending out a warning like below. \r\n\r\n2022-06-15 14:36:38 WARN  [or.ap.ka.cl.NetworkClient] (kafka-producer-network-thread | producer-8) [Producer clientId=producer-8] Error while fetching metadata with correlation id 3 : {my-topic=LEADER_NOT_AVAILABLE}\r\n\r\nI want to avoid the automatic creation of topic. If there is no topic, I want to skip the routing. \r\n","title":"How to check if a topic is available or not using Apache-Camel","body":"<p>I am trying to write a condition where before implementing the Kafka-Camel route, I check if there is the destination topic is available or not. If the topic is missing, the routing doesn't happen.</p>\n<p>The reason I am doing this is, when there is no topic and the routing is invoked, the NetworkClient creates the topic by sending out a warning like below.</p>\n<p>2022-06-15 14:36:38 WARN  [or.ap.ka.cl.NetworkClient] (kafka-producer-network-thread | producer-8) [Producer clientId=producer-8] Error while fetching metadata with correlation id 3 : {my-topic=LEADER_NOT_AVAILABLE}</p>\n<p>I want to avoid the automatic creation of topic. If there is no topic, I want to skip the routing.</p>\n"},{"tags":["java","selenium","iframe","click","pega"],"answers":[{"tags":[],"owner":{"account_id":16895526,"reputation":89,"user_id":12218153,"display_name":"Ajitav Basak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649319020,"creation_date":1649319020,"answer_id":71778497,"question_id":71778411,"body_markdown":"First switch to the frame where the element is present and then perform activity on the element.\r\nUse one of the available method \r\n\r\n    switchTo().frame(Index)\r\n    switchTo().frame(Web Element)\r\n    switchTo().frame(Id or name)\r\n\r\n\r\n \r\n\r\n \r\n\r\n ","title":"JAVA Selenium iFrame issues: click() is looking for active frame but frame changed during click method","body":"<p>First switch to the frame where the element is present and then perform activity on the element.\nUse one of the available method</p>\n<pre><code>switchTo().frame(Index)\nswitchTo().frame(Web Element)\nswitchTo().frame(Id or name)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649319889,"creation_date":1649319536,"answer_id":71778621,"question_id":71778411,"body_markdown":"As the previous frame _**PegaGadget2Ifr**_ closes, an ideal approach would be to switch to the _**default Content**_ first:\r\n\r\n\r\n    driver.switchTo().defaultContent();\r\n\r\nand then attempt to switch to _**PegaGadget1Ifr**_ frame.","title":"JAVA Selenium iFrame issues: click() is looking for active frame but frame changed during click method","body":"<p>As the previous frame <em><strong>PegaGadget2Ifr</strong></em> closes, an ideal approach would be to switch to the <em><strong>default Content</strong></em> first:</p>\n<pre><code>driver.switchTo().defaultContent();\n</code></pre>\n<p>and then attempt to switch to <em><strong>PegaGadget1Ifr</strong></em> frame.</p>\n"}],"owner":{"account_id":24857825,"reputation":11,"user_id":18733955,"display_name":"Blenk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1655328083,"creation_date":1649318527,"question_id":71778411,"body_markdown":"I am currently testing the UI of a PEGA application whereas I have stumbled on an issue where I am clicking a button that in its turn saves an item and closes the frame. When click method is finished it is still looking for frame y but stands on frame x, so it crashes.\r\n\r\nThe issues followed by this is when using:\r\n\r\n    driver.findElement(By.x(&quot;selector&quot;)).click(); \r\n\r\nframe is switching and in the framework its still trying to locate the previous active frame (which is not visible at this time).\r\n\r\nIm on frame **PegaGadget2Ifr** but ends up on **PegaGadget1Ifr** curing click.\r\n\r\nThis is what code im running: \t\r\n```@Then(&quot;^I save the project as a draft$&quot;)\r\n\tpublic void saveProjectAsDraft(){\r\n\t\tProject_page pp = new Project_page(FDMPortal.getActiveFrameId(true), testEnv);\r\n\t\tFDMObjectsBean.setProject_page(pp);\r\n\t\tpp.saveDraft();\r\n\t}\r\n\r\npublic Workplace_details_page saveDraft(){\r\n        findElement(SAVE_DRAFT).click();\r\n        return new Workplace_details_page(getActiveFrameId(true),testEnv);\r\n    }\r\n```\r\ngetting this error message.\r\n\r\n```\r\norg.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;#PegaGadget2Ifr&quot;}\r\n  (Session info: chrome=99.0.4844.74)\r\nFor documentation on this error, please visit: https://www.seleniumhq.org/exceptions/no_such_element.html\r\nos.version: &#39;10.0&#39;, java.version: &#39;1.8.0_312&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 99.0.4844.74, chrome: {chromedriverVersion: 99.0.4844.51 (d537ec02474b5..., userDataDir: x, goog:chromeOptions: {debuggerAddress: localhost:63949}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\nSession ID: x\r\n*** Element info: {Using=id, value=PegaGadget2Ifr}\r\n\tat sun.reflect.GeneratedConstructorAccessor16.newInstance(Unknown Source)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:323)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElementById(RemoteWebDriver.java:372)\r\n\tat org.openqa.selenium.By$ById.findElement(By.java:188)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:315)\r\n\tat com.pega.framework.PegaWebDriverImpl.switchToActiveFrame(PegaWebDriverImpl.java:613)\r\n\tat com.pega.framework.PegaWebElementImpl.click(PegaWebElementImpl.java:513)\r\n\tat com.pega.framework.PegaWebElementImpl.click(PegaWebElementImpl.java:407)\r\n\tat com.pega.crm.workobjects.Project_page.saveDraft(Project_page.java:166)\r\n\tat stepdefs.WorkplaceStepDefs.saveProjectAsDraft(WorkplaceStepDefs.java:390)```","title":"JAVA Selenium iFrame issues: click() is looking for active frame but frame changed during click method","body":"<p>I am currently testing the UI of a PEGA application whereas I have stumbled on an issue where I am clicking a button that in its turn saves an item and closes the frame. When click method is finished it is still looking for frame y but stands on frame x, so it crashes.</p>\n<p>The issues followed by this is when using:</p>\n<pre><code>driver.findElement(By.x(&quot;selector&quot;)).click(); \n</code></pre>\n<p>frame is switching and in the framework its still trying to locate the previous active frame (which is not visible at this time).</p>\n<p>Im on frame <strong>PegaGadget2Ifr</strong> but ends up on <strong>PegaGadget1Ifr</strong> curing click.</p>\n<p>This is what code im running:</p>\n<pre><code>    public void saveProjectAsDraft(){\n        Project_page pp = new Project_page(FDMPortal.getActiveFrameId(true), testEnv);\n        FDMObjectsBean.setProject_page(pp);\n        pp.saveDraft();\n    }\n\npublic Workplace_details_page saveDraft(){\n        findElement(SAVE_DRAFT).click();\n        return new Workplace_details_page(getActiveFrameId(true),testEnv);\n    }\n</code></pre>\n<p>getting this error message.</p>\n<pre><code>org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;#PegaGadget2Ifr&quot;}\n  (Session info: chrome=99.0.4844.74)\nFor documentation on this error, please visit: https://www.seleniumhq.org/exceptions/no_such_element.html\nos.version: '10.0', java.version: '1.8.0_312'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 99.0.4844.74, chrome: {chromedriverVersion: 99.0.4844.51 (d537ec02474b5..., userDataDir: x, goog:chromeOptions: {debuggerAddress: localhost:63949}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\nSession ID: x\n*** Element info: {Using=id, value=PegaGadget2Ifr}\n    at sun.reflect.GeneratedConstructorAccessor16.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:323)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElementById(RemoteWebDriver.java:372)\n    at org.openqa.selenium.By$ById.findElement(By.java:188)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:315)\n    at com.pega.framework.PegaWebDriverImpl.switchToActiveFrame(PegaWebDriverImpl.java:613)\n    at com.pega.framework.PegaWebElementImpl.click(PegaWebElementImpl.java:513)\n    at com.pega.framework.PegaWebElementImpl.click(PegaWebElementImpl.java:407)\n    at com.pega.crm.workobjects.Project_page.saveDraft(Project_page.java:166)\n    at stepdefs.WorkplaceStepDefs.saveProjectAsDraft(WorkplaceStepDefs.java:390)```\n</code></pre>\n"},{"tags":["java","maven","jacoco","jacoco-maven-plugin"],"comments":[{"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"score":0,"creation_date":1648555270,"post_id":53829414,"comment_id":126649027,"body_markdown":"If the problem continues despite of applying the workarounds, you may have a look at my answer on [maven jacoco: not generating code coverage report](https://stackoverflow.com/questions/25395255/maven-jacoco-not-generating-code-coverage-report/71661614#71661614).","body":"If the problem continues despite of applying the workarounds, you may have a look at my answer on <a href=\"https://stackoverflow.com/questions/25395255/maven-jacoco-not-generating-code-coverage-report/71661614#71661614\">maven jacoco: not generating code coverage report</a>."}],"answers":[{"tags":[],"owner":{"account_id":88629,"reputation":9961,"user_id":244993,"display_name":"Godin"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1545137899,"creation_date":1545137899,"answer_id":53833558,"question_id":53829414,"body_markdown":"In absence of [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) that fully demonstrates steps to reproduce your difficulty, can only quote [JaCoCo FAQ](https://www.jacoco.org/jacoco/trunk/doc/faq.html) :\r\n\r\n&gt; ### Why does the coverage report not show highlighted source code?\r\n&gt;\r\n&gt; Make sure the following prerequisites are fulfilled to get source code\r\n&gt; highlighting in JaCoCo coverage reports:\r\n&gt; \r\n&gt; * Class files must be compiled with debug information to contain line\r\n&gt; numbers.\r\n&gt; * Source files must be properly supplied at report generation\r\n&gt; time.\r\n\r\nAbout first point see `-g` option of `javac`, [`debug`](https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#debug) and [`debuglevel`](https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#debuglevel) options of maven-compiler-plugin.\r\n\r\nFor the second point make sure that source file `Example.java` with\r\n\r\n    package org.example;\r\n\r\nis located in `src/main/java/org/example/Example.java`\r\n","title":"JaCoCo Not Generating Coverage Reports based on Source File - Method names not clickable","body":"<p>In absence of <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> that fully demonstrates steps to reproduce your difficulty, can only quote <a href=\"https://www.jacoco.org/jacoco/trunk/doc/faq.html\" rel=\"noreferrer\">JaCoCo FAQ</a> :</p>\n\n<blockquote>\n  <h3>Why does the coverage report not show highlighted source code?</h3>\n  \n  <p>Make sure the following prerequisites are fulfilled to get source code\n  highlighting in JaCoCo coverage reports:</p>\n  \n  <ul>\n  <li>Class files must be compiled with debug information to contain line\n  numbers.</li>\n  <li>Source files must be properly supplied at report generation\n  time.</li>\n  </ul>\n</blockquote>\n\n<p>About first point see <code>-g</code> option of <code>javac</code>, <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#debug\" rel=\"noreferrer\"><code>debug</code></a> and <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#debuglevel\" rel=\"noreferrer\"><code>debuglevel</code></a> options of maven-compiler-plugin.</p>\n\n<p>For the second point make sure that source file <code>Example.java</code> with</p>\n\n<pre><code>package org.example;\n</code></pre>\n\n<p>is located in <code>src/main/java/org/example/Example.java</code></p>\n"},{"tags":[],"owner":{"account_id":15695487,"reputation":131,"user_id":11325201,"display_name":"Ethan K"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580629282,"creation_date":1580629282,"answer_id":60024128,"question_id":53829414,"body_markdown":"Thank you! @Godin\r\n\r\n**It is also important** to make sure you specify the `SourceDirectory`. In my case - working against `Groovy` Source Files, for detailed coverage you should specify the **child** `Maven` structure as follows:\r\n\r\n```\r\n&lt;build&gt;\r\n        &lt;sourceDirectory&gt;src/main/groovy&lt;/sourceDirectory&gt;\r\n        &lt;plugins&gt; ... &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\nThis was a combination of the issues in my case. The source Directory and the Compile with Debug option.\r\nThanks again.","title":"JaCoCo Not Generating Coverage Reports based on Source File - Method names not clickable","body":"<p>Thank you! @Godin</p>\n\n<p><strong>It is also important</strong> to make sure you specify the <code>SourceDirectory</code>. In my case - working against <code>Groovy</code> Source Files, for detailed coverage you should specify the <strong>child</strong> <code>Maven</code> structure as follows:</p>\n\n<pre><code>&lt;build&gt;\n        &lt;sourceDirectory&gt;src/main/groovy&lt;/sourceDirectory&gt;\n        &lt;plugins&gt; ... &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>This was a combination of the issues in my case. The source Directory and the Compile with Debug option.\nThanks again.</p>\n"},{"tags":[],"owner":{"account_id":1623138,"reputation":16726,"user_id":1499296,"accept_rate":75,"display_name":"AKS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626723483,"creation_date":1614133913,"answer_id":66343857,"question_id":53829414,"body_markdown":"In my case, `&lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;` was already defined inside `&lt;build&gt;..here..&lt;plugins&gt;..&lt;/plugins&gt;..&lt;/build&gt;` section and debug option was turned on for Java compilation, but the links in JaCoCo report still were not clickable.\r\n\r\nWhat I had to do is, to define `&lt;sourceDirectory&gt;` configuration within **Jacoco Plugin** (defined inside of `&lt;plugins&gt;` section)\r\n\r\n**Ex:** Now the links are working and also in my case, I&#39;m putting the coverage report data/files inside, a custom folder (c*overage/jacoco-report*) instead of using the default one. There are bunch of other configuration fields/settings you can use. \r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;0.8.2&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n                &lt;!-- attached to Maven test phase --&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;report&lt;/id&gt;\r\n                    &lt;phase&gt;test&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;report&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n\r\n                        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n                        &lt;!-- see above --&gt;\r\n                        &lt;outputDirectory&gt;coverage/jacoco-report&lt;/outputDirectory&gt;\r\n\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n\r\n","title":"JaCoCo Not Generating Coverage Reports based on Source File - Method names not clickable","body":"<p>In my case, <code>&lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;</code> was already defined inside <code>&lt;build&gt;..here..&lt;plugins&gt;..&lt;/plugins&gt;..&lt;/build&gt;</code> section and debug option was turned on for Java compilation, but the links in JaCoCo report still were not clickable.</p>\n<p>What I had to do is, to define <code>&lt;sourceDirectory&gt;</code> configuration within <strong>Jacoco Plugin</strong> (defined inside of <code>&lt;plugins&gt;</code> section)</p>\n<p><strong>Ex:</strong> Now the links are working and also in my case, I'm putting the coverage report data/files inside, a custom folder (c<em>overage/jacoco-report</em>) instead of using the default one. There are bunch of other configuration fields/settings you can use.</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.8.2&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n            &lt;!-- attached to Maven test phase --&gt;\n            &lt;execution&gt;\n                &lt;id&gt;report&lt;/id&gt;\n                &lt;phase&gt;test&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;report&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n\n                    &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n                    &lt;!-- see above --&gt;\n                    &lt;outputDirectory&gt;coverage/jacoco-report&lt;/outputDirectory&gt;\n\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7082734,"reputation":468,"user_id":5420543,"display_name":"Jhon Fredy Trujillo Ortega"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655327854,"creation_date":1655327854,"answer_id":72637933,"question_id":53829414,"body_markdown":"I got the same issue working with an Android java/kotlin project. In my case, I have to use custom paths for the code main src folder. So I have something like this:\r\n\r\n```\r\nsrc/org/example/lib_name\r\n```\r\n\r\nIn that folder, I have my java and kotlin code. So I configure my jacoco script with this configuration\r\n\r\n```\r\ntask jacocoTestReport(type: JacocoReport, dependsOn: [&#39;testDebugUnitTest&#39;]) {\r\n\r\n    reports {\r\n        xml.enabled = true\r\n        html.enabled = true\r\n    }\r\n\r\n    def fileFilter = [&#39;**/R.class&#39;, &#39;**/R$*.class&#39;, &#39;**/BuildConfig.*&#39;, &#39;**/Manifest*.*&#39;, &#39;**/*Test*.*&#39;, &#39;android/**/*.*&#39;]\r\n    //def debugTree = fileTree(dir: &quot;${buildDir}/intermediates/classes/debug&quot;, excludes: fileFilter)\r\n    def javaClasses = fileTree(dir: &quot;${buildDir}/intermediates/javac/debug/classes&quot;, excludes: fileFilter)\r\n    def kotlinClasses = fileTree(dir: &quot;${buildDir}/tmp/kotlin-classes/debug&quot;, excludes: fileFilter)\r\n\r\n    def mainSrc = &quot;${project.projectDir}/src/org/example/lib_name&quot;\r\n\r\n    sourceDirectories.setFrom(files([mainSrc]))\r\n    classDirectories.setFrom(files([javaClasses, kotlinClasses]))\r\n    executionData.setFrom(fileTree(dir: &quot;$buildDir&quot;, includes: [\r\n            &quot;jacoco/testDebugUnitTest.exec&quot;\r\n    ]))\r\n}\r\n```\r\n\r\nBut that was not working. For some reason, If I define a specified path to a folder It doesn&#39;t work. So just changing this line the report starts working.\r\n\r\n```\r\ndef mainSrc = &quot;${project.projectDir}/src&quot;\r\n```\r\n","title":"JaCoCo Not Generating Coverage Reports based on Source File - Method names not clickable","body":"<p>I got the same issue working with an Android java/kotlin project. In my case, I have to use custom paths for the code main src folder. So I have something like this:</p>\n<pre><code>src/org/example/lib_name\n</code></pre>\n<p>In that folder, I have my java and kotlin code. So I configure my jacoco script with this configuration</p>\n<pre><code>task jacocoTestReport(type: JacocoReport, dependsOn: ['testDebugUnitTest']) {\n\n    reports {\n        xml.enabled = true\n        html.enabled = true\n    }\n\n    def fileFilter = ['**/R.class', '**/R$*.class', '**/BuildConfig.*', '**/Manifest*.*', '**/*Test*.*', 'android/**/*.*']\n    //def debugTree = fileTree(dir: &quot;${buildDir}/intermediates/classes/debug&quot;, excludes: fileFilter)\n    def javaClasses = fileTree(dir: &quot;${buildDir}/intermediates/javac/debug/classes&quot;, excludes: fileFilter)\n    def kotlinClasses = fileTree(dir: &quot;${buildDir}/tmp/kotlin-classes/debug&quot;, excludes: fileFilter)\n\n    def mainSrc = &quot;${project.projectDir}/src/org/example/lib_name&quot;\n\n    sourceDirectories.setFrom(files([mainSrc]))\n    classDirectories.setFrom(files([javaClasses, kotlinClasses]))\n    executionData.setFrom(fileTree(dir: &quot;$buildDir&quot;, includes: [\n            &quot;jacoco/testDebugUnitTest.exec&quot;\n    ]))\n}\n</code></pre>\n<p>But that was not working. For some reason, If I define a specified path to a folder It doesn't work. So just changing this line the report starts working.</p>\n<pre><code>def mainSrc = &quot;${project.projectDir}/src&quot;\n</code></pre>\n"}],"owner":{"account_id":4888255,"reputation":4312,"user_id":3940047,"accept_rate":80,"display_name":"Pavan Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8464,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":53833558,"answer_count":4,"score":7,"last_activity_date":1655327854,"creation_date":1545123401,"question_id":53829414,"body_markdown":"I have a Maven multi module project where the JaCoCo is not generating reports based on the source files.\r\n\r\nGenerally, if `MyService` is the class under test, it would be reported in two ways, one through a file name `MyService.html` in appropriate package based location with a list of methods giving an overall picture of the coverage in numbers and graphs - with listing of all the methods in the class and each method has a clickable link to another html `MyService.java.html` which contains the source code with red/green/yellow background to display coverage status.\r\n\r\nIn my scenario, only `MyService.html` is generated and not the `MyService.java.html` and methods are listed in the former with coverage details, but without hyperlinks to the other report as displayed below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIssue gets more interesting here that my Maven configuration is not configured in this module, but in a parent module and other child modules are able to generate reports properly. Below is the maven plugin configuration for reference.\r\n\r\nParent POM:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;${jacoco.version}&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n         &lt;destFile&gt;${project.basedir}/target/jacoco-unit.exec&lt;/destFile&gt;\r\n         &lt;dataFile&gt;${project.basedir}/target/jacoco-unit.exec&lt;/dataFile&gt;\r\n         &lt;append&gt;true&lt;/append&gt;\r\n      &lt;/configuration&gt;\r\n      &lt;executions&gt;\r\n         &lt;execution&gt;\r\n            &lt;id&gt;jacoco-initialize&lt;/id&gt;\r\n            &lt;goals&gt;\r\n               &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n         &lt;/execution&gt;\r\n         &lt;execution&gt;\r\n            &lt;id&gt;jacoco-site&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n               &lt;goal&gt;report&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n         &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nChild POM:\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n        &lt;/plugin&gt;\r\n\r\nTried switching JaCoCo versions, but none helped, now sticking to the latest 0.8.2. And Maven is latest - 3.6.0. Apart from this, the other plugin configured in the child pom is PMD - whose presence or absence did not make any difference to report.\r\n\r\nSimilar issue: https://stackoverflow.com/questions/20567665/gradle-jacoco-plugin-class-and-method-names-not-clickable-in-report/20568939\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qsNao.png","title":"JaCoCo Not Generating Coverage Reports based on Source File - Method names not clickable","body":"<p>I have a Maven multi module project where the JaCoCo is not generating reports based on the source files.</p>\n\n<p>Generally, if <code>MyService</code> is the class under test, it would be reported in two ways, one through a file name <code>MyService.html</code> in appropriate package based location with a list of methods giving an overall picture of the coverage in numbers and graphs - with listing of all the methods in the class and each method has a clickable link to another html <code>MyService.java.html</code> which contains the source code with red/green/yellow background to display coverage status.</p>\n\n<p>In my scenario, only <code>MyService.html</code> is generated and not the <code>MyService.java.html</code> and methods are listed in the former with coverage details, but without hyperlinks to the other report as displayed below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qsNao.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qsNao.png\" alt=\"enter image description here\"></a></p>\n\n<p>Issue gets more interesting here that my Maven configuration is not configured in this module, but in a parent module and other child modules are able to generate reports properly. Below is the maven plugin configuration for reference.</p>\n\n<p>Parent POM:</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n  &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;${jacoco.version}&lt;/version&gt;\n  &lt;configuration&gt;\n     &lt;destFile&gt;${project.basedir}/target/jacoco-unit.exec&lt;/destFile&gt;\n     &lt;dataFile&gt;${project.basedir}/target/jacoco-unit.exec&lt;/dataFile&gt;\n     &lt;append&gt;true&lt;/append&gt;\n  &lt;/configuration&gt;\n  &lt;executions&gt;\n     &lt;execution&gt;\n        &lt;id&gt;jacoco-initialize&lt;/id&gt;\n        &lt;goals&gt;\n           &lt;goal&gt;prepare-agent&lt;/goal&gt;\n        &lt;/goals&gt;\n     &lt;/execution&gt;\n     &lt;execution&gt;\n        &lt;id&gt;jacoco-site&lt;/id&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n           &lt;goal&gt;report&lt;/goal&gt;\n        &lt;/goals&gt;\n     &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Child POM:</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>Tried switching JaCoCo versions, but none helped, now sticking to the latest 0.8.2. And Maven is latest - 3.6.0. Apart from this, the other plugin configured in the child pom is PMD - whose presence or absence did not make any difference to report.</p>\n\n<p>Similar issue: <a href=\"https://stackoverflow.com/questions/20567665/gradle-jacoco-plugin-class-and-method-names-not-clickable-in-report/20568939\">Gradle JaCoCo plugin - class and method names not clickable in report</a></p>\n"},{"tags":["java","unit-testing","junit4","pitest"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655231074,"post_id":72621734,"comment_id":128281956,"body_markdown":"According to the following site, there would be an output report somewhere that might include the details: https://gradle-pitest-plugin.solidsoft.info/ ${PROJECT_DIR}/build/reports/pitest","body":"According to the following site, there would be an output report somewhere that might include the details: <a href=\"https://gradle-pitest-plugin.solidsoft.info/\" rel=\"nofollow noreferrer\">gradle-pitest-plugin.solidsoft.info</a> ${PROJECT_DIR}/build/reports/pitest"},{"owner":{"account_id":22778369,"reputation":21,"user_id":16934654,"display_name":"Vinutha"},"score":0,"creation_date":1655231611,"post_id":72621734,"comment_id":128282147,"body_markdown":"Output report will be generated for PIT test if it fails also?","body":"Output report will be generated for PIT test if it fails also?"},{"owner":{"account_id":22778369,"reputation":21,"user_id":16934654,"display_name":"Vinutha"},"score":0,"creation_date":1655231725,"post_id":72621734,"comment_id":128282184,"body_markdown":"If yes, then where can I find the report in maven-pitest?","body":"If yes, then where can I find the report in maven-pitest?"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655231757,"post_id":72621734,"comment_id":128282199,"body_markdown":"Best way to find out for your test setup is to run the test again and look for the output in that directory I posted.","body":"Best way to find out for your test setup is to run the test again and look for the output in that directory I posted."},{"owner":{"account_id":22778369,"reputation":21,"user_id":16934654,"display_name":"Vinutha"},"score":0,"creation_date":1655232035,"post_id":72621734,"comment_id":128282291,"body_markdown":"Ours is maven project","body":"Ours is maven project"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655232232,"post_id":72621734,"comment_id":128282351,"body_markdown":"There is a guide for maven: https://pitest.org/quickstart/maven/ section POM Configuration.","body":"There is a guide for maven: <a href=\"https://pitest.org/quickstart/maven/\" rel=\"nofollow noreferrer\">pitest.org/quickstart/maven</a> section POM Configuration."}],"answers":[{"tags":[],"owner":{"account_id":1680214,"reputation":127,"user_id":1544626,"display_name":"Lynax"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655327660,"creation_date":1655327660,"answer_id":72637901,"question_id":72621734,"body_markdown":"When I inject a fault into my test suite and run Pitest, then it clearly shows me which tests fail. Even without enabling &quot;verbose&quot; logging.\r\n\r\nI have configured Pitest in my `pom.xml` in order to add some configuration for my tests to run properly. The following block might be in the `&lt;pluginManagement&gt;` section or in a `&lt;profile&gt;`:\r\n\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n                &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\r\n                &lt;version&gt;1.8.0&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;pitest-junit5-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;0.16&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nNow I can run `mvn test-compile pitest:mutationCoverage` on command line to run my (faulty) test suite without the regular unit testing.\r\n\r\nIn the console output of Pitest I can see which test methods fail:\r\n\r\n```\r\n22:54:05 PIT &gt;&gt; INFO : Verbose logging is disabled. If you encounter a problem,\r\nplease enable it before reporting an issue.\r\n22:54:06 PIT &gt;&gt; INFO : Incremental analysis reduced number of mutations by 0\r\n22:54:06 PIT &gt;&gt; INFO : Created  69 mutation test units in pre scan\r\n22:54:07 PIT &gt;&gt; INFO : Sending 85 test classes to minion\r\n22:54:07 PIT &gt;&gt; INFO : Sent tests to minion\r\n|22:54:17 PIT &gt;&gt; SEVERE : Description [testClass=com.myproject.core.MyTestClass,\r\n  name=[engine:junit-jupiter]/[class:com.myproject.core.MyTestClass]/[method:testBrokenOne()]]\r\n  did not pass without mutation.\r\n/22:54:17 PIT &gt;&gt; SEVERE : Description [testClass=com.myproject.core.MyTestClass,\r\n  name=[engine:junit-jupiter]/[class:com.myproject.core.MyTestClass]/[method:testMethodTwo()]]\r\n  did not pass without mutation.\r\n|22:54:19 PIT &gt;&gt; INFO : Calculated coverage in 13 seconds.\r\n22:54:19 PIT &gt;&gt; SEVERE : Tests failing without mutation:\r\nDescription [testClass=com.myproject.core.MyTestClass,\r\n  name=[engine:junit-jupiter]/[class:com.myproject.core.MyTestClass]/[method:testMethodOne()]]\r\nDescription [testClass=com.myproject.core.MyTestClass,\r\n  name=[engine:junit-jupiter]/[class:com.myproject.core.MyTestClass]/[method:testMethodTwo()]]\r\n```\r\n*(Added linebreaks for readability)*\r\n\r\nSo I see that `MyTestClass.testMethodOne()` and `MyTestClass.testMethodTwo()` fail to run even without mutation.\r\n\r\nWhen I add `-Dverbose=true` on the command line, I find there the output of the test framework which is like:\r\n```\r\n23:07:37 PIT &gt;&gt; INFO : MINION : org.opentest4j.AssertionFailedError: expected: &lt;25&gt; but was: &lt;24&gt;\r\n```\r\n\r\nTo narrow it further down if needed, you might want to limit each test method to a single `assert` statement. And you can add logging (to console or file) to check the variables of your tests.\r\n\r\nThe reason might be a parameter (maybe you specify some property on command line or in the pom?) that your regular tests get but not when started by Pitest. I myself learned just recently that Pitest spawns new jvm instances that need to get parameters transferred via `&lt;jvmArgs&gt;` in some cases.","title":"All test cases passed in junit but PIT is failing","body":"<p>When I inject a fault into my test suite and run Pitest, then it clearly shows me which tests fail. Even without enabling &quot;verbose&quot; logging.</p>\n<p>I have configured Pitest in my <code>pom.xml</code> in order to add some configuration for my tests to run properly. The following block might be in the <code>&lt;pluginManagement&gt;</code> section or in a <code>&lt;profile&gt;</code>:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n                &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\n                &lt;version&gt;1.8.0&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n                        &lt;artifactId&gt;pitest-junit5-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;0.16&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Now I can run <code>mvn test-compile pitest:mutationCoverage</code> on command line to run my (faulty) test suite without the regular unit testing.</p>\n<p>In the console output of Pitest I can see which test methods fail:</p>\n<pre><code>22:54:05 PIT &gt;&gt; INFO : Verbose logging is disabled. If you encounter a problem,\nplease enable it before reporting an issue.\n22:54:06 PIT &gt;&gt; INFO : Incremental analysis reduced number of mutations by 0\n22:54:06 PIT &gt;&gt; INFO : Created  69 mutation test units in pre scan\n22:54:07 PIT &gt;&gt; INFO : Sending 85 test classes to minion\n22:54:07 PIT &gt;&gt; INFO : Sent tests to minion\n|22:54:17 PIT &gt;&gt; SEVERE : Description [testClass=com.myproject.core.MyTestClass,\n  name=[engine:junit-jupiter]/[class:com.myproject.core.MyTestClass]/[method:testBrokenOne()]]\n  did not pass without mutation.\n/22:54:17 PIT &gt;&gt; SEVERE : Description [testClass=com.myproject.core.MyTestClass,\n  name=[engine:junit-jupiter]/[class:com.myproject.core.MyTestClass]/[method:testMethodTwo()]]\n  did not pass without mutation.\n|22:54:19 PIT &gt;&gt; INFO : Calculated coverage in 13 seconds.\n22:54:19 PIT &gt;&gt; SEVERE : Tests failing without mutation:\nDescription [testClass=com.myproject.core.MyTestClass,\n  name=[engine:junit-jupiter]/[class:com.myproject.core.MyTestClass]/[method:testMethodOne()]]\nDescription [testClass=com.myproject.core.MyTestClass,\n  name=[engine:junit-jupiter]/[class:com.myproject.core.MyTestClass]/[method:testMethodTwo()]]\n</code></pre>\n<p><em>(Added linebreaks for readability)</em></p>\n<p>So I see that <code>MyTestClass.testMethodOne()</code> and <code>MyTestClass.testMethodTwo()</code> fail to run even without mutation.</p>\n<p>When I add <code>-Dverbose=true</code> on the command line, I find there the output of the test framework which is like:</p>\n<pre><code>23:07:37 PIT &gt;&gt; INFO : MINION : org.opentest4j.AssertionFailedError: expected: &lt;25&gt; but was: &lt;24&gt;\n</code></pre>\n<p>To narrow it further down if needed, you might want to limit each test method to a single <code>assert</code> statement. And you can add logging (to console or file) to check the variables of your tests.</p>\n<p>The reason might be a parameter (maybe you specify some property on command line or in the pom?) that your regular tests get but not when started by Pitest. I myself learned just recently that Pitest spawns new jvm instances that need to get parameters transferred via <code>&lt;jvmArgs&gt;</code> in some cases.</p>\n"}],"owner":{"account_id":22778369,"reputation":21,"user_id":16934654,"display_name":"Vinutha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2025,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1655327660,"creation_date":1655230894,"question_id":72621734,"body_markdown":"While running pit and jacoco, all test cases are passed and jacoco coverage is fine, but PIT mutation test is failing with below error.\r\n    \r\n    Build Failure\r\n    All tests did not pass without mutation when calculating line coverage. Mutation testing requires a green suite.\r\n\r\nSince all my test cases are passed, i am not able to figure it out why PIT test is failing. I don&#39;t see any test failures in the console while running PIT test. \r\n\r\nPlease suggest how to find which test case is failing in PIT if that is the case, if not please let me know what could be the reason behind PIT test failure.","title":"All test cases passed in junit but PIT is failing","body":"<p>While running pit and jacoco, all test cases are passed and jacoco coverage is fine, but PIT mutation test is failing with below error.</p>\n<pre><code>Build Failure\nAll tests did not pass without mutation when calculating line coverage. Mutation testing requires a green suite.\n</code></pre>\n<p>Since all my test cases are passed, i am not able to figure it out why PIT test is failing. I don't see any test failures in the console while running PIT test.</p>\n<p>Please suggest how to find which test case is failing in PIT if that is the case, if not please let me know what could be the reason behind PIT test failure.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"score":0,"creation_date":1614960195,"post_id":66495727,"comment_id":117553287,"body_markdown":"have you tried layout below?? and also post the xml file here..","body":"have you tried layout below?? and also post the xml file here.."},{"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"score":0,"creation_date":1614960223,"post_id":66495727,"comment_id":117553298,"body_markdown":"It&#39;s hard to tell without seeing the code....","body":"It&#39;s hard to tell without seeing the code...."},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":1,"creation_date":1614969111,"post_id":66495727,"comment_id":117556864,"body_markdown":"@B&#246;machtBlau Thanks, that helped!","body":"@B&#246;machtBlau Thanks, that helped!"}],"answers":[{"tags":[],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655327593,"creation_date":1614969091,"answer_id":66497795,"question_id":66495727,"body_markdown":"The problem was the default style of the `Button`s.\r\n\r\nSo I endet up using `TextView` (a `Button` without a style) and everything worked fine.","title":"Android ImageView disappears under Buttons in RelativeLayout","body":"<p>The problem was the default style of the <code>Button</code>s.</p>\n<p>So I endet up using <code>TextView</code> (a <code>Button</code> without a style) and everything worked fine.</p>\n"}],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1614969150,"accepted_answer_id":66497795,"answer_count":1,"score":0,"last_activity_date":1655327593,"creation_date":1614960032,"question_id":66495727,"body_markdown":"In my game, I have got a RelativeLayout as my contentView.\r\n\r\nIt has got 5 views, 3 of them are important here:\r\n1) A button (Has the game field as a background image)\r\n2) An image view (The player)\r\n3) A button (Moving objects in the game as a background image)\r\n\r\nThe background image of the 2nd button is mostly transparent.\r\n\r\nI added all 3 views in this order to my RelativeLayout, but it appears that the image view is below the buttons, so you cannot see the player.\r\n\r\nWhy is that?\r\n\r\nEven though this is a really simple, I could not find any answer to it.\r\n\r\nUsing a FrameLayout instead of a RelativeLayout didn&#39;t work out.\r\n\r\nThanks!","title":"Android ImageView disappears under Buttons in RelativeLayout","body":"<p>In my game, I have got a RelativeLayout as my contentView.</p>\n<p>It has got 5 views, 3 of them are important here:</p>\n<ol>\n<li>A button (Has the game field as a background image)</li>\n<li>An image view (The player)</li>\n<li>A button (Moving objects in the game as a background image)</li>\n</ol>\n<p>The background image of the 2nd button is mostly transparent.</p>\n<p>I added all 3 views in this order to my RelativeLayout, but it appears that the image view is below the buttons, so you cannot see the player.</p>\n<p>Why is that?</p>\n<p>Even though this is a really simple, I could not find any answer to it.</p>\n<p>Using a FrameLayout instead of a RelativeLayout didn't work out.</p>\n<p>Thanks!</p>\n"},{"tags":["java","arrays","indexoutofboundsexception"],"comments":[{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1655322381,"post_id":72637045,"comment_id":128308204,"body_markdown":"Does this answer your question? [sublist index out of bound exception](https://stackoverflow.com/questions/15176584/sublist-index-out-of-bound-exception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15176584/sublist-index-out-of-bound-exception\">sublist index out of bound exception</a>"},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1655322483,"post_id":72637045,"comment_id":128308241,"body_markdown":"keep in mind that if `finded` is not false, it will continue looping and move on the the next element in the array (even if there are no elements left) - you probably want the condition in the `for` loop to say OR (`||`) instead of AND (`&amp;&amp;`)","body":"keep in mind that if <code>finded</code> is not false, it will continue looping and move on the the next element in the array (even if there are no elements left) - you probably want the condition in the <code>for</code> loop to say OR (<code>||</code>) instead of AND (<code>&amp;&amp;</code>)"},{"owner":{"account_id":17260375,"reputation":460,"user_id":12642499,"display_name":"Esther"},"score":1,"creation_date":1655322521,"post_id":72637045,"comment_id":128308259,"body_markdown":"`list` has length 0 since you didn&#39;t put anything into it. Therefore, when you try to access *anything* in it, you will get an IndexOutOfBoundsException.","body":"<code>list</code> has length 0 since you didn&#39;t put anything into it. Therefore, when you try to access <i>anything</i> in it, you will get an IndexOutOfBoundsException."},{"owner":{"account_id":17260375,"reputation":460,"user_id":12642499,"display_name":"Esther"},"score":0,"creation_date":1655322573,"post_id":72637045,"comment_id":128308272,"body_markdown":"if you meant to fill `list` with the characters in `comb`, then do that. And then loop through `list` instead of through `comb`, maybe.","body":"if you meant to fill <code>list</code> with the characters in <code>comb</code>, then do that. And then loop through <code>list</code> instead of through <code>comb</code>, maybe."},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1655328880,"post_id":72637045,"comment_id":128310062,"body_markdown":"Unless list is a must, for this kind of job i would use hashmap and merge instead. \n\nBut if you try to acces index &gt; list.length() then you get indexOutofBounds. Also your code has other issues. Like counting letters multiple times, With the example string, indexes 0 and 1 have same letter and finded will = true meaning nothing gets added to list. And some more.","body":"Unless list is a must, for this kind of job i would use hashmap and merge instead.   But if you try to acces index &gt; list.length() then you get indexOutofBounds. Also your code has other issues. Like counting letters multiple times, With the example string, indexes 0 and 1 have same letter and finded will = true meaning nothing gets added to list. And some more."}],"answers":[{"tags":[],"owner":{"account_id":25520101,"reputation":82,"user_id":19310174,"display_name":"Gerald Negvesky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655327413,"creation_date":1655322585,"answer_id":72637101,"question_id":72637045,"body_markdown":"The issue is that when you begin, ```list``` is empty. When you try to access elements, it will always try to access a value that is not there, but because there is no element, there will be an error. Your ArrayList must have some values in it to begin.","title":"IndexOutOfBoundsException issue in java arraylist","body":"<p>The issue is that when you begin, <code>list</code> is empty. When you try to access elements, it will always try to access a value that is not there, but because there is no element, there will be an error. Your ArrayList must have some values in it to begin.</p>\n"}],"owner":{"account_id":24716276,"reputation":1,"user_id":19347316,"display_name":"Cerme09"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":72637101,"answer_count":1,"score":-4,"last_activity_date":1655327413,"creation_date":1655322233,"question_id":72637045,"body_markdown":"The line in which the error occurs is indicated. The program consists of searching for the repeated characters and saving them in a list. In that list of type &quot;letter&quot;, the letter will be saved in char format and the counter of the letters found.\r\n\r\n     ArrayList&lt;letter&gt; list = new ArrayList&lt;letter&gt;();\r\n     String comb = &quot;&quot;;\r\n\r\n     comb=&quot;hhhoofdpsdshodss&quot;;\r\n\r\n     for(int i = 1; i&lt;comb.length(); i++){   //16\r\n         boolean finded = false;\r\n    \r\n         for(int j=0; j &lt; i &amp;&amp; finded == false; j++){\r\n             if(comb.charAt(j)==comb.charAt(i)){\r\n                 try{\r\n                     list.get(j).upCounter();     //Error here\r\n                 }catch(Exception E){\r\n                     System.out.println(E);\r\n                 }\r\n                 finded = true;\r\n             }\r\n         }\r\n\r\n         if(finded==false){\r\n             list.add(new letter(comb.charAt(i)));  \r\n         }\r\n     }\r\n        \r\n     for(int i = 0; i&lt;list.size() ; i++){\r\n         System.out.println((char)list.get(i).getLetter() + &quot;: &quot; + list.get(i).getCounter());\r\n     }\r\n\r\n\r\nHere is the class &quot;letter&quot;\r\n\r\n    class letter{\r\n        private char let;\r\n        int counter= 0;\r\n\r\n        public letter(char character){\r\n            let=character;\r\n            counter++;\r\n        }\r\n        public int getCounter(){\r\n            return counter;\r\n        }\r\n        public void upCounter(){\r\n            counter++;\r\n        }\r\n        public int getLetter(){\r\n            return let;\r\n        }\r\n    }","title":"IndexOutOfBoundsException issue in java arraylist","body":"<p>The line in which the error occurs is indicated. The program consists of searching for the repeated characters and saving them in a list. In that list of type &quot;letter&quot;, the letter will be saved in char format and the counter of the letters found.</p>\n<pre><code> ArrayList&lt;letter&gt; list = new ArrayList&lt;letter&gt;();\n String comb = &quot;&quot;;\n\n comb=&quot;hhhoofdpsdshodss&quot;;\n\n for(int i = 1; i&lt;comb.length(); i++){   //16\n     boolean finded = false;\n\n     for(int j=0; j &lt; i &amp;&amp; finded == false; j++){\n         if(comb.charAt(j)==comb.charAt(i)){\n             try{\n                 list.get(j).upCounter();     //Error here\n             }catch(Exception E){\n                 System.out.println(E);\n             }\n             finded = true;\n         }\n     }\n\n     if(finded==false){\n         list.add(new letter(comb.charAt(i)));  \n     }\n }\n    \n for(int i = 0; i&lt;list.size() ; i++){\n     System.out.println((char)list.get(i).getLetter() + &quot;: &quot; + list.get(i).getCounter());\n }\n</code></pre>\n<p>Here is the class &quot;letter&quot;</p>\n<pre><code>class letter{\n    private char let;\n    int counter= 0;\n\n    public letter(char character){\n        let=character;\n        counter++;\n    }\n    public int getCounter(){\n        return counter;\n    }\n    public void upCounter(){\n        counter++;\n    }\n    public int getLetter(){\n        return let;\n    }\n}\n</code></pre>\n"},{"tags":["java","video","metadata","mp4","m4v"],"answers":[{"tags":[],"owner":{"account_id":1626412,"reputation":378,"user_id":1501886,"display_name":"John-Paul Stanford"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393887432,"creation_date":1393887432,"answer_id":22159340,"question_id":19784931,"body_markdown":"I&#39;ve been doing this in [MediaManager][1] using the [mediainfo][2] command. The java code that wraps the command line program can be seen here [MediaFileInfoFetcher.java][3]. The good think about the command is that it can output media info as XML. So it&#39;s easy to use from Java.\r\n\r\n\r\n  [1]: https://bitbucket.org/shield007/mediamanager &quot;MediaManager&quot;\r\n  [2]: http://mediaarea.net/en/MediaInfo &quot;media info&quot;\r\n  [3]: https://bitbucket.org/shield007/mediamanager/src/2d4ffdcad3c999d95892f35ed4a14770e7c74a79/tv-and-movies-meta-data-fetcher/MediaManager-CLI/src/org/stanwood/media/info/MediaFileInfoFetcher.java?at=default","title":"Get width and height from m4v movie file - Java","body":"<p>I've been doing this in <a href=\"https://bitbucket.org/shield007/mediamanager\" rel=\"nofollow\" title=\"MediaManager\">MediaManager</a> using the <a href=\"http://mediaarea.net/en/MediaInfo\" rel=\"nofollow\" title=\"media info\">mediainfo</a> command. The java code that wraps the command line program can be seen here <a href=\"https://bitbucket.org/shield007/mediamanager/src/2d4ffdcad3c999d95892f35ed4a14770e7c74a79/tv-and-movies-meta-data-fetcher/MediaManager-CLI/src/org/stanwood/media/info/MediaFileInfoFetcher.java?at=default\" rel=\"nofollow\">MediaFileInfoFetcher.java</a>. The good think about the command is that it can output media info as XML. So it's easy to use from Java.</p>\n"},{"tags":[],"owner":{"account_id":8477841,"reputation":1,"user_id":6358474,"display_name":"Houman Ghaemi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655327169,"creation_date":1655327169,"answer_id":72637827,"question_id":19784931,"body_markdown":"I know this is an old thread, but I have just used [Metadata Extractor][1] for obtaining still images and video sizes. Metadata Extractor works on the container, not the media streams. It works on common container formats. \r\n\r\nIn my opinion, it is welll written and has good support. \r\n\r\n\r\n  [1]: https://github.com/drewnoakes/metadata-extractor","title":"Get width and height from m4v movie file - Java","body":"<p>I know this is an old thread, but I have just used <a href=\"https://github.com/drewnoakes/metadata-extractor\" rel=\"nofollow noreferrer\">Metadata Extractor</a> for obtaining still images and video sizes. Metadata Extractor works on the container, not the media streams. It works on common container formats.</p>\n<p>In my opinion, it is welll written and has good support.</p>\n"}],"owner":{"account_id":1857969,"reputation":209,"user_id":1683157,"accept_rate":92,"display_name":"ork"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1631,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1655327169,"creation_date":1383641553,"question_id":19784931,"body_markdown":"I have a m4v video file.\r\n\r\nI want to get the width and height values of the movie.\r\n\r\nI tried to grab it with &quot;org.apache.tika&quot; library which i succeed to get other metadata from the movie but not the width and height.\r\n\r\nAny suggestions (Java) ? \r\n\r\nThanks.\r\n\r\nOr.\r\n","title":"Get width and height from m4v movie file - Java","body":"<p>I have a m4v video file.</p>\n\n<p>I want to get the width and height values of the movie.</p>\n\n<p>I tried to grab it with \"org.apache.tika\" library which i succeed to get other metadata from the movie but not the width and height.</p>\n\n<p>Any suggestions (Java) ? </p>\n\n<p>Thanks.</p>\n\n<p>Or.</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1611782949,"post_id":65927589,"comment_id":116565146,"body_markdown":"Possibly related? [Java 8 LocalDateTime deserialized using Gson](https://stackoverflow.com/q/22310143)","body":"Possibly related? <a href=\"https://stackoverflow.com/q/22310143\">Java 8 LocalDateTime deserialized using Gson</a>"},{"owner":{"account_id":12655916,"reputation":852,"user_id":10673107,"display_name":"A. Vreeswijk"},"score":0,"creation_date":1611783004,"post_id":65927589,"comment_id":116565171,"body_markdown":"No, the difference is that he just wants to parse 1 element, but I parse the whole json to a class.","body":"No, the difference is that he just wants to parse 1 element, but I parse the whole json to a class."},{"owner":{"account_id":79530,"reputation":2608,"user_id":225437,"accept_rate":50,"display_name":"Andrew"},"score":0,"creation_date":1611791409,"post_id":65927589,"comment_id":116567677,"body_markdown":"Updated my Answer again to simplify the DateTimeFormat parsing and take account of the different data formats you have","body":"Updated my Answer again to simplify the DateTimeFormat parsing and take account of the different data formats you have"}],"answers":[{"tags":[],"owner":{"account_id":79530,"reputation":2608,"user_id":225437,"accept_rate":50,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1611791313,"creation_date":1611783054,"answer_id":65927689,"question_id":65927589,"body_markdown":"You need to register LocalDateTime: e.g.replace `Gson gson = new Gson();` see code below:\r\n\r\nUpdated answer to parse a LocalDateTime using a date formatter, instead of creating an Instant. Also your date formats are not consistent as some return seconds others milliseconds so I have provided two format alternatives. \r\n\r\nPlease see example code using a simplified Agent class   \r\n\r\n    String jsonResponse = &quot;[\\n&quot; +\r\n                &quot;   {\\n&quot; +\r\n                &quot;      \\&quot;DateTime\\&quot;:\\&quot;2021-01-27 09:18:00\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;Sim_StartDateTime\\&quot;:\\&quot;2019-01-01 00:00:00\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;LastAgentStrategyRun\\&quot;:\\&quot;2020-12-19 17:40:30.531000\\&quot;\\n&quot; +\r\n                &quot;   }\\n&quot; +\r\n                &#39;]&#39;;\r\n    \r\n        Gson gson = new GsonBuilder().registerTypeAdapter(LocalDateTime.class, (JsonDeserializer&lt;LocalDateTime&gt;) (json, type, jsonDeserializationContext) -&gt; {\r\n    \r\n            try{\r\n                return LocalDateTime.parse(json.getAsJsonPrimitive().getAsString(), DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;));\r\n            } catch (DateTimeParseException e){\r\n                return LocalDateTime.parse(json.getAsJsonPrimitive().getAsString(), DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;));\r\n            }\r\n    \r\n        }).create();\r\n    \r\n        Type listType = new TypeToken&lt;ArrayList&lt;Agent&gt;&gt;() {}.getType();\r\n        ArrayList&lt;Agent&gt; agentList = gson.fromJson(jsonResponse, listType);\r\n    \r\n        System.out.println(agentList);\r\n\r\nand the Agent class\r\n\r\n    public class Agent {\r\n        private LocalDateTime DateTime;\r\n        private LocalDateTime Sim_StartDateTime;\r\n        private LocalDateTime LastAgentStrategyRun;\r\n    \r\n        public LocalDateTime getDateTime() {\r\n            return DateTime;\r\n        }\r\n    \r\n        public void setDateTime(LocalDateTime dateTime) {\r\n            DateTime = dateTime;\r\n        }\r\n    \r\n        public LocalDateTime getSim_StartDateTime() {\r\n            return Sim_StartDateTime;\r\n        }\r\n    \r\n        public void setSim_StartDateTime(LocalDateTime sim_StartDateTime) {\r\n            Sim_StartDateTime = sim_StartDateTime;\r\n        }\r\n    \r\n        public LocalDateTime getLastAgentStrategyRun() {\r\n            return LastAgentStrategyRun;\r\n        }\r\n    \r\n        public void setLastAgentStrategyRun(LocalDateTime lastAgentStrategyRun) {\r\n            LastAgentStrategyRun = lastAgentStrategyRun;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Agent{&quot; +\r\n                    &quot;DateTime=&quot; + DateTime +\r\n                    &quot;, Sim_StartDateTime=&quot; + Sim_StartDateTime +\r\n                    &quot;, LastAgentStrategyRun=&quot; + LastAgentStrategyRun +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nand the output\r\n\r\n    [Agent{DateTime=2021-01-27T09:18, Sim_StartDateTime=2019-01-01T00:00, LastAgentStrategyRun=2020-12-19T17:40:30.531}]\r\n\r\n","title":"Java Deserialize JSON with datetime to object","body":"<p>You need to register LocalDateTime: e.g.replace <code>Gson gson = new Gson();</code> see code below:</p>\n<p>Updated answer to parse a LocalDateTime using a date formatter, instead of creating an Instant. Also your date formats are not consistent as some return seconds others milliseconds so I have provided two format alternatives.</p>\n<p>Please see example code using a simplified Agent class</p>\n<pre><code>String jsonResponse = &quot;[\\n&quot; +\n            &quot;   {\\n&quot; +\n            &quot;      \\&quot;DateTime\\&quot;:\\&quot;2021-01-27 09:18:00\\&quot;,\\n&quot; +\n            &quot;      \\&quot;Sim_StartDateTime\\&quot;:\\&quot;2019-01-01 00:00:00\\&quot;,\\n&quot; +\n            &quot;      \\&quot;LastAgentStrategyRun\\&quot;:\\&quot;2020-12-19 17:40:30.531000\\&quot;\\n&quot; +\n            &quot;   }\\n&quot; +\n            ']';\n\n    Gson gson = new GsonBuilder().registerTypeAdapter(LocalDateTime.class, (JsonDeserializer&lt;LocalDateTime&gt;) (json, type, jsonDeserializationContext) -&gt; {\n\n        try{\n            return LocalDateTime.parse(json.getAsJsonPrimitive().getAsString(), DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;));\n        } catch (DateTimeParseException e){\n            return LocalDateTime.parse(json.getAsJsonPrimitive().getAsString(), DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;));\n        }\n\n    }).create();\n\n    Type listType = new TypeToken&lt;ArrayList&lt;Agent&gt;&gt;() {}.getType();\n    ArrayList&lt;Agent&gt; agentList = gson.fromJson(jsonResponse, listType);\n\n    System.out.println(agentList);\n</code></pre>\n<p>and the Agent class</p>\n<pre><code>public class Agent {\n    private LocalDateTime DateTime;\n    private LocalDateTime Sim_StartDateTime;\n    private LocalDateTime LastAgentStrategyRun;\n\n    public LocalDateTime getDateTime() {\n        return DateTime;\n    }\n\n    public void setDateTime(LocalDateTime dateTime) {\n        DateTime = dateTime;\n    }\n\n    public LocalDateTime getSim_StartDateTime() {\n        return Sim_StartDateTime;\n    }\n\n    public void setSim_StartDateTime(LocalDateTime sim_StartDateTime) {\n        Sim_StartDateTime = sim_StartDateTime;\n    }\n\n    public LocalDateTime getLastAgentStrategyRun() {\n        return LastAgentStrategyRun;\n    }\n\n    public void setLastAgentStrategyRun(LocalDateTime lastAgentStrategyRun) {\n        LastAgentStrategyRun = lastAgentStrategyRun;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Agent{&quot; +\n                &quot;DateTime=&quot; + DateTime +\n                &quot;, Sim_StartDateTime=&quot; + Sim_StartDateTime +\n                &quot;, LastAgentStrategyRun=&quot; + LastAgentStrategyRun +\n                '}';\n    }\n}\n</code></pre>\n<p>and the output</p>\n<pre><code>[Agent{DateTime=2021-01-27T09:18, Sim_StartDateTime=2019-01-01T00:00, LastAgentStrategyRun=2020-12-19T17:40:30.531}]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611786485,"creation_date":1611784621,"answer_id":65928004,"question_id":65927589,"body_markdown":"You can use [GsonUtils][1]. But pay attention on the following issue: you have a **different** date/time format in this field. This is not correct, because to parse this filed, you have to set a date/time formatter with required template. I have changed formation in the `LastAgentStrategyRun` field and this is an example:\r\n\r\n```java\r\nString json = &quot;[\\n&quot; +\r\n        &quot;   {\\n&quot; +\r\n        &quot;      \\&quot;Id\\&quot;:\\&quot;8\\&quot;,\\n&quot; +\r\n        &quot;      \\&quot;MasterAgentId\\&quot;:\\&quot;0\\&quot;,\\n&quot; +\r\n        &quot;      \\&quot;LastAgentStrategyId\\&quot;:\\&quot;16116488969159\\&quot;,\\n&quot; +\r\n        &quot;      \\&quot;BotState\\&quot;:\\&quot;Active\\&quot;,\\n&quot; +\r\n        &quot;      \\&quot;Owner\\&quot;:\\&quot;Andre\\&quot;,\\n&quot; +\r\n        &quot;      \\&quot;ExtraNotifiers\\&quot;:\\&quot;\\&quot;,\\n&quot; +\r\n        &quot;      \\&quot;Exchange\\&quot;:\\&quot;lava\\&quot;,\\n&quot; +\r\n        &quot;      \\&quot;DateTime\\&quot;:\\&quot;2021-01-27 22:12:02\\&quot;,\\n&quot; +\r\n        &quot;      \\&quot;AgentStatus\\&quot;:\\&quot;Enabled\\&quot;,\\n&quot; +\r\n        &quot;      \\&quot;ProtectiveOrdersEnabled\\&quot;:\\&quot;yes\\&quot;,\\n&quot; +\r\n        &quot;      \\&quot;Sim_Progress\\&quot;:\\&quot;100\\&quot;,\\n&quot; +\r\n        &quot;      \\&quot;Sim_DateTime\\&quot;:\\&quot;2021-01-27 09:18:00\\&quot;,\\n&quot; +\r\n        &quot;      \\&quot;Sim_Coin\\&quot;:\\&quot;BTC\\&quot;,\\n&quot; +\r\n        &quot;      \\&quot;Sim_Price\\&quot;:\\&quot;31626.580000\\&quot;,\\n&quot; +\r\n        &quot;      \\&quot;Sim_Profit\\&quot;:\\&quot;1216.04\\&quot;,\\n&quot; +\r\n        &quot;      \\&quot;Sim_Profit_Perc\\&quot;:\\&quot;60.80\\&quot;,\\n&quot; +\r\n        &quot;      \\&quot;Sim_StartDateTime\\&quot;:\\&quot;2019-01-01 00:00:00\\&quot;,\\n&quot; +\r\n        &quot;      \\&quot;LastAgentStrategyRun\\&quot;:\\&quot;2020-12-19 17:40:30\\&quot;\\n&quot; +\r\n        &quot;   }\\n&quot; +\r\n        &#39;]&#39;;\r\n\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\nGsonDecorator gson = GsonHelper.createGsonDecorator(new GsonBuilderDecorator().withDateTimeFormatter(formatter));\r\nList&lt;Agent&gt; agent = gson.readList(json, Agent.class);\r\n```\r\n\r\n  [1]: https://github.com/oleg-cherednik/GsonUtils","title":"Java Deserialize JSON with datetime to object","body":"<p>You can use <a href=\"https://github.com/oleg-cherednik/GsonUtils\" rel=\"nofollow noreferrer\">GsonUtils</a>. But pay attention on the following issue: you have a <strong>different</strong> date/time format in this field. This is not correct, because to parse this filed, you have to set a date/time formatter with required template. I have changed formation in the <code>LastAgentStrategyRun</code> field and this is an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String json = &quot;[\\n&quot; +\n        &quot;   {\\n&quot; +\n        &quot;      \\&quot;Id\\&quot;:\\&quot;8\\&quot;,\\n&quot; +\n        &quot;      \\&quot;MasterAgentId\\&quot;:\\&quot;0\\&quot;,\\n&quot; +\n        &quot;      \\&quot;LastAgentStrategyId\\&quot;:\\&quot;16116488969159\\&quot;,\\n&quot; +\n        &quot;      \\&quot;BotState\\&quot;:\\&quot;Active\\&quot;,\\n&quot; +\n        &quot;      \\&quot;Owner\\&quot;:\\&quot;Andre\\&quot;,\\n&quot; +\n        &quot;      \\&quot;ExtraNotifiers\\&quot;:\\&quot;\\&quot;,\\n&quot; +\n        &quot;      \\&quot;Exchange\\&quot;:\\&quot;lava\\&quot;,\\n&quot; +\n        &quot;      \\&quot;DateTime\\&quot;:\\&quot;2021-01-27 22:12:02\\&quot;,\\n&quot; +\n        &quot;      \\&quot;AgentStatus\\&quot;:\\&quot;Enabled\\&quot;,\\n&quot; +\n        &quot;      \\&quot;ProtectiveOrdersEnabled\\&quot;:\\&quot;yes\\&quot;,\\n&quot; +\n        &quot;      \\&quot;Sim_Progress\\&quot;:\\&quot;100\\&quot;,\\n&quot; +\n        &quot;      \\&quot;Sim_DateTime\\&quot;:\\&quot;2021-01-27 09:18:00\\&quot;,\\n&quot; +\n        &quot;      \\&quot;Sim_Coin\\&quot;:\\&quot;BTC\\&quot;,\\n&quot; +\n        &quot;      \\&quot;Sim_Price\\&quot;:\\&quot;31626.580000\\&quot;,\\n&quot; +\n        &quot;      \\&quot;Sim_Profit\\&quot;:\\&quot;1216.04\\&quot;,\\n&quot; +\n        &quot;      \\&quot;Sim_Profit_Perc\\&quot;:\\&quot;60.80\\&quot;,\\n&quot; +\n        &quot;      \\&quot;Sim_StartDateTime\\&quot;:\\&quot;2019-01-01 00:00:00\\&quot;,\\n&quot; +\n        &quot;      \\&quot;LastAgentStrategyRun\\&quot;:\\&quot;2020-12-19 17:40:30\\&quot;\\n&quot; +\n        &quot;   }\\n&quot; +\n        ']';\n\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\nGsonDecorator gson = GsonHelper.createGsonDecorator(new GsonBuilderDecorator().withDateTimeFormatter(formatter));\nList&lt;Agent&gt; agent = gson.readList(json, Agent.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":961123,"reputation":1866,"user_id":985457,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655327036,"creation_date":1655327036,"answer_id":72637809,"question_id":65927589,"body_markdown":"Sometimes we have to define both Serializer and Deserializer.  \r\nExample\r\n\r\n    Gson gson = new GsonBuilder()\r\n    .registerTypeAdapter(LocalDateTime.class, (JsonSerializer&lt;LocalDateTime&gt;) (value, type, context) -&gt;\r\n        new JsonPrimitive(value.format(DateTimeFormatter.ISO_DATE_TIME))\r\n    )\r\n    .registerTypeAdapter(LocalDateTime.class, (JsonDeserializer&lt;LocalDateTime&gt;) (jsonElement, type, context) -&gt;\r\n            LocalDateTime.parse(jsonElement.getAsJsonPrimitive().getAsString(), DateTimeFormatter.ISO_DATE_TIME)\r\n    )\r\n    .create();","title":"Java Deserialize JSON with datetime to object","body":"<p>Sometimes we have to define both Serializer and Deserializer.<br />\nExample</p>\n<pre><code>Gson gson = new GsonBuilder()\n.registerTypeAdapter(LocalDateTime.class, (JsonSerializer&lt;LocalDateTime&gt;) (value, type, context) -&gt;\n    new JsonPrimitive(value.format(DateTimeFormatter.ISO_DATE_TIME))\n)\n.registerTypeAdapter(LocalDateTime.class, (JsonDeserializer&lt;LocalDateTime&gt;) (jsonElement, type, context) -&gt;\n        LocalDateTime.parse(jsonElement.getAsJsonPrimitive().getAsString(), DateTimeFormatter.ISO_DATE_TIME)\n)\n.create();\n</code></pre>\n"}],"owner":{"account_id":12655916,"reputation":852,"user_id":10673107,"display_name":"A. Vreeswijk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6815,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":65927689,"answer_count":3,"score":4,"last_activity_date":1655327036,"creation_date":1611782476,"question_id":65927589,"body_markdown":"I have a problem. I have the following JSON:\r\n\r\n\r\n    [\r\n       {\r\n          &quot;Id&quot;:&quot;8&quot;,\r\n          &quot;MasterAgentId&quot;:&quot;0&quot;,\r\n          &quot;LastAgentStrategyId&quot;:&quot;16116488969159&quot;,\r\n          &quot;BotState&quot;:&quot;Active&quot;,\r\n          &quot;Owner&quot;:&quot;Andre&quot;,\r\n          &quot;ExtraNotifiers&quot;:&quot;&quot;,\r\n          &quot;Exchange&quot;:&quot;lava&quot;,\r\n          &quot;DateTime&quot;:&quot;2021-01-27 22:12:02&quot;,\r\n          &quot;AgentStatus&quot;:&quot;Enabled&quot;,\r\n          &quot;ProtectiveOrdersEnabled&quot;:&quot;yes&quot;,\r\n          &quot;Sim_Progress&quot;:&quot;100&quot;,\r\n          &quot;Sim_DateTime&quot;:&quot;2021-01-27 09:18:00&quot;,\r\n          &quot;Sim_Coin&quot;:&quot;BTC&quot;,\r\n          &quot;Sim_Price&quot;:&quot;31626.580000&quot;,\r\n          &quot;Sim_Profit&quot;:&quot;1216.04&quot;,\r\n          &quot;Sim_Profit_Perc&quot;:&quot;60.80&quot;,\r\n          &quot;Sim_StartDateTime&quot;:&quot;2019-01-01 00:00:00&quot;,\r\n          &quot;LastAgentStrategyRun&quot;:&quot;2020-12-19 17:40:30.531000&quot;\r\n       }\r\n    ]\r\n\r\nAs you can see I have 4 DateTimes in the JSON: `DateTime, Sim_DateTime, Sim_StartDateTime, LastAgentStrategyRun`\r\n\r\nNow I created a class for this that looks like this:\r\n\r\n    import java.time.LocalDateTime;\r\n    \r\n    public class Agent {\r\n    \r\n        private int Id;\r\n        private int MasterAgentId;\r\n        private long LastAgentStrategyId;\r\n        private AgentBotState BotState;\r\n        private String Owner;\r\n        private String ExtraNotifiers;\r\n        private AgentExchanges Exchange;\r\n        private LocalDateTime DateTime;\r\n        private AgentStatus AgentStatus;\r\n        private String ProtectiveOrdersEnabled;\r\n        private String Sim_Progress;\r\n        private String Sim_DateTime;\r\n        private String Sim_Coin;\r\n        private double Sim_Price;\r\n        private double Sim_Profit;\r\n        private double Sim_Profit_Perc;\r\n        private LocalDateTime Sim_StartDateTime;\r\n        private LocalDateTime LastAgentStrategyRun;\r\n    }\r\n\r\nBut when I deserialize the json using GSON:\r\n\r\n    Gson gson = new Gson();\r\n    Type listType = new TypeToken&lt;ArrayList&lt;Agent&gt;&gt;() {}.getType();\r\n    ArrayList&lt;Agent&gt; agentList = new Gson().fromJson(jsonResponse, listType);\r\n\r\nI get the following error:\r\n\r\nBut the code crashes with the following error:\r\n\r\n    Exception in thread &quot;main&quot; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 157 path $[0].DateTime\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:200)\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.read(ReflectiveTypeAdapterFactory.java:103)\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:196)\r\n    \tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40)\r\n    \tat com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:81)\r\n    \tat com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:60)\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:810)\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:775)\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:724)\r\n    \tat com.company.Main.main(Main.java:34)\r\n    Caused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 157 path $[0].DateTime\r\n    \tat com.google.gson.stream.JsonReader.beginObject(JsonReader.java:387)\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:189)\r\n    \t... 9 more\r\n\r\nNow when I remove all the datetimes from the json, it parses correctly with only a few weird warning:\r\n\r\n&gt; WARNING: An illegal reflective access operation has occurred WARNING:\r\n&gt; Illegal reflective access by\r\n&gt; com.google.gson.internal.bind.ReflectiveTypeAdapterFactory\r\n&gt; (file:/C:/Users/Alexander/.m2/repository/com/google/code/gson/gson/2.3.1/gson-2.3.1.jar)\r\n&gt; to field java.time.LocalDateTime.date WARNING: Please consider\r\n&gt; reporting this to the maintainers of\r\n&gt; com.google.gson.internal.bind.ReflectiveTypeAdapterFactory WARNING:\r\n&gt; Use --illegal-access=warn to enable warnings of further illegal\r\n&gt; reflective access operations WARNING: All illegal access operations\r\n&gt; will be denied in a future release\r\n\r\nHow can I parse a datetime string to an object and how can I get rid of the warnings?\r\n\r\n## UPDATE ##\r\n\r\nAfther using the following code:\r\n\r\n    Gson gson = new GsonBuilder().registerTypeAdapter(LocalDateTime.class, (JsonDeserializer&lt;LocalDateTime&gt;) (json, type, jsonDeserializationContext) -&gt; {\r\n        Instant instant = Instant.ofEpochMilli(json.getAsJsonPrimitive().getAsLong());\r\n        return LocalDateTime.ofInstant(instant, ZoneId.systemDefault());\r\n    }).create();\r\n    \r\n    Type listType = new TypeToken&lt;ArrayList&lt;Agent&gt;&gt;() {}.getType();\r\n    ArrayList&lt;Agent&gt; agentList = gson.fromJson(jsonResponse, listType);\r\n\r\nI get this error now:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;2021-01-27 22:56:01&quot;\r\n    \tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:68)\r\n    \tat java.base/java.lang.Long.parseLong(Long.java:707)\r\n    \tat java.base/java.lang.Long.parseLong(Long.java:832)\r\n    \tat com.google.gson.JsonPrimitive.getAsLong(JsonPrimitive.java:238)\r\n    \tat com.company.Main.lambda$main$0(Main.java:35)\r\n    \tat com.google.gson.TreeTypeAdapter.read(TreeTypeAdapter.java:58)\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.read(ReflectiveTypeAdapterFactory.java:103)\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:196)\r\n    \tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40)\r\n    \tat com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:81)\r\n    \tat com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:60)\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:810)\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:775)\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:724)\r\n    \tat com.company.Main.main(Main.java:40)\r\n\r\n\r\n","title":"Java Deserialize JSON with datetime to object","body":"<p>I have a problem. I have the following JSON:</p>\n<pre><code>[\n   {\n      &quot;Id&quot;:&quot;8&quot;,\n      &quot;MasterAgentId&quot;:&quot;0&quot;,\n      &quot;LastAgentStrategyId&quot;:&quot;16116488969159&quot;,\n      &quot;BotState&quot;:&quot;Active&quot;,\n      &quot;Owner&quot;:&quot;Andre&quot;,\n      &quot;ExtraNotifiers&quot;:&quot;&quot;,\n      &quot;Exchange&quot;:&quot;lava&quot;,\n      &quot;DateTime&quot;:&quot;2021-01-27 22:12:02&quot;,\n      &quot;AgentStatus&quot;:&quot;Enabled&quot;,\n      &quot;ProtectiveOrdersEnabled&quot;:&quot;yes&quot;,\n      &quot;Sim_Progress&quot;:&quot;100&quot;,\n      &quot;Sim_DateTime&quot;:&quot;2021-01-27 09:18:00&quot;,\n      &quot;Sim_Coin&quot;:&quot;BTC&quot;,\n      &quot;Sim_Price&quot;:&quot;31626.580000&quot;,\n      &quot;Sim_Profit&quot;:&quot;1216.04&quot;,\n      &quot;Sim_Profit_Perc&quot;:&quot;60.80&quot;,\n      &quot;Sim_StartDateTime&quot;:&quot;2019-01-01 00:00:00&quot;,\n      &quot;LastAgentStrategyRun&quot;:&quot;2020-12-19 17:40:30.531000&quot;\n   }\n]\n</code></pre>\n<p>As you can see I have 4 DateTimes in the JSON: <code>DateTime, Sim_DateTime, Sim_StartDateTime, LastAgentStrategyRun</code></p>\n<p>Now I created a class for this that looks like this:</p>\n<pre><code>import java.time.LocalDateTime;\n\npublic class Agent {\n\n    private int Id;\n    private int MasterAgentId;\n    private long LastAgentStrategyId;\n    private AgentBotState BotState;\n    private String Owner;\n    private String ExtraNotifiers;\n    private AgentExchanges Exchange;\n    private LocalDateTime DateTime;\n    private AgentStatus AgentStatus;\n    private String ProtectiveOrdersEnabled;\n    private String Sim_Progress;\n    private String Sim_DateTime;\n    private String Sim_Coin;\n    private double Sim_Price;\n    private double Sim_Profit;\n    private double Sim_Profit_Perc;\n    private LocalDateTime Sim_StartDateTime;\n    private LocalDateTime LastAgentStrategyRun;\n}\n</code></pre>\n<p>But when I deserialize the json using GSON:</p>\n<pre><code>Gson gson = new Gson();\nType listType = new TypeToken&lt;ArrayList&lt;Agent&gt;&gt;() {}.getType();\nArrayList&lt;Agent&gt; agentList = new Gson().fromJson(jsonResponse, listType);\n</code></pre>\n<p>I get the following error:</p>\n<p>But the code crashes with the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 157 path $[0].DateTime\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:200)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.read(ReflectiveTypeAdapterFactory.java:103)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:196)\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40)\n    at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:81)\n    at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:60)\n    at com.google.gson.Gson.fromJson(Gson.java:810)\n    at com.google.gson.Gson.fromJson(Gson.java:775)\n    at com.google.gson.Gson.fromJson(Gson.java:724)\n    at com.company.Main.main(Main.java:34)\nCaused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 157 path $[0].DateTime\n    at com.google.gson.stream.JsonReader.beginObject(JsonReader.java:387)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:189)\n    ... 9 more\n</code></pre>\n<p>Now when I remove all the datetimes from the json, it parses correctly with only a few weird warning:</p>\n<blockquote>\n<p>WARNING: An illegal reflective access operation has occurred WARNING:\nIllegal reflective access by\ncom.google.gson.internal.bind.ReflectiveTypeAdapterFactory\n(file:/C:/Users/Alexander/.m2/repository/com/google/code/gson/gson/2.3.1/gson-2.3.1.jar)\nto field java.time.LocalDateTime.date WARNING: Please consider\nreporting this to the maintainers of\ncom.google.gson.internal.bind.ReflectiveTypeAdapterFactory WARNING:\nUse --illegal-access=warn to enable warnings of further illegal\nreflective access operations WARNING: All illegal access operations\nwill be denied in a future release</p>\n</blockquote>\n<p>How can I parse a datetime string to an object and how can I get rid of the warnings?</p>\n<h2>UPDATE</h2>\n<p>Afther using the following code:</p>\n<pre><code>Gson gson = new GsonBuilder().registerTypeAdapter(LocalDateTime.class, (JsonDeserializer&lt;LocalDateTime&gt;) (json, type, jsonDeserializationContext) -&gt; {\n    Instant instant = Instant.ofEpochMilli(json.getAsJsonPrimitive().getAsLong());\n    return LocalDateTime.ofInstant(instant, ZoneId.systemDefault());\n}).create();\n\nType listType = new TypeToken&lt;ArrayList&lt;Agent&gt;&gt;() {}.getType();\nArrayList&lt;Agent&gt; agentList = gson.fromJson(jsonResponse, listType);\n</code></pre>\n<p>I get this error now:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;2021-01-27 22:56:01&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:68)\n    at java.base/java.lang.Long.parseLong(Long.java:707)\n    at java.base/java.lang.Long.parseLong(Long.java:832)\n    at com.google.gson.JsonPrimitive.getAsLong(JsonPrimitive.java:238)\n    at com.company.Main.lambda$main$0(Main.java:35)\n    at com.google.gson.TreeTypeAdapter.read(TreeTypeAdapter.java:58)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.read(ReflectiveTypeAdapterFactory.java:103)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:196)\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40)\n    at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:81)\n    at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:60)\n    at com.google.gson.Gson.fromJson(Gson.java:810)\n    at com.google.gson.Gson.fromJson(Gson.java:775)\n    at com.google.gson.Gson.fromJson(Gson.java:724)\n    at com.company.Main.main(Main.java:40)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","spring-thymeleaf"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1655306353,"post_id":72633727,"comment_id":128302595,"body_markdown":"Can you explain what exactly is not working?","body":"Can you explain what exactly is not working?"},{"owner":{"account_id":25563462,"reputation":3,"user_id":19345697,"display_name":"Dominus Nox"},"score":0,"creation_date":1655307170,"post_id":72633727,"comment_id":128302946,"body_markdown":"Form submission is not happening at all. And I get no errors.","body":"Form submission is not happening at all. And I get no errors."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1655307424,"post_id":72633727,"comment_id":128303060,"body_markdown":"You are using `th:taglib` and `form:form` which I have never seen in the context of Thymeleaf. Are you sure that is ok? Where did you get that information from? Can you try with a simple `&lt;form&gt;` tag? See [Form handling with Thymeleaf](https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/) for some background on form submission with Thymeleaf.","body":"You are using <code>th:taglib</code> and <code>form:form</code> which I have never seen in the context of Thymeleaf. Are you sure that is ok? Where did you get that information from? Can you try with a simple <code>&lt;form&gt;</code> tag? See <a href=\"https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/\" rel=\"nofollow noreferrer\">Form handling with Thymeleaf</a> for some background on form submission with Thymeleaf."},{"owner":{"account_id":25563462,"reputation":3,"user_id":19345697,"display_name":"Dominus Nox"},"score":0,"creation_date":1655317274,"post_id":72633727,"comment_id":128306501,"body_markdown":"Problem solved, thank you. th:taglib and form:form caused the trouble, now it works as it should.","body":"Problem solved, thank you. th:taglib and form:form caused the trouble, now it works as it should."}],"answers":[{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655324232,"creation_date":1655324232,"answer_id":72637365,"question_id":72633727,"body_markdown":"Remove the use of `th:taglib` and `form:form` and use a normal HTML `&lt;form&gt;`.","title":"Submit button doesn&#39;t work in spring boot","body":"<p>Remove the use of <code>th:taglib</code> and <code>form:form</code> and use a normal HTML <code>&lt;form&gt;</code>.</p>\n"}],"owner":{"account_id":25563462,"reputation":3,"user_id":19345697,"display_name":"Dominus Nox"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72637365,"answer_count":1,"score":0,"last_activity_date":1655326782,"creation_date":1655305487,"question_id":72633727,"body_markdown":"I have MVC project on Spring Boot that suppose to do CRUD operations. Basically it has two models, which represents Forum Theme and Article of this Theme. And I want to add new Themes or Articles. Now I stuck on submitting form data, managed with POST request.\r\nMy controller:\r\n\r\n    @Controller\r\n    public class forumController {\r\n    \r\n        @Autowired\r\n        private themeRepository themeRepository;\r\n    \r\n        @Autowired\r\n        private articleRepository articleRepository;\r\n    \r\n        @GetMapping(&quot;/forum&quot;)\r\n        public String blogMain(Model model) {\r\n            Iterable&lt;ThemeModel&gt; themes = themeRepository.findAll();\r\n            model.addAttribute(&quot;themes&quot;, themes);\r\n            return &quot;blogMain&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/guest&quot;)\r\n        public String guestMain(Model model) {\r\n            Iterable&lt;ThemeModel&gt; themes = themeRepository.findAll();\r\n            model.addAttribute(&quot;themes&quot;, themes);\r\n            return &quot;blogMain&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/guest/{id}&quot;)\r\n        public String readTheme(@PathVariable(value = &quot;id&quot;) Long id, Model model) {\r\n            Optional&lt;ThemeModel&gt; theme = themeRepository.findById(id);\r\n            ArrayList&lt;ThemeModel&gt; result = new ArrayList&lt;&gt;();\r\n            theme.ifPresent(result::add);\r\n            model.addAttribute(&quot;theme&quot;, result);\r\n            return &quot;readTheme&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/user&quot;)\r\n        public String userMain(Model model) {\r\n            Iterable&lt;ThemeModel&gt; themes = themeRepository.findAll();\r\n            model.addAttribute(&quot;themes&quot;, themes);\r\n            return &quot;userMain&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/user/{id}&quot;)\r\n        public String userReadTheme(@PathVariable(value = &quot;id&quot;) Long id, Model model) {\r\n            Optional&lt;ThemeModel&gt; theme = themeRepository.findById(id);\r\n            ArrayList&lt;ThemeModel&gt; result = new ArrayList&lt;&gt;();\r\n            theme.ifPresent(result::add);\r\n            model.addAttribute(&quot;theme&quot;, result);\r\n            return &quot;userReadTheme&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/user/addArticle/{id}&quot;)\r\n        public String userAddArticle(@PathVariable(value = &quot;id&quot;) Long id, Model model) {\r\n    \r\n            return &quot;userAddArticle&quot;;\r\n        }\r\n    \r\n        @PostMapping(&quot;/user/addArticle/{id}&quot;)\r\n        public String userAddArticlePost(@PathVariable(value = &quot;id&quot;) Long id, @RequestParam String full_text, Model model) {\r\n            ArticleModel article = new ArticleModel(full_text);\r\n            articleRepository.save(article);\r\n            ThemeModel thisTheme = themeRepository.findById(id).orElseThrow();\r\n            thisTheme.getArticles().add(article);\r\n            themeRepository.save(thisTheme);\r\n    \r\n            return &quot;redirect:/user/{id}&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/admin&quot;)\r\n        public String adminMain(Model model) {\r\n            Iterable&lt;ThemeModel&gt; themes = themeRepository.findAll();\r\n            model.addAttribute(&quot;themes&quot;, themes);\r\n            return &quot;adminMain&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/admin/addTheme&quot;)\r\n        public String addTheme(Model model) {\r\n            return &quot;adminAddTheme&quot;;\r\n        }\r\n    \r\n        @PostMapping(&quot;/admin/addTheme&quot;)\r\n        public String addPostTheme(@RequestParam(&quot;heading&quot;) String heading, @RequestParam(&quot;description&quot;) String description, Model model) {\r\n    \r\n            ThemeModel theme = new ThemeModel(heading, description);\r\n            themeRepository.save(theme);\r\n    \r\n            return &quot;redirect:/admin&quot;;\r\n        }\r\n    }\r\n\r\nTemplate to add theme:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css&quot;&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h1 class=&quot;text-muted p-2 mt-1&quot;&gt;Додати нову тему&lt;/h1&gt;\r\n&lt;div class=&quot;container mt-5&quot;&gt;\r\n    &lt;th:taglib uri=&quot;http://www.springframework.org/tags/form&quot; prefix=&quot;form&quot; /&gt;\r\n    &lt;form:form action=&quot;#&quot; th:action=&quot;@{/admin/addTheme}&quot; th:object=&quot;${theme}&quot; method=&quot;post&quot;&gt;\r\n\r\n        &lt;input type=&quot;text&quot; name=&quot;heading&quot; placeholder=&quot;Введіть заголовок...&quot; class=&quot;form-control mb-2&quot;/&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;description&quot; placeholder=&quot;Введіть опис...&quot; class=&quot;form-control mb-2&quot;/&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;Опублікувати&quot; class=&quot;btn btn-info mt-2&quot;/&gt;\r\n    &lt;/form:form&gt;\r\n    &lt;a href=&quot;/admin&quot; class=&quot;btn btn-secondary mt-2&quot;&gt;Скасувати&lt;/a&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nTemplate to add Article:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css&quot;&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;h1 class=&quot;text-muted p-2 mt-1&quot;&gt;Додати допис&lt;/h1&gt;\r\n    &lt;div class=&quot;container mt-5&quot;&gt;\r\n        &lt;th:taglib uri=&quot;http://www.springframework.org/tags/form&quot; prefix=&quot;form&quot; /&gt;\r\n        &lt;form:form method=&quot;POST&quot;&gt;\r\n            &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot; /&gt;\r\n            &lt;textarea name=&quot;full_text&quot; placeholder=&quot;Введіть текст&quot; class=&quot;form-control&quot;&gt;&lt;/textarea&gt;\r\n            &lt;button type=&quot;submit&quot; class=&quot;btn btn-info mt-2&quot;&gt;Опублікувати&lt;/button&gt;\r\n            &lt;a href=&quot;/user&quot; class=&quot;btn btn-secondary mt-2&quot;&gt;Скасувати&lt;/a&gt;\r\n        &lt;/form:form&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nTheme Model:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;themes&quot;)\r\npublic class ThemeModel {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String heading, description;\r\n\r\n    public ThemeModel() {\r\n\r\n    }\r\n\r\n    public ThemeModel(String heading, String description) {\r\n        this.heading = heading;\r\n        this.description = description;\r\n    }\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;article_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    List&lt;ArticleModel&gt; articles = new ArrayList&lt;&gt;();\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getHeading() {\r\n        return heading;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public List&lt;ArticleModel&gt; getArticles() {\r\n        return articles;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public void setHeading(String heading) {\r\n        this.heading = heading;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public void setArticles(List&lt;ArticleModel&gt; articles) {\r\n        this.articles = articles;\r\n    }\r\n}\r\n```\r\nArticle Model:\r\n```\r\n@Entity\r\n@Table(name=&quot;articles&quot;)\r\npublic class ArticleModel {\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String full_text;\r\n\r\n    public ArticleModel() {\r\n\r\n    }\r\n\r\n    public ArticleModel(String full_text) {\r\n        super();\r\n        this.full_text = full_text;\r\n\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getFull_text() {\r\n        return full_text;\r\n    }\r\n\r\n    public void setFull_text(String full_text) {\r\n        this.full_text = full_text;\r\n    }\r\n}\r\n```","title":"Submit button doesn&#39;t work in spring boot","body":"<p>I have MVC project on Spring Boot that suppose to do CRUD operations. Basically it has two models, which represents Forum Theme and Article of this Theme. And I want to add new Themes or Articles. Now I stuck on submitting form data, managed with POST request.\nMy controller:</p>\n<pre><code>@Controller\npublic class forumController {\n\n    @Autowired\n    private themeRepository themeRepository;\n\n    @Autowired\n    private articleRepository articleRepository;\n\n    @GetMapping(&quot;/forum&quot;)\n    public String blogMain(Model model) {\n        Iterable&lt;ThemeModel&gt; themes = themeRepository.findAll();\n        model.addAttribute(&quot;themes&quot;, themes);\n        return &quot;blogMain&quot;;\n    }\n\n    @GetMapping(&quot;/guest&quot;)\n    public String guestMain(Model model) {\n        Iterable&lt;ThemeModel&gt; themes = themeRepository.findAll();\n        model.addAttribute(&quot;themes&quot;, themes);\n        return &quot;blogMain&quot;;\n    }\n\n    @GetMapping(&quot;/guest/{id}&quot;)\n    public String readTheme(@PathVariable(value = &quot;id&quot;) Long id, Model model) {\n        Optional&lt;ThemeModel&gt; theme = themeRepository.findById(id);\n        ArrayList&lt;ThemeModel&gt; result = new ArrayList&lt;&gt;();\n        theme.ifPresent(result::add);\n        model.addAttribute(&quot;theme&quot;, result);\n        return &quot;readTheme&quot;;\n    }\n\n    @GetMapping(&quot;/user&quot;)\n    public String userMain(Model model) {\n        Iterable&lt;ThemeModel&gt; themes = themeRepository.findAll();\n        model.addAttribute(&quot;themes&quot;, themes);\n        return &quot;userMain&quot;;\n    }\n\n    @GetMapping(&quot;/user/{id}&quot;)\n    public String userReadTheme(@PathVariable(value = &quot;id&quot;) Long id, Model model) {\n        Optional&lt;ThemeModel&gt; theme = themeRepository.findById(id);\n        ArrayList&lt;ThemeModel&gt; result = new ArrayList&lt;&gt;();\n        theme.ifPresent(result::add);\n        model.addAttribute(&quot;theme&quot;, result);\n        return &quot;userReadTheme&quot;;\n    }\n\n    @GetMapping(&quot;/user/addArticle/{id}&quot;)\n    public String userAddArticle(@PathVariable(value = &quot;id&quot;) Long id, Model model) {\n\n        return &quot;userAddArticle&quot;;\n    }\n\n    @PostMapping(&quot;/user/addArticle/{id}&quot;)\n    public String userAddArticlePost(@PathVariable(value = &quot;id&quot;) Long id, @RequestParam String full_text, Model model) {\n        ArticleModel article = new ArticleModel(full_text);\n        articleRepository.save(article);\n        ThemeModel thisTheme = themeRepository.findById(id).orElseThrow();\n        thisTheme.getArticles().add(article);\n        themeRepository.save(thisTheme);\n\n        return &quot;redirect:/user/{id}&quot;;\n    }\n\n    @GetMapping(&quot;/admin&quot;)\n    public String adminMain(Model model) {\n        Iterable&lt;ThemeModel&gt; themes = themeRepository.findAll();\n        model.addAttribute(&quot;themes&quot;, themes);\n        return &quot;adminMain&quot;;\n    }\n\n    @GetMapping(&quot;/admin/addTheme&quot;)\n    public String addTheme(Model model) {\n        return &quot;adminAddTheme&quot;;\n    }\n\n    @PostMapping(&quot;/admin/addTheme&quot;)\n    public String addPostTheme(@RequestParam(&quot;heading&quot;) String heading, @RequestParam(&quot;description&quot;) String description, Model model) {\n\n        ThemeModel theme = new ThemeModel(heading, description);\n        themeRepository.save(theme);\n\n        return &quot;redirect:/admin&quot;;\n    }\n}\n</code></pre>\n<p>Template to add theme:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1 class=&quot;text-muted p-2 mt-1&quot;&gt;Додати нову тему&lt;/h1&gt;\n&lt;div class=&quot;container mt-5&quot;&gt;\n    &lt;th:taglib uri=&quot;http://www.springframework.org/tags/form&quot; prefix=&quot;form&quot; /&gt;\n    &lt;form:form action=&quot;#&quot; th:action=&quot;@{/admin/addTheme}&quot; th:object=&quot;${theme}&quot; method=&quot;post&quot;&gt;\n\n        &lt;input type=&quot;text&quot; name=&quot;heading&quot; placeholder=&quot;Введіть заголовок...&quot; class=&quot;form-control mb-2&quot;/&gt;\n        &lt;input type=&quot;text&quot; name=&quot;description&quot; placeholder=&quot;Введіть опис...&quot; class=&quot;form-control mb-2&quot;/&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;Опублікувати&quot; class=&quot;btn btn-info mt-2&quot;/&gt;\n    &lt;/form:form&gt;\n    &lt;a href=&quot;/admin&quot; class=&quot;btn btn-secondary mt-2&quot;&gt;Скасувати&lt;/a&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Template to add Article:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1 class=&quot;text-muted p-2 mt-1&quot;&gt;Додати допис&lt;/h1&gt;\n    &lt;div class=&quot;container mt-5&quot;&gt;\n        &lt;th:taglib uri=&quot;http://www.springframework.org/tags/form&quot; prefix=&quot;form&quot; /&gt;\n        &lt;form:form method=&quot;POST&quot;&gt;\n            &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot; /&gt;\n            &lt;textarea name=&quot;full_text&quot; placeholder=&quot;Введіть текст&quot; class=&quot;form-control&quot;&gt;&lt;/textarea&gt;\n            &lt;button type=&quot;submit&quot; class=&quot;btn btn-info mt-2&quot;&gt;Опублікувати&lt;/button&gt;\n            &lt;a href=&quot;/user&quot; class=&quot;btn btn-secondary mt-2&quot;&gt;Скасувати&lt;/a&gt;\n        &lt;/form:form&gt;\n    &lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Theme Model:</p>\n<pre><code>@Entity\n@Table(name = &quot;themes&quot;)\npublic class ThemeModel {\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private Long id;\n\n    private String heading, description;\n\n    public ThemeModel() {\n\n    }\n\n    public ThemeModel(String heading, String description) {\n        this.heading = heading;\n        this.description = description;\n    }\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;article_id&quot;, referencedColumnName = &quot;id&quot;)\n    List&lt;ArticleModel&gt; articles = new ArrayList&lt;&gt;();\n\n    public Long getId() {\n        return id;\n    }\n\n    public String getHeading() {\n        return heading;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public List&lt;ArticleModel&gt; getArticles() {\n        return articles;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public void setHeading(String heading) {\n        this.heading = heading;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public void setArticles(List&lt;ArticleModel&gt; articles) {\n        this.articles = articles;\n    }\n}\n</code></pre>\n<p>Article Model:</p>\n<pre><code>@Entity\n@Table(name=&quot;articles&quot;)\npublic class ArticleModel {\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private Long id;\n\n    private String full_text;\n\n    public ArticleModel() {\n\n    }\n\n    public ArticleModel(String full_text) {\n        super();\n        this.full_text = full_text;\n\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getFull_text() {\n        return full_text;\n    }\n\n    public void setFull_text(String full_text) {\n        this.full_text = full_text;\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1655326341,"post_id":72637564,"comment_id":128309444,"body_markdown":"Java always compiles to bytecode, but this bytecode  is then interpreted by a JVM (Java virtual machine) that is implemented to work specifically on the target platform. For example, if in java you ask to read a file, the bytecode will always be the same instruction to read a file. However, the target JVM which runs this instruction will adapt the actual operation of reading the file differently if it runs on Windows rather than if it runs on Linux or any other OS such as Android.","body":"Java always compiles to bytecode, but this bytecode  is then interpreted by a JVM (Java virtual machine) that is implemented to work specifically on the target platform. For example, if in java you ask to read a file, the bytecode will always be the same instruction to read a file. However, the target JVM which runs this instruction will adapt the actual operation of reading the file differently if it runs on Windows rather than if it runs on Linux or any other OS such as Android."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1655326603,"post_id":72637564,"comment_id":128309513,"body_markdown":"That&#39;s why you can write java source code, compile it into a jar and run that jar anywhere. It will be the specific JVM (made differently for each platform) handling the adaptation of those operations to the target OS, unlike other languages such as C++ for which the compiled .exe will be specific to the platform it is compiled on and can&#39;t be used into a different platform.","body":"That&#39;s why you can write java source code, compile it into a jar and run that jar anywhere. It will be the specific JVM (made differently for each platform) handling the adaptation of those operations to the target OS, unlike other languages such as C++ for which the compiled .exe will be specific to the platform it is compiled on and can&#39;t be used into a different platform."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655326744,"creation_date":1655326744,"answer_id":72637753,"question_id":72637564,"body_markdown":"Android does use bytecode, but it doesn&#39;t use JVM bytecode, or jars.  It uses the [dex format](https://source.android.com/devices/tech/dalvik).  The Android device may do some amount of AOT and JIT compilation, as discussed [here](https://source.android.com/devices/tech/dalvik/configure).","title":"Does Java in Android compiles to machine code?","body":"<p>Android does use bytecode, but it doesn't use JVM bytecode, or jars.  It uses the <a href=\"https://source.android.com/devices/tech/dalvik\" rel=\"nofollow noreferrer\">dex format</a>.  The Android device may do some amount of AOT and JIT compilation, as discussed <a href=\"https://source.android.com/devices/tech/dalvik/configure\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":25040985,"reputation":71,"user_id":19347688,"display_name":"Steven"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1655326744,"creation_date":1655325531,"question_id":72637564,"body_markdown":"Based on my understanding, Java compiles to bytecode, but when compiling a Java program for Android, does Java compile to bytecode or to machine code?","title":"Does Java in Android compiles to machine code?","body":"<p>Based on my understanding, Java compiles to bytecode, but when compiling a Java program for Android, does Java compile to bytecode or to machine code?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":6,"creation_date":1427471928,"post_id":29304965,"comment_id":46804339,"body_markdown":"Why don&#39;t you pass it to the constructor which saves it in a field and uses it in its methods?","body":"Why don&#39;t you pass it to the constructor which saves it in a field and uses it in its methods?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":5,"creation_date":1427472037,"post_id":29304965,"comment_id":46804416,"body_markdown":"Side recommendation: Don&#39;t extend Thread. Instead implement Runnable.","body":"Side recommendation: Don&#39;t extend Thread. Instead implement Runnable."},{"owner":{"account_id":2711115,"reputation":2323,"user_id":2339551,"accept_rate":83,"display_name":"lodo"},"score":0,"creation_date":1427473826,"post_id":29304965,"comment_id":46805549,"body_markdown":"@umer If any of the answers is the right one for you, please mark it as accepted, so that other users know that this is not an open issue anymore.","body":"@umer If any of the answers is the right one for you, please mark it as accepted, so that other users know that this is not an open issue anymore."}],"answers":[{"tags":[],"owner":{"account_id":2711115,"reputation":2323,"user_id":2339551,"accept_rate":83,"display_name":"lodo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1427472318,"creation_date":1427472318,"answer_id":29305108,"question_id":29304965,"body_markdown":"Use a constructor and an instance field:\r\n\r\n    public class Thread1 extends Thread {\r\n\r\n        private int[] array;\r\n\r\n        public Thread1(int[] array)\r\n        {\r\n            this.array=array;\r\n        }\r\n    \r\n        public void run()\r\n        {\r\n            // use array here.\r\n\r\n        }\r\n\r\n    }\r\n\r\nAnd to call it:\r\n\r\n    Thread1 th=new Thread1(array);\r\n    th.start();","title":"How to pass array to thread in java?","body":"<p>Use a constructor and an instance field:</p>\n\n<pre><code>public class Thread1 extends Thread {\n\n    private int[] array;\n\n    public Thread1(int[] array)\n    {\n        this.array=array;\n    }\n\n    public void run()\n    {\n        // use array here.\n\n    }\n\n}\n</code></pre>\n\n<p>And to call it:</p>\n\n<pre><code>Thread1 th=new Thread1(array);\nth.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5987586,"reputation":682,"user_id":4704677,"display_name":"MeshBoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427472338,"creation_date":1427472338,"answer_id":29305113,"question_id":29304965,"body_markdown":"    class Thread1 extends Thread{\r\n        int[] array;\r\n      Thread1(int[] myarray){\r\n      \r\n        this.array = myarray;\r\n  \r\n      }\r\n\r\n\r\n    }\r\n\r\n\r\nLike this pass to construcctor","title":"How to pass array to thread in java?","body":"<pre><code>class Thread1 extends Thread{\n    int[] array;\n  Thread1(int[] myarray){\n\n    this.array = myarray;\n\n  }\n\n\n}\n</code></pre>\n\n<p>Like this pass to construcctor</p>\n"},{"tags":[],"owner":{"account_id":4641717,"reputation":457,"user_id":3761365,"display_name":"BK Batchelor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427473575,"creation_date":1427473222,"answer_id":29305436,"question_id":29304965,"body_markdown":"You have to create a blocking queue that the thread will check periodically. A blocking queue allow you to modify the array during thread execution. It always a good practice when working with threaded applications is to use an datatype that only permit one thread access at a time.\r\n\r\n    private LinkedBlockingQueue&lt;Integer[]&gt; arrayQueue = new LinkedBlockingQueue&lt;Integer[]&gt;();\r\n    ...\r\n    public class Thread1 extends Thread {\r\n    \r\n        public void run()\r\n            {\r\n    \t\t\tint[] arrayPoll = arrayQueue.poll();\r\n            }\r\n    \r\n        }\r\n\r\n","title":"How to pass array to thread in java?","body":"<p>You have to create a blocking queue that the thread will check periodically. A blocking queue allow you to modify the array during thread execution. It always a good practice when working with threaded applications is to use an datatype that only permit one thread access at a time.</p>\n\n<pre><code>private LinkedBlockingQueue&lt;Integer[]&gt; arrayQueue = new LinkedBlockingQueue&lt;Integer[]&gt;();\n...\npublic class Thread1 extends Thread {\n\n    public void run()\n        {\n            int[] arrayPoll = arrayQueue.poll();\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4281907,"reputation":307,"user_id":3501003,"display_name":"Umesh Bhutada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655326473,"creation_date":1655326473,"answer_id":72637714,"question_id":29304965,"body_markdown":"#Person.Java#\r\n\r\n    import java.util.Objects;\r\n\r\n    public class Person implements Comparable {\r\n    String firstName;\r\n    String lastName;\r\n    Integer age;\r\n    Integer DOBYear;\r\n\r\n    public Person(String firstName, String lastName, Integer age, Integer DOBYear) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.age = age;\r\n        this.DOBYear = DOBYear;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public Integer getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(Integer age) {\r\n        this.age = age;\r\n    }\r\n\r\n    public Integer getDOBYear() {\r\n        return DOBYear;\r\n    }\r\n\r\n    public void setDOBYear(Integer DOBYear) {\r\n        this.DOBYear = DOBYear;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Person person = (Person) o;\r\n        return Objects.equals(firstName, person.firstName) &amp;&amp; Objects.equals(lastName, person.lastName) &amp;&amp; Objects.equals(age, person.age) &amp;&amp; Objects.equals(DOBYear, person.DOBYear);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(firstName, lastName, age, DOBYear);\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Object o) {\r\n        Person p = (Person) o;\r\n        return p.getAge() &gt; this.getAge() ? -1: p.getAge() == this.getAge() ? 0 : 1;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Person{&quot; +\r\n                &quot;firstName=&#39;&quot; + firstName + &#39;\\&#39;&#39; +\r\n                &quot;, lastName=&#39;&quot; + lastName + &#39;\\&#39;&#39; +\r\n                &quot;, age=&quot; + age +\r\n                &quot;, DOBYear=&quot; + DOBYear +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n#PersonNameComparator.Java#\r\n\r\n    import java.util.Comparator;\r\n\r\n    public class PersonNameComparator implements Comparator&lt;Person&gt; {\r\n\r\n\r\n    @Override\r\n    public int compare(Person o1, Person o2) {\r\n        return o1.getFirstName().compareTo(o2.getFirstName());\r\n    }\r\n}\r\n\r\n#PersonTest.java#\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n\r\n    public class PersonTest {\r\n    public static void main(String args[]){\r\n\r\n        System.out.println(&quot;Hello World&quot;);\r\n        Person p1 = new Person(&quot;Umesh&quot;,&quot;Bhutada&quot;,31,1991);\r\n        Person p2 = new Person(&quot;Deepali&quot;,&quot;Baheti&quot;,29,1992);\r\n        Person p3 = new Person(&quot;Romeet&quot;,&quot;Zanwar&quot;,5,2017);\r\n\r\n        ArrayList&lt;Person&gt; arr1 = new ArrayList&lt;Person&gt;( Arrays.asList(p1,p2,p3));\r\n        ArrayList&lt;Person&gt; arr2 = new ArrayList&lt;Person&gt;( Arrays.asList(p2,p1,p3));\r\n        ArrayList&lt;Person&gt; arr3 = new ArrayList&lt;Person&gt;( Arrays.asList(p3,p2,p1));\r\n\r\n        Runnable r1 = () -&gt; {\r\n            System.out.println(&quot;Begin t1&quot;);\r\n            arr1.forEach(person -&gt; {System.out.println(&quot;t1 begin : &quot;+ person);});\r\n            Collections.sort(arr1, new PersonNameComparator());\r\n            arr1.forEach(person -&gt; {System.out.println(&quot;t1 sorted : &quot;+ person);});\r\n            System.out.println(&quot;end t1&quot;);\r\n        };\r\n        Runnable r2 = () -&gt; {\r\n            System.out.println(&quot;Begin t2&quot;);\r\n            arr2.forEach(person -&gt; {System.out.println(&quot;t2 begin : &quot;+ person);});\r\n            Collections.sort(arr2, new PersonNameComparator());\r\n            arr2.forEach(person -&gt; {System.out.println(&quot;t2 sorted : &quot;+ person);});\r\n            System.out.println(&quot;end t2&quot;);\r\n        };\r\n\r\n        Runnable r3 = () -&gt; {\r\n            System.out.println(&quot;Begin t3&quot;);\r\n            arr3.forEach(person -&gt; {System.out.println(&quot;t3 begin : &quot;+ person);});\r\n            Collections.sort(arr3, new PersonNameComparator());\r\n            arr3.forEach(person -&gt; {System.out.println(&quot;t3 sorted : &quot;+ person);});\r\n            System.out.println(&quot;end t3&quot;);\r\n        };\r\n\r\n        Thread t1 = new Thread(r1);\r\n        t1.setName(&quot;PersonTest1&quot;);\r\n        System.out.println(&quot;started t1&quot;);\r\n        t1.start();\r\n        System.out.println(&quot;end of  t1&quot;);\r\n\r\n\r\n        Thread t2 = new Thread(r2);\r\n        t2.setName(&quot;PersonTest2&quot;);\r\n        System.out.println(&quot;Started t2&quot;);\r\n        t2.start();\r\n        System.out.println(&quot;end of  t2&quot;);\r\n\r\n        Thread t3 = new Thread(r3);\r\n        t3.setName(&quot;PersonTest3&quot;);\r\n        System.out.println(&quot;Started t3&quot;);\r\n        t3.start();\r\n        System.out.println(&quot;Ended t3&quot;);\r\n\r\n    }\r\n}\r\n\r\n#Output#\r\n\r\n```\r\nHello World\r\nstarted t1\r\nend of  t1\r\nStarted t2\r\nend of  t2\r\nStarted t3\r\nEnded t3\r\nBegin t1\r\nBegin t2\r\nBegin t3\r\nt2 begin : Person{firstName=&#39;Deepali&#39;, lastName=&#39;Baheti&#39;, age=29, DOBYear=1992}\r\nt2 begin : Person{firstName=&#39;Umesh&#39;, lastName=&#39;Bhutada&#39;, age=31, DOBYear=1991}\r\nt2 begin : Person{firstName=&#39;Romeet&#39;, lastName=&#39;Zanwar&#39;, age=5, DOBYear=2017}\r\nt2 sorted : Person{firstName=&#39;Deepali&#39;, lastName=&#39;Baheti&#39;, age=29, DOBYear=1992}\r\nt2 sorted : Person{firstName=&#39;Romeet&#39;, lastName=&#39;Zanwar&#39;, age=5, DOBYear=2017}\r\nt2 sorted : Person{firstName=&#39;Umesh&#39;, lastName=&#39;Bhutada&#39;, age=31, DOBYear=1991}\r\nend t2\r\nt3 begin : Person{firstName=&#39;Romeet&#39;, lastName=&#39;Zanwar&#39;, age=5, DOBYear=2017}\r\nt3 begin : Person{firstName=&#39;Deepali&#39;, lastName=&#39;Baheti&#39;, age=29, DOBYear=1992}\r\nt3 begin : Person{firstName=&#39;Umesh&#39;, lastName=&#39;Bhutada&#39;, age=31, DOBYear=1991}\r\nt3 sorted : Person{firstName=&#39;Deepali&#39;, lastName=&#39;Baheti&#39;, age=29, DOBYear=1992}\r\nt3 sorted : Person{firstName=&#39;Romeet&#39;, lastName=&#39;Zanwar&#39;, age=5, DOBYear=2017}\r\nt3 sorted : Person{firstName=&#39;Umesh&#39;, lastName=&#39;Bhutada&#39;, age=31, DOBYear=1991}\r\nend t3\r\nt1 begin : Person{firstName=&#39;Umesh&#39;, lastName=&#39;Bhutada&#39;, age=31, DOBYear=1991}\r\nt1 begin : Person{firstName=&#39;Deepali&#39;, lastName=&#39;Baheti&#39;, age=29, DOBYear=1992}\r\nt1 begin : Person{firstName=&#39;Romeet&#39;, lastName=&#39;Zanwar&#39;, age=5, DOBYear=2017}\r\nt1 sorted : Person{firstName=&#39;Deepali&#39;, lastName=&#39;Baheti&#39;, age=29, DOBYear=1992}\r\nt1 sorted : Person{firstName=&#39;Romeet&#39;, lastName=&#39;Zanwar&#39;, age=5, DOBYear=2017}\r\nt1 sorted : Person{firstName=&#39;Umesh&#39;, lastName=&#39;Bhutada&#39;, age=31, DOBYear=1991}\r\nend t1\r\n```","title":"How to pass array to thread in java?","body":"<p>#Person.Java#</p>\n<pre><code>import java.util.Objects;\n\npublic class Person implements Comparable {\nString firstName;\nString lastName;\nInteger age;\nInteger DOBYear;\n\npublic Person(String firstName, String lastName, Integer age, Integer DOBYear) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.age = age;\n    this.DOBYear = DOBYear;\n}\n\npublic String getFirstName() {\n    return firstName;\n}\n\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n\npublic String getLastName() {\n    return lastName;\n}\n\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\n\npublic Integer getAge() {\n    return age;\n}\n\npublic void setAge(Integer age) {\n    this.age = age;\n}\n\npublic Integer getDOBYear() {\n    return DOBYear;\n}\n\npublic void setDOBYear(Integer DOBYear) {\n    this.DOBYear = DOBYear;\n}\n\n@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Person person = (Person) o;\n    return Objects.equals(firstName, person.firstName) &amp;&amp; Objects.equals(lastName, person.lastName) &amp;&amp; Objects.equals(age, person.age) &amp;&amp; Objects.equals(DOBYear, person.DOBYear);\n}\n\n@Override\npublic int hashCode() {\n    return Objects.hash(firstName, lastName, age, DOBYear);\n}\n\n@Override\npublic int compareTo(Object o) {\n    Person p = (Person) o;\n    return p.getAge() &gt; this.getAge() ? -1: p.getAge() == this.getAge() ? 0 : 1;\n}\n\n@Override\npublic String toString() {\n    return &quot;Person{&quot; +\n            &quot;firstName='&quot; + firstName + '\\'' +\n            &quot;, lastName='&quot; + lastName + '\\'' +\n            &quot;, age=&quot; + age +\n            &quot;, DOBYear=&quot; + DOBYear +\n            '}';\n}\n</code></pre>\n<p>}</p>\n<p>#PersonNameComparator.Java#</p>\n<pre><code>import java.util.Comparator;\n\npublic class PersonNameComparator implements Comparator&lt;Person&gt; {\n\n\n@Override\npublic int compare(Person o1, Person o2) {\n    return o1.getFirstName().compareTo(o2.getFirstName());\n}\n</code></pre>\n<p>}</p>\n<p>#PersonTest.java#</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\n\npublic class PersonTest {\npublic static void main(String args[]){\n\n    System.out.println(&quot;Hello World&quot;);\n    Person p1 = new Person(&quot;Umesh&quot;,&quot;Bhutada&quot;,31,1991);\n    Person p2 = new Person(&quot;Deepali&quot;,&quot;Baheti&quot;,29,1992);\n    Person p3 = new Person(&quot;Romeet&quot;,&quot;Zanwar&quot;,5,2017);\n\n    ArrayList&lt;Person&gt; arr1 = new ArrayList&lt;Person&gt;( Arrays.asList(p1,p2,p3));\n    ArrayList&lt;Person&gt; arr2 = new ArrayList&lt;Person&gt;( Arrays.asList(p2,p1,p3));\n    ArrayList&lt;Person&gt; arr3 = new ArrayList&lt;Person&gt;( Arrays.asList(p3,p2,p1));\n\n    Runnable r1 = () -&gt; {\n        System.out.println(&quot;Begin t1&quot;);\n        arr1.forEach(person -&gt; {System.out.println(&quot;t1 begin : &quot;+ person);});\n        Collections.sort(arr1, new PersonNameComparator());\n        arr1.forEach(person -&gt; {System.out.println(&quot;t1 sorted : &quot;+ person);});\n        System.out.println(&quot;end t1&quot;);\n    };\n    Runnable r2 = () -&gt; {\n        System.out.println(&quot;Begin t2&quot;);\n        arr2.forEach(person -&gt; {System.out.println(&quot;t2 begin : &quot;+ person);});\n        Collections.sort(arr2, new PersonNameComparator());\n        arr2.forEach(person -&gt; {System.out.println(&quot;t2 sorted : &quot;+ person);});\n        System.out.println(&quot;end t2&quot;);\n    };\n\n    Runnable r3 = () -&gt; {\n        System.out.println(&quot;Begin t3&quot;);\n        arr3.forEach(person -&gt; {System.out.println(&quot;t3 begin : &quot;+ person);});\n        Collections.sort(arr3, new PersonNameComparator());\n        arr3.forEach(person -&gt; {System.out.println(&quot;t3 sorted : &quot;+ person);});\n        System.out.println(&quot;end t3&quot;);\n    };\n\n    Thread t1 = new Thread(r1);\n    t1.setName(&quot;PersonTest1&quot;);\n    System.out.println(&quot;started t1&quot;);\n    t1.start();\n    System.out.println(&quot;end of  t1&quot;);\n\n\n    Thread t2 = new Thread(r2);\n    t2.setName(&quot;PersonTest2&quot;);\n    System.out.println(&quot;Started t2&quot;);\n    t2.start();\n    System.out.println(&quot;end of  t2&quot;);\n\n    Thread t3 = new Thread(r3);\n    t3.setName(&quot;PersonTest3&quot;);\n    System.out.println(&quot;Started t3&quot;);\n    t3.start();\n    System.out.println(&quot;Ended t3&quot;);\n\n}\n</code></pre>\n<p>}</p>\n<p>#Output#</p>\n<pre><code>Hello World\nstarted t1\nend of  t1\nStarted t2\nend of  t2\nStarted t3\nEnded t3\nBegin t1\nBegin t2\nBegin t3\nt2 begin : Person{firstName='Deepali', lastName='Baheti', age=29, DOBYear=1992}\nt2 begin : Person{firstName='Umesh', lastName='Bhutada', age=31, DOBYear=1991}\nt2 begin : Person{firstName='Romeet', lastName='Zanwar', age=5, DOBYear=2017}\nt2 sorted : Person{firstName='Deepali', lastName='Baheti', age=29, DOBYear=1992}\nt2 sorted : Person{firstName='Romeet', lastName='Zanwar', age=5, DOBYear=2017}\nt2 sorted : Person{firstName='Umesh', lastName='Bhutada', age=31, DOBYear=1991}\nend t2\nt3 begin : Person{firstName='Romeet', lastName='Zanwar', age=5, DOBYear=2017}\nt3 begin : Person{firstName='Deepali', lastName='Baheti', age=29, DOBYear=1992}\nt3 begin : Person{firstName='Umesh', lastName='Bhutada', age=31, DOBYear=1991}\nt3 sorted : Person{firstName='Deepali', lastName='Baheti', age=29, DOBYear=1992}\nt3 sorted : Person{firstName='Romeet', lastName='Zanwar', age=5, DOBYear=2017}\nt3 sorted : Person{firstName='Umesh', lastName='Bhutada', age=31, DOBYear=1991}\nend t3\nt1 begin : Person{firstName='Umesh', lastName='Bhutada', age=31, DOBYear=1991}\nt1 begin : Person{firstName='Deepali', lastName='Baheti', age=29, DOBYear=1992}\nt1 begin : Person{firstName='Romeet', lastName='Zanwar', age=5, DOBYear=2017}\nt1 sorted : Person{firstName='Deepali', lastName='Baheti', age=29, DOBYear=1992}\nt1 sorted : Person{firstName='Romeet', lastName='Zanwar', age=5, DOBYear=2017}\nt1 sorted : Person{firstName='Umesh', lastName='Bhutada', age=31, DOBYear=1991}\nend t1\n</code></pre>\n"}],"owner":{"display_name":"user4653841"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":29305108,"answer_count":4,"score":0,"last_activity_date":1655326473,"creation_date":1427471900,"question_id":29304965,"body_markdown":"i want to pass array to thread and display in it.but i do not know how i can pass array to thread?\r\ni tried same like passing array to function but it does not work.\r\ni have two thread , and in both thread i will print the array . here is my thread 1\r\n\r\n    public class Thread1 extends Thread {\r\n    \r\n        public void run()\r\n        \t{\r\n        \t\t//here i will print\r\n        \t\t\r\n        \t}\r\n        \r\n        }\r\n\r\nhow i can pass thread and how it will use in main? like thread.start(array?);\r\nplease help.","title":"How to pass array to thread in java?","body":"<p>i want to pass array to thread and display in it.but i do not know how i can pass array to thread?\ni tried same like passing array to function but it does not work.\ni have two thread , and in both thread i will print the array . here is my thread 1</p>\n\n<pre><code>public class Thread1 extends Thread {\n\n    public void run()\n        {\n            //here i will print\n\n        }\n\n    }\n</code></pre>\n\n<p>how i can pass thread and how it will use in main? like thread.start(array?);\nplease help.</p>\n"},{"tags":["java","arrays","string","set-intersection"],"comments":[{"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"score":0,"creation_date":1449587087,"post_id":34158934,"comment_id":56065053,"body_markdown":"Because when you split with `,` you get `&quot;Action&quot;` and `Action&quot;`.","body":"Because when you split with <code>,</code> you get <code>&quot;Action&quot;</code> and <code>Action&quot;</code>."}],"answers":[{"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1449586701,"creation_date":1449586701,"answer_id":34159043,"question_id":34158934,"body_markdown":"Try removing the double quotes in both strings .\r\n\r\nBecause when you split\r\n\r\n&gt; &quot;tt0306047&quot;,&quot;Comedy,Action&quot;,&quot;nm0267506,nm0000221,nm0356021&quot;,&quot;dir_\r\n&gt; nm0001878&quot;,&quot;USA&quot;\r\n\r\nYou will get an \r\n\r\n&gt; Action&quot;\r\n\r\n token , which will never match the \r\n\r\n&gt; &quot;Action&quot;\r\n\r\n token.","title":"Cannot find correct intersection of two string arrays when there is a comma in the strings","body":"<p>Try removing the double quotes in both strings .</p>\n\n<p>Because when you split</p>\n\n<blockquote>\n  <p>\"tt0306047\",\"Comedy,Action\",\"nm0267506,nm0000221,nm0356021\",\"dir_\n  nm0001878\",\"USA\"</p>\n</blockquote>\n\n<p>You will get an </p>\n\n<blockquote>\n  <p>Action\"</p>\n</blockquote>\n\n<p>token , which will never match the </p>\n\n<blockquote>\n  <p>\"Action\"</p>\n</blockquote>\n\n<p>token.</p>\n"},{"tags":[],"owner":{"account_id":3202753,"reputation":6346,"user_id":2704500,"accept_rate":50,"display_name":"pandaadb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449586786,"creation_date":1449586786,"answer_id":34159077,"question_id":34158934,"body_markdown":"If you print your line, what does it look like? I think your issue is in reading the file, for example:\r\n\r\n&quot;005c2e08&quot;,&quot;Action&quot;,&quot;nm0000148&quot;,&quot;dir_ nm0764316&quot;,&quot;USA&quot;\r\n\r\nsplit by &#39;,&#39; will result in:\r\n\r\n&quot;005c2e08&quot;\r\n&quot;Action&quot;\r\n\r\nand so on. While for your second line it will be:\r\n\r\n&quot;tt0306047&quot;\r\n&quot;Comedy\r\nAction&quot;\r\n\r\nThis is why USA is intercepting, but action is not.\r\n\r\nUse A csv reader to read in the csv file, then split the attributes of the CSV line by comma. That way you get rid of the quoutes and your code will work \r\n\r\nfor example, this library is very handy for reading CSV files:\r\n\r\nhttp://opencsv.sourceforge.net/","title":"Cannot find correct intersection of two string arrays when there is a comma in the strings","body":"<p>If you print your line, what does it look like? I think your issue is in reading the file, for example:</p>\n\n<p>\"005c2e08\",\"Action\",\"nm0000148\",\"dir_ nm0764316\",\"USA\"</p>\n\n<p>split by ',' will result in:</p>\n\n<p>\"005c2e08\"\n\"Action\"</p>\n\n<p>and so on. While for your second line it will be:</p>\n\n<p>\"tt0306047\"\n\"Comedy\nAction\"</p>\n\n<p>This is why USA is intercepting, but action is not.</p>\n\n<p>Use A csv reader to read in the csv file, then split the attributes of the CSV line by comma. That way you get rid of the quoutes and your code will work </p>\n\n<p>for example, this library is very handy for reading CSV files:</p>\n\n<p><a href=\"http://opencsv.sourceforge.net/\" rel=\"nofollow\">http://opencsv.sourceforge.net/</a></p>\n"}],"owner":{"account_id":2676501,"reputation":2361,"user_id":2312801,"accept_rate":68,"display_name":"mOna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655325300,"accepted_answer_id":34159043,"answer_count":2,"score":0,"last_activity_date":1655326011,"creation_date":1449586382,"question_id":34158934,"body_markdown":"I have two CSV files: &quot;userfeatures&quot; and &quot;itemfeatures&quot;.\r\nEach line in the userfeature is related to specific user. e.g., the first line in the userfeature file is:\r\n\r\n`005c2e08&quot;,&quot;Action&quot;,&quot;nm0000148&quot;,&quot;dir_ nm0764316&quot;,&quot;USA&quot;`\r\n\r\nI need to find the intersection of this line with every line of the 2nd file &quot;itemfeatures&quot;. (Actually , I need to repeat this procedure for all the users, i.e, for all lines of &quot;userfeatures&quot;). \r\n\r\nSo, the first comparison will be with the first line of &quot;itemfeatures&quot; that is:\r\n\r\n`&quot;tt0306047&quot;,&quot;Comedy,Action&quot;,&quot;nm0267506,nm0000221,nm0356021&quot;,&quot;dir_ nm0001878&quot;,&quot;USA&quot;`\r\n\r\nThe result of intersection should be `[&quot;Action&quot;, &quot;USA]&quot;` but unfortunately, my code only finds [&quot;USA&quot;] as a match. Here is what I&#39;ve tried so far:\r\n\r\n    public class Main {\r\n      public static void main(String[] args) throws Exception {\t  \r\n         BufferedReader userfeatures = new BufferedReader(new FileReader(&quot;userFeatureVectorsTest.csv&quot;));\r\n         BufferedReader itemfeatures = new BufferedReader(new FileReader(&quot;ItemFeatureVectorsTest.csv&quot;));       \r\n         ArrayList&lt;String&gt; userlines = new ArrayList&lt;&gt;();\r\n         ArrayList&lt;String&gt; itemlines = new ArrayList&lt;&gt;();\r\n         String Uline = null;      \r\n            while ((Uline = userfeatures.readLine()) != null) {\r\n            \tfor (String Iline = itemfeatures.readLine(); Iline != null; Iline = itemfeatures.readLine()) {\r\n                    System.out.println(Uline); \r\n                    System.out.println(Iline);                \r\n                    System.out.println(intersect(Uline, Iline)); \r\n              \t    System.out.println(union(Uline, Iline)); \r\n            \t}\r\n        \t}\r\n     userfeatures.close();\r\n     itemfeatures.close();\r\n     }    \r\n      static Set&lt;String&gt; intersect(String Uline, String Iline) {\r\n          Set&lt;String&gt; result = new HashSet&lt;String&gt;(Arrays.asList(Uline.split(&quot;,&quot;)));\r\n          Set&lt;String&gt; IlineSet = new HashSet&lt;String&gt;(Arrays.asList(Iline.split(&quot;,&quot;)));\r\n          result.retainAll(IlineSet);\r\n          return result;\r\n       }  \r\n      static Set&lt;String&gt; union(String Uline, String Iline) {\r\n          Set&lt;String&gt; result = new HashSet&lt;String&gt;(Arrays.asList(Uline.split(&quot;,&quot;)));\r\n          Set&lt;String&gt; IlineSet = new HashSet&lt;String&gt;(Arrays.asList(Iline.split(&quot;,&quot;)));\r\n          result.addAll(IlineSet);\r\n          return result;\r\n       }\r\n    }\r\n\r\nI think the problem is related to `Uline.split(&quot;,&quot;)` and `Iline.split(&quot;,&quot;)` because they consider `&quot;Comedy,Action&quot;` as 1 word and so it cannot find `[Action]` as intersection of `&quot;Comedy,Action&quot;` and `&quot;Action&quot;`.\r\nI appreciate it if someone has any idea how to fix this issue.\r\n","title":"Cannot find correct intersection of two string arrays when there is a comma in the strings","body":"<p>I have two CSV files: &quot;userfeatures&quot; and &quot;itemfeatures&quot;.\nEach line in the userfeature is related to specific user. e.g., the first line in the userfeature file is:</p>\n<p><code>005c2e08&quot;,&quot;Action&quot;,&quot;nm0000148&quot;,&quot;dir_ nm0764316&quot;,&quot;USA&quot;</code></p>\n<p>I need to find the intersection of this line with every line of the 2nd file &quot;itemfeatures&quot;. (Actually , I need to repeat this procedure for all the users, i.e, for all lines of &quot;userfeatures&quot;).</p>\n<p>So, the first comparison will be with the first line of &quot;itemfeatures&quot; that is:</p>\n<p><code>&quot;tt0306047&quot;,&quot;Comedy,Action&quot;,&quot;nm0267506,nm0000221,nm0356021&quot;,&quot;dir_ nm0001878&quot;,&quot;USA&quot;</code></p>\n<p>The result of intersection should be <code>[&quot;Action&quot;, &quot;USA]&quot;</code> but unfortunately, my code only finds [&quot;USA&quot;] as a match. Here is what I've tried so far:</p>\n<pre><code>public class Main {\n  public static void main(String[] args) throws Exception {   \n     BufferedReader userfeatures = new BufferedReader(new FileReader(&quot;userFeatureVectorsTest.csv&quot;));\n     BufferedReader itemfeatures = new BufferedReader(new FileReader(&quot;ItemFeatureVectorsTest.csv&quot;));       \n     ArrayList&lt;String&gt; userlines = new ArrayList&lt;&gt;();\n     ArrayList&lt;String&gt; itemlines = new ArrayList&lt;&gt;();\n     String Uline = null;      \n        while ((Uline = userfeatures.readLine()) != null) {\n            for (String Iline = itemfeatures.readLine(); Iline != null; Iline = itemfeatures.readLine()) {\n                System.out.println(Uline); \n                System.out.println(Iline);                \n                System.out.println(intersect(Uline, Iline)); \n                System.out.println(union(Uline, Iline)); \n            }\n        }\n userfeatures.close();\n itemfeatures.close();\n }    \n  static Set&lt;String&gt; intersect(String Uline, String Iline) {\n      Set&lt;String&gt; result = new HashSet&lt;String&gt;(Arrays.asList(Uline.split(&quot;,&quot;)));\n      Set&lt;String&gt; IlineSet = new HashSet&lt;String&gt;(Arrays.asList(Iline.split(&quot;,&quot;)));\n      result.retainAll(IlineSet);\n      return result;\n   }  \n  static Set&lt;String&gt; union(String Uline, String Iline) {\n      Set&lt;String&gt; result = new HashSet&lt;String&gt;(Arrays.asList(Uline.split(&quot;,&quot;)));\n      Set&lt;String&gt; IlineSet = new HashSet&lt;String&gt;(Arrays.asList(Iline.split(&quot;,&quot;)));\n      result.addAll(IlineSet);\n      return result;\n   }\n}\n</code></pre>\n<p>I think the problem is related to <code>Uline.split(&quot;,&quot;)</code> and <code>Iline.split(&quot;,&quot;)</code> because they consider <code>&quot;Comedy,Action&quot;</code> as 1 word and so it cannot find <code>[Action]</code> as intersection of <code>&quot;Comedy,Action&quot;</code> and <code>&quot;Action&quot;</code>.\nI appreciate it if someone has any idea how to fix this issue.</p>\n"},{"tags":["java","csv","tabs"],"comments":[{"owner":{"account_id":1268826,"reputation":7565,"user_id":1225551,"accept_rate":75,"display_name":"Raf"},"score":0,"creation_date":1448501445,"post_id":33929134,"comment_id":55619295,"body_markdown":"So what is the pattern? You mentioned about few of the values having comma itself? Are these values only number values? Is that all a single line or multiple lines?","body":"So what is the pattern? You mentioned about few of the values having comma itself? Are these values only number values? Is that all a single line or multiple lines?"},{"owner":{"account_id":1619983,"reputation":29,"user_id":1496783,"accept_rate":0,"display_name":"user1496783"},"score":0,"creation_date":1448504492,"post_id":33929134,"comment_id":55620006,"body_markdown":"@Raf: I ahve updated the records now. There are 2 records above. Also the values causing the issue are numbers. For example, &quot;8,455,844&quot;.","body":"@Raf: I ahve updated the records now. There are 2 records above. Also the values causing the issue are numbers. For example, &quot;8,455,844&quot;."}],"answers":[{"tags":[],"owner":{"account_id":1268826,"reputation":7565,"user_id":1225551,"accept_rate":75,"display_name":"Raf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1448507363,"creation_date":1448507363,"answer_id":33929953,"question_id":33929134,"body_markdown":"I think your best bet is to rely on pattern that does not change. You did mention that you have issue with numbers having comma as thousand separators. I see that in your lines those numbers are enclosed with a double quote. Based on the following assumptions: \r\n\r\n 1. The number is enclosed in double quotes \r\n 2. There is only one of such number in each line (if more than one, then find all the pairs of double quotes and store them in arrays or list, and check to make sure index do not fall in the range for each)\r\n\r\nThen you an do the following: \r\n\r\n 1. Get first index of the double quote i.e. 154 \r\n 2. Get the second/last index of the double quote i.e. 159 \r\n 3. Replace all commas with \\t provided that index of comma is less than first index of first double quote or index of comma is greater than last index of double quote (this should skip the comma of number to be replaced with \\t) \r\n\r\nThe following code does exactly the above for you: \r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.PrintWriter;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class CsvToTabConvertor {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tFile file = new File(&quot;C:\\\\test_java\\\\csvtotab.txt&quot;); \r\n    \t\tList&lt;String&gt; processedLines = new ArrayList&lt;String&gt;();\r\n    \t\r\n    \t\ttry {\r\n    \t\t\tBufferedReader br = new BufferedReader(new FileReader(file)); \r\n    \t\t\tString line; \r\n    \t\t\tStringBuilder builder; \r\n    \t\t\twhile((line=br.readLine()) != null) {\r\n    \t\t\t\tbuilder = new StringBuilder(line); \r\n    \t\t\t\t\r\n    \t\t\t\t//find number in double quote - assuming there is only one number with double quotes\r\n    \t\t\t\tint doubleQuoteIndexStart = builder.indexOf(&quot;\\&quot;&quot;); \r\n    \t\t\t\tint doubleQuoteIndexLast = builder.lastIndexOf(&quot;\\&quot;&quot;); \r\n    \t\t\t\t\r\n    \t\t\t\t//for each line, find all indexes of comma\r\n    \t\t\t\tint index = builder.indexOf(&quot;,&quot;);\r\n    \t\t\t\t\r\n    \t\t\t\t//previous used to when there is consecutive comma\r\n    \t\t\t\tint prevIndex = 0; \r\n    \t\t\t\t\r\n    \t\t\t\twhile (index &gt;= 0) {\r\n    \t\t\t\t\tif(index &lt; doubleQuoteIndexStart || index &gt; doubleQuoteIndexLast) {\r\n    \t\t\t\t\t\tbuilder.setCharAt(index, &#39;\\t&#39;); \r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t//get next index of comma\r\n    \t\t\t\t    index = builder.indexOf(&quot;,&quot;, index + 1);\r\n    \t\t\t\t    \r\n    \t\t\t\t    //check for consecutive commas\r\n    \t\t\t\t    if(index != -1 &amp;&amp; (prevIndex +1) == index) {\r\n    \t\t\t\t    \tbuilder.setCharAt(index, &#39; &#39;);\r\n    \t\t\t\t    \t//get next index of comma\r\n    \t\t\t\t\t    index = builder.indexOf(&quot;,&quot;, index + 1);\r\n    \t\t\t\t    }\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t//add the line to list of lines for later storage to file\r\n    \t\t\t\tprocessedLines.add(builder.toString());\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t//close the output stream\r\n    \t\t\tbr.close(); \r\n    \t\t\t\r\n    \t\t\t//write all the lines to the file\r\n    \t\t\tFile outFile = new File(&quot;C:\\\\test_java\\\\csvtotab_processed.txt&quot;);\r\n    \t\t\tPrintWriter writer = new PrintWriter(outFile); \r\n    \t\t\tfor(int i = 0; i &lt; processedLines.size(); i++) {\r\n    \t\t\t\twriter.println(processedLines.get(i));\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\twriter.close(); \r\n    \t\t} catch(Exception ex) {\r\n    \t\t\t//handle exception\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nInput file containing the following lines: \r\n\r\n    Direct - House,eBay House Advertiser,537121661,,160 x 600,eBay US Publisher,537121625,eBay.com,537224178,160x600_MyeBay_US,538146889,2015-11-18,&quot;8,455,844&quot;,0,0,0,0.000000,USD,0.000000,0.000000,0.000000\r\n    Direct - House,eBay House Advertiser,537121661,,160 x 600,eBay US Publisher,537121625,eBay.com,537224178,160x600_Search_SLR,538146895,2015-11-18,&quot;20,175,240&quot;,30,0,0,0.000000,USD,0.000000,0.000000,0.000000\r\n\r\nThe processed output file is as follow: \r\n\r\n    Direct - House\teBay House Advertiser\t537121661\t\t160 x 600\teBay US Publisher\t537121625\teBay.com\t537224178\t160x600_MyeBay_US\t538146889\t2015-11-18\t&quot;8,455,844&quot;\t0\t0\t0\t0.000000\tUSD\t0.000000\t0.000000\t0.000000\r\n    Direct - House\teBay House Advertiser\t537121661\t\t160 x 600\teBay US Publisher\t537121625\teBay.com\t537224178\t160x600_Search_SLR\t538146895\t2015-11-18\t&quot;20,175,240&quot;\t30\t0\t0\t0.000000\tUSD\t0.000000\t0.000000\t0.000000\r\n\r\nModify the above code and its logic to fulfil any further needs. ","title":"Convert comma separated CSV file to tab separated using Java","body":"<p>I think your best bet is to rely on pattern that does not change. You did mention that you have issue with numbers having comma as thousand separators. I see that in your lines those numbers are enclosed with a double quote. Based on the following assumptions: </p>\n\n<ol>\n<li>The number is enclosed in double quotes </li>\n<li>There is only one of such number in each line (if more than one, then find all the pairs of double quotes and store them in arrays or list, and check to make sure index do not fall in the range for each)</li>\n</ol>\n\n<p>Then you an do the following: </p>\n\n<ol>\n<li>Get first index of the double quote i.e. 154 </li>\n<li>Get the second/last index of the double quote i.e. 159 </li>\n<li>Replace all commas with \\t provided that index of comma is less than first index of first double quote or index of comma is greater than last index of double quote (this should skip the comma of number to be replaced with \\t) </li>\n</ol>\n\n<p>The following code does exactly the above for you: </p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class CsvToTabConvertor {\n    public static void main(String[] args) {\n        File file = new File(\"C:\\\\test_java\\\\csvtotab.txt\"); \n        List&lt;String&gt; processedLines = new ArrayList&lt;String&gt;();\n\n        try {\n            BufferedReader br = new BufferedReader(new FileReader(file)); \n            String line; \n            StringBuilder builder; \n            while((line=br.readLine()) != null) {\n                builder = new StringBuilder(line); \n\n                //find number in double quote - assuming there is only one number with double quotes\n                int doubleQuoteIndexStart = builder.indexOf(\"\\\"\"); \n                int doubleQuoteIndexLast = builder.lastIndexOf(\"\\\"\"); \n\n                //for each line, find all indexes of comma\n                int index = builder.indexOf(\",\");\n\n                //previous used to when there is consecutive comma\n                int prevIndex = 0; \n\n                while (index &gt;= 0) {\n                    if(index &lt; doubleQuoteIndexStart || index &gt; doubleQuoteIndexLast) {\n                        builder.setCharAt(index, '\\t'); \n                    }\n\n                    //get next index of comma\n                    index = builder.indexOf(\",\", index + 1);\n\n                    //check for consecutive commas\n                    if(index != -1 &amp;&amp; (prevIndex +1) == index) {\n                        builder.setCharAt(index, ' ');\n                        //get next index of comma\n                        index = builder.indexOf(\",\", index + 1);\n                    }\n                }\n\n                //add the line to list of lines for later storage to file\n                processedLines.add(builder.toString());\n            }\n\n            //close the output stream\n            br.close(); \n\n            //write all the lines to the file\n            File outFile = new File(\"C:\\\\test_java\\\\csvtotab_processed.txt\");\n            PrintWriter writer = new PrintWriter(outFile); \n            for(int i = 0; i &lt; processedLines.size(); i++) {\n                writer.println(processedLines.get(i));\n            }\n\n            writer.close(); \n        } catch(Exception ex) {\n            //handle exception\n        }\n    }\n}\n</code></pre>\n\n<p>Input file containing the following lines: </p>\n\n<pre><code>Direct - House,eBay House Advertiser,537121661,,160 x 600,eBay US Publisher,537121625,eBay.com,537224178,160x600_MyeBay_US,538146889,2015-11-18,\"8,455,844\",0,0,0,0.000000,USD,0.000000,0.000000,0.000000\nDirect - House,eBay House Advertiser,537121661,,160 x 600,eBay US Publisher,537121625,eBay.com,537224178,160x600_Search_SLR,538146895,2015-11-18,\"20,175,240\",30,0,0,0.000000,USD,0.000000,0.000000,0.000000\n</code></pre>\n\n<p>The processed output file is as follow: </p>\n\n<pre><code>Direct - House  eBay House Advertiser   537121661       160 x 600   eBay US Publisher   537121625   eBay.com    537224178   160x600_MyeBay_US   538146889   2015-11-18  \"8,455,844\" 0   0   0   0.000000    USD 0.000000    0.000000    0.000000\nDirect - House  eBay House Advertiser   537121661       160 x 600   eBay US Publisher   537121625   eBay.com    537224178   160x600_Search_SLR  538146895   2015-11-18  \"20,175,240\"    30  0   0   0.000000    USD 0.000000    0.000000    0.000000\n</code></pre>\n\n<p>Modify the above code and its logic to fulfil any further needs. </p>\n"}],"owner":{"account_id":1619983,"reputation":29,"user_id":1496783,"accept_rate":0,"display_name":"user1496783"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3663,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1655304519,"answer_count":1,"score":0,"last_activity_date":1655325924,"creation_date":1448500620,"question_id":33929134,"body_markdown":"I am trying to convert a comma-separated CSV file to a tab-separated CSV file using Java. However, a few of the values inside the file itself have commas. Please refer to example below:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Direct - House,Bayer House Advertiser,537121661,,160 x 600,Bayer US Publisher,537121625,Bayer.com,537224178,160x600_MyeBay_US,538146889,2015-11-18,&quot;8,455,844&quot;,0,0,0,0.000000,USD,0.000000,0.000000,0.000000\r\n\r\n    Direct - House,Bayer House Advertiser,537121661,,160 x 600,Bayer US Publisher,537121625,Bayer.com,537224178,160x600_Search_SLR,538146895,2015-11-18,&quot;20,175,240&quot;,30,0,0,0.000000,USD,0.000000,0.000000,0.000000\r\n\r\nSo can anyone help me how to handle these values?\r\n","title":"Convert comma separated CSV file to tab separated using Java","body":"<p>I am trying to convert a comma-separated CSV file to a tab-separated CSV file using Java. However, a few of the values inside the file itself have commas. Please refer to example below:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Direct - House,Bayer House Advertiser,537121661,,160 x 600,Bayer US Publisher,537121625,Bayer.com,537224178,160x600_MyeBay_US,538146889,2015-11-18,&quot;8,455,844&quot;,0,0,0,0.000000,USD,0.000000,0.000000,0.000000\n\nDirect - House,Bayer House Advertiser,537121661,,160 x 600,Bayer US Publisher,537121625,Bayer.com,537224178,160x600_Search_SLR,538146895,2015-11-18,&quot;20,175,240&quot;,30,0,0,0.000000,USD,0.000000,0.000000,0.000000\n</code></pre>\n<p>So can anyone help me how to handle these values?</p>\n"},{"tags":["java","aem","sling","jcr"],"answers":[{"tags":[],"owner":{"account_id":14286036,"reputation":37,"user_id":10319370,"display_name":"k.h.t"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655325755,"creation_date":1655325755,"answer_id":72637601,"question_id":72636551,"body_markdown":"Well, found a solution by getting my component node directly. \r\n\r\n\r\n  \r\n\r\n     @NotNull\r\n     private void createRecommendations(List&lt;Page&gt; childPages) {\r\n\r\n    List&lt;Page&gt; articlePages = childPages.stream()\r\n        .filter(page -&gt; !page.getPath().equals(currentPage.getPath()))\r\n        .filter(page -&gt; {\r\n          ValueMap props = page.getProperties();\r\n          return Boolean.TRUE.equals(props.get(&quot;isTeasable&quot;, Boolean.class));\r\n        }).collect(Collectors.toList());\r\n\r\n    articlePages.forEach(page -&gt; {\r\n      Node n = resolver.getResource(page.getPath()).adaptTo(Node.class);\r\n      Node newsInternalCmpnt = null;\r\n      try {\r\n        newsInternalCmpnt = n.getNode(&quot;jcr:content/root/responsivegrid/c06_news_internal&quot;);\r\n        if (newsInternalCmpnt != null &amp;&amp; newsInternalCmpnt.hasProperty(&quot;teaserTitle&quot;) &amp;&amp; newsInternalCmpnt.hasNode(&quot;image&quot;)) {\r\n          ArticleTeaser teaser = createTeaser(newsInternalCmpnt);\r\n          this.teasers.add(teaser);\r\n        }\r\n      } catch (RepositoryException e) {\r\n        LOGGER.error(&quot;unable to get news internal component node&quot;);\r\n        e.printStackTrace();\r\n      }\r\n    });\r\n  }","title":"Aem get page child ressources","body":"<p>Well, found a solution by getting my component node directly.</p>\n<pre><code> @NotNull\n private void createRecommendations(List&lt;Page&gt; childPages) {\n\nList&lt;Page&gt; articlePages = childPages.stream()\n    .filter(page -&gt; !page.getPath().equals(currentPage.getPath()))\n    .filter(page -&gt; {\n      ValueMap props = page.getProperties();\n      return Boolean.TRUE.equals(props.get(&quot;isTeasable&quot;, Boolean.class));\n    }).collect(Collectors.toList());\n\narticlePages.forEach(page -&gt; {\n  Node n = resolver.getResource(page.getPath()).adaptTo(Node.class);\n  Node newsInternalCmpnt = null;\n  try {\n    newsInternalCmpnt = n.getNode(&quot;jcr:content/root/responsivegrid/c06_news_internal&quot;);\n    if (newsInternalCmpnt != null &amp;&amp; newsInternalCmpnt.hasProperty(&quot;teaserTitle&quot;) &amp;&amp; newsInternalCmpnt.hasNode(&quot;image&quot;)) {\n      ArticleTeaser teaser = createTeaser(newsInternalCmpnt);\n      this.teasers.add(teaser);\n    }\n  } catch (RepositoryException e) {\n    LOGGER.error(&quot;unable to get news internal component node&quot;);\n    e.printStackTrace();\n  }\n});\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":14286036,"reputation":37,"user_id":10319370,"display_name":"k.h.t"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655325755,"creation_date":1655319386,"question_id":72636551,"body_markdown":"I have a sling model, handling data related to an article_details_component ( basicaly titles, texts and images related to the article). In addition to these basic data, I need to create a list of object ( ArticleTeaser object ) that will be displayed in the recommendation section of my articles pages.\r\n\r\nThe logic is the following : I have a parent page called newsPage, under this page I create as many news articles as I want. within these pages I have the recommendations based on the other articles under my news page. the recommandation section is a List of teasers object, created based on the article_details_component title and image. \r\n\r\n\r\nSo I need to traverse my page jcr structure to get the article_componenet of the article page and retrieve its title and image in order to create my teasers. \r\n\r\nHere is my code, but it is not working and I do not think it is the best way to do it : \r\n\r\n    private void getAllAvailableArticles(List&lt;Page&gt; childPages) {\r\n\r\n    List&lt;Page&gt; articlePages = childPages.stream()\r\n        .filter(page -&gt; !page.getPath().equals(currentPage.getPath())) //remove current article page \r\n        .filter(page -&gt; {\r\n          ValueMap props = page.getProperties();\r\n          return Boolean.TRUE.equals(props.get(&quot;isTeasable&quot;, Boolean.class)); // check if the authore wants this article to be added to the recommendation section an other article\r\n        }).collect(Collectors.toList());\r\n\r\n    articlePages.forEach(page -&gt; {\r\n      Node n = resolver.getResource(page.getPath()).adaptTo(Node.class);\r\n      Node jcrContent = null;\r\n      NodeIterator childrenNodes = null;\r\n      try {\r\n        jcrContent = n.getNode(&quot;jcr:content&quot;);\r\n        childrenNodes = jcrContent.getNodes();\r\n        while (childrenNodes.hasNext()) {\r\n          Node node = childrenNodes.nextNode();\r\n          String resourceType = node.getProperty(&quot;sling:resourceType&quot;).getString();\r\n          if (resourceType.equals(&quot;myproj/components/content/c06-news-internal/v1/c06-news-internal&quot;)) {\r\n            teasers.add(ArticleTeaser.builder().teaserTitle(node.getProperty(&quot;teaserTitle&quot;).getString()).build());\r\n          }\r\n        }\r\n      } catch (RepositoryException e) {\r\n        e.printStackTrace();\r\n      }\r\n    });\r\n  }\r\n\r\nDO you have any Idea on how I can achieve this ? \r\nThanks in advance\r\n\r\n ","title":"Aem get page child ressources","body":"<p>I have a sling model, handling data related to an article_details_component ( basicaly titles, texts and images related to the article). In addition to these basic data, I need to create a list of object ( ArticleTeaser object ) that will be displayed in the recommendation section of my articles pages.</p>\n<p>The logic is the following : I have a parent page called newsPage, under this page I create as many news articles as I want. within these pages I have the recommendations based on the other articles under my news page. the recommandation section is a List of teasers object, created based on the article_details_component title and image.</p>\n<p>So I need to traverse my page jcr structure to get the article_componenet of the article page and retrieve its title and image in order to create my teasers.</p>\n<p>Here is my code, but it is not working and I do not think it is the best way to do it :</p>\n<pre><code>private void getAllAvailableArticles(List&lt;Page&gt; childPages) {\n\nList&lt;Page&gt; articlePages = childPages.stream()\n    .filter(page -&gt; !page.getPath().equals(currentPage.getPath())) //remove current article page \n    .filter(page -&gt; {\n      ValueMap props = page.getProperties();\n      return Boolean.TRUE.equals(props.get(&quot;isTeasable&quot;, Boolean.class)); // check if the authore wants this article to be added to the recommendation section an other article\n    }).collect(Collectors.toList());\n\narticlePages.forEach(page -&gt; {\n  Node n = resolver.getResource(page.getPath()).adaptTo(Node.class);\n  Node jcrContent = null;\n  NodeIterator childrenNodes = null;\n  try {\n    jcrContent = n.getNode(&quot;jcr:content&quot;);\n    childrenNodes = jcrContent.getNodes();\n    while (childrenNodes.hasNext()) {\n      Node node = childrenNodes.nextNode();\n      String resourceType = node.getProperty(&quot;sling:resourceType&quot;).getString();\n      if (resourceType.equals(&quot;myproj/components/content/c06-news-internal/v1/c06-news-internal&quot;)) {\n        teasers.add(ArticleTeaser.builder().teaserTitle(node.getProperty(&quot;teaserTitle&quot;).getString()).build());\n      }\n    }\n  } catch (RepositoryException e) {\n    e.printStackTrace();\n  }\n});\n</code></pre>\n<p>}</p>\n<p>DO you have any Idea on how I can achieve this ?\nThanks in advance</p>\n"},{"tags":["java","email","ssl","smtp","gmail"],"comments":[{"owner":{"account_id":354311,"reputation":3293,"user_id":692580,"accept_rate":38,"display_name":"Laabidi Raissi"},"score":0,"creation_date":1366422512,"post_id":16115453,"comment_id":23016207,"body_markdown":"please give the complete stack trace. Your exact code runs fine on my machine","body":"please give the complete stack trace. Your exact code runs fine on my machine"},{"owner":{"account_id":932671,"reputation":15737,"user_id":962206,"accept_rate":61,"display_name":"user962206"},"score":0,"creation_date":1366424148,"post_id":16115453,"comment_id":23016441,"body_markdown":"@Laabidi I already posted it.","body":"@Laabidi I already posted it."}],"answers":[{"tags":[],"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1366499782,"creation_date":1366499782,"answer_id":16126223,"question_id":16115453,"body_markdown":"Try using the smtpsend program that comes with JavaMail, as described [here][1].  If that fails in the same way, there&#39;s something wrong with your JDK configuration or your network configuration.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javamail/faq/index.html#gmail","title":"Javamail Could not convert socket to TLS GMail","body":"<p>Try using the smtpsend program that comes with JavaMail, as described <a href=\"http://www.oracle.com/technetwork/java/javamail/faq/index.html#gmail\" rel=\"nofollow\">here</a>.  If that fails in the same way, there's something wrong with your JDK configuration or your network configuration.</p>\n"},{"tags":[],"owner":{"account_id":3080374,"reputation":1637,"user_id":2608716,"display_name":"carlos"},"down_vote_count":2,"up_vote_count":164,"is_accepted":false,"score":162,"last_activity_date":1374540627,"creation_date":1374539645,"answer_id":17799656,"question_id":16115453,"body_markdown":"    props.put(&quot;mail.smtp.ssl.trust&quot;, &quot;smtp.gmail.com&quot;);","title":"Javamail Could not convert socket to TLS GMail","body":"<pre><code>props.put(\"mail.smtp.ssl.trust\", \"smtp.gmail.com\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2422609,"reputation":407,"user_id":2115267,"display_name":"shiva raj"},"down_vote_count":2,"up_vote_count":40,"is_accepted":false,"score":38,"last_activity_date":1387978830,"creation_date":1387976545,"answer_id":20773077,"question_id":16115453,"body_markdown":"Make sure your antivirus program isn&#39;t interfering and be sure to add an exclusion to your firewall.","title":"Javamail Could not convert socket to TLS GMail","body":"<p>Make sure your antivirus program isn't interfering and be sure to add an exclusion to your firewall.</p>\n"},{"tags":[],"owner":{"account_id":6517950,"reputation":449,"user_id":5043053,"display_name":"Shahid Abbasi"},"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1435122180,"creation_date":1435122180,"answer_id":31018007,"question_id":16115453,"body_markdown":"I disabled avast antivirus for 10 minutes and get it working.\r\n\r\n","title":"Javamail Could not convert socket to TLS GMail","body":"<p>I disabled avast antivirus for 10 minutes and get it working.</p>\n"},{"tags":[],"owner":{"account_id":2971509,"reputation":313,"user_id":2523469,"display_name":"Rizwan_Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439353733,"creation_date":1439353733,"answer_id":31956045,"question_id":16115453,"body_markdown":"If your context is android application , \r\nthen make sure your android device time is set to current date and time. \r\nThe underlying exception is \r\n&quot;The SSL certificates was not getting authenticated.&quot;\r\n","title":"Javamail Could not convert socket to TLS GMail","body":"<p>If your context is android application , \nthen make sure your android device time is set to current date and time. \nThe underlying exception is \n\"The SSL certificates was not getting authenticated.\"</p>\n"},{"tags":[],"owner":{"account_id":7276616,"reputation":121,"user_id":5547845,"display_name":"Zulfiqar Ali"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1447772812,"creation_date":1447771210,"answer_id":33759685,"question_id":16115453,"body_markdown":"Here is the working solution bro. It&#39;s guaranteed\r\n\r\n1) First of all open your gmail account from which you wanted to send mail, like in you case &quot;&quot;xyz@gmail.com&quot;\r\n\r\n2) open this link below https://support.google.com/accounts/answer/6010255?hl=en\r\n\r\n3) click on &quot;Go to the &quot;Less secure apps&quot; section in My Account.&quot; option\r\n\r\n4) Then turn on it\r\n\r\n5) that&#39;s it (:\r\n\r\nhere is my code\r\n\r\n    import javax.mail.*;\r\n    import javax.mail.internet.*;\r\n    import java.util.*;\r\n    \r\n    public class SendEmail {\r\n    \r\n       final String senderEmailID = &quot;Sender Email id&quot;;\r\n    final String senderPassword = &quot;Sender Pass word&quot;;\r\n    final String emailSMTPserver = &quot;smtp.gmail.com&quot;;\r\n    final String emailServerPort = &quot;465&quot;;\r\n    String receiverEmailID = null;\r\n    static String emailSubject = &quot;Test Mail&quot;;\r\n    static String emailBody = &quot;:)&quot;;\r\n    public SendEmail(String receiverEmailID, String emailSubject, String emailBody)\r\n    {\r\n    this.receiverEmailID=receiverEmailID;\r\n    this.emailSubject=emailSubject;\r\n    this.emailBody=emailBody;\r\n    Properties props = new Properties();\r\n    props.put(&quot;mail.smtp.user&quot;,senderEmailID);\r\n    props.put(&quot;mail.smtp.host&quot;, emailSMTPserver);\r\n    props.put(&quot;mail.smtp.port&quot;, emailServerPort);\r\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    props.put(&quot;mail.smtp.socketFactory.port&quot;, emailServerPort);\r\n    props.put(&quot;mail.smtp.socketFactory.class&quot;,&quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n    props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\r\n    SecurityManager security = System.getSecurityManager();\r\n    try\r\n    {\r\n    Authenticator auth = new SMTPAuthenticator();\r\n    Session session = Session.getInstance(props, auth);\r\n    MimeMessage msg = new MimeMessage(session);\r\n    msg.setText(emailBody);\r\n    msg.setSubject(emailSubject);\r\n    msg.setFrom(new InternetAddress(senderEmailID));\r\n    msg.addRecipient(Message.RecipientType.TO,\r\n    new InternetAddress(receiverEmailID));\r\n    Transport.send(msg);\r\n    System.out.println(&quot;Message send Successfully:)&quot;);\r\n    }\r\n    catch (Exception mex)\r\n    {\r\n    mex.printStackTrace();\r\n    }\r\n    }\r\n    public class SMTPAuthenticator extends javax.mail.Authenticator\r\n    {\r\n    public PasswordAuthentication getPasswordAuthentication()\r\n    {\r\n    return new PasswordAuthentication(senderEmailID, senderPassword);\r\n    }\r\n    }\r\n        public static void main(String[] args) {\r\n           SendEmail mailSender;\r\n            mailSender = new SendEmail(&quot;Receiver Email id&quot;,&quot;Testing Code 2 example&quot;,&quot;Testing Code Body yess&quot;);\r\n        }\r\n    \r\n    }","title":"Javamail Could not convert socket to TLS GMail","body":"<p>Here is the working solution bro. It's guaranteed</p>\n\n<p>1) First of all open your gmail account from which you wanted to send mail, like in you case \"\"xyz@gmail.com\"</p>\n\n<p>2) open this link below <a href=\"https://support.google.com/accounts/answer/6010255?hl=en\" rel=\"nofollow\">https://support.google.com/accounts/answer/6010255?hl=en</a></p>\n\n<p>3) click on \"Go to the \"Less secure apps\" section in My Account.\" option</p>\n\n<p>4) Then turn on it</p>\n\n<p>5) that's it (:</p>\n\n<p>here is my code</p>\n\n<pre><code>import javax.mail.*;\nimport javax.mail.internet.*;\nimport java.util.*;\n\npublic class SendEmail {\n\n   final String senderEmailID = \"Sender Email id\";\nfinal String senderPassword = \"Sender Pass word\";\nfinal String emailSMTPserver = \"smtp.gmail.com\";\nfinal String emailServerPort = \"465\";\nString receiverEmailID = null;\nstatic String emailSubject = \"Test Mail\";\nstatic String emailBody = \":)\";\npublic SendEmail(String receiverEmailID, String emailSubject, String emailBody)\n{\nthis.receiverEmailID=receiverEmailID;\nthis.emailSubject=emailSubject;\nthis.emailBody=emailBody;\nProperties props = new Properties();\nprops.put(\"mail.smtp.user\",senderEmailID);\nprops.put(\"mail.smtp.host\", emailSMTPserver);\nprops.put(\"mail.smtp.port\", emailServerPort);\nprops.put(\"mail.smtp.starttls.enable\", \"true\");\nprops.put(\"mail.smtp.auth\", \"true\");\nprops.put(\"mail.smtp.socketFactory.port\", emailServerPort);\nprops.put(\"mail.smtp.socketFactory.class\",\"javax.net.ssl.SSLSocketFactory\");\nprops.put(\"mail.smtp.socketFactory.fallback\", \"false\");\nSecurityManager security = System.getSecurityManager();\ntry\n{\nAuthenticator auth = new SMTPAuthenticator();\nSession session = Session.getInstance(props, auth);\nMimeMessage msg = new MimeMessage(session);\nmsg.setText(emailBody);\nmsg.setSubject(emailSubject);\nmsg.setFrom(new InternetAddress(senderEmailID));\nmsg.addRecipient(Message.RecipientType.TO,\nnew InternetAddress(receiverEmailID));\nTransport.send(msg);\nSystem.out.println(\"Message send Successfully:)\");\n}\ncatch (Exception mex)\n{\nmex.printStackTrace();\n}\n}\npublic class SMTPAuthenticator extends javax.mail.Authenticator\n{\npublic PasswordAuthentication getPasswordAuthentication()\n{\nreturn new PasswordAuthentication(senderEmailID, senderPassword);\n}\n}\n    public static void main(String[] args) {\n       SendEmail mailSender;\n        mailSender = new SendEmail(\"Receiver Email id\",\"Testing Code 2 example\",\"Testing Code Body yess\");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4391538,"reputation":67,"user_id":3579731,"display_name":"Miadnew"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1497490197,"creation_date":1497208029,"answer_id":44487680,"question_id":16115453,"body_markdown":"What helped me fix this, and i have tried everything before this, was to configure my installed jre to JRE 1.8.  \r\n\r\nSteps in Eclipse:  Windows&gt;preferences&gt;java&gt;installed JRE&gt;jre1.8.0 \r\n\r\n If it is set to jdk, switch to jre(which is what is supposed to be set to by default with the latest java version).  ","title":"Javamail Could not convert socket to TLS GMail","body":"<p>What helped me fix this, and i have tried everything before this, was to configure my installed jre to JRE 1.8.  </p>\n\n<p>Steps in Eclipse:  Windows>preferences>java>installed JRE>jre1.8.0 </p>\n\n<p>If it is set to jdk, switch to jre(which is what is supposed to be set to by default with the latest java version).  </p>\n"},{"tags":[],"owner":{"account_id":7394006,"reputation":5031,"user_id":5626568,"display_name":"ℛɑƒ&#230;Ŀᴿᴹᴿ"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1523969013,"creation_date":1515073429,"answer_id":48096615,"question_id":16115453,"body_markdown":"The first answer from **@carlos** worked for me:\r\n\r\n    session.getProperties().put(&quot;mail.smtp.ssl.trust&quot;, &quot;smtp.gmail.com&quot;);\r\n\r\nI have tested the property below and worked perfectly for me too:\r\n\r\n    session.getProperties().put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\r\nThe two properties alone solved this type of problem, but by guarantee I used both.","title":"Javamail Could not convert socket to TLS GMail","body":"<p>The first answer from <strong>@carlos</strong> worked for me:</p>\n\n<pre><code>session.getProperties().put(\"mail.smtp.ssl.trust\", \"smtp.gmail.com\");\n</code></pre>\n\n<p>I have tested the property below and worked perfectly for me too:</p>\n\n<pre><code>session.getProperties().put(\"mail.smtp.starttls.enable\", \"true\");\n</code></pre>\n\n<p>The two properties alone solved this type of problem, but by guarantee I used both.</p>\n"},{"tags":[],"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1562869561,"creation_date":1562869561,"answer_id":56995296,"question_id":16115453,"body_markdown":"Try changing the port to 465\r\n\r\n    mail.smtp.socketFactory.port=465\r\n    mail.smtp.port=465","title":"Javamail Could not convert socket to TLS GMail","body":"<p>Try changing the port to 465</p>\n\n<pre><code>mail.smtp.socketFactory.port=465\nmail.smtp.port=465\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5843610,"reputation":325,"user_id":4604360,"display_name":"nurb"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1565782868,"creation_date":1565782868,"answer_id":57493986,"question_id":16115453,"body_markdown":"In my case the problem was solved by **deleting** the line\r\n\r\n    prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\r\nIt may be because of some ssl configuration errors on email server, I&#39;m not sure. Email server administrators never admit it and always blame hosting provider :)","title":"Javamail Could not convert socket to TLS GMail","body":"<p>In my case the problem was solved by <strong>deleting</strong> the line</p>\n\n<pre><code>prop.put(\"mail.smtp.starttls.enable\", \"true\");\n</code></pre>\n\n<p>It may be because of some ssl configuration errors on email server, I'm not sure. Email server administrators never admit it and always blame hosting provider :)</p>\n"},{"tags":[],"owner":{"account_id":14151975,"reputation":105,"user_id":10223676,"display_name":"Catalan Cabbage"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1566482640,"creation_date":1566482640,"answer_id":57611187,"question_id":16115453,"body_markdown":"This can also be if the application does not support the *TLS version* the SMTP host is using.\r\n\r\nFor example, trying to configure an SMTP server that uses TLSv1.2 without fallback, when your application(or java program using an older javax.mail JAR) supports only upto TLSv1.1. ","title":"Javamail Could not convert socket to TLS GMail","body":"<p>This can also be if the application does not support the <em>TLS version</em> the SMTP host is using.</p>\n\n<p>For example, trying to configure an SMTP server that uses TLSv1.2 without fallback, when your application(or java program using an older javax.mail JAR) supports only upto TLSv1.1. </p>\n"},{"tags":[],"owner":{"account_id":16355149,"reputation":1659,"user_id":11812518,"display_name":"Petar Bivolarski"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1579707590,"creation_date":1579707590,"answer_id":59863295,"question_id":16115453,"body_markdown":"After a full day of search, I disabled Avast for 10 minutes and Windows Firewall (important) and everything started working!\r\n\r\nThis was my error:\r\n\r\n    Mail server connection failed; nested exception is javax.mail.MessagingException: Could not convert socket to TLS; nested exception is: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target. Failed messages: javax.mail.MessagingException: Could not convert socket to TLS; nested exception is: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target  \r\n\r\n  \r\n\r\n**Here is how to fix the issue in Avast 19.8.2393** by adding an exclusion to SMTP port 587 (or whichever port your application uses):\r\n\r\n1. Open Avast\r\n\r\n2. Click on &#39;Settings&#39; \r\n\r\n3. Click on &#39;Troubleshooting&#39; and then &#39;Open old settings&#39;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n4. Click again on &#39;Troubleshooting&#39;, scroll down to &#39;Redirect settings&#39; and delete the port that your app uses.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIn my case, I just removed 587 from SMTP ports.\r\n\r\nNow I am able to use Avast and also have my Windows Firewall switched on (no need to add additional exclusion for the Firewall).\r\n\r\nHere are my **application.properties** e-mail properties:\r\n\r\n    ###### I am using a Google App Password which I generated in my Gmail Security settings ######\r\n    spring.mail.host = smtp.gmail.com\r\n    spring.mail.port = 587\r\n    spring.mail.protocol = smtp\r\n    spring.mail.username = gmail account\r\n    spring.mail.password = password\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n    spring.mail.properties.mail.smtp.connectiontimeout=5000\r\n    spring.mail.properties.mail.smtp.timeout=5000\r\n    spring.mail.properties.mail.smtp.writetimeout=5000\r\n\r\n  [1]: https://i.stack.imgur.com/XZww0.png\r\n  [2]: https://i.stack.imgur.com/oWxtD.png","title":"Javamail Could not convert socket to TLS GMail","body":"<p>After a full day of search, I disabled Avast for 10 minutes and Windows Firewall (important) and everything started working!</p>\n\n<p>This was my error:</p>\n\n<pre><code>Mail server connection failed; nested exception is javax.mail.MessagingException: Could not convert socket to TLS; nested exception is: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target. Failed messages: javax.mail.MessagingException: Could not convert socket to TLS; nested exception is: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target  \n</code></pre>\n\n<p><strong>Here is how to fix the issue in Avast 19.8.2393</strong> by adding an exclusion to SMTP port 587 (or whichever port your application uses):</p>\n\n<ol>\n<li><p>Open Avast</p></li>\n<li><p>Click on 'Settings' </p></li>\n<li><p>Click on 'Troubleshooting' and then 'Open old settings'</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/XZww0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XZww0.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"4\">\n<li>Click again on 'Troubleshooting', scroll down to 'Redirect settings' and delete the port that your app uses.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/oWxtD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oWxtD.png\" alt=\"enter image description here\"></a></p>\n\n<p>In my case, I just removed 587 from SMTP ports.</p>\n\n<p>Now I am able to use Avast and also have my Windows Firewall switched on (no need to add additional exclusion for the Firewall).</p>\n\n<p>Here are my <strong>application.properties</strong> e-mail properties:</p>\n\n<pre><code>###### I am using a Google App Password which I generated in my Gmail Security settings ######\nspring.mail.host = smtp.gmail.com\nspring.mail.port = 587\nspring.mail.protocol = smtp\nspring.mail.username = gmail account\nspring.mail.password = password\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\nspring.mail.properties.mail.smtp.connectiontimeout=5000\nspring.mail.properties.mail.smtp.timeout=5000\nspring.mail.properties.mail.smtp.writetimeout=5000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16105675,"reputation":625,"user_id":11625253,"display_name":"Priyanka Wagh"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1595016976,"creation_date":1595016976,"answer_id":62961216,"question_id":16115453,"body_markdown":"above application.properties worked amazing for me: \r\n\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n    spring.mail.properties.mail.smtp.starttls.required=true\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com","title":"Javamail Could not convert socket to TLS GMail","body":"<p>above application.properties worked amazing for me:</p>\n<pre><code>spring.mail.properties.mail.smtp.starttls.enable=true\nspring.mail.properties.mail.smtp.starttls.required=true\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2635164,"reputation":1119,"user_id":2280067,"display_name":"SJX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607349550,"creation_date":1607349550,"answer_id":65183120,"question_id":16115453,"body_markdown":"Check the version of your JavaMail lib (mail.jar or javax.mail.jar). Maybe you need a newer one.\r\nDownload the newest version from here: https://javaee.github.io/javamail/","title":"Javamail Could not convert socket to TLS GMail","body":"<p>Check the version of your JavaMail lib (mail.jar or javax.mail.jar). Maybe you need a newer one.\nDownload the newest version from here: <a href=\"https://javaee.github.io/javamail/\" rel=\"nofollow noreferrer\">https://javaee.github.io/javamail/</a></p>\n"},{"tags":[],"owner":{"account_id":6380922,"reputation":41,"user_id":4950403,"display_name":"yuriyni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609984354,"creation_date":1609908260,"answer_id":65590330,"question_id":16115453,"body_markdown":"Yes, it works for me on localhost:\r\n\r\n    props.put(&quot;mail.smtp.ssl.trust&quot;, &quot;smtp.gmail.com&quot;);\r\n\r\nThe error is only thrown on localhost, so you should try on remote servers too. Usually, it is the snippet of code mentioned above that works well without `ssl.trust` property\r\n","title":"Javamail Could not convert socket to TLS GMail","body":"<p>Yes, it works for me on localhost:</p>\n<pre><code>props.put(&quot;mail.smtp.ssl.trust&quot;, &quot;smtp.gmail.com&quot;);\n</code></pre>\n<p>The error is only thrown on localhost, so you should try on remote servers too. Usually, it is the snippet of code mentioned above that works well without <code>ssl.trust</code> property</p>\n"},{"tags":[],"owner":{"account_id":4343429,"reputation":859,"user_id":3546107,"display_name":"Delirante"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1610034368,"creation_date":1610034368,"answer_id":65615521,"question_id":16115453,"body_markdown":"I got similar problem when default SSL protocol for sending emails was set to TLSv1 and smtp server was not supporting this protocol anymore. \r\nTrick was to use newer protocol:\r\n\r\nmail.smtp.ssl.protocols=TLSv1.2\r\n","title":"Javamail Could not convert socket to TLS GMail","body":"<p>I got similar problem when default SSL protocol for sending emails was set to TLSv1 and smtp server was not supporting this protocol anymore.\nTrick was to use newer protocol:</p>\n<p>mail.smtp.ssl.protocols=TLSv1.2</p>\n"},{"tags":[],"owner":{"account_id":4370290,"reputation":1353,"user_id":3564874,"accept_rate":82,"display_name":"dev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629200620,"creation_date":1629198632,"answer_id":68816293,"question_id":16115453,"body_markdown":"Below set of properties in `application.properties` did the trick for me:\r\n\r\n    spring.mail.host=smtp.gmail.com\r\n    spring.mail.port=587\r\n    spring.mail.username=&lt;gmail_id&gt;\r\n    spring.mail.password=&lt;gmail_password&gt;\r\n    spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n    spring.mail.properties.mail.smtp.starttls.required=true\r\n\r\nNote that if you have enabled 2-Step Verification for your Gmail account then the `gmail_password` in the above configuration should not be an ordinary password but a 16-character application password generated for your Google account. Follow this [link][1] to see the details and to generate your Google App Password.\r\n\r\n\r\n  [1]: https://support.google.com/accounts/answer/185833","title":"Javamail Could not convert socket to TLS GMail","body":"<p>Below set of properties in <code>application.properties</code> did the trick for me:</p>\n<pre><code>spring.mail.host=smtp.gmail.com\nspring.mail.port=587\nspring.mail.username=&lt;gmail_id&gt;\nspring.mail.password=&lt;gmail_password&gt;\nspring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\nspring.mail.properties.mail.smtp.starttls.required=true\n</code></pre>\n<p>Note that if you have enabled 2-Step Verification for your Gmail account then the <code>gmail_password</code> in the above configuration should not be an ordinary password but a 16-character application password generated for your Google account. Follow this <a href=\"https://support.google.com/accounts/answer/185833\" rel=\"nofollow noreferrer\">link</a> to see the details and to generate your Google App Password.</p>\n"},{"tags":[],"owner":{"account_id":3563821,"reputation":400,"user_id":2975950,"display_name":"Ishfaq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634022101,"creation_date":1634022101,"answer_id":69536326,"question_id":16115453,"body_markdown":"In my case, I was using **OpenJDK**, when I **switched** to **OracleJDK** the issue was resolved.","title":"Javamail Could not convert socket to TLS GMail","body":"<p>In my case, I was using <strong>OpenJDK</strong>, when I <strong>switched</strong> to <strong>OracleJDK</strong> the issue was resolved.</p>\n"},{"tags":[],"owner":{"account_id":940012,"reputation":21855,"user_id":968244,"accept_rate":58,"display_name":"isapir"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1639360714,"creation_date":1639360714,"answer_id":70329210,"question_id":16115453,"body_markdown":"It depends on the &quot;Nested Exception&quot;.  If the nested exception is &quot;no appropriate protocol&quot; then specify the protocol in a System property:\r\n\r\n```\r\n-Dmail.smtp.ssl.protocols=TLSv1.2\r\n```\r\n\r\nI see that some people suggest to set it in the code that creates the STMP session, but that would require a patching and deployment if you want to update the value in the future.  Using a System property allows you to update it without changing the code.","title":"Javamail Could not convert socket to TLS GMail","body":"<p>It depends on the &quot;Nested Exception&quot;.  If the nested exception is &quot;no appropriate protocol&quot; then specify the protocol in a System property:</p>\n<pre><code>-Dmail.smtp.ssl.protocols=TLSv1.2\n</code></pre>\n<p>I see that some people suggest to set it in the code that creates the STMP session, but that would require a patching and deployment if you want to update the value in the future.  Using a System property allows you to update it without changing the code.</p>\n"},{"tags":[],"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1655046797,"creation_date":1655046797,"answer_id":72593451,"question_id":16115453,"body_markdown":"check that you have all this fields \r\n\r\n    Properties props = new Properties();\r\n    \tprops.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n    \tprops.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n    \tprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    \tprops.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n    \tprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);","title":"Javamail Could not convert socket to TLS GMail","body":"<p>check that you have all this fields</p>\n<pre><code>Properties props = new Properties();\n    props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n    props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655325479,"creation_date":1655325041,"answer_id":72637491,"question_id":16115453,"body_markdown":"The main answer: \r\n\r\n`props.put(&quot;mail.smtp.ssl.trust&quot;, &quot;smtp.gmail.com&quot;);`\r\n\r\nonly worked after I removed the following:\r\n\r\n    mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\r\n\r\n","title":"Javamail Could not convert socket to TLS GMail","body":"<p>The main answer:</p>\n<p><code>props.put(&quot;mail.smtp.ssl.trust&quot;, &quot;smtp.gmail.com&quot;);</code></p>\n<p>only worked after I removed the following:</p>\n<pre><code>mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\n</code></pre>\n"}],"owner":{"account_id":932671,"reputation":15737,"user_id":962206,"accept_rate":61,"display_name":"user962206"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265449,"favorite_count":0,"down_vote_count":0,"up_vote_count":89,"answer_count":21,"score":89,"last_activity_date":1655325479,"creation_date":1366419630,"question_id":16115453,"body_markdown":"I&#39;m trying to send an email using JavaMail through Gmail SMTP Server. This is the code:\r\n\t\r\n    final String username = &quot;mygmail@gmail.com&quot;;\r\n    final String password = &quot;mygmailpassword&quot;;\r\n    \r\n    Properties props = new Properties();\r\n    props.put(&quot;mail.smtp.auth&quot;, true);\r\n    props.put(&quot;mail.smtp.starttls.enable&quot;, true);\r\n    props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n    props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n    \r\n    Session session = Session.getInstance(props,\r\n        new javax.mail.Authenticator() {\r\n    \t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n    \t\t\treturn new PasswordAuthentication(username, password);\r\n    \t\t}\r\n    \t}\r\n\t);\r\n    \r\n    try {\r\n    \tMessage message = new MimeMessage(session);\r\n    \tmessage.setFrom(new InternetAddress(&quot;no-reply@gmail.com&quot;));\r\n    \tmessage.setRecipients(Message.RecipientType.TO,\r\n    \t\t\t\t\t\tInternetAddress.parse(&quot;test@gmail.com&quot;));\r\n    \tmessage.setSubject(&quot;Testing Subject&quot;);\r\n    \tmessage.setText(&quot;Dear Mail Crawler,&quot; + &quot;\\n\\n No spam to my email, please!&quot;);\r\n    \tTransport.send(message);\r\n    \tSystem.out.println(&quot;Done&quot;);\r\n    } catch (MessagingException e) {\r\n    \tthrow new RuntimeException(e);\r\n    }\r\n\r\nReturns an this error:\r\n\r\n&gt; Could not convert socket to TLS;\r\n\r\nThe complete stacktrace:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.RuntimeException: javax.mail.MessagingException: Could not convert socket to TLS;\r\n      nested exception is:\r\n    \tjavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat Test.main(Test.java:43)\r\n    Caused by: javax.mail.MessagingException: Could not convert socket to TLS;\r\n      nested exception is:\r\n    \tjavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1907)\r\n    \tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)\r\n    \tat javax.mail.Service.connect(Service.java:317)\r\n    \tat javax.mail.Service.connect(Service.java:176)\r\n    \tat javax.mail.Service.connect(Service.java:125)\r\n    \tat javax.mail.Transport.send0(Transport.java:194)\r\n    \tat javax.mail.Transport.send(Transport.java:124)\r\n    \tat Test.main(Test.java:38)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\r\n    \tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1649)\r\n    \tat com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:241)\r\n    \tat com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:235)\r\n    \tat com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1206)\r\n    \tat com.sun.net.ssl.internal.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:136)\r\n    \tat com.sun.net.ssl.internal.ssl.Handshaker.processLoop(Handshaker.java:593)\r\n    \tat com.sun.net.ssl.internal.ssl.Handshaker.process_record(Handshaker.java:529)\r\n    \tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:893)\r\n    \tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1138)\r\n    \tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1165)\r\n    \tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1149)\r\n    \tat com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:549)\r\n    \tat com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:486)\r\n    \tat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1902)\r\n    \t... 7 more\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:323)\r\n    \tat sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:217)\r\n    \tat sun.security.validator.Validator.validate(Validator.java:218)\r\n    \tat com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:126)\r\n    \tat com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:209)\r\n    \tat com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:249)\r\n    \tat com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1185)\r\n    \t... 17 more\r\n    Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:174)\r\n    \tat java.security.cert.CertPathBuilder.build(CertPathBuilder.java:238)\r\n    \tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:318)\r\n    \t... 23 more","title":"Javamail Could not convert socket to TLS GMail","body":"<p>I'm trying to send an email using JavaMail through Gmail SMTP Server. This is the code:</p>\n<pre><code>final String username = &quot;mygmail@gmail.com&quot;;\nfinal String password = &quot;mygmailpassword&quot;;\n\nProperties props = new Properties();\nprops.put(&quot;mail.smtp.auth&quot;, true);\nprops.put(&quot;mail.smtp.starttls.enable&quot;, true);\nprops.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\nprops.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n\nSession session = Session.getInstance(props,\n    new javax.mail.Authenticator() {\n        protected PasswordAuthentication getPasswordAuthentication() {\n            return new PasswordAuthentication(username, password);\n        }\n    }\n);\n\ntry {\n    Message message = new MimeMessage(session);\n    message.setFrom(new InternetAddress(&quot;no-reply@gmail.com&quot;));\n    message.setRecipients(Message.RecipientType.TO,\n                        InternetAddress.parse(&quot;test@gmail.com&quot;));\n    message.setSubject(&quot;Testing Subject&quot;);\n    message.setText(&quot;Dear Mail Crawler,&quot; + &quot;\\n\\n No spam to my email, please!&quot;);\n    Transport.send(message);\n    System.out.println(&quot;Done&quot;);\n} catch (MessagingException e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n<p>Returns an this error:</p>\n<blockquote>\n<p>Could not convert socket to TLS;</p>\n</blockquote>\n<p>The complete stacktrace:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.RuntimeException: javax.mail.MessagingException: Could not convert socket to TLS;\nnested exception is:\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat Test.main(Test.java:43)\nCaused by: javax.mail.MessagingException: Could not convert socket to TLS;\nnested exception is:\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1907)\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)\nat javax.mail.Service.connect(Service.java:317)\nat javax.mail.Service.connect(Service.java:176)\nat javax.mail.Service.connect(Service.java:125)\nat javax.mail.Transport.send0(Transport.java:194)\nat javax.mail.Transport.send(Transport.java:124)\nat Test.main(Test.java:38)\nCaused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1649)\nat com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:241)\nat com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:235)\nat com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1206)\nat com.sun.net.ssl.internal.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:136)\nat com.sun.net.ssl.internal.ssl.Handshaker.processLoop(Handshaker.java:593)\nat com.sun.net.ssl.internal.ssl.Handshaker.process_record(Handshaker.java:529)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:893)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1138)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1165)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1149)\nat com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:549)\nat com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:486)\nat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1902)\n... 7 more\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:323)\nat sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:217)\nat sun.security.validator.Validator.validate(Validator.java:218)\nat com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:126)\nat com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:209)\nat com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:249)\nat com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1185)\n... 17 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:174)\nat java.security.cert.CertPathBuilder.build(CertPathBuilder.java:238)\nat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:318)\n... 23 more</p>\n</blockquote>\n"},{"tags":["java","spring-boot","hibernate","jpa","ibm-mq"],"comments":[{"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"score":0,"creation_date":1655323377,"post_id":72637096,"comment_id":128308549,"body_markdown":"Maybe changing the propagation level of the transaction in `persistUserDetails()` will help you, I mean REQIURED_NEW.","body":"Maybe changing the propagation level of the transaction in <code>persistUserDetails()</code> will help you, I mean REQIURED_NEW."}],"answers":[{"tags":[],"owner":{"account_id":16273889,"reputation":2910,"user_id":11751648,"display_name":"areus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655324824,"creation_date":1655324824,"answer_id":72637454,"question_id":72637096,"body_markdown":"If you need the SQL statements to be sent to the database, you can call `entityManager.flush()` after persisting. But still the transaction will not be comitted until the full executioms finishes.\r\n\r\nIf you need the database transaction to be committed before sending the messages you need to wrap the persist call within a service that starts a new transaction. In an EJB for example that would be method with transaction attribute `REQUIRES_NEW`.","title":"Hibernate save() function in MQ listener flow persists only after listener execution completes","body":"<p>If you need the SQL statements to be sent to the database, you can call <code>entityManager.flush()</code> after persisting. But still the transaction will not be comitted until the full executioms finishes.</p>\n<p>If you need the database transaction to be committed before sending the messages you need to wrap the persist call within a service that starts a new transaction. In an EJB for example that would be method with transaction attribute <code>REQUIRES_NEW</code>.</p>\n"}],"owner":{"account_id":6321171,"reputation":669,"user_id":4909177,"accept_rate":27,"display_name":"das"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72637454,"answer_count":1,"score":0,"last_activity_date":1655324824,"creation_date":1655322561,"question_id":72637096,"body_markdown":"Consider the code snippet below. The MQ listener does 2 activities - 1. Persist the object received in MQ 2. Send APNS notification to 100 devices.\r\n\r\n```\r\n      @JmsListener(destination = &quot;${mq.queue.name}&quot;)\r\n\t  public void receiveMessage(String user) throws IOException {\r\n\t\ttry {\r\n\t\t\tUserDetailsVO userObject = mapper.readValue(user, UserDetailsVO.class);\r\n\t\t\tString result=persistUserDetails(userObject);\t\t\t\r\n\t\t\tif(result.equalsIgnoreCase(&quot;success&quot;)) {\r\n\t\t\t\tuserService.sendAPNS(); //Sends notification to 100 devices\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\tlogger.error(Error processing MQ message);\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic String persistUserDetails(UserDetailsVO userObject) {\r\n\t\tuserDao.save(); // Using hibernate method\r\n\t\treturn &quot;success&quot;;\r\n\t}\r\n\r\n    public void sendAPNS() {\r\n       // sending APNS to devices\r\n    }\r\n ```\r\nHere eventhough the persistUserDetails() function called before sendAPNS(), the user object is not persisted immediately in the database. Instead, it waits for the sendAPNS() to finish the activity and then the data is persisted in table. My need is to persist immediately the user details than waiting for the entire execution completes. What changes should I make? \r\n\r\nThe JPA configuration properties are given below:\r\n```\r\nspring.jpa.hibernate.ddl-auto = update\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\r\nspring.jpa.properties.hibernate.show_sql=false\r\nspring.jpa.properties.hibernate.jdbc.time_zone=UTC\r\n```\r\n","title":"Hibernate save() function in MQ listener flow persists only after listener execution completes","body":"<p>Consider the code snippet below. The MQ listener does 2 activities - 1. Persist the object received in MQ 2. Send APNS notification to 100 devices.</p>\n<pre><code>      @JmsListener(destination = &quot;${mq.queue.name}&quot;)\n      public void receiveMessage(String user) throws IOException {\n        try {\n            UserDetailsVO userObject = mapper.readValue(user, UserDetailsVO.class);\n            String result=persistUserDetails(userObject);           \n            if(result.equalsIgnoreCase(&quot;success&quot;)) {\n                userService.sendAPNS(); //Sends notification to 100 devices\n            }\n        }\n        catch(Exception e)\n        {\n            logger.error(Error processing MQ message);      \n        }\n    }\n    \n    public String persistUserDetails(UserDetailsVO userObject) {\n        userDao.save(); // Using hibernate method\n        return &quot;success&quot;;\n    }\n\n    public void sendAPNS() {\n       // sending APNS to devices\n    }\n</code></pre>\n<p>Here eventhough the persistUserDetails() function called before sendAPNS(), the user object is not persisted immediately in the database. Instead, it waits for the sendAPNS() to finish the activity and then the data is persisted in table. My need is to persist immediately the user details than waiting for the entire execution completes. What changes should I make?</p>\n<p>The JPA configuration properties are given below:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto = update\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.properties.hibernate.show_sql=false\nspring.jpa.properties.hibernate.jdbc.time_zone=UTC\n</code></pre>\n"},{"tags":["java","arrays","types"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1655315643,"post_id":72635794,"comment_id":128305917,"body_markdown":"Note that `ObjectOutputStream` tells you nothing about the size of the object _in memory,_ just the size of the object when serialized, _with_ all the expense of any headers or trailing data added by the `ObjectOutputStream`.","body":"Note that <code>ObjectOutputStream</code> tells you nothing about the size of the object <i>in memory,</i> just the size of the object when serialized, <i>with</i> all the expense of any headers or trailing data added by the <code>ObjectOutputStream</code>."}],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1655324795,"creation_date":1655324795,"answer_id":72637449,"question_id":72635794,"body_markdown":"In Java `byte` is a primitive type passed by-value, but _all_ arrays are effectively objects and by-reference, including `byte[]`.\r\n\r\nIf you pass a `byte[1]` to your `sizeOf` it passes the array, because all object types are subclasses of and compatible with the parameter `Object input`, and `sizeOf` serializes the array.\r\n\r\nIf you try to pass a primitive `byte` it doesn&#39;t work, because no primitive type is a reference type so it cannot be compatible with `java.lang.Object` or any other object type. Instead the `byte` is [&#39;boxed&#39;](https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.7) to an an object of the language-defined class `java.lang.Byte` (note different spelling) -- and `sizeOf` serializes _that object_. This is often called _auto-boxing_ (and auto-unboxing for the reverse) because the compiler does these conversions without you writing them in the source code. The boxed object is actually about the same size in memory as the array (and both are significantly larger than the primitive), but as commented by https://stackoverflow.com/users/869736/louis-wasserman the _serialization_ of the `java.lang.Byte` object is more complicated and longer than the _serialization_ of the `byte[1]` array. \r\n","title":"How can an array of a data type with the size [1] suddenly be bigger than the datatype itself in Java","body":"<p>In Java <code>byte</code> is a primitive type passed by-value, but <em>all</em> arrays are effectively objects and by-reference, including <code>byte[]</code>.</p>\n<p>If you pass a <code>byte[1]</code> to your <code>sizeOf</code> it passes the array, because all object types are subclasses of and compatible with the parameter <code>Object input</code>, and <code>sizeOf</code> serializes the array.</p>\n<p>If you try to pass a primitive <code>byte</code> it doesn't work, because no primitive type is a reference type so it cannot be compatible with <code>java.lang.Object</code> or any other object type. Instead the <code>byte</code> is <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.7\" rel=\"nofollow noreferrer\">'boxed'</a> to an an object of the language-defined class <code>java.lang.Byte</code> (note different spelling) -- and <code>sizeOf</code> serializes <em>that object</em>. This is often called <em>auto-boxing</em> (and auto-unboxing for the reverse) because the compiler does these conversions without you writing them in the source code. The boxed object is actually about the same size in memory as the array (and both are significantly larger than the primitive), but as commented by <a href=\"https://stackoverflow.com/users/869736/louis-wasserman\">https://stackoverflow.com/users/869736/louis-wasserman</a> the <em>serialization</em> of the <code>java.lang.Byte</code> object is more complicated and longer than the <em>serialization</em> of the <code>byte[1]</code> array.</p>\n"}],"owner":{"account_id":22467762,"reputation":117,"user_id":16668650,"display_name":"Giancarlo Metitieri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655324795,"creation_date":1655315512,"question_id":72635794,"body_markdown":"today I have been experimenting with memory in java. Specifically, I was deserializing objects into binary data and reserializing them. Something caught my eye and that is that for example an array of bytes with the size 1 takes up less binary data than defining a byte. Here&#39;s what I mean:\r\n\r\nI defined a single byte in java and printed out the binary data of the byte:\r\n```\r\nbyte size: 75bytes\r\n101011001110110100000000000001010111001101110010000000000000111001101010011000010111011001100001001011100110110001100001011011100110011100101110010000100111100101110100011001011001110001001110011000001000010011101110010100001111010100011100000000100000000000000001010000100000000000000101011101100110000101101100011101010110010101111000011100100000000000010000011010100110000101110110011000010010111001101100011000010110111001100111001011100100111001110101011011010110001001100101011100101000011010101100100101010001110100001011100101001110000010001011000000100000000000000000011110000111000000000001\r\n```\r\n\r\nand here&#39;s a byte[1] array\r\n```\r\nbyte[] size: 28bytes\r\n10101100111011010000000000000101011101010111001000000000000000100101101101000010101011001111001100010111111110000000011000001000010101001110000000000010000000000000000001111000011100000000000000000000000000000000000100000001\r\n```\r\nBut if I print out the size of byte[0] (byte at location 0 in the array) it suddenly grows back to 75bytes:\r\n```\r\nsize of byte[0] in byte array:\r\n101011001110110100000000000001010111001101110010000000000000111001101010011000010111011001100001001011100110110001100001011011100110011100101110010000100111100101110100011001011001110001001110011000001000010011101110010100001111010100011100000000100000000000000001010000100000000000000101011101100110000101101100011101010110010101111000011100100000000000010000011010100110000101110110011000010010111001101100011000010110111001100111001011100100111001110101011011010110001001100101011100101000011010101100100101010001110100001011100101001110000010001011000000100000000000000000011110000111000000000001\r\n```\r\n\r\nAnd yes, it&#39;s the full object and not metadata or something because using this binary i can reconstruct the object to it&#39;s original state so the values are stored inside the binary data. Here&#39;s the code I used to find out the size of the data:\r\n```java\r\npublic class MemoryFunctions {\r\n    static int sizeOf(Object input) {\r\n        int size = 0;\r\n        ByteArrayOutputStream checker = new ByteArrayOutputStream();\r\n\r\n        try {\r\n            ObjectOutputStream byteArray = new ObjectOutputStream(checker);\r\n            byteArray.writeObject(input);\r\n            byteArray.flush();\r\n            byte sizeDetector[]  = checker.toByteArray();\r\n            size = sizeDetector.length;\r\n            int amountOfBytes = 0;\r\n            for (byte b:\r\n                 sizeDetector) {\r\n                System.out.print(String.format(&quot;%8s&quot;, Integer.toBinaryString(b &amp; 0xFF)).replace(&#39; &#39;, &#39;0&#39;));\r\n                amountOfBytes +=1;\r\n            }\r\n            System.out.println(&quot;real size in byte &quot; + amountOfBytes);\r\n            System.out.println();\r\n        } catch (Exception e) {\r\n            System.err.println(e);\r\n        }\r\n        return size;\r\n    }\r\n}\r\n``` \r\n\r\nIs there any reason, that a byte array takes up less space than the byte itself? I need to heavily optimize a program. Using this information, would it be a better idea to have the values of a class that I want to deserialize into binary data in array form or are there any benefits of using &quot;the full value&quot;? Also, I am kind of confused with this information because as far as I know, byte and byte[] are primitive datatypes so they don&#39;t get called by reference but are stored as binary in memory &quot;as is&quot;. What I also found out that getting the size of value 0 in the smaller array suddenly generates me a new int because it&#39;s size is again 75 bytes. Does this mean that values are generated another time when you call an index of an array?\r\n\r\nIt&#39;d be nice if any of you had more information about this topic and could answer my questions.\r\n\r\n","title":"How can an array of a data type with the size [1] suddenly be bigger than the datatype itself in Java","body":"<p>today I have been experimenting with memory in java. Specifically, I was deserializing objects into binary data and reserializing them. Something caught my eye and that is that for example an array of bytes with the size 1 takes up less binary data than defining a byte. Here's what I mean:</p>\n<p>I defined a single byte in java and printed out the binary data of the byte:</p>\n<pre><code>byte size: 75bytes\n101011001110110100000000000001010111001101110010000000000000111001101010011000010111011001100001001011100110110001100001011011100110011100101110010000100111100101110100011001011001110001001110011000001000010011101110010100001111010100011100000000100000000000000001010000100000000000000101011101100110000101101100011101010110010101111000011100100000000000010000011010100110000101110110011000010010111001101100011000010110111001100111001011100100111001110101011011010110001001100101011100101000011010101100100101010001110100001011100101001110000010001011000000100000000000000000011110000111000000000001\n</code></pre>\n<p>and here's a byte[1] array</p>\n<pre><code>byte[] size: 28bytes\n10101100111011010000000000000101011101010111001000000000000000100101101101000010101011001111001100010111111110000000011000001000010101001110000000000010000000000000000001111000011100000000000000000000000000000000000100000001\n</code></pre>\n<p>But if I print out the size of byte[0] (byte at location 0 in the array) it suddenly grows back to 75bytes:</p>\n<pre><code>size of byte[0] in byte array:\n101011001110110100000000000001010111001101110010000000000000111001101010011000010111011001100001001011100110110001100001011011100110011100101110010000100111100101110100011001011001110001001110011000001000010011101110010100001111010100011100000000100000000000000001010000100000000000000101011101100110000101101100011101010110010101111000011100100000000000010000011010100110000101110110011000010010111001101100011000010110111001100111001011100100111001110101011011010110001001100101011100101000011010101100100101010001110100001011100101001110000010001011000000100000000000000000011110000111000000000001\n</code></pre>\n<p>And yes, it's the full object and not metadata or something because using this binary i can reconstruct the object to it's original state so the values are stored inside the binary data. Here's the code I used to find out the size of the data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MemoryFunctions {\n    static int sizeOf(Object input) {\n        int size = 0;\n        ByteArrayOutputStream checker = new ByteArrayOutputStream();\n\n        try {\n            ObjectOutputStream byteArray = new ObjectOutputStream(checker);\n            byteArray.writeObject(input);\n            byteArray.flush();\n            byte sizeDetector[]  = checker.toByteArray();\n            size = sizeDetector.length;\n            int amountOfBytes = 0;\n            for (byte b:\n                 sizeDetector) {\n                System.out.print(String.format(&quot;%8s&quot;, Integer.toBinaryString(b &amp; 0xFF)).replace(' ', '0'));\n                amountOfBytes +=1;\n            }\n            System.out.println(&quot;real size in byte &quot; + amountOfBytes);\n            System.out.println();\n        } catch (Exception e) {\n            System.err.println(e);\n        }\n        return size;\n    }\n}\n</code></pre>\n<p>Is there any reason, that a byte array takes up less space than the byte itself? I need to heavily optimize a program. Using this information, would it be a better idea to have the values of a class that I want to deserialize into binary data in array form or are there any benefits of using &quot;the full value&quot;? Also, I am kind of confused with this information because as far as I know, byte and byte[] are primitive datatypes so they don't get called by reference but are stored as binary in memory &quot;as is&quot;. What I also found out that getting the size of value 0 in the smaller array suddenly generates me a new int because it's size is again 75 bytes. Does this mean that values are generated another time when you call an index of an array?</p>\n<p>It'd be nice if any of you had more information about this topic and could answer my questions.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18536445,"reputation":1099,"user_id":13506001,"display_name":"Rohith V"},"score":0,"creation_date":1655311712,"post_id":72635026,"comment_id":128304654,"body_markdown":"what the second if condition `if(held != true` mean?","body":"what the second if condition <code>if(held != true</code> mean?"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1655311721,"post_id":72635026,"comment_id":128304659,"body_markdown":"`if (held)` will suffice, you don&#39;t need the `== true` bit. Either way, whatever you put after `if(held != true) {` will be unreachable code and never run, since at that point `held` can only ever be `true`.","body":"<code>if (held)</code> will suffice, you don&#39;t need the <code>== true</code> bit. Either way, whatever you put after <code>if(held != true) {</code> will be unreachable code and never run, since at that point <code>held</code> can only ever be <code>true</code>."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1655319185,"post_id":72635026,"comment_id":128307158,"body_markdown":"You shouldn&#39;t name your class `Random`, because there is already a class `java.util.Random`, which might result in a naming conflict.","body":"You shouldn&#39;t name your class <code>Random</code>, because there is already a class <code>java.util.Random</code>, which might result in a naming conflict."}],"answers":[{"tags":[],"owner":{"account_id":7900776,"reputation":3946,"user_id":5967872,"display_name":"KYL3R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655311590,"creation_date":1655311590,"answer_id":72635044,"question_id":72635026,"body_markdown":"Just take another look at your logic:\r\n    \r\n    if(held == true) {\r\n        if(held != true) {\r\n            \r\n        }\r\n    }\r\n\r\nI only removed some lines to hint you to the mistake :)","title":"Java conditional statement issues","body":"<p>Just take another look at your logic:</p>\n<pre><code>if(held == true) {\n    if(held != true) {\n        \n    }\n}\n</code></pre>\n<p>I only removed some lines to hint you to the mistake :)</p>\n"},{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1655324792,"creation_date":1655313041,"answer_id":72635332,"question_id":72635026,"body_markdown":"    public class Random {\r\n        public boolean held = false;\r\n\r\n        Random() {\r\n        }\r\n\r\n        public static void printhi() {\r\n            System.out.print(&quot;hi&quot;);\r\n        }\r\n\r\n\r\n        public void setHeld(boolean held) throws AWTException {\r\n            this.held = held;\r\n            if (held) {\r\n                Robot robot = new Robot();\r\n                robot.mousePress(MouseEvent.BUTTON1_DOWN_MASK);\r\n                robot.delay(100);\r\n                robot.mouseRelease(MouseEvent.BUTTON1_DOWN_MASK);\r\n            } else {\r\n                //do stuff\r\n            }\r\n\r\n\r\n        }\r\n    }","title":"Java conditional statement issues","body":"<pre><code>public class Random {\n    public boolean held = false;\n\n    Random() {\n    }\n\n    public static void printhi() {\n        System.out.print(&quot;hi&quot;);\n    }\n\n\n    public void setHeld(boolean held) throws AWTException {\n        this.held = held;\n        if (held) {\n            Robot robot = new Robot();\n            robot.mousePress(MouseEvent.BUTTON1_DOWN_MASK);\n            robot.delay(100);\n            robot.mouseRelease(MouseEvent.BUTTON1_DOWN_MASK);\n        } else {\n            //do stuff\n        }\n\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25545655,"reputation":1,"user_id":19331018,"display_name":"Kevin J"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1655324792,"creation_date":1655311529,"question_id":72635026,"body_markdown":"I just started Java yesterday and been having some issues with conditional statements.\r\nTrying to disable and autoclicker when my mouse is up, and enable it when my mouse is down. But the clicker still clicks? How should I have this set up?\r\n\r\n    public class Random {\r\n\tpublic boolean held;\r\n\tRandom(){\r\n\t\theld = false;\r\n\t}\r\n\tpublic void printhi() {\r\n\t\tSystem.out.print(&quot;hi&quot;);\r\n\t}\r\n\t\r\n\r\n\tpublic void setHeld(boolean held) throws AWTException {\r\n\t\tthis.held = held;\r\n\t\tif(held == true) {\r\n\t\t\tRobot robot = new Robot();\r\n\t\t\trobot.mousePress(MouseEvent.BUTTON1_DOWN_MASK);\r\n            robot.delay(100);\r\n\t\t\trobot.mouseRelease(MouseEvent.BUTTON1_DOWN_MASK);\r\n\t\t\tif(held != true) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n\t\t\r\n\t\t\t\r\n\t}","title":"Java conditional statement issues","body":"<p>I just started Java yesterday and been having some issues with conditional statements.\nTrying to disable and autoclicker when my mouse is up, and enable it when my mouse is down. But the clicker still clicks? How should I have this set up?</p>\n<pre><code>public class Random {\npublic boolean held;\nRandom(){\n    held = false;\n}\npublic void printhi() {\n    System.out.print(&quot;hi&quot;);\n}\n\n\npublic void setHeld(boolean held) throws AWTException {\n    this.held = held;\n    if(held == true) {\n        Robot robot = new Robot();\n        robot.mousePress(MouseEvent.BUTTON1_DOWN_MASK);\n        robot.delay(100);\n        robot.mouseRelease(MouseEvent.BUTTON1_DOWN_MASK);\n        if(held != true) {\n            \n        }\n    }\n\n    \n    \n        \n}\n</code></pre>\n"},{"tags":["java","spotbugs"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1655325182,"post_id":72637255,"comment_id":128309100,"body_markdown":"It&#39;s just not smart enough.","body":"It&#39;s just not smart enough."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1655325977,"post_id":72637255,"comment_id":128309347,"body_markdown":"how should it know that the list is unmodifiable? It is vulnerable, list can easily be replaced using reflection for example (addressing only the 1st question/part)","body":"how should it know that the list is unmodifiable? It is vulnerable, list can easily be replaced using reflection for example (addressing only the 1st question/part)"},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1655326446,"post_id":72637255,"comment_id":128309472,"body_markdown":"@user16320675 One could say the same about the getter. The method could be intercepted to return the list itself, not wrapped in an unmodifiable view.","body":"@user16320675 One could say the same about the getter. The method could be intercepted to return the list itself, not wrapped in an unmodifiable view."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1655326680,"post_id":72637255,"comment_id":128309537,"body_markdown":"so? since that can be done, exposing the list is secure?","body":"so? since that can be done, exposing the list is secure?"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1655341647,"post_id":72637255,"comment_id":128312174,"body_markdown":"I put your code into IntelliJ and ran the built-in code analyzer (Code &gt; Inspect Code) and it didn&#39;t flag any issues. It does seem like overly cautious behavior on the part of SpotBugs. I didn&#39;t find any useful info [in their docs](https://spotbugs.readthedocs.io/en/stable/bugDescriptions.html#ei2-may-expose-internal-representation-by-incorporating-reference-to-mutable-object-ei-expose-rep2) either.","body":"I put your code into IntelliJ and ran the built-in code analyzer (Code &gt; Inspect Code) and it didn&#39;t flag any issues. It does seem like overly cautious behavior on the part of SpotBugs. I didn&#39;t find any useful info <a href=\"https://spotbugs.readthedocs.io/en/stable/bugDescriptions.html#ei2-may-expose-internal-representation-by-incorporating-reference-to-mutable-object-ei-expose-rep2\" rel=\"nofollow noreferrer\">in their docs</a> either."},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1664343020,"post_id":72637255,"comment_id":130446618,"body_markdown":"FYI, I reported the false positive: https://github.com/spotbugs/spotbugs/issues/2083.","body":"FYI, I reported the false positive: <a href=\"https://github.com/spotbugs/spotbugs/issues/2083\" rel=\"nofollow noreferrer\">github.com/spotbugs/spotbugs/issues/2083</a>."}],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655323927,"creation_date":1655323531,"question_id":72637255,"body_markdown":"Consider the following example class.\r\n\r\n```java\r\npublic class ListWrapper&lt;T&gt; {\r\n\r\n  public ListWrapper(List&lt;T&gt; list) {\r\n    this.list = Collections.unmodifiableList(list);\r\n  }\r\n\r\n  private final List&lt;T&gt; list;\r\n\r\n  public List&lt;T&gt; getList() {\r\n    return list; // EI_EXPOSE_REP reported here.\r\n  }\r\n\r\n}\r\n```\r\n\r\nSpotBugs reports the above noted line as vulnerable.\r\n\r\nCallers of `getList()` cannot modify the list, therefore, the internal representation of `ListWrapper` instances. Is SpotBugs just not smart enough to identify that the list cannot be modified, or am I missing something?\r\n\r\nI can change the class to make a copy of the list in the constructor and return an unmodifiable view of the list in the getter.\r\n\r\n```java\r\npublic class ListWrapper&lt;T&gt; {\r\n  \r\n  public ListWrapper(List&lt;T&gt; list, Function&lt;List&lt;T&gt;, List&lt;T&gt;&gt; wrapper) {\r\n    this.list = wrapper.apply(list);\r\n  }\r\n\r\n  private final List&lt;T&gt; list;\r\n\r\n  public List&lt;T&gt; getList() {\r\n    return Collections.unmodifiableList(list);\r\n  }\r\n\r\n}\r\n```\r\n\r\nBut that is not my goal here. I want the list to be unmodifiable within the scope of `ListWrapper` instances, so I store it as an unmodifiable view in the constructor. It would be pointless to wrap it once again in the getter.\r\n\r\nMaybe this is a bug. I noticed another strange behavior.\r\n\r\nSomething like the following will report `EI_EXPOSE_REP2`, as expected.\r\n\r\n```java\r\npublic ListWrapper(List&lt;T&gt; list) {\r\n  this.list = list; // EI_EXPOSE_REP2 reported here.\r\n}\r\n```\r\n\r\nNot for the following.\r\n\r\n```java\r\npublic ListWrapper(Supplier&lt;List&lt;T&gt;&gt; listSupplier) {\r\n  this.list = listSupplier.get();\r\n}\r\n```\r\n\r\nBut with the above, there&#39;s nothing stopping someone from doing something like this.\r\n\r\n```java\r\nfinal List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\nfinal ListWrapper&lt;Integer&gt; listWrapper = new ListWrapper&lt;&gt;(() -&gt; list);\r\n```","title":"SpotBugs reports malicious code vulnerability - is it really vulnerable?","body":"<p>Consider the following example class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ListWrapper&lt;T&gt; {\n\n  public ListWrapper(List&lt;T&gt; list) {\n    this.list = Collections.unmodifiableList(list);\n  }\n\n  private final List&lt;T&gt; list;\n\n  public List&lt;T&gt; getList() {\n    return list; // EI_EXPOSE_REP reported here.\n  }\n\n}\n</code></pre>\n<p>SpotBugs reports the above noted line as vulnerable.</p>\n<p>Callers of <code>getList()</code> cannot modify the list, therefore, the internal representation of <code>ListWrapper</code> instances. Is SpotBugs just not smart enough to identify that the list cannot be modified, or am I missing something?</p>\n<p>I can change the class to make a copy of the list in the constructor and return an unmodifiable view of the list in the getter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ListWrapper&lt;T&gt; {\n  \n  public ListWrapper(List&lt;T&gt; list, Function&lt;List&lt;T&gt;, List&lt;T&gt;&gt; wrapper) {\n    this.list = wrapper.apply(list);\n  }\n\n  private final List&lt;T&gt; list;\n\n  public List&lt;T&gt; getList() {\n    return Collections.unmodifiableList(list);\n  }\n\n}\n</code></pre>\n<p>But that is not my goal here. I want the list to be unmodifiable within the scope of <code>ListWrapper</code> instances, so I store it as an unmodifiable view in the constructor. It would be pointless to wrap it once again in the getter.</p>\n<p>Maybe this is a bug. I noticed another strange behavior.</p>\n<p>Something like the following will report <code>EI_EXPOSE_REP2</code>, as expected.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ListWrapper(List&lt;T&gt; list) {\n  this.list = list; // EI_EXPOSE_REP2 reported here.\n}\n</code></pre>\n<p>Not for the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ListWrapper(Supplier&lt;List&lt;T&gt;&gt; listSupplier) {\n  this.list = listSupplier.get();\n}\n</code></pre>\n<p>But with the above, there's nothing stopping someone from doing something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nfinal ListWrapper&lt;Integer&gt; listWrapper = new ListWrapper&lt;&gt;(() -&gt; list);\n</code></pre>\n"},{"tags":["java","ssl","tls1.3"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1655165121,"post_id":72608363,"comment_id":128262225,"body_markdown":"Your server needs to implement a custom `X509TrustManager` that accepts any certificate.","body":"Your server needs to implement a custom <code>X509TrustManager</code> that accepts any certificate."},{"owner":{"account_id":2062102,"reputation":198,"user_id":1838412,"display_name":"Dertalai"},"score":0,"creation_date":1655241440,"post_id":72608363,"comment_id":128285120,"body_markdown":"Already implementing it (same for both sides). Both `checkClientTrusted` and `checkServerTrusted` custom methods are just empty. This is working for client side with other tools. But server side fails if I try to force authentication from client.","body":"Already implementing it (same for both sides). Both <code>checkClientTrusted</code> and <code>checkServerTrusted</code> custom methods are just empty. This is working for client side with other tools. But server side fails if I try to force authentication from client."}],"answers":[{"tags":[],"owner":{"account_id":2062102,"reputation":198,"user_id":1838412,"display_name":"Dertalai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655323852,"creation_date":1655323852,"answer_id":72637304,"question_id":72608363,"body_markdown":"So now it&#39;s working.\r\n\r\nFirst I was forcing handshake only on client side. It seems to be OK, but adding it in server side produces better error messages.\r\n\r\nSo I added on server side this last line after accepting connection (Groovy code):\r\n\r\n    ss.setNeedClientAuth(true)\r\n    SSLSocket socket = ss.accept() as SSLSocket\r\n    socket.startHandshake()\r\n\r\nThen I got a more indicating error when a client arrives:\r\n\r\n    Exception in thread &quot;main&quot; javax.net.ssl.SSLException: Cannot read the array length because &quot;caCerts&quot; is null\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:133)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:371)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:309)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1702)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:465)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:421)\r\n\tat javax.net.ssl.SSLSocket$startHandshake.call(Unknown Source)\r\n\r\nSo after a while I found something suspicious in the piece of code to accept connections from ANY certificate:\r\n\r\n    def x509TrustAllCerts = new X509TrustManager() {\r\n            X509Certificate[] getAcceptedIssuers() {\r\n                return null // &lt;--- SUSPICIOUS!!\r\n            }\r\n            void checkClientTrusted(X509Certificate[] certs, String authType) { }\r\n            void checkServerTrusted(X509Certificate[] certs, String authType) { }\r\n        }\r\n    TrustManager[] trustAllCerts = new TrustManager[] { x509TrustAllCerts }\r\n\r\nSo I made the simplest fix changing `null` to empty array:\r\n\r\n    def x509TrustAllCerts = new X509TrustManager() {\r\n            X509Certificate[] getAcceptedIssuers() {\r\n                return new X509Certificate[0] // &lt;-- FIX\r\n            }\r\n            void checkClientTrusted(X509Certificate[] certs, String authType) { }\r\n            void checkServerTrusted(X509Certificate[] certs, String authType) { }\r\n        }\r\n    TrustManager[] trustAllCerts = new TrustManager[] { x509TrustAllCerts }\r\n\r\nNow it&#39;s working the way I intended.","title":"Java SSLServerSocket: Request client certificate allowing ANY client certificate","body":"<p>So now it's working.</p>\n<p>First I was forcing handshake only on client side. It seems to be OK, but adding it in server side produces better error messages.</p>\n<p>So I added on server side this last line after accepting connection (Groovy code):</p>\n<pre><code>ss.setNeedClientAuth(true)\nSSLSocket socket = ss.accept() as SSLSocket\nsocket.startHandshake()\n</code></pre>\n<p>Then I got a more indicating error when a client arrives:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.net.ssl.SSLException: Cannot read the array length because &quot;caCerts&quot; is null\nat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:133)\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:371)\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:309)\nat java.base/sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1702)\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:465)\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:421)\nat javax.net.ssl.SSLSocket$startHandshake.call(Unknown Source)\n</code></pre>\n<p>So after a while I found something suspicious in the piece of code to accept connections from ANY certificate:</p>\n<pre><code>def x509TrustAllCerts = new X509TrustManager() {\n        X509Certificate[] getAcceptedIssuers() {\n            return null // &lt;--- SUSPICIOUS!!\n        }\n        void checkClientTrusted(X509Certificate[] certs, String authType) { }\n        void checkServerTrusted(X509Certificate[] certs, String authType) { }\n    }\nTrustManager[] trustAllCerts = new TrustManager[] { x509TrustAllCerts }\n</code></pre>\n<p>So I made the simplest fix changing <code>null</code> to empty array:</p>\n<pre><code>def x509TrustAllCerts = new X509TrustManager() {\n        X509Certificate[] getAcceptedIssuers() {\n            return new X509Certificate[0] // &lt;-- FIX\n        }\n        void checkClientTrusted(X509Certificate[] certs, String authType) { }\n        void checkServerTrusted(X509Certificate[] certs, String authType) { }\n    }\nTrustManager[] trustAllCerts = new TrustManager[] { x509TrustAllCerts }\n</code></pre>\n<p>Now it's working the way I intended.</p>\n"}],"owner":{"account_id":2062102,"reputation":198,"user_id":1838412,"display_name":"Dertalai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72637304,"answer_count":1,"score":0,"last_activity_date":1655323852,"creation_date":1655150189,"question_id":72608363,"body_markdown":"I followed these threads and others with similar examples:\r\n - https://stackoverflow.com/questions/34793660/how-to-create-a-secured-tcp-connection-via-tls-v-1-2-in-java\r\n - https://stackoverflow.com/questions/2893819/accept-servers-self-signed-ssl-certificate-in-java-client\r\n\r\nI&#39;ve already achieved a client/server simple Java program using any locally-generated self-signed certificates for both client and server. By the way I see they negotiate TLS 1.3 instead of 1.2. That&#39;s good.\r\n\r\nBut I see they are only using server certificate (client is configured to accept any, OK). I want them to require client to authenticate too. And allow client certificate to be any self-signed one, **not signed by any CA**. So I tried the server to use `sslServerSocket.setNeedClientAuth(true)` or access to client certificate info. Then I get errors like this:\r\n\r\n```    \r\nException in thread &quot;main&quot; javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\r\n \tat java.base/sun.security.ssl.SSLSessionImpl.getPeerPrincipal(SSLSessionImpl.java:1122)\r\n \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n```\r\nSo I&#39;ve been playing around with these tools to test both sides of my implementation:\r\n - `ncat --ssl`\r\n - `ncat --ssl --listen`\r\n - `openssl s_client`\r\n - `openssl s_server`\r\n\r\nMy conclusion is that my client is working good, authenticating on other servers when required. But my server needs to either provide the base CA to the client (I don&#39;t want this) **OR** just accept any client with no client authentication (that&#39;s what I have now, it&#39;s not my goal).\r\n\r\nI want my server to require client certificate and accept any. How can I achieve this? Thanks!\r\n\r\nMotivation: I want to implement some [Syncthing][1] well documented features using Java instead of Go. They use custom-certificate authentication on both sides of the connection.\r\n\r\n\r\n  [1]: https://syncthing.net","title":"Java SSLServerSocket: Request client certificate allowing ANY client certificate","body":"<p>I followed these threads and others with similar examples:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/34793660/how-to-create-a-secured-tcp-connection-via-tls-v-1-2-in-java\">How to create a secured TCP connection via TLS v.1.2 in Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2893819/accept-servers-self-signed-ssl-certificate-in-java-client\">Accept server&#39;s self-signed ssl certificate in Java client</a></li>\n</ul>\n<p>I've already achieved a client/server simple Java program using any locally-generated self-signed certificates for both client and server. By the way I see they negotiate TLS 1.3 instead of 1.2. That's good.</p>\n<p>But I see they are only using server certificate (client is configured to accept any, OK). I want them to require client to authenticate too. And allow client certificate to be any self-signed one, <strong>not signed by any CA</strong>. So I tried the server to use <code>sslServerSocket.setNeedClientAuth(true)</code> or access to client certificate info. Then I get errors like this:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\n    at java.base/sun.security.ssl.SSLSessionImpl.getPeerPrincipal(SSLSessionImpl.java:1122)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n</code></pre>\n<p>So I've been playing around with these tools to test both sides of my implementation:</p>\n<ul>\n<li><code>ncat --ssl</code></li>\n<li><code>ncat --ssl --listen</code></li>\n<li><code>openssl s_client</code></li>\n<li><code>openssl s_server</code></li>\n</ul>\n<p>My conclusion is that my client is working good, authenticating on other servers when required. But my server needs to either provide the base CA to the client (I don't want this) <strong>OR</strong> just accept any client with no client authentication (that's what I have now, it's not my goal).</p>\n<p>I want my server to require client certificate and accept any. How can I achieve this? Thanks!</p>\n<p>Motivation: I want to implement some <a href=\"https://syncthing.net\" rel=\"nofollow noreferrer\">Syncthing</a> well documented features using Java instead of Go. They use custom-certificate authentication on both sides of the connection.</p>\n"},{"tags":["java","android","nullpointerexception","dialog","tostring"],"comments":[{"owner":{"account_id":3505150,"reputation":1321,"user_id":2930834,"display_name":"Nakul"},"score":0,"creation_date":1655121453,"post_id":72601390,"comment_id":128247817,"body_markdown":"Its a null pointer exception you are getting. You haven&#39;t added the line number the exception points the issue.\ncheck the first line in log &quot;E/AndroidRuntime: FATAL EXCEPTION: main Process: rmr.kairos, PID: 4519 java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String java.lang.Object.toString()&#39; on a null object reference at&quot;\nsee the missing line number in file.","body":"Its a null pointer exception you are getting. You haven&#39;t added the line number the exception points the issue. check the first line in log &quot;E/AndroidRuntime: FATAL EXCEPTION: main Process: rmr.kairos, PID: 4519 java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String java.lang.Object.toString()&#39; on a null object reference at&quot; see the missing line number in file."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1655122054,"post_id":72601390,"comment_id":128248073,"body_markdown":"You never set an adapter for your spinner","body":"You never set an adapter for your spinner"},{"owner":{"account_id":21039932,"reputation":11,"user_id":15462578,"display_name":"ChicoRafa"},"score":0,"creation_date":1655122685,"post_id":72601390,"comment_id":128248333,"body_markdown":"@Nakul I don&#39;t have that line, I know it&#39;s and issue of the Spinner","body":"@Nakul I don&#39;t have that line, I know it&#39;s and issue of the Spinner"},{"owner":{"account_id":21039932,"reputation":11,"user_id":15462578,"display_name":"ChicoRafa"},"score":0,"creation_date":1655122719,"post_id":72601390,"comment_id":128248348,"body_markdown":"@TylerV you&#39;re rigth, i&#39;ll try that","body":"@TylerV you&#39;re rigth, i&#39;ll try that"},{"owner":{"account_id":21039932,"reputation":11,"user_id":15462578,"display_name":"ChicoRafa"},"score":0,"creation_date":1655125848,"post_id":72601390,"comment_id":128249603,"body_markdown":"@TylerV, I&#39;ve tried what you said to me but still can&#39;t get it","body":"@TylerV, I&#39;ve tried what you said to me but still can&#39;t get it"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1655177194,"post_id":72601390,"comment_id":128263847,"body_markdown":"Does your app crash when you click the `imNewTag` button to launch the dialog, or when you first run the app itself? I copied your `showTagDialog` method to a blank app and it ran fine - no crashes. If you can replicate your issue in a complete new app with the minimal code needed to make it crash, please update the question to show that minimal app.","body":"Does your app crash when you click the <code>imNewTag</code> button to launch the dialog, or when you first run the app itself? I copied your <code>showTagDialog</code> method to a blank app and it ran fine - no crashes. If you can replicate your issue in a complete new app with the minimal code needed to make it crash, please update the question to show that minimal app."},{"owner":{"account_id":21039932,"reputation":11,"user_id":15462578,"display_name":"ChicoRafa"},"score":0,"creation_date":1655209167,"post_id":72601390,"comment_id":128273267,"body_markdown":"it crashes when I press imNewTag, I&#39;ll try what you said @TylerV","body":"it crashes when I press imNewTag, I&#39;ll try what you said @TylerV"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1655211203,"post_id":72601390,"comment_id":128274175,"body_markdown":"What does your `tagSpinnerArray` XML array look like (and in what file is it located)?","body":"What does your <code>tagSpinnerArray</code> XML array look like (and in what file is it located)?"},{"owner":{"account_id":21039932,"reputation":11,"user_id":15462578,"display_name":"ChicoRafa"},"score":0,"creation_date":1655226846,"post_id":72601390,"comment_id":128280570,"body_markdown":"It&#39;s basically an array in array.xml that contains colors @TylerV","body":"It&#39;s basically an array in array.xml that contains colors @TylerV"}],"answers":[{"tags":[],"owner":{"account_id":21039932,"reputation":11,"user_id":15462578,"display_name":"ChicoRafa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655323808,"creation_date":1655323808,"answer_id":72637297,"question_id":72601390,"body_markdown":"Sadly I couldn&#39;t find a solution and my time was running out, so I simply used a radioGroup; not the fanciest of the solutions, but a solution.\r\nThanks everyone!!","title":"Why does my Android Dialog throw a NullPointer?","body":"<p>Sadly I couldn't find a solution and my time was running out, so I simply used a radioGroup; not the fanciest of the solutions, but a solution.\nThanks everyone!!</p>\n"}],"owner":{"account_id":21039932,"reputation":11,"user_id":15462578,"display_name":"ChicoRafa"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72637297,"answer_count":1,"score":1,"last_activity_date":1655323808,"creation_date":1655116414,"question_id":72601390,"body_markdown":"i&#39;ve been struggling with a simple Android Dialog that I need in order to add elements to a list; it&#39;s pretty simple (an edit text, a spinner and a button), but when I try to show it it just keeps throwing a NullPointerException. May I have your help with this matter?\r\n\r\nThe error:&lt;br&gt;\r\n\r\n&gt;E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: rmr.kairos, PID: 4519\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String java.lang.Object.toString()&#39; on a null object reference\r\n        at android.widget.ArrayAdapter.createViewFromResource(ArrayAdapter.java:454)\r\n        at android.widget.ArrayAdapter.getView(ArrayAdapter.java:416)\r\n        at android.widget.AbsSpinner.onMeasure(AbsSpinner.java:206)\r\n        at android.widget.Spinner.onMeasure(Spinner.java:614)\r\n        at androidx.appcompat.widget.AppCompatSpinner.onMeasure(AppCompatSpinner.java:438)\r\n        at android.view.View.measure(View.java:25466)\r\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)\r\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\r\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\r\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\r\n        at android.view.View.measure(View.java:25466)\r\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)\r\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n        at android.view.View.measure(View.java:25466)\r\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)\r\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n        at android.view.View.measure(View.java:25466)\r\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)\r\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n        at com.android.internal.policy.DecorView.onMeasure(DecorView.java:747)\r\n        at android.view.View.measure(View.java:25466)\r\n        at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:3397)\r\n        at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:2201)\r\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2486)\r\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1952)\r\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8171)\r\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:972)\r\n        at android.view.Choreographer.doCallbacks(Choreographer.java:796)\r\n        at android.view.Choreographer.doFrame(Choreographer.java:731)\r\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:957)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n\r\nThe Activity ( @TylerV, I&#39;ve tried to set an adapter and it does the same, what am I doing wrong?): &lt;br&gt;\r\n\r\n```\r\npublic class TagActivity extends AppCompatActivity {\r\n    private ListView lvTag;\r\n    private ImageView imBack;\r\n    private ImageView imNewTag;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_tag);\r\n        lvTag = findViewById(R.id.lvTags);\r\n        imBack = findViewById(R.id.imBack);\r\n        imNewTag = findViewById(R.id.imNewTag);\r\n        imBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intentToMain = new Intent(getApplicationContext(), rmr.kairos.activities.MainActivity.class);\r\n                startActivity(intentToMain);\r\n                finish();\r\n            }\r\n        });\r\n        imNewTag.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                showTagDialog();\r\n            }\r\n        });\r\n        newTagList(lvTag);\r\n    }\r\n    public TagAdapter newTagList(ListView lvTag){\r\n        ArrayList&lt;Tag&gt; listaEtiquetas = new ArrayList&lt;Tag&gt;();\r\n        //introducir los valores con un dia&#225;logo o algo\r\n        listaEtiquetas.add(new Tag(&quot;prueba&quot;, &quot;#FFFFFF&quot;));\r\n        TagAdapter tagAdapter = new TagAdapter(this, R.layout.layout_tag, listaEtiquetas);\r\n        lvTag.setAdapter(tagAdapter);\r\n        return tagAdapter;\r\n    }\r\npublic void showTagDialog(){\r\n        AlertDialog.Builder tagBuilder = new AlertDialog.Builder(TagActivity.this);\r\n        View tagView = getLayoutInflater().inflate(R.layout.dialog_tag,null);\r\n        EditText etTagName = tagView.findViewById(R.id.etTagName);\r\n        Spinner spTagColor = tagView.findViewById(R.id.spTagColor);\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(TagActivity.this,\r\n                android.R.layout.simple_spinner_item,\r\n                getResources().getStringArray(R.array.tagSpinnerArray));\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spTagColor.setAdapter(adapter);\r\n        tagBuilder.setPositiveButton(&quot;Aceptar&quot;, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialogInterface, int i) {\r\n                if (!spTagColor.getSelectedItem().toString().equalsIgnoreCase(&quot;Seleccione un color&quot;)){\r\n                    Toast.makeText(TagActivity.this, spTagColor.getSelectedItem().toString()\r\n                            , Toast.LENGTH_SHORT).show();\r\n                    dialogInterface.dismiss();\r\n                }\r\n            }\r\n        });\r\n        tagBuilder.setCancelable(true);\r\n        tagBuilder.setView(tagView);\r\n        AlertDialog dialog = tagBuilder.create();\r\n        dialog.show();\r\n\r\n    }\r\n} \r\n```\r\n\r\nThe Dialog XML: \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_margin=&quot;10dp&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:weightSum=&quot;10&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tvDialogTag&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:layout_weight=&quot;5&quot;\r\n        android:fontFamily=&quot;@font/simplifica&quot;\r\n        android:text=&quot;@string/strDialogTag&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/etTagName&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:fontFamily=&quot;@font/simplifica&quot;\r\n            android:hint=&quot;@string/strTagTitle&quot;\r\n            android:shadowColor=&quot;#FFFFFF&quot;\r\n            android:textColor=&quot;#FFFFFF&quot;\r\n            android:textSize=&quot;24sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;Spinner\r\n        android:id=&quot;@+id/spTagColor&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:layout_weight=&quot;5&quot;\r\n        android:entries=&quot;@array/tagSpinnerArray&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btDialogTag&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;right&quot;\r\n        android:layout_weight=&quot;5&quot;\r\n        android:text=&quot;@string/submit&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```","title":"Why does my Android Dialog throw a NullPointer?","body":"<p>i've been struggling with a simple Android Dialog that I need in order to add elements to a list; it's pretty simple (an edit text, a spinner and a button), but when I try to show it it just keeps throwing a NullPointerException. May I have your help with this matter?</p>\n<p>The error:<br></p>\n<blockquote>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: rmr.kairos, PID: 4519\njava.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String java.lang.Object.toString()' on a null object reference\nat android.widget.ArrayAdapter.createViewFromResource(ArrayAdapter.java:454)\nat android.widget.ArrayAdapter.getView(ArrayAdapter.java:416)\nat android.widget.AbsSpinner.onMeasure(AbsSpinner.java:206)\nat android.widget.Spinner.onMeasure(Spinner.java:614)\nat androidx.appcompat.widget.AppCompatSpinner.onMeasure(AppCompatSpinner.java:438)\nat android.view.View.measure(View.java:25466)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)\nat android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\nat android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\nat android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\nat android.view.View.measure(View.java:25466)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)\nat android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\nat android.view.View.measure(View.java:25466)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)\nat android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\nat android.view.View.measure(View.java:25466)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)\nat android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\nat com.android.internal.policy.DecorView.onMeasure(DecorView.java:747)\nat android.view.View.measure(View.java:25466)\nat android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:3397)\nat android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:2201)\nat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2486)\nat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1952)\nat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8171)\nat android.view.Choreographer$CallbackRecord.run(Choreographer.java:972)\nat android.view.Choreographer.doCallbacks(Choreographer.java:796)\nat android.view.Choreographer.doFrame(Choreographer.java:731)\nat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:957)\nat android.os.Handler.handleCallback(Handler.java:938)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7656)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)</p>\n</blockquote>\n<p>The Activity ( @TylerV, I've tried to set an adapter and it does the same, what am I doing wrong?): <br></p>\n<pre><code>public class TagActivity extends AppCompatActivity {\n    private ListView lvTag;\n    private ImageView imBack;\n    private ImageView imNewTag;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_tag);\n        lvTag = findViewById(R.id.lvTags);\n        imBack = findViewById(R.id.imBack);\n        imNewTag = findViewById(R.id.imNewTag);\n        imBack.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intentToMain = new Intent(getApplicationContext(), rmr.kairos.activities.MainActivity.class);\n                startActivity(intentToMain);\n                finish();\n            }\n        });\n        imNewTag.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                showTagDialog();\n            }\n        });\n        newTagList(lvTag);\n    }\n    public TagAdapter newTagList(ListView lvTag){\n        ArrayList&lt;Tag&gt; listaEtiquetas = new ArrayList&lt;Tag&gt;();\n        //introducir los valores con un diaálogo o algo\n        listaEtiquetas.add(new Tag(&quot;prueba&quot;, &quot;#FFFFFF&quot;));\n        TagAdapter tagAdapter = new TagAdapter(this, R.layout.layout_tag, listaEtiquetas);\n        lvTag.setAdapter(tagAdapter);\n        return tagAdapter;\n    }\npublic void showTagDialog(){\n        AlertDialog.Builder tagBuilder = new AlertDialog.Builder(TagActivity.this);\n        View tagView = getLayoutInflater().inflate(R.layout.dialog_tag,null);\n        EditText etTagName = tagView.findViewById(R.id.etTagName);\n        Spinner spTagColor = tagView.findViewById(R.id.spTagColor);\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(TagActivity.this,\n                android.R.layout.simple_spinner_item,\n                getResources().getStringArray(R.array.tagSpinnerArray));\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spTagColor.setAdapter(adapter);\n        tagBuilder.setPositiveButton(&quot;Aceptar&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialogInterface, int i) {\n                if (!spTagColor.getSelectedItem().toString().equalsIgnoreCase(&quot;Seleccione un color&quot;)){\n                    Toast.makeText(TagActivity.this, spTagColor.getSelectedItem().toString()\n                            , Toast.LENGTH_SHORT).show();\n                    dialogInterface.dismiss();\n                }\n            }\n        });\n        tagBuilder.setCancelable(true);\n        tagBuilder.setView(tagView);\n        AlertDialog dialog = tagBuilder.create();\n        dialog.show();\n\n    }\n} \n</code></pre>\n<p>The Dialog XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_margin=&quot;10dp&quot;\n    android:orientation=&quot;vertical&quot;\n    android:weightSum=&quot;10&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tvDialogTag&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:layout_weight=&quot;5&quot;\n        android:fontFamily=&quot;@font/simplifica&quot;\n        android:text=&quot;@string/strDialogTag&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;24sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n\n\n        &lt;EditText\n            android:id=&quot;@+id/etTagName&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:fontFamily=&quot;@font/simplifica&quot;\n            android:hint=&quot;@string/strTagTitle&quot;\n            android:shadowColor=&quot;#FFFFFF&quot;\n            android:textColor=&quot;#FFFFFF&quot;\n            android:textSize=&quot;24sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;Spinner\n        android:id=&quot;@+id/spTagColor&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:layout_weight=&quot;5&quot;\n        android:entries=&quot;@array/tagSpinnerArray&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btDialogTag&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;right&quot;\n        android:layout_weight=&quot;5&quot;\n        android:text=&quot;@string/submit&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","concurrency","java-8","java-7"],"comments":[{"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"score":10,"creation_date":1334724019,"post_id":10202768,"comment_id":13101805,"body_markdown":"Yes it is.  It will give you a good grounding in concurrent programming in Java.","body":"Yes it is.  It will give you a good grounding in concurrent programming in Java."},{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":19,"creation_date":1441205354,"post_id":10202768,"comment_id":52585646,"body_markdown":"For those interested, and since it isn&#39;t currently marked as the answer, [Brian Goetz](http://stackoverflow.com/users/3553087/brian-goetz) gave his opinion [here](http://stackoverflow.com/a/10214606/627727)","body":"For those interested, and since it isn&#39;t currently marked as the answer, <a href=\"http://stackoverflow.com/users/3553087/brian-goetz\">Brian Goetz</a> gave his opinion <a href=\"http://stackoverflow.com/a/10214606/627727\">here</a>"},{"owner":{"account_id":4533206,"reputation":541,"user_id":3683093,"accept_rate":80,"display_name":"Jason"},"score":0,"creation_date":1550836802,"post_id":10202768,"comment_id":96427900,"body_markdown":"at least this one is not valid: https://stackoverflow.com/questions/52253164/threadpoolexecutor-with-corepoolsize-0-should-not-execute-tasks-until-task-queue","body":"at least this one is not valid: <a href=\"https://stackoverflow.com/questions/52253164/threadpoolexecutor-with-corepoolsize-0-should-not-execute-tasks-until-task-queue\" title=\"threadpoolexecutor with corepoolsize 0 should not execute tasks until task queue\">stackoverflow.com/questions/52253164/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1411241,"reputation":3469,"user_id":1337770,"display_name":"Rich Drummond"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1334723770,"creation_date":1334723770,"answer_id":10202837,"question_id":10202768,"body_markdown":"I would say so. JDK7 adds the [fork-join framework][1] but that is an enhancement rather than a replacement for earlier concurrency tools.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/concurrency/forkjoin.html","title":"Is &quot;Java Concurrency In Practice&quot; still valid?","body":"<p>I would say so. JDK7 adds the <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/forkjoin.html\" rel=\"noreferrer\">fork-join framework</a> but that is an enhancement rather than a replacement for earlier concurrency tools.</p>\n"},{"tags":[],"owner":{"account_id":165635,"reputation":7046,"user_id":389255,"accept_rate":63,"display_name":"James Gan"},"down_vote_count":0,"up_vote_count":186,"is_accepted":true,"score":186,"last_activity_date":1334724256,"creation_date":1334724256,"answer_id":10202907,"question_id":10202768,"body_markdown":"Yes, it&#39;s still valid in my mind. There isn&#39;t big change in this area from 6 to 7. Fork-join is a new feature, which is very suitable for divide-and-conquer type of problems. But all the existing stuff inside the book, such as synchronization, volatile, servlet, are still very valid.","title":"Is &quot;Java Concurrency In Practice&quot; still valid?","body":"<p>Yes, it's still valid in my mind. There isn't big change in this area from 6 to 7. Fork-join is a new feature, which is very suitable for divide-and-conquer type of problems. But all the existing stuff inside the book, such as synchronization, volatile, servlet, are still very valid.</p>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":656,"is_accepted":false,"score":656,"last_activity_date":1655323160,"creation_date":1334769788,"answer_id":10214606,"question_id":10202768,"body_markdown":"While my perspective may be biased, my current intention for updating the book would be almost strictly additive, covering fork-join, parallel decomposition, and the new parallel bulk data operations coming in Java SE 8.  \r\n\r\n**EDIT 2020:** ... and Project Loom.\r\n\r\n**EDIT 2021:** ... and Project Loom :)\r\n\r\n**EDIT 2022:** ... and Project Loom !","title":"Is &quot;Java Concurrency In Practice&quot; still valid?","body":"<p>While my perspective may be biased, my current intention for updating the book would be almost strictly additive, covering fork-join, parallel decomposition, and the new parallel bulk data operations coming in Java SE 8.</p>\n<p><strong>EDIT 2020:</strong> ... and Project Loom.</p>\n<p><strong>EDIT 2021:</strong> ... and Project Loom :)</p>\n<p><strong>EDIT 2022:</strong> ... and Project Loom !</p>\n"},{"tags":[],"owner":{"account_id":185198,"reputation":7184,"user_id":421753,"accept_rate":78,"display_name":"Krishna"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1341386013,"creation_date":1341386013,"answer_id":11324129,"question_id":10202768,"body_markdown":"Yes. Still it is valid and i have got good feedback from my friends. It is one of the best book for learning the concurrency in java. You can read the [review for Java Concurrency In Practice][1]\r\n\r\n\r\n  [1]: http://www.javabeat.net/2012/07/book-review-java-concurrency-practice/","title":"Is &quot;Java Concurrency In Practice&quot; still valid?","body":"<p>Yes. Still it is valid and i have got good feedback from my friends. It is one of the best book for learning the concurrency in java. You can read the <a href=\"http://www.javabeat.net/2012/07/book-review-java-concurrency-practice/\" rel=\"noreferrer\">review for Java Concurrency In Practice</a></p>\n"},{"tags":[],"owner":{"account_id":1134985,"reputation":25165,"user_id":1120221,"accept_rate":91,"display_name":"Salah Eddine Taouririt"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1348757029,"creation_date":1344217264,"answer_id":11821639,"question_id":10202768,"body_markdown":"Yes definitely it&#39;s still valid, but I will recommend in addition or as an introduction [_The Well-Grounded Java Developer_](http://www.manning.com/evans/) a well written book with a chapter on modern Java concurrency techniques and nicely done examples.","title":"Is &quot;Java Concurrency In Practice&quot; still valid?","body":"<p>Yes definitely it's still valid, but I will recommend in addition or as an introduction <a href=\"http://www.manning.com/evans/\"><em>The Well-Grounded Java Developer</em></a> a well written book with a chapter on modern Java concurrency techniques and nicely done examples.</p>\n"},{"tags":[],"owner":{"account_id":1047214,"reputation":104,"user_id":1051972,"display_name":"Tushar Patidar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1362052967,"creation_date":1362052967,"answer_id":15135075,"question_id":10202768,"body_markdown":"Well, the book looks promising when I read certain preview chapters online. It gives enough insight on Java and general concurrency aspects. One can keep this book as a handy outfit when designing and implementing both naive and sophisticated concurrency applications.","title":"Is &quot;Java Concurrency In Practice&quot; still valid?","body":"<p>Well, the book looks promising when I read certain preview chapters online. It gives enough insight on Java and general concurrency aspects. One can keep this book as a handy outfit when designing and implementing both naive and sophisticated concurrency applications.</p>\n"},{"tags":[],"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1376605370,"creation_date":1376605370,"answer_id":18262880,"question_id":10202768,"body_markdown":"I bought this book in 2013.  I had very serious doubts that it would be current and useful given that this edition was published so long ago.  The technology world moves quickly, and software technology even faster.  Even so, this book is foundational.  The concepts and practices that are discussed are more underpinnings for good software design and engineering than updates on the latest and greatest API&#39;s.  This book has been indispensable, and I am glad that I got it before I had decided to write even a single line of concurrent code.  It&#39;s probably saved me countless hours.","title":"Is &quot;Java Concurrency In Practice&quot; still valid?","body":"<p>I bought this book in 2013.  I had very serious doubts that it would be current and useful given that this edition was published so long ago.  The technology world moves quickly, and software technology even faster.  Even so, this book is foundational.  The concepts and practices that are discussed are more underpinnings for good software design and engineering than updates on the latest and greatest API's.  This book has been indispensable, and I am glad that I got it before I had decided to write even a single line of concurrent code.  It's probably saved me countless hours.</p>\n"},{"tags":[],"owner":{"account_id":1502411,"reputation":548,"user_id":2237530,"display_name":"Den Roman"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1397504831,"creation_date":1397504831,"answer_id":23068951,"question_id":10202768,"body_markdown":"If you are going to start your project using Java 8 you might want to consider fresh books and tutorials as well because of new stuff appeared in Java 8 like streams,lambdas and new atomics -  that changes development methods a little bit.","title":"Is &quot;Java Concurrency In Practice&quot; still valid?","body":"<p>If you are going to start your project using Java 8 you might want to consider fresh books and tutorials as well because of new stuff appeared in Java 8 like streams,lambdas and new atomics -  that changes development methods a little bit.</p>\n"},{"tags":[],"owner":{"account_id":1963022,"reputation":1241,"user_id":1763987,"display_name":"codeFood"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1414014885,"creation_date":1414014885,"answer_id":26517786,"question_id":10202768,"body_markdown":"Yes. Very much. \r\nYou can always keep track on new things being introduced in Java, however, the book does a fine job of explaining the fundamentals.\r\n\r\nIf it helps, this comes from a full time researcher in concurrency and parallelism using OOP.","title":"Is &quot;Java Concurrency In Practice&quot; still valid?","body":"<p>Yes. Very much. \nYou can always keep track on new things being introduced in Java, however, the book does a fine job of explaining the fundamentals.</p>\n\n<p>If it helps, this comes from a full time researcher in concurrency and parallelism using OOP.</p>\n"}],"owner":{"account_id":1096223,"reputation":10257,"user_id":1089770,"accept_rate":50,"display_name":"M-D"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97400,"favorite_count":0,"down_vote_count":2,"up_vote_count":314,"closed_date":1483954359,"accepted_answer_id":10202907,"answer_count":9,"score":312,"last_activity_date":1655323160,"creation_date":1334723257,"question_id":10202768,"body_markdown":"Is [*Java Concurrency in Practice*][1] still valid? I am wondering whether the ideas, concepts and implementation described in the book are still compliant with the latest Java versions.\r\n\r\nI ask because the latest edition was done in 2006.\r\n\r\n  [1]: http://amzn.to/1jyE5Kx","title":"Is &quot;Java Concurrency In Practice&quot; still valid?","body":"<p>Is <a href=\"http://amzn.to/1jyE5Kx\" rel=\"noreferrer\"><em>Java Concurrency in Practice</em></a> still valid? I am wondering whether the ideas, concepts and implementation described in the book are still compliant with the latest Java versions.</p>\n\n<p>I ask because the latest edition was done in 2006.</p>\n"},{"tags":["java","spring","spring-boot","jwt"],"answers":[{"tags":[],"owner":{"account_id":11211027,"reputation":531,"user_id":8225099,"display_name":"wartoshika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655322973,"creation_date":1655069458,"answer_id":72596025,"question_id":72595252,"body_markdown":"**You need a configuration file that allows users to talk to a login endpoint**. Within this endpoint you may authenticate a user to get past the authentication barrier.\r\n\r\nExample configuration within spring boot security:\r\n\r\n```java\r\n@Configuration\r\npublic class MySecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t.authorizeRequests()\r\n\t\t\t\t.antMatchers(&quot;/register&quot;).permitAll() // &lt;- allow requests to this reqister endpoint\r\n\t\t\t\t.anyRequest().authenticated(); // &lt;- all other requests needs full authentication;\r\n\r\n        http.addFilterAfter(\r\n          new AuthTokenFilter(), BasicAuthenticationFilter.class); // &lt;- add your JWT authentication filter into the chain\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnother important step is to integrate your `Filter` into the filter chain of incomming requests.\r\n\r\n\r\nYou may have a look at this example: [Spring Security / Getting Started](https://spring.io/guides/gs/securing-web/). Another good resource is always [Baeldung Config](https://www.baeldung.com/java-config-spring-security) / [Baeldung Filter](https://www.baeldung.com/spring-security-custom-filter)\r\n\r\nWithin this configuration you can also integrate your `AuthEntryPointJwt`.","title":"Unauthorized error: Full authentication is required to access this resource","body":"<p><strong>You need a configuration file that allows users to talk to a login endpoint</strong>. Within this endpoint you may authenticate a user to get past the authentication barrier.</p>\n<p>Example configuration within spring boot security:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MySecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests()\n                .antMatchers(&quot;/register&quot;).permitAll() // &lt;- allow requests to this reqister endpoint\n                .anyRequest().authenticated(); // &lt;- all other requests needs full authentication;\n\n        http.addFilterAfter(\n          new AuthTokenFilter(), BasicAuthenticationFilter.class); // &lt;- add your JWT authentication filter into the chain\n\n    }\n\n}\n</code></pre>\n<p>Another important step is to integrate your <code>Filter</code> into the filter chain of incomming requests.</p>\n<p>You may have a look at this example: <a href=\"https://spring.io/guides/gs/securing-web/\" rel=\"nofollow noreferrer\">Spring Security / Getting Started</a>. Another good resource is always <a href=\"https://www.baeldung.com/java-config-spring-security\" rel=\"nofollow noreferrer\">Baeldung Config</a> / <a href=\"https://www.baeldung.com/spring-security-custom-filter\" rel=\"nofollow noreferrer\">Baeldung Filter</a></p>\n<p>Within this configuration you can also integrate your <code>AuthEntryPointJwt</code>.</p>\n"}],"owner":{"account_id":14023817,"reputation":38,"user_id":10129399,"display_name":"Nitin Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1640,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655322973,"creation_date":1655061888,"question_id":72595252,"body_markdown":"**How can I solve JWT error in my spring code?**\r\n\r\n**ERROR security.jwt.AuthEntryPointJwt - Unauthorized error: Full authentication is required to acccess this resource \r\n    ERROR security.jwt.AuthTokenFilter - Cannot set user authentication {}**\r\n\r\nThere is some error in my WebSecurityConfig.java file showing WebSecurityConfigurerAdapter is deprecated due which my authenticationManagerBean() is also deprecated.\r\n\r\nAuthcontroler.java Class\r\n\r\n```\r\n\r\n\r\n@CrossOrigin(&quot;*&quot;)\r\n@RestController\r\n@RequestMapping(&quot;/api/auth&quot;)\r\npublic class AuthController {\r\n\r\n@Autowired\r\nprivate UserRepo userRepo;\r\n@Autowired\r\nprivate RoleRepo roleRepo;\r\n@Autowired\r\nprivate PasswordEncoder passwordEncoder;\r\n@Autowired\r\nprivate JwtUtils jwtUtils;\r\n@Autowired\r\nprivate AuthenticationManager authenticationManager;\r\n@Autowired \r\nprivate EmailService emailService;\r\n\r\n// POST request for adding user\r\n@PostMapping(&quot;/register&quot;)\r\npublic ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignupRequest signupRequest) {\r\nif (userRepo.existsByEmail(signupRequest.getEmail())) {\r\nreturn ResponseEntity\r\n.badRequest()\r\n.body(new MessageResponse(&quot;Error: Email is already in use!&quot;));\r\n}\r\n\r\nUser user = new User(signupRequest.getEmail(),\r\nsignupRequest.getName(),\r\npasswordEncoder.encode(signupRequest.getPassword()),\r\nsignupRequest.getAddress());\r\n//signupRequest.setRole(new ArraySet&lt;&gt;(Set.of(&quot;ROLE_USER&quot;,&quot;&quot;)));\r\nsignupRequest.setRole(&quot;ROLE_ADMIN&quot;);\r\nString strRoles = signupRequest.getRole();\r\nSet&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\nif (strRoles==null) {\r\nRole userRole = roleRepo.findByRoleName(&quot;ROLE_ADMIN&quot;)\r\n.orElseThrow(()-&gt; new RuntimeException(&quot;Error: role not found&quot;));\r\nroles.add(userRole);\r\n}\r\nelse {\r\n// strRoles.forEach(e-&gt;{\r\n// switch (e) {\r\n// case &quot;admin&quot;:\r\n// Role roleAdmin = roleRepo.findByRoleName(&quot;ROLE_ADMIN&quot;)\r\n// .orElseThrow(()-&gt; new RuntimeException(&quot;Error: role not found&quot;));\r\n// roles.add(roleAdmin);\r\n// break;\r\n//\r\n// default:\r\n// Role roleUser = roleRepo.findByRoleName(&quot;ROLE_USER&quot;)\r\n// .orElseThrow(()-&gt; new RuntimeException(&quot;Error: role not found&quot;));\r\n// roles.add(roleUser);\r\n// break;\r\n}\r\n\r\nuser.setRoles(roles);\r\nuserRepo.save(user);\r\n\r\nemailService.sendTextEmail(user.getEmail());\r\nreturn ResponseEntity\r\n.status(201)\r\n.body(new MessageResponse(&quot;User created successfully&quot;));\r\n\r\n}\r\n\r\n\r\n// POST request for validating user\r\n@PostMapping(&quot;/authenticate&quot;)\r\npublic ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\r\nAuthentication authentication = authenticationManager\r\n.authenticate(new UsernamePasswordAuthenticationToken(loginRequest.getEmail(),\r\nloginRequest.getPassword()));\r\n\r\nSecurityContextHolder.getContext().setAuthentication(authentication);\r\nString jwt = jwtUtils.generateToken(authentication);\r\nUserDetailsImpl userDetailsImpl = (UserDetailsImpl) authentication.getPrincipal();\r\nList&lt;String&gt; roles = userDetailsImpl.getAuthorities()\r\n.stream()\r\n.map(i-&gt;i.getAuthority())\r\n.collect(Collectors.toList());\r\n\r\nreturn ResponseEntity.ok(new JwtResponse(jwt,\r\nuserDetailsImpl.getId(),\r\nuserDetailsImpl.getEmail(),\r\nroles));\r\n}\r\n\r\n@GetMapping(&quot;/&quot;)\r\npublic ResponseEntity&lt;?&gt; getUser() {\r\nUserDetailsImpl userDetailsImpl = (UserDetailsImpl) SecurityContextHolder.getContext().getAuthentication()\r\n.getPrincipal();\r\nLong id = userDetailsImpl.getId();\r\nOptional&lt;User&gt; optional = userRepo.findById(id);\r\nreturn ResponseEntity.ok(optional.get());\r\n}\r\n\r\n}\r\n\r\n```\r\n\r\nAuthEntryPointJwt.java Class\r\n\r\n```\r\n\r\n@Component\r\npublic class AuthEntryPointJwt implements AuthenticationEntryPoint {\r\n\t\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(AuthEntryPointJwt.class);\r\n\t\r\n\t@Override\r\n\tpublic void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)\r\n\t\t\tthrows IOException, ServletException {\r\n\t\tlogger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\r\n\t\t\r\n\t\tresponse.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n\t\tresponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n\t\t\r\n\t\tfinal Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\r\n\t\tbody.put(&quot;status&quot;, HttpServletResponse.SC_UNAUTHORIZED);\r\n\t\tbody.put(&quot;error&quot;, &quot;Unauthorized&quot;);\r\n\t\tbody.put(&quot;message&quot;, authException.getMessage());\r\n\t\tbody.put(&quot;path&quot;, request.getServletPath());\r\n\t\t\r\n\t\tfinal ObjectMapper mapper = new ObjectMapper();\r\n\t\tmapper.writeValue(response.getOutputStream(), body);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWebSecurityConfig.java\r\n\r\n```\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\r\n\t@Autowired\r\n\tUserDetailsServiceImpl userDetailsService;\r\n\t@Autowired\r\n\tprivate AuthEntryPointJwt unauthorizedHandeler;\r\n\t\r\n\t@Bean\r\n\tpublic AuthTokenFilter authenticationJwtTokenFilter() {\r\n\t\treturn new AuthTokenFilter();\r\n\t}\r\n\t\r\n\t@Override\r\n\tprotected void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tauthenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n\t}\r\n\t\r\n\t@Bean\r\n\t@Override\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn super.authenticationManagerBean();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\t\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\thttp.cors().and()\r\n\t\t.csrf()\r\n\t\t.disable()\r\n\t\t.exceptionHandling()\r\n\t\t.authenticationEntryPoint(unauthorizedHandeler)\r\n\t\t.and()\r\n\t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\t.and()\r\n\t\t.authorizeHttpRequests().antMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n\t\t.antMatchers(&quot;/api/food/**&quot;).permitAll()\r\n\t\t.antMatchers(&quot;/api/cart/**&quot;).permitAll()\r\n\t\t.antMatchers(&quot;/api/order/**&quot;).permitAll()\r\n\t\t.antMatchers(&quot;/api/payment/**&quot;).permitAll()\r\n\t\t.antMatchers(&quot;/h2-console/**&quot;).permitAll()\r\n\t\t.antMatchers(&quot;/api/users/**&quot;)\r\n\t\t.permitAll().anyRequest().authenticated();\r\n\t\t\r\n\t\thttp.headers().frameOptions().disable();\r\n\t\thttp.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n//\t\tsuper.configure(http);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nAuthTokenFilter.java Class \r\n\r\n```\r\n\r\npublic class AuthTokenFilter extends OncePerRequestFilter {\r\n\t\r\n\t@Autowired\r\n\tprivate JwtUtils jwtUtils;\r\n\t@Autowired\r\n\tprivate UserDetailsServiceImpl userDetailsServiceImpl;\r\n\t\r\n\tprivate static final Logger LOGGER = LoggerFactory.getLogger(AuthTokenFilter.class);\r\n\t\r\n\t@Override\r\n\tprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\ttry {\r\n\t\t\tString jwt = parseJwt(request);\r\n\t\t\tif (jwt!=null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\r\n\t\t\t\tString username = jwtUtils.getUsernameFromJwtToken(jwt);\r\n\t\t\t\tUserDetails userDetails = userDetailsServiceImpl.loadUserByUsername(username);\r\n\t\t\t\tUsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n\t\t\t\tusernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetails(request));\r\n\t\t\t\tSecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\tLOGGER.error(&quot;Cannot set user authentication {}&quot;, e);\r\n\t\t}\r\n\t\tfilterChain.doFilter(request, response);\r\n\t}\r\n\t\r\n\tprivate String parseJwt(HttpServletRequest request) {\r\n\t\tString headerAuth = request.getHeader(&quot;Authorization&quot;);\r\n\t\tif (StringUtils.hasText(headerAuth) &amp;&amp; headerAuth.startsWith(&quot;Bearer &quot;)) {\r\n\t\t\treturn headerAuth.substring(7, headerAuth.length());\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n**Thankyou** \r\n\r\n\r\n","title":"Unauthorized error: Full authentication is required to access this resource","body":"<p><strong>How can I solve JWT error in my spring code?</strong></p>\n<p><strong>ERROR security.jwt.AuthEntryPointJwt - Unauthorized error: Full authentication is required to acccess this resource\nERROR security.jwt.AuthTokenFilter - Cannot set user authentication {}</strong></p>\n<p>There is some error in my WebSecurityConfig.java file showing WebSecurityConfigurerAdapter is deprecated due which my authenticationManagerBean() is also deprecated.</p>\n<p>Authcontroler.java Class</p>\n<pre><code>\n\n@CrossOrigin(&quot;*&quot;)\n@RestController\n@RequestMapping(&quot;/api/auth&quot;)\npublic class AuthController {\n\n@Autowired\nprivate UserRepo userRepo;\n@Autowired\nprivate RoleRepo roleRepo;\n@Autowired\nprivate PasswordEncoder passwordEncoder;\n@Autowired\nprivate JwtUtils jwtUtils;\n@Autowired\nprivate AuthenticationManager authenticationManager;\n@Autowired \nprivate EmailService emailService;\n\n// POST request for adding user\n@PostMapping(&quot;/register&quot;)\npublic ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignupRequest signupRequest) {\nif (userRepo.existsByEmail(signupRequest.getEmail())) {\nreturn ResponseEntity\n.badRequest()\n.body(new MessageResponse(&quot;Error: Email is already in use!&quot;));\n}\n\nUser user = new User(signupRequest.getEmail(),\nsignupRequest.getName(),\npasswordEncoder.encode(signupRequest.getPassword()),\nsignupRequest.getAddress());\n//signupRequest.setRole(new ArraySet&lt;&gt;(Set.of(&quot;ROLE_USER&quot;,&quot;&quot;)));\nsignupRequest.setRole(&quot;ROLE_ADMIN&quot;);\nString strRoles = signupRequest.getRole();\nSet&lt;Role&gt; roles = new HashSet&lt;&gt;();\nif (strRoles==null) {\nRole userRole = roleRepo.findByRoleName(&quot;ROLE_ADMIN&quot;)\n.orElseThrow(()-&gt; new RuntimeException(&quot;Error: role not found&quot;));\nroles.add(userRole);\n}\nelse {\n// strRoles.forEach(e-&gt;{\n// switch (e) {\n// case &quot;admin&quot;:\n// Role roleAdmin = roleRepo.findByRoleName(&quot;ROLE_ADMIN&quot;)\n// .orElseThrow(()-&gt; new RuntimeException(&quot;Error: role not found&quot;));\n// roles.add(roleAdmin);\n// break;\n//\n// default:\n// Role roleUser = roleRepo.findByRoleName(&quot;ROLE_USER&quot;)\n// .orElseThrow(()-&gt; new RuntimeException(&quot;Error: role not found&quot;));\n// roles.add(roleUser);\n// break;\n}\n\nuser.setRoles(roles);\nuserRepo.save(user);\n\nemailService.sendTextEmail(user.getEmail());\nreturn ResponseEntity\n.status(201)\n.body(new MessageResponse(&quot;User created successfully&quot;));\n\n}\n\n\n// POST request for validating user\n@PostMapping(&quot;/authenticate&quot;)\npublic ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\nAuthentication authentication = authenticationManager\n.authenticate(new UsernamePasswordAuthenticationToken(loginRequest.getEmail(),\nloginRequest.getPassword()));\n\nSecurityContextHolder.getContext().setAuthentication(authentication);\nString jwt = jwtUtils.generateToken(authentication);\nUserDetailsImpl userDetailsImpl = (UserDetailsImpl) authentication.getPrincipal();\nList&lt;String&gt; roles = userDetailsImpl.getAuthorities()\n.stream()\n.map(i-&gt;i.getAuthority())\n.collect(Collectors.toList());\n\nreturn ResponseEntity.ok(new JwtResponse(jwt,\nuserDetailsImpl.getId(),\nuserDetailsImpl.getEmail(),\nroles));\n}\n\n@GetMapping(&quot;/&quot;)\npublic ResponseEntity&lt;?&gt; getUser() {\nUserDetailsImpl userDetailsImpl = (UserDetailsImpl) SecurityContextHolder.getContext().getAuthentication()\n.getPrincipal();\nLong id = userDetailsImpl.getId();\nOptional&lt;User&gt; optional = userRepo.findById(id);\nreturn ResponseEntity.ok(optional.get());\n}\n\n}\n\n</code></pre>\n<p>AuthEntryPointJwt.java Class</p>\n<pre><code>\n@Component\npublic class AuthEntryPointJwt implements AuthenticationEntryPoint {\n    \n    private static final Logger logger = LoggerFactory.getLogger(AuthEntryPointJwt.class);\n    \n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)\n            throws IOException, ServletException {\n        logger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\n        \n        response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n        \n        final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\n        body.put(&quot;status&quot;, HttpServletResponse.SC_UNAUTHORIZED);\n        body.put(&quot;error&quot;, &quot;Unauthorized&quot;);\n        body.put(&quot;message&quot;, authException.getMessage());\n        body.put(&quot;path&quot;, request.getServletPath());\n        \n        final ObjectMapper mapper = new ObjectMapper();\n        mapper.writeValue(response.getOutputStream(), body);\n    }\n\n}\n</code></pre>\n<p>WebSecurityConfig.java</p>\n<pre><code>\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    \n    @Autowired\n    UserDetailsServiceImpl userDetailsService;\n    @Autowired\n    private AuthEntryPointJwt unauthorizedHandeler;\n    \n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n    \n    @Override\n    protected void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        // TODO Auto-generated method stub\n        authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n    }\n    \n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        // TODO Auto-generated method stub\n        return super.authenticationManagerBean();\n    }\n    \n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        // TODO Auto-generated method stub\n        http.cors().and()\n        .csrf()\n        .disable()\n        .exceptionHandling()\n        .authenticationEntryPoint(unauthorizedHandeler)\n        .and()\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .authorizeHttpRequests().antMatchers(&quot;/api/auth/**&quot;).permitAll()\n        .antMatchers(&quot;/api/food/**&quot;).permitAll()\n        .antMatchers(&quot;/api/cart/**&quot;).permitAll()\n        .antMatchers(&quot;/api/order/**&quot;).permitAll()\n        .antMatchers(&quot;/api/payment/**&quot;).permitAll()\n        .antMatchers(&quot;/h2-console/**&quot;).permitAll()\n        .antMatchers(&quot;/api/users/**&quot;)\n        .permitAll().anyRequest().authenticated();\n        \n        http.headers().frameOptions().disable();\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n//      super.configure(http);\n    }\n\n}\n\n</code></pre>\n<p>AuthTokenFilter.java Class</p>\n<pre><code>\npublic class AuthTokenFilter extends OncePerRequestFilter {\n    \n    @Autowired\n    private JwtUtils jwtUtils;\n    @Autowired\n    private UserDetailsServiceImpl userDetailsServiceImpl;\n    \n    private static final Logger LOGGER = LoggerFactory.getLogger(AuthTokenFilter.class);\n    \n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        try {\n            String jwt = parseJwt(request);\n            if (jwt!=null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\n                String username = jwtUtils.getUsernameFromJwtToken(jwt);\n                UserDetails userDetails = userDetailsServiceImpl.loadUserByUsername(username);\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n            }\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            LOGGER.error(&quot;Cannot set user authentication {}&quot;, e);\n        }\n        filterChain.doFilter(request, response);\n    }\n    \n    private String parseJwt(HttpServletRequest request) {\n        String headerAuth = request.getHeader(&quot;Authorization&quot;);\n        if (StringUtils.hasText(headerAuth) &amp;&amp; headerAuth.startsWith(&quot;Bearer &quot;)) {\n            return headerAuth.substring(7, headerAuth.length());\n        }\n        return null;\n    }\n\n}\n\n</code></pre>\n<p><strong>Thankyou</strong></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":0,"up_vote_count":129,"is_accepted":false,"score":129,"last_activity_date":1440288174,"creation_date":1306941133,"answer_id":6203441,"question_id":6203411,"body_markdown":"Take a look at the [`String.compareTo`][1] method.\r\n\r\n    s1.compareTo(s2)\r\n\r\nFrom the javadocs:\r\n&gt; The result is a negative integer if\r\n&gt; this String object lexicographically\r\n&gt; precedes the argument string. The\r\n&gt; result is a positive integer if this\r\n&gt; String object lexicographically\r\n&gt; follows the argument string. The\r\n&gt; result is zero if the strings are\r\n&gt; equal; compareTo returns 0 exactly\r\n&gt; when the equals(Object) method would\r\n&gt; return true.\r\n\r\n[1]: http://download.oracle.com/javase/6/docs/api/java/lang/String.html#compareTo%28java.lang.String%29","title":"Comparing strings by their alphabetical order","body":"<p>Take a look at the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#compareTo%28java.lang.String%29\"><code>String.compareTo</code></a> method.</p>\n\n<pre><code>s1.compareTo(s2)\n</code></pre>\n\n<p>From the javadocs:</p>\n\n<blockquote>\n  <p>The result is a negative integer if\n  this String object lexicographically\n  precedes the argument string. The\n  result is a positive integer if this\n  String object lexicographically\n  follows the argument string. The\n  result is zero if the strings are\n  equal; compareTo returns 0 exactly\n  when the equals(Object) method would\n  return true.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":177498,"reputation":1247,"user_id":408868,"accept_rate":100,"display_name":"mdaguerre"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1508269759,"creation_date":1306941406,"answer_id":6203513,"question_id":6203411,"body_markdown":"    String a = &quot;...&quot;; \r\n    String b = &quot;...&quot;;  \r\n\r\n    int compare = a.compareTo(b);  \r\n\r\n    if (compare &lt; 0) {  \r\n        //a is smaller\r\n    }\r\n    else if (compare &gt; 0) {\r\n        //a is larger \r\n    }\r\n    else {  \r\n        //a is equal to b\r\n    } \r\n ","title":"Comparing strings by their alphabetical order","body":"<pre><code>String a = \"...\"; \nString b = \"...\";  \n\nint compare = a.compareTo(b);  \n\nif (compare &lt; 0) {  \n    //a is smaller\n}\nelse if (compare &gt; 0) {\n    //a is larger \n}\nelse {  \n    //a is equal to b\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":41183,"reputation":7098,"user_id":119636,"display_name":"Buhb"},"down_vote_count":0,"up_vote_count":167,"is_accepted":true,"score":167,"last_activity_date":1473773270,"creation_date":1306941502,"answer_id":6203543,"question_id":6203411,"body_markdown":"`String.compareTo` might or might not be what you need.\r\n\r\nTake a look at [this][1] link if you need localized ordering of strings.\r\n\r\n\r\n  [1]: http://www.javapractices.com/topic/TopicAction.do?Id=207","title":"Comparing strings by their alphabetical order","body":"<p><code>String.compareTo</code> might or might not be what you need.</p>\n\n<p>Take a look at <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=207\">this</a> link if you need localized ordering of strings.</p>\n"},{"tags":[],"owner":{"account_id":171680,"reputation":997,"user_id":399257,"accept_rate":100,"display_name":"Vasiliy Sharapov"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1397045995,"creation_date":1306942476,"answer_id":6203801,"question_id":6203411,"body_markdown":"You can call either string&#39;s compareTo method (java.lang.String.compareTo). This feature is well documented [on the java documentation site][1].\r\n\r\nHere is a short program that demonstrates it:\r\n\r\n    class StringCompareExample {\r\n        public static void main(String args[]){\r\n            String s1 = &quot;Project&quot;; String s2 = &quot;Sunject&quot;;\r\n            verboseCompare(s1, s2);\r\n            verboseCompare(s2, s1);\r\n            verboseCompare(s1, s1);\r\n        }\r\n        \r\n        public static void verboseCompare(String s1, String s2){\r\n            System.out.println(&quot;Comparing \\&quot;&quot; + s1 + &quot;\\&quot; to \\&quot;&quot; + s2 + &quot;\\&quot;...&quot;);\r\n            \r\n            int comparisonResult = s1.compareTo(s2);\r\n            System.out.println(&quot;The result of the comparison was &quot; + comparisonResult);\r\n            \r\n            System.out.print(&quot;This means that \\&quot;&quot; + s1 + &quot;\\&quot; &quot;);\r\n            if(comparisonResult &lt; 0){\r\n                System.out.println(&quot;lexicographically precedes \\&quot;&quot; + s2 + &quot;\\&quot;.&quot;);\r\n            }else if(comparisonResult &gt; 0){\r\n                System.out.println(&quot;lexicographically follows \\&quot;&quot; + s2 + &quot;\\&quot;.&quot;);\r\n            }else{\r\n                System.out.println(&quot;equals \\&quot;&quot; + s2 + &quot;\\&quot;.&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n    \r\n\r\nHere is a live demonstration that shows it works: [http://ideone.com/Drikp3][2]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/String.html#compareTo%28java.lang.String%29\r\n  [2]: http://ideone.com/Drikp3","title":"Comparing strings by their alphabetical order","body":"<p>You can call either string's compareTo method (java.lang.String.compareTo). This feature is well documented <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#compareTo%28java.lang.String%29\" rel=\"noreferrer\">on the java documentation site</a>.</p>\n\n<p>Here is a short program that demonstrates it:</p>\n\n<pre><code>class StringCompareExample {\n    public static void main(String args[]){\n        String s1 = \"Project\"; String s2 = \"Sunject\";\n        verboseCompare(s1, s2);\n        verboseCompare(s2, s1);\n        verboseCompare(s1, s1);\n    }\n\n    public static void verboseCompare(String s1, String s2){\n        System.out.println(\"Comparing \\\"\" + s1 + \"\\\" to \\\"\" + s2 + \"\\\"...\");\n\n        int comparisonResult = s1.compareTo(s2);\n        System.out.println(\"The result of the comparison was \" + comparisonResult);\n\n        System.out.print(\"This means that \\\"\" + s1 + \"\\\" \");\n        if(comparisonResult &lt; 0){\n            System.out.println(\"lexicographically precedes \\\"\" + s2 + \"\\\".\");\n        }else if(comparisonResult &gt; 0){\n            System.out.println(\"lexicographically follows \\\"\" + s2 + \"\\\".\");\n        }else{\n            System.out.println(\"equals \\\"\" + s2 + \"\\\".\");\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n\n<p>Here is a live demonstration that shows it works: <a href=\"http://ideone.com/Drikp3\" rel=\"noreferrer\">http://ideone.com/Drikp3</a></p>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1458498187,"creation_date":1458498187,"answer_id":36117723,"question_id":6203411,"body_markdown":"For alphabetical order following nationalization, use [`Collator`](http://docs.oracle.com/javase/8/docs/api/java/text/Collator.html).\r\n\r\n    //Get the Collator for US English and set its strength to PRIMARY\r\n    Collator usCollator = Collator.getInstance(Locale.US);\r\n    usCollator.setStrength(Collator.PRIMARY);\r\n    if( usCollator.compare(&quot;abc&quot;, &quot;ABC&quot;) == 0 ) {\r\n        System.out.println(&quot;Strings are equivalent&quot;);\r\n    }\r\n \r\nFor a list of supported locales, see [JDK 8 and JRE 8 Supported Locales](http://www.oracle.com/technetwork/java/javase/java8locales-2095355.html).","title":"Comparing strings by their alphabetical order","body":"<p>For alphabetical order following nationalization, use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/Collator.html\" rel=\"noreferrer\"><code>Collator</code></a>.</p>\n\n<pre><code>//Get the Collator for US English and set its strength to PRIMARY\nCollator usCollator = Collator.getInstance(Locale.US);\nusCollator.setStrength(Collator.PRIMARY);\nif( usCollator.compare(\"abc\", \"ABC\") == 0 ) {\n    System.out.println(\"Strings are equivalent\");\n}\n</code></pre>\n\n<p>For a list of supported locales, see <a href=\"http://www.oracle.com/technetwork/java/javase/java8locales-2095355.html\" rel=\"noreferrer\">JDK 8 and JRE 8 Supported Locales</a>.</p>\n"},{"tags":[],"owner":{"account_id":13898811,"reputation":29,"user_id":10034879,"display_name":"malik arman"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1530763729,"creation_date":1530763729,"answer_id":51183271,"question_id":6203411,"body_markdown":"    import java.io.*;\r\n    import java.util.*;\r\n    public class CandidateCode {\r\n        public static void main(String args[] ) throws Exception {\r\n           Scanner sc = new Scanner(System.in);\r\n               int n =Integer.parseInt(sc.nextLine());\r\n               String arr[] = new String[n];\r\n    \t \tfor (int i = 0; i &lt; arr.length; i++) {\r\n    \t\t        arr[i] = sc.nextLine();\r\n    \t \t    \t}\r\n    \r\n          \r\n             for(int i = 0; i &lt;arr.length; ++i) {\r\n                for (int j = i + 1; j &lt;arr.length; ++j) {\r\n                    if (arr[i].compareTo(arr[j]) &gt; 0) {\r\n                        String temp = arr[i];\r\n                        arr[i] = arr[j];\r\n                        arr[j] = temp;\r\n                    }\r\n                }\r\n            }\r\n            for(int i = 0; i &lt;arr.length; i++) {\r\n                System.out.println(arr[i]);\r\n            }\r\n       }\r\n    }","title":"Comparing strings by their alphabetical order","body":"<pre><code>import java.io.*;\nimport java.util.*;\npublic class CandidateCode {\n    public static void main(String args[] ) throws Exception {\n       Scanner sc = new Scanner(System.in);\n           int n =Integer.parseInt(sc.nextLine());\n           String arr[] = new String[n];\n        for (int i = 0; i &lt; arr.length; i++) {\n                arr[i] = sc.nextLine();\n                }\n\n\n         for(int i = 0; i &lt;arr.length; ++i) {\n            for (int j = i + 1; j &lt;arr.length; ++j) {\n                if (arr[i].compareTo(arr[j]) &gt; 0) {\n                    String temp = arr[i];\n                    arr[i] = arr[j];\n                    arr[j] = temp;\n                }\n            }\n        }\n        for(int i = 0; i &lt;arr.length; i++) {\n            System.out.println(arr[i]);\n        }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3144114,"reputation":2334,"user_id":2658949,"accept_rate":41,"display_name":"arenaq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543925432,"creation_date":1543925432,"answer_id":53612690,"question_id":6203411,"body_markdown":"As others suggested, you can use `String.compareTo(String)`.\r\n\r\nBut if you are sorting a list of Strings and you need a `Comparator`, you don&#39;t have to implement it, you can use `Comparator.naturalOrder()` or `Comparator.reverseOrder()`.","title":"Comparing strings by their alphabetical order","body":"<p>As others suggested, you can use <code>String.compareTo(String)</code>.</p>\n\n<p>But if you are sorting a list of Strings and you need a <code>Comparator</code>, you don't have to implement it, you can use <code>Comparator.naturalOrder()</code> or <code>Comparator.reverseOrder()</code>.</p>\n"},{"tags":[],"owner":{"account_id":18134422,"reputation":21,"user_id":13189156,"display_name":"Suraj Nayak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647964580,"creation_date":1622142424,"answer_id":67728485,"question_id":6203411,"body_markdown":"    String s1 = &quot;Project&quot;;\r\n\tString s2 = &quot;Sunject&quot;;\r\n\t\r\n    //print smaller one using compareTo() function\r\n\tif(s1.compareTo(s2)&lt;0) System.out.println(s1);\r\n\t//if s1 is smaller then function returns negative which is less than 0 so s1 \r\n    //is smaller\r\n\telse System.out.println(s2); // else s2 is smaller\r\n\t\r\n\t//print larger one using compareTo() function\r\n\tif(s1.compareTo(s2)&gt;0) System.out.println(s1);\r\n\t//is s1 is larger function will give positive so print s1 else s2 \r\n\telse System.out.println(s2);","title":"Comparing strings by their alphabetical order","body":"<pre><code>String s1 = &quot;Project&quot;;\nString s2 = &quot;Sunject&quot;;\n\n//print smaller one using compareTo() function\nif(s1.compareTo(s2)&lt;0) System.out.println(s1);\n//if s1 is smaller then function returns negative which is less than 0 so s1 \n//is smaller\nelse System.out.println(s2); // else s2 is smaller\n\n//print larger one using compareTo() function\nif(s1.compareTo(s2)&gt;0) System.out.println(s1);\n//is s1 is larger function will give positive so print s1 else s2 \nelse System.out.println(s2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5378624,"reputation":8469,"user_id":4284627,"accept_rate":81,"display_name":"Donald Duck"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636387715,"creation_date":1636387715,"answer_id":69886538,"question_id":6203411,"body_markdown":"As others have mentioned, you can use `String.compareTo`, but that will sort all upper-case letters before all lower-case letters, so &quot;Z&quot; will come before &quot;a&quot;.\r\n\r\nIf you just want to sort them in alphabetical order regardless of case (so that &quot;a&quot; comes before &quot;Z&quot;), you can use [`String.compareToIgnoreCase`][1]:\r\n\r\n    s1.compareToIgnoreCase(s2);\r\n\r\nThis returns a negative integer if `s1` comes before `s2`, a positive integer if `s2` comes before `s1`, and zero if they&#39;re equal. Since this method ignores case completely, two strings that differ only by case are considered equal, for example `&quot;ABC&quot;.compareToIgnoreCase(&quot;abc&quot;)` will return zero.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#compareToIgnoreCase%28java.lang.String%29","title":"Comparing strings by their alphabetical order","body":"<p>As others have mentioned, you can use <code>String.compareTo</code>, but that will sort all upper-case letters before all lower-case letters, so &quot;Z&quot; will come before &quot;a&quot;.</p>\n<p>If you just want to sort them in alphabetical order regardless of case (so that &quot;a&quot; comes before &quot;Z&quot;), you can use <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#compareToIgnoreCase%28java.lang.String%29\" rel=\"nofollow noreferrer\"><code>String.compareToIgnoreCase</code></a>:</p>\n<pre><code>s1.compareToIgnoreCase(s2);\n</code></pre>\n<p>This returns a negative integer if <code>s1</code> comes before <code>s2</code>, a positive integer if <code>s2</code> comes before <code>s1</code>, and zero if they're equal. Since this method ignores case completely, two strings that differ only by case are considered equal, for example <code>&quot;ABC&quot;.compareToIgnoreCase(&quot;abc&quot;)</code> will return zero.</p>\n"},{"tags":[],"owner":{"account_id":4281907,"reputation":307,"user_id":3501003,"display_name":"Umesh Bhutada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655322960,"creation_date":1655322960,"answer_id":72637159,"question_id":6203411,"body_markdown":"# Person.java #\r\n\r\n    import java.util.Objects;\r\n    public class Person implements Comparable {\r\n    String firstName;\r\n    String lastName;\r\n    Integer age;\r\n    Integer DOBYear;\r\n\r\n    public Person(String firstName, String lastName, Integer age, Integer DOBYear) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.age = age;\r\n        this.DOBYear = DOBYear;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public Integer getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(Integer age) {\r\n        this.age = age;\r\n    }\r\n\r\n    public Integer getDOBYear() {\r\n        return DOBYear;\r\n    }\r\n\r\n    public void setDOBYear(Integer DOBYear) {\r\n        this.DOBYear = DOBYear;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Person person = (Person) o;\r\n        return Objects.equals(firstName, person.firstName) &amp;&amp; Objects.equals(lastName, person.lastName) &amp;&amp; Objects.equals(age, person.age) &amp;&amp; Objects.equals(DOBYear, person.DOBYear);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(firstName, lastName, age, DOBYear);\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Object o) {\r\n        Person p = (Person) o;\r\n        return p.getAge() &gt; this.getAge() ? -1: p.getAge() == this.getAge() ? 0 : 1;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Person{&quot; +\r\n                &quot;firstName=&#39;&quot; + firstName + &#39;\\&#39;&#39; +\r\n                &quot;, lastName=&#39;&quot; + lastName + &#39;\\&#39;&#39; +\r\n                &quot;, age=&quot; + age +\r\n                &quot;, DOBYear=&quot; + DOBYear +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n# PersonNameComparator #\r\n\r\n    import java.util.Comparator;\r\n\r\n    public class PersonNameComparator implements Comparator&lt;Person&gt; {\r\n\r\n\r\n    @Override\r\n    public int compare(Person o1, Person o2) {\r\n        return o1.getFirstName().compareTo(o2.getFirstName());\r\n    }\r\n}\r\n\r\n# PersonTest.java#\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n\r\n    public class PersonTest {\r\n    public static void main(String args[]){\r\n\r\n        System.out.println(&quot;Hello World&quot;);\r\n        Person p1 = new Person(&quot;Umesh&quot;,&quot;Bhutada&quot;,31,1991);\r\n        Person p2 = new Person(&quot;Deepali&quot;,&quot;Baheti&quot;,29,1992);\r\n        Person p3 = new Person(&quot;Romeet&quot;,&quot;Zanwar&quot;,5,2017);\r\n\r\n        ArrayList&lt;Person&gt; arr1 = new ArrayList&lt;Person&gt;( Arrays.asList(p1,p2,p3));\r\n        Collections.sort(arr1);\r\n\r\n        arr1.forEach(person -&gt; {System.out.println( person);});\r\n\r\n        System.out.println(&quot;End of World&quot;);\r\n\r\n        System.out.println(&quot;test 2&quot;);\r\n\r\n        Collections.sort(arr1,new PersonNameComparator());\r\n        arr1.forEach(person -&gt; {System.out.println( person);});\r\n\r\n    }\r\n\r\n\r\n}\r\n","title":"Comparing strings by their alphabetical order","body":"<h1>Person.java</h1>\n<pre><code>import java.util.Objects;\npublic class Person implements Comparable {\nString firstName;\nString lastName;\nInteger age;\nInteger DOBYear;\n\npublic Person(String firstName, String lastName, Integer age, Integer DOBYear) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.age = age;\n    this.DOBYear = DOBYear;\n}\n\npublic String getFirstName() {\n    return firstName;\n}\n\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n\npublic String getLastName() {\n    return lastName;\n}\n\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\n\npublic Integer getAge() {\n    return age;\n}\n\npublic void setAge(Integer age) {\n    this.age = age;\n}\n\npublic Integer getDOBYear() {\n    return DOBYear;\n}\n\npublic void setDOBYear(Integer DOBYear) {\n    this.DOBYear = DOBYear;\n}\n\n@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Person person = (Person) o;\n    return Objects.equals(firstName, person.firstName) &amp;&amp; Objects.equals(lastName, person.lastName) &amp;&amp; Objects.equals(age, person.age) &amp;&amp; Objects.equals(DOBYear, person.DOBYear);\n}\n\n@Override\npublic int hashCode() {\n    return Objects.hash(firstName, lastName, age, DOBYear);\n}\n\n@Override\npublic int compareTo(Object o) {\n    Person p = (Person) o;\n    return p.getAge() &gt; this.getAge() ? -1: p.getAge() == this.getAge() ? 0 : 1;\n}\n\n@Override\npublic String toString() {\n    return &quot;Person{&quot; +\n            &quot;firstName='&quot; + firstName + '\\'' +\n            &quot;, lastName='&quot; + lastName + '\\'' +\n            &quot;, age=&quot; + age +\n            &quot;, DOBYear=&quot; + DOBYear +\n            '}';\n}\n</code></pre>\n<p>}</p>\n<h1>PersonNameComparator</h1>\n<pre><code>import java.util.Comparator;\n\npublic class PersonNameComparator implements Comparator&lt;Person&gt; {\n\n\n@Override\npublic int compare(Person o1, Person o2) {\n    return o1.getFirstName().compareTo(o2.getFirstName());\n}\n</code></pre>\n<p>}</p>\n<h1>PersonTest.java#</h1>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\n\npublic class PersonTest {\npublic static void main(String args[]){\n\n    System.out.println(&quot;Hello World&quot;);\n    Person p1 = new Person(&quot;Umesh&quot;,&quot;Bhutada&quot;,31,1991);\n    Person p2 = new Person(&quot;Deepali&quot;,&quot;Baheti&quot;,29,1992);\n    Person p3 = new Person(&quot;Romeet&quot;,&quot;Zanwar&quot;,5,2017);\n\n    ArrayList&lt;Person&gt; arr1 = new ArrayList&lt;Person&gt;( Arrays.asList(p1,p2,p3));\n    Collections.sort(arr1);\n\n    arr1.forEach(person -&gt; {System.out.println( person);});\n\n    System.out.println(&quot;End of World&quot;);\n\n    System.out.println(&quot;test 2&quot;);\n\n    Collections.sort(arr1,new PersonNameComparator());\n    arr1.forEach(person -&gt; {System.out.println( person);});\n\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":365234,"reputation":17197,"user_id":710051,"accept_rate":85,"display_name":"Makky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":494899,"favorite_count":0,"down_vote_count":0,"up_vote_count":156,"accepted_answer_id":6203543,"answer_count":10,"score":156,"last_activity_date":1655322960,"creation_date":1306941014,"question_id":6203411,"body_markdown":"    String s1 = &quot;Project&quot;;\r\n    String s2 = &quot;Sunject&quot;;\r\n\r\nI want to compare the two above string by their alphabetic order (which in this case &quot;Project&quot; then &quot;Sunject&quot; as &quot;P&quot; comes before &quot;S&quot;).\r\nDoes anyone know how to do that in Java?","title":"Comparing strings by their alphabetical order","body":"<pre><code>String s1 = \"Project\";\nString s2 = \"Sunject\";\n</code></pre>\n\n<p>I want to compare the two above string by their alphabetic order (which in this case \"Project\" then \"Sunject\" as \"P\" comes before \"S\").\nDoes anyone know how to do that in Java?</p>\n"},{"tags":["java","spring-boot","itext","thymeleaf","flying-saucer"],"owner":{"account_id":5975484,"reputation":31,"user_id":4696473,"display_name":"Pankaj Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":931,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1655322795,"creation_date":1613151739,"question_id":66176583,"body_markdown":"I am using Flying Saucer for pdf report creation and template using thymleaf but the problem is when I am converting the template I am getting this error.\r\n\r\n&gt; org.thymeleaf.exceptions.TemplateProcessingException: Link base &quot;/download-pdf/{refno}&quot; cannot be context relative (/...) unless the context used for executing the engine implements the org.thymeleaf.context.IWebContext interface\r\n\r\nIn thymleaf template I am using this code:\r\n&lt;a th:href=&quot;@{/download-pdf/{refno}(refno=${complaintPdfBean.refno})}&quot;&gt;&lt;span&gt;Download PDF Document&lt;/span&gt;&lt;/a&gt;\r\n\r\nI have taken the reference of  https://github.com/tuhrig/Flying_Saucer_PDF_Generation.\r\n\r\nBefore that, I have used Itext for Pdf report but using Itext PDF is converting but CSS is not supporting properly in the case of Itext.\r\n\r\nThis is the code for Flying Saucer I am using in Java.\r\n\r\n\r\n\r\n\r\n    @RequestMapping(&quot;download-pdf/{refno}&quot;)\r\n    \tpublic void generatePdf(@PathVariable(&quot;refno&quot;) Long refno) throws Exception {\r\n    \t\tClassLoaderTemplateResolver templateResolver = new ClassLoaderTemplateResolver();\r\n    \t\ttemplateResolver.setPrefix(&quot;templates/&quot;);\r\n    \t\ttemplateResolver.setSuffix(&quot;.html&quot;);\r\n    \t\ttemplateResolver.setTemplateMode(TemplateMode.HTML);\r\n    \t\ttemplateResolver.setCharacterEncoding(UTF_8);\r\n\r\n\t\tTemplateEngine templateEngine = new TemplateEngine();\r\n\t\ttemplateEngine.setTemplateResolver(templateResolver);\r\n\t\tSystem.out.println(refno + &quot; &quot; + &quot;downlodadaf&quot;);\r\n\t\tcomplaintDto = complaintRepo.findById(refno).orElse(null);\r\n\t\tSystem.out.println(complaintDto.getcMobile() + &quot; dfdf      &quot; + complaintDto.getRefno());\r\n\r\n\t\tContext context = new Context();\r\n\t\tcontext.setVariable(&quot;complaintPdfBean&quot;, complaintDto);\r\n\t\tString renderedHtmlContent = templateEngine.process(&quot;complant-privew&quot;, context);\r\n\t\tString xHtml = convertToXhtml(renderedHtmlContent);\r\n\r\n\t\tITextRenderer renderer = new ITextRenderer();\r\n\t\trenderer.getFontResolver().addFont(&quot;Code39.ttf&quot;, IDENTITY_H, EMBEDDED);\r\n\t\tString baseUrl = FileSystems.getDefault().getPath(&quot;src&quot;, &quot;main&quot;, &quot;resources&quot;).toUri().toURL().toString();\r\n\t\trenderer.setDocumentFromString(xHtml, baseUrl);\r\n\t\trenderer.layout();\r\n\r\n\t\t// And finally, we create the PDF:\r\n\t\tOutputStream outputStream = new FileOutputStream(&quot;inline; filename=complantprivew.pdf&quot;);\r\n\t\trenderer.createPDF(outputStream);\r\n\t\toutputStream.close();\r\n\t}\r\n\r\n\tprivate String convertToXhtml(String html) throws UnsupportedEncodingException {\r\n\t\tTidy tidy = new Tidy();\r\n\t\ttidy.setInputEncoding(UTF_8);\r\n\t\ttidy.setOutputEncoding(UTF_8);\r\n\t\ttidy.setXHTML(true);\r\n\t\tByteArrayInputStream inputStream = new ByteArrayInputStream(html.getBytes(UTF_8));\r\n\t\tByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\t\ttidy.parseDOM(inputStream, outputStream);\r\n\t\treturn outputStream.toString(UTF_8);\r\n\t}\r\n","title":"how to prepare pdf report using thymleaf and Flying Saucer in spring boot","body":"<p>I am using Flying Saucer for pdf report creation and template using thymleaf but the problem is when I am converting the template I am getting this error.</p>\n<blockquote>\n<p>org.thymeleaf.exceptions.TemplateProcessingException: Link base &quot;/download-pdf/{refno}&quot; cannot be context relative (/...) unless the context used for executing the engine implements the org.thymeleaf.context.IWebContext interface</p>\n</blockquote>\n<p>In thymleaf template I am using this code:\nDownload PDF Document</p>\n<p>I have taken the reference of  <a href=\"https://github.com/tuhrig/Flying_Saucer_PDF_Generation\" rel=\"nofollow noreferrer\">https://github.com/tuhrig/Flying_Saucer_PDF_Generation</a>.</p>\n<p>Before that, I have used Itext for Pdf report but using Itext PDF is converting but CSS is not supporting properly in the case of Itext.</p>\n<p>This is the code for Flying Saucer I am using in Java.</p>\n<pre><code>@RequestMapping(&quot;download-pdf/{refno}&quot;)\n    public void generatePdf(@PathVariable(&quot;refno&quot;) Long refno) throws Exception {\n        ClassLoaderTemplateResolver templateResolver = new ClassLoaderTemplateResolver();\n        templateResolver.setPrefix(&quot;templates/&quot;);\n        templateResolver.setSuffix(&quot;.html&quot;);\n        templateResolver.setTemplateMode(TemplateMode.HTML);\n        templateResolver.setCharacterEncoding(UTF_8);\n\n    TemplateEngine templateEngine = new TemplateEngine();\n    templateEngine.setTemplateResolver(templateResolver);\n    System.out.println(refno + &quot; &quot; + &quot;downlodadaf&quot;);\n    complaintDto = complaintRepo.findById(refno).orElse(null);\n    System.out.println(complaintDto.getcMobile() + &quot; dfdf      &quot; + complaintDto.getRefno());\n\n    Context context = new Context();\n    context.setVariable(&quot;complaintPdfBean&quot;, complaintDto);\n    String renderedHtmlContent = templateEngine.process(&quot;complant-privew&quot;, context);\n    String xHtml = convertToXhtml(renderedHtmlContent);\n\n    ITextRenderer renderer = new ITextRenderer();\n    renderer.getFontResolver().addFont(&quot;Code39.ttf&quot;, IDENTITY_H, EMBEDDED);\n    String baseUrl = FileSystems.getDefault().getPath(&quot;src&quot;, &quot;main&quot;, &quot;resources&quot;).toUri().toURL().toString();\n    renderer.setDocumentFromString(xHtml, baseUrl);\n    renderer.layout();\n\n    // And finally, we create the PDF:\n    OutputStream outputStream = new FileOutputStream(&quot;inline; filename=complantprivew.pdf&quot;);\n    renderer.createPDF(outputStream);\n    outputStream.close();\n}\n\nprivate String convertToXhtml(String html) throws UnsupportedEncodingException {\n    Tidy tidy = new Tidy();\n    tidy.setInputEncoding(UTF_8);\n    tidy.setOutputEncoding(UTF_8);\n    tidy.setXHTML(true);\n    ByteArrayInputStream inputStream = new ByteArrayInputStream(html.getBytes(UTF_8));\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    tidy.parseDOM(inputStream, outputStream);\n    return outputStream.toString(UTF_8);\n}\n</code></pre>\n"},{"tags":["java","serialization","effective-java"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655322664,"creation_date":1655184088,"answer_id":72611861,"question_id":72583310,"body_markdown":"I think it helps if you understand how Java Serialization works.\r\n\r\nBasically, if an object is serialized the stored data is:\r\n\r\n* a class description (name of the class, serialversion, some flags and information about the fields)\r\n* the values of the fields (instance fields only and no transient fields)\r\n\r\nFor objects that have been written previously the serialization stores a code value that means &quot;use that previous instance&quot; (in Java Serialization terms: a back reference).\r\n\r\nIf the object is read back, the process is:\r\n\r\n* read the class description\r\n* create an instance of the class\r\n* read the values for the fields\r\n* if a `readResolve()` method exists call that method and use the result of that method as result\r\n\r\n----\r\nWith the payload from `serializedForm` the complete process is:\r\n\r\n* read the class description of `Elvis`\r\n* create an `Elvis` instance\r\n* read the value for the field `favoriteSongs`:\r\n  * read the class description of `ElvisStealer`\r\n  * create an `ElvisStealer` instance\r\n  * read the value for the field `payload`\r\n    * the value is a reference to the `Elvis` instance created in step 2\r\n    * this is the ominous `0x71 0x00 0x7e 0x00 0x02` at the end of the serialized data\r\n  * execute the `readResolve()` method of `ElvisStealer` which saves the `payload` into `ElvisStealer.impersonator` and then returns `new String[] { &quot;A Fool Such as I&quot; }`\r\n* this `new String[] { &quot;A Fool Such as I&quot; }` is stored as `favoriteSongs` of the `Elvis` instance created in step 2\r\n* execute the `readResolve()` method of `Elvis` which returns `Elvis.INSTANCE` as result\r\n* that `Elvis.INSTANCE` is the final result of the `deserialize()` call.\r\n\r\n----\r\nWhy is this `0x71 0x00 0x7e 0x00 0x02` the reference to the `Elvis` instance created in step 2?\r\n\r\nThe breakdown of `0x71 0x00 0x7e 0x00 0x02` is:\r\n* `0x71`: [`TC_REFERENCE`](https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/io/ObjectStreamConstants.java#L61)\r\n* `0x00 0x7e 0x00 0x02`: the value 0x7e0002 which is [`baseWireHandle`](https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/io/ObjectStreamConstants.java#L139) + 2\r\n\r\nThe java serialization mechanism stores &quot;interesting entries&quot; in the data stream into a [`HandleTable handles`](https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/io/ObjectInputStream.java#L329) so that later on - if the same &quot;interesting entry&quot; appears again - it can store just a short back reference to that &quot;interesting entry&quot; instead of writing the whole thing again.\r\n\r\nIn your example the &quot;interesting entries&quot; are:\r\n* index 0: the class descriptor for the `Elvis` class (class name, serialVersionUID, flags, information about the fields)\r\n* index 1: the string `Ljava/lang/Object;` - the binary name of the class `java.lang.Object` which is the class type of the `favoriteSongs` field in the serialized data\r\n* index 2: the `Elvis` instance\r\n* index 3: the class descriptor for the `ElvisStealer` class\r\n* index 4: the string `LElvis;` - the binary name of the class `Elvis` which is the class type of the `payload` field in the serialized data\r\n* index 5: the `ElvisStealer` instance\r\n\r\nThis table is not predefined somewhere in the serialized data - it is reconstructed during the deserialization process.\r\n\r\nThere is no simple rule &quot;the first object is always the number 2&quot; - that very much depends on how many serializable super classes that class of that first object has and how many fields the class and its serializable super classes have.","title":"Effective in Java Item 89: For instance control, prefer enum types to readResolve - Why can the stealer change the field of the original instance?","body":"<p>I think it helps if you understand how Java Serialization works.</p>\n<p>Basically, if an object is serialized the stored data is:</p>\n<ul>\n<li>a class description (name of the class, serialversion, some flags and information about the fields)</li>\n<li>the values of the fields (instance fields only and no transient fields)</li>\n</ul>\n<p>For objects that have been written previously the serialization stores a code value that means &quot;use that previous instance&quot; (in Java Serialization terms: a back reference).</p>\n<p>If the object is read back, the process is:</p>\n<ul>\n<li>read the class description</li>\n<li>create an instance of the class</li>\n<li>read the values for the fields</li>\n<li>if a <code>readResolve()</code> method exists call that method and use the result of that method as result</li>\n</ul>\n<hr />\n<p>With the payload from <code>serializedForm</code> the complete process is:</p>\n<ul>\n<li>read the class description of <code>Elvis</code></li>\n<li>create an <code>Elvis</code> instance</li>\n<li>read the value for the field <code>favoriteSongs</code>:\n<ul>\n<li>read the class description of <code>ElvisStealer</code></li>\n<li>create an <code>ElvisStealer</code> instance</li>\n<li>read the value for the field <code>payload</code>\n<ul>\n<li>the value is a reference to the <code>Elvis</code> instance created in step 2</li>\n<li>this is the ominous <code>0x71 0x00 0x7e 0x00 0x02</code> at the end of the serialized data</li>\n</ul>\n</li>\n<li>execute the <code>readResolve()</code> method of <code>ElvisStealer</code> which saves the <code>payload</code> into <code>ElvisStealer.impersonator</code> and then returns <code>new String[] { &quot;A Fool Such as I&quot; }</code></li>\n</ul>\n</li>\n<li>this <code>new String[] { &quot;A Fool Such as I&quot; }</code> is stored as <code>favoriteSongs</code> of the <code>Elvis</code> instance created in step 2</li>\n<li>execute the <code>readResolve()</code> method of <code>Elvis</code> which returns <code>Elvis.INSTANCE</code> as result</li>\n<li>that <code>Elvis.INSTANCE</code> is the final result of the <code>deserialize()</code> call.</li>\n</ul>\n<hr />\n<p>Why is this <code>0x71 0x00 0x7e 0x00 0x02</code> the reference to the <code>Elvis</code> instance created in step 2?</p>\n<p>The breakdown of <code>0x71 0x00 0x7e 0x00 0x02</code> is:</p>\n<ul>\n<li><code>0x71</code>: <a href=\"https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/io/ObjectStreamConstants.java#L61\" rel=\"nofollow noreferrer\"><code>TC_REFERENCE</code></a></li>\n<li><code>0x00 0x7e 0x00 0x02</code>: the value 0x7e0002 which is <a href=\"https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/io/ObjectStreamConstants.java#L139\" rel=\"nofollow noreferrer\"><code>baseWireHandle</code></a> + 2</li>\n</ul>\n<p>The java serialization mechanism stores &quot;interesting entries&quot; in the data stream into a <a href=\"https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/io/ObjectInputStream.java#L329\" rel=\"nofollow noreferrer\"><code>HandleTable handles</code></a> so that later on - if the same &quot;interesting entry&quot; appears again - it can store just a short back reference to that &quot;interesting entry&quot; instead of writing the whole thing again.</p>\n<p>In your example the &quot;interesting entries&quot; are:</p>\n<ul>\n<li>index 0: the class descriptor for the <code>Elvis</code> class (class name, serialVersionUID, flags, information about the fields)</li>\n<li>index 1: the string <code>Ljava/lang/Object;</code> - the binary name of the class <code>java.lang.Object</code> which is the class type of the <code>favoriteSongs</code> field in the serialized data</li>\n<li>index 2: the <code>Elvis</code> instance</li>\n<li>index 3: the class descriptor for the <code>ElvisStealer</code> class</li>\n<li>index 4: the string <code>LElvis;</code> - the binary name of the class <code>Elvis</code> which is the class type of the <code>payload</code> field in the serialized data</li>\n<li>index 5: the <code>ElvisStealer</code> instance</li>\n</ul>\n<p>This table is not predefined somewhere in the serialized data - it is reconstructed during the deserialization process.</p>\n<p>There is no simple rule &quot;the first object is always the number 2&quot; - that very much depends on how many serializable super classes that class of that first object has and how many fields the class and its serializable super classes have.</p>\n"}],"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72611861,"answer_count":1,"score":2,"last_activity_date":1655322664,"creation_date":1654941000,"question_id":72583310,"body_markdown":"A serializable class is defined as\r\n\r\n    public class Elvis implements Serializable {\r\n        public static final Elvis INSTANCE = new Elvis();\r\n        private Elvis() { }\r\n        private String[] favoriteSongs ={ &quot;Hound Dog&quot;, &quot;Heartbreak Hotel&quot; };\r\n        public void printFavorites() {\r\n            System.out.println(Arrays.toString(favoriteSongs));\r\n        }\r\n        private Object readResolve() {\r\n        return INSTANCE;\r\n        }\r\n    }\r\n\r\nA stealer class is defined as \r\n\r\n    public class ElvisStealer implements Serializable {\r\n        static Elvis impersonator;\r\n        private Elvis payload;\r\n    \r\n        private Object readResolve() {\r\n            // Save a reference to the &quot;unresolved&quot; Elvis instance\r\n            impersonator = payload;\r\n            // Return object of correct type for favoriteSongs field\r\n            return new String[] { &quot;A Fool Such as I&quot; };\r\n        }\r\n    \r\n        private static final long serialVersionUID =0;\r\n    }\r\n\r\nFinally, here is the program.\r\n\r\n    public class ElvisImpersonator {\r\n    // Byte stream couldn&#39;t have come from a real Elvis instance!\r\n        private static final byte[] serializedForm = {\r\n            (byte)0xac, (byte)0xed, 0x00, 0x05, 0x73, 0x72, 0x00, 0x05,\r\n            0x45, 0x6c, 0x76, 0x69, 0x73, (byte)0x84, (byte)0xe6,\r\n            (byte)0x93, 0x33, (byte)0xc3, (byte)0xf4, (byte)0x8b,\r\n            0x32, 0x02, 0x00, 0x01, 0x4c, 0x00, 0x0d, 0x66, 0x61, 0x76,\r\n            0x6f, 0x72, 0x69, 0x74, 0x65, 0x53, 0x6f, 0x6e, 0x67, 0x73,\r\n            0x74, 0x00, 0x12, 0x4c, 0x6a, 0x61, 0x76, 0x61, 0x2f, 0x6c,\r\n            0x61, 0x6e, 0x67, 0x2f, 0x4f, 0x62, 0x6a, 0x65, 0x63, 0x74,\r\n            0x3b, 0x78, 0x70, 0x73, 0x72, 0x00, 0x0c, 0x45, 0x6c, 0x76,\r\n            0x69, 0x73, 0x53, 0x74, 0x65, 0x61, 0x6c, 0x65, 0x72, 0x00,\r\n            0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x01,\r\n            0x4c, 0x00, 0x07, 0x70, 0x61, 0x79, 0x6c, 0x6f, 0x61, 0x64,\r\n            0x74, 0x00, 0x07, 0x4c, 0x45, 0x6c, 0x76, 0x69, 0x73, 0x3b,\r\n            0x78, 0x70, 0x71, 0x00, 0x7e, 0x00, 0x02\r\n        };\r\n    \r\n        public static void main(String[] args) {\r\n            // Initializes ElvisStealer.impersonator and returns\r\n            // the real Elvis (which is Elvis.INSTANCE)\r\n            Elvis elvis = (Elvis) deserialize(serializedForm);\r\n            Elvis impersonator = ElvisStealer.impersonator;\r\n            elvis.printFavorites();\r\n            impersonator.printFavorites();\r\n        }\r\n    }\r\n\r\nHere is the output of the program.\r\n\r\n    [Hound Dog, Heartbreak Hotel]\r\n    [A Fool Such as I]\r\n\r\nHere is the structralized serialized form.\r\n[![enter image description here][1]][1]\r\n\r\nWhile I read this part, \r\n1. I don&#39;t know why the return of the method readResolve() of ElvisStealer can change the favoriteSongs field of impersonator?\r\n2. Why 0x71, 0x00, 0x7e, 0x00, 0x02 is the reference of Elvis?\r\n3. Why 0x71, 0x00, 0x7e, 0x00, 0x02 will be assigned to field payload of ElvisStealer?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5dM15.png","title":"Effective in Java Item 89: For instance control, prefer enum types to readResolve - Why can the stealer change the field of the original instance?","body":"<p>A serializable class is defined as</p>\n<pre><code>public class Elvis implements Serializable {\n    public static final Elvis INSTANCE = new Elvis();\n    private Elvis() { }\n    private String[] favoriteSongs ={ &quot;Hound Dog&quot;, &quot;Heartbreak Hotel&quot; };\n    public void printFavorites() {\n        System.out.println(Arrays.toString(favoriteSongs));\n    }\n    private Object readResolve() {\n    return INSTANCE;\n    }\n}\n</code></pre>\n<p>A stealer class is defined as</p>\n<pre><code>public class ElvisStealer implements Serializable {\n    static Elvis impersonator;\n    private Elvis payload;\n\n    private Object readResolve() {\n        // Save a reference to the &quot;unresolved&quot; Elvis instance\n        impersonator = payload;\n        // Return object of correct type for favoriteSongs field\n        return new String[] { &quot;A Fool Such as I&quot; };\n    }\n\n    private static final long serialVersionUID =0;\n}\n</code></pre>\n<p>Finally, here is the program.</p>\n<pre><code>public class ElvisImpersonator {\n// Byte stream couldn't have come from a real Elvis instance!\n    private static final byte[] serializedForm = {\n        (byte)0xac, (byte)0xed, 0x00, 0x05, 0x73, 0x72, 0x00, 0x05,\n        0x45, 0x6c, 0x76, 0x69, 0x73, (byte)0x84, (byte)0xe6,\n        (byte)0x93, 0x33, (byte)0xc3, (byte)0xf4, (byte)0x8b,\n        0x32, 0x02, 0x00, 0x01, 0x4c, 0x00, 0x0d, 0x66, 0x61, 0x76,\n        0x6f, 0x72, 0x69, 0x74, 0x65, 0x53, 0x6f, 0x6e, 0x67, 0x73,\n        0x74, 0x00, 0x12, 0x4c, 0x6a, 0x61, 0x76, 0x61, 0x2f, 0x6c,\n        0x61, 0x6e, 0x67, 0x2f, 0x4f, 0x62, 0x6a, 0x65, 0x63, 0x74,\n        0x3b, 0x78, 0x70, 0x73, 0x72, 0x00, 0x0c, 0x45, 0x6c, 0x76,\n        0x69, 0x73, 0x53, 0x74, 0x65, 0x61, 0x6c, 0x65, 0x72, 0x00,\n        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x01,\n        0x4c, 0x00, 0x07, 0x70, 0x61, 0x79, 0x6c, 0x6f, 0x61, 0x64,\n        0x74, 0x00, 0x07, 0x4c, 0x45, 0x6c, 0x76, 0x69, 0x73, 0x3b,\n        0x78, 0x70, 0x71, 0x00, 0x7e, 0x00, 0x02\n    };\n\n    public static void main(String[] args) {\n        // Initializes ElvisStealer.impersonator and returns\n        // the real Elvis (which is Elvis.INSTANCE)\n        Elvis elvis = (Elvis) deserialize(serializedForm);\n        Elvis impersonator = ElvisStealer.impersonator;\n        elvis.printFavorites();\n        impersonator.printFavorites();\n    }\n}\n</code></pre>\n<p>Here is the output of the program.</p>\n<pre><code>[Hound Dog, Heartbreak Hotel]\n[A Fool Such as I]\n</code></pre>\n<p>Here is the structralized serialized form.\n<a href=\"https://i.stack.imgur.com/5dM15.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5dM15.png\" alt=\"enter image description here\" /></a></p>\n<p>While I read this part,</p>\n<ol>\n<li>I don't know why the return of the method readResolve() of ElvisStealer can change the favoriteSongs field of impersonator?</li>\n<li>Why 0x71, 0x00, 0x7e, 0x00, 0x02 is the reference of Elvis?</li>\n<li>Why 0x71, 0x00, 0x7e, 0x00, 0x02 will be assigned to field payload of ElvisStealer?</li>\n</ol>\n"},{"tags":["java","sockets","networking"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1655207455,"post_id":72616463,"comment_id":128272632,"body_markdown":"Can you explain exactly *why* you want to do this, and what you want to achieve by it? In what way does the current behavior get in the way of what you want to achieve?","body":"Can you explain exactly <i>why</i> you want to do this, and what you want to achieve by it? In what way does the current behavior get in the way of what you want to achieve?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1655209834,"post_id":72616463,"comment_id":128273548,"body_markdown":"Not immediately related to your problem, but why are you using a `DataOutputStream`? You are not actually using it as its `write(byte[])` method directly uses the `write(byte[])` method of the output stream it wraps, which seems to suggest you&#39;re cargo-culting here.","body":"Not immediately related to your problem, but why are you using a <code>DataOutputStream</code>? You are not actually using it as its <code>write(byte[])</code> method directly uses the <code>write(byte[])</code> method of the output stream it wraps, which seems to suggest you&#39;re cargo-culting here."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655207754,"creation_date":1655207754,"answer_id":72616559,"question_id":72616463,"body_markdown":"TCP logically represents a continuous stream, similar to a file. Think of it as one continuous sequence of bytes until at some point in time it&#39;s closed and the stream ends. But there&#39;s no definite clear boundary between *any two* of those bytes. Sometimes you might have to wait to get more bytes, but there&#39;s no intrinsic way to tell if that&#39;s because the other side stopped sending or if there&#39;s some kind of network issue between the two of you.\r\n\r\nWhile packets are used as an underlying mechanism you shouldn&#39;t rely on their separation, because they could in theory be split and merged along the way (realistically they are mostly just split and rarely merged).\r\n\r\nThe usual solution is to use some kind of protocol on top of TCP to clearly mark the different chunks you&#39;re intrested in. The simplest such protocol would simply start by sending the amount of bytes the next chunk will be long, followed with whatever the data is.\r\n\r\nAlternatively, you could switch to UDP, which is actually packet-based and guarantees that if you receive something it&#39;ll be a single packet from the other side (though it doesn&#39;t guarantee order of packets or even their delivery).\r\n\r\nYou *might* be able to make this work by strategically placing `out.flush()` in your code, but depending on that will make your code very fragile.","title":"Java send data over TCP Socket seperately","body":"<p>TCP logically represents a continuous stream, similar to a file. Think of it as one continuous sequence of bytes until at some point in time it's closed and the stream ends. But there's no definite clear boundary between <em>any two</em> of those bytes. Sometimes you might have to wait to get more bytes, but there's no intrinsic way to tell if that's because the other side stopped sending or if there's some kind of network issue between the two of you.</p>\n<p>While packets are used as an underlying mechanism you shouldn't rely on their separation, because they could in theory be split and merged along the way (realistically they are mostly just split and rarely merged).</p>\n<p>The usual solution is to use some kind of protocol on top of TCP to clearly mark the different chunks you're intrested in. The simplest such protocol would simply start by sending the amount of bytes the next chunk will be long, followed with whatever the data is.</p>\n<p>Alternatively, you could switch to UDP, which is actually packet-based and guarantees that if you receive something it'll be a single packet from the other side (though it doesn't guarantee order of packets or even their delivery).</p>\n<p>You <em>might</em> be able to make this work by strategically placing <code>out.flush()</code> in your code, but depending on that will make your code very fragile.</p>\n"},{"tags":[],"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655322490,"creation_date":1655232585,"answer_id":72622006,"question_id":72616463,"body_markdown":"TCP is a stream of bytes, it has no concept of message boundaries (like UDP does, for instance).  There is no 1-to-1 relationship between sends and reads. Sent data can be joined and fragmented in whatever packets the network deems necessary for efficient transmission.  The only guarantees that TCP provides you are:\r\n\r\n- data will be delivery (unless the connection is closed or lost)\r\n- data will be received in the same order it was sent\r\n\r\nSo, to do what you are asking for, you have to explicitly mark where one data ends and the next begins.  For example, by sending the data&#39;s length before the actual data, eg:\r\n\r\n```\r\ntry {\r\n    DataOutputStream out = new DataOutputStream(new BufferedOutputStream(socket.getOutputStream()));\r\n    String[] array = new String[4];\r\n    array[0] = &quot;stack&quot;;\r\n    array[1] = &quot;over&quot;;\r\n    array[2] = &quot;flow&quot;;\r\n    array[3] = &quot;coding&quot;;\r\n    out.writeInt(array.length);\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n        byte[] bytes = array[i].getBytes(StandardCharsets.UTF_8);\r\n        out.writeInt(bytes.length);\r\n        out.write(bytes, 0, bytes.length);\r\n    }\r\n    out.flush();\r\n} catch (IOException e) {\r\n    throw new RuntimeException(e);\r\n}\r\n```\r\n\r\nThis way, the receiver can first read an integer to know how many strings are being sent, then run a loop, where each iteration reads an integer for the string length then reads the bytes for that string, eg:\r\n\r\n```\r\ntry {\r\n    DataInputStream in = new DataInputStream(new BufferedInputStream(socket.getInputStream()));\r\n    int count = in.readInt();\r\n    for (int i = 0; i &lt; count; i++) {\r\n        int length = in.readInt();\r\n        byte[] bytes = new byte[length];\r\n        in.readFully(bytes);\r\n        String s = new String(bytes, StandardCharsets.UTF_8);\r\n        System.out.println(&quot;Incoming Transmission =&gt; &quot; + s);\r\n    }\r\n} catch (IOException e) {\r\n    throw new RuntimeException(e);\r\n}\r\n```","title":"Java send data over TCP Socket seperately","body":"<p>TCP is a stream of bytes, it has no concept of message boundaries (like UDP does, for instance).  There is no 1-to-1 relationship between sends and reads. Sent data can be joined and fragmented in whatever packets the network deems necessary for efficient transmission.  The only guarantees that TCP provides you are:</p>\n<ul>\n<li>data will be delivery (unless the connection is closed or lost)</li>\n<li>data will be received in the same order it was sent</li>\n</ul>\n<p>So, to do what you are asking for, you have to explicitly mark where one data ends and the next begins.  For example, by sending the data's length before the actual data, eg:</p>\n<pre><code>try {\n    DataOutputStream out = new DataOutputStream(new BufferedOutputStream(socket.getOutputStream()));\n    String[] array = new String[4];\n    array[0] = &quot;stack&quot;;\n    array[1] = &quot;over&quot;;\n    array[2] = &quot;flow&quot;;\n    array[3] = &quot;coding&quot;;\n    out.writeInt(array.length);\n    for (int i = 0; i &lt; array.length; i++) {\n        byte[] bytes = array[i].getBytes(StandardCharsets.UTF_8);\n        out.writeInt(bytes.length);\n        out.write(bytes, 0, bytes.length);\n    }\n    out.flush();\n} catch (IOException e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n<p>This way, the receiver can first read an integer to know how many strings are being sent, then run a loop, where each iteration reads an integer for the string length then reads the bytes for that string, eg:</p>\n<pre><code>try {\n    DataInputStream in = new DataInputStream(new BufferedInputStream(socket.getInputStream()));\n    int count = in.readInt();\n    for (int i = 0; i &lt; count; i++) {\n        int length = in.readInt();\n        byte[] bytes = new byte[length];\n        in.readFully(bytes);\n        String s = new String(bytes, StandardCharsets.UTF_8);\n        System.out.println(&quot;Incoming Transmission =&gt; &quot; + s);\n    }\n} catch (IOException e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n"}],"owner":{"account_id":18421521,"reputation":1,"user_id":19336931,"display_name":"Honoris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655322490,"creation_date":1655207334,"question_id":72616463,"body_markdown":"I want to send multiple packets separately with using tcp socket in Java. Here&#39;s my code.\r\n```\r\ntry {\r\n    DataOutputStream out = new DataOutputStream(socket.getOutputStream());\r\n    String[] array = new String[4];\r\n    array[0] = &quot;stack&quot;;\r\n    array[1] = &quot;over&quot;;\r\n    array[2] = &quot;flow&quot;;\r\n    array[3] = &quot;coding&quot;;\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n        out.write(array[i].getBytes()); //send packet\r\n    }\r\n} catch (IOException e) {\r\n    throw new RuntimeException(e);\r\n}\r\n```\r\n\r\nI take all data in one packet right now. Here is the received packet&#39;s terminal output: \r\n\r\n``` Incoming Transmission =&gt; stackoverflowcoding ```\r\n\r\nThat&#39;s what i want: \r\n``` \r\nIncoming Transmission =&gt; stack\r\nIncoming Transmission =&gt; over\r\nIncoming Transmission =&gt; flow\r\nIncoming Transmission =&gt; coding \r\n```\r\nHow can i receive data as 4 packets separately?\r\n\r\nWhy do i want this ? Because in my client there&#39;s an event that listens the coming tcp packages. This event must be triggered for each elements of array separately.","title":"Java send data over TCP Socket seperately","body":"<p>I want to send multiple packets separately with using tcp socket in Java. Here's my code.</p>\n<pre><code>try {\n    DataOutputStream out = new DataOutputStream(socket.getOutputStream());\n    String[] array = new String[4];\n    array[0] = &quot;stack&quot;;\n    array[1] = &quot;over&quot;;\n    array[2] = &quot;flow&quot;;\n    array[3] = &quot;coding&quot;;\n    for (int i = 0; i &lt; array.length; i++) {\n        out.write(array[i].getBytes()); //send packet\n    }\n} catch (IOException e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n<p>I take all data in one packet right now. Here is the received packet's terminal output:</p>\n<p><code>Incoming Transmission =&gt; stackoverflowcoding</code></p>\n<p>That's what i want:</p>\n<pre><code>Incoming Transmission =&gt; stack\nIncoming Transmission =&gt; over\nIncoming Transmission =&gt; flow\nIncoming Transmission =&gt; coding \n</code></pre>\n<p>How can i receive data as 4 packets separately?</p>\n<p>Why do i want this ? Because in my client there's an event that listens the coming tcp packages. This event must be triggered for each elements of array separately.</p>\n"},{"tags":["java","jackson","objectmapper"],"comments":[{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":1,"creation_date":1655322418,"post_id":72636994,"comment_id":128308219,"body_markdown":"It is hard to say without the classes, but it seems like the class containing the `Map&lt;String, List&lt;String&gt;&gt;` is the one you need to look at.","body":"It is hard to say without the classes, but it seems like the class containing the <code>Map&lt;String, List&lt;String&gt;&gt;</code> is the one you need to look at."},{"owner":{"account_id":13508220,"reputation":259,"user_id":9745488,"display_name":"Oxnard"},"score":0,"creation_date":1655323602,"post_id":72636994,"comment_id":128308624,"body_markdown":"Please add the class you are trying to serialize from","body":"Please add the class you are trying to serialize from"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1655388649,"post_id":72636994,"comment_id":128324694,"body_markdown":"Please add the relevant code for the class you&#39;re serializing and how you&#39;ve configured the ObjectMapper. On recreating your mentioned object (name + map of lists) i do get the expected output.","body":"Please add the relevant code for the class you&#39;re serializing and how you&#39;ve configured the ObjectMapper. On recreating your mentioned object (name + map of lists) i do get the expected output."}],"owner":{"account_id":19254369,"reputation":59,"user_id":16262239,"display_name":"Disteonne"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655321977,"creation_date":1655321977,"question_id":72636994,"body_markdown":"I use Jackson (ObjectMapper) to serialize some objects to string (json representation). Object example:\r\n\r\n    {\r\n      &quot;name&quot;: &quot;test_name&quot;,\r\n      &quot;test_map_key&quot;: {                     &lt;---- Map&lt;String, List&lt;String&gt;&gt;\r\n         &quot;key_map&quot;: [&quot;value1&quot;,&quot;value2&quot;]   \r\n      }\r\n    }\r\nJson representation should be like above, but what I&#39;ve got using **mapper.writeValueAsString(myObject)**\r\n\r\n    {\r\n        &quot;name&quot;: &quot;test_name&quot;,\r\n        &quot;key_map&quot;: [&quot;value1&quot;,&quot;value2&quot;]\r\n    }\r\n\r\nThe &#39;test_map_key&#39; is disappear and was taken internal key taken as a field. Is it possible to fix? Maybe someone paces this? \r\n ","title":"How the map is serialized? (Java)","body":"<p>I use Jackson (ObjectMapper) to serialize some objects to string (json representation). Object example:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;test_name&quot;,\n  &quot;test_map_key&quot;: {                     &lt;---- Map&lt;String, List&lt;String&gt;&gt;\n     &quot;key_map&quot;: [&quot;value1&quot;,&quot;value2&quot;]   \n  }\n}\n</code></pre>\n<p>Json representation should be like above, but what I've got using <strong>mapper.writeValueAsString(myObject)</strong></p>\n<pre><code>{\n    &quot;name&quot;: &quot;test_name&quot;,\n    &quot;key_map&quot;: [&quot;value1&quot;,&quot;value2&quot;]\n}\n</code></pre>\n<p>The 'test_map_key' is disappear and was taken internal key taken as a field. Is it possible to fix? Maybe someone paces this?</p>\n"},{"tags":["java","spring","docker","docker-compose","payara"],"comments":[{"owner":{"account_id":11437258,"reputation":309,"user_id":8384245,"accept_rate":60,"display_name":"Ioanna Dln"},"score":1,"creation_date":1654107847,"post_id":72404722,"comment_id":128015373,"body_markdown":"I added a web.xml in my project, as described in this link https://www.baeldung.com/spring-mvc-404-error  and declared dispatcherServlet and messageDispatcherServlet in the file, but although I was redirected to the correct page, it seemed to have other problems such as security issues (spring security did not work correctly). I guess it seems that dockerized payara has issues with spring apps.","body":"I added a web.xml in my project, as described in this link <a href=\"https://www.baeldung.com/spring-mvc-404-error\" rel=\"nofollow noreferrer\">baeldung.com/spring-mvc-404-error</a>  and declared dispatcherServlet and messageDispatcherServlet in the file, but although I was redirected to the correct page, it seemed to have other problems such as security issues (spring security did not work correctly). I guess it seems that dockerized payara has issues with spring apps."}],"answers":[{"tags":[],"owner":{"account_id":25354128,"reputation":3100,"user_id":19170534,"display_name":"Andreas Violaris"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655321915,"creation_date":1655321915,"answer_id":72636984,"question_id":72404722,"body_markdown":"There is nothing wrong with your files. It is a confirmed bug. Payara&#39;s team is working to determine the root causes and provide a solution. You may stay up to date (or participate) by following the relevant [thread][1] of their `GitHub` repository. \r\n\r\n\r\n  [1]: https://github.com/payara/Payara/issues/5783","title":"HTTP Status 404 - Not Found in pages when deploying war of Spring application in dockerized payara","body":"<p>There is nothing wrong with your files. It is a confirmed bug. Payara's team is working to determine the root causes and provide a solution. You may stay up to date (or participate) by following the relevant <a href=\"https://github.com/payara/Payara/issues/5783\" rel=\"nofollow noreferrer\">thread</a> of their <code>GitHub</code> repository.</p>\n"}],"owner":{"account_id":11437258,"reputation":309,"user_id":8384245,"accept_rate":60,"display_name":"Ioanna Dln"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72636984,"answer_count":1,"score":3,"last_activity_date":1655321915,"creation_date":1653650850,"question_id":72404722,"body_markdown":"I am trying to deploy a spring web application (*.war packaging) in a payara docker container. When I run the app localy in payara, the url http://localhost/my_application/test works fine but when I deploy my app on dockerized payara I get HTTP Status 404 - Not Found. In payara administration panel I can see that the app has been deployed and when I run `asadmin list-applications` in cli I can see that the app has benn deployed. I cannot find any logical explaination why this could happen. My Dockerfile is \r\n\r\n    FROM payara/server-full:5.2022.2-jdk11\r\n    USER root\r\n    ENV http_proxy ${my_hhtp_proxy}\r\n    ENV https_proxy ${my_https_proxy}\r\n    RUN apt update\r\n    RUN apt install -y openjdk-17-jdk\r\n    RUN update-java-alternatives -s /usr/lib/jvm/java-1.17.0-openjdk-amd64\r\n    COPY .docker/payara/lib $PAYARA_DIR/glassfish/domains/domain1/lib\r\n\r\nand my docker-compose.yml is \r\n\r\n    version: &quot;3.8&quot;\r\n    services:\r\n      springApp:\r\n        build:\r\n          context: .\r\n          dockerfile: Dockerfile\r\n        container_name: springApp\r\n        volumes:\r\n          - &quot;./target:/opt/payara/deployments&quot;\r\n        ports:\r\n          - &quot;4848:4848&quot;\r\n          - &quot;8080:8080&quot;\r\n          - &quot;8181:8181&quot;\r\n\r\n**Updated**\r\nI can see in the administration panel that when I run the application on docker dispatcherServlet and messageDispatcherServlet are not loaded but when I run the app locally the servlets are loaded. Here is a screenshot of the admin panel. on the left is the local and on the right is the docker administration panel\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CtC5p.jpg","title":"HTTP Status 404 - Not Found in pages when deploying war of Spring application in dockerized payara","body":"<p>I am trying to deploy a spring web application (*.war packaging) in a payara docker container. When I run the app localy in payara, the url http://localhost/my_application/test works fine but when I deploy my app on dockerized payara I get HTTP Status 404 - Not Found. In payara administration panel I can see that the app has been deployed and when I run <code>asadmin list-applications</code> in cli I can see that the app has benn deployed. I cannot find any logical explaination why this could happen. My Dockerfile is</p>\n<pre><code>FROM payara/server-full:5.2022.2-jdk11\nUSER root\nENV http_proxy ${my_hhtp_proxy}\nENV https_proxy ${my_https_proxy}\nRUN apt update\nRUN apt install -y openjdk-17-jdk\nRUN update-java-alternatives -s /usr/lib/jvm/java-1.17.0-openjdk-amd64\nCOPY .docker/payara/lib $PAYARA_DIR/glassfish/domains/domain1/lib\n</code></pre>\n<p>and my docker-compose.yml is</p>\n<pre><code>version: &quot;3.8&quot;\nservices:\n  springApp:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    container_name: springApp\n    volumes:\n      - &quot;./target:/opt/payara/deployments&quot;\n    ports:\n      - &quot;4848:4848&quot;\n      - &quot;8080:8080&quot;\n      - &quot;8181:8181&quot;\n</code></pre>\n<p><strong>Updated</strong>\nI can see in the administration panel that when I run the application on docker dispatcherServlet and messageDispatcherServlet are not loaded but when I run the app locally the servlets are loaded. Here is a screenshot of the admin panel. on the left is the local and on the right is the docker administration panel\n<a href=\"https://i.stack.imgur.com/CtC5p.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CtC5p.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio","android-sqlite"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1655277965,"post_id":72626714,"comment_id":128291732,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":25562266,"reputation":11,"user_id":19344697,"display_name":"Manthan Nanaware"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655297338,"creation_date":1655297338,"answer_id":72631712,"question_id":72626714,"body_markdown":"You can add the checkbox from the Palette in Android Studio, checkbox is available inside the button section in the palette. About the Firebase connection I only know about how to save the user credentials in the database I have no idea about the checkbox status.","title":"How to implement a checkbox in to a keyboard in Android Studio","body":"<p>You can add the checkbox from the Palette in Android Studio, checkbox is available inside the button section in the palette. About the Firebase connection I only know about how to save the user credentials in the database I have no idea about the checkbox status.</p>\n"},{"tags":[],"owner":{"account_id":21846505,"reputation":63,"user_id":19312979,"display_name":"sean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655321812,"creation_date":1655321812,"answer_id":72636963,"question_id":72626714,"body_markdown":"@Serg Do provide more details on what database you want to use as the question is very vague. Also, do check the documentation for [checkbox](https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;ved=2ahUKEwiso4PSmrD4AhWCILcAHbj5DGUQFnoECA8QAQ&amp;url=https%3A%2F%2Fdeveloper.android.com%2Fguide%2Ftopics%2Fui%2Fcontrols%2Fcheckbox&amp;usg=AOvVaw23hv6YI_i6OomLabywoWYr) and try it out first.\r\n\r\n@Manthan For checkbox status it can be stored into Firestore as a field in a document which belongs to the user. Do check out the [documentation](https://firebase.google.com/docs/firestore/manage-data/add-data).\r\n\r\n\r\n","title":"How to implement a checkbox in to a keyboard in Android Studio","body":"<p>@Serg Do provide more details on what database you want to use as the question is very vague. Also, do check the documentation for <a href=\"https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;ved=2ahUKEwiso4PSmrD4AhWCILcAHbj5DGUQFnoECA8QAQ&amp;url=https%3A%2F%2Fdeveloper.android.com%2Fguide%2Ftopics%2Fui%2Fcontrols%2Fcheckbox&amp;usg=AOvVaw23hv6YI_i6OomLabywoWYr\" rel=\"nofollow noreferrer\">checkbox</a> and try it out first.</p>\n<p>@Manthan For checkbox status it can be stored into Firestore as a field in a document which belongs to the user. Do check out the <a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}],"owner":{"account_id":25559352,"reputation":1,"user_id":19342226,"display_name":"SERG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1655323683,"answer_count":2,"score":-1,"last_activity_date":1655321812,"creation_date":1655274094,"question_id":72626714,"body_markdown":"I&#39;ve built a simple storeHelper app (you can write which products you need to buy, when and in which store) and I want to add a function of adding a checkbox as a user to mark what you&#39;ve bought from the list, like in a SamsungNotes app, how can I do it + how do I need to change a database to save the status of checkbox?","title":"How to implement a checkbox in to a keyboard in Android Studio","body":"<p>I've built a simple storeHelper app (you can write which products you need to buy, when and in which store) and I want to add a function of adding a checkbox as a user to mark what you've bought from the list, like in a SamsungNotes app, how can I do it + how do I need to change a database to save the status of checkbox?</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":5,"creation_date":1655321798,"post_id":72636924,"comment_id":128307997,"body_markdown":"You need to add `break` to the end of your switch cases, otherwise every other case after will execute.","body":"You need to add <code>break</code> to the end of your switch cases, otherwise every other case after will execute."},{"owner":{"account_id":23297118,"reputation":13,"user_id":17378366,"display_name":"Mislo_"},"score":0,"creation_date":1655457741,"post_id":72636924,"comment_id":128342166,"body_markdown":"Oh... I thought they don&#39;t need break if they have parentheses. Thanks!","body":"Oh... I thought they don&#39;t need break if they have parentheses. Thanks!"}],"owner":{"account_id":23297118,"reputation":13,"user_id":17378366,"display_name":"Mislo_"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655321608,"creation_date":1655321608,"question_id":72636924,"body_markdown":"With this switch statement only 2nd and 4th case work at a time. Example, with this code only case &#39;u&#39; and case &#39;l&#39; work. If I switch places of &#39;d&#39; &amp; &#39;u&#39; and &#39;r&#39; &amp; &#39;l&#39; only cases &#39;d&#39; and &#39;r&#39; will work (I am sure 1st and 3rd case are not executing because the value of coords isn&#39;t updating but it should). Does anyone know how to fix this? Any help appreciated.\r\n\r\n    switch (dir.get(0))\r\n\t{\r\n\t\tcase &#39;d&#39;: \r\n\t\t{\r\n\t\t\tif (coords[1] + size + 4 &lt; H)\r\n\t\t\t\tcoords[1] = pos.get(0)[1] + size;\r\n\t\t\telse \r\n\t\t\t\tcoords[1] = 0;\r\n\t\t}\r\n\t\tcase &#39;u&#39;: \r\n\t\t{\r\n\t\t\tif (coords[1] - size - 4 &gt; 0)\r\n\t\t\t\tcoords[1] = pos.get(0)[1] - size;\r\n\t\t\telse \r\n\t\t\t\tcoords[1] = H - size;\r\n\t\t}\r\n\t\tcase &#39;r&#39;: \r\n\t\t{\r\n\t\t\tif (coords[0] + size + 4 &lt; W)\r\n\t\t\t\tcoords[0] = pos.get(0)[0] + size;\r\n\t\t\telse \r\n\t\t\t\tcoords[0] = 0;\r\n\t\t}\r\n\t\tcase &#39;l&#39;:\r\n\t\t{\r\n\t\t\tif (coords[0] - size - 4 &gt; 0)\r\n\t\t\t\tcoords[0] = pos.get(0)[0] - size;\r\n\t\t\telse \r\n\t\t\t\tcoords[0] = W - size;\r\n\t\t}\r\n\t}","title":"Biased Switch statement","body":"<p>With this switch statement only 2nd and 4th case work at a time. Example, with this code only case 'u' and case 'l' work. If I switch places of 'd' &amp; 'u' and 'r' &amp; 'l' only cases 'd' and 'r' will work (I am sure 1st and 3rd case are not executing because the value of coords isn't updating but it should). Does anyone know how to fix this? Any help appreciated.</p>\n<pre><code>switch (dir.get(0))\n{\n    case 'd': \n    {\n        if (coords[1] + size + 4 &lt; H)\n            coords[1] = pos.get(0)[1] + size;\n        else \n            coords[1] = 0;\n    }\n    case 'u': \n    {\n        if (coords[1] - size - 4 &gt; 0)\n            coords[1] = pos.get(0)[1] - size;\n        else \n            coords[1] = H - size;\n    }\n    case 'r': \n    {\n        if (coords[0] + size + 4 &lt; W)\n            coords[0] = pos.get(0)[0] + size;\n        else \n            coords[0] = 0;\n    }\n    case 'l':\n    {\n        if (coords[0] - size - 4 &gt; 0)\n            coords[0] = pos.get(0)[0] - size;\n        else \n            coords[0] = W - size;\n    }\n}\n</code></pre>\n"},{"tags":["java","docker","jenkins","continuous-integration","jenkins-pipeline"],"answers":[{"tags":[],"owner":{"account_id":127741,"reputation":434,"user_id":325118,"accept_rate":38,"display_name":"Sameer Malhotra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655321503,"creation_date":1655321503,"answer_id":72636904,"question_id":72627262,"body_markdown":"I got it working with the following instructions: https://www.jenkins.io/doc/book/installing/docker/\r\n\r\nLooks like with the new updates, I need to use docker:dind container to run docker commands and create my own Dockerfile with the provided instructions in the link above.","title":"sh command hangs in Jenkins pipeline when run inside a open-jdk container","body":"<p>I got it working with the following instructions: <a href=\"https://www.jenkins.io/doc/book/installing/docker/\" rel=\"nofollow noreferrer\">https://www.jenkins.io/doc/book/installing/docker/</a></p>\n<p>Looks like with the new updates, I need to use docker:dind container to run docker commands and create my own Dockerfile with the provided instructions in the link above.</p>\n"}],"owner":{"account_id":127741,"reputation":434,"user_id":325118,"accept_rate":38,"display_name":"Sameer Malhotra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72636904,"answer_count":1,"score":0,"last_activity_date":1655321503,"creation_date":1655277325,"question_id":72627262,"body_markdown":"I am hoping someone can provide me some guidance here:\r\n\r\nI&#39;m using jenkins (2.289.3) as a docker container to run some CI jobs in my macbook Monterey. Here is my docker command\r\n\r\n    docker run -d  \\\r\n      -u root \\\r\n      --name jenkins \\\r\n      -p 9080:8080 \\\r\n      -v ./jenkins_home:/var/jenkins_home \\\r\n      -v &quot;$HOME&quot;:/home \\\r\n      -v /var/run/docker.sock:/var/run/docker.sock \\\r\n      jenkins\r\n\r\nI&#39;m using Jenkinsfile to build a project. Below is the code:\r\n\r\n    #!/usr/bin/env groovy\r\n    \r\n    node {\r\n    \tdef workspace = pwd()\r\n    \t\r\n    \tstage(&#39;checkout&#39;) {\r\n            checkout scm\r\n            sh &quot;echo checkout&quot; ## this works fine!\r\n        }\r\n    \r\n        docker.image(&#39;openjdk:17-jdk-alpine&#39;).inside(&#39;-u root -e MAVEN_OPTS=&quot;-Duser.home=./my-service/&quot;&#39;) {\r\n            stage(&#39;check java&#39;) {\r\n                sh &quot;java -version&quot; ## this fails!\r\n            }\r\n    \r\n            stage(&#39;artifact build and deploy&#39;) {\r\n            \r\n            \tconfigFileProvider([configFile(fileId: &#39;gcRepositoryCred&#39;, variable: &#39;GC_MVN_REPOSITORY_CREDENTIAL&#39;),configFile(fileId: &#39;maven-settings&#39;, variable: &#39;MAVEN_SETTINGS&#39;)]) {\r\n            \t\t\r\n            \t\tsh &quot;chmod +x my-service/mvnw&quot;\r\n    \t        \tsh &quot;./my-service/mvnw -f my-service/pom.xml clean deploy -DskipTests -s $MAVEN_SETTINGS&quot;\r\n    \t    \t}\r\n            }\r\n    \r\n        }\r\n       \r\n    }\r\n\r\nIt fails at line ```sh &quot;java -version&quot; ``` inside the open jdk container. Basically it hangs for a while and I get the below error code:\r\n```\r\n[Pipeline] sh\r\n + echo checkout\r\n checkout\r\n [Pipeline] }\r\n [Pipeline] // stage\r\n [Pipeline] isUnix\r\n [Pipeline] sh\r\n + docker inspect -f . openjdk:17-jdk-alpine\r\n .\r\n [Pipeline] withDockerContainer\r\n Jenkins does not seem to be running inside a container\r\n $ docker run -t -d -u 0:0 -u root -e MAVEN_OPTS=-Duser.home=./my-service/ -w /var/jenkins_home/workspace/my-service -v /var/jenkins_home/workspace/my-service:/var/jenkins_home/workspace/my-service:rw,z -v /var/jenkins_home/workspace/my-service@tmp:/var/jenkins_home/workspace/my-service@tmp:rw,z -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** openjdk:17-jdk-alpine cat\r\n $ docker top 7413692ee7a423413e80909000e1e94adc2c880016f32071c6ab9d47645092cf -eo pid,comm\r\n [Pipeline] {\r\n [Pipeline] stage\r\n [Pipeline] { (check java)\r\n [Pipeline] sh\r\n process apparently never started in /var/jenkins_home/workspace/my-service@tmp/durable-25c4f40f\r\n (running Jenkins temporarily with -Dorg.jenkinsci.plugins.durabletask.BourneShellScript.LAUNCH_DIAGNOSTICS=true might make the problem clearer)\r\n [Pipeline] }\r\n [Pipeline] // stage\r\n [Pipeline] }\r\n $ docker stop --time=1 7413692ee7a423413e80909000e1e94adc2c880016f32071c6ab9d47645092cf\r\n $ docker rm -f 7413692ee7a423413e80909000e1e94adc2c880016f32071c6ab9d47645092cf\r\n [Pipeline] // withDockerContainer\r\n [Pipeline] }\r\n [Pipeline] // node\r\n [Pipeline] End of Pipeline\r\n ERROR: script returned exit code -2\r\n Finished: FAILURE\r\n```\r\n**Update**\r\nThe same code works in my another laptop (Mac running Big Sur). The main difference I see is the docker version. Big Sur mac has version 20.10.8 and the machine where it doesn&#39;t work has the docker version of 20.10.12. \r\n\r\nThe another key difference is the log from the working mac. Instead of logging ```Jenkins does not seem to be running inside a container``` it says ```Jenkins is running inside a container```. Not sure if they both are related in some way.","title":"sh command hangs in Jenkins pipeline when run inside a open-jdk container","body":"<p>I am hoping someone can provide me some guidance here:</p>\n<p>I'm using jenkins (2.289.3) as a docker container to run some CI jobs in my macbook Monterey. Here is my docker command</p>\n<pre><code>docker run -d  \\\n  -u root \\\n  --name jenkins \\\n  -p 9080:8080 \\\n  -v ./jenkins_home:/var/jenkins_home \\\n  -v &quot;$HOME&quot;:/home \\\n  -v /var/run/docker.sock:/var/run/docker.sock \\\n  jenkins\n</code></pre>\n<p>I'm using Jenkinsfile to build a project. Below is the code:</p>\n<pre><code>#!/usr/bin/env groovy\n\nnode {\n    def workspace = pwd()\n    \n    stage('checkout') {\n        checkout scm\n        sh &quot;echo checkout&quot; ## this works fine!\n    }\n\n    docker.image('openjdk:17-jdk-alpine').inside('-u root -e MAVEN_OPTS=&quot;-Duser.home=./my-service/&quot;') {\n        stage('check java') {\n            sh &quot;java -version&quot; ## this fails!\n        }\n\n        stage('artifact build and deploy') {\n        \n            configFileProvider([configFile(fileId: 'gcRepositoryCred', variable: 'GC_MVN_REPOSITORY_CREDENTIAL'),configFile(fileId: 'maven-settings', variable: 'MAVEN_SETTINGS')]) {\n                \n                sh &quot;chmod +x my-service/mvnw&quot;\n                sh &quot;./my-service/mvnw -f my-service/pom.xml clean deploy -DskipTests -s $MAVEN_SETTINGS&quot;\n            }\n        }\n\n    }\n   \n}\n</code></pre>\n<p>It fails at line <code>sh &quot;java -version&quot; </code> inside the open jdk container. Basically it hangs for a while and I get the below error code:</p>\n<pre><code>[Pipeline] sh\n + echo checkout\n checkout\n [Pipeline] }\n [Pipeline] // stage\n [Pipeline] isUnix\n [Pipeline] sh\n + docker inspect -f . openjdk:17-jdk-alpine\n .\n [Pipeline] withDockerContainer\n Jenkins does not seem to be running inside a container\n $ docker run -t -d -u 0:0 -u root -e MAVEN_OPTS=-Duser.home=./my-service/ -w /var/jenkins_home/workspace/my-service -v /var/jenkins_home/workspace/my-service:/var/jenkins_home/workspace/my-service:rw,z -v /var/jenkins_home/workspace/my-service@tmp:/var/jenkins_home/workspace/my-service@tmp:rw,z -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** openjdk:17-jdk-alpine cat\n $ docker top 7413692ee7a423413e80909000e1e94adc2c880016f32071c6ab9d47645092cf -eo pid,comm\n [Pipeline] {\n [Pipeline] stage\n [Pipeline] { (check java)\n [Pipeline] sh\n process apparently never started in /var/jenkins_home/workspace/my-service@tmp/durable-25c4f40f\n (running Jenkins temporarily with -Dorg.jenkinsci.plugins.durabletask.BourneShellScript.LAUNCH_DIAGNOSTICS=true might make the problem clearer)\n [Pipeline] }\n [Pipeline] // stage\n [Pipeline] }\n $ docker stop --time=1 7413692ee7a423413e80909000e1e94adc2c880016f32071c6ab9d47645092cf\n $ docker rm -f 7413692ee7a423413e80909000e1e94adc2c880016f32071c6ab9d47645092cf\n [Pipeline] // withDockerContainer\n [Pipeline] }\n [Pipeline] // node\n [Pipeline] End of Pipeline\n ERROR: script returned exit code -2\n Finished: FAILURE\n</code></pre>\n<p><strong>Update</strong>\nThe same code works in my another laptop (Mac running Big Sur). The main difference I see is the docker version. Big Sur mac has version 20.10.8 and the machine where it doesn't work has the docker version of 20.10.12.</p>\n<p>The another key difference is the log from the working mac. Instead of logging <code>Jenkins does not seem to be running inside a container</code> it says <code>Jenkins is running inside a container</code>. Not sure if they both are related in some way.</p>\n"},{"tags":["java","android","android-studio","admob"],"answers":[{"tags":[],"owner":{"account_id":25425539,"reputation":9,"user_id":19230785,"display_name":"lina0i0-29"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655321403,"creation_date":1655321403,"answer_id":72636884,"question_id":72574557,"body_markdown":"I have detected the problem! It called twice in different parts of the code: mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() { ...... }","title":"W/ActivityManager: Duplicate finish request for ActivityRecord (closing the interstitial)","body":"<p>I have detected the problem! It called twice in different parts of the code: mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() { ...... }</p>\n"}],"owner":{"account_id":25425539,"reputation":9,"user_id":19230785,"display_name":"lina0i0-29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72636884,"answer_count":1,"score":0,"last_activity_date":1655321403,"creation_date":1654865308,"question_id":72574557,"body_markdown":"Hello I get the following warning when closing the interstitial ad between activity and activity 2 (android studio Logcat):\r\n\r\n    2022-06-10 14:30:09.946 845-861/? W/ActivityManager: Duplicate finish request for ActivityRecord{28d281bb u0 com.example.testads/com.google.android.gms.ads.AdActivity t13 f}\r\n    \r\nI am using:\r\ncom.google.android.gms:play-services-ads:21.0.0\r\n\r\nDoes anyone else get this warning in logcat?\r\n\r\nThank you very much\r\n","title":"W/ActivityManager: Duplicate finish request for ActivityRecord (closing the interstitial)","body":"<p>Hello I get the following warning when closing the interstitial ad between activity and activity 2 (android studio Logcat):</p>\n<pre><code>2022-06-10 14:30:09.946 845-861/? W/ActivityManager: Duplicate finish request for ActivityRecord{28d281bb u0 com.example.testads/com.google.android.gms.ads.AdActivity t13 f}\n</code></pre>\n<p>I am using:\ncom.google.android.gms:play-services-ads:21.0.0</p>\n<p>Does anyone else get this warning in logcat?</p>\n<p>Thank you very much</p>\n"},{"tags":["java","ubuntu","terminal","deb"],"comments":[{"owner":{"account_id":7553506,"reputation":2715,"user_id":5734097,"display_name":"D.Kastier"},"score":0,"creation_date":1655319991,"post_id":72636595,"comment_id":128307449,"body_markdown":"I think your question should be asked in [Server Fault](https://serverfault.com/), the StackOverflow is about coding. See [What topics can I ask about here?](https://stackoverflow.com/help/on-topic) for more information","body":"I think your question should be asked in <a href=\"https://serverfault.com/\">Server Fault</a>, the StackOverflow is about coding. See <a href=\"https://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a> for more information"}],"answers":[{"tags":[],"owner":{"account_id":2538731,"reputation":2578,"user_id":2205089,"display_name":"Alin Gabriel Arhip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655320124,"creation_date":1655320124,"answer_id":72636678,"question_id":72636595,"body_markdown":"From what I can tell, the installation seems to finish successfully. I don&#39;t see any errors.\r\nWhat you might ask is why can&#39;t you use the `java` or `javac` in the command line. \r\n\r\nYou need to set your `PATH` and `JAVA_HOME` environment variables first, before the `java` command becomes available everywhere. \r\n\r\n[Check this post][1] to see how to do that.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9612941/how-to-set-java-environment-path-in-ubuntu","title":"Unable to install Java using terminal in Ubuntu 22","body":"<p>From what I can tell, the installation seems to finish successfully. I don't see any errors.\nWhat you might ask is why can't you use the <code>java</code> or <code>javac</code> in the command line.</p>\n<p>You need to set your <code>PATH</code> and <code>JAVA_HOME</code> environment variables first, before the <code>java</code> command becomes available everywhere.</p>\n<p><a href=\"https://stackoverflow.com/questions/9612941/how-to-set-java-environment-path-in-ubuntu\">Check this post</a> to see how to do that.</p>\n"}],"owner":{"account_id":25565732,"reputation":1,"user_id":19347198,"display_name":"Shiddalingayya Chennapurmath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1655321285,"creation_date":1655319624,"question_id":72636595,"body_markdown":"I have been trying to install java using deb file using terminal. However terminal keep on showing 3 lines and exiting.\r\n\r\n\r\n    (Reading database ... 212600 files and directories currently installed.)\r\n    Preparing to unpack jdk-18_linux-x64_bin.deb ...\r\n    Unpacking jdk-18 (18.0.1.1-ga) over (18.0.1.1-ga) ...\r\n    Setting up jdk-18 (18.0.1.1-ga) ...\r\n    shiddalingayya@shiddalingayya-ThinkPad-E15-Gen-2:~/Downloads$ \r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tPshE.png\r\n","title":"Unable to install Java using terminal in Ubuntu 22","body":"<p>I have been trying to install java using deb file using terminal. However terminal keep on showing 3 lines and exiting.</p>\n<pre><code>(Reading database ... 212600 files and directories currently installed.)\nPreparing to unpack jdk-18_linux-x64_bin.deb ...\nUnpacking jdk-18 (18.0.1.1-ga) over (18.0.1.1-ga) ...\nSetting up jdk-18 (18.0.1.1-ga) ...\nshiddalingayya@shiddalingayya-ThinkPad-E15-Gen-2:~/Downloads$ \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tPshE.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","android-studio","admob"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1655220577,"post_id":72619446,"comment_id":128278305,"body_markdown":"As soon as the `onAdDismissedFullScreenContent` is called, you should load the Interstitial Ad again.","body":"As soon as the <code>onAdDismissedFullScreenContent</code> is called, you should load the Interstitial Ad again."}],"answers":[{"tags":[],"owner":{"account_id":13736277,"reputation":404,"user_id":9912464,"display_name":"Gouranga Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655240333,"creation_date":1655240333,"answer_id":72623289,"question_id":72619446,"body_markdown":"Whenever `InterstitialAd` has been shown, the variable `mInterstitialAd` was set to `null`. So, how `mInterstitialAd` can be shown twice?\r\n\r\nYou should make a new request to get an interstitial just after `mInterstitialAd = null;`\r\n\r\nTry like below:\r\n\r\n\r\n    public class MainActivity extends Activity {\r\n    \r\n    \r\n        private InterstitialAd mInterstitialAd;\r\n        private static final String TAG = &quot;InfoApp&quot;;\r\n        \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            // TODO Auto-generated method stub\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main_activity);\r\n    \r\n    \r\n         //***** Initialize the Mobile Ads SDK.*********** -//\r\n            MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n                @Override\r\n                public void onInitializationComplete(InitializationStatus initializationStatus) {\r\n                    \r\n                    // Initialization complete\r\n                    // You are now free to make an ad request\r\n                    loadAnInterstitial();\r\n                }\r\n            });\r\n            //**********************************************************//\r\n    \r\n         }\r\n    \r\n        private void loadAnInterstitial(){\r\n          adrequest_interstitial = new AdRequest.Builder().build();\r\n    \r\n          InterstitialAd.load(this,ConfigPubli.Ads_interstitial, adrequest_interstitial,\r\n                    new InterstitialAdLoadCallback()\r\n                    {\r\n                        @Override\r\n                        public void onAdLoaded(@NonNull InterstitialAd interstitialAd)\r\n                        {\r\n                            mInterstitialAd = interstitialAd;\r\n                            Log.i(TAG, &quot;onAdLoaded&quot;);\r\n    \r\n                        }\r\n    \r\n                        @Override\r\n                        public void onAdFailedToLoad(@NonNull LoadAdError loadAdError)\r\n                        {\r\n                            // Handle the error\r\n                            Log.i(TAG, loadAdError.getMessage());\r\n                            mInterstitialAd = null;\r\n                        }\r\n    \r\n                    });\r\n          }\r\n    \r\n          public void adstot(Intent i){\r\n    \r\n    \r\n            mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\r\n                @Override\r\n                public void onAdDismissedFullScreenContent() {\r\n                    mInterstitialAd = null;\r\n                    startActivity(i);\r\n                    \r\n                    // make a new ad request here\r\n                    loadAnInterstitial();\r\n                    \r\n                }\r\n    \r\n                @Override\r\n                public void onAdFailedToShowFullScreenContent(@NonNull AdError adError) {\r\n                    mInterstitialAd = null;\r\n                    startActivity(i);\r\n                    \r\n                    // make a new ad request here\r\n                    loadAnInterstitial();\r\n                    \r\n                }\r\n    \r\n            });\r\n        }\r\n    \r\n    \r\n    \r\n        public void page2(View view){ //button\r\n    \r\n            Intent i = new Intent (this, Activity2.class);\r\n            i.putExtra(&quot;valor&quot;,&quot;page2&quot;);\r\n    \r\n            int randomAd = (int)(Math.random()*10);\r\n            if (mInterstitialAd != null &amp;&amp; randomAd&lt;=1) {   \r\n                adstot(i);\r\n                mInterstitialAd.show(this);   \r\n            }\r\n            else{\r\n                      \r\n                startActivity(i);\r\n\r\n                // make a new ad request here\r\n                loadAnInterstitial();\r\n            }   \r\n         }\r\n    }\r\n\r\n\r\nThat&#39;s all. Hope it will help.","title":"Interstitial advertising (admob) only works once","body":"<p>Whenever <code>InterstitialAd</code> has been shown, the variable <code>mInterstitialAd</code> was set to <code>null</code>. So, how <code>mInterstitialAd</code> can be shown twice?</p>\n<p>You should make a new request to get an interstitial just after <code>mInterstitialAd = null;</code></p>\n<p>Try like below:</p>\n<pre><code>public class MainActivity extends Activity {\n\n\n    private InterstitialAd mInterstitialAd;\n    private static final String TAG = &quot;InfoApp&quot;;\n    \n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // TODO Auto-generated method stub\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main_activity);\n\n\n     //***** Initialize the Mobile Ads SDK.*********** -//\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\n            @Override\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\n                \n                // Initialization complete\n                // You are now free to make an ad request\n                loadAnInterstitial();\n            }\n        });\n        //**********************************************************//\n\n     }\n\n    private void loadAnInterstitial(){\n      adrequest_interstitial = new AdRequest.Builder().build();\n\n      InterstitialAd.load(this,ConfigPubli.Ads_interstitial, adrequest_interstitial,\n                new InterstitialAdLoadCallback()\n                {\n                    @Override\n                    public void onAdLoaded(@NonNull InterstitialAd interstitialAd)\n                    {\n                        mInterstitialAd = interstitialAd;\n                        Log.i(TAG, &quot;onAdLoaded&quot;);\n\n                    }\n\n                    @Override\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError)\n                    {\n                        // Handle the error\n                        Log.i(TAG, loadAdError.getMessage());\n                        mInterstitialAd = null;\n                    }\n\n                });\n      }\n\n      public void adstot(Intent i){\n\n\n        mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\n            @Override\n            public void onAdDismissedFullScreenContent() {\n                mInterstitialAd = null;\n                startActivity(i);\n                \n                // make a new ad request here\n                loadAnInterstitial();\n                \n            }\n\n            @Override\n            public void onAdFailedToShowFullScreenContent(@NonNull AdError adError) {\n                mInterstitialAd = null;\n                startActivity(i);\n                \n                // make a new ad request here\n                loadAnInterstitial();\n                \n            }\n\n        });\n    }\n\n\n\n    public void page2(View view){ //button\n\n        Intent i = new Intent (this, Activity2.class);\n        i.putExtra(&quot;valor&quot;,&quot;page2&quot;);\n\n        int randomAd = (int)(Math.random()*10);\n        if (mInterstitialAd != null &amp;&amp; randomAd&lt;=1) {   \n            adstot(i);\n            mInterstitialAd.show(this);   \n        }\n        else{\n                  \n            startActivity(i);\n\n            // make a new ad request here\n            loadAnInterstitial();\n        }   \n     }\n}\n</code></pre>\n<p>That's all. Hope it will help.</p>\n"},{"tags":[],"owner":{"account_id":25425539,"reputation":9,"user_id":19230785,"display_name":"lina0i0-29"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655320997,"creation_date":1655320869,"answer_id":72636802,"question_id":72619446,"body_markdown":"Updated code (another version):\r\nI have added an (if), after 6 clicks of the button it will load a new ad. \r\n  \r\n\r\n      public void page2(View view){ //button\r\n        \r\n                Intent i = new Intent (this, Activity2.class);\r\n                i.putExtra(&quot;valor&quot;,&quot;page2&quot;);\r\n        \r\n                int randomAd = (int)(Math.random()*10);\r\n                if (mInterstitialAd != null &amp;&amp; randomAd&lt;=1) {   \r\n                    adstot(i);\r\n                    mInterstitialAd.show(this);   \r\n                }\r\n                else{\r\n                          \r\n                    startActivity(i);\r\n        \r\n                    if(countclick==6)\r\n                    {\r\n                     loadAnInterstitial(); \r\n                    }else{ \r\n                      countclick=countclick+1;\r\n                     }\r\n                }   \r\n             }\r\n\r\nIt works!, I hope that google admob does not consider that it is poorly implemented. ","title":"Interstitial advertising (admob) only works once","body":"<p>Updated code (another version):\nI have added an (if), after 6 clicks of the button it will load a new ad.</p>\n<pre><code>  public void page2(View view){ //button\n    \n            Intent i = new Intent (this, Activity2.class);\n            i.putExtra(&quot;valor&quot;,&quot;page2&quot;);\n    \n            int randomAd = (int)(Math.random()*10);\n            if (mInterstitialAd != null &amp;&amp; randomAd&lt;=1) {   \n                adstot(i);\n                mInterstitialAd.show(this);   \n            }\n            else{\n                      \n                startActivity(i);\n    \n                if(countclick==6)\n                {\n                 loadAnInterstitial(); \n                }else{ \n                  countclick=countclick+1;\n                 }\n            }   \n         }\n</code></pre>\n<p>It works!, I hope that google admob does not consider that it is poorly implemented.</p>\n"}],"owner":{"account_id":25425539,"reputation":9,"user_id":19230785,"display_name":"lina0i0-29"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72623289,"answer_count":2,"score":0,"last_activity_date":1655320997,"creation_date":1655219652,"question_id":72619446,"body_markdown":"These days I am doing a test, the objective is to click on a button to go to activity2 and show the interstitial advertising. For now this is the result thanks to information from: [link][1]\r\n\r\n**The problem:**\r\nUpon returning to the main page (MainActivity), I pressed the button to re-enter activity2 and it is no longer displayed. Only if I close the application and open the application and press the activity button 2 the advertising is displayed.\r\n\r\nMainActivity code\r\n\r\n    public class MainActivity extends Activity {\r\n    \r\n    \r\n        private InterstitialAd mInterstitialAd;\r\n        private static final String TAG = &quot;InfoApp&quot;;\r\n        \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            // TODO Auto-generated method stub\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main_activity);\r\n    \r\n    \r\n         //***** Initialize the Mobile Ads SDK.*********** -//\r\n            MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n                @Override\r\n                public void onInitializationComplete(InitializationStatus initializationStatus) {\r\n                }\r\n            });\r\n            //**********************************************************//\r\n    \r\n          adrequest_interstitial = new AdRequest.Builder().build();\r\n    \r\n          InterstitialAd.load(this,ConfigPubli.Ads_interstitial, adrequest_interstitial,\r\n                    new InterstitialAdLoadCallback()\r\n                    {\r\n                        @Override\r\n                        public void onAdLoaded(@NonNull InterstitialAd interstitialAd)\r\n                        {\r\n                            mInterstitialAd = interstitialAd;\r\n                            Log.i(TAG, &quot;onAdLoaded&quot;);\r\n    \r\n                        }\r\n    \r\n                        @Override\r\n                        public void onAdFailedToLoad(@NonNull LoadAdError loadAdError)\r\n                        {\r\n                            // Handle the error\r\n                            Log.i(TAG, loadAdError.getMessage());\r\n                            mInterstitialAd = null;\r\n                        }\r\n    \r\n                    });\r\n         }\r\n    \r\n    \r\n          public void adstot(Intent i){\r\n    \r\n    \r\n            mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\r\n                @Override\r\n                public void onAdDismissedFullScreenContent() {\r\n                    mInterstitialAd = null;\r\n                    startActivity(i);\r\n                    \r\n                }\r\n    \r\n                @Override\r\n                public void onAdFailedToShowFullScreenContent(@NonNull AdError adError) {\r\n                    mInterstitialAd = null;\r\n                    startActivity(i);\r\n    \r\n                }\r\n    \r\n            });\r\n        }\r\n    \r\n    \r\n    \r\n        public void page2(View view){ //button\r\n    \r\n            Intent i = new Intent (this, Activity2.class);\r\n            i.putExtra(&quot;valor&quot;,&quot;page2&quot;);\r\n    \r\n            int randomAd = (int)(Math.random()*10);\r\n            if (mInterstitialAd != null &amp;&amp; randomAd&lt;=1) {   \r\n                adstot(i);\r\n                mInterstitialAd.show(this);   \r\n            }\r\n            else{\r\n                startActivity(i);\r\n            }   \r\n         }\r\n    }\r\n\r\n\r\nThanks for the answers\r\n\r\n  [1]: https://stackoverflow.com/questions/72432441/interstitial-ads-admob-button-to-open-second-activity-page-2","title":"Interstitial advertising (admob) only works once","body":"<p>These days I am doing a test, the objective is to click on a button to go to activity2 and show the interstitial advertising. For now this is the result thanks to information from: <a href=\"https://stackoverflow.com/questions/72432441/interstitial-ads-admob-button-to-open-second-activity-page-2\">link</a></p>\n<p><strong>The problem:</strong>\nUpon returning to the main page (MainActivity), I pressed the button to re-enter activity2 and it is no longer displayed. Only if I close the application and open the application and press the activity button 2 the advertising is displayed.</p>\n<p>MainActivity code</p>\n<pre><code>public class MainActivity extends Activity {\n\n\n    private InterstitialAd mInterstitialAd;\n    private static final String TAG = &quot;InfoApp&quot;;\n    \n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // TODO Auto-generated method stub\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main_activity);\n\n\n     //***** Initialize the Mobile Ads SDK.*********** -//\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\n            @Override\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\n            }\n        });\n        //**********************************************************//\n\n      adrequest_interstitial = new AdRequest.Builder().build();\n\n      InterstitialAd.load(this,ConfigPubli.Ads_interstitial, adrequest_interstitial,\n                new InterstitialAdLoadCallback()\n                {\n                    @Override\n                    public void onAdLoaded(@NonNull InterstitialAd interstitialAd)\n                    {\n                        mInterstitialAd = interstitialAd;\n                        Log.i(TAG, &quot;onAdLoaded&quot;);\n\n                    }\n\n                    @Override\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError)\n                    {\n                        // Handle the error\n                        Log.i(TAG, loadAdError.getMessage());\n                        mInterstitialAd = null;\n                    }\n\n                });\n     }\n\n\n      public void adstot(Intent i){\n\n\n        mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\n            @Override\n            public void onAdDismissedFullScreenContent() {\n                mInterstitialAd = null;\n                startActivity(i);\n                \n            }\n\n            @Override\n            public void onAdFailedToShowFullScreenContent(@NonNull AdError adError) {\n                mInterstitialAd = null;\n                startActivity(i);\n\n            }\n\n        });\n    }\n\n\n\n    public void page2(View view){ //button\n\n        Intent i = new Intent (this, Activity2.class);\n        i.putExtra(&quot;valor&quot;,&quot;page2&quot;);\n\n        int randomAd = (int)(Math.random()*10);\n        if (mInterstitialAd != null &amp;&amp; randomAd&lt;=1) {   \n            adstot(i);\n            mInterstitialAd.show(this);   \n        }\n        else{\n            startActivity(i);\n        }   \n     }\n}\n</code></pre>\n<p>Thanks for the answers</p>\n"},{"tags":["java","jmeter","windows-task-scheduler"],"comments":[{"owner":{"account_id":6062199,"reputation":1160,"user_id":4733652,"display_name":"Iske"},"score":0,"creation_date":1494577482,"post_id":43932576,"comment_id":74898116,"body_markdown":"Have you seen [this](http://stackoverflow.com/questions/20717051/i-am-trying-to-open-jmeter-by-the-batch-file-but-it-gives-me-a-windows-error) maybe?","body":"Have you seen <a href=\"http://stackoverflow.com/questions/20717051/i-am-trying-to-open-jmeter-by-the-batch-file-but-it-gives-me-a-windows-error\">this</a> maybe?"},{"owner":{"account_id":9400849,"reputation":69,"user_id":7955880,"accept_rate":0,"display_name":"Ehtesham Ahmed"},"score":0,"creation_date":1494579700,"post_id":43932576,"comment_id":74899461,"body_markdown":"I have seen this but it talks about Path variable. My Path is set already and JMeter runs perfectly when I run it through its UI or through command line. I am getting this error when I put following command in scheduler:\n```D:\\D\\Software\\JMeter\\apache-jmeter-2.13\\bin\\jmeter.bat -n -t E:\\Personal\\VISP\\Performance\\UBO8_PerformanceTest_v1.jmx -l testresults.jlt```","body":"I have seen this but it talks about Path variable. My Path is set already and JMeter runs perfectly when I run it through its UI or through command line. I am getting this error when I put following command in scheduler: <code>D:\\D\\Software\\JMeter\\apache-jmeter-2.13\\bin\\jmeter.bat -n -t E:\\Personal\\VISP\\Performance\\UBO8_PerformanceTest_v1.jmx -l testresults.jlt</code>"},{"owner":{"account_id":9400849,"reputation":69,"user_id":7955880,"accept_rate":0,"display_name":"Ehtesham Ahmed"},"score":0,"creation_date":1494579815,"post_id":43932576,"comment_id":74899536,"body_markdown":"The above command works perfectly on command line","body":"The above command works perfectly on command line"},{"owner":{"account_id":6062199,"reputation":1160,"user_id":4733652,"display_name":"Iske"},"score":0,"creation_date":1494580173,"post_id":43932576,"comment_id":74899768,"body_markdown":"Why do you have 2 D (drive letters)? D:\\Software\\...\\jmeter.bat should work.","body":"Why do you have 2 D (drive letters)? D:\\Software\\...\\jmeter.bat should work."},{"owner":{"account_id":9400849,"reputation":69,"user_id":7955880,"accept_rate":0,"display_name":"Ehtesham Ahmed"},"score":0,"creation_date":1494583385,"post_id":43932576,"comment_id":74901928,"body_markdown":"Actually D is a folder on D drive :)","body":"Actually D is a folder on D drive :)"},{"owner":{"account_id":6062199,"reputation":1160,"user_id":4733652,"display_name":"Iske"},"score":0,"creation_date":1494584880,"post_id":43932576,"comment_id":74902843,"body_markdown":"Nice! :-) It must be some java path issue... Did you set good privileges for .bat file?","body":"Nice! :-) It must be some java path issue... Did you set good privileges for .bat file?"},{"owner":{"account_id":9400849,"reputation":69,"user_id":7955880,"accept_rate":0,"display_name":"Ehtesham Ahmed"},"score":0,"creation_date":1494586377,"post_id":43932576,"comment_id":74903868,"body_markdown":"Priviledges are all set but this error is weird. The same jmeter.bat file runs well when executed through cmd or jmeter UI but throws java error when executed through RUN or task scheduler","body":"Priviledges are all set but this error is weird. The same jmeter.bat file runs well when executed through cmd or jmeter UI but throws java error when executed through RUN or task scheduler"},{"owner":{"account_id":3273747,"reputation":20855,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1655320717,"post_id":43932576,"comment_id":128307674,"body_markdown":"Does this answer your question? [Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required](https://stackoverflow.com/questions/29697543/registry-key-error-java-version-has-value-1-8-but-1-7-is-required)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/29697543/registry-key-error-java-version-has-value-1-8-but-1-7-is-required\">Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required</a>"}],"answers":[{"tags":[],"owner":{"account_id":9400849,"reputation":69,"user_id":7955880,"accept_rate":0,"display_name":"Ehtesham Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494595208,"creation_date":1494595208,"answer_id":43938773,"question_id":43932576,"body_markdown":"Finally, I figured it out. The root cause is that I was maintaining two versions of Java on my machine i.e. 1.7 and 1.8 although PATH and JAVA_HOME variables were pointing to 1.8. By trying different options with PATH and JAVA_HOME variables, I ran into further problems - Now, I was no more able to even run JMeter UI by double clicking jmeter.bat file as I started facing same error (Initially, I was able to run .bat file by double-click). I uninstalled and re-installed Java 1.8 but issue stood still.\r\n\r\nOn further investigation, I realized that maintaining two versions could be the root cause and on doing further research I came to know that I have to remove all ```java.exe```, ```javaw.exe```, and ```javaws.exe``` from ```Windows\\System32``` and ```Windows\\SysWOW64``` folders. By following this solution, my issue is resolved completely and testplan is being executed as scheduled task.\r\n\r\nRef: https://stackoverflow.com/questions/29697543/registry-key-error-java-version-has-value-1-8-but-1-7-is-required","title":"Why is Java not able to be found by Windows Task Scheduler","body":"<p>Finally, I figured it out. The root cause is that I was maintaining two versions of Java on my machine i.e. 1.7 and 1.8 although PATH and JAVA_HOME variables were pointing to 1.8. By trying different options with PATH and JAVA_HOME variables, I ran into further problems - Now, I was no more able to even run JMeter UI by double clicking jmeter.bat file as I started facing same error (Initially, I was able to run .bat file by double-click). I uninstalled and re-installed Java 1.8 but issue stood still.</p>\n\n<p>On further investigation, I realized that maintaining two versions could be the root cause and on doing further research I came to know that I have to remove all <code>java.exe</code>, <code>javaw.exe</code>, and <code>javaws.exe</code> from <code>Windows\\System32</code> and <code>Windows\\SysWOW64</code> folders. By following this solution, my issue is resolved completely and testplan is being executed as scheduled task.</p>\n\n<p>Ref: <a href=\"https://stackoverflow.com/questions/29697543/registry-key-error-java-version-has-value-1-8-but-1-7-is-required\">Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required</a></p>\n"}],"owner":{"account_id":9400849,"reputation":69,"user_id":7955880,"accept_rate":0,"display_name":"Ehtesham Ahmed"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655320675,"creation_date":1494576348,"question_id":43932576,"body_markdown":"I have written a test plan in JMeter which works fine when run through JMeter UI or Windows command line. However, if I make a task in windows scheduler and try to run it, I get following error message:\r\n\r\n&gt; Not able to find Java executable version. Please check your Java installation. errorlevel=2\r\n\r\nI am providing complete path to JMeter.bat file while creating the task.\r\n\r\nWhat could be the possible reason for this error?","title":"Why is Java not able to be found by Windows Task Scheduler","body":"<p>I have written a test plan in JMeter which works fine when run through JMeter UI or Windows command line. However, if I make a task in windows scheduler and try to run it, I get following error message:</p>\n<blockquote>\n<p>Not able to find Java executable version. Please check your Java installation. errorlevel=2</p>\n</blockquote>\n<p>I am providing complete path to JMeter.bat file while creating the task.</p>\n<p>What could be the possible reason for this error?</p>\n"},{"tags":["java","sonarqube","java-stream"],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655316329,"creation_date":1655316329,"answer_id":72635975,"question_id":72635209,"body_markdown":"`toList()` is introduced in Java 16 as far as I can see. \r\n\r\nCan you please see if your sonarqube  version is also inline with what you are using in your code?\r\n\r\n`toList()` is terminal operation, so you are correctly using streams. This leads issue only with Sonarqube version which may be referring java older than 16.\r\n\r\nTry using sonarqube 9.x or higher which may be supporting java 16 onwards.\r\n\r\n","title":"Sonarqube Major issue &quot;Refactor code so that stream pipeline is used&quot;","body":"<p><code>toList()</code> is introduced in Java 16 as far as I can see.</p>\n<p>Can you please see if your sonarqube  version is also inline with what you are using in your code?</p>\n<p><code>toList()</code> is terminal operation, so you are correctly using streams. This leads issue only with Sonarqube version which may be referring java older than 16.</p>\n<p>Try using sonarqube 9.x or higher which may be supporting java 16 onwards.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1655320475,"creation_date":1655320475,"answer_id":72636722,"question_id":72635209,"body_markdown":"Method `Stream.toList()` has been already mentioned in the [*rules of Java analyzer*](https://rules.sonarsource.com/java/tag/java16/RSPEC-6204). And the latest  SonarQube&#39;s [*Version 9.5*](https://www.sonarqube.org/downloads/) according to its description should support Java 16.\r\n\r\nSo firstly, try to update the SonarQube.\r\n\r\nIf it would not resolve the issue, you can substitute `toList()` with `collect(Collectors.toList())`.","title":"Sonarqube Major issue &quot;Refactor code so that stream pipeline is used&quot;","body":"<p>Method <code>Stream.toList()</code> has been already mentioned in the <a href=\"https://rules.sonarsource.com/java/tag/java16/RSPEC-6204\" rel=\"noreferrer\"><em>rules of Java analyzer</em></a>. And the latest  SonarQube's <a href=\"https://www.sonarqube.org/downloads/\" rel=\"noreferrer\"><em>Version 9.5</em></a> according to its description should support Java 16.</p>\n<p>So firstly, try to update the SonarQube.</p>\n<p>If it would not resolve the issue, you can substitute <code>toList()</code> with <code>collect(Collectors.toList())</code>.</p>\n"}],"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5538,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1655320475,"creation_date":1655312484,"question_id":72635209,"body_markdown":"im working in java 17 project and i have the following method :\r\n\r\n      public List&lt;String&gt; getUserroles(List&lt;UserRoleDTO&gt; userRoles) {\r\n    \r\n        return userRoles.stream().filter(UserRoleDTO::getRight).map(UserRoleDTO::getActionId)\r\n          .toList();\r\n      }\r\n\r\nand my build is failled because sonarqube prompt Major issue &quot;Refactor code so that stream pipeline is used&quot;.\r\n\r\nany suggestion please on how i can adapt my code to be sonar compliant.\r\n\r\nBest regards","title":"Sonarqube Major issue &quot;Refactor code so that stream pipeline is used&quot;","body":"<p>im working in java 17 project and i have the following method :</p>\n<pre><code>  public List&lt;String&gt; getUserroles(List&lt;UserRoleDTO&gt; userRoles) {\n\n    return userRoles.stream().filter(UserRoleDTO::getRight).map(UserRoleDTO::getActionId)\n      .toList();\n  }\n</code></pre>\n<p>and my build is failled because sonarqube prompt Major issue &quot;Refactor code so that stream pipeline is used&quot;.</p>\n<p>any suggestion please on how i can adapt my code to be sonar compliant.</p>\n<p>Best regards</p>\n"},{"tags":["java","debugging","java-8","concurrency","java.util.concurrent"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655322764,"post_id":72636299,"comment_id":128308351,"body_markdown":"I think `CountDownLatch:await` consumes your unpark permits.","body":"I think <code>CountDownLatch:await</code> consumes your unpark permits."},{"owner":{"account_id":12269835,"reputation":11,"user_id":8955286,"display_name":"asiuf爱施德"},"score":0,"creation_date":1655342496,"post_id":72636299,"comment_id":128312287,"body_markdown":"@akarnokd Many thanks, I checked the source code in `CountDownLatch:await `, that is **TRUE** ;  If `CountDownLatch:await` should be blocked, it will eventually call `LockSupport.park(this)` , This will definitely consume unpark permits；Thankyou again.","body":"@akarnokd Many thanks, I checked the source code in <code>CountDownLatch:await </code>, that is <b>TRUE</b> ;  If <code>CountDownLatch:await</code> should be blocked, it will eventually call <code>LockSupport.park(this)</code> , This will definitely consume unpark permits；Thankyou again."}],"owner":{"account_id":12269835,"reputation":11,"user_id":8955286,"display_name":"asiuf爱施德"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655320018,"creation_date":1655318082,"question_id":72636299,"body_markdown":"In javadoc , LockSupport.unpark() can occur before LockSupport.park() and guaranteed that next call to park is not to block.\r\n\r\n&gt; Makes available the permit for the given thread, if it was not already\r\n&gt; available. If the thread was blocked on park then it will unblock.\r\n&gt; Otherwise, its next call to park is guaranteed not to block. This\r\n&gt; operation is not guaranteed to have any effect at all if the given\r\n&gt; thread has not been started.\r\n\r\nBut in the follow code why it block at park() method , Sometimes but not always;\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        CountDownLatch c = new CountDownLatch(1);\r\n        Thread t1 = new Thread(() -&gt; {\r\n            try {\r\n                System.out.println(&quot;t1 started&quot;);\r\n                c.await();\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            System.out.println(&quot;park...&quot;);\r\n            LockSupport.park();\r\n            System.out.println(&quot;resume...&quot;);\r\n        });\r\n        t1.start();\r\n        LockSupport.unpark(t1);\r\n        System.out.println(&quot;unpark...&quot;);\r\n        c.countDown();\r\n    }\r\nI use CountDownLatch to make sure that unpark() occur before park(),\r\nAnd I make sure that Thread t1 has been started , by call ```t1.start()``` before unpark();\r\n\r\nJdk Version 1.8;\r\nThe follow is result on my machine, block on the park() method, The guarantee dont work.\r\n\r\n    t1 started\r\n    unpark...\r\n    park...\r\n\r\n[result pic][1]\r\n\r\n  [1]: https://i.stack.imgur.com/0KGVi.png\r\nWhy? Did i do something stupid? Thankyou.\r\n","title":"When LockSupport.unpark() occur before LockSupport.park() , It would block in the park() method in the follow code, Why?","body":"<p>In javadoc , LockSupport.unpark() can occur before LockSupport.park() and guaranteed that next call to park is not to block.</p>\n<blockquote>\n<p>Makes available the permit for the given thread, if it was not already\navailable. If the thread was blocked on park then it will unblock.\nOtherwise, its next call to park is guaranteed not to block. This\noperation is not guaranteed to have any effect at all if the given\nthread has not been started.</p>\n</blockquote>\n<p>But in the follow code why it block at park() method , Sometimes but not always;</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    CountDownLatch c = new CountDownLatch(1);\n    Thread t1 = new Thread(() -&gt; {\n        try {\n            System.out.println(&quot;t1 started&quot;);\n            c.await();\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        System.out.println(&quot;park...&quot;);\n        LockSupport.park();\n        System.out.println(&quot;resume...&quot;);\n    });\n    t1.start();\n    LockSupport.unpark(t1);\n    System.out.println(&quot;unpark...&quot;);\n    c.countDown();\n}\n</code></pre>\n<p>I use CountDownLatch to make sure that unpark() occur before park(),\nAnd I make sure that Thread t1 has been started , by call <code>t1.start()</code> before unpark();</p>\n<p>Jdk Version 1.8;\nThe follow is result on my machine, block on the park() method, The guarantee dont work.</p>\n<pre><code>t1 started\nunpark...\npark...\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0KGVi.png\" rel=\"nofollow noreferrer\">result pic</a></p>\n<p>Why? Did i do something stupid? Thankyou.</p>\n"},{"tags":["java","android","ffmpeg","javacv"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1655240758,"post_id":72622990,"comment_id":128284944,"body_markdown":"I don&#39;t do Android but a. you need to do that in a separate thread and b. you need to handle the process output stream","body":"I don&#39;t do Android but a. you need to do that in a separate thread and b. you need to handle the process output stream"},{"owner":{"account_id":14219858,"reputation":289,"user_id":10272521,"display_name":"xnok"},"score":0,"creation_date":1655241497,"post_id":72622990,"comment_id":128285137,"body_markdown":"`pb.start` goes to a thread then? how is output stream supposed to be handled in this case?","body":"<code>pb.start</code> goes to a thread then? how is output stream supposed to be handled in this case?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1655241996,"post_id":72622990,"comment_id":128285270,"body_markdown":"You need to read the output stream or the process can just lock up","body":"You need to read the output stream or the process can just lock up"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1655265657,"post_id":72622990,"comment_id":128288975,"body_markdown":"Your logcat panel shows the message &quot;Nothing good happened here&quot; and therefore it seems that `pb.start()` throws an `IOException`. Unfortunately you are throwing away the `IOException`. Replace `Log.e(&quot;TAG&quot;, &quot;Nothing good happened here&quot;);` with `Log.e(&quot;TAG&quot;, &quot;Nothing good happened here&quot;, e);` and remove the `e.printStackTrace();` so that you can see the exception.","body":"Your logcat panel shows the message &quot;Nothing good happened here&quot; and therefore it seems that <code>pb.start()</code> throws an <code>IOException</code>. Unfortunately you are throwing away the <code>IOException</code>. Replace <code>Log.e(&quot;TAG&quot;, &quot;Nothing good happened here&quot;);</code> with <code>Log.e(&quot;TAG&quot;, &quot;Nothing good happened here&quot;, e);</code> and remove the <code>e.printStackTrace();</code> so that you can see the exception."},{"owner":{"account_id":14219858,"reputation":289,"user_id":10272521,"display_name":"xnok"},"score":0,"creation_date":1655267654,"post_id":72622990,"comment_id":128289274,"body_markdown":"I removed `e.printStackTrace();` and did `Log.e(&quot;TAG&quot;, &quot;:&quot;,e);` and it gave me the same error that I recently updated the question with: `E/AndroidRuntime: FATAL EXCEPTION: Thread-4\n    Process: com.example.myapplication, PID: 25934\n    java.lang.NullPointerException`. At the line `pb.start():`","body":"I removed <code>e.printStackTrace();</code> and did <code>Log.e(&quot;TAG&quot;, &quot;:&quot;,e);</code> and it gave me the same error that I recently updated the question with: <code>E&#47;AndroidRuntime: FATAL EXCEPTION: Thread-4     Process: com.example.myapplication, PID: 25934     java.lang.NullPointerException</code>. At the line <code>pb.start():</code>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1655311026,"post_id":72622990,"comment_id":128304437,"body_markdown":"That `NullPointerException` in the stacktrace is already helpful. The documentation for [`ProcessBuilder.start()`](https://developer.android.com/reference/java/lang/ProcessBuilder#start()) says that it _throws a `NullPointerException` if an element of the command list is null_. About the only thing in your command list that can be `null` is the `ffmpeg` string.","body":"That <code>NullPointerException</code> in the stacktrace is already helpful. The documentation for <a href=\"https://developer.android.com/reference/java/lang/ProcessBuilder#start()\" rel=\"nofollow noreferrer\"><code>ProcessBuilder.start()</code></a> says that it <i>throws a <code>NullPointerException</code> if an element of the command list is null</i>. About the only thing in your command list that can be <code>null</code> is the <code>ffmpeg</code> string."}],"answers":[{"tags":[],"owner":{"account_id":14219858,"reputation":289,"user_id":10272521,"display_name":"xnok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655320017,"creation_date":1655320017,"answer_id":72636658,"question_id":72622990,"body_markdown":"A thread isn&#39;t necessary, nor reading the output to start a process, in this case `errCode = process.waitFor();` did the trick.    \r\n\r\n    package com.example.myapplication;\r\n    \r\n    import androidx.annotation.RequiresApi;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStream;\r\n    \r\n    import org.bytedeco.javacpp.Loader;\r\n    import org.bytedeco.opencv.opencv_core.Point;\r\n    import org.opencv.core.CvType;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.core.Scalar;\r\n    import org.opencv.imgproc.Imgproc;\r\n    \r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        static final int cols = 192;\r\n        static final int rows = 108;\r\n        static final String ffmpeg = Loader.load(org.bytedeco.ffmpeg.ffmpeg.class);\r\n        static final String rtmp_url = &quot;test.flv&quot;;\r\n        static final String[] command = {ffmpeg,\r\n                &quot;-y&quot;,\r\n                &quot;-f&quot;, &quot;rawvideo&quot;,\r\n                &quot;-vcodec&quot;, &quot;rawvideo&quot;,\r\n                &quot;-pix_fmt&quot;, &quot;bgr24&quot;,\r\n                &quot;-s&quot;, (Integer.toString(cols) + &quot;x&quot; + Integer.toString(rows)),\r\n                &quot;-r&quot;, &quot;10&quot;,\r\n                &quot;-i&quot;, &quot;pipe:&quot;,\r\n                &quot;-c:v&quot;, &quot;libx264&quot;,\r\n                &quot;-pix_fmt&quot;, &quot;yuv420p&quot;,\r\n                &quot;-preset&quot;, &quot;ultrafast&quot;,\r\n                &quot;-f&quot;, &quot;flv&quot;,\r\n                rtmp_url};\r\n        @RequiresApi(api = Build.VERSION_CODES.O)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            //new Thread(t1).start();\r\n            ProcessBuilder pb = new ProcessBuilder(&quot;echo&quot;, &quot;Hello World!&quot;);\r\n            pb.redirectErrorStream(true);\r\n            System.out.println(&quot;Run echo command&quot;);\r\n            Process process = null;\r\n            try {\r\n                process = pb.start();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            int errCode = 0;\r\n            try {\r\n                errCode = process.waitFor();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(&quot;Echo command executed, any errors? &quot; + (errCode == 0 ? &quot;No&quot; : &quot;Yes&quot;));\r\n            try {\r\n                System.out.println(&quot;Echo Output:\\n&quot; + output(process.getInputStream()));\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n                OutputStream writer = process.getOutputStream();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            Log.e(&quot;TAG&quot;, &quot;void OnCreate called successfully!&quot;);\r\n    \r\n        }\r\n    \r\n        private static String output(InputStream inputStream) throws IOException {\r\n            StringBuilder sb = new StringBuilder();\r\n            BufferedReader br = null;\r\n            try {\r\n                br = new BufferedReader(new InputStreamReader(inputStream));\r\n                String line = null;\r\n                while ((line = br.readLine()) != null) {\r\n                    sb.append(line + System.getProperty(&quot;line.separator&quot;));\r\n                }\r\n            } finally {\r\n                br.close();\r\n            }\r\n            return sb.toString();\r\n        }\r\n        \r\n    }","title":"ProcessBuilder is not called when trying to start a process","body":"<p>A thread isn't necessary, nor reading the output to start a process, in this case <code>errCode = process.waitFor();</code> did the trick.</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.annotation.RequiresApi;\nimport androidx.appcompat.app.AppCompatActivity;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\n\nimport org.bytedeco.javacpp.Loader;\nimport org.bytedeco.opencv.opencv_core.Point;\nimport org.opencv.core.CvType;\nimport org.opencv.core.Mat;\nimport org.opencv.core.Scalar;\nimport org.opencv.imgproc.Imgproc;\n\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Log;\n\npublic class MainActivity extends AppCompatActivity {\n    static final int cols = 192;\n    static final int rows = 108;\n    static final String ffmpeg = Loader.load(org.bytedeco.ffmpeg.ffmpeg.class);\n    static final String rtmp_url = &quot;test.flv&quot;;\n    static final String[] command = {ffmpeg,\n            &quot;-y&quot;,\n            &quot;-f&quot;, &quot;rawvideo&quot;,\n            &quot;-vcodec&quot;, &quot;rawvideo&quot;,\n            &quot;-pix_fmt&quot;, &quot;bgr24&quot;,\n            &quot;-s&quot;, (Integer.toString(cols) + &quot;x&quot; + Integer.toString(rows)),\n            &quot;-r&quot;, &quot;10&quot;,\n            &quot;-i&quot;, &quot;pipe:&quot;,\n            &quot;-c:v&quot;, &quot;libx264&quot;,\n            &quot;-pix_fmt&quot;, &quot;yuv420p&quot;,\n            &quot;-preset&quot;, &quot;ultrafast&quot;,\n            &quot;-f&quot;, &quot;flv&quot;,\n            rtmp_url};\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        //new Thread(t1).start();\n        ProcessBuilder pb = new ProcessBuilder(&quot;echo&quot;, &quot;Hello World!&quot;);\n        pb.redirectErrorStream(true);\n        System.out.println(&quot;Run echo command&quot;);\n        Process process = null;\n        try {\n            process = pb.start();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        int errCode = 0;\n        try {\n            errCode = process.waitFor();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;Echo command executed, any errors? &quot; + (errCode == 0 ? &quot;No&quot; : &quot;Yes&quot;));\n        try {\n            System.out.println(&quot;Echo Output:\\n&quot; + output(process.getInputStream()));\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n            OutputStream writer = process.getOutputStream();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        Log.e(&quot;TAG&quot;, &quot;void OnCreate called successfully!&quot;);\n\n    }\n\n    private static String output(InputStream inputStream) throws IOException {\n        StringBuilder sb = new StringBuilder();\n        BufferedReader br = null;\n        try {\n            br = new BufferedReader(new InputStreamReader(inputStream));\n            String line = null;\n            while ((line = br.readLine()) != null) {\n                sb.append(line + System.getProperty(&quot;line.separator&quot;));\n            }\n        } finally {\n            br.close();\n        }\n        return sb.toString();\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":14219858,"reputation":289,"user_id":10272521,"display_name":"xnok"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72636658,"answer_count":1,"score":1,"last_activity_date":1655320017,"creation_date":1655238385,"question_id":72622990,"body_markdown":"I am trying to understand more about the ffmpeg usage in JavaCV for android studio and for said task I am trying to use ProcessBuilder. I tried writting a simple program to debug the `pb.start();` Although, I am not getting a response. What I did was to start a default/empty activity and pasted the following program:\r\n\r\n\r\n    package com.example.myapplication;\r\n    \r\n    import androidx.annotation.RequiresApi;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStream;\r\n    \r\n    import org.bytedeco.javacpp.Loader;\r\n    \r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        static final int cols = 192;\r\n        static final int rows = 108;\r\n        static final String ffmpeg = Loader.load(org.bytedeco.ffmpeg.ffmpeg.class);\r\n        static final String rtmp_url = &quot;test.flv&quot;;\r\n        static final String[] command = {ffmpeg,\r\n                &quot;-y&quot;,\r\n                &quot;-f&quot;, &quot;rawvideo&quot;,\r\n                &quot;-vcodec&quot;, &quot;rawvideo&quot;,\r\n                &quot;-pix_fmt&quot;, &quot;bgr24&quot;,\r\n                &quot;-s&quot;, (Integer.toString(cols) + &quot;x&quot; + Integer.toString(rows)),\r\n                &quot;-r&quot;, &quot;10&quot;,\r\n                &quot;-i&quot;, &quot;pipe:&quot;,\r\n                &quot;-c:v&quot;, &quot;libx264&quot;,\r\n                &quot;-pix_fmt&quot;, &quot;yuv420p&quot;,\r\n                &quot;-preset&quot;, &quot;ultrafast&quot;,\r\n                &quot;-f&quot;, &quot;flv&quot;,\r\n                rtmp_url};\r\n        @RequiresApi(api = Build.VERSION_CODES.O)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            new Thread(t1).start();\r\n    \r\n        }\r\n        private static Runnable t1 = () -&gt; {\r\n            Log.e(&quot;TAG&quot;, &quot;void OnCreate called successfully!&quot;);\r\n            ProcessBuilder pb = new ProcessBuilder(command).redirectErrorStream(true);\r\n            pb.redirectErrorStream(true);\r\n            try {\r\n                Process process = pb.start();\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n                OutputStream writer = process.getOutputStream();\r\n                Log.e(&quot;TAG&quot;, &quot;Something good happened here&quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                Log.e(&quot;TAG&quot;, &quot;Nothing good happened here&quot;);\r\n            }\r\n        };\r\n    \r\n    \r\n    }\r\n\r\nMy current problem is that I can&#39;t seem to start properly the processBuilder process via pb.start();\r\n\r\nI get the following logs from the logcat panel:\r\n\r\n    2022-06-14 17:24:46.328 13371-13371/com.example.myapplication E/TAG: void OnCreate called successfully!\r\n    2022-06-14 17:24:46.333 13371-13371/com.example.myapplication E/TAG: Nothing good happened here\r\n\r\n\r\nI&#39;d like to understand why is it skipping the try/catch block and not starting the process?\r\n\r\n\r\nEDIT: I made some changes as per @g00se&#39;s suggestions and I got the following stack trace from the code above:\r\n\r\n    2022-06-15 00:32:26.700 29787-29787/? E/USNET: USNET: appName: com.example.myapplication\r\n    2022-06-15 00:32:29.328 29787-29828/com.example.myapplication E/TAG: void OnCreate called successfully!\r\n    2022-06-15 00:32:29.330 29787-29828/com.example.myapplication E/AndroidRuntime: FATAL EXCEPTION: Thread-4\r\n        Process: com.example.myapplication, PID: 29787\r\n        java.lang.NullPointerException\r\n            at java.lang.ProcessBuilder.start(ProcessBuilder.java:1012)\r\n            at com.example.myapplication.MainActivity.lambda$static$0(MainActivity.java:48)\r\n            at com.example.myapplication.MainActivity$$ExternalSyntheticLambda0.run(Unknown Source:0)\r\n            at java.lang.Thread.run(Thread.java:920)","title":"ProcessBuilder is not called when trying to start a process","body":"<p>I am trying to understand more about the ffmpeg usage in JavaCV for android studio and for said task I am trying to use ProcessBuilder. I tried writting a simple program to debug the <code>pb.start();</code> Although, I am not getting a response. What I did was to start a default/empty activity and pasted the following program:</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.annotation.RequiresApi;\nimport androidx.appcompat.app.AppCompatActivity;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\n\nimport org.bytedeco.javacpp.Loader;\n\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Log;\n\npublic class MainActivity extends AppCompatActivity {\n    static final int cols = 192;\n    static final int rows = 108;\n    static final String ffmpeg = Loader.load(org.bytedeco.ffmpeg.ffmpeg.class);\n    static final String rtmp_url = &quot;test.flv&quot;;\n    static final String[] command = {ffmpeg,\n            &quot;-y&quot;,\n            &quot;-f&quot;, &quot;rawvideo&quot;,\n            &quot;-vcodec&quot;, &quot;rawvideo&quot;,\n            &quot;-pix_fmt&quot;, &quot;bgr24&quot;,\n            &quot;-s&quot;, (Integer.toString(cols) + &quot;x&quot; + Integer.toString(rows)),\n            &quot;-r&quot;, &quot;10&quot;,\n            &quot;-i&quot;, &quot;pipe:&quot;,\n            &quot;-c:v&quot;, &quot;libx264&quot;,\n            &quot;-pix_fmt&quot;, &quot;yuv420p&quot;,\n            &quot;-preset&quot;, &quot;ultrafast&quot;,\n            &quot;-f&quot;, &quot;flv&quot;,\n            rtmp_url};\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        new Thread(t1).start();\n\n    }\n    private static Runnable t1 = () -&gt; {\n        Log.e(&quot;TAG&quot;, &quot;void OnCreate called successfully!&quot;);\n        ProcessBuilder pb = new ProcessBuilder(command).redirectErrorStream(true);\n        pb.redirectErrorStream(true);\n        try {\n            Process process = pb.start();\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n            OutputStream writer = process.getOutputStream();\n            Log.e(&quot;TAG&quot;, &quot;Something good happened here&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n            Log.e(&quot;TAG&quot;, &quot;Nothing good happened here&quot;);\n        }\n    };\n\n\n}\n</code></pre>\n<p>My current problem is that I can't seem to start properly the processBuilder process via pb.start();</p>\n<p>I get the following logs from the logcat panel:</p>\n<pre><code>2022-06-14 17:24:46.328 13371-13371/com.example.myapplication E/TAG: void OnCreate called successfully!\n2022-06-14 17:24:46.333 13371-13371/com.example.myapplication E/TAG: Nothing good happened here\n</code></pre>\n<p>I'd like to understand why is it skipping the try/catch block and not starting the process?</p>\n<p>EDIT: I made some changes as per @g00se's suggestions and I got the following stack trace from the code above:</p>\n<pre><code>2022-06-15 00:32:26.700 29787-29787/? E/USNET: USNET: appName: com.example.myapplication\n2022-06-15 00:32:29.328 29787-29828/com.example.myapplication E/TAG: void OnCreate called successfully!\n2022-06-15 00:32:29.330 29787-29828/com.example.myapplication E/AndroidRuntime: FATAL EXCEPTION: Thread-4\n    Process: com.example.myapplication, PID: 29787\n    java.lang.NullPointerException\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1012)\n        at com.example.myapplication.MainActivity.lambda$static$0(MainActivity.java:48)\n        at com.example.myapplication.MainActivity$$ExternalSyntheticLambda0.run(Unknown Source:0)\n        at java.lang.Thread.run(Thread.java:920)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":183165,"reputation":391,"user_id":418380,"accept_rate":50,"display_name":"christian"},"score":0,"creation_date":1292414230,"post_id":4449362,"comment_id":4859847,"body_markdown":"You could save the image in a compressed format such as JPEG or PNG.","body":"You could save the image in a compressed format such as JPEG or PNG."}],"answers":[{"tags":[],"owner":{"account_id":77328,"reputation":2506,"user_id":220790,"display_name":"Gabriel Reid"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1292412545,"creation_date":1292412545,"answer_id":4449383,"question_id":4449362,"body_markdown":"This kind of question has been answered quite a few times on this site. I suggest you check out https://stackoverflow.com/questions/2305670/how-to-resize-the-original-image-into-a-common-size-of-image-in-java or search for java image resize on this site.","title":"How to reduce image file size in java","body":"<p>This kind of question has been answered quite a few times on this site. I suggest you check out <a href=\"https://stackoverflow.com/questions/2305670/how-to-resize-the-original-image-into-a-common-size-of-image-in-java\">How to resize the original image into a common size of image in Java?</a> or search for java image resize on this site.</p>\n"},{"tags":[],"owner":{"account_id":2437239,"reputation":19,"user_id":2126826,"display_name":"Rehan Ahmad"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1362233713,"creation_date":1362233713,"answer_id":15175483,"question_id":4449362,"body_markdown":"    /*\r\n     * This will get an image file and returns a byte array resized by the given value.\r\n     */\r\n    package tajneed;\r\n    \r\n    import java.awt.image.BufferedImage;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import javax.imageio.ImageIO;\r\n    import org.imgscalr.Scalr;\r\n    \r\n    public class ImageResizer {\r\n    \r\n        public static byte[] resize(File icon) {\r\n            try {\r\n               BufferedImage originalImage = ImageIO.read(icon);\r\n\r\n               originalImage= Scalr.resize(originalImage, Scalr.Method.QUALITY, Scalr.Mode.FIT_EXACT, 128, 153);\r\n                //To save with original ratio uncomment next line and comment the above.\r\n                //originalImage= Scalr.resize(originalImage, 153, 128);\r\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                ImageIO.write(originalImage, &quot;jpg&quot;, baos);\r\n                baos.flush();\r\n                byte[] imageInByte = baos.toByteArray();\r\n                baos.close();\r\n                return imageInByte;\r\n            } catch (Exception e) {\r\n                return null;\r\n            }\r\n    \r\n            \r\n        }\r\n    }","title":"How to reduce image file size in java","body":"<pre><code>/*\n * This will get an image file and returns a byte array resized by the given value.\n */\npackage tajneed;\n\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport javax.imageio.ImageIO;\nimport org.imgscalr.Scalr;\n\npublic class ImageResizer {\n\n    public static byte[] resize(File icon) {\n        try {\n           BufferedImage originalImage = ImageIO.read(icon);\n\n           originalImage= Scalr.resize(originalImage, Scalr.Method.QUALITY, Scalr.Mode.FIT_EXACT, 128, 153);\n            //To save with original ratio uncomment next line and comment the above.\n            //originalImage= Scalr.resize(originalImage, 153, 128);\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            ImageIO.write(originalImage, \"jpg\", baos);\n            baos.flush();\n            byte[] imageInByte = baos.toByteArray();\n            baos.close();\n            return imageInByte;\n        } catch (Exception e) {\n            return null;\n        }\n\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6645508,"reputation":299,"user_id":5129765,"display_name":"Umesh Markande"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1438342841,"creation_date":1438342319,"answer_id":31745145,"question_id":4449362,"body_markdown":"May this following code help you it will resize and keep quality of image.\r\n\r\n    protected void doPost(HttpServletRequest request,HttpServletResponse response) throws ServletException, IOException {\r\n            boolean isMultipart = ServletFileUpload.isMultipartContent(request);\r\n                 if (!isMultipart) {\r\n                 } else {\r\n                    FileItemFactory factory = new DiskFileItemFactory();\r\n                    ServletFileUpload upload = new ServletFileUpload(factory);\r\n                    List items = null;\r\n                    try {\r\n                         items = upload.parseRequest(request);\r\n                    } catch (FileUploadException e) {\r\n                         System.out.println(&quot;Unable to load image&quot; +  e.getMessage());}\r\n                    Iterator itr = items.iterator();\r\n                    while(itr.hasNext()) {\r\n                         System.out.println(items.size());\r\n                           FileItem item = (FileItem) itr.next();\r\n                           if (!item.isFormField()) {\r\n                              try {\r\n                                     int size = 200;// size of the new image.\r\n                                     //take the file as inputstream.\r\n                                     InputStream imageStream = item.getInputStream();\r\n                                     //read the image as a BufferedImage.\r\n                                     BufferedImage image = javax.imageio.ImageIO.read(imageStream); \r\n                                     //cal the sacleImage method.\r\n                                     BufferedImage newImage = scaleImage(image, size);\r\n                                     String path = getServletContext().getRealPath(&quot;/image&quot;);\r\n                                     //write file.\r\n                                     File file = new File(path, &quot;testimage.jpg&quot;);\r\n                                     ImageIO.write(newImage, &quot;JPG&quot;, file);\r\n                              } catch (Exception e) {\r\n                                   System.out.println(&quot;Unable to save the image&quot; + e.getMessage());\r\n                                   //System.out.println(path);\r\n                      }//if\r\n                    }//iter\r\n            }\r\n        private BufferedImage scaleImage(BufferedImage bufferedImage, int size) {\r\n             double boundSize = size;\r\n                int origWidth = bufferedImage.getWidth();\r\n                int origHeight = bufferedImage.getHeight();\r\n                double scale;\r\n                if (origHeight &gt; origWidth)\r\n                    scale = boundSize / origHeight;\r\n                else\r\n                    scale = boundSize / origWidth;\r\n                 //* Don&#39;t scale up small images.\r\n                if (scale &gt; 1.0)\r\n                    return (bufferedImage);\r\n                int scaledWidth = (int) (scale * origWidth);\r\n                int scaledHeight = (int) (scale * origHeight);\r\n                Image scaledImage = bufferedImage.getScaledInstance(scaledWidth, scaledHeight, Image.SCALE_SMOOTH);\r\n                // new ImageIcon(image); // load image\r\n                // scaledWidth = scaledImage.getWidth(null);\r\n                // scaledHeight = scaledImage.getHeight(null);\r\n                BufferedImage scaledBI = new BufferedImage(scaledWidth, scaledHeight, BufferedImage.TYPE_INT_RGB);\r\n                Graphics2D g = scaledBI.createGraphics();\r\n                     g.setRenderingHint(RenderingHints.KEY_INTERPOLATION,RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n                g.drawImage(scaledImage, 0, 0, null);\r\n                g.dispose();\r\n                return (scaledBI);\r\n        }","title":"How to reduce image file size in java","body":"<p>May this following code help you it will resize and keep quality of image.</p>\n\n<pre><code>protected void doPost(HttpServletRequest request,HttpServletResponse response) throws ServletException, IOException {\n        boolean isMultipart = ServletFileUpload.isMultipartContent(request);\n             if (!isMultipart) {\n             } else {\n                FileItemFactory factory = new DiskFileItemFactory();\n                ServletFileUpload upload = new ServletFileUpload(factory);\n                List items = null;\n                try {\n                     items = upload.parseRequest(request);\n                } catch (FileUploadException e) {\n                     System.out.println(\"Unable to load image\" +  e.getMessage());}\n                Iterator itr = items.iterator();\n                while(itr.hasNext()) {\n                     System.out.println(items.size());\n                       FileItem item = (FileItem) itr.next();\n                       if (!item.isFormField()) {\n                          try {\n                                 int size = 200;// size of the new image.\n                                 //take the file as inputstream.\n                                 InputStream imageStream = item.getInputStream();\n                                 //read the image as a BufferedImage.\n                                 BufferedImage image = javax.imageio.ImageIO.read(imageStream); \n                                 //cal the sacleImage method.\n                                 BufferedImage newImage = scaleImage(image, size);\n                                 String path = getServletContext().getRealPath(\"/image\");\n                                 //write file.\n                                 File file = new File(path, \"testimage.jpg\");\n                                 ImageIO.write(newImage, \"JPG\", file);\n                          } catch (Exception e) {\n                               System.out.println(\"Unable to save the image\" + e.getMessage());\n                               //System.out.println(path);\n                  }//if\n                }//iter\n        }\n    private BufferedImage scaleImage(BufferedImage bufferedImage, int size) {\n         double boundSize = size;\n            int origWidth = bufferedImage.getWidth();\n            int origHeight = bufferedImage.getHeight();\n            double scale;\n            if (origHeight &gt; origWidth)\n                scale = boundSize / origHeight;\n            else\n                scale = boundSize / origWidth;\n             //* Don't scale up small images.\n            if (scale &gt; 1.0)\n                return (bufferedImage);\n            int scaledWidth = (int) (scale * origWidth);\n            int scaledHeight = (int) (scale * origHeight);\n            Image scaledImage = bufferedImage.getScaledInstance(scaledWidth, scaledHeight, Image.SCALE_SMOOTH);\n            // new ImageIcon(image); // load image\n            // scaledWidth = scaledImage.getWidth(null);\n            // scaledHeight = scaledImage.getHeight(null);\n            BufferedImage scaledBI = new BufferedImage(scaledWidth, scaledHeight, BufferedImage.TYPE_INT_RGB);\n            Graphics2D g = scaledBI.createGraphics();\n                 g.setRenderingHint(RenderingHints.KEY_INTERPOLATION,RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n            g.drawImage(scaledImage, 0, 0, null);\n            g.dispose();\n            return (scaledBI);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":437426,"reputation":9,"user_id":825107,"display_name":"CyberX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655319726,"creation_date":1655319726,"answer_id":72636615,"question_id":4449362,"body_markdown":"Use img4java to reduce the file size of your image.\r\n\r\n    \r\n\tpublic static void main(String[] args) throws IOException, InterruptedException, IM4JavaException {\r\n\t\t IMOperation op = new IMOperation();\r\n\t\t //op.resize(500, 500, &#39;&gt;&#39;);\r\n\t\t //op.quality(85.0); // jpeg quality (%)\r\n\t\t op.strip(); \r\n\t\t op.interlace(&quot;Plane&quot;);\r\n\t\t op.define(&quot;jpeg:extent=5kb&quot;);\r\n\t\t op.addImage(&quot;/home/j/Scrivania/originale.jpg&quot;); // original file\r\n\t\t op.addImage(&quot;/home/j/Scrivania/nuova_m.jpg&quot;); // destination\r\n\t\t \r\n\t\t ConvertCmd convert = new ConvertCmd();\r\n\t\t convert.run(op);\r\n\t}","title":"How to reduce image file size in java","body":"<p>Use img4java to reduce the file size of your image.</p>\n<pre><code>public static void main(String[] args) throws IOException, InterruptedException, IM4JavaException {\n     IMOperation op = new IMOperation();\n     //op.resize(500, 500, '&gt;');\n     //op.quality(85.0); // jpeg quality (%)\n     op.strip(); \n     op.interlace(&quot;Plane&quot;);\n     op.define(&quot;jpeg:extent=5kb&quot;);\n     op.addImage(&quot;/home/j/Scrivania/originale.jpg&quot;); // original file\n     op.addImage(&quot;/home/j/Scrivania/nuova_m.jpg&quot;); // destination\n     \n     ConvertCmd convert = new ConvertCmd();\n     convert.run(op);\n}\n</code></pre>\n"}],"owner":{"account_id":235146,"reputation":11962,"user_id":501767,"accept_rate":80,"display_name":"Anand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47138,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":4449383,"answer_count":4,"score":9,"last_activity_date":1655319726,"creation_date":1292412341,"question_id":4449362,"body_markdown":"I want to reduce image file size of an uploaded image before saving it into server (to reduce loading time). how can I do it using java?","title":"How to reduce image file size in java","body":"<p>I want to reduce image file size of an uploaded image before saving it into server (to reduce loading time). how can I do it using java?</p>\n"},{"tags":["java","regex","date","current-time"],"comments":[{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1655315729,"post_id":72635785,"comment_id":128305942,"body_markdown":"Why not just, `/202206/`?","body":"Why not just, <code>&#47;202206&#47;</code>?"},{"owner":{"account_id":4932274,"reputation":250,"user_id":3971643,"accept_rate":45,"display_name":"biggboss2019"},"score":0,"creation_date":1655315858,"post_id":72635785,"comment_id":128305987,"body_markdown":"The reason is the month number will change in future so unfortunately cannot use /202206/","body":"The reason is the month number will change in future so unfortunately cannot use /202206/"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1655316093,"post_id":72635785,"comment_id":128306053,"body_markdown":"Do I understand correctly from your examples that you want to match the *current* month (as opposed to the previous month)? At time of writing we are in the 6th month (June). If I understand correctly, you don’t need no regex and can just do `testString.contains(YearMonth.now(ZoneId.systemDefault()).format(DateTimeFormatter.ofPattern(&quot;uMM&quot;)))`.","body":"Do I understand correctly from your examples that you want to match the <i>current</i> month (as opposed to the previous month)? At time of writing we are in the 6th month (June). If I understand correctly, you don’t need no regex and can just do <code>testString.contains(YearMonth.now(ZoneId.systemDefault()).fo&zwnj;&#8203;rmat(DateTimeFormatt&zwnj;&#8203;er.ofPattern(&quot;uMM&quot;))&zwnj;&#8203;)</code>."},{"owner":{"account_id":2521234,"reputation":20496,"user_id":2191572,"accept_rate":69,"display_name":"MonkeyZeus"},"score":5,"creation_date":1655316141,"post_id":72635785,"comment_id":128306073,"body_markdown":"Regex is nothing more than a character matcher. It has no concept of newest, oldest, current, bigger, nor smaller. You need to read each line individually, parse the date and use Java logic operators to deduce the &quot;latest&quot; month.","body":"Regex is nothing more than a character matcher. It has no concept of newest, oldest, current, bigger, nor smaller. You need to read each line individually, parse the date and use Java logic operators to deduce the &quot;latest&quot; month."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1655316241,"post_id":72635785,"comment_id":128306107,"body_markdown":"You could still do a simple string match with variables.  `targetYear=&quot;2022&quot;; targetMonth=&quot;06&quot;;  if (candidate.matches(targetYear + targetMonth)) {...}`.","body":"You could still do a simple string match with variables.  <code>targetYear=&quot;2022&quot;; targetMonth=&quot;06&quot;;  if (candidate.matches(targetYear + targetMonth)) {...}</code>."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1655316326,"post_id":72635785,"comment_id":128306138,"body_markdown":"@OleV.V. that was what I was going for as well. I&#39;d just make it a bit simpler and use `YearMonth.now()`; I don&#39;t think the explicit `ZoneId` is necessary.","body":"@OleV.V. that was what I was going for as well. I&#39;d just make it a bit simpler and use <code>YearMonth.now()</code>; I don&#39;t think the explicit <code>ZoneId</code> is necessary."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1655316431,"post_id":72635785,"comment_id":128306174,"body_markdown":"@RobSpoor That’s a matter of taste alright. Which month is the current month is time zone dependent, and I like to remind myself and my reader of that fact even though it takes a few extra characters.","body":"@RobSpoor That’s a matter of taste alright. Which month is the current month is time zone dependent, and I like to remind myself and my reader of that fact even though it takes a few extra characters."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655319583,"creation_date":1655319462,"answer_id":72636570,"question_id":72635785,"body_markdown":"# tl;dr\r\n\r\nUse `YearMonth` class rather than regex. \r\n\r\n    YearMonth\r\n    .now( \r\n        ZoneId.of( &quot;Africa/Casablanca&quot; )\r\n    )\r\n    .isAfter(\r\n        YearMonth\r\n        .parse( &quot;2022-06&quot; )\r\n    )\r\n\r\n\r\n\r\n# Details \r\n\r\nAs the Comments mentioned, regex is a string comparison tool. Regex knows nothing about current and previous month. Regex is very powerful and interesting. But don’t fall into the trap of “If Your Only Tool Is a Hammer Then Every Problem Looks Like a Nail”.\r\n\r\nFor date-time work, use date-time classes. Fortunately, Java now offers the industry-leading date-time classes in the `java.Time` package, defined in JSR 310. \r\n\r\nNever use use the legacy date-time classes found outside the *java.time* package. They are *terrible*, a masterclass in how to *not* do object-oriented programming. \r\n\r\nFor a year-month, use `YearMonth` class. \r\n\r\nDetermining the current year-month requires a time zone. For any given moment, the date varies around the globe by zone. So around the ending/beginning of the month, it may be “next month” in Tokyo Japan while *simultaneously* “last month” in Toledo Ohio US. \r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n    YearMonth ym = YearMonth.now( z ) ;\r\n\r\nFor text, use standard [ISO 8601][1] format: YYYY-MM. \r\n\r\n    String output = ym.toString() ; \r\n\r\nAnd parsing. \r\n\r\n    YearMonth ym = YearMonth.parse( &quot;2022-06&quot; ) ;\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601","title":"Regular expression to match latest/last month","body":"<h1>tl;dr</h1>\n<p>Use <code>YearMonth</code> class rather than regex.</p>\n<pre><code>YearMonth\n.now( \n    ZoneId.of( &quot;Africa/Casablanca&quot; )\n)\n.isAfter(\n    YearMonth\n    .parse( &quot;2022-06&quot; )\n)\n</code></pre>\n<h1>Details</h1>\n<p>As the Comments mentioned, regex is a string comparison tool. Regex knows nothing about current and previous month. Regex is very powerful and interesting. But don’t fall into the trap of “If Your Only Tool Is a Hammer Then Every Problem Looks Like a Nail”.</p>\n<p>For date-time work, use date-time classes. Fortunately, Java now offers the industry-leading date-time classes in the <code>java.Time</code> package, defined in JSR 310.</p>\n<p>Never use use the legacy date-time classes found outside the <em>java.time</em> package. They are <em>terrible</em>, a masterclass in how to <em>not</em> do object-oriented programming.</p>\n<p>For a year-month, use <code>YearMonth</code> class.</p>\n<p>Determining the current year-month requires a time zone. For any given moment, the date varies around the globe by zone. So around the ending/beginning of the month, it may be “next month” in Tokyo Japan while <em>simultaneously</em> “last month” in Toledo Ohio US.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\nYearMonth ym = YearMonth.now( z ) ;\n</code></pre>\n<p>For text, use standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format: YYYY-MM.</p>\n<pre><code>String output = ym.toString() ; \n</code></pre>\n<p>And parsing.</p>\n<pre><code>YearMonth ym = YearMonth.parse( &quot;2022-06&quot; ) ;\n</code></pre>\n"}],"owner":{"account_id":4932274,"reputation":250,"user_id":3971643,"accept_rate":45,"display_name":"biggboss2019"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":72636570,"answer_count":1,"score":0,"last_activity_date":1655319583,"creation_date":1655315450,"question_id":72635785,"body_markdown":"I am new to `regex` and I would like to only match the latest/last month from below strings, as we can see only 202206 should be matched and in future if there is 202207 then it should only match 202207. For matching, after researching I found I can use below `regex`. However, the issue is instead of matching only the latest dates it is matching both dates. How should I make my `regex` to match the latest/last month string only? Is there any if condition in regex ? I referenced this [post][1] as well. However, the regex is for Perl and not for Java. The reason I would like to get Java is because I am facing similar issue as mentioned by SO user post. My ETL tool is different.\r\n\r\nThanks in advance!\r\n\r\n    test1-202201\r\n    test1-202206 \r\n\r\n**REGEX**\r\n\r\n    /\\d{4}(0[1-9]|1[0-2])/\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12538407/complex-regex-find-most-recent-date-in-list?noredirect=1&amp;lq=1","title":"Regular expression to match latest/last month","body":"<p>I am new to <code>regex</code> and I would like to only match the latest/last month from below strings, as we can see only 202206 should be matched and in future if there is 202207 then it should only match 202207. For matching, after researching I found I can use below <code>regex</code>. However, the issue is instead of matching only the latest dates it is matching both dates. How should I make my <code>regex</code> to match the latest/last month string only? Is there any if condition in regex ? I referenced this <a href=\"https://stackoverflow.com/questions/12538407/complex-regex-find-most-recent-date-in-list?noredirect=1&amp;lq=1\">post</a> as well. However, the regex is for Perl and not for Java. The reason I would like to get Java is because I am facing similar issue as mentioned by SO user post. My ETL tool is different.</p>\n<p>Thanks in advance!</p>\n<pre><code>test1-202201\ntest1-202206 \n</code></pre>\n<p><strong>REGEX</strong></p>\n<pre><code>/\\d{4}(0[1-9]|1[0-2])/\n</code></pre>\n"},{"tags":["java","lambda","method-reference"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1655306983,"post_id":72633985,"comment_id":128302880,"body_markdown":"Does this answer your question? https://stackoverflow.com/questions/24436871/very-confused-by-java-8-comparator-type-inference","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24436871/very-confused-by-java-8-comparator-type-inference\" title=\"very confused by java 8 comparator type inference\">stackoverflow.com/questions/24436871/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655319063,"creation_date":1655307951,"answer_id":72634278,"question_id":72633985,"body_markdown":"Help the compiler a bit with types:\r\n```\r\nSet&lt;String&gt; sortedSet = new TreeSet&lt;&gt;(\r\n\t\t\t\tComparator.&lt;String, Boolean&gt;comparing(premiumStrings::contains).thenComparing(Comparator.naturalOrder()));\r\n```","title":"Restrict method reference parameter type","body":"<p>Help the compiler a bit with types:</p>\n<pre><code>Set&lt;String&gt; sortedSet = new TreeSet&lt;&gt;(\n                Comparator.&lt;String, Boolean&gt;comparing(premiumStrings::contains).thenComparing(Comparator.naturalOrder()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655310673,"creation_date":1655310673,"answer_id":72634851,"question_id":72633985,"body_markdown":"The compiler should infer the types of arguments passed to each method.\r\n\r\nAnd when we have a chain of methods, the context doesn&#39;t provide enough information for that. And the argument of every method reference (or lambda expression) would be treated as being of type `Object` and not `String`.\r\n\r\nTo avoid that, we can provide the type explicitly as a parameter of a lambda expression:\r\n```\r\nSet&lt;String&gt; premiumStrings = new HashSet&lt;&gt;();\r\n    \r\nComparator&lt;String&gt; comparator = \r\n    Comparator.comparing((String str) -&gt; premiumStrings.contains(str))\r\n        .thenComparing(Comparator.naturalOrder());\r\n        \r\nSet&lt;String&gt; sortedSet = new TreeSet&lt;&gt;(comparator);\r\n```\r\n\r\nOr by using so-called *Type Witness*: `Comparator.&lt;String&gt;comparing().thenComparing()`.\r\n\r\n*For more information, [see](https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html)*.","title":"Restrict method reference parameter type","body":"<p>The compiler should infer the types of arguments passed to each method.</p>\n<p>And when we have a chain of methods, the context doesn't provide enough information for that. And the argument of every method reference (or lambda expression) would be treated as being of type <code>Object</code> and not <code>String</code>.</p>\n<p>To avoid that, we can provide the type explicitly as a parameter of a lambda expression:</p>\n<pre><code>Set&lt;String&gt; premiumStrings = new HashSet&lt;&gt;();\n    \nComparator&lt;String&gt; comparator = \n    Comparator.comparing((String str) -&gt; premiumStrings.contains(str))\n        .thenComparing(Comparator.naturalOrder());\n        \nSet&lt;String&gt; sortedSet = new TreeSet&lt;&gt;(comparator);\n</code></pre>\n<p>Or by using so-called <em>Type Witness</em>: <code>Comparator.&lt;String&gt;comparing().thenComparing()</code>.</p>\n<p><em>For more information, <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html\" rel=\"nofollow noreferrer\">see</a></em>.</p>\n"}],"owner":{"account_id":1899638,"reputation":1454,"user_id":1715765,"accept_rate":87,"display_name":"H.v.M."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72634278,"answer_count":2,"score":0,"last_activity_date":1655319063,"creation_date":1655306602,"question_id":72633985,"body_markdown":"```\r\nSet&lt;String&gt; premiumStrings = new HashSet&lt;&gt;();\r\nSet&lt;String&gt; sortedSet = new TreeSet&lt;&gt;(Comparator.comparing(premiumStrings::contains).thenComparing(Comparator.naturalOrder()));\r\n```\r\nThis doesn&#39;t work, because `premiumStrings::contains` can take any object and not just strings. One can replace it with `(String s) -&gt; premiumStrings.contains(s)`, but is there a way to restrict the parameter type while still using a method reference lambda?\r\n\r\n(Specifically, the problem is `The method thenComparing(Comparator&lt;? super Object&gt;) in the type Comparator&lt;Object&gt; is not applicable for the arguments (Comparator&lt;Comparable&lt;? super Comparable&lt;? super T&gt;&gt;&gt;)`.)","title":"Restrict method reference parameter type","body":"<pre><code>Set&lt;String&gt; premiumStrings = new HashSet&lt;&gt;();\nSet&lt;String&gt; sortedSet = new TreeSet&lt;&gt;(Comparator.comparing(premiumStrings::contains).thenComparing(Comparator.naturalOrder()));\n</code></pre>\n<p>This doesn't work, because <code>premiumStrings::contains</code> can take any object and not just strings. One can replace it with <code>(String s) -&gt; premiumStrings.contains(s)</code>, but is there a way to restrict the parameter type while still using a method reference lambda?</p>\n<p>(Specifically, the problem is <code>The method thenComparing(Comparator&lt;? super Object&gt;) in the type Comparator&lt;Object&gt; is not applicable for the arguments (Comparator&lt;Comparable&lt;? super Comparable&lt;? super T&gt;&gt;&gt;)</code>.)</p>\n"},{"tags":["java","maven","jenkins","jenkins-pipeline"],"comments":[{"owner":{"account_id":12682625,"reputation":158,"user_id":11617104,"display_name":"RoohAllah Godazgar"},"score":0,"creation_date":1655214056,"post_id":72598771,"comment_id":128275472,"body_markdown":"Please provide some logs and a little explanation about what this jar file do. As a hunch, I think you&#39;re running a jar file that starts working and will never exit and because of that, you will stuck in this stage until you reach the Jenkins global timeout.","body":"Please provide some logs and a little explanation about what this jar file do. As a hunch, I think you&#39;re running a jar file that starts working and will never exit and because of that, you will stuck in this stage until you reach the Jenkins global timeout."},{"owner":{"account_id":21909306,"reputation":1,"user_id":16193945,"display_name":"Prajwal Shakya"},"score":0,"creation_date":1655353796,"post_id":72598771,"comment_id":128313804,"body_markdown":"yes that is whats happening...jar file starts a server. and after that process gets stuck. is there any other way of doing this. i am new in jenkins","body":"yes that is whats happening...jar file starts a server. and after that process gets stuck. is there any other way of doing this. i am new in jenkins"},{"owner":{"account_id":12682625,"reputation":158,"user_id":11617104,"display_name":"RoohAllah Godazgar"},"score":0,"creation_date":1655443015,"post_id":72598771,"comment_id":128338047,"body_markdown":"I don&#39;t see this as a matter of the tool that you&#39;re using. You shouldn&#39;t start a service inside your pipeline, unless there is an exit scenario at the end.","body":"I don&#39;t see this as a matter of the tool that you&#39;re using. You shouldn&#39;t start a service inside your pipeline, unless there is an exit scenario at the end."}],"owner":{"account_id":21909306,"reputation":1,"user_id":16193945,"display_name":"Prajwal Shakya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655318958,"creation_date":1655103226,"question_id":72598771,"body_markdown":"I have been trying to do cicd with jenkin pipeline.\r\nI have pull project from git, create jar and run the jar file\r\nJar file starts the server\r\n\r\nand after the server starts the next stage doesn&#39;t gets executed\r\nnext step is to run karate test cases.\r\n\r\nGot stuck here.\r\n\r\nThis is my pipeline script::\r\n\r\n```\r\nnode {\r\n    def mavenHome = tool name: &quot;Maven&quot;, type: &quot;maven&quot;\r\n    stage(&#39;git clone&#39;) {\r\n        checkout([$class: &#39;GitSCM&#39;, branches: [[name: &#39;*/master&#39;]], extensions: [], userRemoteConfigs: [[credentialsId: &#39;b6423164-b18d-43e0-a48f-edd10f90396d&#39;, url: &#39;https://github.com/prajdshakya93/Employee-Record-Managment-System.git&#39;]]])\r\n    }\r\n    stage(&#39;build artifact with dependencies&#39;){\r\n        bat &quot;${mavenHome}/bin/mvn clean compile assembly:single&quot;\r\n        bat(&quot;xcopy config.properties C:\\\\ProgramData\\\\Jenkins\\\\.jenkins\\\\workspace\\\\ermsPipelinePratice\\\\target&quot;)\r\n    }\r\n    stage(&#39;run jar file&#39;){\r\n        dir(&quot;target&quot;) {\r\n            bat &quot;java -jar erms-1.0-SNAPSHOT-jar-with-dependencies.jar&quot;\r\n        }\r\n    }\r\n    stage(&#39;run karate&#39;){\r\n        bat &quot;${mavenHome}/bin/mvn test -Dtest=KarateTests&quot;\r\n    }\r\n}\r\n```","title":"Deployment pipeline with Jenkins","body":"<p>I have been trying to do cicd with jenkin pipeline.\nI have pull project from git, create jar and run the jar file\nJar file starts the server</p>\n<p>and after the server starts the next stage doesn't gets executed\nnext step is to run karate test cases.</p>\n<p>Got stuck here.</p>\n<p>This is my pipeline script::</p>\n<pre><code>node {\n    def mavenHome = tool name: &quot;Maven&quot;, type: &quot;maven&quot;\n    stage('git clone') {\n        checkout([$class: 'GitSCM', branches: [[name: '*/master']], extensions: [], userRemoteConfigs: [[credentialsId: 'b6423164-b18d-43e0-a48f-edd10f90396d', url: 'https://github.com/prajdshakya93/Employee-Record-Managment-System.git']]])\n    }\n    stage('build artifact with dependencies'){\n        bat &quot;${mavenHome}/bin/mvn clean compile assembly:single&quot;\n        bat(&quot;xcopy config.properties C:\\\\ProgramData\\\\Jenkins\\\\.jenkins\\\\workspace\\\\ermsPipelinePratice\\\\target&quot;)\n    }\n    stage('run jar file'){\n        dir(&quot;target&quot;) {\n            bat &quot;java -jar erms-1.0-SNAPSHOT-jar-with-dependencies.jar&quot;\n        }\n    }\n    stage('run karate'){\n        bat &quot;${mavenHome}/bin/mvn test -Dtest=KarateTests&quot;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4558421,"reputation":2296,"user_id":3701433,"accept_rate":46,"display_name":"Prudhvi"},"score":1,"creation_date":1434304531,"post_id":30832575,"comment_id":49710055,"body_markdown":"This seems to be like a homework question. Have you tried working on it?","body":"This seems to be like a homework question. Have you tried working on it?"}],"answers":[{"tags":[],"owner":{"account_id":4902890,"reputation":2518,"user_id":3950533,"accept_rate":98,"display_name":"Henry Zhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434304704,"creation_date":1434304704,"answer_id":30832697,"question_id":30832575,"body_markdown":"4 basic `if-statements` will solve the problem, as you want to output all the possible messages if the age input meets any of the four requirements.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner scan = new Scanner(System.in);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Enter an age: &quot;);\r\n    \t\tint age = Integer.parseInt(scan.nextLine());\r\n    \t\t\r\n    \t\tif (age &lt; 16)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;You can&#39;t drive.&quot;);\r\n    \t\t}\r\n    \t\tif (age &lt; 18)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;You can&#39;t vote.&quot;);\r\n    \t\t}\r\n    \t\tif (age &lt; 25)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;You can&#39;t rent a car.&quot;);\r\n    \t\t}\r\n    \t\tif (age &gt;= 25) \r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;You can do anything that&#39;s legal.&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"WAJP to display message based on age","body":"<p>4 basic <code>if-statements</code> will solve the problem, as you want to output all the possible messages if the age input meets any of the four requirements.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class main {\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n\n        System.out.println(\"Enter an age: \");\n        int age = Integer.parseInt(scan.nextLine());\n\n        if (age &lt; 16)\n        {\n            System.out.println(\"You can't drive.\");\n        }\n        if (age &lt; 18)\n        {\n            System.out.println(\"You can't vote.\");\n        }\n        if (age &lt; 25)\n        {\n            System.out.println(\"You can't rent a car.\");\n        }\n        if (age &gt;= 25) \n        {\n            System.out.println(\"You can do anything that's legal.\");\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6467538,"reputation":7,"user_id":5008885,"display_name":"user5008885"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":849,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1655318836,"creation_date":1434303863,"question_id":30832575,"body_markdown":"WAJP program which displays a different message depending on the age given. Here are the possible responses:\r\n\r\n`age is less than 16, say &quot;You can&#39;t drive.&quot;`\r\n\r\n`age is less than 18, say &quot;You can&#39;t vote.&quot;`\r\n\r\n`age is less than 25, say &quot;You can&#39;t rent a car.&quot;`\r\n\r\n`age is 25 or over, say &quot;You can do anything that&#39;s legal.&quot;`\r\n\r\nHere&#39;s a sample run. Notice that a person who is under 16 will display three messages, one for being under 16, one for also being under 18, and one for also being under 25.","title":"WAJP to display message based on age","body":"<p>WAJP program which displays a different message depending on the age given. Here are the possible responses:</p>\n\n<p><code>age is less than 16, say \"You can't drive.\"</code></p>\n\n<p><code>age is less than 18, say \"You can't vote.\"</code></p>\n\n<p><code>age is less than 25, say \"You can't rent a car.\"</code></p>\n\n<p><code>age is 25 or over, say \"You can do anything that's legal.\"</code></p>\n\n<p>Here's a sample run. Notice that a person who is under 16 will display three messages, one for being under 16, one for also being under 18, and one for also being under 25.</p>\n"},{"tags":["java","servlets","jakarta-ee","h2","h2-console"],"answers":[{"tags":[],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655318521,"creation_date":1655318521,"answer_id":72636374,"question_id":72605936,"body_markdown":"I&#39;ve just added this two lines in *persistence.xml* file and the error fixed:\r\n\r\n    &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;user&quot;/&gt;\r\n    &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;password&quot;/&gt;\r\n\r\n----------\r\n\r\nComplete `persistence-unit` tag of persistence configuration (persistence.xml) is as follows:\r\n\r\n    &lt;persistence-unit name=&quot;PersistenceUnit&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;jta-data-source&gt;java:global/dataSource&lt;/jta-data-source&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;user&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;password&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n\r\n","title":"Getting exception on connecting Jakarta EE project to H2 database","body":"<p>I've just added this two lines in <em>persistence.xml</em> file and the error fixed:</p>\n<pre><code>&lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;user&quot;/&gt;\n&lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;password&quot;/&gt;\n</code></pre>\n<hr />\n<p>Complete <code>persistence-unit</code> tag of persistence configuration (persistence.xml) is as follows:</p>\n<pre><code>&lt;persistence-unit name=&quot;PersistenceUnit&quot; transaction-type=&quot;JTA&quot;&gt;\n    &lt;jta-data-source&gt;java:global/dataSource&lt;/jta-data-source&gt;\n    &lt;properties&gt;\n        &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;\n        &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;user&quot;/&gt;\n        &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;password&quot;/&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n"}],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":767,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72636374,"answer_count":1,"score":0,"last_activity_date":1655318521,"creation_date":1655136816,"question_id":72605936,"body_markdown":"I&#39;m trying to connect my Jakarta EE 9.1.0 project to H2 database but I get this exception:\r\n\r\n&gt; org.h2.jdbc.JdbcSQLNonTransientConnectionException: Duplicate property\r\n&gt; &quot;USER&quot; [90066-212]\r\n\r\nHere is my persistance.xml file (version=&quot;3.0&quot;) `persistence-unit` part:\r\n\r\n \r\n\r\n    &lt;persistence-unit name=&quot;PersistenceUnit&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;jta-data-source&gt;java:global/dataSource&lt;/jta-data-source&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;drop-and-create&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n\r\nAnd web.xml file (version=&quot;5.0&quot;) `data-source` and `H2Console servlet` parts:\r\n\r\n    &lt;data-source&gt;\r\n        &lt;name&gt;java:global/dataSource&lt;/name&gt;\r\n        &lt;class-name&gt;org.h2.jdbcx.JdbcDataSource&lt;/class-name&gt;\r\n        &lt;url&gt;jdbc:h2:file:D:/testdb;USER=sa;PASSWORD=123&lt;/url&gt;\r\n    &lt;/data-source&gt;\r\n    \r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;H2Console&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.h2.server.web.JakartaWebServlet&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;H2Console&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/h2/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\nAnd in pom.xml file I add this H2 dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.212&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCan someone please help fix the coding issue?\r\n\r\n","title":"Getting exception on connecting Jakarta EE project to H2 database","body":"<p>I'm trying to connect my Jakarta EE 9.1.0 project to H2 database but I get this exception:</p>\n<blockquote>\n<p>org.h2.jdbc.JdbcSQLNonTransientConnectionException: Duplicate property\n&quot;USER&quot; [90066-212]</p>\n</blockquote>\n<p>Here is my persistance.xml file (version=&quot;3.0&quot;) <code>persistence-unit</code> part:</p>\n<pre><code>&lt;persistence-unit name=&quot;PersistenceUnit&quot; transaction-type=&quot;JTA&quot;&gt;\n    &lt;jta-data-source&gt;java:global/dataSource&lt;/jta-data-source&gt;\n    &lt;properties&gt;\n        &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;drop-and-create&quot;/&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n<p>And web.xml file (version=&quot;5.0&quot;) <code>data-source</code> and <code>H2Console servlet</code> parts:</p>\n<pre><code>&lt;data-source&gt;\n    &lt;name&gt;java:global/dataSource&lt;/name&gt;\n    &lt;class-name&gt;org.h2.jdbcx.JdbcDataSource&lt;/class-name&gt;\n    &lt;url&gt;jdbc:h2:file:D:/testdb;USER=sa;PASSWORD=123&lt;/url&gt;\n&lt;/data-source&gt;\n\n&lt;servlet&gt;\n    &lt;servlet-name&gt;H2Console&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.h2.server.web.JakartaWebServlet&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;H2Console&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/h2/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>And in pom.xml file I add this H2 dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;version&gt;2.1.212&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Can someone please help fix the coding issue?</p>\n"},{"tags":["java","redis","out-of-memory","etcd","in-memory"],"comments":[{"owner":{"account_id":2749918,"reputation":1609,"user_id":2369544,"display_name":"starikoff"},"score":0,"creation_date":1655399932,"post_id":72628094,"comment_id":128328987,"body_markdown":"The case of &quot;huge payload&quot; is not worse than &quot;many small payloads&quot;; in fact, many small payloads are likely to be more problematic for JVM: they are promoted to &quot;old gen&quot;, they are all alive, full GC is triggered on them and it has to traverse a lot of objects. For this reason most caching solutions in Java offer options to store cached objects in off-heap memory.","body":"The case of &quot;huge payload&quot; is not worse than &quot;many small payloads&quot;; in fact, many small payloads are likely to be more problematic for JVM: they are promoted to &quot;old gen&quot;, they are all alive, full GC is triggered on them and it has to traverse a lot of objects. For this reason most caching solutions in Java offer options to store cached objects in off-heap memory."},{"owner":{"account_id":2749918,"reputation":1609,"user_id":2369544,"display_name":"starikoff"},"score":0,"creation_date":1655400635,"post_id":72628094,"comment_id":128329207,"body_markdown":"As to the &quot;huge&quot; payloads, I do not think that general-purpose caching solutions are tailored for that case, or you should be more specific about how &quot;huge&quot; and how many of those you expect. Also, you should not assume that you can just throw an in-memory cache working on 1 machine at the problem and it will just magically work. Physical limits of memory and disk are there; depending on the specifics of your problem, you might need an on-disk solution or storage distributed across several nodes.","body":"As to the &quot;huge&quot; payloads, I do not think that general-purpose caching solutions are tailored for that case, or you should be more specific about how &quot;huge&quot; and how many of those you expect. Also, you should not assume that you can just throw an in-memory cache working on 1 machine at the problem and it will just magically work. Physical limits of memory and disk are there; depending on the specifics of your problem, you might need an on-disk solution or storage distributed across several nodes."},{"owner":{"account_id":10676097,"reputation":324,"user_id":7859546,"display_name":"Rahul"},"score":0,"creation_date":1655434518,"post_id":72628094,"comment_id":128336895,"body_markdown":"Sorry, didn&#39;t understand your point. I don&#39;t want to accomodate request which are leading to OOM error. May be i will simplify my question.  Just wanted to have an http server (Rest) which can check from incoming request if that request can be fullfilled or not? And this checking should happen before even payload gets memory allocation in heap. May be by just looking at &#39;content-length&#39; header. But this iam not sure if it will work","body":"Sorry, didn&#39;t understand your point. I don&#39;t want to accomodate request which are leading to OOM error. May be i will simplify my question.  Just wanted to have an http server (Rest) which can check from incoming request if that request can be fullfilled or not? And this checking should happen before even payload gets memory allocation in heap. May be by just looking at &#39;content-length&#39; header. But this iam not sure if it will work"},{"owner":{"account_id":2749918,"reputation":1609,"user_id":2369544,"display_name":"starikoff"},"score":0,"creation_date":1655457421,"post_id":72628094,"comment_id":128342079,"body_markdown":"It&#39;s really up to you and depends on the details of the system. E.g. you can make a decision to reject requests that do not carry &quot;Content-Length&quot; or where &quot;Content-Length&quot; is larger than a certain threshold. Will it work in your case? Only you can tell.","body":"It&#39;s really up to you and depends on the details of the system. E.g. you can make a decision to reject requests that do not carry &quot;Content-Length&quot; or where &quot;Content-Length&quot; is larger than a certain threshold. Will it work in your case? Only you can tell."},{"owner":{"account_id":10676097,"reputation":324,"user_id":7859546,"display_name":"Rahul"},"score":0,"creation_date":1655532759,"post_id":72628094,"comment_id":128359027,"body_markdown":"Reading &quot;Content-Length&quot; doesn&#39;t make sure that payload has not been loaded in the server. Because by that time receiving server endpoint might have already loaded the body payload.","body":"Reading &quot;Content-Length&quot; doesn&#39;t make sure that payload has not been loaded in the server. Because by that time receiving server endpoint might have already loaded the body payload."},{"owner":{"account_id":2749918,"reputation":1609,"user_id":2369544,"display_name":"starikoff"},"score":0,"creation_date":1655551605,"post_id":72628094,"comment_id":128361870,"body_markdown":"&quot;Content-Length&quot; is meant to allow making decisions prior to reading the body, so any major technology _allows_ to do that. Of course you can misuse it. E.g. if you map the body to a string parameter (via JAX-RS, Spring MVC etc.), it will be read in full. If you work with the raw `HttpServletRequest` (reading the body from the input stream that you receive from it), or if you insert your own `javax.servlet.Filter` or `org.springframework.web.servlet.HandlerInterceptor` or whatever thing your technology supports, the payload will not be read until _your_ code reads it explicitly.","body":"&quot;Content-Length&quot; is meant to allow making decisions prior to reading the body, so any major technology <i>allows</i> to do that. Of course you can misuse it. E.g. if you map the body to a string parameter (via JAX-RS, Spring MVC etc.), it will be read in full. If you work with the raw <code>HttpServletRequest</code> (reading the body from the input stream that you receive from it), or if you insert your own <code>javax.servlet.Filter</code> or <code>org.springframework.web.servlet.HandlerInterceptor</code> or whatever thing your technology supports, the payload will not be read until <i>your</i> code reads it explicitly."},{"owner":{"account_id":2749918,"reputation":1609,"user_id":2369544,"display_name":"starikoff"},"score":0,"creation_date":1655551895,"post_id":72628094,"comment_id":128361927,"body_markdown":"...and also your code can be written in a way to not read more than N bytes, no matter what.","body":"...and also your code can be written in a way to not read more than N bytes, no matter what."}],"owner":{"account_id":10676097,"reputation":324,"user_id":7859546,"display_name":"Rahul"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655318186,"creation_date":1655281447,"question_id":72628094,"body_markdown":"Assume, there is a java process which acts as a in-memory cache server and stores data into it. \r\nThere are multiple clients which continuously can push data of any size. In case client tries to push data more than what is available in jvm heap size of server, it throws OOM error and eventually process goes into in-responsive state.\r\n\r\nI am sure this is not unique/specialized requirement. Problem simply boils down to - **How to handle this kind of scenario gracefully?** Caching server (jvm) should somehow instead of throwing OOM error, it should just reject the request itself?\r\n\r\n\r\n*Note - limitation cannot be put in client request payload size.*\r\n\r\n\r\n**How these things (huge payload) are managed in redis or any other in-memory caching server?**","title":"How to avoid in-responsiveness of in-memory caching process triggered due to OutOFMemory Error","body":"<p>Assume, there is a java process which acts as a in-memory cache server and stores data into it.\nThere are multiple clients which continuously can push data of any size. In case client tries to push data more than what is available in jvm heap size of server, it throws OOM error and eventually process goes into in-responsive state.</p>\n<p>I am sure this is not unique/specialized requirement. Problem simply boils down to - <strong>How to handle this kind of scenario gracefully?</strong> Caching server (jvm) should somehow instead of throwing OOM error, it should just reject the request itself?</p>\n<p><em>Note - limitation cannot be put in client request payload size.</em></p>\n<p><strong>How these things (huge payload) are managed in redis or any other in-memory caching server?</strong></p>\n"},{"tags":["java","android","kotlin","call","android-workmanager"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1655319637,"post_id":72636317,"comment_id":128307338,"body_markdown":"You cannot start an activity from the background on modern versions of Android.","body":"You cannot start an activity from the background on modern versions of Android."},{"owner":{"account_id":20035349,"reputation":11,"user_id":14687207,"display_name":"Bryan Brooks"},"score":0,"creation_date":1655319689,"post_id":72636317,"comment_id":128307352,"body_markdown":"And what&#39;s solution?","body":"And what&#39;s solution?"},{"owner":{"account_id":20035349,"reputation":11,"user_id":14687207,"display_name":"Bryan Brooks"},"score":0,"creation_date":1655320033,"post_id":72636317,"comment_id":128307466,"body_markdown":"can I call phone without Intent?","body":"can I call phone without Intent?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1655320731,"post_id":72636317,"comment_id":128307680,"body_markdown":"&quot;can I call phone without Intent?&quot; -- an ordinary app cannot. &quot;And what&#39;s solution?&quot; -- raise a `Notification` and, if the user clicks on it, start the call.","body":"&quot;can I call phone without Intent?&quot; -- an ordinary app cannot. &quot;And what&#39;s solution?&quot; -- raise a <code>Notification</code> and, if the user clicks on it, start the call."},{"owner":{"account_id":20035349,"reputation":11,"user_id":14687207,"display_name":"Bryan Brooks"},"score":0,"creation_date":1655320944,"post_id":72636317,"comment_id":128307753,"body_markdown":"my app idea is calling phone after certain time set user. Without additional click","body":"my app idea is calling phone after certain time set user. Without additional click"},{"owner":{"account_id":9579833,"reputation":1418,"user_id":7114714,"display_name":"Yavor Mitev"},"score":0,"creation_date":1655390170,"post_id":72636317,"comment_id":128325314,"body_markdown":"I think that you should have some error in the logs. Please check.","body":"I think that you should have some error in the logs. Please check."}],"owner":{"account_id":20035349,"reputation":11,"user_id":14687207,"display_name":"Bryan Brooks"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655318177,"creation_date":1655318177,"question_id":72636317,"body_markdown":"I get &quot;calling...&quot; in logs, but it doesn&#39;t call. I&#39;m using WorkManager. I also tried AlarmManager, Service, BroadcastReceiver, but it didn&#39;t work.\r\n\r\n      public void doAction(){\r\n        context = getApplicationContext();\r\n        long phone = Long.parseLong(Preferences.getLastNum(context));\r\n        String message = Preferences.getLastMessage(context);\r\n        String action = Preferences.getAction(context);\r\n        Log.i(TAG, action);\r\n        if(action != null) {\r\n            if (action.equals(&quot;call&quot;)) {\r\n                Log.i(TAG, &quot;calling...&quot;);\r\n                Intent i = new Intent(Intent.ACTION_CALL);\r\n                i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                i.addFlags(Intent.FLAG_FROM_BACKGROUND);\r\n                i.setData(Uri.parse(&quot;tel:&quot; + phone));\r\n                context.startActivity(i);\r\n            } else if (action.equals(&quot;sms&quot;)){\r\n                Log.i(TAG, &quot;sending...&quot;);\r\n                SmsManager smsManager = SmsManager.getDefault();\r\n                smsManager.sendTextMessage(String.valueOf(phone), null, message, null, null);\r\n            }\r\n        } else{\r\n            Log.i(TAG, &quot;ERROR: action = null&quot;);\r\n          }\r\n           Preferences.clearPreferences(context, &quot;0&quot;);\r\n       }","title":"Can&#39;t call phone in background","body":"<p>I get &quot;calling...&quot; in logs, but it doesn't call. I'm using WorkManager. I also tried AlarmManager, Service, BroadcastReceiver, but it didn't work.</p>\n<pre><code>  public void doAction(){\n    context = getApplicationContext();\n    long phone = Long.parseLong(Preferences.getLastNum(context));\n    String message = Preferences.getLastMessage(context);\n    String action = Preferences.getAction(context);\n    Log.i(TAG, action);\n    if(action != null) {\n        if (action.equals(&quot;call&quot;)) {\n            Log.i(TAG, &quot;calling...&quot;);\n            Intent i = new Intent(Intent.ACTION_CALL);\n            i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            i.addFlags(Intent.FLAG_FROM_BACKGROUND);\n            i.setData(Uri.parse(&quot;tel:&quot; + phone));\n            context.startActivity(i);\n        } else if (action.equals(&quot;sms&quot;)){\n            Log.i(TAG, &quot;sending...&quot;);\n            SmsManager smsManager = SmsManager.getDefault();\n            smsManager.sendTextMessage(String.valueOf(phone), null, message, null, null);\n        }\n    } else{\n        Log.i(TAG, &quot;ERROR: action = null&quot;);\n      }\n       Preferences.clearPreferences(context, &quot;0&quot;);\n   }\n</code></pre>\n"},{"tags":["java","amazon-web-services","docker","networking","amazon-ec2"],"answers":[{"tags":[],"owner":{"account_id":15768772,"reputation":372,"user_id":13930970,"display_name":"furydrive"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655317811,"creation_date":1655317811,"answer_id":72636254,"question_id":72635445,"body_markdown":"The EC2 Instance role has to be added as a resource that can use the SQS queue, in other words you need to modify the SQS Policy and add the EC2 instance role in the resource ARN, also make sure the instance role is allowed to talk to SQS by adding the relevant policy under IAM service.","title":"ECS EC2 Instance unable to make HTTP requests","body":"<p>The EC2 Instance role has to be added as a resource that can use the SQS queue, in other words you need to modify the SQS Policy and add the EC2 instance role in the resource ARN, also make sure the instance role is allowed to talk to SQS by adding the relevant policy under IAM service.</p>\n"}],"owner":{"account_id":25476111,"reputation":45,"user_id":19273327,"display_name":"carsona"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655317811,"creation_date":1655313628,"question_id":72635445,"body_markdown":"Hi I am using ECS to run Docker tasks in EC2 instances. The tasks are run in Java and are looking to write to a SQS. The problem is my EC2 instance does not seem to be able to make any HTTP requests - this is what the Java error is when trying to write to that SQS Queue:\r\n\r\n```\r\nException in thread &quot;main&quot; com.amazonaws.SdkClientException: Unable to execute HTTP request. failed: connect timed out\r\n```\r\n\r\nI have tested command line commands such as curl and the connection also times out in the task but works fine if I connect and run it on the EC2 instance the task is being run on.\r\n\r\nThe same code via ECS runs fine in Fargate.\r\nMy EC2 instances are in public subnets, have a public IP assigned to them and the security group that is assigned to these instance have the following rules Inbound and Outbound: \r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hxcNp.png\r\n\r\nDoes anybody have any ideas as to why the tasks in these EC2 instances always timeout on HTTP requests thanks.\r\n\r\nEdit(Adding Dockerfile) -\r\nDockerFile:\r\n```\r\nFROM alpine/git as clone\r\nWORKDIR /app\r\nRUN git clone https://GITLINK.git\r\n\r\nFROM maven:3.5-jdk-8-alpine as build\r\nWORKDIR /app\r\nCOPY --from=clone /app/aws_poll /app\r\nRUN mvn package\r\n\r\nFROM openjdk:8-jre-alpine\r\nWORKDIR /app\r\n\r\nCOPY --from=build /app/target/aws-examples-1.0.jar /app\r\nEXPOSE 8080\r\nEXPOSE 443\r\nEXPOSE 80\r\nENTRYPOINT [&quot;sh&quot;, &quot;-c&quot;]\r\nCMD [&quot;java -jar aws-sqs-examples-1.0.jar&quot;]\r\nHEALTHCHECK --interval=25s --timeout=3s --retries=2 CMD [&quot;java&quot;, &quot;HealthCheck&quot;, &quot;||&quot;, &quot;echo&quot;, &quot;HEALTH CHECK:FAILED&quot;]\r\n```\r\n","title":"ECS EC2 Instance unable to make HTTP requests","body":"<p>Hi I am using ECS to run Docker tasks in EC2 instances. The tasks are run in Java and are looking to write to a SQS. The problem is my EC2 instance does not seem to be able to make any HTTP requests - this is what the Java error is when trying to write to that SQS Queue:</p>\n<pre><code>Exception in thread &quot;main&quot; com.amazonaws.SdkClientException: Unable to execute HTTP request. failed: connect timed out\n</code></pre>\n<p>I have tested command line commands such as curl and the connection also times out in the task but works fine if I connect and run it on the EC2 instance the task is being run on.</p>\n<p>The same code via ECS runs fine in Fargate.\nMy EC2 instances are in public subnets, have a public IP assigned to them and the security group that is assigned to these instance have the following rules Inbound and Outbound:</p>\n<p><a href=\"https://i.stack.imgur.com/hxcNp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hxcNp.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anybody have any ideas as to why the tasks in these EC2 instances always timeout on HTTP requests thanks.</p>\n<p>Edit(Adding Dockerfile) -\nDockerFile:</p>\n<pre><code>FROM alpine/git as clone\nWORKDIR /app\nRUN git clone https://GITLINK.git\n\nFROM maven:3.5-jdk-8-alpine as build\nWORKDIR /app\nCOPY --from=clone /app/aws_poll /app\nRUN mvn package\n\nFROM openjdk:8-jre-alpine\nWORKDIR /app\n\nCOPY --from=build /app/target/aws-examples-1.0.jar /app\nEXPOSE 8080\nEXPOSE 443\nEXPOSE 80\nENTRYPOINT [&quot;sh&quot;, &quot;-c&quot;]\nCMD [&quot;java -jar aws-sqs-examples-1.0.jar&quot;]\nHEALTHCHECK --interval=25s --timeout=3s --retries=2 CMD [&quot;java&quot;, &quot;HealthCheck&quot;, &quot;||&quot;, &quot;echo&quot;, &quot;HEALTH CHECK:FAILED&quot;]\n</code></pre>\n"},{"tags":["java","spring","exception","spring-security"],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655316725,"creation_date":1655315009,"answer_id":72635690,"question_id":72635568,"body_markdown":"It&#39;s hard to answer exactly without seeing your security configuration, but I suspect that you haven&#39;t registered the handler?  Assuming that `CustomAccessDeniedHandler` is a bean called `customAccessDeniedHandler`, this should enable it.\r\n\r\n\r\n    @Configuration\r\n    public class WebSecurityConfig {\r\n\r\n      @Bean\r\n      public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        // all HttpSecurity configurations here\r\n\r\n        // add this\r\n        http.exceptionHandling().accessDeniedHandler(customAccessDeniedHandler);\r\n        return http.build();\r\n      }\r\n    }","title":"Cannot use AccessDeniedHandler of spring security because of class extending throwable","body":"<p>It's hard to answer exactly without seeing your security configuration, but I suspect that you haven't registered the handler?  Assuming that <code>CustomAccessDeniedHandler</code> is a bean called <code>customAccessDeniedHandler</code>, this should enable it.</p>\n<pre><code>@Configuration\npublic class WebSecurityConfig {\n\n  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    // all HttpSecurity configurations here\n\n    // add this\n    http.exceptionHandling().accessDeniedHandler(customAccessDeniedHandler);\n    return http.build();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":19936114,"reputation":562,"user_id":14608747,"display_name":"Paul Serre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655317585,"creation_date":1655314329,"question_id":72635568,"body_markdown":"I have an issue when trying to logging URI of endpoint when a user try to access a secured Resource.\r\n\r\nI&#39;ve created an instance of AccessDeniedHandler :\r\n\r\n    public class CustomAccessDeniedHandler implements AccessDeniedHandler {\r\n    \r\n          private final static Logger logger = Logger.getLogger(CustomAccessDeniedHandler.class);\r\n        \r\n          @Override\r\n          public void handle(\r\n              HttpServletRequest request,\r\n              HttpServletResponse response,\r\n              AccessDeniedException exc) throws IOException, ServletException {\r\n        \r\n            Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n            if (auth != null) {\r\n              logger.warn(&quot;User: &quot; + auth.getName()\r\n                  + &quot; attempted to access the protected URL: &quot;\r\n                  + request.getRequestURI());\r\n            }\r\n        \r\n          }\r\n        }\r\n\r\nBut the handleMethod is never triggered and I don&#39;t understand why. In the project we have this class, and I suppose that it catch the exception before my `AccessDeniedHandler`, but I don&#39;t know o to deal with that.\r\n\r\n    @Provider\r\n    public class ExceptionMH extends Throwable implements ExceptionMapper&lt;Exception&gt; {\r\n    \r\n      private static final long serialVersionUID = 1L;\r\n      private static final Logger logger = Logger.getLogger(ExceptionMH.class);\r\n    \r\n      private void exceptionWarning(Exception e) {\r\n        logger.warn(&quot;[ExceptionMH] Warn: &quot;, e);\r\n      }\r\n    \r\n      private void exceptionError(Exception e) {\r\n        logger.error(&quot;[ExceptionMH] Error: &quot;, e);\r\n      }\r\n    \r\n      @Override\r\n      public Response toResponse(Exception exception) {\r\n        if (exception.getClass() == HttpRequestMethodNotSupportedException.class || exception.getClass() == NotFoundException.class) {\r\n          this.exceptionWarning(exception);\r\n          return Response.status(404).build();\r\n        } else if (exception.getClass() == CardException.class) {\r\n          this.exceptionWarning(exception);\r\n          return Response.status(200).build();\r\n        } else if (exception.getClass() == APIException.class) {\r\n          String msg = ((APIException) exception).getRawResponse();\r\n          logger.error(&quot;Facebook API exception: &quot; + msg, exception);\r\n          return Response.status(500).entity(msg).build();\r\n        } else if (exception.getClass() == AccessDeniedException.class) {\r\n          this.exceptionError(exception);\r\n          return Response.status(401).entity(&quot;{ \\&quot;error\\&quot;: \\&quot;&quot; + exception.getMessage() + &quot;\\&quot; }&quot;).build();\r\n        } else {\r\n          this.exceptionError(exception);\r\n          return Response.status(500).build();\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\nWhat should I do to make AccessDeniedHandler triggered?\r\n\r\nEDIT: Here&#39;s my configuration. The AccessDeniedHandler bean is declared and well added.\r\n\r\n\r\n    &lt;b:beans xmlns=&quot;http://www.springframework.org/schema/security&quot;\r\n             xmlns:b=&quot;http://www.springframework.org/schema/beans&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n             xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\t\t\thttp://www.springframework.org/schema/security https://www.springframework.org/schema/security/spring-security.xsd\r\n            http://www.springframework.org/schema/util\r\n            http://www.springframework.org/schema/util/spring-util.xsd&quot;&gt;\r\n    \r\n      &lt;global-method-security pre-post-annotations=&quot;enabled&quot; proxy-target-class=&quot;true&quot;/&gt;\r\n    \r\n      &lt;http entry-point-ref=&quot;authEntryPoint&quot; create-session=&quot;never&quot; &gt;\r\n        &lt;cors configuration-source-ref=&quot;corsSource&quot;/&gt;\r\n        &lt;csrf disabled=&quot;true&quot;/&gt;\r\n        &lt;custom-filter ref=&quot;authFilter&quot; before=&quot;PRE_AUTH_FILTER&quot;/&gt;\r\n        &lt;access-denied-handler ref=&quot;customAccessDeniedHandler&quot;/&gt;\r\n      &lt;/http&gt;\r\n    \r\n      &lt;authentication-manager alias=&quot;authenticationManager&quot;&gt;\r\n        &lt;authentication-provider ref=&quot;daoAuthenticationProvider&quot;/&gt;\r\n      &lt;/authentication-manager&gt;\r\n    \r\n      &lt;b:bean name=&quot;customAccessDeniedHandler&quot;\r\n            class=&quot;io.markethero.security.CustomAccessDeniedHandler&quot; /&gt;\r\n    \r\n      &lt;b:bean id=&quot;daoAuthenticationProvider&quot; class=&quot;org.springframework.security.authentication.dao.DaoAuthenticationProvider&quot;&gt;\r\n        &lt;b:property name=&quot;userDetailsService&quot;  ref=&quot;userLoginService&quot;/&gt;\r\n        &lt;b:property name=&quot;passwordEncoder&quot; ref=&quot;customizePasswordEncoder&quot;/&gt;\r\n      &lt;/b:bean&gt;\r\n    \r\n      &lt;b:bean id=&quot;customizePasswordEncoder&quot; class=&quot;io.markethero.security.CustomizePasswordEncoder&quot;/&gt;\r\n    \r\n      &lt;b:bean id=&quot;authFilter&quot; class=&quot;io.markethero.security.AuthFilter&quot;/&gt;\r\n    \r\n      &lt;b:bean id=&quot;authEntryPoint&quot; class=&quot;io.markethero.security.AuthEntryPoint&quot;/&gt;\r\n    \r\n      &lt;b:bean id=&quot;corsSource&quot; class=&quot;org.springframework.web.cors.UrlBasedCorsConfigurationSource&quot;&gt;\r\n        &lt;b:property name=&quot;corsConfigurations&quot;&gt;\r\n          &lt;util:map&gt;\r\n            &lt;b:entry key=&quot;/**&quot;&gt;\r\n              &lt;b:bean class=&quot;org.springframework.web.cors.CorsConfiguration&quot;&gt;\r\n                &lt;b:property name=&quot;allowCredentials&quot; value=&quot;true&quot;/&gt;\r\n                &lt;b:property name=&quot;allowedHeaders&quot;&gt;\r\n                  &lt;util:list&gt;\r\n                    &lt;b:value&gt;Authorization&lt;/b:value&gt;\r\n                    &lt;b:value&gt;Content-Type&lt;/b:value&gt;\r\n                  &lt;/util:list&gt;\r\n                &lt;/b:property&gt;\r\n                &lt;b:property name=&quot;exposedHeaders&quot;&gt;\r\n                  &lt;b:list&gt;\r\n                    &lt;b:value&gt;Account-Locked&lt;/b:value&gt;\r\n                    &lt;b:value&gt;Account-Disabled&lt;/b:value&gt;\r\n                    &lt;b:value&gt;Bad-Credentials&lt;/b:value&gt;\r\n                  &lt;/b:list&gt;\r\n                &lt;/b:property&gt;\r\n                &lt;b:property name=&quot;allowedMethods&quot;&gt;\r\n                  &lt;util:list&gt;\r\n                    &lt;b:value&gt;POST&lt;/b:value&gt;\r\n                    &lt;b:value&gt;GET&lt;/b:value&gt;\r\n                    &lt;b:value&gt;PUT&lt;/b:value&gt;\r\n                    &lt;b:value&gt;DELETE&lt;/b:value&gt;\r\n                    &lt;b:value&gt;OPTIONS&lt;/b:value&gt;\r\n                  &lt;/util:list&gt;\r\n                &lt;/b:property&gt;\r\n                &lt;b:property name=&quot;allowedOrigins&quot; value=&quot;*&quot;/&gt;\r\n              &lt;/b:bean&gt;\r\n            &lt;/b:entry&gt;\r\n          &lt;/util:map&gt;\r\n        &lt;/b:property&gt;\r\n      &lt;/b:bean&gt;\r\n    \r\n    \r\n    &lt;/b:beans&gt;","title":"Cannot use AccessDeniedHandler of spring security because of class extending throwable","body":"<p>I have an issue when trying to logging URI of endpoint when a user try to access a secured Resource.</p>\n<p>I've created an instance of AccessDeniedHandler :</p>\n<pre><code>public class CustomAccessDeniedHandler implements AccessDeniedHandler {\n\n      private final static Logger logger = Logger.getLogger(CustomAccessDeniedHandler.class);\n    \n      @Override\n      public void handle(\n          HttpServletRequest request,\n          HttpServletResponse response,\n          AccessDeniedException exc) throws IOException, ServletException {\n    \n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n        if (auth != null) {\n          logger.warn(&quot;User: &quot; + auth.getName()\n              + &quot; attempted to access the protected URL: &quot;\n              + request.getRequestURI());\n        }\n    \n      }\n    }\n</code></pre>\n<p>But the handleMethod is never triggered and I don't understand why. In the project we have this class, and I suppose that it catch the exception before my <code>AccessDeniedHandler</code>, but I don't know o to deal with that.</p>\n<pre><code>@Provider\npublic class ExceptionMH extends Throwable implements ExceptionMapper&lt;Exception&gt; {\n\n  private static final long serialVersionUID = 1L;\n  private static final Logger logger = Logger.getLogger(ExceptionMH.class);\n\n  private void exceptionWarning(Exception e) {\n    logger.warn(&quot;[ExceptionMH] Warn: &quot;, e);\n  }\n\n  private void exceptionError(Exception e) {\n    logger.error(&quot;[ExceptionMH] Error: &quot;, e);\n  }\n\n  @Override\n  public Response toResponse(Exception exception) {\n    if (exception.getClass() == HttpRequestMethodNotSupportedException.class || exception.getClass() == NotFoundException.class) {\n      this.exceptionWarning(exception);\n      return Response.status(404).build();\n    } else if (exception.getClass() == CardException.class) {\n      this.exceptionWarning(exception);\n      return Response.status(200).build();\n    } else if (exception.getClass() == APIException.class) {\n      String msg = ((APIException) exception).getRawResponse();\n      logger.error(&quot;Facebook API exception: &quot; + msg, exception);\n      return Response.status(500).entity(msg).build();\n    } else if (exception.getClass() == AccessDeniedException.class) {\n      this.exceptionError(exception);\n      return Response.status(401).entity(&quot;{ \\&quot;error\\&quot;: \\&quot;&quot; + exception.getMessage() + &quot;\\&quot; }&quot;).build();\n    } else {\n      this.exceptionError(exception);\n      return Response.status(500).build();\n    }\n  }\n}\n</code></pre>\n<p>What should I do to make AccessDeniedHandler triggered?</p>\n<p>EDIT: Here's my configuration. The AccessDeniedHandler bean is declared and well added.</p>\n<pre><code>&lt;b:beans xmlns=&quot;http://www.springframework.org/schema/security&quot;\n         xmlns:b=&quot;http://www.springframework.org/schema/beans&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\n         xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd\n                http://www.springframework.org/schema/security https://www.springframework.org/schema/security/spring-security.xsd\n        http://www.springframework.org/schema/util\n        http://www.springframework.org/schema/util/spring-util.xsd&quot;&gt;\n\n  &lt;global-method-security pre-post-annotations=&quot;enabled&quot; proxy-target-class=&quot;true&quot;/&gt;\n\n  &lt;http entry-point-ref=&quot;authEntryPoint&quot; create-session=&quot;never&quot; &gt;\n    &lt;cors configuration-source-ref=&quot;corsSource&quot;/&gt;\n    &lt;csrf disabled=&quot;true&quot;/&gt;\n    &lt;custom-filter ref=&quot;authFilter&quot; before=&quot;PRE_AUTH_FILTER&quot;/&gt;\n    &lt;access-denied-handler ref=&quot;customAccessDeniedHandler&quot;/&gt;\n  &lt;/http&gt;\n\n  &lt;authentication-manager alias=&quot;authenticationManager&quot;&gt;\n    &lt;authentication-provider ref=&quot;daoAuthenticationProvider&quot;/&gt;\n  &lt;/authentication-manager&gt;\n\n  &lt;b:bean name=&quot;customAccessDeniedHandler&quot;\n        class=&quot;io.markethero.security.CustomAccessDeniedHandler&quot; /&gt;\n\n  &lt;b:bean id=&quot;daoAuthenticationProvider&quot; class=&quot;org.springframework.security.authentication.dao.DaoAuthenticationProvider&quot;&gt;\n    &lt;b:property name=&quot;userDetailsService&quot;  ref=&quot;userLoginService&quot;/&gt;\n    &lt;b:property name=&quot;passwordEncoder&quot; ref=&quot;customizePasswordEncoder&quot;/&gt;\n  &lt;/b:bean&gt;\n\n  &lt;b:bean id=&quot;customizePasswordEncoder&quot; class=&quot;io.markethero.security.CustomizePasswordEncoder&quot;/&gt;\n\n  &lt;b:bean id=&quot;authFilter&quot; class=&quot;io.markethero.security.AuthFilter&quot;/&gt;\n\n  &lt;b:bean id=&quot;authEntryPoint&quot; class=&quot;io.markethero.security.AuthEntryPoint&quot;/&gt;\n\n  &lt;b:bean id=&quot;corsSource&quot; class=&quot;org.springframework.web.cors.UrlBasedCorsConfigurationSource&quot;&gt;\n    &lt;b:property name=&quot;corsConfigurations&quot;&gt;\n      &lt;util:map&gt;\n        &lt;b:entry key=&quot;/**&quot;&gt;\n          &lt;b:bean class=&quot;org.springframework.web.cors.CorsConfiguration&quot;&gt;\n            &lt;b:property name=&quot;allowCredentials&quot; value=&quot;true&quot;/&gt;\n            &lt;b:property name=&quot;allowedHeaders&quot;&gt;\n              &lt;util:list&gt;\n                &lt;b:value&gt;Authorization&lt;/b:value&gt;\n                &lt;b:value&gt;Content-Type&lt;/b:value&gt;\n              &lt;/util:list&gt;\n            &lt;/b:property&gt;\n            &lt;b:property name=&quot;exposedHeaders&quot;&gt;\n              &lt;b:list&gt;\n                &lt;b:value&gt;Account-Locked&lt;/b:value&gt;\n                &lt;b:value&gt;Account-Disabled&lt;/b:value&gt;\n                &lt;b:value&gt;Bad-Credentials&lt;/b:value&gt;\n              &lt;/b:list&gt;\n            &lt;/b:property&gt;\n            &lt;b:property name=&quot;allowedMethods&quot;&gt;\n              &lt;util:list&gt;\n                &lt;b:value&gt;POST&lt;/b:value&gt;\n                &lt;b:value&gt;GET&lt;/b:value&gt;\n                &lt;b:value&gt;PUT&lt;/b:value&gt;\n                &lt;b:value&gt;DELETE&lt;/b:value&gt;\n                &lt;b:value&gt;OPTIONS&lt;/b:value&gt;\n              &lt;/util:list&gt;\n            &lt;/b:property&gt;\n            &lt;b:property name=&quot;allowedOrigins&quot; value=&quot;*&quot;/&gt;\n          &lt;/b:bean&gt;\n        &lt;/b:entry&gt;\n      &lt;/util:map&gt;\n    &lt;/b:property&gt;\n  &lt;/b:bean&gt;\n\n\n&lt;/b:beans&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","hikaricp"],"comments":[{"owner":{"account_id":8986202,"reputation":194,"user_id":6699701,"display_name":"Amol Gharpure"},"score":0,"creation_date":1655317710,"post_id":72636192,"comment_id":128306652,"body_markdown":"https://stackoverflow.com/questions/58695889/how-to-lazy-initialize-spring-boot-datasourcespring-data","body":"<a href=\"https://stackoverflow.com/questions/58695889/how-to-lazy-initialize-spring-boot-datasourcespring-data\" title=\"how to lazy initialize spring boot datasourcespring data\">stackoverflow.com/questions/58695889/&hellip;</a>"},{"owner":{"account_id":20445457,"reputation":11,"user_id":15001378,"display_name":"Arpan Vaidya"},"score":0,"creation_date":1655318058,"post_id":72636192,"comment_id":128306758,"body_markdown":"Tried the solutions to the above questions but it does not have any effect.","body":"Tried the solutions to the above questions but it does not have any effect."},{"owner":{"account_id":8986202,"reputation":194,"user_id":6699701,"display_name":"Amol Gharpure"},"score":0,"creation_date":1655318198,"post_id":72636192,"comment_id":128306806,"body_markdown":"What is your springboot version ?","body":"What is your springboot version ?"},{"owner":{"account_id":8889721,"reputation":166,"user_id":6636772,"display_name":"anand"},"score":1,"creation_date":1655325177,"post_id":72636192,"comment_id":128309098,"body_markdown":"Database Initialization happen when the service starts, are you trying to delay this untill the first query attempt is made? so basically you want to initiate the DB connection when you are trying to call the first query?","body":"Database Initialization happen when the service starts, are you trying to delay this untill the first query attempt is made? so basically you want to initiate the DB connection when you are trying to call the first query?"},{"owner":{"account_id":20445457,"reputation":11,"user_id":15001378,"display_name":"Arpan Vaidya"},"score":2,"creation_date":1655375858,"post_id":72636192,"comment_id":128320151,"body_markdown":"@anand - Yes, We want to delay it until the first query happens and also process should not fail if DB is not available.","body":"@anand - Yes, We want to delay it until the first query happens and also process should not fail if DB is not available."},{"owner":{"account_id":20445457,"reputation":11,"user_id":15001378,"display_name":"Arpan Vaidya"},"score":0,"creation_date":1655375878,"post_id":72636192,"comment_id":128320157,"body_markdown":"@AmolGharpure - We&#39;re on version 2.4","body":"@AmolGharpure - We&#39;re on version 2.4"}],"owner":{"account_id":20445457,"reputation":11,"user_id":15001378,"display_name":"Arpan Vaidya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655317526,"creation_date":1655317526,"question_id":72636192,"body_markdown":"I want to prevent database initialization, including Hikari DataSource pool initialization, until the first query attempt has been made. So far I have tried \r\n\r\n - setting `spring.datasource.hikari.minimumIdle=0` and `spring.datasource.hikari.initializationFailTimeout=-1` in the `application.properties`\r\n - Setting `@Lazy` to Entity and Repository\r\n\r\nBut it is not working. Is anyone able to successfully achieve this?","title":"Lazy Database initialization with Spring Boot JPA","body":"<p>I want to prevent database initialization, including Hikari DataSource pool initialization, until the first query attempt has been made. So far I have tried</p>\n<ul>\n<li>setting <code>spring.datasource.hikari.minimumIdle=0</code> and <code>spring.datasource.hikari.initializationFailTimeout=-1</code> in the <code>application.properties</code></li>\n<li>Setting <code>@Lazy</code> to Entity and Repository</li>\n</ul>\n<p>But it is not working. Is anyone able to successfully achieve this?</p>\n"},{"tags":["java","android-studio","security"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1588010557,"post_id":61461150,"comment_id":108729876,"body_markdown":"Me myself, I doubt they&#39;d let you do this. It could potentially open up scenarios where people think they are setting a new password but in reality it is also being stolen by the app.","body":"Me myself, I doubt they&#39;d let you do this. It could potentially open up scenarios where people think they are setting a new password but in reality it is also being stolen by the app."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1588064955,"post_id":61461150,"comment_id":108749205,"body_markdown":"Enforcing a device password should be done using the [Device administration API](https://developer.android.com/guide/topics/admin/device-admin). If your app is registered as device admin app you can set this policy and the system will force the user to set a password.","body":"Enforcing a device password should be done using the <a href=\"https://developer.android.com/guide/topics/admin/device-admin\" rel=\"nofollow noreferrer\">Device administration API</a>. If your app is registered as device admin app you can set this policy and the system will force the user to set a password."}],"answers":[{"tags":[],"owner":{"account_id":11779615,"reputation":406,"user_id":8619742,"display_name":"Mohammad S. Dhedhi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655317318,"creation_date":1655317318,"answer_id":72636153,"question_id":61461150,"body_markdown":"You need to use the &quot;setPasswordQuality&quot; API of the android DevicePolicyManager. You app has to be registered as a device admin app in order for it to use this API. This API will let you specify password quality as something, numeric, alphanumeric etc. You can also look at other APIs like &quot;setPasswordMinimumLength&quot;, &quot;setPasswordHistoryLength&quot;, &quot;setPasswordMinimumUpperCase&quot; for more control over what type/length of password you want your endusers to use. All this is only possible if you app is a device admin app.","title":"Open device password change programmatically android","body":"<p>You need to use the &quot;setPasswordQuality&quot; API of the android DevicePolicyManager. You app has to be registered as a device admin app in order for it to use this API. This API will let you specify password quality as something, numeric, alphanumeric etc. You can also look at other APIs like &quot;setPasswordMinimumLength&quot;, &quot;setPasswordHistoryLength&quot;, &quot;setPasswordMinimumUpperCase&quot; for more control over what type/length of password you want your endusers to use. All this is only possible if you app is a device admin app.</p>\n"}],"owner":{"account_id":18420536,"reputation":11,"user_id":13418287,"display_name":"SMC09"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":931,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655317318,"creation_date":1587997684,"question_id":61461150,"body_markdown":"How can I programmatically open the Change Password Screen under Settings -&gt; Security -&gt; Choose screen lock -&gt; Password.\r\n\r\nRight now I am using the following code and its getting me as far as Settings -&gt; Security -&gt; Choose screen lock, but I want to force the Password option. Not swipe or pin option.\r\n\r\n```\r\nR.id.change_phone_password:\r\nIntent change = new Intent(DevicePolicyManager.ACTION_SET_NEW_PASSWORD);\r\nstartActivity(change);\r\n```\r\nI am running Android 10.","title":"Open device password change programmatically android","body":"<p>How can I programmatically open the Change Password Screen under Settings -> Security -> Choose screen lock -> Password.</p>\n\n<p>Right now I am using the following code and its getting me as far as Settings -> Security -> Choose screen lock, but I want to force the Password option. Not swipe or pin option.</p>\n\n<pre><code>R.id.change_phone_password:\nIntent change = new Intent(DevicePolicyManager.ACTION_SET_NEW_PASSWORD);\nstartActivity(change);\n</code></pre>\n\n<p>I am running Android 10.</p>\n"},{"tags":["java","ssl","https","android-security","x509trustmanager"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":4,"creation_date":1655310959,"post_id":72634804,"comment_id":128304418,"body_markdown":"Perhaps a better question is why you&#39;ve eliminated hostname verification and almost all relevant certificate checking? This makes the code completely insecure for most scenarios.","body":"Perhaps a better question is why you&#39;ve eliminated hostname verification and almost all relevant certificate checking? This makes the code completely insecure for most scenarios."},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":2,"creation_date":1655311389,"post_id":72634804,"comment_id":128304536,"body_markdown":"If you&#39;ve stubbed out so much of the verification, what security benefit are you looking to realize with SSL? Consider getting a proper SSL certificate for whatever server you&#39;re talking to, e.g. using the free letsencrypt.org service (no affiliation or specific endorsement)","body":"If you&#39;ve stubbed out so much of the verification, what security benefit are you looking to realize with SSL? Consider getting a proper SSL certificate for whatever server you&#39;re talking to, e.g. using the free letsencrypt.org service (no affiliation or specific endorsement)"}],"owner":{"account_id":19262318,"reputation":27,"user_id":14077916,"display_name":"Komang Putra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655317156,"creation_date":1655310446,"question_id":72634804,"body_markdown":"i had a code which app can access https, just like this :\r\n\r\n``` \r\npublic class HttpsTrustManager implements X509TrustManager {\r\n    private static TrustManager[] trustManagers;\r\n    private static final X509Certificate[] _AcceptedIssuers = new X509Certificate[]{};\r\n\r\n    @Override\r\n    public void checkClientTrusted(java.security.cert.X509Certificate[] x509Certificates, String s)\r\n            throws java.security.cert.CertificateException {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n        try {\r\n            chain[0].checkValidity();\r\n        } catch (Exception e) {\r\n            throw new CertificateException(&quot;Certificate not valid or trusted.&quot;);\r\n        }\r\n    }\r\n\r\n    public boolean isClientTrusted(X509Certificate[] chain) {\r\n        return true;\r\n    }\r\n\r\n    public boolean isServerTrusted(X509Certificate[] chain) {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public X509Certificate[] getAcceptedIssuers() {\r\n        return _AcceptedIssuers;\r\n    }\r\n\r\n    public static void allowAllSSL() {\r\n        HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() {\r\n\r\n            @Override\r\n            public boolean verify(String arg0, SSLSession arg1) {\r\n                return true;\r\n            }\r\n\r\n        });\r\n\r\n        SSLContext context = null;\r\n        if (trustManagers == null) {\r\n            trustManagers = new TrustManager[]{new HttpsTrustManager()};\r\n        }\r\n\r\n        try {\r\n            context = SSLContext.getInstance(&quot;TLS&quot;);\r\n            context.init(null, trustManagers, new SecureRandom());\r\n        } catch (NoSuchAlgorithmException e) {\r\n            e.printStackTrace();\r\n        } catch (KeyManagementException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        HttpsURLConnection.setDefaultSSLSocketFactory(context\r\n                .getSocketFactory());\r\n    }\r\n} \r\n``` \r\nafter that, google play console give me a notice :\r\n\r\nApache Trust Manager\r\nYour app is using an unsafe implementation of the X509TrustManager interface with an Apache HTTP client, resulting in a security vulnerability. Please see this Google Help Center article for details, including the deadline for fixing the vulnerability.\r\n\r\nInsecure Hostname Verifier\r\nYour app is using an unsafe implementation of HostnameVerifier. Please see this Google Help Center article for details, including the deadline for fixing the vulnerability.\r\n\r\nis there something wrong with my code ??","title":"Your app is using an unsafe implementation of the X509TrustManager interface with an Apache HTTP client, resulting in a security vulnerability","body":"<p>i had a code which app can access https, just like this :</p>\n<pre><code>public class HttpsTrustManager implements X509TrustManager {\n    private static TrustManager[] trustManagers;\n    private static final X509Certificate[] _AcceptedIssuers = new X509Certificate[]{};\n\n    @Override\n    public void checkClientTrusted(java.security.cert.X509Certificate[] x509Certificates, String s)\n            throws java.security.cert.CertificateException {\n\n    }\n\n    @Override\n    public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n        try {\n            chain[0].checkValidity();\n        } catch (Exception e) {\n            throw new CertificateException(&quot;Certificate not valid or trusted.&quot;);\n        }\n    }\n\n    public boolean isClientTrusted(X509Certificate[] chain) {\n        return true;\n    }\n\n    public boolean isServerTrusted(X509Certificate[] chain) {\n        return true;\n    }\n\n    @Override\n    public X509Certificate[] getAcceptedIssuers() {\n        return _AcceptedIssuers;\n    }\n\n    public static void allowAllSSL() {\n        HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() {\n\n            @Override\n            public boolean verify(String arg0, SSLSession arg1) {\n                return true;\n            }\n\n        });\n\n        SSLContext context = null;\n        if (trustManagers == null) {\n            trustManagers = new TrustManager[]{new HttpsTrustManager()};\n        }\n\n        try {\n            context = SSLContext.getInstance(&quot;TLS&quot;);\n            context.init(null, trustManagers, new SecureRandom());\n        } catch (NoSuchAlgorithmException e) {\n            e.printStackTrace();\n        } catch (KeyManagementException e) {\n            e.printStackTrace();\n        }\n\n        HttpsURLConnection.setDefaultSSLSocketFactory(context\n                .getSocketFactory());\n    }\n} \n</code></pre>\n<p>after that, google play console give me a notice :</p>\n<p>Apache Trust Manager\nYour app is using an unsafe implementation of the X509TrustManager interface with an Apache HTTP client, resulting in a security vulnerability. Please see this Google Help Center article for details, including the deadline for fixing the vulnerability.</p>\n<p>Insecure Hostname Verifier\nYour app is using an unsafe implementation of HostnameVerifier. Please see this Google Help Center article for details, including the deadline for fixing the vulnerability.</p>\n<p>is there something wrong with my code ??</p>\n"},{"tags":["java","hibernate","kotlin","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1655311287,"post_id":72634691,"comment_id":128304500,"body_markdown":"How are you creating the customer? Could you show the code?","body":"How are you creating the customer? Could you show the code?"},{"owner":{"account_id":22472470,"reputation":339,"user_id":16672725,"display_name":"rjjdv"},"score":0,"creation_date":1655311838,"post_id":72634691,"comment_id":128304703,"body_markdown":"I&#39;ve added the CustomerResource and the JSON object I use in Postman to fire at the endpoint.","body":"I&#39;ve added the CustomerResource and the JSON object I use in Postman to fire at the endpoint."}],"answers":[{"tags":[],"owner":{"account_id":14971598,"reputation":266,"user_id":10808300,"display_name":"erinc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655311130,"creation_date":1655311130,"answer_id":72634945,"question_id":72634691,"body_markdown":"Do you have the proper getter and setters generated? It seems like the first request is failing to set the fields properly. I suggest you put a breakpoint to the controller that creates your customer and check if the field is being set like it should. Maybe you are passing the data in a wrong format etc. I can&#39;t say that from this information but you should debug that. \r\n\r\nYou can also put @NotNull validation on your fields to see if it fails to be set in object creation.","title":"Creating an entity with a ManyToOne annotation","body":"<p>Do you have the proper getter and setters generated? It seems like the first request is failing to set the fields properly. I suggest you put a breakpoint to the controller that creates your customer and check if the field is being set like it should. Maybe you are passing the data in a wrong format etc. I can't say that from this information but you should debug that.</p>\n<p>You can also put @NotNull validation on your fields to see if it fails to be set in object creation.</p>\n"},{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655316697,"creation_date":1655316697,"answer_id":72636041,"question_id":72634691,"body_markdown":"You have mapped `companyId` as not insertable and not updatable, so it won&#39;t appear in the query.\r\n\r\nTry change it to:\r\n```\r\n@Column(insertable = true, updatable = true)\r\nLong companyId\r\n```\r\n\r\nWhat&#39;s happening, I think, it&#39;s that Hibernate ORM is creating the insert query with all the other values, except for this one.\r\nI would recommend enabling the log to check. You can do it in the configuration by setting:\r\n```\r\nhibernate.show_sql = true\r\nhibernate.format_sql = true\r\n```","title":"Creating an entity with a ManyToOne annotation","body":"<p>You have mapped <code>companyId</code> as not insertable and not updatable, so it won't appear in the query.</p>\n<p>Try change it to:</p>\n<pre><code>@Column(insertable = true, updatable = true)\nLong companyId\n</code></pre>\n<p>What's happening, I think, it's that Hibernate ORM is creating the insert query with all the other values, except for this one.\nI would recommend enabling the log to check. You can do it in the configuration by setting:</p>\n<pre><code>hibernate.show_sql = true\nhibernate.format_sql = true\n</code></pre>\n"}],"owner":{"account_id":22472470,"reputation":339,"user_id":16672725,"display_name":"rjjdv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655316697,"creation_date":1655309904,"question_id":72634691,"body_markdown":"I&#39;m creating an entity which has a ManyToOne relation to another one, it being multiple customers can belong to one company. Now I have my Customer entity defined as follows:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;Customers&quot;)\r\ndata class Customer(\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    var customerId: Long? = null,\r\n    var firstName: String,\r\n    var lastName: String,\r\n    var gender: String,\r\n    @Column(insertable = false, updatable = false)\r\n    var companyId: Long,\r\n    @ManyToOne(targetEntity = Company::class, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;companyId&quot;, referencedColumnName = &quot;companyId&quot;)\r\n    var company: Company? = null,\r\n    var profilePicture: String,\r\n    var email: String,\r\n    var phone: String,\r\n    var birthDay: String,\r\n    var bio: String,\r\n    var notifyByPhone: Boolean,\r\n    var notifyByEmail: Boolean,\r\n    var notifyBySms: Boolean,\r\n    @UpdateTimestamp\r\n    var updatedAt: LocalDateTime,\r\n    @CreationTimestamp\r\n    var createdAt: LocalDateTime\r\n)\r\n```\r\nI use the following function from CustomerResource as an endpoint to persist the Customer:\r\n\r\n```\r\n    @Transactional\r\n    @POST\r\n    fun post(@Valid entity: Customer): Response = try {\r\n        repository.persist(entity)\r\n        created(entity)\r\n    } catch (exc: Exception) {\r\n        serverError(exc)\r\n    }\r\n```\r\n\r\nUsing Postman, I use the following JSON object to fire a request to the endpoint:\r\n\r\n```\r\n{\r\n    &quot;firstName&quot;: &quot;Ricardo&quot;,\r\n    &quot;lastName&quot;: &quot;de Vries&quot;,\r\n    &quot;gender&quot;: &quot;male&quot;,\r\n    &quot;companyId&quot;: &quot;200&quot;,\r\n    &quot;profilePicture&quot;: &quot;test&quot;,\r\n    &quot;email&quot;: &quot;mail@gmail.com&quot;,\r\n    &quot;phone&quot;: &quot;0612536263&quot;,\r\n    &quot;birthDay&quot;: &quot;28-12-1995&quot;,\r\n    &quot;bio&quot;: &quot;Nothing&quot;,\r\n    &quot;notifyByPhone&quot;: true,\r\n    &quot;notifyByEmail&quot;: true,\r\n    &quot;notifyBySms&quot;: true\r\n}\r\n```\r\n\r\nI have a property called &quot;company&quot; which is being mapped to the Company the user belongs to, based on the companyId. I have a separate companyId field which is being mapped to the companyId field in the database.\r\n\r\nWhen I want to create a new Customer, I&#39;m including the companyId in the request. This succeeds and the Customer is being successfully created.\r\n\r\nNow when I try to fetch that specific customer, I get the following \r\n```\r\nerror: &quot;org.hibernate.PropertyAccessException: Null value was assigned to a property [class org.acme.domains.core.models.entities.Customer.companyId] of primitive type setter of org.acme.domains.core.models.entities.Customer.companyId&quot;.\r\n```\r\n\r\nI don&#39;t really get why this error occurs. I would think that the Company which belongs to the Customer gets added afterwards whenever I fetch a specific Customer.\r\n\r\nDoes anybody know how to be able to add an entity this way?","title":"Creating an entity with a ManyToOne annotation","body":"<p>I'm creating an entity which has a ManyToOne relation to another one, it being multiple customers can belong to one company. Now I have my Customer entity defined as follows:</p>\n<pre><code>@Entity\n@Table(name = &quot;Customers&quot;)\ndata class Customer(\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    var customerId: Long? = null,\n    var firstName: String,\n    var lastName: String,\n    var gender: String,\n    @Column(insertable = false, updatable = false)\n    var companyId: Long,\n    @ManyToOne(targetEntity = Company::class, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;companyId&quot;, referencedColumnName = &quot;companyId&quot;)\n    var company: Company? = null,\n    var profilePicture: String,\n    var email: String,\n    var phone: String,\n    var birthDay: String,\n    var bio: String,\n    var notifyByPhone: Boolean,\n    var notifyByEmail: Boolean,\n    var notifyBySms: Boolean,\n    @UpdateTimestamp\n    var updatedAt: LocalDateTime,\n    @CreationTimestamp\n    var createdAt: LocalDateTime\n)\n</code></pre>\n<p>I use the following function from CustomerResource as an endpoint to persist the Customer:</p>\n<pre><code>    @Transactional\n    @POST\n    fun post(@Valid entity: Customer): Response = try {\n        repository.persist(entity)\n        created(entity)\n    } catch (exc: Exception) {\n        serverError(exc)\n    }\n</code></pre>\n<p>Using Postman, I use the following JSON object to fire a request to the endpoint:</p>\n<pre><code>{\n    &quot;firstName&quot;: &quot;Ricardo&quot;,\n    &quot;lastName&quot;: &quot;de Vries&quot;,\n    &quot;gender&quot;: &quot;male&quot;,\n    &quot;companyId&quot;: &quot;200&quot;,\n    &quot;profilePicture&quot;: &quot;test&quot;,\n    &quot;email&quot;: &quot;mail@gmail.com&quot;,\n    &quot;phone&quot;: &quot;0612536263&quot;,\n    &quot;birthDay&quot;: &quot;28-12-1995&quot;,\n    &quot;bio&quot;: &quot;Nothing&quot;,\n    &quot;notifyByPhone&quot;: true,\n    &quot;notifyByEmail&quot;: true,\n    &quot;notifyBySms&quot;: true\n}\n</code></pre>\n<p>I have a property called &quot;company&quot; which is being mapped to the Company the user belongs to, based on the companyId. I have a separate companyId field which is being mapped to the companyId field in the database.</p>\n<p>When I want to create a new Customer, I'm including the companyId in the request. This succeeds and the Customer is being successfully created.</p>\n<p>Now when I try to fetch that specific customer, I get the following</p>\n<pre><code>error: &quot;org.hibernate.PropertyAccessException: Null value was assigned to a property [class org.acme.domains.core.models.entities.Customer.companyId] of primitive type setter of org.acme.domains.core.models.entities.Customer.companyId&quot;.\n</code></pre>\n<p>I don't really get why this error occurs. I would think that the Company which belongs to the Customer gets added afterwards whenever I fetch a specific Customer.</p>\n<p>Does anybody know how to be able to add an entity this way?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1655315849,"post_id":72635851,"comment_id":128305985,"body_markdown":"*Why* are you trying to do this?","body":"<i>Why</i> are you trying to do this?"},{"owner":{"account_id":25565209,"reputation":11,"user_id":19346819,"display_name":"Bibou"},"score":0,"creation_date":1655316553,"post_id":72635851,"comment_id":128306220,"body_markdown":"I&#39;m wanna check if my method is returning the right function (I&#39;m writing some unit tests in the context of my work)","body":"I&#39;m wanna check if my method is returning the right function (I&#39;m writing some unit tests in the context of my work)"},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":1,"creation_date":1655316564,"post_id":72635851,"comment_id":128306223,"body_markdown":"If you know what should be returned, why do you even let the method return it? I don&#39;t think this is possible in java if the interface implementations behind the functions don&#39;t override equals","body":"If you know what should be returned, why do you even let the method return it? I don&#39;t think this is possible in java if the interface implementations behind the functions don&#39;t override equals"},{"owner":{"account_id":25565209,"reputation":11,"user_id":19346819,"display_name":"Bibou"},"score":0,"creation_date":1655316914,"post_id":72635851,"comment_id":128306362,"body_markdown":"@Sweeper which the best way to cover such behavior by unit test ?","body":"@Sweeper which the best way to cover such behavior by unit test ?"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655316673,"creation_date":1655316673,"answer_id":72636037,"question_id":72635851,"body_markdown":"You _cannot_ assert this.  Java specifically makes no guarantees about whether equality will work.\r\n\r\nAll you can do is run the function and assert that it has the effect you want.","title":"How can we assert that two Consumer Functions are equals in Java?","body":"<p>You <em>cannot</em> assert this.  Java specifically makes no guarantees about whether equality will work.</p>\n<p>All you can do is run the function and assert that it has the effect you want.</p>\n"}],"owner":{"account_id":25565209,"reputation":11,"user_id":19346819,"display_name":"Bibou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655316673,"creation_date":1655315781,"question_id":72635851,"body_markdown":"Actually I&#39;m trying to assert that two functions are equals. I have a method which returns a consumer function as result, and I want to assert that this one is equals to the one expected.\r\n\r\nExample : \r\n\r\n    Consumer&lt;Collection&lt;Object&gt;&gt; expected = x -&gt; x.setId(1);\r\n    \r\n    Consumer&lt;Collection&lt;Object&gt;&gt; actual = myMethod(); // this method return a consumer function\r\n\r\nHow can I do the assertion between expected actual ?\r\n\r\nI would appreciate any help ! Thanks","title":"How can we assert that two Consumer Functions are equals in Java?","body":"<p>Actually I'm trying to assert that two functions are equals. I have a method which returns a consumer function as result, and I want to assert that this one is equals to the one expected.</p>\n<p>Example :</p>\n<pre><code>Consumer&lt;Collection&lt;Object&gt;&gt; expected = x -&gt; x.setId(1);\n\nConsumer&lt;Collection&lt;Object&gt;&gt; actual = myMethod(); // this method return a consumer function\n</code></pre>\n<p>How can I do the assertion between expected actual ?</p>\n<p>I would appreciate any help ! Thanks</p>\n"},{"tags":["java","debugging","exception","intellij-idea"],"comments":[{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1644857658,"post_id":71115356,"comment_id":125710982,"body_markdown":"To give you an idea of what monstrosity I am contemplating as a solution to the problem with Swing: I am thinking of re-routing (on debug runs only) all callbacks from Swing into a custom-written threadpool which then forwards the calls to my code, and does not contain a root catch-all statement, so that any exception thrown by my code is detected as unhandled by the IntellijIdea debugger.  A less elaborate solution would be very much appreciated.","body":"To give you an idea of what monstrosity I am contemplating as a solution to the problem with Swing: I am thinking of re-routing (on debug runs only) all callbacks from Swing into a custom-written threadpool which then forwards the calls to my code, and does not contain a root catch-all statement, so that any exception thrown by my code is detected as unhandled by the IntellijIdea debugger.  A less elaborate solution would be very much appreciated."},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1644858364,"post_id":71115356,"comment_id":125711289,"body_markdown":"Also, the custom-written thread-pool solution might work for Swing and for similar situations where the callback is not expected to return anything, but it would not work in situations where the callback needs to return something. At least not without considerable additional effort.","body":"Also, the custom-written thread-pool solution might work for Swing and for similar situations where the callback is not expected to return anything, but it would not work in situations where the callback needs to return something. At least not without considerable additional effort."},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":0,"creation_date":1644860919,"post_id":71115356,"comment_id":125712209,"body_markdown":"If you have code that is throwing exceptions off the Swing EDT, then if you are using a SwingWorker, there is a mechanism for handling the exception by calling `SwingWorker#get()` in a call-back after receiving notification that the worker has completed its task. Is this what you are currently doing?","body":"If you have code that is throwing exceptions off the Swing EDT, then if you are using a SwingWorker, there is a mechanism for handling the exception by calling <code>SwingWorker#get()</code> in a call-back after receiving notification that the worker has completed its task. Is this what you are currently doing?"},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1644861201,"post_id":71115356,"comment_id":125712303,"body_markdown":"@DontKnowMuchButGettingBetter hi, thanks for looking into this. No, I am not doing that, but it would not help me anyway, because my problem is not how to gain knowledge of the fact that an exception has occurred; my problem is specifically how to have the debugger stop at the throw statement.","body":"@DontKnowMuchButGettingBetter hi, thanks for looking into this. No, I am not doing that, but it would not help me anyway, because my problem is not how to gain knowledge of the fact that an exception has occurred; my problem is specifically how to have the debugger stop at the throw statement."}],"answers":[{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655315225,"creation_date":1647347070,"answer_id":71482180,"question_id":71115356,"body_markdown":"So, a month later, here is how I solved this problem. \r\n\r\n&lt;sup&gt;(Luckily, it did not involve any custom thread-pool.)&lt;/sup&gt;\r\n\r\n### The DL;DR version:\r\n\r\n1. At each and every entry-point to your code, add a statement which redirects the flow of execution through a special-purpose &quot;debug&quot; class, which catches all exceptions thrown by your code and just rethrows them.\r\n2. Use the debugger&#39;s &quot;Catch class filters&quot; feature to specify that you want the debugger to stop not only on uncaught exceptions, but also on caught exceptions if they are caught within that special-purpose &quot;debug&quot; class.\r\n\r\nThere are some subtleties, so if you try doing this, be sure to also read the long version.\r\n\r\n## The long version:\r\n\r\nThis is an example of a piece of code that you might have which is invoked from external code. This particular example is a `WindowListener` that you would register with AWT/Swing, and AWT/Swing would then be invoking it and catching any exception thrown by it. \r\n\r\n\tprivate final WindowListener windowListener = new WindowAdapter()\r\n\t\t{\r\n\t\t\t@Override public void windowActivated( WindowEvent e )\r\n\t\t\t{\r\n\t\t\t\tonWindowActivationStateChanged( true );\r\n\t\t\t}\r\n\t\t\t@Override public void windowDeactivated( WindowEvent e )\r\n\t\t\t{\r\n\t\t\t\tonWindowActivationStateChanged( false );\r\n\t\t\t}\r\n\t\t};\r\n\r\n    private void onWindowActivationStateChanged( boolean active )\r\n    {\r\n        throw new RuntimeException( &quot;Ooops, I had an accident!&quot; );\r\n    }\r\n\r\nThe problems with the above code are as follows:\r\n\r\n  - AWT/Swing will catch the exception and log it, so you might not even become aware of the fact that there was an exception, unless you are keeping an eye on the log, which you are unlikely to be doing, since with AWT/Swing your attention is probably focused on the window of the GUI application you are developing, not on the logging panel of the IDE. \r\n  - Your debugger will not break on the throwing statement, which is absolutely necessary for a decent developer experience.\r\n\r\nTo fix the above problem, here is my special-purpose &quot;debug&quot; class:\r\n\r\n&lt;sub&gt;Note that I am including a package name here as an example, because I need to refer to it further down. You can use any package name that suits you, as long as you are consistent.&lt;/sub&gt;\r\n\r\n    package mikenakis.debug;\r\n\r\n    import java.util.function.Supplier;\r\n\r\n    public final class Debug\r\n    {\r\n        public static boolean expectingException;\r\n\r\n        private Debug()\r\n        {\r\n        }\r\n\r\n        /**\r\n         * Invokes a given {@link Runnable}, allowing the debugger to\r\n         * stop at the throwing statement of any exception that is \r\n         * thrown by the {@link Runnable}, even if the caller of this\r\n         * method has a catch-all clause.\r\n         *\r\n         * For this to work, the debugger must be configured to stop\r\n         * not only on uncaught exceptions, but also on caught\r\n         * exceptions if (and only if) they are caught within this\r\n         * class.\r\n         *\r\n         * @param procedure0 the {@link Runnable} to invoke.\r\n         */\r\n        public static void boundary( Runnable procedure0 )\r\n        {\r\n            if( expectingException )\r\n            {\r\n                procedure0.run();\r\n                return;\r\n            }\r\n            //noinspection CaughtExceptionImmediatelyRethrown\r\n            try\r\n            {\r\n                procedure0.run();\r\n            }\r\n            catch( Throwable throwable )\r\n            {\r\n                throw throwable;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Invokes a given {@link Supplier} and returns the result,\r\n         * allowing the debugger to stop at the throwing statement of\r\n         * any exception that is thrown by the {@link Supplier}, even\r\n         * if the caller of this method has a catch-all clause.\r\n         *\r\n         * For this to work, the debugger must be configured to stop\r\n         * not only on uncaught exceptions, but also on caught\r\n         * exceptions if (and only if) they are caught within this\r\n         * class.\r\n         *\r\n         * @param function0 the {@link Supplier} to invoke.\r\n         * @param &lt;T&gt;       the type of the result returned by the\r\n         *                  {@link Supplier}.\r\n         *\r\n         * @return whatever the {@link Supplier} returned.\r\n         */\r\n        public static &lt;T&gt; T boundary( Supplier&lt;T&gt; function0 )\r\n        {\r\n            if( expectingException )\r\n                return function0.get();\r\n            //noinspection CaughtExceptionImmediatelyRethrown\r\n            try\r\n            {\r\n                return function0.get();\r\n            }\r\n            catch( Throwable throwable )\r\n            {\r\n                throw throwable;\r\n            }\r\n        }\r\n    }\r\n\r\n&lt;sub&gt;Note: the `expectingException` flag is used by testing code that tests that certain methods-under-test throw certain exceptions under certain circumstances. Clearly, in such a scenario we want the exception thrown by the method-under-test to propagate to the test method without the debugger stopping, so this flag is used to temporarily disable the functionality of the `Debug` class.&lt;/sub&gt;\r\n\r\nHere is how to configure the IntelliJ IDEA debugger:\r\n\r\n  - Go to &quot;Run&quot; -&gt; &quot;View Breakpoints...&quot;\r\n    - Under &quot;Java Exception Breakpoints&quot;:\r\n      - You should already have one entry for &quot;Any exception&quot; where &quot;Caught exception&quot; is ***unchecked*** and &quot;Uncaught exception&quot; is ***checked*** so that your debugger always stops on any uncaught exception thrown anywhere. We will now add one more exception breakpoint so that your debugger can stop on caught exceptions that are caught by any method in the `Debug` class I showed above.\r\n      - Add a Java Exception Breakpoint.\r\n      - Set the exception class to be `java.lang.Throwable`.\r\n        - PEARL: In the &quot;Search by name&quot; tab of the &quot;Enter Exception Class&quot; dialog, if you check the &#39;Include non-project items&#39; box and start typing &#39;Throwable&#39; or &#39;java.lang.Throwable&#39;, IntelliJ IDEA will fail/refuse to find `Throwable`, presumably because it is covered by the &#39;Any exception&#39; entry which they are already providing, and they cannot imagine why one would need to add one more entry for the same exception class. Luckily, their mechanism of preventing you from finding `Throwable` is half-assed, so it can be circumvented, as follows:\r\n          - Switch to the &#39;Project&#39; tab instead of the &#39;Search by Name&#39; tab.\r\n          - Navigate to &#39;External Libraries&#39;, then to your JDK, then to the `java.base` module, then to the `java.lang` package\r\n          - Locate `Throwable` and select it.\r\n      - Ensure &quot;Caught exception&quot; is **checked**.\r\n      - Check the checkbox of &quot;Catch class filters:&quot; and enter `mikenakis.debug.Debug`.\r\n      - PEARL: The &quot;Breakpoints&quot; dialog of IntelliJ IDEA contains many text boxes expecting class names, and in any of these text boxes you can enter any random garbage, and IntelliJ IDEA will happily accept it, without the slightest hint that it is wrong. Then, when you expect it to break, it will silently fail to break. To avoid this, never type a class name in any of these text boxes, always use the navigation feature to locate a class which is guaranteed to exist. (And good luck if you ever decide to rename or move that class.)\r\n\r\nHere is what you have to do at each entry-point to your code:\r\n\r\n\tprivate final WindowListener windowListener = new WindowAdapter()\r\n\t\t{\r\n\t\t\t@Override public void windowActivated( WindowEvent e )\r\n\t\t\t{\r\n\t\t\t\tDebug.boundary( () -&gt; onWindowActivationStateChanged( true ) );\r\n\t\t\t}\r\n\t\t\t@Override public void windowDeactivated( WindowEvent e )\r\n\t\t\t{\r\n\t\t\t\tDebug.boundary( () -&gt; onWindowActivationStateChanged( false ) );\r\n\t\t\t}\r\n\t\t};\r\n\r\nWith the above code, and the debugger configuration described further up, the following will happen:\r\n\r\n  - When `onWindowActivationStateChanged()` is invoked, the debugger will break at the throwing statement.\r\n","title":"Breaking on unhandled exceptions in other people&#39;s code","body":"<p>So, a month later, here is how I solved this problem.</p>\n<p><sup>(Luckily, it did not involve any custom thread-pool.)</sup></p>\n<h3>The DL;DR version:</h3>\n<ol>\n<li>At each and every entry-point to your code, add a statement which redirects the flow of execution through a special-purpose &quot;debug&quot; class, which catches all exceptions thrown by your code and just rethrows them.</li>\n<li>Use the debugger's &quot;Catch class filters&quot; feature to specify that you want the debugger to stop not only on uncaught exceptions, but also on caught exceptions if they are caught within that special-purpose &quot;debug&quot; class.</li>\n</ol>\n<p>There are some subtleties, so if you try doing this, be sure to also read the long version.</p>\n<h2>The long version:</h2>\n<p>This is an example of a piece of code that you might have which is invoked from external code. This particular example is a <code>WindowListener</code> that you would register with AWT/Swing, and AWT/Swing would then be invoking it and catching any exception thrown by it.</p>\n<pre><code>private final WindowListener windowListener = new WindowAdapter()\n    {\n        @Override public void windowActivated( WindowEvent e )\n        {\n            onWindowActivationStateChanged( true );\n        }\n        @Override public void windowDeactivated( WindowEvent e )\n        {\n            onWindowActivationStateChanged( false );\n        }\n    };\n\nprivate void onWindowActivationStateChanged( boolean active )\n{\n    throw new RuntimeException( &quot;Ooops, I had an accident!&quot; );\n}\n</code></pre>\n<p>The problems with the above code are as follows:</p>\n<ul>\n<li>AWT/Swing will catch the exception and log it, so you might not even become aware of the fact that there was an exception, unless you are keeping an eye on the log, which you are unlikely to be doing, since with AWT/Swing your attention is probably focused on the window of the GUI application you are developing, not on the logging panel of the IDE.</li>\n<li>Your debugger will not break on the throwing statement, which is absolutely necessary for a decent developer experience.</li>\n</ul>\n<p>To fix the above problem, here is my special-purpose &quot;debug&quot; class:</p>\n<p><sub>Note that I am including a package name here as an example, because I need to refer to it further down. You can use any package name that suits you, as long as you are consistent.</sub></p>\n<pre><code>package mikenakis.debug;\n\nimport java.util.function.Supplier;\n\npublic final class Debug\n{\n    public static boolean expectingException;\n\n    private Debug()\n    {\n    }\n\n    /**\n     * Invokes a given {@link Runnable}, allowing the debugger to\n     * stop at the throwing statement of any exception that is \n     * thrown by the {@link Runnable}, even if the caller of this\n     * method has a catch-all clause.\n     *\n     * For this to work, the debugger must be configured to stop\n     * not only on uncaught exceptions, but also on caught\n     * exceptions if (and only if) they are caught within this\n     * class.\n     *\n     * @param procedure0 the {@link Runnable} to invoke.\n     */\n    public static void boundary( Runnable procedure0 )\n    {\n        if( expectingException )\n        {\n            procedure0.run();\n            return;\n        }\n        //noinspection CaughtExceptionImmediatelyRethrown\n        try\n        {\n            procedure0.run();\n        }\n        catch( Throwable throwable )\n        {\n            throw throwable;\n        }\n    }\n\n    /**\n     * Invokes a given {@link Supplier} and returns the result,\n     * allowing the debugger to stop at the throwing statement of\n     * any exception that is thrown by the {@link Supplier}, even\n     * if the caller of this method has a catch-all clause.\n     *\n     * For this to work, the debugger must be configured to stop\n     * not only on uncaught exceptions, but also on caught\n     * exceptions if (and only if) they are caught within this\n     * class.\n     *\n     * @param function0 the {@link Supplier} to invoke.\n     * @param &lt;T&gt;       the type of the result returned by the\n     *                  {@link Supplier}.\n     *\n     * @return whatever the {@link Supplier} returned.\n     */\n    public static &lt;T&gt; T boundary( Supplier&lt;T&gt; function0 )\n    {\n        if( expectingException )\n            return function0.get();\n        //noinspection CaughtExceptionImmediatelyRethrown\n        try\n        {\n            return function0.get();\n        }\n        catch( Throwable throwable )\n        {\n            throw throwable;\n        }\n    }\n}\n</code></pre>\n<p><sub>Note: the <code>expectingException</code> flag is used by testing code that tests that certain methods-under-test throw certain exceptions under certain circumstances. Clearly, in such a scenario we want the exception thrown by the method-under-test to propagate to the test method without the debugger stopping, so this flag is used to temporarily disable the functionality of the <code>Debug</code> class.</sub></p>\n<p>Here is how to configure the IntelliJ IDEA debugger:</p>\n<ul>\n<li>Go to &quot;Run&quot; -&gt; &quot;View Breakpoints...&quot;\n<ul>\n<li>Under &quot;Java Exception Breakpoints&quot;:\n<ul>\n<li>You should already have one entry for &quot;Any exception&quot; where &quot;Caught exception&quot; is <em><strong>unchecked</strong></em> and &quot;Uncaught exception&quot; is <em><strong>checked</strong></em> so that your debugger always stops on any uncaught exception thrown anywhere. We will now add one more exception breakpoint so that your debugger can stop on caught exceptions that are caught by any method in the <code>Debug</code> class I showed above.</li>\n<li>Add a Java Exception Breakpoint.</li>\n<li>Set the exception class to be <code>java.lang.Throwable</code>.\n<ul>\n<li>PEARL: In the &quot;Search by name&quot; tab of the &quot;Enter Exception Class&quot; dialog, if you check the 'Include non-project items' box and start typing 'Throwable' or 'java.lang.Throwable', IntelliJ IDEA will fail/refuse to find <code>Throwable</code>, presumably because it is covered by the 'Any exception' entry which they are already providing, and they cannot imagine why one would need to add one more entry for the same exception class. Luckily, their mechanism of preventing you from finding <code>Throwable</code> is half-assed, so it can be circumvented, as follows:\n<ul>\n<li>Switch to the 'Project' tab instead of the 'Search by Name' tab.</li>\n<li>Navigate to 'External Libraries', then to your JDK, then to the <code>java.base</code> module, then to the <code>java.lang</code> package</li>\n<li>Locate <code>Throwable</code> and select it.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Ensure &quot;Caught exception&quot; is <strong>checked</strong>.</li>\n<li>Check the checkbox of &quot;Catch class filters:&quot; and enter <code>mikenakis.debug.Debug</code>.</li>\n<li>PEARL: The &quot;Breakpoints&quot; dialog of IntelliJ IDEA contains many text boxes expecting class names, and in any of these text boxes you can enter any random garbage, and IntelliJ IDEA will happily accept it, without the slightest hint that it is wrong. Then, when you expect it to break, it will silently fail to break. To avoid this, never type a class name in any of these text boxes, always use the navigation feature to locate a class which is guaranteed to exist. (And good luck if you ever decide to rename or move that class.)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Here is what you have to do at each entry-point to your code:</p>\n<pre><code>private final WindowListener windowListener = new WindowAdapter()\n    {\n        @Override public void windowActivated( WindowEvent e )\n        {\n            Debug.boundary( () -&gt; onWindowActivationStateChanged( true ) );\n        }\n        @Override public void windowDeactivated( WindowEvent e )\n        {\n            Debug.boundary( () -&gt; onWindowActivationStateChanged( false ) );\n        }\n    };\n</code></pre>\n<p>With the above code, and the debugger configuration described further up, the following will happen:</p>\n<ul>\n<li>When <code>onWindowActivationStateChanged()</code> is invoked, the debugger will break at the throwing statement.</li>\n</ul>\n"}],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71482180,"answer_count":1,"score":3,"last_activity_date":1655315225,"creation_date":1644857290,"question_id":71115356,"body_markdown":"Note: this entire discussion is exclusively about unchecked exceptions. Checked exceptions have nothing to do with what I am talking about here.\r\n\r\nSo, I have my Intellij IDEA debugger configured to only break on unhandled exceptions. \r\n\r\n&lt;sup&gt;Of course this would not work without some extra love, because language constructs such as `try-with-resources` catch and rethrow, thus causing the debugger to break not at the point where the exception was thrown, but instead at the point where the exception is rethrown, which is useless, but I have gone through the trouble of putting in all the necessary extra love (I will spare you from the details) and I have gotten things to work reasonably well.&lt;/sup&gt;\r\n\r\nSo, when an exception is thrown anywhere within my code, I never have to **guess** what went wrong by poring through post-mortem stack traces in logs; I can **see** what went wrong by having the debugger stop right at the `throw` statement.\r\n\r\nThis all works reasonably well for the most part; specifically, it works reasonably well for as long as all the code involved is ***my*** code. unfortunately, sometimes I also have to deal with other people&#39;s code.\r\n\r\nWhen I call Jim&#39;s function, which in turn calls my function, and my function throws, then quite often this exception is not treated as an unhandled exception, because Jim&#39;s function quite often contains a try-catch. When this happens, and depending on what Jim does in his try-catch statement, the debugger will either stop somewhere within Jim&#39;s code, or it will not stop at all, and there will be a stack trace in the log if I am lucky. In either case, my goal will not be met: the debugger will not stop on the `throw` statement.\r\n\r\nFor example, if I register an observer with Swing, and Swing invokes my observer, and my observer throws an exception which is unhandled ***as far as I am concerned***, the exception will certainly not be unhandled as far as Swing is concerned, because Swing has a try-catch at the very least in the main loop of its Event Dispatcher Thread. So, the debugger will never break on the `throw` statement.\r\n\r\nSo, my question is:\r\n\r\nIs there anything I can do to convince the debugger to stop on exceptions that are ***unhandled as far as I am concerned***?\r\n\r\nTo put it in different terms: is there any way to let the debugger know what the boundaries of my code are, so that it can stop on exceptions that cross those boundaries?\r\n\r\nPlease note that I may not necessarily have freedom to change the `throw` statement: I may in turn be invoking yet a third library, which may be throwing the exception, or I may be invoking some code of mine which is general purpose, so its `throw` statement needs to stay as it is, because there probably exists some test which exercises that code to ensure that it throws the expected exception under the right circumstances.\r\n\r\nI am using IntelliJ IDEA, if that matters.\r\n","title":"Breaking on unhandled exceptions in other people&#39;s code","body":"<p>Note: this entire discussion is exclusively about unchecked exceptions. Checked exceptions have nothing to do with what I am talking about here.</p>\n<p>So, I have my Intellij IDEA debugger configured to only break on unhandled exceptions.</p>\n<p><sup>Of course this would not work without some extra love, because language constructs such as <code>try-with-resources</code> catch and rethrow, thus causing the debugger to break not at the point where the exception was thrown, but instead at the point where the exception is rethrown, which is useless, but I have gone through the trouble of putting in all the necessary extra love (I will spare you from the details) and I have gotten things to work reasonably well.</sup></p>\n<p>So, when an exception is thrown anywhere within my code, I never have to <strong>guess</strong> what went wrong by poring through post-mortem stack traces in logs; I can <strong>see</strong> what went wrong by having the debugger stop right at the <code>throw</code> statement.</p>\n<p>This all works reasonably well for the most part; specifically, it works reasonably well for as long as all the code involved is <em><strong>my</strong></em> code. unfortunately, sometimes I also have to deal with other people's code.</p>\n<p>When I call Jim's function, which in turn calls my function, and my function throws, then quite often this exception is not treated as an unhandled exception, because Jim's function quite often contains a try-catch. When this happens, and depending on what Jim does in his try-catch statement, the debugger will either stop somewhere within Jim's code, or it will not stop at all, and there will be a stack trace in the log if I am lucky. In either case, my goal will not be met: the debugger will not stop on the <code>throw</code> statement.</p>\n<p>For example, if I register an observer with Swing, and Swing invokes my observer, and my observer throws an exception which is unhandled <em><strong>as far as I am concerned</strong></em>, the exception will certainly not be unhandled as far as Swing is concerned, because Swing has a try-catch at the very least in the main loop of its Event Dispatcher Thread. So, the debugger will never break on the <code>throw</code> statement.</p>\n<p>So, my question is:</p>\n<p>Is there anything I can do to convince the debugger to stop on exceptions that are <em><strong>unhandled as far as I am concerned</strong></em>?</p>\n<p>To put it in different terms: is there any way to let the debugger know what the boundaries of my code are, so that it can stop on exceptions that cross those boundaries?</p>\n<p>Please note that I may not necessarily have freedom to change the <code>throw</code> statement: I may in turn be invoking yet a third library, which may be throwing the exception, or I may be invoking some code of mine which is general purpose, so its <code>throw</code> statement needs to stay as it is, because there probably exists some test which exercises that code to ensure that it throws the expected exception under the right circumstances.</p>\n<p>I am using IntelliJ IDEA, if that matters.</p>\n"},{"tags":["java","concurrency","stream","parallelstream"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1653133539,"post_id":72329117,"comment_id":127779889,"body_markdown":"Going by memory here, so take it with a grain of salt, but when calculating elapsed time, you should use `System.nanoTime()`, not `System.currentTimeMillis()`. If you have to do benchmarking on you own, this [question](https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java) is a great source.","body":"Going by memory here, so take it with a grain of salt, but when calculating elapsed time, you should use <code>System.nanoTime()</code>, not <code>System.currentTimeMillis()</code>. If you have to do benchmarking on you own, this <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\">question</a> is a great source."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1653147437,"post_id":72329117,"comment_id":127782646,"body_markdown":"You can&#39;t make any conclusions without warm-up runs and proper benchmarks. Just try swapping over the order of serial and parallel code sections, and you may come to the opposite conclusion because the first iteration test is slowest. Also the random generator may not be threadsafe (cannot tell as you don&#39;t show the code) which may mean that the parallel version can never be quickest.","body":"You can&#39;t make any conclusions without warm-up runs and proper benchmarks. Just try swapping over the order of serial and parallel code sections, and you may come to the opposite conclusion because the first iteration test is slowest. Also the random generator may not be threadsafe (cannot tell as you don&#39;t show the code) which may mean that the parallel version can never be quickest."},{"owner":{"account_id":6925249,"reputation":365,"user_id":5316516,"display_name":"NothingBox"},"score":0,"creation_date":1653148606,"post_id":72329117,"comment_id":127782920,"body_markdown":"I have swapped the order and got the same result. The RandomStringUtils I am using is from Apache commons-lang library","body":"I have swapped the order and got the same result. The RandomStringUtils I am using is from Apache commons-lang library"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655315153,"creation_date":1655314347,"answer_id":72635575,"question_id":72329117,"body_markdown":"Using `RandomStringUtils.randomAlphanumeric(500)` isn&#39;t suitable for use with `parallel()` as according to the [code here][1] it uses a static variable for the random string generation. Therefore all the calls from all the threads to generate a random string will have contention on the same underlying instance of `Random`:\r\n\r\n    private static final Random RANDOM = new Random();\r\n\r\nWrite your own random string generator which uses single instance of `Random` per thread or has use of [java.util.concurrent.ThreadLocalRandom][4] - this avoids contention on the random sequences. The same issue causes poor performance in this [question before it was edited to use ThreadLocalRandom][2].\r\n\r\nSee javadoc for [java.util.Random][3] says:\r\n\r\n    Instances of java.util.Random  are threadsafe.\r\n    However, the concurrent use of the same java.util.Random \r\n    instance across threads may encounter contention and consequent\r\n    poor performance. Consider instead using \r\n    java.util.concurrent.ThreadLocalRandom in multithreaded\r\n    designs.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/src-html/org/apache/commons/lang3/RandomStringUtils.html\r\n  [2]: https://stackoverflow.com/questions/72582076/jvm-performance-jvm-performance-not-scaling-with-number-of-processors\r\n  [3]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Random.html\r\n  [4]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html","title":"Java Parallel Stream Slower than Serial","body":"<p>Using <code>RandomStringUtils.randomAlphanumeric(500)</code> isn't suitable for use with <code>parallel()</code> as according to the <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/src-html/org/apache/commons/lang3/RandomStringUtils.html\" rel=\"nofollow noreferrer\">code here</a> it uses a static variable for the random string generation. Therefore all the calls from all the threads to generate a random string will have contention on the same underlying instance of <code>Random</code>:</p>\n<pre><code>private static final Random RANDOM = new Random();\n</code></pre>\n<p>Write your own random string generator which uses single instance of <code>Random</code> per thread or has use of <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html\" rel=\"nofollow noreferrer\">java.util.concurrent.ThreadLocalRandom</a> - this avoids contention on the random sequences. The same issue causes poor performance in this <a href=\"https://stackoverflow.com/questions/72582076/jvm-performance-jvm-performance-not-scaling-with-number-of-processors\">question before it was edited to use ThreadLocalRandom</a>.</p>\n<p>See javadoc for <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Random.html\" rel=\"nofollow noreferrer\">java.util.Random</a> says:</p>\n<pre><code>Instances of java.util.Random  are threadsafe.\nHowever, the concurrent use of the same java.util.Random \ninstance across threads may encounter contention and consequent\npoor performance. Consider instead using \njava.util.concurrent.ThreadLocalRandom in multithreaded\ndesigns.\n</code></pre>\n"}],"owner":{"account_id":6925249,"reputation":365,"user_id":5316516,"display_name":"NothingBox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1655315153,"creation_date":1653132419,"question_id":72329117,"body_markdown":"I have a database record of around 1000000 paragraphs with around ~500 characters each. By reading all the records, I need to get the list of alphabet ordered by most to least used.\r\n\r\nI mock the database reading by creating stream up to 1000000 then process the stream in parallel\r\n\r\n```\r\nfinal Map&lt;Character, Long&gt; charCountMap = new ConcurrentHashMap&lt;&gt;();\r\nfor (char c = &#39;a&#39;; c &lt;= &#39;z&#39;; c++) {\r\n\tcharCountMap.put(c, 0l);\r\n}\r\n\r\nSystem.out.println(&quot;Parallel Stream&quot;);\r\nlong start = System.currentTimeMillis();\r\nStream.iterate(0, i -&gt; i).limit(1000000).parallel() //mock database stream\r\n\t.forEach(i-&gt; RandomStringUtils.randomAlphanumeric(500)\r\n\t.toLowerCase().chars().mapToObj(c -&gt; Character.valueOf((char) c)).filter(c -&gt; c &gt;= 97 &amp;&amp; c &lt;= 122)\r\n\t.forEach(c -&gt; charCountMap.compute(c, (k, v) -&gt; v + 1))); //update ConcurrentHashMap\r\n\r\nlong end = System.currentTimeMillis();\r\nSystem.out.println(&quot;Parallel Stream time spent :&quot; + (end - start));\r\n\r\nSystem.out.println(&quot;Serial Stream&quot;); start = System.currentTimeMillis();\r\nStream.iterate(0, i -&gt; i).limit(1000000) //mock database stream\r\n\t.forEach(i-&gt; RandomStringUtils.randomAlphanumeric(500)\r\n\t.toLowerCase().chars().mapToObj(c -&gt; Character.valueOf((char) c)).filter(c -&gt; c &gt;= 97 &amp;&amp; c &lt;= 122)\r\n\t.forEach(c -&gt; charCountMap.compute(c, (k, v) -&gt; v + 1)));\r\nend = System.currentTimeMillis();\r\nSystem.out.println(&quot;Serial Stream time spent :&quot; + (end - start));\r\n\r\n```\r\n\r\nI initially thought that parallel stream would be faster even with expected overhead for stream larger than 100,000. However, test shows that serial stream is ~5X faster than parallel even for 1,000,000 records.\r\n\r\nI suspected it was because of updating the ConcurrentHashMap. But when I removed it and change with empty function, there is still significant performance gap.\r\n\r\nIs there something wrong in my database mock up call or the way I use parallel stream?","title":"Java Parallel Stream Slower than Serial","body":"<p>I have a database record of around 1000000 paragraphs with around ~500 characters each. By reading all the records, I need to get the list of alphabet ordered by most to least used.</p>\n<p>I mock the database reading by creating stream up to 1000000 then process the stream in parallel</p>\n<pre><code>final Map&lt;Character, Long&gt; charCountMap = new ConcurrentHashMap&lt;&gt;();\nfor (char c = 'a'; c &lt;= 'z'; c++) {\n    charCountMap.put(c, 0l);\n}\n\nSystem.out.println(&quot;Parallel Stream&quot;);\nlong start = System.currentTimeMillis();\nStream.iterate(0, i -&gt; i).limit(1000000).parallel() //mock database stream\n    .forEach(i-&gt; RandomStringUtils.randomAlphanumeric(500)\n    .toLowerCase().chars().mapToObj(c -&gt; Character.valueOf((char) c)).filter(c -&gt; c &gt;= 97 &amp;&amp; c &lt;= 122)\n    .forEach(c -&gt; charCountMap.compute(c, (k, v) -&gt; v + 1))); //update ConcurrentHashMap\n\nlong end = System.currentTimeMillis();\nSystem.out.println(&quot;Parallel Stream time spent :&quot; + (end - start));\n\nSystem.out.println(&quot;Serial Stream&quot;); start = System.currentTimeMillis();\nStream.iterate(0, i -&gt; i).limit(1000000) //mock database stream\n    .forEach(i-&gt; RandomStringUtils.randomAlphanumeric(500)\n    .toLowerCase().chars().mapToObj(c -&gt; Character.valueOf((char) c)).filter(c -&gt; c &gt;= 97 &amp;&amp; c &lt;= 122)\n    .forEach(c -&gt; charCountMap.compute(c, (k, v) -&gt; v + 1)));\nend = System.currentTimeMillis();\nSystem.out.println(&quot;Serial Stream time spent :&quot; + (end - start));\n\n</code></pre>\n<p>I initially thought that parallel stream would be faster even with expected overhead for stream larger than 100,000. However, test shows that serial stream is ~5X faster than parallel even for 1,000,000 records.</p>\n<p>I suspected it was because of updating the ConcurrentHashMap. But when I removed it and change with empty function, there is still significant performance gap.</p>\n<p>Is there something wrong in my database mock up call or the way I use parallel stream?</p>\n"},{"tags":["java","android","android-camera","aar"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1655281826,"post_id":72628124,"comment_id":128292977,"body_markdown":"You may go through the [CameraX API documentation](https://developer.android.com/training/camerax)","body":"You may go through the <a href=\"https://developer.android.com/training/camerax\" rel=\"nofollow noreferrer\">CameraX API documentation</a>"},{"owner":{"account_id":23624537,"reputation":1,"user_id":17657283,"display_name":"azooz"},"score":0,"creation_date":1655282343,"post_id":72628124,"comment_id":128293141,"body_markdown":"@RickyMo thanks for your reply.\nCan you give me an example of how to get the frames directly without showing them?","body":"@RickyMo thanks for your reply. Can you give me an example of how to get the frames directly without showing them?"},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1655282606,"post_id":72628124,"comment_id":128293223,"body_markdown":"Just follow the documentation, it has the example you need. You need the `ImageCapture` use case and exclude the `Preview` use case.","body":"Just follow the documentation, it has the example you need. You need the <code>ImageCapture</code> use case and exclude the <code>Preview</code> use case."},{"owner":{"account_id":23624537,"reputation":1,"user_id":17657283,"display_name":"azooz"},"score":0,"creation_date":1655289595,"post_id":72628124,"comment_id":128295628,"body_markdown":"@RickyMo \nSorry for the trouble. But keep in mind I am a novice in android studio.\nSo I don&#39;t know how to capture the camera in CameraX and I tried this example but failed:\nhttps://akhilbattula.medium.com/android-camerax-java-example-aeee884f9102\n\nSo can you give me a complete example?","body":"@RickyMo  Sorry for the trouble. But keep in mind I am a novice in android studio. So I don&#39;t know how to capture the camera in CameraX and I tried this example but failed: <a href=\"https://akhilbattula.medium.com/android-camerax-java-example-aeee884f9102\" rel=\"nofollow noreferrer\">akhilbattula.medium.com/&hellip;</a>  So can you give me a complete example?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1655294996,"post_id":72628124,"comment_id":128297567,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":23624537,"reputation":1,"user_id":17657283,"display_name":"azooz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655315001,"creation_date":1655281619,"question_id":72628124,"body_markdown":"Actually, I&#39;m writing an Android library for Godot Engine.\r\n\r\nWhich steps do I envision?\r\n\r\n1- Get the frames from the camera.\r\n\r\n2- Convert frames to Bitmap.\r\n\r\n3- Resize Bitmap if required (optional).\r\n\r\n4- Send to Godot Engine.\r\n\r\n\r\nI&#39;m currently stuck on step one, can anyone give me a full example of getting the frames from the camera?\r\n\r\nI don&#39;t want to display frames in Android Studio I just want to get them from the code\r\n\r\n\r\nNote:\r\n\r\nI am using Java version 11.\r\n\r\nEdit:\r\n\r\nI tried this code:\r\n\r\n```java\r\npublic class MainActivity extends AppCompatActivity\r\n{\r\n    private ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture;\r\n    private ImageCapture imageCapture;\r\n    private Button bCapture;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        bCapture = findViewById(R.id.bCapture);\r\n        bCapture.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view)\r\n            {\r\n                capturePhoto();\r\n            }\r\n        });\r\n        cameraProviderFuture = ProcessCameraProvider.getInstance(this);\r\n        cameraProviderFuture.addListener(() -&gt; {\r\n            try {\r\n                ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\r\n                startCameraX(cameraProvider);\r\n            } catch (ExecutionException | InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }, getExecutor());\r\n\r\n    }\r\n\r\n    Executor getExecutor() {\r\n        return ContextCompat.getMainExecutor(this);\r\n    }\r\n\r\n\r\n    private void startCameraX(ProcessCameraProvider cameraProvider)\r\n    {\r\n        cameraProvider.unbindAll();\r\n        CameraSelector cameraSelector = new CameraSelector.Builder()\r\n                .requireLensFacing(CameraSelector.LENS_FACING_BACK)\r\n                .build();\r\n\r\n        imageCapture = new ImageCapture.Builder()\r\n                .setCaptureMode(ImageCapture.CAPTURE_MODE_MINIMIZE_LATENCY)\r\n                .build();\r\n\r\n        ImageAnalysis imageAnalysis = new ImageAnalysis.Builder()\r\n                .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\r\n                .build();\r\n\r\n        imageAnalysis.setAnalyzer(getExecutor(), new ImageAnalysis.Analyzer() {\r\n            @Override\r\n            public void analyze(@NonNull ImageProxy image) {\r\n\r\n                Log.d(&quot;TAG&quot;, &quot;analyze: got the frame at: &quot; + image.getImageInfo().getTimestamp());\r\n                image.close();\r\n            }\r\n        });\r\n\r\n        cameraProvider.bindToLifecycle((LifecycleOwner) this, cameraSelector, imageCapture);\r\n    }\r\n\r\n    private void capturePhoto()\r\n    {\r\n        imageCapture.takePicture(getExecutor(), new ImageCapture.OnImageCapturedCallback()\r\n        {\r\n            @Override\r\n            public void onCaptureSuccess(@NonNull ImageProxy image)\r\n            {\r\n                Log.d(&quot;Test&quot;,&quot; one success capture&quot;);\r\n                super.onCaptureSuccess(image);\r\n                Bitmap bitmap = getBitmap(image);\r\n                Log.d(&quot;Test&quot;,&quot; Capture Success &quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onError(@NonNull ImageCaptureException exception) {\r\n                super.onError(exception);\r\n                Log.d(&quot;Test&quot;,&quot; Error capture&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    //convert to Bitmap\r\n    private Bitmap getBitmap(ImageProxy image)\r\n    {\r\n        ByteBuffer buffer = image.getPlanes()[0].getBuffer();\r\n        buffer.rewind();\r\n        byte[] bytes = new byte[buffer.capacity()];\r\n        buffer.get(bytes);\r\n        byte[] clonedBytes = bytes.clone();\r\n        return BitmapFactory.decodeByteArray(clonedBytes, 0, clonedBytes.length);\r\n    }\r\n}\r\n```\r\n\r\nBut it failed because the app was closing abruptly when it started.\r\n\r\nbuild.gradle (Module: MyApplication3.app)\r\n\r\n```gradle\r\n\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.myapplication3&#39;\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.myapplication3&quot;\r\n        minSdk 21\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.2&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.camera:camera-core:1.0.2&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n\r\n\r\n    def cameraxVersion = &quot;1.1.0-alpha05&quot;\r\n    implementation &quot;androidx.camera:camera-core:${cameraxVersion}&quot;\r\n    implementation &quot;androidx.camera:camera-camera2:${cameraxVersion}&quot;\r\n    implementation &quot;androidx.camera:camera-lifecycle:${cameraxVersion}&quot;\r\n\r\n    // CameraX View class\r\n    implementation &#39;androidx.camera:camera-view:1.0.0-alpha25&#39;\r\n\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n\r\n}\r\n```\r\n\r\nAndroidManifest.xml\r\n\r\n```xml\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        tools:targetApi=&quot;32&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nEdit:\r\nAs for closing the app when it started, it was because this line was missing:\r\n```xml\r\nandroid:theme=&quot;@style/Theme.MyApplication3&quot; \r\n```\r\nAs for capturing the image I tried to print the exception here:\r\n\r\n```java\r\npublic void onError(@NonNull ImageCaptureException exception) \r\n{\r\n    super.onError(exception);\r\n    Log.d(&quot;Test&quot;,&quot; Error capture &quot; + exception.getMessage());\r\n}\r\n```\r\n\r\nOutput:\r\n\r\nError capture **Camera is closed.**","title":"Get frames from the camera","body":"<p>Actually, I'm writing an Android library for Godot Engine.</p>\n<p>Which steps do I envision?</p>\n<p>1- Get the frames from the camera.</p>\n<p>2- Convert frames to Bitmap.</p>\n<p>3- Resize Bitmap if required (optional).</p>\n<p>4- Send to Godot Engine.</p>\n<p>I'm currently stuck on step one, can anyone give me a full example of getting the frames from the camera?</p>\n<p>I don't want to display frames in Android Studio I just want to get them from the code</p>\n<p>Note:</p>\n<p>I am using Java version 11.</p>\n<p>Edit:</p>\n<p>I tried this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity\n{\n    private ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture;\n    private ImageCapture imageCapture;\n    private Button bCapture;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        bCapture = findViewById(R.id.bCapture);\n        bCapture.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view)\n            {\n                capturePhoto();\n            }\n        });\n        cameraProviderFuture = ProcessCameraProvider.getInstance(this);\n        cameraProviderFuture.addListener(() -&gt; {\n            try {\n                ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\n                startCameraX(cameraProvider);\n            } catch (ExecutionException | InterruptedException e) {\n                e.printStackTrace();\n            }\n        }, getExecutor());\n\n    }\n\n    Executor getExecutor() {\n        return ContextCompat.getMainExecutor(this);\n    }\n\n\n    private void startCameraX(ProcessCameraProvider cameraProvider)\n    {\n        cameraProvider.unbindAll();\n        CameraSelector cameraSelector = new CameraSelector.Builder()\n                .requireLensFacing(CameraSelector.LENS_FACING_BACK)\n                .build();\n\n        imageCapture = new ImageCapture.Builder()\n                .setCaptureMode(ImageCapture.CAPTURE_MODE_MINIMIZE_LATENCY)\n                .build();\n\n        ImageAnalysis imageAnalysis = new ImageAnalysis.Builder()\n                .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\n                .build();\n\n        imageAnalysis.setAnalyzer(getExecutor(), new ImageAnalysis.Analyzer() {\n            @Override\n            public void analyze(@NonNull ImageProxy image) {\n\n                Log.d(&quot;TAG&quot;, &quot;analyze: got the frame at: &quot; + image.getImageInfo().getTimestamp());\n                image.close();\n            }\n        });\n\n        cameraProvider.bindToLifecycle((LifecycleOwner) this, cameraSelector, imageCapture);\n    }\n\n    private void capturePhoto()\n    {\n        imageCapture.takePicture(getExecutor(), new ImageCapture.OnImageCapturedCallback()\n        {\n            @Override\n            public void onCaptureSuccess(@NonNull ImageProxy image)\n            {\n                Log.d(&quot;Test&quot;,&quot; one success capture&quot;);\n                super.onCaptureSuccess(image);\n                Bitmap bitmap = getBitmap(image);\n                Log.d(&quot;Test&quot;,&quot; Capture Success &quot;);\n            }\n\n            @Override\n            public void onError(@NonNull ImageCaptureException exception) {\n                super.onError(exception);\n                Log.d(&quot;Test&quot;,&quot; Error capture&quot;);\n            }\n        });\n    }\n\n    //convert to Bitmap\n    private Bitmap getBitmap(ImageProxy image)\n    {\n        ByteBuffer buffer = image.getPlanes()[0].getBuffer();\n        buffer.rewind();\n        byte[] bytes = new byte[buffer.capacity()];\n        buffer.get(bytes);\n        byte[] clonedBytes = bytes.clone();\n        return BitmapFactory.decodeByteArray(clonedBytes, 0, clonedBytes.length);\n    }\n}\n</code></pre>\n<p>But it failed because the app was closing abruptly when it started.</p>\n<p>build.gradle (Module: MyApplication3.app)</p>\n<pre><code>\nplugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.myapplication3'\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.myapplication3&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.2'\n    implementation 'com.google.android.material:material:1.6.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.camera:camera-core:1.0.2'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n\n    def cameraxVersion = &quot;1.1.0-alpha05&quot;\n    implementation &quot;androidx.camera:camera-core:${cameraxVersion}&quot;\n    implementation &quot;androidx.camera:camera-camera2:${cameraxVersion}&quot;\n    implementation &quot;androidx.camera:camera-lifecycle:${cameraxVersion}&quot;\n\n    // CameraX View class\n    implementation 'androidx.camera:camera-view:1.0.0-alpha25'\n\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n\n}\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        tools:targetApi=&quot;32&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Edit:\nAs for closing the app when it started, it was because this line was missing:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>android:theme=&quot;@style/Theme.MyApplication3&quot; \n</code></pre>\n<p>As for capturing the image I tried to print the exception here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onError(@NonNull ImageCaptureException exception) \n{\n    super.onError(exception);\n    Log.d(&quot;Test&quot;,&quot; Error capture &quot; + exception.getMessage());\n}\n</code></pre>\n<p>Output:</p>\n<p>Error capture <strong>Camera is closed.</strong></p>\n"},{"tags":["java","android","opengl-es"],"answers":[{"tags":[],"owner":{"account_id":8770597,"reputation":5523,"user_id":6557569,"accept_rate":90,"display_name":"Szabolcs Dombi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1496235987,"creation_date":1467829417,"answer_id":38231119,"question_id":37975618,"body_markdown":"I recommend to use a 1D texture (performance: use alpha testing instead of blending)\r\n\r\ndon&#39;t forget to:\r\n\r\n- set texture filter to `GL_NEAREST`\r\n- texture wrapping to `GL_REPEAT`\r\n","title":"OpenGL ES - Dashed Lines","body":"<p>I recommend to use a 1D texture (performance: use alpha testing instead of blending)</p>\n\n<p>don't forget to:</p>\n\n<ul>\n<li>set texture filter to <code>GL_NEAREST</code></li>\n<li>texture wrapping to <code>GL_REPEAT</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597838074,"creation_date":1581543471,"answer_id":60197259,"question_id":37975618,"body_markdown":"In OpenGL ES 1.0 `glLineStipple` is not supported. 1 dimensional textures are not supported, too. But 2 dimensional texturing is supported and the [Alpha test](https://www.khronos.org/opengl/wiki/Transparency_Sorting#Alpha_test) is supported. See [OpenGL ES 1.0 Specification](https://www.khronos.org/registry/OpenGL/specs/es/1.0/opengles_spec_1_0.pdf).  \r\nA 1 dimensional textures, can be represented by a 2 dimensional Nx1 texture.\r\n\r\nThe stipple pattern can be encoded in a texture. Create 2 dimensional 4x1 texture with the internal format `GL_ALPHA` and the following pattern:\r\n\r\n```lang-non\r\n1 0 0 1\r\n```\r\n\r\nThe minifying and magnification function is `GL_NEAREST`. The wrap parameters are `GL_REPEAT` (that is default).\r\n\r\n```java\r\nbyte arr[] = new byte[] { 255, 0, 0, 255 };\r\nByteBuffer textureBuffer = ByteBuffer.wrap(arr);\r\n\r\ngl.glGenTextures(1, texture_id_, stippleTexObj);\r\ngl.glBindTexture(GL10.GL_TEXTURE_2D, stippleTexObj);\r\ngl.glTexParameteri(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_MIN_FILTER, GL10.GL_NEAREST);\r\ngl.glTexParameteri(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_MAG_FILTER, GL10.GL_NEAREST);\r\ngl.glTexParameteri(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_WRAP_S, GL10.GL_REPEAT);\r\ngl.glTexParameteri(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_WRAP_T, GL10.GL_REPEAT);\r\ngl.glTexImage2D(GL10.GL_TEXTURE_2D, 0, GL10.GL_ALPHA, 4, 1, 0,\r\n                GL10.GL_ALPHA, GL10.GL_UNSIGNED_BYTE, textureBuffer);\r\n```\r\n\r\nWhen you draw the lines, the you have to enable the [Alpha test](https://www.khronos.org/opengl/wiki/Transparency_Sorting#Alpha_test) and enable 2 dimensional texturing.\r\n\r\n```java\r\ngl.glAlphaFunc(GL10.GL_GEQUAL, 0.5f);\r\ngl.glEnable(GL10.GL_ALPHA_TEST);\r\ngl.glEnable(GL10.GL_TEXTURE_2D);\r\n```\r\n\r\nEnsure that the texture coordinates which are associated to the vertices are aligned to integral values when you draw the line, that causes the the lines start and end with a dash:\r\n\r\ne.g. a quad with bottom left of (-0.5 -0.5) and to right of (0.5, 0.5) and the texture coordinates in range [0, 5]:\r\n\r\n```lang-non\r\n x     y       u   \r\n-0.5f -0.5f    0.0f\r\n 0.5f -0.5f    5.0f\r\n 0.5f  0.5f    0.0f\r\n-0.5f  0.5f    5.0f\r\n```\r\n\r\nSince the wrap function is `GL_REPEAT` and the texture coordinates are in range [0, 5], 5 repetitions of the stipple pattern are wrapped to each edge of the quad. \r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8mUsx.png\r\n\r\n---\r\n\r\n&lt;sub&gt;\r\n\r\n[Draw a simple dotted line or dashed line in OpenGL GLES20 android using fragment shader and GL_LINE_STRIP](https://stackoverflow.com/questions/60293538/draw-a-simple-dotted-line-or-dashed-line-in-opengl-gles20-android-using-fragment)\r\n\r\n&lt;/sub&gt;","title":"OpenGL ES - Dashed Lines","body":"<p>In OpenGL ES 1.0 <code>glLineStipple</code> is not supported. 1 dimensional textures are not supported, too. But 2 dimensional texturing is supported and the <a href=\"https://www.khronos.org/opengl/wiki/Transparency_Sorting#Alpha_test\" rel=\"nofollow noreferrer\">Alpha test</a> is supported. See <a href=\"https://www.khronos.org/registry/OpenGL/specs/es/1.0/opengles_spec_1_0.pdf\" rel=\"nofollow noreferrer\">OpenGL ES 1.0 Specification</a>.<br />\nA 1 dimensional textures, can be represented by a 2 dimensional Nx1 texture.</p>\n<p>The stipple pattern can be encoded in a texture. Create 2 dimensional 4x1 texture with the internal format <code>GL_ALPHA</code> and the following pattern:</p>\n<pre class=\"lang-non prettyprint-override\"><code>1 0 0 1\n</code></pre>\n<p>The minifying and magnification function is <code>GL_NEAREST</code>. The wrap parameters are <code>GL_REPEAT</code> (that is default).</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte arr[] = new byte[] { 255, 0, 0, 255 };\nByteBuffer textureBuffer = ByteBuffer.wrap(arr);\n\ngl.glGenTextures(1, texture_id_, stippleTexObj);\ngl.glBindTexture(GL10.GL_TEXTURE_2D, stippleTexObj);\ngl.glTexParameteri(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_MIN_FILTER, GL10.GL_NEAREST);\ngl.glTexParameteri(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_MAG_FILTER, GL10.GL_NEAREST);\ngl.glTexParameteri(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_WRAP_S, GL10.GL_REPEAT);\ngl.glTexParameteri(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_WRAP_T, GL10.GL_REPEAT);\ngl.glTexImage2D(GL10.GL_TEXTURE_2D, 0, GL10.GL_ALPHA, 4, 1, 0,\n                GL10.GL_ALPHA, GL10.GL_UNSIGNED_BYTE, textureBuffer);\n</code></pre>\n<p>When you draw the lines, the you have to enable the <a href=\"https://www.khronos.org/opengl/wiki/Transparency_Sorting#Alpha_test\" rel=\"nofollow noreferrer\">Alpha test</a> and enable 2 dimensional texturing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>gl.glAlphaFunc(GL10.GL_GEQUAL, 0.5f);\ngl.glEnable(GL10.GL_ALPHA_TEST);\ngl.glEnable(GL10.GL_TEXTURE_2D);\n</code></pre>\n<p>Ensure that the texture coordinates which are associated to the vertices are aligned to integral values when you draw the line, that causes the the lines start and end with a dash:</p>\n<p>e.g. a quad with bottom left of (-0.5 -0.5) and to right of (0.5, 0.5) and the texture coordinates in range [0, 5]:</p>\n<pre class=\"lang-non prettyprint-override\"><code> x     y       u   \n-0.5f -0.5f    0.0f\n 0.5f -0.5f    5.0f\n 0.5f  0.5f    0.0f\n-0.5f  0.5f    5.0f\n</code></pre>\n<p>Since the wrap function is <code>GL_REPEAT</code> and the texture coordinates are in range [0, 5], 5 repetitions of the stipple pattern are wrapped to each edge of the quad.</p>\n<p><a href=\"https://i.stack.imgur.com/8mUsx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8mUsx.png\" alt=\"\" /></a></p>\n<hr />\n<sub>\n<p><a href=\"https://stackoverflow.com/questions/60293538/draw-a-simple-dotted-line-or-dashed-line-in-opengl-gles20-android-using-fragment\">Draw a simple dotted line or dashed line in OpenGL GLES20 android using fragment shader and GL_LINE_STRIP</a></p>\n</sub>\n"}],"owner":{"account_id":5294028,"reputation":888,"user_id":4225644,"accept_rate":70,"display_name":"Alireza Pir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2754,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1655314761,"creation_date":1466619808,"question_id":37975618,"body_markdown":"I&#39;m Using OpenGl ES 1.0 for My Android Game Development, I Want to Draw Dashed-lines\r\nNow Im Using This Code to Draw My Line:\r\n\r\n```java\r\ngl.glColor4f(1.0f, 0.0f, 0.0f, 1.0f);\r\n// gl.glBlendFunc(GL10.GL_SRC_ALPHA, GL10.GL_ONE_MINUS_SRC_ALPHA);\r\ngl.glLineWidth(4.0f);\r\ngl.glVertexPointer(2, GL10.GL_FLOAT, 0, mBufDestVertices);\r\ngl.glDrawArrays(GL10.GL_LINE_LOOP, 0, mDesPoly.getNumPoints());\r\n```\r\n\r\nHow Should I Change It? \r\nDoes I have to Texture The line? And if so, How?","title":"OpenGL ES - Dashed Lines","body":"<p>I'm Using OpenGl ES 1.0 for My Android Game Development, I Want to Draw Dashed-lines\nNow Im Using This Code to Draw My Line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>gl.glColor4f(1.0f, 0.0f, 0.0f, 1.0f);\n// gl.glBlendFunc(GL10.GL_SRC_ALPHA, GL10.GL_ONE_MINUS_SRC_ALPHA);\ngl.glLineWidth(4.0f);\ngl.glVertexPointer(2, GL10.GL_FLOAT, 0, mBufDestVertices);\ngl.glDrawArrays(GL10.GL_LINE_LOOP, 0, mDesPoly.getNumPoints());\n</code></pre>\n<p>How Should I Change It?\nDoes I have to Texture The line? And if so, How?</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1654677030,"post_id":72537449,"comment_id":128145193,"body_markdown":"The structure looks correct. See Gradle docs for [multi module](https://docs.gradle.org/current/userguide/multi_project_builds.html) project structure and [how to add dependencies on projects](https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html). Make sure you specify the correct project name and use correct build.gradle file to define a dependency. Also double check the config is correct by building the application from the command line.","body":"The structure looks correct. See Gradle docs for <a href=\"https://docs.gradle.org/current/userguide/multi_project_builds.html\" rel=\"nofollow noreferrer\">multi module</a> project structure and <a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html\" rel=\"nofollow noreferrer\">how to add dependencies on projects</a>. Make sure you specify the correct project name and use correct build.gradle file to define a dependency. Also double check the config is correct by building the application from the command line."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1654677042,"post_id":72537449,"comment_id":128145196,"body_markdown":"Btw it is not necessary to add the `genericname` into the IDE project explicitly - IDE will link it automatically provided that your Gradle configuration is correct.","body":"Btw it is not necessary to add the <code>genericname</code> into the IDE project explicitly - IDE will link it automatically provided that your Gradle configuration is correct."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1654677093,"post_id":72537449,"comment_id":128145218,"body_markdown":"If you are using Android, check this https://developer.android.com/studio/projects/android-library","body":"If you are using Android, check this <a href=\"https://developer.android.com/studio/projects/android-library\" rel=\"nofollow noreferrer\">developer.android.com/studio/projects/android-library</a>"},{"owner":{"account_id":4928475,"reputation":19,"user_id":3969053,"display_name":"cagoscra"},"score":0,"creation_date":1654707783,"post_id":72537449,"comment_id":128157977,"body_markdown":"I forgot to mention that these are two TestNGProjects the ones that I want to use.","body":"I forgot to mention that these are two TestNGProjects the ones that I want to use."}],"answers":[{"tags":[],"owner":{"account_id":4928475,"reputation":19,"user_id":3969053,"display_name":"cagoscra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655314756,"creation_date":1655314756,"answer_id":72635647,"question_id":72537449,"body_markdown":"It turns that Gradle doesn&#39;t have the feature to use other than src/main/java folder to import classes, I was using src/test/java to store my classes because I&#39;m using Selenium library to create test, but if they&#39;re in this location or path it will never be possible to use them with Gradle include or imports.","title":"What&#39;s the way I can link or use classes from a java gradle project in a new java gradle project?","body":"<p>It turns that Gradle doesn't have the feature to use other than src/main/java folder to import classes, I was using src/test/java to store my classes because I'm using Selenium library to create test, but if they're in this location or path it will never be possible to use them with Gradle include or imports.</p>\n"}],"owner":{"account_id":4928475,"reputation":19,"user_id":3969053,"display_name":"cagoscra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655314756,"creation_date":1654635172,"question_id":72537449,"body_markdown":"I don&#39;t know what I&#39;m doing incorrectly, because in my new java project I include the following methods in settings.gradle file\r\n\r\n    include &quot;:genericname&quot;\r\n    project(&quot;:genericname&quot;).projectDir = file(&quot;../path_of_the_project&quot;)\r\n\r\nAnd later I added to my build.gradle file the following\r\n\r\n    implementation project(&quot;:genericname&quot;)\r\n\r\nAlso I link the existing project with Gradle tab in IntelliJ to this new project. But still getting:\r\n\r\n&gt; Cannot resolve symbol &#39;GenericClass&#39;\r\n\r\nWhenever I want to import it to a new java class in the new project. Don&#39;t know if I get my point but the idea is simple use a gradle project into another new one.\r\n\r\nThis is where I&#39;m basing my project\r\nhttps://riptutorial.com/gradle/example/9627/depend-on-another-gradle-project","title":"What&#39;s the way I can link or use classes from a java gradle project in a new java gradle project?","body":"<p>I don't know what I'm doing incorrectly, because in my new java project I include the following methods in settings.gradle file</p>\n<pre><code>include &quot;:genericname&quot;\nproject(&quot;:genericname&quot;).projectDir = file(&quot;../path_of_the_project&quot;)\n</code></pre>\n<p>And later I added to my build.gradle file the following</p>\n<pre><code>implementation project(&quot;:genericname&quot;)\n</code></pre>\n<p>Also I link the existing project with Gradle tab in IntelliJ to this new project. But still getting:</p>\n<blockquote>\n<p>Cannot resolve symbol 'GenericClass'</p>\n</blockquote>\n<p>Whenever I want to import it to a new java class in the new project. Don't know if I get my point but the idea is simple use a gradle project into another new one.</p>\n<p>This is where I'm basing my project\n<a href=\"https://riptutorial.com/gradle/example/9627/depend-on-another-gradle-project\" rel=\"nofollow noreferrer\">https://riptutorial.com/gradle/example/9627/depend-on-another-gradle-project</a></p>\n"},{"tags":["java","flutter","dart"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1655327105,"post_id":72635635,"comment_id":128309644,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":24171284,"reputation":61,"user_id":18133328,"display_name":"Marya Baloch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655314708,"creation_date":1655314708,"question_id":72635635,"body_markdown":"FAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:audioplayers_android:compileDebugJavaWithJavac&#39;.\r\n&gt; Couldn&#39;t read file content: &#39;D:\\Flutter Projects\\xylophone_app_flutter\\build\\audioplayers_android\\tmp\\kotlin-classes\\debug\\xyz\\luan\\audioplayers\\LogLevel.class&#39;.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org","title":"Execution failed for task &#39;:audioplayers_android:compileDebugJavaWithJavac&#39;","body":"<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':audioplayers_android:compileDebugJavaWithJavac'.</li>\n</ul>\n<blockquote>\n<p>Couldn't read file content: 'D:\\Flutter Projects\\xylophone_app_flutter\\build\\audioplayers_android\\tmp\\kotlin-classes\\debug\\xyz\\luan\\audioplayers\\LogLevel.class'.</p>\n</blockquote>\n<ul>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p>\n</li>\n</ul>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1655250538,"post_id":72624505,"comment_id":128286898,"body_markdown":"Please edit your question to explain what difficulty you&#39;re having doing this.","body":"Please edit your question to explain what difficulty you&#39;re having doing this."},{"owner":{"account_id":25557543,"reputation":1,"user_id":19340776,"display_name":"LAki"},"score":0,"creation_date":1655280550,"post_id":72624505,"comment_id":128292508,"body_markdown":"Basically I don&#39;t know how to do it.","body":"Basically I don&#39;t know how to do it."}],"answers":[{"tags":[],"owner":{"account_id":11920339,"reputation":11,"user_id":8723125,"display_name":"nik0lau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655314338,"creation_date":1655314338,"answer_id":72635571,"question_id":72624505,"body_markdown":"You could register user requests by some user fingerprint inside your controller bean, and break the request whenever it comes within 30 seconds or in some extra cases.\r\n\r\nHere is my example,\r\n\r\n\r\n    package com.example.app.rest;\r\n    \r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    import java.time.LocalDateTime;\r\n    import java.util.*;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @RestController\r\n    @RequestMapping(value = &quot;/request-limited/&quot;)\r\n    public class RequestLimitedController {\r\n    \r\n        // Store user request in set inside the bean\r\n        private Set&lt;UserRequest&gt; requests = new HashSet&lt;&gt;();\r\n        private static class UserRequest {\r\n            public String userFingerprint; // we will use user ip as a fingerprint\r\n            public LocalDateTime lastRequestTime = LocalDateTime.now();\r\n            public Long count = 0L; // not used in this example, but you can limit the max number of request from the same ip\r\n    \r\n            public UserRequest(String userFingerprint) {\r\n                this.userFingerprint = userFingerprint;\r\n            }\r\n        }\r\n    \r\n    \r\n        @GetMapping(&quot;frequency-sensitive-request&quot;)\r\n        public ResponseEntity&lt;Object&gt; processFrequencySensitiveRequest(HttpServletRequest httpRequest) {\r\n    \r\n            // First, remove expired requests from set\r\n            requests = requests.stream()\r\n                    .filter( entry -&gt; entry.lastRequestTime.isAfter(LocalDateTime.now().minusHours(1)) )\r\n                    .collect(Collectors.toSet());\r\n    \r\n            String userFingerprint = httpRequest.getRemoteAddr();\r\n    \r\n            // Find the last request for this user\r\n            UserRequest userRequest = requests.stream().filter( r -&gt; r.userFingerprint.equals(userFingerprint)).findFirst().orElse(null);\r\n            if (userRequest!=null &amp;&amp; userRequest.lastRequestTime.isAfter(LocalDateTime.now().minusSeconds(30))) {\r\n                // if it was within 30 seconds, then throw 403\r\n                return ResponseEntity.status(HttpStatus.FORBIDDEN).build();\r\n            }\r\n            if (userRequest == null) {\r\n                // If it doesn&#39;t exist then create and register it\r\n                userRequest = new UserRequest(userFingerprint);\r\n                requests.add(userRequest);\r\n            }\r\n            // Update count and time\r\n            userRequest.count++;\r\n            userRequest.lastRequestTime = LocalDateTime.now();\r\n    \r\n            // Process the request here\r\n    \r\n            return ResponseEntity.ok().build();\r\n        }\r\n    \r\n    }\r\n\r\n","title":"It is necessary to limit the ability to resend codes via SMS","body":"<p>You could register user requests by some user fingerprint inside your controller bean, and break the request whenever it comes within 30 seconds or in some extra cases.</p>\n<p>Here is my example,</p>\n<pre><code>package com.example.app.rest;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport javax.servlet.http.HttpServletRequest;\nimport java.time.LocalDateTime;\nimport java.util.*;\nimport java.util.stream.Collectors;\n\n@RestController\n@RequestMapping(value = &quot;/request-limited/&quot;)\npublic class RequestLimitedController {\n\n    // Store user request in set inside the bean\n    private Set&lt;UserRequest&gt; requests = new HashSet&lt;&gt;();\n    private static class UserRequest {\n        public String userFingerprint; // we will use user ip as a fingerprint\n        public LocalDateTime lastRequestTime = LocalDateTime.now();\n        public Long count = 0L; // not used in this example, but you can limit the max number of request from the same ip\n\n        public UserRequest(String userFingerprint) {\n            this.userFingerprint = userFingerprint;\n        }\n    }\n\n\n    @GetMapping(&quot;frequency-sensitive-request&quot;)\n    public ResponseEntity&lt;Object&gt; processFrequencySensitiveRequest(HttpServletRequest httpRequest) {\n\n        // First, remove expired requests from set\n        requests = requests.stream()\n                .filter( entry -&gt; entry.lastRequestTime.isAfter(LocalDateTime.now().minusHours(1)) )\n                .collect(Collectors.toSet());\n\n        String userFingerprint = httpRequest.getRemoteAddr();\n\n        // Find the last request for this user\n        UserRequest userRequest = requests.stream().filter( r -&gt; r.userFingerprint.equals(userFingerprint)).findFirst().orElse(null);\n        if (userRequest!=null &amp;&amp; userRequest.lastRequestTime.isAfter(LocalDateTime.now().minusSeconds(30))) {\n            // if it was within 30 seconds, then throw 403\n            return ResponseEntity.status(HttpStatus.FORBIDDEN).build();\n        }\n        if (userRequest == null) {\n            // If it doesn't exist then create and register it\n            userRequest = new UserRequest(userFingerprint);\n            requests.add(userRequest);\n        }\n        // Update count and time\n        userRequest.count++;\n        userRequest.lastRequestTime = LocalDateTime.now();\n\n        // Process the request here\n\n        return ResponseEntity.ok().build();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25557543,"reputation":1,"user_id":19340776,"display_name":"LAki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655314338,"creation_date":1655250403,"question_id":72624505,"body_markdown":"I need to check if the user re-requests sending SMS more than once every 30 seconds, I need to return an error that the action is performed too often and the remaining time until the next send.\r\n\r\nThe controller itself\r\n```java\r\n@PostMapping(&quot;/resend/sms&quot;)\r\n@PreAuthorize(&quot;hasAuthority(&#39;ROLE_ADMIN&#39;) or hasAuthority(&#39;SCOPE_trusted&#39;)&quot;)\r\npublic Mono&lt;UserDTO&gt; trustedResendRegistrationSms(\r\n        @Validated @RequestBody RegistrationDTO registrationDTO,) {\r\n    return accountService.resendRegistrationSms(registrationDTO.getLogin());\r\n}\r\n```","title":"It is necessary to limit the ability to resend codes via SMS","body":"<p>I need to check if the user re-requests sending SMS more than once every 30 seconds, I need to return an error that the action is performed too often and the remaining time until the next send.</p>\n<p>The controller itself</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/resend/sms&quot;)\n@PreAuthorize(&quot;hasAuthority('ROLE_ADMIN') or hasAuthority('SCOPE_trusted')&quot;)\npublic Mono&lt;UserDTO&gt; trustedResendRegistrationSms(\n        @Validated @RequestBody RegistrationDTO registrationDTO,) {\n    return accountService.resendRegistrationSms(registrationDTO.getLogin());\n}\n</code></pre>\n"},{"tags":["java","spring-boot","docker","apple-m1","apple-silicon"],"comments":[{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1655314486,"post_id":72635561,"comment_id":128305512,"body_markdown":"You&#39;ve shown us the work you&#39;ve done, but you haven&#39;t shown us where you got stuck after that work. Each Stack Overflow question should be about one narrow, specific technical problem -- if you get stuck in multiple places, each place should result in a different question, and the question should clearly specify the individual problem it&#39;s about.","body":"You&#39;ve shown us the work you&#39;ve done, but you haven&#39;t shown us where you got stuck after that work. Each Stack Overflow question should be about one narrow, specific technical problem -- if you get stuck in multiple places, each place should result in a different question, and the question should clearly specify the individual problem it&#39;s about."},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1655314701,"post_id":72635561,"comment_id":128305584,"body_markdown":"Technically I am not stuck my images work and are running as containers. Only the warning message from docker docker desktop concerned me, saying performance can be lagging. Like in my post","body":"Technically I am not stuck my images work and are running as containers. Only the warning message from docker docker desktop concerned me, saying performance can be lagging. Like in my post"},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1655323955,"post_id":72635561,"comment_id":128308752,"body_markdown":"Okay, so the code you&#39;re showing isn&#39;t an attempt to build a native container, but the source for your existing non-native container? That wasn&#39;t clear from the question.","body":"Okay, so the code you&#39;re showing isn&#39;t an attempt to build a native container, but the source for your existing non-native container? That wasn&#39;t clear from the question."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1655324051,"post_id":72635561,"comment_id":128308780,"body_markdown":"In general, this is mostly a question of the Docker Desktop installation you run -- if it&#39;s running an arm64-native Linux VM, then you have a native arm64 Linux for all your Docker containers; if it&#39;s running an x86_64-native Linux VM, then you have x86_64 for all your containers. (Maybe new versions support running multiple VMs with and without CPU emulation, but that&#39;s a Docker Desktop question).","body":"In general, this is mostly a question of the Docker Desktop installation you run -- if it&#39;s running an arm64-native Linux VM, then you have a native arm64 Linux for all your Docker containers; if it&#39;s running an x86_64-native Linux VM, then you have x86_64 for all your containers. (Maybe new versions support running multiple VMs with and without CPU emulation, but that&#39;s a Docker Desktop question)."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1655324177,"post_id":72635561,"comment_id":128308820,"body_markdown":"That said, reading the high-level docs at https://docs.docker.com/desktop/mac/apple-silicon/, it looks like arm64 is default, and to get x86_64 you&#39;d need a `--platform` argument with the current release. Make sure you&#39;re actually running that current release.","body":"That said, reading the high-level docs at <a href=\"https://docs.docker.com/desktop/mac/apple-silicon/\" rel=\"nofollow noreferrer\">docs.docker.com/desktop/mac/apple-silicon</a>, it looks like arm64 is default, and to get x86_64 you&#39;d need a <code>--platform</code> argument with the current release. Make sure you&#39;re actually running that current release."}],"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655314306,"creation_date":1655314306,"question_id":72635561,"body_markdown":"I have an m1 max macbook pro and wanted to convert an docker image I once did on an ubuntu device to arm64. I am not an docker expert why I am trying to do this is because docker desktop currently tells me the following when I start my own docker image:\r\n\r\n    Image may have poor performance or fail if run via emulation and then there is an amd tag\r\n\r\nThe image I am trying to start is a simple jhipster generated spring boot application micro service.\r\n\r\nThis is the docker file to generate:\r\n\r\n    # [Choice] Java version (use -bullseye variants on local arm64/Apple Silicon): 11, 17, 11-bullseye, 17-bullseye, 11-buster, 17-buster\r\n    ARG VARIANT=&quot;11&quot;\r\n    FROM mcr.microsoft.com/vscode/devcontainers/java:0-${VARIANT}\r\n    \r\n    # [Option] Install Maven\r\n    ARG INSTALL_MAVEN=&quot;false&quot;\r\n    ARG MAVEN_VERSION=&quot;&quot;\r\n    # [Option] Install Gradle\r\n    ARG INSTALL_GRADLE=&quot;false&quot;\r\n    ARG GRADLE_VERSION=&quot;&quot;\r\n    RUN if [ &quot;${INSTALL_MAVEN}&quot; = &quot;true&quot; ]; then su vscode -c &quot;umask 0002 &amp;&amp; . /usr/local/sdkman/bin/sdkman-init.sh &amp;&amp; sdk install maven \\&quot;${MAVEN_VERSION}\\&quot;&quot;; fi \\\r\n        &amp;&amp; if [ &quot;${INSTALL_GRADLE}&quot; = &quot;true&quot; ]; then su vscode -c &quot;umask 0002 &amp;&amp; . /usr/local/sdkman/bin/sdkman-init.sh &amp;&amp; sdk install gradle \\&quot;${GRADLE_VERSION}\\&quot;&quot;; fi\r\n    \r\n    # [Choice] Node.js version: none, lts/*, 16, 14, 12, 10\r\n    ARG NODE_VERSION=&quot;none&quot;\r\n    RUN if [ &quot;${NODE_VERSION}&quot; != &quot;none&quot; ]; then su vscode -c &quot;umask 0002 &amp;&amp; . /usr/local/share/nvm/nvm.sh &amp;&amp; nvm install ${NODE_VERSION} 2&gt;&amp;1&quot;; fi\r\n\r\n\r\nThis is how my docker-compose looks like (only service I am interested right now)\r\n\r\n     product:\r\n        image: product\r\n        environment:\r\n          - _JAVA_OPTIONS=-Xmx512m -Xms256m\r\n          - SPRING_PROFILES_ACTIVE=dev,api-docs\r\n          - MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED=true\r\n          - EUREKA_CLIENT_SERVICE_URL_DEFAULTZONE=http://admin:$${jhipster.registry.password}@jhipster-registry:8761/eureka\r\n          - SPRING_CLOUD_CONFIG_URI=http://admin:$${jhipster.registry.password}@jhipster-registry:8761/config\r\n          - JHIPSTER_SLEEP=30\r\n          - JHIPSTER_REGISTRY_PASSWORD=admin\r\n        ports:\r\n          - &#39;8081:8081&#39;\r\n\r\nI am pretty new to the apple silicon and docker so every help is appreciated","title":"How to build an docker image for m1 max","body":"<p>I have an m1 max macbook pro and wanted to convert an docker image I once did on an ubuntu device to arm64. I am not an docker expert why I am trying to do this is because docker desktop currently tells me the following when I start my own docker image:</p>\n<pre><code>Image may have poor performance or fail if run via emulation and then there is an amd tag\n</code></pre>\n<p>The image I am trying to start is a simple jhipster generated spring boot application micro service.</p>\n<p>This is the docker file to generate:</p>\n<pre><code># [Choice] Java version (use -bullseye variants on local arm64/Apple Silicon): 11, 17, 11-bullseye, 17-bullseye, 11-buster, 17-buster\nARG VARIANT=&quot;11&quot;\nFROM mcr.microsoft.com/vscode/devcontainers/java:0-${VARIANT}\n\n# [Option] Install Maven\nARG INSTALL_MAVEN=&quot;false&quot;\nARG MAVEN_VERSION=&quot;&quot;\n# [Option] Install Gradle\nARG INSTALL_GRADLE=&quot;false&quot;\nARG GRADLE_VERSION=&quot;&quot;\nRUN if [ &quot;${INSTALL_MAVEN}&quot; = &quot;true&quot; ]; then su vscode -c &quot;umask 0002 &amp;&amp; . /usr/local/sdkman/bin/sdkman-init.sh &amp;&amp; sdk install maven \\&quot;${MAVEN_VERSION}\\&quot;&quot;; fi \\\n    &amp;&amp; if [ &quot;${INSTALL_GRADLE}&quot; = &quot;true&quot; ]; then su vscode -c &quot;umask 0002 &amp;&amp; . /usr/local/sdkman/bin/sdkman-init.sh &amp;&amp; sdk install gradle \\&quot;${GRADLE_VERSION}\\&quot;&quot;; fi\n\n# [Choice] Node.js version: none, lts/*, 16, 14, 12, 10\nARG NODE_VERSION=&quot;none&quot;\nRUN if [ &quot;${NODE_VERSION}&quot; != &quot;none&quot; ]; then su vscode -c &quot;umask 0002 &amp;&amp; . /usr/local/share/nvm/nvm.sh &amp;&amp; nvm install ${NODE_VERSION} 2&gt;&amp;1&quot;; fi\n</code></pre>\n<p>This is how my docker-compose looks like (only service I am interested right now)</p>\n<pre><code> product:\n    image: product\n    environment:\n      - _JAVA_OPTIONS=-Xmx512m -Xms256m\n      - SPRING_PROFILES_ACTIVE=dev,api-docs\n      - MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED=true\n      - EUREKA_CLIENT_SERVICE_URL_DEFAULTZONE=http://admin:$${jhipster.registry.password}@jhipster-registry:8761/eureka\n      - SPRING_CLOUD_CONFIG_URI=http://admin:$${jhipster.registry.password}@jhipster-registry:8761/config\n      - JHIPSTER_SLEEP=30\n      - JHIPSTER_REGISTRY_PASSWORD=admin\n    ports:\n      - '8081:8081'\n</code></pre>\n<p>I am pretty new to the apple silicon and docker so every help is appreciated</p>\n"},{"tags":["java","linked-list","selection-sort"],"comments":[{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":1,"creation_date":1655311488,"post_id":72634608,"comment_id":128304568,"body_markdown":"Are you coming from C++? The STL there puts a lot of effort into allowing efficient swaps and in-place modifications and such, but Java does not. Afaik there is no way to do this with `java.util.LinkedList`, even if you were to extend it. It exists because it has different useful performance characteristics such as O(1) insert/remove in front.","body":"Are you coming from C++? The STL there puts a lot of effort into allowing efficient swaps and in-place modifications and such, but Java does not. Afaik there is no way to do this with <code>java.util.LinkedList</code>, even if you were to extend it. It exists because it has different useful performance characteristics such as O(1) insert/remove in front."},{"owner":{"account_id":8401911,"reputation":3695,"user_id":6306782,"accept_rate":75,"display_name":"z32a7ul"},"score":0,"creation_date":1655313088,"post_id":72634608,"comment_id":128305103,"body_markdown":"Yes, I used C++ a lot, and I used linked lists i C, as well. I always thought that LinkedLists are in Java for fast insertion/removal. So you say, its supposed to be fast only when inserting in front? Is there another library class that I could use like I described.","body":"Yes, I used C++ a lot, and I used linked lists i C, as well. I always thought that LinkedLists are in Java for fast insertion/removal. So you say, its supposed to be fast only when inserting in front? Is there another library class that I could use like I described."},{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":0,"creation_date":1655315837,"post_id":72634608,"comment_id":128305982,"body_markdown":"Fast insertion in front is only one case , there are others (&quot;such as&quot; means &quot;for example&quot;).","body":"Fast insertion in front is only one case , there are others (&quot;such as&quot; means &quot;for example&quot;)."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655312987,"creation_date":1655312987,"answer_id":72635321,"question_id":72634608,"body_markdown":"&gt; I am interested in demonstrating the advantages (fast insertion and removal) and disadvantages of linked lists compared to arrays.\r\n\r\nCongratulations!! You have succeeded in showing the disadvantages of java&#39;s particular implementation of LinkedLists. They suck, don&#39;t use them - their performance is worse than big-O notation suggests (modern CPU architecture and linked lists just don&#39;t like each other), and actually trying to use the advantages is impossible without bending over backwards and using `ListIterator`. However, ListIterator&#39;s API is not sufficient to do stuff like swapping elements, because you don&#39;t get direct access to the tracker nodes (the nodes containing the prev, next, and value fields).\r\n\r\n&gt; then why do LinkedLists exist at all?\r\n\r\nThey probably shouldn&#39;t exist in the first place. &quot;Why do they?&quot; is tantamount to asking: &quot;What was the core java dev team thinking somewhere in the 90s, when this stuff was written?&quot;\r\n\r\nWe can guess.\r\n\r\n* It feels logical to write. Some things make perfect sense until you think about it very carefully and then it doesn&#39;t. Someone simply failed to truly think it through.\r\n* LinkedList as a concept is very well known, and every fundamental informatics chapter about lists and how to implement them mentions them in the same breath as array-style lists.\r\n* The &#39;cost&#39; of arraylist growth is amortized - usually it costs 0, but every so often the backing array is &#39;full&#39; and the ArrayList impl needs to make an entirely new array, copy all elements over. So, amortized - cheap, but it comes in &#39;bursts&#39;. Every so often an `arraylist.add()` call takes a ton of time, relatively speaking. __These days__ that&#39;s completely irrelevant; if you want to write an app that never gets that kind of sudden slowdown, the JVM is not what you want (garbage collection pauses, OSes that pause, etc), so the &#39;benefit&#39; is irrelevant. But it was (deemed to be) relevant way back then in the 90s when it was written. People would definitely expect an impl and would file feature requests for it, even if the core team did realize it was probably rarely a good idea to actually use them.\r\n* Java definitely won&#39;t remove them - once introduced, they stay, unless there is an extremely compelling reason not to. Backwards compatibility is good to have.\r\n* LinkedList predates ArrayDeque and most other collection classes (LinkedList was an original addition. It wasn&#39;t in java 1.0 (only Vector and Hashtable were), but it was in 1.1, which introduced the hierarchy (Collection, List, Set, Map, HashMap, ArrayList, and LinkedList). At one time it offered fast insertion at front and fast insertion at end without hardship (i.e. without having to first slow-roll navigate a ListIterator to the insertion point), a property no other type had at the time. __Today__, whatever problem you have that needs a collection, it is __extremely__ unlikely LinkedList is correct, but back then, it was somewhat more likely.\r\n* The extremely bad performance characteristic of LinkedList, explicitly not in big-O notation sense but in pragmatic sense - how those tracker objects tend to cause lots of cache page misses and thus they are ridiculously slow even when they should be fast, algorithmically - was far, far less of a factor back then. In the 90s, the cost of a cache miss was a few cycles and many processors didn&#39;t have them in the first place. Today the cost is enormous - a thousand cycles.\r\n* Most of all, who knows. Someone decided to write it. Doesn&#39;t mean you should use it.","title":"Selection sort with LinkedList in Java","body":"<blockquote>\n<p>I am interested in demonstrating the advantages (fast insertion and removal) and disadvantages of linked lists compared to arrays.</p>\n</blockquote>\n<p>Congratulations!! You have succeeded in showing the disadvantages of java's particular implementation of LinkedLists. They suck, don't use them - their performance is worse than big-O notation suggests (modern CPU architecture and linked lists just don't like each other), and actually trying to use the advantages is impossible without bending over backwards and using <code>ListIterator</code>. However, ListIterator's API is not sufficient to do stuff like swapping elements, because you don't get direct access to the tracker nodes (the nodes containing the prev, next, and value fields).</p>\n<blockquote>\n<p>then why do LinkedLists exist at all?</p>\n</blockquote>\n<p>They probably shouldn't exist in the first place. &quot;Why do they?&quot; is tantamount to asking: &quot;What was the core java dev team thinking somewhere in the 90s, when this stuff was written?&quot;</p>\n<p>We can guess.</p>\n<ul>\n<li>It feels logical to write. Some things make perfect sense until you think about it very carefully and then it doesn't. Someone simply failed to truly think it through.</li>\n<li>LinkedList as a concept is very well known, and every fundamental informatics chapter about lists and how to implement them mentions them in the same breath as array-style lists.</li>\n<li>The 'cost' of arraylist growth is amortized - usually it costs 0, but every so often the backing array is 'full' and the ArrayList impl needs to make an entirely new array, copy all elements over. So, amortized - cheap, but it comes in 'bursts'. Every so often an <code>arraylist.add()</code> call takes a ton of time, relatively speaking. <strong>These days</strong> that's completely irrelevant; if you want to write an app that never gets that kind of sudden slowdown, the JVM is not what you want (garbage collection pauses, OSes that pause, etc), so the 'benefit' is irrelevant. But it was (deemed to be) relevant way back then in the 90s when it was written. People would definitely expect an impl and would file feature requests for it, even if the core team did realize it was probably rarely a good idea to actually use them.</li>\n<li>Java definitely won't remove them - once introduced, they stay, unless there is an extremely compelling reason not to. Backwards compatibility is good to have.</li>\n<li>LinkedList predates ArrayDeque and most other collection classes (LinkedList was an original addition. It wasn't in java 1.0 (only Vector and Hashtable were), but it was in 1.1, which introduced the hierarchy (Collection, List, Set, Map, HashMap, ArrayList, and LinkedList). At one time it offered fast insertion at front and fast insertion at end without hardship (i.e. without having to first slow-roll navigate a ListIterator to the insertion point), a property no other type had at the time. <strong>Today</strong>, whatever problem you have that needs a collection, it is <strong>extremely</strong> unlikely LinkedList is correct, but back then, it was somewhat more likely.</li>\n<li>The extremely bad performance characteristic of LinkedList, explicitly not in big-O notation sense but in pragmatic sense - how those tracker objects tend to cause lots of cache page misses and thus they are ridiculously slow even when they should be fast, algorithmically - was far, far less of a factor back then. In the 90s, the cost of a cache miss was a few cycles and many processors didn't have them in the first place. Today the cost is enormous - a thousand cycles.</li>\n<li>Most of all, who knows. Someone decided to write it. Doesn't mean you should use it.</li>\n</ul>\n"}],"owner":{"account_id":8401911,"reputation":3695,"user_id":6306782,"accept_rate":75,"display_name":"z32a7ul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72635321,"answer_count":1,"score":0,"last_activity_date":1655312987,"creation_date":1655309470,"question_id":72634608,"body_markdown":"I would like to implement selection sort using LinkedList in Java.\r\n\r\nI know how to do it with ArrayList, please don&#39;t comment that I should use it instead. I am interested in demonstrating the advantages (fast insertion and removal) and disadvantages of linked lists compared to arrays.\r\n\r\nI know how to do this in C where I have pointers and access to the list&#39;s node struct. But in Java the closest thing I found is the ListIterator.\r\n\r\nHere is my code that compiles and works:\r\n\r\n    class Pile {\r\n        private final List&lt; Card &gt; cards;\r\n    \r\n        public void sortWithSelectionSortUsingLinkedList( final Comparator&lt; Card &gt; comparator ) {\r\n            final List&lt; Card &gt; list = new LinkedList&lt; Card &gt;( cards );\r\n            cards.clear();\r\n            \r\n            for( final ListIterator&lt; Card &gt; it = list.listIterator(); it.hasNext(); ) {\r\n                final int currentIndex = it.nextIndex();\r\n                final Card currentCard = it.next();\r\n                int indexToMoveToCurrent = currentIndex;\r\n                Card cardToMoveToCurrent = currentCard;\r\n                for( final ListIterator&lt; Card &gt; jt = list.listIterator( it.nextIndex() ); jt.hasNext(); ) { // Problem A\r\n                    int indexPossiblyLower = jt.nextIndex();\r\n                    Card cardPossiblyLower = jt.next();\r\n                    if( comparator.compare( cardPossiblyLower, cardToMoveToCurrent ) &lt; 0 ) {\r\n                        cardToMoveToCurrent = cardPossiblyLower;\r\n                        indexToMoveToCurrent = indexPossiblyLower;\r\n                    }\r\n                }\r\n                it.set( cardToMoveToCurrent );\r\n                list.set( indexToMoveToCurrent, currentCard ); // Problem B\r\n                // The below swapping code causes ConcurrentModificationException // Problem C\r\n                // it.previous();\r\n                // it.add( list.remove( indexToMoveToCurrent ) );\r\n            }\r\n            \r\n            cards.addAll( list );\r\n        }\r\n    }\r\n\r\nMy problems are the following:\r\n\r\nA) To iterate from 1 beyond the position of the outer iterator (it), I have to call listIterator with and index. I suspect that this method walks from the beginning of the list to the given position. This is wasteful because we already have an iterator to an element before. How can I efficiently iterate from a given iterator until the end of the list?\r\n\r\nB) To swap elements, I have to use list.set with and index which causes the same inefficiency as A).\r\n\r\nC) I planned to swap the elements by modifying the list nodes, not just their value. As I understand my current code leads to the middle of the below diagram, while I wanted to get to the bottom part:\r\n[![LinkedList modification][1]][1]\r\n\r\nIn the current algorithm this may make no difference but I would like to examine other sorting algorithms, and this LinkedList does not work as I expected.\r\n\r\nA one-on-one swapping is not the same as removing an element and inserting it before another. Example: abcdefgh is the original, swapping b and f leads to afcdebgh, while removing and inserting f before b would result in afbcdegh. I thought LinkedLists can perform the latter efficiently. If I can use them only like Arrays, then why do LinkedLists exist at all?\r\n\r\n  [1]: https://i.stack.imgur.com/BUWsd.png\r\n","title":"Selection sort with LinkedList in Java","body":"<p>I would like to implement selection sort using LinkedList in Java.</p>\n<p>I know how to do it with ArrayList, please don't comment that I should use it instead. I am interested in demonstrating the advantages (fast insertion and removal) and disadvantages of linked lists compared to arrays.</p>\n<p>I know how to do this in C where I have pointers and access to the list's node struct. But in Java the closest thing I found is the ListIterator.</p>\n<p>Here is my code that compiles and works:</p>\n<pre><code>class Pile {\n    private final List&lt; Card &gt; cards;\n\n    public void sortWithSelectionSortUsingLinkedList( final Comparator&lt; Card &gt; comparator ) {\n        final List&lt; Card &gt; list = new LinkedList&lt; Card &gt;( cards );\n        cards.clear();\n        \n        for( final ListIterator&lt; Card &gt; it = list.listIterator(); it.hasNext(); ) {\n            final int currentIndex = it.nextIndex();\n            final Card currentCard = it.next();\n            int indexToMoveToCurrent = currentIndex;\n            Card cardToMoveToCurrent = currentCard;\n            for( final ListIterator&lt; Card &gt; jt = list.listIterator( it.nextIndex() ); jt.hasNext(); ) { // Problem A\n                int indexPossiblyLower = jt.nextIndex();\n                Card cardPossiblyLower = jt.next();\n                if( comparator.compare( cardPossiblyLower, cardToMoveToCurrent ) &lt; 0 ) {\n                    cardToMoveToCurrent = cardPossiblyLower;\n                    indexToMoveToCurrent = indexPossiblyLower;\n                }\n            }\n            it.set( cardToMoveToCurrent );\n            list.set( indexToMoveToCurrent, currentCard ); // Problem B\n            // The below swapping code causes ConcurrentModificationException // Problem C\n            // it.previous();\n            // it.add( list.remove( indexToMoveToCurrent ) );\n        }\n        \n        cards.addAll( list );\n    }\n}\n</code></pre>\n<p>My problems are the following:</p>\n<p>A) To iterate from 1 beyond the position of the outer iterator (it), I have to call listIterator with and index. I suspect that this method walks from the beginning of the list to the given position. This is wasteful because we already have an iterator to an element before. How can I efficiently iterate from a given iterator until the end of the list?</p>\n<p>B) To swap elements, I have to use list.set with and index which causes the same inefficiency as A).</p>\n<p>C) I planned to swap the elements by modifying the list nodes, not just their value. As I understand my current code leads to the middle of the below diagram, while I wanted to get to the bottom part:\n<a href=\"https://i.stack.imgur.com/BUWsd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BUWsd.png\" alt=\"LinkedList modification\" /></a></p>\n<p>In the current algorithm this may make no difference but I would like to examine other sorting algorithms, and this LinkedList does not work as I expected.</p>\n<p>A one-on-one swapping is not the same as removing an element and inserting it before another. Example: abcdefgh is the original, swapping b and f leads to afcdebgh, while removing and inserting f before b would result in afbcdegh. I thought LinkedLists can perform the latter efficiently. If I can use them only like Arrays, then why do LinkedLists exist at all?</p>\n"},{"tags":["java","android","android-recyclerview","notifyitemchanged"],"comments":[{"owner":{"account_id":13155252,"reputation":294,"user_id":9502601,"display_name":"Shayan Samad"},"score":0,"creation_date":1655295211,"post_id":72631144,"comment_id":128297656,"body_markdown":"did you tried putting a breakpoint inside onBindViewHolder() and see if its going in it or not when you add items to favorite.","body":"did you tried putting a breakpoint inside onBindViewHolder() and see if its going in it or not when you add items to favorite."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1655647619,"post_id":72631144,"comment_id":128376592,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25562052,"reputation":1,"user_id":19344515,"display_name":"Hasabat Merkez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655312194,"creation_date":1655294994,"question_id":72631144,"body_markdown":"My code adds items to favorites in SQLite:\r\n\r\n~~~java\r\nif (productsArray.get(getAdapterPosition()).isFavorite()){\r\n    productsArray.get(getAdapterPosition()).setFavorite(false);\r\n}else{\r\n    productsArray.get(getAdapterPosition()).setFavorite(true);\r\n}\r\nnotifyItemChanged(getAdapterPosition());\r\n~~~\r\n\r\nMy &quot;notify item changed&quot; function is not working for view. In my onBindViewHolder(), the favorite image is not changing\r\n\r\n~~~java\r\nif (products.isFavorite()){\r\n    holder.fav_img.setImageDrawable(context.getDrawable(R.drawable.ic_favorite_on));\r\n}else{\r\n    fav_img.setImageDrawable(context.getDrawable(R.drawable.ic_favorite_off));\r\n}\r\n~~~","title":"Notify item changed is not working in recyclerview","body":"<p>My code adds items to favorites in SQLite:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (productsArray.get(getAdapterPosition()).isFavorite()){\n    productsArray.get(getAdapterPosition()).setFavorite(false);\n}else{\n    productsArray.get(getAdapterPosition()).setFavorite(true);\n}\nnotifyItemChanged(getAdapterPosition());\n</code></pre>\n<p>My &quot;notify item changed&quot; function is not working for view. In my onBindViewHolder(), the favorite image is not changing</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (products.isFavorite()){\n    holder.fav_img.setImageDrawable(context.getDrawable(R.drawable.ic_favorite_on));\n}else{\n    fav_img.setImageDrawable(context.getDrawable(R.drawable.ic_favorite_off));\n}\n</code></pre>\n"},{"tags":["java","generics","contravariance"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655312109,"creation_date":1655312109,"answer_id":72635145,"question_id":72635064,"body_markdown":"None of this makes sense. You don&#39;t _need_ that `TIn` in the first place:\r\n\r\n```\r\npublic interface Foo&lt;T&gt; {\r\n  void encode(T value);\r\n  T decode;\r\n}\r\n\r\nclass Example {\r\n  void test() {\r\n    Foo&lt;HashMap&lt;String, Integer&gt;&gt; foo = null;\r\n    foo.encode(new HashMap&lt;String, Integer&gt;());\r\n  }\r\n}\r\n```\r\n\r\nThis compiles just fine. In general if you declare a new typevar that is used in only 1 place, it&#39;s pointless - typevars are solely a thing `javac` worries about, the runtime doesn&#39;t know what generics (typevars) are. Hence, it doesn&#39;t make much sense to use them unless they serve to link 2 different places where a type is mentioned, e.g. &#39;the type of parameter to the encode method, the return type of the decode() method? I don&#39;t care what it is, but, for any given usage of the `Foo` type, it&#39;s the same - that kind of &#39;linking&#39;).\r\n\r\nGiven that there&#39;s no need to introduce an additional type param on the `encode` method, there&#39;s no need to try to declare a new type var there.\r\n\r\nThe usual alternative to a typevar that is used in just a single location is `?`. There is no functional difference between `&lt;F&gt; void foo(List&lt;F&gt; in)` and `void foo(List&lt;?&gt; in)`.","title":"Workarounds to implement interface including &lt;TIn extends T&gt;, with X[] type parameter","body":"<p>None of this makes sense. You don't <em>need</em> that <code>TIn</code> in the first place:</p>\n<pre><code>public interface Foo&lt;T&gt; {\n  void encode(T value);\n  T decode;\n}\n\nclass Example {\n  void test() {\n    Foo&lt;HashMap&lt;String, Integer&gt;&gt; foo = null;\n    foo.encode(new HashMap&lt;String, Integer&gt;());\n  }\n}\n</code></pre>\n<p>This compiles just fine. In general if you declare a new typevar that is used in only 1 place, it's pointless - typevars are solely a thing <code>javac</code> worries about, the runtime doesn't know what generics (typevars) are. Hence, it doesn't make much sense to use them unless they serve to link 2 different places where a type is mentioned, e.g. 'the type of parameter to the encode method, the return type of the decode() method? I don't care what it is, but, for any given usage of the <code>Foo</code> type, it's the same - that kind of 'linking').</p>\n<p>Given that there's no need to introduce an additional type param on the <code>encode</code> method, there's no need to try to declare a new type var there.</p>\n<p>The usual alternative to a typevar that is used in just a single location is <code>?</code>. There is no functional difference between <code>&lt;F&gt; void foo(List&lt;F&gt; in)</code> and <code>void foo(List&lt;?&gt; in)</code>.</p>\n"}],"owner":{"account_id":4889179,"reputation":1404,"user_id":3940783,"display_name":"David E"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72635145,"answer_count":1,"score":1,"last_activity_date":1655312109,"creation_date":1655311702,"question_id":72635064,"body_markdown":"Let&#39;s say we have some interface like this:\r\n\r\n```\r\npublic interface Foo&lt;T&gt; {\r\n\r\n   &lt;TIn extends T&gt; void encode(TIn value)\r\n\r\n   T decode()\r\n\r\n}\r\n```\r\n\r\nI&#39;m using Foo a lot in my codebase, but I wish to add the `TIn extends T` to make it more flexible, to eg have a `Foo&lt;Map&lt;X&gt;&gt;` able to `encode` a `HashMap&lt;X&gt;` or a `TreeMap&lt;X&gt;`.\r\n\r\nThis works really well - until I tried to implement `Foo&lt;T[]&gt;`, where it seems to be impossible to implement, with `public &lt;TIn extends TItem[]&gt; void encode(TIn array)` giving a parse error &quot;`&gt; expected`&quot; when it hits the brackets `[]`. Even IntelliJ does nothing when it volunteers to implement the interface.\r\n\r\nFor what it&#39;s worth, if T is some other concrete final type (eg byte[], Boolean, etc), it seems that I can satisfy the interface by just returning T, so it seems to do some hidden intelligent fixing here. So it seems that it&#39;s just a problem with `T[]` where it can&#39;t detect `T[]` is final. \r\n\r\nDoes anyone have any ideas about how I can workaround this? I don&#39;t really care that `TIn extends byte[]` can only be met with `TIn = byte[]`, I just want to implement the interface for the compiler to be happy; and so that this interface can be used elsewhere.\r\n\r\n","title":"Workarounds to implement interface including &lt;TIn extends T&gt;, with X[] type parameter","body":"<p>Let's say we have some interface like this:</p>\n<pre><code>public interface Foo&lt;T&gt; {\n\n   &lt;TIn extends T&gt; void encode(TIn value)\n\n   T decode()\n\n}\n</code></pre>\n<p>I'm using Foo a lot in my codebase, but I wish to add the <code>TIn extends T</code> to make it more flexible, to eg have a <code>Foo&lt;Map&lt;X&gt;&gt;</code> able to <code>encode</code> a <code>HashMap&lt;X&gt;</code> or a <code>TreeMap&lt;X&gt;</code>.</p>\n<p>This works really well - until I tried to implement <code>Foo&lt;T[]&gt;</code>, where it seems to be impossible to implement, with <code>public &lt;TIn extends TItem[]&gt; void encode(TIn array)</code> giving a parse error &quot;<code>&gt; expected</code>&quot; when it hits the brackets <code>[]</code>. Even IntelliJ does nothing when it volunteers to implement the interface.</p>\n<p>For what it's worth, if T is some other concrete final type (eg byte[], Boolean, etc), it seems that I can satisfy the interface by just returning T, so it seems to do some hidden intelligent fixing here. So it seems that it's just a problem with <code>T[]</code> where it can't detect <code>T[]</code> is final.</p>\n<p>Does anyone have any ideas about how I can workaround this? I don't really care that <code>TIn extends byte[]</code> can only be met with <code>TIn = byte[]</code>, I just want to implement the interface for the compiler to be happy; and so that this interface can be used elsewhere.</p>\n"},{"tags":["java","sql","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":8546306,"reputation":41,"user_id":6404739,"display_name":"ViDolf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655306380,"creation_date":1655306380,"answer_id":72633928,"question_id":72633792,"body_markdown":"Spring Data JPA supports rewrite query sql, like:\r\n```\r\npublic interface ResumeDao extends JpaRepository&lt;Resume, Long&gt;, \r\n    JpaSpecificationExecutor&lt;Resume&gt; {\r\n\r\n&#160;&#160;@Query(&quot;from Resume where id = ?1&quot;)\r\n&#160;&#160;public List&lt;Resume&gt; findByJpql(Long id);\r\n\r\n&#160;&#160;@Query(value = &quot;select * from tb_resume where id = ?1&quot;, nativeQuery = true)\r\n&#160;&#160;public Resume findBySql(Long id);\r\n}\r\n```\r\nSo you can try to rewrite a SQL and the corresponding method ?","title":"How to COUNT GROUP BY using JPARepository JPASpecificationExecutor with CustomSpecification","body":"<p>Spring Data JPA supports rewrite query sql, like:</p>\n<pre><code>public interface ResumeDao extends JpaRepository&lt;Resume, Long&gt;, \n    JpaSpecificationExecutor&lt;Resume&gt; {\n\n  @Query(&quot;from Resume where id = ?1&quot;)\n  public List&lt;Resume&gt; findByJpql(Long id);\n\n  @Query(value = &quot;select * from tb_resume where id = ?1&quot;, nativeQuery = true)\n  public Resume findBySql(Long id);\n}\n</code></pre>\n<p>So you can try to rewrite a SQL and the corresponding method ?</p>\n"}],"owner":{"account_id":24203772,"reputation":11,"user_id":18161262,"display_name":"Swati Ahuja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655311846,"creation_date":1655305804,"question_id":72633792,"body_markdown":"I have jpa repository as :\r\n\r\n    public interface MyRepository extends JPARepository&lt;MyObject&gt;, JPASpecificationExecutor&lt;MyObject&gt;{\r\n    }\r\n\r\nAnd customSpecification\r\n\r\n    CustomComplexSpecification implements Specification&lt;MyObject&gt;{\r\n    ... complex logic for object depending on input \r\n    }\r\n\r\nNormally I am fetching the records like this\r\n\r\n    myRepository.findAll(new CustomComplexSpecification(..input fields);\r\n\r\nNow I want to get the counts with group by clause\r\n\r\n        SELECT field1, field2, field3, count(*) from MYTABLE\r\n     where (criteria from complex specification) group by field1, field2, field3;\r\n\r\nHow to do this GROUP BY and COUNT with jpaRepository and CustomSpecification as above\r\n\r\nNote: I could do complete count like this\r\n\r\n    myRepository.count(new CustomComplexSpecification(..input fields);\r\nHelp me get count with group by and fields. Thanks in advance.","title":"How to COUNT GROUP BY using JPARepository JPASpecificationExecutor with CustomSpecification","body":"<p>I have jpa repository as :</p>\n<pre><code>public interface MyRepository extends JPARepository&lt;MyObject&gt;, JPASpecificationExecutor&lt;MyObject&gt;{\n}\n</code></pre>\n<p>And customSpecification</p>\n<pre><code>CustomComplexSpecification implements Specification&lt;MyObject&gt;{\n... complex logic for object depending on input \n}\n</code></pre>\n<p>Normally I am fetching the records like this</p>\n<pre><code>myRepository.findAll(new CustomComplexSpecification(..input fields);\n</code></pre>\n<p>Now I want to get the counts with group by clause</p>\n<pre><code>    SELECT field1, field2, field3, count(*) from MYTABLE\n where (criteria from complex specification) group by field1, field2, field3;\n</code></pre>\n<p>How to do this GROUP BY and COUNT with jpaRepository and CustomSpecification as above</p>\n<p>Note: I could do complete count like this</p>\n<pre><code>myRepository.count(new CustomComplexSpecification(..input fields);\n</code></pre>\n<p>Help me get count with group by and fields. Thanks in advance.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","amazon-sqs"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1655299915,"post_id":72632279,"comment_id":128299666,"body_markdown":"I guess the client does not take care of deleting the messages from S3 - it deletes them from SQS, but not from S3. That is why there is a `BucketLifecycleConfiguration` in your linked post, that policy takes care of deleting messages in S3 after 14 days.","body":"I guess the client does not take care of deleting the messages from S3 - it deletes them from SQS, but not from S3. That is why there is a <code>BucketLifecycleConfiguration</code> in your linked post, that policy takes care of deleting messages in S3 after 14 days."}],"answers":[{"tags":[],"owner":{"account_id":2807605,"reputation":587,"user_id":2414526,"display_name":"OneNoOne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655311420,"creation_date":1655311420,"answer_id":72635003,"question_id":72632279,"body_markdown":"I found the answer by debugging aws sdk code. I will put it here for anyone that needs this in the future.\r\n\r\n\r\nI initially thought that the message was big enough, because I thought the encoding for char was taking 2 bytes per char, but by analizing the method, from aws, Util.getStringSizeInBytes, it was taking only 1 byte. \r\n\r\nIf you check the code from AmazonSQSExtendedClient.sendMessage, you will see that there is going to have this comaparison:\r\n\r\n                    if (this.clientConfiguration.isAlwaysThroughS3() || this.isLarge(sendMessageRequest)) {\r\n                    sendMessageRequest = this.storeMessageInS3(sendMessageRequest);\r\n                }\r\n\r\nThen I saw that this.isLarge and isAlwaysThroughS3 was both false, so it wasn&#39;t really using the S3 bucket at all. Then, for testing, I incresed the payload until isLarge change to true and then I could see the message in the S3 bucket.\r\n\r\nOne good tip also, is that when S3 is under use, the message sends just the S3 key on SQS.","title":"Managing large AWS SQS payloads over S3","body":"<p>I found the answer by debugging aws sdk code. I will put it here for anyone that needs this in the future.</p>\n<p>I initially thought that the message was big enough, because I thought the encoding for char was taking 2 bytes per char, but by analizing the method, from aws, Util.getStringSizeInBytes, it was taking only 1 byte.</p>\n<p>If you check the code from AmazonSQSExtendedClient.sendMessage, you will see that there is going to have this comaparison:</p>\n<pre><code>                if (this.clientConfiguration.isAlwaysThroughS3() || this.isLarge(sendMessageRequest)) {\n                sendMessageRequest = this.storeMessageInS3(sendMessageRequest);\n            }\n</code></pre>\n<p>Then I saw that this.isLarge and isAlwaysThroughS3 was both false, so it wasn't really using the S3 bucket at all. Then, for testing, I incresed the payload until isLarge change to true and then I could see the message in the S3 bucket.</p>\n<p>One good tip also, is that when S3 is under use, the message sends just the S3 key on SQS.</p>\n"}],"owner":{"account_id":2807605,"reputation":587,"user_id":2414526,"display_name":"OneNoOne"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":844,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655311420,"creation_date":1655299464,"question_id":72632279,"body_markdown":"I am working in a project Java 11/Spring boot project that I need to send and consume a SQS message that is over 256KB, that is the common limit for SQS. I can&#39;t change the modeling of the system in a way that the message will be lesser than 256KB.\r\n\r\nI know AWS provides support for bigger payloads by using its SQS extended client library, that can be seen here: https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-s3-messages.html#working-java-example-using-s3-for-large-sqs-messages-example\r\n\r\n\r\nI copied and tested the example for sending the message, but still not sure about his behaviour on Spring Boot integration (@SqsListener) for consuming these kind of messages. The code worked successfuly, but I am not sure if the payload has been already deleted inside S3 bucket after consumption because I couldn&#39;t see the message been stored in there. In the example, deleting the message needs to be done manually, but I haven&#39;t coded it when I ran the code.\r\n\r\nDo Spring Boot @SqsListener consumer already manages to delete the message, after consumption, and makes evething ready or I need to manage something yet?\r\n\r\n\r\n","title":"Managing large AWS SQS payloads over S3","body":"<p>I am working in a project Java 11/Spring boot project that I need to send and consume a SQS message that is over 256KB, that is the common limit for SQS. I can't change the modeling of the system in a way that the message will be lesser than 256KB.</p>\n<p>I know AWS provides support for bigger payloads by using its SQS extended client library, that can be seen here: <a href=\"https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-s3-messages.html#working-java-example-using-s3-for-large-sqs-messages-example\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-s3-messages.html#working-java-example-using-s3-for-large-sqs-messages-example</a></p>\n<p>I copied and tested the example for sending the message, but still not sure about his behaviour on Spring Boot integration (@SqsListener) for consuming these kind of messages. The code worked successfuly, but I am not sure if the payload has been already deleted inside S3 bucket after consumption because I couldn't see the message been stored in there. In the example, deleting the message needs to be done manually, but I haven't coded it when I ran the code.</p>\n<p>Do Spring Boot @SqsListener consumer already manages to delete the message, after consumption, and makes evething ready or I need to manage something yet?</p>\n"},{"tags":["java","android","twilio"],"answers":[{"tags":[],"owner":{"account_id":14971598,"reputation":266,"user_id":10808300,"display_name":"erinc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655310774,"creation_date":1655310774,"answer_id":72634868,"question_id":72634791,"body_markdown":"From my understanding, you would like to access Twilio API using an access token. In that case, you should have a backend server that stores the access token because you shouldn&#39;t store such tokens in the client-side (android app). Your app would send request to your backend which would then use the access code to access the api and forward you the result back.","title":"How to retrieve using the Client code the Access Token generated on the Server-side?","body":"<p>From my understanding, you would like to access Twilio API using an access token. In that case, you should have a backend server that stores the access token because you shouldn't store such tokens in the client-side (android app). Your app would send request to your backend which would then use the access code to access the api and forward you the result back.</p>\n"}],"owner":{"account_id":19436288,"reputation":89,"user_id":14215682,"display_name":"D-I-S-C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72634868,"answer_count":1,"score":-1,"last_activity_date":1655310774,"creation_date":1655310406,"question_id":72634791,"body_markdown":"Looking at the [Twilio documentation][1] it seems that &quot;you create [Access Tokens] on your server to verify a user’s identity and grant access to client API features.&quot;\r\n\r\nHere, Twilio provides a few different ways to programmatically create Access Tokens on the Server side - it looks pretty straight forward.\r\n\r\nI am developing an Android app-to-app calling feature and for this I&#39;ve have been using the [Android quickstart-project][2] to go about it. However, for this code, the implementation and execution are done by copying and pasting Access Tokens generated through either the Twilio Console or Twilio-CLI commands.\r\n\r\nSay we have our Server set up, a TwiML app and its associated URL, what would be the simplest and most straight-forward way to generate but then retrieve the access token from the Server to the Client app? \r\n\r\n\r\n  [1]: https://www.twilio.com/docs/iam/access-tokens\r\n  [2]: https://github.com/twilio/voice-quickstart-android#quickstart","title":"How to retrieve using the Client code the Access Token generated on the Server-side?","body":"<p>Looking at the <a href=\"https://www.twilio.com/docs/iam/access-tokens\" rel=\"nofollow noreferrer\">Twilio documentation</a> it seems that &quot;you create [Access Tokens] on your server to verify a user’s identity and grant access to client API features.&quot;</p>\n<p>Here, Twilio provides a few different ways to programmatically create Access Tokens on the Server side - it looks pretty straight forward.</p>\n<p>I am developing an Android app-to-app calling feature and for this I've have been using the <a href=\"https://github.com/twilio/voice-quickstart-android#quickstart\" rel=\"nofollow noreferrer\">Android quickstart-project</a> to go about it. However, for this code, the implementation and execution are done by copying and pasting Access Tokens generated through either the Twilio Console or Twilio-CLI commands.</p>\n<p>Say we have our Server set up, a TwiML app and its associated URL, what would be the simplest and most straight-forward way to generate but then retrieve the access token from the Server to the Client app?</p>\n"},{"tags":["java","intellij-idea","module","project","naming"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1655227284,"post_id":72620893,"comment_id":128280703,"body_markdown":"What IDE version do you use? Does the issue still occur in https://www.jetbrains.com/idea/nextversion/?","body":"What IDE version do you use? Does the issue still occur in <a href=\"https://www.jetbrains.com/idea/nextversion/\" rel=\"nofollow noreferrer\">jetbrains.com/idea/nextversion</a>?"},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1655227588,"post_id":72620893,"comment_id":128280809,"body_markdown":"This is runtime version, not IntelliJ IDEA version. There were known issues with the project/module name restrictions being incorrect in the recent IDE updates. Please check the version I linked.","body":"This is runtime version, not IntelliJ IDEA version. There were known issues with the project/module name restrictions being incorrect in the recent IDE updates. Please check the version I linked."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1655229263,"post_id":72620893,"comment_id":128281385,"body_markdown":"Do you have the same issue in EAP or in the current release? If so, please share a screenshot showing which specific names are not accepted.","body":"Do you have the same issue in EAP or in the current release? If so, please share a screenshot showing which specific names are not accepted."},{"owner":{"account_id":19525455,"reputation":344,"user_id":14286378,"display_name":"Ferry"},"score":1,"creation_date":1655248822,"post_id":72620893,"comment_id":128286658,"body_markdown":"yes, the convention is using lowercase with dashes. however, if you insist to use CamelCase instead, it&#39;s not a problem either, just a warning which you can disable. And you tried to name a module in reverse dns, isn&#39;t it a lowercase? like &quot;com.something.name&quot;","body":"yes, the convention is using lowercase with dashes. however, if you insist to use CamelCase instead, it&#39;s not a problem either, just a warning which you can disable. And you tried to name a module in reverse dns, isn&#39;t it a lowercase? like &quot;com.something.name&quot;"},{"owner":{"account_id":10149950,"reputation":163,"user_id":7496899,"display_name":"KeepAtIt"},"score":0,"creation_date":1655308372,"post_id":72620893,"comment_id":128303453,"body_markdown":"@CrazyCoder You were right, there was a bug and updating worked. https://youtrack.jetbrains.com/issue/IDEA-292932. If you put that in an answer, I&#39;ll accept it as the answer.","body":"@CrazyCoder You were right, there was a bug and updating worked. <a href=\"https://youtrack.jetbrains.com/issue/IDEA-292932\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-292932</a>. If you put that in an answer, I&#39;ll accept it as the answer."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655308460,"creation_date":1655308460,"answer_id":72634385,"question_id":72620893,"body_markdown":"IntelliJ IDEA should accept dots in the names if you use the current release or EAP version. 2022.1 version [had a known bug](https://youtrack.jetbrains.com/issue/IDEA-292932) preventing using dots in the project names.\r\n\r\n[![works][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dbZDr.png","title":"Why can&#39;t I use reverse DNS to create a java / gradle module on IntelliJ IDE?","body":"<p>IntelliJ IDEA should accept dots in the names if you use the current release or EAP version. 2022.1 version <a href=\"https://youtrack.jetbrains.com/issue/IDEA-292932\" rel=\"nofollow noreferrer\">had a known bug</a> preventing using dots in the project names.</p>\n<p><a href=\"https://i.stack.imgur.com/dbZDr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dbZDr.png\" alt=\"works\" /></a></p>\n"}],"owner":{"account_id":10149950,"reputation":163,"user_id":7496899,"display_name":"KeepAtIt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72634385,"answer_count":1,"score":0,"last_activity_date":1655310735,"creation_date":1655226425,"question_id":72620893,"body_markdown":"How exactly do I name an IntelliJ project, module, packages etc? I tried to name a module in reverse dns, but IntelliJ would not allow it, so I am obviously doing something wrong. Also, I&#39;m confused between the difference between a Java Module and an IntelliJ Module.\r\n\r\n\r\nUpdate: There was a bug with IntelliJ&#39;s Maven Artifactid, and a patch was released this month to fix it.","title":"Why can&#39;t I use reverse DNS to create a java / gradle module on IntelliJ IDE?","body":"<p>How exactly do I name an IntelliJ project, module, packages etc? I tried to name a module in reverse dns, but IntelliJ would not allow it, so I am obviously doing something wrong. Also, I'm confused between the difference between a Java Module and an IntelliJ Module.</p>\n<p>Update: There was a bug with IntelliJ's Maven Artifactid, and a patch was released this month to fix it.</p>\n"},{"tags":["java","junit","mockito","junit4","powermockito"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1655190723,"post_id":72556197,"comment_id":128266660,"body_markdown":"Did you check the related question links https://stackoverflow.com/questions/59713891/appenderskeleton-log4j2 ? Do you need to move all output to console?","body":"Did you check the related question links <a href=\"https://stackoverflow.com/questions/59713891/appenderskeleton-log4j2\" title=\"appenderskeleton log4j2\">stackoverflow.com/questions/59713891/appenderskeleton-log4j2</a> ? Do you need to move all output to console?"}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655310664,"creation_date":1654839460,"answer_id":72569525,"question_id":72556197,"body_markdown":"In Log4j2 you have a [`ListAppender`](https://github.com/apache/logging-log4j2/blob/release-2.x/log4j-core/src/test/java/org/apache/logging/log4j/test/appender/ListAppender.java) in the `tests` JAR.\r\n\r\nCombined with the [`LoggerContextSource`](https://github.com/apache/logging-log4j2/blob/release-2.x/log4j-core/src/test/java/org/apache/logging/log4j/junit/LoggerContextSource.java) JUnit 5 extension it allows you to inject a `ListAppender` in your test. E.g.:\r\n\r\n```lang-java\r\n@Test\r\n@LoggerContextSource(&quot;log4j2-test.xml&quot;)\r\npublic void testHeaderFooterValidationWithHeaderFooterInfoDisabled(@Named(&quot;List&quot;) Appender appender) {\r\n   ...\r\n}\r\n```\r\n\r\nand a `log4j2-test.xml` file:\r\n\r\n```lang-xml\r\n&lt;Configuration&gt;\r\n  &lt;Appenders&gt;\r\n    &lt;List name=&quot;List&quot; /&gt;\r\n  &lt;/Appenders&gt;\r\n  &lt;Loggers&gt;\r\n    &lt;Root level=&quot;DEBUG&quot;&gt;\r\n      &lt;AppenderRef ref=&quot;List&quot; /&gt;\r\n    &lt;/Root&gt;\r\n  &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nIf you run the test classes in parallel, there is a [recent thread](https://lists.apache.org/thread/3n9xqc132pm49w3m67zm6wnjfw6yphkq) on the `log4j-user` mailing list.\r\n\r\n**Edit:** If you use JUnit 4, you can use the `LoggerContextRule`:\r\n\r\n```lang-java\r\n@Rule\r\npublic final LoggerContextRule rule = new LoggerContextRule();\r\n\r\n@Test\r\npublic void testHeaderFooterValidationWithHeaderFooterInfoDisabled() {\r\n    final ListAppender appender = rule.getAppender(&quot;List&quot;);\r\n\r\n    ...\r\n    // Snapshot of messages\r\n    final List&lt;LogEvent&gt; events = appender.getEvents();\r\n    assertEquals(1, events.size());\r\n    assertEquals(&quot;Some Message&quot;, events.get(0).getMessage().getFormattedMessage());\r\n    appender.clear();\r\n}\r\n```\r\n","title":"Logger.getRootLogger().addAppender(appender) removed in Test cases","body":"<p>In Log4j2 you have a <a href=\"https://github.com/apache/logging-log4j2/blob/release-2.x/log4j-core/src/test/java/org/apache/logging/log4j/test/appender/ListAppender.java\" rel=\"nofollow noreferrer\"><code>ListAppender</code></a> in the <code>tests</code> JAR.</p>\n<p>Combined with the <a href=\"https://github.com/apache/logging-log4j2/blob/release-2.x/log4j-core/src/test/java/org/apache/logging/log4j/junit/LoggerContextSource.java\" rel=\"nofollow noreferrer\"><code>LoggerContextSource</code></a> JUnit 5 extension it allows you to inject a <code>ListAppender</code> in your test. E.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@LoggerContextSource(&quot;log4j2-test.xml&quot;)\npublic void testHeaderFooterValidationWithHeaderFooterInfoDisabled(@Named(&quot;List&quot;) Appender appender) {\n   ...\n}\n</code></pre>\n<p>and a <code>log4j2-test.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Configuration&gt;\n  &lt;Appenders&gt;\n    &lt;List name=&quot;List&quot; /&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root level=&quot;DEBUG&quot;&gt;\n      &lt;AppenderRef ref=&quot;List&quot; /&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>If you run the test classes in parallel, there is a <a href=\"https://lists.apache.org/thread/3n9xqc132pm49w3m67zm6wnjfw6yphkq\" rel=\"nofollow noreferrer\">recent thread</a> on the <code>log4j-user</code> mailing list.</p>\n<p><strong>Edit:</strong> If you use JUnit 4, you can use the <code>LoggerContextRule</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Rule\npublic final LoggerContextRule rule = new LoggerContextRule();\n\n@Test\npublic void testHeaderFooterValidationWithHeaderFooterInfoDisabled() {\n    final ListAppender appender = rule.getAppender(&quot;List&quot;);\n\n    ...\n    // Snapshot of messages\n    final List&lt;LogEvent&gt; events = appender.getEvents();\n    assertEquals(1, events.size());\n    assertEquals(&quot;Some Message&quot;, events.get(0).getMessage().getFormattedMessage());\n    appender.clear();\n}\n</code></pre>\n"}],"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1149,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1655310664,"creation_date":1654759260,"question_id":72556197,"body_markdown":"I am migrating all old legacy **Log4j1.x Test cases to Log4j2.x** based test cases, I&#39;ve a test case like below, which I am not able to convert, condition is I dont want to change anything in asserts. \r\n\r\n**Note: I can&#39;t use Junit 5, because its legacy code, is there any way we can still use log4j 2.x with the Junit 4 and try to fix the original issues?**\r\n\r\nNeed solution.\r\n\r\n    @Mock \r\n    AppenderSkeleton appender;\r\n    @Captor \r\n    ArgumentCaptor&lt;LoggingEvent&gt; logCaptor;\r\n    \r\n    @Test\r\n    public void testHeaderFooterValidationWithHeaderFooterInfoDisabled() {\r\n    \tLogger.getRootLogger().addAppender(appender);\r\n    \t\r\n    \t\r\n    \t//Turn off header and footer read\r\n    \ttestLoader.setEnableHeaderInfo(false);\r\n    \ttestLoader.setEnableTrailerInfo(false);\r\n    \t\r\n    \t//Turn on header footer validation\r\n    \ttestLoader.setValidateHeader(true);\r\n    \tverify(appender, times(1)).doAppend(logCaptor.capture());\r\n    \tassertEquals(&quot;Warning message should have been logged&quot;, &quot;Some Message&quot;, logCaptor.getValue().getRenderedMessage());\r\n    \t\r\n    \ttestLoader.setValidateTrailer(true);\r\n    \tverify(appender, times(2)).doAppend(logCaptor.capture());\r\n    \tassertEquals(&quot;Warning message should have been logged&quot;, &quot;Some Message&quot;, logCaptor.getValue().getRenderedMessage());\r\n    \t\r\n    \ttestLoader.processEvent(paramsMap);\r\n    \t\r\n    \tassertThat(configRegion.values()).contains(&quot;AAAA,BBBB,CCCC&quot;);\r\n    \tassertThat(configRegion.keySet()).contains(&quot;abc.config.property&quot;);\r\n    }\r\n\r\nI tried to replace \r\n\r\n    Logger.getRootLogger().addAppender(appender);\r\n\r\nTo \r\n\r\n    ConfigurationBuilder&lt;BuiltConfiguration&gt; builder = ConfigurationBuilderFactory.newConfigurationBuilder();\r\n    RootLoggerComponentBuilder rootLogger  = builder.newRootLogger(Level.ERROR);\r\n    rootLogger.add(builder.newAppenderRef(&quot;stdout&quot;));\r\n    builder.add(rootLogger);\r\n\r\n","title":"Logger.getRootLogger().addAppender(appender) removed in Test cases","body":"<p>I am migrating all old legacy <strong>Log4j1.x Test cases to Log4j2.x</strong> based test cases, I've a test case like below, which I am not able to convert, condition is I dont want to change anything in asserts.</p>\n<p><strong>Note: I can't use Junit 5, because its legacy code, is there any way we can still use log4j 2.x with the Junit 4 and try to fix the original issues?</strong></p>\n<p>Need solution.</p>\n<pre><code>@Mock \nAppenderSkeleton appender;\n@Captor \nArgumentCaptor&lt;LoggingEvent&gt; logCaptor;\n\n@Test\npublic void testHeaderFooterValidationWithHeaderFooterInfoDisabled() {\n    Logger.getRootLogger().addAppender(appender);\n    \n    \n    //Turn off header and footer read\n    testLoader.setEnableHeaderInfo(false);\n    testLoader.setEnableTrailerInfo(false);\n    \n    //Turn on header footer validation\n    testLoader.setValidateHeader(true);\n    verify(appender, times(1)).doAppend(logCaptor.capture());\n    assertEquals(&quot;Warning message should have been logged&quot;, &quot;Some Message&quot;, logCaptor.getValue().getRenderedMessage());\n    \n    testLoader.setValidateTrailer(true);\n    verify(appender, times(2)).doAppend(logCaptor.capture());\n    assertEquals(&quot;Warning message should have been logged&quot;, &quot;Some Message&quot;, logCaptor.getValue().getRenderedMessage());\n    \n    testLoader.processEvent(paramsMap);\n    \n    assertThat(configRegion.values()).contains(&quot;AAAA,BBBB,CCCC&quot;);\n    assertThat(configRegion.keySet()).contains(&quot;abc.config.property&quot;);\n}\n</code></pre>\n<p>I tried to replace</p>\n<pre><code>Logger.getRootLogger().addAppender(appender);\n</code></pre>\n<p>To</p>\n<pre><code>ConfigurationBuilder&lt;BuiltConfiguration&gt; builder = ConfigurationBuilderFactory.newConfigurationBuilder();\nRootLoggerComponentBuilder rootLogger  = builder.newRootLogger(Level.ERROR);\nrootLogger.add(builder.newAppenderRef(&quot;stdout&quot;));\nbuilder.add(rootLogger);\n</code></pre>\n"},{"tags":["java","reflection","parameterized-types"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":4,"creation_date":1655309974,"post_id":72634682,"comment_id":128304077,"body_markdown":"Add error messages as text not as image","body":"Add error messages as text not as image"}],"answers":[{"tags":[],"owner":{"account_id":14971598,"reputation":266,"user_id":10808300,"display_name":"erinc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655310023,"creation_date":1655310023,"answer_id":72634717,"question_id":72634682,"body_markdown":"Try this\r\n\r\n    Constructor&lt;Person&gt; constructor= (Constructor&lt;Person&gt;) Person.class.getDeclaredConstructors()[0];","title":"Why is it impossible to construct private objects through reflection in Java","body":"<p>Try this</p>\n<pre><code>Constructor&lt;Person&gt; constructor= (Constructor&lt;Person&gt;) Person.class.getDeclaredConstructors()[0];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1655310203,"creation_date":1655310203,"answer_id":72634751,"question_id":72634682,"body_markdown":"This error isn&#39;t about accessibility, it&#39;s about finding the constructor.\r\n\r\nAs specified in its documented contract, the method [`Class.getConstructor()`][1] will only find *public* constructors.\r\n\r\nIf you want to find this private constructor, you need to use [`getDeclaredConstructor()`][2] with the correct parameter types\r\n\r\nOnce you find the constructor, you will still need to make it accessible. Be aware, however, that in a modular application, encapsulation can prevent you from using reflection this way.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getConstructor-java.lang.Class...-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredConstructor-java.lang.Class...-","title":"Why is it impossible to construct private objects through reflection in Java","body":"<p>This error isn't about accessibility, it's about finding the constructor.</p>\n<p>As specified in its documented contract, the method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getConstructor-java.lang.Class...-\" rel=\"noreferrer\"><code>Class.getConstructor()</code></a> will only find <em>public</em> constructors.</p>\n<p>If you want to find this private constructor, you need to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredConstructor-java.lang.Class...-\" rel=\"noreferrer\"><code>getDeclaredConstructor()</code></a> with the correct parameter types</p>\n<p>Once you find the constructor, you will still need to make it accessible. Be aware, however, that in a modular application, encapsulation can prevent you from using reflection this way.</p>\n"}],"owner":{"account_id":25425463,"reputation":7,"user_id":19230718,"display_name":"Bee SNOW"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1655311558,"answer_count":2,"score":-2,"last_activity_date":1655310203,"creation_date":1655309828,"question_id":72634682,"body_markdown":"I clearly set the constructor&#39;s setAccessible to true, but why is it still an error! can you tell me how to fix it\r\n\r\n\r\n    public class Person {\r\n        // fields...\r\n    \r\n        private Person(String name, int age, String address, int num) {\r\n            this.name = name;\r\n            this.age = age;\r\n            this.address = address;\r\n            this.num = num;\r\n            System.out.println(&quot;private full-constructor be created&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n// error happend ?! why?\r\n\r\n    public static void operatePrivateConstructorFullParameter(Class&lt;? extends Person&gt; clzz) throws NoSuchMethodException, IllegalAccessException, InvocationTargetException, InstantiationException {\r\n        Constructor&lt;? extends Person&gt; constructor = clzz.getConstructor(String.class, int.class, String.class, int.class);\r\n        constructor.setAccessible(true);\r\n    \r\n        Person person = constructor.newInstance(&quot;Miao&quot;, 18, &quot;MOON&quot;, 88);\r\n    }\r\n\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Class&lt;? extends Person&gt; clzz = Person.class;\r\n        operatePrivateConstructorFullParameter(clzz);\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IdgOM.png","title":"Why is it impossible to construct private objects through reflection in Java","body":"<p>I clearly set the constructor's setAccessible to true, but why is it still an error! can you tell me how to fix it</p>\n<pre><code>public class Person {\n    // fields...\n\n    private Person(String name, int age, String address, int num) {\n        this.name = name;\n        this.age = age;\n        this.address = address;\n        this.num = num;\n        System.out.println(&quot;private full-constructor be created&quot;);\n    }\n\n}\n</code></pre>\n<p>// error happend ?! why?</p>\n<pre><code>public static void operatePrivateConstructorFullParameter(Class&lt;? extends Person&gt; clzz) throws NoSuchMethodException, IllegalAccessException, InvocationTargetException, InstantiationException {\n    Constructor&lt;? extends Person&gt; constructor = clzz.getConstructor(String.class, int.class, String.class, int.class);\n    constructor.setAccessible(true);\n\n    Person person = constructor.newInstance(&quot;Miao&quot;, 18, &quot;MOON&quot;, 88);\n}\n\n\npublic static void main(String[] args) throws Exception {\n    Class&lt;? extends Person&gt; clzz = Person.class;\n    operatePrivateConstructorFullParameter(clzz);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/IdgOM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IdgOM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["javascript","java","html","intellij-idea","spring-thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655307243,"creation_date":1655307243,"answer_id":72634120,"question_id":72619299,"body_markdown":"The canonical way to do this is use redirect/flash attributes. In your controller, you would do something like this:\r\n\r\n```\r\n@PostMapping(&quot;/products&quot;)\r\npublic String doAddProduct(@ModelAttribute(&quot;product&quot;) AddProductFormData formData, RedirectAttributes redirectAttributes) {\r\n  service.addProduct(formData);\r\n\r\n  redirectAttributes.addFlashAttribute(&quot;productAdded&quot;, formData.productName());\r\n  return &quot;redirect:/products&quot;;\r\n}\r\n```\r\n\r\nIn your template, you can use `productAdded`:\r\n\r\n```\r\n&lt;div th:if=&quot;${productAdded}&quot;&gt;\r\n  &lt;div&gt;The product with name [[${productAdded}]] was added.&lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nThe advantage of using the flash attribute is that if the page gets refreshed, the flash attribute is gone and the message is no longer showing.\r\n\r\nThat said, if you want to give the user an option to manually dismiss the dialog, I would use something like https://alpinejs.dev/ :\r\n\r\nThe template would be:\r\n```\r\n&lt;div th:if=&quot;${productAdded}&quot;&gt;\r\n        &lt;div class=&quot;product_modal_window&quot; id=&quot;openModal&quot;\r\n             x-data=&quot;{ open: true }&quot;\r\n             x-show=&quot;open&quot;&gt;\r\n            &lt;div&gt;\r\n                &lt;a class=&quot;close&quot; @click=&quot;open = false&quot; title=&quot;Закрыть&quot;&gt;X&lt;/a&gt;\r\n                &lt;h2&gt;Добавлено&lt;/h2&gt;\r\n                &lt;p&gt;The product has been added to your cart, continue shopping or go to the cart?&lt;/p&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n&lt;/div&gt;\r\n```","title":"How to launch a modal window with a signal from the server","body":"<p>The canonical way to do this is use redirect/flash attributes. In your controller, you would do something like this:</p>\n<pre><code>@PostMapping(&quot;/products&quot;)\npublic String doAddProduct(@ModelAttribute(&quot;product&quot;) AddProductFormData formData, RedirectAttributes redirectAttributes) {\n  service.addProduct(formData);\n\n  redirectAttributes.addFlashAttribute(&quot;productAdded&quot;, formData.productName());\n  return &quot;redirect:/products&quot;;\n}\n</code></pre>\n<p>In your template, you can use <code>productAdded</code>:</p>\n<pre><code>&lt;div th:if=&quot;${productAdded}&quot;&gt;\n  &lt;div&gt;The product with name [[${productAdded}]] was added.&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>The advantage of using the flash attribute is that if the page gets refreshed, the flash attribute is gone and the message is no longer showing.</p>\n<p>That said, if you want to give the user an option to manually dismiss the dialog, I would use something like <a href=\"https://alpinejs.dev/\" rel=\"nofollow noreferrer\">https://alpinejs.dev/</a> :</p>\n<p>The template would be:</p>\n<pre><code>&lt;div th:if=&quot;${productAdded}&quot;&gt;\n        &lt;div class=&quot;product_modal_window&quot; id=&quot;openModal&quot;\n             x-data=&quot;{ open: true }&quot;\n             x-show=&quot;open&quot;&gt;\n            &lt;div&gt;\n                &lt;a class=&quot;close&quot; @click=&quot;open = false&quot; title=&quot;Закрыть&quot;&gt;X&lt;/a&gt;\n                &lt;h2&gt;Добавлено&lt;/h2&gt;\n                &lt;p&gt;The product has been added to your cart, continue shopping or go to the cart?&lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655309601,"creation_date":1655309601,"answer_id":72634631,"question_id":72619299,"body_markdown":"The problem was solved, however, perhaps in a rather rough way.\r\nI wrote the result in a hidden field. And then I use JavaScript to turn this window on or off.\r\n\r\n**html**\r\n\r\n        &lt;input type=&quot;hidden&quot; id=&quot;openModalValue&quot; th:value=&quot;${openModalValue}&quot;&gt;\r\n     \r\n        &lt;div class=&quot;product_modal_window&quot; id=&quot;modalWindow&quot;&gt;\r\n            &lt;div&gt;\r\n                &lt;h2&gt;Added&lt;/h2&gt;\r\n                &lt;p&gt;The product has been added to your cart, continue shopping or go to the cart?&lt;/p&gt;\r\n                &lt;input class=&quot;product_popup_button&quot; type=&quot;image&quot; src=&quot;/static/images/elements/product/product/Blue_original.png&quot; alt=&quot;Continue shopping&quot; onclick=&quot;PopupCloseById(&#39;modalWindow&#39;)&quot;&gt;\r\n    enter code here\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n**JavaScript**\r\n\r\n    function TogglePopup()\r\n    {\r\n        const openModal = document.getElementById(&quot;openModalValue&quot;);\r\n        const openValue = (openModal.value === &#39;true&#39;);\r\n        const popup = document.getElementById(&quot;modalWindow&quot;);\r\n     \r\n        if (openValue)\r\n        {\r\n            popup.classList.add(&#39;open&#39;);\r\n        }\r\n        else\r\n        {\r\n            popup.classList.remove(&#39;open&#39;);\r\n        }\r\n    }\r\n\r\n    function PopupCloseById(id)\r\n    {\r\n        const popup = document.getElementById(id);\r\n        popup.classList.remove(&#39;open&#39;);\r\n    }\r\n\r\n    .product_modal_window\r\n    {\r\n        position: fixed;\r\n        font-family: Arial, Helvetica, sans-serif;\r\n        top: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n        background: rgba(0,0,0,0.8);\r\n        z-index: 99999;\r\n        -webkit-transition: opacity 400ms ease-in;\r\n        -moz-transition: opacity 400ms ease-in;\r\n        transition: opacity 400ms ease-in;\r\n        display: none;\r\n        pointer-events: none;\r\n    }\r\n\r\n**CSS**\r\n\r\n    .product_modal_window.open\r\n    {\r\n        display: block;\r\n        pointer-events: auto;\r\n    }\r\n    .product_modal_window &gt; div\r\n    {\r\n        width: 400px;\r\n        height: 200px;\r\n        position: relative;\r\n        margin: 15% auto;\r\n        padding: 5px 20px 13px 20px;\r\n        border-radius: 10px;\r\n        background: #fff;\r\n        background: -moz-linear-gradient(#fff, #999);\r\n        background: -webkit-linear-gradient(#fff, #999);\r\n        background: -o-linear-gradient(#fff, #999);\r\n    }\r\n\r\n","title":"How to launch a modal window with a signal from the server","body":"<p>The problem was solved, however, perhaps in a rather rough way.\nI wrote the result in a hidden field. And then I use JavaScript to turn this window on or off.</p>\n<p><strong>html</strong></p>\n<pre><code>    &lt;input type=&quot;hidden&quot; id=&quot;openModalValue&quot; th:value=&quot;${openModalValue}&quot;&gt;\n \n    &lt;div class=&quot;product_modal_window&quot; id=&quot;modalWindow&quot;&gt;\n        &lt;div&gt;\n            &lt;h2&gt;Added&lt;/h2&gt;\n            &lt;p&gt;The product has been added to your cart, continue shopping or go to the cart?&lt;/p&gt;\n            &lt;input class=&quot;product_popup_button&quot; type=&quot;image&quot; src=&quot;/static/images/elements/product/product/Blue_original.png&quot; alt=&quot;Continue shopping&quot; onclick=&quot;PopupCloseById('modalWindow')&quot;&gt;\nenter code here\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n<p><strong>JavaScript</strong></p>\n<pre><code>function TogglePopup()\n{\n    const openModal = document.getElementById(&quot;openModalValue&quot;);\n    const openValue = (openModal.value === 'true');\n    const popup = document.getElementById(&quot;modalWindow&quot;);\n \n    if (openValue)\n    {\n        popup.classList.add('open');\n    }\n    else\n    {\n        popup.classList.remove('open');\n    }\n}\n\nfunction PopupCloseById(id)\n{\n    const popup = document.getElementById(id);\n    popup.classList.remove('open');\n}\n\n.product_modal_window\n{\n    position: fixed;\n    font-family: Arial, Helvetica, sans-serif;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    background: rgba(0,0,0,0.8);\n    z-index: 99999;\n    -webkit-transition: opacity 400ms ease-in;\n    -moz-transition: opacity 400ms ease-in;\n    transition: opacity 400ms ease-in;\n    display: none;\n    pointer-events: none;\n}\n</code></pre>\n<p><strong>CSS</strong></p>\n<pre><code>.product_modal_window.open\n{\n    display: block;\n    pointer-events: auto;\n}\n.product_modal_window &gt; div\n{\n    width: 400px;\n    height: 200px;\n    position: relative;\n    margin: 15% auto;\n    padding: 5px 20px 13px 20px;\n    border-radius: 10px;\n    background: #fff;\n    background: -moz-linear-gradient(#fff, #999);\n    background: -webkit-linear-gradient(#fff, #999);\n    background: -o-linear-gradient(#fff, #999);\n}\n</code></pre>\n"}],"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655309601,"creation_date":1655219065,"question_id":72619299,"body_markdown":"Programs, languages and frameworks used:\r\n**Java\r\nIntelIJIdea\r\nSpringSecurity\r\nThymleaf\r\nHtml\r\nJavaScript**\r\n\r\nI have a page product.html on which there is a product. The user clicks on the order item button. I&#39;m sending a signal to the server.\r\nIf the object is successfully added to the database, I call the same window with an additional bool parameter.\r\n\r\nI need to make it so that if bool is true, a modal window pops up with the message the product has been added to the cart.\r\n\r\nThe problem is that if I use thymeleaf if as a condition to start the window,\r\n\r\n    &lt;div th:if=&quot;${openModal}&quot;&gt;\r\n            &lt;a href=&quot;#openModal&quot;&gt;Открыть модальное окно&lt;/a&gt;\r\n     \r\n            &lt;div class=&quot;product_modal_window&quot; id=&quot;openModal&quot;&gt;\r\n                &lt;div&gt;\r\n                    &lt;a class=&quot;close&quot; href=&quot;#close&quot; title=&quot;Закрыть&quot;&gt;X&lt;/a&gt;\r\n                    &lt;h2&gt;Добавлено&lt;/h2&gt;\r\n                    &lt;p&gt;The product has been added to your cart, continue shopping or go to the cart?&lt;/p&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\nthen I do not know how to change the value of openModal from true to false (If at all possible) when clicking the close button.\r\n\r\nIf I use the option with my_window:target.\r\nWhen selecting, show the window using a pseudo-class and then when clicking on the cross to remove the selection from the window\r\n, then I do not know how to determine whether the window should be opened this time or not when starting the window using a variable from the server.","title":"How to launch a modal window with a signal from the server","body":"<p>Programs, languages and frameworks used:\n<strong>Java\nIntelIJIdea\nSpringSecurity\nThymleaf\nHtml\nJavaScript</strong></p>\n<p>I have a page product.html on which there is a product. The user clicks on the order item button. I'm sending a signal to the server.\nIf the object is successfully added to the database, I call the same window with an additional bool parameter.</p>\n<p>I need to make it so that if bool is true, a modal window pops up with the message the product has been added to the cart.</p>\n<p>The problem is that if I use thymeleaf if as a condition to start the window,</p>\n<pre><code>&lt;div th:if=&quot;${openModal}&quot;&gt;\n        &lt;a href=&quot;#openModal&quot;&gt;Открыть модальное окно&lt;/a&gt;\n \n        &lt;div class=&quot;product_modal_window&quot; id=&quot;openModal&quot;&gt;\n            &lt;div&gt;\n                &lt;a class=&quot;close&quot; href=&quot;#close&quot; title=&quot;Закрыть&quot;&gt;X&lt;/a&gt;\n                &lt;h2&gt;Добавлено&lt;/h2&gt;\n                &lt;p&gt;The product has been added to your cart, continue shopping or go to the cart?&lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n<p>then I do not know how to change the value of openModal from true to false (If at all possible) when clicking the close button.</p>\n<p>If I use the option with my_window:target.\nWhen selecting, show the window using a pseudo-class and then when clicking on the cross to remove the selection from the window\n, then I do not know how to determine whether the window should be opened this time or not when starting the window using a variable from the server.</p>\n"},{"tags":["java","java-stream","predicate"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1655228617,"post_id":72621256,"comment_id":128281151,"body_markdown":"Rather than using `filter().collect()...` to find the max element, there&#39;s a very convenient method available: `Stream&lt;T&gt;::max(Comparator&lt;T&gt;)`. `Stream#filter` is for using a predicate to either include or exclude results from the downstream operations (an intermediate operation), not for comparing elements within the stream (a [_stateful_ intermediate operation](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps)).","body":"Rather than using <code>filter().collect()...</code> to find the max element, there&#39;s a very convenient method available: <code>Stream&lt;T&gt;::max(Comparator&lt;T&gt;)</code>. <code>Stream#filter</code> is for using a predicate to either include or exclude results from the downstream operations (an intermediate operation), not for comparing elements within the stream (a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"nofollow noreferrer\"><i>stateful</i> intermediate operation</a>)."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655246251,"creation_date":1655228992,"answer_id":72621386,"question_id":72621256,"body_markdown":"&lt;h3&gt;Result - a single newsId&lt;/h3&gt;\r\n\r\n&gt; I need to find out the `newsId` which has received maximum comments.\r\n\r\nYou can&#39;t achieve it by using a `filter()` alone. And it&#39;s not necessary to utilize `filter()` operation for that at all.\r\n\r\nTo find the **most frequent news**, you need to accumulate the data. Method `collect()` should be responsible for that, and not the `filter()`.\r\n\r\nThe most obvious option is to create an intermediate `Map` which will contain a count for each `newsId`. To do that, you can use a combination of collectors [`groupingBy()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)) and [`counting()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#counting()).\r\n\r\nThen you can create a stream over the map entries and pick the entry with the highest value using `max()` as a terminal operation.\r\n\r\n    public static void main(String args[]) {\r\n        \r\n        news.stream()\r\n            .collect(Collectors.groupingBy( // creating an intermediate Map&lt;Integer, Long&gt;\r\n                News::getNewsId,            // map&#39;s key\r\n                Collectors.counting()       // value\r\n            ))\r\n            .entrySet().stream()               // creating a stream over the map&#39;s entries\r\n            .max(Map.Entry.comparingByValue()) // picking the entry with the highest value -&gt; result: Optional&lt;Map.Entry&lt;Integer, Long&gt;&gt;\r\n            .map(Map.Entry::getKey)            // transforming the optional result Optional&lt;Integer&gt; \r\n            .ifPresent(System.out::println);   // printing the result if optional is not empty\r\n    }\r\n\r\nWith your sample data, this code will produce the output `1`.\r\n\r\n\r\n&lt;h3&gt;Result - a List of newsId having the highest frequency&lt;/h3&gt;\r\n\r\nIn order to address the case when there could be several `newsId` having the same number of occurrences, you can build *a *custom collector*.\r\n\r\nThe initial idea is the same a described above, but instead `max()` operation, this time we would apply `collect()` on the stream of map entries and a *custom collector* will be provided as an argument.\r\n\r\nTo create a custom collector, we can utilize the static method [`Collector.of()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)).\r\n\r\nThe logic behind the *custom collector* provided below is following:\r\n\r\n* `supplier` - intermediate results (*map entries*) are being stored in a `Queue`.\r\n\r\n* `accumulator` - if the next stream *element* has the same *frequency count* (*the value of a map entry*) as the first element in the *queue*, or the *queue* is empty, then it gets added into the *queue*. If the *count* of the next *element* is lower, it would be ignored. And if the *count* is higher, the *queue* gets cleaned, and the next *element* will be added.\r\n\r\n* `combiner` The two *queues* obtained while executing the stream in parallel would be combined using almost the same logic as described above for *accumulator*.\r\n\r\n* `finisher` - this function transforms the *queue* of map entries into a list of `newsId`.\r\n\r\n**Note** that such an implementation allows to make only a *single iteration* over the entry set, and this performance advantage is a justification for its complexity.\r\n\r\n    public static void main(String args[]) {\r\n        \r\n        news.stream()\r\n            .collect(Collectors.groupingBy(\r\n                News::getNewsId,\r\n                Collectors.counting()\r\n            ))\r\n            .entrySet().stream()\r\n            .collect(Collector.of(\r\n                ArrayDeque::new,\r\n                (Queue&lt;Map.Entry&lt;Integer, Long&gt;&gt; queue, Map.Entry&lt;Integer, Long&gt; entry) -&gt; {\r\n                    if (queue.isEmpty() || queue.element().getValue().equals(entry.getValue())) {\r\n                        queue.add(entry);\r\n                    } else if (queue.element().getValue() &lt; entry.getValue()) {\r\n                        queue.clear();\r\n                        queue.add(entry);\r\n                    }\r\n                },\r\n                (left, right) -&gt; {\r\n                    if (left.isEmpty() || !right.isEmpty()\r\n                        &amp;&amp; right.element().getValue() &gt; left.element().getValue())\r\n                        return right;\r\n                    if (right.isEmpty() || left.element().getValue() &gt; right.element().getValue())\r\n                        return left;\r\n                    \r\n                    left.addAll(right);\r\n                    return left;\r\n                },\r\n                queue -&gt; queue.stream().map(Map.Entry::getKey).collect(Collectors.toList())\r\n            ))\r\n            .forEach(System.out::println);\r\n    }\r\n\r\n    static List&lt;News&gt; news = Arrays.asList( // News `1` &amp; `2` are the most frequent\r\n        new News(1, &quot;fb_Userpost&quot;, &quot;fb_Usercomment&quot;, &quot;comment1&quot;),\r\n        new News(2, &quot;insta_userpost&quot;, &quot;insta_usercomment&quot;, &quot;comment2&quot;),\r\n        new News(2, &quot;insta_userpost&quot;, &quot;insta_usercomment&quot;, &quot;comment2&quot;),\r\n        new News(2, &quot;insta_userpost&quot;, &quot;insta_usercomment&quot;, &quot;comment2&quot;),\r\n        new News(1, &quot;whatsapp_userpost&quot;, &quot;whatsapp_usercomment&quot;, &quot;comment3&quot;),\r\n        new News(1, &quot;whatsapp_userpost&quot;, &quot;whatsapp_usercomment&quot;, &quot;comment3&quot;),\r\n        new News(3, &quot;whatsapp_userpost&quot;, &quot;whatsapp_usercomment&quot;, &quot;comment3&quot;)\r\n    );\r\n\r\n*Output:*\r\n```\r\n1\r\n2\r\n```","title":"How to filter the Maximum number of occurrences of objects with the same id using Java 8 Streams","body":"<h3>Result - a single newsId</h3>\n<blockquote>\n<p>I need to find out the <code>newsId</code> which has received maximum comments.</p>\n</blockquote>\n<p>You can't achieve it by using a <code>filter()</code> alone. And it's not necessary to utilize <code>filter()</code> operation for that at all.</p>\n<p>To find the <strong>most frequent news</strong>, you need to accumulate the data. Method <code>collect()</code> should be responsible for that, and not the <code>filter()</code>.</p>\n<p>The most obvious option is to create an intermediate <code>Map</code> which will contain a count for each <code>newsId</code>. To do that, you can use a combination of collectors <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>groupingBy()</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#counting()\" rel=\"nofollow noreferrer\"><code>counting()</code></a>.</p>\n<p>Then you can create a stream over the map entries and pick the entry with the highest value using <code>max()</code> as a terminal operation.</p>\n<pre><code>public static void main(String args[]) {\n    \n    news.stream()\n        .collect(Collectors.groupingBy( // creating an intermediate Map&lt;Integer, Long&gt;\n            News::getNewsId,            // map's key\n            Collectors.counting()       // value\n        ))\n        .entrySet().stream()               // creating a stream over the map's entries\n        .max(Map.Entry.comparingByValue()) // picking the entry with the highest value -&gt; result: Optional&lt;Map.Entry&lt;Integer, Long&gt;&gt;\n        .map(Map.Entry::getKey)            // transforming the optional result Optional&lt;Integer&gt; \n        .ifPresent(System.out::println);   // printing the result if optional is not empty\n}\n</code></pre>\n<p>With your sample data, this code will produce the output <code>1</code>.</p>\n<h3>Result - a List of newsId having the highest frequency</h3>\n<p>In order to address the case when there could be several <code>newsId</code> having the same number of occurrences, you can build *a <em>custom collector</em>.</p>\n<p>The initial idea is the same a described above, but instead <code>max()</code> operation, this time we would apply <code>collect()</code> on the stream of map entries and a <em>custom collector</em> will be provided as an argument.</p>\n<p>To create a custom collector, we can utilize the static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of()</code></a>.</p>\n<p>The logic behind the <em>custom collector</em> provided below is following:</p>\n<ul>\n<li><p><code>supplier</code> - intermediate results (<em>map entries</em>) are being stored in a <code>Queue</code>.</p>\n</li>\n<li><p><code>accumulator</code> - if the next stream <em>element</em> has the same <em>frequency count</em> (<em>the value of a map entry</em>) as the first element in the <em>queue</em>, or the <em>queue</em> is empty, then it gets added into the <em>queue</em>. If the <em>count</em> of the next <em>element</em> is lower, it would be ignored. And if the <em>count</em> is higher, the <em>queue</em> gets cleaned, and the next <em>element</em> will be added.</p>\n</li>\n<li><p><code>combiner</code> The two <em>queues</em> obtained while executing the stream in parallel would be combined using almost the same logic as described above for <em>accumulator</em>.</p>\n</li>\n<li><p><code>finisher</code> - this function transforms the <em>queue</em> of map entries into a list of <code>newsId</code>.</p>\n</li>\n</ul>\n<p><strong>Note</strong> that such an implementation allows to make only a <em>single iteration</em> over the entry set, and this performance advantage is a justification for its complexity.</p>\n<pre><code>public static void main(String args[]) {\n    \n    news.stream()\n        .collect(Collectors.groupingBy(\n            News::getNewsId,\n            Collectors.counting()\n        ))\n        .entrySet().stream()\n        .collect(Collector.of(\n            ArrayDeque::new,\n            (Queue&lt;Map.Entry&lt;Integer, Long&gt;&gt; queue, Map.Entry&lt;Integer, Long&gt; entry) -&gt; {\n                if (queue.isEmpty() || queue.element().getValue().equals(entry.getValue())) {\n                    queue.add(entry);\n                } else if (queue.element().getValue() &lt; entry.getValue()) {\n                    queue.clear();\n                    queue.add(entry);\n                }\n            },\n            (left, right) -&gt; {\n                if (left.isEmpty() || !right.isEmpty()\n                    &amp;&amp; right.element().getValue() &gt; left.element().getValue())\n                    return right;\n                if (right.isEmpty() || left.element().getValue() &gt; right.element().getValue())\n                    return left;\n                \n                left.addAll(right);\n                return left;\n            },\n            queue -&gt; queue.stream().map(Map.Entry::getKey).collect(Collectors.toList())\n        ))\n        .forEach(System.out::println);\n}\n\nstatic List&lt;News&gt; news = Arrays.asList( // News `1` &amp; `2` are the most frequent\n    new News(1, &quot;fb_Userpost&quot;, &quot;fb_Usercomment&quot;, &quot;comment1&quot;),\n    new News(2, &quot;insta_userpost&quot;, &quot;insta_usercomment&quot;, &quot;comment2&quot;),\n    new News(2, &quot;insta_userpost&quot;, &quot;insta_usercomment&quot;, &quot;comment2&quot;),\n    new News(2, &quot;insta_userpost&quot;, &quot;insta_usercomment&quot;, &quot;comment2&quot;),\n    new News(1, &quot;whatsapp_userpost&quot;, &quot;whatsapp_usercomment&quot;, &quot;comment3&quot;),\n    new News(1, &quot;whatsapp_userpost&quot;, &quot;whatsapp_usercomment&quot;, &quot;comment3&quot;),\n    new News(3, &quot;whatsapp_userpost&quot;, &quot;whatsapp_usercomment&quot;, &quot;comment3&quot;)\n);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>1\n2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655309494,"creation_date":1655242667,"answer_id":72623652,"question_id":72621256,"body_markdown":"First, count the number of times each `newsId` is referenced. Then, find the maximum count. Finally, keep only those identifiers with the maximum count.\r\n\r\n```java\r\nMap&lt;Integer, Long&gt; countByNewsId = news.stream()\r\n    .map(News::getNewsId)\r\n    .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\nLong max = countByNewsId.values().stream().max(Long::compareTo).orElse(null);\r\ncountByNewsId.values().removeIf(Predicate.isEqual(max).negate());\r\nSet&lt;Integer&gt; maxCommentedNewsIds = countByNewsId.keySet();\r\n```","title":"How to filter the Maximum number of occurrences of objects with the same id using Java 8 Streams","body":"<p>First, count the number of times each <code>newsId</code> is referenced. Then, find the maximum count. Finally, keep only those identifiers with the maximum count.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, Long&gt; countByNewsId = news.stream()\n    .map(News::getNewsId)\n    .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\nLong max = countByNewsId.values().stream().max(Long::compareTo).orElse(null);\ncountByNewsId.values().removeIf(Predicate.isEqual(max).negate());\nSet&lt;Integer&gt; maxCommentedNewsIds = countByNewsId.keySet();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11854454,"reputation":433,"user_id":14999427,"display_name":"Suic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655284589,"creation_date":1655284589,"answer_id":72628794,"question_id":72621256,"body_markdown":"Here&#39;s another solution that only uses a single stream pass although speed wise it&#39;s probably slightly slower (I haven&#39;t benchmarked it) than Alexander&#39;s solution however it is far shorter.\r\n\r\n```java\r\nimport static java.util.function.Function.identity;\r\nimport static java.util.stream.Collectors.*;\r\n\r\nnews.stream()\r\n        .map(News::getNewsId)\r\n        .collect(\r\n                teeing(\r\n                        groupingBy(identity(), counting()),\r\n                        collectingAndThen(groupingBy(identity(), counting()), map -&gt; Collections.max(map.values())),\r\n                        (frequencyMap, max) -&gt; {\r\n                            frequencyMap.values().removeIf(v -&gt; v != max.longValue());\r\n                            return frequencyMap.keySet();\r\n                        }\r\n                )\r\n        ).forEach(System.out::println);\r\n```","title":"How to filter the Maximum number of occurrences of objects with the same id using Java 8 Streams","body":"<p>Here's another solution that only uses a single stream pass although speed wise it's probably slightly slower (I haven't benchmarked it) than Alexander's solution however it is far shorter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.util.function.Function.identity;\nimport static java.util.stream.Collectors.*;\n\nnews.stream()\n        .map(News::getNewsId)\n        .collect(\n                teeing(\n                        groupingBy(identity(), counting()),\n                        collectingAndThen(groupingBy(identity(), counting()), map -&gt; Collections.max(map.values())),\n                        (frequencyMap, max) -&gt; {\n                            frequencyMap.values().removeIf(v -&gt; v != max.longValue());\n                            return frequencyMap.keySet();\n                        }\n                )\n        ).forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":25555710,"reputation":9,"user_id":19339308,"display_name":"Yash Tumu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":932,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1655309494,"creation_date":1655228264,"question_id":72621256,"body_markdown":"I need to find out the `newsId` which has received maximum comments. \r\n\r\nI have created the `News` class in which I created method variables, constructor, getters and setters. \r\n\r\nI&#39;ve created `Main` class to write the logic in java 8 using streams. \r\n\r\nI&#39;m struck at implementing the `Predicate` interface in filtering out the `newsId` which has maximum number of count in the list of `News` objects.\r\n\r\n    public class News {\r\n        int newsId;\r\n        String postByUser;\r\n        String commentByUser;\r\n        String comment;\r\n    \r\n        public News(int newsId, String postByUser, String commentByUser, String comment) {\r\n            this.newsId = newsId;\r\n            this.postByUser = postByUser;\r\n            this.commentByUser = commentByUser;\r\n            this.comment = comment;\r\n        }\r\n    \r\n        public int getNewsId() {\r\n            return newsId;\r\n        }\r\n    \r\n        public void setNewsId(int newsId) {\r\n            this.newsId = newsId;\r\n        }\r\n    \r\n        public String getPostByUser() {\r\n            return postByUser;\r\n        }\r\n    \r\n        public void setPostByUser(String postByUser) {\r\n            this.postByUser = postByUser;\r\n        }\r\n    \r\n        public String getCommentByUser() {\r\n            return commentByUser;\r\n        }\r\n    \r\n        public void setCommentByUser(String commentByUser) {\r\n            this.commentByUser = commentByUser;\r\n        }\r\n    \r\n        public String getComment() {\r\n            return comment;\r\n        }\r\n    \r\n        public void setComment(String comment) {\r\n            this.comment = comment;\r\n        }\r\n    }\r\n    \r\n    class Main {\r\n    \r\n        static List &lt; News &gt; news = Arrays.asList(\r\n            new News(1, &quot;fb_Userpost&quot;, &quot;fb_Usercomment&quot;, &quot;comment1&quot;),\r\n            new News(2, &quot;insta_userpost&quot;, &quot;insta_usercomment&quot;, &quot;comment2&quot;),\r\n            new News(1, &quot;whatsapp_userpost&quot;, &quot;whatsapp_usercomment&quot;, &quot;comment3&quot;),\r\n            new News(1, &quot;whatsapp_userpost&quot;, &quot;whatsapp_usercomment&quot;, &quot;comment3&quot;),\r\n            new News(3, &quot;whatsapp_userpost&quot;, &quot;whatsapp_usercomment&quot;, &quot;comment3&quot;)\r\n        );\r\n        public static void main(String args[]) {\r\n            //   Predicate&lt;News&gt; pr = s -&gt; s\r\n            news.stream()\r\n                .filter(pr)\r\n                .collect(Collectors.toList())\r\n                .forEach(s - &gt; System.out.println(s.getNewsId()));\r\n        }","title":"How to filter the Maximum number of occurrences of objects with the same id using Java 8 Streams","body":"<p>I need to find out the <code>newsId</code> which has received maximum comments.</p>\n<p>I have created the <code>News</code> class in which I created method variables, constructor, getters and setters.</p>\n<p>I've created <code>Main</code> class to write the logic in java 8 using streams.</p>\n<p>I'm struck at implementing the <code>Predicate</code> interface in filtering out the <code>newsId</code> which has maximum number of count in the list of <code>News</code> objects.</p>\n<pre><code>public class News {\n    int newsId;\n    String postByUser;\n    String commentByUser;\n    String comment;\n\n    public News(int newsId, String postByUser, String commentByUser, String comment) {\n        this.newsId = newsId;\n        this.postByUser = postByUser;\n        this.commentByUser = commentByUser;\n        this.comment = comment;\n    }\n\n    public int getNewsId() {\n        return newsId;\n    }\n\n    public void setNewsId(int newsId) {\n        this.newsId = newsId;\n    }\n\n    public String getPostByUser() {\n        return postByUser;\n    }\n\n    public void setPostByUser(String postByUser) {\n        this.postByUser = postByUser;\n    }\n\n    public String getCommentByUser() {\n        return commentByUser;\n    }\n\n    public void setCommentByUser(String commentByUser) {\n        this.commentByUser = commentByUser;\n    }\n\n    public String getComment() {\n        return comment;\n    }\n\n    public void setComment(String comment) {\n        this.comment = comment;\n    }\n}\n\nclass Main {\n\n    static List &lt; News &gt; news = Arrays.asList(\n        new News(1, &quot;fb_Userpost&quot;, &quot;fb_Usercomment&quot;, &quot;comment1&quot;),\n        new News(2, &quot;insta_userpost&quot;, &quot;insta_usercomment&quot;, &quot;comment2&quot;),\n        new News(1, &quot;whatsapp_userpost&quot;, &quot;whatsapp_usercomment&quot;, &quot;comment3&quot;),\n        new News(1, &quot;whatsapp_userpost&quot;, &quot;whatsapp_usercomment&quot;, &quot;comment3&quot;),\n        new News(3, &quot;whatsapp_userpost&quot;, &quot;whatsapp_usercomment&quot;, &quot;comment3&quot;)\n    );\n    public static void main(String args[]) {\n        //   Predicate&lt;News&gt; pr = s -&gt; s\n        news.stream()\n            .filter(pr)\n            .collect(Collectors.toList())\n            .forEach(s - &gt; System.out.println(s.getNewsId()));\n    }\n</code></pre>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"score":0,"creation_date":1655306628,"post_id":72633894,"comment_id":128302718,"body_markdown":"No, you could not use setters. And anyway it sounds like a bad design...","body":"No, you could not use setters. And anyway it sounds like a bad design..."}],"answers":[{"tags":[],"owner":{"account_id":1414105,"reputation":697,"user_id":1340107,"display_name":"Joey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655309268,"creation_date":1655309268,"answer_id":72634557,"question_id":72633894,"body_markdown":"I believe you need to mark the property `private int a` with annotation from GSON library like `@Expose` or `@SerializedName` in order for the GSON mechanism to deserialize the JSON string properly. Try to refer to this [link][1] for more info and example.\r\n\r\n\r\n  [1]: https://medium.com/@mummu1927/gson-use-full-annotation-43131dfbb1ed","title":"How to use a setter method when deserializing with Gson?","body":"<p>I believe you need to mark the property <code>private int a</code> with annotation from GSON library like <code>@Expose</code> or <code>@SerializedName</code> in order for the GSON mechanism to deserialize the JSON string properly. Try to refer to this <a href=\"https://medium.com/@mummu1927/gson-use-full-annotation-43131dfbb1ed\" rel=\"nofollow noreferrer\">link</a> for more info and example.</p>\n"}],"owner":{"account_id":19972020,"reputation":299,"user_id":14637258,"display_name":"Anne Maier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655358134,"answer_count":1,"score":0,"last_activity_date":1655309268,"creation_date":1655306185,"question_id":72633894,"body_markdown":"When the JSON string {&quot;a&quot;: 1} is deserialized, the number 100 should be added to the value 1. In jsonb this is achieved via the setter method, but Gson ignores the setter method. How can Gson be made to use the setter method? Or if this is not possible, what is the recommended alternative for a setter in Gson - in 2022?\r\n\r\n``` \r\n@RestController\r\npublic class NumberController {\r\n    @RequestMapping(&quot;/number&quot;)\r\n    public Number number() {\r\n        String jsonString = &quot;{\\&quot;a\\&quot;:1}&quot;;\r\n\r\n        // Gson.\r\n        GsonBuilder builder = new GsonBuilder();\r\n        Gson gson = builder.create();\r\n        Number numberWithGson = gson.fromJson(jsonString, Number.class);\r\n        System.out.println(numberWithGson); // Number(a=1)\r\n\r\n        // Jsonb.\r\n        Jsonb jsonb = JsonbBuilder.create();\r\n        Number numberWithJsonB = jsonb.fromJson(jsonString, Number.class);\r\n        System.out.println(numberWithJsonB); // Number(a=101)\r\n\r\n        return numberWithGson; // Returns {&quot;a&quot;: 1}, but should return {&quot;a&quot;: 101}\r\n    }\r\n}\r\n```\r\n\r\n``` @Data\r\npublic class Number {\r\n    private int a;\r\n\r\n    public void setA(int a) {\r\n        this.a = a + 100;\r\n    }\r\n}\r\n ```","title":"How to use a setter method when deserializing with Gson?","body":"<p>When the JSON string {&quot;a&quot;: 1} is deserialized, the number 100 should be added to the value 1. In jsonb this is achieved via the setter method, but Gson ignores the setter method. How can Gson be made to use the setter method? Or if this is not possible, what is the recommended alternative for a setter in Gson - in 2022?</p>\n<pre><code>@RestController\npublic class NumberController {\n    @RequestMapping(&quot;/number&quot;)\n    public Number number() {\n        String jsonString = &quot;{\\&quot;a\\&quot;:1}&quot;;\n\n        // Gson.\n        GsonBuilder builder = new GsonBuilder();\n        Gson gson = builder.create();\n        Number numberWithGson = gson.fromJson(jsonString, Number.class);\n        System.out.println(numberWithGson); // Number(a=1)\n\n        // Jsonb.\n        Jsonb jsonb = JsonbBuilder.create();\n        Number numberWithJsonB = jsonb.fromJson(jsonString, Number.class);\n        System.out.println(numberWithJsonB); // Number(a=101)\n\n        return numberWithGson; // Returns {&quot;a&quot;: 1}, but should return {&quot;a&quot;: 101}\n    }\n}\n</code></pre>\n<pre><code>public class Number {\n    private int a;\n\n    public void setA(int a) {\n        this.a = a + 100;\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","spring","http","spring-data-jpa"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1655315550,"post_id":72634549,"comment_id":128305884,"body_markdown":"If you can add the stack trace, it would be helpful in determining what&#39;s happening.","body":"If you can add the stack trace, it would be helpful in determining what&#39;s happening."},{"owner":{"account_id":25564068,"reputation":1,"user_id":19346149,"display_name":"MarcusZZZ"},"score":0,"creation_date":1655322003,"post_id":72634549,"comment_id":128308078,"body_markdown":"The spring application compiles and runs without problem. It is just that I cannot insert entries into the review table. The only error i get is when send a POST request","body":"The spring application compiles and runs without problem. It is just that I cannot insert entries into the review table. The only error i get is when send a POST request"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1655322379,"post_id":72634549,"comment_id":128308202,"body_markdown":"yes but there was an error which is why you received that response, the 500 indicates that an unhandled exception occurred.  Include that stack trace.","body":"yes but there was an error which is why you received that response, the 500 indicates that an unhandled exception occurred.  Include that stack trace."}],"owner":{"account_id":25564068,"reputation":1,"user_id":19346149,"display_name":"MarcusZZZ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655309255,"creation_date":1655309255,"question_id":72634549,"body_markdown":"I am new to JPA and Spring and I am encountering a problem when trying to send a Post request to create a review object. I am not sure if my ManytoOne object creation cause the problem. I use postgresql for database.\r\n \r\nThis is the error code: \r\n\r\n```\r\n{\r\n  &quot;timestamp&quot;: &quot;2022-06-15T15:55:27.103+00:00&quot;,\r\n  &quot;status&quot;: 500,\r\n  &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n  &quot;message&quot;: &quot;could not execute statement; SQL [n/a]; constraint [title\\&quot; of relation \\&quot;review]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement&quot;,\r\n  &quot;path&quot;: &quot;/api/v1/movie/review/Egg&quot;\r\n}\r\n```\r\nHere is my request method and service method:\r\n```\r\n @PostMapping  (path = &quot;/review/{movieTitle}&quot;)\r\n    public void addNewReview(@PathVariable String movieTitle, @RequestBody Boolean like){\r\n\r\n        movieService.addNewReview(movieTitle, like);\r\n    }\r\n```\r\n```\r\n public void addNewReview(String title, boolean like) {\r\n        Movie m = getMovieByTitle(title);\r\n        Review review = new Review(m, like);\r\n        reviewRepository.save(review);\r\n    }\r\n```\r\nReview table has a many to one relationship to the movie table. The review class is below:\r\n```\r\n@Entity\r\n@Table\r\npublic class Review {\r\n    @Id\r\n    @GeneratedValue(generator = &quot;UUID&quot;)\r\n    @GenericGenerator(\r\n            name = &quot;UUID&quot;,\r\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\r\n    )\r\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n    private UUID id;\r\n\r\n    private int likes;\r\n    private int dislikes;\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER, optional = false, cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = &quot;title&quot;, insertable=false, updatable=false)\r\n    private Movie movie;\r\n\r\n    public Review(Movie movie, boolean like) {\r\n        this.movie = movie;\r\n        if(like){\r\n            this.likes = 1;\r\n            this.dislikes = 0;\r\n        }else{\r\n            this.likes = 0;\r\n            this.dislikes = 1;\r\n        }\r\n    }\r\n```\r\nMovie class is below:\r\n```\r\n@Entity\r\n@Table\r\npublic class Movie {\r\n    @Id\r\n    private String title;\r\n    private String description;\r\n    private Integer releaseYear;\r\n    private double duration;\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;movie&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    private List&lt;Review&gt; reviews;\r\n\r\n    @Transient\r\n    private double rating;\r\n\r\n    public Movie(String title, String description, Integer releaseYear, double duration) {\r\n        this.title = title;\r\n        this.description = description;\r\n        this.releaseYear = releaseYear;\r\n        this.duration = duration;\r\n    }\r\n```\r\nThank you for your help! I am stuck here for a day and cannot figure out why title violates the constraint(which is foreign key constraint) \r\n","title":"exception.ConstraintViolationException when execute POST request for a @ManyToOne Object","body":"<p>I am new to JPA and Spring and I am encountering a problem when trying to send a Post request to create a review object. I am not sure if my ManytoOne object creation cause the problem. I use postgresql for database.</p>\n<p>This is the error code:</p>\n<pre><code>{\n  &quot;timestamp&quot;: &quot;2022-06-15T15:55:27.103+00:00&quot;,\n  &quot;status&quot;: 500,\n  &quot;error&quot;: &quot;Internal Server Error&quot;,\n  &quot;message&quot;: &quot;could not execute statement; SQL [n/a]; constraint [title\\&quot; of relation \\&quot;review]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement&quot;,\n  &quot;path&quot;: &quot;/api/v1/movie/review/Egg&quot;\n}\n</code></pre>\n<p>Here is my request method and service method:</p>\n<pre><code> @PostMapping  (path = &quot;/review/{movieTitle}&quot;)\n    public void addNewReview(@PathVariable String movieTitle, @RequestBody Boolean like){\n\n        movieService.addNewReview(movieTitle, like);\n    }\n</code></pre>\n<pre><code> public void addNewReview(String title, boolean like) {\n        Movie m = getMovieByTitle(title);\n        Review review = new Review(m, like);\n        reviewRepository.save(review);\n    }\n</code></pre>\n<p>Review table has a many to one relationship to the movie table. The review class is below:</p>\n<pre><code>@Entity\n@Table\npublic class Review {\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(\n            name = &quot;UUID&quot;,\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\n    )\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\n    private UUID id;\n\n    private int likes;\n    private int dislikes;\n\n\n    @ManyToOne(fetch = FetchType.EAGER, optional = false, cascade = CascadeType.PERSIST)\n    @JoinColumn(name = &quot;title&quot;, insertable=false, updatable=false)\n    private Movie movie;\n\n    public Review(Movie movie, boolean like) {\n        this.movie = movie;\n        if(like){\n            this.likes = 1;\n            this.dislikes = 0;\n        }else{\n            this.likes = 0;\n            this.dislikes = 1;\n        }\n    }\n</code></pre>\n<p>Movie class is below:</p>\n<pre><code>@Entity\n@Table\npublic class Movie {\n    @Id\n    private String title;\n    private String description;\n    private Integer releaseYear;\n    private double duration;\n\n\n    @OneToMany(mappedBy = &quot;movie&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    private List&lt;Review&gt; reviews;\n\n    @Transient\n    private double rating;\n\n    public Movie(String title, String description, Integer releaseYear, double duration) {\n        this.title = title;\n        this.description = description;\n        this.releaseYear = releaseYear;\n        this.duration = duration;\n    }\n</code></pre>\n<p>Thank you for your help! I am stuck here for a day and cannot figure out why title violates the constraint(which is foreign key constraint)</p>\n"},{"tags":["java","hibernate","spring-boot","jpa","one-to-one"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1590505177,"post_id":62023970,"comment_id":109701137,"body_markdown":"Lazy seems to be working on the UserStatus relationships or additional queries would be  seen. Try running your test and removing/disabling or otherwise making the user_statuses table query throw an exception, as the stack might indicate where/why the query is occurring.","body":"Lazy seems to be working on the UserStatus relationships or additional queries would be  seen. Try running your test and removing/disabling or otherwise making the user_statuses table query throw an exception, as the stack might indicate where/why the query is occurring."},{"owner":{"account_id":1426124,"reputation":1955,"user_id":3165402,"accept_rate":64,"display_name":"clzola"},"score":0,"creation_date":1590507898,"post_id":62023970,"comment_id":109702750,"body_markdown":"@Chris if I load UserStatus entity then I do not see query for User entity, only if I try to load User entity it fetches UserStatus even if it is all lazy","body":"@Chris if I load UserStatus entity then I do not see query for User entity, only if I try to load User entity it fetches UserStatus even if it is all lazy"},{"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"score":0,"creation_date":1590535588,"post_id":62023970,"comment_id":109715212,"body_markdown":"I dont know why hibernate is executing two select queries instead of one with join, but you might wan&#39;t to know that it is possible to create bi-directional lazy one to one association using @LazyToOne if you enable bytecode enhancement.\n\nMapsIds is still the best solution for your case though.\n\n[read about bytecode enhancement](https://vladmihalcea.com/how-to-enable-bytecode-enhancement-dirty-checking-in-hibernate/)","body":"I dont know why hibernate is executing two select queries instead of one with join, but you might wan&#39;t to know that it is possible to create bi-directional lazy one to one association using @LazyToOne if you enable bytecode enhancement.  MapsIds is still the best solution for your case though.  <a href=\"https://vladmihalcea.com/how-to-enable-bytecode-enhancement-dirty-checking-in-hibernate/\" rel=\"nofollow noreferrer\">read about bytecode enhancement</a>"},{"owner":{"account_id":1426124,"reputation":1955,"user_id":3165402,"accept_rate":64,"display_name":"clzola"},"score":0,"creation_date":1590570089,"post_id":62023970,"comment_id":109726035,"body_markdown":"@KamilBęben If I use `@MapsId` and unidirectional one-to-one, why is than running two select queries better than one query with left join?","body":"@KamilBęben If I use <code>@MapsId</code> and unidirectional one-to-one, why is than running two select queries better than one query with left join?"},{"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"score":0,"creation_date":1590578668,"post_id":62023970,"comment_id":109730768,"body_markdown":"You&#39;ve said that you wanted this to be lazily loaded, and using `MapsId` is the way to achieve this.\n\nHovewer, yesterday i haven&#39;t noticed that the parent-side has mappedBy specified. You could make it bi-directional association as it has been described [here](https://stackoverflow.com/a/62033179/6700091), and use EntityGraph to fetch both parent and child in a single query when needed.","body":"You&#39;ve said that you wanted this to be lazily loaded, and using <code>MapsId</code> is the way to achieve this.  Hovewer, yesterday i haven&#39;t noticed that the parent-side has mappedBy specified. You could make it bi-directional association as it has been described <a href=\"https://stackoverflow.com/a/62033179/6700091\">here</a>, and use EntityGraph to fetch both parent and child in a single query when needed."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1590591432,"post_id":62023970,"comment_id":109738412,"body_markdown":"MapsId is correct in the code above, and even if it is wrong, it should affect userStatus not the User class. I don&#39;t think anyone can tell you what is going wrong. For other providers, I&#39;d usually look for toString method implementations or anything else that might indicate what it accessing that user.status relationship forcing it to be fetched - and is why I suggested you remove/disable the status table, as the stack trace from the failed query will tell you exactly where it is and what is causing it - your code or some Hibernate setting.","body":"MapsId is correct in the code above, and even if it is wrong, it should affect userStatus not the User class. I don&#39;t think anyone can tell you what is going wrong. For other providers, I&#39;d usually look for toString method implementations or anything else that might indicate what it accessing that user.status relationship forcing it to be fetched - and is why I suggested you remove/disable the status table, as the stack trace from the failed query will tell you exactly where it is and what is causing it - your code or some Hibernate setting."},{"owner":{"account_id":4272276,"reputation":3564,"user_id":3493829,"display_name":"SSK"},"score":0,"creation_date":1590670768,"post_id":62023970,"comment_id":109771573,"body_markdown":"it will give you two queries.\nto avoid queries you have two options 1. use entity graph. 2. use @JsonIgnore UserStatus  in User","body":"it will give you two queries. to avoid queries you have two options 1. use entity graph. 2. use @JsonIgnore UserStatus  in User"}],"answers":[{"tags":[],"owner":{"account_id":14404539,"reputation":71,"user_id":13898185,"display_name":"Akta Kalariya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655308942,"creation_date":1655308145,"answer_id":72634324,"question_id":62023970,"body_markdown":"For one to one relation in hibernate it is always loading reference object whether you keep Fetch type Lazy or Eager. So alternate solution is select only those columns which are needed, it should not contain that reference column. So in this case hibernate will not fire another query.\r\n\r\nQuery for below class will be :\r\n\r\n    @Query(&quot;select new Example(id,field1) from Example&quot;)\r\n\r\n    @Entity\r\n    @Table(name = &quot;example&quot;)\r\n    class Example implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        public Example(Long id, String field1) {\r\n            this.id = id;\r\n            this.field1 = field1;\r\n        }\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;, nullable = false, updatable = false)\r\n        private Long id;\r\n    \r\n        @OneToOne(mappedBy = &quot;example&quot;, fetch = LAZY, cascade = ALL)\r\n        private CustomerDetails customerDetails;\r\n    \r\n        @Column(name = &quot;field1&quot;, nullable = false, updatable = false)\r\n        private String field1;\r\n    }","title":"How to prevent additional query for OneToOne relation","body":"<p>For one to one relation in hibernate it is always loading reference object whether you keep Fetch type Lazy or Eager. So alternate solution is select only those columns which are needed, it should not contain that reference column. So in this case hibernate will not fire another query.</p>\n<p>Query for below class will be :</p>\n<pre><code>@Query(&quot;select new Example(id,field1) from Example&quot;)\n\n@Entity\n@Table(name = &quot;example&quot;)\nclass Example implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    public Example(Long id, String field1) {\n        this.id = id;\n        this.field1 = field1;\n    }\n\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false, updatable = false)\n    private Long id;\n\n    @OneToOne(mappedBy = &quot;example&quot;, fetch = LAZY, cascade = ALL)\n    private CustomerDetails customerDetails;\n\n    @Column(name = &quot;field1&quot;, nullable = false, updatable = false)\n    private String field1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655308856,"creation_date":1655308856,"answer_id":72634476,"question_id":62023970,"body_markdown":"It is possible to make OTO lazy even if it&#39;s not the owning side. You just need to mark it as `optional = false`. This way Hibernate will know that it can safely a create proxy (and `null` is not possible) as the association always exists. Note, though it really must be non-optional - the 2nd entity must always exist. Otherwise you&#39;ll get an exception once Hibernate tries to load it lazily.\r\n\r\nAs for the number of queries, with native Hibernate (not JPA!) you can select `org.hibernate.annotations.FetchMode`. Which gives options to:\r\n\r\n* Use a separate `select`\r\n* Or use a `join` to load association\r\n\r\nAlternatively, you can stay with JPA and write a JPQL query and use `fetch join` to keep it as a single query.\r\n\r\nPS: before doing additional `select` Hibernate will check if the element already exists within the Session. If it is, then no `select` is going to be issued. But with `fetch join` or `FetchMode.JOIN` you won&#39;t have this luxury - join will always happen.","title":"How to prevent additional query for OneToOne relation","body":"<p>It is possible to make OTO lazy even if it's not the owning side. You just need to mark it as <code>optional = false</code>. This way Hibernate will know that it can safely a create proxy (and <code>null</code> is not possible) as the association always exists. Note, though it really must be non-optional - the 2nd entity must always exist. Otherwise you'll get an exception once Hibernate tries to load it lazily.</p>\n<p>As for the number of queries, with native Hibernate (not JPA!) you can select <code>org.hibernate.annotations.FetchMode</code>. Which gives options to:</p>\n<ul>\n<li>Use a separate <code>select</code></li>\n<li>Or use a <code>join</code> to load association</li>\n</ul>\n<p>Alternatively, you can stay with JPA and write a JPQL query and use <code>fetch join</code> to keep it as a single query.</p>\n<p>PS: before doing additional <code>select</code> Hibernate will check if the element already exists within the Session. If it is, then no <code>select</code> is going to be issued. But with <code>fetch join</code> or <code>FetchMode.JOIN</code> you won't have this luxury - join will always happen.</p>\n"}],"owner":{"account_id":1426124,"reputation":1955,"user_id":3165402,"accept_rate":64,"display_name":"clzola"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1774,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655308942,"creation_date":1590501911,"question_id":62023970,"body_markdown":"I have tables:\r\n\r\n```\r\nusers (id, name, email, password)\r\nuser_statuses (user_id, is_premium, is_advanced, user_rank_id)\r\nuser_ranks (id, name, ordinal)\r\n```\r\n\r\nSo the relation between User and UserStatus is 1-1, and I have following entity clasess:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    private String name;\r\n    private String email;\r\n    private String password;\r\n\r\n    @OneToOne(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    private UserStatus status;\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;user_statuses&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class UserStatus {\r\n    @Id\r\n    private long id;\r\n\r\n    @MapsId\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n\r\n    private boolean isPremium;\r\n    private boolean isAdvanced;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_rank_id&quot;)\r\n    private UserRank rank;\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;user_ranks&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class UserRank {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    private String name;\r\n    private int ordinal;\r\n}\r\n```\r\n\r\nThen i created endpoint &quot;/users/{id}&quot; which should return user&#39;s email address as a string:\r\n\r\n```\r\n@GetMapping(&quot;/users/{id}&quot;)\r\npublic String getUserEmail(@PathVariable(&quot;id&quot;) long userId) {\r\n    User user = service.getUser(userId);\r\n    return user.getEmail();\r\n}\r\n```\r\n\r\nWhen I call above endpoint I get user&#39;s email address as a response, however looking at the console log I see that hibernate executed 2 queries but noone asked him to do so:\r\n\r\nFirst one for fetching the user:\r\n```\r\nSELECT\r\n    user0_.id AS id1_2_0_,\r\n    user0_.email AS email2_2_0_,\r\n    user0_.name AS name3_2_0_,\r\n    user0_.password AS password4_2_0_\r\nFROM\r\n    users user0_\r\nWHERE\r\n    user0_.id = 1;\r\n```\r\n\r\nAnd second one for fetching User Status that is associated with this User object:\r\n```\r\nSELECT\r\n    userstatus0_.user_id AS user_id1_1_0_,\r\n    userstatus0_.is_advanced AS is_advan2_1_0_,\r\n    userstatus0_.is_premium AS is_premi3_1_0_,\r\n    userstatus0_.user_rank_id AS user_ran4_1_0_\r\nFROM\r\n    user_statuses userstatus0_\r\nWHERE\r\n    userstatus0_.user_id = 1;\r\n```\r\n\r\nSo I am confused: Why is hibernate running second query when I set `fetch = FetchType.LAZY` on each relation... It looks like that LAZY is ignored for `@OneToOne` annotation?\r\n\r\nI do not use EntityGraph.\r\n\r\nHow to stop hibernate for running second query?\r\n\r\n**EDIT**\r\n\r\nSo, it turns out Hibernate ignores my Lazy hint because it needs to decide should it initialize property with NULL or ProxyObject which makes sense. This link explains it well:\r\n\r\nhttps://thorben-janssen.com/hibernate-tip-lazy-loading-one-to-one/\r\n\r\nHowever this link also suggests that the best way to model this is Unidirectional One to One and it says that I can always fetch UserStatus based on User&#39;s ID (because both tables &quot;shares&quot; primary key)\r\n\r\nHowever this confuses me a little bit, because I can fetch both rows using single query (`SELECT * FROM users LEFT JOIN user_statuses ON users.id = user_statuses.user_id`), but with approach described in the link I need 2 queries, and as far as I know (which I might be wrong) is 1 query is better than executing 2 queries, also if I want to fetch 25 users and their User Statuses, then I would also need 2 queries, one for fetching users and then fetching corespoinding user statuses and finally write nested for each loops to join these objects. I could have just executed one single query to fetch everything...\r\n\r\n\r\n\r\n","title":"How to prevent additional query for OneToOne relation","body":"<p>I have tables:</p>\n\n<pre><code>users (id, name, email, password)\nuser_statuses (user_id, is_premium, is_advanced, user_rank_id)\nuser_ranks (id, name, ordinal)\n</code></pre>\n\n<p>So the relation between User and UserStatus is 1-1, and I have following entity clasess:</p>\n\n<pre><code>@Entity\n@Table(name = \"users\")\n@Getter\n@Setter\n@NoArgsConstructor\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    private String name;\n    private String email;\n    private String password;\n\n    @OneToOne(mappedBy = \"user\", cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    private UserStatus status;\n}\n\n@Entity\n@Table(name = \"user_statuses\")\n@Getter\n@Setter\n@NoArgsConstructor\npublic class UserStatus {\n    @Id\n    private long id;\n\n    @MapsId\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"user_id\")\n    private User user;\n\n    private boolean isPremium;\n    private boolean isAdvanced;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"user_rank_id\")\n    private UserRank rank;\n}\n\n@Entity\n@Table(name = \"user_ranks\")\n@Getter\n@Setter\n@NoArgsConstructor\npublic class UserRank {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    private String name;\n    private int ordinal;\n}\n</code></pre>\n\n<p>Then i created endpoint \"/users/{id}\" which should return user's email address as a string:</p>\n\n<pre><code>@GetMapping(\"/users/{id}\")\npublic String getUserEmail(@PathVariable(\"id\") long userId) {\n    User user = service.getUser(userId);\n    return user.getEmail();\n}\n</code></pre>\n\n<p>When I call above endpoint I get user's email address as a response, however looking at the console log I see that hibernate executed 2 queries but noone asked him to do so:</p>\n\n<p>First one for fetching the user:</p>\n\n<pre><code>SELECT\n    user0_.id AS id1_2_0_,\n    user0_.email AS email2_2_0_,\n    user0_.name AS name3_2_0_,\n    user0_.password AS password4_2_0_\nFROM\n    users user0_\nWHERE\n    user0_.id = 1;\n</code></pre>\n\n<p>And second one for fetching User Status that is associated with this User object:</p>\n\n<pre><code>SELECT\n    userstatus0_.user_id AS user_id1_1_0_,\n    userstatus0_.is_advanced AS is_advan2_1_0_,\n    userstatus0_.is_premium AS is_premi3_1_0_,\n    userstatus0_.user_rank_id AS user_ran4_1_0_\nFROM\n    user_statuses userstatus0_\nWHERE\n    userstatus0_.user_id = 1;\n</code></pre>\n\n<p>So I am confused: Why is hibernate running second query when I set <code>fetch = FetchType.LAZY</code> on each relation... It looks like that LAZY is ignored for <code>@OneToOne</code> annotation?</p>\n\n<p>I do not use EntityGraph.</p>\n\n<p>How to stop hibernate for running second query?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>So, it turns out Hibernate ignores my Lazy hint because it needs to decide should it initialize property with NULL or ProxyObject which makes sense. This link explains it well:</p>\n\n<p><a href=\"https://thorben-janssen.com/hibernate-tip-lazy-loading-one-to-one/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/hibernate-tip-lazy-loading-one-to-one/</a></p>\n\n<p>However this link also suggests that the best way to model this is Unidirectional One to One and it says that I can always fetch UserStatus based on User's ID (because both tables \"shares\" primary key)</p>\n\n<p>However this confuses me a little bit, because I can fetch both rows using single query (<code>SELECT * FROM users LEFT JOIN user_statuses ON users.id = user_statuses.user_id</code>), but with approach described in the link I need 2 queries, and as far as I know (which I might be wrong) is 1 query is better than executing 2 queries, also if I want to fetch 25 users and their User Statuses, then I would also need 2 queries, one for fetching users and then fetching corespoinding user statuses and finally write nested for each loops to join these objects. I could have just executed one single query to fetch everything...</p>\n"},{"tags":["java","gmail-imap"],"answers":[{"tags":[],"owner":{"account_id":25557835,"reputation":1,"user_id":19340988,"display_name":"user19340988"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655308909,"creation_date":1655252413,"answer_id":72624689,"question_id":72579367,"body_markdown":"Try to use app password instead of regular one over here:\r\n\r\n    store.connect(host, user, password); \r\n\r\nThis should work.","title":"How to connect to gmail server with App passwords via java imap?","body":"<p>Try to use app password instead of regular one over here:</p>\n<pre><code>store.connect(host, user, password); \n</code></pre>\n<p>This should work.</p>\n"}],"owner":{"account_id":12222927,"reputation":5,"user_id":9818628,"display_name":"Igor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":756,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655308909,"creation_date":1654891566,"question_id":72579367,"body_markdown":"I am trying to get emails from my gmail account. But recently my code stop working via the Google disable Less secure App option. I want to use App passwords. But I can&#39;t find how I need to update my code.\r\nMy code\r\n\r\n    public static String getTextFromMessage(String host, String user, String password) {\r\n            try {\r\n                //create properties field\r\n                Properties properties = new Properties();\r\n                properties.put(&quot;mail.imap.host&quot;, host);\r\n                properties.put(&quot;mail.imap.port&quot;, &quot;993&quot;);\r\n                properties.put(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\r\n                properties.put(&quot;mail.imap.ssl.trust&quot;, host);\r\n                Session emailSession = Session.getDefaultInstance(properties);\r\n    \r\n                //create the IMAP store object and connect with the pop server\r\n                Store store = emailSession.getStore(&quot;imaps&quot;);\r\n    \r\n                store.connect(host, user, password); // here is not working\r\n    \r\n                //create the folder object and open it\r\n                Folder emailFolder = store.getFolder(&quot;Inbox&quot;);\r\n                emailFolder.open(Folder.READ_ONLY);\r\n    \r\n                // retrieve the messages from the folder in an array and print it\r\n                Message[] messages = emailFolder.getMessages();\r\n    ...\r\n    }","title":"How to connect to gmail server with App passwords via java imap?","body":"<p>I am trying to get emails from my gmail account. But recently my code stop working via the Google disable Less secure App option. I want to use App passwords. But I can't find how I need to update my code.\nMy code</p>\n<pre><code>public static String getTextFromMessage(String host, String user, String password) {\n        try {\n            //create properties field\n            Properties properties = new Properties();\n            properties.put(&quot;mail.imap.host&quot;, host);\n            properties.put(&quot;mail.imap.port&quot;, &quot;993&quot;);\n            properties.put(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\n            properties.put(&quot;mail.imap.ssl.trust&quot;, host);\n            Session emailSession = Session.getDefaultInstance(properties);\n\n            //create the IMAP store object and connect with the pop server\n            Store store = emailSession.getStore(&quot;imaps&quot;);\n\n            store.connect(host, user, password); // here is not working\n\n            //create the folder object and open it\n            Folder emailFolder = store.getFolder(&quot;Inbox&quot;);\n            emailFolder.open(Folder.READ_ONLY);\n\n            // retrieve the messages from the folder in an array and print it\n            Message[] messages = emailFolder.getMessages();\n...\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8732,"page":1260,"page_size":100}
