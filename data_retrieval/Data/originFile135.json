{"items":[{"tags":["java","testing","resources","quarkus","microprofile"],"comments":[{"owner":{"account_id":14122292,"reputation":501,"user_id":10202496,"display_name":"iabughosh"},"score":0,"creation_date":1582389225,"post_id":60352628,"comment_id":106764221,"body_markdown":"Did you try to put needed files under test/resources and perform the test ?","body":"Did you try to put needed files under test/resources and perform the test ?"},{"owner":{"account_id":964483,"reputation":1675,"user_id":988175,"accept_rate":81,"display_name":"Raffaello"},"score":0,"creation_date":1582396847,"post_id":60352628,"comment_id":106766423,"body_markdown":"yes i tried and same error.  \nthe file must be on the same path of project root folder where also run the wrapper maven|gradle. if the file is located there can find it..","body":"yes i tried and same error.   the file must be on the same path of project root folder where also run the wrapper maven|gradle. if the file is located there can find it.."}],"answers":[{"comments":[{"owner":{"account_id":964483,"reputation":1675,"user_id":988175,"accept_rate":81,"display_name":"Raffaello"},"score":0,"creation_date":1582456596,"post_id":60359269,"comment_id":106777262,"body_markdown":"The quarkus plugin cannot have some extra control over the profiles? Probably woukd be enough having the resouces dir has a quarkus property so the path can be built indipendently of the working dir... Anyway thanks, for sure might not be a priority neither.","body":"The quarkus plugin cannot have some extra control over the profiles? Probably woukd be enough having the resouces dir has a quarkus property so the path can be built indipendently of the working dir... Anyway thanks, for sure might not be a priority neither."}],"tags":[],"owner":{"account_id":145022,"reputation":857,"user_id":354519,"display_name":"Stuart Douglas"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582433178,"creation_date":1582433178,"answer_id":60359269,"question_id":60352628,"body_markdown":"I don&#39;t know if there is much we can do automatically here, gradle/maven control the working directory of the test process. With maven at least you can control the working directory of the surefire process, see this answer here: https://stackoverflow.com/questions/6733633/maven-change-the-directory-in-which-tests-are-executed","title":"Quarkus in test profile has a different working directory than in development mode, creating path problems accessing resource files","body":"<p>I don't know if there is much we can do automatically here, gradle/maven control the working directory of the test process. With maven at least you can control the working directory of the surefire process, see this answer here: <a href=\"https://stackoverflow.com/questions/6733633/maven-change-the-directory-in-which-tests-are-executed\">Maven: change the directory in which tests are executed</a></p>\n"},{"comments":[{"owner":{"account_id":2332671,"reputation":317,"user_id":2045655,"display_name":"king pong"},"score":0,"creation_date":1644839638,"post_id":64179933,"comment_id":125703911,"body_markdown":"Thanks Salvatore, in my env it&#39;s exactly as you said. To be more specific: OS Windows 10 64b, Maven 3.6.3.  For integration tests I&#39;m copying the file using maven plugin to &quot;${basedir}/target/file-name&quot; and in integration test the launched app is using path &quot;./target/file-name&quot;","body":"Thanks Salvatore, in my env it&#39;s exactly as you said. To be more specific: OS Windows 10 64b, Maven 3.6.3.  For integration tests I&#39;m copying the file using maven plugin to &quot;${basedir}/target/file-name&quot; and in integration test the launched app is using path &quot;./target/file-name&quot;"},{"owner":{"account_id":4540045,"reputation":1159,"user_id":3688170,"display_name":"Salvatore Pannozzo Capodiferro"},"score":0,"creation_date":1644853712,"post_id":64179933,"comment_id":125709405,"body_markdown":"thanks, please vote up this answer if it helps","body":"thanks, please vote up this answer if it helps"}],"tags":[],"owner":{"account_id":4540045,"reputation":1159,"user_id":3688170,"display_name":"Salvatore Pannozzo Capodiferro"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601688747,"creation_date":1601688747,"answer_id":64179933,"question_id":60352628,"body_markdown":"I solved by using profiled configuration, in my case seems in test the root folder is the root project folder, while in dev mode is the target folder, so I used this configuration in my property file:\r\n\r\n    cv-store-folder=./stored-cvs/\r\n    %dev.cv-store-folder=../stored-cvs/\r\n\r\nI hope it can help you.","title":"Quarkus in test profile has a different working directory than in development mode, creating path problems accessing resource files","body":"<p>I solved by using profiled configuration, in my case seems in test the root folder is the root project folder, while in dev mode is the target folder, so I used this configuration in my property file:</p>\n<pre><code>cv-store-folder=./stored-cvs/\n%dev.cv-store-folder=../stored-cvs/\n</code></pre>\n<p>I hope it can help you.</p>\n"},{"tags":[],"owner":{"account_id":10694611,"reputation":1,"user_id":7872257,"display_name":"Mikhail Kliman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696930596,"creation_date":1696930224,"answer_id":77264528,"question_id":60352628,"body_markdown":"You can use `Resources.getResource`. \r\n\r\nFor example: `resources/json/entity.json`\r\n\r\nThen:\r\n    new File (Resources.getResource (&quot;/json/entity.json&quot;).getFile()","title":"Quarkus in test profile has a different working directory than in development mode, creating path problems accessing resource files","body":"<p>You can use <code>Resources.getResource</code>.</p>\n<p>For example: <code>resources/json/entity.json</code></p>\n<p>Then:\nnew File (Resources.getResource (&quot;/json/entity.json&quot;).getFile()</p>\n"}],"owner":{"account_id":964483,"reputation":1675,"user_id":988175,"accept_rate":81,"display_name":"Raffaello"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1261,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1696930596,"creation_date":1582378114,"question_id":60352628,"body_markdown":"Having a `file.txt` inside the `resources` folder. \r\nAnd having a Bean to load that file on the Application start lifecycle:\r\n\r\nIn Development profile when compiled and running the `resources` folder is copied into the `build` (or `target` with maven) directory and the working dir is relative to the resources file so no need of special path or what so ever.\r\n\r\nSo basically is enough to have defined the filename in the `application.properties`.\r\n\r\n\r\n---\r\n\r\nIn Test profile instead the working dir is the project root, so that file cannot be found anymore without giving the full relative path into the `resources` folder.\r\n\r\nIs there any way to tell Quarkus  test profile, and/or Microprofile config annotation, to lookup in resources folder to load some resources when needed?\r\n\r\nI did not find anything apart a work-around to this not tidy profile difference.\r\n\r\n\r\n","title":"Quarkus in test profile has a different working directory than in development mode, creating path problems accessing resource files","body":"<p>Having a <code>file.txt</code> inside the <code>resources</code> folder. \nAnd having a Bean to load that file on the Application start lifecycle:</p>\n\n<p>In Development profile when compiled and running the <code>resources</code> folder is copied into the <code>build</code> (or <code>target</code> with maven) directory and the working dir is relative to the resources file so no need of special path or what so ever.</p>\n\n<p>So basically is enough to have defined the filename in the <code>application.properties</code>.</p>\n\n<hr>\n\n<p>In Test profile instead the working dir is the project root, so that file cannot be found anymore without giving the full relative path into the <code>resources</code> folder.</p>\n\n<p>Is there any way to tell Quarkus  test profile, and/or Microprofile config annotation, to lookup in resources folder to load some resources when needed?</p>\n\n<p>I did not find anything apart a work-around to this not tidy profile difference.</p>\n"},{"tags":["java","ajax","spring"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":1,"creation_date":1696930876,"post_id":77263532,"comment_id":136212481,"body_markdown":"I guess you forgot window.location.href = &#39;/smhrd&#39;; in success scenario","body":"I guess you forgot window.location.href = &#39;/smhrd&#39;; in success scenario"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":1,"creation_date":1696930909,"post_id":77263532,"comment_id":136212486,"body_markdown":"You have two redirection right now. please delete first one maybe it can lead this error.","body":"You have two redirection right now. please delete first one maybe it can lead this error."}],"owner":{"account_id":26051384,"reputation":133,"user_id":19754540,"display_name":"Uranus_ly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696930583,"creation_date":1696921069,"question_id":77263532,"body_markdown":" I&#39;m trying to when ajax request is successed, make controller api executing. I want to make when kakao api request is successed, execute `session.setAttribute(&quot;logStatus&quot;, &quot;Y&quot;);` but the session object is server object so couldn&#39;t be used in jsp&#39;s script tag. Add, the objects in loginOK api are not in kakao api but I want to execute only the code `session.setAttribute(&quot;logStatus&quot;, &quot;Y&quot;)` when the kakao api reauest is successed in jsp. How can I amend the codes? Codes are below those are in jsp and controller related with login function. \r\n\r\n```\r\nfunction kakaoLogin() {\r\n    Kakao.Auth.login({\r\n        success: function (response) {\r\n            // Kakao API \r\n            Kakao.API.request({ \r\n            \turl: &#39;/v2/user/me&#39;,\r\n                success: function (response) {\r\n                \twindow.location.href = &#39;/smhrd&#39;;\r\n                \t  $.ajax({\r\n                \t\t  // controller mapping\r\n                          url: &#39;loginOk&#39;, \r\n                          type: &#39;POST&#39;,\r\n                          success: function (data) {\r\n                              console.log(data); \r\n                              // redirection\r\n                              window.location.href = &#39;/smhrd&#39;;\r\n                          },\r\n                          error: function (error) {\r\n                              console.log(error);\r\n                          },\r\n                      });\r\n                },\r\n                fail: function (error) {\r\n                    console.log(error);\r\n                },\r\n            });\r\n        },\r\n        fail: function (error) {\r\n            console.log(error);\r\n        },\r\n    });\r\n}\r\n```\r\n\r\n```\r\n\r\n   @PostMapping(&quot;/loginOk&quot;)\r\n   public ModelAndView loginOk(String u_id, String u_pw, HttpSession session) {\r\n      UserDTO dto = service.loginOk(u_id, u_pw);\r\n      System.out.println(&quot;loginOk 호출성공&quot;);\r\n      ModelAndView mav = new ModelAndView();\r\n      \r\n      if(dto != null) {\r\n         session.setAttribute(&quot;logId&quot;, dto.getU_id());\r\n         session.setAttribute(&quot;logName&quot;, dto.getU_name());\r\n         session.setAttribute(&quot;logStatus&quot;, &quot;Y&quot;);\r\n         \r\n         mav.setViewName(&quot;redirect:/&quot;);\r\n      }else {\r\n         mav.setViewName(&quot;register/loginResult&quot;);\r\n      }\r\n      return mav;\r\n   }\r\n```\r\nAnd the below is the error(5xx) in server when the function  kakaoLogin() is called. additionally, when I check the result, until the code &quot;url: &#39;/v2/user/me&#39;&quot; is well done but the code &quot;console.log(data)&quot; is not called I think the controller mapping is failed.\r\n\r\n```\r\n------the error(5xx)-----\r\n[Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.type.TypeException: Could not set parameters for mapping: ParameterMapping{property=&#39;param1&#39;, mode=IN, javaType=class java.lang.Object, jdbcType=null, numericScale=nul`\r\n```\r\n\r\nBut I&#39;m not sure about is it right to execute the controller &#39;loginOk&#39; because the objects are in loginOk are not in kakaoAPI so There&#39;s no dto when the controller is called. ","title":"How to execute the controller when the ajax request is successed?","body":"<p>I'm trying to when ajax request is successed, make controller api executing. I want to make when kakao api request is successed, execute <code>session.setAttribute(&quot;logStatus&quot;, &quot;Y&quot;);</code> but the session object is server object so couldn't be used in jsp's script tag. Add, the objects in loginOK api are not in kakao api but I want to execute only the code <code>session.setAttribute(&quot;logStatus&quot;, &quot;Y&quot;)</code> when the kakao api reauest is successed in jsp. How can I amend the codes? Codes are below those are in jsp and controller related with login function.</p>\n<pre><code>function kakaoLogin() {\n    Kakao.Auth.login({\n        success: function (response) {\n            // Kakao API \n            Kakao.API.request({ \n                url: '/v2/user/me',\n                success: function (response) {\n                    window.location.href = '/smhrd';\n                      $.ajax({\n                          // controller mapping\n                          url: 'loginOk', \n                          type: 'POST',\n                          success: function (data) {\n                              console.log(data); \n                              // redirection\n                              window.location.href = '/smhrd';\n                          },\n                          error: function (error) {\n                              console.log(error);\n                          },\n                      });\n                },\n                fail: function (error) {\n                    console.log(error);\n                },\n            });\n        },\n        fail: function (error) {\n            console.log(error);\n        },\n    });\n}\n</code></pre>\n<pre><code>\n   @PostMapping(&quot;/loginOk&quot;)\n   public ModelAndView loginOk(String u_id, String u_pw, HttpSession session) {\n      UserDTO dto = service.loginOk(u_id, u_pw);\n      System.out.println(&quot;loginOk 호출성공&quot;);\n      ModelAndView mav = new ModelAndView();\n      \n      if(dto != null) {\n         session.setAttribute(&quot;logId&quot;, dto.getU_id());\n         session.setAttribute(&quot;logName&quot;, dto.getU_name());\n         session.setAttribute(&quot;logStatus&quot;, &quot;Y&quot;);\n         \n         mav.setViewName(&quot;redirect:/&quot;);\n      }else {\n         mav.setViewName(&quot;register/loginResult&quot;);\n      }\n      return mav;\n   }\n</code></pre>\n<p>And the below is the error(5xx) in server when the function  kakaoLogin() is called. additionally, when I check the result, until the code &quot;url: '/v2/user/me'&quot; is well done but the code &quot;console.log(data)&quot; is not called I think the controller mapping is failed.</p>\n<pre><code>------the error(5xx)-----\n[Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.type.TypeException: Could not set parameters for mapping: ParameterMapping{property='param1', mode=IN, javaType=class java.lang.Object, jdbcType=null, numericScale=nul`\n</code></pre>\n<p>But I'm not sure about is it right to execute the controller 'loginOk' because the objects are in loginOk are not in kakaoAPI so There's no dto when the controller is called.</p>\n"},{"tags":["java","spring-boot","asynchronous","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683674897,"post_id":76213678,"comment_id":134402249,"body_markdown":"Try additionally:\n\n[`onErrorResume`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#onErrorResume-java.lang.Class-java.util.function.Function-) (+ overloads;) see also: [`on[Raw]Status`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.ResponseSpec.html#onStatus(java.util.function.Predicate,java.util.function.Function))","body":"Try additionally:  <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#onErrorResume-java.lang.Class-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>onErrorResume</code></a> (+ overloads;) see also: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.ResponseSpec.html#onStatus(java.util.function.Predicate,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>on[Raw]Status</code></a>"},{"owner":{"account_id":7119632,"reputation":82,"user_id":5444705,"display_name":"Abdelrahman_Attya"},"score":0,"creation_date":1683974650,"post_id":76213678,"comment_id":134450933,"body_markdown":"@xerx593 still didn&#39;t work","body":"@xerx593 still didn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":12201070,"reputation":189,"user_id":8905316,"display_name":"Darnoj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696930240,"creation_date":1696930240,"answer_id":77264532,"question_id":76213678,"body_markdown":"The `TimeoutException` you are expecting to see does not extend `WebClientResponseException`, that is why the `handleException` method is not called.\r\n\r\nYou must add a `onErrorMap(TimeoutException.class, ...)`\r\n\r\nYou can also set a timeout from the caller with a fallback method :\r\n`.timeout(Duration timeout, Mono&lt;?&gt; fallback)`","title":"Spring boot webClient onErrorMap never called when timeout exception occurs","body":"<p>The <code>TimeoutException</code> you are expecting to see does not extend <code>WebClientResponseException</code>, that is why the <code>handleException</code> method is not called.</p>\n<p>You must add a <code>onErrorMap(TimeoutException.class, ...)</code></p>\n<p>You can also set a timeout from the caller with a fallback method :\n<code>.timeout(Duration timeout, Mono&lt;?&gt; fallback)</code></p>\n"}],"owner":{"account_id":7119632,"reputation":82,"user_id":5444705,"display_name":"Abdelrahman_Attya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696930240,"creation_date":1683670160,"question_id":76213678,"body_markdown":"i have two microservices user-ms &amp; post-ms  the user-ms calls post-ms to get the posts count of a certain user. &lt;br&gt;\r\nin the post-ms i&#39;m forcing a delay of 7 seconds to see how user-ms will behave.\r\n\r\nhere is the method inside the user-ms\r\n```\r\n\r\n\tpublic Mono&lt;PostsCountResponse&gt; getPostsCountByUserUuid(UUID userUuid, int delay, int faultPercent) {\r\n\r\n\t\tURI url = UriComponentsBuilder.fromUriString(propertiesConfig.getVirtualPostServiceUrl()\r\n\t    \t      + &quot;/posts/count?userUuid={userUuid}&amp;delay={delay}&amp;faultPercent={faultPercent}&quot;).build(userUuid, delay, faultPercent);\r\n\r\n\t\tlogger.info(&quot;Will call the findPostsCount API on URL: {}&quot;, url);\r\n\t\t\r\n\t\treturn webClient.get().uri(url).accept(MediaType.APPLICATION_JSON).retrieve()\r\n\t\t\t\t.bodyToMono(PostsCountResponse.class)\r\n\t\t\t\t.onErrorMap(WebClientResponseException.class, ex -&gt; handleException(ex));\r\n\t\t\t\t\r\n\t}\r\n\r\n\tprivate Throwable handleException(Throwable ex) {\r\n\r\n\t\tlogger.info(&quot;starting handleException()..&quot;);\r\n\r\n\t\tif (!(ex instanceof WebClientResponseException)) {\r\n\t\t\tlogger.warn(&quot;Got a unexpected error: {}, will rethrow it&quot;, ex.toString());\r\n\t\t\treturn ex;\r\n\t\t}\r\n\r\n\t\tWebClientResponseException wcre = (WebClientResponseException) ex;\r\n\r\n\t\tswitch (wcre.getStatusCode()) {\r\n\r\n\t\tcase NOT_FOUND:\r\n\t\t\treturn new NotFoundException(getErrorMessage(wcre));\r\n\r\n\t\tcase UNPROCESSABLE_ENTITY:\r\n\t\t\treturn new InvalidInputException(getErrorMessage(wcre));\r\n\r\n\t\tdefault:\r\n\t\t\tlogger.warn(&quot;Got an unexpected HTTP error: {}, will rethrow it&quot;, wcre.getStatusCode());\r\n\t\t\tlogger.warn(&quot;Error body: {}&quot;, wcre.getResponseBodyAsString());\r\n\t\t\treturn ex;\r\n\t\t}\r\n\t}\r\n\r\n```\r\na timeout exception occurs as expected inside the user-ms but i don&#39;t know why the onErrorMap is never called ?? &lt;br&gt;\r\nso my question is why onErrorMap is not called as i want to handle that timeout exception using the handleException method ?\r\n\r\n&lt;br&gt;\r\nhere is the logs from user-ms:-\r\n\r\n```\r\ninstagram-clone-insta-ms-user-info-1  | 2023-05-09 21:50:10.358  INFO 1 --- [nio-8080-exec-5] c.j.i.u.i.PostServiceIntegrationImpl     : Will call the findPostsCount API on URL: http://post-ms/posts/count?userUuid=aeb7f3e9-3e66-4ad8-9bd4-15f2b6a09a7a&amp;delay=7&amp;faultPercent=0\r\ninstagram-clone-insta-ms-user-info-1  | 2023-05-09 21:50:12.363 ERROR 1 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is reactor.core.Exceptions$ReactiveException: java.util.concurrent.TimeoutException: Did not observe any item or terminal signal within 2000ms in &#39;onErrorResume&#39; (and no fallback has been configured)] with root cause\r\ninstagram-clone-insta-ms-user-info-1  |\r\ninstagram-clone-insta-ms-user-info-1  | java.util.concurrent.TimeoutException: Did not observe any item or terminal signal within 2000ms in &#39;onErrorResume&#39; (and no fallback has been configured)\r\ninstagram-clone-insta-ms-user-info-1  |         at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.handleTimeout(FluxTimeout.java:294) ~[reactor-core-3.4.7.jar:3.4.7]\r\ninstagram-clone-insta-ms-user-info-1  |         at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.doTimeout(FluxTimeout.java:279) ~[reactor-core-3.4.7.jar:3.4.7]\r\ninstagram-clone-insta-ms-user-info-1  |         at reactor.core.publisher.FluxTimeout$TimeoutTimeoutSubscriber.onNext(FluxTimeout.java:418) ~[reactor-core-3.4.7.jar:3.4.7]\r\ninstagram-clone-insta-ms-user-info-1  |         at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.7.jar:3.4.7]\r\ninstagram-clone-insta-ms-user-info-1  |         at reactor.core.publisher.MonoDelay$MonoDelayRunnable.propagateDelay(MonoDelay.java:270) ~[reactor-core-3.4.7.jar:3.4.7]\r\ninstagram-clone-insta-ms-user-info-1  |         at reactor.core.publisher.MonoDelay$MonoDelayRunnable.run(MonoDelay.java:285) ~[reactor-core-3.4.7.jar:3.4.7]\r\ninstagram-clone-insta-ms-user-info-1  |         at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68) ~[reactor-core-3.4.7.jar:3.4.7]\r\ninstagram-clone-insta-ms-user-info-1  |         at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28) ~[reactor-core-3.4.7.jar:3.4.7]\r\ninstagram-clone-insta-ms-user-info-1  |         at java.base/java.util.concurrent.FutureTask.run(Unknown Source) ~[na:na]\r\ninstagram-clone-insta-ms-user-info-1  |         at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source) ~[na:na]\r\ninstagram-clone-insta-ms-user-info-1  |         at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) ~[na:na]\r\ninstagram-clone-insta-ms-user-info-1  |         at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) ~[na:na]\r\ninstagram-clone-insta-ms-user-info-1  |         at java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\r\ninstagram-clone-insta-ms-user-info-1  |\r\n```\r\n\r\n","title":"Spring boot webClient onErrorMap never called when timeout exception occurs","body":"<p>i have two microservices user-ms &amp; post-ms  the user-ms calls post-ms to get the posts count of a certain user. <br>\nin the post-ms i'm forcing a delay of 7 seconds to see how user-ms will behave.</p>\n<p>here is the method inside the user-ms</p>\n<pre><code>\n    public Mono&lt;PostsCountResponse&gt; getPostsCountByUserUuid(UUID userUuid, int delay, int faultPercent) {\n\n        URI url = UriComponentsBuilder.fromUriString(propertiesConfig.getVirtualPostServiceUrl()\n                  + &quot;/posts/count?userUuid={userUuid}&amp;delay={delay}&amp;faultPercent={faultPercent}&quot;).build(userUuid, delay, faultPercent);\n\n        logger.info(&quot;Will call the findPostsCount API on URL: {}&quot;, url);\n        \n        return webClient.get().uri(url).accept(MediaType.APPLICATION_JSON).retrieve()\n                .bodyToMono(PostsCountResponse.class)\n                .onErrorMap(WebClientResponseException.class, ex -&gt; handleException(ex));\n                \n    }\n\n    private Throwable handleException(Throwable ex) {\n\n        logger.info(&quot;starting handleException()..&quot;);\n\n        if (!(ex instanceof WebClientResponseException)) {\n            logger.warn(&quot;Got a unexpected error: {}, will rethrow it&quot;, ex.toString());\n            return ex;\n        }\n\n        WebClientResponseException wcre = (WebClientResponseException) ex;\n\n        switch (wcre.getStatusCode()) {\n\n        case NOT_FOUND:\n            return new NotFoundException(getErrorMessage(wcre));\n\n        case UNPROCESSABLE_ENTITY:\n            return new InvalidInputException(getErrorMessage(wcre));\n\n        default:\n            logger.warn(&quot;Got an unexpected HTTP error: {}, will rethrow it&quot;, wcre.getStatusCode());\n            logger.warn(&quot;Error body: {}&quot;, wcre.getResponseBodyAsString());\n            return ex;\n        }\n    }\n\n</code></pre>\n<p>a timeout exception occurs as expected inside the user-ms but i don't know why the onErrorMap is never called ?? <br>\nso my question is why onErrorMap is not called as i want to handle that timeout exception using the handleException method ?</p>\n<br>\nhere is the logs from user-ms:-\n<pre><code>instagram-clone-insta-ms-user-info-1  | 2023-05-09 21:50:10.358  INFO 1 --- [nio-8080-exec-5] c.j.i.u.i.PostServiceIntegrationImpl     : Will call the findPostsCount API on URL: http://post-ms/posts/count?userUuid=aeb7f3e9-3e66-4ad8-9bd4-15f2b6a09a7a&amp;delay=7&amp;faultPercent=0\ninstagram-clone-insta-ms-user-info-1  | 2023-05-09 21:50:12.363 ERROR 1 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is reactor.core.Exceptions$ReactiveException: java.util.concurrent.TimeoutException: Did not observe any item or terminal signal within 2000ms in 'onErrorResume' (and no fallback has been configured)] with root cause\ninstagram-clone-insta-ms-user-info-1  |\ninstagram-clone-insta-ms-user-info-1  | java.util.concurrent.TimeoutException: Did not observe any item or terminal signal within 2000ms in 'onErrorResume' (and no fallback has been configured)\ninstagram-clone-insta-ms-user-info-1  |         at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.handleTimeout(FluxTimeout.java:294) ~[reactor-core-3.4.7.jar:3.4.7]\ninstagram-clone-insta-ms-user-info-1  |         at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.doTimeout(FluxTimeout.java:279) ~[reactor-core-3.4.7.jar:3.4.7]\ninstagram-clone-insta-ms-user-info-1  |         at reactor.core.publisher.FluxTimeout$TimeoutTimeoutSubscriber.onNext(FluxTimeout.java:418) ~[reactor-core-3.4.7.jar:3.4.7]\ninstagram-clone-insta-ms-user-info-1  |         at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.7.jar:3.4.7]\ninstagram-clone-insta-ms-user-info-1  |         at reactor.core.publisher.MonoDelay$MonoDelayRunnable.propagateDelay(MonoDelay.java:270) ~[reactor-core-3.4.7.jar:3.4.7]\ninstagram-clone-insta-ms-user-info-1  |         at reactor.core.publisher.MonoDelay$MonoDelayRunnable.run(MonoDelay.java:285) ~[reactor-core-3.4.7.jar:3.4.7]\ninstagram-clone-insta-ms-user-info-1  |         at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68) ~[reactor-core-3.4.7.jar:3.4.7]\ninstagram-clone-insta-ms-user-info-1  |         at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28) ~[reactor-core-3.4.7.jar:3.4.7]\ninstagram-clone-insta-ms-user-info-1  |         at java.base/java.util.concurrent.FutureTask.run(Unknown Source) ~[na:na]\ninstagram-clone-insta-ms-user-info-1  |         at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source) ~[na:na]\ninstagram-clone-insta-ms-user-info-1  |         at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) ~[na:na]\ninstagram-clone-insta-ms-user-info-1  |         at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) ~[na:na]\ninstagram-clone-insta-ms-user-info-1  |         at java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\ninstagram-clone-insta-ms-user-info-1  |\n</code></pre>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1696906435,"post_id":77262679,"comment_id":136209418,"body_markdown":"Do you understand what the `args` parameter represents?","body":"Do you understand what the <code>args</code> parameter represents?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1696906812,"post_id":77262679,"comment_id":136209445,"body_markdown":"args is whatever args you pass to the java program, your command line arguments. I personally think it would be more correct to have &quot;no arguments&quot; or an empty array, rather than null","body":"args is whatever args you pass to the java program, your command line arguments. I personally think it would be more correct to have &quot;no arguments&quot; or an empty array, rather than null"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1696933502,"post_id":77262679,"comment_id":136213010,"body_markdown":"Of course, there are “non-programmatic ways”, as that’s referring to infinite possibilities. You can hack the JVM, for example. Or use a debugger to stop before the statement and change the variable to `null`. But what does this information gain you? Which actual problem are you trying to solve?","body":"Of course, there are “non-programmatic ways”, as that’s referring to infinite possibilities. You can hack the JVM, for example. Or use a debugger to stop before the statement and change the variable to <code>null</code>. But what does this information gain you? Which actual problem are you trying to solve?"}],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696906970,"creation_date":1696906970,"answer_id":77262712,"question_id":77262679,"body_markdown":"In Java when you pass arguments on the command line to the program those arguments are passed within the `args` array.  For example:\r\n\r\n```\r\n&gt; java MyProgram arg1 arg2 arg3 arg4\r\n```\r\n\r\nTo read those args you&#39;d do this:\r\n```\r\nclass MyProgram {\r\n   public static final main( String[] args ) {\r\n       for( int i = 0; i &lt; args.length; i++ ) {\r\n          System.out.println( args[i] );\r\n       }\r\n   }\r\n}\r\n```\r\n\r\nNow if `args` could be null then I&#39;d have to add yet more code to prevent it from throwing an NPE by adding an `if( args == null )`.  Messy.  But if `args` is always guarateed to be non-null then I can safely do what I just did above.\r\n\r\nIf your main method is invoked through the java program `args` will not be null.  So normal execution it won&#39;t be null.  However, if some other code tries to invoke `MyProgram.main( null )` obviously it will be null and `MyProgram` will throw an NPE.  Therefore, it&#39;s best to do `MyProgram.main( new String[0] )` and it won&#39;t throw the NPE.","title":"Why is the args array always initialized to an empty array?","body":"<p>In Java when you pass arguments on the command line to the program those arguments are passed within the <code>args</code> array.  For example:</p>\n<pre><code>&gt; java MyProgram arg1 arg2 arg3 arg4\n</code></pre>\n<p>To read those args you'd do this:</p>\n<pre><code>class MyProgram {\n   public static final main( String[] args ) {\n       for( int i = 0; i &lt; args.length; i++ ) {\n          System.out.println( args[i] );\n       }\n   }\n}\n</code></pre>\n<p>Now if <code>args</code> could be null then I'd have to add yet more code to prevent it from throwing an NPE by adding an <code>if( args == null )</code>.  Messy.  But if <code>args</code> is always guarateed to be non-null then I can safely do what I just did above.</p>\n<p>If your main method is invoked through the java program <code>args</code> will not be null.  So normal execution it won't be null.  However, if some other code tries to invoke <code>MyProgram.main( null )</code> obviously it will be null and <code>MyProgram</code> will throw an NPE.  Therefore, it's best to do <code>MyProgram.main( new String[0] )</code> and it won't throw the NPE.</p>\n"}],"owner":{"account_id":29636514,"reputation":5,"user_id":22713628,"display_name":"Duo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1696910866,"accepted_answer_id":77262712,"answer_count":1,"score":-3,"last_activity_date":1696930218,"creation_date":1696906219,"question_id":77262679,"body_markdown":"Here is the java code:\r\n```java\r\npublic static void main(String[] args) {\r\n    System.out.println(args.length); // the result is always 0, NPE occurred not possible\r\n}\r\n```\r\nWhy is the `args` array always initialized to an empty array? is there any case to make the args null, other than to call `main(null)` in another `main`?\r\n\r\nI want to know if there are any non-programmatic ways to cause this problem, like some settings.\r\n","title":"Why is the args array always initialized to an empty array?","body":"<p>Here is the java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    System.out.println(args.length); // the result is always 0, NPE occurred not possible\n}\n</code></pre>\n<p>Why is the <code>args</code> array always initialized to an empty array? is there any case to make the args null, other than to call <code>main(null)</code> in another <code>main</code>?</p>\n<p>I want to know if there are any non-programmatic ways to cause this problem, like some settings.</p>\n"},{"tags":["java","formatting","code-formatting","checkstyle"],"answers":[{"tags":[],"owner":{"account_id":11944159,"reputation":767,"user_id":8739916,"accept_rate":71,"display_name":"JollyRoger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1565091546,"creation_date":1565091546,"answer_id":57375217,"question_id":57357014,"body_markdown":"I found the solution after long tries. My format for giving a path was wrong. Correct format should be like this one:\r\n\r\n        &lt;module name=&quot;BeforeExecutionExclusionFileFilter&quot;&gt;\r\n        &lt;property name=&quot;fileNamePattern&quot; value=&quot;[/\\\\]src[/\\\\]main[/\\\\]java[/\\\\]package1&quot;/&gt;\r\n        &lt;/module&gt;\r\n\r\n        &lt;module name=&quot;BeforeExecutionExclusionFileFilter&quot;&gt;\r\n            &lt;property name=&quot;fileNamePattern&quot; value=&quot;[/\\\\]src[/\\\\]main[/\\\\]java[/\\\\]package2&quot;/&gt;\r\n        &lt;/module&gt;\r\n\r\nIf we wanna give more than one package to ignore, this is the way we should do. Giving two property with same name does not work. Hope this helps to others.","title":"How To Exclude Some Files From Checking Operations","body":"<p>I found the solution after long tries. My format for giving a path was wrong. Correct format should be like this one:</p>\n\n<pre><code>    &lt;module name=\"BeforeExecutionExclusionFileFilter\"&gt;\n    &lt;property name=\"fileNamePattern\" value=\"[/\\\\]src[/\\\\]main[/\\\\]java[/\\\\]package1\"/&gt;\n    &lt;/module&gt;\n\n    &lt;module name=\"BeforeExecutionExclusionFileFilter\"&gt;\n        &lt;property name=\"fileNamePattern\" value=\"[/\\\\]src[/\\\\]main[/\\\\]java[/\\\\]package2\"/&gt;\n    &lt;/module&gt;\n</code></pre>\n\n<p>If we wanna give more than one package to ignore, this is the way we should do. Giving two property with same name does not work. Hope this helps to others.</p>\n"},{"tags":[],"owner":{"account_id":10608508,"reputation":158,"user_id":7940542,"display_name":"Dzmitry Sankouski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696929504,"creation_date":1696929504,"answer_id":77264444,"question_id":57357014,"body_markdown":"Your problem was `fileNamePattern` is treated as regex, so wildcard in `package1/*.java` would not match class name letters, but will be a quantifier for `/`.\r\n\r\nAlso, let&#39;s consider exclusion logic code in checkstyle(as of 10.09.2023):\r\n\r\n    public boolean accept(String uri) {\r\n        return fileNamePattern == null || !fileNamePattern.matcher(uri).find();\r\n    }\r\n\r\nSince it uses `find`, not `match`, common path can be omitted, and you can use regex `or` expression, so your xml may be stripped to\r\n\r\n    &lt;module name=&quot;BeforeExecutionExclusionFileFilter&quot;&gt;\r\n        &lt;property name=&quot;fileNamePattern&quot; value=&quot;package1|package2&quot;/&gt;\r\n    &lt;/module&gt;","title":"How To Exclude Some Files From Checking Operations","body":"<p>Your problem was <code>fileNamePattern</code> is treated as regex, so wildcard in <code>package1/*.java</code> would not match class name letters, but will be a quantifier for <code>/</code>.</p>\n<p>Also, let's consider exclusion logic code in checkstyle(as of 10.09.2023):</p>\n<pre><code>public boolean accept(String uri) {\n    return fileNamePattern == null || !fileNamePattern.matcher(uri).find();\n}\n</code></pre>\n<p>Since it uses <code>find</code>, not <code>match</code>, common path can be omitted, and you can use regex <code>or</code> expression, so your xml may be stripped to</p>\n<pre><code>&lt;module name=&quot;BeforeExecutionExclusionFileFilter&quot;&gt;\n    &lt;property name=&quot;fileNamePattern&quot; value=&quot;package1|package2&quot;/&gt;\n&lt;/module&gt;\n</code></pre>\n"}],"owner":{"account_id":11944159,"reputation":767,"user_id":8739916,"accept_rate":71,"display_name":"JollyRoger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57375217,"answer_count":2,"score":2,"last_activity_date":1696929504,"creation_date":1565001990,"question_id":57357014,"body_markdown":"I am using checkstyle plugin to format my code and I need to exclude some java classes from checking operations. To do that, I wrote the code below:\r\n\r\n    &lt;module name=&quot;BeforeExecutionExclusionFileFilter&quot;&gt;\r\n        &lt;property name=&quot;fileNamePattern&quot; value=&quot;src/main/java/package1/*.java&quot;/&gt;\r\n    &lt;/module&gt;\r\n    \r\n    &lt;module name=&quot;BeforeExecutionExclusionFileFilter&quot;&gt;\r\n        &lt;property name=&quot;fileNamePattern&quot; value=&quot;src/main/java/package2/*.java&quot;/&gt;\r\n    &lt;/module&gt;\r\n\r\nI tried to exclude all classes in 2 different packages. But the code does not works unfortunately. I also tried as below:\r\n\r\n    &lt;module name=&quot;BeforeExecutionExclusionFileFilter&quot;&gt;\r\n        &lt;property name=&quot;fileNamePattern&quot; value=&quot;src/main/java/package1/*.java&quot;/&gt;\r\n        &lt;property name=&quot;fileNamePattern&quot; value=&quot;src/main/java/package2/*.java&quot;/&gt;\r\n    &lt;/module&gt;\r\n\r\nBut this did not worked as well. The checkstyle plugin again checks all classes. How can I achieve this?","title":"How To Exclude Some Files From Checking Operations","body":"<p>I am using checkstyle plugin to format my code and I need to exclude some java classes from checking operations. To do that, I wrote the code below:</p>\n\n<pre><code>&lt;module name=\"BeforeExecutionExclusionFileFilter\"&gt;\n    &lt;property name=\"fileNamePattern\" value=\"src/main/java/package1/*.java\"/&gt;\n&lt;/module&gt;\n\n&lt;module name=\"BeforeExecutionExclusionFileFilter\"&gt;\n    &lt;property name=\"fileNamePattern\" value=\"src/main/java/package2/*.java\"/&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>I tried to exclude all classes in 2 different packages. But the code does not works unfortunately. I also tried as below:</p>\n\n<pre><code>&lt;module name=\"BeforeExecutionExclusionFileFilter\"&gt;\n    &lt;property name=\"fileNamePattern\" value=\"src/main/java/package1/*.java\"/&gt;\n    &lt;property name=\"fileNamePattern\" value=\"src/main/java/package2/*.java\"/&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>But this did not worked as well. The checkstyle plugin again checks all classes. How can I achieve this?</p>\n"},{"tags":["java","java-8","package","java-17"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1696861368,"post_id":77259364,"comment_id":136203648,"body_markdown":"You might also need to check the package of the parent `ClassLoader`s (recursively).","body":"You might also need to check the package of the parent <code>ClassLoader</code>s (recursively)."},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1696862769,"post_id":77259364,"comment_id":136203969,"body_markdown":"Hello,it does not change the result (in Java 17, because I can&#39;t do that in Java 8 of course). I explained this in the description of my problem","body":"Hello,it does not change the result (in Java 17, because I can&#39;t do that in Java 8 of course). I explained this in the description of my problem"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1696865582,"post_id":77259364,"comment_id":136204521,"body_markdown":"Did you do it recursively using `ClassLoader#getParent`? If so, can you show the code where you did that?","body":"Did you do it recursively using <code>ClassLoader#getParent</code>? If so, can you show the code where you did that?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1696927067,"post_id":77259364,"comment_id":136211857,"body_markdown":"`java.lang` will always be defined by the bootstrap loader which is represented by `null`, so there is no way to access it by calling `getDefinedPackage` on a class loader instance. It’s also worth noting that everything said in the explanation to why the `getPackage` method has been deprecated does not apply to the specific package `java.lang`.","body":"<code>java.lang</code> will always be defined by the bootstrap loader which is represented by <code>null</code>, so there is no way to access it by calling <code>getDefinedPackage</code> on a class loader instance. It’s also worth noting that everything said in the explanation to why the <code>getPackage</code> method has been deprecated does not apply to the specific package <code>java.lang</code>."},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1696929166,"post_id":77259364,"comment_id":136212192,"body_markdown":"OK, I updated the example, and used java.awt instead, but I still have a null result. See my updated explanation","body":"OK, I updated the example, and used java.awt instead, but I still have a null result. See my updated explanation"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1696930371,"post_id":77259364,"comment_id":136212385,"body_markdown":"It doesn’t matter as what I said applies to all packages starting with `java.` (and there might be more packages defined by the bootstrap loader). My comment was not meant to say that you’re doing something wrong. You tripped over a scenario where the deprecated method is the only working approach. Though I do not get “the same results with Java 17” as the `Package` instances have no meta information (title, etc) in Java&#160;9 or newer. Which makes it unnecessary to get them in the first place.","body":"It doesn’t matter as what I said applies to all packages starting with <code>java.</code> (and there might be more packages defined by the bootstrap loader). My comment was not meant to say that you’re doing something wrong. You tripped over a scenario where the deprecated method is the only working approach. Though I do not get “the same results with Java 17” as the <code>Package</code> instances have no meta information (title, etc) in Java 9 or newer. Which makes it unnecessary to get them in the first place."},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1696942594,"post_id":77259364,"comment_id":136214812,"body_markdown":"ah ok. I understand now.","body":"ah ok. I understand now."}],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696929251,"creation_date":1696859270,"question_id":77259364,"body_markdown":"I use the `Package.getpackage(String)` method to get a Package from its path in Java. To test the method, I have the following very simple code:\r\n\r\n       public static void main(String[] args) {\r\n          Package pack = Package.getPackage(&quot;java.lang&quot;);\r\n          System.out.println(pack);\r\n          pack = Package.getPackage(&quot;java.util&quot;);\r\n          System.out.println(pack);      \r\n          pack = Package.getPackage(&quot;java.util.prefs&quot;);\r\n          System.out.println(pack);      \r\n          pack = Package.getPackage(&quot;java.util.regex&quot;);\r\n          System.out.println(pack);            \r\n          pack = Package.getPackage(&quot;java.util.zip&quot;);\r\n          System.out.println(pack);      \r\n          pack = Package.getPackage(&quot;java.awt&quot;);\r\n          System.out.println(pack);  \r\n       }\r\n\r\nI have the following results with Java 8:\r\n\r\n    package java.lang, Java Platform API Specification, version 1.8\r\n    package java.util, Java Platform API Specification, version 1.8\r\n    null\r\n    null\r\n    package java.util.zip, Java Platform API Specification, version 1.8\r\n    null\r\n\r\nAnd the same results with Java 17. The method is declared deprecated in the Java 17 API, and they propose to use instead the `ClassLoader.getDefinedPackage(String)` method. \r\n\r\nBu when I try it with this code on Java 17:\r\n\r\n    public class TestPackage2 {\r\n       public static void main(String[] args) {\r\n          ClassLoader loader = TestPackage2.class.getClassLoader();\r\n          Package pack = getPackage(loader, &quot;java.awt&quot;);\r\n          System.out.println(pack);\r\n       }\r\n    \r\n           private static Package getPackage(ClassLoader loader, String path) {\r\n              Package pack = null;\r\n              while (true) {\r\n                 pack = loader.getDefinedPackage(path);\r\n                 if (pack != null) {\r\n                    break;\r\n                 } else {\r\n                    loader = loader.getParent();\r\n                    if (loader == null) {\r\n                       break;\r\n                    }\r\n                 }         \r\n              }\r\n              return pack;\r\n           }\r\n        }\r\n\r\nI have a `null` result.\r\n\r\nMy questions are:\r\n\r\n - Why is it not working even when I&#39;m using the &quot;correct&quot; way to do it in Java 17?\r\n - Why is it not working even with a minimalistic example in Java 8 (not delegating ClassLoaders)?\r\n - Is there a more reliable way to do it in both Java 8 and Java 17?\r\n\r\n","title":"How to get a package from its path in Java","body":"<p>I use the <code>Package.getpackage(String)</code> method to get a Package from its path in Java. To test the method, I have the following very simple code:</p>\n<pre><code>   public static void main(String[] args) {\n      Package pack = Package.getPackage(&quot;java.lang&quot;);\n      System.out.println(pack);\n      pack = Package.getPackage(&quot;java.util&quot;);\n      System.out.println(pack);      \n      pack = Package.getPackage(&quot;java.util.prefs&quot;);\n      System.out.println(pack);      \n      pack = Package.getPackage(&quot;java.util.regex&quot;);\n      System.out.println(pack);            \n      pack = Package.getPackage(&quot;java.util.zip&quot;);\n      System.out.println(pack);      \n      pack = Package.getPackage(&quot;java.awt&quot;);\n      System.out.println(pack);  \n   }\n</code></pre>\n<p>I have the following results with Java 8:</p>\n<pre><code>package java.lang, Java Platform API Specification, version 1.8\npackage java.util, Java Platform API Specification, version 1.8\nnull\nnull\npackage java.util.zip, Java Platform API Specification, version 1.8\nnull\n</code></pre>\n<p>And the same results with Java 17. The method is declared deprecated in the Java 17 API, and they propose to use instead the <code>ClassLoader.getDefinedPackage(String)</code> method.</p>\n<p>Bu when I try it with this code on Java 17:</p>\n<pre><code>public class TestPackage2 {\n   public static void main(String[] args) {\n      ClassLoader loader = TestPackage2.class.getClassLoader();\n      Package pack = getPackage(loader, &quot;java.awt&quot;);\n      System.out.println(pack);\n   }\n\n       private static Package getPackage(ClassLoader loader, String path) {\n          Package pack = null;\n          while (true) {\n             pack = loader.getDefinedPackage(path);\n             if (pack != null) {\n                break;\n             } else {\n                loader = loader.getParent();\n                if (loader == null) {\n                   break;\n                }\n             }         \n          }\n          return pack;\n       }\n    }\n</code></pre>\n<p>I have a <code>null</code> result.</p>\n<p>My questions are:</p>\n<ul>\n<li>Why is it not working even when I'm using the &quot;correct&quot; way to do it in Java 17?</li>\n<li>Why is it not working even with a minimalistic example in Java 8 (not delegating ClassLoaders)?</li>\n<li>Is there a more reliable way to do it in both Java 8 and Java 17?</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","spring-mvc","apache-tiles"],"comments":[{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":1,"creation_date":1670857575,"post_id":74772337,"comment_id":131964095,"body_markdown":"Spring Boot 3 needs min Java17 and Jakarta EE 9. You can not mix JavaEE and JakartaEE packages. Last package is 3.0.8 from 2017 and used javax, so it is not compatible with Jakarta and SpringBoot3.\nRead it: https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0","body":"Spring Boot 3 needs min Java17 and Jakarta EE 9. You can not mix JavaEE and JakartaEE packages. Last package is 3.0.8 from 2017 and used javax, so it is not compatible with Jakarta and SpringBoot3. Read it: <a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\" rel=\"nofollow noreferrer\">spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0</a>"},{"owner":{"account_id":121943,"reputation":623,"user_id":315420,"accept_rate":67,"display_name":"Santhosh Reddy Mandadi"},"score":2,"creation_date":1670857705,"post_id":74772337,"comment_id":131964144,"body_markdown":"Hi @Numichi - I&#39;m not referring to the Jave EE here. Tiles is an Apache package and it has the compatibility with Spring Boot 2.x and why suddenly this support is dropped in Spring Boot 3?","body":"Hi @Numichi - I&#39;m not referring to the Jave EE here. Tiles is an Apache package and it has the compatibility with Spring Boot 2.x and why suddenly this support is dropped in Spring Boot 3?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1670857716,"post_id":74772337,"comment_id":131964147,"body_markdown":"And seeing as Apache Tiles has been retired to the attic (see https://attic.apache.org/projects/tiles.html), I doubt you will get a newer version that support Jakarta EE 9.","body":"And seeing as Apache Tiles has been retired to the attic (see <a href=\"https://attic.apache.org/projects/tiles.html\" rel=\"nofollow noreferrer\">attic.apache.org/projects/tiles.html</a>), I doubt you will get a newer version that support Jakarta EE 9."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1670857849,"post_id":74772337,"comment_id":131964194,"body_markdown":"@SanthoshReddyMandadi Tiles uses the servlet and JSP APIs, and these are definitely part of Java EE.","body":"@SanthoshReddyMandadi Tiles uses the servlet and JSP APIs, and these are definitely part of Java EE."},{"owner":{"account_id":121943,"reputation":623,"user_id":315420,"accept_rate":67,"display_name":"Santhosh Reddy Mandadi"},"score":1,"creation_date":1670858041,"post_id":74772337,"comment_id":131964269,"body_markdown":"Ah.. makes sense! So, this might be the reason for this support being dropped. But there has been no mention of dropping this package surprisingly in the documentation or release notes from Spring, weird. Thanks @Numichi and Rob","body":"Ah.. makes sense! So, this might be the reason for this support being dropped. But there has been no mention of dropping this package surprisingly in the documentation or release notes from Spring, weird. Thanks @Numichi and Rob"},{"owner":{"account_id":13532622,"reputation":541,"user_id":9762633,"display_name":"Abhishek Singh"},"score":1,"creation_date":1673434685,"post_id":74772337,"comment_id":132496801,"body_markdown":"@SanthoshReddyMandadi Were you able to find a workaround to replace the TilesConfigurer with spring 6? I am kind of stuck on how to replace the already present code to configure tiles using TilesConfigurer bean.","body":"@SanthoshReddyMandadi Were you able to find a workaround to replace the TilesConfigurer with spring 6? I am kind of stuck on how to replace the already present code to configure tiles using TilesConfigurer bean."}],"owner":{"account_id":121943,"reputation":623,"user_id":315420,"accept_rate":67,"display_name":"Santhosh Reddy Mandadi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2691,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1696928814,"creation_date":1670854160,"question_id":74772337,"body_markdown":"I&#39;ve been using the `Spring 5.7.x` (through the `Spring boot 2.7.6`) with `Apache Tiles 3`. I&#39;m now about to migrate my application to the recently released latest version of `Spring 6.0.0` (through `Spring boot 3.0.0`) and I realized during the migration that - TilesConfigurer class has been removed completely.\r\n\r\nI can&#39;t find any official resource and this class has **never** been deprecated so I&#39;m not sure why the entire tiles view package (org.springframework.web.servlet.view.tiles3) is missing in the latest Spring 6.0.x version as per the documentation here\r\n\r\nhttps://docs.spring.io/spring-framework/docs/6.0.x/javadoc-api/index.html\r\n\r\nDoes anyone know the reason for it?","title":"Spring 6.0.0 doesn&#39;t support Apache Tiles","body":"<p>I've been using the <code>Spring 5.7.x</code> (through the <code>Spring boot 2.7.6</code>) with <code>Apache Tiles 3</code>. I'm now about to migrate my application to the recently released latest version of <code>Spring 6.0.0</code> (through <code>Spring boot 3.0.0</code>) and I realized during the migration that - TilesConfigurer class has been removed completely.</p>\n<p>I can't find any official resource and this class has <strong>never</strong> been deprecated so I'm not sure why the entire tiles view package (org.springframework.web.servlet.view.tiles3) is missing in the latest Spring 6.0.x version as per the documentation here</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/6.0.x/javadoc-api/index.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/6.0.x/javadoc-api/index.html</a></p>\n<p>Does anyone know the reason for it?</p>\n"},{"tags":["java","spring","spring-boot","swagger-ui"],"comments":[{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1696912521,"post_id":77262933,"comment_id":136209874,"body_markdown":"which spring-boot vesion do you use? if your using spring-boot 3.x.x then please refer https://stackoverflow.com/questions/76325399/noclassdeffounderror-with-open-api-with-spring-boot-3/76325476#76325476","body":"which spring-boot vesion do you use? if your using spring-boot 3.x.x then please refer <a href=\"https://stackoverflow.com/questions/76325399/noclassdeffounderror-with-open-api-with-spring-boot-3/76325476#76325476\" title=\"noclassdeffounderror with open api with spring boot 3\">stackoverflow.com/questions/76325399/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19397303,"reputation":9,"user_id":14184694,"display_name":"&#199;ağrı Kart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696922144,"creation_date":1696922144,"answer_id":77263631,"question_id":77262933,"body_markdown":"You use Swagger ui 3. you dont create config file. https://www.baeldung.com/spring-rest-openapi-documentation. you must be follow step by step. İf create config file you should swagger 2 ","title":"Unable to setup swagger with spring boot application","body":"<p>You use Swagger ui 3. you dont create config file. <a href=\"https://www.baeldung.com/spring-rest-openapi-documentation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-rest-openapi-documentation</a>. you must be follow step by step. İf create config file you should swagger 2</p>\n"},{"tags":[],"owner":{"account_id":21849828,"reputation":364,"user_id":16142058,"display_name":"The Dark Knight"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696927367,"creation_date":1696927367,"answer_id":77264189,"question_id":77262933,"body_markdown":"For Spring Boot 3.0, don&#39;t support Spring Fox, you can use Spring Doc. Guide to migrate spring fox to spring docs [here](https://springdoc.org/migrating-from-springfox.html)\r\n\r\nAdd dependency maven:\r\n\r\n```properties\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2.0&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n```\r\nAfter that, you can access these end-points below.\r\n \r\napi-docs url: `http://localhost:8080/v3/api-docs`\r\n\r\nswagger-ui: `http://localhost:8080/swagger-ui/index.html`","title":"Unable to setup swagger with spring boot application","body":"<p>For Spring Boot 3.0, don't support Spring Fox, you can use Spring Doc. Guide to migrate spring fox to spring docs <a href=\"https://springdoc.org/migrating-from-springfox.html\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Add dependency maven:</p>\n<pre><code>   &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n      &lt;version&gt;2.2.0&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n<p>After that, you can access these end-points below.</p>\n<p>api-docs url: <code>http://localhost:8080/v3/api-docs</code></p>\n<p>swagger-ui: <code>http://localhost:8080/swagger-ui/index.html</code></p>\n"},{"tags":[],"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696927548,"creation_date":1696927548,"answer_id":77264212,"question_id":77262933,"body_markdown":"As I mentioned here, https://stackoverflow.com/questions/76325399/noclassdeffounderror-with-open-api-with-spring-boot-3/76325476#76325476\r\n\r\nyou need to add only one dependency which is springdoc-openapi-starter-webmvc-api and No additional configuration is needed. Remove the dependency springdoc-openapi-ui\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\nyou don&#39;t need to specify packagesToscan[] or no need to use withClassAnnotation(RestController.class)), it&#39;ll take care by itself as it look for @RestController Annotation and generate the doc.\r\n\r\nhttps://springdoc.org/v2/#spring-webmvc-support","title":"Unable to setup swagger with spring boot application","body":"<p>As I mentioned here, <a href=\"https://stackoverflow.com/questions/76325399/noclassdeffounderror-with-open-api-with-spring-boot-3/76325476#76325476\">NoClassDefFoundError with Open API with Spring Boot 3</a></p>\n<p>you need to add only one dependency which is springdoc-openapi-starter-webmvc-api and No additional configuration is needed. Remove the dependency springdoc-openapi-ui</p>\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>you don't need to specify packagesToscan[] or no need to use withClassAnnotation(RestController.class)), it'll take care by itself as it look for @RestController Annotation and generate the doc.</p>\n<p><a href=\"https://springdoc.org/v2/#spring-webmvc-support\" rel=\"nofollow noreferrer\">https://springdoc.org/v2/#spring-webmvc-support</a></p>\n"}],"owner":{"account_id":7535614,"reputation":5214,"user_id":5722010,"accept_rate":48,"display_name":"OpenStack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1696927548,"creation_date":1696912036,"question_id":77262933,"body_markdown":"I created a spring boot application along with gradle. \r\nI added following gradle dependencies:\r\n\r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation &#39;io.springfox:springfox-boot-starter:3.0.0&#39;\r\n    \timplementation &#39;io.springfox:springfox-swagger-ui:3.0.0&#39;\r\n    \t\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n\r\nThen i added a controller:\r\n\r\n\r\n    package com.google.demoapp.controller;\r\n    \r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import io.swagger.v3.oas.annotations.Operation;\r\n    import io.swagger.v3.oas.annotations.tags.Tag;\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    @Tag(name = &quot;Message API&quot;)\r\n    public class MessageController {\r\n    \r\n        @GetMapping(&quot;/message&quot;)\r\n        @Operation(summary = &quot;Get a message&quot;)\r\n        public String getMessage() {\r\n            return &quot;Hello, this is a GET request!&quot;;\r\n        }\r\n    \r\n        @PostMapping(&quot;/message&quot;)\r\n        @Operation(summary = &quot;Post a message&quot;)\r\n        public String postMessage(@RequestBody String message) {\r\n            return &quot;You posted: &quot; + message;\r\n        }\r\n    }\r\n\r\n\r\nThen i added swaggerConfig class\r\n\r\n\r\n    package com.google.demoapp.config;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import springfox.documentation.builders.ApiInfoBuilder;\r\n    import springfox.documentation.builders.PathSelectors;\r\n    import springfox.documentation.builders.RequestHandlerSelectors;\r\n    import springfox.documentation.service.ApiInfo;\r\n    import springfox.documentation.service.Contact;\r\n    import springfox.documentation.spi.DocumentationType;\r\n    import springfox.documentation.spring.web.plugins.Docket;\r\n    import springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n    \r\n    @Configuration\r\n    //@EnableSwagger2 // You can remove this annotation for Swagger 3\r\n    public class SwaggerConfig {\r\n        @Bean\r\n        public Docket api() {\r\n            return new Docket(DocumentationType.OAS_30) // Use OAS_30 for Swagger 3\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.basePackage(&quot;com.test.demoapp&quot;)) // Replace with your package name\r\n                    .paths(PathSelectors.any())\r\n                    .build()\r\n                    .apiInfo(apiInfo());\r\n        }\r\n    \r\n        private ApiInfo apiInfo() {\r\n            return new ApiInfoBuilder()\r\n                    .title(&quot;My RESTful Service&quot;)\r\n                    .description(&quot;A simple RESTful service with Swagger documentation&quot;)\r\n                    .version(&quot;1.0&quot;)\r\n                    .contact(new Contact(&quot;Your Name&quot;, &quot;&quot;, &quot;your.email@example.com&quot;))\r\n                    .build();\r\n        }\r\n    }\r\n\r\n\r\n\r\nI am building code using : gradelw clean build -x test\r\n\r\n\r\nI am running code using: gradlew bootRun\r\n\r\nAfter this when i try to access swagger using http://localhost:8080/swagger-ui.html\r\n\r\nI am get following error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nplease help me fix this error.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JT51l.png","title":"Unable to setup swagger with spring boot application","body":"<p>I created a spring boot application along with gradle.\nI added following gradle dependencies:</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'io.springfox:springfox-boot-starter:3.0.0'\n    implementation 'io.springfox:springfox-swagger-ui:3.0.0'\n    \n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n<p>Then i added a controller:</p>\n<pre><code>package com.google.demoapp.controller;\n\nimport org.springframework.web.bind.annotation.*;\n\nimport io.swagger.v3.oas.annotations.Operation;\nimport io.swagger.v3.oas.annotations.tags.Tag;\n@RestController\n@RequestMapping(&quot;/api&quot;)\n@Tag(name = &quot;Message API&quot;)\npublic class MessageController {\n\n    @GetMapping(&quot;/message&quot;)\n    @Operation(summary = &quot;Get a message&quot;)\n    public String getMessage() {\n        return &quot;Hello, this is a GET request!&quot;;\n    }\n\n    @PostMapping(&quot;/message&quot;)\n    @Operation(summary = &quot;Post a message&quot;)\n    public String postMessage(@RequestBody String message) {\n        return &quot;You posted: &quot; + message;\n    }\n}\n</code></pre>\n<p>Then i added swaggerConfig class</p>\n<pre><code>package com.google.demoapp.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport springfox.documentation.builders.ApiInfoBuilder;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.service.ApiInfo;\nimport springfox.documentation.service.Contact;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@Configuration\n//@EnableSwagger2 // You can remove this annotation for Swagger 3\npublic class SwaggerConfig {\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.OAS_30) // Use OAS_30 for Swagger 3\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.test.demoapp&quot;)) // Replace with your package name\n                .paths(PathSelectors.any())\n                .build()\n                .apiInfo(apiInfo());\n    }\n\n    private ApiInfo apiInfo() {\n        return new ApiInfoBuilder()\n                .title(&quot;My RESTful Service&quot;)\n                .description(&quot;A simple RESTful service with Swagger documentation&quot;)\n                .version(&quot;1.0&quot;)\n                .contact(new Contact(&quot;Your Name&quot;, &quot;&quot;, &quot;your.email@example.com&quot;))\n                .build();\n    }\n}\n</code></pre>\n<p>I am building code using : gradelw clean build -x test</p>\n<p>I am running code using: gradlew bootRun</p>\n<p>After this when i try to access swagger using http://localhost:8080/swagger-ui.html</p>\n<p>I am get following error:</p>\n<p><a href=\"https://i.stack.imgur.com/JT51l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JT51l.png\" alt=\"enter image description here\" /></a></p>\n<p>please help me fix this error.</p>\n"},{"tags":["java","spring-boot","mockito","spring-test","modelmapper"],"answers":[{"comments":[{"owner":{"account_id":27940883,"reputation":23,"user_id":21336933,"display_name":"Hakan"},"score":0,"creation_date":1697006523,"post_id":77264203,"comment_id":136223481,"body_markdown":"Thanks for help. Although I am taking errors but for another reasons, this answer worked for other unit test","body":"Thanks for help. Although I am taking errors but for another reasons, this answer worked for other unit test"}],"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696927496,"creation_date":1696927496,"answer_id":77264203,"question_id":77264171,"body_markdown":"I think your problem is that you try to mock `interface ModelMapperService` in your test class, but you do not mock `class ModelMapperManager`. It means that when you call method `modelMapperService.forRequest()`, it returns `null` value.\r\n\r\nUpdated code:\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ProductManagerTest {\r\n\r\n    @Mock\r\n    private ProductRepository productRepository;\r\n    \r\n    @Mock\r\n    private ProductBusinessRules productBusinessRules;\r\n\r\n    @Mock\r\n    private ModelMapperManager modelMapperManager;\r\n\r\n    @Mock\r\n    private ModelMapper modelMapper;\r\n\r\n    @InjectMocks\r\n    private ProductManager productManager;\r\n\r\n    @Test\r\n    @DisplayName(&quot;Should Update By If&quot;)\r\n    void shouldUpdateById() {\r\n        Product product = Product.builder()\r\n                .name(&quot;Milk&quot;)\r\n                .category(&quot;Drink&quot;)\r\n                .price(10)\r\n                .quantity(10)\r\n                .onOffer(true)\r\n                .build();\r\n\r\n        UpdateProductRequest updateProductRequest = UpdateProductRequest.builder()\r\n                .id(1)\r\n                .name(&quot;Coke&quot;)\r\n                .category(&quot;Drink&quot;)\r\n                .price(5)\r\n                .quantity(10)\r\n                .onOffer(true).build();\r\n\r\n        when(modelMapperManager.forRequest()).thenReturn(modelMapper);\r\n        when(productRepository.save(Mockito.any(Product.class))).thenReturn(product);\r\n        when(productRepository.findById(0)).thenReturn(Optional.ofNullable(product));\r\n\r\n        UpdateProductRequest updatedProduct = productManager.update(updateProductRequest);\r\n\r\n        assertThat(updatedProduct).isNotNull();\r\n    }\r\n}\r\n```","title":"Spring Test Mapper Return Null","body":"<p>I think your problem is that you try to mock <code>interface ModelMapperService</code> in your test class, but you do not mock <code>class ModelMapperManager</code>. It means that when you call method <code>modelMapperService.forRequest()</code>, it returns <code>null</code> value.</p>\n<p>Updated code:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class ProductManagerTest {\n\n    @Mock\n    private ProductRepository productRepository;\n    \n    @Mock\n    private ProductBusinessRules productBusinessRules;\n\n    @Mock\n    private ModelMapperManager modelMapperManager;\n\n    @Mock\n    private ModelMapper modelMapper;\n\n    @InjectMocks\n    private ProductManager productManager;\n\n    @Test\n    @DisplayName(&quot;Should Update By If&quot;)\n    void shouldUpdateById() {\n        Product product = Product.builder()\n                .name(&quot;Milk&quot;)\n                .category(&quot;Drink&quot;)\n                .price(10)\n                .quantity(10)\n                .onOffer(true)\n                .build();\n\n        UpdateProductRequest updateProductRequest = UpdateProductRequest.builder()\n                .id(1)\n                .name(&quot;Coke&quot;)\n                .category(&quot;Drink&quot;)\n                .price(5)\n                .quantity(10)\n                .onOffer(true).build();\n\n        when(modelMapperManager.forRequest()).thenReturn(modelMapper);\n        when(productRepository.save(Mockito.any(Product.class))).thenReturn(product);\n        when(productRepository.findById(0)).thenReturn(Optional.ofNullable(product));\n\n        UpdateProductRequest updatedProduct = productManager.update(updateProductRequest);\n\n        assertThat(updatedProduct).isNotNull();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27940883,"reputation":23,"user_id":21336933,"display_name":"Hakan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77264203,"answer_count":1,"score":0,"last_activity_date":1696927496,"creation_date":1696927222,"question_id":77264171,"body_markdown":"I am writing test unit for my backend project. Also I am using ModelMapper for map functions. But when I write getAll() or update() etc. at test method from manager ProductManager, Spring says \r\n\r\n&gt; org.modelmapper.ModelMapper.map(Object, java.lang.Class)&quot; because the return value of &quot;hakan.productData.core.utilities.mappers.ModelMapperService.forRequest()&quot; is null\r\n\r\nI didn&#39;t figure it out. Can you help me please?\r\n\r\nProductManager = \r\n\r\n```\r\n@Service\r\n@AllArgsConstructor\r\n@Transactional\r\npublic class ProductManager implements ProductService {\r\n\r\n    private ProductRepository productRepository;\r\n    private ProductBusinessRules productBusinessRules;\r\n    private ModelMapperService modelMapperService;\r\n\r\n\r\n    @Override\r\n    @Transactional(readOnly = true)\r\n    public List&lt;GetAllProductsResponse&gt; getAll() {\r\n        List&lt;Product&gt; products = productRepository.findAll();\r\n        List&lt;GetAllProductsResponse&gt; productsResponse= products.stream()\r\n                .map(product -&gt; this.modelMapperService.forResponse().map(product, GetAllProductsResponse.class)).collect(Collectors.toList());\r\n        return productsResponse;\r\n    }\r\n\r\n    @Override\r\n    public void add(CreateProductRequest createProductRequest) {\r\n        this.productBusinessRules.checkIfProductNameExists(createProductRequest.getName());\r\n        Product product = this.modelMapperService.forRequest().map(createProductRequest,Product.class);\r\n        this.productRepository.save(product);\r\n    }\r\n\r\n    @Override\r\n    public UpdateProductRequest update(UpdateProductRequest updateProductRequest) {\r\n        Product product = this.modelMapperService.forRequest().map(updateProductRequest,Product.class);\r\n        this.productRepository.save(product);\r\n        return updateProductRequest;\r\n    }\r\n```\r\n\r\nModelMapperManager = \r\n\r\n```\r\n@Service\r\n@AllArgsConstructor\r\npublic class ModelMapperManager implements ModelMapperService {\r\n    private ModelMapper modelMapper;\r\n    @Override\r\n    public ModelMapper forResponse() {\r\n        this.modelMapper.getConfiguration()\r\n                .setAmbiguityIgnored(true)\r\n                .setMatchingStrategy(MatchingStrategies.LOOSE);\r\n        return this.modelMapper;\r\n    }\r\n\r\n    @Override\r\n    public ModelMapper forRequest() {\r\n        this.modelMapper.getConfiguration()\r\n                .setAmbiguityIgnored(true)\r\n                .setMatchingStrategy(MatchingStrategies.STANDARD);\r\n        return this.modelMapper;\r\n    }\r\n}\r\n```\r\n\r\nProductManagerTest = \r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ProductManagerTest {\r\n\r\n\r\n    @Mock\r\n    private ProductRepository productRepository;\r\n    @Mock\r\n    private ProductBusinessRules productBusinessRules;\r\n    @Mock\r\n    private ModelMapperService modelMapperService;\r\n    @Mock\r\n    private ModelMapperManager modelMapper;\r\n\r\n    @InjectMocks\r\n    private ProductManager productManager;\r\n\r\n    @Test\r\n    @DisplayName(&quot;Should Find Post By Id&quot;)\r\n    void shouldFindPostById() {\r\n        Product product = new Product(123,&quot;Milk&quot;,&quot;Drink&quot;,10,true,5);\r\n        GetAllProductsResponse expectedProductResponse = new GetAllProductsResponse(123,&quot;Milk&quot;,&quot;Drink&quot;,10,true,5);\r\n        Mockito.when(productRepository.findById(123)).thenReturn(Optional.of(product));\r\n\r\n        Optional&lt;Product&gt; actualPostResponse = productManager.getById(123);\r\n\r\n        assertThat(actualPostResponse.get().getId()).isEqualTo(expectedProductResponse.getId());\r\n        assertThat(actualPostResponse.get().getName()).isEqualTo(expectedProductResponse.getName());\r\n        System.out.println(&quot;Test was successful&quot;);\r\n    }\r\n\r\n       @Test\r\n       @DisplayName(&quot;Should Update By If&quot;)\r\n       void shouldUpdateById(){\r\n\r\n           Product product = Product.builder()\r\n                   .name(&quot;Milk&quot;)\r\n                   .category(&quot;Drink&quot;)\r\n                   .price(10)\r\n                   .quantity(10)\r\n                   .onOffer(true)\r\n                   .build();\r\n\r\n           UpdateProductRequest getAllProductsResponse = UpdateProductRequest.builder()\r\n                   .id(1)\r\n                   .name(&quot;Coke&quot;)\r\n                   .category(&quot;Drink&quot;)\r\n                   .price(5)\r\n                   .quantity(10)\r\n                   .onOffer(true)\r\n                   .build();\r\n           when(productRepository.save(Mockito.any(Product.class))).thenReturn(product);\r\n           when(productRepository.findById(0)).thenReturn(Optional.ofNullable(product));\r\n           UpdateProductRequest updatedProduct = productManager.update(getAllProductsResponse);\r\n           assertThat(updatedProduct).isNotNull();\r\n\r\n\r\n       }\r\n\r\n}\r\n```\r\nshouldFindPostById test method works fine because I did not use any mapper methods but the other doesn&#39;t work.","title":"Spring Test Mapper Return Null","body":"<p>I am writing test unit for my backend project. Also I am using ModelMapper for map functions. But when I write getAll() or update() etc. at test method from manager ProductManager, Spring says</p>\n<blockquote>\n<p>org.modelmapper.ModelMapper.map(Object, java.lang.Class)&quot; because the return value of &quot;hakan.productData.core.utilities.mappers.ModelMapperService.forRequest()&quot; is null</p>\n</blockquote>\n<p>I didn't figure it out. Can you help me please?</p>\n<p>ProductManager =</p>\n<pre><code>@Service\n@AllArgsConstructor\n@Transactional\npublic class ProductManager implements ProductService {\n\n    private ProductRepository productRepository;\n    private ProductBusinessRules productBusinessRules;\n    private ModelMapperService modelMapperService;\n\n\n    @Override\n    @Transactional(readOnly = true)\n    public List&lt;GetAllProductsResponse&gt; getAll() {\n        List&lt;Product&gt; products = productRepository.findAll();\n        List&lt;GetAllProductsResponse&gt; productsResponse= products.stream()\n                .map(product -&gt; this.modelMapperService.forResponse().map(product, GetAllProductsResponse.class)).collect(Collectors.toList());\n        return productsResponse;\n    }\n\n    @Override\n    public void add(CreateProductRequest createProductRequest) {\n        this.productBusinessRules.checkIfProductNameExists(createProductRequest.getName());\n        Product product = this.modelMapperService.forRequest().map(createProductRequest,Product.class);\n        this.productRepository.save(product);\n    }\n\n    @Override\n    public UpdateProductRequest update(UpdateProductRequest updateProductRequest) {\n        Product product = this.modelMapperService.forRequest().map(updateProductRequest,Product.class);\n        this.productRepository.save(product);\n        return updateProductRequest;\n    }\n</code></pre>\n<p>ModelMapperManager =</p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class ModelMapperManager implements ModelMapperService {\n    private ModelMapper modelMapper;\n    @Override\n    public ModelMapper forResponse() {\n        this.modelMapper.getConfiguration()\n                .setAmbiguityIgnored(true)\n                .setMatchingStrategy(MatchingStrategies.LOOSE);\n        return this.modelMapper;\n    }\n\n    @Override\n    public ModelMapper forRequest() {\n        this.modelMapper.getConfiguration()\n                .setAmbiguityIgnored(true)\n                .setMatchingStrategy(MatchingStrategies.STANDARD);\n        return this.modelMapper;\n    }\n}\n</code></pre>\n<p>ProductManagerTest =</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class ProductManagerTest {\n\n\n    @Mock\n    private ProductRepository productRepository;\n    @Mock\n    private ProductBusinessRules productBusinessRules;\n    @Mock\n    private ModelMapperService modelMapperService;\n    @Mock\n    private ModelMapperManager modelMapper;\n\n    @InjectMocks\n    private ProductManager productManager;\n\n    @Test\n    @DisplayName(&quot;Should Find Post By Id&quot;)\n    void shouldFindPostById() {\n        Product product = new Product(123,&quot;Milk&quot;,&quot;Drink&quot;,10,true,5);\n        GetAllProductsResponse expectedProductResponse = new GetAllProductsResponse(123,&quot;Milk&quot;,&quot;Drink&quot;,10,true,5);\n        Mockito.when(productRepository.findById(123)).thenReturn(Optional.of(product));\n\n        Optional&lt;Product&gt; actualPostResponse = productManager.getById(123);\n\n        assertThat(actualPostResponse.get().getId()).isEqualTo(expectedProductResponse.getId());\n        assertThat(actualPostResponse.get().getName()).isEqualTo(expectedProductResponse.getName());\n        System.out.println(&quot;Test was successful&quot;);\n    }\n\n       @Test\n       @DisplayName(&quot;Should Update By If&quot;)\n       void shouldUpdateById(){\n\n           Product product = Product.builder()\n                   .name(&quot;Milk&quot;)\n                   .category(&quot;Drink&quot;)\n                   .price(10)\n                   .quantity(10)\n                   .onOffer(true)\n                   .build();\n\n           UpdateProductRequest getAllProductsResponse = UpdateProductRequest.builder()\n                   .id(1)\n                   .name(&quot;Coke&quot;)\n                   .category(&quot;Drink&quot;)\n                   .price(5)\n                   .quantity(10)\n                   .onOffer(true)\n                   .build();\n           when(productRepository.save(Mockito.any(Product.class))).thenReturn(product);\n           when(productRepository.findById(0)).thenReturn(Optional.ofNullable(product));\n           UpdateProductRequest updatedProduct = productManager.update(getAllProductsResponse);\n           assertThat(updatedProduct).isNotNull();\n\n\n       }\n\n}\n</code></pre>\n<p>shouldFindPostById test method works fine because I did not use any mapper methods but the other doesn't work.</p>\n"},{"tags":["java","bash","cmd","samba","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696927320,"creation_date":1696927320,"answer_id":77264184,"question_id":77261046,"body_markdown":"This works:\r\n\r\n    val sambaContainer = GenericContainer(SAMBA_IMAGE)\r\n                         ...\r\n                        .withEnv(&quot;LDB_MODULES_PATH&quot;,&quot;/usr/lib/samba/ldb/&quot;)\r\n    sambaContainer.start()\r\n    sambaContainer.execInContainer(\r\n                    &quot;ldbmodify&quot;,\r\n                    &quot;-H&quot;,\r\n                   &quot;/var/lib/samba/private/sam.ldb&quot;,\r\n                    &quot;/tmp/test.ldif&quot;,\r\n                )\r\n\r\n","title":"How to execute cmd command in the container up with TestContainers?","body":"<p>This works:</p>\n<pre><code>val sambaContainer = GenericContainer(SAMBA_IMAGE)\n                     ...\n                    .withEnv(&quot;LDB_MODULES_PATH&quot;,&quot;/usr/lib/samba/ldb/&quot;)\nsambaContainer.start()\nsambaContainer.execInContainer(\n                &quot;ldbmodify&quot;,\n                &quot;-H&quot;,\n               &quot;/var/lib/samba/private/sam.ldb&quot;,\n                &quot;/tmp/test.ldif&quot;,\n            )\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77264184,"answer_count":1,"score":1,"last_activity_date":1696927320,"creation_date":1696875914,"question_id":77261046,"body_markdown":"I can execute command (inside the container started with testcontainers) from cmd. I want to execute the same comamnd from testcontainers api\r\n\r\n    / # LDB_MODULES_PATH=/usr/lib/samba/ldb/ ldbmodify -H /var/lib/samba/private/sam.ldb /tmp/test.ldif \r\n    Modified 0 records successfully\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**option1:**\r\n        \r\n\r\n    sambaContainer.execInContainer(\r\n                &quot;LDB_MODULES_PATH=/usr/lib/samba/ldb/&quot;,\r\n                &quot;ldbmodify&quot;,\r\n                &quot;-H&quot;,\r\n               &quot;/var/lib/samba/private/sam.ldb&quot;,\r\n                &quot;/tmp/test.ldif&quot;,\r\n            )\r\n\r\nI get the error:\r\n\r\n    OCI runtime exec failed: exec failed: unable to start container process: exec: &quot;LDB_MODULES_PATH=/usr/lib/samba/ldb/&quot;: stat LDB_MODULES_PATH=/usr/lib/samba/ldb/: no such file or directory: unknown\r\n\r\nI tried 2 options:\r\n\r\n**option 2:**\r\n        \r\n\r\n    sambaContainer\r\n                .withEnv(&quot;LDB_MODULES_PATH&quot;,&quot;/usr/lib/samba/ldb/&quot; )\r\n                .execInContainer(\r\n                &quot;ldbmodify&quot;,\r\n                &quot;-H&quot;,\r\n               &quot;/var/lib/samba/private/sam.ldb&quot;,\r\n                &quot;/tmp/test.ldif&quot;,\r\n            )\r\n\r\nI get the error:\r\n\r\n    WARNING: Module [samba_dsdb] not found - do you need to set LDB_MODULES_PATH?\r\n    Unable to load modules for /var/lib/samba/private/sam.ldb: (null)\r\n    Failed to connect to /var/lib/samba/private/sam.ldb - (null)\r\n\r\nResult of the second option is the same as executing  \r\n\r\n    ldbmodify -H /var/lib/samba/private/sam.ldb /tmp/test.ldif\r\n\r\nfrom cmd:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nHow to execute the command from testContainers ?\r\n\r\n  [1]: https://i.stack.imgur.com/LDLst.png\r\n  [2]: https://i.stack.imgur.com/c21gu.png","title":"How to execute cmd command in the container up with TestContainers?","body":"<p>I can execute command (inside the container started with testcontainers) from cmd. I want to execute the same comamnd from testcontainers api</p>\n<pre><code>/ # LDB_MODULES_PATH=/usr/lib/samba/ldb/ ldbmodify -H /var/lib/samba/private/sam.ldb /tmp/test.ldif \nModified 0 records successfully\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/LDLst.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LDLst.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>option1:</strong></p>\n<pre><code>sambaContainer.execInContainer(\n            &quot;LDB_MODULES_PATH=/usr/lib/samba/ldb/&quot;,\n            &quot;ldbmodify&quot;,\n            &quot;-H&quot;,\n           &quot;/var/lib/samba/private/sam.ldb&quot;,\n            &quot;/tmp/test.ldif&quot;,\n        )\n</code></pre>\n<p>I get the error:</p>\n<pre><code>OCI runtime exec failed: exec failed: unable to start container process: exec: &quot;LDB_MODULES_PATH=/usr/lib/samba/ldb/&quot;: stat LDB_MODULES_PATH=/usr/lib/samba/ldb/: no such file or directory: unknown\n</code></pre>\n<p>I tried 2 options:</p>\n<p><strong>option 2:</strong></p>\n<pre><code>sambaContainer\n            .withEnv(&quot;LDB_MODULES_PATH&quot;,&quot;/usr/lib/samba/ldb/&quot; )\n            .execInContainer(\n            &quot;ldbmodify&quot;,\n            &quot;-H&quot;,\n           &quot;/var/lib/samba/private/sam.ldb&quot;,\n            &quot;/tmp/test.ldif&quot;,\n        )\n</code></pre>\n<p>I get the error:</p>\n<pre><code>WARNING: Module [samba_dsdb] not found - do you need to set LDB_MODULES_PATH?\nUnable to load modules for /var/lib/samba/private/sam.ldb: (null)\nFailed to connect to /var/lib/samba/private/sam.ldb - (null)\n</code></pre>\n<p>Result of the second option is the same as executing</p>\n<pre><code>ldbmodify -H /var/lib/samba/private/sam.ldb /tmp/test.ldif\n</code></pre>\n<p>from cmd:</p>\n<p><a href=\"https://i.stack.imgur.com/c21gu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c21gu.png\" alt=\"enter image description here\" /></a></p>\n<p>How to execute the command from testContainers ?</p>\n"},{"tags":["python","java","processing"],"comments":[{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1696941062,"post_id":77264144,"comment_id":136214487,"body_markdown":"so it&#39;s a DIY multitouch table you&#39;re using, using bottom to top camera or a different system ? (How does the table generate the multitouch data) ?","body":"so it&#39;s a DIY multitouch table you&#39;re using, using bottom to top camera or a different system ? (How does the table generate the multitouch data) ?"},{"owner":{"account_id":11277456,"reputation":11,"user_id":22607380,"display_name":"Lolimpol"},"score":0,"creation_date":1697027591,"post_id":77264144,"comment_id":136227469,"body_markdown":"@GeorgeProfenza I&#39;ll be using a big IR screen overlay frame","body":"@GeorgeProfenza I&#39;ll be using a big IR screen overlay frame"},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1697031915,"post_id":77264144,"comment_id":136228427,"body_markdown":"It depends what you use to process the IR data and spit out tracking points. If it&#39;s all done in Processing it&#39;s all up how you structure the data (probably an `int` ID and `PVector` for position ?). If you use an external tool/Python script hopefully you can send the data out via OSC (TUIO maybe?) or WebSockets then use Processing as a client receiving this data. Doing a quick search will reveal libraries like https://github.com/HCI-Lab-Saarland/MultiTouchKitUI or https://github.com/vialab/SMT but in your case, since it&#39;s DIY it really depends what generates the touch data, right ?","body":"It depends what you use to process the IR data and spit out tracking points. If it&#39;s all done in Processing it&#39;s all up how you structure the data (probably an <code>int</code> ID and <code>PVector</code> for position ?). If you use an external tool/Python script hopefully you can send the data out via OSC (TUIO maybe?) or WebSockets then use Processing as a client receiving this data. Doing a quick search will reveal libraries like <a href=\"https://github.com/HCI-Lab-Saarland/MultiTouchKitUI\" rel=\"nofollow noreferrer\">github.com/HCI-Lab-Saarland/MultiTouchKitUI</a> or <a href=\"https://github.com/vialab/SMT\" rel=\"nofollow noreferrer\">github.com/vialab/SMT</a> but in your case, since it&#39;s DIY it really depends what generates the touch data, right ?"},{"owner":{"account_id":11277456,"reputation":11,"user_id":22607380,"display_name":"Lolimpol"},"score":0,"creation_date":1697180026,"post_id":77264144,"comment_id":136249834,"body_markdown":"My overlay frame has a USB connection, so I&#39;m going to assume it imitates a touchpad as most os&#39;s don&#39;t have support for multiple mouse pointers.","body":"My overlay frame has a USB connection, so I&#39;m going to assume it imitates a touchpad as most os&#39;s don&#39;t have support for multiple mouse pointers."},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1697187241,"post_id":77264144,"comment_id":136251040,"body_markdown":"Does your overlay frame have documentation for the communication protocol ? (e.g. does it have a driver that exposes it as a USB HID device, is a Serial port which needs data to be parsed, etc.). This will determine wether you can use an existing Processing library or wether you need to manually handle communication.","body":"Does your overlay frame have documentation for the communication protocol ? (e.g. does it have a driver that exposes it as a USB HID device, is a Serial port which needs data to be parsed, etc.). This will determine wether you can use an existing Processing library or wether you need to manually handle communication."},{"owner":{"account_id":11277456,"reputation":11,"user_id":22607380,"display_name":"Lolimpol"},"score":0,"creation_date":1697190121,"post_id":77264144,"comment_id":136251591,"body_markdown":"As I said, it gets exposed as a USB HID device. It won&#39;t be any different to a touchscreen on a laptop per say. There might be a possibility to intercept serial data but if possible I&#39;d like to avoid it for simplicity and ease of installation.","body":"As I said, it gets exposed as a USB HID device. It won&#39;t be any different to a touchscreen on a laptop per say. There might be a possibility to intercept serial data but if possible I&#39;d like to avoid it for simplicity and ease of installation."},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1697453510,"post_id":77264144,"comment_id":136277560,"body_markdown":"My bad: I missed where you explicitly mentioned it&#39;s an USB HID device. Try the https://github.com/vialab/SMT library. Let&#39;s say you&#39;re on Windows and the device you use implements Windows Touch then it **should** work. It&#39;s all guess workout without knowing what OS you use, a datasheet/manual of the multitouch device etc, but it sounds like you&#39;ve got all that under control. It would be nice if you post the answer once you successfully tested your setup. Best of luck!","body":"My bad: I missed where you explicitly mentioned it&#39;s an USB HID device. Try the <a href=\"https://github.com/vialab/SMT\" rel=\"nofollow noreferrer\">github.com/vialab/SMT</a> library. Let&#39;s say you&#39;re on Windows and the device you use implements Windows Touch then it <b>should</b> work. It&#39;s all guess workout without knowing what OS you use, a datasheet/manual of the multitouch device etc, but it sounds like you&#39;ve got all that under control. It would be nice if you post the answer once you successfully tested your setup. Best of luck!"},{"owner":{"account_id":11277456,"reputation":11,"user_id":22607380,"display_name":"Lolimpol"},"score":0,"creation_date":1697542235,"post_id":77264144,"comment_id":136290338,"body_markdown":"Thanks! I&#39;ll try my best to het it working. Otherwise I might have to step off of processing and look into QT or something similar.","body":"Thanks! I&#39;ll try my best to het it working. Otherwise I might have to step off of processing and look into QT or something similar."}],"owner":{"account_id":11277456,"reputation":11,"user_id":22607380,"display_name":"Lolimpol"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696927033,"creation_date":1696927033,"question_id":77264144,"body_markdown":"I&#39;m new to Processing and I&#39;d like to develop a touchscreen based effects app. It will be used to display cool effects on an LED matrix table I&#39;m building.\r\n\r\nnow my question is whether Python or Java processing have the capability to handle multitouch, and how?\r\n\r\nI tried using p5.js but a browser environment is not suitable for what I&#39;m trying to do, in addition to being too slow (where straight lines between points form instead of smooth tracking because of update frequency)\r\n\r\ndearest regards,\r\nPol.","title":"multitouch in Processing Java/Python","body":"<p>I'm new to Processing and I'd like to develop a touchscreen based effects app. It will be used to display cool effects on an LED matrix table I'm building.</p>\n<p>now my question is whether Python or Java processing have the capability to handle multitouch, and how?</p>\n<p>I tried using p5.js but a browser environment is not suitable for what I'm trying to do, in addition to being too slow (where straight lines between points form instead of smooth tracking because of update frequency)</p>\n<p>dearest regards,\nPol.</p>\n"},{"tags":["java","fast-excel"],"answers":[{"comments":[{"owner":{"account_id":9682089,"reputation":553,"user_id":7183399,"accept_rate":0,"display_name":"Mark Smith"},"score":0,"creation_date":1696928896,"post_id":77264116,"comment_id":136212145,"body_markdown":"I am using fastexcel version 0.15.7. Un fortenately in this version the Sheet class does not have the setDate() method. There are multipe value methods working with dates but none of the has the desirable result.","body":"I am using fastexcel version 0.15.7. Un fortenately in this version the Sheet class does not have the setDate() method. There are multipe value methods working with dates but none of the has the desirable result."},{"owner":{"account_id":9682089,"reputation":553,"user_id":7183399,"accept_rate":0,"display_name":"Mark Smith"},"score":0,"creation_date":1697442775,"post_id":77264116,"comment_id":136275718,"body_markdown":"Which version are you using?","body":"Which version are you using?"}],"tags":[],"owner":{"account_id":4412829,"reputation":99,"user_id":3595211,"accept_rate":50,"display_name":"Ashish Srivastava"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696926760,"creation_date":1696926760,"answer_id":77264116,"question_id":77263995,"body_markdown":"In FastExcel, use&#173;rs have the option to set the&#173; cell type as a Date using the&#173; setDate method inste&#173;ad of the value method. This allows for accurate&#173;ly assigning Date values to specific ce&#173;lls.  Example\r\n\r\n    Workbook workbook = new Workbook();\r\n    Worksheet worksheet = workbook.newWorksheet(&quot;Sheet1&quot;);\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    Date date = new Date();\r\n    worksheet.setDate(0, 0, date, dateFormat);\r\n\r\n\r\nIn the provide&#173;d code snippet, a SimpleDate&#173;Format is utilized to format the date. Following that, a Date&#173; object is created with the&#173; desired date value&#173;. Subsequently, the se&#173;tDate method assigns this value to the&#173; cell as a Date type. Additionally, we&#173; utilize the drop-in paramete&#173;r feature by passing in the afore&#173;mentioned SimpleDate&#173;Format to enable customization of date formatting.\r\n\r\n","title":"FastExel celltype not set as Date","body":"<p>In FastExcel, use­rs have the option to set the­ cell type as a Date using the­ setDate method inste­ad of the value method. This allows for accurate­ly assigning Date values to specific ce­lls.  Example</p>\n<pre><code>Workbook workbook = new Workbook();\nWorksheet worksheet = workbook.newWorksheet(&quot;Sheet1&quot;);\nSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\nDate date = new Date();\nworksheet.setDate(0, 0, date, dateFormat);\n</code></pre>\n<p>In the provide­d code snippet, a SimpleDate­Format is utilized to format the date. Following that, a Date­ object is created with the­ desired date value­. Subsequently, the se­tDate method assigns this value to the­ cell as a Date type. Additionally, we­ utilize the drop-in paramete­r feature by passing in the afore­mentioned SimpleDate­Format to enable customization of date formatting.</p>\n"}],"owner":{"account_id":9682089,"reputation":553,"user_id":7183399,"accept_rate":0,"display_name":"Mark Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696926760,"creation_date":1696925622,"question_id":77263995,"body_markdown":"In Java I am using FastExcel to create a spreadsheet.\r\nI use the overloaded method value in the org.dhatim.fastexcel.Worksheet to set a cell&#39;s value:\r\nworksheet.value(row, column, value)\r\nIn case the value is of type date the invoked method is:\r\n\r\n    public void value(int r, int c, Date value)\r\n\r\nInspecting the value in the spreadsheet it is displayed as a numerical value. The type of the cell is Standard. Changing the celltype to Date displayed the correct value.\r\nHow can I configure FastExcel to set the cell&#39;s type as Date?","title":"FastExel celltype not set as Date","body":"<p>In Java I am using FastExcel to create a spreadsheet.\nI use the overloaded method value in the org.dhatim.fastexcel.Worksheet to set a cell's value:\nworksheet.value(row, column, value)\nIn case the value is of type date the invoked method is:</p>\n<pre><code>public void value(int r, int c, Date value)\n</code></pre>\n<p>Inspecting the value in the spreadsheet it is displayed as a numerical value. The type of the cell is Standard. Changing the celltype to Date displayed the correct value.\nHow can I configure FastExcel to set the cell's type as Date?</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":29113210,"reputation":27,"user_id":22302560,"display_name":"zjboris"},"score":0,"creation_date":1697048781,"post_id":77261040,"comment_id":136231760,"body_markdown":"I&#39;m seeing the following error on .click                                                                            The method click(WebElement) is undefined for the type Object","body":"I&#39;m seeing the following error on .click                                                                            The method click(WebElement) is undefined for the type Object"},{"owner":{"account_id":29113210,"reputation":27,"user_id":22302560,"display_name":"zjboris"},"score":1,"creation_date":1697824756,"post_id":77261040,"comment_id":136332846,"body_markdown":"I needed to add import org.openqa.selenium.interactions.Actions; to get the last line of code to work, but once I did that it fixed my issue","body":"I needed to add import org.openqa.selenium.interactions.Actions; to get the last line of code to work, but once I did that it fixed my issue"}],"tags":[],"owner":{"account_id":6677596,"reputation":1285,"user_id":5151769,"display_name":"YaDav MaNish"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696875850,"creation_date":1696875850,"answer_id":77261040,"question_id":77260873,"body_markdown":"You can try the below code\r\n     \r\n        driver.get(&quot;https://www.utepilsbrewing.com/&quot;);\r\n\t\tdriver.findElement(By.xpath(&quot;((//button[@type=&#39;submit&#39;])[1])&quot;)).click();\r\n\r\n        //Try to use explicit wait \r\n\t\tThread.sleep(5000);\r\n\t\tWebElement menuItem = driver.findElement(By.xpath(&quot;((//a[text()=&#39;Taproom&#39;])[1])&quot;));\r\n\t\tThread.sleep(5000);\r\n\t\tWebElement menuClick = driver.findElement(By.xpath(&quot;((//a[text()=&#39;Visit Our Taproom&#39;])[1])&quot;));\r\n\t\tActions action = new Actions(driver);\r\n\t\taction.moveToElement(menuItem).click(menuClick).build().perform();","title":"How to Select a Hover Over Sub Menu","body":"<p>You can try the below code</p>\n<pre><code>    driver.get(&quot;https://www.utepilsbrewing.com/&quot;);\n    driver.findElement(By.xpath(&quot;((//button[@type='submit'])[1])&quot;)).click();\n\n    //Try to use explicit wait \n    Thread.sleep(5000);\n    WebElement menuItem = driver.findElement(By.xpath(&quot;((//a[text()='Taproom'])[1])&quot;));\n    Thread.sleep(5000);\n    WebElement menuClick = driver.findElement(By.xpath(&quot;((//a[text()='Visit Our Taproom'])[1])&quot;));\n    Actions action = new Actions(driver);\n    action.moveToElement(menuItem).click(menuClick).build().perform();\n</code></pre>\n"}],"owner":{"account_id":29113210,"reputation":27,"user_id":22302560,"display_name":"zjboris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77261040,"answer_count":1,"score":0,"last_activity_date":1696926629,"creation_date":1696873958,"question_id":77260873,"body_markdown":"Webpage: https://www.utepilsbrewing.com/\r\n\r\nI&#39;m trying to select one of the Sub Menu Items under Taproom.  My issue is the XPath I&#39;m using for Taproom is not working.  I want to hover over it and select the What&#39;s on Tap link\r\n````\r\nSelenium Error: Element: [[ChromeDriver: chrome on windows (9fbd2c11add5470a3628fa96d93eb264)] -&gt; xpath: //*[@id=&quot;menu-item-33573&quot;]/a]\r\n````\r\n \r\n\r\nHere&#39;s my code\r\n\r\n\t\tdriver.get(&quot;https://www.utepilsbrewing.com&quot;);\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.findElement(By.xpath(&quot;/html/body/div[1]/div[4]/form/div[2]/div/button[1]&quot;)).click();\r\n\t\tThread.sleep(1000);\r\n\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;menu-item-1846\\&quot;]/a&quot;));\r\n\t\tThread.sleep(1000);\r\n\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;menu-item-33573\\&quot;]/a&quot;)).click();\r\n\r\n","title":"How to Select a Hover Over Sub Menu","body":"<p>Webpage: <a href=\"https://www.utepilsbrewing.com/\" rel=\"nofollow noreferrer\">https://www.utepilsbrewing.com/</a></p>\n<p>I'm trying to select one of the Sub Menu Items under Taproom.  My issue is the XPath I'm using for Taproom is not working.  I want to hover over it and select the What's on Tap link</p>\n<pre><code>Selenium Error: Element: [[ChromeDriver: chrome on windows (9fbd2c11add5470a3628fa96d93eb264)] -&gt; xpath: //*[@id=&quot;menu-item-33573&quot;]/a]\n</code></pre>\n<p>Here's my code</p>\n<pre><code>    driver.get(&quot;https://www.utepilsbrewing.com&quot;);\n    driver.manage().window().maximize();\n    driver.findElement(By.xpath(&quot;/html/body/div[1]/div[4]/form/div[2]/div/button[1]&quot;)).click();\n    Thread.sleep(1000);\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;menu-item-1846\\&quot;]/a&quot;));\n    Thread.sleep(1000);\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;menu-item-33573\\&quot;]/a&quot;)).click();\n</code></pre>\n"},{"tags":["java","static","overloading","overriding"],"answers":[{"comments":[{"owner":{"account_id":109303,"reputation":3464,"user_id":289684,"display_name":"Ha."},"score":1,"creation_date":1268982559,"post_id":2475282,"comment_id":2466661,"body_markdown":"In Delphi static methods can be overridden - they just have pointer to VMT instead of object instance (and example above would do call `MySubClass.myStaticMethod`).","body":"In Delphi static methods can be overridden - they just have pointer to VMT instead of object instance (and example above would do call <code>MySubClass.myStaticMethod</code>)."},{"owner":{"account_id":1212752,"reputation":746,"user_id":1180993,"display_name":"White_King"},"score":0,"creation_date":1625645309,"post_id":2475282,"comment_id":120678798,"body_markdown":"I don&#39;t think a warning is a valid proof for your answer. Pragmatically it CAN be overridden and have the same functionality as a common method but the central point will be, I guess, in the definition of &quot;overridden&quot; you have (and are not providing).","body":"I don&#39;t think a warning is a valid proof for your answer. Pragmatically it CAN be overridden and have the same functionality as a common method but the central point will be, I guess, in the definition of &quot;overridden&quot; you have (and are not providing)."},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1625662775,"post_id":2475282,"comment_id":120686335,"body_markdown":"Method overriding in Java (and its connection to dynamic dispatch) is a very precise term. And it cannot be done for static methods. @White_King","body":"Method overriding in Java (and its connection to dynamic dispatch) is a very precise term. And it cannot be done for static methods. @White_King"}],"tags":[],"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"comment_count":3,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1268978689,"creation_date":1268978689,"answer_id":2475282,"question_id":2475259,"body_markdown":"Static methods cannot be overridden because they are not dispatched on the object instance at runtime. The compiler decides which method gets called.\r\n\r\nThis is why you get a compiler warning when you write\r\n\r\n     MyClass myObject = new MyClass();\r\n     myObject.myStaticMethod();\r\n     // should be written as\r\n     MyClass.myStaticMethod()\r\n     // because it is not dispatched on myObject\r\n     myObject = new MySubClass();\r\n     myObject.myStaticMethod(); \r\n     // still calls the static method in MyClass, NOT in MySubClass\r\n\r\nStatic methods can be overloaded (meaning that you can have the same method name for several methods as long as they have different parameter types).\r\n\r\n     Integer.parseInt(&quot;10&quot;);\r\n     Integer.parseInt(&quot;AA&quot;, 16);\r\n\r\n","title":"Can I override and overload static methods in Java?","body":"<p>Static methods cannot be overridden because they are not dispatched on the object instance at runtime. The compiler decides which method gets called.</p>\n\n<p>This is why you get a compiler warning when you write</p>\n\n<pre><code> MyClass myObject = new MyClass();\n myObject.myStaticMethod();\n // should be written as\n MyClass.myStaticMethod()\n // because it is not dispatched on myObject\n myObject = new MySubClass();\n myObject.myStaticMethod(); \n // still calls the static method in MyClass, NOT in MySubClass\n</code></pre>\n\n<p>Static methods can be overloaded (meaning that you can have the same method name for several methods as long as they have different parameter types).</p>\n\n<pre><code> Integer.parseInt(\"10\");\n Integer.parseInt(\"AA\", 16);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":455032,"reputation":2720,"user_id":853001,"display_name":"realPK"},"score":4,"creation_date":1393176871,"post_id":2475347,"comment_id":33293253,"body_markdown":"Can you put more light on **Static methods can not be overridden because there is nothing to override**?\n\nWhat do someone get when doing this:\nClass1 c1 = new Class2();\nClass2 c2 = new Class2();\n\nDo I expect Method1() from Class2 called in both cases or NOT?","body":"Can you put more light on <b>Static methods can not be overridden because there is nothing to override</b>?  What do someone get when doing this: Class1 c1 = new Class2(); Class2 c2 = new Class2();  Do I expect Method1() from Class2 called in both cases or NOT?"},{"owner":{"account_id":112546,"reputation":1093,"user_id":296828,"display_name":"VolatileDream"},"score":3,"creation_date":1393190407,"post_id":2475347,"comment_id":33298344,"body_markdown":"There is nothing to override for a static method, because static methods are linked at compile time, unlike normal methods, whose execution is determined at runtime. You can NOT expect `c1.Method1()` and `c2.Method1()` to call the same function, in fact, the compiler warns you that invoking static functions in this way is not a smart thing to do.","body":"There is nothing to override for a static method, because static methods are linked at compile time, unlike normal methods, whose execution is determined at runtime. You can NOT expect <code>c1.Method1()</code> and <code>c2.Method1()</code> to call the same function, in fact, the compiler warns you that invoking static functions in this way is not a smart thing to do."},{"owner":{"account_id":455032,"reputation":2720,"user_id":853001,"display_name":"realPK"},"score":0,"creation_date":1393192905,"post_id":2475347,"comment_id":33299415,"body_markdown":"Correct me if I am still confused -\n1. ClassName.methodName() is the best practice to invoke static methods in Java\n2. Reference type matters when dealing with static methods and NOT the instantiated type\n3. We can hide static methods in subclass but CAN&#39;T override even though the code looks like its overriding the method.","body":"Correct me if I am still confused - 1. ClassName.methodName() is the best practice to invoke static methods in Java 2. Reference type matters when dealing with static methods and NOT the instantiated type 3. We can hide static methods in subclass but CAN&#39;T override even though the code looks like its overriding the method."},{"owner":{"account_id":112546,"reputation":1093,"user_id":296828,"display_name":"VolatileDream"},"score":0,"creation_date":1393297927,"post_id":2475347,"comment_id":33350463,"body_markdown":"Correct on all counts. I&#39;ve put up a small demo sample [here](https://gist.github.com/VolatileDream/9201901).","body":"Correct on all counts. I&#39;ve put up a small demo sample <a href=\"https://gist.github.com/VolatileDream/9201901\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":3657397,"reputation":1107,"user_id":3048005,"display_name":"Prasad"},"score":1,"creation_date":1494247418,"post_id":2475347,"comment_id":74731839,"body_markdown":"In java, we can’t make Top level class static. Only nested classes can be static.The solution which above user provided is completely wrong.","body":"In java, we can’t make Top level class static. Only nested classes can be static.The solution which above user provided is completely wrong."},{"owner":{"account_id":1212752,"reputation":746,"user_id":1180993,"display_name":"White_King"},"score":0,"creation_date":1625645830,"post_id":2475347,"comment_id":120679024,"body_markdown":"I guess my problem is that I don&#39;t understand the definition of Overriding a method because in practice is exactly the same, you have 2 methods, and when calling the &quot;overwritten&quot; the call will go as planned (https://onecompiler.com/java/3x4qw4gpb). I do not understand why should we care or why is it important if the compiler does one or another thing in order for us to call it Override. One can argue the implementation is just hiding the method but that is basically what normal overriding does isn&#39;t it?","body":"I guess my problem is that I don&#39;t understand the definition of Overriding a method because in practice is exactly the same, you have 2 methods, and when calling the &quot;overwritten&quot; the call will go as planned (<a href=\"https://onecompiler.com/java/3x4qw4gpb\" rel=\"nofollow noreferrer\">onecompiler.com/java/3x4qw4gpb</a>). I do not understand why should we care or why is it important if the compiler does one or another thing in order for us to call it Override. One can argue the implementation is just hiding the method but that is basically what normal overriding does isn&#39;t it?"},{"owner":{"account_id":1212752,"reputation":746,"user_id":1180993,"display_name":"White_King"},"score":0,"creation_date":1625646585,"post_id":2475347,"comment_id":120679361,"body_markdown":"https://stackoverflow.com/a/5436790/1180993 explains that inheritance won&#39;t work due to this kind of implementation, therefore, is not actually an Override.","body":"<a href=\"https://stackoverflow.com/a/5436790/1180993\">stackoverflow.com/a/5436790/1180993</a> explains that inheritance won&#39;t work due to this kind of implementation, therefore, is not actually an Override."}],"tags":[],"owner":{"account_id":112546,"reputation":1093,"user_id":296828,"display_name":"VolatileDream"},"comment_count":7,"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1268979557,"creation_date":1268979557,"answer_id":2475347,"question_id":2475259,"body_markdown":"Static methods can not be overridden because there is nothing to override, as they would be two different methods. For example\r\n\r\n    static class Class1 {\r\n        public static int Method1(){\r\n              return 0;\r\n        }\r\n    }\r\n    static class Class2 extends Class1 {\r\n        public static int Method1(){\r\n              return 1;\r\n        }\r\n        \r\n    }\r\n    public static class Main {\r\n        public static void main(String[] args){\r\n              //Must explicitly chose Method1 from Class1 or Class2\r\n              Class1.Method1();\r\n              Class2.Method1();\r\n        }\r\n    }\r\n\r\nAnd yes static methods can be overloaded just like any other method.","title":"Can I override and overload static methods in Java?","body":"<p>Static methods can not be overridden because there is nothing to override, as they would be two different methods. For example</p>\n\n<pre><code>static class Class1 {\n    public static int Method1(){\n          return 0;\n    }\n}\nstatic class Class2 extends Class1 {\n    public static int Method1(){\n          return 1;\n    }\n\n}\npublic static class Main {\n    public static void main(String[] args){\n          //Must explicitly chose Method1 from Class1 or Class2\n          Class1.Method1();\n          Class2.Method1();\n    }\n}\n</code></pre>\n\n<p>And yes static methods can be overloaded just like any other method.</p>\n"},{"comments":[{"owner":{"account_id":159028,"reputation":4940,"user_id":378070,"accept_rate":19,"display_name":"Mital Pritmani"},"score":3,"creation_date":1323087724,"post_id":5436790,"comment_id":10350127,"body_markdown":"Thanks, your link helped me to find out my answer. I read this in your given link:\n&quot;Overriding in Java simply means that the particular method would be called based on the run time type of the object and not on the compile time type of it (which is the case with overriden static methods).&quot; This was the answer for which I was searching. Thanks.","body":"Thanks, your link helped me to find out my answer. I read this in your given link: &quot;Overriding in Java simply means that the particular method would be called based on the run time type of the object and not on the compile time type of it (which is the case with overriden static methods).&quot; This was the answer for which I was searching. Thanks."},{"owner":{"account_id":455032,"reputation":2720,"user_id":853001,"display_name":"realPK"},"score":2,"creation_date":1393177445,"post_id":5436790,"comment_id":33293472,"body_markdown":"I found more in depth explanation on [CodeRanch](http://www.coderanch.com/how-to/java/OverridingVsHiding)","body":"I found more in depth explanation on <a href=\"http://www.coderanch.com/how-to/java/OverridingVsHiding\" rel=\"nofollow noreferrer\">CodeRanch</a>"},{"owner":{"account_id":2183439,"reputation":608,"user_id":1968171,"display_name":"Tim M."},"score":2,"creation_date":1500565763,"post_id":5436790,"comment_id":77405438,"body_markdown":"For this answer to really be completed, you should probably answer the second part of the question.","body":"For this answer to really be completed, you should probably answer the second part of the question."}],"tags":[],"owner":{"account_id":20091,"reputation":61036,"user_id":47633,"accept_rate":61,"display_name":"opensas"},"comment_count":3,"down_vote_count":1,"up_vote_count":133,"is_accepted":false,"score":132,"last_activity_date":1569050699,"creation_date":1301078805,"answer_id":5436790,"question_id":2475259,"body_markdown":"Static methods can not be overridden in the exact sense of the word, but they can hide parent static methods\r\n\r\nIn practice it means that the compiler will decide which method to execute at the compile time, and not at the runtime, as it does with overridden instance methods.\r\n\r\nFor a neat example have a look [here][1].\r\n\r\nAnd [this][2] is java documentation explaining the difference between **overriding** instance methods and **hiding** class (static) methods.\r\n\r\n&gt; **Overriding:** Overriding in Java simply means that the particular method would be called based on the run time type of the object and\r\n&gt; not on the compile time type of it (which is the case with overriden\r\n&gt; static methods)\r\n&gt; \r\n&gt; **Hiding:** Parent class methods that are static are not part of a child class (although they are accessible), so there is no question of\r\n&gt; overriding it. Even if you add another static method in a subclass,\r\n&gt; identical to the one in its parent class, this subclass static method\r\n&gt; is unique and distinct from the static method in its parent class.\r\n\r\n\r\n  [1]: http://geekexplains.blogspot.com/2008/06/can-you-override-static-methods-in-java.html\r\n  [2]: http://download.oracle.com/javase/tutorial/java/IandI/override.html","title":"Can I override and overload static methods in Java?","body":"<p>Static methods can not be overridden in the exact sense of the word, but they can hide parent static methods</p>\n\n<p>In practice it means that the compiler will decide which method to execute at the compile time, and not at the runtime, as it does with overridden instance methods.</p>\n\n<p>For a neat example have a look <a href=\"http://geekexplains.blogspot.com/2008/06/can-you-override-static-methods-in-java.html\" rel=\"noreferrer\">here</a>.</p>\n\n<p>And <a href=\"http://download.oracle.com/javase/tutorial/java/IandI/override.html\" rel=\"noreferrer\">this</a> is java documentation explaining the difference between <strong>overriding</strong> instance methods and <strong>hiding</strong> class (static) methods.</p>\n\n<blockquote>\n  <p><strong>Overriding:</strong> Overriding in Java simply means that the particular method would be called based on the run time type of the object and\n  not on the compile time type of it (which is the case with overriden\n  static methods)</p>\n  \n  <p><strong>Hiding:</strong> Parent class methods that are static are not part of a child class (although they are accessible), so there is no question of\n  overriding it. Even if you add another static method in a subclass,\n  identical to the one in its parent class, this subclass static method\n  is unique and distinct from the static method in its parent class.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":532299,"reputation":51,"user_id":903353,"display_name":"Manoranjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1313837840,"creation_date":1313805649,"answer_id":7129118,"question_id":2475259,"body_markdown":"Static methods can not be overridden because they are not part of the object&#39;s state.  Rather, they belongs to the class (i.e they are class methods).  It is ok to overload static (and final) methods.","title":"Can I override and overload static methods in Java?","body":"<p>Static methods can not be overridden because they are not part of the object's state.  Rather, they belongs to the class (i.e they are class methods).  It is ok to overload static (and final) methods.</p>\n"},{"tags":[],"owner":{"account_id":1223190,"reputation":39,"user_id":1189403,"display_name":"Dalee Bisen"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1341566733,"creation_date":1330181596,"answer_id":9445029,"question_id":2475259,"body_markdown":"If I m calling the method by using SubClass name MysubClass then subclass method display what it means static method can be overridden or not\r\n\r\n\r\n    class MyClass {\r\n        static void myStaticMethod() {\r\n            System.out.println(&quot;Im in sta1&quot;);\r\n        }\r\n    }\r\n        \r\n    class MySubClass extends MyClass {\r\n    \r\n        static void  myStaticMethod() {\r\n            System.out.println(&quot;Im in sta123&quot;);\r\n        }\r\n    }\r\n        \r\n    public class My {\r\n        public static void main(String arg[]) {\r\n    \r\n            MyClass myObject = new MyClass();\r\n            myObject.myStaticMethod();\r\n            // should be written as\r\n            MyClass.myStaticMethod();\r\n            // calling from subclass name\r\n            MySubClass.myStaticMethod();\r\n            myObject = new MySubClass();\r\n            myObject.myStaticMethod(); \r\n            // still calls the static method in MyClass, NOT in MySubClass\r\n        }\r\n    }","title":"Can I override and overload static methods in Java?","body":"<p>If I m calling the method by using SubClass name MysubClass then subclass method display what it means static method can be overridden or not</p>\n\n<pre><code>class MyClass {\n    static void myStaticMethod() {\n        System.out.println(\"Im in sta1\");\n    }\n}\n\nclass MySubClass extends MyClass {\n\n    static void  myStaticMethod() {\n        System.out.println(\"Im in sta123\");\n    }\n}\n\npublic class My {\n    public static void main(String arg[]) {\n\n        MyClass myObject = new MyClass();\n        myObject.myStaticMethod();\n        // should be written as\n        MyClass.myStaticMethod();\n        // calling from subclass name\n        MySubClass.myStaticMethod();\n        myObject = new MySubClass();\n        myObject.myStaticMethod(); \n        // still calls the static method in MyClass, NOT in MySubClass\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":51513,"reputation":1175,"user_id":153940,"accept_rate":58,"display_name":"Kumar Manish"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1388076871,"creation_date":1331710877,"answer_id":9697709,"question_id":2475259,"body_markdown":"Parent class methods that are static are not part of a child class (although they are accessible), so there is no question of overriding it.  Even if you add another static method in a subclass, identical to the one in its parent class, this subclass static method is unique and distinct from the static method in its parent class.","title":"Can I override and overload static methods in Java?","body":"<p>Parent class methods that are static are not part of a child class (although they are accessible), so there is no question of overriding it.  Even if you add another static method in a subclass, identical to the one in its parent class, this subclass static method is unique and distinct from the static method in its parent class.</p>\n"},{"tags":[],"owner":{"account_id":352721,"reputation":6323,"user_id":689956,"accept_rate":75,"display_name":"Sathesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364475131,"creation_date":1364475131,"answer_id":15682317,"question_id":2475259,"body_markdown":"The very purpose of using the static method is to  access the method of a class without creating an instance for it.It will make no sense if we override that method since they will be accessed by classname.method()","title":"Can I override and overload static methods in Java?","body":"<p>The very purpose of using the static method is to  access the method of a class without creating an instance for it.It will make no sense if we override that method since they will be accessed by classname.method()</p>\n"},{"tags":[],"owner":{"account_id":2892566,"reputation":63,"user_id":2481001,"display_name":"praveen"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1371103469,"creation_date":1371103469,"answer_id":17080233,"question_id":2475259,"body_markdown":"No,Static methods can&#39;t be overriden as it is part of a class rather than an object.\r\nBut one can overload static method.","title":"Can I override and overload static methods in Java?","body":"<p>No,Static methods can't be overriden as it is part of a class rather than an object.\nBut one can overload static method.</p>\n"},{"tags":[],"owner":{"account_id":2917679,"reputation":1,"user_id":2500552,"display_name":"user2500552"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371796456,"creation_date":1371795171,"answer_id":17228761,"question_id":2475259,"body_markdown":"No, you cannot override a static method. The static resolves against the class, not the instance. \r\n    \r\n    public class Parent { \r\n        public static String getCName() { \r\n            return &quot;I am the parent&quot;; \r\n        } \r\n    } \r\n    \r\n    public class Child extends Parent { \r\n        public static String getCName() { \r\n            return &quot;I am the child&quot;; \r\n        } \r\n    } \r\n    \r\nEach class has a static method getCName(). When you call on the Class name it behaves as you would expect and each returns the expected value. \r\n\r\n    \r\n    @Test \r\n    public void testGetCNameOnClass() { \r\n        assertThat(Parent.getCName(), is(&quot;I am the parent&quot;)); \r\n        assertThat(Child.getCName(), is(&quot;I am the child&quot;)); \r\n    } \r\n    \r\nNo surprises in this unit test. But this is not overriding.This declaring something that has a name collision. \r\n\r\n    \r\nIf we try to reach the static from an instance of the class (not a good practice), then it really shows: \r\n    \r\n    private Parent cp = new Child(); \r\n    `enter code here`\r\n    assertThat(cp.getCName(), is(&quot;I am the parent&quot;)); \r\n    \r\nEven though cp is a Child, the static is resolved through the declared type, Parent, instead of the actual type of the object. For non-statics, this is resolved correctly because a non-static method can override a method of its parent.\r\n\r\n","title":"Can I override and overload static methods in Java?","body":"<p>No, you cannot override a static method. The static resolves against the class, not the instance. </p>\n\n<pre><code>public class Parent { \n    public static String getCName() { \n        return \"I am the parent\"; \n    } \n} \n\npublic class Child extends Parent { \n    public static String getCName() { \n        return \"I am the child\"; \n    } \n} \n</code></pre>\n\n<p>Each class has a static method getCName(). When you call on the Class name it behaves as you would expect and each returns the expected value. </p>\n\n<pre><code>@Test \npublic void testGetCNameOnClass() { \n    assertThat(Parent.getCName(), is(\"I am the parent\")); \n    assertThat(Child.getCName(), is(\"I am the child\")); \n} \n</code></pre>\n\n<p>No surprises in this unit test. But this is not overriding.This declaring something that has a name collision. </p>\n\n<p>If we try to reach the static from an instance of the class (not a good practice), then it really shows: </p>\n\n<pre><code>private Parent cp = new Child(); \n`enter code here`\nassertThat(cp.getCName(), is(\"I am the parent\")); \n</code></pre>\n\n<p>Even though cp is a Child, the static is resolved through the declared type, Parent, instead of the actual type of the object. For non-statics, this is resolved correctly because a non-static method can override a method of its parent.</p>\n"},{"tags":[],"owner":{"account_id":1874518,"reputation":786,"user_id":1696012,"display_name":"charles_ma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374263481,"creation_date":1374263481,"answer_id":17754382,"question_id":2475259,"body_markdown":"You can overload a static method but you can&#39;t override a static method. Actually you can rewrite a static method in subclasses but this is not called a override because override should be related to polymorphism and dynamic binding. The static method belongs to the class so has nothing to do with those concepts. The rewrite of static method is more like a shadowing.","title":"Can I override and overload static methods in Java?","body":"<p>You can overload a static method but you can't override a static method. Actually you can rewrite a static method in subclasses but this is not called a override because override should be related to polymorphism and dynamic binding. The static method belongs to the class so has nothing to do with those concepts. The rewrite of static method is more like a shadowing.</p>\n"},{"tags":[],"owner":{"account_id":3068215,"reputation":91,"user_id":2599464,"display_name":"NarutoUzumaki"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505155688,"creation_date":1374554890,"answer_id":17801669,"question_id":2475259,"body_markdown":"`static` methods are `class` level methods.\r\n\r\nHiding concept is used for `static` methods.\r\n\r\nSee : http://www.coderanch.com/how-to/java/OverridingVsHiding\r\n\r\n ","title":"Can I override and overload static methods in Java?","body":"<p><code>static</code> methods are <code>class</code> level methods.</p>\n\n<p>Hiding concept is used for <code>static</code> methods.</p>\n\n<p>See : <a href=\"http://www.coderanch.com/how-to/java/OverridingVsHiding\" rel=\"nofollow noreferrer\">http://www.coderanch.com/how-to/java/OverridingVsHiding</a></p>\n"},{"tags":[],"owner":{"account_id":3897840,"reputation":1,"user_id":3226364,"display_name":"Nitin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390455722,"creation_date":1390454493,"answer_id":21299994,"question_id":2475259,"body_markdown":"I design a code of static method overriding.I think It is override easily.Please clear me how its unable to override static members.Here is my code-\r\n    \r\n    \r\n    class Class1 {\r\n        public static int Method1(){\r\n              System.out.println(&quot;true&quot;);\r\n              return 0;\r\n        }\r\n    }\r\n    class Class2 extends Class1 {\r\n        public static int Method1(){\r\n       System.out.println(&quot;false&quot;);\r\n              return 1;\r\n        }\r\n    \r\n    }\r\n    public class Mai {\r\n        public static void main(String[] args){\r\n               Class2 c=new Class2();\r\n              //Must explicitly chose Method1 from Class1 or Class2\r\n              //Class1.Method1();\r\n              c.Method1();\r\n        }\r\n    }","title":"Can I override and overload static methods in Java?","body":"<p>I design a code of static method overriding.I think It is override easily.Please clear me how its unable to override static members.Here is my code-</p>\n\n<pre><code>class Class1 {\n    public static int Method1(){\n          System.out.println(\"true\");\n          return 0;\n    }\n}\nclass Class2 extends Class1 {\n    public static int Method1(){\n   System.out.println(\"false\");\n          return 1;\n    }\n\n}\npublic class Mai {\n    public static void main(String[] args){\n           Class2 c=new Class2();\n          //Must explicitly chose Method1 from Class1 or Class2\n          //Class1.Method1();\n          c.Method1();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1401621238,"post_id":23979084,"comment_id":36947625,"body_markdown":"Static methods are **not** *overridden*, they are *hidden*. Read more about it at http://docs.oracle.com/javase/tutorial/java/IandI/override.html","body":"Static methods are <b>not</b> <i>overridden</i>, they are <i>hidden</i>. Read more about it at <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/override.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/IandI/override.html</a>"}],"tags":[],"owner":{"account_id":4551570,"reputation":21,"user_id":3696590,"display_name":"shivakrishna"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1401621116,"creation_date":1401619802,"answer_id":23979084,"question_id":2475259,"body_markdown":"    class SuperType {\r\n    \r\n    \tpublic static void  classMethod(){\r\n    \t\tSystem.out.println(&quot;Super type class method&quot;);\r\n    \t}\r\n    \tpublic void instancemethod(){\r\n    \t\tSystem.out.println(&quot;Super Type instance method&quot;);\r\n    \t}\r\n    }\r\n    \r\n    \r\n    public class SubType extends SuperType{\r\n    \r\n    \r\n    \tpublic static void classMethod(){\r\n    \t\tSystem.out.println(&quot;Sub type class method&quot;);\r\n    \t}\r\n    \tpublic void instancemethod(){\r\n    \t\tSystem.out.println(&quot;Sub Type instance method&quot;);\r\n    \t}\r\n    \tpublic static void main(String args[]){\r\n    \t\tSubType s=new SubType();\r\n    \t\tSuperType su=s;\r\n    \t\tSuperType.classMethod();// Prints.....Super type class method\r\n    \t\tsu.classMethod();   //Prints.....Super type class method\r\n    \t\tSubType.classMethod(); //Prints.....Sub type class method \r\n    \t}\r\n    }\r\n\r\n\r\nThis example for static method overriding\r\n\r\nNote: if we call a static method with object reference, then reference type(class) static method will be called, not object class static method.\r\n\r\nStatic method belongs to class only.","title":"Can I override and overload static methods in Java?","body":"<pre><code>class SuperType {\n\n    public static void  classMethod(){\n        System.out.println(\"Super type class method\");\n    }\n    public void instancemethod(){\n        System.out.println(\"Super Type instance method\");\n    }\n}\n\n\npublic class SubType extends SuperType{\n\n\n    public static void classMethod(){\n        System.out.println(\"Sub type class method\");\n    }\n    public void instancemethod(){\n        System.out.println(\"Sub Type instance method\");\n    }\n    public static void main(String args[]){\n        SubType s=new SubType();\n        SuperType su=s;\n        SuperType.classMethod();// Prints.....Super type class method\n        su.classMethod();   //Prints.....Super type class method\n        SubType.classMethod(); //Prints.....Sub type class method \n    }\n}\n</code></pre>\n\n<p>This example for static method overriding</p>\n\n<p>Note: if we call a static method with object reference, then reference type(class) static method will be called, not object class static method.</p>\n\n<p>Static method belongs to class only.</p>\n"},{"tags":[],"owner":{"account_id":4841971,"reputation":933,"user_id":3907873,"accept_rate":40,"display_name":"hitesh141"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1430465139,"creation_date":1430465139,"answer_id":29983117,"question_id":2475259,"body_markdown":"**It’s actually pretty simple to understand – Everything that is marked static belongs to the class only, for example static method cannot be inherited in the sub class because they belong to the class in which they have been declared. Refer static keyword.**\r\n\r\n\r\nThe best answer i found of this question is:\r\n\r\n\r\n           \r\n\r\n&gt; **http://www.geeksforgeeks.org/can-we-overload-or-override-static-methods-in-java/**","title":"Can I override and overload static methods in Java?","body":"<p><strong>It’s actually pretty simple to understand – Everything that is marked static belongs to the class only, for example static method cannot be inherited in the sub class because they belong to the class in which they have been declared. Refer static keyword.</strong></p>\n\n<p>The best answer i found of this question is:</p>\n\n<blockquote>\n  <p><strong><a href=\"http://www.geeksforgeeks.org/can-we-overload-or-override-static-methods-in-java/\" rel=\"nofollow\">http://www.geeksforgeeks.org/can-we-overload-or-override-static-methods-in-java/</a></strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6476776,"reputation":81,"user_id":5653616,"accept_rate":20,"display_name":"Pravin Kamble"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658654360,"creation_date":1481104360,"answer_id":41014264,"question_id":2475259,"body_markdown":"Static methods are a method whose single copy is shared by all the objects of the class. A static method belongs to the class rather than objects. since static methods are not dependent on the objects, Java Compiler need not wait till the creation of the objects so to call a static method we use syntax like **ClassName.method()** ;\r\n\r\nIn the case of method overloading, methods should be in the same class to overload.even if they are declared as static it is possible to overload them as,\r\n\r\n   \r\n\r\n  \r\n\r\n       Class Sample\r\n        {\r\n             static int calculate(int a,int b,int c)\r\n               {\r\n                    int res = a+b+c;\r\n                    return res;\r\n               }\r\n               static int calculate(int a,int b)\r\n               {\r\n                    int res = a*b;\r\n                    return res;\r\n               }\r\n    }\r\n    class Test\r\n    {\r\n       public static void main(String []args)\r\n       {\r\n         int res = Sample.calculate(10,20,30);\r\n       }\r\n    }\r\n\r\nBut in the case of method overriding, the method in the super class and the method in the sub class act as a different method. the super class will have its own copy and the sub class will have its own copy so it does not come under method overriding.","title":"Can I override and overload static methods in Java?","body":"<p>Static methods are a method whose single copy is shared by all the objects of the class. A static method belongs to the class rather than objects. since static methods are not dependent on the objects, Java Compiler need not wait till the creation of the objects so to call a static method we use syntax like <strong>ClassName.method()</strong> ;</p>\n<p>In the case of method overloading, methods should be in the same class to overload.even if they are declared as static it is possible to overload them as,</p>\n<pre><code>   Class Sample\n    {\n         static int calculate(int a,int b,int c)\n           {\n                int res = a+b+c;\n                return res;\n           }\n           static int calculate(int a,int b)\n           {\n                int res = a*b;\n                return res;\n           }\n}\nclass Test\n{\n   public static void main(String []args)\n   {\n     int res = Sample.calculate(10,20,30);\n   }\n}\n</code></pre>\n<p>But in the case of method overriding, the method in the super class and the method in the sub class act as a different method. the super class will have its own copy and the sub class will have its own copy so it does not come under method overriding.</p>\n"},{"tags":[],"owner":{"account_id":4020814,"reputation":716,"user_id":3311245,"accept_rate":0,"display_name":"Pavan T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485955188,"creation_date":1485955188,"answer_id":41980854,"question_id":2475259,"body_markdown":"As any static method is part of class not instance so it is not possible to override static method","title":"Can I override and overload static methods in Java?","body":"<p>As any static method is part of class not instance so it is not possible to override static method</p>\n"},{"tags":[],"owner":{"account_id":8406287,"reputation":163,"user_id":6309684,"display_name":"Tejas Bagade"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1491397475,"creation_date":1490613326,"answer_id":43044885,"question_id":2475259,"body_markdown":"From [Why doesn&#39;t Java allow overriding of static methods?][1]\n \n\n&gt; Overriding depends on having an instance of a class. The point of polymorphism is that you can subclass a class and the objects implementing those subclasses will have different behaviors for the same methods defined in the superclass (and overridden in the subclasses). A static method is not associated with any instance of a class so the concept is not applicable.\n&gt;\n&gt; There were two considerations driving Java&#39;s design that impacted this. One was a concern with performance: there had been a lot of criticism of Smalltalk about it being too slow (garbage collection and polymorphic calls being part of that) and Java&#39;s creators were determined to avoid that. Another was the decision that the target audience for Java was C++ developers. Making static methods work the way they do have the benefit of familiarity for C++ programmers and were also very fast because there&#39;s no need to wait until runtime to figure out which method to call.\n\n\n  [1]: https://stackoverflow.com/a/2223405/4509268","title":"Can I override and overload static methods in Java?","body":"<p>From <a href=\"https://stackoverflow.com/a/2223405/4509268\">Why doesn't Java allow overriding of static methods?</a></p>\n<blockquote>\n<p>Overriding depends on having an instance of a class. The point of polymorphism is that you can subclass a class and the objects implementing those subclasses will have different behaviors for the same methods defined in the superclass (and overridden in the subclasses). A static method is not associated with any instance of a class so the concept is not applicable.</p>\n<p>There were two considerations driving Java's design that impacted this. One was a concern with performance: there had been a lot of criticism of Smalltalk about it being too slow (garbage collection and polymorphic calls being part of that) and Java's creators were determined to avoid that. Another was the decision that the target audience for Java was C++ developers. Making static methods work the way they do have the benefit of familiarity for C++ programmers and were also very fast because there's no need to wait until runtime to figure out which method to call.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":13835744,"reputation":2940,"user_id":9987309,"display_name":"iCantC"},"score":0,"creation_date":1552380552,"post_id":51467130,"comment_id":96976202,"body_markdown":"A method signature is the method name and the number, type and **order of its parameters**. Which means even if the order of the parameters in method is changed , it can be successfully overloaded.","body":"A method signature is the method name and the number, type and <b>order of its parameters</b>. Which means even if the order of the parameters in method is changed , it can be successfully overloaded."}],"tags":[],"owner":{"account_id":7060487,"reputation":81,"user_id":5405935,"display_name":"Geetika Agarwal"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1532277234,"creation_date":1532277234,"answer_id":51467130,"question_id":2475259,"body_markdown":"Overloading is also called static binding, so as soon as the word static is used it means **a static method cannot show run-time polymorphism**.\r\n\r\n***We cannot override a static method*** but presence of different implementations of the same static method in a super class and its sub class is valid. Its just that the derived class will hide the implementations of the base class.\r\n\r\nFor static methods, the method call depends on the type of reference and not which object is being referred, i.e. Static method belongs only to a class and not its instances , so the method call is decided at the compile time itself.\r\n\r\nWhereas in case of method overloading ***static methods can be overloaded*** *iff* they have diff number or types of parameters. If two methods have the same name and the same parameter list then they cannot be defined different only by using the &#39;static&#39; keyword.","title":"Can I override and overload static methods in Java?","body":"<p>Overloading is also called static binding, so as soon as the word static is used it means <strong>a static method cannot show run-time polymorphism</strong>.</p>\n\n<p><strong><em>We cannot override a static method</em></strong> but presence of different implementations of the same static method in a super class and its sub class is valid. Its just that the derived class will hide the implementations of the base class.</p>\n\n<p>For static methods, the method call depends on the type of reference and not which object is being referred, i.e. Static method belongs only to a class and not its instances , so the method call is decided at the compile time itself.</p>\n\n<p>Whereas in case of method overloading <strong><em>static methods can be overloaded</em></strong> <em>iff</em> they have diff number or types of parameters. If two methods have the same name and the same parameter list then they cannot be defined different only by using the 'static' keyword.</p>\n"},{"tags":[],"owner":{"account_id":5218724,"reputation":123,"user_id":7272398,"display_name":"Java_Coder"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1588169867,"creation_date":1588169867,"answer_id":61504010,"question_id":2475259,"body_markdown":"Definitely, we cannot override static methods in Java. \r\nBecause JVM resolves correct overridden method based upon the object at run-time by using dynamic binding in Java.\r\n\r\nHowever, the static method in Java is associated with Class rather than the object and resolved and bonded during compile time.\r\n\r\n","title":"Can I override and overload static methods in Java?","body":"<p>Definitely, we cannot override static methods in Java. \nBecause JVM resolves correct overridden method based upon the object at run-time by using dynamic binding in Java.</p>\n\n<p>However, the static method in Java is associated with Class rather than the object and resolved and bonded during compile time.</p>\n"},{"tags":[],"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696925751,"creation_date":1696925751,"answer_id":77264006,"question_id":2475259,"body_markdown":"Checking some points in the definition of static in Java:\r\n\r\n&gt; The static method in java and members in java can be accessed without creating the object of the class. \r\nThe JVM runs the static method first, followed by the creation of class instances. \r\n\r\nSo, if the static method is initialized before the instance creation, then it is not possible to override it.\r\n\r\nIf we create a super class with a static method a(print(&#39;super&#39;)) and a sub class overriding a(print(&#39;sub&#39;)), we will see that the only way where &#39;sub&#39; will be printed is when we create an instance of the sub class: sub c = new sub();\r\n\r\nWhile doing Super s = new Sub() will always print &#39;super&#39;.\r\n\r\nHowever, trying to override a() in Sub, will not cause any compilation issue, so technically you can override it but the override operation will not work as expected.\r\n\r\n","title":"Can I override and overload static methods in Java?","body":"<p>Checking some points in the definition of static in Java:</p>\n<blockquote>\n<p>The static method in java and members in java can be accessed without creating the object of the class.\nThe JVM runs the static method first, followed by the creation of class instances.</p>\n</blockquote>\n<p>So, if the static method is initialized before the instance creation, then it is not possible to override it.</p>\n<p>If we create a super class with a static method a(print('super')) and a sub class overriding a(print('sub')), we will see that the only way where 'sub' will be printed is when we create an instance of the sub class: sub c = new sub();</p>\n<p>While doing Super s = new Sub() will always print 'super'.</p>\n<p>However, trying to override a() in Sub, will not cause any compilation issue, so technically you can override it but the override operation will not work as expected.</p>\n"}],"owner":{"account_id":86591,"reputation":26893,"user_id":240698,"accept_rate":62,"display_name":"giri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291471,"favorite_count":0,"down_vote_count":0,"up_vote_count":105,"answer_count":20,"score":105,"last_activity_date":1696925751,"creation_date":1268978321,"question_id":2475259,"body_markdown":"I&#39;d like to know:\r\n\r\n1. Why can&#39;t static methods be overridden in Java?\r\n2. Can static methods be overloaded in Java?\r\n","title":"Can I override and overload static methods in Java?","body":"<p>I'd like to know:</p>\n\n<ol>\n<li>Why can't static methods be overridden in Java?</li>\n<li>Can static methods be overloaded in Java?</li>\n</ol>\n"},{"tags":["java","effective-java"],"answers":[{"tags":[],"owner":{"account_id":1714121,"reputation":2962,"user_id":1571589,"display_name":"Mike Adamenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496398148,"creation_date":1496398148,"answer_id":44326325,"question_id":44325301,"body_markdown":"&gt;  If there are n attributes in the type system, there are 2n possible\r\n&gt; combinations that you might have to support. This is what’s known as a\r\n&gt; combinatorial explosion. Bloated class hierarchies can lead to bloated\r\n&gt; classes containing many methods that differ only in the type of their\r\n&gt; argu- ments, as there are no types in the class hierarchy to capture\r\n&gt; common behaviors.\r\n\r\nOne of the big disadvantages of abstract classes compared to interfaces that you can&#39;t extend multiple classes. \r\n\r\nFor example with interfaces you can do  \r\n\r\n    public interface Singer {\r\n     AudioClip Sing(Song s);\r\n    }\r\n\r\n    public interface Songwriter {\r\n     Song compose(boolean hit):\r\n    }\r\n\r\n    public interface SingerSongwriter extends Singer, Songwriter \r\n    { \r\n     AudioClip strum(); \r\n     void actSensitive();\r\n    }\r\n\r\nWith abstract classes you should do something like this:\r\n\r\n    public abstract class Singer {\r\n     abstract AudioClip Sing(Song s);\r\n    }\r\n    \r\n    public abstract class Songwriter {\r\n     abstract  Song compose(boolean hit):\r\n    }\r\n    \r\n    public abstract class SingerSongwriter extends Singer \r\n    { \r\n     abstract  AudioClip strum(); \r\n     abstract  void actSensitive();\r\n     abstract  Song compose(boolean hit):\r\n    }\r\n\r\nWith abstract classes you have `Song compose(boolean hit)` duplicated and support of this code is much difficult. This system is not so robust as with interface using.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Examples for combinatorial explosion in Java?","body":"<blockquote>\n  <p>If there are n attributes in the type system, there are 2n possible\n  combinations that you might have to support. This is what’s known as a\n  combinatorial explosion. Bloated class hierarchies can lead to bloated\n  classes containing many methods that differ only in the type of their\n  argu- ments, as there are no types in the class hierarchy to capture\n  common behaviors.</p>\n</blockquote>\n\n<p>One of the big disadvantages of abstract classes compared to interfaces that you can't extend multiple classes. </p>\n\n<p>For example with interfaces you can do  </p>\n\n<pre><code>public interface Singer {\n AudioClip Sing(Song s);\n}\n\npublic interface Songwriter {\n Song compose(boolean hit):\n}\n\npublic interface SingerSongwriter extends Singer, Songwriter \n{ \n AudioClip strum(); \n void actSensitive();\n}\n</code></pre>\n\n<p>With abstract classes you should do something like this:</p>\n\n<pre><code>public abstract class Singer {\n abstract AudioClip Sing(Song s);\n}\n\npublic abstract class Songwriter {\n abstract  Song compose(boolean hit):\n}\n\npublic abstract class SingerSongwriter extends Singer \n{ \n abstract  AudioClip strum(); \n abstract  void actSensitive();\n abstract  Song compose(boolean hit):\n}\n</code></pre>\n\n<p>With abstract classes you have <code>Song compose(boolean hit)</code> duplicated and support of this code is much difficult. This system is not so robust as with interface using.</p>\n"},{"comments":[{"owner":{"account_id":82474,"reputation":11438,"user_id":694469,"accept_rate":77,"display_name":"KajMagnus"},"score":2,"creation_date":1588009433,"post_id":59241553,"comment_id":108729291,"body_markdown":"Or one can use composition: a Logger class, with two fields, something like: `LogFormatter` (would be one of `PlainFormatter` and `HtmlFormatter` and `EncryptedFormatter`) plus `LogWriter`.","body":"Or one can use composition: a Logger class, with two fields, something like: <code>LogFormatter</code> (would be one of <code>PlainFormatter</code> and <code>HtmlFormatter</code> and <code>EncryptedFormatter</code>) plus <code>LogWriter</code>."}],"tags":[],"owner":{"account_id":2833171,"reputation":577,"user_id":2434307,"display_name":"Jose Quijada"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1580830038,"creation_date":1575855815,"answer_id":59241553,"question_id":44325301,"body_markdown":"Note: This answer borrows from [Software Architecture Design Patterns in Java][1], see the Decorator pattern chapter for an example of combinatorial explosion.\r\n\r\nSuppose you have a `Logger` interface, and three concrete implementations: `FileLogger`, `STDOUTLogger`, `DBLogger`. Now imagine that there are 3 possible formats in which a line can be logged: `Plain`, `HTML`, `Encrypted`.\r\n\r\nNaively one can create a class for each of the possible combinations, which total `3 * 3 = 9`:\r\n\r\n\r\n1. `FileLoggerPlain`\r\n2. `FileLoggerHtml`\r\n3. `FileLoggerEncrypt`\r\n4. `STDOUTLoggerPlain`\r\n5. `STDOUTLoggerHtml`\r\n6. `STDOUTLoggerEncrypt`\r\n7. `DBLoggerPlain`\r\n8. `DBLoggerHtml`\r\n9. `DBLoggerEncrypt`\r\n\r\n  \r\nThe 9 above translate to 9 types in Java. Notice the proliferation of classes that has resulted to support each combination. You can instead create reusable types to describe the logger medium (File, STDOUT, DB), and the format (Plain, Html, Encrypt). Notice this results in 6 types only. You can then use patterns like Decorator to wrap a logger type in a format type (E.g. `EncryptLoggerDecorator` wraps `DBLogger`, or wraps `STDOUTLogger`) to dynamically alter behavior of a system, as opposed to statically defining the behavior if you were to use a bloated class hierarchy. I believe the point that Joshua Bloch tries to drive home is to keep hierarchies flat, and Java interfaces lend themselves well for that purpose.\r\n\r\n  [1]: https://www.amazon.com/Software-Architecture-Design-Patterns-Java/dp/0849321425/ref=sr_1_4?crid=K6DSCGZX30LX&amp;keywords=software%20architecture%20design%20patterns%20in%20java&amp;qid=1575260229&amp;sprefix=software%20architecture%20desi%2Caps%2C239&amp;sr=8-4","title":"Examples for combinatorial explosion in Java?","body":"<p>Note: This answer borrows from <a href=\"https://rads.stackoverflow.com/amzn/click/com/0849321425\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Software Architecture Design Patterns in Java</a>, see the Decorator pattern chapter for an example of combinatorial explosion.</p>\n\n<p>Suppose you have a <code>Logger</code> interface, and three concrete implementations: <code>FileLogger</code>, <code>STDOUTLogger</code>, <code>DBLogger</code>. Now imagine that there are 3 possible formats in which a line can be logged: <code>Plain</code>, <code>HTML</code>, <code>Encrypted</code>.</p>\n\n<p>Naively one can create a class for each of the possible combinations, which total <code>3 * 3 = 9</code>:</p>\n\n<ol>\n<li><code>FileLoggerPlain</code></li>\n<li><code>FileLoggerHtml</code></li>\n<li><code>FileLoggerEncrypt</code></li>\n<li><code>STDOUTLoggerPlain</code></li>\n<li><code>STDOUTLoggerHtml</code></li>\n<li><code>STDOUTLoggerEncrypt</code></li>\n<li><code>DBLoggerPlain</code></li>\n<li><code>DBLoggerHtml</code></li>\n<li><code>DBLoggerEncrypt</code></li>\n</ol>\n\n<p>The 9 above translate to 9 types in Java. Notice the proliferation of classes that has resulted to support each combination. You can instead create reusable types to describe the logger medium (File, STDOUT, DB), and the format (Plain, Html, Encrypt). Notice this results in 6 types only. You can then use patterns like Decorator to wrap a logger type in a format type (E.g. <code>EncryptLoggerDecorator</code> wraps <code>DBLogger</code>, or wraps <code>STDOUTLogger</code>) to dynamically alter behavior of a system, as opposed to statically defining the behavior if you were to use a bloated class hierarchy. I believe the point that Joshua Bloch tries to drive home is to keep hierarchies flat, and Java interfaces lend themselves well for that purpose.</p>\n"}],"owner":{"account_id":5022673,"reputation":198,"user_id":4035686,"accept_rate":33,"display_name":"Aravamudhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1287,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":59241553,"answer_count":2,"score":1,"last_activity_date":1696925703,"creation_date":1496395375,"question_id":44325301,"body_markdown":"In the Effective Java, Item - 18, Bloch says that interfaces prevent combinatorial explosion, which will happen when using abstract classes with multiple attributes in a type system.\r\n\r\nI am not able to wrap my head around what exactly is combinatorial explosion.\r\n\r\nCan anyone provide an example of combinatorial explosion because of using abstract classes, and how interfaces are used to prevent this problem?","title":"Examples for combinatorial explosion in Java?","body":"<p>In the Effective Java, Item - 18, Bloch says that interfaces prevent combinatorial explosion, which will happen when using abstract classes with multiple attributes in a type system.</p>\n\n<p>I am not able to wrap my head around what exactly is combinatorial explosion.</p>\n\n<p>Can anyone provide an example of combinatorial explosion because of using abstract classes, and how interfaces are used to prevent this problem?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1696927416,"post_id":77256992,"comment_id":136211903,"body_markdown":"have you defined  unique key in DB? then by using one DB call  at the time of save/update if name is different then it&#39;ll save/update else it&#39;ll throw DataIntegrityViolationException","body":"have you defined  unique key in DB? then by using one DB call  at the time of save/update if name is different then it&#39;ll save/update else it&#39;ll throw DataIntegrityViolationException"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1696927555,"post_id":77256992,"comment_id":136211928,"body_markdown":"That is the approach in solution #3 where `!samename &amp;&amp; !CarRepository.existsByName(updateCarDto.getName())` uses a @Query existsByName to check and return boolean.","body":"That is the approach in solution #3 where <code>!samename &amp;&amp; !CarRepository.existsByName(updateCarDto.getName())</code> uses a @Query existsByName to check and return boolean."},{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1696934247,"post_id":77256992,"comment_id":136213188,"body_markdown":"why your checking with existsByName, just save directly and let DB use the unique key and throw ORA-00001: unique constraint which you can catch, if you want to have less DB call","body":"why your checking with existsByName, just save directly and let DB use the unique key and throw ORA-00001: unique constraint which you can catch, if you want to have less DB call"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1696934633,"post_id":77256992,"comment_id":136213245,"body_markdown":"Because catching exceptions with @Transactional present doesnt work for some reason. See 4th comment on this post. Cant catch until whole method has run","body":"Because catching exceptions with @Transactional present doesnt work for some reason. See 4th comment on this post. Cant catch until whole method has run"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696925424,"creation_date":1696837037,"question_id":77256992,"body_markdown":"In my Spring Boot 3 project with hibernate 6 I am trying to check the a name is not in use before updating (and saving) a entity.\r\n\r\nI want to leave the method annotated with @Transactional and I want to be able to pass a message to the UI if the update/save fails. \r\n\r\nThere is a number of existing answers, but they all have issues. Here is what I have tried:\r\n\r\n**1. Catch DataIntegtrityException**\r\n\r\nThis way throws a custom exception - the con is that it doesn&#39;t work with @Transactional\r\n\r\n\t\r\n\t\t//@Transactional - doesn&#39;t catch exception with @Transactional\r\n\t    public CarCreateDto updateCar(CarCreateDto updateCarDto, Long id) {\r\n            Car Car = CarRepository.findById(id).orElseThrow(() -&gt; new EntityNotFoundException(&quot;Car with &quot; + id + &quot; not found&quot;));\r\n            try {\r\n                CarMapper.partialUpdate(updateCarDto, Car);\r\n                CarRepository.save(Car);\r\n                return CarMapper.toDto(Car);\r\n            } catch (DataIntegrityViolationException e) {\r\n                throw new CarAlreadyExistsException(&quot;Car with name already exist&quot;);\r\n            }\r\n        }\r\n\r\n**2. Catch DataIntegtrityException with saveAndFlush**\r\n\r\nSame as above but uses `saveAndFlush` and works with @Transactional. Can&#39;t find the reference but the con is that saveAndFlush is not good to use.\r\n\r\n        @Transactional\r\n\t    public CarCreateDto updateCar(CarCreateDto updateCarDto, Long id) {\r\n            Car Car = CarRepository.findById(id).orElseThrow(() -&gt; new EntityNotFoundException(&quot;Car with &quot; + id + &quot; not found&quot;));\r\n            try {\r\n                CarMapper.partialUpdate(updateCarDto, Car);\r\n                CarRepository.save(Car);\r\n                return CarMapper.toDto(Car);\r\n            } catch (DataIntegrityViolationException e) {\r\n                throw new CarAlreadyExistsException(&quot;Car with name already exist&quot;);\r\n            }\r\n        }\r\n\r\n**3. Run a pre-save check on the database**\r\n\r\nThe con here is a extra call to the database. Also potential for concurrency issues.\r\n\r\n\t\t@Transactional\r\n\t    public CarCreateDto updateCar(CarCreateDto updateCarDto, Long id) {\r\n        Car Car = CarRepository.findById(id).orElseThrow(() -&gt; new EntityNotFoundException(&quot;Car with &quot; + id + &quot; not found&quot;));\r\n        boolean samename = updateCarDto.getName().equalsIgnoreCase(Car.getName());\r\n        if (samename || !samename &amp;&amp; !CarRepository.existsByName(updateCarDto.getName())) {\r\n            CarMapper.partialUpdate(updateCarDto, Car);\r\n            CarRepository.save(Car);\r\n            return CarMapper.toDto(Car);\r\n        } else {\r\n            throw new DatabaseUniqueConstraintException(&quot;Car with name &quot; + updateCarDto.getName() + &quot; already exists&quot;);\r\n        }\r\n    }\r\n\r\n**4. Put the catch on the controller**\r\n\r\nThis just feels wrong - not a controller responsibility to catch DB exceptions.\r\n\r\n    @PutMapping(value = &quot;/{id}&quot;, consumes = &quot;application/json&quot;)\r\n    ResponseEntity&lt;CarCreateDto&gt; updateCarDto(@Valid @RequestBody CarCreateDto updateCar, @PathVariable Long id) {\r\n        System.out.println(&quot;wait&quot;);\r\n        try {\r\n            CarCreateDto Car = CarService.updateCar(updateCar, id);\r\n            return new ResponseEntity&lt;&gt;(Car, HttpStatus.OK);\r\n        } catch (DataIntegrityViolationException e) {\r\n            throw new CarAlreadyExistsException(&quot;Car with name already exist&quot;);\r\n        }\r\n    }\r\n\r\nSo what is the correct way to handle this exception for a uniqueness check?","title":"How to catch check for Uniqueness in Spring Boot 3","body":"<p>In my Spring Boot 3 project with hibernate 6 I am trying to check the a name is not in use before updating (and saving) a entity.</p>\n<p>I want to leave the method annotated with @Transactional and I want to be able to pass a message to the UI if the update/save fails.</p>\n<p>There is a number of existing answers, but they all have issues. Here is what I have tried:</p>\n<p><strong>1. Catch DataIntegtrityException</strong></p>\n<p>This way throws a custom exception - the con is that it doesn't work with @Transactional</p>\n<pre><code>    //@Transactional - doesn't catch exception with @Transactional\n    public CarCreateDto updateCar(CarCreateDto updateCarDto, Long id) {\n        Car Car = CarRepository.findById(id).orElseThrow(() -&gt; new EntityNotFoundException(&quot;Car with &quot; + id + &quot; not found&quot;));\n        try {\n            CarMapper.partialUpdate(updateCarDto, Car);\n            CarRepository.save(Car);\n            return CarMapper.toDto(Car);\n        } catch (DataIntegrityViolationException e) {\n            throw new CarAlreadyExistsException(&quot;Car with name already exist&quot;);\n        }\n    }\n</code></pre>\n<p><strong>2. Catch DataIntegtrityException with saveAndFlush</strong></p>\n<p>Same as above but uses <code>saveAndFlush</code> and works with @Transactional. Can't find the reference but the con is that saveAndFlush is not good to use.</p>\n<pre><code>    @Transactional\n    public CarCreateDto updateCar(CarCreateDto updateCarDto, Long id) {\n        Car Car = CarRepository.findById(id).orElseThrow(() -&gt; new EntityNotFoundException(&quot;Car with &quot; + id + &quot; not found&quot;));\n        try {\n            CarMapper.partialUpdate(updateCarDto, Car);\n            CarRepository.save(Car);\n            return CarMapper.toDto(Car);\n        } catch (DataIntegrityViolationException e) {\n            throw new CarAlreadyExistsException(&quot;Car with name already exist&quot;);\n        }\n    }\n</code></pre>\n<p><strong>3. Run a pre-save check on the database</strong></p>\n<p>The con here is a extra call to the database. Also potential for concurrency issues.</p>\n<pre><code>    @Transactional\n    public CarCreateDto updateCar(CarCreateDto updateCarDto, Long id) {\n    Car Car = CarRepository.findById(id).orElseThrow(() -&gt; new EntityNotFoundException(&quot;Car with &quot; + id + &quot; not found&quot;));\n    boolean samename = updateCarDto.getName().equalsIgnoreCase(Car.getName());\n    if (samename || !samename &amp;&amp; !CarRepository.existsByName(updateCarDto.getName())) {\n        CarMapper.partialUpdate(updateCarDto, Car);\n        CarRepository.save(Car);\n        return CarMapper.toDto(Car);\n    } else {\n        throw new DatabaseUniqueConstraintException(&quot;Car with name &quot; + updateCarDto.getName() + &quot; already exists&quot;);\n    }\n}\n</code></pre>\n<p><strong>4. Put the catch on the controller</strong></p>\n<p>This just feels wrong - not a controller responsibility to catch DB exceptions.</p>\n<pre><code>@PutMapping(value = &quot;/{id}&quot;, consumes = &quot;application/json&quot;)\nResponseEntity&lt;CarCreateDto&gt; updateCarDto(@Valid @RequestBody CarCreateDto updateCar, @PathVariable Long id) {\n    System.out.println(&quot;wait&quot;);\n    try {\n        CarCreateDto Car = CarService.updateCar(updateCar, id);\n        return new ResponseEntity&lt;&gt;(Car, HttpStatus.OK);\n    } catch (DataIntegrityViolationException e) {\n        throw new CarAlreadyExistsException(&quot;Car with name already exist&quot;);\n    }\n}\n</code></pre>\n<p>So what is the correct way to handle this exception for a uniqueness check?</p>\n"},{"tags":["java","jenkins-pipeline","benchmarking","test-suite","sast"],"owner":{"account_id":5088153,"reputation":1,"user_id":4082009,"display_name":"yoga raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696925080,"creation_date":1696925080,"question_id":77263949,"body_markdown":"During my examination of the manifest.xml file in the Juliet Java Test Suite. I discovered some infractions are out of sync. I want to compare the output from the sast tool with the anticipated outcome (the Juliet manifest file).&#160;what location is the extract manifest file?","title":"Juliet test suite result validation","body":"<p>During my examination of the manifest.xml file in the Juliet Java Test Suite. I discovered some infractions are out of sync. I want to compare the output from the sast tool with the anticipated outcome (the Juliet manifest file). what location is the extract manifest file?</p>\n"},{"tags":["java","collections","java-6","deque"],"answers":[{"comments":[{"owner":{"account_id":6526295,"reputation":776,"user_id":5048942,"display_name":"Jayanth"},"score":0,"creation_date":1521778585,"post_id":49429254,"comment_id":85886320,"body_markdown":"But as Deque is extending Queue, why cant we make use of the same method which is available in Queue?","body":"But as Deque is extending Queue, why cant we make use of the same method which is available in Queue?"},{"owner":{"account_id":6526295,"reputation":776,"user_id":5048942,"display_name":"Jayanth"},"score":0,"creation_date":1521778948,"post_id":49429254,"comment_id":85886394,"body_markdown":"Moreover, offer method is calling OfferLast in turn. public boolean offer(E e) {\n        return offerLast(e);\n    }","body":"Moreover, offer method is calling OfferLast in turn. public boolean offer(E e) {         return offerLast(e);     }"},{"owner":{"account_id":13088717,"reputation":622,"user_id":9456918,"display_name":"Paul Janssens"},"score":0,"creation_date":1521792883,"post_id":49429254,"comment_id":85891649,"body_markdown":"It&#39;s an interface design issue, nothing more. The designer preferred having offerFirst() and offerLast() for clarity reasons instead of having offerFirst() and offer().","body":"It&#39;s an interface design issue, nothing more. The designer preferred having offerFirst() and offerLast() for clarity reasons instead of having offerFirst() and offer()."},{"owner":{"account_id":6526295,"reputation":776,"user_id":5048942,"display_name":"Jayanth"},"score":0,"creation_date":1521795260,"post_id":49429254,"comment_id":85892898,"body_markdown":"but my question is , there is a method called Offerlast() and Offer(). Why do we need both?","body":"but my question is , there is a method called Offerlast() and Offer(). Why do we need both?"},{"owner":{"account_id":13088717,"reputation":622,"user_id":9456918,"display_name":"Paul Janssens"},"score":0,"creation_date":1521805933,"post_id":49429254,"comment_id":85899872,"body_markdown":"You don&#39;t NEED them both, but the designer of the Deque class found it better to add an offerLast() method so programmers could write easier to read code.","body":"You don&#39;t NEED them both, but the designer of the Deque class found it better to add an offerLast() method so programmers could write easier to read code."}],"tags":[],"owner":{"account_id":13088717,"reputation":622,"user_id":9456918,"display_name":"Paul Janssens"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521723261,"creation_date":1521723261,"answer_id":49429254,"question_id":49425410,"body_markdown":"So you can use the same object both as a queue and a deque.","title":"why do we have offer(E e) and offerLast(E e) methods in Deque, even though they solve the same purpose","body":"<p>So you can use the same object both as a queue and a deque.</p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1522002694,"creation_date":1522002694,"answer_id":49479404,"question_id":49425410,"body_markdown":"The Queue interface was added in Java 5. It defined the [`offer`][1] method, which adds an element at the end.\r\n\r\n(The `offer` method and the [`add`][2] method both return booleans. They differ in that `add` is permitted to reject the element and return false only if the element is already present in the collection. The `offer` method can reject the element for other reasons, such as the queue being full.)\r\n\r\nWith `Queue.offer`, there is little question about the semantics, as elements are generally added to the tail of a queue and removed from the head.\r\n\r\nThe [Deque][3] interface was added in Java 6. A deque allows elements to be added to and removed from *both* the head and tail, so `Deque` defines `offerFirst` and `offerLast` methods. A deque is also a queue, so `Deque` is a sub-interface of `Queue`. Thus it inherits the `offer` method from `Queue`. That&#39;s how `Deque` ends up with both `offer` and `offerLast`.\r\n\r\nWe probably could have gotten by without adding `offerLast`, but that would have left asymmetries in the `Deque` interface. Many operations work on both the head and the tail (add, get, offer, peek, poll, remove) so it makes sense for all of them to have -first and -last variants, even though this adds redundancy. This redundancy occurs with other `Queue` methods as well, such as `add` and `addLast`, `peek` and `peekFirst`, `poll` and `pollFirst`, and `remove` and `removeFirst`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Queue.html#offer(E)\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/util/Collection.html#add(E)\r\n  [3]: https://docs.oracle.com/javase/10/docs/api/java/util/Deque.html","title":"why do we have offer(E e) and offerLast(E e) methods in Deque, even though they solve the same purpose","body":"<p>The Queue interface was added in Java 5. It defined the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Queue.html#offer(E)\" rel=\"noreferrer\"><code>offer</code></a> method, which adds an element at the end.</p>\n\n<p>(The <code>offer</code> method and the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Collection.html#add(E)\" rel=\"noreferrer\"><code>add</code></a> method both return booleans. They differ in that <code>add</code> is permitted to reject the element and return false only if the element is already present in the collection. The <code>offer</code> method can reject the element for other reasons, such as the queue being full.)</p>\n\n<p>With <code>Queue.offer</code>, there is little question about the semantics, as elements are generally added to the tail of a queue and removed from the head.</p>\n\n<p>The <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Deque.html\" rel=\"noreferrer\">Deque</a> interface was added in Java 6. A deque allows elements to be added to and removed from <em>both</em> the head and tail, so <code>Deque</code> defines <code>offerFirst</code> and <code>offerLast</code> methods. A deque is also a queue, so <code>Deque</code> is a sub-interface of <code>Queue</code>. Thus it inherits the <code>offer</code> method from <code>Queue</code>. That's how <code>Deque</code> ends up with both <code>offer</code> and <code>offerLast</code>.</p>\n\n<p>We probably could have gotten by without adding <code>offerLast</code>, but that would have left asymmetries in the <code>Deque</code> interface. Many operations work on both the head and the tail (add, get, offer, peek, poll, remove) so it makes sense for all of them to have -first and -last variants, even though this adds redundancy. This redundancy occurs with other <code>Queue</code> methods as well, such as <code>add</code> and <code>addLast</code>, <code>peek</code> and <code>peekFirst</code>, <code>poll</code> and <code>pollFirst</code>, and <code>remove</code> and <code>removeFirst</code>.</p>\n"},{"tags":[],"owner":{"account_id":27500848,"reputation":31,"user_id":20984597,"display_name":"jhwu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696924878,"creation_date":1696924878,"answer_id":77263923,"question_id":49425410,"body_markdown":"In a Deque (Double-Ended Queue), you have two methods: Offer and OfferLast, which both add elements at the end (tail) of the Deque. The distinction between them may not be immediately obvious, but it can be meaningful in certain situations.\r\n\r\nHere&#39;s the simple difference:\r\n\r\n**Offer:** This method adds an element to the end (tail) of the Deque, but it doesn&#39;t specify the exact position within the Deque. It just says, &quot;Add this element to the end.&quot;\r\n\r\n**OfferLast:** This method explicitly adds an element to the very end (tail) of the Deque. It specifies that the element should go to the absolute end of the Deque.\r\n\r\nThe significance of this difference is that in some Deque implementations, especially those that offer various insertion points (e.g., both the head and the tail), using OfferLast can ensure that the element is placed at the very end, without ambiguity.\r\n\r\nHowever, in many common Deque implementations, Offer and OfferLast might behave the same way because they both add elements to the tail. The distinction becomes more important when you&#39;re working with more specialized Deque structures where you might have multiple insertion points or specific constraints on where elements can be added.\r\n\r\nSo, in simple terms, Offer and OfferLast are there to give you flexibility in adding elements to a Deque, and the difference matters more in specific scenarios where you want to be explicit about where the element goes. For many standard use cases, you can use either method interchangeably.","title":"why do we have offer(E e) and offerLast(E e) methods in Deque, even though they solve the same purpose","body":"<p>In a Deque (Double-Ended Queue), you have two methods: Offer and OfferLast, which both add elements at the end (tail) of the Deque. The distinction between them may not be immediately obvious, but it can be meaningful in certain situations.</p>\n<p>Here's the simple difference:</p>\n<p><strong>Offer:</strong> This method adds an element to the end (tail) of the Deque, but it doesn't specify the exact position within the Deque. It just says, &quot;Add this element to the end.&quot;</p>\n<p><strong>OfferLast:</strong> This method explicitly adds an element to the very end (tail) of the Deque. It specifies that the element should go to the absolute end of the Deque.</p>\n<p>The significance of this difference is that in some Deque implementations, especially those that offer various insertion points (e.g., both the head and the tail), using OfferLast can ensure that the element is placed at the very end, without ambiguity.</p>\n<p>However, in many common Deque implementations, Offer and OfferLast might behave the same way because they both add elements to the tail. The distinction becomes more important when you're working with more specialized Deque structures where you might have multiple insertion points or specific constraints on where elements can be added.</p>\n<p>So, in simple terms, Offer and OfferLast are there to give you flexibility in adding elements to a Deque, and the difference matters more in specific scenarios where you want to be explicit about where the element goes. For many standard use cases, you can use either method interchangeably.</p>\n"}],"owner":{"account_id":6526295,"reputation":776,"user_id":5048942,"display_name":"Jayanth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2397,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":49479404,"answer_count":3,"score":4,"last_activity_date":1696924878,"creation_date":1521712244,"question_id":49425410,"body_markdown":"I am trying to understand, why do we need `Offer` and `OfferLast` methods in `Deque`, as both these methods add the elements at the end/tail of the `Deque`. What is the significance of it?","title":"why do we have offer(E e) and offerLast(E e) methods in Deque, even though they solve the same purpose","body":"<p>I am trying to understand, why do we need <code>Offer</code> and <code>OfferLast</code> methods in <code>Deque</code>, as both these methods add the elements at the end/tail of the <code>Deque</code>. What is the significance of it?</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696925077,"post_id":77243857,"comment_id":136211504,"body_markdown":"Because it is an `EntityListener` and you aren&#39;t updating an entity but directly issueing a query. This bypasses the listeners/interceptors....","body":"Because it is an <code>EntityListener</code> and you aren&#39;t updating an entity but directly issueing a query. This bypasses the listeners/interceptors...."},{"owner":{"account_id":11330116,"reputation":11,"user_id":22691547,"display_name":"Mr_Eon"},"score":0,"creation_date":1697177280,"post_id":77243857,"comment_id":136249437,"body_markdown":"@M.Deinum Thanks, it explains the behavior. But maybe you know another way to implement the same what PostUpdateEventListener provides but for custom queries?","body":"@M.Deinum Thanks, it explains the behavior. But maybe you know another way to implement the same what PostUpdateEventListener provides but for custom queries?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697266996,"post_id":77243857,"comment_id":136260984,"body_markdown":"Database triggers, else update the entity instead of using a query.","body":"Database triggers, else update the entity instead of using a query."},{"owner":{"account_id":11330116,"reputation":11,"user_id":22691547,"display_name":"Mr_Eon"},"score":0,"creation_date":1697396760,"post_id":77243857,"comment_id":136271785,"body_markdown":"I hoped that there is another way to handle it... But thanks for your answer.","body":"I hoped that there is another way to handle it... But thanks for your answer."}],"answers":[{"comments":[{"owner":{"account_id":11330116,"reputation":11,"user_id":22691547,"display_name":"Mr_Eon"},"score":0,"creation_date":1697396860,"post_id":77260234,"comment_id":136271796,"body_markdown":"Yep, it works in this way, and I mentioned it in the question, but it is not what I&#39;m looking for. Thanks.","body":"Yep, it works in this way, and I mentioned it in the question, but it is not what I&#39;m looking for. Thanks."}],"tags":[],"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696924855,"creation_date":1696866748,"answer_id":77260234,"question_id":77243857,"body_markdown":"In order for your post update event to be triggered, your entity must be managed by the persistence context. I suspect that this is not the case in your code. Can you try to update your entity in this way :\r\n\r\n```java\r\n@Service\r\npublic class AccountService {\r\n\r\n    @Autowired\r\n    private AccountRepository accountRepository;\r\n\r\n    @Transactional\r\n    public void updateBalance(Long id, BigDecimal balance) {\r\n        Account account = accountRepository.findById(id)\r\n                .orElseThrow(() -&gt; new NoSuchElementException(String.format(&quot;No account with id %d&quot;, id)));\r\n        account.setBalance(balance);\r\n    }\r\n}\r\n```\r\n","title":"Why does PostUpdateEventListener do not work for @Query?","body":"<p>In order for your post update event to be triggered, your entity must be managed by the persistence context. I suspect that this is not the case in your code. Can you try to update your entity in this way :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class AccountService {\n\n    @Autowired\n    private AccountRepository accountRepository;\n\n    @Transactional\n    public void updateBalance(Long id, BigDecimal balance) {\n        Account account = accountRepository.findById(id)\n                .orElseThrow(() -&gt; new NoSuchElementException(String.format(&quot;No account with id %d&quot;, id)));\n        account.setBalance(balance);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11330116,"reputation":11,"user_id":22691547,"display_name":"Mr_Eon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696924855,"creation_date":1696589457,"question_id":77243857,"body_markdown":"I need to listen any update of my hibernate entity. I use PostUpdateEventListener to listen updates, and it works fine for all updates when I use standart JpaRepository methods (fetch my entity from DB, update fields and save). But it do  not work when I&#39;m updating record in DB using @Query annotation. \r\n\r\nExample:\r\n\r\nEntity:\r\n```\r\n@Entity(name = &quot;account&quot;)\r\n@Table(name = &quot;account&quot;)\r\npublic class Account {\r\n\r\n  @Id\r\n  @Column(name = &quot;id&quot;, updatable = false)\r\n  Long id;\r\n\r\n  @Column(name = &quot;description&quot;)\r\n  String description;\r\n\r\n  @Column(name = &quot;balance&quot;)\r\n  BigDecimal balance;\r\n}\r\n```\r\n\r\nRepository:\r\n```\r\npublic interface AccountRepository extends EntityGraphJpaRepository&lt;Account, Long&gt; {\r\n\r\n  @Modifying(clearAutomatically = true, flushAutomatically = true)\r\n  @Query(&quot;update account a set &quot;\r\n      + &quot;a.balance = a.balance + :amount &quot;\r\n      + &quot;where a.id = :id&quot;)\r\n  int updateBalance(Long id, BigDecimal amount);\r\n}\r\n```\r\n\r\nListener:\r\n```\r\n@Slf4j\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class AccountUpdateListener implements PostUpdateEventListener {\r\n\r\n  @Override\r\n  @Transactional(isolation = Isolation.REPEATABLE_READ, propagation = Propagation.REQUIRES_NEW)\r\n  public void onPostUpdate(PostUpdateEvent event) {\r\n    if (event.getEntity() instanceof Account account\r\n        &amp;&amp; event.getPersister().getEntityName().equals(Account.class.getName())) {\r\n      //required action\r\n      //reached when repository.save(account)\r\n      //not reached when updateBalance(...) called\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public boolean requiresPostCommitHanding(EntityPersister persister) {\r\n    return false;\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\nCan some one explain why PostUpdateEventListener do not listen such updates and suggest some solution to listen all updates of my entity?","title":"Why does PostUpdateEventListener do not work for @Query?","body":"<p>I need to listen any update of my hibernate entity. I use PostUpdateEventListener to listen updates, and it works fine for all updates when I use standart JpaRepository methods (fetch my entity from DB, update fields and save). But it do  not work when I'm updating record in DB using @Query annotation.</p>\n<p>Example:</p>\n<p>Entity:</p>\n<pre><code>@Entity(name = &quot;account&quot;)\n@Table(name = &quot;account&quot;)\npublic class Account {\n\n  @Id\n  @Column(name = &quot;id&quot;, updatable = false)\n  Long id;\n\n  @Column(name = &quot;description&quot;)\n  String description;\n\n  @Column(name = &quot;balance&quot;)\n  BigDecimal balance;\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>public interface AccountRepository extends EntityGraphJpaRepository&lt;Account, Long&gt; {\n\n  @Modifying(clearAutomatically = true, flushAutomatically = true)\n  @Query(&quot;update account a set &quot;\n      + &quot;a.balance = a.balance + :amount &quot;\n      + &quot;where a.id = :id&quot;)\n  int updateBalance(Long id, BigDecimal amount);\n}\n</code></pre>\n<p>Listener:</p>\n<pre><code>@Slf4j\n@Component\n@RequiredArgsConstructor\npublic class AccountUpdateListener implements PostUpdateEventListener {\n\n  @Override\n  @Transactional(isolation = Isolation.REPEATABLE_READ, propagation = Propagation.REQUIRES_NEW)\n  public void onPostUpdate(PostUpdateEvent event) {\n    if (event.getEntity() instanceof Account account\n        &amp;&amp; event.getPersister().getEntityName().equals(Account.class.getName())) {\n      //required action\n      //reached when repository.save(account)\n      //not reached when updateBalance(...) called\n    }\n  }\n\n  @Override\n  public boolean requiresPostCommitHanding(EntityPersister persister) {\n    return false;\n  }\n}\n</code></pre>\n<p>Can some one explain why PostUpdateEventListener do not listen such updates and suggest some solution to listen all updates of my entity?</p>\n"},{"tags":["java","android","kotlin","base64","oom"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":4,"creation_date":1696922617,"post_id":77263652,"comment_id":136211105,"body_markdown":"How to avoid OOM... Don&#39;t load the whole file into memory? You can process a file by smaller blocks.","body":"How to avoid OOM... Don&#39;t load the whole file into memory? You can process a file by smaller blocks."},{"owner":{"account_id":11808205,"reputation":33,"user_id":8640217,"display_name":"Silence"},"score":0,"creation_date":1696926808,"post_id":77263652,"comment_id":136211820,"body_markdown":"It’s the first time to encountered this issue , we use  the OkHttp by application/Json header tried many ways but still can&#39;t solve it.","body":"It’s the first time to encountered this issue , we use  the OkHttp by application/Json header tried many ways but still can&#39;t solve it."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1696931746,"post_id":77263652,"comment_id":136212648,"body_markdown":"Please post your code for building the HTTP request. BTW: Starting your display user name with a special character makes it difficult to use it in an `@` reply. I would recommend to let it start with ascii characters and move the special characters to the end.","body":"Please post your code for building the HTTP request. BTW: Starting your display user name with a special character makes it difficult to use it in an <code>@</code> reply. I would recommend to let it start with ascii characters and move the special characters to the end."}],"answers":[{"comments":[{"owner":{"account_id":11808205,"reputation":33,"user_id":8640217,"display_name":"Silence"},"score":0,"creation_date":1696926956,"post_id":77263898,"comment_id":136211844,"body_markdown":"Maybe I&#39;m using it wrong，Using `Base64OutputStream` and still getting OOM \n by OkHttp application/json","body":"Maybe I&#39;m using it wrong，Using <code>Base64OutputStream</code> and still getting OOM   by OkHttp application/json"},{"owner":{"account_id":3455761,"reputation":3269,"user_id":2894324,"display_name":"sdex"},"score":0,"creation_date":1696938306,"post_id":77263898,"comment_id":136213934,"body_markdown":"Maybe. You might have noticed that you haven&#39;t posted any code.","body":"Maybe. You might have noticed that you haven&#39;t posted any code."}],"tags":[],"owner":{"account_id":3455761,"reputation":3269,"user_id":2894324,"display_name":"sdex"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696924704,"creation_date":1696924704,"answer_id":77263898,"question_id":77263652,"body_markdown":"Wrap your OutputStream with `Base64OutputStream`:\r\n\r\nhttps://developer.android.com/reference/android/util/Base64OutputStream","title":"Encoding large video file(200MB+) to base64 in Android","body":"<p>Wrap your OutputStream with <code>Base64OutputStream</code>:</p>\n<p><a href=\"https://developer.android.com/reference/android/util/Base64OutputStream\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/util/Base64OutputStream</a></p>\n"}],"owner":{"account_id":11808205,"reputation":33,"user_id":8640217,"display_name":"Silence"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696924704,"creation_date":1696922458,"question_id":77263652,"body_markdown":"Recently, I encountered a confusion which is encoding large video file to base64 in Android.Until I write down the question,haven&#39;t solved it yet.\r\nWhat am I do this because the server requires the client to upload files in this way,\r\nI sought help from `ChatGPT`,But it still cannot solve various problems that arise during the coding process, including OOM(Out of memory Exception..).\r\nWhat I should do? thanks.\r\n\r\nHow to resolve and avoid the OOM Exception.","title":"Encoding large video file(200MB+) to base64 in Android","body":"<p>Recently, I encountered a confusion which is encoding large video file to base64 in Android.Until I write down the question,haven't solved it yet.\nWhat am I do this because the server requires the client to upload files in this way,\nI sought help from <code>ChatGPT</code>,But it still cannot solve various problems that arise during the coding process, including OOM(Out of memory Exception..).\nWhat I should do? thanks.</p>\n<p>How to resolve and avoid the OOM Exception.</p>\n"},{"tags":["java","maven-2","jaxb","maven","maven-plugin"],"answers":[{"comments":[{"owner":{"account_id":110488,"reputation":3731,"user_id":292352,"accept_rate":75,"display_name":"cuh"},"score":0,"creation_date":1268404163,"post_id":2432877,"comment_id":2417687,"body_markdown":"Yeah, and if it would be possible to dowload the **org.jvnet.jaxb2.maven2 plugin** i would compare them. Since the repo of java doesn&#39;t provide the plugin it&#39;s out of the game, although the configuration-syntax seemed a little more convenient.","body":"Yeah, and if it would be possible to dowload the <b>org.jvnet.jaxb2.maven2 plugin</b> i would compare them. Since the repo of java doesn&#39;t provide the plugin it&#39;s out of the game, although the configuration-syntax seemed a little more convenient."}],"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1268399391,"creation_date":1268399391,"answer_id":2432877,"question_id":2432859,"body_markdown":"I would guess that one is for the original JAXB specification and the codehaus one is for the JAXB 2.1 specification (and if the dev.java.net would load some time this century, I&#39;d be able to say for sure).","title":"Difference of Maven JAXB plugins","body":"<p>I would guess that one is for the original JAXB specification and the codehaus one is for the JAXB 2.1 specification (and if the dev.java.net would load some time this century, I'd be able to say for sure).</p>\n"},{"comments":[{"owner":{"account_id":110488,"reputation":3731,"user_id":292352,"accept_rate":75,"display_name":"cuh"},"score":1,"creation_date":1268756087,"post_id":2434603,"comment_id":2444182,"body_markdown":"Thx for the config. In the end i use the codehouse plugin, which gives me the same capabilities for my needs. Only the syntax differs as far as i have seen.","body":"Thx for the config. In the end i use the codehouse plugin, which gives me the same capabilities for my needs. Only the syntax differs as far as i have seen."},{"owner":{"account_id":39456,"reputation":908,"user_id":113800,"accept_rate":50,"display_name":"rcl"},"score":0,"creation_date":1279567121,"post_id":2434603,"comment_id":3399719,"body_markdown":"What about http://ws.apache.org/jaxme/mp/ which is mentioned directly on Maven&#39;s site?","body":"What about <a href=\"http://ws.apache.org/jaxme/mp/\" rel=\"nofollow noreferrer\">ws.apache.org/jaxme/mp</a> which is mentioned directly on Maven&#39;s site?"},{"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"score":1,"creation_date":1279567755,"post_id":2434603,"comment_id":3399822,"body_markdown":"@rcl: Can&#39;t say much about it but since it hasn&#39;t been updated for more than 4 years, I&#39;m not sure I would use it. I&#39;m just happy with the [maven-jaxb2-plugin](https://maven-jaxb2-plugin.dev.java.net/).","body":"@rcl: Can&#39;t say much about it but since it hasn&#39;t been updated for more than 4 years, I&#39;m not sure I would use it. I&#39;m just happy with the <a href=\"https://maven-jaxb2-plugin.dev.java.net/\" rel=\"nofollow noreferrer\">maven-jaxb2-plugin</a>."},{"owner":{"account_id":33655,"reputation":26403,"user_id":94363,"accept_rate":74,"display_name":"rds"},"score":1,"creation_date":1350313054,"post_id":2434603,"comment_id":17469685,"body_markdown":"As for #1, the site hosting the documentation seems to be down today. http://confluence.highsource.org/display/MJIIP/User+Guide Is this project this active?","body":"As for #1, the site hosting the documentation seems to be down today. <a href=\"http://confluence.highsource.org/display/MJIIP/User+Guide\" rel=\"nofollow noreferrer\">confluence.highsource.org/display/MJIIP/User+Guide</a> Is this project this active?"},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1385113186,"post_id":2434603,"comment_id":30018346,"body_markdown":"Just found this terrific answer. The first plugin seems to be the most completely. The rest isn&#39;t worth mentioning anymore.","body":"Just found this terrific answer. The first plugin seems to be the most completely. The rest isn&#39;t worth mentioning anymore."},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":2,"creation_date":1415026971,"post_id":2434603,"comment_id":42023815,"body_markdown":"@Gregor `maven-jaxb2-plugin` is now hosted on [GitHub](https://github.com/highsource/maven-jaxb2-plugin). The documentation is in the [wiki](https://github.com/highsource/maven-jaxb2-plugin/wiki).","body":"@Gregor <code>maven-jaxb2-plugin</code> is now hosted on <a href=\"https://github.com/highsource/maven-jaxb2-plugin\" rel=\"nofollow noreferrer\">GitHub</a>. The documentation is in the <a href=\"https://github.com/highsource/maven-jaxb2-plugin/wiki\" rel=\"nofollow noreferrer\">wiki</a>."},{"owner":{"account_id":1962480,"reputation":15483,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"score":0,"creation_date":1683040441,"post_id":2434603,"comment_id":134303878,"body_markdown":"`maven-jaxb2-plugin` is not compatible with java 11, while `jaxb2-maven-plugin` yes.","body":"<code>maven-jaxb2-plugin</code> is not compatible with java 11, while <code>jaxb2-maven-plugin</code> yes."},{"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"score":0,"creation_date":1690641660,"post_id":2434603,"comment_id":135383525,"body_markdown":"The [HiSrc HigherJAXB](https://github.com/patrodyne/hisrc-higherjaxb#readme) project is a fork of `maven-jaxb2-plugin`. Its source/target (release) compatibility is at Java 11 and JDK 17 is used for the build. JAXB dependencies are at version 4.x for [Jakarta EE 10](https://jakarta.ee/specifications/xml-binding).","body":"The <a href=\"https://github.com/patrodyne/hisrc-higherjaxb#readme\" rel=\"nofollow noreferrer\">HiSrc HigherJAXB</a> project is a fork of <code>maven-jaxb2-plugin</code>. Its source/target (release) compatibility is at Java 11 and JDK 17 is used for the build. JAXB dependencies are at version 4.x for <a href=\"https://jakarta.ee/specifications/xml-binding\" rel=\"nofollow noreferrer\">Jakarta EE 10</a>."}],"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":8,"down_vote_count":0,"up_vote_count":112,"is_accepted":true,"score":112,"last_activity_date":1696924598,"creation_date":1268415317,"answer_id":2434603,"question_id":2432859,"body_markdown":"Let&#39;s summarize. We have/had:\r\n\r\n1. the [jaxb-maven-plugin][1] (https://github.com/highsource/jaxb-tools), formerly called &#39;maven-jaxb2-plugin&#39;.\r\n2. &lt;s&gt;the [maven-jaxb-plugin][2] (&lt;https://jaxb.dev.java.net/jaxb-maven2-plugin/&gt;)&lt;/s&gt;\r\n3. the [jaxb2-maven-plugin][3] (&lt;https://github.com/mojohaus/jaxb2-maven-plugin&gt;)\r\n\r\nBased on the comments of [this thread][4], I&#39;ve always used the [maven-jaxb2-plugin][1] (i.e. plugin #1):\r\n\r\n&gt; Concerning the\r\n&gt; org.jvnet.jaxb2.maven2:maven-jaxb2-plugin\r\n&gt; versus\r\n&gt; com.sun.tools.xjc.maven2:maven-jaxb-plugin,\r\n&gt; from my point of view it&#39;s definitely\r\n&gt; the first one\r\n&gt; (&lt;http://maven-jaxb2-plugin.java.net/&gt;).\r\n&gt;\r\n&gt; This plugin has much more features\r\n&gt; than\r\n&gt; com.sun.tools.xjc.maven2:maven-jaxb-plugin,\r\n&gt; the development is active. Finally,\r\n&gt; I&#39;m one of the authors :) and I&#39;d say\r\n&gt; we keep in touch with JAXB developers\r\n&gt; and users and react to the latests\r\n&gt; features/requests.\r\n\r\nAnd indeed, plugin #2 is dead. And because I&#39;ve always been happy with #1, I&#39;ve never used plugin #3 so can&#39;t really say anything about it. Just in case, here is a working configuration for the old plugin #1:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;project&gt;\r\n      ...\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;inherited&gt;true&lt;/inherited&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;1.5&lt;/source&gt;\r\n              &lt;target&gt;1.5&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;generate&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n        \r\n  [1]: https://github.com/highsource/jaxb-tools\r\n  [2]: https://jaxb.dev.java.net/jaxb-maven2-plugin/\r\n  [3]: https://github.com/mojohaus/jaxb2-maven-plugin\r\n  [4]: https://web.archive.org/web/20121123063021/http://old.nabble.com/Maven-Plugins---Which-is-best--td18348958.html\r\n  [6]: https://jaxb.dev.java.net/jaxb-maven2-plugin/","title":"Difference of Maven JAXB plugins","body":"<p>Let's summarize. We have/had:</p>\n<ol>\n<li>the <a href=\"https://github.com/highsource/jaxb-tools\" rel=\"nofollow noreferrer\">jaxb-maven-plugin</a> (<a href=\"https://github.com/highsource/jaxb-tools\" rel=\"nofollow noreferrer\">https://github.com/highsource/jaxb-tools</a>), formerly called 'maven-jaxb2-plugin'.</li>\n<li><s>the <a href=\"https://jaxb.dev.java.net/jaxb-maven2-plugin/\" rel=\"nofollow noreferrer\">maven-jaxb-plugin</a> (<a href=\"https://jaxb.dev.java.net/jaxb-maven2-plugin/\" rel=\"nofollow noreferrer\">https://jaxb.dev.java.net/jaxb-maven2-plugin/</a>)</s></li>\n<li>the <a href=\"https://github.com/mojohaus/jaxb2-maven-plugin\" rel=\"nofollow noreferrer\">jaxb2-maven-plugin</a> (<a href=\"https://github.com/mojohaus/jaxb2-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/mojohaus/jaxb2-maven-plugin</a>)</li>\n</ol>\n<p>Based on the comments of <a href=\"https://web.archive.org/web/20121123063021/http://old.nabble.com/Maven-Plugins---Which-is-best--td18348958.html\" rel=\"nofollow noreferrer\">this thread</a>, I've always used the <a href=\"https://github.com/highsource/jaxb-tools\" rel=\"nofollow noreferrer\">maven-jaxb2-plugin</a> (i.e. plugin #1):</p>\n<blockquote>\n<p>Concerning the\norg.jvnet.jaxb2.maven2:maven-jaxb2-plugin\nversus\ncom.sun.tools.xjc.maven2:maven-jaxb-plugin,\nfrom my point of view it's definitely\nthe first one\n(<a href=\"http://maven-jaxb2-plugin.java.net/\" rel=\"nofollow noreferrer\">http://maven-jaxb2-plugin.java.net/</a>).</p>\n<p>This plugin has much more features\nthan\ncom.sun.tools.xjc.maven2:maven-jaxb-plugin,\nthe development is active. Finally,\nI'm one of the authors :) and I'd say\nwe keep in touch with JAXB developers\nand users and react to the latests\nfeatures/requests.</p>\n</blockquote>\n<p>And indeed, plugin #2 is dead. And because I've always been happy with #1, I've never used plugin #3 so can't really say anything about it. Just in case, here is a working configuration for the old plugin #1:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n  ...\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;inherited&gt;true&lt;/inherited&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.5&lt;/source&gt;\n          &lt;target&gt;1.5&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n\n\n\n    \n</code></pre>\n"},{"comments":[{"owner":{"account_id":387340,"reputation":2441,"user_id":745640,"display_name":"J&#246;rg"},"score":0,"creation_date":1369108054,"post_id":2535051,"comment_id":23970467,"body_markdown":"Is it possible to generate schemas from classes using the maven-jaxb2-plugin? Or does the plugin only support xsd-&gt;Java?","body":"Is it possible to generate schemas from classes using the maven-jaxb2-plugin? Or does the plugin only support xsd-&gt;Java?"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1369203945,"post_id":2535051,"comment_id":24010787,"body_markdown":"Currently it&#39;s xsd-&gt;java only.","body":"Currently it&#39;s xsd-&gt;java only."},{"owner":{"account_id":152633,"reputation":48313,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"score":0,"creation_date":1395307127,"post_id":2535051,"comment_id":34281297,"body_markdown":"Does the name &#39;maven-jaxb2-plugin&#39; not violate the [Maven plugin naming conventions](https://maven.apache.org/guides/plugin/guide-java-plugin-development.html#Plugin_Naming_Convention_and_Apache_Maven_Trademark) or is it an official maven plugin? I don&#39;t mind the name but as it never was updated I thought the plugin would not be maintained anymore.","body":"Does the name &#39;maven-jaxb2-plugin&#39; not violate the <a href=\"https://maven.apache.org/guides/plugin/guide-java-plugin-development.html#Plugin_Naming_Convention_and_Apache_Maven_Trademark\" rel=\"nofollow noreferrer\">Maven plugin naming conventions</a> or is it an official maven plugin? I don&#39;t mind the name but as it never was updated I thought the plugin would not be maintained anymore."},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1395310138,"post_id":2535051,"comment_id":34283451,"body_markdown":"The plugin is quite old, it was incepted before this became an established convention. And jaxb2-maven-plugin was already taken back then. I think it is important to avoid name collision here. However nowadays plugin build even enforce these naming conventions so probably I&#39;ll have to migrate anyway.","body":"The plugin is quite old, it was incepted before this became an established convention. And jaxb2-maven-plugin was already taken back then. I think it is important to avoid name collision here. However nowadays plugin build even enforce these naming conventions so probably I&#39;ll have to migrate anyway."},{"owner":{"account_id":152633,"reputation":48313,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"score":0,"creation_date":1395321467,"post_id":2535051,"comment_id":34291860,"body_markdown":"Ah, I see. But `org.jvnet.jaxb2.maven2:jaxb2-maven-plugin` seems to be still available ;-) If you put still effort in the plugin it would be nice if it get a standard maven plugin documentation page. Or do you plan to drop support? Would be too bad because it works great. Thanks!","body":"Ah, I see. But <code>org.jvnet.jaxb2.maven2:jaxb2-maven-plugin</code> seems to be still available ;-) If you put still effort in the plugin it would be nice if it get a standard maven plugin documentation page. Or do you plan to drop support? Would be too bad because it works great. Thanks!"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1395328597,"post_id":2535051,"comment_id":34297524,"body_markdown":"Well, yes, fully qualified name is available but people will always mistaken one plugin for another.\nYes, I still support the project.","body":"Well, yes, fully qualified name is available but people will always mistaken one plugin for another. Yes, I still support the project."},{"owner":{"account_id":217966,"reputation":12439,"user_id":474034,"accept_rate":67,"display_name":"lanoxx"},"score":0,"creation_date":1406214317,"post_id":2535051,"comment_id":38752521,"body_markdown":"Is it possible in this plugin to specify NTLM credentials for schema urls?","body":"Is it possible in this plugin to specify NTLM credentials for schema urls?"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":3,"creation_date":1406216642,"post_id":2535051,"comment_id":38754245,"body_markdown":"@lanoxx No, it is not. It is generally not recommended to compile schemas from URLs. Make local copies of schemas and use catalog files to rewrite links.","body":"@lanoxx No, it is not. It is generally not recommended to compile schemas from URLs. Make local copies of schemas and use catalog files to rewrite links."},{"owner":{"account_id":294314,"reputation":4599,"user_id":598141,"accept_rate":44,"display_name":"Ian W"},"score":0,"creation_date":1594462959,"post_id":2535051,"comment_id":111138761,"body_markdown":"Pretty sure highsource[dot]org is no longer a legitimate site S/O users would want to visit.. May wish to revise the question/post/comments that reference it.","body":"Pretty sure highsource[dot]org is no longer a legitimate site S/O users would want to visit.. May wish to revise the question/post/comments that reference it."},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":2,"creation_date":1594540426,"post_id":2535051,"comment_id":111157088,"body_markdown":"Actual site: https://github.com/highsource/maven-jaxb2-plugin","body":"Actual site: <a href=\"https://github.com/highsource/maven-jaxb2-plugin\" rel=\"nofollow noreferrer\">github.com/highsource/maven-jaxb2-plugin</a>"},{"owner":{"account_id":4173994,"reputation":708,"user_id":3421066,"accept_rate":25,"display_name":"alext"},"score":0,"creation_date":1674811652,"post_id":2535051,"comment_id":132796946,"body_markdown":"I know i am probably late into the game - but i am seeing behavior which i can&#39;t explain for the plugin - it seems that the plugin is not generating classes for non complex types. I am trying to use the plugin along with Spring Boot. Any help on that one?","body":"I know i am probably late into the game - but i am seeing behavior which i can&#39;t explain for the plugin - it seems that the plugin is not generating classes for non complex types. I am trying to use the plugin along with Spring Boot. Any help on that one?"}],"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"comment_count":11,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1619098268,"creation_date":1269819577,"answer_id":2535051,"question_id":2432859,"body_markdown":"I am the author of [maven-jaxb2-plugin][1].\r\n\r\nThe maven-jaxb2-plugin currently uses JAXB 2.1. In the next versions we&#39;ll also provide JAXB 2.0 and JAXB 2.2 versions.\r\n\r\nAs for &quot;which plugin is better&quot; discussion, [check the features][2], decide yourself. Let me know if you miss some functionality.\r\n\r\n\r\n  [1]: http://java.net/projects/maven-jaxb2-plugin/pages/Home\r\n  [2]: https://github.com/highsource/maven-jaxb2-plugin/wiki","title":"Difference of Maven JAXB plugins","body":"<p>I am the author of <a href=\"http://java.net/projects/maven-jaxb2-plugin/pages/Home\" rel=\"nofollow noreferrer\">maven-jaxb2-plugin</a>.</p>\n<p>The maven-jaxb2-plugin currently uses JAXB 2.1. In the next versions we'll also provide JAXB 2.0 and JAXB 2.2 versions.</p>\n<p>As for &quot;which plugin is better&quot; discussion, <a href=\"https://github.com/highsource/maven-jaxb2-plugin/wiki\" rel=\"nofollow noreferrer\">check the features</a>, decide yourself. Let me know if you miss some functionality.</p>\n"},{"tags":[],"owner":{"account_id":350198,"reputation":15550,"user_id":685923,"accept_rate":70,"display_name":"Ed Staub"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1311163971,"creation_date":1311163971,"answer_id":6761684,"question_id":2432859,"body_markdown":"On a slight tangent: there was a problem with use of maven-jaxb2-plugin with Eclipse Indigo that I posted [here][1].  A fix (extension) has recently become available.\r\n\r\nThis is not meant to disagree, at all, with the recommendation of maven-jaxb2-plugin over maven2-jaxb-plugin.  I don&#39;t know, but I expect that maven2-jaxb-plugin has the same problem, probably unresolved.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6468204/how-does-one-get-jaxb-generated-sources-onto-the-eclipse-build-path-under-m2e-ind","title":"Difference of Maven JAXB plugins","body":"<p>On a slight tangent: there was a problem with use of maven-jaxb2-plugin with Eclipse Indigo that I posted <a href=\"https://stackoverflow.com/questions/6468204/how-does-one-get-jaxb-generated-sources-onto-the-eclipse-build-path-under-m2e-ind\">here</a>.  A fix (extension) has recently become available.</p>\n\n<p>This is not meant to disagree, at all, with the recommendation of maven-jaxb2-plugin over maven2-jaxb-plugin.  I don't know, but I expect that maven2-jaxb-plugin has the same problem, probably unresolved.</p>\n"},{"comments":[{"owner":{"account_id":118399,"reputation":2148,"user_id":309399,"accept_rate":89,"display_name":"SGB"},"score":1,"creation_date":1367878173,"post_id":9199036,"comment_id":23524030,"body_markdown":"Excellent suggestion. I just tried this and it worked like a charm- thank you.","body":"Excellent suggestion. I just tried this and it worked like a charm- thank you."},{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":0,"creation_date":1368543299,"post_id":9199036,"comment_id":23766921,"body_markdown":"Does anyone know if there is an Eclipse m2e connector for this?  I did some googling and didn&#39;t find one.  Hoping I just missed it because I like this option.","body":"Does anyone know if there is an Eclipse m2e connector for this?  I did some googling and didn&#39;t find one.  Hoping I just missed it because I like this option."},{"owner":{"account_id":431581,"reputation":2336,"user_id":815741,"accept_rate":38,"display_name":"Vytenis Bivainis"},"score":0,"creation_date":1492207859,"post_id":9199036,"comment_id":73898841,"body_markdown":"cxf-xjc-plugin has Eclipse connector as of 2017. But I do not see the problem of generating the code manually running maven and adding the source directory. In fact, my experience is that projects with generated classes (JAXB, XMLBeans) are better left closed and depended on in a binary form (jar). Then IDE works faster and there are no classpath issues (especially with XMLBeans).","body":"cxf-xjc-plugin has Eclipse connector as of 2017. But I do not see the problem of generating the code manually running maven and adding the source directory. In fact, my experience is that projects with generated classes (JAXB, XMLBeans) are better left closed and depended on in a binary form (jar). Then IDE works faster and there are no classpath issues (especially with XMLBeans)."},{"owner":{"account_id":913676,"reputation":474,"user_id":946973,"accept_rate":27,"display_name":"alebu"},"score":0,"creation_date":1577954785,"post_id":9199036,"comment_id":105288818,"body_markdown":"Looks like CXF XJC Maven Plugin only supports generating Java sources from schema, and is not capable to generate schema from Jaxb annotations.","body":"Looks like CXF XJC Maven Plugin only supports generating Java sources from schema, and is not capable to generate schema from Jaxb annotations."}],"tags":[],"owner":{"account_id":32264,"reputation":7769,"user_id":89339,"accept_rate":100,"display_name":"bn."},"comment_count":4,"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1348666267,"creation_date":1328724697,"answer_id":9199036,"question_id":2432859,"body_markdown":"\r\nI have recently tried the three plug-ins mentioned above (included here as well):\r\n\r\n1. the maven-jaxb2-plugin ([http://maven-jaxb2-plugin.java.net/][2])\r\n2. the maven-jaxb-plugin ([https://jaxb.dev.java.net/jaxb-maven2-plugin/)][3]\r\n3. the jaxb2-maven-plugin ([http://mojo.codehaus.org/jaxb2-maven-plugin/][4])\r\n\r\nI ended up using a fourth option: **The CXF XJC Maven Plugin** [http://cxf.apache.org/cxf-xjc-plugin.html][1]\r\n\r\nIf I am missing something I would like to know, but the configuration seemed more straightforward for what I was trying to do and more easily allowed me to to deal with duplicate class generation within the same namespace -- similar to this question: https://stackoverflow.com/questions/6681265.\r\n\r\nI now have granular control over each incoming XSD and corresponding java package; here is a sample configuration close to the one I am using.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n     &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;extensions&gt;\r\n    \t\t\t&lt;extension&gt;org.apache.cxf.xjcplugins:cxf-xjc-dv:2.3.0&lt;/extension&gt;\r\n    \t\t&lt;/extensions&gt;\r\n    \t&lt;/configuration&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;generate-sources&lt;/id&gt;\r\n    \t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;xsdtojava&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;sourceRoot&gt;${basedir}/target/generated-sources/src/main/java&lt;/sourceRoot&gt;\r\n    \t\t\t\t&lt;xsdOptions&gt;\r\n    \t\t\t\t\t&lt;xsdOption&gt;\r\n    \t\t\t\t\t\t&lt;xsd&gt;src/main/resources/schema/commands.xsd&lt;/xsd&gt; &lt;!--shares a common.xsd file causing the conflicts--&gt;\r\n    \t\t\t\t\t\t&lt;packagename&gt;com.foo.bar.commands&lt;/packagename&gt;\r\n    \t\t\t\t\t&lt;/xsdOption&gt;\r\n    \t\t\t\t\t&lt;xsdOption&gt;\r\n    \t\t\t\t\t\t&lt;xsd&gt;src/main/resources/schema/responses.xsd&lt;/xsd&gt;\r\n    \t\t\t\t\t\t&lt;packagename&gt;com.foo.bar.responses&lt;/packagename&gt;\r\n    \t\t\t\t\t&lt;/xsdOption&gt;\r\n    \t\t\t\t&lt;/xsdOptions&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n\r\n\r\n  [1]: http://cxf.apache.org/cxf-xjc-plugin.html\r\n  [2]: http://maven-jaxb2-plugin.java.net/\r\n  [3]: https://jaxb.dev.java.net/jaxb-maven2-plugin/\r\n  [4]: http://mojo.codehaus.org/jaxb2-maven-plugin/","title":"Difference of Maven JAXB plugins","body":"<p>I have recently tried the three plug-ins mentioned above (included here as well):</p>\n\n<ol>\n<li>the maven-jaxb2-plugin (<a href=\"http://maven-jaxb2-plugin.java.net/\" rel=\"noreferrer\">http://maven-jaxb2-plugin.java.net/</a>)</li>\n<li>the maven-jaxb-plugin (<a href=\"https://jaxb.dev.java.net/jaxb-maven2-plugin/\" rel=\"noreferrer\">https://jaxb.dev.java.net/jaxb-maven2-plugin/)</a></li>\n<li>the jaxb2-maven-plugin (<a href=\"http://mojo.codehaus.org/jaxb2-maven-plugin/\" rel=\"noreferrer\">http://mojo.codehaus.org/jaxb2-maven-plugin/</a>)</li>\n</ol>\n\n<p>I ended up using a fourth option: <strong>The CXF XJC Maven Plugin</strong> <a href=\"http://cxf.apache.org/cxf-xjc-plugin.html\" rel=\"noreferrer\">http://cxf.apache.org/cxf-xjc-plugin.html</a></p>\n\n<p>If I am missing something I would like to know, but the configuration seemed more straightforward for what I was trying to do and more easily allowed me to to deal with duplicate class generation within the same namespace -- similar to this question: <a href=\"https://stackoverflow.com/questions/6681265\">Is there a way to deal with duplicate element definitions across multiple .xsd files in JAXB?</a>.</p>\n\n<p>I now have granular control over each incoming XSD and corresponding java package; here is a sample configuration close to the one I am using.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;extensions&gt;\n            &lt;extension&gt;org.apache.cxf.xjcplugins:cxf-xjc-dv:2.3.0&lt;/extension&gt;\n        &lt;/extensions&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;generate-sources&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;xsdtojava&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;sourceRoot&gt;${basedir}/target/generated-sources/src/main/java&lt;/sourceRoot&gt;\n                &lt;xsdOptions&gt;\n                    &lt;xsdOption&gt;\n                        &lt;xsd&gt;src/main/resources/schema/commands.xsd&lt;/xsd&gt; &lt;!--shares a common.xsd file causing the conflicts--&gt;\n                        &lt;packagename&gt;com.foo.bar.commands&lt;/packagename&gt;\n                    &lt;/xsdOption&gt;\n                    &lt;xsdOption&gt;\n                        &lt;xsd&gt;src/main/resources/schema/responses.xsd&lt;/xsd&gt;\n                        &lt;packagename&gt;com.foo.bar.responses&lt;/packagename&gt;\n                    &lt;/xsdOption&gt;\n                &lt;/xsdOptions&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":33655,"reputation":26403,"user_id":94363,"accept_rate":74,"display_name":"rds"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1350388756,"creation_date":1350388756,"answer_id":12914208,"question_id":2432859,"body_markdown":"* maven-jaxb2-plugin uses the JAXB reference implementation by Oracle/Sun \r\n* cxf and jaxb2-maven-plugin use Apache Xerces","title":"Difference of Maven JAXB plugins","body":"<ul>\n<li>maven-jaxb2-plugin uses the JAXB reference implementation by Oracle/Sun </li>\n<li>cxf and jaxb2-maven-plugin use Apache Xerces</li>\n</ul>\n"}],"owner":{"account_id":110488,"reputation":3731,"user_id":292352,"accept_rate":75,"display_name":"cuh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110148,"favorite_count":0,"down_vote_count":0,"up_vote_count":135,"accepted_answer_id":2434603,"answer_count":6,"score":135,"last_activity_date":1696924598,"creation_date":1268399260,"question_id":2432859,"body_markdown":"I have determined that two [JAXB][1] plugins for [Maven][2] 2 exist, with some different configurations. \r\n\r\nThe one is from Sun: http://jaxb.dev.java.net/jaxb-maven2-plugin/, the other from Mojohaus: http://mojohaus.org/jaxb2-maven-plugin/\r\n\r\nWhich of these two plugins can be recommended?\r\n\r\n------------\r\n\r\nThanks Matt. On my little research project, I found that there&#39;s quite another plugin comming from the sunners:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;groupId&gt;com.sun.tools.xjc.maven2&lt;/groupId&gt;  \r\n    &lt;artifactId&gt;maven-jaxb-plugin&lt;/artifactId&gt;  \r\n\r\nand that one:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\r\nand still the one from Codehouse.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_Architecture_for_XML_Binding\r\n  [2]: http://en.wikipedia.org/wiki/Apache_Maven","title":"Difference of Maven JAXB plugins","body":"<p>I have determined that two <a href=\"http://en.wikipedia.org/wiki/Java_Architecture_for_XML_Binding\" rel=\"noreferrer\">JAXB</a> plugins for <a href=\"http://en.wikipedia.org/wiki/Apache_Maven\" rel=\"noreferrer\">Maven</a> 2 exist, with some different configurations. </p>\n\n<p>The one is from Sun: <a href=\"http://jaxb.dev.java.net/jaxb-maven2-plugin/\" rel=\"noreferrer\">http://jaxb.dev.java.net/jaxb-maven2-plugin/</a>, the other from Mojohaus: <a href=\"http://mojohaus.org/jaxb2-maven-plugin/\" rel=\"noreferrer\">http://mojohaus.org/jaxb2-maven-plugin/</a></p>\n\n<p>Which of these two plugins can be recommended?</p>\n\n<hr>\n\n<p>Thanks Matt. On my little research project, I found that there's quite another plugin comming from the sunners:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;groupId&gt;com.sun.tools.xjc.maven2&lt;/groupId&gt;  \n&lt;artifactId&gt;maven-jaxb-plugin&lt;/artifactId&gt;  \n</code></pre>\n\n<p>and that one:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n</code></pre>\n\n<p>and still the one from Codehouse.</p>\n"},{"tags":["java","spring-boot","apache-spark","parquet","parquet-mr"],"answers":[{"comments":[{"owner":{"account_id":8283698,"reputation":700,"user_id":6227500,"display_name":"raphaelauv"},"score":0,"creation_date":1639569459,"post_id":69040427,"comment_id":124380839,"body_markdown":"my error was : \n\nCaused by: java.lang.IllegalArgumentException: newLimit &gt; capacity: (506 &gt; 326)\n\nI was using the image \n\neclipse-temurin:11-jre-alpine\n\nI switch to eclipse-temurin:11-jre-focal and now no more problems , thank you","body":"my error was :   Caused by: java.lang.IllegalArgumentException: newLimit &gt; capacity: (506 &gt; 326)  I was using the image   eclipse-temurin:11-jre-alpine  I switch to eclipse-temurin:11-jre-focal and now no more problems , thank you"},{"owner":{"account_id":201101,"reputation":21953,"user_id":447344,"accept_rate":44,"display_name":"Thomas Decaux"},"score":0,"creation_date":1656667507,"post_id":69040427,"comment_id":128633358,"body_markdown":"this is because snappy didnt find the native library on alpine based image.","body":"this is because snappy didnt find the native library on alpine based image."}],"tags":[],"owner":{"account_id":8617359,"reputation":139,"user_id":6453682,"display_name":"Sugyan sahu"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1630650521,"creation_date":1630650521,"answer_id":69040427,"question_id":68962465,"body_markdown":"I changed the base image to \r\n\r\n    FROM openjdk:8\r\n\r\nand it worked like a charm. Not sure what was wrong with the earlier base image. I think the parquet was not able to support the special unicode characters.","title":"read a parquet file using Java, but it works in local machine, and doesn&#39;t work in docker container","body":"<p>I changed the base image to</p>\n<pre><code>FROM openjdk:8\n</code></pre>\n<p>and it worked like a charm. Not sure what was wrong with the earlier base image. I think the parquet was not able to support the special unicode characters.</p>\n"},{"tags":[],"owner":{"account_id":201101,"reputation":21953,"user_id":447344,"accept_rate":44,"display_name":"Thomas Decaux"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656770742,"creation_date":1656770742,"answer_id":72839644,"question_id":68962465,"body_markdown":"**There are 2 issues here**\r\n1) snappy-java didnt find a native library, end fallback to pure java implementation\r\n2) java implementation is broken, this is fixed but not released yet\r\n\r\n**Solution: install a native library and use it**\r\n\r\nI wrote a small post about it: https://thomasdecaux.medium.com/use-snappy-compression-native-when-running-spark-on-alpine-5fee0ce28ed7:\r\n\r\n1) install ``apk add java-snappy-native``\r\n2) use it ``spark.executor.extraJavaOptions: -Dorg.xerial.snappy.use.systemlib=true -Dorg.xerial.snappy.lib.path=/usr/lib/libsnappyjava.so\r\n``\r\n\r\n\r\n","title":"read a parquet file using Java, but it works in local machine, and doesn&#39;t work in docker container","body":"<p><strong>There are 2 issues here</strong></p>\n<ol>\n<li>snappy-java didnt find a native library, end fallback to pure java implementation</li>\n<li>java implementation is broken, this is fixed but not released yet</li>\n</ol>\n<p><strong>Solution: install a native library and use it</strong></p>\n<p>I wrote a small post about it: <a href=\"https://thomasdecaux.medium.com/use-snappy-compression-native-when-running-spark-on-alpine-5fee0ce28ed7\" rel=\"nofollow noreferrer\">https://thomasdecaux.medium.com/use-snappy-compression-native-when-running-spark-on-alpine-5fee0ce28ed7</a>:</p>\n<ol>\n<li>install <code>apk add java-snappy-native</code></li>\n<li>use it <code>spark.executor.extraJavaOptions: -Dorg.xerial.snappy.use.systemlib=true -Dorg.xerial.snappy.lib.path=/usr/lib/libsnappyjava.so </code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10472614,"reputation":241,"user_id":7720057,"display_name":"Nitin Bisht"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696923990,"creation_date":1696923990,"answer_id":77263824,"question_id":68962465,"body_markdown":"For those who are using jdk 17, please use the base image as \r\n\r\n    FROM openjdk:17\r\n\r\nThe image **amazoncorretto:17.0.8-alpine1.x.y** will not work as native library is not present on alpine based image.","title":"read a parquet file using Java, but it works in local machine, and doesn&#39;t work in docker container","body":"<p>For those who are using jdk 17, please use the base image as</p>\n<pre><code>FROM openjdk:17\n</code></pre>\n<p>The image <strong>amazoncorretto:17.0.8-alpine1.x.y</strong> will not work as native library is not present on alpine based image.</p>\n"}],"owner":{"account_id":8617359,"reputation":139,"user_id":6453682,"display_name":"Sugyan sahu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4015,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1696923990,"creation_date":1630137837,"question_id":68962465,"body_markdown":"I have a requirement to read parquet files and publish to Kafka in a Java standalone application. I have the below code to read the parquet file which is generated by spark scala application.\r\n\r\n```\r\npublic void readTest(Path path) {\r\n        try {\r\n            ParquetMetadata readFooter = ParquetFileReader.readFooter(conf, path, ParquetMetadataConverter.NO_FILTER);\r\n            List&lt;BlockMetaData&gt; blocks = readFooter.getBlocks();\r\n            System.out.println(&quot;Blocks size: &quot;+blocks.size());\r\n            Map&lt;String, String&gt; keyValueMetaData = readFooter.getFileMetaData().getKeyValueMetaData();\r\n            System.out.println(&quot;K-v metadata: &quot;+keyValueMetaData);\r\n            System.out.println(&quot;Created by: &quot;+readFooter.getFileMetaData().getCreatedBy());\r\n            \r\n            MessageType schema = readFooter.getFileMetaData().getSchema();\r\n            System.out.println(&quot;Schema: &quot;+schema);\r\n            ParquetFileReader r = new ParquetFileReader(conf, path, readFooter);\r\n\r\n            PageReadStore pages = null;\r\n            try {\r\n                while (null != (pages = r.readNextRowGroup())) {\r\n                    final long rows = pages.getRowCount();\r\n                    System.out.println(&quot;Number of rows: &quot; + rows);\r\n\r\n                    final MessageColumnIO columnIO = new ColumnIOFactory().getColumnIO(schema);\r\n                    \r\n                    final RecordReader recordReader = columnIO.getRecordReader(pages, new GroupRecordConverter(schema));\r\n                    for (int i = 0; i &lt; rows; i++) {\r\n                        final Group g = (Group) recordReader.read();\r\n                        System.out.println(&quot;group: &quot;+g);\r\n                        printGroup(g);\r\n                    }\r\n                }\r\n            } finally {\r\n                r.close();\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Error reading parquet file.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nThe java app is a spring boot non-web application.\r\nThis code works fine when ran in local or intelliJ IDE, but i&#39;m getting the below error when the same file and code is dockerized.\r\n\r\n```\r\n............Processing File name............: part-00000-2b69fe41-592a-485b-85e8-8971c5842155-c000.snappy.parquet\r\n07:45:50.770 [main] WARN  o.a.hadoop.util.NativeCodeLoader - Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n2021-08-28 07:45:50 DEBUG Tracer:106 - sampler.classes = ; loaded no samplers\r\n2021-08-28 07:45:51 DEBUG Tracer:128 - span.receiver.classes = ; loaded no span receivers\r\nBlocks size: 1\r\nK-v metadata: {org.apache.spark.sql.parquet.row.metadata={&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;first_name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;last_name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;email&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;gender&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]}}\r\nCreated by: parquet-mr version 1.8.2 (build c6522788629e590a53eb79874b95f6c3ff11f16c)\r\nSchema: message spark_schema {\r\n  optional binary first_name (STRING);\r\n  optional binary last_name (STRING);\r\n  optional binary email (STRING);\r\n  optional binary gender (STRING);\r\n}\r\n\r\n07:45:52.073 [main] INFO  o.a.hadoop.io.compress.CodecPool - Got brand-new decompressor [.snappy]\r\nNumber of rows: 1000\r\nError reading parquet file.\r\njava.lang.IllegalArgumentException\r\n\tat java.nio.Buffer.limit(Buffer.java:275)\r\n\tat org.xerial.snappy.Snappy.uncompress(Snappy.java:553)\r\n\tat org.apache.parquet.hadoop.codec.SnappyDecompressor.decompress(SnappyDecompressor.java:71)\r\n\tat org.apache.parquet.hadoop.codec.NonBlockedDecompressorStream.read(NonBlockedDecompressorStream.java:51)\r\n\tat java.io.DataInputStream.readFully(DataInputStream.java:195)\r\n\tat java.io.DataInputStream.readFully(DataInputStream.java:169)\r\n\tat org.apache.parquet.bytes.BytesInput$StreamBytesInput.toByteArray(BytesInput.java:286)\r\n\tat org.apache.parquet.bytes.BytesInput.toByteBuffer(BytesInput.java:237)\r\n\tat org.apache.parquet.column.values.dictionary.PlainValuesDictionary$PlainBinaryDictionary.&lt;init&gt;(PlainValuesDictionary.java:91)\r\n\tat org.apache.parquet.column.values.dictionary.PlainValuesDictionary$PlainBinaryDictionary.&lt;init&gt;(PlainValuesDictionary.java:74)\r\n\tat org.apache.parquet.column.Encoding$1.initDictionary(Encoding.java:90)\r\n\tat org.apache.parquet.column.Encoding$5.initDictionary(Encoding.java:163)\r\n\tat org.apache.parquet.column.impl.ColumnReaderBase.&lt;init&gt;(ColumnReaderBase.java:413)\r\n\tat org.apache.parquet.column.impl.ColumnReaderImpl.&lt;init&gt;(ColumnReaderImpl.java:46)\r\n\tat org.apache.parquet.column.impl.ColumnReadStoreImpl.getColumnReader(ColumnReadStoreImpl.java:82)\r\n\tat org.apache.parquet.io.RecordReaderImplementation.&lt;init&gt;(RecordReaderImplementation.java:271)\r\n\tat org.apache.parquet.io.MessageColumnIO$1.visit(MessageColumnIO.java:147)\r\n\tat org.apache.parquet.io.MessageColumnIO$1.visit(MessageColumnIO.java:109)\r\n\tat org.apache.parquet.filter2.compat.FilterCompat$NoOpFilter.accept(FilterCompat.java:177)\r\n\tat org.apache.parquet.io.MessageColumnIO.getRecordReader(MessageColumnIO.java:109)\r\n\tat org.apache.parquet.io.MessageColumnIO.getRecordReader(MessageColumnIO.java:80)\r\n\tat com.csp.cdp.CPRemediationIntegrationPub.readers.NFSStorageReader.readTest(NFSStorageReader.java:131)\r\n\tat com.csp.cdp.CPRemediationIntegrationPub.readers.NFSStorageReader.read(NFSStorageReader.java:59)\r\n\tat com.csp.cdp.CPRemediationIntegrationPub.readers.NFSStorageReader.read(NFSStorageReader.java:38)\r\n\tat com.csp.cdp.CPRemediationIntegrationPub.executors.AppExecutor.execute(AppExecutor.java:29)\r\n\tat com.csp.cdp.CPRemediationIntegrationPub.CpRemediationIntegrationPubApplication.main(CpRemediationIntegrationPubApplication.java:47)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) \r\n```\r\n\r\nmy Dockerfile for reference.\r\n\r\n```\r\nFROM openjdk:8-jdk-alpine\r\nRUN mkdir /app\r\nRUN mkdir /app/files/\r\nCOPY testDir /app/files/\r\nCOPY normal /app/files/\r\nWORKDIR /app\r\nCOPY target/appname-0.0.1-SNAPSHOT.jar /app/app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\r\n```\r\n\r\nPlease help on this.","title":"read a parquet file using Java, but it works in local machine, and doesn&#39;t work in docker container","body":"<p>I have a requirement to read parquet files and publish to Kafka in a Java standalone application. I have the below code to read the parquet file which is generated by spark scala application.</p>\n<pre><code>public void readTest(Path path) {\n        try {\n            ParquetMetadata readFooter = ParquetFileReader.readFooter(conf, path, ParquetMetadataConverter.NO_FILTER);\n            List&lt;BlockMetaData&gt; blocks = readFooter.getBlocks();\n            System.out.println(&quot;Blocks size: &quot;+blocks.size());\n            Map&lt;String, String&gt; keyValueMetaData = readFooter.getFileMetaData().getKeyValueMetaData();\n            System.out.println(&quot;K-v metadata: &quot;+keyValueMetaData);\n            System.out.println(&quot;Created by: &quot;+readFooter.getFileMetaData().getCreatedBy());\n            \n            MessageType schema = readFooter.getFileMetaData().getSchema();\n            System.out.println(&quot;Schema: &quot;+schema);\n            ParquetFileReader r = new ParquetFileReader(conf, path, readFooter);\n\n            PageReadStore pages = null;\n            try {\n                while (null != (pages = r.readNextRowGroup())) {\n                    final long rows = pages.getRowCount();\n                    System.out.println(&quot;Number of rows: &quot; + rows);\n\n                    final MessageColumnIO columnIO = new ColumnIOFactory().getColumnIO(schema);\n                    \n                    final RecordReader recordReader = columnIO.getRecordReader(pages, new GroupRecordConverter(schema));\n                    for (int i = 0; i &lt; rows; i++) {\n                        final Group g = (Group) recordReader.read();\n                        System.out.println(&quot;group: &quot;+g);\n                        printGroup(g);\n                    }\n                }\n            } finally {\n                r.close();\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;Error reading parquet file.&quot;);\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>The java app is a spring boot non-web application.\nThis code works fine when ran in local or intelliJ IDE, but i'm getting the below error when the same file and code is dockerized.</p>\n<pre><code>............Processing File name............: part-00000-2b69fe41-592a-485b-85e8-8971c5842155-c000.snappy.parquet\n07:45:50.770 [main] WARN  o.a.hadoop.util.NativeCodeLoader - Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n2021-08-28 07:45:50 DEBUG Tracer:106 - sampler.classes = ; loaded no samplers\n2021-08-28 07:45:51 DEBUG Tracer:128 - span.receiver.classes = ; loaded no span receivers\nBlocks size: 1\nK-v metadata: {org.apache.spark.sql.parquet.row.metadata={&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;first_name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;last_name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;email&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;gender&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]}}\nCreated by: parquet-mr version 1.8.2 (build c6522788629e590a53eb79874b95f6c3ff11f16c)\nSchema: message spark_schema {\n  optional binary first_name (STRING);\n  optional binary last_name (STRING);\n  optional binary email (STRING);\n  optional binary gender (STRING);\n}\n\n07:45:52.073 [main] INFO  o.a.hadoop.io.compress.CodecPool - Got brand-new decompressor [.snappy]\nNumber of rows: 1000\nError reading parquet file.\njava.lang.IllegalArgumentException\n    at java.nio.Buffer.limit(Buffer.java:275)\n    at org.xerial.snappy.Snappy.uncompress(Snappy.java:553)\n    at org.apache.parquet.hadoop.codec.SnappyDecompressor.decompress(SnappyDecompressor.java:71)\n    at org.apache.parquet.hadoop.codec.NonBlockedDecompressorStream.read(NonBlockedDecompressorStream.java:51)\n    at java.io.DataInputStream.readFully(DataInputStream.java:195)\n    at java.io.DataInputStream.readFully(DataInputStream.java:169)\n    at org.apache.parquet.bytes.BytesInput$StreamBytesInput.toByteArray(BytesInput.java:286)\n    at org.apache.parquet.bytes.BytesInput.toByteBuffer(BytesInput.java:237)\n    at org.apache.parquet.column.values.dictionary.PlainValuesDictionary$PlainBinaryDictionary.&lt;init&gt;(PlainValuesDictionary.java:91)\n    at org.apache.parquet.column.values.dictionary.PlainValuesDictionary$PlainBinaryDictionary.&lt;init&gt;(PlainValuesDictionary.java:74)\n    at org.apache.parquet.column.Encoding$1.initDictionary(Encoding.java:90)\n    at org.apache.parquet.column.Encoding$5.initDictionary(Encoding.java:163)\n    at org.apache.parquet.column.impl.ColumnReaderBase.&lt;init&gt;(ColumnReaderBase.java:413)\n    at org.apache.parquet.column.impl.ColumnReaderImpl.&lt;init&gt;(ColumnReaderImpl.java:46)\n    at org.apache.parquet.column.impl.ColumnReadStoreImpl.getColumnReader(ColumnReadStoreImpl.java:82)\n    at org.apache.parquet.io.RecordReaderImplementation.&lt;init&gt;(RecordReaderImplementation.java:271)\n    at org.apache.parquet.io.MessageColumnIO$1.visit(MessageColumnIO.java:147)\n    at org.apache.parquet.io.MessageColumnIO$1.visit(MessageColumnIO.java:109)\n    at org.apache.parquet.filter2.compat.FilterCompat$NoOpFilter.accept(FilterCompat.java:177)\n    at org.apache.parquet.io.MessageColumnIO.getRecordReader(MessageColumnIO.java:109)\n    at org.apache.parquet.io.MessageColumnIO.getRecordReader(MessageColumnIO.java:80)\n    at com.csp.cdp.CPRemediationIntegrationPub.readers.NFSStorageReader.readTest(NFSStorageReader.java:131)\n    at com.csp.cdp.CPRemediationIntegrationPub.readers.NFSStorageReader.read(NFSStorageReader.java:59)\n    at com.csp.cdp.CPRemediationIntegrationPub.readers.NFSStorageReader.read(NFSStorageReader.java:38)\n    at com.csp.cdp.CPRemediationIntegrationPub.executors.AppExecutor.execute(AppExecutor.java:29)\n    at com.csp.cdp.CPRemediationIntegrationPub.CpRemediationIntegrationPubApplication.main(CpRemediationIntegrationPubApplication.java:47)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) \n</code></pre>\n<p>my Dockerfile for reference.</p>\n<pre><code>FROM openjdk:8-jdk-alpine\nRUN mkdir /app\nRUN mkdir /app/files/\nCOPY testDir /app/files/\nCOPY normal /app/files/\nWORKDIR /app\nCOPY target/appname-0.0.1-SNAPSHOT.jar /app/app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\n</code></pre>\n<p>Please help on this.</p>\n"},{"tags":["java","concurrency","asynchronous","goroutine"],"comments":[{"owner":{"account_id":202467,"reputation":9985,"user_id":449553,"accept_rate":54,"display_name":"msangel"},"score":1,"creation_date":1378926035,"post_id":1842734,"comment_id":27635439,"body_markdown":"Can you show your code of J-Go lib again?","body":"Can you show your code of J-Go lib again?"},{"owner":{"account_id":205160,"reputation":7223,"user_id":453767,"accept_rate":61,"display_name":"Amit Kumar Gupta"},"score":0,"creation_date":1459688361,"post_id":1842734,"comment_id":60388271,"body_markdown":"I was working on a project where I was reading a stream char wise. Once a complete word is read I was performing many operations on that word. Finally I put it into a collection. Once the all data from the stream is read I return the response. I decided to start thread for each time I perform operation on a word. But it decreased the overall performance. Then I got to know that threads are in itself are an expensive operation. I am not sure if starting a thread to call a method concurrently can give any performance add until it is performing any heavy IO operation.","body":"I was working on a project where I was reading a stream char wise. Once a complete word is read I was performing many operations on that word. Finally I put it into a collection. Once the all data from the stream is read I return the response. I decided to start thread for each time I perform operation on a word. But it decreased the overall performance. Then I got to know that threads are in itself are an expensive operation. I am not sure if starting a thread to call a method concurrently can give any performance add until it is performing any heavy IO operation."},{"owner":{"account_id":348277,"reputation":1874,"user_id":1052099,"accept_rate":60,"display_name":"TriCore"},"score":2,"creation_date":1505242675,"post_id":1842734,"comment_id":79330003,"body_markdown":"Great question!! Java 8 provides CompletableFutures for this. Other answers are based on probably old versions of Java","body":"Great question!! Java 8 provides CompletableFutures for this. Other answers are based on probably old versions of Java"}],"answers":[{"comments":[{"owner":{"account_id":18008,"reputation":4694,"user_id":40876,"accept_rate":62,"display_name":"Felipe Hummel"},"score":0,"creation_date":1259894743,"post_id":1843067,"comment_id":1738098,"body_markdown":"The thing is I just want to execute one method call. This way I would have to change the implementation of the target class. The thing I wanted is exactly call without having to worry about impĺementing Runnable or Callable","body":"The thing is I just want to execute one method call. This way I would have to change the implementation of the target class. The thing I wanted is exactly call without having to worry about impĺementing Runnable or Callable"},{"owner":{"account_id":6001,"reputation":2536,"user_id":9925,"display_name":"shadit"},"score":0,"creation_date":1259903461,"post_id":1843067,"comment_id":1738588,"body_markdown":"I hear you.  Java does not (yet) have first-class functions, so this is the state of the art right now.","body":"I hear you.  Java does not (yet) have first-class functions, so this is the state of the art right now."},{"owner":{"account_id":236549,"reputation":2564,"user_id":504112,"accept_rate":55,"display_name":"gumuruh"},"score":0,"creation_date":1339059048,"post_id":1843067,"comment_id":14256024,"body_markdown":"thanks for the &#39;future&#39; keywords... now I&#39;m opening the tutorials about them... very useful. :D","body":"thanks for the &#39;future&#39; keywords... now I&#39;m opening the tutorials about them... very useful. :D"},{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":5,"creation_date":1373451717,"post_id":1843067,"comment_id":25559144,"body_markdown":"-1 as far as I can tell, FutureTask by itself is not sufficient to run anything asynchronously. You still need to create a Thread or Executor to run it, as in Carlos&#39; example.","body":"-1 as far as I can tell, FutureTask by itself is not sufficient to run anything asynchronously. You still need to create a Thread or Executor to run it, as in Carlos&#39; example."}],"tags":[],"owner":{"account_id":6001,"reputation":2536,"user_id":9925,"display_name":"shadit"},"comment_count":4,"down_vote_count":2,"up_vote_count":36,"is_accepted":false,"score":34,"last_activity_date":1259876263,"creation_date":1259875915,"answer_id":1843067,"question_id":1842734,"body_markdown":"You may wish to also consider the class `java.util.concurrent.FutureTask`.\r\n\r\nIf you are using Java 5 or later, [FutureTask][1] is a turnkey implementation of &quot;A cancellable asynchronous computation.&quot;\r\n\r\nThere are even richer asynchronous execution scheduling behaviors available in the `java.util.concurrent` package (for example, `ScheduledExecutorService`), but `FutureTask` may have all the functionality you require.\r\n\r\nI would even go so far as to say that it is no longer advisable to use the first code pattern you gave as an example ever since `FutureTask` became available.  (Assuming you are on Java 5 or later.)\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/FutureTask.html","title":"How to asynchronously call a method in Java","body":"<p>You may wish to also consider the class <code>java.util.concurrent.FutureTask</code>.</p>\n\n<p>If you are using Java 5 or later, <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/FutureTask.html\" rel=\"noreferrer\">FutureTask</a> is a turnkey implementation of \"A cancellable asynchronous computation.\"</p>\n\n<p>There are even richer asynchronous execution scheduling behaviors available in the <code>java.util.concurrent</code> package (for example, <code>ScheduledExecutorService</code>), but <code>FutureTask</code> may have all the functionality you require.</p>\n\n<p>I would even go so far as to say that it is no longer advisable to use the first code pattern you gave as an example ever since <code>FutureTask</code> became available.  (Assuming you are on Java 5 or later.)</p>\n"},{"comments":[{"owner":{"account_id":18008,"reputation":4694,"user_id":40876,"accept_rate":62,"display_name":"Felipe Hummel"},"score":1,"creation_date":1259894697,"post_id":1843474,"comment_id":1738096,"body_markdown":"The thing is I just want to execute one method call. This way I would have to change the implementation of the target class. The thing I wanted is exactly call without having to worry about impĺementing Runnable or Callable","body":"The thing is I just want to execute one method call. This way I would have to change the implementation of the target class. The thing I wanted is exactly call without having to worry about impĺementing Runnable or Callable"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1259930593,"post_id":1843474,"comment_id":1740470,"body_markdown":"then this would&#39;nt help much :(   but *normally* I would prefer using a Runnable or Callable instead of Reflection","body":"then this would&#39;nt help much :(   but <i>normally</i> I would prefer using a Runnable or Callable instead of Reflection"},{"owner":{"account_id":52775,"reputation":4051,"user_id":157762,"accept_rate":93,"display_name":"Daniel Szalay"},"score":5,"creation_date":1339493819,"post_id":1843474,"comment_id":14363406,"body_markdown":"Just a short note: It&#39;s nicer to keep track of the `ExecutorService` instance, so you can call `shutdown()` when you have to.","body":"Just a short note: It&#39;s nicer to keep track of the <code>ExecutorService</code> instance, so you can call <code>shutdown()</code> when you have to."},{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":2,"creation_date":1503423163,"post_id":1843474,"comment_id":78605597,"body_markdown":"If you did this, wouldn&#39;t you possibly end up with un-closed ExecutorService , causing your JVM to refuse to shutdown?   I would recommend writing your own method to get a single-threaded, time-limited, ExecutorService .","body":"If you did this, wouldn&#39;t you possibly end up with un-closed ExecutorService , causing your JVM to refuse to shutdown?   I would recommend writing your own method to get a single-threaded, time-limited, ExecutorService ."},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1658087688,"post_id":1843474,"comment_id":128958406,"body_markdown":"@djangofan Right. Also, in rare cases this code can throw RejectedExecutionException refusing to run the task ([JDK-8145304](https://bugs.openjdk.org/browse/JDK-8145304)).","body":"@djangofan Right. Also, in rare cases this code can throw RejectedExecutionException refusing to run the task (<a href=\"https://bugs.openjdk.org/browse/JDK-8145304\" rel=\"nofollow noreferrer\">JDK-8145304</a>)."}],"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"comment_count":5,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1317273341,"creation_date":1259879566,"answer_id":1843474,"question_id":1842734,"body_markdown":"i don&#39;t like the idea of using Reflection for that.  \r\nNot only dangerous for missing it in some refactoring, but it can also be denied by `SecurityManager`.\r\n\r\n`FutureTask` is a good option as the other options from the java.util.concurrent package.  \r\nMy favorite for simple tasks:  \r\n\r\n        Executors.newSingleThreadExecutor().submit(task);\r\n\r\n**little** bit shorter than creating a Thread (task is a Callable or a Runnable)","title":"How to asynchronously call a method in Java","body":"<p>i don't like the idea of using Reflection for that.<br>\nNot only dangerous for missing it in some refactoring, but it can also be denied by <code>SecurityManager</code>.</p>\n\n<p><code>FutureTask</code> is a good option as the other options from the java.util.concurrent package.<br>\nMy favorite for simple tasks:  </p>\n\n<pre><code>    Executors.newSingleThreadExecutor().submit(task);\n</code></pre>\n\n<p><strong>little</strong> bit shorter than creating a Thread (task is a Callable or a Runnable)</p>\n"},{"comments":[{"owner":{"account_id":2697237,"reputation":645,"user_id":2328943,"display_name":"bmorin"},"score":1,"creation_date":1445516399,"post_id":24052225,"comment_id":54362088,"body_markdown":"Note that this approach would make all calls to save asynchronous, which might or might not be what we want. In cases when only some calls to a given method should be made async, other approaches suggested on this page can be used.","body":"Note that this approach would make all calls to save asynchronous, which might or might not be what we want. In cases when only some calls to a given method should be made async, other approaches suggested on this page can be used."},{"owner":{"account_id":208718,"reputation":2373,"user_id":459387,"accept_rate":60,"display_name":"Naman"},"score":1,"creation_date":1499267559,"post_id":24052225,"comment_id":76835788,"body_markdown":"Can I use it in a web application (since managing threads is not recommended there) ?","body":"Can I use it in a web application (since managing threads is not recommended there) ?"}],"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":2,"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1401945911,"creation_date":1401945911,"answer_id":24052225,"question_id":1842734,"body_markdown":"You can use [`@Async`](http://aspects.jcabi.com/annotation-async.html) annotation from [jcabi-aspects](http://aspects.jcabi.com) and AspectJ:\r\n\r\n    public class Foo {\r\n      @Async\r\n      public void save() {\r\n        // to be executed in the background\r\n      }\r\n    }\r\n\r\nWhen you call `save()`, a new thread starts and executes its body. Your main thread continues without waiting for the result of `save()`.","title":"How to asynchronously call a method in Java","body":"<p>You can use <a href=\"http://aspects.jcabi.com/annotation-async.html\" rel=\"noreferrer\"><code>@Async</code></a> annotation from <a href=\"http://aspects.jcabi.com\" rel=\"noreferrer\">jcabi-aspects</a> and AspectJ:</p>\n\n<pre><code>public class Foo {\n  @Async\n  public void save() {\n    // to be executed in the background\n  }\n}\n</code></pre>\n\n<p>When you call <code>save()</code>, a new thread starts and executes its body. Your main thread continues without waiting for the result of <code>save()</code>.</p>\n"},{"comments":[{"owner":{"account_id":179153,"reputation":1419,"user_id":411615,"accept_rate":82,"display_name":"Deckard"},"score":0,"creation_date":1416380199,"post_id":24110327,"comment_id":42548534,"body_markdown":"Your answer helped my problem - http://stackoverflow.com/questions/27009448/prevent-client-repeatedly-sending-requests. Little tricky to apply my situatioin, but worked it out eventually :)","body":"Your answer helped my problem - <a href=\"http://stackoverflow.com/questions/27009448/prevent-client-repeatedly-sending-requests\" title=\"prevent client repeatedly sending requests\">stackoverflow.com/questions/27009448/&hellip;</a>. Little tricky to apply my situatioin, but worked it out eventually :)"},{"owner":{"account_id":1320900,"reputation":1254,"user_id":1266762,"accept_rate":84,"display_name":"yatanadam"},"score":0,"creation_date":1483049048,"post_id":24110327,"comment_id":69977956,"body_markdown":"How to call with parameters ?","body":"How to call with parameters ?"},{"owner":{"account_id":3601155,"reputation":129,"user_id":3004449,"accept_rate":100,"display_name":"user3004449"},"score":2,"creation_date":1491980444,"post_id":24110327,"comment_id":73786738,"body_markdown":"@yatanadam This may answer your question. Just place the above code inside a method and pas the variable like you would normally do. Check out this [test code](https://pastebin.com/8f1Tmscy) I made for you.","body":"@yatanadam This may answer your question. Just place the above code inside a method and pas the variable like you would normally do. Check out this <a href=\"https://pastebin.com/8f1Tmscy\" rel=\"nofollow noreferrer\">test code</a> I made for you."},{"owner":{"account_id":3601155,"reputation":129,"user_id":3004449,"accept_rate":100,"display_name":"user3004449"},"score":1,"creation_date":1491984460,"post_id":24110327,"comment_id":73789216,"body_markdown":"@eNnillaMS Does the thread has to be stopped after running? Does it stop automatically, or by the **garbage collector**?","body":"@eNnillaMS Does the thread has to be stopped after running? Does it stop automatically, or by the <b>garbage collector</b>?"},{"owner":{"account_id":168033,"reputation":513,"user_id":7106420,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1528147528,"post_id":24110327,"comment_id":88387659,"body_markdown":"@user3004449 The thread stops automatically, however, you can force it as well.","body":"@user3004449 The thread stops automatically, however, you can force it as well."},{"owner":{"account_id":1677258,"reputation":1869,"user_id":1542490,"display_name":"mrtechmaker"},"score":0,"creation_date":1538728243,"post_id":24110327,"comment_id":92253010,"body_markdown":"@Deckard - how was this tricky for you?\nI am asking as I have the exact same question as you have asked in your link.","body":"@Deckard - how was this tricky for you? I am asking as I have the exact same question as you have asked in your link."},{"owner":{"account_id":7069929,"reputation":7209,"user_id":5411888,"accept_rate":100,"display_name":"Amit Upadhyay"},"score":0,"creation_date":1603767384,"post_id":24110327,"comment_id":114134300,"body_markdown":"@AegisHexad for an application this will spawn as many threads as possible, which will impact the memory hence it might increase the latency, if there is a very small task to execute within thread then this would work, but if we are performing some blocking operation(network calls, etc), then multiple threads being spawned can choke up the app, right?","body":"@AegisHexad for an application this will spawn as many threads as possible, which will impact the memory hence it might increase the latency, if there is a very small task to execute within thread then this would work, but if we are performing some blocking operation(network calls, etc), then multiple threads being spawned can choke up the app, right?"},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1681859009,"post_id":24110327,"comment_id":134124191,"body_markdown":"Is there a way to end this thread after the process is completed?","body":"Is there a way to end this thread after the process is completed?"}],"tags":[],"owner":{"account_id":4116258,"reputation":2164,"user_id":3377720,"display_name":"AegisHexad"},"comment_count":8,"down_vote_count":3,"up_vote_count":200,"is_accepted":false,"score":197,"last_activity_date":1467275510,"creation_date":1402258084,"answer_id":24110327,"question_id":1842734,"body_markdown":"I just discovered that there is a cleaner way to do your\r\n\r\n    new Thread(new Runnable() {\r\n        public void run() {\r\n            //Do whatever\r\n        }\r\n    }).start();\r\n\r\n(At least in Java 8), you can use a lambda expression to shorten it to:\r\n\r\n    new Thread(() -&gt; {\r\n        //Do whatever\r\n    }).start();\r\n\r\nAs simple as making a function in JS!","title":"How to asynchronously call a method in Java","body":"<p>I just discovered that there is a cleaner way to do your</p>\n\n<pre><code>new Thread(new Runnable() {\n    public void run() {\n        //Do whatever\n    }\n}).start();\n</code></pre>\n\n<p>(At least in Java 8), you can use a lambda expression to shorten it to:</p>\n\n<pre><code>new Thread(() -&gt; {\n    //Do whatever\n}).start();\n</code></pre>\n\n<p>As simple as making a function in JS!</p>\n"},{"tags":[],"owner":{"account_id":2483778,"reputation":1592,"user_id":2162669,"accept_rate":83,"display_name":"FlameBlazer"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1414235052,"creation_date":1414235052,"answer_id":26561677,"question_id":1842734,"body_markdown":"This is not really related but if I was to asynchronously call a method e.g. matches(), I would use:\r\n\r\n    private final static ExecutorService service = Executors.newFixedThreadPool(10);\r\n    public static Future&lt;Boolean&gt; matches(final String x, final String y) {\r\n\t\treturn service.submit(new Callable&lt;Boolean&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Boolean call() throws Exception {\r\n\t\t\t\treturn x.matches(y);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t}\r\nThen to call the asynchronous method I would use:\r\n\r\n    String x = &quot;somethingelse&quot;;\r\n    try {\r\n\t\tSystem.out.println(&quot;Matches: &quot;+matches(x, &quot;something&quot;).get());\r\n\t} catch (InterruptedException e) {\r\n\t\te.printStackTrace();\r\n\t} catch (ExecutionException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\nI have tested this and it works. Just thought it may help others if they just came for the &quot;asynchronous method&quot;.","title":"How to asynchronously call a method in Java","body":"<p>This is not really related but if I was to asynchronously call a method e.g. matches(), I would use:</p>\n\n<pre><code>private final static ExecutorService service = Executors.newFixedThreadPool(10);\npublic static Future&lt;Boolean&gt; matches(final String x, final String y) {\n    return service.submit(new Callable&lt;Boolean&gt;() {\n\n        @Override\n        public Boolean call() throws Exception {\n            return x.matches(y);\n        }\n\n    });\n}\n</code></pre>\n\n<p>Then to call the asynchronous method I would use:</p>\n\n<pre><code>String x = \"somethingelse\";\ntry {\n    System.out.println(\"Matches: \"+matches(x, \"something\").get());\n} catch (InterruptedException e) {\n    e.printStackTrace();\n} catch (ExecutionException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>I have tested this and it works. Just thought it may help others if they just came for the \"asynchronous method\".</p>\n"},{"comments":[{"owner":{"account_id":262373,"reputation":206,"user_id":547195,"display_name":"Giovanni Toraldo"},"score":14,"creation_date":1445520429,"post_id":31005298,"comment_id":54364597,"body_markdown":"if you are using spring-boot.","body":"if you are using spring-boot."}],"tags":[],"owner":{"account_id":3831856,"reputation":315,"user_id":3177227,"display_name":"user3177227"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1435068956,"creation_date":1435068956,"answer_id":31005298,"question_id":1842734,"body_markdown":"You can use Future-AsyncResult for this. \r\n\r\n    @Async\r\n    public Future&lt;Page&gt; findPage(String page) throws InterruptedException {\r\n        System.out.println(&quot;Looking up &quot; + page);\r\n        Page results = restTemplate.getForObject(&quot;http://graph.facebook.com/&quot; + page, Page.class);\r\n        Thread.sleep(1000L);\r\n        return new AsyncResult&lt;Page&gt;(results);\r\n    }\r\n\r\nReference: https://spring.io/guides/gs/async-method/","title":"How to asynchronously call a method in Java","body":"<p>You can use Future-AsyncResult for this. </p>\n\n<pre><code>@Async\npublic Future&lt;Page&gt; findPage(String page) throws InterruptedException {\n    System.out.println(\"Looking up \" + page);\n    Page results = restTemplate.getForObject(\"http://graph.facebook.com/\" + page, Page.class);\n    Thread.sleep(1000L);\n    return new AsyncResult&lt;Page&gt;(results);\n}\n</code></pre>\n\n<p>Reference: <a href=\"https://spring.io/guides/gs/async-method/\" rel=\"noreferrer\">https://spring.io/guides/gs/async-method/</a></p>\n"},{"comments":[{"owner":{"account_id":2487761,"reputation":291,"user_id":2165875,"accept_rate":100,"display_name":"Mukti"},"score":0,"creation_date":1473429736,"post_id":33456884,"comment_id":66150987,"body_markdown":"It&#39;s really nice to use this using Java 8.","body":"It&#39;s really nice to use this using Java 8."}],"tags":[],"owner":{"account_id":1454282,"reputation":1077,"user_id":1505369,"accept_rate":60,"display_name":"kcpr"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1446327693,"creation_date":1446327392,"answer_id":33456884,"question_id":1842734,"body_markdown":"It&#39;s probably not a real solution, but now - in Java 8 - You can make this code look at least a little better using lambda expression.\r\n\r\n    final String x = &quot;somethingelse&quot;;\r\n    new Thread(() -&gt; {\r\n            x.matches(&quot;something&quot;);             \r\n        }\r\n    ).start();\r\n\r\nAnd You could even do this in one line, still having it pretty readable.\r\n\r\n    new Thread(() -&gt; x.matches(&quot;something&quot;)).start();","title":"How to asynchronously call a method in Java","body":"<p>It's probably not a real solution, but now - in Java 8 - You can make this code look at least a little better using lambda expression.</p>\n\n<pre><code>final String x = \"somethingelse\";\nnew Thread(() -&gt; {\n        x.matches(\"something\");             \n    }\n).start();\n</code></pre>\n\n<p>And You could even do this in one line, still having it pretty readable.</p>\n\n<pre><code>new Thread(() -&gt; x.matches(\"something\")).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499677500,"creation_date":1499677500,"answer_id":45007880,"question_id":1842734,"body_markdown":"You can use [`AsyncFunc`](http://static.javadoc.io/org.cactoos/cactoos/0.10/org/cactoos/func/AsyncFunc.html) from [Cactoos](http://www.cactoos.org):\r\n\r\n    boolean matches = new AsyncFunc(\r\n      x -&gt; x.matches(&quot;something&quot;)\r\n    ).apply(&quot;The text&quot;).get();\r\n\r\nIt will be executed at the background and the result will be available in `get()` as a `Future`.","title":"How to asynchronously call a method in Java","body":"<p>You can use <a href=\"http://static.javadoc.io/org.cactoos/cactoos/0.10/org/cactoos/func/AsyncFunc.html\" rel=\"nofollow noreferrer\"><code>AsyncFunc</code></a> from <a href=\"http://www.cactoos.org\" rel=\"nofollow noreferrer\">Cactoos</a>:</p>\n\n<pre><code>boolean matches = new AsyncFunc(\n  x -&gt; x.matches(\"something\")\n).apply(\"The text\").get();\n</code></pre>\n\n<p>It will be executed at the background and the result will be available in <code>get()</code> as a <code>Future</code>.</p>\n"},{"tags":[],"owner":{"account_id":3150070,"reputation":10126,"user_id":2663692,"accept_rate":32,"display_name":"Tal Avissar"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1504255831,"creation_date":1504255831,"answer_id":45996474,"question_id":1842734,"body_markdown":"You can use the Java8 syntax for CompletableFuture, this way you can perform additional async computations based on the result from calling an async function.\r\n\r\nfor example:\r\n \r\n\r\n     CompletableFuture.supplyAsync(this::findSomeData)\r\n                         .thenApply(this:: intReturningMethod)\r\n                         .thenAccept(this::notify);\r\n\r\nMore details can be found in this [article][1]\r\n\r\n\r\n  [1]: http://www.deadcoderising.com/java8-writing-asynchronous-code-with-completablefuture/","title":"How to asynchronously call a method in Java","body":"<p>You can use the Java8 syntax for CompletableFuture, this way you can perform additional async computations based on the result from calling an async function.</p>\n\n<p>for example:</p>\n\n<pre><code> CompletableFuture.supplyAsync(this::findSomeData)\n                     .thenApply(this:: intReturningMethod)\n                     .thenAccept(this::notify);\n</code></pre>\n\n<p>More details can be found in this <a href=\"http://www.deadcoderising.com/java8-writing-asynchronous-code-with-completablefuture/\" rel=\"noreferrer\">article</a></p>\n"},{"comments":[{"owner":{"account_id":2007701,"reputation":1209,"user_id":2133216,"accept_rate":75,"display_name":"ndm13"},"score":0,"creation_date":1517844012,"post_id":48444156,"comment_id":84248313,"body_markdown":"`CompletableFuture` was mentioned in another answer, but that one used the whole `supplyAsync(...)` chain.  This is a simple wrapper that fits the question perfectly.","body":"<code>CompletableFuture</code> was mentioned in another answer, but that one used the whole <code>supplyAsync(...)</code> chain.  This is a simple wrapper that fits the question perfectly."},{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":2,"creation_date":1535454144,"post_id":48444156,"comment_id":91062695,"body_markdown":"`ForkJoinPool.commonPool().execute()` has slightly less overhead","body":"<code>ForkJoinPool.commonPool().execute()</code> has slightly less overhead"}],"tags":[],"owner":{"account_id":6248920,"reputation":1505,"user_id":4859737,"display_name":"Rahul Chauhan"},"comment_count":2,"down_vote_count":0,"up_vote_count":127,"is_accepted":false,"score":127,"last_activity_date":1516887305,"creation_date":1516887305,"answer_id":48444156,"question_id":1842734,"body_markdown":"Java 8 introduced CompletableFuture available in package java.util.concurrent.CompletableFuture, can be used to make a asynch call :\r\n    \r\n    CompletableFuture.runAsync(() -&gt; {\r\n        // method call or code to be asynch.\r\n    });","title":"How to asynchronously call a method in Java","body":"<p>Java 8 introduced CompletableFuture available in package java.util.concurrent.CompletableFuture, can be used to make a asynch call :</p>\n\n<pre><code>CompletableFuture.runAsync(() -&gt; {\n    // method call or code to be asynch.\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1658086361,"post_id":55350537,"comment_id":128958141,"body_markdown":"1.) You allocate a thread pool with multiple threads while you only need one. 2.) You don&#39;t shut down your executor. Every executor should be properly shut down, otherwise its threads will run forever.","body":"1.) You allocate a thread pool with multiple threads while you only need one. 2.) You don&#39;t shut down your executor. Every executor should be properly shut down, otherwise its threads will run forever."}],"tags":[],"owner":{"account_id":15110421,"reputation":97,"user_id":10904724,"display_name":"Anand"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1553579061,"creation_date":1553579061,"answer_id":55350537,"question_id":1842734,"body_markdown":"Java also provides a nice way of calling async methods. in **java.util.concurrent** we have **ExecutorService** that helps in doing the same. Initialize your object like this -\r\n\r\n     private ExecutorService asyncExecutor = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\r\n and then call the function like-\r\n\r\n    asyncExecutor.execute(() -&gt; {\r\n\t                    \r\n\t                    \tTimeUnit.SECONDS.sleep(3L);}","title":"How to asynchronously call a method in Java","body":"<p>Java also provides a nice way of calling async methods. in <strong>java.util.concurrent</strong> we have <strong>ExecutorService</strong> that helps in doing the same. Initialize your object like this -</p>\n\n<pre><code> private ExecutorService asyncExecutor = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\n</code></pre>\n\n<p>and then call the function like-</p>\n\n<pre><code>asyncExecutor.execute(() -&gt; {\n\n                        TimeUnit.SECONDS.sleep(3L);}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4086960,"reputation":909,"user_id":3356028,"display_name":"vitro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573229051,"creation_date":1573229051,"answer_id":58770048,"question_id":1842734,"body_markdown":"There is also nice library for Async-Await created by EA: https://github.com/electronicarts/ea-async\r\n\r\nFrom their Readme:\r\n\r\n**With EA Async**\r\n```\r\nimport static com.ea.async.Async.await;\r\nimport static java.util.concurrent.CompletableFuture.completedFuture;\r\n\r\npublic class Store\r\n{\r\n    public CompletableFuture&lt;Boolean&gt; buyItem(String itemTypeId, int cost)\r\n    {\r\n        if(!await(bank.decrement(cost))) {\r\n            return completedFuture(false);\r\n        }\r\n        await(inventory.giveItem(itemTypeId));\r\n        return completedFuture(true);\r\n    }\r\n}\r\n```\r\n\r\n**Without EA Async**\r\n```\r\nimport static java.util.concurrent.CompletableFuture.completedFuture;\r\n\r\npublic class Store\r\n{\r\n    public CompletableFuture&lt;Boolean&gt; buyItem(String itemTypeId, int cost)\r\n    {\r\n        return bank.decrement(cost)\r\n            .thenCompose(result -&gt; {\r\n                if(!result) {\r\n                    return completedFuture(false);\r\n                }\r\n                return inventory.giveItem(itemTypeId).thenApply(res -&gt; true);\r\n            });\r\n    }\r\n}\r\n```","title":"How to asynchronously call a method in Java","body":"<p>There is also nice library for Async-Await created by EA: <a href=\"https://github.com/electronicarts/ea-async\" rel=\"nofollow noreferrer\">https://github.com/electronicarts/ea-async</a></p>\n\n<p>From their Readme:</p>\n\n<p><strong>With EA Async</strong></p>\n\n<pre><code>import static com.ea.async.Async.await;\nimport static java.util.concurrent.CompletableFuture.completedFuture;\n\npublic class Store\n{\n    public CompletableFuture&lt;Boolean&gt; buyItem(String itemTypeId, int cost)\n    {\n        if(!await(bank.decrement(cost))) {\n            return completedFuture(false);\n        }\n        await(inventory.giveItem(itemTypeId));\n        return completedFuture(true);\n    }\n}\n</code></pre>\n\n<p><strong>Without EA Async</strong></p>\n\n<pre><code>import static java.util.concurrent.CompletableFuture.completedFuture;\n\npublic class Store\n{\n    public CompletableFuture&lt;Boolean&gt; buyItem(String itemTypeId, int cost)\n    {\n        return bank.decrement(cost)\n            .thenCompose(result -&gt; {\n                if(!result) {\n                    return completedFuture(false);\n                }\n                return inventory.giveItem(itemTypeId).thenApply(res -&gt; true);\n            });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696923818,"creation_date":1696923818,"answer_id":77263801,"question_id":1842734,"body_markdown":"Java 21+:\r\n\r\n    Thread.ofVirtual().start(() -&gt; {\r\n        // Some work\r\n    });\r\n\r\nOr (if you don&#39;t want a virtual thread for some reason):\r\n\r\n    Thread.ofPlatform().start(() -&gt; {\r\n        // Some work\r\n    });","title":"How to asynchronously call a method in Java","body":"<p>Java 21+:</p>\n<pre><code>Thread.ofVirtual().start(() -&gt; {\n    // Some work\n});\n</code></pre>\n<p>Or (if you don't want a virtual thread for some reason):</p>\n<pre><code>Thread.ofPlatform().start(() -&gt; {\n    // Some work\n});\n</code></pre>\n"}],"owner":{"account_id":18008,"reputation":4694,"user_id":40876,"accept_rate":62,"display_name":"Felipe Hummel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436906,"favorite_count":0,"down_vote_count":0,"up_vote_count":173,"answer_count":13,"score":173,"last_activity_date":1696923818,"creation_date":1259872479,"question_id":1842734,"body_markdown":"I&#39;ve been looking at [Go&#39;s goroutines][1] lately and thought it would be nice to have something similar in Java. As far as I&#39;ve searched the common way to parallelize a method call is to do something like:\r\n\r\n    final String x = &quot;somethingelse&quot;;\r\n    new Thread(new Runnable() {\r\n               public void run() {\r\n                    x.matches(&quot;something&quot;);\t\t\t\t\r\n\t\t}\r\n    }).start();\r\n\r\nThats not very elegant. **Is there a better way of doing this?** I needed such a solution in a project so I decided to implement my own wrapper class around a async method call.\r\n\r\nI published my wrapper class in [J-Go][2]. But I don&#39;t know if it is a good solution. The usage is simple:\r\n\r\n    SampleClass obj = ...\r\n    FutureResult&lt;Integer&gt; res = ...\r\n    Go go = new Go(obj);\r\n    go.callLater(res, &quot;intReturningMethod&quot;, 10);         //10 is a Integer method parameter\r\n    //... Do something else\r\n    //...\r\n    System.out.println(&quot;Result: &quot;+res.get());           //Blocks until intReturningMethod returns\r\n\r\nor less verbose:\r\n\r\n    Go.with(obj).callLater(&quot;myRandomMethod&quot;);\r\n    //... Go away\r\n    if (Go.lastResult().isReady())                //Blocks until myRandomMethod has ended\r\n        System.out.println(&quot;Method is finished!&quot;);\r\n\r\nInternally I&#39;m using a class that implements Runnable and do some Reflection work to get the correct method object and invoking it.\r\n\r\nI want some opinion about my tiny library and on the subject of making async method calls like this in Java. Is it safe? Is there already a simplier way?\r\n\r\n  [1]: http://golang.org/doc/effective_go.html#goroutines\r\n  [2]: http://github.com/felipehummel/j-go\r\n","title":"How to asynchronously call a method in Java","body":"<p>I've been looking at <a href=\"http://golang.org/doc/effective_go.html#goroutines\" rel=\"noreferrer\">Go's goroutines</a> lately and thought it would be nice to have something similar in Java. As far as I've searched the common way to parallelize a method call is to do something like:</p>\n\n<pre><code>final String x = \"somethingelse\";\nnew Thread(new Runnable() {\n           public void run() {\n                x.matches(\"something\");             \n    }\n}).start();\n</code></pre>\n\n<p>Thats not very elegant. <strong>Is there a better way of doing this?</strong> I needed such a solution in a project so I decided to implement my own wrapper class around a async method call.</p>\n\n<p>I published my wrapper class in <a href=\"http://github.com/felipehummel/j-go\" rel=\"noreferrer\">J-Go</a>. But I don't know if it is a good solution. The usage is simple:</p>\n\n<pre><code>SampleClass obj = ...\nFutureResult&lt;Integer&gt; res = ...\nGo go = new Go(obj);\ngo.callLater(res, \"intReturningMethod\", 10);         //10 is a Integer method parameter\n//... Do something else\n//...\nSystem.out.println(\"Result: \"+res.get());           //Blocks until intReturningMethod returns\n</code></pre>\n\n<p>or less verbose:</p>\n\n<pre><code>Go.with(obj).callLater(\"myRandomMethod\");\n//... Go away\nif (Go.lastResult().isReady())                //Blocks until myRandomMethod has ended\n    System.out.println(\"Method is finished!\");\n</code></pre>\n\n<p>Internally I'm using a class that implements Runnable and do some Reflection work to get the correct method object and invoking it.</p>\n\n<p>I want some opinion about my tiny library and on the subject of making async method calls like this in Java. Is it safe? Is there already a simplier way?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":4323960,"reputation":13,"user_id":3531271,"display_name":"Andres"},"score":0,"creation_date":1570807178,"post_id":58344069,"comment_id":103043546,"body_markdown":"When I add what you suggested I get the following error: no suitable HttpMessageConverter found for request type [org.springframework.util.LinkedMultiValueMap] and content type [application/pdf], any idea why?","body":"When I add what you suggested I get the following error: no suitable HttpMessageConverter found for request type [org.springframework.util.LinkedMultiValueMap] and content type [application/pdf], any idea why?"}],"tags":[],"owner":{"account_id":16872963,"reputation":1,"user_id":12201066,"display_name":"Piter"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570806554,"creation_date":1570806554,"answer_id":58344069,"question_id":58342615,"body_markdown":"Maybe, you need set header content type? \r\n\r\n    headers.set(&quot;Content-Type&quot;, &quot;application/pdf&quot;)\r\n\r\nIf it doesn&#39;t help, you should also set header Content-Disposition:\r\n\r\n    headers.set(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot;+fileName)","title":"Send a PDF attachment using Spring RestTemplate with Basic Auth and Custom headers","body":"<p>Maybe, you need set header content type? </p>\n\n<pre><code>headers.set(\"Content-Type\", \"application/pdf\")\n</code></pre>\n\n<p>If it doesn't help, you should also set header Content-Disposition:</p>\n\n<pre><code>headers.set(\"Content-Disposition\", \"attachment; filename=\"+fileName)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4323960,"reputation":13,"user_id":3531271,"display_name":"Andres"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1570821691,"creation_date":1570821691,"answer_id":58347322,"question_id":58342615,"body_markdown":"I came across another solution that helped me a lot! [different solution][1] here is my final code and solution for my own question.\r\n\r\n```\r\nHttpHeaders headers = createHeaders(username, password);\r\nheaders.setContentType(MediaType.APPLICATION_PDF);\r\nheaders.set(&quot;X-Async-Scope&quot;, timelineEntryId);\r\n\r\nInputStream inputStream = new FileSystemResource(new File(file.getPath())).getInputStream();\r\nbyte[] binaryData = IOUtils.toByteArray(inputStream);\r\nHttpEntity&lt;byte[]&gt; requestEntity = new HttpEntity&lt;&gt;(binaryData, headers);\r\n\r\nRestTemplate restTemplate = new RestTemplate();\r\nResponseEntity&lt;String&gt; response = restTemplate.exchange(baseUrl, HttpMethod.PUT, requestEntity, String.class);\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/56184470/how-to-frame-resttemplate-for-request-body-of-type-binary-of-postman","title":"Send a PDF attachment using Spring RestTemplate with Basic Auth and Custom headers","body":"<p>I came across another solution that helped me a lot! <a href=\"https://stackoverflow.com/questions/56184470/how-to-frame-resttemplate-for-request-body-of-type-binary-of-postman\">different solution</a> here is my final code and solution for my own question.</p>\n\n<pre><code>HttpHeaders headers = createHeaders(username, password);\nheaders.setContentType(MediaType.APPLICATION_PDF);\nheaders.set(\"X-Async-Scope\", timelineEntryId);\n\nInputStream inputStream = new FileSystemResource(new File(file.getPath())).getInputStream();\nbyte[] binaryData = IOUtils.toByteArray(inputStream);\nHttpEntity&lt;byte[]&gt; requestEntity = new HttpEntity&lt;&gt;(binaryData, headers);\n\nRestTemplate restTemplate = new RestTemplate();\nResponseEntity&lt;String&gt; response = restTemplate.exchange(baseUrl, HttpMethod.PUT, requestEntity, String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22453361,"reputation":97,"user_id":16656366,"display_name":"LongDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696922080,"creation_date":1696922080,"answer_id":77263625,"question_id":58342615,"body_markdown":"you can try on\r\n\r\n```\r\n  String headerKey = &quot;Content-Disposition&quot;;\r\n        String headerValue = &quot;attachment; filename=category_list&quot;  + &quot;.xlsx&quot;;\r\n        response.setHeader(headerKey, headerValue);\r\n\r\n        categoryServiceImpl.exportToExcelFile(response);\r\n\r\n```","title":"Send a PDF attachment using Spring RestTemplate with Basic Auth and Custom headers","body":"<p>you can try on</p>\n<pre><code>  String headerKey = &quot;Content-Disposition&quot;;\n        String headerValue = &quot;attachment; filename=category_list&quot;  + &quot;.xlsx&quot;;\n        response.setHeader(headerKey, headerValue);\n\n        categoryServiceImpl.exportToExcelFile(response);\n\n</code></pre>\n"}],"owner":{"account_id":4323960,"reputation":13,"user_id":3531271,"display_name":"Andres"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58347322,"answer_count":3,"score":0,"last_activity_date":1696922080,"creation_date":1570801580,"question_id":58342615,"body_markdown":"I need to send a PDF attachment using PUT sort of like when you attach a document in POSTMAN [POSTMAN EXAMPLE][1]. The service I&#39;m using will only accept PDF files in the body of the request.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5y5qz.png\r\n\r\nHere is my code:\r\n```\r\n// create new file\r\nFileSystemResource file = new FileSystemResource(new File(&quot;/Users/name/Documents/test.pdf&quot;));\r\nMultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\nbody.add(&quot;file&quot;, file);\r\n\r\n// adding basic auth\r\nHttpHeaders headers = createHeaders(username, password);\r\n// required custom header\r\nheaders.set(&quot;X-Async-Scope&quot;, timelineEntryId);\r\nHttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\r\n\r\nRestTemplate restTemplate = new RestTemplate();\r\nResponseEntity&lt;String&gt; response = restTemplate.exchange(baseUrl, HttpMethod.PUT, requestEntity, String.class);\r\n```\r\n\r\nthe problem is the **response** comes with a status code of **415 Unsupported Media Type** and I&#39;m not sure why. is my HttpEntity body in the wrong format? ","title":"Send a PDF attachment using Spring RestTemplate with Basic Auth and Custom headers","body":"<p>I need to send a PDF attachment using PUT sort of like when you attach a document in POSTMAN <a href=\"https://i.stack.imgur.com/5y5qz.png\" rel=\"nofollow noreferrer\">POSTMAN EXAMPLE</a>. The service I'm using will only accept PDF files in the body of the request.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>// create new file\nFileSystemResource file = new FileSystemResource(new File(\"/Users/name/Documents/test.pdf\"));\nMultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\nbody.add(\"file\", file);\n\n// adding basic auth\nHttpHeaders headers = createHeaders(username, password);\n// required custom header\nheaders.set(\"X-Async-Scope\", timelineEntryId);\nHttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\n\nRestTemplate restTemplate = new RestTemplate();\nResponseEntity&lt;String&gt; response = restTemplate.exchange(baseUrl, HttpMethod.PUT, requestEntity, String.class);\n</code></pre>\n\n<p>the problem is the <strong>response</strong> comes with a status code of <strong>415 Unsupported Media Type</strong> and I'm not sure why. is my HttpEntity body in the wrong format? </p>\n"},{"tags":["java","docker","hazelcast"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1696844084,"post_id":77257093,"comment_id":136200228,"body_markdown":"Is it possible both applications try to connect to the same port `127.0.0.1:5702`? Since the second one does not get it, it would make sense for it to give up and terminate. You can test this by running both applications without docker but on the same machine.","body":"Is it possible both applications try to connect to the same port <code>127.0.0.1:5702</code>? Since the second one does not get it, it would make sense for it to give up and terminate. You can test this by running both applications without docker but on the same machine."},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1696849646,"post_id":77257093,"comment_id":136201226,"body_markdown":"A standard practice here is to run each application in its own container.  You don&#39;t need the script wrapper; you can use Compose `command:` or put a command after the `docker run image-name` to run one or the other of the `java -jar ...` commands.  Since the two containers don&#39;t share any code beyond the JVM, building two separate images with a single `CMD` each might be easier.","body":"A standard practice here is to run each application in its own container.  You don&#39;t need the script wrapper; you can use Compose <code>command:</code> or put a command after the <code>docker run image-name</code> to run one or the other of the <code>java -jar ...</code> commands.  Since the two containers don&#39;t share any code beyond the JVM, building two separate images with a single <code>CMD</code> each might be easier."},{"owner":{"account_id":3737361,"reputation":479,"user_id":3108006,"accept_rate":38,"display_name":"Qeychon"},"score":0,"creation_date":1696851301,"post_id":77257093,"comment_id":136201595,"body_markdown":"@DavidMaze it was planned, but now I want run two jars in one docker image. The reason why I put this in one docker is for the person who just test the application, so he doesn&#39;t need compose and different more docker instance.","body":"@DavidMaze it was planned, but now I want run two jars in one docker image. The reason why I put this in one docker is for the person who just test the application, so he doesn&#39;t need compose and different more docker instance."},{"owner":{"account_id":3737361,"reputation":479,"user_id":3108006,"accept_rate":38,"display_name":"Qeychon"},"score":0,"creation_date":1696851358,"post_id":77257093,"comment_id":136201604,"body_markdown":"@Queeg Hazelcast set the port automatically I cannot set the port directly","body":"@Queeg Hazelcast set the port automatically I cannot set the port directly"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1696865371,"post_id":77257093,"comment_id":136204472,"body_markdown":"Have you successfully run the two applications on one host machine (not using docker?)","body":"Have you successfully run the two applications on one host machine (not using docker?)"},{"owner":{"account_id":3737361,"reputation":479,"user_id":3108006,"accept_rate":38,"display_name":"Qeychon"},"score":0,"creation_date":1696866136,"post_id":77257093,"comment_id":136204618,"body_markdown":"@Queeg yes on the local machine it running successfully. When I connect to the container and start the java application again with java -jar alpha-api.jar then it works. But it should be working after the docker starts.","body":"@Queeg yes on the local machine it running successfully. When I connect to the container and start the java application again with java -jar alpha-api.jar then it works. But it should be working after the docker starts."},{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":0,"creation_date":1697035039,"post_id":77257093,"comment_id":136229187,"body_markdown":"@Qeychon You can set the port. Use `hazelcastConfig.getNetworkConfig().setPortAutoIncrement(false).setPort(1234);`. If auto-increment is set to true and port 1234 is in use, it&#39;ll try 1235, then 1236.... to find an available port. Set it to false and it&#39;ll only try to use the port you specify, if it&#39;s not free startup fails.","body":"@Qeychon You can set the port. Use <code>hazelcastConfig.getNetworkConfig().setPortAutoIncrement(fals&zwnj;&#8203;e).setPort(1234);</code>. If auto-increment is set to true and port 1234 is in use, it&#39;ll try 1235, then 1236.... to find an available port. Set it to false and it&#39;ll only try to use the port you specify, if it&#39;s not free startup fails."},{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":0,"creation_date":1697035066,"post_id":77257093,"comment_id":136229199,"body_markdown":"Logs from the process that shuts down would be helpful. That might indicate why it shut down.","body":"Logs from the process that shuts down would be helpful. That might indicate why it shut down."}],"owner":{"account_id":3737361,"reputation":479,"user_id":3108006,"accept_rate":38,"display_name":"Qeychon"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696921350,"creation_date":1696838060,"question_id":77257093,"body_markdown":"I have two java application who are connected via hazelcast:\r\n\r\n    final var clusterPort = 5701;\r\n    final var hazelcastConfig = new Config();\r\n    hazelcastConfig.setClusterName(&quot;alpha-cluster&quot;);\r\n    hazelcastConfig.setInstanceName(instanceName);\r\n    final var networkConfig = hazelcastConfig.getNetworkConfig();\r\n    networkConfig.setPort(5701);\r\n    final var joinConfig = networkConfig.getJoin();\r\n    joinConfig.getMulticastConfig().setEnabled(false);\r\n    final var tcpIpConfig = joinConfig.getTcpIpConfig();\r\n    tcpIpConfig.setEnabled(true);\r\n    for (int port = clusterPort; port &lt; clusterPort + 10; port++) {\r\n            tcpIpConfig.addMember(String.format(&quot;%s:%s&quot;, this.getHost(), port));\r\n    }\r\n    return new HazelcastClusterManager(hazelcastConfig);\r\n\r\nI have following DockerFile\r\n\r\n    FROM eclipse-temurin:latest\r\n    WORKDIR /usr/src/app\r\n    COPY alpha-api.jar ./alpha-api.jar\r\n    COPY alpha-admin-ui.jar ./alpha-admin-ui.jar\r\n    COPY start.sh ./start.sh\r\n    RUN chmod +x start.sh\r\n    EXPOSE 80\r\n    EXPOSE 8081\r\n    EXPOSE 5701\r\n    EXPOSE 5702\r\n    ENTRYPOINT [ &quot;sh&quot;, &quot;start.sh&quot; ]\r\n\r\nAnd the ShellScript start.sh\r\n\r\n    #!/bin/sh\r\n    CPUS=2\r\n    MEMORY=512M\r\n    echo &quot;Scripts starts ...&quot;\r\n    java -Xmx$MEMORY -XX:ActiveProcessorCount=$CPUS -jar alpha-admin-ui.jar &amp;\r\n    java -Xmx$MEMORY -XX:ActiveProcessorCount=$CPUS -jar alpha-api.jar &amp;\r\n    wait\r\n\r\nAt first the connections works:\r\n\r\n    2023-10-09 09:38:41 Members {size:2, ver:2} [\r\n    2023-10-09 09:38:41     Member [localhost]:5701 - 0b43916b-caca-4f5b-afeb-a0fe696c9283 this\r\n    2023-10-09 09:38:41     Member [localhost]:5702 - cb43f74b-7cc2-4e53-9af2-9bdeff5823f7\r\n    2023-10-09 09:38:41 ]\r\n\r\nthan later the exception will be thrown:\r\n\r\n    2023-10-09 09:38:43 INFO: [localhost]:5701 [vlab-alpha-cluster] [4.2.7] Could not connect to: localhost/127.0.0.1:5702. Reason: IOException[Connection refused to address localhost/127.0.0.1:5702]\r\n    2023-10-09 09:38:43 Oct 09, 2023 7:38:43 AM com.hazelcast.internal.server.tcp.TcpServerConnectionErrorHandler\r\n    2023-10-09 09:38:43 WARNING: [localhost]:5701 [vlab-alpha-cluster] [4.2.7] Removing connection to endpoint [localhost]:5702 Cause =&gt; java.io.IOException {Connection refused to address localhost/127.0.0.1:5702}, Error-Count: 5\r\n\r\nSo I check in the container and I see the second java application is not running anymore (check via ps aux) \r\nThan I start the second application (alpha-api.jar) again than it works. \r\nSo it means the java application process is killed by the OS or  from a different system. I also start the java application directly on my local machine and it runs without any exceptions. \r\n\r\nSo I thought maybe the memory or CPU is the problem so I add the &quot;-Xmx$MEMORY -XX:ActiveProcessorCount=$CPUS&quot; but nothing changed. \r\nI don&#39;t have any idea anymore, why the application is killed silence (the application doesn&#39;t stopp by his self).\r\n\r\nAdd:\r\nI start the start shell script on my local machine and both java applications starts und communicate to each other, so actually is a docker configuration problem or something.","title":"Two Java application in docker one always killed","body":"<p>I have two java application who are connected via hazelcast:</p>\n<pre><code>final var clusterPort = 5701;\nfinal var hazelcastConfig = new Config();\nhazelcastConfig.setClusterName(&quot;alpha-cluster&quot;);\nhazelcastConfig.setInstanceName(instanceName);\nfinal var networkConfig = hazelcastConfig.getNetworkConfig();\nnetworkConfig.setPort(5701);\nfinal var joinConfig = networkConfig.getJoin();\njoinConfig.getMulticastConfig().setEnabled(false);\nfinal var tcpIpConfig = joinConfig.getTcpIpConfig();\ntcpIpConfig.setEnabled(true);\nfor (int port = clusterPort; port &lt; clusterPort + 10; port++) {\n        tcpIpConfig.addMember(String.format(&quot;%s:%s&quot;, this.getHost(), port));\n}\nreturn new HazelcastClusterManager(hazelcastConfig);\n</code></pre>\n<p>I have following DockerFile</p>\n<pre><code>FROM eclipse-temurin:latest\nWORKDIR /usr/src/app\nCOPY alpha-api.jar ./alpha-api.jar\nCOPY alpha-admin-ui.jar ./alpha-admin-ui.jar\nCOPY start.sh ./start.sh\nRUN chmod +x start.sh\nEXPOSE 80\nEXPOSE 8081\nEXPOSE 5701\nEXPOSE 5702\nENTRYPOINT [ &quot;sh&quot;, &quot;start.sh&quot; ]\n</code></pre>\n<p>And the ShellScript start.sh</p>\n<pre><code>#!/bin/sh\nCPUS=2\nMEMORY=512M\necho &quot;Scripts starts ...&quot;\njava -Xmx$MEMORY -XX:ActiveProcessorCount=$CPUS -jar alpha-admin-ui.jar &amp;\njava -Xmx$MEMORY -XX:ActiveProcessorCount=$CPUS -jar alpha-api.jar &amp;\nwait\n</code></pre>\n<p>At first the connections works:</p>\n<pre><code>2023-10-09 09:38:41 Members {size:2, ver:2} [\n2023-10-09 09:38:41     Member [localhost]:5701 - 0b43916b-caca-4f5b-afeb-a0fe696c9283 this\n2023-10-09 09:38:41     Member [localhost]:5702 - cb43f74b-7cc2-4e53-9af2-9bdeff5823f7\n2023-10-09 09:38:41 ]\n</code></pre>\n<p>than later the exception will be thrown:</p>\n<pre><code>2023-10-09 09:38:43 INFO: [localhost]:5701 [vlab-alpha-cluster] [4.2.7] Could not connect to: localhost/127.0.0.1:5702. Reason: IOException[Connection refused to address localhost/127.0.0.1:5702]\n2023-10-09 09:38:43 Oct 09, 2023 7:38:43 AM com.hazelcast.internal.server.tcp.TcpServerConnectionErrorHandler\n2023-10-09 09:38:43 WARNING: [localhost]:5701 [vlab-alpha-cluster] [4.2.7] Removing connection to endpoint [localhost]:5702 Cause =&gt; java.io.IOException {Connection refused to address localhost/127.0.0.1:5702}, Error-Count: 5\n</code></pre>\n<p>So I check in the container and I see the second java application is not running anymore (check via ps aux)\nThan I start the second application (alpha-api.jar) again than it works.\nSo it means the java application process is killed by the OS or  from a different system. I also start the java application directly on my local machine and it runs without any exceptions.</p>\n<p>So I thought maybe the memory or CPU is the problem so I add the &quot;-Xmx$MEMORY -XX:ActiveProcessorCount=$CPUS&quot; but nothing changed.\nI don't have any idea anymore, why the application is killed silence (the application doesn't stopp by his self).</p>\n<p>Add:\nI start the start shell script on my local machine and both java applications starts und communicate to each other, so actually is a docker configuration problem or something.</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1696920933,"post_id":77263379,"comment_id":136210789,"body_markdown":"Does this answer your question? [Spring Actuator /info returns an empty body](https://stackoverflow.com/questions/72625911/spring-actuator-info-returns-an-empty-body)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/72625911/spring-actuator-info-returns-an-empty-body\">Spring Actuator /info returns an empty body</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696921094,"post_id":77263379,"comment_id":136210817,"body_markdown":"The property is `management.info.java.enabled` not what you have.\\","body":"The property is <code>management.info.java.enabled</code> not what you have.\\"},{"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"score":0,"creation_date":1696922291,"post_id":77263379,"comment_id":136211048,"body_markdown":"I tried both management.info.java.enabled and management.endpoint.info.java.enabled - same result","body":"I tried both management.info.java.enabled and management.endpoint.info.java.enabled - same result"}],"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696919530,"creation_date":1696919530,"question_id":77263379,"body_markdown":"I have spring boot app \r\nI wanted to add info details for /actuator/info\r\nAccording to Spring Boot documentation it can be done as following \r\n\r\n    management.endpoint.info.java.enabled=true\r\nI have also defined : \r\n\r\n    management.endpoints.web.exposure.include=info, health\r\n\r\nBut when accessing &lt;myappurl&gt;/actuator/info , I got empty response `{}`\r\nIs there something missing in definition ? \r\nThanks in advance \r\n  ","title":"Empty response from /actuator/info","body":"<p>I have spring boot app\nI wanted to add info details for /actuator/info\nAccording to Spring Boot documentation it can be done as following</p>\n<pre><code>management.endpoint.info.java.enabled=true\n</code></pre>\n<p>I have also defined :</p>\n<pre><code>management.endpoints.web.exposure.include=info, health\n</code></pre>\n<p>But when accessing /actuator/info , I got empty response <code>{}</code>\nIs there something missing in definition ?\nThanks in advance</p>\n"},{"tags":["java","spring","spring-mvc","model-view-controller"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696711541,"post_id":77250998,"comment_id":136189177,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":29621285,"reputation":1,"user_id":22702203,"display_name":"cs0"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696918593,"creation_date":1696702993,"question_id":77250998,"body_markdown":"I got a problem when I use @ModelAttribute\r\n\r\nthere always got value from different field  and set the one class property \r\nhere is code \r\n\r\n\r\n```\r\n    @GetMapping(&quot;/form&quot;)\r\n    public String form(Model theModel){\r\n        theModel.addAttribute(&quot;student&quot;, new Student());\r\n        theModel.addAttribute(&quot;teacher&quot;, new Teacher());\r\n        theModel.addAttribute(&quot;countries&quot;, countries);\r\n        theModel.addAttribute(&quot;language&quot;, language);\r\n\r\n        return &quot;form&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/student&quot;)\r\n    public String showStudent(\r\n            @ModelAttribute(&quot;student&quot;) Student student,\r\n            @ModelAttribute(&quot;teacher&quot;) Teacher teacher,\r\n                              Model theModel)\r\n    {\r\n        System.out.println(student.getName());\r\n        System.out.println(teacher.getName());\r\n        theModel.addAttribute(&quot;student&quot;,student);\r\n        theModel.addAttribute(&quot;teacher&quot;,teacher);\r\n        return &quot;student&quot;;\r\n    }`\r\n\r\n\r\n```\r\n```\r\n&lt;body&gt;\r\n&lt;h1&gt;EnterInfo&lt;/h1&gt;\r\n&lt;form th:action=&quot;@{/student}&quot;  method=&quot;post&quot;&gt;\r\n    &lt;p&gt;student info&lt;/p&gt;\r\n  &lt;label for=&quot;name&quot;&gt;StudentName：&lt;/label&gt;\r\n  &lt;input type=&quot;text&quot; id=&quot;name&quot; th:field=&quot;*{student.name}&quot; required=&quot;required&quot; /&gt;\r\n&lt;!--                                       Student.setName--&gt;\r\n  &lt;br /&gt;\r\n\r\n  &lt;label for=&quot;age&quot;&gt;StudentAge：&lt;/label&gt;\r\n  &lt;input type=&quot;number&quot; id=&quot;age&quot; th:field=&quot;*{student.age}&quot; required=&quot;required&quot; /&gt;\r\n  &lt;br /&gt;\r\n\r\n    StudentCountry :\r\n    &lt;select th:field=&quot;*{student.country}&quot;&gt;\r\n&lt;!--                             Student.setCountry--&gt;\r\n    &lt;option th:each=&quot;tempCountry : ${countries}&quot; th:value=&quot;${tempCountry}&quot; th:text=&quot;${tempCountry}&quot;&gt;&lt;/option&gt;\r\n    &lt;/select&gt;\r\n\r\n    &lt;br&gt;\r\n    &lt;label&gt;StudentLanguage：&lt;/label&gt;\r\n    &lt;input th:field=&quot;*{student.language}&quot; type=&quot;radio&quot;\r\n           th:each=&quot;tempLang : ${language}&quot; th:value=&quot;${tempLang}&quot; th:text=&quot;${tempLang}&quot; &gt;\r\n    &lt;br&gt;\r\n\r\n    &lt;label&gt;StudentSkills：&lt;/label&gt;\r\n    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{student.Skill}&quot; value=&quot;Java&quot; /&gt; Java\r\n    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{student.Skill}&quot; value=&quot;Python&quot; /&gt; Python\r\n    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{student.Skill}&quot; value=&quot;C++&quot; /&gt; C++\r\n    &lt;br&gt;\r\n    &lt;br&gt;\r\n    &lt;br&gt;\r\n    &lt;p&gt;teacher info&lt;/p&gt;\r\n    &lt;label for=&quot;tname&quot;&gt;TeacherName：&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;tname&quot; th:field=&quot;*{teacher.name}&quot; required=&quot;required&quot; /&gt;\r\n\r\n    &lt;br /&gt;\r\n    &lt;label for=&quot;tage&quot;&gt;TeacherAge：&lt;/label&gt;\r\n    &lt;input type=&quot;number&quot; id=&quot;tage&quot; th:field=&quot;*{teacher.age}&quot; required=&quot;required&quot; /&gt;\r\n    &lt;br /&gt;\r\n    TeacherCountry :\r\n    &lt;select th:field=&quot;*{teacher.country}&quot;&gt;\r\n        &lt;option th:each=&quot;tempCountry : ${countries}&quot; th:value=&quot;${tempCountry}&quot; th:text=&quot;${tempCountry}&quot;&gt;&lt;/option&gt;\r\n    &lt;/select&gt;\r\n&lt;br&gt;\r\n    &lt;label&gt;StudentLanguage：&lt;/label&gt;\r\n    &lt;input th:field=&quot;*{teacher.language}&quot; type=&quot;radio&quot;\r\n           th:each=&quot;tempLang : ${language}&quot; th:value=&quot;${tempLang}&quot; th:text=&quot;${tempLang}&quot; &gt;\r\n    &lt;br&gt;\r\n\r\n    &lt;label&gt;StudentSkills：&lt;/label&gt;\r\n    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{teacher.Skill}&quot; value=&quot;Java&quot; /&gt; Java\r\n    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{teacher.Skill}&quot; value=&quot;Python&quot; /&gt; Python\r\n    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{teacher.Skill}&quot; value=&quot;C++&quot; /&gt; C++\r\n    &lt;br&gt;\r\n\r\n    &lt;label for=&quot;tsub&quot;&gt;TeacherSubject：&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;tsub&quot; th:field=&quot;*{teacher.subject}&quot; required=&quot;required&quot; /&gt;\r\n\r\n    &lt;br&gt;\r\n  &lt;input type=&quot;submit&quot; value=&quot;提交&quot; /&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n```\r\n\r\n\r\nhere is result\r\n\r\n```&lt;body&gt;\r\n&lt;h1&gt;result 1&lt;/h1&gt;\r\n&lt;p&gt;S_name: &lt;span th:text=&quot;${student.name}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\r\n&lt;p&gt;S_age: &lt;span th:text=&quot;${student.age}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\r\n&lt;p&gt;S_country: &lt;span th:text=&quot;${student.country}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\r\n&lt;p&gt;S_lang: &lt;span th:text=&quot;${student.language}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\r\n&lt;p&gt;S_skills: &lt;span th:each=&quot;skill: ${student.Skill}&quot;   th:text=&quot;${skill+&#39; &#39;} &quot;&gt;&lt;/span&gt;&lt;/p&gt;\r\n\r\n\r\n&lt;h1&gt;result 2&lt;/h1&gt;\r\n&lt;p&gt;t_name: &lt;span th:text=&quot;${teacher.name}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\r\n&lt;p&gt;t_age: &lt;span th:text=&quot;${teacher.age}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\r\n&lt;p&gt;t_country: &lt;span th:text=&quot;${teacher.country}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\r\n&lt;p&gt;t_lang: &lt;span th:text=&quot;${teacher.language}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\r\n&lt;p&gt;t_skills: &lt;span th:each=&quot;skill: ${teacher.Skill}&quot;   th:text=&quot;${skill+&#39; &#39;} &quot;&gt;&lt;/span&gt;&lt;/p&gt;\r\n&lt;p&gt;t_sub: &lt;span th:text=&quot;${teacher.subject}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\r\n```\r\nas the pic They all have all the information from different input I entered, rather than each of them individually\r\n(https://i.stack.imgur.com/xKRa8.png)(https://i.stack.imgur.com/Eqtvb.png)(https://i.stack.imgur.com/7sNgo.png)\r\n\r\n\r\n\r\nI try many time and ask gpt but still confused and did not resolve","title":"Spring MVC-binding multiple object by model","body":"<p>I got a problem when I use @ModelAttribute</p>\n<p>there always got value from different field  and set the one class property\nhere is code</p>\n<pre><code>    @GetMapping(&quot;/form&quot;)\n    public String form(Model theModel){\n        theModel.addAttribute(&quot;student&quot;, new Student());\n        theModel.addAttribute(&quot;teacher&quot;, new Teacher());\n        theModel.addAttribute(&quot;countries&quot;, countries);\n        theModel.addAttribute(&quot;language&quot;, language);\n\n        return &quot;form&quot;;\n    }\n\n    @PostMapping(&quot;/student&quot;)\n    public String showStudent(\n            @ModelAttribute(&quot;student&quot;) Student student,\n            @ModelAttribute(&quot;teacher&quot;) Teacher teacher,\n                              Model theModel)\n    {\n        System.out.println(student.getName());\n        System.out.println(teacher.getName());\n        theModel.addAttribute(&quot;student&quot;,student);\n        theModel.addAttribute(&quot;teacher&quot;,teacher);\n        return &quot;student&quot;;\n    }`\n\n\n</code></pre>\n<pre><code>&lt;body&gt;\n&lt;h1&gt;EnterInfo&lt;/h1&gt;\n&lt;form th:action=&quot;@{/student}&quot;  method=&quot;post&quot;&gt;\n    &lt;p&gt;student info&lt;/p&gt;\n  &lt;label for=&quot;name&quot;&gt;StudentName：&lt;/label&gt;\n  &lt;input type=&quot;text&quot; id=&quot;name&quot; th:field=&quot;*{student.name}&quot; required=&quot;required&quot; /&gt;\n&lt;!--                                       Student.setName--&gt;\n  &lt;br /&gt;\n\n  &lt;label for=&quot;age&quot;&gt;StudentAge：&lt;/label&gt;\n  &lt;input type=&quot;number&quot; id=&quot;age&quot; th:field=&quot;*{student.age}&quot; required=&quot;required&quot; /&gt;\n  &lt;br /&gt;\n\n    StudentCountry :\n    &lt;select th:field=&quot;*{student.country}&quot;&gt;\n&lt;!--                             Student.setCountry--&gt;\n    &lt;option th:each=&quot;tempCountry : ${countries}&quot; th:value=&quot;${tempCountry}&quot; th:text=&quot;${tempCountry}&quot;&gt;&lt;/option&gt;\n    &lt;/select&gt;\n\n    &lt;br&gt;\n    &lt;label&gt;StudentLanguage：&lt;/label&gt;\n    &lt;input th:field=&quot;*{student.language}&quot; type=&quot;radio&quot;\n           th:each=&quot;tempLang : ${language}&quot; th:value=&quot;${tempLang}&quot; th:text=&quot;${tempLang}&quot; &gt;\n    &lt;br&gt;\n\n    &lt;label&gt;StudentSkills：&lt;/label&gt;\n    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{student.Skill}&quot; value=&quot;Java&quot; /&gt; Java\n    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{student.Skill}&quot; value=&quot;Python&quot; /&gt; Python\n    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{student.Skill}&quot; value=&quot;C++&quot; /&gt; C++\n    &lt;br&gt;\n    &lt;br&gt;\n    &lt;br&gt;\n    &lt;p&gt;teacher info&lt;/p&gt;\n    &lt;label for=&quot;tname&quot;&gt;TeacherName：&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;tname&quot; th:field=&quot;*{teacher.name}&quot; required=&quot;required&quot; /&gt;\n\n    &lt;br /&gt;\n    &lt;label for=&quot;tage&quot;&gt;TeacherAge：&lt;/label&gt;\n    &lt;input type=&quot;number&quot; id=&quot;tage&quot; th:field=&quot;*{teacher.age}&quot; required=&quot;required&quot; /&gt;\n    &lt;br /&gt;\n    TeacherCountry :\n    &lt;select th:field=&quot;*{teacher.country}&quot;&gt;\n        &lt;option th:each=&quot;tempCountry : ${countries}&quot; th:value=&quot;${tempCountry}&quot; th:text=&quot;${tempCountry}&quot;&gt;&lt;/option&gt;\n    &lt;/select&gt;\n&lt;br&gt;\n    &lt;label&gt;StudentLanguage：&lt;/label&gt;\n    &lt;input th:field=&quot;*{teacher.language}&quot; type=&quot;radio&quot;\n           th:each=&quot;tempLang : ${language}&quot; th:value=&quot;${tempLang}&quot; th:text=&quot;${tempLang}&quot; &gt;\n    &lt;br&gt;\n\n    &lt;label&gt;StudentSkills：&lt;/label&gt;\n    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{teacher.Skill}&quot; value=&quot;Java&quot; /&gt; Java\n    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{teacher.Skill}&quot; value=&quot;Python&quot; /&gt; Python\n    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{teacher.Skill}&quot; value=&quot;C++&quot; /&gt; C++\n    &lt;br&gt;\n\n    &lt;label for=&quot;tsub&quot;&gt;TeacherSubject：&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;tsub&quot; th:field=&quot;*{teacher.subject}&quot; required=&quot;required&quot; /&gt;\n\n    &lt;br&gt;\n  &lt;input type=&quot;submit&quot; value=&quot;提交&quot; /&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n</code></pre>\n<p>here is result</p>\n<pre><code>&lt;h1&gt;result 1&lt;/h1&gt;\n&lt;p&gt;S_name: &lt;span th:text=&quot;${student.name}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p&gt;S_age: &lt;span th:text=&quot;${student.age}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p&gt;S_country: &lt;span th:text=&quot;${student.country}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p&gt;S_lang: &lt;span th:text=&quot;${student.language}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p&gt;S_skills: &lt;span th:each=&quot;skill: ${student.Skill}&quot;   th:text=&quot;${skill+' '} &quot;&gt;&lt;/span&gt;&lt;/p&gt;\n\n\n&lt;h1&gt;result 2&lt;/h1&gt;\n&lt;p&gt;t_name: &lt;span th:text=&quot;${teacher.name}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p&gt;t_age: &lt;span th:text=&quot;${teacher.age}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p&gt;t_country: &lt;span th:text=&quot;${teacher.country}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p&gt;t_lang: &lt;span th:text=&quot;${teacher.language}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p&gt;t_skills: &lt;span th:each=&quot;skill: ${teacher.Skill}&quot;   th:text=&quot;${skill+' '} &quot;&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p&gt;t_sub: &lt;span th:text=&quot;${teacher.subject}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\n</code></pre>\n<p>as the pic They all have all the information from different input I entered, rather than each of them individually\n(<a href=\"https://i.stack.imgur.com/xKRa8.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/xKRa8.png</a>)(<a href=\"https://i.stack.imgur.com/Eqtvb.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Eqtvb.png</a>)(<a href=\"https://i.stack.imgur.com/7sNgo.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/7sNgo.png</a>)</p>\n<p>I try many time and ask gpt but still confused and did not resolve</p>\n"},{"tags":["java","eclipse","generics","variadic-functions"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":11,"creation_date":1347894917,"post_id":12462079,"comment_id":16761259,"body_markdown":"Details here: http://docs.oracle.com/javase/specs/jls/se7/html/jls-9.html#jls-9.6.3.7","body":"Details here: <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-9.html#jls-9.6.3.7\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/html/&hellip;</a>"},{"owner":{"account_id":486869,"reputation":7334,"user_id":1157100,"accept_rate":62,"display_name":"200_success"},"score":0,"creation_date":1406700556,"post_id":12462079,"comment_id":38926549,"body_markdown":"possible duplicate of [Java 1.7 varargs function reported as unchecked warning](http://stackoverflow.com/questions/11185774/java-1-7-varargs-function-reported-as-unchecked-warning)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/11185774/java-1-7-varargs-function-reported-as-unchecked-warning\">Java 1.7 varargs function reported as unchecked warning</a>"},{"owner":{"account_id":1266843,"reputation":93064,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"score":0,"creation_date":1548758838,"post_id":12462079,"comment_id":95648178,"body_markdown":"I am seeing this in my editor: `Possible heap pollution from parameterized vararg type`","body":"I am seeing this in my editor: <code>Possible heap pollution from parameterized vararg type</code>"},{"owner":{"account_id":2851272,"reputation":1349,"user_id":2448440,"accept_rate":50,"display_name":"Qw3ry"},"score":2,"creation_date":1619686900,"post_id":12462079,"comment_id":118981991,"body_markdown":"If you are confused (like me) when you can safely use the annotation, [here](https://stackoverflow.com/q/14231037/2448440) is a useful explanation to check whether your method is safe to annotate with `@SafeVarargs`","body":"If you are confused (like me) when you can safely use the annotation, <a href=\"https://stackoverflow.com/q/14231037/2448440\">here</a> is a useful explanation to check whether your method is safe to annotate with <code>@SafeVarargs</code>"},{"owner":{"account_id":3387473,"reputation":2354,"user_id":2843151,"accept_rate":89,"display_name":"bikeman868"},"score":0,"creation_date":1672795808,"post_id":12462079,"comment_id":132353061,"body_markdown":"I would like to know why Java has this issue when C# does not. Is Java really that broken?","body":"I would like to know why Java has this issue when C# does not. Is Java really that broken?"}],"answers":[{"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1347895213,"post_id":12462237,"comment_id":16761412,"body_markdown":"The additional compiler restrictions on its use don&#39;t seem especially relevant.","body":"The additional compiler restrictions on its use don&#39;t seem especially relevant."}],"tags":[],"owner":{"account_id":190177,"reputation":10331,"user_id":429972,"accept_rate":67,"display_name":"jontro"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1347894873,"creation_date":1347894873,"answer_id":12462237,"question_id":12462079,"body_markdown":"`@SafeVarargs` does not prevent it from happening, however it mandates that the compiler is stricter when compiling code that uses it. \r\n\r\nhttp://docs.oracle.com/javase/7/docs/api/java/lang/SafeVarargs.html explains this in futher detail.\r\n\r\nHeap pollution is when you get a `ClassCastException` when doing an operation on a generic interface and it contains another type than declared.\r\n\r\n","title":"Possible heap pollution via varargs parameter","body":"<p><code>@SafeVarargs</code> does not prevent it from happening, however it mandates that the compiler is stricter when compiling code that uses it. </p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/SafeVarargs.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/lang/SafeVarargs.html</a> explains this in futher detail.</p>\n\n<p>Heap pollution is when you get a <code>ClassCastException</code> when doing an operation on a generic interface and it contains another type than declared.</p>\n"},{"comments":[{"owner":{"account_id":50566,"reputation":9545,"user_id":150884,"accept_rate":83,"display_name":"hertzsprung"},"score":2,"creation_date":1347897793,"post_id":12462259,"comment_id":16762612,"body_markdown":"So are we saying that the heap is polluted because it contains references whose types are not what we might expect? (List&lt;A&gt; vs List&lt;B&gt; in your example)","body":"So are we saying that the heap is polluted because it contains references whose types are not what we might expect? (List&lt;A&gt; vs List&lt;B&gt; in your example)"},{"owner":{"account_id":50566,"reputation":9545,"user_id":150884,"accept_rate":83,"display_name":"hertzsprung"},"score":47,"creation_date":1347897927,"post_id":12462259,"comment_id":16762676,"body_markdown":"I&#39;ve found [an explanation of heap pollution on programmers.stackexchange](http://programmers.stackexchange.com/questions/155994/java-heap-pollution)","body":"I&#39;ve found <a href=\"http://programmers.stackexchange.com/questions/155994/java-heap-pollution\">an explanation of heap pollution on programmers.stackexchange</a>"},{"owner":{"account_id":45531,"reputation":25386,"user_id":134252,"accept_rate":66,"display_name":"Dolda2000"},"score":52,"creation_date":1495243216,"post_id":12462259,"comment_id":75185579,"body_markdown":"This answer is a fine explanation of what heap pollution is, but it doesn&#39;t really explain why varargs are so particularly likely to cause it as to warrant a specific warning.","body":"This answer is a fine explanation of what heap pollution is, but it doesn&#39;t really explain why varargs are so particularly likely to cause it as to warrant a specific warning."},{"owner":{"account_id":1431635,"reputation":5085,"user_id":1353930,"accept_rate":50,"display_name":"Daniel Alder"},"score":8,"creation_date":1552551928,"post_id":12462259,"comment_id":97054901,"body_markdown":"Me too, I&#39;m missing information how to ensure that my code does not contain this problem (eg. how do I know it&#39;s hardened enough to add @SafeVarargs)","body":"Me too, I&#39;m missing information how to ensure that my code does not contain this problem (eg. how do I know it&#39;s hardened enough to add @SafeVarargs)"}],"tags":[],"owner":{"account_id":405514,"reputation":6111,"user_id":774444,"display_name":"Ben Schulz"},"comment_count":4,"down_vote_count":5,"up_vote_count":320,"is_accepted":true,"score":315,"last_activity_date":1696918208,"creation_date":1347894962,"answer_id":12462259,"question_id":12462079,"body_markdown":"Heap pollution is a technical term. It refers to references which have a type that is not a supertype of the object they point to.\r\n\r\n    List&lt;A&gt; listOfAs = new ArrayList&lt;&gt;();\r\n    List&lt;B&gt; listOfBs = (List&lt;B&gt;)(Object)listOfAs; // points to a list of As\r\n\r\nThis can lead to &quot;unexplainable&quot; `ClassCastException`s.\r\n\r\n    // if the heap never gets polluted, this should never throw a CCE\r\n    B b = listOfBs.get(0); \r\n\r\n`@SafeVarargs` does not prevent this at all. However, there are methods which provably will not pollute the heap, the compiler just can&#39;t prove it. Previously, callers of such APIs would get annoying warnings that were completely pointless but had to be suppressed at every call site. Now the API author can suppress it once at the declaration site.\r\n\r\nHowever, if the method actually is *not* safe, users will no longer be warned.","title":"Possible heap pollution via varargs parameter","body":"<p>Heap pollution is a technical term. It refers to references which have a type that is not a supertype of the object they point to.</p>\n<pre><code>List&lt;A&gt; listOfAs = new ArrayList&lt;&gt;();\nList&lt;B&gt; listOfBs = (List&lt;B&gt;)(Object)listOfAs; // points to a list of As\n</code></pre>\n<p>This can lead to &quot;unexplainable&quot; <code>ClassCastException</code>s.</p>\n<pre><code>// if the heap never gets polluted, this should never throw a CCE\nB b = listOfBs.get(0); \n</code></pre>\n<p><code>@SafeVarargs</code> does not prevent this at all. However, there are methods which provably will not pollute the heap, the compiler just can't prove it. Previously, callers of such APIs would get annoying warnings that were completely pointless but had to be suppressed at every call site. Now the API author can suppress it once at the declaration site.</p>\n<p>However, if the method actually is <em>not</em> safe, users will no longer be warned.</p>\n"},{"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":6,"creation_date":1347895391,"post_id":12462358,"comment_id":16761484,"body_markdown":"Interesting though it doesn&#39;t really answer his question about `@SafeVarargs`.","body":"Interesting though it doesn&#39;t really answer his question about <code>@SafeVarargs</code>."},{"owner":{"account_id":294084,"reputation":977,"user_id":597767,"accept_rate":75,"display_name":"Doradus"},"score":2,"creation_date":1504990318,"post_id":12462358,"comment_id":79232198,"body_markdown":"Nope.  That&#39;s not what heap pollution is.  &quot;Heap pollution occurs when a variable of a parameterized type refers to an object that is not of that parameterized type.&quot; Ref: http://docs.oracle.com/javase/tutorial/java/generics/nonReifiableVarargsType.html#heap_pollution","body":"Nope.  That&#39;s not what heap pollution is.  &quot;Heap pollution occurs when a variable of a parameterized type refers to an object that is not of that parameterized type.&quot; Ref: <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/nonReifiableVarargsType.html#heap_pollution\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/&hellip;</a>"}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1696918460,"creation_date":1347895316,"answer_id":12462358,"question_id":12462079,"body_markdown":"When you use varargs, it can result in the creation of an `Object[]` to hold the arguments.\r\n\r\nDue to escape analysis, the JIT can optimise away this array creation. (One of the few times I have found it does so) It&#39;s not guaranteed to be optimised away, but I wouldn&#39;t worry about it unless you see it&#39;s an issue in your memory profiler.\r\n\r\nAFAIK `@SafeVarargs` suppresses a warning by the compiler and doesn&#39;t change how the JIT behaves.","title":"Possible heap pollution via varargs parameter","body":"<p>When you use varargs, it can result in the creation of an <code>Object[]</code> to hold the arguments.</p>\n<p>Due to escape analysis, the JIT can optimise away this array creation. (One of the few times I have found it does so) It's not guaranteed to be optimised away, but I wouldn't worry about it unless you see it's an issue in your memory profiler.</p>\n<p>AFAIK <code>@SafeVarargs</code> suppresses a warning by the compiler and doesn't change how the JIT behaves.</p>\n"},{"comments":[{"owner":{"account_id":333711,"reputation":4480,"user_id":659715,"accept_rate":88,"display_name":"djeikyb"},"score":3,"creation_date":1400782674,"post_id":16381390,"comment_id":36635495,"body_markdown":"I think I&#39;m understanding better. The danger comes when you cast varargs to `Object[]`. As long as you don&#39;t cast to `Object[]`, it sounds like you should be fine.","body":"I think I&#39;m understanding better. The danger comes when you cast varargs to <code>Object[]</code>. As long as you don&#39;t cast to <code>Object[]</code>, it sounds like you should be fine."},{"owner":{"account_id":333711,"reputation":4480,"user_id":659715,"accept_rate":88,"display_name":"djeikyb"},"score":3,"creation_date":1400782737,"post_id":16381390,"comment_id":36635531,"body_markdown":"As an example of a stupid thing you could do: `static &lt;T&gt; void bar(T...args) { ((Object[])args)[0] = &quot;a&quot;; }`. And then call `bar(Arrays.asList(1,2));`.","body":"As an example of a stupid thing you could do: <code>static &lt;T&gt; void bar(T...args) { ((Object[])args)[0] = &quot;a&quot;; }</code>. And then call <code>bar(Arrays.asList(1,2));</code>."},{"owner":{"account_id":3045812,"reputation":1188,"user_id":2581506,"display_name":"Eran H."},"score":0,"creation_date":1450687490,"post_id":16381390,"comment_id":56524650,"body_markdown":"This does not compile since the type of ```bar[0]``` is a List, not T","body":"This does not compile since the type of <code>bar[0]</code> is a List, not T"},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1450689184,"post_id":16381390,"comment_id":56525566,"body_markdown":"@EranH. Fixed (I think). Try now.","body":"@EranH. Fixed (I think). Try now."},{"owner":{"account_id":2851272,"reputation":1349,"user_id":2448440,"accept_rate":50,"display_name":"Qw3ry"},"score":1,"creation_date":1477922184,"post_id":16381390,"comment_id":67941351,"body_markdown":"@djeikyb if the danger only arises if I cast to `Object[]` why would the compiler trigger a warning if I don&#39;t? Should be fairly easy to check this at compile-time, after all (in case I don&#39;t pass it on to another function with a similar signature, in which case the other function should trigger a warning).\nI don&#39;t believe this is really the core of the warning (&quot;You&#39;re safe if you don&#39;t cast&quot;), and I still don&#39;t understand in which case I&#39;m fine.","body":"@djeikyb if the danger only arises if I cast to <code>Object[]</code> why would the compiler trigger a warning if I don&#39;t? Should be fairly easy to check this at compile-time, after all (in case I don&#39;t pass it on to another function with a similar signature, in which case the other function should trigger a warning). I don&#39;t believe this is really the core of the warning (&quot;You&#39;re safe if you don&#39;t cast&quot;), and I still don&#39;t understand in which case I&#39;m fine."},{"owner":{"account_id":5783887,"reputation":3326,"user_id":4563745,"accept_rate":80,"display_name":"Vasiliy Vlasov"},"score":7,"creation_date":1496849438,"post_id":16381390,"comment_id":75832791,"body_markdown":"@djeikyb You may do exactly the same stupid thing without parametrized varargs (e.g. `bar(Integer...args)`). So what&#39;s the point of this warning then?","body":"@djeikyb You may do exactly the same stupid thing without parametrized varargs (e.g. <code>bar(Integer...args)</code>). So what&#39;s the point of this warning then?"},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":5,"creation_date":1496941710,"post_id":16381390,"comment_id":75881128,"body_markdown":"@VasiliyVlasov This issue is only relevant for parameterized varargs. If you try to do the same thing with non-typed arrays the runtime will prevent you from inserting the wrong type into the array. The compiler is warning you that the runtime will be unable to prevent incorrect behavior because the parameter type is unknown at runtime (by contrast, arrays *do* know the type of their non-generic elements at runtime).","body":"@VasiliyVlasov This issue is only relevant for parameterized varargs. If you try to do the same thing with non-typed arrays the runtime will prevent you from inserting the wrong type into the array. The compiler is warning you that the runtime will be unable to prevent incorrect behavior because the parameter type is unknown at runtime (by contrast, arrays <i>do</i> know the type of their non-generic elements at runtime)."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1561385318,"post_id":16381390,"comment_id":100035426,"body_markdown":"Completely off-topic: you should never use the constructor of `Integer`. It&#39;ll bypass the internal caching mechanism of the `Integer` class. Its use is also deprecated in newer Java versions. Use `Integer.valueOf(int)` instead.","body":"Completely off-topic: you should never use the constructor of <code>Integer</code>. It&#39;ll bypass the internal caching mechanism of the <code>Integer</code> class. Its use is also deprecated in newer Java versions. Use <code>Integer.valueOf(int)</code> instead."}],"tags":[],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":8,"down_vote_count":0,"up_vote_count":300,"is_accepted":false,"score":300,"last_activity_date":1562611817,"creation_date":1367727946,"answer_id":16381390,"question_id":12462079,"body_markdown":"When you declare\r\n\r\n`public static &lt;T&gt; void foo(List&lt;T&gt;... bar)` the compiler converts it to\r\n\r\n`public static &lt;T&gt; void foo(List&lt;T&gt;[] bar)` then to\r\n\r\n`public static void foo(List[] bar)`\r\n\r\nThe danger then arises that you&#39;ll mistakenly assign incorrect values into the list and the compiler will not trigger any error. For example, if `T` is a `String` then the following code will compile without error but will fail at runtime:\r\n\r\n    // First, strip away the array type (arrays allow this kind of upcasting)\r\n    Object[] objectArray = bar;\r\n\r\n    // Next, insert an element with an incorrect type into the array\r\n    objectArray[0] = Arrays.asList(new Integer(42));\r\n\r\n    // Finally, try accessing the original array. A runtime error will occur\r\n    // (ClassCastException due to a casting from Integer to String)\r\n    T firstElement = bar[0].get(0);\r\n\r\nIf you reviewed the method to ensure that it doesn&#39;t contain such vulnerabilities then you can annotate it with `@SafeVarargs` to suppress the warning. For interfaces, use `@SuppressWarnings(&quot;unchecked&quot;)`.\r\n\r\nIf you get this error message:\r\n\r\n&gt; Varargs method could cause heap pollution from non-reifiable varargs parameter\r\n\r\nand you are sure that your usage is safe then you should use `@SuppressWarnings(&quot;varargs&quot;)` instead. See https://stackoverflow.com/q/30130262/14731 and https://stackoverflow.com/a/14252221/14731 for a nice explanation of this second kind of error.\r\n\r\nReferences:\r\n\r\n* http://docs.oracle.com/javase/7/docs/technotes/guides/language/non-reifiable-varargs.html\r\n* http://docs.oracle.com/javase/tutorial/java/generics/nonReifiableVarargsType.html#heap_pollution","title":"Possible heap pollution via varargs parameter","body":"<p>When you declare</p>\n\n<p><code>public static &lt;T&gt; void foo(List&lt;T&gt;... bar)</code> the compiler converts it to</p>\n\n<p><code>public static &lt;T&gt; void foo(List&lt;T&gt;[] bar)</code> then to</p>\n\n<p><code>public static void foo(List[] bar)</code></p>\n\n<p>The danger then arises that you'll mistakenly assign incorrect values into the list and the compiler will not trigger any error. For example, if <code>T</code> is a <code>String</code> then the following code will compile without error but will fail at runtime:</p>\n\n<pre><code>// First, strip away the array type (arrays allow this kind of upcasting)\nObject[] objectArray = bar;\n\n// Next, insert an element with an incorrect type into the array\nobjectArray[0] = Arrays.asList(new Integer(42));\n\n// Finally, try accessing the original array. A runtime error will occur\n// (ClassCastException due to a casting from Integer to String)\nT firstElement = bar[0].get(0);\n</code></pre>\n\n<p>If you reviewed the method to ensure that it doesn't contain such vulnerabilities then you can annotate it with <code>@SafeVarargs</code> to suppress the warning. For interfaces, use <code>@SuppressWarnings(\"unchecked\")</code>.</p>\n\n<p>If you get this error message:</p>\n\n<blockquote>\n  <p>Varargs method could cause heap pollution from non-reifiable varargs parameter</p>\n</blockquote>\n\n<p>and you are sure that your usage is safe then you should use <code>@SuppressWarnings(\"varargs\")</code> instead. See <a href=\"https://stackoverflow.com/q/30130262/14731\">Is @SafeVarargs an appropriate annotation for this method?</a> and <a href=\"https://stackoverflow.com/a/14252221/14731\">https://stackoverflow.com/a/14252221/14731</a> for a nice explanation of this second kind of error.</p>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/language/non-reifiable-varargs.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/technotes/guides/language/non-reifiable-varargs.html</a></li>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/java/generics/nonReifiableVarargsType.html#heap_pollution\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/java/generics/nonReifiableVarargsType.html#heap_pollution</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1137268,"reputation":1777,"user_id":1122069,"accept_rate":68,"display_name":"user1122069"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532646690,"creation_date":1532646358,"answer_id":51548624,"question_id":12462079,"body_markdown":"The reason is because varargs give the option of being called with a non-parametrized object array. So if your type was List &lt; A &gt; ... , it can also be called with List[] non-varargs type.\r\n\r\nHere is an example:\r\n\r\n    public static void testCode(){\r\n        List[] b = new List[1];\r\n        test(b);\r\n    }\r\n\r\n    @SafeVarargs\r\n    public static void test(List&lt;A&gt;... a){\r\n    }\r\n\r\n\r\nAs you can see List[] b can contain any type of consumer, and yet this code compiles. If you use varargs, then you are fine, but if you use the method definition after type-erasure - void test(List[]) - then the compiler will not check the template parameter types. @SafeVarargs will suppress this warning.","title":"Possible heap pollution via varargs parameter","body":"<p>The reason is because varargs give the option of being called with a non-parametrized object array. So if your type was List &lt; A > ... , it can also be called with List[] non-varargs type.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>public static void testCode(){\n    List[] b = new List[1];\n    test(b);\n}\n\n@SafeVarargs\npublic static void test(List&lt;A&gt;... a){\n}\n</code></pre>\n\n<p>As you can see List[] b can contain any type of consumer, and yet this code compiles. If you use varargs, then you are fine, but if you use the method definition after type-erasure - void test(List[]) - then the compiler will not check the template parameter types. @SafeVarargs will suppress this warning.</p>\n"},{"tags":[],"owner":{"account_id":937533,"reputation":4930,"user_id":966185,"accept_rate":81,"display_name":"Pavel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696918535,"creation_date":1610021020,"answer_id":65612071,"question_id":12462079,"body_markdown":"It&#39;s rather safe to add `@SafeVarargs` annotation to the method when you can control the way it&#39;s called (e.g. a private method of a class). You must make sure that only the instances of the declared generic type are passed to the method.\r\n\r\nIf the method is exposed externally as a library, it becomes hard to catch such mistakes. In this case, it&#39;s best to avoid this annotation and rewrite the solution with a collection type (e.g. `Collection&lt;Type1&lt;Type2&gt;&gt;`) input instead of varargs (`Type1&lt;Type2&gt;...`).\r\n\r\nAs for the naming, the term *heap pollution* phenomenon is quite misleading in my opinion. In the [documentation][1], the actual JVM *heap* is not even mentioned. There is a [question][2] at Software Engineering that contains some interesting thoughts on the naming of this phenomenon.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/nonReifiableVarargsType.html\r\n  [2]: https://softwareengineering.stackexchange.com/questions/155994/java-heap-pollution","title":"Possible heap pollution via varargs parameter","body":"<p>It's rather safe to add <code>@SafeVarargs</code> annotation to the method when you can control the way it's called (e.g. a private method of a class). You must make sure that only the instances of the declared generic type are passed to the method.</p>\n<p>If the method is exposed externally as a library, it becomes hard to catch such mistakes. In this case, it's best to avoid this annotation and rewrite the solution with a collection type (e.g. <code>Collection&lt;Type1&lt;Type2&gt;&gt;</code>) input instead of varargs (<code>Type1&lt;Type2&gt;...</code>).</p>\n<p>As for the naming, the term <em>heap pollution</em> phenomenon is quite misleading in my opinion. In the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/nonReifiableVarargsType.html\" rel=\"nofollow noreferrer\">documentation</a>, the actual JVM <em>heap</em> is not even mentioned. There is a <a href=\"https://softwareengineering.stackexchange.com/questions/155994/java-heap-pollution\">question</a> at Software Engineering that contains some interesting thoughts on the naming of this phenomenon.</p>\n"}],"owner":{"account_id":50566,"reputation":9545,"user_id":150884,"accept_rate":83,"display_name":"hertzsprung"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151070,"favorite_count":0,"down_vote_count":0,"up_vote_count":540,"accepted_answer_id":12462259,"answer_count":6,"score":540,"last_activity_date":1696918535,"creation_date":1347894252,"question_id":12462079,"body_markdown":"I understand this occurs with Java 7 when using varargs with a generic type;\r\n\r\nBut my question is..\r\n\r\nWhat exactly does Eclipse mean when it says &quot;its use could potentially pollute the heap?&quot;\r\n\r\nAnd \r\n\r\nHow does the new `@SafeVarargs` annotation prevent this?","title":"Possible heap pollution via varargs parameter","body":"<p>I understand this occurs with Java 7 when using varargs with a generic type;</p>\n\n<p>But my question is..</p>\n\n<p>What exactly does Eclipse mean when it says \"its use could potentially pollute the heap?\"</p>\n\n<p>And </p>\n\n<p>How does the new <code>@SafeVarargs</code> annotation prevent this?</p>\n"},{"tags":["java","maven","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":2,"creation_date":1646645210,"post_id":71368616,"comment_id":126166034,"body_markdown":"Perhaps try clearing out your `~/.m2/repository` directory and try again?","body":"Perhaps try clearing out your <code>~&#47;.m2&#47;repository</code> directory and try again?"},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1646675557,"post_id":71368616,"comment_id":126177581,"body_markdown":"looks like local repo problem see https://github.com/quarkusio/quarkus/issues/4671","body":"looks like local repo problem see <a href=\"https://github.com/quarkusio/quarkus/issues/4671\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/4671</a>"}],"answers":[{"tags":[],"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696917649,"creation_date":1696917649,"answer_id":77263230,"question_id":71368616,"body_markdown":"It looks like some of the packages are broken while downloading.\r\nTry fixing this by deleting the contents of the .m2\\repository directory.\r\n\r\nTry this command\r\n```\r\nrd /s /q %USERPROFILE%.m2\\repository\r\n```\r\n\r\nor delete it via Explorer.","title":"Getting Error : Quarkus code generation phase has failed with code-with-quarkus project","body":"<p>It looks like some of the packages are broken while downloading.\nTry fixing this by deleting the contents of the .m2\\repository directory.</p>\n<p>Try this command</p>\n<pre><code>rd /s /q %USERPROFILE%.m2\\repository\n</code></pre>\n<p>or delete it via Explorer.</p>\n"}],"owner":{"account_id":14041297,"reputation":1,"user_id":10142633,"display_name":"PR Sahoo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2762,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696917649,"creation_date":1646553907,"question_id":71368616,"body_markdown":"D:\\workspace\\code-with-quarkus&gt;mvnw compile quarkus:dev\r\n\r\nFailed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.7.3.Final:generate-code (default) on project code-with-quarkus: Quarkus code generation phase has failed: java.util.zip.ZipException: invalid stored block lengths\r\n\r\nPOM\r\n----\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;project\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\r\n    \txmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;org.acme&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;code-with-quarkus&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\r\n    \t\t&lt;failsafe.useModulePath&gt;false&lt;/failsafe.useModulePath&gt;\r\n    \t\t&lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n    \t\t&lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\r\n    \t\t&lt;quarkus.platform.version&gt;2.7.3.Final&lt;/quarkus.platform.version&gt;\r\n    \t\t&lt;surefire-plugin.version&gt;3.0.0-M5&lt;/surefire-plugin.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;extensions&gt;true&lt;/extensions&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;build&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;generate-code&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;generate-code-tests&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;compilerArgs&gt;\r\n    \t\t\t\t\t\t&lt;arg&gt;-parameters&lt;/arg&gt;\r\n    \t\t\t\t\t&lt;/compilerArgs&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;systemPropertyVariables&gt;\r\n    \t\t\t\t\t\t&lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n    \t\t\t\t\t\t&lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n    \t\t\t\t\t\t&lt;maven.settings&gt;${session.request.userSettingsFile.path}&lt;/maven.settings&gt;\r\n    \t\t\t\t\t&lt;/systemPropertyVariables&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;native&lt;/id&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;property&gt;\r\n    \t\t\t\t\t&lt;name&gt;native&lt;/name&gt;\r\n    \t\t\t\t&lt;/property&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t\t&lt;build&gt;\r\n    \t\t\t\t&lt;plugins&gt;\r\n    \t\t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;goal&gt;verify&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;systemPropertyVariables&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/systemPropertyVariables&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;/plugins&gt;\r\n    \t\t\t&lt;/build&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n    &lt;/project&gt;\r\n\r\nrunning with jdk 11\r\n\r\nD:\\workspace\\code-with-quarkus&gt;mvn package -e -x\r\n\r\nIt looks like some problem with the plug in; unable to figure out I&#39;m new to quarkus\r\n------------\r\n\r\nfull logs\r\n````\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  7.273 s\r\n[INFO] Finished at: 2022-03-06T13:00:13+05:30\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.7.3.Final:generate-code (default) on project code-with-quarkus: Quarkus code generation phase has failed: java.util.zip.ZipException: invalid stored block lengths -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.7.3.Final:generate-code (default) on project code-with-quarkus: Quarkus code generation phase has failed\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.apache.maven.plugin.MojoExecutionException: Quarkus code generation phase has failed\r\n    at io.quarkus.maven.GenerateCodeMojo.generateCode (GenerateCodeMojo.java:86)\r\n    at io.quarkus.maven.GenerateCodeMojo.doExecute (GenerateCodeMojo.java:55)\r\n    at io.quarkus.maven.QuarkusBootstrapMojo.execute (QuarkusBootstrapMojo.java:131)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: java.io.UncheckedIOException: java.util.zip.ZipException: invalid stored block lengths\r\n    at io.quarkus.paths.PathTreeWithManifest$ManifestReader.apply (PathTreeWithManifest.java:215)\r\n    at io.quarkus.paths.PathTreeWithManifest$ManifestReader.apply (PathTreeWithManifest.java:204)\r\n    at io.quarkus.paths.PathTreeVisit.process (PathTreeVisit.java:40)\r\n    at io.quarkus.paths.DirectoryPathTree.apply (DirectoryPathTree.java:104)\r\n    at io.quarkus.paths.ArchivePathTree$OpenArchivePathTree.apply (ArchivePathTree.java:202)\r\n    at io.quarkus.paths.PathTreeWithManifest.getManifest (PathTreeWithManifest.java:97)\r\n    at io.quarkus.paths.PathTreeWithManifest.isMultiReleaseJar (PathTreeWithManifest.java:119)\r\n    at io.quarkus.paths.PathTreeWithManifest.getMultiReleaseMapping (PathTreeWithManifest.java:126)\r\n    at io.quarkus.paths.DirectoryPathTree.walk (DirectoryPathTree.java:87)\r\n    at io.quarkus.paths.ArchivePathTree$OpenArchivePathTree.walk (ArchivePathTree.java:224)\r\n    at io.quarkus.bootstrap.classloading.PathTreeClassPathElement.lambda$getProvidedResources$2 (PathTreeClassPathElement.java:136)\r\n    at io.quarkus.bootstrap.classloading.PathTreeClassPathElement.apply (PathTreeClassPathElement.java:111)\r\n    at io.quarkus.bootstrap.classloading.PathTreeClassPathElement.getProvidedResources (PathTreeClassPathElement.java:134)\r\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.getState (QuarkusClassLoader.java:259)\r\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass (QuarkusClassLoader.java:429)\r\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass (QuarkusClassLoader.java:414)\r\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass (QuarkusClassLoader.java:464)\r\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass (QuarkusClassLoader.java:414)\r\n    at io.quarkus.maven.GenerateCodeMojo.generateCode (GenerateCodeMojo.java:75)\r\n    at io.quarkus.maven.GenerateCodeMojo.doExecute (GenerateCodeMojo.java:55)\r\n    at io.quarkus.maven.QuarkusBootstrapMojo.execute (QuarkusBootstrapMojo.java:131)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: java.util.zip.ZipException: invalid stored block lengths\r\n    at java.util.zip.InflaterInputStream.read (InflaterInputStream.java:165)\r\n    at java.util.jar.Manifest$FastInputStream.fill (Manifest.java:498)\r\n    at java.util.jar.Manifest$FastInputStream.readLine (Manifest.java:407)\r\n    at java.util.jar.Manifest$FastInputStream.readLine (Manifest.java:466)\r\n    at java.util.jar.Attributes.read (Attributes.java:378)\r\n    at java.util.jar.Manifest.read (Manifest.java:230)\r\n    at java.util.jar.Manifest.&lt;init&gt; (Manifest.java:80)\r\n    at java.util.jar.Manifest.&lt;init&gt; (Manifest.java:72)\r\n    at io.quarkus.paths.PathTreeWithManifest$ManifestReader.apply (PathTreeWithManifest.java:213)\r\n    at io.quarkus.paths.PathTreeWithManifest$ManifestReader.apply (PathTreeWithManifest.java:204)\r\n    at io.quarkus.paths.PathTreeVisit.process (PathTreeVisit.java:40)\r\n    at io.quarkus.paths.DirectoryPathTree.apply (DirectoryPathTree.java:104)\r\n    at io.quarkus.paths.ArchivePathTree$OpenArchivePathTree.apply (ArchivePathTree.java:202)\r\n    at io.quarkus.paths.PathTreeWithManifest.getManifest (PathTreeWithManifest.java:97)\r\n    at io.quarkus.paths.PathTreeWithManifest.isMultiReleaseJar (PathTreeWithManifest.java:119)\r\n    at io.quarkus.paths.PathTreeWithManifest.getMultiReleaseMapping (PathTreeWithManifest.java:126)\r\n    at io.quarkus.paths.DirectoryPathTree.walk (DirectoryPathTree.java:87)\r\n    at io.quarkus.paths.ArchivePathTree$OpenArchivePathTree.walk (ArchivePathTree.java:224)\r\n    at io.quarkus.bootstrap.classloading.PathTreeClassPathElement.lambda$getProvidedResources$2 (PathTreeClassPathElement.java:136)\r\n    at io.quarkus.bootstrap.classloading.PathTreeClassPathElement.apply (PathTreeClassPathElement.java:111)\r\n    at io.quarkus.bootstrap.classloading.PathTreeClassPathElement.getProvidedResources (PathTreeClassPathElement.java:134)\r\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.getState (QuarkusClassLoader.java:259)\r\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass (QuarkusClassLoader.java:429)\r\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass (QuarkusClassLoader.java:414)\r\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass (QuarkusClassLoader.java:464)\r\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass (QuarkusClassLoader.java:414)\r\n    at io.quarkus.maven.GenerateCodeMojo.generateCode (GenerateCodeMojo.java:75)\r\n    at io.quarkus.maven.GenerateCodeMojo.doExecute (GenerateCodeMojo.java:55)\r\n    at io.quarkus.maven.QuarkusBootstrapMojo.execute (QuarkusBootstrapMojo.java:131)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n[ERROR]\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n````","title":"Getting Error : Quarkus code generation phase has failed with code-with-quarkus project","body":"<p>D:\\workspace\\code-with-quarkus&gt;mvnw compile quarkus:dev</p>\n<p>Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.7.3.Final:generate-code (default) on project code-with-quarkus: Quarkus code generation phase has failed: java.util.zip.ZipException: invalid stored block lengths</p>\n<h2>POM</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.acme&lt;/groupId&gt;\n    &lt;artifactId&gt;code-with-quarkus&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\n        &lt;failsafe.useModulePath&gt;false&lt;/failsafe.useModulePath&gt;\n        &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n        &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\n        &lt;quarkus.platform.version&gt;2.7.3.Final&lt;/quarkus.platform.version&gt;\n        &lt;surefire-plugin.version&gt;3.0.0-M5&lt;/surefire-plugin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n                &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                            &lt;goal&gt;generate-code&lt;/goal&gt;\n                            &lt;goal&gt;generate-code-tests&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;-parameters&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                        &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n                        &lt;maven.settings&gt;${session.request.userSettingsFile.path}&lt;/maven.settings&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;native&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;property&gt;\n                    &lt;name&gt;native&lt;/name&gt;\n                &lt;/property&gt;\n            &lt;/activation&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\n                                    &lt;goal&gt;verify&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;systemPropertyVariables&gt;\n                                        &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\n                                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                                        &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n                                    &lt;/systemPropertyVariables&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n            &lt;properties&gt;\n                &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>running with jdk 11</p>\n<p>D:\\workspace\\code-with-quarkus&gt;mvn package -e -x</p>\n<h2>It looks like some problem with the plug in; unable to figure out I'm new to quarkus</h2>\n<p>full logs</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  7.273 s\n[INFO] Finished at: 2022-03-06T13:00:13+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.7.3.Final:generate-code (default) on project code-with-quarkus: Quarkus code generation phase has failed: java.util.zip.ZipException: invalid stored block lengths -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.7.3.Final:generate-code (default) on project code-with-quarkus: Quarkus code generation phase has failed\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Quarkus code generation phase has failed\n    at io.quarkus.maven.GenerateCodeMojo.generateCode (GenerateCodeMojo.java:86)\n    at io.quarkus.maven.GenerateCodeMojo.doExecute (GenerateCodeMojo.java:55)\n    at io.quarkus.maven.QuarkusBootstrapMojo.execute (QuarkusBootstrapMojo.java:131)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.io.UncheckedIOException: java.util.zip.ZipException: invalid stored block lengths\n    at io.quarkus.paths.PathTreeWithManifest$ManifestReader.apply (PathTreeWithManifest.java:215)\n    at io.quarkus.paths.PathTreeWithManifest$ManifestReader.apply (PathTreeWithManifest.java:204)\n    at io.quarkus.paths.PathTreeVisit.process (PathTreeVisit.java:40)\n    at io.quarkus.paths.DirectoryPathTree.apply (DirectoryPathTree.java:104)\n    at io.quarkus.paths.ArchivePathTree$OpenArchivePathTree.apply (ArchivePathTree.java:202)\n    at io.quarkus.paths.PathTreeWithManifest.getManifest (PathTreeWithManifest.java:97)\n    at io.quarkus.paths.PathTreeWithManifest.isMultiReleaseJar (PathTreeWithManifest.java:119)\n    at io.quarkus.paths.PathTreeWithManifest.getMultiReleaseMapping (PathTreeWithManifest.java:126)\n    at io.quarkus.paths.DirectoryPathTree.walk (DirectoryPathTree.java:87)\n    at io.quarkus.paths.ArchivePathTree$OpenArchivePathTree.walk (ArchivePathTree.java:224)\n    at io.quarkus.bootstrap.classloading.PathTreeClassPathElement.lambda$getProvidedResources$2 (PathTreeClassPathElement.java:136)\n    at io.quarkus.bootstrap.classloading.PathTreeClassPathElement.apply (PathTreeClassPathElement.java:111)\n    at io.quarkus.bootstrap.classloading.PathTreeClassPathElement.getProvidedResources (PathTreeClassPathElement.java:134)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.getState (QuarkusClassLoader.java:259)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass (QuarkusClassLoader.java:429)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass (QuarkusClassLoader.java:414)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass (QuarkusClassLoader.java:464)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass (QuarkusClassLoader.java:414)\n    at io.quarkus.maven.GenerateCodeMojo.generateCode (GenerateCodeMojo.java:75)\n    at io.quarkus.maven.GenerateCodeMojo.doExecute (GenerateCodeMojo.java:55)\n    at io.quarkus.maven.QuarkusBootstrapMojo.execute (QuarkusBootstrapMojo.java:131)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.util.zip.ZipException: invalid stored block lengths\n    at java.util.zip.InflaterInputStream.read (InflaterInputStream.java:165)\n    at java.util.jar.Manifest$FastInputStream.fill (Manifest.java:498)\n    at java.util.jar.Manifest$FastInputStream.readLine (Manifest.java:407)\n    at java.util.jar.Manifest$FastInputStream.readLine (Manifest.java:466)\n    at java.util.jar.Attributes.read (Attributes.java:378)\n    at java.util.jar.Manifest.read (Manifest.java:230)\n    at java.util.jar.Manifest.&lt;init&gt; (Manifest.java:80)\n    at java.util.jar.Manifest.&lt;init&gt; (Manifest.java:72)\n    at io.quarkus.paths.PathTreeWithManifest$ManifestReader.apply (PathTreeWithManifest.java:213)\n    at io.quarkus.paths.PathTreeWithManifest$ManifestReader.apply (PathTreeWithManifest.java:204)\n    at io.quarkus.paths.PathTreeVisit.process (PathTreeVisit.java:40)\n    at io.quarkus.paths.DirectoryPathTree.apply (DirectoryPathTree.java:104)\n    at io.quarkus.paths.ArchivePathTree$OpenArchivePathTree.apply (ArchivePathTree.java:202)\n    at io.quarkus.paths.PathTreeWithManifest.getManifest (PathTreeWithManifest.java:97)\n    at io.quarkus.paths.PathTreeWithManifest.isMultiReleaseJar (PathTreeWithManifest.java:119)\n    at io.quarkus.paths.PathTreeWithManifest.getMultiReleaseMapping (PathTreeWithManifest.java:126)\n    at io.quarkus.paths.DirectoryPathTree.walk (DirectoryPathTree.java:87)\n    at io.quarkus.paths.ArchivePathTree$OpenArchivePathTree.walk (ArchivePathTree.java:224)\n    at io.quarkus.bootstrap.classloading.PathTreeClassPathElement.lambda$getProvidedResources$2 (PathTreeClassPathElement.java:136)\n    at io.quarkus.bootstrap.classloading.PathTreeClassPathElement.apply (PathTreeClassPathElement.java:111)\n    at io.quarkus.bootstrap.classloading.PathTreeClassPathElement.getProvidedResources (PathTreeClassPathElement.java:134)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.getState (QuarkusClassLoader.java:259)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass (QuarkusClassLoader.java:429)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass (QuarkusClassLoader.java:414)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass (QuarkusClassLoader.java:464)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass (QuarkusClassLoader.java:414)\n    at io.quarkus.maven.GenerateCodeMojo.generateCode (GenerateCodeMojo.java:75)\n    at io.quarkus.maven.GenerateCodeMojo.doExecute (GenerateCodeMojo.java:55)\n    at io.quarkus.maven.QuarkusBootstrapMojo.execute (QuarkusBootstrapMojo.java:131)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR]\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"},{"tags":["java","merge","collections","denormalized"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1696916176,"post_id":77263143,"comment_id":136210178,"body_markdown":"Is `bazList` grouped on `discriminator`?","body":"Is <code>bazList</code> grouped on <code>discriminator</code>?"},{"owner":{"account_id":29637318,"reputation":13,"user_id":22714251,"display_name":"JohnnyBravo442"},"score":0,"creation_date":1696920258,"post_id":77263143,"comment_id":136210685,"body_markdown":"Yeah. Each `discriminator` can have multliple `baz` instances. There can be 5 `Foo` entries with 3 having `TEST` as a `discriminator` value and that should be converted to one Bar instance with the `TEST` discriminator, containing 3 `Baz` instances","body":"Yeah. Each <code>discriminator</code> can have multliple <code>baz</code> instances. There can be 5 <code>Foo</code> entries with 3 having <code>TEST</code> as a <code>discriminator</code> value and that should be converted to one Bar instance with the <code>TEST</code> discriminator, containing 3 <code>Baz</code> instances"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696917211,"creation_date":1696917211,"answer_id":77263198,"question_id":77263143,"body_markdown":"I think you&#39;ll need the intermediate map, but you can streamline it with streams:\r\n\r\n    List&lt;Bar&gt; result = foos.stream()\r\n            .collect(groupingBy(foo::discriminator,\r\n                    mapping(f -&gt; new Baz(f.value(), f.otherValue()), toList())))\r\n            .entrySet()\r\n            .stream()\r\n            .map(e -&gt; new Bar(e.getKey(), e.getValue()))\r\n            .toList();\r\n            ","title":"Merging denormalized data into a relational structure","body":"<p>I think you'll need the intermediate map, but you can streamline it with streams:</p>\n<pre><code>List&lt;Bar&gt; result = foos.stream()\n        .collect(groupingBy(foo::discriminator,\n                mapping(f -&gt; new Baz(f.value(), f.otherValue()), toList())))\n        .entrySet()\n        .stream()\n        .map(e -&gt; new Bar(e.getKey(), e.getValue()))\n        .toList();\n        \n</code></pre>\n"}],"owner":{"account_id":29637318,"reputation":13,"user_id":22714251,"display_name":"JohnnyBravo442"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77263198,"answer_count":1,"score":1,"last_activity_date":1696917211,"creation_date":1696916106,"question_id":77263143,"body_markdown":"Let&#39;s say we have an entity `Foo` which comes from a denormalized DB table. And let&#39;s say it looks like this:\r\n\r\n```\r\nrecord Foo(int id, String discriminator, String value, String otherValue)\r\n```\r\nand we want to convert that to a relational structure which would look like this\r\n\r\n```\r\nBar(\r\n  String discriminator,\r\n  List&lt;Baz&gt; bazList\r\n)\r\n\r\nBaz(\r\n  String value,\r\n  String otherValue\r\n)\r\n```\r\n\r\n\r\n\r\n\r\nHow could I elegantly accomplish something like that in java? The only thing that comes to mind is simply iterating over `Foo` convert and store the values in a map (so if a `Bar` instance already exists, add to it, if it doesn&#39;t create it). I am wondering if there is a way to do this without creating a map though","title":"Merging denormalized data into a relational structure","body":"<p>Let's say we have an entity <code>Foo</code> which comes from a denormalized DB table. And let's say it looks like this:</p>\n<pre><code>record Foo(int id, String discriminator, String value, String otherValue)\n</code></pre>\n<p>and we want to convert that to a relational structure which would look like this</p>\n<pre><code>Bar(\n  String discriminator,\n  List&lt;Baz&gt; bazList\n)\n\nBaz(\n  String value,\n  String otherValue\n)\n</code></pre>\n<p>How could I elegantly accomplish something like that in java? The only thing that comes to mind is simply iterating over <code>Foo</code> convert and store the values in a map (so if a <code>Bar</code> instance already exists, add to it, if it doesn't create it). I am wondering if there is a way to do this without creating a map though</p>\n"},{"tags":["java","annotations","lombok"],"comments":[{"owner":{"account_id":3270631,"reputation":3649,"user_id":2754093,"accept_rate":100,"display_name":"Mouad EL Fakir"},"score":1,"creation_date":1516113601,"post_id":6107197,"comment_id":83551331,"body_markdown":"Check this article : https://www.stackextend.com/java/first-step-lombok-annotations/","body":"Check this article : <a href=\"https://www.stackextend.com/java/first-step-lombok-annotations/\" rel=\"nofollow noreferrer\">stackextend.com/java/first-step-lombok-annotations</a>"}],"answers":[{"comments":[{"owner":{"account_id":14007366,"reputation":2323,"user_id":10117056,"display_name":"Commander Tvis"},"score":2,"creation_date":1637505964,"post_id":6108457,"comment_id":123838588,"body_markdown":"The answer is incomplete.","body":"The answer is incomplete."},{"owner":{"account_id":1010962,"reputation":776,"user_id":1023544,"accept_rate":89,"display_name":"ASten"},"score":2,"creation_date":1640627197,"post_id":6108457,"comment_id":124620229,"body_markdown":"Thanks! Was looking for unveiling of lombok annotation processing mechanism when it is not defined as annotation processor in build.gradle and found the answer here.","body":"Thanks! Was looking for unveiling of lombok annotation processing mechanism when it is not defined as annotation processor in build.gradle and found the answer here."}],"tags":[],"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"comment_count":2,"down_vote_count":2,"up_vote_count":118,"is_accepted":false,"score":116,"last_activity_date":1306229804,"creation_date":1306229804,"answer_id":6108457,"question_id":6107197,"body_markdown":"It uses [JSR 269 Pluggable Annotation Processing API][1] available in Java 6.\r\n\r\nNote that `lombok.jar` contains a file named `/META-INF/services/javax.annotation.processing.Processor`. When `javac` sees this file in a compilation classpath, it runs annotation processors defined there during compilation.\r\n\r\n\r\n  [1]: http://www.jcp.org/en/jsr/detail?id=269","title":"How does lombok work?","body":"<p>It uses <a href=\"http://www.jcp.org/en/jsr/detail?id=269\" rel=\"noreferrer\">JSR 269 Pluggable Annotation Processing API</a> available in Java 6.</p>\n\n<p>Note that <code>lombok.jar</code> contains a file named <code>/META-INF/services/javax.annotation.processing.Processor</code>. When <code>javac</code> sees this file in a compilation classpath, it runs annotation processors defined there during compilation.</p>\n"},{"comments":[{"owner":{"account_id":109511,"reputation":1465,"user_id":290122,"accept_rate":86,"display_name":"orithena"},"score":0,"creation_date":1554709781,"post_id":6108573,"comment_id":97836117,"body_markdown":"@SeanPatrickFloyd Addendum: I&#39;ve had no problems yet compiling Lombok annotations with OpenJDK 11.","body":"@SeanPatrickFloyd Addendum: I&#39;ve had no problems yet compiling Lombok annotations with OpenJDK 11."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":3,"creation_date":1554833986,"post_id":6108573,"comment_id":97894260,"body_markdown":"@orithena yes, that should work. unless you introduce a second annotation processor, and suddenly run into race conditions because Lombok is changing the AST the other processor expects to find.","body":"@orithena yes, that should work. unless you introduce a second annotation processor, and suddenly run into race conditions because Lombok is changing the AST the other processor expects to find."},{"owner":{"account_id":1718863,"reputation":366,"user_id":1575326,"display_name":"user1575326"},"score":0,"creation_date":1686336254,"post_id":6108573,"comment_id":134790056,"body_markdown":"Thank you. I&#39;ve been looking all over for this explanation. I&#39;ve written JSR 269 processors to add new classes, but never to modify existing ones. I could not figure out how Lombok pulled this off. Now I know I shouldn&#39;t try to take inspiration from their approach.","body":"Thank you. I&#39;ve been looking all over for this explanation. I&#39;ve written JSR 269 processors to add new classes, but never to modify existing ones. I could not figure out how Lombok pulled this off. Now I know I shouldn&#39;t try to take inspiration from their approach."}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":3,"down_vote_count":3,"up_vote_count":73,"is_accepted":false,"score":70,"last_activity_date":1621246718,"creation_date":1306230452,"answer_id":6108573,"question_id":6107197,"body_markdown":"In addendum to axtavt&#39;s answer: Lombok uses a lot more than the JSR 269 api exposes. Lombok codes against a) internal javac apis and b) internal eclipse apis (in a separate processor). JSR 269 does not let you modify existing source code, but when you cast an [`Element`][1] to the underlying AST node, you can actually modify the AST (which is what project Lombok does).\r\n\r\nSo Lombok is a huge hack that will only compile using javac or eclipse&#39;s compiler. It&#39;s a great piece of software, but it&#39;s also hated by many for being such a non-standard hack.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/javax/lang/model/element/Element.html","title":"How does lombok work?","body":"<p>In addendum to axtavt's answer: Lombok uses a lot more than the JSR 269 api exposes. Lombok codes against a) internal javac apis and b) internal eclipse apis (in a separate processor). JSR 269 does not let you modify existing source code, but when you cast an <a href=\"http://download.oracle.com/javase/6/docs/api/javax/lang/model/element/Element.html\" rel=\"noreferrer\"><code>Element</code></a> to the underlying AST node, you can actually modify the AST (which is what project Lombok does).</p>\n<p>So Lombok is a huge hack that will only compile using javac or eclipse's compiler. It's a great piece of software, but it's also hated by many for being such a non-standard hack.</p>\n"},{"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":13,"creation_date":1306279194,"post_id":6117891,"comment_id":7097311,"body_markdown":"Great to hear from the source (+1). I admit, my statement about running was misleading. I meant Lombok can only run on Sun VMs, but the resulting code is of course platform neutral.","body":"Great to hear from the source (+1). I admit, my statement about running was misleading. I meant Lombok can only run on Sun VMs, but the resulting code is of course platform neutral."},{"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1385995229,"post_id":6117891,"comment_id":30342990,"body_markdown":"I sort of wonder if the annotation processor can delegate everything to the eclipse compiler even if it is being run via JavaC that way there is only one processor to call.","body":"I sort of wonder if the annotation processor can delegate everything to the eclipse compiler even if it is being run via JavaC that way there is only one processor to call."},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1571993837,"post_id":6117891,"comment_id":103430042,"body_markdown":"@rzwitserloot : that&#39;s why I really like SO. Genuine answers from the core dev himself.","body":"@rzwitserloot : that&#39;s why I really like SO. Genuine answers from the core dev himself."},{"owner":{"account_id":161962,"reputation":16675,"user_id":383124,"accept_rate":56,"display_name":"phant0m"},"score":0,"creation_date":1616511735,"post_id":6117891,"comment_id":118021707,"body_markdown":"Is Lombok still using internal APIs or has this situation changed since 2011? [This comment](https://www.reddit.com/r/java/comments/6ilt97/what_do_you_think_of_project_lombok/dj7e5l4/) claims that Lombok uses official APIs these days.","body":"Is Lombok still using internal APIs or has this situation changed since 2011? <a href=\"https://www.reddit.com/r/java/comments/6ilt97/what_do_you_think_of_project_lombok/dj7e5l4/\" rel=\"nofollow noreferrer\">This comment</a> claims that Lombok uses official APIs these days."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":4,"down_vote_count":0,"up_vote_count":178,"is_accepted":false,"score":178,"last_activity_date":1306278291,"creation_date":1306278291,"answer_id":6117891,"question_id":6107197,"body_markdown":"Lombok does indeed code against internal API, as Sean Patrick Floyd said. However, as lombok is _ONLY_ involved in the compilation phase, its misleading to claim Lombok will only run on a sun VM. It&#39;ll only compile on ecj or sun&#39;s javac. However, the vast majority of VMs out there, if they ship a compiler at all, are one of those two. For example, the Apple VM ships with stock sun javac, and as such lombok works just fine on macs. Same goes for the soylatte VM, for example.\r\n\r\nWhile for javac we really do have to stick with their updates, partly because of a lot of ongoing work on their compiler right now, we&#39;ve had to make just 1 minor adjustment to our eclipse support over many many versions of eclipse. So, while we do code against internal API, they are relatively stable bits.\r\n\r\nIf what lombok does could be done without resorting to internal API, we&#39;d have done something else, but it can&#39;t be done, so we resort to internal API usage.\r\n\r\nNB: I&#39;m one of the lead developers of lombok, so, I&#39;m probably a little biased :P","title":"How does lombok work?","body":"<p>Lombok does indeed code against internal API, as Sean Patrick Floyd said. However, as lombok is <em>ONLY</em> involved in the compilation phase, its misleading to claim Lombok will only run on a sun VM. It'll only compile on ecj or sun's javac. However, the vast majority of VMs out there, if they ship a compiler at all, are one of those two. For example, the Apple VM ships with stock sun javac, and as such lombok works just fine on macs. Same goes for the soylatte VM, for example.</p>\n\n<p>While for javac we really do have to stick with their updates, partly because of a lot of ongoing work on their compiler right now, we've had to make just 1 minor adjustment to our eclipse support over many many versions of eclipse. So, while we do code against internal API, they are relatively stable bits.</p>\n\n<p>If what lombok does could be done without resorting to internal API, we'd have done something else, but it can't be done, so we resort to internal API usage.</p>\n\n<p>NB: I'm one of the lead developers of lombok, so, I'm probably a little biased :P</p>\n"},{"tags":[],"owner":{"account_id":58144,"reputation":3850,"user_id":174140,"accept_rate":37,"display_name":"uuidcode"},"comment_count":0,"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1455730073,"creation_date":1306283444,"answer_id":6118321,"question_id":6107197,"body_markdown":"[Project Lombok: Creating Custom Transformations](http://notatube.blogspot.com/2010/12/project-lombok-creating-custom.html) is some helpful.","title":"How does lombok work?","body":"<p><a href=\"http://notatube.blogspot.com/2010/12/project-lombok-creating-custom.html\" rel=\"noreferrer\">Project Lombok: Creating Custom Transformations</a> is some helpful.</p>\n"}],"owner":{"account_id":58144,"reputation":3850,"user_id":174140,"accept_rate":37,"display_name":"uuidcode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57877,"favorite_count":0,"down_vote_count":0,"up_vote_count":192,"answer_count":4,"score":192,"last_activity_date":1696917051,"creation_date":1306222876,"question_id":6107197,"body_markdown":"I met [lombok](http://projectlombok.org/) today.  \r\nI&#39;m very anxious to know how it works.  \r\n[A Java Geek Article](http://blog.frankel.ch/lombok-reduces-your-boilerplate-code) gives some clues but it&#39;s not perfectly clear to me:\r\n     \r\n\r\n&gt; Java 6 removes apt and make javac able\r\n&gt; to manage annotations, streamlining\r\n&gt; the  process to obtain a simpler\r\n&gt; single step computing. This is the\r\n&gt; path taken by Lombok.\r\n\r\nMaybe with Java 6 the compile process will be:\r\njavac -&gt; apt -&gt; lombok apt process -&gt; read class files and add set/get methods using [ASM][1]?  \r\n\r\nCould you show me more details about the mechanism?\r\n\r\n\r\n  [1]: http://asm.ow2.org/index.html","title":"How does lombok work?","body":"<p>I met <a href=\"http://projectlombok.org/\" rel=\"noreferrer\">lombok</a> today.<br>\nI'm very anxious to know how it works.<br>\n<a href=\"http://blog.frankel.ch/lombok-reduces-your-boilerplate-code\" rel=\"noreferrer\">A Java Geek Article</a> gives some clues but it's not perfectly clear to me:</p>\n\n<blockquote>\n  <p>Java 6 removes apt and make javac able\n  to manage annotations, streamlining\n  the  process to obtain a simpler\n  single step computing. This is the\n  path taken by Lombok.</p>\n</blockquote>\n\n<p>Maybe with Java 6 the compile process will be:\njavac -> apt -> lombok apt process -> read class files and add set/get methods using <a href=\"http://asm.ow2.org/index.html\" rel=\"noreferrer\">ASM</a>?  </p>\n\n<p>Could you show me more details about the mechanism?</p>\n"},{"tags":["java","spring","spring-mvc","tomcat","servlets"],"comments":[{"owner":{"account_id":16580238,"reputation":263,"user_id":11981028,"display_name":"Han"},"score":0,"creation_date":1611819839,"post_id":65932421,"comment_id":116574074,"body_markdown":"Did you use close() method to return resources?","body":"Did you use close() method to return resources?"},{"owner":{"account_id":16580238,"reputation":263,"user_id":11981028,"display_name":"Han"},"score":0,"creation_date":1611820195,"post_id":65932421,"comment_id":116574209,"body_markdown":"I think you are not return resources when your job is done. also check your connection to DB(or Redis). the connection should return properly. https://tomcat.apache.org/tomcat-6.0-doc/api/org/apache/catalina/connector/ClientAbortException.html","body":"I think you are not return resources when your job is done. also check your connection to DB(or Redis). the connection should return properly. <a href=\"https://tomcat.apache.org/tomcat-6.0-doc/api/org/apache/catalina/connector/ClientAbortException.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-6.0-doc/api/org/apache/catalina/&hellip;</a>"},{"owner":{"account_id":16580238,"reputation":263,"user_id":11981028,"display_name":"Han"},"score":0,"creation_date":1611820345,"post_id":65932421,"comment_id":116574265,"body_markdown":"`java.io.EOFException: Unexpected EOF read on the socket` it means your connection with client is invalid. Have you ever closed your browser or client before the job(using DB or Redis)?","body":"<code>java.io.EOFException: Unexpected EOF read on the socket</code> it means your connection with client is invalid. Have you ever closed your browser or client before the job(using DB or Redis)?"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1611835751,"post_id":65932421,"comment_id":116581029,"body_markdown":"Did you try to read inputstream before spring application read it.","body":"Did you try to read inputstream before spring application read it."},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1611835783,"post_id":65932421,"comment_id":116581047,"body_markdown":"Reading inputstream can cause this behavior","body":"Reading inputstream can cause this behavior"},{"owner":{"account_id":7615818,"reputation":11,"user_id":5775274,"display_name":"Ashish Rathore"},"score":0,"creation_date":1611840785,"post_id":65932421,"comment_id":116583504,"body_markdown":"We are getting this error in the server, but the client (i.e mobile) dropping connection is not in our hands, how can we avoid such exception in the server, sometime this is even taking 20seconds i.e tomcat connection timeout.","body":"We are getting this error in the server, but the client (i.e mobile) dropping connection is not in our hands, how can we avoid such exception in the server, sometime this is even taking 20seconds i.e tomcat connection timeout."},{"owner":{"account_id":7615818,"reputation":11,"user_id":5775274,"display_name":"Ashish Rathore"},"score":0,"creation_date":1611898934,"post_id":65932421,"comment_id":116603320,"body_markdown":"@Gurkanİlleez yes inputstream is being read, what is the issue regarding reading input stream and how can this be avoided ?","body":"@Gurkanİlleez yes inputstream is being read, what is the issue regarding reading input stream and how can this be avoided ?"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1611944812,"post_id":65932421,"comment_id":116621991,"body_markdown":"If you can show the code that reads inputstream, maybe I can help you","body":"If you can show the code that reads inputstream, maybe I can help you"},{"owner":{"account_id":3269099,"reputation":807,"user_id":2752862,"accept_rate":100,"display_name":"Shashank Shekher"},"score":0,"creation_date":1643344734,"post_id":65932421,"comment_id":125320139,"body_markdown":"@Gurkanİlleez I have similar issue that I get. I am using InputStream to read data like is.read(bytes) - where byte[] bytes = new byte[1024 * 4], and then closing the stream in a finally block. Any help here would be great.","body":"@Gurkanİlleez I have similar issue that I get. I am using InputStream to read data like is.read(bytes) - where byte[] bytes = new byte[1024 * 4], and then closing the stream in a finally block. Any help here would be great."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696928084,"post_id":65932421,"comment_id":136212009,"body_markdown":"@Han &quot;... it means your connection with client is invalid&quot;: no it doesn&#39;t. It means the peer has closed the connection, or shut it down for output.","body":"@Han &quot;... it means your connection with client is invalid&quot;: no it doesn&#39;t. It means the peer has closed the connection, or shut it down for output."}],"owner":{"account_id":7615818,"reputation":11,"user_id":5775274,"display_name":"Ashish Rathore"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5444,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696916988,"creation_date":1611817446,"question_id":65932421,"body_markdown":"```\r\norg.springframework.http.converter.HttpMessageNotReadableException: I/O error while reading input message; nested exception is org.apache.catalina.connector.ClientAbortException: java.io.EOFException: Unexpected EOF read on the socket\r\nat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:217)\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:158)\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:131)\r\nat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)\r\nat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:167)\r\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)\r\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\r\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:661)\r\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n```\r\n\r\nIn our spring application, we are getting the above error. This error is mainly in POST API calls in a few cases, in GET request, there is no such error. All of these API doesn&#39;t involve any file upload, they are only interacting with DB or Redis. Our tomcat version is 8.5.40 and spring version 5.2.7. Sometimes request is timing out with 20 seconds, our Redis and DB timeout is in a few ms. what could be the probable reason for this error?","title":"org.apache.catalina.connector.ClientAbortException: java.io.EOFException: Unexpected EOF read on the socket","body":"<pre><code>org.springframework.http.converter.HttpMessageNotReadableException: I/O error while reading input message; nested exception is org.apache.catalina.connector.ClientAbortException: java.io.EOFException: Unexpected EOF read on the socket\nat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:217)\nat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:158)\nat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:131)\nat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)\nat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:167)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:661)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n</code></pre>\n<p>In our spring application, we are getting the above error. This error is mainly in POST API calls in a few cases, in GET request, there is no such error. All of these API doesn't involve any file upload, they are only interacting with DB or Redis. Our tomcat version is 8.5.40 and spring version 5.2.7. Sometimes request is timing out with 20 seconds, our Redis and DB timeout is in a few ms. what could be the probable reason for this error?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","qaf"],"comments":[{"owner":{"account_id":29608067,"reputation":3,"user_id":22692007,"display_name":"Sri Siva batchu"},"score":0,"creation_date":1696787974,"post_id":77253581,"comment_id":136194956,"body_markdown":"could you please check this one @user861594","body":"could you please check this one @user861594"},{"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"score":0,"creation_date":1696867031,"post_id":77253581,"comment_id":136204804,"body_markdown":"what is the output from sysout? Make sure that capability value is valid json string, also don&#39;t quote boolean values for instance use `false`, `true` instead of `&quot;false&quot;` or `&quot;true&quot;` in capability value.","body":"what is the output from sysout? Make sure that capability value is valid json string, also don&#39;t quote boolean values for instance use <code>false</code>, <code>true</code> instead of <code>&quot;false&quot;</code> or <code>&quot;true&quot;</code> in capability value."},{"owner":{"account_id":29608067,"reputation":3,"user_id":22692007,"display_name":"Sri Siva batchu"},"score":0,"creation_date":1696870978,"post_id":77253581,"comment_id":136205556,"body_markdown":"@user861594 \nThanks for your reply.\n\nBelow line is displaying in the sysout\n{&quot;goog:chromeOptions&quot;: {&quot;args&quot;: [&quot;start-maximized&quot;, &quot;--disable-popup-blocking&quot;, &quot;disable-infobars&quot;, &quot;--disable-extensions&quot;], &quot;extensions&quot;: [], &quot;prefs&quot;: {&quot;download.directory_upgrade&quot;: &quot;true&quot;, &quot;download.default_directory&quot;: &quot;*:\\\\*\\\\*\\\\*\\resources\\downloads&quot;, &quot;download.prompt_for_download&quot;: &quot;false&quot;, &quot;safebrowsing.enabled&quot;: &quot;true&quot;}}}\n\nJust added * to mask the actual path","body":"@user861594  Thanks for your reply.  Below line is displaying in the sysout {&quot;goog:chromeOptions&quot;: {&quot;args&quot;: [&quot;start-maximized&quot;, &quot;--disable-popup-blocking&quot;, &quot;disable-infobars&quot;, &quot;--disable-extensions&quot;], &quot;extensions&quot;: [], &quot;prefs&quot;: {&quot;download.directory_upgrade&quot;: &quot;true&quot;, &quot;download.default_directory&quot;: &quot;*:\\*\\*\\*\\resources\\downloads&quot;, &quot;download.prompt_for_download&quot;: &quot;false&quot;, &quot;safebrowsing.enabled&quot;: &quot;true&quot;}}}  Just added * to mask the actual path"},{"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"score":0,"creation_date":1696892412,"post_id":77253581,"comment_id":136208507,"body_markdown":"don&#39;t quote boolean values for instance use false, true instead of &quot;false&quot; or &quot;true&quot; in capability value.","body":"don&#39;t quote boolean values for instance use false, true instead of &quot;false&quot; or &quot;true&quot; in capability value."},{"owner":{"account_id":29608067,"reputation":3,"user_id":22692007,"display_name":"Sri Siva batchu"},"score":0,"creation_date":1696899998,"post_id":77253581,"comment_id":136209013,"body_markdown":"Yeah, tried with removing quotes for boolean values. The result is same unable to launch browser.","body":"Yeah, tried with removing quotes for boolean values. The result is same unable to launch browser."}],"answers":[{"comments":[{"owner":{"account_id":29608067,"reputation":3,"user_id":22692007,"display_name":"Sri Siva batchu"},"score":0,"creation_date":1696990809,"post_id":77263111,"comment_id":136222063,"body_markdown":"Thanks for your response.\nI tried with your suggestions. But still unable to launch chrome.\nGetting this error Unable to create driver instance in 1st attempt with retry timeout of 0 seconds. You can check/set value of &#39;driver.init.retry.timeout&#39; appropriately to set retry timeout on driver initialization failure.com.google.gson.stream.MalformedJsonException: Unterminated object at line 1 column 245 path $..prefs.download.default_directory","body":"Thanks for your response. I tried with your suggestions. But still unable to launch chrome. Getting this error Unable to create driver instance in 1st attempt with retry timeout of 0 seconds. You can check/set value of &#39;driver.init.retry.timeout&#39; appropriately to set retry timeout on driver initialization failure.com.google.gson.stream.MalformedJsonException: Unterminated object at line 1 column 245 path $..prefs.download.default_directory"},{"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"score":0,"creation_date":1697063842,"post_id":77263111,"comment_id":136233915,"body_markdown":"it clearly states `MalformedJsonException: Unterminated object`. Try that worked for me provided in answer.","body":"it clearly states <code>MalformedJsonException: Unterminated object</code>. Try that worked for me provided in answer."}],"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696915546,"creation_date":1696915546,"answer_id":77263111,"question_id":77253581,"body_markdown":"Following works fine for me:\r\n\r\n```\r\n\r\ndir.currentdirectory= ${expr:java.lang.System.getProperty(&quot;user.dir&quot;)}\r\ndir.screenshots = ${dir.currentdirectory}/resources/screenshots\r\ndir.downloads = ${dir.currentdirectory}/resources/downloads \r\nchrome.additional.capabilities={&quot;browserName&quot;:&quot;chrome&quot;,&quot;goog:chromeOptions&quot;: {&quot;args&quot;: [&quot;start-maximized&quot;, &quot;--disable-popup-blocking&quot;, &quot;disable-infobars&quot;, &quot;--disable-extensions&quot;], &quot;extensions&quot;: [], &quot;prefs&quot;: {&quot;download.directory_upgrade&quot;: true, &quot;download.default_directory&quot;: &quot;${dir.downloads}&quot;, &quot;download.prompt_for_download&quot;: false, &quot;safebrowsing.enabled&quot;: true}}}\r\n\r\n```\r\n\r\nIf you want to use `\\\\` add addition `\\` for each `\\` because `\\` is escape char in properties file. For instance for `a\\b` you need to set `a\\\\b` and for `a\\\\b` you need to set `a\\\\\\\\b`. Considering this you can also try as below:\r\n```\r\ndir.screenshots = ${dir.currentdirectory}\\\\\\\\resources\\\\\\\\screenshots.\r\n```\r\nAs a side not you can use any [system properties][1] directly with configuration manager (so as parameter) and system properties has highest prority. So you don&#39;t need to use `expr` for to access system property. You can directly refer it as parameter. For example:\r\n\r\n```\r\ndir.screenshots = ${user.dir}/resources/screenshots\r\ndir.downloads = ${user.dir}/resources/downloads\r\n```\r\n\r\n\r\n  [1]: https://qmetry.github.io/qaf/latest/different_ways_of_providing_prop.html","title":"Unable to lauch browser instance when setting the capabilities for download directory in application.properties file","body":"<p>Following works fine for me:</p>\n<pre><code>\ndir.currentdirectory= ${expr:java.lang.System.getProperty(&quot;user.dir&quot;)}\ndir.screenshots = ${dir.currentdirectory}/resources/screenshots\ndir.downloads = ${dir.currentdirectory}/resources/downloads \nchrome.additional.capabilities={&quot;browserName&quot;:&quot;chrome&quot;,&quot;goog:chromeOptions&quot;: {&quot;args&quot;: [&quot;start-maximized&quot;, &quot;--disable-popup-blocking&quot;, &quot;disable-infobars&quot;, &quot;--disable-extensions&quot;], &quot;extensions&quot;: [], &quot;prefs&quot;: {&quot;download.directory_upgrade&quot;: true, &quot;download.default_directory&quot;: &quot;${dir.downloads}&quot;, &quot;download.prompt_for_download&quot;: false, &quot;safebrowsing.enabled&quot;: true}}}\n\n</code></pre>\n<p>If you want to use <code>\\\\</code> add addition <code>\\</code> for each <code>\\</code> because <code>\\</code> is escape char in properties file. For instance for <code>a\\b</code> you need to set <code>a\\\\b</code> and for <code>a\\\\b</code> you need to set <code>a\\\\\\\\b</code>. Considering this you can also try as below:</p>\n<pre><code>dir.screenshots = ${dir.currentdirectory}\\\\\\\\resources\\\\\\\\screenshots.\n</code></pre>\n<p>As a side not you can use any <a href=\"https://qmetry.github.io/qaf/latest/different_ways_of_providing_prop.html\" rel=\"nofollow noreferrer\">system properties</a> directly with configuration manager (so as parameter) and system properties has highest prority. So you don't need to use <code>expr</code> for to access system property. You can directly refer it as parameter. For example:</p>\n<pre><code>dir.screenshots = ${user.dir}/resources/screenshots\ndir.downloads = ${user.dir}/resources/downloads\n</code></pre>\n"}],"owner":{"account_id":29608067,"reputation":3,"user_id":22692007,"display_name":"Sri Siva batchu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696916239,"creation_date":1696767510,"question_id":77253581,"body_markdown":"I&#39;m using application properties file to set the capabilities of the chrome drive. Below is the code for that initially it worked fine but when I added &quot;download.default_directory&quot;: &quot;${dir.downloads}&quot; it&#39;s not loading the driver as well.\r\n\r\n```\r\ndir.currentdirectory= ${expr:java.lang.System.getProperty(&quot;user.dir&quot;)}\r\ndir.screenshots = ${dir.currentdirectory}\\\\resources\\\\screenshots\r\ndir.downloads = ${dir.currentdirectory}\\\\resources\\\\downloads \r\nchrome.additional.capabilities={&quot;browserName&quot;:&quot;chrome&quot;,&quot;goog:chromeOptions&quot;: {&quot;args&quot;: [&quot;start-maximized&quot;, &quot;--disable-popup-blocking&quot;, &quot;disable-infobars&quot;, &quot;--disable-extensions&quot;], &quot;extensions&quot;: [], &quot;prefs&quot;: {&quot;download.directory_upgrade&quot;: &quot;true&quot;, &quot;download.default_directory&quot;: &quot;${dir.downloads}&quot;, &quot;download.prompt_for_download&quot;: &quot;false&quot;, &quot;safebrowsing.enabled&quot;:&#160;&quot;true&quot;}}}\r\n```\r\n\r\n\r\nI tried access that value using below code to check the string and its showing correct value.\r\nNot sure why its not loading.\r\n\r\n```\r\nString myString = getBundle().getString(&quot;chrome.additional.capabilities&quot;);\r\nSystem.out.println(&quot;==============&quot;+myString);\r\n```\r\n\r\n\r\n","title":"Unable to lauch browser instance when setting the capabilities for download directory in application.properties file","body":"<p>I'm using application properties file to set the capabilities of the chrome drive. Below is the code for that initially it worked fine but when I added &quot;download.default_directory&quot;: &quot;${dir.downloads}&quot; it's not loading the driver as well.</p>\n<pre><code>dir.currentdirectory= ${expr:java.lang.System.getProperty(&quot;user.dir&quot;)}\ndir.screenshots = ${dir.currentdirectory}\\\\resources\\\\screenshots\ndir.downloads = ${dir.currentdirectory}\\\\resources\\\\downloads \nchrome.additional.capabilities={&quot;browserName&quot;:&quot;chrome&quot;,&quot;goog:chromeOptions&quot;: {&quot;args&quot;: [&quot;start-maximized&quot;, &quot;--disable-popup-blocking&quot;, &quot;disable-infobars&quot;, &quot;--disable-extensions&quot;], &quot;extensions&quot;: [], &quot;prefs&quot;: {&quot;download.directory_upgrade&quot;: &quot;true&quot;, &quot;download.default_directory&quot;: &quot;${dir.downloads}&quot;, &quot;download.prompt_for_download&quot;: &quot;false&quot;, &quot;safebrowsing.enabled&quot;: &quot;true&quot;}}}\n</code></pre>\n<p>I tried access that value using below code to check the string and its showing correct value.\nNot sure why its not loading.</p>\n<pre><code>String myString = getBundle().getString(&quot;chrome.additional.capabilities&quot;);\nSystem.out.println(&quot;==============&quot;+myString);\n</code></pre>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":4286376,"reputation":149,"user_id":3504024,"accept_rate":17,"display_name":"user3504024"},"score":0,"creation_date":1442928134,"post_id":32717966,"comment_id":53278447,"body_markdown":"like this i wanna write multiple methods","body":"like this i wanna write multiple methods"},{"owner":{"account_id":77350,"reputation":40747,"user_id":220834,"accept_rate":50,"display_name":"Don Roby"},"score":0,"creation_date":1442928174,"post_id":32717966,"comment_id":53278471,"body_markdown":"No, and what would it mean?  Why do you think you want to do this?","body":"No, and what would it mean?  Why do you think you want to do this?"},{"owner":{"account_id":4286376,"reputation":149,"user_id":3504024,"accept_rate":17,"display_name":"user3504024"},"score":0,"creation_date":1442928345,"post_id":32717966,"comment_id":53278591,"body_markdown":"actually i have to get 3 values....three values have to be proccessed in different methods all the results are to be added to an array","body":"actually i have to get 3 values....three values have to be proccessed in different methods all the results are to be added to an array"},{"owner":{"account_id":470330,"reputation":10950,"user_id":877472,"accept_rate":77,"display_name":"Paul Richter"},"score":1,"creation_date":1442928882,"post_id":32717966,"comment_id":53279007,"body_markdown":"So you&#39;re saying each variable, `x`, `y`, and `z`, should be handled by different methods if they exist? If so, I would simply have `doGet` delegate to the appropriate method based on which one of those variables exists.","body":"So you&#39;re saying each variable, <code>x</code>, <code>y</code>, and <code>z</code>, should be handled by different methods if they exist? If so, I would simply have <code>doGet</code> delegate to the appropriate method based on which one of those variables exists."}],"answers":[{"tags":[],"owner":{"account_id":6532372,"reputation":1369,"user_id":5053124,"accept_rate":60,"display_name":"Nicholas Robinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1442928744,"creation_date":1442928744,"answer_id":32718308,"question_id":32717966,"body_markdown":"Why do you want more that one `doGet` in the same servlet, that kind of defeats the point. You would either have one `Servlet` that dispatches control to the appropriate controller (Prefered), or you would have one `Servlet` per request.\r\n\r\nThe `doGet` is an inherited method from `HttpServlet`, so you can overload the `doGet` method, but that those overloads can not be called. Since your implementation will be injected into the client, the client has coded using the `HttpServlet` class and your implementation is called polymorphically. As such, the client will only have access the the methods defined in `HttpServlet` and your overloaded implementations will not be known.\r\n\r\nI hope this helps.","title":"want to write multiple doget method in same servlet class is it possible .....if so ...how.?","body":"<p>Why do you want more that one <code>doGet</code> in the same servlet, that kind of defeats the point. You would either have one <code>Servlet</code> that dispatches control to the appropriate controller (Prefered), or you would have one <code>Servlet</code> per request.</p>\n\n<p>The <code>doGet</code> is an inherited method from <code>HttpServlet</code>, so you can overload the <code>doGet</code> method, but that those overloads can not be called. Since your implementation will be injected into the client, the client has coded using the <code>HttpServlet</code> class and your implementation is called polymorphically. As such, the client will only have access the the methods defined in <code>HttpServlet</code> and your overloaded implementations will not be known.</p>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":4977290,"reputation":2257,"user_id":4003263,"accept_rate":91,"display_name":"RockAndRoll"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1442929107,"creation_date":1442929107,"answer_id":32718446,"question_id":32717966,"body_markdown":"**doGet(HttpServletRequest req,HttpServletResponse res)** is picked by the servlet container.So Yes You can have overloaded versions of doGet but they wont be recognized by Servlet Container.So it does not make sense to have multiple doGet.\r\n\r\nInstead Overriding the doGet and doPost Methods in servlet makes sense.&lt;br&gt;\r\n[Refer this for more info.][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E19857-01/819-6518/abxbe/index.html","title":"want to write multiple doget method in same servlet class is it possible .....if so ...how.?","body":"<p><strong>doGet(HttpServletRequest req,HttpServletResponse res)</strong> is picked by the servlet container.So Yes You can have overloaded versions of doGet but they wont be recognized by Servlet Container.So it does not make sense to have multiple doGet.</p>\n\n<p>Instead Overriding the doGet and doPost Methods in servlet makes sense.<br>\n<a href=\"https://docs.oracle.com/cd/E19857-01/819-6518/abxbe/index.html\" rel=\"nofollow\">Refer this for more info.</a></p>\n"},{"tags":[],"owner":{"account_id":26999078,"reputation":1,"user_id":20560644,"display_name":"B̶u̶d̶d̶h̶i̶k̶a̶ J̶r̶"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696915752,"creation_date":1696915752,"answer_id":77263125,"question_id":32717966,"body_markdown":"You can do this if you want. But I do not recommend this. When you call GET, send another parameter, something like a function name, then use one get method, check the parameter sent before, define two functions and put the two logics that were put in your get.","title":"want to write multiple doget method in same servlet class is it possible .....if so ...how.?","body":"<p>You can do this if you want. But I do not recommend this. When you call GET, send another parameter, something like a function name, then use one get method, check the parameter sent before, define two functions and put the two logics that were put in your get.</p>\n"}],"owner":{"account_id":4286376,"reputation":149,"user_id":3504024,"accept_rate":17,"display_name":"user3504024"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4444,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"closed_date":1696933934,"answer_count":3,"score":3,"last_activity_date":1696915752,"creation_date":1442927892,"question_id":32717966,"body_markdown":"    public void doGet(HttpServletRequest req,HttpServletResponse res) throws ServletException,IOException\r\n    \t{\r\n    \t\tString param1 = req.getParameter(&quot;x&quot;);\r\n    \t\tString param2 = req.getParameter(&quot;y&quot;);\r\n    \t\tString param3 = req.getParameter(&quot;z&quot;);\r\n    \t\tint x = Integer.parseInt(param1);\r\n    \t\tint y = Integer.parseInt(param2);\r\n    \t\tint z = Integer.parseInt(param3);","title":"want to write multiple doget method in same servlet class is it possible .....if so ...how.?","body":"<pre><code>public void doGet(HttpServletRequest req,HttpServletResponse res) throws ServletException,IOException\n    {\n        String param1 = req.getParameter(\"x\");\n        String param2 = req.getParameter(\"y\");\n        String param3 = req.getParameter(\"z\");\n        int x = Integer.parseInt(param1);\n        int y = Integer.parseInt(param2);\n        int z = Integer.parseInt(param3);\n</code></pre>\n"},{"tags":["java","list","indexing","groovy"],"comments":[{"owner":{"account_id":9968371,"reputation":2540,"user_id":7375347,"display_name":"tax evader"},"score":1,"creation_date":1696912086,"post_id":77262853,"comment_id":136209832,"body_markdown":"Have you tried printing out the value of `curMonth` in `def String curMonth = cube.getSubstitutionVariableValue(&#39;StartMth&#39;).toString()` using something like `println(sprintf(&quot;value: |%s|&quot;, curMonth))` to make sure there&#39;s no unexpected characters in the value ie blank spaces?","body":"Have you tried printing out the value of <code>curMonth</code> in <code>def String curMonth = cube.getSubstitutionVariableValue(&#39;StartMth&#39;).toString()</code> using something like <code>println(sprintf(&quot;value: |%s|&quot;, curMonth))</code> to make sure there&#39;s no unexpected characters in the value ie blank spaces?"},{"owner":{"account_id":13226865,"reputation":15,"user_id":9551720,"display_name":"SQL_Rookie"},"score":0,"creation_date":1696915283,"post_id":77262853,"comment_id":136210111,"body_markdown":"I did that but and there are no special characters.","body":"I did that but and there are no special characters."},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":2,"creation_date":1696920467,"post_id":77262853,"comment_id":136210712,"body_markdown":"There are 2 potential causes here. 1. `curMonth` is not a `java.lang.String` or 2. `curMonth` contains characters not in the strings in the list. That&#39;s the only reasons. If it is a string with exactly the same chars, indexof would work as you expect","body":"There are 2 potential causes here. 1. <code>curMonth</code> is not a <code>java.lang.String</code> or 2. <code>curMonth</code> contains characters not in the strings in the list. That&#39;s the only reasons. If it is a string with exactly the same chars, indexof would work as you expect"},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1696921924,"post_id":77262853,"comment_id":136210969,"body_markdown":"Trying your code locally shows it works fine. The only thing unknown to\nus is `cube.getSubstitutionVariableValue(&#39;StartMth&#39;)`; Please provide\na [MRE](https://stackoverflow.com/help/minimal-reproducible-example)\n- there is something missing and we can only guess.","body":"Trying your code locally shows it works fine. The only thing unknown to us is <code>cube.getSubstitutionVariableValue(&#39;StartMth&#39;)</code>; Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a> - there is something missing and we can only guess."},{"owner":{"account_id":13226865,"reputation":15,"user_id":9551720,"display_name":"SQL_Rookie"},"score":0,"creation_date":1696994701,"post_id":77262853,"comment_id":136222343,"body_markdown":"Thanks to everyone who replied....There was a single quote around the value of StartMth which was causing this. Removing it fixed the issue.","body":"Thanks to everyone who replied....There was a single quote around the value of StartMth which was causing this. Removing it fixed the issue."}],"owner":{"account_id":13226865,"reputation":15,"user_id":9551720,"display_name":"SQL_Rookie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696915390,"creation_date":1696910351,"question_id":77262853,"body_markdown":"```\r\ndef String curMonth = cube.getSubstitutionVariableValue(&#39;StartMth&#39;).toString()\r\n```\r\n\r\nThe above line gives an output of &#39;P09&#39; and stores its `curMonth` variable\r\n\r\n```groovy\r\nList&lt;String&gt; moDictionary = [&#39;P01&#39;,&#39;P02&#39;,&#39;P03&#39;,&#39;P04&#39;,&#39;P05&#39;,&#39;P06&#39;,&#39;P07&#39;,&#39;P08&#39;,&#39;P09&#39;,&#39;P10&#39;,&#39;P11&#39;,&#39;P12&#39;,&#39;P13&#39;]\r\n\r\nint idxStartMonth = moDictionary.indexOf(curMonth)\r\n\r\nList openMonths = moDictionary[idxStartMonth..12]\r\n```\r\n\r\nIf I print value of `idxStartMonth` I receive -1 instead of 8. But if I replace `curMonth` and hardcode &#39;P09&#39; then I get the correct results.\r\n\r\nHow can I fix this code so it picks the curMonth value correctly?\r\n\r\nThanks ","title":"Find index of an element from the List in Groovy","body":"<pre><code>def String curMonth = cube.getSubstitutionVariableValue('StartMth').toString()\n</code></pre>\n<p>The above line gives an output of 'P09' and stores its <code>curMonth</code> variable</p>\n<pre><code>List&lt;String&gt; moDictionary = ['P01','P02','P03','P04','P05','P06','P07','P08','P09','P10','P11','P12','P13']\n\nint idxStartMonth = moDictionary.indexOf(curMonth)\n\nList openMonths = moDictionary[idxStartMonth..12]\n</code></pre>\n<p>If I print value of <code>idxStartMonth</code> I receive -1 instead of 8. But if I replace <code>curMonth</code> and hardcode 'P09' then I get the correct results.</p>\n<p>How can I fix this code so it picks the curMonth value correctly?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":5916770,"reputation":311,"user_id":4655328,"accept_rate":100,"display_name":"Robbi Nespu"},"score":0,"creation_date":1696915246,"post_id":77262890,"comment_id":136210103,"body_markdown":"I looking for the same output but using java code","body":"I looking for the same output but using java code"},{"owner":{"account_id":333767,"reputation":1040,"user_id":659803,"accept_rate":57,"display_name":"Arun Avanathan"},"score":0,"creation_date":1696917009,"post_id":77262890,"comment_id":136210259,"body_markdown":"Have you taken a look at Maven Dependency repo on how they are doing it? https://github.com/apache/maven-dependency-plugin","body":"Have you taken a look at Maven Dependency repo on how they are doing it? <a href=\"https://github.com/apache/maven-dependency-plugin\" rel=\"nofollow noreferrer\">github.com/apache/maven-dependency-plugin</a>"}],"tags":[],"owner":{"account_id":333767,"reputation":1040,"user_id":659803,"accept_rate":57,"display_name":"Arun Avanathan"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1696911169,"creation_date":1696911169,"answer_id":77262890,"question_id":77262658,"body_markdown":"Run this command from terminal/command line in your project folder:\r\n\r\n    mvn dependency:tree\r\n\r\nThis will list versions of all libraries in use for your project.","title":"Springboot - List down all dependencies and it version","body":"<p>Run this command from terminal/command line in your project folder:</p>\n<pre><code>mvn dependency:tree\n</code></pre>\n<p>This will list versions of all libraries in use for your project.</p>\n"}],"owner":{"account_id":5916770,"reputation":311,"user_id":4655328,"accept_rate":100,"display_name":"Robbi Nespu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696915188,"creation_date":1696905555,"question_id":77262658,"body_markdown":"I would like to listdown the dependencies that been use.\r\n\r\nI tried to code this way which this method will be called from my main @SpringBootApplication\r\n\r\n```\r\nSpringApplication.run(MiddlewareApplication.class, args);\r\nListJarsAndVersions.main(args);\r\n```\r\n\r\nThe code is:\r\n```\r\npackage com.my.middleware.utils;\r\n\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\nimport org.apache.maven.model.Dependency;\r\nimport org.apache.maven.model.Model;\r\nimport org.apache.maven.model.Parent;\r\nimport org.apache.maven.model.io.xpp3.MavenXpp3Reader;\r\nimport org.codehaus.plexus.util.xml.pull.XmlPullParserException;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class ListJarsAndVersions {\r\n\tprivate static Logger LOG = LoggerFactory.getLogger(ListJarsAndVersions.class);\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tLOG.info(&quot;Starting....&quot;);\r\n\t\t\tlistPOMsParent();\r\n\t\t\tlistPOMsDependencies();\r\n\r\n\t\t} catch (IOException | XmlPullParserException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static void listPOMsParent() throws IOException, XmlPullParserException {\r\n\t\tMavenXpp3Reader reader = new MavenXpp3Reader();\r\n\t\tModel model;\r\n\t\ttry (FileReader fileReader = new FileReader(&quot;pom.xml&quot;)) { // Adjust the path\r\n\t\t\tmodel = reader.read(fileReader);\r\n\t\t}\r\n\r\n\t\tParent parent = model.getParent();\r\n\t\twhile (parent != null) {\r\n\t\t\tLOG.debug(&quot;Parent POM:&quot;);\r\n\t\t\tLOG.debug(&quot;  Group ID: &quot; + parent.getGroupId());\r\n\t\t\tLOG.debug(&quot;  Artifact ID: &quot; + parent.getArtifactId());\r\n\t\t\tLOG.debug(&quot;  Version: &quot; + parent.getVersion());\r\n\r\n\t\t\t// Move to the next parent POM\r\n\t\t\tString parentPomPath = parent.getRelativePath();\r\n\t\t\tif (parentPomPath == null || parentPomPath.isEmpty()) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\ttry (FileReader parentFileReader = new FileReader(parentPomPath)) {\r\n\t\t\t\tModel parentModel = reader.read(parentFileReader);\r\n\t\t\t\tparent = parentModel.getParent();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (model.getDependencyManagement() != null) {\r\n\t\t\tLOG.debug(&quot;|Group ID |Artifact ID |Version&quot;);\r\n\t\t\tmodel.getDependencyManagement().getDependencies().stream()\r\n\t\t\t.sorted(Comparator.comparing(Dependency::getGroupId).thenComparing(Dependency::getArtifactId))\r\n\t\t\t.forEach(dependency -&gt; {\r\n\t\t\t\tLOG.debug(&quot;| {} | {} | {}&quot;, dependency.getGroupId(),dependency.getArtifactId(), dependency.getVersion());\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate static void listPOMsDependencies() throws IOException, XmlPullParserException {\r\n\t\tMavenXpp3Reader reader = new MavenXpp3Reader();\r\n\t\tModel model;\r\n\t\ttry (FileReader fileReader = new FileReader(&quot;pom.xml&quot;)) { // Adjust the path\r\n\t\t\tmodel = reader.read(fileReader);\r\n\t\t}\r\n\t\tList&lt;Dependency&gt; dependencies = model.getDependencies();\r\n\t\tLOG.debug(&quot;List of Maven Dependencies:&quot;);\r\n\t\tfor (Dependency dependency : dependencies) {\r\n\t\t\tLOG.debug(\r\n\t\t\t\t\t&quot;  &quot; + dependency.getGroupId() + &quot;:&quot; + dependency.getArtifactId() + &quot;:&quot; + dependency.getVersion());\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nSo with this, I getting the output as below\r\n```\r\n2023-10-10T10:24:15.885+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          : Parent POM:\r\n2023-10-10T10:24:15.886+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   Group ID: org.springframework.boot\r\n2023-10-10T10:24:15.886+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   Artifact ID: spring-boot-starter-parent\r\n2023-10-10T10:24:15.886+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   Version: 3.1.4\r\n2023-10-10T10:24:15.888+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          : List of Maven Dependencies:\r\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.springframework.boot:spring-boot-starter-data-jpa:null\r\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.springframework.boot:spring-boot-starter-jdbc:null\r\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.springframework.boot:spring-boot-starter-mail:null\r\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.springframework.boot:spring-boot-starter-quartz:null\r\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.springframework.boot:spring-boot-starter-web:null\r\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.springframework.boot:spring-boot-devtools:null\r\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.postgresql:postgresql:null\r\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.springframework.boot:spring-boot-configuration-processor:null\r\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.projectlombok:lombok:null\r\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.springframework.boot:spring-boot-starter-test:null\r\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.springframework.restdocs:spring-restdocs-mockmvc:null\r\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.apache.maven:maven-model:3.8.3\r\n```\r\n\r\nsome of it showing null (example `org.springframework.boot:spring-boot-starter-data-jpa:null` because the `POM` file don&#39;t have the version. \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.my&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Middleware&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Middleware&lt;/name&gt;\r\n\t&lt;description&gt;Code&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-jdbc --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t\t\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-quartz --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-model&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.3&lt;/version&gt; &lt;!-- Use the latest version --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.2.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;generate-docs&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;process-asciidoc&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;backend&gt;html&lt;/backend&gt;\r\n\t\t\t\t\t\t\t&lt;doctype&gt;book&lt;/doctype&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;spring-restdocs-asciidoctor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${spring-restdocs.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nI think it controlled by the parent which is `spring-boot-starter-parent:3.1.4`\r\n\r\nI can get expected output using `mvn dependency:tree` but how I can pull data and get the version of dependencies that is not define inside POM file using java code ?\r\n\r\n","title":"Springboot - List down all dependencies and it version","body":"<p>I would like to listdown the dependencies that been use.</p>\n<p>I tried to code this way which this method will be called from my main @SpringBootApplication</p>\n<pre><code>SpringApplication.run(MiddlewareApplication.class, args);\nListJarsAndVersions.main(args);\n</code></pre>\n<p>The code is:</p>\n<pre><code>package com.my.middleware.utils;\n\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.Comparator;\nimport java.util.List;\nimport org.apache.maven.model.Dependency;\nimport org.apache.maven.model.Model;\nimport org.apache.maven.model.Parent;\nimport org.apache.maven.model.io.xpp3.MavenXpp3Reader;\nimport org.codehaus.plexus.util.xml.pull.XmlPullParserException;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class ListJarsAndVersions {\n    private static Logger LOG = LoggerFactory.getLogger(ListJarsAndVersions.class);\n\n    public static void main(String[] args) {\n        try {\n            LOG.info(&quot;Starting....&quot;);\n            listPOMsParent();\n            listPOMsDependencies();\n\n        } catch (IOException | XmlPullParserException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void listPOMsParent() throws IOException, XmlPullParserException {\n        MavenXpp3Reader reader = new MavenXpp3Reader();\n        Model model;\n        try (FileReader fileReader = new FileReader(&quot;pom.xml&quot;)) { // Adjust the path\n            model = reader.read(fileReader);\n        }\n\n        Parent parent = model.getParent();\n        while (parent != null) {\n            LOG.debug(&quot;Parent POM:&quot;);\n            LOG.debug(&quot;  Group ID: &quot; + parent.getGroupId());\n            LOG.debug(&quot;  Artifact ID: &quot; + parent.getArtifactId());\n            LOG.debug(&quot;  Version: &quot; + parent.getVersion());\n\n            // Move to the next parent POM\n            String parentPomPath = parent.getRelativePath();\n            if (parentPomPath == null || parentPomPath.isEmpty()) {\n                break;\n            }\n\n            try (FileReader parentFileReader = new FileReader(parentPomPath)) {\n                Model parentModel = reader.read(parentFileReader);\n                parent = parentModel.getParent();\n            }\n        }\n\n        if (model.getDependencyManagement() != null) {\n            LOG.debug(&quot;|Group ID |Artifact ID |Version&quot;);\n            model.getDependencyManagement().getDependencies().stream()\n            .sorted(Comparator.comparing(Dependency::getGroupId).thenComparing(Dependency::getArtifactId))\n            .forEach(dependency -&gt; {\n                LOG.debug(&quot;| {} | {} | {}&quot;, dependency.getGroupId(),dependency.getArtifactId(), dependency.getVersion());\n            });\n        }\n\n    }\n\n    private static void listPOMsDependencies() throws IOException, XmlPullParserException {\n        MavenXpp3Reader reader = new MavenXpp3Reader();\n        Model model;\n        try (FileReader fileReader = new FileReader(&quot;pom.xml&quot;)) { // Adjust the path\n            model = reader.read(fileReader);\n        }\n        List&lt;Dependency&gt; dependencies = model.getDependencies();\n        LOG.debug(&quot;List of Maven Dependencies:&quot;);\n        for (Dependency dependency : dependencies) {\n            LOG.debug(\n                    &quot;  &quot; + dependency.getGroupId() + &quot;:&quot; + dependency.getArtifactId() + &quot;:&quot; + dependency.getVersion());\n        }\n    }\n}\n</code></pre>\n<p>So with this, I getting the output as below</p>\n<pre><code>2023-10-10T10:24:15.885+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          : Parent POM:\n2023-10-10T10:24:15.886+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   Group ID: org.springframework.boot\n2023-10-10T10:24:15.886+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   Artifact ID: spring-boot-starter-parent\n2023-10-10T10:24:15.886+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   Version: 3.1.4\n2023-10-10T10:24:15.888+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          : List of Maven Dependencies:\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.springframework.boot:spring-boot-starter-data-jpa:null\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.springframework.boot:spring-boot-starter-jdbc:null\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.springframework.boot:spring-boot-starter-mail:null\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.springframework.boot:spring-boot-starter-quartz:null\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.springframework.boot:spring-boot-starter-web:null\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.springframework.boot:spring-boot-devtools:null\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.postgresql:postgresql:null\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.springframework.boot:spring-boot-configuration-processor:null\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.projectlombok:lombok:null\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.springframework.boot:spring-boot-starter-test:null\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.springframework.restdocs:spring-restdocs-mockmvc:null\n2023-10-10T10:24:15.889+08:00 DEBUG 19920 --- [  restartedMain] c.m.m.utils.ListJarsAndVersions          :   org.apache.maven:maven-model:3.8.3\n</code></pre>\n<p>some of it showing null (example <code>org.springframework.boot:spring-boot-starter-data-jpa:null</code> because the <code>POM</code> file don't have the version.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.my&lt;/groupId&gt;\n    &lt;artifactId&gt;Middleware&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Middleware&lt;/name&gt;\n    &lt;description&gt;Code&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-jdbc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n            \n        &lt;/dependency&gt;\n\n        &lt;!--\n        https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n\n        &lt;!--\n        https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-quartz --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-model&lt;/artifactId&gt;\n            &lt;version&gt;3.8.3&lt;/version&gt; &lt;!-- Use the latest version --&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\n                &lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-docs&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process-asciidoc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;backend&gt;html&lt;/backend&gt;\n                            &lt;doctype&gt;book&lt;/doctype&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-restdocs-asciidoctor&lt;/artifactId&gt;\n                        &lt;version&gt;${spring-restdocs.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I think it controlled by the parent which is <code>spring-boot-starter-parent:3.1.4</code></p>\n<p>I can get expected output using <code>mvn dependency:tree</code> but how I can pull data and get the version of dependencies that is not define inside POM file using java code ?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":15374779,"reputation":23,"user_id":11091825,"display_name":"Chelle"},"score":0,"creation_date":1550710167,"post_id":54793464,"comment_id":96372739,"body_markdown":"...I get it now! I kept trying to reset the count outside of the while loop. It works perfectly now. Thanks!","body":"...I get it now! I kept trying to reset the count outside of the while loop. It works perfectly now. Thanks!"},{"owner":{"account_id":12366643,"reputation":1444,"user_id":10792855,"display_name":"Joey Kilpatrick"},"score":0,"creation_date":1550710356,"post_id":54793464,"comment_id":96372775,"body_markdown":"Great! If this solution worked for you, make sure to accept the answer.","body":"Great! If this solution worked for you, make sure to accept the answer."}],"tags":[],"owner":{"account_id":12366643,"reputation":1444,"user_id":10792855,"display_name":"Joey Kilpatrick"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1550689157,"creation_date":1550689157,"answer_id":54793464,"question_id":54793153,"body_markdown":"You have problems in all three of the function that check win conditions: `isHorizontalWin`, `isVerticalWin`, and `isDiagonalWin`. All three increment the variable `count`, but this variable is never set back to zero. Additionally, the check to see if `count == 5` should be made inside the loop. Here is an example on how to fix `isHorizontalWin`:\r\n\r\n```\r\n    public static boolean isHorizontalWin(char[][] map, int player)\r\n    {\r\n        int count = 0;\r\n\r\n        int r;\r\n        int c;\r\n\r\n        for (int i = 0; i &lt; map.length; i++)\r\n        {\r\n            for (int j = 0; j &lt; map.length; j++)\r\n            {\r\n                if (map[i][j]==(player))\r\n                {\r\n                    r = i;\r\n                    c = j;\r\n                    while (r &gt;= 0 &amp;&amp; r &lt;= 18 &amp;&amp; c &gt;= 0 &amp;&amp; c &lt;= 18 &amp;&amp; map[r][c] == player)\r\n                    {\r\n                        count ++;\r\n                        r += 0;\r\n                        c += 1;\r\n                    }\r\n                    if (count == 5)\r\n                    {\r\n                        return true;\r\n                    } else {\r\n                        count = 0;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n```","title":"Can someone help me with my win scenario in my Gomoku program?","body":"<p>You have problems in all three of the function that check win conditions: <code>isHorizontalWin</code>, <code>isVerticalWin</code>, and <code>isDiagonalWin</code>. All three increment the variable <code>count</code>, but this variable is never set back to zero. Additionally, the check to see if <code>count == 5</code> should be made inside the loop. Here is an example on how to fix <code>isHorizontalWin</code>:</p>\n\n<pre><code>    public static boolean isHorizontalWin(char[][] map, int player)\n    {\n        int count = 0;\n\n        int r;\n        int c;\n\n        for (int i = 0; i &lt; map.length; i++)\n        {\n            for (int j = 0; j &lt; map.length; j++)\n            {\n                if (map[i][j]==(player))\n                {\n                    r = i;\n                    c = j;\n                    while (r &gt;= 0 &amp;&amp; r &lt;= 18 &amp;&amp; c &gt;= 0 &amp;&amp; c &lt;= 18 &amp;&amp; map[r][c] == player)\n                    {\n                        count ++;\n                        r += 0;\n                        c += 1;\n                    }\n                    if (count == 5)\n                    {\n                        return true;\n                    } else {\n                        count = 0;\n                    }\n                }\n            }\n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3412638,"reputation":99,"user_id":2864758,"display_name":"Lummo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696914469,"creation_date":1694514803,"answer_id":77088313,"question_id":54793153,"body_markdown":"I know that it&#39;s been a while... Here is my attempt at detecting five in a row in any direction but not as part of six or more. It&#39;s JavaScript but you could convert to Java pretty easily. It&#39;s a bit more compact and does it all in a single function with a couple of helper functions. It counts connected stones in both directions away from the x,y stone at the same time. board[][] is a simple 2D array with the Y value as the first index.\r\n\r\n````\r\nconst isWinningTurn = (x, y) =&gt; {\r\n  let tests = [ [1, 0], [0, 1], [-1, 1], [1, 1] ];\r\n  for (let i = 0; i &lt; tests.length; i++) {\r\n    let dx = tests[i][0];\r\n    let dy = tests[i][1];\r\n    const first = numMatches(x, y, dx, dy);\r\n    const second = numMatches(x, y, -dx, -dy);\r\n    let runLength = first.n + second.n + 1;\r\n    if (runLength == 5) {\r\n      return {&#39;from&#39; : {x:first.x , y:first.y} , &#39;to&#39; : {x:second.x, y:second.y}};\r\n      }\r\n    }\r\n  return false;\r\n  };\r\n\r\nconst numMatches = (x, y, dx, dy) =&gt; {\r\n  let i = 1;\r\n  while (inBounds(x + i*dx, y + i*dy) &amp;&amp; board[y + i*dy][x + i*dx] === board[y][x]) {\r\n    i++;\r\n  }\r\n  return {&#39;n&#39; : i - 1, &#39;x&#39; : x + i*dx - dx, &#39;y&#39; : y + i*dy - dy};\r\n};\r\n\r\nconst inBounds = (x, y) =&gt; {\r\n  return (y &gt;= 0 &amp;&amp; y &lt; board.length) &amp;&amp; (x &gt;= 0 &amp;&amp; x &lt; board[y].length));\r\n};\r\n\r\n````","title":"Can someone help me with my win scenario in my Gomoku program?","body":"<p>I know that it's been a while... Here is my attempt at detecting five in a row in any direction but not as part of six or more. It's JavaScript but you could convert to Java pretty easily. It's a bit more compact and does it all in a single function with a couple of helper functions. It counts connected stones in both directions away from the x,y stone at the same time. board[][] is a simple 2D array with the Y value as the first index.</p>\n<pre><code>const isWinningTurn = (x, y) =&gt; {\n  let tests = [ [1, 0], [0, 1], [-1, 1], [1, 1] ];\n  for (let i = 0; i &lt; tests.length; i++) {\n    let dx = tests[i][0];\n    let dy = tests[i][1];\n    const first = numMatches(x, y, dx, dy);\n    const second = numMatches(x, y, -dx, -dy);\n    let runLength = first.n + second.n + 1;\n    if (runLength == 5) {\n      return {'from' : {x:first.x , y:first.y} , 'to' : {x:second.x, y:second.y}};\n      }\n    }\n  return false;\n  };\n\nconst numMatches = (x, y, dx, dy) =&gt; {\n  let i = 1;\n  while (inBounds(x + i*dx, y + i*dy) &amp;&amp; board[y + i*dy][x + i*dx] === board[y][x]) {\n    i++;\n  }\n  return {'n' : i - 1, 'x' : x + i*dx - dx, 'y' : y + i*dy - dy};\n};\n\nconst inBounds = (x, y) =&gt; {\n  return (y &gt;= 0 &amp;&amp; y &lt; board.length) &amp;&amp; (x &gt;= 0 &amp;&amp; x &lt; board[y].length));\n};\n\n</code></pre>\n"}],"owner":{"account_id":15374779,"reputation":23,"user_id":11091825,"display_name":"Chelle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54793464,"answer_count":2,"score":2,"last_activity_date":1696914469,"creation_date":1550687927,"question_id":54793153,"body_markdown":"I have written a program for an assignment where we had to write a simple Gomoku program. I thought I had it all, but when I compile and run, it sets off the win scenario even if I only have 4 of a kind and even if they&#39;re not next to each other. (It should only set off a win if there are five in a row of one kind...X&#39;s or O&#39;s). I feel like I should be resetting my counter back to 0 before each turn, but I&#39;m not sure where I should be doing that. Any tips would be appreciated!\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Gomoku1\r\n    {\r\n        public static void main (String[] args)\r\n        {\r\n            Scanner input = new Scanner(System.in);\r\n\r\n            char[][] map = new char [19][19];\r\n\r\n            int row = 0;\r\n            int column = 0;\r\n\r\n            //fill game with dots\r\n            for (int i = 0; i &lt; map.length; i++)\r\n            {\r\n                for (int j = 0; j &lt; map[i].length; j++)\r\n                {\r\n                    map[i][j] = &#39;.&#39;;\r\n                }\r\n            }\r\n\r\n            printMap(map);\r\n\r\n            char player1Choice = &#39;X&#39;;\r\n            char player2Choice = &#39;O&#39;;\r\n\r\n            int [] place;\r\n            while (true)\r\n            {\r\n\r\n                System.out.println(&quot;Player 1&#39;s turn!&quot;);\r\n                place = userTurn(map, player1Choice);\r\n\r\n                if (isValidMove(map, place[0], place[1]) == false)\r\n                {\r\n                    System.out.println(&quot;Invalid move! Try again!&quot;);\r\n                    place = userTurn(map, player1Choice);\r\n                }\r\n                if (isValidMove(map, place[0], place[1])) {\r\n                    map[place[0]][place[1]] = player1Choice;\r\n                    printMap(map);\r\n                }\r\n                if (isBoardFull(map) == true)\r\n                {\r\n                    System.out.println(&quot;Board is full. Tied game.&quot;);\r\n                    break;\r\n                }\r\n\r\n                if (hasPlayerWon(map, player1Choice) == true)\r\n                {\r\n                    System.out.println(&quot;Player 1 Wins!&quot;);\r\n                    break;\r\n                }\r\n\r\n                else\r\n                {\r\n\r\n                    System.out.println(&quot;Player 2&#39;s turn!: &quot;);\r\n                    place = userTurn(map, player2Choice);\r\n\r\n                    //System.out.println(isValidMove(map, row, column));\r\n\r\n                    if (isValidMove(map, place[0], place[1]) == false)\r\n                    {\r\n                        System.out.println(&quot;Invalid move! Try again!&quot;);\r\n                        place = userTurn(map, player2Choice);\r\n                    }\r\n                    if (isValidMove(map, place[0], place[1])) {\r\n                        map[place[0]][place[1]] = player2Choice;\r\n                        printMap(map);\r\n                    }\r\n                    if (isBoardFull(map) == true)\r\n                    {\r\n                        System.out.println(&quot;Board is full. Tied game.&quot;);\r\n                        break;\r\n                    }\r\n                    if (hasPlayerWon(map, player2Choice) == true)\r\n                    {\r\n                        System.out.println(&quot;Player 2 Wins!&quot;);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n\r\n            }\r\n        }\r\n\r\n        public static void printMap (char[][] map)\r\n        {\r\n            for (int i = 0; i &lt; map.length; i++)\r\n            {\r\n                for (int j = 0; j &lt; map[i].length; j++)\r\n                {\r\n                    System.out.printf(&quot;%2c&quot;, map[i][j]);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n\r\n        public static int [] userTurn (char[][] map, char playerChoice)\r\n        {\r\n            Scanner input = new Scanner(System.in);\r\n\r\n            System.out.print(&quot;Enter row: &quot;);\r\n            int row = input.nextInt();\r\n\r\n            System.out.print(&quot;Enter column: &quot;);\r\n            int column = input.nextInt();\r\n\r\n            int place [] = {row, column};\r\n            return place;\r\n        }\r\n\r\n        public static boolean isValidMove (char[][] map, int row, int column)\r\n        {\r\n            //System.out.println (&quot;n is valid move&quot;);\r\n            if (row &lt; 0 || row &gt; 18 || column &lt; 0 || column &gt; 18 || map[row][column]==&#39;O&#39; || map[row][column]==&#39;X&#39;)\r\n            {\r\n                return false;\r\n            }\r\n            else\r\n            {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        public static boolean isBoardFull (char[][] map)\r\n        {\r\n            int openSpots = 0;\r\n            for (int i = 0; i &lt; map.length; i++)\r\n            {\r\n                for (int j = 0; j &lt; map.length; j++)\r\n                {\r\n                    if (!(map[i][j]==&#39;.&#39;))\r\n                        openSpots++;\r\n                }\r\n            }\r\n            if (openSpots == 361)\r\n            {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        public static boolean hasPlayerWon(char[][] map, int player)\r\n        {\r\n            if (isHorizontalWin(map, player) == true || isVerticalWin(map, player) == true || isDiagonalWin(map, player) == true)\r\n            {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        public static boolean isHorizontalWin(char[][] map, int player)\r\n        {\r\n            int count = 0;\r\n\r\n            int r;\r\n            int c;\r\n\r\n\r\n\r\n            for (int i = 0; i &lt; map.length; i++)\r\n            {\r\n                for (int j = 0; j &lt; map.length; j++)\r\n                {\r\n                    if (map[i][j]==(player))\r\n                    {\r\n                        r = i;\r\n                        c = j;\r\n                        while (r &gt;= 0 &amp;&amp; r &lt;= 18 &amp;&amp; c &gt;= 0 &amp;&amp; c &lt;= 18 &amp;&amp; map[r][c] == player)\r\n                        {\r\n    \t\t\t\t\t\tcount ++;\r\n    \t\t\t\t\t\tr += 0;\r\n    \t\t\t\t\t\tc += 1;\r\n    \t\t\t\t\t}\r\n                    }\r\n                }\r\n            }\r\n            if (count == 5)\r\n            {\r\n    \t\t\treturn true;\r\n\r\n    \t\t}\r\n            return false;\r\n\r\n\r\n        }\r\n\r\n        public static boolean isVerticalWin(char[][] map, int player)\r\n        {\r\n            int count = 0;\r\n\r\n            int r;\r\n            int c;\r\n\r\n            for (int i = 0; i &lt; map.length; i++)\r\n            {\r\n                for (int j = 0; j &lt; map.length; j++)\r\n                {\r\n                    if (map[i][j]==(player))\r\n                    {\r\n                        r = i;\r\n                        c = j;\r\n                        while (r &gt;= 0 &amp;&amp; r &lt;= 18 &amp;&amp; c &gt;= 0 &amp;&amp; c &lt;= 18 &amp;&amp; map[r][c] == player)\r\n                        {\r\n    \t\t\t\t\t\tcount ++;\r\n    \t\t\t\t\t\tr += 1;\r\n    \t\t\t\t\t\tc += 0;\r\n    \t\t\t\t\t}\r\n                    }\r\n                }\r\n            }\r\n            if (count == 5)\r\n            {\r\n    \t\t\treturn true;\r\n\r\n    \t\t}\r\n            return false;\r\n\r\n        }\r\n        public static boolean isDiagonalWin(char[][] map, int player)\r\n        {\r\n            int count = 0;\r\n            int r;\r\n            int c;\r\n\r\n            for (int i = 0; i &lt; map.length; i++)\r\n            {\r\n                for (int j = 0; j &lt; map.length; j++)\r\n                {\r\n                    if (map[i][j]==(player))\r\n                    {\r\n                        r = i;\r\n                        c = j;\r\n                        while (r &gt;= 0 &amp;&amp; r &lt;= 18 &amp;&amp; c &gt;= 0 &amp;&amp; c &lt;= 18 &amp;&amp; map[r][c] == player)\r\n                        {\r\n                            count++;\r\n                            r += 1;\r\n                            c += 1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (count == 5)\r\n            {\r\n                return true;\r\n\r\n            }\r\n            return false;\r\n\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n","title":"Can someone help me with my win scenario in my Gomoku program?","body":"<p>I have written a program for an assignment where we had to write a simple Gomoku program. I thought I had it all, but when I compile and run, it sets off the win scenario even if I only have 4 of a kind and even if they're not next to each other. (It should only set off a win if there are five in a row of one kind...X's or O's). I feel like I should be resetting my counter back to 0 before each turn, but I'm not sure where I should be doing that. Any tips would be appreciated!</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Gomoku1\n{\n    public static void main (String[] args)\n    {\n        Scanner input = new Scanner(System.in);\n\n        char[][] map = new char [19][19];\n\n        int row = 0;\n        int column = 0;\n\n        //fill game with dots\n        for (int i = 0; i &lt; map.length; i++)\n        {\n            for (int j = 0; j &lt; map[i].length; j++)\n            {\n                map[i][j] = '.';\n            }\n        }\n\n        printMap(map);\n\n        char player1Choice = 'X';\n        char player2Choice = 'O';\n\n        int [] place;\n        while (true)\n        {\n\n            System.out.println(\"Player 1's turn!\");\n            place = userTurn(map, player1Choice);\n\n            if (isValidMove(map, place[0], place[1]) == false)\n            {\n                System.out.println(\"Invalid move! Try again!\");\n                place = userTurn(map, player1Choice);\n            }\n            if (isValidMove(map, place[0], place[1])) {\n                map[place[0]][place[1]] = player1Choice;\n                printMap(map);\n            }\n            if (isBoardFull(map) == true)\n            {\n                System.out.println(\"Board is full. Tied game.\");\n                break;\n            }\n\n            if (hasPlayerWon(map, player1Choice) == true)\n            {\n                System.out.println(\"Player 1 Wins!\");\n                break;\n            }\n\n            else\n            {\n\n                System.out.println(\"Player 2's turn!: \");\n                place = userTurn(map, player2Choice);\n\n                //System.out.println(isValidMove(map, row, column));\n\n                if (isValidMove(map, place[0], place[1]) == false)\n                {\n                    System.out.println(\"Invalid move! Try again!\");\n                    place = userTurn(map, player2Choice);\n                }\n                if (isValidMove(map, place[0], place[1])) {\n                    map[place[0]][place[1]] = player2Choice;\n                    printMap(map);\n                }\n                if (isBoardFull(map) == true)\n                {\n                    System.out.println(\"Board is full. Tied game.\");\n                    break;\n                }\n                if (hasPlayerWon(map, player2Choice) == true)\n                {\n                    System.out.println(\"Player 2 Wins!\");\n                    break;\n                }\n            }\n\n\n        }\n    }\n\n    public static void printMap (char[][] map)\n    {\n        for (int i = 0; i &lt; map.length; i++)\n        {\n            for (int j = 0; j &lt; map[i].length; j++)\n            {\n                System.out.printf(\"%2c\", map[i][j]);\n            }\n            System.out.println();\n        }\n    }\n\n    public static int [] userTurn (char[][] map, char playerChoice)\n    {\n        Scanner input = new Scanner(System.in);\n\n        System.out.print(\"Enter row: \");\n        int row = input.nextInt();\n\n        System.out.print(\"Enter column: \");\n        int column = input.nextInt();\n\n        int place [] = {row, column};\n        return place;\n    }\n\n    public static boolean isValidMove (char[][] map, int row, int column)\n    {\n        //System.out.println (\"n is valid move\");\n        if (row &lt; 0 || row &gt; 18 || column &lt; 0 || column &gt; 18 || map[row][column]=='O' || map[row][column]=='X')\n        {\n            return false;\n        }\n        else\n        {\n            return true;\n        }\n    }\n\n    public static boolean isBoardFull (char[][] map)\n    {\n        int openSpots = 0;\n        for (int i = 0; i &lt; map.length; i++)\n        {\n            for (int j = 0; j &lt; map.length; j++)\n            {\n                if (!(map[i][j]=='.'))\n                    openSpots++;\n            }\n        }\n        if (openSpots == 361)\n        {\n            return true;\n        }\n        return false;\n    }\n\n    public static boolean hasPlayerWon(char[][] map, int player)\n    {\n        if (isHorizontalWin(map, player) == true || isVerticalWin(map, player) == true || isDiagonalWin(map, player) == true)\n        {\n            return true;\n        }\n        return false;\n    }\n\n    public static boolean isHorizontalWin(char[][] map, int player)\n    {\n        int count = 0;\n\n        int r;\n        int c;\n\n\n\n        for (int i = 0; i &lt; map.length; i++)\n        {\n            for (int j = 0; j &lt; map.length; j++)\n            {\n                if (map[i][j]==(player))\n                {\n                    r = i;\n                    c = j;\n                    while (r &gt;= 0 &amp;&amp; r &lt;= 18 &amp;&amp; c &gt;= 0 &amp;&amp; c &lt;= 18 &amp;&amp; map[r][c] == player)\n                    {\n                        count ++;\n                        r += 0;\n                        c += 1;\n                    }\n                }\n            }\n        }\n        if (count == 5)\n        {\n            return true;\n\n        }\n        return false;\n\n\n    }\n\n    public static boolean isVerticalWin(char[][] map, int player)\n    {\n        int count = 0;\n\n        int r;\n        int c;\n\n        for (int i = 0; i &lt; map.length; i++)\n        {\n            for (int j = 0; j &lt; map.length; j++)\n            {\n                if (map[i][j]==(player))\n                {\n                    r = i;\n                    c = j;\n                    while (r &gt;= 0 &amp;&amp; r &lt;= 18 &amp;&amp; c &gt;= 0 &amp;&amp; c &lt;= 18 &amp;&amp; map[r][c] == player)\n                    {\n                        count ++;\n                        r += 1;\n                        c += 0;\n                    }\n                }\n            }\n        }\n        if (count == 5)\n        {\n            return true;\n\n        }\n        return false;\n\n    }\n    public static boolean isDiagonalWin(char[][] map, int player)\n    {\n        int count = 0;\n        int r;\n        int c;\n\n        for (int i = 0; i &lt; map.length; i++)\n        {\n            for (int j = 0; j &lt; map.length; j++)\n            {\n                if (map[i][j]==(player))\n                {\n                    r = i;\n                    c = j;\n                    while (r &gt;= 0 &amp;&amp; r &lt;= 18 &amp;&amp; c &gt;= 0 &amp;&amp; c &lt;= 18 &amp;&amp; map[r][c] == player)\n                    {\n                        count++;\n                        r += 1;\n                        c += 1;\n                    }\n                }\n            }\n        }\n        if (count == 5)\n        {\n            return true;\n\n        }\n        return false;\n\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","exception","try-catch","inputmismatchexception"],"answers":[{"comments":[{"owner":{"account_id":17899118,"reputation":127,"user_id":13003755,"display_name":"P Yoga Prudhvi"},"score":0,"creation_date":1610265107,"post_id":65650955,"comment_id":116073708,"body_markdown":"Yeah I understand what you are saying, it is out of range for int, i get that. But my main issue is, while passing &quot;hello&quot; the output is java.util.InputMismatchException. But while passing (2147483648) long in int type the output is= java.util.InputMismatchException: For input string: “2147483648”. I want to know why is it printing extra content. I want the output to be same for both Hello and 2147483648.","body":"Yeah I understand what you are saying, it is out of range for int, i get that. But my main issue is, while passing &quot;hello&quot; the output is java.util.InputMismatchException. But while passing (2147483648) long in int type the output is= java.util.InputMismatchException: For input string: “2147483648”. I want to know why is it printing extra content. I want the output to be same for both Hello and 2147483648."},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":2,"creation_date":1610265268,"post_id":65650955,"comment_id":116073729,"body_markdown":"Well passing an out of range value to an integer and passing a string are both triggering the same exception.  Why do you need anything finer grain than this?","body":"Well passing an out of range value to an integer and passing a string are both triggering the same exception.  Why do you need anything finer grain than this?"},{"owner":{"account_id":17899118,"reputation":127,"user_id":13003755,"display_name":"P Yoga Prudhvi"},"score":0,"creation_date":1610269291,"post_id":65650955,"comment_id":116074404,"body_markdown":"It&#39;s a programming question on Hackerrank,the output should be same for both string and 2147483648. The exception is same in both cases, but for string it is=java.util.InputMismatchException &amp; for  2147483648 it is =java.util.InputMismatchException: For input string: “2147483648”..I dont know why it is printing (For input string: “2147483648”).","body":"It&#39;s a programming question on Hackerrank,the output should be same for both string and 2147483648. The exception is same in both cases, but for string it is=java.util.InputMismatchException &amp; for  2147483648 it is =java.util.InputMismatchException: For input string: “2147483648”..I dont know why it is printing (For input string: “2147483648”)."}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610263941,"creation_date":1610263302,"answer_id":65650955,"question_id":65650903,"body_markdown":"The value `2147483648` is larger than the maximum value which can fit into a primitive Java integer, which is `2147483647`. Java integers only fit any value between -2147483648 and 2147483647 [-2&lt;sup&gt;31&lt;/sup&gt; to 2&lt;sup&gt;31&lt;/sup&gt;-1, since java int is a 32-bit integer]. To get around this problem, either use an input within range for integers, or maybe use a wider type, such as `long`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    long a = 0;\r\n    long b = 0;\r\n\r\n    try {\r\n        a = sc.nextLong();\r\n        b = sc.nextLong();\r\n        // ...\r\n    }\r\n    catch (Exception e) { }","title":"java.util.InputMismatchException: For input string: &quot;2147483648&quot;","body":"<p>The value <code>2147483648</code> is larger than the maximum value which can fit into a primitive Java integer, which is <code>2147483647</code>. Java integers only fit any value between -2147483648 and 2147483647 [-2<sup>31</sup> to 2<sup>31</sup>-1, since java int is a 32-bit integer]. To get around this problem, either use an input within range for integers, or maybe use a wider type, such as <code>long</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>long a = 0;\nlong b = 0;\n\ntry {\n    a = sc.nextLong();\n    b = sc.nextLong();\n    // ...\n}\ncatch (Exception e) { }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17899118,"reputation":127,"user_id":13003755,"display_name":"P Yoga Prudhvi"},"score":0,"creation_date":1610269883,"post_id":65651584,"comment_id":116074529,"body_markdown":"Thanks man your answer was helpful, by using System.out.println(e.getClass().getName()); it helped me","body":"Thanks man your answer was helpful, by using System.out.println(e.getClass().getName()); it helped me"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1610269175,"creation_date":1610269175,"answer_id":65651584,"question_id":65650903,"body_markdown":"&gt; My main issue is, while passing &quot;hello&quot; the output is java.util.InputMismatchException. But while passing (2147483648) long in int type the output is= java.util.InputMismatchException: For input string: &quot;2147483648&quot;. I want to know why is it printing extra content. \r\n\r\nThat is a different question to what you were originally asking, but I will answer anyway.\r\n\r\nThe reason you are getting &quot;extra content&quot; as in:\r\n\r\n    java.util.InputMismatchException: For input string: &quot;2147483648&quot;\r\n\r\nis that you are printing the exception like this:\r\n\r\n    System.out.println(e);\r\n\r\nThis calls `toString()` on the exception object and prints it.  The `toString()` method for a typical exception is roughly equivalent to this:\r\n\r\n\r\n    public String toString() {\r\n        return e.getClass().getName() + &quot;: &quot; + e.getMessage();\r\n    }\r\n\r\nIf you don&#39;t want the exception name, just print the exception message:\r\n\r\n    System.out.println(e.getMessage());\r\n\r\nwhich would output:\r\n\r\n    For input string: &quot;2147483648&quot;\r\n\r\n(IMO, that is not the kind of message you should be showing to users. It doesn&#39;t explain anything!)\r\n\r\n---------------------------\r\n\r\n&gt; I want the output to be same for both Hello and 2147483648. \r\n\r\nIt will be, I think.  For &quot;Hello&quot;, the output will be:\r\n\r\n    java.util.InputMismatchException: For input string: &quot;Hello&quot;\r\n\r\n--------------------------\r\n\r\nFinally, if you actually want an intelligible error message, you will need to make more extensive modifications to the code.  Unfortunately, neither `nextInt()` or `Integer.parseInt(...)` give exception messages that explain *why* an input string is not an acceptable `int` value.\r\n\r\n","title":"java.util.InputMismatchException: For input string: &quot;2147483648&quot;","body":"<blockquote>\n<p>My main issue is, while passing &quot;hello&quot; the output is java.util.InputMismatchException. But while passing (2147483648) long in int type the output is= java.util.InputMismatchException: For input string: &quot;2147483648&quot;. I want to know why is it printing extra content.</p>\n</blockquote>\n<p>That is a different question to what you were originally asking, but I will answer anyway.</p>\n<p>The reason you are getting &quot;extra content&quot; as in:</p>\n<pre><code>java.util.InputMismatchException: For input string: &quot;2147483648&quot;\n</code></pre>\n<p>is that you are printing the exception like this:</p>\n<pre><code>System.out.println(e);\n</code></pre>\n<p>This calls <code>toString()</code> on the exception object and prints it.  The <code>toString()</code> method for a typical exception is roughly equivalent to this:</p>\n<pre><code>public String toString() {\n    return e.getClass().getName() + &quot;: &quot; + e.getMessage();\n}\n</code></pre>\n<p>If you don't want the exception name, just print the exception message:</p>\n<pre><code>System.out.println(e.getMessage());\n</code></pre>\n<p>which would output:</p>\n<pre><code>For input string: &quot;2147483648&quot;\n</code></pre>\n<p>(IMO, that is not the kind of message you should be showing to users. It doesn't explain anything!)</p>\n<hr />\n<blockquote>\n<p>I want the output to be same for both Hello and 2147483648.</p>\n</blockquote>\n<p>It will be, I think.  For &quot;Hello&quot;, the output will be:</p>\n<pre><code>java.util.InputMismatchException: For input string: &quot;Hello&quot;\n</code></pre>\n<hr />\n<p>Finally, if you actually want an intelligible error message, you will need to make more extensive modifications to the code.  Unfortunately, neither <code>nextInt()</code> or <code>Integer.parseInt(...)</code> give exception messages that explain <em>why</em> an input string is not an acceptable <code>int</code> value.</p>\n"},{"tags":[],"owner":{"account_id":29593412,"reputation":11,"user_id":22680434,"display_name":"user22680434"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696914055,"creation_date":1696914055,"answer_id":77263048,"question_id":65650903,"body_markdown":"The exception message includes the string value itself to give more insight about the mistake because the &quot;2147483648&quot; string is a string that resembles an integer but cannot be represented as one because of its size. The string value for &quot;hello,&quot; on the other hand, is obviously not an integer, thus it is unnecessary to include it in the exception message.","title":"java.util.InputMismatchException: For input string: &quot;2147483648&quot;","body":"<p>The exception message includes the string value itself to give more insight about the mistake because the &quot;2147483648&quot; string is a string that resembles an integer but cannot be represented as one because of its size. The string value for &quot;hello,&quot; on the other hand, is obviously not an integer, thus it is unnecessary to include it in the exception message.</p>\n"}],"owner":{"account_id":17899118,"reputation":127,"user_id":13003755,"display_name":"P Yoga Prudhvi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1595,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65651584,"answer_count":3,"score":2,"last_activity_date":1696914055,"creation_date":1610262810,"question_id":65650903,"body_markdown":"Below is my code\r\n```\r\npublic class ExceptionHandling {\r\n\r\n\tpublic static void main(String[] args) throws InputMismatchException{\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tint a = 0;\r\n\t\tint b = 0;\r\n\t\ttry {\r\n\t\t\ta = sc.nextInt();\r\n\t\t\tb = sc.nextInt();\r\n\r\n\t\t\ttry {\r\n\t\t\t\tint c = a / b;\r\n\t\t\t\tSystem.out.println(b);\r\n\r\n\t\t\t} catch (ArithmeticException e) {\r\n\t\t\t\tSystem.out.println(e);\r\n\t\t\t}\r\n\t\t} catch (InputMismatchException e) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\nMy main query from the above question is, when I am passing String as input then I am getting `java.util.InputMismatchException` only.\r\nBut when I am passing 2147483648 as an input, it gives `java.util.InputMismatchException: For input string: &quot;2147483648&quot;` as an output.\r\n\r\n\r\nSo can anyone tell me why I am getting `For input string: &quot;2147483648&quot;` in that case?","title":"java.util.InputMismatchException: For input string: &quot;2147483648&quot;","body":"<p>Below is my code</p>\n<pre><code>public class ExceptionHandling {\n\n    public static void main(String[] args) throws InputMismatchException{\n        Scanner sc = new Scanner(System.in);\n        int a = 0;\n        int b = 0;\n        try {\n            a = sc.nextInt();\n            b = sc.nextInt();\n\n            try {\n                int c = a / b;\n                System.out.println(b);\n\n            } catch (ArithmeticException e) {\n                System.out.println(e);\n            }\n        } catch (InputMismatchException e) {\n            System.out.println(e);\n        }\n\n    }\n\n}\n\n</code></pre>\n<p>My main query from the above question is, when I am passing String as input then I am getting <code>java.util.InputMismatchException</code> only.\nBut when I am passing 2147483648 as an input, it gives <code>java.util.InputMismatchException: For input string: &quot;2147483648&quot;</code> as an output.</p>\n<p>So can anyone tell me why I am getting <code>For input string: &quot;2147483648&quot;</code> in that case?</p>\n"},{"tags":["java","spring-boot","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"score":0,"creation_date":1696850695,"post_id":77258345,"comment_id":136201453,"body_markdown":"String query = &quot;{&quot;+&quot;\\&quot;linkname\\&quot;:[&quot;+querylink +&quot;]}&quot;;   The source code from service class includes filedname   the ?0 passed will be {&quot;query&quot;:{&quot;bool&quot;:{&quot;filter&quot;:[{&quot;terms&quot;:{&quot;linkname&quot;:[test1:test&quot;]}}]}}}&#39;","body":"String query = &quot;{&quot;+&quot;\\&quot;linkname\\&quot;:[&quot;+querylink +&quot;]}&quot;;   The source code from service class includes filedname   the ?0 passed will be {&quot;query&quot;:{&quot;bool&quot;:{&quot;filter&quot;:[{&quot;terms&quot;:{&quot;linkname&quot;:[test1:test&zwnj;&#8203;&quot;]}}]}}}&#39;"},{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1696850811,"post_id":77258345,"comment_id":136201486,"body_markdown":"Could it be that the double quote escaping is done for you and you don&#39;t need to add it to your code?","body":"Could it be that the double quote escaping is done for you and you don&#39;t need to add it to your code?"},{"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"score":0,"creation_date":1696850996,"post_id":77258345,"comment_id":136201525,"body_markdown":"We tried removing but still facing similar json parse exception , So is there any other versions we can try with change of depdencies","body":"We tried removing but still facing similar json parse exception , So is there any other versions we can try with change of depdencies"},{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1696851400,"post_id":77258345,"comment_id":136201615,"body_markdown":"In your case, your query should just be `@Query(&quot;{\\&quot;bool\\&quot;:{\\&quot;filter\\&quot;:[{\\&quot;terms\\&quot;:{\\&quot;linkname\\&quot;: ?0}}]}}&quot;)` and you should simply pass the `link` array of terms to getMethod and SDE will make sure to properly join the values.","body":"In your case, your query should just be <code>@Query(&quot;{\\&quot;bool\\&quot;:{\\&quot;filter\\&quot;:[{\\&quot;terms\\&quot;:{\\&quot;linkname\\&quot;: ?0}}]}}&quot;)</code> and you should simply pass the <code>link</code> array of terms to getMethod and SDE will make sure to properly join the values."},{"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"score":0,"creation_date":1696851918,"post_id":77258345,"comment_id":136201702,"body_markdown":"Tried but no luck !!! So we suspect its issue with the @Query annotation as its trying to convert \\ into \\\\","body":"Tried but no luck !!! So we suspect its issue with the @Query annotation as its trying to convert \\ into \\\\"},{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1696852101,"post_id":77258345,"comment_id":136201737,"body_markdown":"Which `\\\\` are you talking about? Do your link strings contain any backslashes? This issue solved in 5.0 maybe: https://github.com/spring-projects/spring-data-elasticsearch/issues/2326 ? @P.J.Meisch might have an idea as he worked on that very issue","body":"Which `\\` are you talking about? Do your link strings contain any backslashes? This issue solved in 5.0 maybe: <a href=\"https://github.com/spring-projects/spring-data-elasticsearch/issues/2326\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-data-elasticsearch/issues/&zwnj;&#8203;&hellip;</a> ? @P.J.Meisch might have an idea as he worked on that very issue"},{"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"score":0,"creation_date":1696853168,"post_id":77258345,"comment_id":136201923,"body_markdown":"Our previous ?0 has {&quot;linkname&quot;:[&quot;test1:test&quot;]}  so  to inlcude &quot;linkname&quot; as string we included escape charecter /","body":"Our previous ?0 has {&quot;linkname&quot;:[&quot;test1:test&quot;]}  so  to inlcude &quot;linkname&quot; as string we included escape charecter /"},{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1696853310,"post_id":77258345,"comment_id":136201950,"body_markdown":"No I meant in the `test1:test` values, any potential backslashes there?","body":"No I meant in the <code>test1:test</code> values, any potential backslashes there?"},{"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"score":0,"creation_date":1696913810,"post_id":77258345,"comment_id":136209983,"body_markdown":"There was some issue with testing and  @Query(&quot;{\\&quot;bool\\&quot;:{\\&quot;filter\\&quot;:[{\\&quot;terms\\&quot;:{\\&quot;linkname\\&quot;: ?0}}]}}&quot;)   this approach to pass values in ?0 and rest of query as static in @Query worked for us .. Thank you so much Val","body":"There was some issue with testing and  @Query(&quot;{\\&quot;bool\\&quot;:{\\&quot;filter\\&quot;:[{\\&quot;terms\\&quot;:{\\&quot;linkname\\&quot;: ?0}}]}}&quot;)   this approach to pass values in ?0 and rest of query as static in @Query worked for us .. Thank you so much Val"}],"answers":[{"comments":[{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1696914385,"post_id":77263043,"comment_id":136210033,"body_markdown":"Awesome, glad it helped!","body":"Awesome, glad it helped!"}],"tags":[],"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696913963,"creation_date":1696913963,"answer_id":77263043,"question_id":77258345,"body_markdown":"@Query(&quot;{\\&quot;bool\\&quot;:{\\&quot;filter\\&quot;:[{\\&quot;terms\\&quot;:{\\&quot;linkname\\&quot;: ?0}}]}}&quot;)\r\n\r\nAs Val Suggested in comments passing values in ?0 and rest as static string worked for us ..Thank you\r\n\r\nwe tested with springboot version is 2.7.14 ","title":"@Query including extra // for escape character &quot;/&quot;&quot; in while connecting to elasticsearch","body":"<p>@Query(&quot;{&quot;bool&quot;:{&quot;filter&quot;:[{&quot;terms&quot;:{&quot;linkname&quot;: ?0}}]}}&quot;)</p>\n<p>As Val Suggested in comments passing values in ?0 and rest as static string worked for us ..Thank you</p>\n<p>we tested with springboot version is 2.7.14</p>\n"}],"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696913963,"creation_date":1696850091,"question_id":77258345,"body_markdown":"service class: \r\n\r\n    String linkname = StringUtils.join(link, &quot;\\&quot;, \\&quot;&quot;);\r\n    \r\n    String querylink = StringUtils.wrap(linkname, &quot;\\&quot;&quot;);\r\n    \r\n    String query = &quot;{&quot;+&quot;\\&quot;linkname\\&quot;:[&quot;+querylink +&quot;]}&quot;;\r\n    \r\n    res = elasticsearchRepo.getMethod(querylink, PageRequest.of(page-1, pageSize));\r\n\r\nrepo class :\r\n\r\n    @Query(&quot;{\\&quot;bool\\&quot;:{\\&quot;filter\\&quot;:[{\\&quot;terms\\&quot;:?0}]}}&quot;)\r\n    \r\n    Page&lt;Testtables&gt; getMethod(String query,Pageable pageable);\r\n\r\n\r\nSame code was working fine with springboot-starter-data-elastcisearch version 2.2.7.RELEASE with 6.8.8  spring-data-elasticsearch (3.2.7.RELEASE parent)\r\n\r\nbut getting exception with  springboot-starter-data-elastcisearch version 2.2.14 with 7.17.11 spring-data-elastcisearch ( 4.4.14 parent)\r\n\r\n\r\n\r\n**Exception:**\r\n\r\nreason=Unexpected character (&#39;\\&#39; (code 92)): was expecting double-quote to start field name\r\nat [Source: [B@7192df39; line: 1, column: 31]]","title":"@Query including extra // for escape character &quot;/&quot;&quot; in while connecting to elasticsearch","body":"<p>service class:</p>\n<pre><code>String linkname = StringUtils.join(link, &quot;\\&quot;, \\&quot;&quot;);\n\nString querylink = StringUtils.wrap(linkname, &quot;\\&quot;&quot;);\n\nString query = &quot;{&quot;+&quot;\\&quot;linkname\\&quot;:[&quot;+querylink +&quot;]}&quot;;\n\nres = elasticsearchRepo.getMethod(querylink, PageRequest.of(page-1, pageSize));\n</code></pre>\n<p>repo class :</p>\n<pre><code>@Query(&quot;{\\&quot;bool\\&quot;:{\\&quot;filter\\&quot;:[{\\&quot;terms\\&quot;:?0}]}}&quot;)\n\nPage&lt;Testtables&gt; getMethod(String query,Pageable pageable);\n</code></pre>\n<p>Same code was working fine with springboot-starter-data-elastcisearch version 2.2.7.RELEASE with 6.8.8  spring-data-elasticsearch (3.2.7.RELEASE parent)</p>\n<p>but getting exception with  springboot-starter-data-elastcisearch version 2.2.14 with 7.17.11 spring-data-elastcisearch ( 4.4.14 parent)</p>\n<p><strong>Exception:</strong></p>\n<p>reason=Unexpected character ('' (code 92)): was expecting double-quote to start field name\nat [Source: [B@7192df39; line: 1, column: 31]]</p>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"score":0,"creation_date":1696918427,"post_id":77260682,"comment_id":136210429,"body_markdown":"Even after adding all modules its not working","body":"Even after adding all modules its not working"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1696935175,"post_id":77260682,"comment_id":136213345,"body_markdown":"When your module path only consists of `&quot;C:/jars/lib&quot;`, does that mean the JavaFX modules are also stored there? Side note: placing `-Xmx350m` after the `-jar app.jar` makes it a program argument passed to your `main` method. You surely want it to be a JVM argument, so it has to be placed before `-jar`.","body":"When your module path only consists of <code>&quot;C:&#47;jars&#47;lib&quot;</code>, does that mean the JavaFX modules are also stored there? Side note: placing <code>-Xmx350m</code> after the <code>-jar app.jar</code> makes it a program argument passed to your <code>main</code> method. You surely want it to be a JVM argument, so it has to be placed before <code>-jar</code>."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1696968178,"post_id":77260682,"comment_id":136219658,"body_markdown":"AFAIK, JavaFX modules only support being put on the module path. That means you can not shade them into another jar file.","body":"AFAIK, JavaFX modules only support being put on the module path. That means you can not shade them into another jar file."}],"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696913352,"creation_date":1696871703,"question_id":77260682,"body_markdown":"I am using Open JDK 11 and uses JavaFX for one of my module which maven based. I can build the project and creating jar file using shade plugins but when I am launching the bat file its giving me below error\r\n\r\n    Error: JavaFX runtime components are missing, and are required to run this application\r\n    \r\n    C:\\users\\App_Java11&gt;pause\r\n    Press any key to continue . . .\r\n\r\nThe bat file which I am using \r\n\r\n    @set JAVA_BIN=C:/Program Files/openjdk-jdk-11/bin/java\r\n    @set JAVA_OPTS=%JAVA_OPTS% -module-path &quot;C:/jars/lib&quot; --add-modules=javafx.controls,javafx.fxml\r\n    @&quot;%JAVA_BIN%&quot; -Djavax.net.ssl.keyStore=&quot;some.jks&quot; -Djavax.net.ssl.keyStorePassword=password -jar app.jar -Xmx350m\r\n    pause\r\n\r\npom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n     \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;XX&lt;/groupId&gt;\r\n    \t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t\t&lt;artifactId&gt;abc-maven-parent&lt;/artifactId&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;artifactId&gt;some-app&lt;/artifactId&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;spring.version&gt;5.3.21&lt;/spring.version&gt;\r\n    \t\t&lt;javafx.version&gt;11&lt;/javafx.version&gt;\r\n    \t\t &lt;javafx.maven.plugin.version&gt;0.0.6&lt;/javafx.maven.plugin.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;!--pluginManagement--&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t &lt;plugin&gt; \r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;transformers&gt;\r\n    \t\t\t\t\t\t&lt;transformer implementation=&quot;com.github.edwgiz.mavenShadePlugin.log4j2CacheTransformer.PluginsCacheFileTransformer&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ComponentsXmlResourceTransformer&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;resource&gt;META-INF/spring.handlers&lt;/resource&gt;\r\n    \t\t\t\t\t\t&lt;/transformer&gt;\r\n    \t\t\t\t\t\t&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;resource&gt;META-INF/spring.schemas&lt;/resource&gt;\r\n    \t\t\t\t\t\t&lt;/transformer&gt;\r\n    \t\t\t\t\t&lt;/transformers&gt;\r\n    \t\t\t\t\t&lt;filters&gt;\r\n    \t\t\t\t\t\t&lt;filter&gt;\r\n    \t\t\t\t\t\t\t&lt;artifact&gt;*:*&lt;/artifact&gt;\r\n    \t\t\t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t\t\t&lt;/filter&gt;\r\n    \t\t\t\t\t&lt;/filters&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;com.github.edwgiz&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;maven-shade-plugin.log4j2-cachefile-transformer&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;2.6.1&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;/dependencies&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;release&gt;${maven.compiler.release}&lt;/release&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${javafx.maven.plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;mainClass&gt;com.application.Main&lt;/mainClass&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n    \t\t\t\t\t\t\t&lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;com.application.Main&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t\t&lt;!--/pluginManagement--&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n                &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.gemstone.gemfire&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gemfire&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.2.8&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.8.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n ","title":"When launching bat file, get runtime components missing error","body":"<p>I am using Open JDK 11 and uses JavaFX for one of my module which maven based. I can build the project and creating jar file using shade plugins but when I am launching the bat file its giving me below error</p>\n<pre><code>Error: JavaFX runtime components are missing, and are required to run this application\n\nC:\\users\\App_Java11&gt;pause\nPress any key to continue . . .\n</code></pre>\n<p>The bat file which I am using</p>\n<pre><code>@set JAVA_BIN=C:/Program Files/openjdk-jdk-11/bin/java\n@set JAVA_OPTS=%JAVA_OPTS% -module-path &quot;C:/jars/lib&quot; --add-modules=javafx.controls,javafx.fxml\n@&quot;%JAVA_BIN%&quot; -Djavax.net.ssl.keyStore=&quot;some.jks&quot; -Djavax.net.ssl.keyStorePassword=password -jar app.jar -Xmx350m\npause\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;XX&lt;/groupId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;artifactId&gt;abc-maven-parent&lt;/artifactId&gt;\n    &lt;/parent&gt;\n\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;artifactId&gt;some-app&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;spring.version&gt;5.3.21&lt;/spring.version&gt;\n        &lt;javafx.version&gt;11&lt;/javafx.version&gt;\n         &lt;javafx.maven.plugin.version&gt;0.0.6&lt;/javafx.maven.plugin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;!--pluginManagement--&gt;\n        &lt;plugins&gt;\n             &lt;plugin&gt; \n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;transformers&gt;\n                        &lt;transformer implementation=&quot;com.github.edwgiz.mavenShadePlugin.log4j2CacheTransformer.PluginsCacheFileTransformer&quot; /&gt;\n                        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ComponentsXmlResourceTransformer&quot; /&gt;\n                        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n                            &lt;resource&gt;META-INF/spring.handlers&lt;/resource&gt;\n                        &lt;/transformer&gt;\n                        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n                            &lt;resource&gt;META-INF/spring.schemas&lt;/resource&gt;\n                        &lt;/transformer&gt;\n                    &lt;/transformers&gt;\n                    &lt;filters&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                    &lt;/filters&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.github.edwgiz&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-shade-plugin.log4j2-cachefile-transformer&lt;/artifactId&gt;\n                        &lt;version&gt;2.6.1&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;${maven.compiler.release}&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${javafx.maven.plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.application.Main&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;com.application.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;!--/pluginManagement--&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;${javafx.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;${javafx.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.gemstone.gemfire&lt;/groupId&gt;\n            &lt;artifactId&gt;gemfire&lt;/artifactId&gt;\n            &lt;version&gt;8.2.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","qr-code","scanning"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1674304000,"post_id":75181190,"comment_id":132688548,"body_markdown":"Have you read the specification document?  https://uidai.gov.in/images/resource/User_manulal_QR_Code_15032019.pdf","body":"Have you read the specification document?  <a href=\"https://uidai.gov.in/images/resource/User_manulal_QR_Code_15032019.pdf\" rel=\"nofollow noreferrer\">uidai.gov.in/images/resource/User_manulal_QR_Code_15032019.p&zwnj;&#8203;df</a>"},{"owner":{"account_id":27578423,"reputation":11,"user_id":21048108,"display_name":"TechM EHM"},"score":0,"creation_date":1674466899,"post_id":75181190,"comment_id":132712210,"body_markdown":"I have seen this and I have python code to decode also, so  if anyone is knowing python kindly convert this code snippet:","body":"I have seen this and I have python code to decode also, so  if anyone is knowing python kindly convert this code snippet:"}],"answers":[{"tags":[],"owner":{"account_id":27578423,"reputation":11,"user_id":21048108,"display_name":"TechM EHM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674467579,"creation_date":1674467579,"answer_id":75207836,"question_id":75181190,"body_markdown":" This is python solution , If anyone knows python kindly convert in java send the code here.                                                                               \r\n                                                                                                   \r\n                                                                               \r\n          import zlib\r\n          details = [&quot;version&quot;,&quot;email_mobile_status&quot;,&quot;referenceid&quot;, &quot;name&quot;, &quot;dob&quot;, \r\n          &quot;gender&quot;, \r\n           &quot;careof&quot;, &quot;district&quot;, &quot;landmark&quot;,                         &quot;house&quot;, \r\n           &quot;location&quot;, \r\n           &quot;pincode&quot;, &quot;postoffice&quot;, &quot;state&quot;, &quot;street&quot;, &quot;subdistrict&quot;, &quot;vtc&quot;]\r\n           delimeter = [-1]\r\n           data = {}\r\n           def initializeData(base10encodedData):\r\n            bytes_array = base10encodedData.to_bytes(5000, &#39;big&#39;).lstrip(b&#39;\\x00&#39;)\r\n             decompressed_array = zlib.decompress(bytes_array, 16 + zlib.MAX_WBITS)\r\n            if not decompressed_array[0:2].decode(&quot;ISO-8859-1&quot;) == &#39;V2&#39;:\r\n             details.pop(0)\r\n             for i in range(len(decompressed_array)):\r\n             if decompressed_array[i] == 255:\r\n             delimeter.append(i)\r\n\r\n             for i in range(len(details)):\r\n             data[details[i]] = decompressed_array[delimeter[i] + 1:delimeter[i + \r\n             1]].decode(&quot;ISO-8859-1&quot;)\r\n              data[&#39;adhaar_last_4_digit&#39;] = data[&#39;referenceid&#39;][0:4]\r\n              data[&#39;adhaar_last_digit&#39;] = data[&#39;referenceid&#39;][3]\r\n              data[&#39;mobile&#39;] = False\r\n              if int(data[&#39;email_mobile_status&#39;]) == 3 or \r\n              int(data[&#39;email_mobile_status&#39;]) == 2:\r\n              data[&#39;mobile&#39;] = True\r\n","title":"How to scan new aadhaar card QR code and convert it into xml or object?","body":"<p>This is python solution , If anyone knows python kindly convert in java send the code here.</p>\n<pre><code>      import zlib\n      details = [&quot;version&quot;,&quot;email_mobile_status&quot;,&quot;referenceid&quot;, &quot;name&quot;, &quot;dob&quot;, \n      &quot;gender&quot;, \n       &quot;careof&quot;, &quot;district&quot;, &quot;landmark&quot;,                         &quot;house&quot;, \n       &quot;location&quot;, \n       &quot;pincode&quot;, &quot;postoffice&quot;, &quot;state&quot;, &quot;street&quot;, &quot;subdistrict&quot;, &quot;vtc&quot;]\n       delimeter = [-1]\n       data = {}\n       def initializeData(base10encodedData):\n        bytes_array = base10encodedData.to_bytes(5000, 'big').lstrip(b'\\x00')\n         decompressed_array = zlib.decompress(bytes_array, 16 + zlib.MAX_WBITS)\n        if not decompressed_array[0:2].decode(&quot;ISO-8859-1&quot;) == 'V2':\n         details.pop(0)\n         for i in range(len(decompressed_array)):\n         if decompressed_array[i] == 255:\n         delimeter.append(i)\n\n         for i in range(len(details)):\n         data[details[i]] = decompressed_array[delimeter[i] + 1:delimeter[i + \n         1]].decode(&quot;ISO-8859-1&quot;)\n          data['adhaar_last_4_digit'] = data['referenceid'][0:4]\n          data['adhaar_last_digit'] = data['referenceid'][3]\n          data['mobile'] = False\n          if int(data['email_mobile_status']) == 3 or \n          int(data['email_mobile_status']) == 2:\n          data['mobile'] = True\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8300741,"reputation":1,"user_id":8329122,"display_name":"Zainul Abideen"},"score":1,"creation_date":1696560087,"post_id":77241589,"comment_id":136171901,"body_markdown":"this is in Kotlin","body":"this is in Kotlin"}],"tags":[],"owner":{"account_id":8300741,"reputation":1,"user_id":8329122,"display_name":"Zainul Abideen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696912957,"creation_date":1696560071,"answer_id":77241589,"question_id":75181190,"body_markdown":"\r\nThis code is for kotin\r\n```\r\nvar details = arrayOf(\r\n        &quot;version&quot;, &quot;email_mobile_status&quot;, &quot;referenceid&quot;, &quot;name&quot;, &quot;dob&quot;,\r\n        &quot;gender&quot;,\r\n        &quot;careof&quot;, &quot;district&quot;, &quot;landmark&quot;, &quot;house&quot;,\r\n        &quot;location&quot;,\r\n        &quot;pincode&quot;, &quot;postoffice&quot;, &quot;state&quot;, &quot;street&quot;, &quot;subdistrict&quot;, &quot;vtc&quot;\r\n    )\r\n    var delimeter = intArrayOf(-1)\r\n    var data: HashMap&lt;String, String&gt; = HashMap()\r\n\r\n    open fun initializeData(base10encodedData: Int) {\r\n        val bytes_array = ByteArray(5000)\r\n        for (i in 0..4999) {\r\n            bytes_array[i] = (base10encodedData shr 8 * (5000 - i - 1) and 0xFF).toByte()\r\n        }\r\n        var startIndex = 0\r\n        while (startIndex &lt; 5000 &amp;&amp; bytes_array[startIndex].toInt() == 0) {\r\n            startIndex++\r\n        }\r\n        val trimmed_array = ByteArray(5000 - startIndex)\r\n        System.arraycopy(bytes_array, startIndex, trimmed_array, 0, 5000 - startIndex)\r\n        val inflater = Inflater(true)\r\n        inflater.setInput(trimmed_array)\r\n        val decompressed_array = ByteArray(5000)\r\n        try {\r\n            inflater.inflate(decompressed_array)\r\n        } catch (e: DataFormatException) {\r\n            e.printStackTrace()\r\n        }\r\n        inflater.end()\r\n        val decompressed_string = String(decompressed_array, StandardCharsets.ISO_8859_1)\r\n        if (decompressed_string.substring(0, 2) != &quot;V2&quot;) {\r\n            details = Arrays.copyOfRange(details, 1, details.size)\r\n        }\r\n        var index = 0\r\n        while (index &lt; decompressed_string.length) {\r\n            if (decompressed_string[index].code == 255) {\r\n                delimeter = Arrays.copyOf(delimeter, delimeter.size + 1)\r\n                delimeter[delimeter.size - 1] = index\r\n            }\r\n            index++\r\n        }\r\n        for (i in details.indices) {\r\n            val start = delimeter[i] + 1\r\n            val end = delimeter[i + 1]\r\n            val value = decompressed_string.substring(start, end)\r\n            data[details[i]] = value\r\n        }\r\n        data[&quot;adhaar_last_4_digit&quot;] = data[&quot;referenceid&quot;]!!.substring(0, 4)\r\n        data[&quot;adhaar_last_digit&quot;] = Character.toString(data[&quot;referenceid&quot;]!![3])\r\n        data[&quot;mobile&quot;] = &quot;false&quot;\r\n        if (data[&quot;email_mobile_status&quot;]!!.toInt() == 3 ||\r\n            data[&quot;email_mobile_status&quot;]!!.toInt() == 2\r\n        ) {\r\n            data[&quot;mobile&quot;] = &quot;true&quot;\r\n        }\r\n    }\r\n```","title":"How to scan new aadhaar card QR code and convert it into xml or object?","body":"<p>This code is for kotin</p>\n<pre><code>var details = arrayOf(\n        &quot;version&quot;, &quot;email_mobile_status&quot;, &quot;referenceid&quot;, &quot;name&quot;, &quot;dob&quot;,\n        &quot;gender&quot;,\n        &quot;careof&quot;, &quot;district&quot;, &quot;landmark&quot;, &quot;house&quot;,\n        &quot;location&quot;,\n        &quot;pincode&quot;, &quot;postoffice&quot;, &quot;state&quot;, &quot;street&quot;, &quot;subdistrict&quot;, &quot;vtc&quot;\n    )\n    var delimeter = intArrayOf(-1)\n    var data: HashMap&lt;String, String&gt; = HashMap()\n\n    open fun initializeData(base10encodedData: Int) {\n        val bytes_array = ByteArray(5000)\n        for (i in 0..4999) {\n            bytes_array[i] = (base10encodedData shr 8 * (5000 - i - 1) and 0xFF).toByte()\n        }\n        var startIndex = 0\n        while (startIndex &lt; 5000 &amp;&amp; bytes_array[startIndex].toInt() == 0) {\n            startIndex++\n        }\n        val trimmed_array = ByteArray(5000 - startIndex)\n        System.arraycopy(bytes_array, startIndex, trimmed_array, 0, 5000 - startIndex)\n        val inflater = Inflater(true)\n        inflater.setInput(trimmed_array)\n        val decompressed_array = ByteArray(5000)\n        try {\n            inflater.inflate(decompressed_array)\n        } catch (e: DataFormatException) {\n            e.printStackTrace()\n        }\n        inflater.end()\n        val decompressed_string = String(decompressed_array, StandardCharsets.ISO_8859_1)\n        if (decompressed_string.substring(0, 2) != &quot;V2&quot;) {\n            details = Arrays.copyOfRange(details, 1, details.size)\n        }\n        var index = 0\n        while (index &lt; decompressed_string.length) {\n            if (decompressed_string[index].code == 255) {\n                delimeter = Arrays.copyOf(delimeter, delimeter.size + 1)\n                delimeter[delimeter.size - 1] = index\n            }\n            index++\n        }\n        for (i in details.indices) {\n            val start = delimeter[i] + 1\n            val end = delimeter[i + 1]\n            val value = decompressed_string.substring(start, end)\n            data[details[i]] = value\n        }\n        data[&quot;adhaar_last_4_digit&quot;] = data[&quot;referenceid&quot;]!!.substring(0, 4)\n        data[&quot;adhaar_last_digit&quot;] = Character.toString(data[&quot;referenceid&quot;]!![3])\n        data[&quot;mobile&quot;] = &quot;false&quot;\n        if (data[&quot;email_mobile_status&quot;]!!.toInt() == 3 ||\n            data[&quot;email_mobile_status&quot;]!!.toInt() == 2\n        ) {\n            data[&quot;mobile&quot;] = &quot;true&quot;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":27578423,"reputation":11,"user_id":21048108,"display_name":"TechM EHM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696912957,"creation_date":1674201427,"question_id":75181190,"body_markdown":"I am trying to convert the base10 encode data to base64 or xml or any readable format but no luck.\r\n\r\nThe data is like after scanning the qr code :\r\n2374971804270526477833002468783965837992554564899874087591661303561346432389832047870524302186901344489362368642972767716416349990805756094923115719687656090691368051627957878187788907419297818953295185555346288172578594637886352753543271000481717080003254556962148594350559820352806251787713278744047402230989238559317351232114240089849934148895256488140236015024800731753594740948640957680138566468247224859669467819596919398964809164399637893729212452791889199675715949918925838319591794702333094022248132120531152523331442741730158840977243402215102904932650832502847295644794421419704633765033761284508863534321317394686768650111457751139630853448637215423705157211510636160227953566227527799608082928846103264491539001327407775670834868948113753614112563650255058316849200536533335903554984254814901522086937767458409075617572843449110393213525925388131214952874629655799772119820372255291052673056372346072235458198199995637720424196884145247220163810790179386390283738429482893152518286247124911446073389185062482901364671389605727763080854673156754021728522287806275420847159574631844674460263574901590412679291518508010087116598357407343835408554094619585212373168435612645646129147973594416508676872819776522537778717985070402222824965034768103900739105784663244748432502180989441389718131079445941981681118258324511923246198334046020123727749408128519721102477302359413240175102907322619462289965085963377744024233678337951462006962521823224880199210318367946130004264196899778609815012001799773327514133268825910089483612283510244566484854597156100473055413090101948456959122378865704840756793122956663218517626099291311352417342899623681483097817511136427210593032393600010728324905512596767095096153856032112835755780472808814199620390836980020899858288860556611564167406292139646289142056168261133256777093245980048335918156712295254776487472431445495668303900536289283098315798552328294391152828182614909451410115516297083658174657554955228963550255866282688308751041517464999930825273776417639569977754844191402927594739069037851707477839207593911886893016618794870530622356073909077832279869798641545167528509966656120623184120128052588408742941658045827255866966100249857968956536613250770326334844204927432961924987891433020671754710428050564671868464658436926086493709176888821257183419013229795869757265111599482263223604228286513011751601176504567030118257385997460972803240338899836840030438830725520798480181575861397469056536579877274090338750406459700907704031830137890544492015701251066934352867527112361743047684237105216779177819594030160887368311805926405114938744235859610328064947158936962470654636736991567663705830950312548447653861922078087824048793236971354828540758657075837209006713701763902429652486225300535997260665898927924843608750347193892239342462507130025307878412116604096773706728162016134101751551184021079984480254041743057914746472840768175369369852937574401874295943063507273467384747124843744395375119899278823903202010381949145094804675442110869084589592876721655764753871572233276245590041302887094585204427900634246823674277680009401177473636685542700515621164233992970974893989913447733956146698563285998205950467321954304\r\n\r\nI have tried with old adhar qr scan which is giving xml format and I am parsing and getting data but in case of scanning new adhar qr code getting in above format, I also don&#39;t know which format it is. I need to decode this data and get in proper format like xml or object format. \r\n\r\nThis is my code :\r\n\r\n        if (view == qr_check_box) {\r\n            Intent intent = new Intent(AbhaCard.this, ScanActivty.class);\r\n            startActivityForResult(intent, abhaQr);\r\n        }\r\n\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == abhaQr &amp;&amp; resultCode == RESULT_OK) {\r\n            if (data != null) {\r\n                Barcode barcode = data.getParcelableExtra(&quot;barcode&quot;);\r\n                if (barcode != null &amp;&amp; barcode.displayValue != null) {\r\n                    try {\r\n                        // Serializer(Simple library) is used for parsing xml data to object\r\n                        Serializer serializer = new Persister();\r\n                        String barcode_sting = barcode.displayValue; \r\n                        scanResult.setText(barcode_sting);\r\n                        Log.e(&quot;QR_code&quot;, barcode_sting);\r\n                         try (InputStream stream = new ByteArrayInputStream(barcode_sting.getBytes())) {\r\n                       // this serializer is user for converting xml to object(PrintLetterBarcodeData) in          case of old  adhar card scanning , so i want for new adhar cared qr code , how to convert.\r\n                            barcodeData = serializer.read(PrintLetterBarcodeData.class, stream);\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }}**\r\n\r\n\r\n // this is my PrintLetterBarcodeData class ised for parsing the xml to object\r\n\r\n         @Root(name = &quot;PrintLetterBarcodeData&quot;)\r\n         public class PrintLetterBarcodeData {\r\n         @Attribute(name = &quot;uid&quot;)\r\n         private String uid;\r\n         @Attribute(name = &quot;name&quot;)\r\n         private String name;\r\n         @Attribute(name = &quot;gender&quot;)\r\n         private String gender;\r\n         @Attribute(name = &quot;yob&quot;)\r\n         private String yob;\r\n         @Attribute(name = &quot;co&quot;)\r\n         private String co;\r\n         @Attribute(name = &quot;house&quot;)\r\n         private String house;\r\n         @Attribute(name = &quot;street&quot;)\r\n         private String street;\r\n         @Attribute(name = &quot;vtc&quot;)\r\n         private String vtc;\r\n         @Attribute(name = &quot;po&quot;)\r\n         private String po;\r\n         @Attribute(name = &quot;dist&quot;)\r\n         private String dist;\r\n         @Attribute(name = &quot;subdist&quot;)\r\n         private String subdist;\r\n         @Attribute(name = &quot;state&quot;)\r\n         private String state;\r\n         @Attribute(name = &quot;pc&quot;)\r\n         private String pc;\r\n         @Attribute(name = &quot;dob&quot;)\r\n         private String dob;}","title":"How to scan new aadhaar card QR code and convert it into xml or object?","body":"<p>I am trying to convert the base10 encode data to base64 or xml or any readable format but no luck.</p>\n<p>The data is like after scanning the qr code :\n2374971804270526477833002468783965837992554564899874087591661303561346432389832047870524302186901344489362368642972767716416349990805756094923115719687656090691368051627957878187788907419297818953295185555346288172578594637886352753543271000481717080003254556962148594350559820352806251787713278744047402230989238559317351232114240089849934148895256488140236015024800731753594740948640957680138566468247224859669467819596919398964809164399637893729212452791889199675715949918925838319591794702333094022248132120531152523331442741730158840977243402215102904932650832502847295644794421419704633765033761284508863534321317394686768650111457751139630853448637215423705157211510636160227953566227527799608082928846103264491539001327407775670834868948113753614112563650255058316849200536533335903554984254814901522086937767458409075617572843449110393213525925388131214952874629655799772119820372255291052673056372346072235458198199995637720424196884145247220163810790179386390283738429482893152518286247124911446073389185062482901364671389605727763080854673156754021728522287806275420847159574631844674460263574901590412679291518508010087116598357407343835408554094619585212373168435612645646129147973594416508676872819776522537778717985070402222824965034768103900739105784663244748432502180989441389718131079445941981681118258324511923246198334046020123727749408128519721102477302359413240175102907322619462289965085963377744024233678337951462006962521823224880199210318367946130004264196899778609815012001799773327514133268825910089483612283510244566484854597156100473055413090101948456959122378865704840756793122956663218517626099291311352417342899623681483097817511136427210593032393600010728324905512596767095096153856032112835755780472808814199620390836980020899858288860556611564167406292139646289142056168261133256777093245980048335918156712295254776487472431445495668303900536289283098315798552328294391152828182614909451410115516297083658174657554955228963550255866282688308751041517464999930825273776417639569977754844191402927594739069037851707477839207593911886893016618794870530622356073909077832279869798641545167528509966656120623184120128052588408742941658045827255866966100249857968956536613250770326334844204927432961924987891433020671754710428050564671868464658436926086493709176888821257183419013229795869757265111599482263223604228286513011751601176504567030118257385997460972803240338899836840030438830725520798480181575861397469056536579877274090338750406459700907704031830137890544492015701251066934352867527112361743047684237105216779177819594030160887368311805926405114938744235859610328064947158936962470654636736991567663705830950312548447653861922078087824048793236971354828540758657075837209006713701763902429652486225300535997260665898927924843608750347193892239342462507130025307878412116604096773706728162016134101751551184021079984480254041743057914746472840768175369369852937574401874295943063507273467384747124843744395375119899278823903202010381949145094804675442110869084589592876721655764753871572233276245590041302887094585204427900634246823674277680009401177473636685542700515621164233992970974893989913447733956146698563285998205950467321954304</p>\n<p>I have tried with old adhar qr scan which is giving xml format and I am parsing and getting data but in case of scanning new adhar qr code getting in above format, I also don't know which format it is. I need to decode this data and get in proper format like xml or object format.</p>\n<p>This is my code :</p>\n<pre><code>    if (view == qr_check_box) {\n        Intent intent = new Intent(AbhaCard.this, ScanActivty.class);\n        startActivityForResult(intent, abhaQr);\n    }\n\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == abhaQr &amp;&amp; resultCode == RESULT_OK) {\n        if (data != null) {\n            Barcode barcode = data.getParcelableExtra(&quot;barcode&quot;);\n            if (barcode != null &amp;&amp; barcode.displayValue != null) {\n                try {\n                    // Serializer(Simple library) is used for parsing xml data to object\n                    Serializer serializer = new Persister();\n                    String barcode_sting = barcode.displayValue; \n                    scanResult.setText(barcode_sting);\n                    Log.e(&quot;QR_code&quot;, barcode_sting);\n                     try (InputStream stream = new ByteArrayInputStream(barcode_sting.getBytes())) {\n                   // this serializer is user for converting xml to object(PrintLetterBarcodeData) in          case of old  adhar card scanning , so i want for new adhar cared qr code , how to convert.\n                        barcodeData = serializer.read(PrintLetterBarcodeData.class, stream);\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }}**\n</code></pre>\n<p>// this is my PrintLetterBarcodeData class ised for parsing the xml to object</p>\n<pre><code>     @Root(name = &quot;PrintLetterBarcodeData&quot;)\n     public class PrintLetterBarcodeData {\n     @Attribute(name = &quot;uid&quot;)\n     private String uid;\n     @Attribute(name = &quot;name&quot;)\n     private String name;\n     @Attribute(name = &quot;gender&quot;)\n     private String gender;\n     @Attribute(name = &quot;yob&quot;)\n     private String yob;\n     @Attribute(name = &quot;co&quot;)\n     private String co;\n     @Attribute(name = &quot;house&quot;)\n     private String house;\n     @Attribute(name = &quot;street&quot;)\n     private String street;\n     @Attribute(name = &quot;vtc&quot;)\n     private String vtc;\n     @Attribute(name = &quot;po&quot;)\n     private String po;\n     @Attribute(name = &quot;dist&quot;)\n     private String dist;\n     @Attribute(name = &quot;subdist&quot;)\n     private String subdist;\n     @Attribute(name = &quot;state&quot;)\n     private String state;\n     @Attribute(name = &quot;pc&quot;)\n     private String pc;\n     @Attribute(name = &quot;dob&quot;)\n     private String dob;}\n</code></pre>\n"},{"tags":["java","sql","mysql","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1696886211,"post_id":77261798,"comment_id":136207907,"body_markdown":"are you sure you have data?","body":"are you sure you have data?"},{"owner":{"account_id":31629,"reputation":264557,"user_id":87015,"accept_rate":94,"display_name":"Salman A"},"score":1,"creation_date":1696886326,"post_id":77261798,"comment_id":136207928,"body_markdown":"If it displays data till end of Sep when you specify Oct, then specify Nov to get data till end of Oct.","body":"If it displays data till end of Sep when you specify Oct, then specify Nov to get data till end of Oct."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696889089,"post_id":77261798,"comment_id":136208236,"body_markdown":"[MCVE](https://stackoverflow.com/help/mcve)","body":"<a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>"},{"owner":{"account_id":25065667,"reputation":23,"user_id":18920035,"display_name":"1508.dev"},"score":0,"creation_date":1696893700,"post_id":77261798,"comment_id":136208614,"body_markdown":"@nbk yes, I checked ordering them by date_created.","body":"@nbk yes, I checked ordering them by date_created."},{"owner":{"account_id":25065667,"reputation":23,"user_id":18920035,"display_name":"1508.dev"},"score":0,"creation_date":1696893715,"post_id":77261798,"comment_id":136208617,"body_markdown":"@SalmanA I tried, but still doesn&#39;t work.","body":"@SalmanA I tried, but still doesn&#39;t work."},{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1696894631,"post_id":77261798,"comment_id":136208666,"body_markdown":"i really can&#39;t reproduce your problem https://dbfiddle.uk/M3CfyOdE","body":"i really can&#39;t reproduce your problem <a href=\"https://dbfiddle.uk/M3CfyOdE\" rel=\"nofollow noreferrer\">dbfiddle.uk/M3CfyOdE</a>"}],"answers":[{"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696895031,"creation_date":1696895031,"answer_id":77262260,"question_id":77261798,"body_markdown":"&gt; The problem I&#39;ve got is that It only returns data from past months, not the current one.\r\n\r\n\r\nI see that problem with your query is that you use `MONTH()` and `YEAR()` functions to compare the dates to the beginning and end of the month, respectively. It means that any orders placed in the current month will be excluded, since they will have a month value &gt; the current month and a year value &gt; the current year.\r\n\r\nI tried to fix the issue this way:\r\n```\r\nSELECT o.restaurant_id AS restaurantId,\r\n       YEAR(o.date_created) AS year,\r\n       MONTH(o.date_created) AS month,\r\n       COUNT(1) AS tpn,\r\n       SUM(o.total) AS tpv\r\nFROM ordersDB.orders o\r\nWHERE o.provider_id = :providerId\r\nAND o.status != 2\r\nAND o.restaurant_id = :restaurantId\r\nAND YEAR(o.date_created) &gt;= YEAR(DATE(&#39;2023-05-01&#39;))\r\nAND YEAR(o.date_created) &lt;= YEAR(DATE(&#39;2023-10-31&#39;))\r\nAND MONTH(o.date_created) &gt;= MONTH(DATE(&#39;2023-05-01&#39;))\r\nAND MONTH(o.date_created) &lt;= MONTH(LAST_DAY(CURRENT_DATE))\r\nGROUP BY 1, 2, 3;\r\n```\r\n\r\nLet me know if it works for you, please.","title":"SQL Query not including current month data","body":"<blockquote>\n<p>The problem I've got is that It only returns data from past months, not the current one.</p>\n</blockquote>\n<p>I see that problem with your query is that you use <code>MONTH()</code> and <code>YEAR()</code> functions to compare the dates to the beginning and end of the month, respectively. It means that any orders placed in the current month will be excluded, since they will have a month value &gt; the current month and a year value &gt; the current year.</p>\n<p>I tried to fix the issue this way:</p>\n<pre><code>SELECT o.restaurant_id AS restaurantId,\n       YEAR(o.date_created) AS year,\n       MONTH(o.date_created) AS month,\n       COUNT(1) AS tpn,\n       SUM(o.total) AS tpv\nFROM ordersDB.orders o\nWHERE o.provider_id = :providerId\nAND o.status != 2\nAND o.restaurant_id = :restaurantId\nAND YEAR(o.date_created) &gt;= YEAR(DATE('2023-05-01'))\nAND YEAR(o.date_created) &lt;= YEAR(DATE('2023-10-31'))\nAND MONTH(o.date_created) &gt;= MONTH(DATE('2023-05-01'))\nAND MONTH(o.date_created) &lt;= MONTH(LAST_DAY(CURRENT_DATE))\nGROUP BY 1, 2, 3;\n</code></pre>\n<p>Let me know if it works for you, please.</p>\n"},{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696912038,"creation_date":1696912038,"answer_id":77262934,"question_id":77261798,"body_markdown":"If your dates are always the first day of the month you want to include, then you&#39;ll want to compare your end value to the month following the end date, because that date exists at the boundary of your date range.\r\n\r\n    SELECT o.restaurant_id as restaurantId, YEAR(o.date_created) as year, \r\n    MONTH(o.date_created) as month, count(1) as tpn, sum(o.total) as tpv\r\n    FROM ordersDB.orders o WHERE o.provider_id = :providerId\r\n    AND o.status != 2 AND o.restaurant_id = :restaurantId\r\n    AND o.date_created &gt;= :dateFrom \r\n    AND o.date_created &lt; :dateUntil + INTERVAL 1 MONTH\r\n    GROUP BY 1,2,3","title":"SQL Query not including current month data","body":"<p>If your dates are always the first day of the month you want to include, then you'll want to compare your end value to the month following the end date, because that date exists at the boundary of your date range.</p>\n<pre><code>SELECT o.restaurant_id as restaurantId, YEAR(o.date_created) as year, \nMONTH(o.date_created) as month, count(1) as tpn, sum(o.total) as tpv\nFROM ordersDB.orders o WHERE o.provider_id = :providerId\nAND o.status != 2 AND o.restaurant_id = :restaurantId\nAND o.date_created &gt;= :dateFrom \nAND o.date_created &lt; :dateUntil + INTERVAL 1 MONTH\nGROUP BY 1,2,3\n</code></pre>\n"}],"owner":{"account_id":25065667,"reputation":23,"user_id":18920035,"display_name":"1508.dev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1696912038,"creation_date":1696885863,"question_id":77261798,"body_markdown":"```\r\n@Query(value = &quot;SELECT o.restaurant_id as restaurantId, YEAR(o.date_created) as year, MONTH(o.date_created) as month, &quot;\r\n    \t\t + &quot; count(1) as tpn, sum(o.total) as tpv &quot;\r\n    \t\t + &quot; FROM ordersDB.orders o &quot;\r\n    \t\t + &quot; WHERE o.provider_id = :providerId &quot;\r\n    \t\t + &quot; AND o.status != 2&quot;\r\n    \t\t + &quot; AND o.restaurant_id = :restaurantId &quot;\r\n    \t\t + &quot; AND o.date_created BETWEEN :dateFrom AND :dateUntil &quot;\r\n    \t\t + &quot; GROUP BY 1,2,3 &quot;, nativeQuery = true)\r\n    List&lt;IReportOrderEvolutionDto&gt; getRestaurantProviderEvolution(Long providerId, Long restaurantId, LocalDate dateFrom, LocalDate dateUntil);\r\n```\r\n\r\nThe problem I&#39;ve got is that It only returns data from past months, not the current one.\r\n\r\nIf I select from 05/2023 to 10/2023, it will only return data from orders up to 09/30/2023 23:59, despite having orders created in October.\r\n\r\n\r\nI also tried something like this:\r\n\r\n```\r\nSELECT o.restaurant_id as restaurantId, YEAR(o.date_created) as year, MONTH(o.date_created) as month, \r\n\t\t\tcount(1) as tpn, sum(o.total) as tpv \r\n    \t\t FROM ordersDB.orders o \r\n    \t\t WHERE o.provider_id = 1\r\n\t\t\tAND o.status != 2\r\n    \t\t AND o.restaurant_id = 4\r\n    \t\t AND MONTH(o.date_created) BETWEEN MONTH(DATE(&#39;2023-05-01&#39;)) AND MONTH(DATE(&#39;2023-10-31&#39;)) \r\n             AND YEAR(o.date_created) BETWEEN YEAR(DATE(&#39;2023-05-01&#39;)) AND YEAR(DATE(&#39;2023-10-31&#39;))\r\n\t\t\tGROUP BY 1,2,3\r\n```\r\n\r\nBut it didn&#39;t work either.\r\n\r\n\r\nThanks a lot.","title":"SQL Query not including current month data","body":"<pre><code>@Query(value = &quot;SELECT o.restaurant_id as restaurantId, YEAR(o.date_created) as year, MONTH(o.date_created) as month, &quot;\n             + &quot; count(1) as tpn, sum(o.total) as tpv &quot;\n             + &quot; FROM ordersDB.orders o &quot;\n             + &quot; WHERE o.provider_id = :providerId &quot;\n             + &quot; AND o.status != 2&quot;\n             + &quot; AND o.restaurant_id = :restaurantId &quot;\n             + &quot; AND o.date_created BETWEEN :dateFrom AND :dateUntil &quot;\n             + &quot; GROUP BY 1,2,3 &quot;, nativeQuery = true)\n    List&lt;IReportOrderEvolutionDto&gt; getRestaurantProviderEvolution(Long providerId, Long restaurantId, LocalDate dateFrom, LocalDate dateUntil);\n</code></pre>\n<p>The problem I've got is that It only returns data from past months, not the current one.</p>\n<p>If I select from 05/2023 to 10/2023, it will only return data from orders up to 09/30/2023 23:59, despite having orders created in October.</p>\n<p>I also tried something like this:</p>\n<pre><code>SELECT o.restaurant_id as restaurantId, YEAR(o.date_created) as year, MONTH(o.date_created) as month, \n            count(1) as tpn, sum(o.total) as tpv \n             FROM ordersDB.orders o \n             WHERE o.provider_id = 1\n            AND o.status != 2\n             AND o.restaurant_id = 4\n             AND MONTH(o.date_created) BETWEEN MONTH(DATE('2023-05-01')) AND MONTH(DATE('2023-10-31')) \n             AND YEAR(o.date_created) BETWEEN YEAR(DATE('2023-05-01')) AND YEAR(DATE('2023-10-31'))\n            GROUP BY 1,2,3\n</code></pre>\n<p>But it didn't work either.</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","android","opengl-es-2.0","egl"],"comments":[{"owner":{"account_id":743251,"reputation":13440,"user_id":725937,"accept_rate":51,"display_name":"abergmeier"},"score":2,"creation_date":1357049961,"post_id":14102992,"comment_id":19527015,"body_markdown":"Test code is available here. Sadly cannot do it like this in Android Java http://code.google.com/p/test-es/source/browse/app_image_external.cpp","body":"Test code is available here. Sadly cannot do it like this in Android Java <a href=\"http://code.google.com/p/test-es/source/browse/app_image_external.cpp\" rel=\"nofollow noreferrer\">code.google.com/p/test-es/source/browse/app_image_external.c&zwnj;&#8203;pp</a>"}],"answers":[{"tags":[],"owner":{"account_id":792170,"reputation":90,"user_id":874256,"display_name":"Adrian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413823872,"creation_date":1413823872,"answer_id":26470855,"question_id":14102992,"body_markdown":"There are some comments in this page which might help: \r\nhttp://developer.android.com/reference/android/graphics/SurfaceTexture.html","title":"GLES2.0: Use GL_TEXTURE_EXTERNAL_OES via glEGLImageTargetTexture2DOES","body":"<p>There are some comments in this page which might help: \n<a href=\"http://developer.android.com/reference/android/graphics/SurfaceTexture.html\" rel=\"nofollow\">http://developer.android.com/reference/android/graphics/SurfaceTexture.html</a></p>\n"}],"owner":{"account_id":743251,"reputation":13440,"user_id":725937,"accept_rate":51,"display_name":"abergmeier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8222,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1696910981,"creation_date":1356965434,"question_id":14102992,"body_markdown":"I would like to render an image buffer in _Java_ (_NDK_ is no option in this case) and pass it to shaders via `GL_TEXTURE_EXTERNAL_OES`.\r\n\r\n`glTexImage2D` does not work, as mentioned in the [spec][1]. But the function `glEGLImageTargetTexture2DOES` is only available via the `GLES11Ext` class, which seems kind of wrong to use.\r\n\r\nAnyway, I tried and it gives me `GL_INVALID_OPERATION`, which should happen if:\r\n\r\n&gt; If the GL is unable to specify a texture object using the supplied\r\n&gt; eglImageOES &lt;image&gt; (if, for example, &lt;image&gt; refers to a multisampled\r\n&gt; eglImageOES), the error INVALID_OPERATION is generated.\r\n\r\nSadly I cannot make heads or tails from this description, especially since the Android Java API doesn&#39;t seem to give me access to `eglImageOES` functions. Neither have I found a _Java_ example for the usage of this function.\r\n\r\nAttached a small example:\r\n\r\n\t// Bind the texture unit 0\r\n\tGLES20.glActiveTexture( GLES20.GL_TEXTURE0 );\r\n\tthrowOnError( &quot;glActiveTexture&quot; );\r\n\t\t\r\n\tGLES20.glBindTexture( GL_TEXTURE_EXTERNAL_OES, _samplerLocation );\r\n\tthrowOnError( &quot;glBindTexture&quot; );\r\n\r\n\t// _output is ByteBuffer.allocateDirect(pixels * Integer.SIZE / Byte.SIZE).order(ByteOrder.nativeOrder()).asIntBuffer()\r\n\t_output.rewind();\r\n\t_output.limit( pixels );\r\n\tGLES11Ext.glEGLImageTargetTexture2DOES( GL_TEXTURE_EXTERNAL_OES, _output );\r\n\tthrowOnError( &quot;glEGLImageTargetTexture2DOES&quot; ); // &lt;-- throws\r\n\r\n\tGLES20.glDrawArrays( GLES20.GL_TRIANGLE_STRIP, 0, 4 );\r\n\tthrowOnError( &quot;glDrawArrays&quot; );\r\n\r\nDid anyone do that before or know whether this is possible or not?\r\n\r\nEDIT:\r\n\r\nI had a look at `glEGLImageTargetTexture2DOES` implementation and it seems that I have to correctly setup the buffer. Added that, but still same error.\r\n  [1]: http://www.khronos.org/registry/gles/extensions/OES/OES_EGL_image_external.txt","title":"GLES2.0: Use GL_TEXTURE_EXTERNAL_OES via glEGLImageTargetTexture2DOES","body":"<p>I would like to render an image buffer in <em>Java</em> (<em>NDK</em> is no option in this case) and pass it to shaders via <code>GL_TEXTURE_EXTERNAL_OES</code>.</p>\n\n<p><code>glTexImage2D</code> does not work, as mentioned in the <a href=\"http://www.khronos.org/registry/gles/extensions/OES/OES_EGL_image_external.txt\" rel=\"noreferrer\">spec</a>. But the function <code>glEGLImageTargetTexture2DOES</code> is only available via the <code>GLES11Ext</code> class, which seems kind of wrong to use.</p>\n\n<p>Anyway, I tried and it gives me <code>GL_INVALID_OPERATION</code>, which should happen if:</p>\n\n<blockquote>\n  <p>If the GL is unable to specify a texture object using the supplied\n  eglImageOES  (if, for example,  refers to a multisampled\n  eglImageOES), the error INVALID_OPERATION is generated.</p>\n</blockquote>\n\n<p>Sadly I cannot make heads or tails from this description, especially since the Android Java API doesn't seem to give me access to <code>eglImageOES</code> functions. Neither have I found a <em>Java</em> example for the usage of this function.</p>\n\n<p>Attached a small example:</p>\n\n<pre><code>// Bind the texture unit 0\nGLES20.glActiveTexture( GLES20.GL_TEXTURE0 );\nthrowOnError( \"glActiveTexture\" );\n\nGLES20.glBindTexture( GL_TEXTURE_EXTERNAL_OES, _samplerLocation );\nthrowOnError( \"glBindTexture\" );\n\n// _output is ByteBuffer.allocateDirect(pixels * Integer.SIZE / Byte.SIZE).order(ByteOrder.nativeOrder()).asIntBuffer()\n_output.rewind();\n_output.limit( pixels );\nGLES11Ext.glEGLImageTargetTexture2DOES( GL_TEXTURE_EXTERNAL_OES, _output );\nthrowOnError( \"glEGLImageTargetTexture2DOES\" ); // &lt;-- throws\n\nGLES20.glDrawArrays( GLES20.GL_TRIANGLE_STRIP, 0, 4 );\nthrowOnError( \"glDrawArrays\" );\n</code></pre>\n\n<p>Did anyone do that before or know whether this is possible or not?</p>\n\n<p>EDIT:</p>\n\n<p>I had a look at <code>glEGLImageTargetTexture2DOES</code> implementation and it seems that I have to correctly setup the buffer. Added that, but still same error.</p>\n"},{"tags":["java","spring","unit-testing","junit","mockito"],"answers":[{"comments":[{"owner":{"account_id":29635887,"reputation":1,"user_id":22713174,"display_name":"Saida"},"score":0,"creation_date":1696898918,"post_id":77262392,"comment_id":136208958,"body_markdown":"The problem that I am experiencing is that the role Repository can&#39;t find the roleId that I am passing through in the createPerson() method when I call the createPerson() method.","body":"The problem that I am experiencing is that the role Repository can&#39;t find the roleId that I am passing through in the createPerson() method when I call the createPerson() method."},{"owner":{"account_id":28090895,"reputation":36,"user_id":21460445,"display_name":"CodeMoneky934783"},"score":0,"creation_date":1696899061,"post_id":77262392,"comment_id":136208969,"body_markdown":"Sorry, I have updated the answer, try using @ExtendWith(SpringExtension.class) since you are mocking all dependency classes","body":"Sorry, I have updated the answer, try using @ExtendWith(SpringExtension.class) since you are mocking all dependency classes"},{"owner":{"account_id":29635887,"reputation":1,"user_id":22713174,"display_name":"Saida"},"score":0,"creation_date":1696899293,"post_id":77262392,"comment_id":136208979,"body_markdown":"I have tried your suggestion but sadly is still failing with the same result. I have also commented the setUp() when I ran the test with your suggestion","body":"I have tried your suggestion but sadly is still failing with the same result. I have also commented the setUp() when I ran the test with your suggestion"},{"owner":{"account_id":28090895,"reputation":36,"user_id":21460445,"display_name":"CodeMoneky934783"},"score":0,"creation_date":1696900044,"post_id":77262392,"comment_id":136209016,"body_markdown":"I have added a fully working and tested example at the bottom of the answer","body":"I have added a fully working and tested example at the bottom of the answer"},{"owner":{"account_id":29635887,"reputation":1,"user_id":22713174,"display_name":"Saida"},"score":0,"creation_date":1696901076,"post_id":77262392,"comment_id":136209098,"body_markdown":"I recreated your test, and it is still failing, the line that is giving out the error is in the PersonServiceImpl code proper inside the for loop. When I call the roleRepository in the test class it finds the role but when it is time to call it to perform the createPerson() method in the PersonServiceImpl and it reaches the for loop it can&#39;t find the role now","body":"I recreated your test, and it is still failing, the line that is giving out the error is in the PersonServiceImpl code proper inside the for loop. When I call the roleRepository in the test class it finds the role but when it is time to call it to perform the createPerson() method in the PersonServiceImpl and it reaches the for loop it can&#39;t find the role now"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696903732,"post_id":77262392,"comment_id":136209255,"body_markdown":"@Saida You have roles 1, 2, and 3. Do you mock all of those, or only 1?","body":"@Saida You have roles 1, 2, and 3. Do you mock all of those, or only 1?"},{"owner":{"account_id":29635887,"reputation":1,"user_id":22713174,"display_name":"Saida"},"score":0,"creation_date":1696903850,"post_id":77262392,"comment_id":136209264,"body_markdown":"@DavidConrad I am only mocking one, the List was just to test something when debugging.","body":"@DavidConrad I am only mocking one, the List was just to test something when debugging."},{"owner":{"account_id":28090895,"reputation":36,"user_id":21460445,"display_name":"CodeMoneky934783"},"score":0,"creation_date":1696908338,"post_id":77262392,"comment_id":136209571,"body_markdown":"@Saida Are you able to share what you have now?","body":"@Saida Are you able to share what you have now?"},{"owner":{"account_id":29635887,"reputation":1,"user_id":22713174,"display_name":"Saida"},"score":0,"creation_date":1696909397,"post_id":77262392,"comment_id":136209643,"body_markdown":"@CodeMoneky934783 I have updated the test class as shown above","body":"@CodeMoneky934783 I have updated the test class as shown above"},{"owner":{"account_id":29635887,"reputation":1,"user_id":22713174,"display_name":"Saida"},"score":0,"creation_date":1696910296,"post_id":77262392,"comment_id":136209700,"body_markdown":"Is your test still passing @CodeMoneky934783?","body":"Is your test still passing @CodeMoneky934783?"},{"owner":{"account_id":28090895,"reputation":36,"user_id":21460445,"display_name":"CodeMoneky934783"},"score":0,"creation_date":1696910337,"post_id":77262392,"comment_id":136209701,"body_markdown":"@Saida you are missing the lines to mock the response from roleRepository.findById()\n`when(roleRepository.findById(1)).thenReturn(Optional.of(role));`","body":"@Saida you are missing the lines to mock the response from roleRepository.findById() <code>when(roleRepository.findById(1)).thenReturn(Optional.of(role&zwnj;&#8203;));</code>"},{"owner":{"account_id":29635887,"reputation":1,"user_id":22713174,"display_name":"Saida"},"score":0,"creation_date":1696910530,"post_id":77262392,"comment_id":136209715,"body_markdown":"@CodeMoneky934783 even when I add that line that you are suggesting it doesn&#39;t make a difference because when we reach the for loop it will still say that the role does not exist","body":"@CodeMoneky934783 even when I add that line that you are suggesting it doesn&#39;t make a difference because when we reach the for loop it will still say that the role does not exist"},{"owner":{"account_id":29635887,"reputation":1,"user_id":22713174,"display_name":"Saida"},"score":0,"creation_date":1696910713,"post_id":77262392,"comment_id":136209724,"body_markdown":"@CodeMoneky934783 I have added the line that you suggested and it still returns the same failed result.","body":"@CodeMoneky934783 I have added the line that you suggested and it still returns the same failed result."},{"owner":{"account_id":28090895,"reputation":36,"user_id":21460445,"display_name":"CodeMoneky934783"},"score":0,"creation_date":1696912694,"post_id":77262392,"comment_id":136209883,"body_markdown":"perhaps you have the wrong version of Junit or Mockito or something like that","body":"perhaps you have the wrong version of Junit or Mockito or something like that"}],"tags":[],"owner":{"account_id":28090895,"reputation":36,"user_id":21460445,"display_name":"CodeMoneky934783"},"comment_count":14,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696909196,"creation_date":1696898544,"answer_id":77262392,"question_id":77262289,"body_markdown":"About @SpringBootTest (from baeldung)\r\n`The @SpringBootTest annotation is useful when we need to bootstrap the entire container. The annotation works by creating the ApplicationContext that will be utilized in our tests.`\r\n\r\nSince you are mocking all the dependent objects you do not need to boot the container, and can use junit&#39;s `@ExtendWith(SpringExtension.class)` instead.\r\n\r\nAlso do not need to import configurations for the repositories/hibernate/etc.\r\n\r\n\r\nWith the empty response from the mocked roleRepository, it looks like the mock is not set up properly, since you are definitely looking for role 1.\r\n\r\nI don&#39;t think this is required: (Could be affecting the mock classes without closing?)\r\n\r\n    @BeforeEach\r\n    public void setUp(){\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n\r\nAlso,\r\nYou are not providing a mock behavior for mocked PersonRepository, the save method is called: `personRepository.save(person);`\r\n\r\nie: \r\n\r\n    when(personRepository.save(any()).thenReturn(personObjectWithId);\r\n\r\n\r\n-------------------------------------------------------------------------\r\n-------------------------------------------------------------------------\r\n-------------------------------------------------------------------------\r\n\r\nHere is a minimal reproduced working example (tested):\r\n(personRepository.save() has not been mocked and therefor returns null, so the final check in the test is for null)\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    public class PersonServiceTests {\r\n        @Mock\r\n        private PersonRepository personRepository;\r\n        @Mock\r\n        private RoleRepository roleRepository;\r\n        @InjectMocks\r\n        private PersonService personService;\r\n    \r\n        @Test\r\n        public void test() {\r\n            PersonDto personDto = new PersonDto();\r\n            personDto.setRoleIds(Set.of(1));\r\n    \r\n            Role role = new Role(1, RoleEnum.ADMIN, null);\r\n            when(roleRepository.findById(1)).thenReturn(Optional.of(role));\r\n            PersonDto createdPersonDto = personService.createPerson(personDto);\r\n    \r\n            assertNull(createdPersonDto);\r\n        }\r\n    }\r\n\r\nHere is a minimal PersonService class to reproduce the problem only:\r\n\r\n    public class PersonService {\r\n    \r\n        private final PersonRepository personRepository;\r\n        private final RoleRepository roleRepository;\r\n    \r\n        @Autowired\r\n        public PersonService(PersonRepository personRepository, RoleRepository roleRepository) {\r\n            this.personRepository = personRepository;\r\n            this.roleRepository = roleRepository;\r\n        }\r\n    \r\n        public PersonDto createPerson(PersonDto personDto) {\r\n            Set&lt;Integer&gt; roleIds = personDto.getRoleIds();\r\n            for (Integer roleId : roleIds) {\r\n                Optional&lt;Role&gt; optionalRole = roleRepository.findById(roleId);\r\n                if (optionalRole.isPresent()) {\r\n                    Role role = optionalRole.get();\r\n                    System.out.println(role);\r\n                } else {\r\n                    throw new RuntimeException(&quot;Role does not exist&quot;);\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }","title":"How to mock interface extending JpaRepository in Unit tests","body":"<p>About @SpringBootTest (from baeldung)\n<code>The @SpringBootTest annotation is useful when we need to bootstrap the entire container. The annotation works by creating the ApplicationContext that will be utilized in our tests.</code></p>\n<p>Since you are mocking all the dependent objects you do not need to boot the container, and can use junit's <code>@ExtendWith(SpringExtension.class)</code> instead.</p>\n<p>Also do not need to import configurations for the repositories/hibernate/etc.</p>\n<p>With the empty response from the mocked roleRepository, it looks like the mock is not set up properly, since you are definitely looking for role 1.</p>\n<p>I don't think this is required: (Could be affecting the mock classes without closing?)</p>\n<pre><code>@BeforeEach\npublic void setUp(){\n    MockitoAnnotations.openMocks(this);\n}\n</code></pre>\n<p>Also,\nYou are not providing a mock behavior for mocked PersonRepository, the save method is called: <code>personRepository.save(person);</code></p>\n<p>ie:</p>\n<pre><code>when(personRepository.save(any()).thenReturn(personObjectWithId);\n</code></pre>\n<hr />\n<hr />\n<hr />\n<p>Here is a minimal reproduced working example (tested):\n(personRepository.save() has not been mocked and therefor returns null, so the final check in the test is for null)</p>\n<pre><code>@ExtendWith(SpringExtension.class)\npublic class PersonServiceTests {\n    @Mock\n    private PersonRepository personRepository;\n    @Mock\n    private RoleRepository roleRepository;\n    @InjectMocks\n    private PersonService personService;\n\n    @Test\n    public void test() {\n        PersonDto personDto = new PersonDto();\n        personDto.setRoleIds(Set.of(1));\n\n        Role role = new Role(1, RoleEnum.ADMIN, null);\n        when(roleRepository.findById(1)).thenReturn(Optional.of(role));\n        PersonDto createdPersonDto = personService.createPerson(personDto);\n\n        assertNull(createdPersonDto);\n    }\n}\n</code></pre>\n<p>Here is a minimal PersonService class to reproduce the problem only:</p>\n<pre><code>public class PersonService {\n\n    private final PersonRepository personRepository;\n    private final RoleRepository roleRepository;\n\n    @Autowired\n    public PersonService(PersonRepository personRepository, RoleRepository roleRepository) {\n        this.personRepository = personRepository;\n        this.roleRepository = roleRepository;\n    }\n\n    public PersonDto createPerson(PersonDto personDto) {\n        Set&lt;Integer&gt; roleIds = personDto.getRoleIds();\n        for (Integer roleId : roleIds) {\n            Optional&lt;Role&gt; optionalRole = roleRepository.findById(roleId);\n            if (optionalRole.isPresent()) {\n                Role role = optionalRole.get();\n                System.out.println(role);\n            } else {\n                throw new RuntimeException(&quot;Role does not exist&quot;);\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29635887,"reputation":1,"user_id":22713174,"display_name":"Saida"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696910681,"creation_date":1696895721,"question_id":77262289,"body_markdown":"I have this PersonServiceImpl class that I am testing:\r\n\r\n```\r\npackage com.personregistrationspring.service;\r\n\r\nimport com.personregistrationspring.model.Person;\r\nimport com.personregistrationspring.model.Name;\r\nimport com.personregistrationspring.model.Address;\r\nimport com.personregistrationspring.model.Contact;\r\nimport com.personregistrationspring.model.dto.PersonDto;\r\nimport com.personregistrationspring.model.Role;\r\nimport com.personregistrationspring.model.Contact;\r\nimport com.personregistrationspring.repository.PersonRepository;\r\nimport com.personregistrationspring.repository.RoleRepository;\r\n\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.transaction.annotation.Transactional;\r\nimport javax.persistence.EntityNotFoundException;\r\n\r\nimport java.util.*;\r\n\r\n\r\n@Service\r\npublic class PersonServiceImpl implements PersonService{\r\n\t\r\n\tprivate final PersonRepository personRepository;\r\n\tprivate final RoleRepository roleRepository;\r\n\t\r\n\t@Autowired\r\n\tpublic PersonServiceImpl(PersonRepository personRepository, RoleRepository roleRepository){\r\n\t\tthis.personRepository = personRepository;\r\n\t\tthis.roleRepository = roleRepository;\r\n\t}\r\n\t\r\n\t@Transactional\r\n\t@Override\r\n\tpublic PersonDto createPerson(PersonDto personDto){\r\n\r\n\r\n\t\tPerson person = mapToEntity(personDto);\r\n\t\t\r\n\t\tSet&lt;Integer&gt; roleIds = personDto.getRoleIds();\r\n\t\t\r\n\t\tSet&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\t\t\r\n\t\tfor(Integer roleId : roleIds){\r\n\t\t\tOptional&lt;Role&gt; optionalRole = roleRepository.findById(roleId);\r\n\t\t\tif(optionalRole.isPresent()){\r\n\t\t\t\tRole role = optionalRole.get();\r\n\t\t\t\troles.add(role);\r\n\t\t\t} else{\r\n\t\t\t\tthrow new EntityNotFoundException(&quot;Role does not exist&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tperson.setRoles(roles);\r\n\t\tPerson createdPerson = personRepository.save(person);\r\n\t\treturn mapToDto(createdPerson);\r\n\t}\r\n```\r\nand I have this Test class setup:\r\n\r\n```\r\npackage com.personregistrationspring;\r\nimport com.personregistrationspring.model.Role;\r\nimport com.personregistrationspring.model.RoleEnum;\r\nimport com.personregistrationspring.repository.PersonRepository;\r\nimport com.personregistrationspring.repository.RoleRepository;\r\nimport com.personregistrationspring.model.Person;\r\nimport com.personregistrationspring.model.dto.PersonDto;\r\nimport com.personregistrationspring.service.PersonServiceImpl;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.MockitoAnnotations;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.test.context.TestPropertySource;\r\n\r\nimport java.util.*;\r\n\r\nimport static org.hamcrest.Matchers.any;\r\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\r\nimport static org.mockito.ArgumentMatchers.anyInt;\r\nimport static org.mockito.ArgumentMatchers.eq;\r\nimport static org.mockito.Mockito.when;\r\n@SpringBootTest\r\n@ComponentScan(basePackages = &quot;com.personregistrationspring.repository&quot;)\r\n@TestPropertySource(locations = &quot;classpath:application.properties&quot;)\r\npublic class PersonServiceImplTests {\r\n\r\n    @Mock\r\n    private PersonRepository personRepository;\r\n\r\n    @Mock\r\n    private RoleRepository roleRepository;\r\n\r\n    @InjectMocks\r\n    private PersonServiceImpl personService;\r\n\r\n    @BeforeEach\r\n    public void setUp(){\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n\r\n    @Test\r\n    public void createPerson_shouldCreatePerson(){\r\n        PersonDto personDto = new PersonDto();\r\n        Role role = new Role(1, RoleEnum.ADMIN, null);\r\n        personDto.setRoleIds(Set.of(1));\r\n        List&lt;Role&gt; mockRoles = Arrays.asList(\r\n                new Role(1, RoleEnum.ADMIN, null),\r\n                new Role(2, RoleEnum.DEV, null),\r\n                new Role(3, RoleEnum.QA, null)\r\n        );\r\n        when(roleRepository.findAll()).thenReturn(mockRoles);\r\n        List&lt;Role&gt; roles = roleRepository.findAll();\r\n        \r\n        System.out.println(role.getRoleName());\r\n        System.out.println(personDto.getRoleIds());\r\n        System.out.print(roleRepository.);\r\n        when(roleRepository.findById(eq(1))).thenReturn(Optional.of(role));\r\n        PersonDto createdPersonDto = personService.createPerson(personDto);\r\n\r\n        assertNotNull(createdPersonDto);\r\n\r\n    }\r\n```\r\nThe problem that I am having is that when this line in the main PersonServiceImpl is being run :\r\nOptional&lt;Role&gt; optionalRole = roleRepository.findById(roleId);\r\n\r\nIt returns null which in turn would throw the exception &quot;EntityNotFoundException&quot; \r\n\r\nI have tried instead of mocking the roleRepository I tried autowiring it, but when the method in the main PersonServiceImpl class is run it returns a null instance of the roleRepository there.\r\nAm I missing something or is there something wrong with the test?\r\n\r\nI only have one RoleRepository interface and I don&#39;t have any special configurations, only spring security basic authentication.\r\n\r\nI also debugged the test, when checking the mock Ids created by Mockito for the instances of roleRepository, the ids are different for the instance in the test class and is also different from the main class. I dunno if that is the correct behavior for mockito.\r\n\r\nSample ids:\r\nThis is for the test class instance:\r\n(https://i.stack.imgur.com/Dax9b.png)\r\nand here is the main class instance:\r\n(https://i.stack.imgur.com/Ifyoq.png)\r\n\r\nUDPATE: I have updated the test class and its corresponding test:\r\n@ExtendWith(SpringExtension.class)\r\npublic class PersonServiceImplTests {\r\n\r\n    @Mock\r\n    private PersonRepository personRepository;\r\n\r\n    @Mock\r\n    private RoleRepository roleRepository;\r\n\r\n    @InjectMocks\r\n    private PersonServiceImpl personService;\r\n\r\n    @BeforeEach\r\n    public void setUp(){\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n\r\n    @Test\r\n    public void createPerson_shouldCreatePerson(){\r\n        PersonDto personDto = new PersonDto();\r\n        Role role = new Role(1, RoleEnum.ADMIN, null);\r\n        personDto.setRoleIds(Set.of(1));\r\n\r\n        when(roleRepository.findById(1)).thenReturn(Optional.of(role));\r\n\r\n        PersonDto createdPersonDto = personService.createPerson(personDto);\r\n\r\n        assertNotNull(createdPersonDto);\r\n\r\n    }\r\n\r\nI also forgot to mention that I am using a PostgreSQL database when running the main program","title":"How to mock interface extending JpaRepository in Unit tests","body":"<p>I have this PersonServiceImpl class that I am testing:</p>\n<pre><code>package com.personregistrationspring.service;\n\nimport com.personregistrationspring.model.Person;\nimport com.personregistrationspring.model.Name;\nimport com.personregistrationspring.model.Address;\nimport com.personregistrationspring.model.Contact;\nimport com.personregistrationspring.model.dto.PersonDto;\nimport com.personregistrationspring.model.Role;\nimport com.personregistrationspring.model.Contact;\nimport com.personregistrationspring.repository.PersonRepository;\nimport com.personregistrationspring.repository.RoleRepository;\n\nimport org.springframework.stereotype.Service;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.transaction.annotation.Transactional;\nimport javax.persistence.EntityNotFoundException;\n\nimport java.util.*;\n\n\n@Service\npublic class PersonServiceImpl implements PersonService{\n    \n    private final PersonRepository personRepository;\n    private final RoleRepository roleRepository;\n    \n    @Autowired\n    public PersonServiceImpl(PersonRepository personRepository, RoleRepository roleRepository){\n        this.personRepository = personRepository;\n        this.roleRepository = roleRepository;\n    }\n    \n    @Transactional\n    @Override\n    public PersonDto createPerson(PersonDto personDto){\n\n\n        Person person = mapToEntity(personDto);\n        \n        Set&lt;Integer&gt; roleIds = personDto.getRoleIds();\n        \n        Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n        \n        for(Integer roleId : roleIds){\n            Optional&lt;Role&gt; optionalRole = roleRepository.findById(roleId);\n            if(optionalRole.isPresent()){\n                Role role = optionalRole.get();\n                roles.add(role);\n            } else{\n                throw new EntityNotFoundException(&quot;Role does not exist&quot;);\n            }\n        }\n        person.setRoles(roles);\n        Person createdPerson = personRepository.save(person);\n        return mapToDto(createdPerson);\n    }\n</code></pre>\n<p>and I have this Test class setup:</p>\n<pre><code>package com.personregistrationspring;\nimport com.personregistrationspring.model.Role;\nimport com.personregistrationspring.model.RoleEnum;\nimport com.personregistrationspring.repository.PersonRepository;\nimport com.personregistrationspring.repository.RoleRepository;\nimport com.personregistrationspring.model.Person;\nimport com.personregistrationspring.model.dto.PersonDto;\nimport com.personregistrationspring.service.PersonServiceImpl;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.MockitoAnnotations;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.test.context.TestPropertySource;\n\nimport java.util.*;\n\nimport static org.hamcrest.Matchers.any;\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\nimport static org.mockito.ArgumentMatchers.anyInt;\nimport static org.mockito.ArgumentMatchers.eq;\nimport static org.mockito.Mockito.when;\n@SpringBootTest\n@ComponentScan(basePackages = &quot;com.personregistrationspring.repository&quot;)\n@TestPropertySource(locations = &quot;classpath:application.properties&quot;)\npublic class PersonServiceImplTests {\n\n    @Mock\n    private PersonRepository personRepository;\n\n    @Mock\n    private RoleRepository roleRepository;\n\n    @InjectMocks\n    private PersonServiceImpl personService;\n\n    @BeforeEach\n    public void setUp(){\n        MockitoAnnotations.openMocks(this);\n    }\n\n    @Test\n    public void createPerson_shouldCreatePerson(){\n        PersonDto personDto = new PersonDto();\n        Role role = new Role(1, RoleEnum.ADMIN, null);\n        personDto.setRoleIds(Set.of(1));\n        List&lt;Role&gt; mockRoles = Arrays.asList(\n                new Role(1, RoleEnum.ADMIN, null),\n                new Role(2, RoleEnum.DEV, null),\n                new Role(3, RoleEnum.QA, null)\n        );\n        when(roleRepository.findAll()).thenReturn(mockRoles);\n        List&lt;Role&gt; roles = roleRepository.findAll();\n        \n        System.out.println(role.getRoleName());\n        System.out.println(personDto.getRoleIds());\n        System.out.print(roleRepository.);\n        when(roleRepository.findById(eq(1))).thenReturn(Optional.of(role));\n        PersonDto createdPersonDto = personService.createPerson(personDto);\n\n        assertNotNull(createdPersonDto);\n\n    }\n</code></pre>\n<p>The problem that I am having is that when this line in the main PersonServiceImpl is being run :\nOptional optionalRole = roleRepository.findById(roleId);</p>\n<p>It returns null which in turn would throw the exception &quot;EntityNotFoundException&quot;</p>\n<p>I have tried instead of mocking the roleRepository I tried autowiring it, but when the method in the main PersonServiceImpl class is run it returns a null instance of the roleRepository there.\nAm I missing something or is there something wrong with the test?</p>\n<p>I only have one RoleRepository interface and I don't have any special configurations, only spring security basic authentication.</p>\n<p>I also debugged the test, when checking the mock Ids created by Mockito for the instances of roleRepository, the ids are different for the instance in the test class and is also different from the main class. I dunno if that is the correct behavior for mockito.</p>\n<p>Sample ids:\nThis is for the test class instance:\n(<a href=\"https://i.stack.imgur.com/Dax9b.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Dax9b.png</a>)\nand here is the main class instance:\n(<a href=\"https://i.stack.imgur.com/Ifyoq.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Ifyoq.png</a>)</p>\n<p>UDPATE: I have updated the test class and its corresponding test:\n@ExtendWith(SpringExtension.class)\npublic class PersonServiceImplTests {</p>\n<pre><code>@Mock\nprivate PersonRepository personRepository;\n\n@Mock\nprivate RoleRepository roleRepository;\n\n@InjectMocks\nprivate PersonServiceImpl personService;\n\n@BeforeEach\npublic void setUp(){\n    MockitoAnnotations.openMocks(this);\n}\n\n@Test\npublic void createPerson_shouldCreatePerson(){\n    PersonDto personDto = new PersonDto();\n    Role role = new Role(1, RoleEnum.ADMIN, null);\n    personDto.setRoleIds(Set.of(1));\n\n    when(roleRepository.findById(1)).thenReturn(Optional.of(role));\n\n    PersonDto createdPersonDto = personService.createPerson(personDto);\n\n    assertNotNull(createdPersonDto);\n\n}\n</code></pre>\n<p>I also forgot to mention that I am using a PostgreSQL database when running the main program</p>\n"},{"tags":["java","intellij-idea","ubuntu-12.04","barcode"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":2,"creation_date":1385094617,"post_id":20137020,"comment_id":30011486,"body_markdown":"And you&#39;re certain that this JAR is in the Libraries section of your Project Structure?","body":"And you&#39;re certain that this JAR is in the Libraries section of your Project Structure?"},{"owner":{"account_id":1424961,"reputation":30720,"user_id":1348743,"display_name":"Javaru"},"score":1,"creation_date":1385135261,"post_id":20137020,"comment_id":30031151,"body_markdown":"Verify that the scope of the library (in the project structure window) is `Compile`. If set to a scope of `Provided` it will cause the behavior you describe.","body":"Verify that the scope of the library (in the project structure window) is <code>Compile</code>. If set to a scope of <code>Provided</code> it will cause the behavior you describe."},{"owner":{"account_id":300633,"reputation":15049,"user_id":607874,"accept_rate":100,"display_name":"Jose Rui Santos"},"score":0,"creation_date":1618503551,"post_id":20137020,"comment_id":118626756,"body_markdown":"If you have a dependency under a maven profile, make sure you select the correct profile in the maven tree &quot;Profiles&quot;, when you compile the project.","body":"If you have a dependency under a maven profile, make sure you select the correct profile in the maven tree &quot;Profiles&quot;, when you compile the project."},{"owner":{"account_id":13801013,"reputation":1259,"user_id":10805602,"display_name":"Valentin Stamate"},"score":0,"creation_date":1624117061,"post_id":20137020,"comment_id":120273048,"body_markdown":"If you are using Gradle for your project check this response : https://stackoverflow.com/a/48930705/10805602","body":"If you are using Gradle for your project check this response : <a href=\"https://stackoverflow.com/a/48930705/10805602\">stackoverflow.com/a/48930705/10805602</a>"},{"owner":{"account_id":4128254,"reputation":401,"user_id":3386780,"display_name":"Zia Ul Mustafa"},"score":0,"creation_date":1627370432,"post_id":20137020,"comment_id":121130881,"body_markdown":"This solution worked for me. Follow the given [link](https://stackoverflow.com/a/68540504/3386780)","body":"This solution worked for me. Follow the given <a href=\"https://stackoverflow.com/a/68540504/3386780\">link</a>"}],"answers":[{"tags":[],"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1385148891,"creation_date":1385148891,"answer_id":20153085,"question_id":20137020,"body_markdown":"If you added a library to the project structure (rather than via maven, that would be different), be sure it is included as a dependency for the relevant module.\r\n\r\nProject Structure -&gt; Modules -&gt; Dependencies","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>If you added a library to the project structure (rather than via maven, that would be different), be sure it is included as a dependency for the relevant module.</p>\n\n<p>Project Structure -> Modules -> Dependencies</p>\n"},{"comments":[{"owner":{"account_id":13449268,"reputation":978,"user_id":10037278,"display_name":"Onat Korucu"},"score":0,"creation_date":1597184121,"post_id":27652517,"comment_id":112049937,"body_markdown":"It says repository is moved to https://github.com/littlerobots/android-apt","body":"It says repository is moved to <a href=\"https://github.com/littlerobots/android-apt\" rel=\"nofollow noreferrer\">github.com/littlerobots/android-apt</a>"}],"tags":[],"owner":{"account_id":2095967,"reputation":67,"user_id":1864733,"display_name":"Saleh Hamadeh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419564208,"creation_date":1419564208,"answer_id":27652517,"question_id":20137020,"body_markdown":"I had the same problem. I fixed it by applying the android-apt plugin https://bitbucket.org/hvisser/android-apt","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>I had the same problem. I fixed it by applying the android-apt plugin <a href=\"https://bitbucket.org/hvisser/android-apt\" rel=\"nofollow\">https://bitbucket.org/hvisser/android-apt</a></p>\n"},{"comments":[{"owner":{"account_id":8255754,"reputation":89,"user_id":6208972,"display_name":"Mikołaj"},"score":0,"creation_date":1663598222,"post_id":31818638,"comment_id":130271493,"body_markdown":"In newer versions (mine 2022.1.2) of IntelliJ, there is a Reload Project position instead of Reimport.","body":"In newer versions (mine 2022.1.2) of IntelliJ, there is a Reload Project position instead of Reimport."}],"tags":[],"owner":{"account_id":1953810,"reputation":1008,"user_id":1757329,"display_name":"humanity"},"comment_count":1,"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1553806206,"creation_date":1438719879,"answer_id":31818638,"question_id":20137020,"body_markdown":"Right click your project / Maven (at bottom) / Reimport\r\n\r\nEdit, much later: I also saw this happen much more frequently when I had the Clover plugin installed.  Drop that plugin like a bad habit!\r\n\r\n","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>Right click your project / Maven (at bottom) / Reimport</p>\n\n<p>Edit, much later: I also saw this happen much more frequently when I had the Clover plugin installed.  Drop that plugin like a bad habit!</p>\n"},{"comments":[{"owner":{"account_id":3608976,"reputation":413,"user_id":3010484,"display_name":"hipokito"},"score":10,"creation_date":1529444040,"post_id":37601043,"comment_id":88872923,"body_markdown":"This helps but the problem appears again after some time.","body":"This helps but the problem appears again after some time."},{"owner":{"account_id":154559,"reputation":1436,"user_id":370576,"display_name":"loyalBrown"},"score":0,"creation_date":1540294208,"post_id":37601043,"comment_id":92803896,"body_markdown":"I had similar issues with IntelliJ 2018 and Gradle. It couldn&#39;t find Spring packages. Doing this fixed the issue for me.","body":"I had similar issues with IntelliJ 2018 and Gradle. It couldn&#39;t find Spring packages. Doing this fixed the issue for me."},{"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"score":2,"creation_date":1562772817,"post_id":37601043,"comment_id":100484399,"body_markdown":"To reimport: Press Ctrl+Shift+A to find actions, and input &quot;reimport&quot;, you will find the &quot;Reimport All Maven Projects&quot;.","body":"To reimport: Press Ctrl+Shift+A to find actions, and input &quot;reimport&quot;, you will find the &quot;Reimport All Maven Projects&quot;."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1619544140,"post_id":37601043,"comment_id":118935764,"body_markdown":"Eureka, finally something that works!  All the reimports in the world weren&#39;t fixing it.  Not even &quot;invalidate cache and restart&quot;, but this did...","body":"Eureka, finally something that works!  All the reimports in the world weren&#39;t fixing it.  Not even &quot;invalidate cache and restart&quot;, but this did..."},{"owner":{"account_id":290535,"reputation":2402,"user_id":592138,"accept_rate":78,"display_name":"Michele Palmia"},"score":1,"creation_date":1623676679,"post_id":37601043,"comment_id":120138838,"body_markdown":"I think it&#39;s &quot;Reload All Maven Projects&quot; now. It also worked for me when invalidating cache and rebuilding didn&#39;t do anything.","body":"I think it&#39;s &quot;Reload All Maven Projects&quot; now. It also worked for me when invalidating cache and rebuilding didn&#39;t do anything."},{"owner":{"account_id":973884,"reputation":1114,"user_id":2072202,"accept_rate":50,"display_name":"Ababneh A"},"score":0,"creation_date":1652781346,"post_id":37601043,"comment_id":127683703,"body_markdown":"If you have Maven profiles, make sure that you are enabling the right ones if needed. After enabling/disabling profiles reload all Maven projects.","body":"If you have Maven profiles, make sure that you are enabling the right ones if needed. After enabling/disabling profiles reload all Maven projects."},{"owner":{"account_id":973884,"reputation":1114,"user_id":2072202,"accept_rate":50,"display_name":"Ababneh A"},"score":0,"creation_date":1653388602,"post_id":37601043,"comment_id":127834840,"body_markdown":"I suggest making sure that all `pom.xml` files in the project are added or recognized as Maven Projects by IntelliJ. The file icon should be a small `m`. If not, right click the `pom.xml` file, and choose `Add as a Maven Project`","body":"I suggest making sure that all <code>pom.xml</code> files in the project are added or recognized as Maven Projects by IntelliJ. The file icon should be a small <code>m</code>. If not, right click the <code>pom.xml</code> file, and choose <code>Add as a Maven Project</code>"},{"owner":{"account_id":15056102,"reputation":157,"user_id":10866313,"display_name":"vorwerg-ni"},"score":0,"creation_date":1683301447,"post_id":37601043,"comment_id":134350940,"body_markdown":"for me it was sufficient to delete the .idea/libraries folder","body":"for me it was sufficient to delete the .idea/libraries folder"}],"tags":[],"owner":{"account_id":133538,"reputation":9223,"user_id":334966,"accept_rate":89,"display_name":"mattalxndr"},"comment_count":8,"down_vote_count":0,"up_vote_count":122,"is_accepted":false,"score":122,"last_activity_date":1464897588,"creation_date":1464897588,"answer_id":37601043,"question_id":20137020,"body_markdown":"I tried to &quot;Maven &gt; Reimport&quot; but the only thing that actually fixed it was to close the project, delete the .idea directory, and reopen the project.","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>I tried to \"Maven > Reimport\" but the only thing that actually fixed it was to close the project, delete the .idea directory, and reopen the project.</p>\n"},{"comments":[{"owner":{"account_id":8210085,"reputation":679,"user_id":6178546,"display_name":"Raj Rajeshwar Singh Rathore"},"score":15,"creation_date":1540787658,"post_id":42829251,"comment_id":92977249,"body_markdown":"Worked like a charm but can you also explain why does it happen?","body":"Worked like a charm but can you also explain why does it happen?"},{"owner":{"account_id":3686195,"reputation":2732,"user_id":3069919,"display_name":"The-Big-K"},"score":9,"creation_date":1601422659,"post_id":42829251,"comment_id":113402005,"body_markdown":"Okay, just for anyone else viewing this answer -&gt; Note that you need to invalidate the cache AND ALSO rebuild the project. I used my intuition and did only the first part, because I do see IDEA &quot;rebuilding&quot; and indexing after I restart, but I don&#39;t think that is enough. You need to explicitly rebuild the project.","body":"Okay, just for anyone else viewing this answer -&gt; Note that you need to invalidate the cache AND ALSO rebuild the project. I used my intuition and did only the first part, because I do see IDEA &quot;rebuilding&quot; and indexing after I restart, but I don&#39;t think that is enough. You need to explicitly rebuild the project."},{"owner":{"account_id":17029695,"reputation":1699,"user_id":12320109,"display_name":"Boommeister"},"score":6,"creation_date":1614588232,"post_id":42829251,"comment_id":117420754,"body_markdown":"@Raj Rajeshwar Singh Rathore it&#39;s because maven (or gradle, if you use gradle) remembers / caches parts of the previous build to then build faster each time you ask it to build your project. So when you first get the error maven remembers that this module was missing.","body":"@Raj Rajeshwar Singh Rathore it&#39;s because maven (or gradle, if you use gradle) remembers / caches parts of the previous build to then build faster each time you ask it to build your project. So when you first get the error maven remembers that this module was missing."},{"owner":{"account_id":1055952,"reputation":106,"user_id":1058668,"display_name":"Splash"},"score":2,"creation_date":1655485879,"post_id":42829251,"comment_id":128351848,"body_markdown":"OMG, it is still helpful in 2022!","body":"OMG, it is still helpful in 2022!"},{"owner":{"account_id":4165150,"reputation":3628,"user_id":3414257,"accept_rate":80,"display_name":"panoet"},"score":0,"creation_date":1666772958,"post_id":42829251,"comment_id":131013061,"body_markdown":"This should be accepted as answer for saving my life.","body":"This should be accepted as answer for saving my life."},{"owner":{"account_id":3847031,"reputation":584,"user_id":3188225,"display_name":"umunBeing"},"score":0,"creation_date":1668410651,"post_id":42829251,"comment_id":131389417,"body_markdown":"Thanks a lot, I was baffled by this for more than an hour.","body":"Thanks a lot, I was baffled by this for more than an hour."},{"owner":{"account_id":280719,"reputation":111,"user_id":923285,"display_name":"Ilya"},"score":0,"creation_date":1677286664,"post_id":42829251,"comment_id":133314213,"body_markdown":"I also removed all .iml files from project recursively, then rebuild project. And all has been ok.","body":"I also removed all .iml files from project recursively, then rebuild project. And all has been ok."}],"tags":[],"owner":{"account_id":1277699,"reputation":3034,"user_id":1675946,"accept_rate":100,"display_name":"Durgesh Suthar"},"comment_count":7,"down_vote_count":4,"up_vote_count":241,"is_accepted":false,"score":237,"last_activity_date":1630913367,"creation_date":1489654437,"answer_id":42829251,"question_id":20137020,"body_markdown":"Just reimport didn&#39;t work. Following worked for me.  \r\n\r\n&gt; File -&gt; Invalidate Caches /Restart\r\n\r\n  \r\nThen \r\n\r\n&gt; Build -&gt; Rebuild Project\r\n\r\n That will reimport maven project. \r\n\r\n**Note : You need to invalidate the cache AND ALSO rebuild the project.**","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>Just reimport didn't work. Following worked for me.</p>\n<blockquote>\n<p>File -&gt; Invalidate Caches /Restart</p>\n</blockquote>\n<p>Then</p>\n<blockquote>\n<p>Build -&gt; Rebuild Project</p>\n</blockquote>\n<p>That will reimport maven project.</p>\n<p><strong>Note : You need to invalidate the cache AND ALSO rebuild the project.</strong></p>\n"},{"comments":[{"owner":{"account_id":21224028,"reputation":157,"user_id":15610035,"display_name":"Voronin"},"score":1,"creation_date":1656721109,"post_id":46562083,"comment_id":128648514,"body_markdown":"Crazy, but this one actually worked for me... even though org.mapstruct (1.5.1-FINAL) was everywhere in the lists, it simply wouldn&#39;t use it to build. `mvn clean install` actually worked...","body":"Crazy, but this one actually worked for me... even though org.mapstruct (1.5.1-FINAL) was everywhere in the lists, it simply wouldn&#39;t use it to build. <code>mvn clean install</code> actually worked..."}],"tags":[],"owner":{"account_id":6736264,"reputation":281,"user_id":5190954,"display_name":"Pratik Nagelia"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1507111319,"creation_date":1507111319,"answer_id":46562083,"question_id":20137020,"body_markdown":"Tried all the above approaches, didn&#39;t work.\r\nFinally running `maven clean install` solved it!","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>Tried all the above approaches, didn't work.\nFinally running <code>maven clean install</code> solved it!</p>\n"},{"tags":[],"owner":{"account_id":116234,"reputation":8075,"user_id":304874,"accept_rate":84,"display_name":"Graeme Moss"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520865182,"creation_date":1520865182,"answer_id":49237794,"question_id":20137020,"body_markdown":"I had the same problem and it was fixed for me by changing the &quot;Maven home directory&quot; in Settings from &quot;Bundled&quot; to my locally installed maven.  Perhaps this triggered some kind of refresh somewhere since I had not changed this setting for months without any issue.\r\n","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>I had the same problem and it was fixed for me by changing the \"Maven home directory\" in Settings from \"Bundled\" to my locally installed maven.  Perhaps this triggered some kind of refresh somewhere since I had not changed this setting for months without any issue.</p>\n"},{"comments":[{"owner":{"account_id":954971,"reputation":940,"user_id":980452,"accept_rate":45,"display_name":"Kirill G."},"score":0,"creation_date":1528021687,"post_id":49360361,"comment_id":88340694,"body_markdown":"This helped for Community Edition 2017.2. I also had to import gradle project after this. 2017 and this problem still occurs.","body":"This helped for Community Edition 2017.2. I also had to import gradle project after this. 2017 and this problem still occurs."},{"owner":{"account_id":3109106,"reputation":170,"user_id":2631276,"display_name":"aumiom"},"score":1,"creation_date":1664370816,"post_id":49360361,"comment_id":130456097,"body_markdown":"If your project is simple JAVA project and not Maven project then Don&#39;t do this before actually looking at the list of dependencies in : File&gt;Project Structure&gt;Modules&gt;Dependencies.\n\nElse you will lose the list of dependencies you would actually need. As one method to solve this issue is by downloading all the Jars listed at above location.","body":"If your project is simple JAVA project and not Maven project then Don&#39;t do this before actually looking at the list of dependencies in : File&gt;Project Structure&gt;Modules&gt;Dependencies.  Else you will lose the list of dependencies you would actually need. As one method to solve this issue is by downloading all the Jars listed at above location."},{"owner":{"account_id":465553,"reputation":4572,"user_id":869702,"accept_rate":40,"display_name":"Jason White"},"score":0,"creation_date":1670347387,"post_id":49360361,"comment_id":131853799,"body_markdown":"I did this in addition to removing any *.iml files in the source directories to remedy the problem.  It doesn&#39;t appear that IntelliJ created any new *.iml files for me.","body":"I did this in addition to removing any *.iml files in the source directories to remedy the problem.  It doesn&#39;t appear that IntelliJ created any new *.iml files for me."}],"tags":[],"owner":{"account_id":112054,"reputation":4536,"user_id":295716,"accept_rate":62,"display_name":"Antoine"},"comment_count":3,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1549301191,"creation_date":1521454343,"answer_id":49360361,"question_id":20137020,"body_markdown":"Quit IntelliJ, remove every `.idea` directory: \r\n \r\n    rm -Rf **/.idea/ \r\n\r\nand restart.\r\n ","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>Quit IntelliJ, remove every <code>.idea</code> directory: </p>\n\n<pre><code>rm -Rf **/.idea/ \n</code></pre>\n\n<p>and restart.</p>\n"},{"comments":[{"owner":{"account_id":173567,"reputation":102,"user_id":402341,"display_name":"genchev"},"score":3,"creation_date":1523630798,"post_id":49459226,"comment_id":86654198,"body_markdown":"Same thing helped me - Right click on project -&gt; Rebuild Module &lt;module-name&gt;","body":"Same thing helped me - Right click on project -&gt; Rebuild Module &lt;module-name&gt;"}],"tags":[],"owner":{"account_id":2376705,"reputation":37064,"user_id":2079831,"accept_rate":100,"display_name":"Andrew"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1521844959,"creation_date":1521844959,"answer_id":49459226,"question_id":20137020,"body_markdown":"    \r\n    menu -&gt; build -&gt; Rebuild Project\r\n\r\nhas worked for me\r\n\r\n(Invalidating caches without this step doesn&#39;t help)\r\n","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<pre><code>menu -&gt; build -&gt; Rebuild Project\n</code></pre>\n\n<p>has worked for me</p>\n\n<p>(Invalidating caches without this step doesn't help)</p>\n"},{"comments":[{"owner":{"account_id":922912,"reputation":1160,"user_id":954246,"accept_rate":75,"display_name":"newhouse"},"score":0,"creation_date":1667466248,"post_id":51019352,"comment_id":131174627,"body_markdown":"It doesn&#39;t help","body":"It doesn&#39;t help"}],"tags":[],"owner":{"account_id":1008209,"reputation":119,"user_id":1021356,"display_name":"Srikanth Reddy"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1529916022,"creation_date":1529916022,"answer_id":51019352,"question_id":20137020,"body_markdown":"**Invalidate Caches/ Restart** and then **Build -&gt; Rebuild Project** helped for me","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p><strong>Invalidate Caches/ Restart</strong> and then <strong>Build -> Rebuild Project</strong> helped for me</p>\n"},{"tags":[],"owner":{"account_id":1359134,"reputation":711,"user_id":1296844,"display_name":"Conrad Damon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539624544,"creation_date":1539624544,"answer_id":52821925,"question_id":20137020,"body_markdown":"As someone who only occasionally needs to do Java work, this was very annoying. Inevitably, packages would have been added since the last time I ran our server inside IntelliJ and it would fail to build. I found what seems to be an easier solution: just don&#39;t build within IntelliJ. Build from the command line via Maven, then make sure that the run configuration does not list Build as a &quot;Before launch&quot; task. ","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>As someone who only occasionally needs to do Java work, this was very annoying. Inevitably, packages would have been added since the last time I ran our server inside IntelliJ and it would fail to build. I found what seems to be an easier solution: just don't build within IntelliJ. Build from the command line via Maven, then make sure that the run configuration does not list Build as a \"Before launch\" task. </p>\n"},{"comments":[{"owner":{"account_id":1026872,"reputation":719,"user_id":1035997,"accept_rate":100,"display_name":"ammills01"},"score":6,"creation_date":1545229985,"post_id":53383440,"comment_id":94554121,"body_markdown":"Tried all of these and the only thing that worked for me was #4, closing IntelliJ, deleting the .idea folder, and reloading the project.  This happened to me after creating a new git branch.","body":"Tried all of these and the only thing that worked for me was #4, closing IntelliJ, deleting the .idea folder, and reloading the project.  This happened to me after creating a new git branch."},{"owner":{"account_id":2214708,"reputation":139,"user_id":1955652,"accept_rate":50,"display_name":"Levancho"},"score":3,"creation_date":1566774712,"post_id":53383440,"comment_id":101751168,"body_markdown":"sounds like a bug with intellij, I wonder if there is issue created for that?","body":"sounds like a bug with intellij, I wonder if there is issue created for that?"},{"owner":{"account_id":2965471,"reputation":923,"user_id":2518705,"display_name":"RAM237"},"score":0,"creation_date":1631107224,"post_id":53383440,"comment_id":122134381,"body_markdown":"Agree, happens to me when any git-related action is performed outside of IntelliJ. Meanwhile, it builds for me just fine, happens only when I&#39;m doing **Build &gt; Recompile &#39;&lt;SomeClass.java&gt;&#39;** for hot swap. Hence, none of the solutions like &quot;Open/close IntelliJ&quot;, &quot;invalidate/rebuild project&quot; and so on, acceptable for me. But it pisses me off seriously.","body":"Agree, happens to me when any git-related action is performed outside of IntelliJ. Meanwhile, it builds for me just fine, happens only when I&#39;m doing <b>Build &gt; Recompile &#39;&lt;SomeClass.java&gt;&#39;</b> for hot swap. Hence, none of the solutions like &quot;Open/close IntelliJ&quot;, &quot;invalidate/rebuild project&quot; and so on, acceptable for me. But it pisses me off seriously."},{"owner":{"account_id":922912,"reputation":1160,"user_id":954246,"accept_rate":75,"display_name":"newhouse"},"score":0,"creation_date":1667466309,"post_id":53383440,"comment_id":131174643,"body_markdown":"Deleting the .idea folder is the only way worked for me usually, but the problem is then that I lose a lot of other stuff with that as well","body":"Deleting the .idea folder is the only way worked for me usually, but the problem is then that I lose a lot of other stuff with that as well"}],"tags":[],"owner":{"account_id":3354060,"reputation":5435,"user_id":2817457,"accept_rate":50,"display_name":"Jianwu Chen"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1542672374,"creation_date":1542665796,"answer_id":53383440,"question_id":20137020,"body_markdown":"It&#39;s a very annoying problem which happens quite often. Especially after switching to a different git branch. It wasted me way too much time to troubleshoot this kind problem. I have tried all the methods above. But I can&#39;t find a reliable way. Here I just summarize those steps which could help in my situation. Jetbrains, please fix this issue to save your customer&#39;s precious time.\r\n\r\n1. Make sure do a success command line build (If UT failed, please ignore UT by using -Dmaven.test.skip=true.\r\n2. In the &quot;Maven Projects&quot; view, try to use &quot;reimport&quot; all the maven project.\r\n3. In the file menu, use &quot;Invalidate Caches&quot;\r\n4. Delete .idea folder, basically create the workspace from scratch. (That&#39;s the only reliable way can solve this issue)\r\n\r\n\r\n","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>It's a very annoying problem which happens quite often. Especially after switching to a different git branch. It wasted me way too much time to troubleshoot this kind problem. I have tried all the methods above. But I can't find a reliable way. Here I just summarize those steps which could help in my situation. Jetbrains, please fix this issue to save your customer's precious time.</p>\n\n<ol>\n<li>Make sure do a success command line build (If UT failed, please ignore UT by using -Dmaven.test.skip=true.</li>\n<li>In the \"Maven Projects\" view, try to use \"reimport\" all the maven project.</li>\n<li>In the file menu, use \"Invalidate Caches\"</li>\n<li>Delete .idea folder, basically create the workspace from scratch. (That's the only reliable way can solve this issue)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15745906,"reputation":630,"user_id":11361780,"display_name":"MeirDayan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1558776923,"creation_date":1558776923,"answer_id":56303592,"question_id":20137020,"body_markdown":"Here is a solution worked for me:\r\n**Disable the &quot;Use --release option for cross-compilation like the following in intellij idea:**\r\ngot `Settings` -&gt; `Build,Execution,Deployment` -&gt; `Compiler` -&gt; `Java Compiler` and disable: \r\n\r\n&gt; Use &#39;--release&#39; option for cross compilation(java 9 and later)","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>Here is a solution worked for me:\n<strong>Disable the \"Use --release option for cross-compilation like the following in intellij idea:</strong>\ngot <code>Settings</code> -> <code>Build,Execution,Deployment</code> -> <code>Compiler</code> -> <code>Java Compiler</code> and disable: </p>\n\n<blockquote>\n  <p>Use '--release' option for cross compilation(java 9 and later)</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":5,"creation_date":1560758577,"post_id":56473166,"comment_id":99826362,"body_markdown":"Worked on IntelliJ Ultimate 2019.1.2! Invalidating Caches didn&#39;t work.Reimporting the project didn&#39;t work. This solution did!","body":"Worked on IntelliJ Ultimate 2019.1.2! Invalidating Caches didn&#39;t work.Reimporting the project didn&#39;t work. This solution did!"},{"owner":{"account_id":162791,"reputation":7080,"user_id":384484,"display_name":"Miki"},"score":1,"creation_date":1576834745,"post_id":56473166,"comment_id":105032257,"body_markdown":"Just tested on 2019.1.3 and yes, this is a working solution","body":"Just tested on 2019.1.3 and yes, this is a working solution"},{"owner":{"account_id":3795829,"reputation":363,"user_id":3150947,"accept_rate":75,"display_name":"user3150947"},"score":3,"creation_date":1577713705,"post_id":56473166,"comment_id":105233308,"body_markdown":"Works for version 2019.3!","body":"Works for version 2019.3!"},{"owner":{"account_id":1080327,"reputation":819,"user_id":1077487,"display_name":"Mitch1077487"},"score":1,"creation_date":1596824319,"post_id":56473166,"comment_id":111945165,"body_markdown":"Works for version 2020.2 as well.   Was pulling my hair out until I found this!","body":"Works for version 2020.2 as well.   Was pulling my hair out until I found this!"},{"owner":{"account_id":7167552,"reputation":869,"user_id":5476186,"display_name":"Austin Brown"},"score":1,"creation_date":1604432032,"post_id":56473166,"comment_id":114344796,"body_markdown":"Thank you! Somehow, some way, this worked for me in 2020.1.4. Shouldn&#39;t have to worry about IntelliJ breaking so much in their updates, but 2020 has been a nightmare. Thanks for sharing this fix.","body":"Thank you! Somehow, some way, this worked for me in 2020.1.4. Shouldn&#39;t have to worry about IntelliJ breaking so much in their updates, but 2020 has been a nightmare. Thanks for sharing this fix."},{"owner":{"account_id":4365452,"reputation":116,"user_id":3561396,"display_name":"Marco Martins"},"score":2,"creation_date":1618484640,"post_id":56473166,"comment_id":118617779,"body_markdown":"Worked for me after updating to 2021.1","body":"Worked for me after updating to 2021.1"},{"owner":{"account_id":3156329,"reputation":5805,"user_id":2668666,"accept_rate":76,"display_name":"jmrah"},"score":3,"creation_date":1654802841,"post_id":56473166,"comment_id":128185542,"body_markdown":"I have no idea why this worked, but it did!  Thanks!  IDEA version 2022.1.2","body":"I have no idea why this worked, but it did!  Thanks!  IDEA version 2022.1.2"},{"owner":{"account_id":5046026,"reputation":306,"user_id":4052014,"accept_rate":0,"display_name":"Marcos"},"score":1,"creation_date":1662747905,"post_id":56473166,"comment_id":130085839,"body_markdown":"This right here! IntelliJ 2021.2.3 And it worked like a charm! I should note that I was messing with this project&#39;s structure before this problem started occurring. I was added a module then removed it.","body":"This right here! IntelliJ 2021.2.3 And it worked like a charm! I should note that I was messing with this project&#39;s structure before this problem started occurring. I was added a module then removed it."},{"owner":{"account_id":251952,"reputation":1129,"user_id":529659,"display_name":"jomofrodo"},"score":1,"creation_date":1689103662,"post_id":56473166,"comment_id":135165149,"body_markdown":"I had a single failing module in a project with 14 modules.  I deleted the problem module and re-added it and  -- it worked!  Thanks for the inspiration.","body":"I had a single failing module in a project with 14 modules.  I deleted the problem module and re-added it and  -- it worked!  Thanks for the inspiration."}],"tags":[],"owner":{"account_id":1295670,"reputation":1028,"user_id":3281722,"display_name":"fxnn"},"comment_count":9,"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1559807695,"creation_date":1559807695,"answer_id":56473166,"question_id":20137020,"body_markdown":"None of the 13 existing answers worked for me. However, I could resolve the issue by first removing all modules:\r\n\r\n1. open `File` &gt; `Project Structure...`,\r\n2. go to `Modules` tab,\r\n3. select all modules and press the remove button,\r\n\r\nthen removing all remaining Maven modules from `Maven` tool window:\r\n\r\n1. select all modules,\r\n2. right click on them, \r\n3. press `Remove projects`,\r\n\r\nand then adding them again in `Project` tool window:\r\n\r\n1. right click on root `pom.xml`,\r\n2. press `Add as Maven project`,\r\n\r\nnow unignoring any ignored modules from `Maven` tool window:\r\n\r\n1. select all ignored (grey) Maven modules,\r\n2. right click on them,\r\n3. press `Unignore`,\r\n\r\nand finally rebuilding using `Build` &gt; `Rebuild project`. This assumes that a `mvn clean install` already happened.","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>None of the 13 existing answers worked for me. However, I could resolve the issue by first removing all modules:</p>\n\n<ol>\n<li>open <code>File</code> > <code>Project Structure...</code>,</li>\n<li>go to <code>Modules</code> tab,</li>\n<li>select all modules and press the remove button,</li>\n</ol>\n\n<p>then removing all remaining Maven modules from <code>Maven</code> tool window:</p>\n\n<ol>\n<li>select all modules,</li>\n<li>right click on them, </li>\n<li>press <code>Remove projects</code>,</li>\n</ol>\n\n<p>and then adding them again in <code>Project</code> tool window:</p>\n\n<ol>\n<li>right click on root <code>pom.xml</code>,</li>\n<li>press <code>Add as Maven project</code>,</li>\n</ol>\n\n<p>now unignoring any ignored modules from <code>Maven</code> tool window:</p>\n\n<ol>\n<li>select all ignored (grey) Maven modules,</li>\n<li>right click on them,</li>\n<li>press <code>Unignore</code>,</li>\n</ol>\n\n<p>and finally rebuilding using <code>Build</code> > <code>Rebuild project</code>. This assumes that a <code>mvn clean install</code> already happened.</p>\n"},{"comments":[{"owner":{"account_id":14696648,"reputation":151,"user_id":10613857,"display_name":"Albena Kertova"},"score":4,"creation_date":1674723115,"post_id":57471499,"comment_id":132775701,"body_markdown":"This one worked for me after trying a lot from the other suggestions.","body":"This one worked for me after trying a lot from the other suggestions."}],"tags":[],"owner":{"account_id":1941978,"reputation":649,"user_id":7495461,"accept_rate":36,"display_name":"krishna Ram"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1565673446,"creation_date":1565673446,"answer_id":57471499,"question_id":20137020,"body_markdown":"I did re-import all maven projects. This worked for me.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vqjjX.png","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>I did re-import all maven projects. This worked for me.<a href=\"https://i.stack.imgur.com/vqjjX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vqjjX.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":9072503,"reputation":61,"user_id":6755148,"display_name":"Kishan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565762504,"creation_date":1565761386,"answer_id":57488725,"question_id":20137020,"body_markdown":"What happens here is the particular package is not available in the cache. Resetting will help solve the problem.\r\n\r\n1. File -&gt; Invalidate Caches /Restart\r\n2. Goto terminal and build the project again\r\n\r\n        ./gradlew build\r\n\r\nThis should download all the missing packages again","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>What happens here is the particular package is not available in the cache. Resetting will help solve the problem.</p>\n\n<ol>\n<li>File -> Invalidate Caches /Restart</li>\n<li><p>Goto terminal and build the project again</p>\n\n<pre><code>./gradlew build\n</code></pre></li>\n</ol>\n\n<p>This should download all the missing packages again</p>\n"},{"tags":[],"owner":{"account_id":5369552,"reputation":403,"user_id":4278474,"display_name":"Dotista"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588075949,"creation_date":1588075949,"answer_id":61479905,"question_id":20137020,"body_markdown":"Maven reimport, rebuild and invalidate caches did not work. I solved it by opening a terminal and executing maven clean install in the root folder project. (IntelliJ was opened and I was able to see the IDE updating and triggering reindexation while maven was doing his job)","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>Maven reimport, rebuild and invalidate caches did not work. I solved it by opening a terminal and executing maven clean install in the root folder project. (IntelliJ was opened and I was able to see the IDE updating and triggering reindexation while maven was doing his job)</p>\n"},{"comments":[{"owner":{"account_id":13449268,"reputation":978,"user_id":10037278,"display_name":"Onat Korucu"},"score":3,"creation_date":1597184001,"post_id":61716663,"comment_id":112049913,"body_markdown":"Though it temporarily solved my issue and I upvoted, I later discovered that command is obsolate and can cause problems. The official page for the plugins usage states Apache Maven IDEA Plugin (RETIRED). http://maven.apache.org/plugins/maven-idea-plugin/usage.html","body":"Though it temporarily solved my issue and I upvoted, I later discovered that command is obsolate and can cause problems. The official page for the plugins usage states Apache Maven IDEA Plugin (RETIRED). <a href=\"http://maven.apache.org/plugins/maven-idea-plugin/usage.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-idea-plugin/usage.html</a>"}],"tags":[],"owner":{"account_id":2791789,"reputation":1456,"user_id":2402849,"display_name":"daemon_nio"},"comment_count":1,"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1590061307,"creation_date":1589134421,"answer_id":61716663,"question_id":20137020,"body_markdown":"In my case the only thing that worked is:\r\n\r\n    mvn idea:idea\r\n\r\nThe good thing is that you don&#39;t have to delete .idea folder or .iml files and loose all configuration. Everything will be preserved.\r\n\r\n(Possibly something like `gradle idea` works for gradle too).","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>In my case the only thing that worked is:</p>\n\n<pre><code>mvn idea:idea\n</code></pre>\n\n<p>The good thing is that you don't have to delete .idea folder or .iml files and loose all configuration. Everything will be preserved.</p>\n\n<p>(Possibly something like <code>gradle idea</code> works for gradle too).</p>\n"},{"tags":[],"owner":{"account_id":4414786,"reputation":431,"user_id":3596721,"display_name":"barth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590519288,"creation_date":1590519288,"answer_id":62029342,"question_id":20137020,"body_markdown":"If you do not want to destroy .idea, you can try :\r\n\r\n- open Project Structure &gt; Modules\r\n- unmark the java folder as a source folder\r\n- apply / rebuild\r\n- then mark it again as a source folder\r\n- rebuild","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>If you do not want to destroy .idea, you can try :</p>\n\n<ul>\n<li>open Project Structure > Modules</li>\n<li>unmark the java folder as a source folder</li>\n<li>apply / rebuild</li>\n<li>then mark it again as a source folder</li>\n<li>rebuild</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":357255,"reputation":20888,"user_id":697313,"display_name":"Yaroslav Stavnichiy"},"score":0,"creation_date":1595763961,"post_id":62189035,"comment_id":111580872,"body_markdown":"This workaround about `path.macros.xml` file has helped me: https://youtrack.jetbrains.com/issue/IDEA-239150#focus=Comments-27-4117814.0-0\n2020.1 works now.","body":"This workaround about <code>path.macros.xml</code> file has helped me: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-239150#focus=Comments-27-4117814.0-0\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/&hellip;</a> 2020.1 works now."}],"tags":[],"owner":{"account_id":163732,"reputation":1707,"user_id":386064,"accept_rate":40,"display_name":"Ahmed Salem"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1591255620,"creation_date":1591255620,"answer_id":62189035,"question_id":20137020,"body_markdown":"I tried all appreciated answers and none of them solve my problem!\r\n\r\nAccording to Intellij community, there is a bug  with Maven builds in 2020.1 and 2020.1.1 versions: https://youtrack.jetbrains.com/issue/IDEA-237320?_ga=2.235486722.203129946.1591253608-322129264.1584010541\r\n\r\nPlease try to run on 2019.3.4 version (Its worked for me from the first time)\r\n\r\nYou can download from here\r\n\r\nhttps://www.jetbrains.com/idea/download/previous.html?_ga=2.190043688.203129946.1591253608-322129264.1584010541\r\n\r\n","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>I tried all appreciated answers and none of them solve my problem!</p>\n\n<p>According to Intellij community, there is a bug  with Maven builds in 2020.1 and 2020.1.1 versions: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-237320?_ga=2.235486722.203129946.1591253608-322129264.1584010541\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-237320?_ga=2.235486722.203129946.1591253608-322129264.1584010541</a></p>\n\n<p>Please try to run on 2019.3.4 version (Its worked for me from the first time)</p>\n\n<p>You can download from here</p>\n\n<p><a href=\"https://www.jetbrains.com/idea/download/previous.html?_ga=2.190043688.203129946.1591253608-322129264.1584010541\" rel=\"noreferrer\">https://www.jetbrains.com/idea/download/previous.html?_ga=2.190043688.203129946.1591253608-322129264.1584010541</a></p>\n"},{"tags":[],"owner":{"account_id":8897744,"reputation":446,"user_id":6642154,"display_name":"Zhwt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591702039,"creation_date":1591702039,"answer_id":62281530,"question_id":20137020,"body_markdown":"In case you&#39;re facing very weird &quot;unable to resolve `java`, `sun` packages problem&quot;, try the following:\r\n\r\n 1. Open Project Structure and change Project SDK to **another version**, example: java 8 -&gt; 9; 11-&gt;13, etc, and wait until it re-index all jdk&#39;s jars. **Switch between jdks with same version may not work**! (Ex: jetbrains jdk11 -&gt; openjdk 11)\r\n 2. Open a new project (or create a empty one); **pause new project&#39;s indexing**; close the old one; **start indexing**; open the old project and **pause the new project&#39;s indexing** and wait.","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>In case you're facing very weird \"unable to resolve <code>java</code>, <code>sun</code> packages problem\", try the following:</p>\n\n<ol>\n<li>Open Project Structure and change Project SDK to <strong>another version</strong>, example: java 8 -> 9; 11->13, etc, and wait until it re-index all jdk's jars. <strong>Switch between jdks with same version may not work</strong>! (Ex: jetbrains jdk11 -> openjdk 11)</li>\n<li>Open a new project (or create a empty one); <strong>pause new project's indexing</strong>; close the old one; <strong>start indexing</strong>; open the old project and <strong>pause the new project's indexing</strong> and wait.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3595384,"reputation":2380,"user_id":3000280,"accept_rate":43,"display_name":"cmlonder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592217400,"creation_date":1592217400,"answer_id":62386436,"question_id":20137020,"body_markdown":"If you are trying the suggested ways and still no chance, be sure about your **order**:\r\n\r\n1. Delete your .idea/\r\n2. Invalidate and Restart Cache afterwards\r\n3. Import maven projects from your maven tool\r\n\r\nIf you did not invalidate and restart cache just after deleting your .idea/, Intellij keeps generating it and that was keeping error in my case.","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>If you are trying the suggested ways and still no chance, be sure about your <strong>order</strong>:</p>\n\n<ol>\n<li>Delete your .idea/</li>\n<li>Invalidate and Restart Cache afterwards</li>\n<li>Import maven projects from your maven tool</li>\n</ol>\n\n<p>If you did not invalidate and restart cache just after deleting your .idea/, Intellij keeps generating it and that was keeping error in my case.</p>\n"},{"tags":[],"owner":{"account_id":12992146,"reputation":979,"user_id":9391041,"display_name":"cvdr"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1592336792,"creation_date":1592336792,"answer_id":62416442,"question_id":20137020,"body_markdown":"I tried compile a java 8 project with JDK 12 and has the same issue.\r\nNone of previous answer solved my problem.\r\n\r\nI changed o **Shortel Command Line** to &quot;**JAR Manifest**&quot; and worked like a charm. \r\n\r\n\r\n\r\n[![intellij][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4k6yW.png","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>I tried compile a java 8 project with JDK 12 and has the same issue.\nNone of previous answer solved my problem.</p>\n\n<p>I changed o <strong>Shortel Command Line</strong> to \"<strong>JAR Manifest</strong>\" and worked like a charm. </p>\n\n<p><a href=\"https://i.stack.imgur.com/4k6yW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4k6yW.png\" alt=\"intellij\"></a></p>\n"},{"comments":[{"owner":{"account_id":9115588,"reputation":774,"user_id":6782822,"display_name":"Tejal"},"score":0,"creation_date":1672650578,"post_id":63444803,"comment_id":132318675,"body_markdown":"I tried with intellij 2019  but still issue is not resolved any other suggestions.?","body":"I tried with intellij 2019  but still issue is not resolved any other suggestions.?"},{"owner":{"account_id":13449268,"reputation":978,"user_id":10037278,"display_name":"Onat Korucu"},"score":0,"creation_date":1673295372,"post_id":63444803,"comment_id":132462724,"body_markdown":"Sorry, but it has been a long time since I faced this error and the solution was a result of trial and error. So I don&#39;t have anything else than try everything listed here.","body":"Sorry, but it has been a long time since I faced this error and the solution was a result of trial and error. So I don&#39;t have anything else than try everything listed here."},{"owner":{"account_id":9115588,"reputation":774,"user_id":6782822,"display_name":"Tejal"},"score":0,"creation_date":1673606630,"post_id":63444803,"comment_id":132542046,"body_markdown":"no problem  thanks for replying Onat Korucu .","body":"no problem  thanks for replying Onat Korucu ."}],"tags":[],"owner":{"account_id":13449268,"reputation":978,"user_id":10037278,"display_name":"Onat Korucu"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597640528,"creation_date":1597640528,"answer_id":63444803,"question_id":20137020,"body_markdown":"I tried \r\n 1. &quot;Maven &gt; Reimport&quot; \r\n 2. Deleting the .idea directory, and reopening the project.\r\n 3. File -&gt; Invalidate Caches/Restart then Build -&gt; Rebuild Project\r\n 4. Deleting what is inside local .m2 folder, and downloading dependencies again.\r\n 5. Running mvn idea:idea in Maven console (Though this command is obsolete, I had to try.)\r\n\r\nin different combinations.\r\n\r\nBut going from Intellij 2020 version to 2019 solved my issue.","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>I tried</p>\n<ol>\n<li>&quot;Maven &gt; Reimport&quot;</li>\n<li>Deleting the .idea directory, and reopening the project.</li>\n<li>File -&gt; Invalidate Caches/Restart then Build -&gt; Rebuild Project</li>\n<li>Deleting what is inside local .m2 folder, and downloading dependencies again.</li>\n<li>Running mvn idea:idea in Maven console (Though this command is obsolete, I had to try.)</li>\n</ol>\n<p>in different combinations.</p>\n<p>But going from Intellij 2020 version to 2019 solved my issue.</p>\n"},{"comments":[{"owner":{"account_id":7513142,"reputation":334,"user_id":5707475,"display_name":"Christophe Broeckx"},"score":0,"creation_date":1617947863,"post_id":63916780,"comment_id":118457941,"body_markdown":"Adding the localRepository line in my settings.xml fixed the issue for me.\nI use Intellij IDEA 2021.1 Community Edition Build#IC-211.6693.111","body":"Adding the localRepository line in my settings.xml fixed the issue for me. I use Intellij IDEA 2021.1 Community Edition Build#IC-211.6693.111"}],"tags":[],"owner":{"account_id":2427353,"reputation":2600,"user_id":2119009,"accept_rate":100,"display_name":"Israel Varea"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1601152282,"creation_date":1600247386,"answer_id":63916780,"question_id":20137020,"body_markdown":"In my case the problem was that there was a different **repository directory configuration** in IntelliJ and in settings.xml file.\r\n\r\nCheck both repository directories are the same:\r\n\r\n**IntelliJ** (`File` &gt; `Settings` &gt; `Build,Execution,Deployment` &gt; `Build Tools` &gt; `Maven` )\r\n\r\n[![IntelliJ Local Repository Configuration][1]][1]\r\n\r\n**settings.xml**\r\n(usually in `C:\\Users\\myuser\\.m2` or `/home/myuser/.m2`)\r\n\r\n```\r\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\r\n                      http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n\r\n  ...\r\n  &lt;localRepository&gt;C:\\Users\\myuser\\.m2\\repository&lt;/localRepository&gt;\r\n  ...\r\n&lt;/settings&gt;\r\n```\r\n\r\nAfter fixing directories run:\r\n\r\n1. Generate Folders and Update Sources for All Projects\r\n\r\n[![enter image description here][2]][2]\r\n\r\n \r\n2. Reimport all maven projects\r\n\r\n[![enter image description here][3]][3]\r\n\r\n  [1]: https://i.stack.imgur.com/x2eL4.png\r\n  [2]: https://i.stack.imgur.com/5wczO.png\r\n  [3]: https://i.stack.imgur.com/8TXhK.png","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>In my case the problem was that there was a different <strong>repository directory configuration</strong> in IntelliJ and in settings.xml file.</p>\n<p>Check both repository directories are the same:</p>\n<p><strong>IntelliJ</strong> (<code>File</code> &gt; <code>Settings</code> &gt; <code>Build,Execution,Deployment</code> &gt; <code>Build Tools</code> &gt; <code>Maven</code> )</p>\n<p><a href=\"https://i.stack.imgur.com/x2eL4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/x2eL4.png\" alt=\"IntelliJ Local Repository Configuration\" /></a></p>\n<p><strong>settings.xml</strong>\n(usually in <code>C:\\Users\\myuser\\.m2</code> or <code>/home/myuser/.m2</code>)</p>\n<pre><code>&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\n                      http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\n\n  ...\n  &lt;localRepository&gt;C:\\Users\\myuser\\.m2\\repository&lt;/localRepository&gt;\n  ...\n&lt;/settings&gt;\n</code></pre>\n<p>After fixing directories run:</p>\n<ol>\n<li>Generate Folders and Update Sources for All Projects</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/5wczO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5wczO.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Reimport all maven projects</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/8TXhK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8TXhK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"display_name":"user15076617"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616060297,"creation_date":1616060297,"answer_id":66688357,"question_id":20137020,"body_markdown":"I had the same issue with my unit tests. I created tests on my master branch and early everything worked well, no matter what branch I was using. But when I switched again to master branch, tests did not work anymore.\r\nWhat helped me was to:\r\n\r\nclose intellij `-&gt;` delete `.idea` file from directory `-&gt;` open project again by `pom.xml` (idk if it matters what way you open the project, but first time when I tried to open it normally by intellij, it still dit not work)  `-&gt;` reload all maven projects from right menu `-&gt;` `rebuild` project and that&#39;s it, everything works now  ","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>I had the same issue with my unit tests. I created tests on my master branch and early everything worked well, no matter what branch I was using. But when I switched again to master branch, tests did not work anymore.\nWhat helped me was to:</p>\n<p>close intellij <code>-&gt;</code> delete <code>.idea</code> file from directory <code>-&gt;</code> open project again by <code>pom.xml</code> (idk if it matters what way you open the project, but first time when I tried to open it normally by intellij, it still dit not work)  <code>-&gt;</code> reload all maven projects from right menu <code>-&gt;</code> <code>rebuild</code> project and that's it, everything works now</p>\n"},{"tags":[],"owner":{"account_id":9041643,"reputation":273,"user_id":6735683,"display_name":"Timbuck"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617893162,"creation_date":1617893162,"answer_id":67006449,"question_id":20137020,"body_markdown":"I had this problem in IntelliJ 2020.3 and tried the invalidate cache option and rebuild, but the problem persisted. The only thing that fixed it was to rename the package and rename it back to what it was originally.","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>I had this problem in IntelliJ 2020.3 and tried the invalidate cache option and rebuild, but the problem persisted. The only thing that fixed it was to rename the package and rename it back to what it was originally.</p>\n"},{"tags":[],"owner":{"account_id":6980823,"reputation":639,"user_id":5353824,"display_name":"SystemsInCode"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1625760348,"creation_date":1625759937,"answer_id":68305008,"question_id":20137020,"body_markdown":"Similar to [cvdr][1]. Too high a Java version can be the problem.\r\n\r\nA collegaue just have this problem with multiple java sources in our test project. She had just updated to a later Intellij and when we investigated none of the rebuild options worked but Intellij seemed to have &#39;bumped&#39; the project Java settings to Java 11 (I guess it takes highest installed version on upgrade install?) Setting it back to Java8 and the project compiles successfully. \r\n\r\nGo File&gt;Project Structure &gt; Project Settings &gt; Project and select the right ones in the drop downs.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/9391041/cvdr","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>Similar to <a href=\"https://stackoverflow.com/users/9391041/cvdr\">cvdr</a>. Too high a Java version can be the problem.</p>\n<p>A collegaue just have this problem with multiple java sources in our test project. She had just updated to a later Intellij and when we investigated none of the rebuild options worked but Intellij seemed to have 'bumped' the project Java settings to Java 11 (I guess it takes highest installed version on upgrade install?) Setting it back to Java8 and the project compiles successfully.</p>\n<p>Go File&gt;Project Structure &gt; Project Settings &gt; Project and select the right ones in the drop downs.</p>\n"},{"comments":[{"owner":{"account_id":4234133,"reputation":323,"user_id":3465795,"display_name":"Steve T"},"score":0,"creation_date":1673046026,"post_id":68489200,"comment_id":132417444,"body_markdown":"I am using intelliJ community edition. I have a jar file that contains class definitions from a project, that I need available in a workspace I use for &quot;Scratch&quot; experimental work. I included the jar file in &quot;Project Structure&quot; &gt; &quot;Modules&quot; &gt; &quot;Dependencies&quot;, and that has worked for me in the past. But it keeps saying &quot;cannot find package XYZ&quot; as if it cant locate one of these class definitions that is referenced by an import statement. I tried everything above short of deleting the .idea folder. Your solution worked for me, much thanks.","body":"I am using intelliJ community edition. I have a jar file that contains class definitions from a project, that I need available in a workspace I use for &quot;Scratch&quot; experimental work. I included the jar file in &quot;Project Structure&quot; &gt; &quot;Modules&quot; &gt; &quot;Dependencies&quot;, and that has worked for me in the past. But it keeps saying &quot;cannot find package XYZ&quot; as if it cant locate one of these class definitions that is referenced by an import statement. I tried everything above short of deleting the .idea folder. Your solution worked for me, much thanks."},{"owner":{"account_id":4234133,"reputation":323,"user_id":3465795,"display_name":"Steve T"},"score":0,"creation_date":1673046531,"post_id":68489200,"comment_id":132417546,"body_markdown":"It turned out that the path had to be relative, because I was storing the jar file somewhere else in my file structure, not located in the project workspace: &lt;systemPath&gt;${basedir}/../../lib-for-jars/classdefs-1.0.jar&lt;/systemPath&gt;","body":"It turned out that the path had to be relative, because I was storing the jar file somewhere else in my file structure, not located in the project workspace: &lt;systemPath&gt;${basedir}/../../lib-for-jars/classdefs-1.0.jar&lt;&zwnj;&#8203;/systemPath&gt;"}],"tags":[],"owner":{"account_id":9957598,"reputation":1919,"user_id":7367914,"display_name":"Antara Datta"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626974997,"creation_date":1626974997,"answer_id":68489200,"question_id":20137020,"body_markdown":"The above solutions didn&#39;t work for me. I had to add the dependency explicitly in the pom.xml. \r\n\r\nJust add your jar under resources/library and then add it as a dependency in your pom.xml like:\r\n\r\n```\t\t\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;your-jar-group-id&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;artifact-id&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t&lt;systemPath&gt;${basedir}/src/main/resources/library/name-of-jar.jar&lt;/systemPath&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nTry this out if none of the above work.","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>The above solutions didn't work for me. I had to add the dependency explicitly in the pom.xml.</p>\n<p>Just add your jar under resources/library and then add it as a dependency in your pom.xml like:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;your-jar-group-id&lt;/groupId&gt;\n            &lt;artifactId&gt;artifact-id&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${basedir}/src/main/resources/library/name-of-jar.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Try this out if none of the above work.</p>\n"},{"tags":[],"owner":{"account_id":11567974,"reputation":61,"user_id":8475570,"display_name":"Leif Liu"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1637631020,"creation_date":1637631020,"answer_id":70074339,"question_id":20137020,"body_markdown":"I got this error after I changed pom, and I fixed it by execute:\r\n\r\n    mvn idea:module\r\n\r\nit works for me","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>I got this error after I changed pom, and I fixed it by execute:</p>\n<pre><code>mvn idea:module\n</code></pre>\n<p>it works for me</p>\n"},{"tags":[],"owner":{"account_id":10418328,"reputation":828,"user_id":7681696,"display_name":"GtdDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653560960,"creation_date":1647725054,"answer_id":71542212,"question_id":20137020,"body_markdown":"Follow the steps below:\r\n1) Ctrl+Shift -&gt; Type Invalidate Caches -&gt; Chech all options except: Ask before...\r\n2) Superior menu -&gt; Build -&gt; Rebuild Project\r\n","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>Follow the steps below:</p>\n<ol>\n<li>Ctrl+Shift -&gt; Type Invalidate Caches -&gt; Chech all options except: Ask before...</li>\n<li>Superior menu -&gt; Build -&gt; Rebuild Project</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":8722753,"reputation":1490,"user_id":6525347,"accept_rate":80,"display_name":"thelearner"},"score":0,"creation_date":1649537589,"post_id":71778590,"comment_id":126902343,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](https://stackoverflow.com/questions/ask). To get notified when this question gets new answers, you can [follow this question](https://meta.stackexchange.com/q/345661). Once you have enough [reputation](https://stackoverflow.com/help/whats-reputation), you can also [add a bounty](https://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question. - [From Review](/review/late-answers/31478281)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. To get notified when this question gets new answers, you can <a href=\"https://meta.stackexchange.com/q/345661\">follow this question</a>. Once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question. - <a href=\"/review/late-answers/31478281\">From Review</a>"}],"tags":[],"owner":{"account_id":13324141,"reputation":15,"user_id":9617645,"display_name":"tushar methwani"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649319379,"creation_date":1649319379,"answer_id":71778590,"question_id":20137020,"body_markdown":"I created two new classes under a new package and used it in rest of the code, Intellij was able to resolve these no red highlights were shown in the intellij editor.\r\nWhile building it was showing package doesn&#39;t exist error. \r\nI tried everything from gradle clean build, rebuild project, clear .idea and .gradle and reimporting the project, clearing the gradle local cache but nothing was working.\r\nFinally I refactored the name of the new package and this time intellij was able to recognize the new classes and it started working. ","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>I created two new classes under a new package and used it in rest of the code, Intellij was able to resolve these no red highlights were shown in the intellij editor.\nWhile building it was showing package doesn't exist error.\nI tried everything from gradle clean build, rebuild project, clear .idea and .gradle and reimporting the project, clearing the gradle local cache but nothing was working.\nFinally I refactored the name of the new package and this time intellij was able to recognize the new classes and it started working.</p>\n"},{"tags":[],"owner":{"account_id":1827477,"reputation":469,"user_id":1659797,"accept_rate":90,"display_name":"jevora"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652171899,"creation_date":1652171899,"answer_id":72183129,"question_id":20137020,"body_markdown":"Invalidate caches worked for me but it&#39;s too long to recover the caches so I don&#39;t have the patience to wait for it. I found another way to solve it in my case. &quot;Repair IDE&quot; step 3 (delete Package search project caches) worked for me perfectly\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BHaav.png","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>Invalidate caches worked for me but it's too long to recover the caches so I don't have the patience to wait for it. I found another way to solve it in my case. &quot;Repair IDE&quot; step 3 (delete Package search project caches) worked for me perfectly</p>\n<p><a href=\"https://i.stack.imgur.com/BHaav.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BHaav.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10993988,"reputation":26,"user_id":8076865,"display_name":"Darwin Zou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663858784,"creation_date":1663858784,"answer_id":73816855,"question_id":20137020,"body_markdown":"```\r\npackage com.example;\r\n\r\nimport com.sun.jna.Library;\r\nimport com.sun.jna.Native;\r\n\r\npublic class C {\r\n    public interface Kernel32 extends Library {\r\n        public void OutputDebugStringA(String Text);\r\n        public void DebugBreak();\r\n        public void Sleep(int a);\r\n    }\r\n\r\n    public static int incint(int in1)\r\n    {\r\n        testpkg.xxxBird.Say(&quot;xxxee&quot;); //only use this statement to call external lib\r\n                                      //I don&#39;t use &quot;import&quot; statement.\r\n        return in1*2;\r\n    }\r\n}\r\n```\r\nI am using intellij idea.\r\nYou need to add testpkg path in project dependency.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dh3Eq.png","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<pre><code>package com.example;\n\nimport com.sun.jna.Library;\nimport com.sun.jna.Native;\n\npublic class C {\n    public interface Kernel32 extends Library {\n        public void OutputDebugStringA(String Text);\n        public void DebugBreak();\n        public void Sleep(int a);\n    }\n\n    public static int incint(int in1)\n    {\n        testpkg.xxxBird.Say(&quot;xxxee&quot;); //only use this statement to call external lib\n                                      //I don't use &quot;import&quot; statement.\n        return in1*2;\n    }\n}\n</code></pre>\n<p>I am using intellij idea.\nYou need to add testpkg path in project dependency.\n<a href=\"https://i.stack.imgur.com/dh3Eq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dh3Eq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":268922,"reputation":113,"user_id":557968,"display_name":"sarath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669035800,"creation_date":1669035800,"answer_id":74519405,"question_id":20137020,"body_markdown":"I faced the same situation in ver 2022.1.4. I tried all solutions from the first answer, nothing worked except the **delete the &quot;.idea&quot; folder**. \r\nEven through many friends mentioned this solution, I couldn&#39;t find this folder, I was looking around user profile and AppData folders. This folder was in fact created under the project folder itself.\r\n\r\nI closed the project, and re-opened after deleting this folder.. everything back to normal. It felt like the &quot;Intel&quot; was lost and the IDE was only &quot;lij&quot; for sometime.. lol","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>I faced the same situation in ver 2022.1.4. I tried all solutions from the first answer, nothing worked except the <strong>delete the &quot;.idea&quot; folder</strong>.\nEven through many friends mentioned this solution, I couldn't find this folder, I was looking around user profile and AppData folders. This folder was in fact created under the project folder itself.</p>\n<p>I closed the project, and re-opened after deleting this folder.. everything back to normal. It felt like the &quot;Intel&quot; was lost and the IDE was only &quot;lij&quot; for sometime.. lol</p>\n"},{"tags":[],"owner":{"account_id":3532567,"reputation":349,"user_id":2951657,"display_name":"Thuan Tran"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1670565937,"creation_date":1670565937,"answer_id":74739458,"question_id":20137020,"body_markdown":"1. Delete your .idea/\r\n2. Invalidate and Restart Cache afterwards\r\n3. Re-import project","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<ol>\n<li>Delete your .idea/</li>\n<li>Invalidate and Restart Cache afterwards</li>\n<li>Re-import project</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3702826,"reputation":683,"user_id":3082046,"accept_rate":50,"display_name":"xagaffar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674138990,"creation_date":1674138990,"answer_id":75173931,"question_id":20137020,"body_markdown":"I tried all answers, but eventually what helped me was changing the `Maven` from bundled to my own Maven distribution.\r\n\r\nI think vice versa (changing from own to bundled) will help as well. \r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/57Vbh.png","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>I tried all answers, but eventually what helped me was changing the <code>Maven</code> from bundled to my own Maven distribution.</p>\n<p>I think vice versa (changing from own to bundled) will help as well.</p>\n<p><a href=\"https://i.stack.imgur.com/57Vbh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/57Vbh.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":265845,"reputation":975,"user_id":553083,"accept_rate":91,"display_name":"Lion"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682957315,"creation_date":1682957315,"answer_id":76148400,"question_id":20137020,"body_markdown":"I solved this problem by updating my local JDK 17 to oracle JDK 17.0.7.\r\n\r\nI can&#39;t remember which distribution I was using.","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>I solved this problem by updating my local JDK 17 to oracle JDK 17.0.7.</p>\n<p>I can't remember which distribution I was using.</p>\n"},{"tags":[],"owner":{"account_id":2219298,"reputation":1663,"user_id":1959155,"accept_rate":89,"display_name":"EthanP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696909462,"creation_date":1696909462,"answer_id":77262818,"question_id":20137020,"body_markdown":"For me, to simply **quit IntelliJ and reopen it** was enough to get beyond this error.","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>For me, to simply <strong>quit IntelliJ and reopen it</strong> was enough to get beyond this error.</p>\n"}],"owner":{"account_id":3621736,"reputation":2683,"user_id":3020288,"display_name":"Tika"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364540,"favorite_count":0,"down_vote_count":0,"up_vote_count":264,"answer_count":39,"score":264,"last_activity_date":1696909462,"creation_date":1385094517,"question_id":20137020,"body_markdown":"I&#39;m trying to use the barbecue barcode printing library. I have successfully added the library to IntelliJ through project structure add library.  Then I imported the packages and wrote the methods, which gave me no error.  The packages were available in the class.\r\n\r\nBut when I compile it gives me the error:\r\n\r\n    error: package net.sourceforge.barbecue does not exist\r\n\r\nHow can this be?\r\n\r\nI&#39;m coding in ubuntu, is there any other place to which I have to add the library?\r\n","title":"Why does IntelliJ give me &quot;Package doesn&#39;t exist&quot; error?","body":"<p>I'm trying to use the barbecue barcode printing library. I have successfully added the library to IntelliJ through project structure add library.  Then I imported the packages and wrote the methods, which gave me no error.  The packages were available in the class.</p>\n<p>But when I compile it gives me the error:</p>\n<pre><code>error: package net.sourceforge.barbecue does not exist\n</code></pre>\n<p>How can this be?</p>\n<p>I'm coding in ubuntu, is there any other place to which I have to add the library?</p>\n"},{"tags":["java","file","character-encoding","nio","java-io"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696909781,"post_id":77262602,"comment_id":136209660,"body_markdown":"Looks like you are trying to read a directory as a file.","body":"Looks like you are trying to read a directory as a file."},{"owner":{"account_id":106565,"reputation":18790,"user_id":283837,"accept_rate":70,"display_name":"Simeon Leyzerzon"},"score":0,"creation_date":1696911907,"post_id":77262602,"comment_id":136209817,"body_markdown":"@user207421 `FileUtils.unzip(zipFileToUnmarshall, tmpContainer)` creates extracts 18 files into that `tmpContainer`.  However, `Files.list(tmpContainer.toPath()).forEash(p-&gt;{System.out.println(p);});` displays only the root folder, instead of those 18 files.  Weird.","body":"@user207421 <code>FileUtils.unzip(zipFileToUnmarshall, tmpContainer)</code> creates extracts 18 files into that <code>tmpContainer</code>.  However, <code>Files.list(tmpContainer.toPath()).forEash(p-&gt;{System.out.pri&zwnj;&#8203;ntln(p);});</code> displays only the root folder, instead of those 18 files.  Weird."}],"owner":{"account_id":106565,"reputation":18790,"user_id":283837,"accept_rate":70,"display_name":"Simeon Leyzerzon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696907809,"creation_date":1696904326,"question_id":77262602,"body_markdown":"\r\nI&#39;m getting different variations of the same `java.io.UncheckedIOException` when running a test in an IDE or in the terminal:\r\n\r\n**In IDE:**\r\n```\r\njava.io.UncheckedIOException: Failed to read C:\\code\\STS\\daily-cash-report\\target\\test-classes\\zipTmp\\October 3 Files content with UTF-8 charset\r\n\tat org.assertj.core.api.AbstractFileAssert.readFile(AbstractFileAssert.java:1436)\r\n\tat org.assertj.core.api.AbstractFileAssert.internalContent(AbstractFileAssert.java:1428)\r\n\tat org.assertj.core.api.AbstractFileAssert.content(AbstractFileAssert.java:1350)\r\n\tat com.pru.globalpayments.feeds.downstream.dailycashreport.AchFileUtilsTest.lambda$0(AchFileUtilsTest.java:313)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\r\n\tat com.abc.globalpayments.feeds.downstream.dailycashreport.AchFileUtilsTest.processZippedFiles(AchFileUtilsTest.java:311)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\nCaused by: java.nio.file.AccessDeniedException: C:\\code\\STS\\daily-cash-report\\target\\test-classes\\zipTmp\\October 3 Files\r\n\tat java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:89)\r\n\r\n``` \r\n\r\n**In Maven:**\r\n\r\n```\r\n[ERROR] Errors:                                                                                                                     \r\n[ERROR]   AchFileUtilsTest.processZippedFiles:311-&gt;lambda$processZippedFiles$0:313 � UncheckedIO Failed to read C:\\code\\STS\\daily-ca\r\nsh-report\\target\\test-classes\\zipTmp\\October 3 Files content with windows-1252 charset                                              \r\n[INFO]                                                                                                                              \r\n```\r\n\r\n\r\nAs seen from the above, the same exception referes to **UTF-8** charset in IDE and to the **windows-1252** one in Maven.\r\n\r\nHere&#39;s the culprit test:\r\n\r\n```\r\n\r\n\t@Test\r\n\t@SneakyThrows\r\n\tpublic void processZippedFiles() {\r\n\r\n\t\tString zipFileLocation = &quot;/october3/October 3 Files.zip&quot;;\r\n\t\tFile zipFileToUnmarshall = new ClassPathResource(zipFileLocation).getFile();\r\n\r\n\t\tFile tmpContainer = new File(new ClassPathResource(&quot;.&quot;).getFile().getPath() + &quot;/zipTmp&quot;);\r\n\r\n\t\tif (FileUtils.unzip(zipFileToUnmarshall, tmpContainer)) {\r\n\r\n\t\t\tFiles.list(tmpContainer.toPath()).forEach(p -&gt; {\r\n\t\t\t\tFile originalFile = p.toFile();\r\n\t\t\t\tassertThat(originalFile).content().contains(ASCII_SUB_CHAR);\r\n\t\t\t\tString normalizedOriginalFileName = com.pru.globalpayments.feeds.downstream.dailycashreport.FileUtils\r\n\t\t\t\t\t\t.normalize(originalFile);\r\n\r\n\t\t\t\tString fixedFileName = normalizedOriginalFileName + FXD;\r\n\r\n\t\t\t\tNormalizedResult normalized = null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// both content- and name-wise\r\n\t\t\t\t\tnormalized = cut.normalize(originalFile, fixedFileName);\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} \r\n\r\n\t\t\t\tFile fullyNormalizedOriginalFileToUnmarshal = normalized.getFile();\r\n\r\n\t\t\t\tint validLines = normalized.getNumberOfValidLines();\r\n\r\n\t\t\t\tassertThat(fullyNormalizedOriginalFileToUnmarshal).content().doesNotContain(ASCII_SUB_CHAR);\r\n\r\n\t\t\t\tString maskedFileName = fullyNormalizedOriginalFileToUnmarshal.getAbsolutePath() + MSK;\r\n\r\n\t\t\t\tFile maskedFile = null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tmaskedFile = cut.maskSensitiveData(fullyNormalizedOriginalFileToUnmarshal, maskedFileName);\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tassertThat(maskedFile).isNotEmpty();\r\n\t\t\t\tlong maskedNumberOfLines = 0L;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tmaskedNumberOfLines = countLines(maskedFile);\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\tassertThat(maskedNumberOfLines).isEqualTo(validLines);\r\n\t\t\t});\r\n\t\t\t// FileSystemUtils.deleteRecursively(tmpContainer);\r\n\t\t}\r\n\r\n\t}\r\n\r\n```\r\n\r\nThis is how the directory is populated with the files processed by the above test:\r\n\r\n```\r\n\t/**\r\n\t * Utility to unzip contents of a supplied zip file into the supplied destination folder\r\n\t * \r\n\t * @param zipToUnzip\r\n\t * @param destinationFolder\r\n\t * @throws Exception \r\n\t */\r\n\tpublic static boolean unzip(File zipToUnzip, File destinationFolder) throws Exception {\r\n\r\n\t\tboolean result;\r\n\t\t\r\n\t\tFileSystemUtils.deleteRecursively(destinationFolder);\r\n\r\n\t\ttry (ZipFile zipFile = new ZipFile(zipToUnzip);) {\r\n\t\t\tEnumeration&lt;? extends ZipEntry&gt; enumEntries = zipFile.entries();\r\n\t\t\twhile (enumEntries.hasMoreElements()) {\r\n\t\t\t\tZipEntry entry = (ZipEntry) enumEntries.nextElement();\r\n\t\t\t\tFile destFile = new File(destinationFolder, entry.getName());\r\n\t\t\t\tif (!destFile.exists()) {\r\n\t\t\t\t\tdestFile.getParentFile().mkdirs();\r\n\t\t\t\t}\r\n\t\t\t\tif (entry.isDirectory()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\ttry (InputStream is = zipFile.getInputStream(entry);\r\n\t\t\t\t\t\tFileOutputStream fos = new FileOutputStream(destFile)) {\r\n\t\t\t\t\twhile (is.available() &gt; 0) {\r\n\t\t\t\t\t\tfos.write(is.read());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tresult = true;\r\n\t\treturn result;\r\n\t}\r\n```\r\n\r\nWhat could be missing here?  \r\nWhy are the charsets used different depending on execution environment?  \r\nThere is also the following caused by stanza in the first stack trace: \r\n```\r\nCaused by: java.nio.file.AccessDeniedException: C:\\code\\STS\\daily-cash-report\\target\\test-classes\\zipTmp\\October 3 Files\r\n```\r\nCould that be a culprit?","title":"java.io.UncheckedIOException / java.nio.file.AccessDeniedException mention different charsets when reading files in a directory","body":"<p>I'm getting different variations of the same <code>java.io.UncheckedIOException</code> when running a test in an IDE or in the terminal:</p>\n<p><strong>In IDE:</strong></p>\n<pre><code>java.io.UncheckedIOException: Failed to read C:\\code\\STS\\daily-cash-report\\target\\test-classes\\zipTmp\\October 3 Files content with UTF-8 charset\n    at org.assertj.core.api.AbstractFileAssert.readFile(AbstractFileAssert.java:1436)\n    at org.assertj.core.api.AbstractFileAssert.internalContent(AbstractFileAssert.java:1428)\n    at org.assertj.core.api.AbstractFileAssert.content(AbstractFileAssert.java:1350)\n    at com.pru.globalpayments.feeds.downstream.dailycashreport.AchFileUtilsTest.lambda$0(AchFileUtilsTest.java:313)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\n    at com.abc.globalpayments.feeds.downstream.dailycashreport.AchFileUtilsTest.processZippedFiles(AchFileUtilsTest.java:311)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: java.nio.file.AccessDeniedException: C:\\code\\STS\\daily-cash-report\\target\\test-classes\\zipTmp\\October 3 Files\n    at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:89)\n\n</code></pre>\n<p><strong>In Maven:</strong></p>\n<pre><code>[ERROR] Errors:                                                                                                                     \n[ERROR]   AchFileUtilsTest.processZippedFiles:311-&gt;lambda$processZippedFiles$0:313 � UncheckedIO Failed to read C:\\code\\STS\\daily-ca\nsh-report\\target\\test-classes\\zipTmp\\October 3 Files content with windows-1252 charset                                              \n[INFO]                                                                                                                              \n</code></pre>\n<p>As seen from the above, the same exception referes to <strong>UTF-8</strong> charset in IDE and to the <strong>windows-1252</strong> one in Maven.</p>\n<p>Here's the culprit test:</p>\n<pre><code>\n    @Test\n    @SneakyThrows\n    public void processZippedFiles() {\n\n        String zipFileLocation = &quot;/october3/October 3 Files.zip&quot;;\n        File zipFileToUnmarshall = new ClassPathResource(zipFileLocation).getFile();\n\n        File tmpContainer = new File(new ClassPathResource(&quot;.&quot;).getFile().getPath() + &quot;/zipTmp&quot;);\n\n        if (FileUtils.unzip(zipFileToUnmarshall, tmpContainer)) {\n\n            Files.list(tmpContainer.toPath()).forEach(p -&gt; {\n                File originalFile = p.toFile();\n                assertThat(originalFile).content().contains(ASCII_SUB_CHAR);\n                String normalizedOriginalFileName = com.pru.globalpayments.feeds.downstream.dailycashreport.FileUtils\n                        .normalize(originalFile);\n\n                String fixedFileName = normalizedOriginalFileName + FXD;\n\n                NormalizedResult normalized = null;\n                try {\n                    // both content- and name-wise\n                    normalized = cut.normalize(originalFile, fixedFileName);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                } \n\n                File fullyNormalizedOriginalFileToUnmarshal = normalized.getFile();\n\n                int validLines = normalized.getNumberOfValidLines();\n\n                assertThat(fullyNormalizedOriginalFileToUnmarshal).content().doesNotContain(ASCII_SUB_CHAR);\n\n                String maskedFileName = fullyNormalizedOriginalFileToUnmarshal.getAbsolutePath() + MSK;\n\n                File maskedFile = null;\n                try {\n                    maskedFile = cut.maskSensitiveData(fullyNormalizedOriginalFileToUnmarshal, maskedFileName);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n                assertThat(maskedFile).isNotEmpty();\n                long maskedNumberOfLines = 0L;\n                try {\n                    maskedNumberOfLines = countLines(maskedFile);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                assertThat(maskedNumberOfLines).isEqualTo(validLines);\n            });\n            // FileSystemUtils.deleteRecursively(tmpContainer);\n        }\n\n    }\n\n</code></pre>\n<p>This is how the directory is populated with the files processed by the above test:</p>\n<pre><code>    /**\n     * Utility to unzip contents of a supplied zip file into the supplied destination folder\n     * \n     * @param zipToUnzip\n     * @param destinationFolder\n     * @throws Exception \n     */\n    public static boolean unzip(File zipToUnzip, File destinationFolder) throws Exception {\n\n        boolean result;\n        \n        FileSystemUtils.deleteRecursively(destinationFolder);\n\n        try (ZipFile zipFile = new ZipFile(zipToUnzip);) {\n            Enumeration&lt;? extends ZipEntry&gt; enumEntries = zipFile.entries();\n            while (enumEntries.hasMoreElements()) {\n                ZipEntry entry = (ZipEntry) enumEntries.nextElement();\n                File destFile = new File(destinationFolder, entry.getName());\n                if (!destFile.exists()) {\n                    destFile.getParentFile().mkdirs();\n                }\n                if (entry.isDirectory()) {\n                    continue;\n                }\n                try (InputStream is = zipFile.getInputStream(entry);\n                        FileOutputStream fos = new FileOutputStream(destFile)) {\n                    while (is.available() &gt; 0) {\n                        fos.write(is.read());\n                    }\n                }\n            }\n        }\n        \n        result = true;\n        return result;\n    }\n</code></pre>\n<p>What could be missing here?<br />\nWhy are the charsets used different depending on execution environment?<br />\nThere is also the following caused by stanza in the first stack trace:</p>\n<pre><code>Caused by: java.nio.file.AccessDeniedException: C:\\code\\STS\\daily-cash-report\\target\\test-classes\\zipTmp\\October 3 Files\n</code></pre>\n<p>Could that be a culprit?</p>\n"},{"tags":["java","spring","spring-el"],"comments":[{"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"score":1,"creation_date":1696911697,"post_id":77262735,"comment_id":136209802,"body_markdown":"There is a way using `T(fully-qualified-class-name)`. I am away from my computer so need to get the full syntax later.","body":"There is a way using <code>T(fully-qualified-class-name)</code>. I am away from my computer so need to get the full syntax later."},{"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"score":1,"creation_date":1696911775,"post_id":77262735,"comment_id":136209806,"body_markdown":"Check this one: https://stackoverflow.com/questions/47781201/can-one-use-an-enum-within-a-value","body":"Check this one: <a href=\"https://stackoverflow.com/questions/47781201/can-one-use-an-enum-within-a-value\" title=\"can one use an enum within a value\">stackoverflow.com/questions/47781201/&hellip;</a>"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1697078433,"post_id":77262735,"comment_id":136235025,"body_markdown":"@ash thanks for your input! I actually managed to get it working inside @Values() but when i wanted to put it inside application.properties i found out that wasnt possible ;_; but its fine! i ll just have to handwrite all of the names as a property inside the application.properties","body":"@ash thanks for your input! I actually managed to get it working inside @Values() but when i wanted to put it inside application.properties i found out that wasnt possible ;_; but its fine! i ll just have to handwrite all of the names as a property inside the application.properties"},{"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"score":0,"creation_date":1697155040,"post_id":77262735,"comment_id":136247720,"body_markdown":"Ahh, not sure if it&#39;s possible there.  May not be worth the effort - the app will still fail-fast if the property is misconfigured, right?","body":"Ahh, not sure if it&#39;s possible there.  May not be worth the effort - the app will still fail-fast if the property is misconfigured, right?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1697159709,"post_id":77262735,"comment_id":136248032,"body_markdown":"yeah. not possible at all, only placeholders allowed in application.properties. Then, i realised I could just copy paste all the enums available inside the java file into the application.properties. @ash","body":"yeah. not possible at all, only placeholders allowed in application.properties. Then, i realised I could just copy paste all the enums available inside the java file into the application.properties. @ash"}],"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696907577,"creation_date":1696907577,"question_id":77262735,"body_markdown":"Assuming I have an autogenerated Enum and it is unchangeable. I would like to be able to use a SPeL expression to access this Enum values(). Is it possible to do this? My reason for doing so is that if it is a feature already provided by spring, i would like to use it rather than writing more code. Also, since the enum is generated by some plugin(?) I assume that I should not modify it in case it causes it to become unreadable or corrupted (also if I clean install it on maven, my changes would probably be erased).\r\n\r\n//sample schema\r\n\r\n    public enum Names {\r\n        Sean, Alice, Tom, Jack, Jill;\r\n    \r\n        public static final org.apache.avro.Schema SCHEMA$ = //some schema...;\r\n        public static org.apache.avro.Schema getClassSchema() { return SCHEMA$; }\r\n        public org.apache.avro.Schema getSchema() { return SCHEMA$; }\r\n    \r\n    }\r\n\r\nI have tried:\r\n\r\n    @Value(&quot;#{Names.values()}&quot;)\r\n    private String[] allNames;\r\n    private String allNamesStr;\r\n\r\nbut intellij warns that Names variable is not resolvable. What I currently use is:\r\n\r\n    allNamesStr = Arrays.stream(Names.values()).map(Enum::toString).collect(Collectors.joining(&quot;,&quot;));","title":"Can I access an Enum values() through SPeL without having to make it a spring bean?","body":"<p>Assuming I have an autogenerated Enum and it is unchangeable. I would like to be able to use a SPeL expression to access this Enum values(). Is it possible to do this? My reason for doing so is that if it is a feature already provided by spring, i would like to use it rather than writing more code. Also, since the enum is generated by some plugin(?) I assume that I should not modify it in case it causes it to become unreadable or corrupted (also if I clean install it on maven, my changes would probably be erased).</p>\n<p>//sample schema</p>\n<pre><code>public enum Names {\n    Sean, Alice, Tom, Jack, Jill;\n\n    public static final org.apache.avro.Schema SCHEMA$ = //some schema...;\n    public static org.apache.avro.Schema getClassSchema() { return SCHEMA$; }\n    public org.apache.avro.Schema getSchema() { return SCHEMA$; }\n\n}\n</code></pre>\n<p>I have tried:</p>\n<pre><code>@Value(&quot;#{Names.values()}&quot;)\nprivate String[] allNames;\nprivate String allNamesStr;\n</code></pre>\n<p>but intellij warns that Names variable is not resolvable. What I currently use is:</p>\n<pre><code>allNamesStr = Arrays.stream(Names.values()).map(Enum::toString).collect(Collectors.joining(&quot;,&quot;));\n</code></pre>\n"},{"tags":["java","dictionary"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":2,"creation_date":1696887937,"post_id":77261919,"comment_id":136208108,"body_markdown":"Well, the whole point of generics is that the compiler can do its type checking and flag bad code at compile time instead of having it crash at runtime. You can allow subtypes as well, but you cannot just put whatever in a typed collection. Check [these chapters from Effective Java](https://www.informit.com/articles/article.aspx?p=2861454&amp;seqNum=4).","body":"Well, the whole point of generics is that the compiler can do its type checking and flag bad code at compile time instead of having it crash at runtime. You can allow subtypes as well, but you cannot just put whatever in a typed collection. Check <a href=\"https://www.informit.com/articles/article.aspx?p=2861454&amp;seqNum=4\" rel=\"nofollow noreferrer\">these chapters from Effective Java</a>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1696891774,"post_id":77261919,"comment_id":136208439,"body_markdown":"Your question smells of being an [XY Problem](http://mywiki.wooledge.org/XyProblem) where you ask how to solve a specific code problem when the best solution is not to mix Integer and Data types, but likely to use a completely different approach. Better that you tell us the overall problem that you&#39;re trying to solve rather than how you&#39;re currently trying to solve it, since your path is the wrong one.","body":"Your question smells of being an <a href=\"http://mywiki.wooledge.org/XyProblem\" rel=\"nofollow noreferrer\">XY Problem</a> where you ask how to solve a specific code problem when the best solution is not to mix Integer and Data types, but likely to use a completely different approach. Better that you tell us the overall problem that you&#39;re trying to solve rather than how you&#39;re currently trying to solve it, since your path is the wrong one."}],"answers":[{"comments":[{"owner":{"account_id":29635485,"reputation":9,"user_id":22712878,"display_name":"user22712878"},"score":0,"creation_date":1696911084,"post_id":77261939,"comment_id":136209756,"body_markdown":"Hello, thank you so much for your help. I saw both yours and AztecCodes&#39;s response a while ago but didnt reply (quite frankly didnt notice a comments section until now) but this was helpful.","body":"Hello, thank you so much for your help. I saw both yours and AztecCodes&#39;s response a while ago but didnt reply (quite frankly didnt notice a comments section until now) but this was helpful."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1696906687,"creation_date":1696888021,"answer_id":77261939,"question_id":77261919,"body_markdown":"# Sub-types, not different types\r\n\r\n&gt;Is it possible to put another datatype in a dictionary if you&#39;ve already defined the datatypes for the dictionary? \r\n\r\nNo. \r\n\r\nYou can put in *sub-types* but not entirely *different* types. The purpose of [Java Generics][1] is to empower the compiler to stop you from using different types.\r\n\r\nIf your define your [`Map`][2] to hold keys of type `String` that lead to a value of type `Integer`, then:\r\n\r\n - Every key you enter into that map must be either a `String` object itself, or a subclass of `String`. &lt;br/&gt;The `String` class is `final`, so there is no such thing as a subclass of `String.\r\n - Every value you enter into that map must be either an `Integer` object itself, or a subclass of `Integer`.&lt;br/&gt;The `Integer` class is `final`, so there is no such thing as a subclass of `Integer`. \r\n\r\nSuppose we defined your map with the more general types [`CharSequence`][3] and [`Number`][4]. Then we can add entries where the key is any implementation of the `CharSequence` interface such as `String` and [`StringBuilder`][5]. And we can add entries where the value is any subclass of `Number` such as `Integer` and [`Double`][6]. \r\n\r\n```java\r\nMap &lt; CharSequence, Number &gt; map =\r\n        Map.of (\r\n                &quot;Alice&quot; , Integer.valueOf ( 42 ) ,                       // String , Integer\r\n                new StringBuilder ( &quot;Bob&quot; ) , Double.valueOf ( &quot;7.8&quot; )   // StringBuilder , Double\r\n        );\r\n```\r\n\r\n# Records\r\n\r\nIf you want to replace your `String` -&gt; `Integer` pairing with the use of [records][7], no need for the `Map`. Just used any `Set` or `List` implementation you want to collect objects of your record type. \r\n\r\n    record CatsPerPerson ( String name , int countOfCats ) {}\r\n    List&lt; CatsPerPerson &gt; list = \r\n        List.of (\r\n            new CatsPerPerson ( &quot;Alice&quot; , 2 ) ,\r\n            new CatsPerPerson ( &quot;Bob&quot; , 0 ) ,\r\n            new CatsPerPerson ( &quot;Paula Poundstone&quot; , 12 ) \r\n        );\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Generics_in_Java\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/CharSequence.html\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Number.html\r\n  [5]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html\r\n  [6]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Double.html\r\n  [7]: https://openjdk.org/jeps/395","title":"Putting different datatypes in dictionaries from what was defined","body":"<h1>Sub-types, not different types</h1>\n<blockquote>\n<p>Is it possible to put another datatype in a dictionary if you've already defined the datatypes for the dictionary?</p>\n</blockquote>\n<p>No.</p>\n<p>You can put in <em>sub-types</em> but not entirely <em>different</em> types. The purpose of <a href=\"https://en.wikipedia.org/wiki/Generics_in_Java\" rel=\"nofollow noreferrer\">Java Generics</a> is to empower the compiler to stop you from using different types.</p>\n<p>If your define your <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a> to hold keys of type <code>String</code> that lead to a value of type <code>Integer</code>, then:</p>\n<ul>\n<li>Every key you enter into that map must be either a <code>String</code> object itself, or a subclass of <code>String</code>. <br/>The <code>String</code> class is <code>final</code>, so there is no such thing as a subclass of `String.</li>\n<li>Every value you enter into that map must be either an <code>Integer</code> object itself, or a subclass of <code>Integer</code>.<br/>The <code>Integer</code> class is <code>final</code>, so there is no such thing as a subclass of <code>Integer</code>.</li>\n</ul>\n<p>Suppose we defined your map with the more general types <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/CharSequence.html\" rel=\"nofollow noreferrer\"><code>CharSequence</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Number.html\" rel=\"nofollow noreferrer\"><code>Number</code></a>. Then we can add entries where the key is any implementation of the <code>CharSequence</code> interface such as <code>String</code> and <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\"><code>StringBuilder</code></a>. And we can add entries where the value is any subclass of <code>Number</code> such as <code>Integer</code> and <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Double.html\" rel=\"nofollow noreferrer\"><code>Double</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map &lt; CharSequence, Number &gt; map =\n        Map.of (\n                &quot;Alice&quot; , Integer.valueOf ( 42 ) ,                       // String , Integer\n                new StringBuilder ( &quot;Bob&quot; ) , Double.valueOf ( &quot;7.8&quot; )   // StringBuilder , Double\n        );\n</code></pre>\n<h1>Records</h1>\n<p>If you want to replace your <code>String</code> -&gt; <code>Integer</code> pairing with the use of <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">records</a>, no need for the <code>Map</code>. Just used any <code>Set</code> or <code>List</code> implementation you want to collect objects of your record type.</p>\n<pre><code>record CatsPerPerson ( String name , int countOfCats ) {}\nList&lt; CatsPerPerson &gt; list = \n    List.of (\n        new CatsPerPerson ( &quot;Alice&quot; , 2 ) ,\n        new CatsPerPerson ( &quot;Bob&quot; , 0 ) ,\n        new CatsPerPerson ( &quot;Paula Poundstone&quot; , 12 ) \n    );\n</code></pre>\n"}],"owner":{"account_id":29635485,"reputation":9,"user_id":22712878,"display_name":"user22712878"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1696906687,"creation_date":1696887754,"question_id":77261919,"body_markdown":"**The Code:**\r\n\r\n```\r\nDictionary&lt;String, Integer&gt; dict = new Hashtable&lt;&gt;();\r\ndict.put(record);\r\n```\r\n\r\nIs it possible to put another datatype in a dictionary if you&#39;ve already defined the datatypes for the dictionary? For example, I want to put record which is has the datatype `Data`. ","title":"Putting different datatypes in dictionaries from what was defined","body":"<p><strong>The Code:</strong></p>\n<pre><code>Dictionary&lt;String, Integer&gt; dict = new Hashtable&lt;&gt;();\ndict.put(record);\n</code></pre>\n<p>Is it possible to put another datatype in a dictionary if you've already defined the datatypes for the dictionary? For example, I want to put record which is has the datatype <code>Data</code>.</p>\n"},{"tags":["java","spring","maven","jasper-reports","pom.xml"],"answers":[{"comments":[{"owner":{"account_id":1392374,"reputation":1845,"user_id":1322874,"accept_rate":72,"display_name":"John"},"score":0,"creation_date":1335891526,"post_id":10400275,"comment_id":13415666,"body_markdown":"I tried your sugestion but doesn&#39;t work. What do you mean with i excluded log4j from commons-logging? Sorry but i&#39;m just starting with maven and spring","body":"I tried your sugestion but doesn&#39;t work. What do you mean with i excluded log4j from commons-logging? Sorry but i&#39;m just starting with maven and spring"},{"owner":{"account_id":42361,"reputation":17687,"user_id":123378,"accept_rate":100,"display_name":"kaliatech"},"score":0,"creation_date":1335893675,"post_id":10400275,"comment_id":13416482,"body_markdown":"My mistake. I originally thought you were somehow trying to exclude log4j from commons-logging, but I see now that you are not. I edited my answer to provide some more ideas on two error messages specifically.","body":"My mistake. I originally thought you were somehow trying to exclude log4j from commons-logging, but I see now that you are not. I edited my answer to provide some more ideas on two error messages specifically."}],"tags":[],"owner":{"account_id":42361,"reputation":17687,"user_id":123378,"accept_rate":100,"display_name":"kaliatech"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1335893596,"creation_date":1335887377,"answer_id":10400275,"question_id":10399880,"body_markdown":"**SECOND ANSWER**\r\n\r\n----------\r\n\r\nThe first error indicates that an incompatible XML parser implementation is getting used.  Most likely Weblogic provides it&#39;s own implementation, and that is conflicting with an XML parser implementation being brought in by one of your dependencies. You need to figure out what is bringing in an XML parser, and then exclude that parser. Many IDEs (like Eclipse when using m2eclipse) can provide a visual graph of your POM to help figure the dependencies out. Alternatively, I think you can use &#39;[mvn dependency:tree][1]&#39;.\r\n\r\nThe second error *seems* to indicate that `org.apache.log4j.LogManager` is not on the classpath. Assuming you are correctly building the war (or exploded war) and all of the maven produced dependency jars are in the /WEB-INF/lib folder, then my best guess would be that there are two log4j implementations in play, and they are conflicting. (Perhaps weblogic includes a log4j implementation and makes it available to webapps by default.)  To test that, you might try setting the log4j dependency scope to &quot;provided&quot;.  If you continue to have problems with log4j, you might consider using slf4j&#39;s own logging implementation ([logback][2]) instead. i.e.\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n\r\n\r\n**FIRST ANSWER** (Perhaps useful, but doesn&#39;t address main issue.)\r\n\r\n----------\r\n\r\nTry excluding commons-logging from jasper.\r\n\r\nAlso, I noticed you are using Jackson directly. Jasper also has a dependency on Jackson. In my case, I need to exclude Jackson from Jasper as well so I could reference a much newer version.\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.0&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;artifactId&gt;jackson-mapper-lgpl&lt;/artifactId&gt;\r\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;artifactId&gt;jackson-core-lgpl&lt;/artifactId&gt;\r\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n          &lt;/exclusion&gt;        \r\n        &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n\r\nI see that you did remove commons-logging from a number of other dependencies correctly. If you check that final transitive dependencies, you should not see a commons-logging.jar.\r\n\r\n(Also, I tried improved formatting of your XML a little. It was very difficult to read previously. Still not that easy to read, but better.)\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html\r\n  [2]: http://logback.qos.ch/","title":"Spring - Maven | Jasper dependency","body":"<p><strong>SECOND ANSWER</strong></p>\n\n<hr>\n\n<p>The first error indicates that an incompatible XML parser implementation is getting used.  Most likely Weblogic provides it's own implementation, and that is conflicting with an XML parser implementation being brought in by one of your dependencies. You need to figure out what is bringing in an XML parser, and then exclude that parser. Many IDEs (like Eclipse when using m2eclipse) can provide a visual graph of your POM to help figure the dependencies out. Alternatively, I think you can use '<a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html\" rel=\"nofollow\">mvn dependency:tree</a>'.</p>\n\n<p>The second error <em>seems</em> to indicate that <code>org.apache.log4j.LogManager</code> is not on the classpath. Assuming you are correctly building the war (or exploded war) and all of the maven produced dependency jars are in the /WEB-INF/lib folder, then my best guess would be that there are two log4j implementations in play, and they are conflicting. (Perhaps weblogic includes a log4j implementation and makes it available to webapps by default.)  To test that, you might try setting the log4j dependency scope to \"provided\".  If you continue to have problems with log4j, you might consider using slf4j's own logging implementation (<a href=\"http://logback.qos.ch/\" rel=\"nofollow\">logback</a>) instead. i.e.</p>\n\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n\n<p><strong>FIRST ANSWER</strong> (Perhaps useful, but doesn't address main issue.)</p>\n\n<hr>\n\n<p>Try excluding commons-logging from jasper.</p>\n\n<p>Also, I noticed you are using Jackson directly. Jasper also has a dependency on Jackson. In my case, I need to exclude Jackson from Jasper as well so I could reference a much newer version.</p>\n\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n    &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n    &lt;version&gt;4.5.0&lt;/version&gt;\n    &lt;exclusions&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n      &lt;exclusion&gt;\n        &lt;artifactId&gt;jackson-mapper-lgpl&lt;/artifactId&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n      &lt;/exclusion&gt;\n      &lt;exclusion&gt;\n        &lt;artifactId&gt;jackson-core-lgpl&lt;/artifactId&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n      &lt;/exclusion&gt;        \n    &lt;/exclusions&gt;\n  &lt;/dependency&gt;\n</code></pre>\n\n<p>I see that you did remove commons-logging from a number of other dependencies correctly. If you check that final transitive dependencies, you should not see a commons-logging.jar.</p>\n\n<p>(Also, I tried improved formatting of your XML a little. It was very difficult to read previously. Still not that easy to read, but better.)</p>\n"}],"owner":{"account_id":1392374,"reputation":1845,"user_id":1322874,"accept_rate":72,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696903645,"creation_date":1335885695,"question_id":10399880,"body_markdown":"I&#39;m trying to add my spring project the jasper dependency but i&#39;m getting this error below&lt;br/&gt;\r\nI already tried with diferent versions of jasper and log4j but i cant get it working:&lt;br/&gt;\r\nI use the latest version of spring and oracle weblogic 11g.&lt;br/&gt;\r\nThis only happens when i add jasper dependency.&lt;br/&gt;\r\nAnyone had the same problem?\r\n \r\n\r\n     &lt;1/Mai/2012 16H10m BST&gt; &lt;Warning&gt; &lt;HTTP&gt; &lt;BEA-101162&gt; &lt;User defined listener org.springframework.web.context.ContextLoaderListener failed: java.lang.ExceptionInInitializerError.\r\n    java.lang.ExceptionInInitializerError\r\n    \tat org.slf4j.impl.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:73)\r\n    \tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:242)\r\n    \tat org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:156)\r\n    \tat org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:132)\r\n    \tat org.apache.commons.logging.LogFactory.getLog(LogFactory.java:272)\r\n    \tTruncated. see log file for complete stacktrace\r\n    Caused By: java.lang.ClassCastException: weblogic.xml.jaxp.RegistryDocumentBuilderFactory cannot be cast to javax.xml.parsers.DocumentBuilderFactory\r\n    \tat javax.xml.parsers.DocumentBuilderFactory.newInstance(Unknown Source)\r\n    \tat org.apache.log4j.xml.DOMConfigurator.doConfigure(DOMConfigurator.java:849)\r\n    \tat org.apache.log4j.xml.DOMConfigurator.doConfigure(DOMConfigurator.java:773)\r\n    \tat org.apache.log4j.helpers.OptionConverter.selectAndConfigure(OptionConverter.java:483)\r\n    \tat org.apache.log4j.LogManager.&lt;clinit&gt;(LogManager.java:127)\r\n    \tTruncated. see log file for complete stacktrace\r\n    &gt; \r\n\r\n\r\n    &lt;1/Mai/2012 16H10m BST&gt; &lt;Warning&gt; &lt;HTTP&gt; &lt;BEA-101162&gt; &lt;User defined listener org.springframework.web.context.ContextLoaderListener failed: java.lang.NoClassDefFoundError: Could not initialize class org.apache.log4j.LogManager.\r\n    java.lang.NoClassDefFoundError: Could not initialize class org.apache.log4j.LogManager\r\n    \tat org.slf4j.impl.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:73)\r\n    \tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:242)\r\n    \tat org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:156)\r\n    \tat org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:132)\r\n    \tat org.apache.commons.logging.LogFactory.getLog(LogFactory.java:272)\r\n    \tTruncated. see log file for complete stacktrace\r\n    &gt; \r\n\r\nthis is my pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.company&lt;/groupId&gt;\r\n      &lt;artifactId&gt;myproject&lt;/artifactId&gt;\r\n      &lt;name&gt;myProject&lt;/name&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;version&gt;1.0.0-BUILD-SNAPSHOT&lt;/version&gt;\r\n      &lt;properties&gt;\r\n        &lt;java-version&gt;1.6&lt;/java-version&gt;\r\n        &lt;org.springframework-version&gt;3.1.0.RELEASE&lt;/org.springframework-version&gt;\r\n        &lt;org.aspectj-version&gt;1.6.9&lt;/org.aspectj-version&gt;\r\n        &lt;org.slf4j-version&gt;1.6.1&lt;/org.slf4j-version&gt;\r\n        &lt;jackson.version&gt;1.9.3&lt;/jackson.version&gt;\r\n        &lt;validation-api-version&gt;1.0.0.GA&lt;/validation-api-version&gt;\r\n        &lt;hibernate-validator-version&gt;4.2.0.Final&lt;/hibernate-validator-version&gt;\r\n        &lt;jasper.version&gt;4.5.0&lt;/jasper.version&gt;\r\n        &lt;commons.digester.version&gt;2.1&lt;/commons.digester.version&gt;\r\n        &lt;commons.collections.version&gt;3.2.1&lt;/commons.collections.version&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencies&gt;\r\n      \r\n        &lt;!-- Spring --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n          &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n              &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n          &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- mysql --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mysqljdbc6&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- Spring Data JPA --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0.3.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n          &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n          &lt;type&gt;jar&lt;/type&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- validation --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n          &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n          &lt;version&gt;${validation-api-version}&lt;/version&gt;\r\n          &lt;type&gt;jar&lt;/type&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n          &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n          &lt;version&gt;${hibernate-validator-version}&lt;/version&gt;\r\n          &lt;type&gt;jar&lt;/type&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- Data Mapper package is a high-performance data binding package built on Jackson JSON processor --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n          &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n          &lt;type&gt;jar&lt;/type&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Jackson is a high-performance JSON processor (parser, generator) --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n          &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n          &lt;type&gt;jar&lt;/type&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- AspectJ --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n          &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n          &lt;version&gt;${org.aspectj-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Logging --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n          &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n          &lt;version&gt;4.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n          &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n          &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n          &lt;version&gt;1.2.16&lt;/version&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n              &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n              &lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n              &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n              &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- @Inject --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n          &lt;version&gt;1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Servlet --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.1&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n          &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Test --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.7&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Tiles --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n          &lt;artifactId&gt;tiles-extras&lt;/artifactId&gt;\r\n          &lt;version&gt;2.2.2&lt;/version&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;artifactId&gt;tiles-freemarker&lt;/artifactId&gt;\r\n              &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;artifactId&gt;tiles-velocity&lt;/artifactId&gt;\r\n              &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;artifactId&gt;tiles-ognl&lt;/artifactId&gt;\r\n              &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;artifactId&gt;tiles-mvel&lt;/artifactId&gt;\r\n              &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;additionalProjectnatures&gt;\r\n                &lt;projectnature&gt;org.springframework.ide.eclipse.core.springnature&lt;/projectnature&gt;\r\n              &lt;/additionalProjectnatures&gt;\r\n              &lt;additionalBuildcommands&gt;\r\n                &lt;buildcommand&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/buildcommand&gt;\r\n              &lt;/additionalBuildcommands&gt;\r\n              &lt;downloadSources&gt;true&lt;/downloadSources&gt;\r\n              &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.2&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;1.6&lt;/source&gt;\r\n              &lt;target&gt;1.6&lt;/target&gt;\r\n              &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\r\n              &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n              &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;mainClass&gt;org.test.int1.Main&lt;/mainClass&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n---\r\n\r\nI checked the dependency hierarchy at pom.xml and i found something strange, I&#39;ll put below\r\nThis might be the problem? But it&#39;s weird because it only happens every time I add the dependencies of jasper. I have developed other things and never had conflicts .\r\n\r\n\r\n![http://imageshack.us/photo/my-images/151/capturar1b.jpg/][1]\r\n&lt;br/&gt;\r\n![http://imageshack.us/photo/my-images/696/capturar2f.jpg/][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/zVgUj.jpg\r\n  [2]: http://i.stack.imgur.com/AFbJ3.jpg","title":"Spring - Maven | Jasper dependency","body":"<p>I'm trying to add my spring project the jasper dependency but i'm getting this error below<br/>\nI already tried with diferent versions of jasper and log4j but i cant get it working:<br/>\nI use the latest version of spring and oracle weblogic 11g.<br/>\nThis only happens when i add jasper dependency.<br/>\nAnyone had the same problem?</p>\n\n<pre><code> &lt;1/Mai/2012 16H10m BST&gt; &lt;Warning&gt; &lt;HTTP&gt; &lt;BEA-101162&gt; &lt;User defined listener org.springframework.web.context.ContextLoaderListener failed: java.lang.ExceptionInInitializerError.\njava.lang.ExceptionInInitializerError\n    at org.slf4j.impl.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:73)\n    at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:242)\n    at org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:156)\n    at org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:132)\n    at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:272)\n    Truncated. see log file for complete stacktrace\nCaused By: java.lang.ClassCastException: weblogic.xml.jaxp.RegistryDocumentBuilderFactory cannot be cast to javax.xml.parsers.DocumentBuilderFactory\n    at javax.xml.parsers.DocumentBuilderFactory.newInstance(Unknown Source)\n    at org.apache.log4j.xml.DOMConfigurator.doConfigure(DOMConfigurator.java:849)\n    at org.apache.log4j.xml.DOMConfigurator.doConfigure(DOMConfigurator.java:773)\n    at org.apache.log4j.helpers.OptionConverter.selectAndConfigure(OptionConverter.java:483)\n    at org.apache.log4j.LogManager.&lt;clinit&gt;(LogManager.java:127)\n    Truncated. see log file for complete stacktrace\n&gt; \n\n\n&lt;1/Mai/2012 16H10m BST&gt; &lt;Warning&gt; &lt;HTTP&gt; &lt;BEA-101162&gt; &lt;User defined listener org.springframework.web.context.ContextLoaderListener failed: java.lang.NoClassDefFoundError: Could not initialize class org.apache.log4j.LogManager.\njava.lang.NoClassDefFoundError: Could not initialize class org.apache.log4j.LogManager\n    at org.slf4j.impl.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:73)\n    at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:242)\n    at org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:156)\n    at org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:132)\n    at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:272)\n    Truncated. see log file for complete stacktrace\n&gt; \n</code></pre>\n\n<p>this is my pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.company&lt;/groupId&gt;\n  &lt;artifactId&gt;myproject&lt;/artifactId&gt;\n  &lt;name&gt;myProject&lt;/name&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;1.0.0-BUILD-SNAPSHOT&lt;/version&gt;\n  &lt;properties&gt;\n    &lt;java-version&gt;1.6&lt;/java-version&gt;\n    &lt;org.springframework-version&gt;3.1.0.RELEASE&lt;/org.springframework-version&gt;\n    &lt;org.aspectj-version&gt;1.6.9&lt;/org.aspectj-version&gt;\n    &lt;org.slf4j-version&gt;1.6.1&lt;/org.slf4j-version&gt;\n    &lt;jackson.version&gt;1.9.3&lt;/jackson.version&gt;\n    &lt;validation-api-version&gt;1.0.0.GA&lt;/validation-api-version&gt;\n    &lt;hibernate-validator-version&gt;4.2.0.Final&lt;/hibernate-validator-version&gt;\n    &lt;jasper.version&gt;4.5.0&lt;/jasper.version&gt;\n    &lt;commons.digester.version&gt;2.1&lt;/commons.digester.version&gt;\n    &lt;commons.collections.version&gt;3.2.1&lt;/commons.collections.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n\n    &lt;!-- Spring --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n      &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n          &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n      &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- mysql --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysqljdbc6&lt;/artifactId&gt;\n      &lt;version&gt;3.1.10&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring Data JPA --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n      &lt;version&gt;1.0.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n      &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n      &lt;type&gt;jar&lt;/type&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- validation --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n      &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n      &lt;version&gt;${validation-api-version}&lt;/version&gt;\n      &lt;type&gt;jar&lt;/type&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n      &lt;version&gt;${hibernate-validator-version}&lt;/version&gt;\n      &lt;type&gt;jar&lt;/type&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Data Mapper package is a high-performance data binding package built on Jackson JSON processor --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n      &lt;version&gt;${jackson.version}&lt;/version&gt;\n      &lt;type&gt;jar&lt;/type&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Jackson is a high-performance JSON processor (parser, generator) --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n      &lt;version&gt;${jackson.version}&lt;/version&gt;\n      &lt;type&gt;jar&lt;/type&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- AspectJ --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n      &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n      &lt;version&gt;${org.aspectj-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Logging --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n      &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n      &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n      &lt;version&gt;4.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n      &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n      &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n      &lt;version&gt;1.2.16&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n          &lt;artifactId&gt;mail&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n          &lt;artifactId&gt;jms&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n          &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n          &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- @Inject --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n      &lt;version&gt;1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Servlet --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;2.5&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n      &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n      &lt;version&gt;2.1&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n      &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Test --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.7&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Tiles --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n      &lt;artifactId&gt;tiles-extras&lt;/artifactId&gt;\n      &lt;version&gt;2.2.2&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;artifactId&gt;tiles-freemarker&lt;/artifactId&gt;\n          &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;artifactId&gt;tiles-velocity&lt;/artifactId&gt;\n          &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;artifactId&gt;tiles-ognl&lt;/artifactId&gt;\n          &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;artifactId&gt;tiles-mvel&lt;/artifactId&gt;\n          &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.9&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;additionalProjectnatures&gt;\n            &lt;projectnature&gt;org.springframework.ide.eclipse.core.springnature&lt;/projectnature&gt;\n          &lt;/additionalProjectnatures&gt;\n          &lt;additionalBuildcommands&gt;\n            &lt;buildcommand&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/buildcommand&gt;\n          &lt;/additionalBuildcommands&gt;\n          &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n          &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.6&lt;/source&gt;\n          &lt;target&gt;1.6&lt;/target&gt;\n          &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\n          &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n          &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.2.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;mainClass&gt;org.test.int1.Main&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<hr>\n\n<p>I checked the dependency hierarchy at pom.xml and i found something strange, I'll put below\nThis might be the problem? But it's weird because it only happens every time I add the dependencies of jasper. I have developed other things and never had conflicts .</p>\n\n<p><img src=\"https://i.stack.imgur.com/zVgUj.jpg\" alt=\"http://imageshack.us/photo/my-images/151/capturar1b.jpg/\">\n<br/>\n<img src=\"https://i.stack.imgur.com/AFbJ3.jpg\" alt=\"http://imageshack.us/photo/my-images/696/capturar2f.jpg/\"></p>\n"},{"tags":["java","docker","testing","integration-testing","testcontainers"],"answers":[{"comments":[{"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"score":0,"creation_date":1649841520,"post_id":71854622,"comment_id":126975668,"body_markdown":"Does that mean that port `20306` must be always free? If so, it might be a problem. For example, there can be two simultaneous builds in CI environment. Is it possible to expose random port?","body":"Does that mean that port <code>20306</code> must be always free? If so, it might be a problem. For example, there can be two simultaneous builds in CI environment. Is it possible to expose random port?"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1649841974,"post_id":71854622,"comment_id":126975833,"body_markdown":"Yes. port 20306 must be available. You can use another port (random or not) if you inject it to both apps. If you CI is using docker images (ex: gitlab) to perform the build that is not a problem.","body":"Yes. port 20306 must be available. You can use another port (random or not) if you inject it to both apps. If you CI is using docker images (ex: gitlab) to perform the build that is not a problem."}],"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649840026,"creation_date":1649840026,"answer_id":71854622,"question_id":71854493,"body_markdown":"You need to specify port bindings to expose a port to the &quot;outside world&quot;.\r\n\r\nExample similar to what you want:\r\n\r\n      Network network = Network.newNetwork();\r\n      GenericContainer mariaDbServer = getMariaDbContainer(network);\r\n      GenericContainer flywayRunner = getFlywayContainer(network);\r\n      ...\r\n      @SuppressWarnings(&quot;rawtypes&quot;)\r\n      private GenericContainer getMariaDbContainer(Network network) {\r\n    \r\n        return new GenericContainer&lt;&gt;(&quot;mariadb:10.4.21-focal&quot;)\r\n            .withEnv(Map.of(&quot;MYSQL_ROOT_PASSWORD&quot;, &quot;password&quot;, &quot;MYSQL_DATABASE&quot;, &quot;somedatabase&quot;))\r\n            .withCommand(\r\n                &quot;mysqld&quot;, &quot;--default-authentication-plugin=mysql_native_password&quot;, &quot;--character-set-server=utf8mb4&quot;,\r\n                &quot;--collation-server=utf8mb4_unicode_ci&quot;).withNetwork(network).withNetworkAliases(&quot;somedatabasedb&quot;)\r\n            .withNetworkMode(network.getId())\r\n            .withExposedPorts(3306).withCreateContainerCmdModifier(\r\n                cmd -&gt; cmd.withNetworkMode(network.getId()).withHostConfig(\r\n                        new HostConfig()\r\n                            .withPortBindings(new PortBinding(Ports.Binding.bindPort(20306), new ExposedPort(3306))))\r\n                    .withNetworkMode(network.getId())).withStartupTimeout(Duration.ofMinutes(2L));\r\n      }\r\n    \r\n      @SuppressWarnings(&quot;rawtypes&quot;)\r\n      private GenericContainer getFlywayContainer(Network network) {\r\n    \r\n        return new GenericContainer&lt;&gt;(&quot;flyway/flyway:7.15.0-alpine&quot;)\r\n            .withEnv(Map.of(&quot;MYSQL_ROOT_PASSWORD&quot;, &quot;password&quot;, &quot;MYSQL_DATABASE&quot;, &quot;somedatabase&quot;))\r\n            .withCommand(\r\n                &quot;-url=jdbc:mariadb://somedatabasedb -schemas=somedatabase-user=root -password=password -connectRetries=300 migrate&quot;)\r\n            .withFileSystemBind(Paths.get(&quot;.&quot;, &quot;infrastructure/database/schema&quot;).toAbsolutePath().toString(),\r\n                &quot;/flyway/sql&quot;, BindMode.READ_ONLY).withNetwork(network).waitingFor(\r\n                Wait.forLogMessage(&quot;.*Successfully applied.*&quot;, 1)\r\n            ).withStartupTimeout(Duration.of(60, ChronoUnit.SECONDS));\r\n      }\r\n\r\n\r\nContainer two communicates with container one using &quot;internal&quot; port. \r\n\r\nContainer one exposes 20306 (that redirects to 3306) port to the &quot;outside world&quot;.","title":"Testcontainers: communication between containers + mapped outside port","body":"<p>You need to specify port bindings to expose a port to the &quot;outside world&quot;.</p>\n<p>Example similar to what you want:</p>\n<pre><code>  Network network = Network.newNetwork();\n  GenericContainer mariaDbServer = getMariaDbContainer(network);\n  GenericContainer flywayRunner = getFlywayContainer(network);\n  ...\n  @SuppressWarnings(&quot;rawtypes&quot;)\n  private GenericContainer getMariaDbContainer(Network network) {\n\n    return new GenericContainer&lt;&gt;(&quot;mariadb:10.4.21-focal&quot;)\n        .withEnv(Map.of(&quot;MYSQL_ROOT_PASSWORD&quot;, &quot;password&quot;, &quot;MYSQL_DATABASE&quot;, &quot;somedatabase&quot;))\n        .withCommand(\n            &quot;mysqld&quot;, &quot;--default-authentication-plugin=mysql_native_password&quot;, &quot;--character-set-server=utf8mb4&quot;,\n            &quot;--collation-server=utf8mb4_unicode_ci&quot;).withNetwork(network).withNetworkAliases(&quot;somedatabasedb&quot;)\n        .withNetworkMode(network.getId())\n        .withExposedPorts(3306).withCreateContainerCmdModifier(\n            cmd -&gt; cmd.withNetworkMode(network.getId()).withHostConfig(\n                    new HostConfig()\n                        .withPortBindings(new PortBinding(Ports.Binding.bindPort(20306), new ExposedPort(3306))))\n                .withNetworkMode(network.getId())).withStartupTimeout(Duration.ofMinutes(2L));\n  }\n\n  @SuppressWarnings(&quot;rawtypes&quot;)\n  private GenericContainer getFlywayContainer(Network network) {\n\n    return new GenericContainer&lt;&gt;(&quot;flyway/flyway:7.15.0-alpine&quot;)\n        .withEnv(Map.of(&quot;MYSQL_ROOT_PASSWORD&quot;, &quot;password&quot;, &quot;MYSQL_DATABASE&quot;, &quot;somedatabase&quot;))\n        .withCommand(\n            &quot;-url=jdbc:mariadb://somedatabasedb -schemas=somedatabase-user=root -password=password -connectRetries=300 migrate&quot;)\n        .withFileSystemBind(Paths.get(&quot;.&quot;, &quot;infrastructure/database/schema&quot;).toAbsolutePath().toString(),\n            &quot;/flyway/sql&quot;, BindMode.READ_ONLY).withNetwork(network).waitingFor(\n            Wait.forLogMessage(&quot;.*Successfully applied.*&quot;, 1)\n        ).withStartupTimeout(Duration.of(60, ChronoUnit.SECONDS));\n  }\n</code></pre>\n<p>Container two communicates with container one using &quot;internal&quot; port.</p>\n<p>Container one exposes 20306 (that redirects to 3306) port to the &quot;outside world&quot;.</p>\n"},{"tags":[],"owner":{"account_id":21281949,"reputation":21,"user_id":15660240,"display_name":"Alexander Semenchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696903124,"creation_date":1696903124,"answer_id":77262560,"question_id":71854493,"body_markdown":"The docker custom network has its own DNS and you cannot use DNS of the outer network. The default host network shares DNS of the outer and inner networks, but has some disadvantages. To connect a database container to a service container you can use `--network-alias` that docker converts to ip (https://docs.docker.com/get-started/07_multi_container/ ). For example:\r\n\r\n     postgres = new PostgreSQLContainer&lt;&gt;(&quot;postgres:15&quot;)\r\n                .withDatabaseName(&quot;cars&quot;)\r\n                .withUsername(&quot;cars&quot;)\r\n                .withPassword(&quot;cars&quot;)\r\n                .withNetwork(network)\r\n                .withNetworkAliases(“database”)\r\n                .withLogConsumer(new Slf4jLogConsumer(log));\r\n        postgres.start(); \r\n\r\n    carsModelsService = new GenericContainer&lt;&gt;(&quot;cars/car-models-service-core:latest&quot;)\r\n                .withExposedPorts(8180)\r\n                .withNetwork(network)\r\n                .withEnv(&quot;POSTGRES_HOST&quot;, “database”)\r\n                .dependsOn(postgres)\r\n                .withLogConsumer(new Slf4jLogConsumer(log));\r\n        carsModelsService.start();\r\n\r\nwhere:\r\n\r\napplication.yml\r\n\r\n    spring:\r\n      datasource:\r\n        driver-class-name: org.postgresql.Driver\r\n        url: jdbc:postgresql://${POSTGRES_HOST}:5432/cars\r\n        username: cars\r\n        password: cars\r\n\r\n","title":"Testcontainers: communication between containers + mapped outside port","body":"<p>The docker custom network has its own DNS and you cannot use DNS of the outer network. The default host network shares DNS of the outer and inner networks, but has some disadvantages. To connect a database container to a service container you can use <code>--network-alias</code> that docker converts to ip (<a href=\"https://docs.docker.com/get-started/07_multi_container/\" rel=\"nofollow noreferrer\">https://docs.docker.com/get-started/07_multi_container/</a> ). For example:</p>\n<pre><code> postgres = new PostgreSQLContainer&lt;&gt;(&quot;postgres:15&quot;)\n            .withDatabaseName(&quot;cars&quot;)\n            .withUsername(&quot;cars&quot;)\n            .withPassword(&quot;cars&quot;)\n            .withNetwork(network)\n            .withNetworkAliases(“database”)\n            .withLogConsumer(new Slf4jLogConsumer(log));\n    postgres.start(); \n\ncarsModelsService = new GenericContainer&lt;&gt;(&quot;cars/car-models-service-core:latest&quot;)\n            .withExposedPorts(8180)\n            .withNetwork(network)\n            .withEnv(&quot;POSTGRES_HOST&quot;, “database”)\n            .dependsOn(postgres)\n            .withLogConsumer(new Slf4jLogConsumer(log));\n    carsModelsService.start();\n</code></pre>\n<p>where:</p>\n<p>application.yml</p>\n<pre><code>spring:\n  datasource:\n    driver-class-name: org.postgresql.Driver\n    url: jdbc:postgresql://${POSTGRES_HOST}:5432/cars\n    username: cars\n    password: cars\n</code></pre>\n"}],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3244,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71854622,"answer_count":2,"score":1,"last_activity_date":1696903124,"creation_date":1649839429,"question_id":71854493,"body_markdown":"I have such test setup:\r\n\r\n1. `MyService` connects to `PostgtreSQL`\r\n1. `MyService` endpoint is being called from test suite\r\n\r\nBoth `MyService` and `PostgreSQL` are being run with Testcontainers.\r\n\r\nHere is the network schema I want to achieve.\r\n\r\n[![Network Schema][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/sIlWc.png\r\n\r\nAt first I tried to arrange communication by exposing ports.\r\n\r\n```java\r\nstatic final PostgreSQLContainer&lt;?&gt; postgres =\r\n            new PostgreSQLContainer&lt;&gt;(DockerImageName.parse(POSTGRES_VERSION));\r\n\r\nstatic final GenericContainer&lt;?&gt; myService = new GenericContainer&lt;&gt;(DockerImageName.parse(MY_SERVICE_IMAGE))\r\n                .withEnv(\r\n                    Map.of(\r\n                        &quot;SPRING_DATASOURCE_URL&quot;, postgres.getJdbcUrl(),\r\n                        &quot;SPRING_DATASOURCE_USERNAME&quot;, postgres.getUsername(),\r\n                        &quot;SPRING_DATASOURCE_PASSWORD&quot;, postgres.getPassword()\r\n                    )\r\n                )\r\n                .withExposedPorts(8080)\r\n                .withLogConsumer(new Slf4jLogConsumer(LoggerFactory.getLogger(&quot;MyService&quot;)))\r\n```\r\n\r\nAccording to logs `MyService` couldn&#39;t establish connection to `PostgreSQL`.\r\n\r\n```\r\nCaused by: java.net.ConnectException: Connection refused\r\n```\r\n\r\nThen I configured both services to share the same network.\r\n\r\n```java\r\nstatic final Network SHARED_NETWORK = Network.newNetwork();\r\n\r\nstatic final PostgreSQLContainer&lt;?&gt; postgres =\r\n            new PostgreSQLContainer&lt;&gt;(DockerImageName.parse(POSTGRES_VERSION))\r\n                 .withNetwork(SHARED_NETWORK)\r\n                 .withNetworkAliases(&quot;postgres&quot;);\r\n\r\nstatic final GenericContainer&lt;?&gt; myService = new GenericContainer&lt;&gt;(DockerImageName.parse(MY_SERVICE_IMAGE))\r\n                .withEnv(\r\n                    Map.of(\r\n                        &quot;SPRING_DATASOURCE_URL&quot;, &quot;jdbc:postgresql://postgres:5432/&quot; + postgres.getDatabaseName(),\r\n                        &quot;SPRING_DATASOURCE_USERNAME&quot;, postgres.getUsername(),\r\n                        &quot;SPRING_DATASOURCE_PASSWORD&quot;, postgres.getPassword()\r\n                    )\r\n                )\r\n                .withExposedPorts(8080)\r\n                .withNetwork(SHARED_NETWORK)\r\n                .withNetworkAliases(&quot;MyService&quot;)\r\n                .withLogConsumer(new Slf4jLogConsumer(LoggerFactory.getLogger(&quot;MyService&quot;)))\r\n```\r\n\r\nNow `MyService` has established connection with `PostgreSQL` successfully. But when I perform HTTP request to `MyService` from the test suite, I get the same error.\r\n\r\n```java\r\nrestTemplate.getForObject(&quot;http://&quot; + myService.getHost() + &quot;:&quot; + myService.getMappedPort(8080) +&quot;/api/endpoint&quot;, Void.class)\r\n```\r\n\r\n```\r\nCaused by: java.net.ConnectException: Connection refused\r\n```\r\n\r\nMy question is how can I setup the containers network to make this architecture work?","title":"Testcontainers: communication between containers + mapped outside port","body":"<p>I have such test setup:</p>\n<ol>\n<li><code>MyService</code> connects to <code>PostgtreSQL</code></li>\n<li><code>MyService</code> endpoint is being called from test suite</li>\n</ol>\n<p>Both <code>MyService</code> and <code>PostgreSQL</code> are being run with Testcontainers.</p>\n<p>Here is the network schema I want to achieve.</p>\n<p><a href=\"https://i.stack.imgur.com/sIlWc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sIlWc.png\" alt=\"Network Schema\" /></a></p>\n<p>At first I tried to arrange communication by exposing ports.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final PostgreSQLContainer&lt;?&gt; postgres =\n            new PostgreSQLContainer&lt;&gt;(DockerImageName.parse(POSTGRES_VERSION));\n\nstatic final GenericContainer&lt;?&gt; myService = new GenericContainer&lt;&gt;(DockerImageName.parse(MY_SERVICE_IMAGE))\n                .withEnv(\n                    Map.of(\n                        &quot;SPRING_DATASOURCE_URL&quot;, postgres.getJdbcUrl(),\n                        &quot;SPRING_DATASOURCE_USERNAME&quot;, postgres.getUsername(),\n                        &quot;SPRING_DATASOURCE_PASSWORD&quot;, postgres.getPassword()\n                    )\n                )\n                .withExposedPorts(8080)\n                .withLogConsumer(new Slf4jLogConsumer(LoggerFactory.getLogger(&quot;MyService&quot;)))\n</code></pre>\n<p>According to logs <code>MyService</code> couldn't establish connection to <code>PostgreSQL</code>.</p>\n<pre><code>Caused by: java.net.ConnectException: Connection refused\n</code></pre>\n<p>Then I configured both services to share the same network.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final Network SHARED_NETWORK = Network.newNetwork();\n\nstatic final PostgreSQLContainer&lt;?&gt; postgres =\n            new PostgreSQLContainer&lt;&gt;(DockerImageName.parse(POSTGRES_VERSION))\n                 .withNetwork(SHARED_NETWORK)\n                 .withNetworkAliases(&quot;postgres&quot;);\n\nstatic final GenericContainer&lt;?&gt; myService = new GenericContainer&lt;&gt;(DockerImageName.parse(MY_SERVICE_IMAGE))\n                .withEnv(\n                    Map.of(\n                        &quot;SPRING_DATASOURCE_URL&quot;, &quot;jdbc:postgresql://postgres:5432/&quot; + postgres.getDatabaseName(),\n                        &quot;SPRING_DATASOURCE_USERNAME&quot;, postgres.getUsername(),\n                        &quot;SPRING_DATASOURCE_PASSWORD&quot;, postgres.getPassword()\n                    )\n                )\n                .withExposedPorts(8080)\n                .withNetwork(SHARED_NETWORK)\n                .withNetworkAliases(&quot;MyService&quot;)\n                .withLogConsumer(new Slf4jLogConsumer(LoggerFactory.getLogger(&quot;MyService&quot;)))\n</code></pre>\n<p>Now <code>MyService</code> has established connection with <code>PostgreSQL</code> successfully. But when I perform HTTP request to <code>MyService</code> from the test suite, I get the same error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>restTemplate.getForObject(&quot;http://&quot; + myService.getHost() + &quot;:&quot; + myService.getMappedPort(8080) +&quot;/api/endpoint&quot;, Void.class)\n</code></pre>\n<pre><code>Caused by: java.net.ConnectException: Connection refused\n</code></pre>\n<p>My question is how can I setup the containers network to make this architecture work?</p>\n"},{"tags":["java","json","post","servlets","get"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1696933404,"post_id":77262559,"comment_id":136212997,"body_markdown":"The URL must match the value of @WebServlet. See abovelinked duplicate.","body":"The URL must match the value of @WebServlet. See abovelinked duplicate."},{"owner":{"account_id":29546205,"reputation":64,"user_id":22643868,"display_name":"hemantsingh21"},"score":0,"creation_date":1696938347,"post_id":77262559,"comment_id":136213942,"body_markdown":"But I am trying to work upon the url Api endpoints","body":"But I am trying to work upon the url Api endpoints"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1696939338,"post_id":77262559,"comment_id":136214137,"body_markdown":"Wait, you wanted to let the servlet invoke itself in an infinite loop? Why? Did you at all understand the comment *&quot;// Replace with the correct POST endpoint URL&quot;*","body":"Wait, you wanted to let the servlet invoke itself in an infinite loop? Why? Did you at all understand the comment <i>&quot;// Replace with the correct POST endpoint URL&quot;</i>"}],"owner":{"account_id":29546205,"reputation":64,"user_id":22643868,"display_name":"hemantsingh21"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696933345,"answer_count":0,"score":0,"last_activity_date":1696903109,"creation_date":1696903109,"question_id":77262559,"body_markdown":"Screenshot -&gt;  [![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n    package com.example;\r\n    import javax.servlet.*;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.*;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.Scanner;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.entity.StringEntity;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    \r\n    @WebServlet(&quot;/Get&quot;)\r\n    public class Get extends HttpServlet {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        public Get() {\r\n            super();\r\n        }\r\n    \r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response) \r\n        throws ServletException, IOException {\r\n            String apiUrl = &quot;http://localhost:8080/Backendtest/Get&quot;;\r\n    \r\n            HttpClient client = HttpClients.createDefault();\r\n            HttpGet httpGet = new HttpGet(apiUrl);\r\n    \r\n            // Set headers\r\n            httpGet.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \r\n            try {\r\n                HttpResponse httpResponse = client.execute(httpGet);\r\n                int statusCode = httpResponse.getStatusLine().getStatusCode();\r\n    \r\n                if (statusCode == 200) {\r\n                    HttpEntity httpEntity = httpResponse.getEntity();\r\n    \r\n                    if (httpEntity != null) {\r\n                        InputStream inputStream = httpEntity.getContent();\r\n    \r\n                        try (Scanner scanner = new Scanner(inputStream, &quot;UTF-8&quot;)) {\r\n                            String jsonString = scanner.useDelimiter(&quot;\\\\A&quot;).next();\r\n    \r\n                            // Parse JSON using Jackson ObjectMapper\r\n                            ObjectMapper objectMapper = new ObjectMapper();\r\n                            JsonNode jsonNode = objectMapper.readTree(jsonString);\r\n    \r\n                            System.out.println(&quot;Received JSON response:&quot;);\r\n                            System.out.println(jsonNode.toPrettyString());\r\n    \r\n                            // Set response content type and write the JSON response\r\n                            response.setContentType(&quot;application/json&quot;);\r\n                            response.getWriter().write(jsonNode.toPrettyString());\r\n                        }\r\n                    }\r\n                } else {\r\n                    // Handle non-200 status code (e.g., 404)\r\n                    response.setStatus(statusCode);\r\n                    response.getWriter().write(&quot;Error: Received non-200 status code: &quot; + \r\n                statusCode);\r\n                }\r\n            } catch (IOException e) {\r\n                // Handle exceptions (e.g., network errors)\r\n                e.printStackTrace();\r\n                response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\r\n                response.getWriter().write(&quot;Error: &quot; + e.getMessage());\r\n            }\r\n        }\r\n    \r\n    \r\n        protected void doPost(HttpServletRequest request, HttpServletResponse response) \r\n            throws ServletException, IOException {\r\n            String apiUrl = &quot;http://localhost:8080/Backendtest/Post&quot;; // Replace with the \r\n            correct POST endpoint URL\r\n    \r\n            HttpClient client = HttpClients.createDefault();\r\n            HttpPost httpPost = new HttpPost(apiUrl);\r\n    \r\n            // Set headers\r\n            httpPost.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \r\n            // Create a JSON payload to send in the request body\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            JsonNode requestData = objectMapper.createObjectNode()\r\n                    .put(&quot;key1&quot;, &quot;value1&quot;)\r\n                    .put(&quot;key2&quot;, &quot;value2&quot;);\r\n    \r\n            // Convert the JSON payload to a string and set it as the request body\r\n            StringEntity requestEntity = new StringEntity(requestData.toString());\r\n            httpPost.setEntity(requestEntity);\r\n    \r\n            try {\r\n                HttpResponse httpResponse = client.execute(httpPost);\r\n                int statusCode = httpResponse.getStatusLine().getStatusCode();\r\n    \r\n                if (statusCode == 200) {\r\n                    // Handle the successful response as you did before\r\n                    // ...\r\n                } else if (statusCode == 404) {\r\n                    // Handle the 404 error\r\n                    response.setStatus(HttpServletResponse.SC_NOT_FOUND);\r\n                    response.getWriter().write(&quot;Error: The requested resource was not found (404)&quot;);\r\n                } else {\r\n                    // Handle other non-200 status codes\r\n                    response.setStatus(statusCode);\r\n                    response.getWriter().write(&quot;Error: Received non-200 status code: &quot; + statusCode);\r\n                }\r\n            } catch (IOException e) {\r\n                // Handle exceptions (e.g., network errors)\r\n                e.printStackTrace();\r\n                response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\r\n                response.getWriter().write(&quot;Error: &quot; + e.getMessage());\r\n            }\r\n        }\r\n    \r\n        \r\n    }\r\n\r\n 1. For the given java servlet , I tried to execute the localhost url on Postman app to generate output on GET Request in java console and Upon Post request there should be json displayed in POSTMAN app.\r\n 2. The Error 404 occurs on POSTMAN app upon Post request.\r\n 3. No output is generated in java console for Get request.\r\n 4. Screenshot uploaded for the given errors\r\n 5. Please help me fix the error in the java code.\r\n\r\n  [1]: https://i.stack.imgur.com/nOQQN.png\r\n  [2]: https://i.stack.imgur.com/HGbMY.png\r\n","title":"404 ERROR POST Request and No Output for GET Request in Java Servlet","body":"<p>Screenshot -&gt;  <a href=\"https://i.stack.imgur.com/nOQQN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nOQQN.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/HGbMY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HGbMY.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>package com.example;\nimport javax.servlet.*;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.*;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Scanner;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.entity.StringEntity;\nimport org.apache.http.impl.client.HttpClients;\n\n@WebServlet(&quot;/Get&quot;)\npublic class Get extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    public Get() {\n        super();\n    }\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) \n    throws ServletException, IOException {\n        String apiUrl = &quot;http://localhost:8080/Backendtest/Get&quot;;\n\n        HttpClient client = HttpClients.createDefault();\n        HttpGet httpGet = new HttpGet(apiUrl);\n\n        // Set headers\n        httpGet.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\n        try {\n            HttpResponse httpResponse = client.execute(httpGet);\n            int statusCode = httpResponse.getStatusLine().getStatusCode();\n\n            if (statusCode == 200) {\n                HttpEntity httpEntity = httpResponse.getEntity();\n\n                if (httpEntity != null) {\n                    InputStream inputStream = httpEntity.getContent();\n\n                    try (Scanner scanner = new Scanner(inputStream, &quot;UTF-8&quot;)) {\n                        String jsonString = scanner.useDelimiter(&quot;\\\\A&quot;).next();\n\n                        // Parse JSON using Jackson ObjectMapper\n                        ObjectMapper objectMapper = new ObjectMapper();\n                        JsonNode jsonNode = objectMapper.readTree(jsonString);\n\n                        System.out.println(&quot;Received JSON response:&quot;);\n                        System.out.println(jsonNode.toPrettyString());\n\n                        // Set response content type and write the JSON response\n                        response.setContentType(&quot;application/json&quot;);\n                        response.getWriter().write(jsonNode.toPrettyString());\n                    }\n                }\n            } else {\n                // Handle non-200 status code (e.g., 404)\n                response.setStatus(statusCode);\n                response.getWriter().write(&quot;Error: Received non-200 status code: &quot; + \n            statusCode);\n            }\n        } catch (IOException e) {\n            // Handle exceptions (e.g., network errors)\n            e.printStackTrace();\n            response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n            response.getWriter().write(&quot;Error: &quot; + e.getMessage());\n        }\n    }\n\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) \n        throws ServletException, IOException {\n        String apiUrl = &quot;http://localhost:8080/Backendtest/Post&quot;; // Replace with the \n        correct POST endpoint URL\n\n        HttpClient client = HttpClients.createDefault();\n        HttpPost httpPost = new HttpPost(apiUrl);\n\n        // Set headers\n        httpPost.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\n        // Create a JSON payload to send in the request body\n        ObjectMapper objectMapper = new ObjectMapper();\n        JsonNode requestData = objectMapper.createObjectNode()\n                .put(&quot;key1&quot;, &quot;value1&quot;)\n                .put(&quot;key2&quot;, &quot;value2&quot;);\n\n        // Convert the JSON payload to a string and set it as the request body\n        StringEntity requestEntity = new StringEntity(requestData.toString());\n        httpPost.setEntity(requestEntity);\n\n        try {\n            HttpResponse httpResponse = client.execute(httpPost);\n            int statusCode = httpResponse.getStatusLine().getStatusCode();\n\n            if (statusCode == 200) {\n                // Handle the successful response as you did before\n                // ...\n            } else if (statusCode == 404) {\n                // Handle the 404 error\n                response.setStatus(HttpServletResponse.SC_NOT_FOUND);\n                response.getWriter().write(&quot;Error: The requested resource was not found (404)&quot;);\n            } else {\n                // Handle other non-200 status codes\n                response.setStatus(statusCode);\n                response.getWriter().write(&quot;Error: Received non-200 status code: &quot; + statusCode);\n            }\n        } catch (IOException e) {\n            // Handle exceptions (e.g., network errors)\n            e.printStackTrace();\n            response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n            response.getWriter().write(&quot;Error: &quot; + e.getMessage());\n        }\n    }\n\n    \n}\n</code></pre>\n<ol>\n<li>For the given java servlet , I tried to execute the localhost url on Postman app to generate output on GET Request in java console and Upon Post request there should be json displayed in POSTMAN app.</li>\n<li>The Error 404 occurs on POSTMAN app upon Post request.</li>\n<li>No output is generated in java console for Get request.</li>\n<li>Screenshot uploaded for the given errors</li>\n<li>Please help me fix the error in the java code.</li>\n</ol>\n"},{"tags":["java","intellij-idea","code-completion"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1506909238,"post_id":46516929,"comment_id":79991314,"body_markdown":"Could you share your Template settings screenshot please.","body":"Could you share your Template settings screenshot please."},{"owner":{"display_name":"user4115586"},"score":0,"creation_date":1506917411,"post_id":46516929,"comment_id":79992698,"body_markdown":"edited to include screenshots","body":"edited to include screenshots"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1506917567,"post_id":46516929,"comment_id":79992714,"body_markdown":"Is it the auto-popup time in your case? I can see the pop-up for the same settings for me. Just a reduced time for auto popup for me. And just to confirm I use MacOSX10.5+ keymap.","body":"Is it the auto-popup time in your case? I can see the pop-up for the same settings for me. Just a reduced time for auto popup for me. And just to confirm I use MacOSX10.5+ keymap."}],"answers":[{"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1506918481,"post_id":46517098,"comment_id":79992888,"body_markdown":"@usuallystuck have updated the answer with postfix completions used.","body":"@usuallystuck have updated the answer with postfix completions used."},{"owner":{"display_name":"user4115586"},"score":0,"creation_date":1506919577,"post_id":46517098,"comment_id":79993092,"body_markdown":"my postfix completions and keymap are the same :/","body":"my postfix completions and keymap are the same :/"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1506919776,"post_id":46517098,"comment_id":79993136,"body_markdown":"@usuallystuck In that case you can probably raise it to IDEA bug tracker.","body":"@usuallystuck In that case you can probably raise it to IDEA bug tracker."},{"owner":{"display_name":"user4115586"},"score":2,"creation_date":1506920218,"post_id":46517098,"comment_id":79993240,"body_markdown":"i had a feeling it&#39;d come to this, haha. no worries. thanks for trying to help me, though!","body":"i had a feeling it&#39;d come to this, haha. no worries. thanks for trying to help me, though!"}],"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1506917846,"creation_date":1506893393,"answer_id":46517098,"question_id":46516929,"body_markdown":"Make sure your **Code Completion** preferences are checked.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nwith **Postfix code completion** somewhat like:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n***Note***: I am using `Mac OSX 10.5+ keymap` as the default keymap for my IDE.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RI0j2.png\r\n  [2]: https://i.stack.imgur.com/1Tvgf.png","title":"Live Templates in IntelliJ Not Working?","body":"<p>Make sure your <strong>Code Completion</strong> preferences are checked.</p>\n\n<p><a href=\"https://i.stack.imgur.com/RI0j2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RI0j2.png\" alt=\"enter image description here\"></a></p>\n\n<p>with <strong>Postfix code completion</strong> somewhat like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1Tvgf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Tvgf.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong><em>Note</em></strong>: I am using <code>Mac OSX 10.5+ keymap</code> as the default keymap for my IDE.</p>\n"},{"tags":[],"owner":{"account_id":8466204,"reputation":1764,"user_id":6350299,"accept_rate":100,"display_name":"Munkhdelger Tumenbayar"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1581647946,"creation_date":1581647946,"answer_id":60219242,"question_id":46516929,"body_markdown":"If someone still have problem try to define it everywhere\r\nlook on below image:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9L2jO.png","title":"Live Templates in IntelliJ Not Working?","body":"<p>If someone still have problem try to define it everywhere\nlook on below image:\n<a href=\"https://i.stack.imgur.com/9L2jO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9L2jO.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":15673128,"reputation":61,"user_id":11309029,"display_name":"Ganesan R"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616822231,"creation_date":1616822231,"answer_id":66828235,"question_id":46516929,"body_markdown":"Template **sout** is context sensitive. Will not work inside a class you just created. \r\n\r\nDefine a main method (you can use main shortcut for it). Try **sout** inside the main method. \r\n```\r\npublic static void main(String[] args) {\r\n    sout&lt;Tab&gt;\r\n}\r\n```\r\nor inside a static block \r\n```\r\nclass SoutCheck {\r\n    { \r\n       sout&lt;Tab&gt;\r\n    }\r\n}\r\n```","title":"Live Templates in IntelliJ Not Working?","body":"<p>Template <strong>sout</strong> is context sensitive. Will not work inside a class you just created.</p>\n<p>Define a main method (you can use main shortcut for it). Try <strong>sout</strong> inside the main method.</p>\n<pre><code>public static void main(String[] args) {\n    sout&lt;Tab&gt;\n}\n</code></pre>\n<p>or inside a static block</p>\n<pre><code>class SoutCheck {\n    { \n       sout&lt;Tab&gt;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1697049871,"post_id":77262531,"comment_id":136231945,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77262531/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23836513,"reputation":1,"user_id":17842186,"display_name":"idiotic donkey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696902624,"creation_date":1696902624,"answer_id":77262531,"question_id":46516929,"body_markdown":"[enter image description here][1]\r\n\r\nTurn of the battery save option in file section\r\n\r\n  [1]: https://i.stack.imgur.com/qlUxb.png","title":"Live Templates in IntelliJ Not Working?","body":"<p><a href=\"https://i.stack.imgur.com/qlUxb.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Turn of the battery save option in file section</p>\n"}],"owner":{"display_name":"user4115586"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3294,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1696902624,"creation_date":1506892169,"question_id":46516929,"body_markdown":"When I create a new Java project and a class for it and try to use shortcuts like `sout +tab`, it just highlights `sout` in red and does not do the println shortcut. \r\n\r\nI checked my **Live Templates** settings in **Editor/Settings** but everything looks fine. I&#39;ve restarted IDEA and created another new Java project and nothing changed. What do I need to do to enable Live Templates?\r\n\r\nEdit:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hgJwE.png\r\n  [2]: https://i.stack.imgur.com/Ld6Dw.png","title":"Live Templates in IntelliJ Not Working?","body":"<p>When I create a new Java project and a class for it and try to use shortcuts like <code>sout +tab</code>, it just highlights <code>sout</code> in red and does not do the println shortcut. </p>\n\n<p>I checked my <strong>Live Templates</strong> settings in <strong>Editor/Settings</strong> but everything looks fine. I've restarted IDEA and created another new Java project and nothing changed. What do I need to do to enable Live Templates?</p>\n\n<p>Edit:\n<a href=\"https://i.stack.imgur.com/hgJwE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hgJwE.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Ld6Dw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ld6Dw.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":14574512,"reputation":15,"user_id":10526770,"display_name":"Kaue"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696898950,"creation_date":1696896498,"answer_id":77262328,"question_id":77262282,"body_markdown":"By reading the spring data documentation I found [this][1]\r\n\r\n&gt; Use factory methods instead of overloaded constructors to avoid @PersistenceCreator — With an all-argument constructor needed for optimal performance, we usually want to expose more application use case specific constructors that omit things like auto-generated identifiers etc. It’s an established pattern to rather use static factory methods to expose these variants of the all-args constructor.\r\n\r\nThe alternative is:\r\n\r\n 1. Keep a public all args constructor\r\n 2. Create a factory Method and use it for other domain purposes\r\n\r\n```java\r\npackage com.kaue.ticketservice.domain.model.factories;\r\n\r\nimport com.kaue.ticketservice.domain.model.Ticket;\r\n\r\nimport java.time.Instant;\r\n\r\npublic class TicketFactory {\r\n  public static Ticket createTicket(String requesterEmail, String title, String description){\r\n    return new Ticket(requesterEmail,null,title,description,Instant.now(),null,null);\r\n  }\r\n}\r\n\r\n```\r\n(it can also be done as a method in ticket class)\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/reference/html/#mapping.general-recommendations","title":"Building a domain model independent from JPA @PersistenceCreator or @NoArgsConstructor","body":"<p>By reading the spring data documentation I found <a href=\"https://docs.spring.io/spring-data/commons/docs/current/reference/html/#mapping.general-recommendations\" rel=\"nofollow noreferrer\">this</a></p>\n<blockquote>\n<p>Use factory methods instead of overloaded constructors to avoid @PersistenceCreator — With an all-argument constructor needed for optimal performance, we usually want to expose more application use case specific constructors that omit things like auto-generated identifiers etc. It’s an established pattern to rather use static factory methods to expose these variants of the all-args constructor.</p>\n</blockquote>\n<p>The alternative is:</p>\n<ol>\n<li>Keep a public all args constructor</li>\n<li>Create a factory Method and use it for other domain purposes</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.kaue.ticketservice.domain.model.factories;\n\nimport com.kaue.ticketservice.domain.model.Ticket;\n\nimport java.time.Instant;\n\npublic class TicketFactory {\n  public static Ticket createTicket(String requesterEmail, String title, String description){\n    return new Ticket(requesterEmail,null,title,description,Instant.now(),null,null);\n  }\n}\n\n</code></pre>\n<p>(it can also be done as a method in ticket class)</p>\n"}],"owner":{"account_id":14574512,"reputation":15,"user_id":10526770,"display_name":"Kaue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77262328,"answer_count":1,"score":0,"last_activity_date":1696902478,"creation_date":1696895461,"question_id":77262282,"body_markdown":"Ok, I&#39;m doing a sample project on which I&#39;m documenting studies of different kinds.\r\nI&#39;m trying to refactor the project to follow a hexagonal-ish (hopefully hexagonal someday) architecture.\r\n\r\nI currently have this domain class:\r\n\r\n```java\r\npackage com.kaue.ticketservice.domain.model;\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\n\r\nimport lombok.*;\r\nimport org.springframework.data.annotation.LastModifiedDate;\r\nimport org.springframework.data.annotation.PersistenceCreator;\r\n\r\nimport java.time.Instant;\r\nimport java.time.OffsetDateTime;\r\n\r\n@ToString\r\npublic class Ticket {\r\n    @Schema(description = &quot;User email&quot;)\r\n    @Getter\r\n    final private String requesterEmail;\r\n    @Schema(description = &quot;Assignee / Agent email&quot;)\r\n    @Getter @Setter\r\n    private String assigneeEmail;\r\n    @Schema(description = &quot;Title of the ticket&quot;)\r\n    @Getter\r\n    final private String title;\r\n    @Schema(description = &quot;Ticket description&quot;)\r\n    @Getter @Setter\r\n    private String description;\r\n    @Schema(description = &quot;Create date&quot;)\r\n    @Getter\r\n    final private Instant createDate;\r\n    @Getter @Setter @LastModifiedDate\r\n    private Instant  updatedDate;\r\n    @Schema(description = &quot;Resolution date&quot;)\r\n    @Getter @Setter\r\n    private OffsetDateTime resolutionDate;\r\n\r\n    public Ticket(String requesterEmail, String title, String description) {\r\n        this.requesterEmail = requesterEmail;\r\n        this.title = title;\r\n        this.description = description;\r\n        this.createDate = Instant.now();\r\n    }\r\n    @PersistenceCreator /* infrastucture code, we need to fix this.*/\r\n    private Ticket(String requesterEmail, String assigneeEmail, String title, String description, Instant createDate, Instant updatedDate, OffsetDateTime resolutionDate) {\r\n        this.requesterEmail = requesterEmail;\r\n        this.assigneeEmail = assigneeEmail;\r\n        this.title = title;\r\n        this.description = description;\r\n        this.createDate = createDate;\r\n        this.updatedDate = updatedDate;\r\n        this.resolutionDate = resolutionDate;\r\n    }\r\n}\r\n```\r\nThe catch is: I need the  @PersistenceCreator constructor with all fields so my repository can return a list of tickets.It makes sense that the domain class also needs a constructor with all fields, which should the repository use. However, to indicate to JPA / Mongo that it needs to use the constructor, I need to put `@PersistenceCreator`.\r\n\r\nI want to know which ways I have to refactor the code and make it infrastructure-redundant\r\n\r\nI tried the code without annotations, expecting Spring Data MongoDb would use it automatically","title":"Building a domain model independent from JPA @PersistenceCreator or @NoArgsConstructor","body":"<p>Ok, I'm doing a sample project on which I'm documenting studies of different kinds.\nI'm trying to refactor the project to follow a hexagonal-ish (hopefully hexagonal someday) architecture.</p>\n<p>I currently have this domain class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.kaue.ticketservice.domain.model;\nimport io.swagger.v3.oas.annotations.media.Schema;\n\nimport lombok.*;\nimport org.springframework.data.annotation.LastModifiedDate;\nimport org.springframework.data.annotation.PersistenceCreator;\n\nimport java.time.Instant;\nimport java.time.OffsetDateTime;\n\n@ToString\npublic class Ticket {\n    @Schema(description = &quot;User email&quot;)\n    @Getter\n    final private String requesterEmail;\n    @Schema(description = &quot;Assignee / Agent email&quot;)\n    @Getter @Setter\n    private String assigneeEmail;\n    @Schema(description = &quot;Title of the ticket&quot;)\n    @Getter\n    final private String title;\n    @Schema(description = &quot;Ticket description&quot;)\n    @Getter @Setter\n    private String description;\n    @Schema(description = &quot;Create date&quot;)\n    @Getter\n    final private Instant createDate;\n    @Getter @Setter @LastModifiedDate\n    private Instant  updatedDate;\n    @Schema(description = &quot;Resolution date&quot;)\n    @Getter @Setter\n    private OffsetDateTime resolutionDate;\n\n    public Ticket(String requesterEmail, String title, String description) {\n        this.requesterEmail = requesterEmail;\n        this.title = title;\n        this.description = description;\n        this.createDate = Instant.now();\n    }\n    @PersistenceCreator /* infrastucture code, we need to fix this.*/\n    private Ticket(String requesterEmail, String assigneeEmail, String title, String description, Instant createDate, Instant updatedDate, OffsetDateTime resolutionDate) {\n        this.requesterEmail = requesterEmail;\n        this.assigneeEmail = assigneeEmail;\n        this.title = title;\n        this.description = description;\n        this.createDate = createDate;\n        this.updatedDate = updatedDate;\n        this.resolutionDate = resolutionDate;\n    }\n}\n</code></pre>\n<p>The catch is: I need the  @PersistenceCreator constructor with all fields so my repository can return a list of tickets.It makes sense that the domain class also needs a constructor with all fields, which should the repository use. However, to indicate to JPA / Mongo that it needs to use the constructor, I need to put <code>@PersistenceCreator</code>.</p>\n<p>I want to know which ways I have to refactor the code and make it infrastructure-redundant</p>\n<p>I tried the code without annotations, expecting Spring Data MongoDb would use it automatically</p>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":7,"creation_date":1692269553,"post_id":76920783,"comment_id":135601704,"body_markdown":"A Socket delivers **bytes** to the receiver in the same order that the sender sent them.  The TCP protocol implementation guarantees that data is not reordered.   The fact that the actual network packets may be dropped, retransmitted and/or received out of sequence is *dealt with* by the protocol stacks.","body":"A Socket delivers <b>bytes</b> to the receiver in the same order that the sender sent them.  The TCP protocol implementation guarantees that data is not reordered.   The fact that the actual network packets may be dropped, retransmitted and/or received out of sequence is <i>dealt with</i> by the protocol stacks."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":2,"creation_date":1692269579,"post_id":76920783,"comment_id":135601708,"body_markdown":"There are no &quot;messages&quot; on a TCP socket. It&#39;s a byte stream.","body":"There are no &quot;messages&quot; on a TCP socket. It&#39;s a byte stream."},{"owner":{"account_id":62450,"reputation":10263,"user_id":185565,"accept_rate":91,"display_name":"Whome"},"score":0,"creation_date":1692270776,"post_id":76920783,"comment_id":135601926,"body_markdown":"Using TCP(byte stream) need to handle a concept of message by using a delimiter(what if msg data had a delimiter?) or length-prefix(maybe 4-bytes aka 32bit field). Apps decide when to splice bytes to a logical message object. See this simple NIO client example: https://stackoverflow.com/a/27130710/185565\n\nYes bytes are received in the same order as it&#39;s an &quot;infinite&quot; flow of bytes.","body":"Using TCP(byte stream) need to handle a concept of message by using a delimiter(what if msg data had a delimiter?) or length-prefix(maybe 4-bytes aka 32bit field). Apps decide when to splice bytes to a logical message object. See this simple NIO client example: <a href=\"https://stackoverflow.com/a/27130710/185565\">stackoverflow.com/a/27130710/185565</a>  Yes bytes are received in the same order as it&#39;s an &quot;infinite&quot; flow of bytes."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1692282258,"post_id":76920783,"comment_id":135604514,"body_markdown":"Java sockets are just… sockets.  The Socket and SocketChannel classes just delegate to the underlying system’s implementation of sockets.  Which means the behavior is the same as any C program that uses sockets.","body":"Java sockets are just… sockets.  The Socket and SocketChannel classes just delegate to the underlying system’s implementation of sockets.  Which means the behavior is the same as any C program that uses sockets."}],"answers":[{"comments":[{"owner":{"account_id":18175398,"reputation":142,"user_id":13224249,"display_name":"Tommimon"},"score":0,"creation_date":1692286619,"post_id":76920910,"comment_id":135605627,"body_markdown":"Thanks, this completely answers my question, summarize everything that was pointed out in comments and corrects the imprecision of my question","body":"Thanks, this completely answers my question, summarize everything that was pointed out in comments and corrects the imprecision of my question"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1692307783,"post_id":76920910,"comment_id":135609476,"body_markdown":"The code sample only shows one object (graph) being sent, so in what sense could there ever be reordering?","body":"The code sample only shows one object (graph) being sent, so in what sense could there ever be reordering?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696902067,"post_id":76920910,"comment_id":136209160,"body_markdown":"That was addressed by an update to the question.  Two objects are now sent.","body":"That was addressed by an update to the question.  Two objects are now sent."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1696901835,"creation_date":1692270438,"answer_id":76920910,"question_id":76920783,"body_markdown":"&gt; Are different messages sent on the same socket always received in FIFO order from the other end?\r\n\r\nSockets are not message streams. The abstraction does not support that concept.  Likewise, TCP is a protocol for sending a sequence of bytes.\r\n\r\nA Socket delivers a stream of bytes to the receiver in the same order that the sender sent them. The TCP protocol implementation guarantees&lt;sup&gt;1&lt;/sup&gt; that data is not reordered. The fact that the actual network packets may be dropped, retransmitted and/or received out of sequence is dealt with by the protocol stacks.\r\n\r\n(You can design and implement a message-based application protocol that uses TCP as its transport protocol.  For example, designate specific byte values to mean the start and end of a message.  The application-level messages won&#39;t be reordered by TCP since the byte stream that represents them is not reordered.)\r\n\r\n&lt;sup&gt;1 - I should qualify that.  TCP / IPv4 uses a checksum (a 16 bit CRC) in each network packet to guard against transmission errors.  However it is theoretically possible for packet to be corrupted in such a way that two bytes are transposed and the CRC is still valid.   The &quot;guarantee&quot; ignores this.&lt;/sup&gt;\r\n\r\n-------------------------\r\n\r\n&gt; What I was referring to is the usage of:\r\n&gt;\r\n&gt;     ObjectOutputStream writer = \r\n&gt;             new ObjectOutputStream(socket.getOutputStream());\r\n&gt;     writer.writeObject(obj1);\r\n&gt;     writer.writeObject(obj2);\r\n\r\nWe have already explained that sockets preserve the order of the bytes.  So if any reordering were to occur in the above code and the matching receiving code, it would be as result of something in the `ObjectOutputStream` and `ObjectInputStream` APIs.\r\n\r\nI did not find anything in the javadocs or the Java Object Serialization Specification that *explicitly* states that objects are written and then read in the same order.  However, that is how the protocol and APIs are designed to work, and how the implementation actually behaves.\r\n\r\n&gt; Are those objects guaranteed to be received in the same order?\r\n\r\nIn practice&lt;sup&gt;2&lt;/sup&gt;, yes.  And you can verify this by examining the source code of the respective classes in the OpenJDK codebase.  (Any version.)\r\n\r\n&lt;sup&gt;2 - If this wasn&#39;t true in practice, then *any* application that involved serializing / deserializing a stream of objects *could* break.  There *would* be Java bug reports, complaints that serialization is broken, etcetera.  And that would also happen if &quot;they&quot; changed this behavior.&lt;/sup&gt;","title":"Are Java Sockets FIFO?","body":"<blockquote>\n<p>Are different messages sent on the same socket always received in FIFO order from the other end?</p>\n</blockquote>\n<p>Sockets are not message streams. The abstraction does not support that concept.  Likewise, TCP is a protocol for sending a sequence of bytes.</p>\n<p>A Socket delivers a stream of bytes to the receiver in the same order that the sender sent them. The TCP protocol implementation guarantees<sup>1</sup> that data is not reordered. The fact that the actual network packets may be dropped, retransmitted and/or received out of sequence is dealt with by the protocol stacks.</p>\n<p>(You can design and implement a message-based application protocol that uses TCP as its transport protocol.  For example, designate specific byte values to mean the start and end of a message.  The application-level messages won't be reordered by TCP since the byte stream that represents them is not reordered.)</p>\n<p><sup>1 - I should qualify that.  TCP / IPv4 uses a checksum (a 16 bit CRC) in each network packet to guard against transmission errors.  However it is theoretically possible for packet to be corrupted in such a way that two bytes are transposed and the CRC is still valid.   The &quot;guarantee&quot; ignores this.</sup></p>\n<hr />\n<blockquote>\n<p>What I was referring to is the usage of:</p>\n<pre><code>ObjectOutputStream writer = \n        new ObjectOutputStream(socket.getOutputStream());\nwriter.writeObject(obj1);\nwriter.writeObject(obj2);\n</code></pre>\n</blockquote>\n<p>We have already explained that sockets preserve the order of the bytes.  So if any reordering were to occur in the above code and the matching receiving code, it would be as result of something in the <code>ObjectOutputStream</code> and <code>ObjectInputStream</code> APIs.</p>\n<p>I did not find anything in the javadocs or the Java Object Serialization Specification that <em>explicitly</em> states that objects are written and then read in the same order.  However, that is how the protocol and APIs are designed to work, and how the implementation actually behaves.</p>\n<blockquote>\n<p>Are those objects guaranteed to be received in the same order?</p>\n</blockquote>\n<p>In practice<sup>2</sup>, yes.  And you can verify this by examining the source code of the respective classes in the OpenJDK codebase.  (Any version.)</p>\n<p><sup>2 - If this wasn't true in practice, then <em>any</em> application that involved serializing / deserializing a stream of objects <em>could</em> break.  There <em>would</em> be Java bug reports, complaints that serialization is broken, etcetera.  And that would also happen if &quot;they&quot; changed this behavior.</sup></p>\n"}],"owner":{"account_id":18175398,"reputation":142,"user_id":13224249,"display_name":"Tommimon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76920910,"answer_count":1,"score":1,"last_activity_date":1696901835,"creation_date":1692269269,"question_id":76920783,"body_markdown":"Are different messages sent on the same socket always received in FIFO order from the other end?\r\n\r\nI can&#39;t find this information anywhere, I know that TCP reorders packets but does it count also for separate messages on the same connection?\r\n\r\nIf not, what is a Java class for network communication that preserves FIFO order among two peers?\r\n\r\n**Edit:**\r\n\r\nAs a comment pointed out there are no messages in sockets. What I was referring to is the usage of:\r\n\r\n```\r\nObjectOutputStream writer = new ObjectOutputStream(socket.getOutputStream());\r\nwriter.writeObject(obj1);\r\nwriter.writeObject(obj2);\r\n```\r\n\r\nAre those objects granted to be received in the same order?","title":"Are Java Sockets FIFO?","body":"<p>Are different messages sent on the same socket always received in FIFO order from the other end?</p>\n<p>I can't find this information anywhere, I know that TCP reorders packets but does it count also for separate messages on the same connection?</p>\n<p>If not, what is a Java class for network communication that preserves FIFO order among two peers?</p>\n<p><strong>Edit:</strong></p>\n<p>As a comment pointed out there are no messages in sockets. What I was referring to is the usage of:</p>\n<pre><code>ObjectOutputStream writer = new ObjectOutputStream(socket.getOutputStream());\nwriter.writeObject(obj1);\nwriter.writeObject(obj2);\n</code></pre>\n<p>Are those objects granted to be received in the same order?</p>\n"},{"tags":["java","visa-api"],"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1696915269,"post_id":77253782,"comment_id":136210104,"body_markdown":"Did you check the base http api ? If the feature is not provided, no one sdk would help you.  https://developer.visa.com/apibrowser  https://developer.visa.com/pages/working-with-visa-apis/visa-developer-quick-start-guide","body":"Did you check the base http api ? If the feature is not provided, no one sdk would help you.  <a href=\"https://developer.visa.com/apibrowser\" rel=\"nofollow noreferrer\">developer.visa.com/apibrowser</a>  <a href=\"https://developer.visa.com/pages/working-with-visa-apis/visa-developer-quick-start-guide\" rel=\"nofollow noreferrer\">developer.visa.com/pages/working-with-visa-apis/&hellip;</a>"}],"owner":{"account_id":1044029,"reputation":1363,"user_id":1049393,"accept_rate":67,"display_name":"coderodde"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1696901637,"creation_date":1696771307,"question_id":77253782,"body_markdown":"I need to be able to charge (say, 1 dollar) from a user. The user supplies:\r\n\r\n 1. Card number (4 digit groups each 4 digits long),\r\n 2. Expiration month and year\r\n 3. CVC\r\n\r\nWhat I want to accomplish is to charge an amount of money from the user. How can I do it using Visa Java API?","title":"Charging a payment via Java Visa API","body":"<p>I need to be able to charge (say, 1 dollar) from a user. The user supplies:</p>\n<ol>\n<li>Card number (4 digit groups each 4 digits long),</li>\n<li>Expiration month and year</li>\n<li>CVC</li>\n</ol>\n<p>What I want to accomplish is to charge an amount of money from the user. How can I do it using Visa Java API?</p>\n"},{"tags":["java","gradle","intellij-idea","aspectj","freefair-aspectj"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1693387615,"post_id":77006662,"comment_id":135752793,"body_markdown":"Don&#39;t post images of code ([reasons here](https://idownvotedbecau.se/imageofcode)). Ensure everything necessary to understand the problem is included as text directly in the question.","body":"Don&#39;t post images of code (<a href=\"https://idownvotedbecau.se/imageofcode\" rel=\"nofollow noreferrer\">reasons here</a>). Ensure everything necessary to understand the problem is included as text directly in the question."}],"answers":[{"comments":[{"owner":{"account_id":4383566,"reputation":2775,"user_id":3574494,"display_name":"larsgrefer"},"score":0,"creation_date":1693876766,"post_id":77027380,"comment_id":135814158,"body_markdown":"See here for an example on how to use src/main/java instead of src/main/aspectj https://github.com/spring-projects/spring-framework/blob/0c714e3a7808199cb7e8b128026f7b0cae39e5de/spring-aspects/spring-aspects.gradle#L5-L9","body":"See here for an example on how to use src/main/java instead of src/main/aspectj <a href=\"https://github.com/spring-projects/spring-framework/blob/0c714e3a7808199cb7e8b128026f7b0cae39e5de/spring-aspects/spring-aspects.gradle#L5-L9\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/blob/&hellip;</a>"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1693886702,"post_id":77027380,"comment_id":135814886,"body_markdown":"@larsgrefer, thanks for the helpful hint. However, I cannot help but wonder why the default requires a custom directory at all. AspectJ Maven Plugin, for example, does not, it just works with a standard Maven directory layout. This is utterly counter-intuitive and not documented in [Freefair&#39;s plugin documentation](https://docs.freefair.io/gradle-plugins/8.3/reference/#_aspectj) at all. I would not have looked for an example in Spring&#39;s source code.","body":"@larsgrefer, thanks for the helpful hint. However, I cannot help but wonder why the default requires a custom directory at all. AspectJ Maven Plugin, for example, does not, it just works with a standard Maven directory layout. This is utterly counter-intuitive and not documented in <a href=\"https://docs.freefair.io/gradle-plugins/8.3/reference/#_aspectj\" rel=\"nofollow noreferrer\">Freefair&#39;s plugin documentation</a> at all. I would not have looked for an example in Spring&#39;s source code."},{"owner":{"account_id":4383566,"reputation":2775,"user_id":3574494,"display_name":"larsgrefer"},"score":0,"creation_date":1693953095,"post_id":77027380,"comment_id":135826943,"body_markdown":"It works analog to the existing gradle plugins for Groovy, Scala and Kotlin which put their sources in `src/main/groovy`, `src/main/scala` and `src/main/kotlin` respectively. So each compiler gets its own directory. `src/main/java` is always* compiled by javac, `src/main/aspectj` is always compiled by ajc and so on.\n\nThe default source folder is documented right here: https://docs.freefair.io/gradle-plugins/8.3/reference/#_io_freefair_aspectj","body":"It works analog to the existing gradle plugins for Groovy, Scala and Kotlin which put their sources in <code>src&#47;main&#47;groovy</code>, <code>src&#47;main&#47;scala</code> and <code>src&#47;main&#47;kotlin</code> respectively. So each compiler gets its own directory. <code>src&#47;main&#47;java</code> is always* compiled by javac, <code>src&#47;main&#47;aspectj</code> is always compiled by ajc and so on.  The default source folder is documented right here: <a href=\"https://docs.freefair.io/gradle-plugins/8.3/reference/#_io_freefair_aspectj\" rel=\"nofollow noreferrer\">docs.freefair.io/gradle-plugins/8.3/reference/&hellip;</a>"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1693965334,"post_id":77027380,"comment_id":135828081,"body_markdown":"Thanks for updating the documentation. &#128578; Concerning the question of the default directory, I created [issue 881](https://github.com/freefair/gradle-plugins/issues/881) in your project.","body":"Thanks for updating the documentation. 🙂 Concerning the question of the default directory, I created <a href=\"https://github.com/freefair/gradle-plugins/issues/881\" rel=\"nofollow noreferrer\">issue 881</a> in your project."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1696901332,"post_id":77027380,"comment_id":136209119,"body_markdown":"**Update:** Freefair 8.4 now defaults to `src/main/java`, i.e. it works as expected with a standard directory layout, just like with AspectJ Maven.","body":"<b>Update:</b> Freefair 8.4 now defaults to <code>src&#47;main&#47;java</code>, i.e. it works as expected with a standard directory layout, just like with AspectJ Maven."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696901313,"creation_date":1693640170,"answer_id":77027380,"question_id":77006662,"body_markdown":"Maybe you have both source files in _src/main/java_ or only the aspect in _src/main/aspectj_, but in the default configuration, Freefair expects all source files to reside in _src/main/aspectj_:\r\n\r\n[![Gradle project directory layout for Freefair AspectJ][1]][1]\r\n\r\nThen, the project works flawlessly.\r\n\r\n---\r\n\r\n**[Optional]** You can, however, also streamline your Gradle build config a little bit and also update AspectJ to a more recent version, because 1.9.7 only supports Java 16, but 1.9.20 supports up to Java 20.\r\n\r\n```java\r\nplugins {\r\n  id &#39;java&#39;\r\n  id &quot;io.freefair.aspectj&quot; version &quot;8.3&quot;\r\n}\r\n\r\ngroup = &#39;org.example&#39;\r\nversion = &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n  mavenLocal()\r\n  mavenCentral()\r\n}\r\n\r\ndependencies {\r\n  testImplementation platform(&#39;org.junit:junit-bom:5.9.1&#39;)\r\n  testImplementation &#39;org.junit.jupiter:junit-jupiter&#39;\r\n  implementation &#39;org.aspectj:aspectjrt:1.9.20&#39;\r\n}\r\n\r\ntest {\r\n  useJUnitPlatform()\r\n}\r\n```\r\n\r\n---\r\n\r\n**Update 2023-10-10:** Freefair 8.4 now defaults to `src/main/java`, i.e. it works as expected with a standard directory layout, just like with AspectJ Maven.\r\n\r\n  [1]: https://i.stack.imgur.com/ejudr.png","title":"AspectJ in Gradle - Intellij Idea","body":"<p>Maybe you have both source files in <em>src/main/java</em> or only the aspect in <em>src/main/aspectj</em>, but in the default configuration, Freefair expects all source files to reside in <em>src/main/aspectj</em>:</p>\n<p><a href=\"https://i.stack.imgur.com/ejudr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ejudr.png\" alt=\"Gradle project directory layout for Freefair AspectJ\" /></a></p>\n<p>Then, the project works flawlessly.</p>\n<hr />\n<p><strong>[Optional]</strong> You can, however, also streamline your Gradle build config a little bit and also update AspectJ to a more recent version, because 1.9.7 only supports Java 16, but 1.9.20 supports up to Java 20.</p>\n<pre class=\"lang-java prettyprint-override\"><code>plugins {\n  id 'java'\n  id &quot;io.freefair.aspectj&quot; version &quot;8.3&quot;\n}\n\ngroup = 'org.example'\nversion = '1.0-SNAPSHOT'\n\nrepositories {\n  mavenLocal()\n  mavenCentral()\n}\n\ndependencies {\n  testImplementation platform('org.junit:junit-bom:5.9.1')\n  testImplementation 'org.junit.jupiter:junit-jupiter'\n  implementation 'org.aspectj:aspectjrt:1.9.20'\n}\n\ntest {\n  useJUnitPlatform()\n}\n</code></pre>\n<hr />\n<p><strong>Update 2023-10-10:</strong> Freefair 8.4 now defaults to <code>src/main/java</code>, i.e. it works as expected with a standard directory layout, just like with AspectJ Maven.</p>\n"}],"owner":{"account_id":26822412,"reputation":3,"user_id":20411540,"display_name":"pay2joy2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77027380,"answer_count":1,"score":-1,"last_activity_date":1696901313,"creation_date":1693387461,"question_id":77006662,"body_markdown":"For a whole day i&#39;ve been trying to use AspectJ - adding dependencies, installing plugins, creating .aj files or marking with @Aspect annotation, but nothing seems to work on gradle. Please help me to understand my problem. \r\n\r\nMy GreetingAspect.aj file\r\n```\r\npackage org.example;\r\n\r\npublic aspect GreetingAspect {\r\n\r\n    pointcut greeting() : execution(* Main.printName(..));\r\n\r\n    before() : greeting() {\r\n        System.out.print(&quot;Hello &quot;);\r\n    }\r\n}\r\n```\r\n\r\nThe code should print &quot;Hello (name)&quot; before every instance of .printName(), so i can see that &quot;poincut&quot; and &quot;before&quot; is working\r\n\r\n1. My build.gradle\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &quot;io.freefair.aspectj&quot; version &quot;8.3&quot;\r\n}\r\n\r\ngroup = &#39;org.example&#39;\r\nversion = &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n\r\n    testImplementation platform(&#39;org.junit:junit-bom:5.9.1&#39;)\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter&#39;\r\n\r\n    runtimeOnly &#39;org.aspectj:aspectjweaver:1.9.7&#39;\r\n    runtimeOnly &#39;org.aspectj:aspectjrt:1.9.7&#39;\r\n    implementation &#39;org.aspectj:aspectjtools:1.9.7&#39;\r\n\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\n3. Main\r\n```\r\npackage org.example;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        printName(&quot;Max&quot;);\r\n        printName(&quot;John&quot;);\r\n        printName(&quot;Martin&quot;);\r\n    }\r\n\r\n    public static void printName(String name) {\r\n        System.out.println(name);\r\n    }\r\n}\r\n```\r\n\r\nI tried to: \r\nInstall AspectJ plugin from market, that added support for .aj, but they seem to do nothing at all,\r\ninstall AspectJ plugins from https://plugins.gradle.org/, \r\nInstalling .jar directly in lib,\r\nChanging version from 1.9.10 to 1.9.7,\r\ninstead of .aj using .java classes but with @Aspect annotation.\r\n\r\n\r\n","title":"AspectJ in Gradle - Intellij Idea","body":"<p>For a whole day i've been trying to use AspectJ - adding dependencies, installing plugins, creating .aj files or marking with @Aspect annotation, but nothing seems to work on gradle. Please help me to understand my problem.</p>\n<p>My GreetingAspect.aj file</p>\n<pre><code>package org.example;\n\npublic aspect GreetingAspect {\n\n    pointcut greeting() : execution(* Main.printName(..));\n\n    before() : greeting() {\n        System.out.print(&quot;Hello &quot;);\n    }\n}\n</code></pre>\n<p>The code should print &quot;Hello (name)&quot; before every instance of .printName(), so i can see that &quot;poincut&quot; and &quot;before&quot; is working</p>\n<ol>\n<li>My build.gradle</li>\n</ol>\n<pre><code>plugins {\n    id 'java'\n    id &quot;io.freefair.aspectj&quot; version &quot;8.3&quot;\n}\n\ngroup = 'org.example'\nversion = '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n\n    testImplementation platform('org.junit:junit-bom:5.9.1')\n    testImplementation 'org.junit.jupiter:junit-jupiter'\n\n    runtimeOnly 'org.aspectj:aspectjweaver:1.9.7'\n    runtimeOnly 'org.aspectj:aspectjrt:1.9.7'\n    implementation 'org.aspectj:aspectjtools:1.9.7'\n\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<ol start=\"3\">\n<li>Main</li>\n</ol>\n<pre><code>package org.example;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        printName(&quot;Max&quot;);\n        printName(&quot;John&quot;);\n        printName(&quot;Martin&quot;);\n    }\n\n    public static void printName(String name) {\n        System.out.println(name);\n    }\n}\n</code></pre>\n<p>I tried to:\nInstall AspectJ plugin from market, that added support for .aj, but they seem to do nothing at all,\ninstall AspectJ plugins from <a href=\"https://plugins.gradle.org/\" rel=\"nofollow noreferrer\">https://plugins.gradle.org/</a>,\nInstalling .jar directly in lib,\nChanging version from 1.9.10 to 1.9.7,\ninstead of .aj using .java classes but with @Aspect annotation.</p>\n"},{"tags":["java","arrays","matrix","transpose"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1696872992,"post_id":77260646,"comment_id":136205895,"body_markdown":"You&#39;re just mixing up x and y on the second output, showing the transposed matrix in a transposed form, so that it looks like normal again.. So throw your code that does the printing into a method `printMatrix(int[][] pMatrix)`. (in the outer loop do `for(int y=0; y&lt;pMatrix.length; y++)` and in the inner do `for(int x=0; x&lt;pMatrix[y].length; x++)` so you dont need width/height, maybe interchange x and y if you like that more) And then run it on the 2 matrices, you&#39;ll see that you actually properly transposed the matrix already.","body":"You&#39;re just mixing up x and y on the second output, showing the transposed matrix in a transposed form, so that it looks like normal again.. So throw your code that does the printing into a method <code>printMatrix(int[][] pMatrix)</code>. (in the outer loop do <code>for(int y=0; y&lt;pMatrix.length; y++)</code> and in the inner do <code>for(int x=0; x&lt;pMatrix[y].length; x++)</code> so you dont need width/height, maybe interchange x and y if you like that more) And then run it on the 2 matrices, you&#39;ll see that you actually properly transposed the matrix already."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696901157,"creation_date":1696901157,"answer_id":77262482,"question_id":77260646,"body_markdown":"You are printing the _transposed_matrix_, in the same order as the _array_.\r\n\r\nPrint after the _for-loop_.\r\n\r\nHere is an example.\r\n\r\n```java\r\nint i = 0, j;\r\ndo {\r\n    j = 0;\r\n    do transposed_matrix[j][i] = array[i][j];\r\n    while (++j &lt; width);\r\n} while (++i &lt; height);\r\nfor (int[] t : transposed_matrix) {\r\n    i = 0;\r\n    for (int e : t) {\r\n        if (i++ != 0) System.out.print(&#39;\\t&#39;);\r\n        System.out.print(e);\r\n    }\r\n    System.out.println();\r\n}\r\n```\r\n\r\nOr, use a _stream_.\r\n\r\n```java\r\nStream.of(transposed_matrix).forEach(x -&gt; {\r\n    System.out.println(\r\n        Arrays.stream(x)\r\n              .mapToObj(String::valueOf)\r\n              .collect(Collectors.joining(&quot;\\t&quot;))\r\n    );\r\n});\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nEnter the height of array: \r\n4\r\nEnter the width of array: \r\n4\r\n30\t46\t3\t46\t\r\n14\t46\t42\t19\t\r\n42\t3\t24\t12\t\r\n4\t5\t3\t39\t\r\nTransposed matrix: \r\n\r\n30\t14\t42\t4\r\n46\t46\t3\t5\r\n3\t42\t24\t3\r\n46\t19\t12\t39\r\n```\r\n\r\nAdditionally, you can just swap the values.\r\n\r\n```java\r\n&lt;T&gt; void transpose(T[][] a) {\r\n    int m = a.length, n = a[0].length;\r\n    T t;\r\n    for (int i = 0, j; i &lt; m; i++)\r\n        for (j = i + 1; j &lt; n; j++) {\r\n            t = a[i][j];\r\n            a[i][j] = a[j][i];\r\n            a[j][i] = t;\r\n        }\r\n}\r\n```","title":"Java transpose matrix","body":"<p>You are printing the <em>transposed_matrix</em>, in the same order as the <em>array</em>.</p>\n<p>Print after the <em>for-loop</em>.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 0, j;\ndo {\n    j = 0;\n    do transposed_matrix[j][i] = array[i][j];\n    while (++j &lt; width);\n} while (++i &lt; height);\nfor (int[] t : transposed_matrix) {\n    i = 0;\n    for (int e : t) {\n        if (i++ != 0) System.out.print('\\t');\n        System.out.print(e);\n    }\n    System.out.println();\n}\n</code></pre>\n<p>Or, use a <em>stream</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.of(transposed_matrix).forEach(x -&gt; {\n    System.out.println(\n        Arrays.stream(x)\n              .mapToObj(String::valueOf)\n              .collect(Collectors.joining(&quot;\\t&quot;))\n    );\n});\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter the height of array: \n4\nEnter the width of array: \n4\n30  46  3   46  \n14  46  42  19  \n42  3   24  12  \n4   5   3   39  \nTransposed matrix: \n\n30  14  42  4\n46  46  3   5\n3   42  24  3\n46  19  12  39\n</code></pre>\n<p>Additionally, you can just swap the values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;T&gt; void transpose(T[][] a) {\n    int m = a.length, n = a[0].length;\n    T t;\n    for (int i = 0, j; i &lt; m; i++)\n        for (j = i + 1; j &lt; n; j++) {\n            t = a[i][j];\n            a[i][j] = a[j][i];\n            a[j][i] = t;\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":29080538,"reputation":11,"user_id":22276683,"display_name":"Yul4onok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696901157,"creation_date":1696871369,"question_id":77260646,"body_markdown":"I wanted to transpose matrix in this way\r\n \r\n\r\nI tried to create matrix then create a method for transposing it but, unfortunately, when i caled the function result was the same matrix as a first created\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Random;\r\npublic class Matrix {\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter the height of array: &quot;);\r\n        int height = input.nextInt();\r\n\r\n        System.out.println(&quot;Enter the width of array: &quot;);\r\n        int width = input.nextInt();\r\n\r\n        int[][] array =  new int[height][width];\r\n        int[][] transposed_matrix =  new int[width][height];\r\n        Random rand_num = new Random();\r\n        for(int i = 0; i &lt; height; i++)\r\n        {\r\n            for(int j = 0; j &lt; width; j++)\r\n            {\r\n                array[i][j]=rand_num.nextInt(1, 50);\r\n                System.out.print(array[i][j] + &quot;\\t&quot;);\r\n            }\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n        System.out.println(&quot;Transposed matrix: \\n&quot;);\r\n        transposeMatrix(array, transposed_matrix, height, width);\r\n    }\r\n\r\n    public static void transposeMatrix(int[][] array, int[][] transposed_matrix, int height, int width){\r\n        for(int i = 0; i &lt; height; i++)\r\n        {\r\n            for(int j = 0; j &lt; width; j++)\r\n            {\r\n                transposed_matrix[j][i] = array[i][j];\r\n                System.out.print(transposed_matrix[j][i] + &quot;\\t&quot;);\r\n            }\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nExpected output:\r\n34\t34\t24\t26\t\r\n41\t44\t43\t40\t\r\n22\t40\t47\t3\t\r\n\r\nTransposed matrix: \r\n\r\n34\t41\t22\t\r\n34\t44\t40\t\t\r\n24\t43\t47\r\n26\t40  3\r\n\r\nactual output:\r\n\r\n34\t34\t24\t26\t\r\n41\t44\t43\t40\t\r\n22\t40\t47\t3\t\r\n\r\nTransposed matrix: \r\n\r\n34\t34\t24\t26\t\r\n41\t44\t43\t40\t\r\n22\t40\t47\t3\t\r\n\r\n","title":"Java transpose matrix","body":"<p>I wanted to transpose matrix in this way</p>\n<p>I tried to create matrix then create a method for transposing it but, unfortunately, when i caled the function result was the same matrix as a first created</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Random;\npublic class Matrix {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n\n        System.out.println(&quot;Enter the height of array: &quot;);\n        int height = input.nextInt();\n\n        System.out.println(&quot;Enter the width of array: &quot;);\n        int width = input.nextInt();\n\n        int[][] array =  new int[height][width];\n        int[][] transposed_matrix =  new int[width][height];\n        Random rand_num = new Random();\n        for(int i = 0; i &lt; height; i++)\n        {\n            for(int j = 0; j &lt; width; j++)\n            {\n                array[i][j]=rand_num.nextInt(1, 50);\n                System.out.print(array[i][j] + &quot;\\t&quot;);\n            }\n            System.out.print(&quot;\\n&quot;);\n        }\n        System.out.println(&quot;Transposed matrix: \\n&quot;);\n        transposeMatrix(array, transposed_matrix, height, width);\n    }\n\n    public static void transposeMatrix(int[][] array, int[][] transposed_matrix, int height, int width){\n        for(int i = 0; i &lt; height; i++)\n        {\n            for(int j = 0; j &lt; width; j++)\n            {\n                transposed_matrix[j][i] = array[i][j];\n                System.out.print(transposed_matrix[j][i] + &quot;\\t&quot;);\n            }\n            System.out.print(&quot;\\n&quot;);\n        }\n\n    }\n}\n</code></pre>\n<p>Expected output:\n34  34  24  26<br />\n41  44  43  40<br />\n22  40  47  3</p>\n<p>Transposed matrix:</p>\n<p>34  41  22<br />\n34  44  40<br />\n24  43  47\n26  40  3</p>\n<p>actual output:</p>\n<p>34  34  24  26<br />\n41  44  43  40<br />\n22  40  47  3</p>\n<p>Transposed matrix:</p>\n<p>34  34  24  26<br />\n41  44  43  40<br />\n22  40  47  3</p>\n"},{"tags":["java","spring","spring-profiles"],"comments":[{"owner":{"account_id":211839,"reputation":8867,"user_id":464253,"accept_rate":82,"display_name":"Bobo"},"score":4,"creation_date":1329166846,"post_id":9267799,"comment_id":11681798,"body_markdown":"@aweigold: get current active/default Environment profile programatically in spring 3.1. what more details you need?","body":"@aweigold: get current active/default Environment profile programatically in spring 3.1. what more details you need?"}],"answers":[{"comments":[{"owner":{"account_id":1783158,"reputation":8810,"user_id":1625339,"accept_rate":40,"display_name":"Aetherus"},"score":21,"creation_date":1548986364,"post_id":9268041,"comment_id":95751435,"body_markdown":"How can I get such thing in **static** methods in **non-spring-managed** classes?","body":"How can I get such thing in <b>static</b> methods in <b>non-spring-managed</b> classes?"},{"owner":{"account_id":8396,"reputation":24329,"user_id":15108,"accept_rate":89,"display_name":"boutta"},"score":1,"creation_date":1612797307,"post_id":9268041,"comment_id":116871804,"body_markdown":"I&#39;d try adding the profile-name as a method parameter and pass it from the calling class.","body":"I&#39;d try adding the profile-name as a method parameter and pass it from the calling class."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1646076542,"post_id":9268041,"comment_id":126030679,"body_markdown":"Looks like Spring 5.1 deprecated `acceptsProfiles(String... profiles)` and replaced it with `acceptsProfiles(Profiles profiles)`.","body":"Looks like Spring 5.1 deprecated <code>acceptsProfiles(String... profiles)</code> and replaced it with <code>acceptsProfiles(Profiles profiles)</code>."}],"tags":[],"owner":{"account_id":264189,"reputation":6632,"user_id":550282,"display_name":"aweigold"},"comment_count":3,"down_vote_count":0,"up_vote_count":339,"is_accepted":true,"score":339,"last_activity_date":1545038331,"creation_date":1329167299,"answer_id":9268041,"question_id":9267799,"body_markdown":"You can autowire the [`Environment`][1]\r\n\r\n    @Autowired\r\n    Environment env;\r\n\r\n`Environment` offers:\r\n\r\n - [`String[] getActiveProfiles()`][2],\r\n - [`String[] getDefaultProfiles()`][3], and \r\n - [`boolean acceptsProfiles(String... profiles)`][4]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/Environment.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/Environment.html#getActiveProfiles--\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/Environment.html#getDefaultProfiles--\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/Environment.html#acceptsProfiles-java.lang.String...-","title":"How do you get current active/default Environment profile programmatically in Spring?","body":"<p>You can autowire the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/Environment.html\" rel=\"noreferrer\"><code>Environment</code></a></p>\n\n<pre><code>@Autowired\nEnvironment env;\n</code></pre>\n\n<p><code>Environment</code> offers:</p>\n\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/Environment.html#getActiveProfiles--\" rel=\"noreferrer\"><code>String[] getActiveProfiles()</code></a>,</li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/Environment.html#getDefaultProfiles--\" rel=\"noreferrer\"><code>String[] getDefaultProfiles()</code></a>, and </li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/Environment.html#acceptsProfiles-java.lang.String...-\" rel=\"noreferrer\"><code>boolean acceptsProfiles(String... profiles)</code></a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1920229,"reputation":3923,"user_id":1731935,"accept_rate":75,"display_name":"Manuel"},"score":2,"creation_date":1662538978,"post_id":13361783,"comment_id":130026182,"body_markdown":"Works only if the class implementing the interface is managed by Spring.","body":"Works only if the class implementing the interface is managed by Spring."}],"tags":[],"owner":{"account_id":144801,"reputation":6758,"user_id":354132,"accept_rate":69,"display_name":"Arnout Engelen"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1352814198,"creation_date":1352814198,"answer_id":13361783,"question_id":9267799,"body_markdown":"If you&#39;re not using autowiring, simply implement `EnvironmentAware`","title":"How do you get current active/default Environment profile programmatically in Spring?","body":"<p>If you're not using autowiring, simply implement <code>EnvironmentAware</code></p>\n"},{"comments":[{"owner":{"account_id":1350713,"reputation":1173,"user_id":1290460,"accept_rate":50,"display_name":"Paul Waldo"},"score":3,"creation_date":1513001587,"post_id":41553772,"comment_id":82470169,"body_markdown":"@Profile seems like the best solution.","body":"@Profile seems like the best solution."}],"tags":[],"owner":{"account_id":267167,"reputation":10537,"user_id":555177,"accept_rate":94,"display_name":"anataliocs"},"comment_count":1,"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1567539972,"creation_date":1483983657,"answer_id":41553772,"question_id":9267799,"body_markdown":"Here is a more complete example.\r\n\r\n\r\n**Autowire Environment**\r\n\r\nFirst you will want to autowire the environment bean.\r\n\r\n    @Autowired\r\n    private Environment environment;\r\n\r\n**Check if Profiles exist in Active Profiles**\r\n\r\nThen you can use `getActiveProfiles()` to find out if the profile exists in the list of active profiles.  Here is an example that takes the `String[]` from `getActiveProfiles()`, gets a stream from that array, then uses matchers to check for multiple profiles(Case-Insensitive) which returns a boolean if they exist.\r\n\r\n    //Check if Active profiles contains &quot;local&quot; or &quot;test&quot;\r\n    if(Arrays.stream(environment.getActiveProfiles()).anyMatch(\r\n       env -&gt; (env.equalsIgnoreCase(&quot;test&quot;) \r\n       || env.equalsIgnoreCase(&quot;local&quot;)) )) \r\n    {\r\n       doSomethingForLocalOrTest();\r\n    }\r\n    //Check if Active profiles contains &quot;prod&quot;\r\n    else if(Arrays.stream(environment.getActiveProfiles()).anyMatch(\r\n       env -&gt; (env.equalsIgnoreCase(&quot;prod&quot;)) )) \r\n    {\r\n       doSomethingForProd();\r\n    }\r\n\r\nYou can also achieve similar functionality using the annotation `@Profile(&quot;local&quot;)` Profiles allow for selective configuration based on a passed-in or environment parameter.  Here is more information on this technique: [Spring Profiles][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html","title":"How do you get current active/default Environment profile programmatically in Spring?","body":"<p>Here is a more complete example.</p>\n\n<p><strong>Autowire Environment</strong></p>\n\n<p>First you will want to autowire the environment bean.</p>\n\n<pre><code>@Autowired\nprivate Environment environment;\n</code></pre>\n\n<p><strong>Check if Profiles exist in Active Profiles</strong></p>\n\n<p>Then you can use <code>getActiveProfiles()</code> to find out if the profile exists in the list of active profiles.  Here is an example that takes the <code>String[]</code> from <code>getActiveProfiles()</code>, gets a stream from that array, then uses matchers to check for multiple profiles(Case-Insensitive) which returns a boolean if they exist.</p>\n\n<pre><code>//Check if Active profiles contains \"local\" or \"test\"\nif(Arrays.stream(environment.getActiveProfiles()).anyMatch(\n   env -&gt; (env.equalsIgnoreCase(\"test\") \n   || env.equalsIgnoreCase(\"local\")) )) \n{\n   doSomethingForLocalOrTest();\n}\n//Check if Active profiles contains \"prod\"\nelse if(Arrays.stream(environment.getActiveProfiles()).anyMatch(\n   env -&gt; (env.equalsIgnoreCase(\"prod\")) )) \n{\n   doSomethingForProd();\n}\n</code></pre>\n\n<p>You can also achieve similar functionality using the annotation <code>@Profile(\"local\")</code> Profiles allow for selective configuration based on a passed-in or environment parameter.  Here is more information on this technique: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html\" rel=\"noreferrer\">Spring Profiles</a></p>\n"},{"comments":[{"owner":{"account_id":1965862,"reputation":3669,"user_id":1766166,"accept_rate":71,"display_name":"zygimantus"},"score":8,"creation_date":1515056851,"post_id":46280432,"comment_id":83158055,"body_markdown":"This line gives this error: `Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;spring.profiles.active&#39; in value &quot;${spring.profiles.active}&quot;`","body":"This line gives this error: <code>Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;spring.profiles.active&#39; in value &quot;${spring.profiles.active}&quot;</code>"},{"owner":{"account_id":172198,"reputation":5240,"user_id":628006,"accept_rate":90,"display_name":"р&#252;ффп"},"score":0,"creation_date":1535619950,"post_id":46280432,"comment_id":91136176,"body_markdown":"Works perfectly for me. Using Spring Boot 1.5.15.","body":"Works perfectly for me. Using Spring Boot 1.5.15."},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1547481226,"post_id":46280432,"comment_id":95198101,"body_markdown":"I think if the profile is defined, value will be parsed, otherwise the exception arises. Does not fit all situations.","body":"I think if the profile is defined, value will be parsed, otherwise the exception arises. Does not fit all situations."},{"owner":{"account_id":8878226,"reputation":6251,"user_id":6629515,"display_name":"Oleksandr Yefymov"},"score":3,"creation_date":1551976437,"post_id":46280432,"comment_id":96847440,"body_markdown":"Active profile also could be an array, take attention to that please. Using such way you can get unexpected error on adding additional profiles.","body":"Active profile also could be an array, take attention to that please. Using such way you can get unexpected error on adding additional profiles."},{"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"score":2,"creation_date":1562353068,"post_id":46280432,"comment_id":100360714,"body_markdown":"The drawback to this approach is that it won&#39;t get all of the profiles that Spring might consider when evaluating `@Profile`. Apps can also use the `spring.profiles.include` \n property, and can set profiles programmatically during initialization using `ConfigurableEnvironment`. `Environment.getActiveProfiles()` will get the full list of profiles set using any of these mechanisms.","body":"The drawback to this approach is that it won&#39;t get all of the profiles that Spring might consider when evaluating <code>@Profile</code>. Apps can also use the <code>spring.profiles.include</code>   property, and can set profiles programmatically during initialization using <code>ConfigurableEnvironment</code>. <code>Environment.getActiveProfiles()</code> will get the full list of profiles set using any of these mechanisms."},{"owner":{"account_id":1096311,"reputation":2246,"user_id":1089841,"accept_rate":33,"display_name":"Girish"},"score":0,"creation_date":1640334296,"post_id":46280432,"comment_id":124571430,"body_markdown":"I am getting null","body":"I am getting null"},{"owner":{"account_id":2176810,"reputation":1464,"user_id":1927303,"display_name":"Arundev"},"score":0,"creation_date":1698917853,"post_id":46280432,"comment_id":136466108,"body_markdown":"make sure that application.yml the property sets correctly","body":"make sure that application.yml the property sets correctly"}],"tags":[],"owner":{"account_id":1813160,"reputation":989,"user_id":1648825,"accept_rate":10,"display_name":"user1648825"},"comment_count":7,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1505741024,"creation_date":1505741024,"answer_id":46280432,"question_id":9267799,"body_markdown":"    @Value(&quot;${spring.profiles.active}&quot;)\r\n    private String activeProfile;\r\n\r\nIt works and you don&#39;t need to implement EnvironmentAware. But I don&#39;t know drawbacks of this approach.\r\n","title":"How do you get current active/default Environment profile programmatically in Spring?","body":"<pre><code>@Value(\"${spring.profiles.active}\")\nprivate String activeProfile;\n</code></pre>\n\n<p>It works and you don't need to implement EnvironmentAware. But I don't know drawbacks of this approach.</p>\n"},{"comments":[{"owner":{"account_id":5557657,"reputation":679,"user_id":4408458,"display_name":"Jason"},"score":2,"creation_date":1589250265,"post_id":48500420,"comment_id":109212338,"body_markdown":"Profile names are separated by a comma. Checkout https://www.baeldung.com/spring-profiles#2-using-springactiveprofile","body":"Profile names are separated by a comma. Checkout <a href=\"https://www.baeldung.com/spring-profiles#2-using-springactiveprofile\" rel=\"nofollow noreferrer\">baeldung.com/spring-profiles#2-using-springactiveprofile</a>"},{"owner":{"account_id":6120082,"reputation":430,"user_id":4773879,"accept_rate":67,"display_name":"Wood"},"score":1,"creation_date":1672226811,"post_id":48500420,"comment_id":132245565,"body_markdown":"It doesn&#39;t work when making get injected in SpringBootTest. Injecting Environment works","body":"It doesn&#39;t work when making get injected in SpringBootTest. Injecting Environment works"},{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1680356723,"post_id":48500420,"comment_id":133886539,"body_markdown":"see discussion on `@SpringBootTest` and `@ActiveProfiles` and why/how it was changed from Spring Boot 2.3 onwards [here](https://github.com/spring-projects/spring-boot/issues/19788)","body":"see discussion on <code>@SpringBootTest</code> and <code>@ActiveProfiles</code> and why/how it was changed from Spring Boot 2.3 onwards <a href=\"https://github.com/spring-projects/spring-boot/issues/19788\" rel=\"nofollow noreferrer\">here</a>"}],"tags":[],"owner":{"account_id":4943918,"reputation":1786,"user_id":3979886,"display_name":"MartinMlima"},"comment_count":3,"down_vote_count":2,"up_vote_count":144,"is_accepted":false,"score":142,"last_activity_date":1636923809,"creation_date":1517226046,"answer_id":48500420,"question_id":9267799,"body_markdown":"Extending User1648825&#39;s nice simple answer:\r\n\r\n    @Value(&quot;${spring.profiles.active}&quot;)\r\n    private String activeProfile;\r\n\r\nThis may throw an IllegalArgumentException if no profiles are set (I get a null value). This may be a Good Thing if you need it to be set; if not use the &#39;default&#39; syntax for @Value, ie:\r\n\r\n    @Value(&quot;${spring.profiles.active:Unknown}&quot;)\r\n    private String activeProfile;\r\n\r\n...activeProfile now contains &#39;Unknown&#39; if spring.profiles.active could not be resolved","title":"How do you get current active/default Environment profile programmatically in Spring?","body":"<p>Extending User1648825's nice simple answer:</p>\n<pre><code>@Value(&quot;${spring.profiles.active}&quot;)\nprivate String activeProfile;\n</code></pre>\n<p>This may throw an IllegalArgumentException if no profiles are set (I get a null value). This may be a Good Thing if you need it to be set; if not use the 'default' syntax for @Value, ie:</p>\n<pre><code>@Value(&quot;${spring.profiles.active:Unknown}&quot;)\nprivate String activeProfile;\n</code></pre>\n<p>...activeProfile now contains 'Unknown' if spring.profiles.active could not be resolved</p>\n"},{"comments":[{"owner":{"account_id":263968,"reputation":6799,"user_id":549913,"accept_rate":79,"display_name":"renanleandrof"},"score":0,"creation_date":1638547977,"post_id":61273330,"comment_id":124125968,"body_markdown":"Thanks! that was helpful since i need it on a static method!","body":"Thanks! that was helpful since i need it on a static method!"}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1587131617,"creation_date":1587131617,"answer_id":61273330,"question_id":9267799,"body_markdown":"Seems there is some demand to be able to access this statically.\r\n\r\n&gt; How can I get such thing in static methods in non-spring-managed\r\n&gt; classes? – Aetherus\r\n\r\nIt&#39;s a hack, but you can write your own class to expose it. You must be careful to ensure that nothing will call `SpringContext.getEnvironment()` before all beans have been created, since there is no guarantee when this component will be instantiated.\r\n\r\n    @Component\r\n    public class SpringContext\r\n    {\r\n        private static Environment environment;\r\n    \r\n        public SpringContext(Environment environment) {\r\n            SpringContext.environment = environment;\r\n        }\r\n    \r\n        public static Environment getEnvironment() {\r\n            if (environment == null) {\r\n                throw new RuntimeException(&quot;Environment has not been set yet&quot;);\r\n            }\r\n            return environment;\r\n        }\r\n    }\r\n\r\n","title":"How do you get current active/default Environment profile programmatically in Spring?","body":"<p>Seems there is some demand to be able to access this statically.</p>\n\n<blockquote>\n  <p>How can I get such thing in static methods in non-spring-managed\n  classes? – Aetherus</p>\n</blockquote>\n\n<p>It's a hack, but you can write your own class to expose it. You must be careful to ensure that nothing will call <code>SpringContext.getEnvironment()</code> before all beans have been created, since there is no guarantee when this component will be instantiated.</p>\n\n<pre><code>@Component\npublic class SpringContext\n{\n    private static Environment environment;\n\n    public SpringContext(Environment environment) {\n        SpringContext.environment = environment;\n    }\n\n    public static Environment getEnvironment() {\n        if (environment == null) {\n            throw new RuntimeException(\"Environment has not been set yet\");\n        }\n        return environment;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1664971285,"creation_date":1608724861,"answer_id":65423975,"question_id":9267799,"body_markdown":"As already mentioned earlier. You could autowire **Environment**:\r\n\r\n    @Autowired\r\n    private Environment environment;\r\n\r\nonly you could do check for the needed environment much easier:\r\n\r\n```\r\nif (environment.acceptsProfiles(Profiles.of(&quot;test&quot;))) {\r\n    doStuffForTestEnv();\r\n} else {\r\n    doStuffForOtherProfiles();\r\n}\r\n```","title":"How do you get current active/default Environment profile programmatically in Spring?","body":"<p>As already mentioned earlier. You could autowire <strong>Environment</strong>:</p>\n<pre><code>@Autowired\nprivate Environment environment;\n</code></pre>\n<p>only you could do check for the needed environment much easier:</p>\n<pre><code>if (environment.acceptsProfiles(Profiles.of(&quot;test&quot;))) {\n    doStuffForTestEnv();\n} else {\n    doStuffForOtherProfiles();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4567941,"reputation":500,"user_id":3708472,"display_name":"Peter S."},"score":0,"creation_date":1632130084,"post_id":66274608,"comment_id":122400841,"body_markdown":"This does not work for me.","body":"This does not work for me."},{"owner":{"account_id":17952141,"reputation":97,"user_id":13045051,"display_name":"sueszli"},"score":0,"creation_date":1687340784,"post_id":66274608,"comment_id":134922067,"body_markdown":"Didn&#39;t work for me either","body":"Didn&#39;t work for me either"},{"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"score":0,"creation_date":1692108772,"post_id":66274608,"comment_id":135577907,"body_markdown":"I guess the spring.profiles.active must be set as VM argument to make it work in this case.","body":"I guess the spring.profiles.active must be set as VM argument to make it work in this case."}],"tags":[],"owner":{"account_id":1374146,"reputation":485,"user_id":1308489,"display_name":"embuc"},"comment_count":3,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1613725640,"creation_date":1613725640,"answer_id":66274608,"question_id":9267799,"body_markdown":"And if you neither want to use @Autowire nor injecting @Value you can simply do (with fallback included):\r\n\r\n    System.getProperty(&quot;spring.profiles.active&quot;, &quot;unknown&quot;);\r\n\r\nThis will return any active profile (or fallback to &#39;unknown&#39;).","title":"How do you get current active/default Environment profile programmatically in Spring?","body":"<p>And if you neither want to use @Autowire nor injecting @Value you can simply do (with fallback included):</p>\n<pre><code>System.getProperty(&quot;spring.profiles.active&quot;, &quot;unknown&quot;);\n</code></pre>\n<p>This will return any active profile (or fallback to 'unknown').</p>\n"},{"tags":[],"owner":{"account_id":6409279,"reputation":958,"user_id":7676237,"display_name":"puppylpg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696822369,"creation_date":1696822369,"answer_id":77256145,"question_id":9267799,"body_markdown":"with spring 5.3.28, things could be simpler:\r\n\r\n1. autowire `Environment`;\r\n2. use `boolean matchesProfiles(String... profileExpressions)`;\r\n\r\nfor example:\r\n```java\r\n@Autowired\r\nprivate Environment environment;\r\n\r\n...\r\n\r\nif (env.matchesProfiles(&quot;online&quot;)) {\r\n  ...\r\n}\r\n```","title":"How do you get current active/default Environment profile programmatically in Spring?","body":"<p>with spring 5.3.28, things could be simpler:</p>\n<ol>\n<li>autowire <code>Environment</code>;</li>\n<li>use <code>boolean matchesProfiles(String... profileExpressions)</code>;</li>\n</ol>\n<p>for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate Environment environment;\n\n...\n\nif (env.matchesProfiles(&quot;online&quot;)) {\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8201651,"reputation":1736,"user_id":6172826,"display_name":"seunggabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696901027,"creation_date":1696901027,"answer_id":77262475,"question_id":9267799,"body_markdown":"### use service in spring boot\r\n```\r\n@Service\r\nclass ProfileService(\r\n    val environment: Environment\r\n) {\r\n    fun get(): Profile? {\r\n        return Profile[environment.activeProfiles.firstOrNull()]\r\n    }\r\n\r\n    fun isTest(): Boolean {\r\n        return get() != Profile.PRD\r\n    }\r\n}\r\n```","title":"How do you get current active/default Environment profile programmatically in Spring?","body":"<h3>use service in spring boot</h3>\n<pre><code>@Service\nclass ProfileService(\n    val environment: Environment\n) {\n    fun get(): Profile? {\n        return Profile[environment.activeProfiles.firstOrNull()]\n    }\n\n    fun isTest(): Boolean {\n        return get() != Profile.PRD\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":211839,"reputation":8867,"user_id":464253,"accept_rate":82,"display_name":"Bobo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284904,"favorite_count":0,"down_vote_count":0,"up_vote_count":256,"accepted_answer_id":9268041,"answer_count":10,"score":256,"last_activity_date":1696901027,"creation_date":1329166218,"question_id":9267799,"body_markdown":"I need to code different logic based on different current Environment profile. \r\n\r\n***How can you get the currently active and default profiles from Spring?***","title":"How do you get current active/default Environment profile programmatically in Spring?","body":"<p>I need to code different logic based on different current Environment profile.</p>\n<p><em><strong>How can you get the currently active and default profiles from Spring?</strong></em></p>\n"},{"tags":["java","jvm","project-loom","virtual-threads"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1696924714,"post_id":77262427,"comment_id":136211440,"body_markdown":"Intrinsics are not only used for performance optimizations, they are also used for operations not expressible with ordinary code in the first place. But what do you hope to gain from looking at such low level code? The difference between scenarios involving `park` and I/O are not handled at such a place. Releasing the carrier thread inside a `synchronized` block is currently not supported, so that should answer your second question.","body":"Intrinsics are not only used for performance optimizations, they are also used for operations not expressible with ordinary code in the first place. But what do you hope to gain from looking at such low level code? The difference between scenarios involving <code>park</code> and I/O are not handled at such a place. Releasing the carrier thread inside a <code>synchronized</code> block is currently not supported, so that should answer your second question."},{"owner":{"account_id":25554154,"reputation":181,"user_id":19338016,"display_name":"hololensen"},"score":1,"creation_date":1696949582,"post_id":77262427,"comment_id":136216415,"body_markdown":"@Holger, I&#39;m currently exploring the mechanism by which compilers handle thread parking, specifically in the context of VirtualThread in Java (similar to how Golang handles goroutine suspension at compiler-determined points). It seems that in Project Loom, the responsibility for parking threads lies with the standard library, and the compiler does not play an active role in this process. Could you provide any insights or clarification on this topic?","body":"@Holger, I&#39;m currently exploring the mechanism by which compilers handle thread parking, specifically in the context of VirtualThread in Java (similar to how Golang handles goroutine suspension at compiler-determined points). It seems that in Project Loom, the responsibility for parking threads lies with the standard library, and the compiler does not play an active role in this process. Could you provide any insights or clarification on this topic?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1696953674,"post_id":77262427,"comment_id":136217248,"body_markdown":"If by “compiler” you mean javac (or source to bytecode compiler in general), then yes, it’s not involved. The standard library is responsible for parking and since the standard library also contains (most of) the blocking I/O operations, it’s also the standard library’s responsibility to replace those calls with async calls under the hood and park the virtual thread until completion.","body":"If by “compiler” you mean javac (or source to bytecode compiler in general), then yes, it’s not involved. The standard library is responsible for parking and since the standard library also contains (most of) the blocking I/O operations, it’s also the standard library’s responsibility to replace those calls with async calls under the hood and park the virtual thread until completion."},{"owner":{"account_id":25554154,"reputation":181,"user_id":19338016,"display_name":"hololensen"},"score":0,"creation_date":1696957279,"post_id":77262427,"comment_id":136218009,"body_markdown":"@Holger, it appears that Virtual Threads don&#39;t employ a preemptive model. Does this mean it&#39;s possible to effectively &#39;pin&#39; a virtual thread as long as it doesn&#39;t perform any I/O operations?&quot;","body":"@Holger, it appears that Virtual Threads don&#39;t employ a preemptive model. Does this mean it&#39;s possible to effectively &#39;pin&#39; a virtual thread as long as it doesn&#39;t perform any I/O operations?&quot;"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697099278,"post_id":77262427,"comment_id":136237677,"body_markdown":"You should not rely on this idea. Compare with [this answer](https://stackoverflow.com/a/75767787/2711488)","body":"You should not rely on this idea. Compare with <a href=\"https://stackoverflow.com/a/75767787/2711488\">this answer</a>"}],"owner":{"account_id":25554154,"reputation":181,"user_id":19338016,"display_name":"hololensen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696899583,"creation_date":1696899583,"question_id":77262427,"body_markdown":"How are virtual threads parked in Project Loom, specifically in scenarios other than `LockSupport.park()`? I&#39;ve noticed that `LockSupport.park()` is used in `FutureTask` and `CompletableFuture`, but what about situations involving **I/O operations**? I came across this code snippet (link: https://github.com/openjdk/jdk/blob/master/src/hotspot/cpu/aarch64/sharedRuntime_aarch64.cpp#L1174-L1226) involving continuation yield intrinsic, but I&#39;m unclear about where this intrinsic fits into the picture, as I understand intrinsics are typically used for performance optimization. Additionally, I&#39;m curious about `ObjectMonitor`, which use pthread_mutex with cond (link: https://github.com/openjdk/jdk/blob/f61499c73fe03e2e3680d7f58a84183364c5c5ac/src/hotspot/share/runtime/objectMonitor.cpp#L757), how does it work with `virtual thread` where `pthread` doesn&#39;t exist? ","title":"How virtual thread is parking?","body":"<p>How are virtual threads parked in Project Loom, specifically in scenarios other than <code>LockSupport.park()</code>? I've noticed that <code>LockSupport.park()</code> is used in <code>FutureTask</code> and <code>CompletableFuture</code>, but what about situations involving <strong>I/O operations</strong>? I came across this code snippet (link: <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/cpu/aarch64/sharedRuntime_aarch64.cpp#L1174-L1226\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/hotspot/cpu/aarch64/sharedRuntime_aarch64.cpp#L1174-L1226</a>) involving continuation yield intrinsic, but I'm unclear about where this intrinsic fits into the picture, as I understand intrinsics are typically used for performance optimization. Additionally, I'm curious about <code>ObjectMonitor</code>, which use pthread_mutex with cond (link: <a href=\"https://github.com/openjdk/jdk/blob/f61499c73fe03e2e3680d7f58a84183364c5c5ac/src/hotspot/share/runtime/objectMonitor.cpp#L757\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/f61499c73fe03e2e3680d7f58a84183364c5c5ac/src/hotspot/share/runtime/objectMonitor.cpp#L757</a>), how does it work with <code>virtual thread</code> where <code>pthread</code> doesn't exist?</p>\n"},{"tags":["java","kubernetes","kubernetes-custom-resources"],"answers":[{"comments":[{"owner":{"account_id":2118385,"reputation":71,"user_id":1882184,"display_name":"Imran.vatic"},"score":0,"creation_date":1695764835,"post_id":53960355,"comment_id":136067585,"body_markdown":"The above link https://github.com/kubernetes-client/java/blob/master/kubernetes/src/test/java/io/kubernetes/client/apis/CustomObjectsApiTest.java does not work anymore. Is there a way to apply the CRD using k8s java client.","body":"The above link <a href=\"https://github.com/kubernetes-client/java/blob/master/kubernetes/src/test/java/io/kubernetes/client/apis/CustomObjectsApiTest.java\" rel=\"nofollow noreferrer\">github.com/kubernetes-client/java/blob/master/kubernetes/src&zwnj;&#8203;/&hellip;</a> does not work anymore. Is there a way to apply the CRD using k8s java client."},{"owner":{"account_id":3424517,"reputation":1119,"user_id":2870704,"accept_rate":100,"display_name":"Grigoriev Nick"},"score":1,"creation_date":1696436633,"post_id":53960355,"comment_id":136153663,"body_markdown":"@Imran.vatic is it what you looking for? https://github.com/fabric8io/kubernetes-client/blob/main/kubernetes-examples/src/main/java/io/fabric8/kubernetes/examples/CRDExample.java","body":"@Imran.vatic is it what you looking for? <a href=\"https://github.com/fabric8io/kubernetes-client/blob/main/kubernetes-examples/src/main/java/io/fabric8/kubernetes/examples/CRDExample.java\" rel=\"nofollow noreferrer\">github.com/fabric8io/kubernetes-client/blob/main/&hellip;</a>"}],"tags":[],"owner":{"account_id":3424517,"reputation":1119,"user_id":2870704,"accept_rate":100,"display_name":"Grigoriev Nick"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696898863,"creation_date":1546008798,"answer_id":53960355,"question_id":53726962,"body_markdown":"Yes, But not only with java client.\r\nSo first use some lib to read yaml and convert it to JSON.\r\nAnd then USe K8s [api for Custom Resource Object][1] or what ever you want to do.\r\n\r\n\r\n  [1]: https://github.com/kubernetes-client/java/blob/master/kubernetes/src/main/java/io/kubernetes/client/openapi/apis/CustomObjectsApi.java","title":"CRD creation with java-client for Kubernetes","body":"<p>Yes, But not only with java client.\nSo first use some lib to read yaml and convert it to JSON.\nAnd then USe K8s <a href=\"https://github.com/kubernetes-client/java/blob/master/kubernetes/src/main/java/io/kubernetes/client/openapi/apis/CustomObjectsApi.java\" rel=\"nofollow noreferrer\">api for Custom Resource Object</a> or what ever you want to do.</p>\n"}],"owner":{"account_id":7099483,"reputation":2991,"user_id":5431681,"accept_rate":59,"display_name":"Cassie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1421,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53960355,"answer_count":1,"score":2,"last_activity_date":1696898863,"creation_date":1544540884,"question_id":53726962,"body_markdown":"IS it possible to create custom resource definition by reading the data from yaml file and using [Java client][1] for Kubernetes?\r\nI am using the version of library 3.0.0 in sbt and with Scala. But I was not able to find any kind of methods for custom resources creation in the main library repository while there are similar methods for the basic resources (like pods)\r\n\r\n  [1]: https://github.com/kubernetes-client/java","title":"CRD creation with java-client for Kubernetes","body":"<p>IS it possible to create custom resource definition by reading the data from yaml file and using <a href=\"https://github.com/kubernetes-client/java\" rel=\"nofollow noreferrer\">Java client</a> for Kubernetes?\nI am using the version of library 3.0.0 in sbt and with Scala. But I was not able to find any kind of methods for custom resources creation in the main library repository while there are similar methods for the basic resources (like pods)</p>\n"},{"tags":["java","swing","jtextcomponent"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1504333817,"post_id":46010949,"comment_id":78982524,"body_markdown":"The title says `JTextField` but the body says `JTextArea`. Which is it?","body":"The title says <code>JTextField</code> but the body says <code>JTextArea</code>. Which is it?"}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1504333725,"creation_date":1504333725,"answer_id":46011125,"question_id":46010949,"body_markdown":"Use [`JTextComponent.setCaretPosition(int)`](https://docs.oracle.com/javase/8/docs/api/javax/swing/text/JTextComponent.html#setCaretPosition-int-) which:\r\n\r\n&gt; Sets the position of the **text insertion caret** for the TextComponent. Note that the caret tracks change, so this may move if the underlying text of the component is changed. If the document is `null`, does nothing. The position must be between 0 and the length of the component&#39;s text or else an exception is thrown.","title":"How to re-position cursor in JTextArea","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/text/JTextComponent.html#setCaretPosition-int-\" rel=\"noreferrer\"><code>JTextComponent.setCaretPosition(int)</code></a> which:</p>\n\n<blockquote>\n  <p>Sets the position of the <strong>text insertion caret</strong> for the TextComponent. Note that the caret tracks change, so this may move if the underlying text of the component is changed. If the document is <code>null</code>, does nothing. The position must be between 0 and the length of the component's text or else an exception is thrown.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":10533437,"reputation":772,"user_id":7762081,"display_name":"Anukool"},"score":0,"creation_date":1504511168,"post_id":46011769,"comment_id":79024817,"body_markdown":"it is working but can we move cursor at the end of line?with this code cursor is in start of line.","body":"it is working but can we move cursor at the end of line?with this code cursor is in start of line."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1504581771,"post_id":46011769,"comment_id":79052692,"body_markdown":"@Anukool - See **Edit** in answer above.","body":"@Anukool - See <b>Edit</b> in answer above."}],"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1504581696,"creation_date":1504339627,"answer_id":46011769,"question_id":46010949,"body_markdown":"If you want to go from one actual text line to another text line then you still need to use the **JTextComponent.setCaretPosition()** method but what you will also need is a means to get the desired line starting index to pass to the **JTextComponent.setCaretPosition()** method. Here is how you can get the starting index of any supplied line number providing the line number supplied exists within the document:\r\n\r\n    public int getLineStartIndex(JTextComponent textComp, int lineNumber) {\r\n        if (lineNumber == 0) { return 0; }\r\n            \r\n        // Gets the current line number start index value for \r\n        // the supplied text line.\r\n        try {\r\n            JTextArea jta = (JTextArea) textComp;\r\n            return jta.getLineStartOffset(lineNumber-1);\r\n        } catch (BadLocationException ex) { return -1; }\r\n    }\r\n\r\nHow you might use the above method (let&#39;s say from the **ActionPerformed** event of a JButton):\r\n\r\n    int index = getLineStartIndex(jTextArea1, 3);\r\n    if (index != -1) { \r\n        jTextArea1.setCaretPosition(index);\r\n    }\r\n    jTextArea1.requestFocus();\r\n\r\nThe example usage code above will move the caret (*from whatever location it happens to be in within the document*) to the beginning of line 3 within the same document.\r\n\r\n\r\n\r\n&gt; **EDIT: Based on question in comments...**\r\n\r\n\r\n\r\nTo move the caret to the end of a line you can make yet another method very similar to the **getLineStartIndex()** method above except now we&#39;ll name it **getLineEndIndex()** and we&#39;ll make a single code line change:\r\n\r\n    public int getLineEndIndex(JTextComponent textComp, int lineNumber) {\r\n        if (lineNumber == 0) { return 0; }\r\n            \r\n        // Gets the current line number end index value for \r\n        // the supplied text line.\r\n        try {\r\n            JTextArea jta = (JTextArea) textComp;\r\n            return jta.getLineEndOffset(lineNumber-1) - System.lineSeparator().length();\r\n        } catch (BadLocationException ex) { return -1; }\r\n    }\r\n\r\nUse this method the same way as the **getLineStartIndex()** method shown above.","title":"How to re-position cursor in JTextArea","body":"<p>If you want to go from one actual text line to another text line then you still need to use the <strong>JTextComponent.setCaretPosition()</strong> method but what you will also need is a means to get the desired line starting index to pass to the <strong>JTextComponent.setCaretPosition()</strong> method. Here is how you can get the starting index of any supplied line number providing the line number supplied exists within the document:</p>\n\n<pre><code>public int getLineStartIndex(JTextComponent textComp, int lineNumber) {\n    if (lineNumber == 0) { return 0; }\n\n    // Gets the current line number start index value for \n    // the supplied text line.\n    try {\n        JTextArea jta = (JTextArea) textComp;\n        return jta.getLineStartOffset(lineNumber-1);\n    } catch (BadLocationException ex) { return -1; }\n}\n</code></pre>\n\n<p>How you might use the above method (let's say from the <strong>ActionPerformed</strong> event of a JButton):</p>\n\n<pre><code>int index = getLineStartIndex(jTextArea1, 3);\nif (index != -1) { \n    jTextArea1.setCaretPosition(index);\n}\njTextArea1.requestFocus();\n</code></pre>\n\n<p>The example usage code above will move the caret (<em>from whatever location it happens to be in within the document</em>) to the beginning of line 3 within the same document.</p>\n\n<blockquote>\n  <p><strong>EDIT: Based on question in comments...</strong></p>\n</blockquote>\n\n<p>To move the caret to the end of a line you can make yet another method very similar to the <strong>getLineStartIndex()</strong> method above except now we'll name it <strong>getLineEndIndex()</strong> and we'll make a single code line change:</p>\n\n<pre><code>public int getLineEndIndex(JTextComponent textComp, int lineNumber) {\n    if (lineNumber == 0) { return 0; }\n\n    // Gets the current line number end index value for \n    // the supplied text line.\n    try {\n        JTextArea jta = (JTextArea) textComp;\n        return jta.getLineEndOffset(lineNumber-1) - System.lineSeparator().length();\n    } catch (BadLocationException ex) { return -1; }\n}\n</code></pre>\n\n<p>Use this method the same way as the <strong>getLineStartIndex()</strong> method shown above.</p>\n"}],"owner":{"account_id":10533437,"reputation":772,"user_id":7762081,"display_name":"Anukool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696898851,"creation_date":1504332062,"question_id":46010949,"body_markdown":"I have set some text in `JTextArea`. The cursor is in the 5th line. Now I want to set some text in the first line. \r\n\r\nSo is it possible to re-position the cursor to the desired line?","title":"How to re-position cursor in JTextArea","body":"<p>I have set some text in <code>JTextArea</code>. The cursor is in the 5th line. Now I want to set some text in the first line.</p>\n<p>So is it possible to re-position the cursor to the desired line?</p>\n"},{"tags":["java","android","path","contains"],"comments":[{"owner":{"account_id":1670427,"reputation":10616,"user_id":1536976,"accept_rate":78,"display_name":"NoDataDumpNoContribution"},"score":0,"creation_date":1450739408,"post_id":7044838,"comment_id":56553594,"body_markdown":"Possible duplicate of [How can I tell if a closed path contains a given point?](http://stackoverflow.com/questions/2597590/how-can-i-tell-if-a-closed-path-contains-a-given-point)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/2597590/how-can-i-tell-if-a-closed-path-contains-a-given-point\">How can I tell if a closed path contains a given point?</a>"}],"answers":[{"comments":[{"owner":{"account_id":179545,"reputation":2832,"user_id":412286,"accept_rate":99,"display_name":"StartingGroovy"},"score":0,"creation_date":1313177288,"post_id":7045002,"comment_id":8420735,"body_markdown":"What would one do if they are uncertain of the number of sides the polygon has?","body":"What would one do if they are uncertain of the number of sides the polygon has?"},{"owner":{"account_id":429789,"reputation":8649,"user_id":812868,"accept_rate":78,"display_name":"theisenp"},"score":0,"creation_date":1313177573,"post_id":7045002,"comment_id":8420816,"body_markdown":"The number of sides can easily be inferred from the number of points.  A rectangle has 4 points and 4 sides.  A triangle has 3 points and 3 sides.  Polygons drawn by continuous paths have the same number of sides and points, so if your path has &quot;n&quot;points, it also has &quot;n&quot; sides.","body":"The number of sides can easily be inferred from the number of points.  A rectangle has 4 points and 4 sides.  A triangle has 3 points and 3 sides.  Polygons drawn by continuous paths have the same number of sides and points, so if your path has &quot;n&quot;points, it also has &quot;n&quot; sides."},{"owner":{"account_id":429789,"reputation":8649,"user_id":812868,"accept_rate":78,"display_name":"theisenp"},"score":0,"creation_date":1313182721,"post_id":7045002,"comment_id":8422142,"body_markdown":"Awesome, I&#39;m glad I could help.  This solution saved me a ton of trouble a few weeks ago too.","body":"Awesome, I&#39;m glad I could help.  This solution saved me a ton of trouble a few weeks ago too."},{"owner":{"account_id":179545,"reputation":2832,"user_id":412286,"accept_rate":99,"display_name":"StartingGroovy"},"score":0,"creation_date":1313183084,"post_id":7045002,"comment_id":8422249,"body_markdown":"Yeah it&#39;s rather odd that they left the contains method out. Nonetheless, I&#39;m glad you saved me a ton of time with the class. Cheers!","body":"Yeah it&#39;s rather odd that they left the contains method out. Nonetheless, I&#39;m glad you saved me a ton of time with the class. Cheers!"},{"owner":{"account_id":473186,"reputation":2096,"user_id":882146,"accept_rate":80,"display_name":"snapfractalpop"},"score":0,"creation_date":1329662915,"post_id":7045002,"comment_id":11803468,"body_markdown":"This was very helpful.  If interested, I found information on the crossing number and winding number algorithms (which I found very informative) here: http://softsurfer.com/Archive/algorithm_0103/algorithm_0103.htm","body":"This was very helpful.  If interested, I found information on the crossing number and winding number algorithms (which I found very informative) here: <a href=\"http://softsurfer.com/Archive/algorithm_0103/algorithm_0103.htm\" rel=\"nofollow noreferrer\">softsurfer.com/Archive/algorithm_0103/algorithm_0103.htm</a>"},{"owner":{"account_id":2252793,"reputation":964,"user_id":1984683,"accept_rate":100,"display_name":"Florin Mircea"},"score":0,"creation_date":1372768175,"post_id":7045002,"comment_id":25308847,"body_markdown":"... and your answer also saved me a good amount of time. Thanks, theisenp!","body":"... and your answer also saved me a good amount of time. Thanks, theisenp!"}],"tags":[],"owner":{"account_id":429789,"reputation":8649,"user_id":812868,"accept_rate":78,"display_name":"theisenp"},"comment_count":6,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1313175771,"creation_date":1313175391,"answer_id":7045002,"question_id":7044838,"body_markdown":"I came up against this same problem a little while ago, and after some searching, I found this to be the best solution.\r\n\r\nJava has a `Polygon` class with a `contains()` method that would make things really simple.  Unfortunately, the `java.awt.Polygon`class is not supported in Android.  However, I was able to find someone who wrote an [equivalent class](http://www.anddev.org/other-coding-problems-f5/using-java-awt-polygon-in-android-t6521.html#wrap).\r\n\r\nI don&#39;t think you can get the individual points that make up the path from the Android `Path` class, so you will have to store the data in a different way.\r\n\r\nThe class uses a Crossing Number algorithm to determine whether or not the point is inside of the given list of points.\r\n\r\n    /**\r\n     * Minimum Polygon class for Android.\r\n     */\r\n    public class Polygon\r\n    {\r\n        // Polygon coodinates.\r\n        private int[] polyY, polyX;\r\n     \r\n        // Number of sides in the polygon.\r\n        private int polySides;\r\n       \r\n        /**\r\n         * Default constructor.\r\n         * @param px Polygon y coods.\r\n         * @param py Polygon x coods.\r\n         * @param ps Polygon sides count.\r\n         */\r\n        public Polygon( int[] px, int[] py, int ps )\r\n        {\r\n            polyX = px;\r\n            polyY = py;\r\n            polySides = ps;\r\n        }\r\n     \r\n        /**\r\n         * Checks if the Polygon contains a point.\r\n         * @see &quot;http://alienryderflex.com/polygon/&quot;\r\n         * @param x Point horizontal pos.\r\n         * @param y Point vertical pos.\r\n         * @return Point is in Poly flag.\r\n         */\r\n        public boolean contains( int x, int y )\r\n        {\r\n            boolean oddTransitions = false;\r\n            for( int i = 0, j = polySides -1; i &lt; polySides; j = i++ )\r\n            {\r\n                if( ( polyY[ i ] &lt; y &amp;&amp; polyY[ j ] &gt;= y ) || ( polyY[ j ] &lt; y &amp;&amp; polyY[ i ] &gt;= y ) )\r\n                {\r\n                    if( polyX[ i ] + ( y - polyY[ i ] ) / ( polyY[ j ] - polyY[ i ] ) * ( polyX[ j ] - polyX[ i ] ) &lt; x )\r\n                    {\r\n                        oddTransitions = !oddTransitions;          \r\n                    }\r\n                }\r\n            }\r\n            return oddTransitions;\r\n        }  \r\n    }","title":"Finding Points contained in a Path in Android","body":"<p>I came up against this same problem a little while ago, and after some searching, I found this to be the best solution.</p>\n\n<p>Java has a <code>Polygon</code> class with a <code>contains()</code> method that would make things really simple.  Unfortunately, the <code>java.awt.Polygon</code>class is not supported in Android.  However, I was able to find someone who wrote an <a href=\"http://www.anddev.org/other-coding-problems-f5/using-java-awt-polygon-in-android-t6521.html#wrap\" rel=\"noreferrer\">equivalent class</a>.</p>\n\n<p>I don't think you can get the individual points that make up the path from the Android <code>Path</code> class, so you will have to store the data in a different way.</p>\n\n<p>The class uses a Crossing Number algorithm to determine whether or not the point is inside of the given list of points.</p>\n\n<pre><code>/**\n * Minimum Polygon class for Android.\n */\npublic class Polygon\n{\n    // Polygon coodinates.\n    private int[] polyY, polyX;\n\n    // Number of sides in the polygon.\n    private int polySides;\n\n    /**\n     * Default constructor.\n     * @param px Polygon y coods.\n     * @param py Polygon x coods.\n     * @param ps Polygon sides count.\n     */\n    public Polygon( int[] px, int[] py, int ps )\n    {\n        polyX = px;\n        polyY = py;\n        polySides = ps;\n    }\n\n    /**\n     * Checks if the Polygon contains a point.\n     * @see \"http://alienryderflex.com/polygon/\"\n     * @param x Point horizontal pos.\n     * @param y Point vertical pos.\n     * @return Point is in Poly flag.\n     */\n    public boolean contains( int x, int y )\n    {\n        boolean oddTransitions = false;\n        for( int i = 0, j = polySides -1; i &lt; polySides; j = i++ )\n        {\n            if( ( polyY[ i ] &lt; y &amp;&amp; polyY[ j ] &gt;= y ) || ( polyY[ j ] &lt; y &amp;&amp; polyY[ i ] &gt;= y ) )\n            {\n                if( polyX[ i ] + ( y - polyY[ i ] ) / ( polyY[ j ] - polyY[ i ] ) * ( polyX[ j ] - polyX[ i ] ) &lt; x )\n                {\n                    oddTransitions = !oddTransitions;          \n                }\n            }\n        }\n        return oddTransitions;\n    }  \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2594018,"reputation":390,"user_id":2248063,"accept_rate":20,"display_name":"Vikrant_Dev"},"score":0,"creation_date":1395823517,"post_id":8573353,"comment_id":34507798,"body_markdown":"Thnx mate. Saved me a lot of trouble. i was implementing @theisenp answer but it was not upto my expectation. +1 for you.","body":"Thnx mate. Saved me a lot of trouble. i was implementing @theisenp answer but it was not upto my expectation. +1 for you."},{"owner":{"account_id":381503,"reputation":3141,"user_id":736196,"accept_rate":96,"display_name":"kinghomer"},"score":0,"creation_date":1433857367,"post_id":8573353,"comment_id":49523791,"body_markdown":"What about path with arc ? Algorithm uses vertex array. It doesn&#39;t seem to consider case when path contains arc or, more in general, circolar portion of path.","body":"What about path with arc ? Algorithm uses vertex array. It doesn&#39;t seem to consider case when path contains arc or, more in general, circolar portion of path."},{"owner":{"account_id":135551,"reputation":10101,"user_id":338479,"accept_rate":80,"display_name":"Edward Falk"},"score":0,"creation_date":1448730232,"post_id":8573353,"comment_id":55704184,"body_markdown":"Thank you very much for posting this.","body":"Thank you very much for posting this."}],"tags":[],"owner":{"account_id":1118744,"reputation":1886,"user_id":1107502,"display_name":"Hans"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1448730472,"creation_date":1324373646,"answer_id":8573353,"question_id":7044838,"body_markdown":"Tried the other answer, but it gave an erroneous outcome for my case. Didn&#39;t bother to find the exact cause, but made my own direct translation from the algorithm on:\r\n[http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html](https://web.archive.org/web/20150524081154/http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html)\r\n\r\nNow the code reads:\r\n\r\n    /**\r\n     * Minimum Polygon class for Android.\r\n     */\r\n    public class Polygon\r\n    {\r\n        // Polygon coodinates.\r\n        private int[] polyY, polyX;\r\n     \r\n        // Number of sides in the polygon.\r\n        private int polySides;\r\n       \r\n        /**\r\n         * Default constructor.\r\n         * @param px Polygon y coods.\r\n         * @param py Polygon x coods.\r\n         * @param ps Polygon sides count.\r\n         */\r\n        public Polygon( int[] px, int[] py, int ps )\r\n        {\r\n            polyX = px;\r\n            polyY = py;\r\n            polySides = ps;\r\n        }\r\n     \r\n        /**\r\n         * Checks if the Polygon contains a point.\r\n         * @see &quot;http://alienryderflex.com/polygon/&quot;\r\n         * @param x Point horizontal pos.\r\n         * @param y Point vertical pos.\r\n         * @return Point is in Poly flag.\r\n         */\r\n        public boolean contains( int x, int y )\r\n        {\r\n            boolean c = false;\r\n            int i, j = 0;\r\n            for (i = 0, j = polySides - 1; i &lt; polySides; j = i++) {\r\n                if (((polyY[i] &gt; y) != (polyY[j] &gt; y))\r\n\t\t\t\t\t&amp;&amp; (x &lt; (polyX[j] - polyX[i]) * (y - polyY[i]) / (polyY[j] - polyY[i]) + polyX[i]))\r\n                c = !c;\r\n            }\r\n            return c;\r\n        }  \r\n    }\r\n\r\n","title":"Finding Points contained in a Path in Android","body":"<p>Tried the other answer, but it gave an erroneous outcome for my case. Didn't bother to find the exact cause, but made my own direct translation from the algorithm on:\n<a href=\"https://web.archive.org/web/20150524081154/http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\" rel=\"nofollow noreferrer\">http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html</a></p>\n\n<p>Now the code reads:</p>\n\n<pre><code>/**\n * Minimum Polygon class for Android.\n */\npublic class Polygon\n{\n    // Polygon coodinates.\n    private int[] polyY, polyX;\n\n    // Number of sides in the polygon.\n    private int polySides;\n\n    /**\n     * Default constructor.\n     * @param px Polygon y coods.\n     * @param py Polygon x coods.\n     * @param ps Polygon sides count.\n     */\n    public Polygon( int[] px, int[] py, int ps )\n    {\n        polyX = px;\n        polyY = py;\n        polySides = ps;\n    }\n\n    /**\n     * Checks if the Polygon contains a point.\n     * @see \"http://alienryderflex.com/polygon/\"\n     * @param x Point horizontal pos.\n     * @param y Point vertical pos.\n     * @return Point is in Poly flag.\n     */\n    public boolean contains( int x, int y )\n    {\n        boolean c = false;\n        int i, j = 0;\n        for (i = 0, j = polySides - 1; i &lt; polySides; j = i++) {\n            if (((polyY[i] &gt; y) != (polyY[j] &gt; y))\n                &amp;&amp; (x &lt; (polyX[j] - polyX[i]) * (y - polyY[i]) / (polyY[j] - polyY[i]) + polyX[i]))\n            c = !c;\n        }\n        return c;\n    }  \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1121469,"reputation":339,"user_id":1109712,"accept_rate":81,"display_name":"samir"},"score":0,"creation_date":1352372806,"post_id":10375171,"comment_id":18116744,"body_markdown":"thanks buddy. I was also facing the same issue of accuracy and reading your comment made that work thanks. u r getting a +1 :)","body":"thanks buddy. I was also facing the same issue of accuracy and reading your comment made that work thanks. u r getting a +1 :)"}],"tags":[],"owner":{"account_id":298360,"reputation":1922,"user_id":604349,"accept_rate":25,"display_name":"Sebastian"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1335727185,"creation_date":1335727185,"answer_id":10375171,"question_id":7044838,"body_markdown":"I would just like to comment on @theisenp answer: The code has integer arrays and if you look on the algorithm description webpage it warns against using integers instead of floating point.\r\n\r\nI copied your code above and it seemed to work fine except for some corner cases when I made lines that didnt connect to themselves very well.\r\n\r\nBy changing everything to floating point, I got rid of this bug.\r\n","title":"Finding Points contained in a Path in Android","body":"<p>I would just like to comment on @theisenp answer: The code has integer arrays and if you look on the algorithm description webpage it warns against using integers instead of floating point.</p>\n\n<p>I copied your code above and it seemed to work fine except for some corner cases when I made lines that didnt connect to themselves very well.</p>\n\n<p>By changing everything to floating point, I got rid of this bug.</p>\n"},{"comments":[{"owner":{"account_id":462804,"reputation":1143,"user_id":865316,"accept_rate":64,"display_name":"ShP"},"score":0,"creation_date":1455630641,"post_id":33974251,"comment_id":58566736,"body_markdown":"Can you please provide sample how to use your library properly with arc example, it looks like I&#39;m doing something wrong. Actually not sure what to sent for x0,y0,x1,y0. Is that top, bottom, left, right points from RectF obj? (android newbie)","body":"Can you please provide sample how to use your library properly with arc example, it looks like I&#39;m doing something wrong. Actually not sure what to sent for x0,y0,x1,y0. Is that top, bottom, left, right points from RectF obj? (android newbie)"},{"owner":{"account_id":135551,"reputation":10101,"user_id":338479,"accept_rate":80,"display_name":"Edward Falk"},"score":0,"creation_date":1455636880,"post_id":33974251,"comment_id":58571257,"body_markdown":"Yes, Android specifies arcs by specifying the bounds of the ellipse and then specifying start and end angles. I have some notes on this at http://www.efalk.org/Docs/Android/graphics_0.html#arcTo","body":"Yes, Android specifies arcs by specifying the bounds of the ellipse and then specifying start and end angles. I have some notes on this at <a href=\"http://www.efalk.org/Docs/Android/graphics_0.html#arcTo\" rel=\"nofollow noreferrer\">efalk.org/Docs/Android/graphics_0.html#arcTo</a>"},{"owner":{"account_id":15412192,"reputation":692,"user_id":11118648,"display_name":"Bhaven Shah"},"score":0,"creation_date":1604896399,"post_id":33974251,"comment_id":114476796,"body_markdown":"You can give an example of how to use it? @ShP are you understood?","body":"You can give an example of how to use it? @ShP are you understood?"}],"tags":[],"owner":{"account_id":135551,"reputation":10101,"user_id":338479,"accept_rate":80,"display_name":"Edward Falk"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696898430,"creation_date":1448731752,"answer_id":33974251,"question_id":7044838,"body_markdown":"For completeness, I want to make a couple notes here:\r\n\r\nAs of API 19, there is an [intersection operation][1] for Paths. You could create a very small square path around your test point, intersect it with the Path, and see if the result is empty or not.\r\n\r\nYou can convert Paths to Regions and do a [contains()][2] operation. However Regions work in integer coordinates, and I think they use transformed (pixel) coordinates, so you&#39;ll have to work with that. I also suspect that the conversion process is computationally intensive.\r\n\r\nThe edge-crossing algorithm that Hans posted is good and quick, but you have to be very careful for certain corner cases such as when the ray passes directly through a vertex, or intersects a horizontal edge, or when round-off error is a problem, which it always is.\r\n\r\nThe [winding number](https://en.wikipedia.org/wiki/Point_in_polygon#Winding_number_algorithm) method is pretty much fool proof, but involves a lot of trig and is computationally expensive.\r\n\r\n[This paper by Dan Sunday](https://web.archive.org/web/20130126163405/http://geomalgorithms.com/a03-_inclusion.html) gives a hybrid algorithm that&#39;s as accurate as the winding number but as computationally simple as the ray-casting algorithm. It blew me away how elegant it was.\r\n\r\n## My code ##\r\n\r\nThis is some code I wrote recently in Java which handles a path made out of both line segments **and** arcs. (Also circles, but those are complete paths on their own, so it&#39;s sort of a degenerate case.)\r\n\r\n    package org.efalk.util;\r\n\r\n    /**\r\n     * Utility: determine if a point is inside a path.\r\n     */\r\n    public class PathUtil {\r\n        static final double RAD = (Math.PI/180.);\r\n        static final double DEG = (180./Math.PI);\r\n\r\n        protected static final int LINE = 0;\r\n        protected static final int ARC = 1;\r\n        protected static final int CIRCLE = 2;\r\n\r\n        /**\r\n         * Used to cache the contents of a path for pick testing.  For a\r\n         * line segment, x0,y0,x1,y1 are the endpoints of the line.  For\r\n         * a circle (ellipse, actually), x0,y0,x1,y1 are the bounding box\r\n         * of the circle (this is how Android and X11 like to represent\r\n         * circles).  For an arc, x0,y0,x1,y1 are the bounding box, a1 is\r\n         * the start angle (degrees CCW from the +X direction) and a1 is\r\n         * the sweep angle (degrees CCW).\r\n         */\r\n        public static class PathElement {\r\n            public int type;\r\n            public float x0,y0,x1,y1;   // Endpoints or bounding box\r\n            public float a0,a1;         // Arcs and circles\r\n        }\r\n\r\n        /**\r\n         * Determine if the given point is inside the given path.\r\n         */\r\n        public static boolean inside(float x, float y, PathElement[] path) {\r\n            // Based on algorithm by Dan Sunday, but allows for arc segments too.         \r\n            // https://web.archive.org/web/20130126163405/http://geomalgorithms.com/a03-_inclusion.html\r\n            int wn = 0;\r\n            // loop through all edges of the polygon\r\n            // An upward crossing requires y0 &lt;= y and y1 &gt; y\r\n            // A downward crossing requires y0 &gt; y and y1 &lt;= y\r\n            for (PathElement pe : path) {\r\n                switch (pe.type) {\r\n                  case LINE:\r\n                    if (pe.x0 &lt; x &amp;&amp; pe.x1 &lt; x) // left\r\n                        break;\r\n                    if (pe.y0 &lt;= y) {           // start y &lt;= P.y\r\n                        if (pe.y1 &gt; y) {        // an upward crossing\r\n                            if (isLeft(pe, x, y) &gt; 0) // P left of  edge\r\n                                ++wn;                // have  a valid up intersect\r\n                        }\r\n                    }\r\n                    else {                              // start y &gt; P.y\r\n                        if (pe.y1 &lt;= y) {       // a downward crossing\r\n                            if (isLeft(pe, x, y) &lt; 0) // P right of  edge\r\n                                --wn;                // have  a valid down intersect\r\n                        }\r\n                    }\r\n                    break;\r\n                  case ARC:\r\n                    wn += arcCrossing(pe, x, y);\r\n                    break;\r\n                  case CIRCLE:\r\n                    // This should be the only element in the path, so test it\r\n                    // and get out.\r\n                    float rx = (pe.x1-pe.x0)/2;\r\n                    float ry = (pe.y1-pe.y0)/2;\r\n                    float xc = (pe.x1+pe.x0)/2;\r\n                    float yc = (pe.y1+pe.y0)/2;\r\n                    return (x-xc)*(x-xc)/rx*rx + (y-yc)*(y-yc)/ry*ry &lt;= 1;\r\n                }\r\n            }\r\n            return wn != 0;\r\n        }\r\n\r\n        /**\r\n         * Return &gt;0 if p is left of line p0-p1; &lt;0 if to the right; 0 if\r\n         * on the line.\r\n         */\r\n        private static float\r\n        isLeft(float x0, float y0, float x1, float y1, float x, float y)\r\n        {\r\n            return (x1 - x0) * (y - y0) - (x - x0) * (y1 - y0);\r\n        }\r\n\r\n        private static float isLeft(PathElement pe, float x, float y) {\r\n            return isLeft(pe.x0,pe.y0, pe.x1,pe.y1, x,y);\r\n        }\r\n\r\n        /**\r\n         * Determine if an arc segment crosses the test ray up or down, or not\r\n         * at all.\r\n         * @return winding number increment:\r\n         *      +1 upward crossing\r\n         *       0 no crossing\r\n         *      -1 downward crossing\r\n         */\r\n        private static int arcCrossing(PathElement pe, float x, float y) {\r\n            // Look for trivial reject cases first.\r\n            if (pe.x1 &lt; x || pe.y1 &lt; y || pe.y0 &gt; y) return 0;\r\n\r\n            // Find the intersection of the test ray with the arc. This consists\r\n            // of finding the intersection(s) of the line with the ellipse that\r\n            // contains the arc, then determining if the intersection(s)\r\n            // are within the limits of the arc.\r\n            // Since we&#39;re mostly concerned with whether or not there *is* an\r\n            // intersection, we have several opportunities to punt.\r\n            // An upward crossing requires y0 &lt;= y and y1 &gt; y\r\n            // A downward crossing requires y0 &gt; y and y1 &lt;= y\r\n            float rx = (pe.x1-pe.x0)/2;\r\n            float ry = (pe.y1-pe.y0)/2;\r\n            float xc = (pe.x1+pe.x0)/2;\r\n            float yc = (pe.y1+pe.y0)/2;\r\n            if (rx == 0 || ry == 0) return 0;\r\n            if (rx &lt; 0) rx = -rx;\r\n            if (ry &lt; 0) ry = -ry;\r\n            // We start by transforming everything so the ellipse is the unit\r\n            // circle; this simplifies the math.\r\n            x -= xc;\r\n            y -= yc;\r\n            if (x &gt; rx || y &gt; ry || y &lt; -ry) return 0;\r\n            x /= rx;\r\n            y /= ry;\r\n            // Now find the points of intersection. This is simplified by the\r\n            // fact that our line is horizontal. Also, by the time we get here,\r\n            // we know there *is* an intersection.\r\n            // The equation for the circle is x&#178;+y&#178; = 1. We have y, so solve\r\n            // for x = &#177;sqrt(1 - y&#178;)\r\n            double x0 = 1 - y*y;\r\n            if (x0 &lt;= 0) return 0;\r\n            x0 = Math.sqrt(x0);\r\n            // We only care about intersections to the right of x, so\r\n            // that&#39;s another opportunity to punt. For a CCW arc, The right\r\n            // intersection is an upward crossing and the left intersection\r\n            // is a downward crossing.  The reverse is true for a CW arc.\r\n            if (x &gt; x0) return 0;\r\n            int wn = arcXing1(x0,y, pe.a0, pe.a1);\r\n            if (x &lt; -x0) wn -= arcXing1(-x0,y, pe.a0, pe.a1);\r\n            return wn;\r\n        }\r\n\r\n        /**\r\n         * Return the winding number of the point x,y on the unit circle\r\n         * which passes through the arc segment defined by a0,a1.\r\n         */\r\n        private static int arcXing1(double x, float y, float a0, float a1) {\r\n            double a = Math.atan2(y,x) * DEG;\r\n            if (a &lt; 0) a += 360;\r\n            if (a1 &gt; 0) {       // CCW\r\n                if (a &lt; a0) a += 360;\r\n                return a0 + a1 &gt; a ? 1 : 0;\r\n            } else {            // CW\r\n                if (a0 &lt; a) a0 += 360;\r\n                return a0 + a1 &lt;= a ? -1 : 0;\r\n            }\r\n        }\r\n    }\r\n\r\n----\r\n\r\nEdit: by request, adding some sample code that makes use of this.\r\n\r\n    import PathUtil;\r\n    import PathUtil.PathElement;\r\n\r\n    /**\r\n     * This class represents a single geographic area defined by a\r\n     * circle or a list of line segments and arcs.\r\n     */\r\n    public class Area {\r\n        public float lat0, lon0, lat1, lon1;    // bounds\r\n        Path path = null;\r\n        PathElement[] pathList;\r\n\r\n        /**\r\n         * Return true if this point is inside the area bounds. This is\r\n         * used to confirm touch events and may be computationally expensive.\r\n         */\r\n        public boolean pointInBounds(float lat, float lon) {\r\n            if (lat &lt; lat0 || lat &gt; lat1 || lon &lt; lon0 || lon &gt; lon1)\r\n                return false;\r\n            return PathUtil.inside(lon, lat, pathList);\r\n        }\r\n\r\n        static void loadBounds() {\r\n            int n = number_of_elements_in_input;\r\n            path = new Path();\r\n            pathList = new PathElement[n];\r\n            for (Element element : elements_in_input) {\r\n                PathElement pe = new PathElement();\r\n                pathList[i] = pe;\r\n                pe.type = element.type;\r\n                switch (element.type) {\r\n                  case LINE:        // Line segment\r\n                    pe.x0 = element.x0;\r\n                    pe.y0 = element.y0;\r\n                    pe.x1 = element.x1;\r\n                    pe.y1 = element.y1;\r\n                    // Add to path, not shown here\r\n                    break;\r\n                  case ARC: // Arc segment\r\n                    pe.x0 = element.xmin;     // Bounds of arc ellipse\r\n                    pe.y0 = element.ymin;\r\n                    pe.x1 = element.xmax;\r\n                    pe.y1 = element.ymax;\r\n                    pe.a0 = a0; pe.a1 = a1;\r\n                    break;\r\n                  case CIRCLE: // Circle; hopefully the only entry here\r\n                    pe.x0 = element.xmin;    // Bounds of ellipse\r\n                    pe.y0 = element.ymin;\r\n                    pe.x1 = element.xmax;\r\n                    pe.y1 = element.ymax;\r\n                    // Add to path, not shown here\r\n                    break;\r\n                }\r\n            }\r\n            path.close();\r\n        }   \r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/graphics/Path.html#op(android.graphics.Path,%20android.graphics.Path,%20android.graphics.Path.Op)\r\n  [2]: http://developer.android.com/reference/android/graphics/Region.html#contains(int,%20int)","title":"Finding Points contained in a Path in Android","body":"<p>For completeness, I want to make a couple notes here:</p>\n<p>As of API 19, there is an <a href=\"http://developer.android.com/reference/android/graphics/Path.html#op(android.graphics.Path,%20android.graphics.Path,%20android.graphics.Path.Op)\" rel=\"nofollow noreferrer\">intersection operation</a> for Paths. You could create a very small square path around your test point, intersect it with the Path, and see if the result is empty or not.</p>\n<p>You can convert Paths to Regions and do a <a href=\"http://developer.android.com/reference/android/graphics/Region.html#contains(int,%20int)\" rel=\"nofollow noreferrer\">contains()</a> operation. However Regions work in integer coordinates, and I think they use transformed (pixel) coordinates, so you'll have to work with that. I also suspect that the conversion process is computationally intensive.</p>\n<p>The edge-crossing algorithm that Hans posted is good and quick, but you have to be very careful for certain corner cases such as when the ray passes directly through a vertex, or intersects a horizontal edge, or when round-off error is a problem, which it always is.</p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/Point_in_polygon#Winding_number_algorithm\" rel=\"nofollow noreferrer\">winding number</a> method is pretty much fool proof, but involves a lot of trig and is computationally expensive.</p>\n<p><a href=\"https://web.archive.org/web/20130126163405/http://geomalgorithms.com/a03-_inclusion.html\" rel=\"nofollow noreferrer\">This paper by Dan Sunday</a> gives a hybrid algorithm that's as accurate as the winding number but as computationally simple as the ray-casting algorithm. It blew me away how elegant it was.</p>\n<h2>My code</h2>\n<p>This is some code I wrote recently in Java which handles a path made out of both line segments <strong>and</strong> arcs. (Also circles, but those are complete paths on their own, so it's sort of a degenerate case.)</p>\n<pre><code>package org.efalk.util;\n\n/**\n * Utility: determine if a point is inside a path.\n */\npublic class PathUtil {\n    static final double RAD = (Math.PI/180.);\n    static final double DEG = (180./Math.PI);\n\n    protected static final int LINE = 0;\n    protected static final int ARC = 1;\n    protected static final int CIRCLE = 2;\n\n    /**\n     * Used to cache the contents of a path for pick testing.  For a\n     * line segment, x0,y0,x1,y1 are the endpoints of the line.  For\n     * a circle (ellipse, actually), x0,y0,x1,y1 are the bounding box\n     * of the circle (this is how Android and X11 like to represent\n     * circles).  For an arc, x0,y0,x1,y1 are the bounding box, a1 is\n     * the start angle (degrees CCW from the +X direction) and a1 is\n     * the sweep angle (degrees CCW).\n     */\n    public static class PathElement {\n        public int type;\n        public float x0,y0,x1,y1;   // Endpoints or bounding box\n        public float a0,a1;         // Arcs and circles\n    }\n\n    /**\n     * Determine if the given point is inside the given path.\n     */\n    public static boolean inside(float x, float y, PathElement[] path) {\n        // Based on algorithm by Dan Sunday, but allows for arc segments too.         \n        // https://web.archive.org/web/20130126163405/http://geomalgorithms.com/a03-_inclusion.html\n        int wn = 0;\n        // loop through all edges of the polygon\n        // An upward crossing requires y0 &lt;= y and y1 &gt; y\n        // A downward crossing requires y0 &gt; y and y1 &lt;= y\n        for (PathElement pe : path) {\n            switch (pe.type) {\n              case LINE:\n                if (pe.x0 &lt; x &amp;&amp; pe.x1 &lt; x) // left\n                    break;\n                if (pe.y0 &lt;= y) {           // start y &lt;= P.y\n                    if (pe.y1 &gt; y) {        // an upward crossing\n                        if (isLeft(pe, x, y) &gt; 0) // P left of  edge\n                            ++wn;                // have  a valid up intersect\n                    }\n                }\n                else {                              // start y &gt; P.y\n                    if (pe.y1 &lt;= y) {       // a downward crossing\n                        if (isLeft(pe, x, y) &lt; 0) // P right of  edge\n                            --wn;                // have  a valid down intersect\n                    }\n                }\n                break;\n              case ARC:\n                wn += arcCrossing(pe, x, y);\n                break;\n              case CIRCLE:\n                // This should be the only element in the path, so test it\n                // and get out.\n                float rx = (pe.x1-pe.x0)/2;\n                float ry = (pe.y1-pe.y0)/2;\n                float xc = (pe.x1+pe.x0)/2;\n                float yc = (pe.y1+pe.y0)/2;\n                return (x-xc)*(x-xc)/rx*rx + (y-yc)*(y-yc)/ry*ry &lt;= 1;\n            }\n        }\n        return wn != 0;\n    }\n\n    /**\n     * Return &gt;0 if p is left of line p0-p1; &lt;0 if to the right; 0 if\n     * on the line.\n     */\n    private static float\n    isLeft(float x0, float y0, float x1, float y1, float x, float y)\n    {\n        return (x1 - x0) * (y - y0) - (x - x0) * (y1 - y0);\n    }\n\n    private static float isLeft(PathElement pe, float x, float y) {\n        return isLeft(pe.x0,pe.y0, pe.x1,pe.y1, x,y);\n    }\n\n    /**\n     * Determine if an arc segment crosses the test ray up or down, or not\n     * at all.\n     * @return winding number increment:\n     *      +1 upward crossing\n     *       0 no crossing\n     *      -1 downward crossing\n     */\n    private static int arcCrossing(PathElement pe, float x, float y) {\n        // Look for trivial reject cases first.\n        if (pe.x1 &lt; x || pe.y1 &lt; y || pe.y0 &gt; y) return 0;\n\n        // Find the intersection of the test ray with the arc. This consists\n        // of finding the intersection(s) of the line with the ellipse that\n        // contains the arc, then determining if the intersection(s)\n        // are within the limits of the arc.\n        // Since we're mostly concerned with whether or not there *is* an\n        // intersection, we have several opportunities to punt.\n        // An upward crossing requires y0 &lt;= y and y1 &gt; y\n        // A downward crossing requires y0 &gt; y and y1 &lt;= y\n        float rx = (pe.x1-pe.x0)/2;\n        float ry = (pe.y1-pe.y0)/2;\n        float xc = (pe.x1+pe.x0)/2;\n        float yc = (pe.y1+pe.y0)/2;\n        if (rx == 0 || ry == 0) return 0;\n        if (rx &lt; 0) rx = -rx;\n        if (ry &lt; 0) ry = -ry;\n        // We start by transforming everything so the ellipse is the unit\n        // circle; this simplifies the math.\n        x -= xc;\n        y -= yc;\n        if (x &gt; rx || y &gt; ry || y &lt; -ry) return 0;\n        x /= rx;\n        y /= ry;\n        // Now find the points of intersection. This is simplified by the\n        // fact that our line is horizontal. Also, by the time we get here,\n        // we know there *is* an intersection.\n        // The equation for the circle is x²+y² = 1. We have y, so solve\n        // for x = ±sqrt(1 - y²)\n        double x0 = 1 - y*y;\n        if (x0 &lt;= 0) return 0;\n        x0 = Math.sqrt(x0);\n        // We only care about intersections to the right of x, so\n        // that's another opportunity to punt. For a CCW arc, The right\n        // intersection is an upward crossing and the left intersection\n        // is a downward crossing.  The reverse is true for a CW arc.\n        if (x &gt; x0) return 0;\n        int wn = arcXing1(x0,y, pe.a0, pe.a1);\n        if (x &lt; -x0) wn -= arcXing1(-x0,y, pe.a0, pe.a1);\n        return wn;\n    }\n\n    /**\n     * Return the winding number of the point x,y on the unit circle\n     * which passes through the arc segment defined by a0,a1.\n     */\n    private static int arcXing1(double x, float y, float a0, float a1) {\n        double a = Math.atan2(y,x) * DEG;\n        if (a &lt; 0) a += 360;\n        if (a1 &gt; 0) {       // CCW\n            if (a &lt; a0) a += 360;\n            return a0 + a1 &gt; a ? 1 : 0;\n        } else {            // CW\n            if (a0 &lt; a) a0 += 360;\n            return a0 + a1 &lt;= a ? -1 : 0;\n        }\n    }\n}\n</code></pre>\n<hr />\n<p>Edit: by request, adding some sample code that makes use of this.</p>\n<pre><code>import PathUtil;\nimport PathUtil.PathElement;\n\n/**\n * This class represents a single geographic area defined by a\n * circle or a list of line segments and arcs.\n */\npublic class Area {\n    public float lat0, lon0, lat1, lon1;    // bounds\n    Path path = null;\n    PathElement[] pathList;\n\n    /**\n     * Return true if this point is inside the area bounds. This is\n     * used to confirm touch events and may be computationally expensive.\n     */\n    public boolean pointInBounds(float lat, float lon) {\n        if (lat &lt; lat0 || lat &gt; lat1 || lon &lt; lon0 || lon &gt; lon1)\n            return false;\n        return PathUtil.inside(lon, lat, pathList);\n    }\n\n    static void loadBounds() {\n        int n = number_of_elements_in_input;\n        path = new Path();\n        pathList = new PathElement[n];\n        for (Element element : elements_in_input) {\n            PathElement pe = new PathElement();\n            pathList[i] = pe;\n            pe.type = element.type;\n            switch (element.type) {\n              case LINE:        // Line segment\n                pe.x0 = element.x0;\n                pe.y0 = element.y0;\n                pe.x1 = element.x1;\n                pe.y1 = element.y1;\n                // Add to path, not shown here\n                break;\n              case ARC: // Arc segment\n                pe.x0 = element.xmin;     // Bounds of arc ellipse\n                pe.y0 = element.ymin;\n                pe.x1 = element.xmax;\n                pe.y1 = element.ymax;\n                pe.a0 = a0; pe.a1 = a1;\n                break;\n              case CIRCLE: // Circle; hopefully the only entry here\n                pe.x0 = element.xmin;    // Bounds of ellipse\n                pe.y0 = element.ymin;\n                pe.x1 = element.xmax;\n                pe.y1 = element.ymax;\n                // Add to path, not shown here\n                break;\n            }\n        }\n        path.close();\n    }   \n</code></pre>\n"}],"owner":{"account_id":179545,"reputation":2832,"user_id":412286,"accept_rate":99,"display_name":"StartingGroovy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11112,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":7045002,"answer_count":4,"score":10,"last_activity_date":1696898430,"creation_date":1313174581,"question_id":7044838,"body_markdown":"Is there a reason that they decided not to add the contains method (for Path) in Android?\r\n\r\nI&#39;m wanting to know what points I have in a Path and hoped it was easier than seen here:\r\n\r\nhttps://stackoverflow.com/questions/2597590/how-can-i-tell-if-a-closed-path-contains-a-given-point\r\n\r\nWould it be better for me to create an ArrayList and add the integers into the array? (I only check the points once in a control statement) Ie. `if(myPath.contains(x,y)`\r\n\r\nSo far my options are:\r\n\r\n * Using a Region\r\n * Using an ArrayList\r\n * Extending the Class\r\n * Your suggestion\r\n\r\nI&#39;m just looking for the most efficient way I should go about this\r\n","title":"Finding Points contained in a Path in Android","body":"<p>Is there a reason that they decided not to add the contains method (for Path) in Android?</p>\n\n<p>I'm wanting to know what points I have in a Path and hoped it was easier than seen here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2597590/how-can-i-tell-if-a-closed-path-contains-a-given-point\">How can I tell if a closed path contains a given point?</a></p>\n\n<p>Would it be better for me to create an ArrayList and add the integers into the array? (I only check the points once in a control statement) Ie. <code>if(myPath.contains(x,y)</code></p>\n\n<p>So far my options are:</p>\n\n<ul>\n<li>Using a Region</li>\n<li>Using an ArrayList</li>\n<li>Extending the Class</li>\n<li>Your suggestion</li>\n</ul>\n\n<p>I'm just looking for the most efficient way I should go about this</p>\n"},{"tags":["java","pointers","java-native-interface","cuda"],"comments":[{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":1,"creation_date":1497759248,"post_id":1632367,"comment_id":76209966,"body_markdown":"Also https://stackoverflow.com/q/5802340/632951","body":"Also <a href=\"https://stackoverflow.com/q/5802340/632951\">stackoverflow.com/q/5802340/632951</a>"}],"answers":[{"comments":[{"owner":{"account_id":23699,"reputation":5769,"user_id":59572,"display_name":"Fredrik"},"score":2,"creation_date":1256666817,"post_id":1632599,"comment_id":1501310,"body_markdown":"About your second paragraph: The only thing to look out for is to make sure that any memory allocated gets deallocated as well. The recommended approach is to have some kind of close/dispose() method on the object holding the reference. finalizers are tempting but they come with a couple of drawbacks making it worth avoiding them if possible.","body":"About your second paragraph: The only thing to look out for is to make sure that any memory allocated gets deallocated as well. The recommended approach is to have some kind of close/dispose() method on the object holding the reference. finalizers are tempting but they come with a couple of drawbacks making it worth avoiding them if possible."},{"owner":{"account_id":23699,"reputation":5769,"user_id":59572,"display_name":"Fredrik"},"score":0,"creation_date":1256666890,"post_id":1632599,"comment_id":1501319,"body_markdown":"I shouldn&#39;t have written &quot;the only thing&quot; btw... JNI is full of pits to fall into.","body":"I shouldn&#39;t have written &quot;the only thing&quot; btw... JNI is full of pits to fall into."},{"owner":{"account_id":67501,"reputation":783,"user_id":197513,"display_name":"Volker"},"score":0,"creation_date":1256668975,"post_id":1632599,"comment_id":1501560,"body_markdown":"I already included functions to free allocated memory, so that should no problem :) The main problem still is: Does memory stay allocated if i do net free it? I mean, including addresses and values...i know that i will get memory leaks an so on if i don&#39;t do it, so i already included that ;-)","body":"I already included functions to free allocated memory, so that should no problem :) The main problem still is: Does memory stay allocated if i do net free it? I mean, including addresses and values...i know that i will get memory leaks an so on if i don&#39;t do it, so i already included that ;-)"},{"owner":{"account_id":23699,"reputation":5769,"user_id":59572,"display_name":"Fredrik"},"score":2,"creation_date":1256672258,"post_id":1632599,"comment_id":1501954,"body_markdown":"@Volker: It depends on how you allocate it. The only exception to the rule that you have to deallocate/free the memory yourself is normally if something is allocated on the stack. If it is, it will be &quot;freed&quot; when the stack pointer is moved back at exit of a function. So if you have allocated memory using some kind of memory allocation function (except for &quot;alloca&quot;) you will have to free it. It is really not at all related to java. As soon as you have made the JNI jump the rules are from the C world unless you use java objects.","body":"@Volker: It depends on how you allocate it. The only exception to the rule that you have to deallocate/free the memory yourself is normally if something is allocated on the stack. If it is, it will be &quot;freed&quot; when the stack pointer is moved back at exit of a function. So if you have allocated memory using some kind of memory allocation function (except for &quot;alloca&quot;) you will have to free it. It is really not at all related to java. As soon as you have made the JNI jump the rules are from the C world unless you use java objects."},{"owner":{"account_id":48447,"reputation":44848,"user_id":143938,"display_name":"Jonathan Feinberg"},"score":0,"creation_date":1256674111,"post_id":1632599,"comment_id":1502171,"body_markdown":"Fredrik, your answer is correct, and really ought to be moved into its own answer for credit.","body":"Fredrik, your answer is correct, and really ought to be moved into its own answer for credit."},{"owner":{"account_id":61294,"reputation":39257,"user_id":182748,"display_name":"asveikau"},"score":2,"creation_date":1355168022,"post_id":1632599,"comment_id":18995824,"body_markdown":"&quot;C pointers are nothing more than `long` values at the core.&quot; - There is nothing in the C standard that says this, and this is invoking undefined behavior.","body":"&quot;C pointers are nothing more than <code>long</code> values at the core.&quot; - There is nothing in the C standard that says this, and this is invoking undefined behavior."}],"tags":[],"owner":{"account_id":60234,"reputation":7011,"user_id":179984,"display_name":"Gunslinger47"},"comment_count":6,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1358410833,"creation_date":1256666404,"answer_id":1632599,"question_id":1632367,"body_markdown":"Java wouldn&#39;t know what to do with a pointer, but it should be able to store a pointer from a native function&#39;s return value then hand it off to another native function for it to deal with.  C pointers are nothing more than numeric values at the core.\r\n\r\nAnother contibutor would have to tell you whether or not the pointed to graphics memory would be cleared between JNI invocations and if there would be any work-arounds.","title":"Passing pointers between C and Java through JNI","body":"<p>Java wouldn't know what to do with a pointer, but it should be able to store a pointer from a native function's return value then hand it off to another native function for it to deal with.  C pointers are nothing more than numeric values at the core.</p>\n\n<p>Another contibutor would have to tell you whether or not the pointed to graphics memory would be cleared between JNI invocations and if there would be any work-arounds.</p>\n"},{"tags":[],"owner":{"account_id":41311,"reputation":1939,"user_id":119983,"display_name":"Marc Paradise"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1256681973,"creation_date":1256681973,"answer_id":1633997,"question_id":1632367,"body_markdown":"If you are allocating memory dynamically (on the heap) inside of the native function, it is not deleted.  In other words, you are able to retain state between different calls into native functions, using pointers, static vars, etc. \r\n\r\n\r\nThink of it a different way: what could you do safely keep in an function call, called from another C++ program?  The same things apply here.  When a function is exited, anything on the stack for that function call is destroyed; but anything on the heap is retained unless you explicitly delete it. \r\n\r\nShort answer: as long as you don&#39;t deallocate the result you&#39;re returning to the calling function, it will remain valid for re-entrance later.  Just make sure to clean it up when you&#39;re done. \r\n\r\n","title":"Passing pointers between C and Java through JNI","body":"<p>If you are allocating memory dynamically (on the heap) inside of the native function, it is not deleted.  In other words, you are able to retain state between different calls into native functions, using pointers, static vars, etc. </p>\n\n<p>Think of it a different way: what could you do safely keep in an function call, called from another C++ program?  The same things apply here.  When a function is exited, anything on the stack for that function call is destroyed; but anything on the heap is retained unless you explicitly delete it. </p>\n\n<p>Short answer: as long as you don't deallocate the result you're returning to the calling function, it will remain valid for re-entrance later.  Just make sure to clean it up when you're done. </p>\n"},{"comments":[{"owner":{"account_id":67501,"reputation":783,"user_id":197513,"display_name":"Volker"},"score":0,"creation_date":1256726663,"post_id":1634310,"comment_id":1505538,"body_markdown":"That&#39;s how i did it now - i send the pointer back to java as a long and pass it to C. But how do i tell C that the long it just received is an address?\n\nlong *ptr = (long*)&amp;address;\n\nThat&#39;s what i tried, but i don&#39;t get the value which should be at the address, i only get the address itself (or some other addresses but no value :( )","body":"That&#39;s how i did it now - i send the pointer back to java as a long and pass it to C. But how do i tell C that the long it just received is an address?  long <i>ptr = (long</i>)&amp;address;  That&#39;s what i tried, but i don&#39;t get the value which should be at the address, i only get the address itself (or some other addresses but no value :( )"},{"owner":{"account_id":60234,"reputation":7011,"user_id":179984,"display_name":"Gunslinger47"},"score":11,"creation_date":1256740999,"post_id":1634310,"comment_id":1506888,"body_markdown":"`MyClass *pObject = ...; long lp = (long)pObject; pObject = (*pObject)lp;`","body":"<code>MyClass *pObject = ...; long lp = (long)pObject; pObject = (*pObject)lp;</code>"},{"owner":{"account_id":121329,"reputation":11365,"user_id":314345,"accept_rate":67,"display_name":"dhardy"},"score":13,"creation_date":1338970035,"post_id":1634310,"comment_id":14227065,"body_markdown":"Use long on both x32 and x64 platforms? I&#39;m glad we won&#39;t be moving to 128-bit machines any time soon...","body":"Use long on both x32 and x64 platforms? I&#39;m glad we won&#39;t be moving to 128-bit machines any time soon..."},{"owner":{"account_id":320732,"reputation":1375,"user_id":639158,"accept_rate":81,"display_name":"Sara S."},"score":0,"creation_date":1357216113,"post_id":1634310,"comment_id":19578168,"body_markdown":"Hello @Denis Tulskiy , i have a question regarding converting a long pointer in java to an array i use itk in the same concept and i got a pointer to the image data but i dont know how to get the array from the pointer. i tried to use com.sun.jna.Pointer but i didnt know gow to make it points to the same data the passed pointer refer to.","body":"Hello @Denis Tulskiy , i have a question regarding converting a long pointer in java to an array i use itk in the same concept and i got a pointer to the image data but i dont know how to get the array from the pointer. i tried to use com.sun.jna.Pointer but i didnt know gow to make it points to the same data the passed pointer refer to."},{"owner":{"account_id":65895,"reputation":71649,"user_id":193619,"accept_rate":86,"display_name":"Nathan Osman"},"score":5,"creation_date":1362707030,"post_id":1634310,"comment_id":21568084,"body_markdown":"I share @dhardy&#39;s concern. This solution is not portable - there is no guarantee that `long` will be large enough to hold a pointer.","body":"I share @dhardy&#39;s concern. This solution is not portable - there is no guarantee that <code>long</code> will be large enough to hold a pointer."},{"owner":{"account_id":134693,"reputation":11106,"user_id":2624806,"accept_rate":32,"display_name":"CoDe"},"score":0,"creation_date":1443526368,"post_id":1634310,"comment_id":53519884,"body_markdown":"Denis can you please write an pseudo/sample code to understand this. Also what about class object instead struct, is this feasible! I am following [this](http://stackoverflow.com/q/32840427/2624806). Please suggest.","body":"Denis can you please write an pseudo/sample code to understand this. Also what about class object instead struct, is this feasible! I am following <a href=\"http://stackoverflow.com/q/32840427/2624806\">this</a>. Please suggest."},{"owner":{"account_id":302533,"reputation":1451,"user_id":610966,"accept_rate":85,"display_name":"Philip Guin"},"score":1,"creation_date":1472506842,"post_id":1634310,"comment_id":65769880,"body_markdown":"`sun.misc.unsafe` makes hefty use of longs as pointers, so it&#39;s *effectively* supported, regardless whether Oracle actually approves of it... so, accept the contract at your own risk.","body":"<code>sun.misc.unsafe</code> makes hefty use of longs as pointers, so it&#39;s <i>effectively</i> supported, regardless whether Oracle actually approves of it... so, accept the contract at your own risk."},{"owner":{"account_id":1099836,"reputation":1631,"user_id":1092519,"accept_rate":54,"display_name":"AlexanderNajafi"},"score":2,"creation_date":1488875168,"post_id":1634310,"comment_id":72413980,"body_markdown":"I also share @dhardy&#39;s concern. One way would be to pass a java byte array where every byte in the array is 8 bits of the pointer value (and make the array different length depending on the system). However, this means that you would also have to pass the size of the pointer to the JNI function.","body":"I also share @dhardy&#39;s concern. One way would be to pass a java byte array where every byte in the array is 8 bits of the pointer value (and make the array different length depending on the system). However, this means that you would also have to pass the size of the pointer to the JNI function."},{"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"score":2,"creation_date":1488953787,"post_id":1634310,"comment_id":72453792,"body_markdown":"@AlexanderNajafi: in that case I think it&#39;s better to have a known-sized key for your data. Keep a hash-map from key to pointer and return the key from native code to java.","body":"@AlexanderNajafi: in that case I think it&#39;s better to have a known-sized key for your data. Keep a hash-map from key to pointer and return the key from native code to java."}],"tags":[],"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"comment_count":9,"down_vote_count":1,"up_vote_count":51,"is_accepted":true,"score":50,"last_activity_date":1256746875,"creation_date":1256686243,"answer_id":1634310,"question_id":1632367,"body_markdown":"I used the following approach:\r\n\r\nin your JNI code, create a struct that would hold references to objects you need. When you first create this struct, return its pointer to java as a `long`. Then, from java you just call any method with this `long` as a parameter, and in C cast it to a pointer to your struct. \r\n\r\nThe structure will be in the heap, so it will not be cleared between different JNI calls.\r\n\r\nEDIT: I don&#39;t think you can use  long ptr = `(long)&amp;address;` since address is a static variable. Use it the way Gunslinger47 suggested, i.e. create new instance of class or a struct (using new or malloc) and pass its pointer.","title":"Passing pointers between C and Java through JNI","body":"<p>I used the following approach:</p>\n\n<p>in your JNI code, create a struct that would hold references to objects you need. When you first create this struct, return its pointer to java as a <code>long</code>. Then, from java you just call any method with this <code>long</code> as a parameter, and in C cast it to a pointer to your struct. </p>\n\n<p>The structure will be in the heap, so it will not be cleared between different JNI calls.</p>\n\n<p>EDIT: I don't think you can use  long ptr = <code>(long)&amp;address;</code> since address is a static variable. Use it the way Gunslinger47 suggested, i.e. create new instance of class or a struct (using new or malloc) and pass its pointer.</p>\n"},{"tags":[],"owner":{"account_id":22589,"reputation":7074,"user_id":55870,"accept_rate":88,"display_name":"Dan Berindei"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1508268967,"creation_date":1269002550,"answer_id":2477298,"question_id":1632367,"body_markdown":"In C++ you can use any mechanism you want to allocate/free memory: the stack, malloc/free, new/delete or any other custom implementation. The only requirement is that if you allocated a block of memory with one mechanism, you have to free it with the same mechanism, so you can&#39;t call `free` on a stack variable and you can&#39;t call `delete` on `malloc`ed memory.\r\n\r\nJNI has its own mechanisms for allocating/freeing JVM memory:\r\n\r\n* NewObject/DeleteLocalRef\r\n* NewGlobalRef/DeleteGlobalRef\r\n* NewWeakGlobalRef/DeleteWeakGlobalRef\r\n\r\nThese follow the same rule, the only catch is that local refs can be deleted &quot;en masse&quot; either explicitly, with `PopLocalFrame`, or implicitly, when the native method exits.\r\n\r\nJNI doesn&#39;t know how you allocated your memory, so it can&#39;t free it when your function exits. Stack variables will obviously be destroyed because you&#39;re still writing C++, but your GPU memory will remain valid.\r\n\r\nThe only problem then is how to access the memory on subsequent invocations, and then you can use Gunslinger47&#39;s suggestion:\r\n\r\n    JNIEXPORT jlong JNICALL Java_MyJavaClass_Function1() {\r\n        MyClass* pObject = new MyClass(...);\r\n        return (long)pObject;\r\n    }\r\n\r\n    JNIEXPORT void JNICALL Java_MyJavaClass_Function2(jlong lp) {\r\n        MyClass* pObject = (MyClass*)lp;\r\n        ...\r\n    }\r\n","title":"Passing pointers between C and Java through JNI","body":"<p>In C++ you can use any mechanism you want to allocate/free memory: the stack, malloc/free, new/delete or any other custom implementation. The only requirement is that if you allocated a block of memory with one mechanism, you have to free it with the same mechanism, so you can't call <code>free</code> on a stack variable and you can't call <code>delete</code> on <code>malloc</code>ed memory.</p>\n\n<p>JNI has its own mechanisms for allocating/freeing JVM memory:</p>\n\n<ul>\n<li>NewObject/DeleteLocalRef</li>\n<li>NewGlobalRef/DeleteGlobalRef</li>\n<li>NewWeakGlobalRef/DeleteWeakGlobalRef</li>\n</ul>\n\n<p>These follow the same rule, the only catch is that local refs can be deleted \"en masse\" either explicitly, with <code>PopLocalFrame</code>, or implicitly, when the native method exits.</p>\n\n<p>JNI doesn't know how you allocated your memory, so it can't free it when your function exits. Stack variables will obviously be destroyed because you're still writing C++, but your GPU memory will remain valid.</p>\n\n<p>The only problem then is how to access the memory on subsequent invocations, and then you can use Gunslinger47's suggestion:</p>\n\n<pre><code>JNIEXPORT jlong JNICALL Java_MyJavaClass_Function1() {\n    MyClass* pObject = new MyClass(...);\n    return (long)pObject;\n}\n\nJNIEXPORT void JNICALL Java_MyJavaClass_Function2(jlong lp) {\n    MyClass* pObject = (MyClass*)lp;\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17287,"reputation":12605,"user_id":38557,"accept_rate":53,"display_name":"noamtm"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1322468315,"creation_date":1322468315,"answer_id":8293084,"question_id":1632367,"body_markdown":"I know this question was already officially answered, but I&#39;d like to add my solution:\r\nInstead of trying to pass a pointer, put the pointer in a Java array (at index 0) and pass that to JNI. JNI code can get and set the array element using `GetIntArrayRegion`/`SetIntArrayRegion`.\r\n\r\nIn my code, I need the native layer to manage a file descriptor (an open socket). The Java class holds a `int[1]` array and passes it to the native function. The native function can do whatever with it (get/set) and put back the result in the array.\r\n\r\n","title":"Passing pointers between C and Java through JNI","body":"<p>I know this question was already officially answered, but I'd like to add my solution:\nInstead of trying to pass a pointer, put the pointer in a Java array (at index 0) and pass that to JNI. JNI code can get and set the array element using <code>GetIntArrayRegion</code>/<code>SetIntArrayRegion</code>.</p>\n\n<p>In my code, I need the native layer to manage a file descriptor (an open socket). The Java class holds a <code>int[1]</code> array and passes it to the native function. The native function can do whatever with it (get/set) and put back the result in the array.</p>\n"},{"tags":[],"owner":{"account_id":46162,"reputation":12118,"user_id":136285,"accept_rate":91,"display_name":"malat"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1429537831,"creation_date":1429263488,"answer_id":29695588,"question_id":1632367,"body_markdown":"While the accepted answer from @denis-tulskiy does make sense, I&#39;ve personnally followed suggestions from [here][1].\r\n\r\nSo instead of using a pseudo-pointer type such as `jlong` (or `jint` if you want to save some space on 32bits arch), use instead a `ByteBuffer`. For example:\r\n\r\n    MyNativeStruct* data; // Initialized elsewhere.\r\n    jobject bb = (*env)-&gt;NewDirectByteBuffer(env, (void*) data, sizeof(MyNativeStruct));\r\n\r\nwhich you can later re-use with:\r\n\r\n    jobject bb; // Initialized elsewhere.\r\n    MyNativeStruct* data = (MyNativeStruct*) (*env)-&gt;GetDirectBufferAddress(env, bb);\r\n\r\nFor very simple cases, this solution is very easy to use. Suppose you have:\r\n\r\n\r\n    struct {\r\n      int exampleInt;\r\n      short exampleShort;\r\n    } MyNativeStruct;\r\n\r\nOn the Java side, you simply need to do:\r\n\r\n    public int getExampleInt() {\r\n      return bb.getInt(0);\r\n    }\r\n    \r\n    public short getExampleShort() {\r\n      return bb.getShort(4);\r\n    }\r\n\r\nWhich saves you from writing *lots* of boilerplate code ! One should however pay attention to byte ordering as explained [here][2].\r\n\r\n\r\n  [1]: https://rkennke.wordpress.com/2007/07/30/efficient-jni-programming-iv-wrapping-native-data-objects/\r\n  [2]: https://stackoverflow.com/a/29749706/136285","title":"Passing pointers between C and Java through JNI","body":"<p>While the accepted answer from @denis-tulskiy does make sense, I've personnally followed suggestions from <a href=\"https://rkennke.wordpress.com/2007/07/30/efficient-jni-programming-iv-wrapping-native-data-objects/\" rel=\"noreferrer\">here</a>.</p>\n\n<p>So instead of using a pseudo-pointer type such as <code>jlong</code> (or <code>jint</code> if you want to save some space on 32bits arch), use instead a <code>ByteBuffer</code>. For example:</p>\n\n<pre><code>MyNativeStruct* data; // Initialized elsewhere.\njobject bb = (*env)-&gt;NewDirectByteBuffer(env, (void*) data, sizeof(MyNativeStruct));\n</code></pre>\n\n<p>which you can later re-use with:</p>\n\n<pre><code>jobject bb; // Initialized elsewhere.\nMyNativeStruct* data = (MyNativeStruct*) (*env)-&gt;GetDirectBufferAddress(env, bb);\n</code></pre>\n\n<p>For very simple cases, this solution is very easy to use. Suppose you have:</p>\n\n<pre><code>struct {\n  int exampleInt;\n  short exampleShort;\n} MyNativeStruct;\n</code></pre>\n\n<p>On the Java side, you simply need to do:</p>\n\n<pre><code>public int getExampleInt() {\n  return bb.getInt(0);\n}\n\npublic short getExampleShort() {\n  return bb.getShort(4);\n}\n</code></pre>\n\n<p>Which saves you from writing <em>lots</em> of boilerplate code ! One should however pay attention to byte ordering as explained <a href=\"https://stackoverflow.com/a/29749706/136285\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":7406453,"reputation":967,"user_id":5635258,"display_name":"StephenG - Help Ukraine"},"score":0,"creation_date":1449151551,"post_id":32096959,"comment_id":55903018,"body_markdown":"This is **not** the standard&#39;s definition of `uintptr_t`. It is a **very** bad idea to do that. It is defined as being large enough to hold any pointer, and can be **any** length this requires. Typically on a 64-bit system this would be 64-bits, but the standard does not even permit that assumption. You should never make assumptions about the size of `uintptr_t`.","body":"This is <b>not</b> the standard&#39;s definition of <code>uintptr_t</code>. It is a <b>very</b> bad idea to do that. It is defined as being large enough to hold any pointer, and can be <b>any</b> length this requires. Typically on a 64-bit system this would be 64-bits, but the standard does not even permit that assumption. You should never make assumptions about the size of <code>uintptr_t</code>."},{"owner":{"account_id":1725694,"reputation":1064,"user_id":1580426,"accept_rate":33,"display_name":"bond"},"score":1,"creation_date":1449240455,"post_id":32096959,"comment_id":55934018,"body_markdown":"This is how the JVM allocates memory on 32 and 64 bit systems.  Assignment of uintptr_t allows for a clean conversion to a jlong.  I&#39;m not going to debate if it is a good way or not but it is the way that the JVM does it.","body":"This is how the JVM allocates memory on 32 and 64 bit systems.  Assignment of uintptr_t allows for a clean conversion to a jlong.  I&#39;m not going to debate if it is a good way or not but it is the way that the JVM does it."}],"tags":[],"owner":{"account_id":1725694,"reputation":1064,"user_id":1580426,"accept_rate":33,"display_name":"bond"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1449240319,"creation_date":1439991035,"answer_id":32096959,"question_id":1632367,"body_markdown":"Its best to do this exactly how Unsafe.allocateMemory does.\r\n\r\nCreate your object then type it to (uintptr_t) which is a 32/64 bit unsigned integer.\r\n\r\n    return (uintptr_t) malloc(50);\r\n    \r\n    void * f = (uintptr_t) jlong;\r\n\r\nThis is the only correct way to do it.\r\n\r\nHere is the sanity checking Unsafe.allocateMemory does.\r\n\r\n    inline jlong addr_to_java(void* p) {\r\n      assert(p == (void*)(uintptr_t)p, &quot;must not be odd high bits&quot;);\r\n      return (uintptr_t)p;\r\n    }\r\n\r\n    UNSAFE_ENTRY(jlong, Unsafe_AllocateMemory(JNIEnv *env, jobject unsafe, jlong size))\r\n      UnsafeWrapper(&quot;Unsafe_AllocateMemory&quot;);\r\n      size_t sz = (size_t)size;\r\n      if (sz != (julong)size || size &lt; 0) {\r\n        THROW_0(vmSymbols::java_lang_IllegalArgumentException());\r\n      }\r\n      if (sz == 0) {\r\n        return 0;\r\n      }\r\n      sz = round_to(sz, HeapWordSize);\r\n      void* x = os::malloc(sz, mtInternal);\r\n      if (x == NULL) {\r\n        THROW_0(vmSymbols::java_lang_OutOfMemoryError());\r\n      }\r\n      //Copy::fill_to_words((HeapWord*)x, sz / HeapWordSize);\r\n      return addr_to_java(x);\r\n    UNSAFE_END\r\n\r\n","title":"Passing pointers between C and Java through JNI","body":"<p>Its best to do this exactly how Unsafe.allocateMemory does.</p>\n\n<p>Create your object then type it to (uintptr_t) which is a 32/64 bit unsigned integer.</p>\n\n<pre><code>return (uintptr_t) malloc(50);\n\nvoid * f = (uintptr_t) jlong;\n</code></pre>\n\n<p>This is the only correct way to do it.</p>\n\n<p>Here is the sanity checking Unsafe.allocateMemory does.</p>\n\n<pre><code>inline jlong addr_to_java(void* p) {\n  assert(p == (void*)(uintptr_t)p, \"must not be odd high bits\");\n  return (uintptr_t)p;\n}\n\nUNSAFE_ENTRY(jlong, Unsafe_AllocateMemory(JNIEnv *env, jobject unsafe, jlong size))\n  UnsafeWrapper(\"Unsafe_AllocateMemory\");\n  size_t sz = (size_t)size;\n  if (sz != (julong)size || size &lt; 0) {\n    THROW_0(vmSymbols::java_lang_IllegalArgumentException());\n  }\n  if (sz == 0) {\n    return 0;\n  }\n  sz = round_to(sz, HeapWordSize);\n  void* x = os::malloc(sz, mtInternal);\n  if (x == NULL) {\n    THROW_0(vmSymbols::java_lang_OutOfMemoryError());\n  }\n  //Copy::fill_to_words((HeapWord*)x, sz / HeapWordSize);\n  return addr_to_java(x);\nUNSAFE_END\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10650991,"reputation":1190,"user_id":7841955,"display_name":"Ermac"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696898406,"creation_date":1696898406,"answer_id":77262388,"question_id":1632367,"body_markdown":"Here is another approach, using a global `static` variable in the java-c C glue file, passing the variable by reference to C, and returning the variable that have been changed from C to Java. Will need two Java function calls though.\r\n\r\nHere is an example using Android development in Kotlin:\r\n\r\nFirst, C code (a simple function that increments a variable passed by reference):\r\n\r\n    // lib.c\r\n    void cfunction(int *number)\r\n    {\r\n        *number += 1;\r\n    }\r\n\r\nThen we usually have another C code used like a glue, to manage Java &lt;strike&gt;idiocies&lt;/strike&gt; features\r\n\r\n    // glue.c\r\n    static int number;\r\n    \r\n    void cfunction(int *);\r\n    \r\n    JNIEXPORT void JNICALL\r\n    Java_com_example_someapp_MainActivity_inc(JNIEnv* env, jobject thiz, jint value)\r\n    {\r\n        number = value;\r\n        cfunction(&amp;number);\r\n    }\r\n    \r\n    JNIEXPORT jint JNICALL\r\n    Java_com_example_someapp_MainActivity_getnumber(JNIEnv* env, jobject thiz)\r\n    {\r\n        return number;\r\n    }\r\n\r\nIt uses a global variable `number` (accessible only inside the file glue.c thanks to the `static` keyword) and can be accessed externally using the getter function `getnumber`. So basically we needed an additional function and a static global variable to call a C lib that expects a pointer and changes its reference.\r\n\r\nA `CMakeLists.txt` would looks like:\r\n\r\n    cmake_minimum_required(VERSION 3.18.1)\r\n    \r\n    project(&quot;someapp&quot;)\r\n    \r\n    add_library(somelib SHARED\r\n                glue.c\r\n                lib.c)\r\n\r\nFinally the Android (Kotlin) part:\r\n\r\n    package com.example.someapp\r\n    \r\n    // imports\r\n    \r\n    class MainActivity : ComponentActivity() {\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            // How to use a C call by ref in Kotlin\r\n            inc(4)\r\n            val number = getnumber()\r\n            Toast.makeText(this, number.toString(), Toast.LENGTH_LONG).show()\r\n        }\r\n    \r\n        external fun inc(number: Int)\r\n    \r\n        external fun getnumber(): Int\r\n    \r\n        companion object {\r\n            init {\r\n                System.loadLibrary(&quot;somelib&quot;)\r\n            }\r\n        }\r\n    }\r\n\r\nIt should display `5`.\r\n\r\n","title":"Passing pointers between C and Java through JNI","body":"<p>Here is another approach, using a global <code>static</code> variable in the java-c C glue file, passing the variable by reference to C, and returning the variable that have been changed from C to Java. Will need two Java function calls though.</p>\n<p>Here is an example using Android development in Kotlin:</p>\n<p>First, C code (a simple function that increments a variable passed by reference):</p>\n<pre><code>// lib.c\nvoid cfunction(int *number)\n{\n    *number += 1;\n}\n</code></pre>\n<p>Then we usually have another C code used like a glue, to manage Java <strike>idiocies</strike> features</p>\n<pre><code>// glue.c\nstatic int number;\n\nvoid cfunction(int *);\n\nJNIEXPORT void JNICALL\nJava_com_example_someapp_MainActivity_inc(JNIEnv* env, jobject thiz, jint value)\n{\n    number = value;\n    cfunction(&amp;number);\n}\n\nJNIEXPORT jint JNICALL\nJava_com_example_someapp_MainActivity_getnumber(JNIEnv* env, jobject thiz)\n{\n    return number;\n}\n</code></pre>\n<p>It uses a global variable <code>number</code> (accessible only inside the file glue.c thanks to the <code>static</code> keyword) and can be accessed externally using the getter function <code>getnumber</code>. So basically we needed an additional function and a static global variable to call a C lib that expects a pointer and changes its reference.</p>\n<p>A <code>CMakeLists.txt</code> would looks like:</p>\n<pre><code>cmake_minimum_required(VERSION 3.18.1)\n\nproject(&quot;someapp&quot;)\n\nadd_library(somelib SHARED\n            glue.c\n            lib.c)\n</code></pre>\n<p>Finally the Android (Kotlin) part:</p>\n<pre><code>package com.example.someapp\n\n// imports\n\nclass MainActivity : ComponentActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        // How to use a C call by ref in Kotlin\n        inc(4)\n        val number = getnumber()\n        Toast.makeText(this, number.toString(), Toast.LENGTH_LONG).show()\n    }\n\n    external fun inc(number: Int)\n\n    external fun getnumber(): Int\n\n    companion object {\n        init {\n            System.loadLibrary(&quot;somelib&quot;)\n        }\n    }\n}\n</code></pre>\n<p>It should display <code>5</code>.</p>\n"}],"owner":{"account_id":67501,"reputation":783,"user_id":197513,"display_name":"Volker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63089,"favorite_count":0,"down_vote_count":0,"up_vote_count":78,"accepted_answer_id":1634310,"answer_count":8,"score":78,"last_activity_date":1696898406,"creation_date":1256664172,"question_id":1632367,"body_markdown":"At the moment, i&#39;m trying to create a Java-application which uses CUDA-functionality. The connection between CUDA and Java works fine, but i&#39;ve got another problem and wanted to ask, if my thoughts about it are correct.\r\n\r\nWhen i call a native function from Java, i pass some data to it, the functions calculates something and returns a result. Is it possible, to let the first function return a reference (pointer) to this result which i can pass to JNI and call another function that does further calculations with the result?\r\n\r\nMy idea was to reduce the overhead that comes from copying data to and from the GPU by leaving the data in the GPU memory and just passing a reference to it so other functions can use it.\r\n\r\nAfter trying some time, i thought for myself, this shouldn&#39;t be possible, because pointers get deleted after the application ends (in this case, when the C-function terminates). Is this correct? Or am i just to bad in C to see the solution? \r\n\r\n\r\nEdit: \r\nWell, to expand the question a little bit (or make it more clearly): Is memory allocated by JNI native functions deallocated when the function ends? Or may i still access it until either the JNI application ends or when i free it manually?\r\n\r\nThanks for your input :)","title":"Passing pointers between C and Java through JNI","body":"<p>At the moment, i'm trying to create a Java-application which uses CUDA-functionality. The connection between CUDA and Java works fine, but i've got another problem and wanted to ask, if my thoughts about it are correct.</p>\n\n<p>When i call a native function from Java, i pass some data to it, the functions calculates something and returns a result. Is it possible, to let the first function return a reference (pointer) to this result which i can pass to JNI and call another function that does further calculations with the result?</p>\n\n<p>My idea was to reduce the overhead that comes from copying data to and from the GPU by leaving the data in the GPU memory and just passing a reference to it so other functions can use it.</p>\n\n<p>After trying some time, i thought for myself, this shouldn't be possible, because pointers get deleted after the application ends (in this case, when the C-function terminates). Is this correct? Or am i just to bad in C to see the solution? </p>\n\n<p>Edit: \nWell, to expand the question a little bit (or make it more clearly): Is memory allocated by JNI native functions deallocated when the function ends? Or may i still access it until either the JNI application ends or when i free it manually?</p>\n\n<p>Thanks for your input :)</p>\n"},{"tags":["java","java-time","localdate"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1696713621,"post_id":77251539,"comment_id":136189362,"body_markdown":"*&quot;So my question was, why not using directly the java.time classes&quot;* - Legacy - the time, effort and money involved in updating and testing legacy code, not to mention the risk sometimes means that these aspects remain unchanged for many, many years","body":"<i>&quot;So my question was, why not using directly the java.time classes&quot;</i> - Legacy - the time, effort and money involved in updating and testing legacy code, not to mention the risk sometimes means that these aspects remain unchanged for many, many years"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1696713715,"post_id":77251539,"comment_id":136189368,"body_markdown":"*&quot;During test I immediately find an issue, a localDateTime...&quot;* - my first thought is, understand the timezone in which the MangoDB is operating, this could effect how date/time values are handled.  You should, as much as possible save the time zone information or convert the date/time values from/to UTC - when displayed to the user, convert them to `LocalDateTime` (unless you&#39;re required to use the saved time zone)","body":"<i>&quot;During test I immediately find an issue, a localDateTime...&quot;</i> - my first thought is, understand the timezone in which the MangoDB is operating, this could effect how date/time values are handled.  You should, as much as possible save the time zone information or convert the date/time values from/to UTC - when displayed to the user, convert them to <code>LocalDateTime</code> (unless you&#39;re required to use the saved time zone)"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1696713918,"post_id":77251539,"comment_id":136189387,"body_markdown":"The point is - the DB should be agnostic - ie it shouldn&#39;t be reliant on defining the timezone of the values, instead, define rules on how date/time values should be stored into the DB (ie always UTC) - this way, when values are read from the DB, you will always know the source time zone.  And yes, I&#39;ve worked for a global security company who refused to provide the time zone information for there events (because it would have cost to much money to update all the software) ... so make a wild guess over what time that event occurred &#128580;","body":"The point is - the DB should be agnostic - ie it shouldn&#39;t be reliant on defining the timezone of the values, instead, define rules on how date/time values should be stored into the DB (ie always UTC) - this way, when values are read from the DB, you will always know the source time zone.  And yes, I&#39;ve worked for a global security company who refused to provide the time zone information for there events (because it would have cost to much money to update all the software) ... so make a wild guess over what time that event occurred 🙄"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":1,"creation_date":1696713957,"post_id":77251539,"comment_id":136189391,"body_markdown":"@MadProgrammer Yes, I understand that updating legacy code takes time, effort and money. But when a project starts from java version 8 or higher, I think that legacy code (like java.util.Date) can and should be avoided.","body":"@MadProgrammer Yes, I understand that updating legacy code takes time, effort and money. But when a project starts from java version 8 or higher, I think that legacy code (like java.util.Date) can and should be avoided."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1696714181,"post_id":77251539,"comment_id":136189407,"body_markdown":"Remember, the original developers were probably in the same boat you are right now, trying to better understand a brand new API - they may have chosen to continue with the &quot;old&quot; APIs because they were more familiar with them and or the tools/libraries they had only supported them - just because they wrote their code in Java 8, doesn&#39;t mean all the code they had available was written for Java 8 - but that&#39;s speculation. Now days, `java.util.Date` and related classes should be considered deprecated and should be avoided, but we now have many years of developer experience to call upon","body":"Remember, the original developers were probably in the same boat you are right now, trying to better understand a brand new API - they may have chosen to continue with the &quot;old&quot; APIs because they were more familiar with them and or the tools/libraries they had only supported them - just because they wrote their code in Java 8, doesn&#39;t mean all the code they had available was written for Java 8 - but that&#39;s speculation. Now days, <code>java.util.Date</code> and related classes should be considered deprecated and should be avoided, but we now have many years of developer experience to call upon"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1696714395,"post_id":77251539,"comment_id":136189425,"body_markdown":"*&quot;What are the best practices to store date/date-time values on entity/document classes? Should I use ZonedDateTime instead of LocalDateTime?&quot;* - this is just my opinion, but I would say, yes, make use of `ZonedDateTime` for storing the date/time values where possible - this is not a hard and fast rule, but an over arching general recommendation. Consider the fact that the timezone in which database systems runs in will effect how they handle time information without time zones.  Better to define a simple rule - eg: &quot;all time is converted to UTC before insertion, with time zone information&quot;","body":"<i>&quot;What are the best practices to store date/date-time values on entity/document classes? Should I use ZonedDateTime instead of LocalDateTime?&quot;</i> - this is just my opinion, but I would say, yes, make use of <code>ZonedDateTime</code> for storing the date/time values where possible - this is not a hard and fast rule, but an over arching general recommendation. Consider the fact that the timezone in which database systems runs in will effect how they handle time information without time zones.  Better to define a simple rule - eg: &quot;all time is converted to UTC before insertion, with time zone information&quot;"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1696750183,"post_id":77251539,"comment_id":136191445,"body_markdown":"&quot;Best practice&quot; would include not using `java.util.Date` at all ...","body":"&quot;Best practice&quot; would include not using <code>java.util.Date</code> at all ..."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1696751911,"post_id":77251539,"comment_id":136191600,"body_markdown":"*I know this may sound awkward after 3 years of software development, ...* To me it does not sound awkward at all. Correct date and time handling is complicated and takes time to learn.","body":"<i>I know this may sound awkward after 3 years of software development, ...</i> To me it does not sound awkward at all. Correct date and time handling is complicated and takes time to learn."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1696752143,"post_id":77251539,"comment_id":136191622,"body_markdown":"Think twice before using `LocalDateTime` for date and time. If your date and time is supposed to represent a point in time and not in the future, you will probably prefer `Instant`, `ZonedDateTime` or `OffsetDateTime` (the last since it works well with `timestamp with time zone` in SQL databases). A `LocalDateTime` *does not* define a point in time. Even if your software will only be used in one time zone ever, a `LocalDateTime` is ambiguous during fall back (where summer time ends).","body":"Think twice before using <code>LocalDateTime</code> for date and time. If your date and time is supposed to represent a point in time and not in the future, you will probably prefer <code>Instant</code>, <code>ZonedDateTime</code> or <code>OffsetDateTime</code> (the last since it works well with <code>timestamp with time zone</code> in SQL databases). A <code>LocalDateTime</code> <i>does not</i> define a point in time. Even if your software will only be used in one time zone ever, a <code>LocalDateTime</code> is ambiguous during fall back (where summer time ends)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1696752531,"post_id":77251539,"comment_id":136191647,"body_markdown":"A related good read: [Java Best Practice for Date Manipulation/Storage for Geographically Diverse Users](https://stackoverflow.com/questions/40075780/java-best-practice-for-date-manipulation-storage-for-geographically-diverse-user)","body":"A related good read: <a href=\"https://stackoverflow.com/questions/40075780/java-best-practice-for-date-manipulation-storage-for-geographically-diverse-user\">Java Best Practice for Date Manipulation/Storage for Geographically Diverse Users</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1696901263,"post_id":77251539,"comment_id":136209110,"body_markdown":"I should also point out that the term &quot;best practice&quot; is false advertising.  See https://www.satisfice.com/blog/archives/5164.","body":"I should also point out that the term &quot;best practice&quot; is false advertising.  See <a href=\"https://www.satisfice.com/blog/archives/5164\" rel=\"nofollow noreferrer\">satisfice.com/blog/archives/5164</a>."}],"answers":[{"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1696924087,"post_id":77252073,"comment_id":136211345,"body_markdown":"Do you have any example of zone that starts at 1:00 ?","body":"Do you have any example of zone that starts at 1:00 ?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1696928367,"post_id":77252073,"comment_id":136212058,"body_markdown":"@PaulMarcelinBejan This year, time zones in Cuba, Egypt, Lebanon, Paraguay. See [Wikipedia](https://en.m.wikipedia.org/wiki/Daylight_saving_time_by_country).","body":"@PaulMarcelinBejan This year, time zones in Cuba, Egypt, Lebanon, Paraguay. See <a href=\"https://en.m.wikipedia.org/wiki/Daylight_saving_time_by_country\" rel=\"nofollow noreferrer\">Wikipedia</a>."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696897759,"creation_date":1696731162,"answer_id":77252073,"question_id":77251539,"body_markdown":"## Conversion rather than revamp\r\n\r\n&gt; The idea is to refactor the project as soon as possible to store Date/DateTime/Time values into java.time classes\r\n\r\nDepending on the size and complexity of your codebase, this may be quite risky. \r\n\r\nA more conservative approach is to do all new programming in *java.time*. To interoperate with old code not yet updated to *java.time*, convert. You will find new conversion methods on the old classes. Look for `to…` &amp; `from…` methods. These conversion methods provide complete coverage, allowing you to go back and forth. \r\n\r\nAnother word of caution when revamping code: Many/most programmers have a poor understanding of date-time handling. The topic is surprisingly tricky and complicated, the concepts slippery when first encountered. Our quotidian understanding of date-time actually works against us when dealing with the strictness of programming and databases. So beware of poor code, buggy code, that mishandles date-time. Each time you discover such faulty code, you will be opening up a barrel of trouble as reports may have been produced showing incorrect results, databases may store invalid data, etc. \r\n\r\nYou can search existing Stack Overflow questions and answers to learn more. Below are a few brief points to help guide you.\r\n\r\n# Moment versus Not-a-moment\r\n\r\n&gt;Date values into LocalDate\r\n&gt;\r\n&gt;Date and time values into LocalDateTime\r\n\r\nIncorrect. Or incomplete, I should say.\r\n\r\nI recommend you frame your thinking this way… There are two kinds of time tracking:\r\n\r\n - Moment (definite)\r\n - Not a moment (indefinite)\r\n\r\n## Moment\r\n\r\nA moment is a specific point on the timeline. Moments are tracked in *java.time* as a count of whole seconds, plus a fractional second as a count of nanoseconds, since the epoch reference of first moment of 1970 in UTC. &quot;in UTC&quot; is short for &quot;an offset from the temporal meridian of UTC of zero hours-minutes-seconds&quot;. \r\n\r\nThe basic class for representing a moment is `java.time.Instant`. Objects of this class represent a moment as seen in UTC, always in UTC. This class is the basic building-block of the *jav.time* framework. This class should be your first and last thought when dealing with moments. Use `Instant` to track a moment unless your business rules specifically involve a particular zone or offset. And `java.util.Date` is specifically replaced by `java.time.Instant`, with both representing a moment in UTC but with `Instant` having a finer resolution of nanoseconds over the `java.util.Date` resolution of milliseconds.\r\n\r\nTwo other classes track moments in *java.time*: `OffsetDateTime` &amp; `ZonedDateTime`.\r\n\r\n`OffsetDateTime` represents a moment as seen with an offset-from-UTC other than zero. An offset is merely a number of hours-minutes-seconds ahead or behind UTC. So people in Paris set the clocks on their wall one or two hours ahead of UTC, while people in Tokyo set their clocks nine hours ahead, whereas people in Nova Scotia Canada set their clocks three or four hours *behind* UTC. \r\n\r\nA time zone is much more than a mere offset. A time zone is a named history of the past, present, and future changes to the offset used by the people of a particular region as decided by their politicians. A time zone has a name in the format of `Continent/Region` such as `Europe/Paris` &amp; `Asia/Tokyo`. \r\n\r\nTo view a date and time-of-day through the wall-clock time of a particular region, use `ZonedDateTime`. \r\n\r\nNote that you can easily and cleanly move back and forth between these three classes, `Instant`, `OffsetDateTime`, and `ZonedDateTime` via their `to…`, `at…`, and `with…`methods. They provide three ways of looking at the very same moment. Generally you use `Instant` in your business logic and data storage and data exchange, while using `ZonedDateTime` for presentation to the user.\r\n\r\n## Not-a-moment\r\n\r\nOn the other hand, we have &quot;not a moment&quot; tracking. These are the indefinite types. \r\n\r\nThe not-a-moment class causing the most confusion is `LocalDateTime`. This class represents a date with a time-of-day but lacking any concept of offset or time zone. So if I say noon next January 23rd 2024, `LocalDateTime.of( 2024 , Month.JANUARY , 23 , 12 , 0 , 0 , 0 )`, you have no way of knowing if I mean noon in Tokyo, noon in Toulouse, or noon in Toledo Ohio US —&#160;three very different moments several hours apart.\r\n\r\nWhen in doubt, do *not* use `LocalDateTime`. Generally in programming business apps we care about moments, and so rarely use `LocalDateTime`. \r\n\r\nThe big exception, when we most often need `LocalDateTime` in business apps, is booking appointments, such as for the dentist. There we need to hold a `LocalDateTime` and time zone (`ZoneId`) *separately* rather than combining them into a `ZonedDateTime`. The reason is crucial: ***Politicians frequently change time zone rules***, and they do so unpredictably and often with little forewarning. So that dentist appoint at 3 PM may occur an hour earlier, or an hour later, if the politicians there decide:\r\n\r\n - To adopt Daylight Saving Time (DST).\r\n - To abandon DST.\r\n - To stay on DST year-round (the latest fad).\r\n - That a different offset would bring business opportunities. Example: Iceland adopting an offset of zero.\r\n - That a different offset would have political effects. Example: India instituting one single time zone across the broad sub-continent.\r\n - To adjust their clock as a diplomatic move relative to a neighboring country. Example: North Korea changing their offset to match South Korea.\r\n - To adopt the offset of an invading/occupying force. \r\n\r\nAll of these happen much more often than most people realize. Such changes break na&#239;vely-written apps needlessly.\r\n\r\nThe other indefinite types include:\r\n\r\n - `LocalDate` for a date-only value without a time-of-day and without any zone/offset.\r\n - `LocalTime` for a time-only value without any date and without any zone/offset.\r\n\r\nThe `LocalDate` can be tricky in that many people are unaware that, for any given moment, the date varies around the globe by time zone. Right now is &quot;tomorrow&quot; in Tokyo Japan while simultaneously &quot;yesterday&quot; in Edmonton Canada.\r\n\r\n# Your code\r\n\r\n```java\r\nLocalDateTime localDateTime = date.toInstant().atZone(ZoneId.systemDefualt()).toLocalDateTime();\r\n```\r\n\r\nThat code has two problems. \r\n\r\n - One is the inappropriate use of `LocalDateTime`. The `java.util.Date` class behind `date` var represents a moment with an offset of zero. You discard the crucial piece of information, the offset, when converting to `LocalDateTime`. \r\n - Another problem is the use of `ZoneId.systemDefualt()`. This means the results vary depending on the JVM’s current default time zone. As discussed above, this means the date may vary, not just the time-of-day. The same code running on two different machines may produce two different dates. This may be what you want in your app, or this may be a rude awakening to an unaware programmer.\r\n\r\nYour other piece of code also has problems.\r\n\r\n```java\r\npublic static Date getBeginOfTheYear(Date date){\r\n    LocalDate localDate = date.toInstant().atZone(ZoneId.systemDefualt()).toLocalDate();\r\n    LocalDate beginOfTheYear = localDate.withMonth(1).withDayOfMonth(1);\r\n    return Date.from(beginOfTheYear.atStartOfDay().atZone(ZoneId.systemDefault()).toInstant());\r\n}\r\n```\r\n\r\nFirst of all, be aware there are unfortunately *two* `Date` classes amongst the legacy date-time classes: `java.util.Date` for a moment, and `java.sql.Date` that pretends to represent a date-only but is actually a moment (in a horrendously poor class-design decision). I will assume your means `java.util.Date`.\r\n\r\nSecondly, avoid these kinds of call-chains with this kind of code. Readability, debugging, and logging are all made more difficult. Write simple short lines instead when doing a series of conversions. Use comments on each line to justify the operation, and explain your motivation. And, avoid the use of `var` for the same reason; use explicit return types when doing such conversions. \r\n\r\nThe `date.toInstant()` is good. When encountering a `java.util.Date`, immediately convert to a `Instant`. \r\n\r\nAgain, the use of `ZoneId.systemDefualt()` means the results of your code vary by the whim of any sys-admin or user who is changing the default time zone. This *might* be the intent of the author of this code, but I doubt it.\r\n\r\nThe part [`beginOfTheYear.atStartOfDay()`][1] produces a [`LocalDateTime`][2] when you pass no arguments. So you are again discarding valuable info (offset) without gaining anything in return. \r\n\r\nAnother problem: Your code will not even compile. The `java.util.Date.from` method takes an [`Instant`][3], not a `LocalDateTime` returned by your call [`beginOfTheYear.atStartOfDay()`][1]. \r\n\r\nTo correctly get the first moment of the first of the year of a particular moment, you almost certainly would want the people deciding business rules to dictate a particular time zone.\r\n\r\n    ZoneId zTokyo = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n\r\nYou should indeed convert the incoming `java.util.Date` to a `Instant`.\r\n\r\n    Instant instant = myJavaUtilDate.toInstant() ;\r\n    \r\nThen apply the zone.\r\n\r\n    ZonedDateTime zdt = instant.atZone( zTokyo ) ;\r\n\r\nExtract year portion. As discussed above, the date may vary by time zone. Therefore, the *year may vary* depending on the zone you provided in the previous line of code above!\r\n\r\n    Year year = Year.from( zdt ) ;\r\n\r\nGet first day of that year.\r\n\r\n    LocalDate firstOfYear = year.atDay( 1 ) ;\r\n\r\nLet *java.time* determine the first moment of that day in that zone. Do *not* assume the start time is 00:00. Some dates in some zones start at another time such as 01:00. \r\n\r\nNotice that in determining the first moment of the year, we pass the argument for `ZoneId` to `atStartOfDay`, in contrast to your code. The result here is a `ZonedDateTime` rather than the `LocalDateTime` in your code.\r\n\r\n    ZonedDateTime zdtFirstMomentOfTheYearInTokyo = firstOfYear.atStartOfDay( zTokyo ) ; \r\n\r\nLastly, we convert to `java.util.Date`. In [greenfield][4] code, we would avoid this class like the Plague. But in your existing codebase, we must convert to interoperate with the parts of your old code not yet updated to *java.time*. \r\n\r\n    Instant instantFirstMomentOfTheYearInTokyo = zdtFirstMomentOfTheYearInTokyo.toInstant(); \r\n    java.util.Date d = java.util.Date.from( instantFirstMomentOfTheYearInTokyo ) ;\r\n\r\n# MongoDB\r\n\r\nYou said:\r\n\r\n&gt;During test I immediately find an issue, a localDateTime variable with value of 2023-10-07 12:00:00 was saved on MongoDB as 2023-10-07 10:00:00 This is not a problem as long as when the data is fetched back into java, the value is back to 2023-10-07 12:00:00, but this is not happening so it is a big problem.\r\n\r\nToo much to unpack there, with too little detail from you. \r\n\r\nI suggest you post another Question specifically on that issue. Provide sufficient detail, along with example code, to make a diagnosis.\r\n\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html#atStartOfDay()\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDateTime.html\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Date.html#from(java.time.Instant)\r\n  [4]: https://en.wikipedia.org/wiki/Greenfield_project","title":"How to use java.time classes correctly?","body":"<h2>Conversion rather than revamp</h2>\n<blockquote>\n<p>The idea is to refactor the project as soon as possible to store Date/DateTime/Time values into java.time classes</p>\n</blockquote>\n<p>Depending on the size and complexity of your codebase, this may be quite risky.</p>\n<p>A more conservative approach is to do all new programming in <em>java.time</em>. To interoperate with old code not yet updated to <em>java.time</em>, convert. You will find new conversion methods on the old classes. Look for <code>to…</code> &amp; <code>from…</code> methods. These conversion methods provide complete coverage, allowing you to go back and forth.</p>\n<p>Another word of caution when revamping code: Many/most programmers have a poor understanding of date-time handling. The topic is surprisingly tricky and complicated, the concepts slippery when first encountered. Our quotidian understanding of date-time actually works against us when dealing with the strictness of programming and databases. So beware of poor code, buggy code, that mishandles date-time. Each time you discover such faulty code, you will be opening up a barrel of trouble as reports may have been produced showing incorrect results, databases may store invalid data, etc.</p>\n<p>You can search existing Stack Overflow questions and answers to learn more. Below are a few brief points to help guide you.</p>\n<h1>Moment versus Not-a-moment</h1>\n<blockquote>\n<p>Date values into LocalDate</p>\n<p>Date and time values into LocalDateTime</p>\n</blockquote>\n<p>Incorrect. Or incomplete, I should say.</p>\n<p>I recommend you frame your thinking this way… There are two kinds of time tracking:</p>\n<ul>\n<li>Moment (definite)</li>\n<li>Not a moment (indefinite)</li>\n</ul>\n<h2>Moment</h2>\n<p>A moment is a specific point on the timeline. Moments are tracked in <em>java.time</em> as a count of whole seconds, plus a fractional second as a count of nanoseconds, since the epoch reference of first moment of 1970 in UTC. &quot;in UTC&quot; is short for &quot;an offset from the temporal meridian of UTC of zero hours-minutes-seconds&quot;.</p>\n<p>The basic class for representing a moment is <code>java.time.Instant</code>. Objects of this class represent a moment as seen in UTC, always in UTC. This class is the basic building-block of the <em>jav.time</em> framework. This class should be your first and last thought when dealing with moments. Use <code>Instant</code> to track a moment unless your business rules specifically involve a particular zone or offset. And <code>java.util.Date</code> is specifically replaced by <code>java.time.Instant</code>, with both representing a moment in UTC but with <code>Instant</code> having a finer resolution of nanoseconds over the <code>java.util.Date</code> resolution of milliseconds.</p>\n<p>Two other classes track moments in <em>java.time</em>: <code>OffsetDateTime</code> &amp; <code>ZonedDateTime</code>.</p>\n<p><code>OffsetDateTime</code> represents a moment as seen with an offset-from-UTC other than zero. An offset is merely a number of hours-minutes-seconds ahead or behind UTC. So people in Paris set the clocks on their wall one or two hours ahead of UTC, while people in Tokyo set their clocks nine hours ahead, whereas people in Nova Scotia Canada set their clocks three or four hours <em>behind</em> UTC.</p>\n<p>A time zone is much more than a mere offset. A time zone is a named history of the past, present, and future changes to the offset used by the people of a particular region as decided by their politicians. A time zone has a name in the format of <code>Continent/Region</code> such as <code>Europe/Paris</code> &amp; <code>Asia/Tokyo</code>.</p>\n<p>To view a date and time-of-day through the wall-clock time of a particular region, use <code>ZonedDateTime</code>.</p>\n<p>Note that you can easily and cleanly move back and forth between these three classes, <code>Instant</code>, <code>OffsetDateTime</code>, and <code>ZonedDateTime</code> via their <code>to…</code>, <code>at…</code>, and <code>with…</code>methods. They provide three ways of looking at the very same moment. Generally you use <code>Instant</code> in your business logic and data storage and data exchange, while using <code>ZonedDateTime</code> for presentation to the user.</p>\n<h2>Not-a-moment</h2>\n<p>On the other hand, we have &quot;not a moment&quot; tracking. These are the indefinite types.</p>\n<p>The not-a-moment class causing the most confusion is <code>LocalDateTime</code>. This class represents a date with a time-of-day but lacking any concept of offset or time zone. So if I say noon next January 23rd 2024, <code>LocalDateTime.of( 2024 , Month.JANUARY , 23 , 12 , 0 , 0 , 0 )</code>, you have no way of knowing if I mean noon in Tokyo, noon in Toulouse, or noon in Toledo Ohio US — three very different moments several hours apart.</p>\n<p>When in doubt, do <em>not</em> use <code>LocalDateTime</code>. Generally in programming business apps we care about moments, and so rarely use <code>LocalDateTime</code>.</p>\n<p>The big exception, when we most often need <code>LocalDateTime</code> in business apps, is booking appointments, such as for the dentist. There we need to hold a <code>LocalDateTime</code> and time zone (<code>ZoneId</code>) <em>separately</em> rather than combining them into a <code>ZonedDateTime</code>. The reason is crucial: <em><strong>Politicians frequently change time zone rules</strong></em>, and they do so unpredictably and often with little forewarning. So that dentist appoint at 3 PM may occur an hour earlier, or an hour later, if the politicians there decide:</p>\n<ul>\n<li>To adopt Daylight Saving Time (DST).</li>\n<li>To abandon DST.</li>\n<li>To stay on DST year-round (the latest fad).</li>\n<li>That a different offset would bring business opportunities. Example: Iceland adopting an offset of zero.</li>\n<li>That a different offset would have political effects. Example: India instituting one single time zone across the broad sub-continent.</li>\n<li>To adjust their clock as a diplomatic move relative to a neighboring country. Example: North Korea changing their offset to match South Korea.</li>\n<li>To adopt the offset of an invading/occupying force.</li>\n</ul>\n<p>All of these happen much more often than most people realize. Such changes break naïvely-written apps needlessly.</p>\n<p>The other indefinite types include:</p>\n<ul>\n<li><code>LocalDate</code> for a date-only value without a time-of-day and without any zone/offset.</li>\n<li><code>LocalTime</code> for a time-only value without any date and without any zone/offset.</li>\n</ul>\n<p>The <code>LocalDate</code> can be tricky in that many people are unaware that, for any given moment, the date varies around the globe by time zone. Right now is &quot;tomorrow&quot; in Tokyo Japan while simultaneously &quot;yesterday&quot; in Edmonton Canada.</p>\n<h1>Your code</h1>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime localDateTime = date.toInstant().atZone(ZoneId.systemDefualt()).toLocalDateTime();\n</code></pre>\n<p>That code has two problems.</p>\n<ul>\n<li>One is the inappropriate use of <code>LocalDateTime</code>. The <code>java.util.Date</code> class behind <code>date</code> var represents a moment with an offset of zero. You discard the crucial piece of information, the offset, when converting to <code>LocalDateTime</code>.</li>\n<li>Another problem is the use of <code>ZoneId.systemDefualt()</code>. This means the results vary depending on the JVM’s current default time zone. As discussed above, this means the date may vary, not just the time-of-day. The same code running on two different machines may produce two different dates. This may be what you want in your app, or this may be a rude awakening to an unaware programmer.</li>\n</ul>\n<p>Your other piece of code also has problems.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Date getBeginOfTheYear(Date date){\n    LocalDate localDate = date.toInstant().atZone(ZoneId.systemDefualt()).toLocalDate();\n    LocalDate beginOfTheYear = localDate.withMonth(1).withDayOfMonth(1);\n    return Date.from(beginOfTheYear.atStartOfDay().atZone(ZoneId.systemDefault()).toInstant());\n}\n</code></pre>\n<p>First of all, be aware there are unfortunately <em>two</em> <code>Date</code> classes amongst the legacy date-time classes: <code>java.util.Date</code> for a moment, and <code>java.sql.Date</code> that pretends to represent a date-only but is actually a moment (in a horrendously poor class-design decision). I will assume your means <code>java.util.Date</code>.</p>\n<p>Secondly, avoid these kinds of call-chains with this kind of code. Readability, debugging, and logging are all made more difficult. Write simple short lines instead when doing a series of conversions. Use comments on each line to justify the operation, and explain your motivation. And, avoid the use of <code>var</code> for the same reason; use explicit return types when doing such conversions.</p>\n<p>The <code>date.toInstant()</code> is good. When encountering a <code>java.util.Date</code>, immediately convert to a <code>Instant</code>.</p>\n<p>Again, the use of <code>ZoneId.systemDefualt()</code> means the results of your code vary by the whim of any sys-admin or user who is changing the default time zone. This <em>might</em> be the intent of the author of this code, but I doubt it.</p>\n<p>The part <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html#atStartOfDay()\" rel=\"nofollow noreferrer\"><code>beginOfTheYear.atStartOfDay()</code></a> produces a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> when you pass no arguments. So you are again discarding valuable info (offset) without gaining anything in return.</p>\n<p>Another problem: Your code will not even compile. The <code>java.util.Date.from</code> method takes an <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Date.html#from(java.time.Instant)\" rel=\"nofollow noreferrer\"><code>Instant</code></a>, not a <code>LocalDateTime</code> returned by your call <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html#atStartOfDay()\" rel=\"nofollow noreferrer\"><code>beginOfTheYear.atStartOfDay()</code></a>.</p>\n<p>To correctly get the first moment of the first of the year of a particular moment, you almost certainly would want the people deciding business rules to dictate a particular time zone.</p>\n<pre><code>ZoneId zTokyo = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\n</code></pre>\n<p>You should indeed convert the incoming <code>java.util.Date</code> to a <code>Instant</code>.</p>\n<pre><code>Instant instant = myJavaUtilDate.toInstant() ;\n</code></pre>\n<p>Then apply the zone.</p>\n<pre><code>ZonedDateTime zdt = instant.atZone( zTokyo ) ;\n</code></pre>\n<p>Extract year portion. As discussed above, the date may vary by time zone. Therefore, the <em>year may vary</em> depending on the zone you provided in the previous line of code above!</p>\n<pre><code>Year year = Year.from( zdt ) ;\n</code></pre>\n<p>Get first day of that year.</p>\n<pre><code>LocalDate firstOfYear = year.atDay( 1 ) ;\n</code></pre>\n<p>Let <em>java.time</em> determine the first moment of that day in that zone. Do <em>not</em> assume the start time is 00:00. Some dates in some zones start at another time such as 01:00.</p>\n<p>Notice that in determining the first moment of the year, we pass the argument for <code>ZoneId</code> to <code>atStartOfDay</code>, in contrast to your code. The result here is a <code>ZonedDateTime</code> rather than the <code>LocalDateTime</code> in your code.</p>\n<pre><code>ZonedDateTime zdtFirstMomentOfTheYearInTokyo = firstOfYear.atStartOfDay( zTokyo ) ; \n</code></pre>\n<p>Lastly, we convert to <code>java.util.Date</code>. In <a href=\"https://en.wikipedia.org/wiki/Greenfield_project\" rel=\"nofollow noreferrer\">greenfield</a> code, we would avoid this class like the Plague. But in your existing codebase, we must convert to interoperate with the parts of your old code not yet updated to <em>java.time</em>.</p>\n<pre><code>Instant instantFirstMomentOfTheYearInTokyo = zdtFirstMomentOfTheYearInTokyo.toInstant(); \njava.util.Date d = java.util.Date.from( instantFirstMomentOfTheYearInTokyo ) ;\n</code></pre>\n<h1>MongoDB</h1>\n<p>You said:</p>\n<blockquote>\n<p>During test I immediately find an issue, a localDateTime variable with value of 2023-10-07 12:00:00 was saved on MongoDB as 2023-10-07 10:00:00 This is not a problem as long as when the data is fetched back into java, the value is back to 2023-10-07 12:00:00, but this is not happening so it is a big problem.</p>\n</blockquote>\n<p>Too much to unpack there, with too little detail from you.</p>\n<p>I suggest you post another Question specifically on that issue. Provide sufficient detail, along with example code, to make a diagnosis.</p>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77252073,"answer_count":1,"score":2,"last_activity_date":1696897759,"creation_date":1696713391,"question_id":77251539,"body_markdown":"I know this may sound awkward after 3 years of software development, but I&#39;m trying to better understand the java.time classes and how to use them to avoid errors and bad practice.\r\n\r\nOn the first project where I was involved, the java version used was 8, but date values was stored on legacy class java.util.Date\r\n\r\nTwo years later, new company, new project with java version 17, but still date values are stored into legacy class java.util.Date\r\n\r\nThe confusion started when I see that there was a DateUtils on the project with methods like:\r\n\r\n    public static String toString_ddMMyyyy_dotted(Date date){\r\n        LocalDateTime localDateTime = date.toInstant().atZone(ZoneId.systemDefualt()).toLocalDateTime();\r\n        DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;).format(localDateTime);\r\n    }\r\n\r\n    public static Date getBeginOfTheYear(Date date){\r\n        LocalDate localDate = date.toInstant().atZone(ZoneId.systemDefualt()).toLocalDate();\r\n        LocalDate beginOfTheYear = localDate.withMonth(1).withDayOfMonth(1);\r\n        return Date.from(beginOfTheYear.atStartOfDay().atZone(ZoneId.systemDefault()).toInstant());\r\n    }\r\n\r\nSo my question was, **why not using directly the java.time classes which have a really good APIs instead of converting a variable into LocalDate/LocalDateTime whenever an operation on the Date is required?**\r\n\r\nThe idea is to refactor the project as soon as possible to store Date/DateTime/Time values into java.time classes.\r\nI started from a simple module, that saves some data into MongoDB.\r\nI applied the following field type conversion:\r\n- Date values into LocalDate\r\n- Date and time values into LocalDateTime\r\n\r\nDuring test I immediately find an issue, a localDateTime variable with **value of 2023-10-07 12:00:00 was saved on MongoDB as 2023-10-07 10:00:00**\r\nThis is not a problem as long as when the data is fetched back into java, the value is back to 2023-10-07 12:00:00, but this is not happening so it is a big problem.\r\n\r\nFirst of all, does this happen only when using LocalDateTime, or does it also happen with LocalDate?\r\n\r\nWhat are the best practices to store date/date-time values on entity/document classes? Should I use ZonedDateTime instead of LocalDateTime?","title":"How to use java.time classes correctly?","body":"<p>I know this may sound awkward after 3 years of software development, but I'm trying to better understand the java.time classes and how to use them to avoid errors and bad practice.</p>\n<p>On the first project where I was involved, the java version used was 8, but date values was stored on legacy class java.util.Date</p>\n<p>Two years later, new company, new project with java version 17, but still date values are stored into legacy class java.util.Date</p>\n<p>The confusion started when I see that there was a DateUtils on the project with methods like:</p>\n<pre><code>public static String toString_ddMMyyyy_dotted(Date date){\n    LocalDateTime localDateTime = date.toInstant().atZone(ZoneId.systemDefualt()).toLocalDateTime();\n    DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;).format(localDateTime);\n}\n\npublic static Date getBeginOfTheYear(Date date){\n    LocalDate localDate = date.toInstant().atZone(ZoneId.systemDefualt()).toLocalDate();\n    LocalDate beginOfTheYear = localDate.withMonth(1).withDayOfMonth(1);\n    return Date.from(beginOfTheYear.atStartOfDay().atZone(ZoneId.systemDefault()).toInstant());\n}\n</code></pre>\n<p>So my question was, <strong>why not using directly the java.time classes which have a really good APIs instead of converting a variable into LocalDate/LocalDateTime whenever an operation on the Date is required?</strong></p>\n<p>The idea is to refactor the project as soon as possible to store Date/DateTime/Time values into java.time classes.\nI started from a simple module, that saves some data into MongoDB.\nI applied the following field type conversion:</p>\n<ul>\n<li>Date values into LocalDate</li>\n<li>Date and time values into LocalDateTime</li>\n</ul>\n<p>During test I immediately find an issue, a localDateTime variable with <strong>value of 2023-10-07 12:00:00 was saved on MongoDB as 2023-10-07 10:00:00</strong>\nThis is not a problem as long as when the data is fetched back into java, the value is back to 2023-10-07 12:00:00, but this is not happening so it is a big problem.</p>\n<p>First of all, does this happen only when using LocalDateTime, or does it also happen with LocalDate?</p>\n<p>What are the best practices to store date/date-time values on entity/document classes? Should I use ZonedDateTime instead of LocalDateTime?</p>\n"},{"tags":["java","spring-boot","eclipse","model-view-controller","enums"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1696844326,"post_id":77257745,"comment_id":136200272,"body_markdown":"Just like any other field - access modifier, type, name. Getters and setter, no one but you can tell, we don&#39;t know how you will use the field.","body":"Just like any other field - access modifier, type, name. Getters and setter, no one but you can tell, we don&#39;t know how you will use the field."}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696895983,"post_id":77257936,"comment_id":136208777,"body_markdown":"Good code. But I disagree with the claim that the enum should be defined in its own separate class. If the  enum `Color` only makes sense within the context of a player, than it does indeed belong nested within `Player`.","body":"Good code. But I disagree with the claim that the enum should be defined in its own separate class. If the  enum <code>Color</code> only makes sense within the context of a player, than it does indeed belong nested within <code>Player</code>."}],"tags":[],"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696896765,"creation_date":1696845781,"answer_id":77257936,"question_id":77257745,"body_markdown":"Something like this:\r\n    \r\n    public class Player {\r\n        private String name;\r\n        private String number;\r\n        private Color favoriteColor;\r\n    \r\n        enum Color {\r\n            RED,\r\n            GREEN,\r\n            BLUE\r\n        }\r\n    }\r\n\r\nFrom there you write code to assign a reference to one of those enum objects into the member field of objects of that class. This works the same for your field of `Color` as for any other kind of object such as a field of `String` or a field of `LocalDate`. \r\n\r\nIn a real world example the enum should be in a class of its own.","title":"How do I use an enum for a field?","body":"<p>Something like this:</p>\n<pre><code>public class Player {\n    private String name;\n    private String number;\n    private Color favoriteColor;\n\n    enum Color {\n        RED,\n        GREEN,\n        BLUE\n    }\n}\n</code></pre>\n<p>From there you write code to assign a reference to one of those enum objects into the member field of objects of that class. This works the same for your field of <code>Color</code> as for any other kind of object such as a field of <code>String</code> or a field of <code>LocalDate</code>.</p>\n<p>In a real world example the enum should be in a class of its own.</p>\n"}],"owner":{"account_id":19865638,"reputation":23,"user_id":14552970,"display_name":"Brent Cruz"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1696847016,"answer_count":1,"score":-3,"last_activity_date":1696896765,"creation_date":1696844170,"question_id":77257745,"body_markdown":"I am very new to Springboot and would like to create a Basketball team management system using MVC model. In one particular field, for the player positions, I need to make it an enum. How can I use an enum with a field? do I need getters and setters for it? I have no idea how to do it and it&#39;s an assignment. Thank you!","title":"How do I use an enum for a field?","body":"<p>I am very new to Springboot and would like to create a Basketball team management system using MVC model. In one particular field, for the player positions, I need to make it an enum. How can I use an enum with a field? do I need getters and setters for it? I have no idea how to do it and it's an assignment. Thank you!</p>\n"},{"tags":["java","maven","aspectj"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1696692892,"post_id":77249169,"comment_id":136187428,"body_markdown":"I strongly recommend to upgrade all the plugin versions you are using because those are ancient old...","body":"I strongly recommend to upgrade all the plugin versions you are using because those are ancient old..."},{"owner":{"account_id":6462842,"reputation":104,"user_id":5006001,"accept_rate":80,"display_name":"Tom"},"score":0,"creation_date":1696694997,"post_id":77249169,"comment_id":136187641,"body_markdown":"@khmarbaise You’re absolutely right, and I did start with the latest version of everything; but out of desperation I subsequently downgraded all versions in order to match those of my legacy project that does work (to no avail).","body":"@khmarbaise You’re absolutely right, and I did start with the latest version of everything; but out of desperation I subsequently downgraded all versions in order to match those of my legacy project that does work (to no avail)."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1696748304,"post_id":77249169,"comment_id":136191317,"body_markdown":"Why would you need _aop.xml_ for compile-time weaving? That one is for load-time weaving.","body":"Why would you need <i>aop.xml</i> for compile-time weaving? That one is for load-time weaving."}],"answers":[{"comments":[{"owner":{"account_id":6462842,"reputation":104,"user_id":5006001,"accept_rate":80,"display_name":"Tom"},"score":0,"creation_date":1696800268,"post_id":77252671,"comment_id":136196139,"body_markdown":"Thank you very much for your time. Admittedly I had a very &quot;empirical&quot; understanding of AspectJ, so I just put together the configuration that somehow *worked* in my other project. Do you know of some sort of documentation page about the AJ project? All I could find was some Spring-related documentation, but I&#39;d like to keep it Spring-agnostic, at least in general.","body":"Thank you very much for your time. Admittedly I had a very &quot;empirical&quot; understanding of AspectJ, so I just put together the configuration that somehow <i>worked</i> in my other project. Do you know of some sort of documentation page about the AJ project? All I could find was some Spring-related documentation, but I&#39;d like to keep it Spring-agnostic, at least in general."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1696902052,"post_id":77252671,"comment_id":136209159,"body_markdown":"Have you tried your favourite web search engine to find out about AspectJ documentation directly on the AspectJ website? It is super easy to find, way quicker than asking a question here and waiting for a response. Just yesterday someone asked the same question on the [AspectJ users mailing list](https://www.eclipse.org/lists/aspectj-users/msg15572.html).","body":"Have you tried your favourite web search engine to find out about AspectJ documentation directly on the AspectJ website? It is super easy to find, way quicker than asking a question here and waiting for a response. Just yesterday someone asked the same question on the <a href=\"https://www.eclipse.org/lists/aspectj-users/msg15572.html\" rel=\"nofollow noreferrer\">AspectJ users mailing list</a>."},{"owner":{"account_id":6462842,"reputation":104,"user_id":5006001,"accept_rate":80,"display_name":"Tom"},"score":0,"creation_date":1696934073,"post_id":77252671,"comment_id":136213151,"body_markdown":"Matter of fact yes, I did try my favorite web search engine, but the &quot;correct&quot; AspectJ documentation website (which I now gathered from the mailing list link you shared) shows up at the 7th place, with no metadata on top of it, which is why I did not pick it up earlier. Anyway, thank you for sharing the link, now I know where to look.","body":"Matter of fact yes, I did try my favorite web search engine, but the &quot;correct&quot; AspectJ documentation website (which I now gathered from the mailing list link you shared) shows up at the 7th place, with no metadata on top of it, which is why I did not pick it up earlier. Anyway, thank you for sharing the link, now I know where to look."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696895016,"creation_date":1696749484,"answer_id":77252671,"question_id":77249169,"body_markdown":"Over-configuration is the cause of your problem. Simply remove the `&lt;sources/&gt;` section, which limits the AspectJ compiler to only compile the aspect but not the remaining code it ought to be woven into. If you do that, your sample project immediately works.\r\n\r\nAnyway, here is a somewhat more streamlined version of your POM, using the `dev.aspectj` plugin instead of the Mojohaus one (even though upgrading that one to 1.14.0 would also suffice for Java 8 or 11). As of today, the Mojohaus plugin still does not support Java 17+, while the AspectJ.dev one does.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.budwhite.studying&lt;/groupId&gt;\r\n  &lt;artifactId&gt;aspect-logging&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;logback.version&gt;1.3.11&lt;/logback.version&gt;\r\n    &lt;aspectj.version&gt;1.9.20.1&lt;/aspectj.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n      &lt;version&gt;${logback.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n      &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n          &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.13.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;complianceLevel&gt;${maven.compiler.source}&lt;/complianceLevel&gt;\r\n          &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n          &lt;Xlint&gt;ignore&lt;/Xlint&gt;\r\n          &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;aspectj-report&lt;/goal&gt;\r\n              &lt;goal&gt;compile&lt;/goal&gt;\r\n              &lt;goal&gt;test-compile&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nPlease also get rid of your _aop.xml_, because you are not using load-time weaving and also should not in your test, because with CTW that simply is not necessary.\r\n\r\nP.S.: Here is a [pull request](https://github.com/BudWhiteStudying/aspect-logging/pull/1) for you. Sorry for reformatting the files to indentation with 2 instead of 4 spaces. My IDE does that. You can simply activate this option when [reviewing the diff](https://github.com/BudWhiteStudying/aspect-logging/pull/1/files?diff=unified&amp;w=1):\r\n\r\n[![&quot;Hide whitespace&quot; option on GitHub][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/9cbNW.png","title":"Aspect not being compile-time woven into target classes despite seemingly correct configuration","body":"<p>Over-configuration is the cause of your problem. Simply remove the <code>&lt;sources/&gt;</code> section, which limits the AspectJ compiler to only compile the aspect but not the remaining code it ought to be woven into. If you do that, your sample project immediately works.</p>\n<p>Anyway, here is a somewhat more streamlined version of your POM, using the <code>dev.aspectj</code> plugin instead of the Mojohaus one (even though upgrading that one to 1.14.0 would also suffice for Java 8 or 11). As of today, the Mojohaus plugin still does not support Java 17+, while the AspectJ.dev one does.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.budwhite.studying&lt;/groupId&gt;\n  &lt;artifactId&gt;aspect-logging&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;logback.version&gt;1.3.11&lt;/logback.version&gt;\n    &lt;aspectj.version&gt;1.9.20.1&lt;/aspectj.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n      &lt;version&gt;${logback.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n      &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n      &lt;version&gt;${aspectj.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n          &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.13.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;complianceLevel&gt;${maven.compiler.source}&lt;/complianceLevel&gt;\n          &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n          &lt;Xlint&gt;ignore&lt;/Xlint&gt;\n          &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;aspectj-report&lt;/goal&gt;\n              &lt;goal&gt;compile&lt;/goal&gt;\n              &lt;goal&gt;test-compile&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Please also get rid of your <em>aop.xml</em>, because you are not using load-time weaving and also should not in your test, because with CTW that simply is not necessary.</p>\n<p>P.S.: Here is a <a href=\"https://github.com/BudWhiteStudying/aspect-logging/pull/1\" rel=\"nofollow noreferrer\">pull request</a> for you. Sorry for reformatting the files to indentation with 2 instead of 4 spaces. My IDE does that. You can simply activate this option when <a href=\"https://github.com/BudWhiteStudying/aspect-logging/pull/1/files?diff=unified&amp;w=1\" rel=\"nofollow noreferrer\">reviewing the diff</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/9cbNW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9cbNW.png\" alt=\"&quot;Hide whitespace&quot; option on GitHub\" /></a></p>\n"}],"owner":{"account_id":6462842,"reputation":104,"user_id":5006001,"accept_rate":80,"display_name":"Tom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77252671,"answer_count":1,"score":0,"last_activity_date":1696895016,"creation_date":1696670505,"question_id":77249169,"body_markdown":"I have been successfully using Aspects with CTW for some time, although always for weaving code I link against, rather than code I compile.\r\n\r\nIn a [test project][1], reusing the configurations that allowed me to make CTW work for external classes, I&#39;ve been trying to weave code I compile, but had no success.\r\n\r\n**I&#39;d be grateful to anyone who could help me spot whatever it is that I&#39;m doing wrong here.**\r\n\r\nI tried both the [call][2] and the [execution][3] approach, but to no avail.\r\n\r\nThe intended behavior is to intercept all method calls within the `com.budwhite.studying.aspect.logging.service` package, print a log message before their execution, and another log message after their execution.\r\n\r\nI tried adding the `aspectj-report` goal to the `aspectj-maven-plugin` execution, and the generated documents _do say_ that my `LoggingAspect` is advising the classes within that package - but in practice the aspect logic isn&#39;t executed when those methods are invoked - and I can&#39;t see any trace of the woven aspect code within the `.class` files.\r\n\r\nAll the configuration can be found in the GH repo I linked, but here are the main bits from the `execution` attempt (which is the approach I am successfully using in other projects, weaving code I link against):\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.budwhite.studying&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aspect-logging&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;logback.version&gt;1.3.11&lt;/logback.version&gt;\r\n        &lt;aspectj.version&gt;1.8.13&lt;/aspectj.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;${logback.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n                    &lt;Xlint&gt;ignore&lt;/Xlint&gt;\r\n                    &lt;complianceLevel&gt;${maven.compiler.source}&lt;/complianceLevel&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                    &lt;sources&gt;\r\n                        &lt;source&gt;\r\n                            &lt;basedir&gt;src/main/java&lt;/basedir&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;**/LoggingAspect.java&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                        &lt;/source&gt;\r\n                    &lt;/sources&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- IMPORTANT --&gt;\r\n                        &lt;phase&gt;process-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;aspectj-report&lt;/goal&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;-XX:-UseSplitVerifier&lt;/argLine&gt;\r\n                    &lt;argLine&gt;\r\n                        -javaagent:${user.home}/.m2/repository/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar\r\n                    &lt;/argLine&gt;\r\n                    &lt;useSystemClassLoader&gt;true&lt;/useSystemClassLoader&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**aop.xml**\r\n\r\n```\r\n&lt;aspectj&gt;\r\n    &lt;weaver options=&quot;-verbose -showWeaveInfo&quot;&gt;\r\n        &lt;include within=&quot;**.LoggingAspect&quot;/&gt;\r\n        &lt;include within=&quot;com.budwhite.studying.aspect.logging.service..*&quot;/&gt;\r\n    &lt;/weaver&gt;\r\n    &lt;aspects&gt;\r\n        &lt;!-- Aspects --&gt;\r\n        &lt;aspect name=&quot;**.LoggingAspect&quot;/&gt;\r\n    &lt;/aspects&gt;\r\n&lt;/aspectj&gt;\r\n```\r\n\r\n**LoggingAspect.java**\r\n\r\n```\r\npackage com.budwhite.studying.aspect.logging.aspect;\r\n\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.stream.Collectors;\r\n\r\nimport static java.lang.System.currentTimeMillis;\r\n\r\n@Aspect\r\npublic class LoggingAspect {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(LoggingAspect.class);\r\n    @Around(&quot;execution(* com.budwhite.studying.aspect.logging.service..*(..))&quot;)\r\n    public Object whatever(ProceedingJoinPoint thisJoinPoint) throws Throwable {\r\n        System.out.println(&quot;EVEN IF I DID SOMETHING WRONG WITH SLF4J, THIS PRINTOUT SHOULD SHOW UP&quot;);\r\n        logger.warn(&quot;{} begins, args are [{}]&quot;,\r\n                thisJoinPoint.getSignature().getName(),\r\n                Arrays.stream(thisJoinPoint.getArgs())\r\n                        .map(Object::toString)\r\n                        .collect(Collectors.joining(&quot;,&quot;)));\r\n        long startTime = currentTimeMillis();\r\n        Object result = thisJoinPoint.proceed();\r\n        logger.warn(&quot;{} ends, execution time {} ms, output is {}&quot;,\r\n                thisJoinPoint.getSignature().getName(),\r\n                currentTimeMillis()-startTime,\r\n                result!=null ? result : &quot;&quot;\r\n                );\r\n        return result;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://github.com/BudWhiteStudying/aspect-logging\r\n  [2]: https://github.com/BudWhiteStudying/aspect-logging/tree/call\r\n  [3]: https://github.com/BudWhiteStudying/aspect-logging/tree/execution","title":"Aspect not being compile-time woven into target classes despite seemingly correct configuration","body":"<p>I have been successfully using Aspects with CTW for some time, although always for weaving code I link against, rather than code I compile.</p>\n<p>In a <a href=\"https://github.com/BudWhiteStudying/aspect-logging\" rel=\"nofollow noreferrer\">test project</a>, reusing the configurations that allowed me to make CTW work for external classes, I've been trying to weave code I compile, but had no success.</p>\n<p><strong>I'd be grateful to anyone who could help me spot whatever it is that I'm doing wrong here.</strong></p>\n<p>I tried both the <a href=\"https://github.com/BudWhiteStudying/aspect-logging/tree/call\" rel=\"nofollow noreferrer\">call</a> and the <a href=\"https://github.com/BudWhiteStudying/aspect-logging/tree/execution\" rel=\"nofollow noreferrer\">execution</a> approach, but to no avail.</p>\n<p>The intended behavior is to intercept all method calls within the <code>com.budwhite.studying.aspect.logging.service</code> package, print a log message before their execution, and another log message after their execution.</p>\n<p>I tried adding the <code>aspectj-report</code> goal to the <code>aspectj-maven-plugin</code> execution, and the generated documents <em>do say</em> that my <code>LoggingAspect</code> is advising the classes within that package - but in practice the aspect logic isn't executed when those methods are invoked - and I can't see any trace of the woven aspect code within the <code>.class</code> files.</p>\n<p>All the configuration can be found in the GH repo I linked, but here are the main bits from the <code>execution</code> attempt (which is the approach I am successfully using in other projects, weaving code I link against):</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.budwhite.studying&lt;/groupId&gt;\n    &lt;artifactId&gt;aspect-logging&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;logback.version&gt;1.3.11&lt;/logback.version&gt;\n        &lt;aspectj.version&gt;1.8.13&lt;/aspectj.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;${logback.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.7&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n                    &lt;Xlint&gt;ignore&lt;/Xlint&gt;\n                    &lt;complianceLevel&gt;${maven.compiler.source}&lt;/complianceLevel&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;verbose&gt;true&lt;/verbose&gt;\n                    &lt;sources&gt;\n                        &lt;source&gt;\n                            &lt;basedir&gt;src/main/java&lt;/basedir&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;**/LoggingAspect.java&lt;/include&gt;\n                            &lt;/includes&gt;\n                        &lt;/source&gt;\n                    &lt;/sources&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- IMPORTANT --&gt;\n                        &lt;phase&gt;process-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;aspectj-report&lt;/goal&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.9&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;-XX:-UseSplitVerifier&lt;/argLine&gt;\n                    &lt;argLine&gt;\n                        -javaagent:${user.home}/.m2/repository/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar\n                    &lt;/argLine&gt;\n                    &lt;useSystemClassLoader&gt;true&lt;/useSystemClassLoader&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>aop.xml</strong></p>\n<pre><code>&lt;aspectj&gt;\n    &lt;weaver options=&quot;-verbose -showWeaveInfo&quot;&gt;\n        &lt;include within=&quot;**.LoggingAspect&quot;/&gt;\n        &lt;include within=&quot;com.budwhite.studying.aspect.logging.service..*&quot;/&gt;\n    &lt;/weaver&gt;\n    &lt;aspects&gt;\n        &lt;!-- Aspects --&gt;\n        &lt;aspect name=&quot;**.LoggingAspect&quot;/&gt;\n    &lt;/aspects&gt;\n&lt;/aspectj&gt;\n</code></pre>\n<p><strong>LoggingAspect.java</strong></p>\n<pre><code>package com.budwhite.studying.aspect.logging.aspect;\n\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.util.Arrays;\nimport java.util.stream.Collectors;\n\nimport static java.lang.System.currentTimeMillis;\n\n@Aspect\npublic class LoggingAspect {\n\n    private static final Logger logger = LoggerFactory.getLogger(LoggingAspect.class);\n    @Around(&quot;execution(* com.budwhite.studying.aspect.logging.service..*(..))&quot;)\n    public Object whatever(ProceedingJoinPoint thisJoinPoint) throws Throwable {\n        System.out.println(&quot;EVEN IF I DID SOMETHING WRONG WITH SLF4J, THIS PRINTOUT SHOULD SHOW UP&quot;);\n        logger.warn(&quot;{} begins, args are [{}]&quot;,\n                thisJoinPoint.getSignature().getName(),\n                Arrays.stream(thisJoinPoint.getArgs())\n                        .map(Object::toString)\n                        .collect(Collectors.joining(&quot;,&quot;)));\n        long startTime = currentTimeMillis();\n        Object result = thisJoinPoint.proceed();\n        logger.warn(&quot;{} ends, execution time {} ms, output is {}&quot;,\n                thisJoinPoint.getSignature().getName(),\n                currentTimeMillis()-startTime,\n                result!=null ? result : &quot;&quot;\n                );\n        return result;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","sandbox","antivirus","clamav"],"owner":{"account_id":14521203,"reputation":13,"user_id":10488824,"display_name":"Rajat Rana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696892579,"creation_date":1696845629,"question_id":77257910,"body_markdown":"I recently installed clamav antivirus in sandbox environment. I am scanning `.xfa` file using an API(java spring boot) deployed to same sandbox env.\r\n\r\n1. For virus signature database I prepared shell scrip to run freshclam command after every 48 hours. Its working fine.\r\n2. Before sending any file from my API to clamav I have to manually run clamd service in sandbox env using cmd. Then it remains active for 24 hours (not sure about exact timings)\r\nQuestion : - how can I automate clamd service. Is there any way to run from code API. I don&#39;t want to run it manually everytime before scanning the file.\r\n\r\n\r\nQuestion : - how can i automate clamd service. Is there any way to run from code API. I dont want to run it manually everytime before scanning the file.","title":"How to Run clamd service in clamav using cronjob","body":"<p>I recently installed clamav antivirus in sandbox environment. I am scanning <code>.xfa</code> file using an API(java spring boot) deployed to same sandbox env.</p>\n<ol>\n<li>For virus signature database I prepared shell scrip to run freshclam command after every 48 hours. Its working fine.</li>\n<li>Before sending any file from my API to clamav I have to manually run clamd service in sandbox env using cmd. Then it remains active for 24 hours (not sure about exact timings)\nQuestion : - how can I automate clamd service. Is there any way to run from code API. I don't want to run it manually everytime before scanning the file.</li>\n</ol>\n<p>Question : - how can i automate clamd service. Is there any way to run from code API. I dont want to run it manually everytime before scanning the file.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1696739309,"post_id":77252239,"comment_id":136190779,"body_markdown":"[How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/)","body":"<a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696739452,"creation_date":1696739452,"answer_id":77252327,"question_id":77252239,"body_markdown":"&gt; _&#39;... This is what I have so far. It works for fractions like &quot;1/2&quot; and turns it into 0.5 but not mixed numbers ...&#39;_\r\n\r\nThe _input_ value is parsed incorrectly during the _numbers_ assignment.\r\n\r\n```java\r\nString[] numbers = input.split(&quot;/&quot;);\r\n```\r\n\r\nThis will yield _&quot;1 1&quot;_ and _&quot;2&quot;_.\r\n\r\nHere is an example.\r\n\r\n```java\r\nString s = args[0];\r\nint i = 0, n, d, a;\r\nif ((a = s.indexOf(&#39; &#39;)) != -1) {\r\n    i = Integer.parseInt(s.substring(0, a));\r\n    s = s.substring(a + 1).trim();\r\n}\r\na = s.indexOf(&#39;/&#39;);\r\nn = Integer.parseInt(s.substring(0, a));\r\nd = Integer.parseInt(s.substring(a + 1));\r\ndouble x = i + ((double) n / d);\r\n```\r\n\r\nAdditionally, you can utilize the _[BigDecimal](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html)_ class.\r\n\r\n```java\r\nString s = args[0];\r\nint a;\r\nBigDecimal i = BigDecimal.ZERO, n, d, x;\r\nif ((a = s.indexOf(&#39; &#39;)) != -1) {\r\n    i = new BigDecimal(s.substring(0, a));\r\n    s = s.substring(a + 1).trim();\r\n}\r\na = s.indexOf(&#39;/&#39;);\r\nn = new BigDecimal(s.substring(0, a));\r\nd = new BigDecimal(s.substring(a + 1));\r\nx = i.add(n.divide(d, 5, RoundingMode.HALF_UP));\r\n```\r\n\r\nAnd inversely, if you need to convert the value back to a fraction.\r\n\r\n```java\r\nString f(double x) {\r\n    String s = String.valueOf(x);\r\n    s = s.substring(s.indexOf(&#39;.&#39;) + 1);\r\n    int n = Integer.parseInt(s);\r\n    if (n == 0) return String.valueOf((int) x);\r\n    class GCF {\r\n        static int of(int a, int b) {\r\n            if (b == 0) return a;\r\n            return of(b, a % b);\r\n        }\r\n    }\r\n    int d = (int) Math.pow(10, s.length()),\r\n        gcf = GCF.of(n, d),\r\n        i = (int) x;\r\n    if (gcf != 0) {\r\n        n /= gcf;\r\n        d /= gcf;\r\n    }\r\n    if (i != 0) return &quot;%d %d/%d&quot;.formatted(i, n, d);\r\n    return &quot;%d/%d&quot;.formatted(n, d);\r\n}\r\n```\r\n\r\nHere is an example usage.\r\n\r\n```none\r\nf(0.125)   1/8\r\nf(0.25)    1/4\r\nf(0.375)   3/8\r\nf(0.5)     1/2\r\nf(0.625)   5/8\r\nf(0.75)    3/4\r\nf(0.875)   7/8\r\nf(1.0)     1\r\nf(1.125)   1 1/8\r\nf(1.25)    1 1/4\r\nf(1.375)   1 3/8\r\nf(1.5)     1 1/2\r\nf(1.625)   1 5/8\r\nf(1.75)    1 3/4\r\nf(1.875)   1 7/8\r\n```","title":"Trying to turn a mixed fraction from a single command-line argument into a double number","body":"<blockquote>\n<p><em>'... This is what I have so far. It works for fractions like &quot;1/2&quot; and turns it into 0.5 but not mixed numbers ...'</em></p>\n</blockquote>\n<p>The <em>input</em> value is parsed incorrectly during the <em>numbers</em> assignment.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] numbers = input.split(&quot;/&quot;);\n</code></pre>\n<p>This will yield <em>&quot;1 1&quot;</em> and <em>&quot;2&quot;</em>.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = args[0];\nint i = 0, n, d, a;\nif ((a = s.indexOf(' ')) != -1) {\n    i = Integer.parseInt(s.substring(0, a));\n    s = s.substring(a + 1).trim();\n}\na = s.indexOf('/');\nn = Integer.parseInt(s.substring(0, a));\nd = Integer.parseInt(s.substring(a + 1));\ndouble x = i + ((double) n / d);\n</code></pre>\n<p>Additionally, you can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a></em> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = args[0];\nint a;\nBigDecimal i = BigDecimal.ZERO, n, d, x;\nif ((a = s.indexOf(' ')) != -1) {\n    i = new BigDecimal(s.substring(0, a));\n    s = s.substring(a + 1).trim();\n}\na = s.indexOf('/');\nn = new BigDecimal(s.substring(0, a));\nd = new BigDecimal(s.substring(a + 1));\nx = i.add(n.divide(d, 5, RoundingMode.HALF_UP));\n</code></pre>\n<p>And inversely, if you need to convert the value back to a fraction.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String f(double x) {\n    String s = String.valueOf(x);\n    s = s.substring(s.indexOf('.') + 1);\n    int n = Integer.parseInt(s);\n    if (n == 0) return String.valueOf((int) x);\n    class GCF {\n        static int of(int a, int b) {\n            if (b == 0) return a;\n            return of(b, a % b);\n        }\n    }\n    int d = (int) Math.pow(10, s.length()),\n        gcf = GCF.of(n, d),\n        i = (int) x;\n    if (gcf != 0) {\n        n /= gcf;\n        d /= gcf;\n    }\n    if (i != 0) return &quot;%d %d/%d&quot;.formatted(i, n, d);\n    return &quot;%d/%d&quot;.formatted(n, d);\n}\n</code></pre>\n<p>Here is an example usage.</p>\n<pre class=\"lang-none prettyprint-override\"><code>f(0.125)   1/8\nf(0.25)    1/4\nf(0.375)   3/8\nf(0.5)     1/2\nf(0.625)   5/8\nf(0.75)    3/4\nf(0.875)   7/8\nf(1.0)     1\nf(1.125)   1 1/8\nf(1.25)    1 1/4\nf(1.375)   1 3/8\nf(1.5)     1 1/2\nf(1.625)   1 5/8\nf(1.75)    1 3/4\nf(1.875)   1 7/8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696757026,"creation_date":1696757026,"answer_id":77253026,"question_id":77252239,"body_markdown":"The problem is in this line:\r\n\r\n    String[] numbers = input.split(&quot;/&quot;);\r\n                       ^^^^^\r\nyou split the `input` variable instead of the second part of your mixed value: `inputArray[1]`. The correct code should be:\r\n\r\n    String[] numbers = inputArray[1].split(&quot;/&quot;);\r\n","title":"Trying to turn a mixed fraction from a single command-line argument into a double number","body":"<p>The problem is in this line:</p>\n<pre><code>String[] numbers = input.split(&quot;/&quot;);\n                   ^^^^^\n</code></pre>\n<p>you split the <code>input</code> variable instead of the second part of your mixed value: <code>inputArray[1]</code>. The correct code should be:</p>\n<pre><code>String[] numbers = inputArray[1].split(&quot;/&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696891961,"creation_date":1696891961,"answer_id":77262140,"question_id":77252239,"body_markdown":"I&#39;m sure you are already aware of this but I thought I would throw it in anyways. Because of the space between the Whole Number and the actual fraction, you should wrap your command-line argument within quotation marks, for example: `myapp.jar &quot;1 1/2&quot;`.\r\n\r\nAs you are already aware, your parsing of the command-line argument (the Fraction String) is not quite correct for what you want to do. Below is a runnable that demonstrates how this can be done. It&#39;s somewhat long winded but, it does also carry out a lot of validation and does show (in my opinion) how this can be accomplished with minimal problems for its use. Be sure to read all the comments in code:\r\n\r\n```\r\npublic class FractionToDoubleDemo {\r\n\r\n    \r\n    public static void main(String[] args) {\r\n        /* App started this way to avoid the need for statics\r\n           unless we really want them:        */\r\n        new FractionToDoubleDemo().startApp(args);\r\n    }\r\n    \r\n    private void startApp(String[] args) {\r\n        // Some command-line validation:\r\n        if (args.length == 0 || args[0].trim().isEmpty() || !args[0].contains(&quot;/&quot;)) {\r\n            System.err.println(&quot;ERROR! No Command-Line Argument (&quot; \r\n                             + args[0] + &quot;) OR, Not a Fraction Value! &quot;);\r\n            return;  // Will ultimately exit app.\r\n        }\r\n        // Trim off any leading/trailing whitespaces:\r\n        String input = args[0].trim();  \r\n        System.out.println(input + &quot; is converted to: -&gt; &quot; \r\n                            + convertFractionToDouble(input));\r\n    }\r\n    \r\n    public static double convertFractionToDouble(String input) {\r\n        /* Get the fractional value from the command-line and \r\n           remove any leading/trailing whitespaces as well as \r\n           any that MIGHT be between the numerator, vinculum, \r\n           and or the denominator:        */\r\n        input = input.trim().replaceAll(&quot;(\\\\s*/\\\\s*)&quot;, &quot;/&quot;);\r\n        \r\n        /* Split the numerical (fraction) value on either one \r\n           (or more) whitespace OR on the fraction vinculum \r\n           (forward slash). This allows us to split out a whole\r\n           number if one is there:                          */\r\n        String[] numbers = input.split(&quot;\\\\s+|/&quot;);\r\n        \r\n        // Validate the supplied fractional value:\r\n        if (numbers.length &lt; 2 || numbers.length &gt; 3) {\r\n            System.err.println(&quot;Invalid Fractional Value Supplied! (&quot; + input + &quot;)&quot;);\r\n            return Double.NaN;  // Return NaN (Not a Number);\r\n        }\r\n        \r\n        // Are all fractional components integer values?\r\n        for (String s : numbers) {\r\n            if (!s.matches(&quot;-?\\\\d+&quot;)) {\r\n                System.err.println(&quot;Invalid Fractional Value (&quot; + input + &quot;) Supplied! &quot;\r\n                                 + &quot;All Fraction Components Must Be Integer values!&quot;);\r\n                return Double.NaN;  // Return NaN (Not a Number);\r\n            }\r\n        }\r\n        \r\n        /* Convert the Whole Number (if there is one), Numerator, \r\n           and Denominator to Integer values:            */\r\n        int wn = (numbers.length == 3 ? Integer.parseInt(numbers[0]) : 0);\r\n        int n = (numbers.length == 3 ? Integer.parseInt(numbers[1]) : Integer.parseInt(numbers[0]));\r\n        int d = (numbers.length == 3 ? Integer.parseInt(numbers[2]) : Integer.parseInt(numbers[1]));\r\n        \r\n        /* The Whole Number can be negative but NOT the\r\n           Numerator or the Denominator:    */\r\n        int cnt = 0;\r\n        for (String s : numbers) {\r\n            cnt++;\r\n            if (n &lt;= 0 || d &lt;= 0) {\r\n                System.err.println(&quot;Invalid Fractional Value (&quot; + input + &quot;) Supplied! &quot;\r\n                                 + &quot;The Numerator and or Denominator can not be less than 1!&quot;);\r\n                return Double.NaN;  // Return NaN (Not a Number);\r\n            }\r\n        }\r\n        // End of Validation:\r\n        \r\n        // Display the Array holding split values: \r\n        // Remove output after testing:\r\n        System.out.println(java.util.Arrays.toString(numbers));\r\n        \r\n        /* Display Details...Ternary Operator is used here because\r\n           if the array contains a length of 3 then there is also\r\n           a Whole Number that was split out of the supplied value.\r\n           If the array only contains a length of 2 then there is\r\n           no Whole number, there is only a numerator and denominator.  */\r\n        // Remove output after testing:\r\n        System.out.println(&quot;Whole Number: &quot; + wn);\r\n        System.out.println(&quot;Numerator:    &quot; + n);\r\n        System.out.println(&quot;Denominator:  &quot; + d);\r\n        \r\n        // Convert the supplied fractional value to a floating point value:\r\n        double convertion;\r\n        // If the whole number is negative then we subtract the division from the whole number:\r\n        if (wn &lt; 0) {\r\n            convertion = ((double)wn - ((double)n / (double)d));\r\n        }\r\n        // If the whole number is positive then we add the division to the whole number:\r\n        else {\r\n            convertion = ((double)wn + ((double)n / (double)d));\r\n        }\r\n        \r\n        // Remove output after testing:\r\n        System.out.println(&quot;Floating Point Value (double type): -&gt; &quot; + convertion);\r\n        \r\n        return convertion;   // Return the convertion;\r\n    }\r\n}\r\n```","title":"Trying to turn a mixed fraction from a single command-line argument into a double number","body":"<p>I'm sure you are already aware of this but I thought I would throw it in anyways. Because of the space between the Whole Number and the actual fraction, you should wrap your command-line argument within quotation marks, for example: <code>myapp.jar &quot;1 1/2&quot;</code>.</p>\n<p>As you are already aware, your parsing of the command-line argument (the Fraction String) is not quite correct for what you want to do. Below is a runnable that demonstrates how this can be done. It's somewhat long winded but, it does also carry out a lot of validation and does show (in my opinion) how this can be accomplished with minimal problems for its use. Be sure to read all the comments in code:</p>\n<pre><code>public class FractionToDoubleDemo {\n\n    \n    public static void main(String[] args) {\n        /* App started this way to avoid the need for statics\n           unless we really want them:        */\n        new FractionToDoubleDemo().startApp(args);\n    }\n    \n    private void startApp(String[] args) {\n        // Some command-line validation:\n        if (args.length == 0 || args[0].trim().isEmpty() || !args[0].contains(&quot;/&quot;)) {\n            System.err.println(&quot;ERROR! No Command-Line Argument (&quot; \n                             + args[0] + &quot;) OR, Not a Fraction Value! &quot;);\n            return;  // Will ultimately exit app.\n        }\n        // Trim off any leading/trailing whitespaces:\n        String input = args[0].trim();  \n        System.out.println(input + &quot; is converted to: -&gt; &quot; \n                            + convertFractionToDouble(input));\n    }\n    \n    public static double convertFractionToDouble(String input) {\n        /* Get the fractional value from the command-line and \n           remove any leading/trailing whitespaces as well as \n           any that MIGHT be between the numerator, vinculum, \n           and or the denominator:        */\n        input = input.trim().replaceAll(&quot;(\\\\s*/\\\\s*)&quot;, &quot;/&quot;);\n        \n        /* Split the numerical (fraction) value on either one \n           (or more) whitespace OR on the fraction vinculum \n           (forward slash). This allows us to split out a whole\n           number if one is there:                          */\n        String[] numbers = input.split(&quot;\\\\s+|/&quot;);\n        \n        // Validate the supplied fractional value:\n        if (numbers.length &lt; 2 || numbers.length &gt; 3) {\n            System.err.println(&quot;Invalid Fractional Value Supplied! (&quot; + input + &quot;)&quot;);\n            return Double.NaN;  // Return NaN (Not a Number);\n        }\n        \n        // Are all fractional components integer values?\n        for (String s : numbers) {\n            if (!s.matches(&quot;-?\\\\d+&quot;)) {\n                System.err.println(&quot;Invalid Fractional Value (&quot; + input + &quot;) Supplied! &quot;\n                                 + &quot;All Fraction Components Must Be Integer values!&quot;);\n                return Double.NaN;  // Return NaN (Not a Number);\n            }\n        }\n        \n        /* Convert the Whole Number (if there is one), Numerator, \n           and Denominator to Integer values:            */\n        int wn = (numbers.length == 3 ? Integer.parseInt(numbers[0]) : 0);\n        int n = (numbers.length == 3 ? Integer.parseInt(numbers[1]) : Integer.parseInt(numbers[0]));\n        int d = (numbers.length == 3 ? Integer.parseInt(numbers[2]) : Integer.parseInt(numbers[1]));\n        \n        /* The Whole Number can be negative but NOT the\n           Numerator or the Denominator:    */\n        int cnt = 0;\n        for (String s : numbers) {\n            cnt++;\n            if (n &lt;= 0 || d &lt;= 0) {\n                System.err.println(&quot;Invalid Fractional Value (&quot; + input + &quot;) Supplied! &quot;\n                                 + &quot;The Numerator and or Denominator can not be less than 1!&quot;);\n                return Double.NaN;  // Return NaN (Not a Number);\n            }\n        }\n        // End of Validation:\n        \n        // Display the Array holding split values: \n        // Remove output after testing:\n        System.out.println(java.util.Arrays.toString(numbers));\n        \n        /* Display Details...Ternary Operator is used here because\n           if the array contains a length of 3 then there is also\n           a Whole Number that was split out of the supplied value.\n           If the array only contains a length of 2 then there is\n           no Whole number, there is only a numerator and denominator.  */\n        // Remove output after testing:\n        System.out.println(&quot;Whole Number: &quot; + wn);\n        System.out.println(&quot;Numerator:    &quot; + n);\n        System.out.println(&quot;Denominator:  &quot; + d);\n        \n        // Convert the supplied fractional value to a floating point value:\n        double convertion;\n        // If the whole number is negative then we subtract the division from the whole number:\n        if (wn &lt; 0) {\n            convertion = ((double)wn - ((double)n / (double)d));\n        }\n        // If the whole number is positive then we add the division to the whole number:\n        else {\n            convertion = ((double)wn + ((double)n / (double)d));\n        }\n        \n        // Remove output after testing:\n        System.out.println(&quot;Floating Point Value (double type): -&gt; &quot; + convertion);\n        \n        return convertion;   // Return the convertion;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28624675,"reputation":3,"user_id":21916930,"display_name":"Sidd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77253026,"answer_count":3,"score":0,"last_activity_date":1696891961,"creation_date":1696736676,"question_id":77252239,"body_markdown":"I am trying to turn a mixed fraction like &quot;1 1/2&quot; from a single command-line argument into a decimal like 1.5 . This is a problem from my java textbook and I am having trouble. This is what I have so far. It works for fractions like &quot;1/2&quot; and turns it into 0.5 but not mixed numbers\r\n```java\r\nclass Fractions {\r\n    static public void main(String[] args) {\r\n        double output = 0;\r\n        String input =args[0];\r\n        String[] inputArray = input.split(&quot; &quot;);\r\n        if (input.contains(&quot;/&quot;)) { //checks if it has a slash\r\n            if (inputArray.length == 2) { // this is to check if it is a mixed number but it          fails to check\r\n                double integer = Double.parseDouble(inputArray[0]);\r\n                String[] numbers = input.split(&quot;/&quot;);\r\n                double top = Double.parseDouble(numbers[0]);\r\n                double bottom = Double.parseDouble(numbers[1]);\r\n                output = integer + top/bottom;\r\n            } else { //If it is not a mixed number and a fraction it correctly prints the    double form\r\n\t\t\t\tString[] numbers = input.split(&quot;/&quot;);\r\n\t\t\t\tdouble top = Double.parseDouble(numbers[0]);\r\n\t\t\t\tdouble bottom = Double.parseDouble(numbers[1]);\r\n                output = top/bottom;\r\n            }\r\n\t\t} else { //otherwise it turns the input into a double \r\n\t\t\toutput = Double.parseDouble(input); \r\n\t\t} \r\n\t\tSystem.out.println(output); //prints the number as a double\r\n\t}\r\n}\r\n```\r\n","title":"Trying to turn a mixed fraction from a single command-line argument into a double number","body":"<p>I am trying to turn a mixed fraction like &quot;1 1/2&quot; from a single command-line argument into a decimal like 1.5 . This is a problem from my java textbook and I am having trouble. This is what I have so far. It works for fractions like &quot;1/2&quot; and turns it into 0.5 but not mixed numbers</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Fractions {\n    static public void main(String[] args) {\n        double output = 0;\n        String input =args[0];\n        String[] inputArray = input.split(&quot; &quot;);\n        if (input.contains(&quot;/&quot;)) { //checks if it has a slash\n            if (inputArray.length == 2) { // this is to check if it is a mixed number but it          fails to check\n                double integer = Double.parseDouble(inputArray[0]);\n                String[] numbers = input.split(&quot;/&quot;);\n                double top = Double.parseDouble(numbers[0]);\n                double bottom = Double.parseDouble(numbers[1]);\n                output = integer + top/bottom;\n            } else { //If it is not a mixed number and a fraction it correctly prints the    double form\n                String[] numbers = input.split(&quot;/&quot;);\n                double top = Double.parseDouble(numbers[0]);\n                double bottom = Double.parseDouble(numbers[1]);\n                output = top/bottom;\n            }\n        } else { //otherwise it turns the input into a double \n            output = Double.parseDouble(input); \n        } \n        System.out.println(output); //prints the number as a double\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1696870693,"post_id":77260576,"comment_id":136205496,"body_markdown":"I would wrap a `try-catch` block around your parsing logic inside the `for`-loop.","body":"I would wrap a <code>try-catch</code> block around your parsing logic inside the <code>for</code>-loop."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":2,"creation_date":1696875008,"post_id":77260576,"comment_id":136206231,"body_markdown":"How do these formats differ, other than the millisecond field?  Please, elaborate on the error you&#39;re encountering.","body":"How do these formats differ, other than the millisecond field?  Please, elaborate on the error you&#39;re encountering."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1696906847,"post_id":77260576,"comment_id":136209450,"body_markdown":"Since the built-in `DateTimeFormatter.ISO_LOCAL_TIME` accepts `HH:mm:ss` with anything from 0 to 9 decimals, I would reuse it here: `new DateTimeFormatterBuilder() .append(DateTimeFormatter.ISO_LOCAL_DATE) .appendLiteral(&#39; &#39;) .append(DateTimeFormatter.ISO_LOCAL_TIME) .toFormatter()`. Then you’re set. Are you getting a date-time string from a database? Then don’t. Retrieve a `LocalDateTime` (or other appropriate date-time object) from it.","body":"Since the built-in <code>DateTimeFormatter.ISO_LOCAL_TIME</code> accepts <code>HH:mm:ss</code> with anything from 0 to 9 decimals, I would reuse it here: <code>new DateTimeFormatterBuilder() .append(DateTimeFormatter.ISO_LOCAL_DATE) .appendLiteral(&#39; &#39;) .append(DateTimeFormatter.ISO_LOCAL_TIME) .toFormatter()</code>. Then you’re set. Are you getting a date-time string from a database? Then don’t. Retrieve a <code>LocalDateTime</code> (or other appropriate date-time object) from it."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1697045604,"post_id":77260576,"comment_id":136231254,"body_markdown":"Related: [Java LocalDateTime.parse with millisecond precision but optional microsecond precision](https://stackoverflow.com/questions/54682028/java-localdatetime-parse-with-millisecond-precision-but-optional-microsecond-pre). Also [this question](https://stackoverflow.com/questions/68721470/handling-various-timestamp-with-one-formatter-in-java-scala).","body":"Related: <a href=\"https://stackoverflow.com/questions/54682028/java-localdatetime-parse-with-millisecond-precision-but-optional-microsecond-pre\">Java LocalDateTime.parse with millisecond precision but optional microsecond precision</a>. Also <a href=\"https://stackoverflow.com/questions/68721470/handling-various-timestamp-with-one-formatter-in-java-scala\">this question</a>."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1696906932,"post_id":77262073,"comment_id":136209457,"body_markdown":"The gold is in the *No need for these formatting patterns* section.","body":"The gold is in the <i>No need for these formatting patterns</i> section."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696891592,"creation_date":1696890336,"answer_id":77262073,"question_id":77260576,"body_markdown":"# tl;dr\r\n\r\n```java\r\nList.of (\r\n                &quot;yyyy-MM-dd HH:mm:ss.S&quot; ,\r\n                &quot;yyyy-MM-dd HH:mm:ss.SS&quot; ,\r\n                &quot;yyyy-MM-dd HH:mm:ss.SSS&quot; ,\r\n                &quot;yyyy-MM-dd HH:mm:ss.SSSS&quot; ,\r\n                &quot;yyyy-MM-dd HH:mm:ss.SSSSS&quot; ,\r\n                &quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;\r\n        )\r\n        .get (\r\n\r\n                &quot;2023-01-23 12:34:56.123456&quot;.length ( ) -\r\n                        &quot;2023-01-23 12:34:56.&quot;.length ( ) -\r\n                        1\r\n        )\r\n```\r\n\r\nOr skip all those formatters. &#128073;&#127996; Replace SPACE with `T`, and parse by default.\r\n\r\n    LocalDateTime.parse ( input.replace ( &quot; &quot; , &quot;T&quot; ) ) \r\n\r\n\r\n# Details\r\n\r\nJust check length of the text! Use `index = input.length ( ) - 20 - 1`.\r\n\r\n```java\r\nList &lt; String &gt; patterns =\r\n        List.of (\r\n                &quot;yyyy-MM-dd HH:mm:ss.S&quot; ,\r\n                &quot;yyyy-MM-dd HH:mm:ss.SS&quot; ,\r\n                &quot;yyyy-MM-dd HH:mm:ss.SSS&quot; ,\r\n                &quot;yyyy-MM-dd HH:mm:ss.SSSS&quot; ,\r\n                &quot;yyyy-MM-dd HH:mm:ss.SSSSS&quot; ,\r\n                &quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;\r\n        );\r\nString input = &quot;2023-01-23 12:34:56.123456&quot;;\r\nint minLength = &quot;2023-01-23 12:34:56.&quot;.length ( );  // 20.\r\nint index = input.length ( ) - minLength - 1;  // Subtract 1 for annoying zero-based index counting.\r\nString result = patterns.get ( index );\r\n```\r\n\r\nSee this code run at Ideone.com.\r\n\r\n&gt;result = yyyy-MM-dd HH:mm:ss.SSSSSS\r\n\r\n#  No need for these formatting patterns\r\n\r\nBy the way, none of these specific formats are really needed. \r\n\r\nThe *java.time* classes use standard standard ISO 8601 formats by default when parsing/generating text. With such inputs, there is no need to specify a formatting pattern.\r\n\r\nYour inputs nearly conform to the ISO 8601 standard. Simply replace the SPACE character in the middle with a `T` to fully comply. Call [`String#replace`][1], that is, `.replace( &quot; &quot; , &quot;T&quot; )`. \r\n\r\n```java\r\nList &lt; String &gt; inputs =\r\n        List.of (\r\n                &quot;2023-01-23 12:34:56.1&quot; ,\r\n                &quot;2023-01-23 12:34:56.12&quot; ,\r\n                &quot;2023-01-23 12:34:56.123&quot; ,\r\n                &quot;2023-01-23 12:34:56.1234&quot; ,\r\n                &quot;2023-01-23 12:34:56.12345&quot; ,\r\n                &quot;2023-01-23 12:34:56.123456&quot;\r\n        );\r\ninputs.forEach ( ( String input ) -&gt; System.out.println ( LocalDateTime.parse ( input.replace ( &quot; &quot; , &quot;T&quot; ) ) ) );\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\n2023-01-23T12:34:56.100\r\n2023-01-23T12:34:56.120\r\n2023-01-23T12:34:56.123\r\n2023-01-23T12:34:56.123400\r\n2023-01-23T12:34:56.123450\r\n2023-01-23T12:34:56.123456\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)","title":"How to return the correct dateformat with given input date","body":"<h1>tl;dr</h1>\n<pre class=\"lang-java prettyprint-override\"><code>List.of (\n                &quot;yyyy-MM-dd HH:mm:ss.S&quot; ,\n                &quot;yyyy-MM-dd HH:mm:ss.SS&quot; ,\n                &quot;yyyy-MM-dd HH:mm:ss.SSS&quot; ,\n                &quot;yyyy-MM-dd HH:mm:ss.SSSS&quot; ,\n                &quot;yyyy-MM-dd HH:mm:ss.SSSSS&quot; ,\n                &quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;\n        )\n        .get (\n\n                &quot;2023-01-23 12:34:56.123456&quot;.length ( ) -\n                        &quot;2023-01-23 12:34:56.&quot;.length ( ) -\n                        1\n        )\n</code></pre>\n<p>Or skip all those formatters. 👉🏼 Replace SPACE with <code>T</code>, and parse by default.</p>\n<pre><code>LocalDateTime.parse ( input.replace ( &quot; &quot; , &quot;T&quot; ) ) \n</code></pre>\n<h1>Details</h1>\n<p>Just check length of the text! Use <code>index = input.length ( ) - 20 - 1</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; String &gt; patterns =\n        List.of (\n                &quot;yyyy-MM-dd HH:mm:ss.S&quot; ,\n                &quot;yyyy-MM-dd HH:mm:ss.SS&quot; ,\n                &quot;yyyy-MM-dd HH:mm:ss.SSS&quot; ,\n                &quot;yyyy-MM-dd HH:mm:ss.SSSS&quot; ,\n                &quot;yyyy-MM-dd HH:mm:ss.SSSSS&quot; ,\n                &quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;\n        );\nString input = &quot;2023-01-23 12:34:56.123456&quot;;\nint minLength = &quot;2023-01-23 12:34:56.&quot;.length ( );  // 20.\nint index = input.length ( ) - minLength - 1;  // Subtract 1 for annoying zero-based index counting.\nString result = patterns.get ( index );\n</code></pre>\n<p>See this code run at Ideone.com.</p>\n<blockquote>\n<p>result = yyyy-MM-dd HH:mm:ss.SSSSSS</p>\n</blockquote>\n<h1>No need for these formatting patterns</h1>\n<p>By the way, none of these specific formats are really needed.</p>\n<p>The <em>java.time</em> classes use standard standard ISO 8601 formats by default when parsing/generating text. With such inputs, there is no need to specify a formatting pattern.</p>\n<p>Your inputs nearly conform to the ISO 8601 standard. Simply replace the SPACE character in the middle with a <code>T</code> to fully comply. Call <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>String#replace</code></a>, that is, <code>.replace( &quot; &quot; , &quot;T&quot; )</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; String &gt; inputs =\n        List.of (\n                &quot;2023-01-23 12:34:56.1&quot; ,\n                &quot;2023-01-23 12:34:56.12&quot; ,\n                &quot;2023-01-23 12:34:56.123&quot; ,\n                &quot;2023-01-23 12:34:56.1234&quot; ,\n                &quot;2023-01-23 12:34:56.12345&quot; ,\n                &quot;2023-01-23 12:34:56.123456&quot;\n        );\ninputs.forEach ( ( String input ) -&gt; System.out.println ( LocalDateTime.parse ( input.replace ( &quot; &quot; , &quot;T&quot; ) ) ) );\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-01-23T12:34:56.100\n2023-01-23T12:34:56.120\n2023-01-23T12:34:56.123\n2023-01-23T12:34:56.123400\n2023-01-23T12:34:56.123450\n2023-01-23T12:34:56.123456\n</code></pre>\n"}],"owner":{"account_id":8036230,"reputation":259,"user_id":6059250,"accept_rate":71,"display_name":"Rjj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696891592,"creation_date":1696870505,"question_id":77260576,"body_markdown":"I have the below code snippet, instead of hardcoding the date formats in the procedure is there anyway which i can get the correct date format returned in Java.\r\n\r\n```java\r\nprivate String getFormatter(String datetimeString) {\r\n    final String[] formats = {\r\n        &quot;yyyy-MM-dd HH:mm:ss.S&quot;,\r\n        &quot;yyyy-MM-dd HH:mm:ss.SS&quot;,\r\n        &quot;yyyy-MM-dd HH:mm:ss.SSS&quot;,\r\n        &quot;yyyy-MM-dd HH:mm:ss.SSSS&quot;,\r\n        &quot;yyyy-MM-dd HH:mm:ss.SSSSS&quot;,\r\n        &quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;\r\n    };\r\n    for (String format: formats){\r\n        LocalDateTime.parse(datetimeString, DateTimeFormatter.ofPattern(format));\r\n        return format;\r\n    }  \r\n    return null;\r\n}\r\n```","title":"How to return the correct dateformat with given input date","body":"<p>I have the below code snippet, instead of hardcoding the date formats in the procedure is there anyway which i can get the correct date format returned in Java.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String getFormatter(String datetimeString) {\n    final String[] formats = {\n        &quot;yyyy-MM-dd HH:mm:ss.S&quot;,\n        &quot;yyyy-MM-dd HH:mm:ss.SS&quot;,\n        &quot;yyyy-MM-dd HH:mm:ss.SSS&quot;,\n        &quot;yyyy-MM-dd HH:mm:ss.SSSS&quot;,\n        &quot;yyyy-MM-dd HH:mm:ss.SSSSS&quot;,\n        &quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;\n    };\n    for (String format: formats){\n        LocalDateTime.parse(datetimeString, DateTimeFormatter.ofPattern(format));\n        return format;\n    }  \n    return null;\n}\n</code></pre>\n"},{"tags":["java","zip","unzip"],"comments":[{"owner":{"account_id":1718670,"reputation":4777,"user_id":1575188,"display_name":"fantaghirocco"},"score":1,"creation_date":1608116772,"post_id":65322025,"comment_id":115482541,"body_markdown":"replace the FileOutputStream with a ByteArrayOutputStream to extract the entries","body":"replace the FileOutputStream with a ByteArrayOutputStream to extract the entries"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1608117793,"post_id":65322025,"comment_id":115483027,"body_markdown":"Do you understand why the samples you see write to disk?","body":"Do you understand why the samples you see write to disk?"}],"answers":[{"tags":[],"owner":{"account_id":68630,"reputation":2092,"user_id":200136,"display_name":"Andrew McGuinness"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608118757,"creation_date":1608118757,"answer_id":65322544,"question_id":65322025,"body_markdown":"The java class java.util.zip.ZipInputStream allows you to read the data from a Zip archive into a byte array.\r\n","title":"how to extract zip file in memory","body":"<p>The java class java.util.zip.ZipInputStream allows you to read the data from a Zip archive into a byte array.</p>\n"},{"tags":[],"owner":{"account_id":2822656,"reputation":130,"user_id":2426050,"display_name":"t3h_b0t"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1608129611,"creation_date":1608129611,"answer_id":65325416,"question_id":65322025,"body_markdown":"If you want to read nested .zip files, you could try using `ZipInputStream`(like it was already mentioned) and check if `ZipEntry`(s) is also a *.zip file, in which case it can be recursively read as next .zip file. Something like:\r\n\r\n```\r\nprivate static void readZipInputStream(\r\n        InputStream inputStream, BiConsumer&lt;ZipEntry, ByteArrayOutputStream&gt; consumerFunction) throws IOException {\r\n\r\n    try (ZipInputStream zipInput = new ZipInputStream(inputStream)) {\r\n        ZipEntry entry;\r\n        while ((entry = zipInput.getNextEntry()) != null) {\r\n            ByteArrayOutputStream outStream = new ByteArrayOutputStream();\r\n            byte[] buffer = new byte[1024];\r\n            int length;\r\n            while ((length = zipInput.read(buffer)) != -1) {\r\n                outStream.write(buffer, 0, length);\r\n            }\r\n\r\n            if (entry.getName().endsWith(&quot;.zip&quot;)) {\r\n                // need to go deeper...\r\n                ByteArrayInputStream inStream = new ByteArrayInputStream(outStream.toByteArray());\r\n                readZipInputStream(inStream, consumerFunction);\r\n            } else {\r\n                // do something...\r\n                consumerFunction.accept(entry, outStream);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nso for instance having a zip file with structure like this: \r\n```\r\nfile.zip\r\n├─1+2.zip\r\n│ ├─1.zip\r\n│ │ └─1.txt\r\n│ └─2.zip\r\n│   └─2.txt\r\n└─3.zip\r\n  └─3.txt\r\n```\r\n\r\nand using `readZipInputStream` function like this:\r\n```\r\npublic class Application {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String path = &quot;file.zip&quot;;\r\n        try (FileInputStream inputStream = new FileInputStream(Paths.get(path).toFile())) {\r\n            readZipInputStream(\r\n                    inputStream,\r\n                    (entry, outputStream) -&gt; {\r\n                        System.out.println(entry.getName());\r\n                        System.out.println(&quot;--------------------------------&quot;);\r\n                        System.out.println(outputStream.toString());\r\n                        System.out.println(&quot;--------------------------------&quot;);\r\n                    }\r\n            );\r\n        }\r\n    }\r\n}\r\n```\r\n\r\ncontent of three .txt files will be printed:\r\n```\r\n1.txt\r\n--------------------------------\r\nLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod\r\ntempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,\r\nquis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\r\nconsequat.\r\n--------------------------------\r\n2.txt\r\n--------------------------------\r\n- Integer vel sem consectetur, ullamcorper leo quis, consequat mauris.\r\n- Nulla efficitur sapien at velit fermentum condimentum.\r\n- Vestibulum elementum nulla ut ipsum tempus, ut molestie sem sollicitudin.\r\n--------------------------------\r\n3.txt\r\n--------------------------------\r\nMorbi tincidunt ornare mi. Sed id risus tortor. Interdum et malesuada \r\nfames ac ante ipsum primis in faucibus. Pellentesque tincidunt, \r\nnulla a interdum porta, orci elit ultricies leo, in maximus orci \r\ntortor pulvinar est. Curabitur eget fermentum risus. Vestibulum euismod \r\nconvallis eros, nec blandit neque blandit at.\r\n--------------------------------\r\n```\r\n\r\n","title":"how to extract zip file in memory","body":"<p>If you want to read nested .zip files, you could try using <code>ZipInputStream</code>(like it was already mentioned) and check if <code>ZipEntry</code>(s) is also a *.zip file, in which case it can be recursively read as next .zip file. Something like:</p>\n<pre><code>private static void readZipInputStream(\n        InputStream inputStream, BiConsumer&lt;ZipEntry, ByteArrayOutputStream&gt; consumerFunction) throws IOException {\n\n    try (ZipInputStream zipInput = new ZipInputStream(inputStream)) {\n        ZipEntry entry;\n        while ((entry = zipInput.getNextEntry()) != null) {\n            ByteArrayOutputStream outStream = new ByteArrayOutputStream();\n            byte[] buffer = new byte[1024];\n            int length;\n            while ((length = zipInput.read(buffer)) != -1) {\n                outStream.write(buffer, 0, length);\n            }\n\n            if (entry.getName().endsWith(&quot;.zip&quot;)) {\n                // need to go deeper...\n                ByteArrayInputStream inStream = new ByteArrayInputStream(outStream.toByteArray());\n                readZipInputStream(inStream, consumerFunction);\n            } else {\n                // do something...\n                consumerFunction.accept(entry, outStream);\n            }\n        }\n    }\n}\n</code></pre>\n<p>so for instance having a zip file with structure like this:</p>\n<pre><code>file.zip\n├─1+2.zip\n│ ├─1.zip\n│ │ └─1.txt\n│ └─2.zip\n│   └─2.txt\n└─3.zip\n  └─3.txt\n</code></pre>\n<p>and using <code>readZipInputStream</code> function like this:</p>\n<pre><code>public class Application {\n\n    public static void main(String[] args) throws IOException {\n        String path = &quot;file.zip&quot;;\n        try (FileInputStream inputStream = new FileInputStream(Paths.get(path).toFile())) {\n            readZipInputStream(\n                    inputStream,\n                    (entry, outputStream) -&gt; {\n                        System.out.println(entry.getName());\n                        System.out.println(&quot;--------------------------------&quot;);\n                        System.out.println(outputStream.toString());\n                        System.out.println(&quot;--------------------------------&quot;);\n                    }\n            );\n        }\n    }\n}\n</code></pre>\n<p>content of three .txt files will be printed:</p>\n<pre><code>1.txt\n--------------------------------\nLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod\ntempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,\nquis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\nconsequat.\n--------------------------------\n2.txt\n--------------------------------\n- Integer vel sem consectetur, ullamcorper leo quis, consequat mauris.\n- Nulla efficitur sapien at velit fermentum condimentum.\n- Vestibulum elementum nulla ut ipsum tempus, ut molestie sem sollicitudin.\n--------------------------------\n3.txt\n--------------------------------\nMorbi tincidunt ornare mi. Sed id risus tortor. Interdum et malesuada \nfames ac ante ipsum primis in faucibus. Pellentesque tincidunt, \nnulla a interdum porta, orci elit ultricies leo, in maximus orci \ntortor pulvinar est. Curabitur eget fermentum risus. Vestibulum euismod \nconvallis eros, nec blandit neque blandit at.\n--------------------------------\n</code></pre>\n"}],"owner":{"account_id":3200584,"reputation":639,"user_id":2702700,"accept_rate":52,"display_name":"user2702700"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3447,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65325416,"answer_count":2,"score":1,"last_activity_date":1696889843,"creation_date":1608116673,"question_id":65322025,"body_markdown":"I have read many topics where zip file is extracted on disk. But I have a use case where zip needs to be extracted in memory. ZIP file contains a list of nested zip files. I am asking this question after going through several posts on Stack Overflow. Can you please share any post / link which has some information about how to unzip files in memory ?\r\n","title":"how to extract zip file in memory","body":"<p>I have read many topics where zip file is extracted on disk. But I have a use case where zip needs to be extracted in memory. ZIP file contains a list of nested zip files. I am asking this question after going through several posts on Stack Overflow. Can you please share any post / link which has some information about how to unzip files in memory ?</p>\n"},{"tags":["java","spring"],"answers":[{"comments":[{"owner":{"account_id":9577034,"reputation":99,"user_id":11437467,"display_name":"Satya Ram"},"score":0,"creation_date":1564343070,"post_id":57244383,"comment_id":100989475,"body_markdown":"Well my KPiRepository is in different package, so what do i do now, but the same thing has worked for different package, i mean, same implementation but different packaging","body":"Well my KPiRepository is in different package, so what do i do now, but the same thing has worked for different package, i mean, same implementation but different packaging"},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1564343714,"post_id":57244383,"comment_id":100989630,"body_markdown":"@SatyaRam, for that add `@EnableMongoRepositories(basePackageClasses=KPIRepository.class)&#39; to main class please. It should work after that.","body":"@SatyaRam, for that add `@EnableMongoRepositories(basePackageClasses=KPIRepository.c&zwnj;&#8203;lass)&#39; to main class please. It should work after that."},{"owner":{"account_id":9577034,"reputation":99,"user_id":11437467,"display_name":"Satya Ram"},"score":0,"creation_date":1564371279,"post_id":57244383,"comment_id":100994303,"body_markdown":"It worked like a magic, but inside ServiceImpl, i am using this.kpiRepository.findAll(), i am getting an empty List, i already have some values in my repository why is it giving an empty list. I have use the same repository in other package. My repository is in shared library, and i have two other class in different package, which will update values in the repository, In my first class, i am able to get data from repository using repository.findall() wheare as in the above class impl, i am not able to get previous values","body":"It worked like a magic, but inside ServiceImpl, i am using this.kpiRepository.findAll(), i am getting an empty List, i already have some values in my repository why is it giving an empty list. I have use the same repository in other package. My repository is in shared library, and i have two other class in different package, which will update values in the repository, In my first class, i am able to get data from repository using repository.findall() wheare as in the above class impl, i am not able to get previous values"},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1564420734,"post_id":57244383,"comment_id":101016623,"body_markdown":"I really don&#39;t know what could be wrong. You already mentioned that data is present in the database. So this rules out database being empty. Does `KPIModel` has @Entity or @Document annotation? Do all the fields map to columns? I am fishing here. I myself is not sure what could be wrong. Sorry.","body":"I really don&#39;t know what could be wrong. You already mentioned that data is present in the database. So this rules out database being empty. Does <code>KPIModel</code> has @Entity or @Document annotation? Do all the fields map to columns? I am fishing here. I myself is not sure what could be wrong. Sorry."}],"tags":[],"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1682527094,"creation_date":1564342891,"answer_id":57244383,"question_id":57244338,"body_markdown":"Do you have `spring-boot-starter-data-mongodb` dependency on classpath? If yes, then is KPIRepository in the same package as your main class? If not then in your main class put this annotation `@EnableMongoRepositories(basePackageClasses=KPIRepository.class)` to safely tell Spring Data MongoDB to scan a different root package by type if your project layout has multiple projects and its not finding your repositories. Or you can use `@EnableMongoRepositories(basePackages = &quot;com.acme.repositories.mongo&quot;)` to specify the package that contains all of your repositories. \r\n\r\nThe presense of spring-boot-starter-data-mongodb will automatically enable `@EnableMongoRepositories`. And Spring will automatically create proxies of all classes implementing `Repository&lt;T,ID&gt;` (your class implements MongoRepository, which itself implements Repository) and create beans of them and make them available for injection. And when your repository is in a different package then it is unable to create proxies for your repositories, hence fails to create beans for them. And since there are no beans, it cannot inject them, hence you see the error.","title":"Cannot find the Repository bean in Spring boot / Spring Data MongoDB","body":"<p>Do you have <code>spring-boot-starter-data-mongodb</code> dependency on classpath? If yes, then is KPIRepository in the same package as your main class? If not then in your main class put this annotation <code>@EnableMongoRepositories(basePackageClasses=KPIRepository.class)</code> to safely tell Spring Data MongoDB to scan a different root package by type if your project layout has multiple projects and its not finding your repositories. Or you can use <code>@EnableMongoRepositories(basePackages = &quot;com.acme.repositories.mongo&quot;)</code> to specify the package that contains all of your repositories.</p>\n<p>The presense of spring-boot-starter-data-mongodb will automatically enable <code>@EnableMongoRepositories</code>. And Spring will automatically create proxies of all classes implementing <code>Repository&lt;T,ID&gt;</code> (your class implements MongoRepository, which itself implements Repository) and create beans of them and make them available for injection. And when your repository is in a different package then it is unable to create proxies for your repositories, hence fails to create beans for them. And since there are no beans, it cannot inject them, hence you see the error.</p>\n"},{"comments":[{"owner":{"account_id":9577034,"reputation":99,"user_id":11437467,"display_name":"Satya Ram"},"score":0,"creation_date":1564371342,"post_id":57244493,"comment_id":100994315,"body_markdown":"It worked like a magic, but inside ServiceImpl, i am using this.kpiRepository.findAll(), i am getting an empty List, i already have some values in my repository why is it giving an empty list. I have use the same repository in other package. My repository is in shared library, and i have two other class in different package, which will update values in the repository, In my first class, i am able to get data from repository using repository.findall() wheare as in the above class impl, i am not able to get previous values","body":"It worked like a magic, but inside ServiceImpl, i am using this.kpiRepository.findAll(), i am getting an empty List, i already have some values in my repository why is it giving an empty list. I have use the same repository in other package. My repository is in shared library, and i have two other class in different package, which will update values in the repository, In my first class, i am able to get data from repository using repository.findall() wheare as in the above class impl, i am not able to get previous values"}],"tags":[],"owner":{"account_id":16404312,"reputation":641,"user_id":11849314,"display_name":"Jaume Mor&#243;n i Tarrasa"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564343883,"creation_date":1564343883,"answer_id":57244493,"question_id":57244338,"body_markdown":"Did you use the @EnableMongoRepositories annotation? Take a look to this link: https://docs.spring.io/spring-data/mongodb/docs/1.2.0.RELEASE/reference/html/mongo.repositories.html. Review the &quot;6.2 usage&quot; point.\r\n\r\nRegards","title":"Cannot find the Repository bean in Spring boot / Spring Data MongoDB","body":"<p>Did you use the @EnableMongoRepositories annotation? Take a look to this link: <a href=\"https://docs.spring.io/spring-data/mongodb/docs/1.2.0.RELEASE/reference/html/mongo.repositories.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/mongodb/docs/1.2.0.RELEASE/reference/html/mongo.repositories.html</a>. Review the \"6.2 usage\" point.</p>\n\n<p>Regards</p>\n"}],"owner":{"account_id":9577034,"reputation":99,"user_id":11437467,"display_name":"Satya Ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5662,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":57244383,"answer_count":2,"score":4,"last_activity_date":1696889274,"creation_date":1564342500,"question_id":57244338,"body_markdown":"I have created a spring project which has a controller and all of its logic is written in Service Interface, which is implemented by ServiceImpl class. I have a repository with which has a model.\r\n    \r\n    //Service Interface\r\n    \r\n    public interface Service{\r\n    List&lt;Model&gt; getAllKpiData();\r\n    }\r\n    \r\n    \r\n    //ServiceImpl Class\r\n    @Service\r\n    public class ServiceImpl implements Service{\r\n    \r\n    @Autowired\r\n    private KPIRepository kpiRepository;\r\n    \r\n    @override \r\n    private List&lt;Model&gt; getAllKpiData()\r\n    {\r\n    this.kpiRepository.findAll();\r\n    //gets me an empty list.\r\n\r\n    }\r\n    }\r\n    \r\n    //KPIRepository\r\n    \r\n    @Repository\r\n    public interface KPIRepository extends MongoRepository&lt;KPIModel, String&gt;\r\n    {\r\n    }\r\n    \r\n\r\n    //Another Service Interface in another package\r\n    public interface AnotherService{\r\n    List&lt;Model&gt; getAllKpiData();\r\n    }\r\n\r\n    //ServiceImpl Class\r\n    @Service\r\n    public class AnotherServiceImpl implements Service{\r\n    \r\n    @Autowired\r\n    private KPIRepository kpiRepository;\r\n    \r\n    @override \r\n    private List&lt;Model&gt; getAllKpiData()\r\n    {\r\n    this.kpiRepository.findAll();\r\n    //gets me list of values, which are inside the repo(master data).\r\n    }\r\n    }\r\n\r\nBoth of them are pointing to same repo, but in AnotherService class i am able to get values inside the repository, whereas i am not able to get any values inside Service, on doing this.kpiRepository.findAll().\r\n","title":"Cannot find the Repository bean in Spring boot / Spring Data MongoDB","body":"<p>I have created a spring project which has a controller and all of its logic is written in Service Interface, which is implemented by ServiceImpl class. I have a repository with which has a model.</p>\n<pre><code>//Service Interface\n\npublic interface Service{\nList&lt;Model&gt; getAllKpiData();\n}\n\n\n//ServiceImpl Class\n@Service\npublic class ServiceImpl implements Service{\n\n@Autowired\nprivate KPIRepository kpiRepository;\n\n@override \nprivate List&lt;Model&gt; getAllKpiData()\n{\nthis.kpiRepository.findAll();\n//gets me an empty list.\n\n}\n}\n\n//KPIRepository\n\n@Repository\npublic interface KPIRepository extends MongoRepository&lt;KPIModel, String&gt;\n{\n}\n\n\n//Another Service Interface in another package\npublic interface AnotherService{\nList&lt;Model&gt; getAllKpiData();\n}\n\n//ServiceImpl Class\n@Service\npublic class AnotherServiceImpl implements Service{\n\n@Autowired\nprivate KPIRepository kpiRepository;\n\n@override \nprivate List&lt;Model&gt; getAllKpiData()\n{\nthis.kpiRepository.findAll();\n//gets me list of values, which are inside the repo(master data).\n}\n}\n</code></pre>\n<p>Both of them are pointing to same repo, but in AnotherService class i am able to get values inside the repository, whereas i am not able to get any values inside Service, on doing this.kpiRepository.findAll().</p>\n"},{"tags":["java","gradle","sentry"],"answers":[{"comments":[{"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1697380464,"post_id":77221420,"comment_id":136269990,"body_markdown":"./gradlew clean build raises Could not find method named() for arguments [licenseMain, build_10dbzuxb9ugjfdv0ff1ngyi6z$_run_closure5$_closure21@4ea69061] on task &#39;:tasks&#39; of type org.gradle.api.tasks.diagnostics.TaskReportTask.","body":"./gradlew clean build raises Could not find method named() for arguments [licenseMain, build_10dbzuxb9ugjfdv0ff1ngyi6z$_run_closure5$_closure21@4ea&zwnj;&#8203;69061] on task &#39;:tasks&#39; of type org.gradle.api.tasks.diagnostics.TaskReportTask."},{"owner":{"account_id":168379,"reputation":16435,"user_id":393805,"accept_rate":80,"display_name":"tftd"},"score":1,"creation_date":1697384845,"post_id":77221420,"comment_id":136270477,"body_markdown":"The code above is for `build.gradle.kts`. You probably need to convert it into groovy.","body":"The code above is for <code>build.gradle.kts</code>. You probably need to convert it into groovy."}],"tags":[],"owner":{"account_id":168379,"reputation":16435,"user_id":393805,"accept_rate":80,"display_name":"tftd"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696888856,"creation_date":1696328455,"answer_id":77221420,"question_id":77208939,"body_markdown":"This error occurs on newer Gradle versions and is related to the caching. I haven&#39;t used those plugins, but usually you should be able to &quot;fix&quot; the problem by explicitly defining `dependsOn()` or in some cases `inputs.files()` (which has been already stated in the error)\r\n\r\nJudging by the error message you should be able to resolve the problem with the following code:\r\n\r\n```\r\n\r\ntasks {\r\n  // possible solution 1\r\n  named(&quot;licenseMain&quot;) {\r\n    inputs.files(tasks.named(&quot;generateSentryDebugMetaPropertiesjava&quot;))\r\n    inputs.files(tasks.named(&quot;collectExternalDependenciesForSentry&quot;))\r\n  }\r\n  // possible solution 2\r\n  named(&quot;licenseMain&quot;) {\r\n    dependsOn(tasks.named(&quot;generateSentryDebugMetaPropertiesjava&quot;))\r\n    dependsOn(tasks.named(&quot;collectExternalDependenciesForSentry&quot;))\r\n  }\r\n}\r\n```\r\n\r\nAs for the error `An input file was expected to be present but it doesn&#39;t`, based on what the error suggests afterwards, the file might not be present, because another gradle task is providing it (i.e. `generateSentryDebugMetaPropertiesjava` or `collectExternalDependenciesForSentry`) but since that task is not executed before `licenseMain` -- the file does not exist.","title":"An input file was expected to be present but it doesn&#39;t exist in gradle","body":"<p>This error occurs on newer Gradle versions and is related to the caching. I haven't used those plugins, but usually you should be able to &quot;fix&quot; the problem by explicitly defining <code>dependsOn()</code> or in some cases <code>inputs.files()</code> (which has been already stated in the error)</p>\n<p>Judging by the error message you should be able to resolve the problem with the following code:</p>\n<pre><code>\ntasks {\n  // possible solution 1\n  named(&quot;licenseMain&quot;) {\n    inputs.files(tasks.named(&quot;generateSentryDebugMetaPropertiesjava&quot;))\n    inputs.files(tasks.named(&quot;collectExternalDependenciesForSentry&quot;))\n  }\n  // possible solution 2\n  named(&quot;licenseMain&quot;) {\n    dependsOn(tasks.named(&quot;generateSentryDebugMetaPropertiesjava&quot;))\n    dependsOn(tasks.named(&quot;collectExternalDependenciesForSentry&quot;))\n  }\n}\n</code></pre>\n<p>As for the error <code>An input file was expected to be present but it doesn't</code>, based on what the error suggests afterwards, the file might not be present, because another gradle task is providing it (i.e. <code>generateSentryDebugMetaPropertiesjava</code> or <code>collectExternalDependenciesForSentry</code>) but since that task is not executed before <code>licenseMain</code> -- the file does not exist.</p>\n"}],"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":77221420,"answer_count":1,"score":4,"last_activity_date":1696888856,"creation_date":1696123585,"question_id":77208939,"body_markdown":"I started getting the following errors after adding the `sentry` plugin in plugins section and performing `./gradlew build`\r\n\r\n    id &#39;io.sentry.jvm.gradle&#39; version &#39;3.13.0&#39;\r\n\r\nWe already had id `&#39;com.github.hierynomus.license&#39;` version &#39;0.16.1&#39; plugin definition and a license.gradle file in the local directory as well.\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Some problems were found with the configuration of task &#39;:licenseMain&#39; (type &#39;LicenseCheck&#39;).\r\n      - In plugin &#39;com.hierynomus.gradle.license.LicenseBasePlugin&#39; type &#39;com.hierynomus.gradle.license.tasks.LicenseCheck&#39; property &#39;header&#39; specifies file &#39;/Users/user/work/projects/con/cfc/LICENSE&#39; which doesn&#39;t exist.\r\n        \r\n        Reason: An input file was expected to be present but it doesn&#39;t exist.\r\n        \r\n        Possible solutions:\r\n          1. Make sure the file exists before the task is called.\r\n          2. Make sure that the task which produces the file is declared as an input.\r\n        \r\n        For more information, please refer to https://docs.gradle.org/8.2.1/userguide/validation_problems.html#input_file_does_not_exist in the Gradle documentation.\r\n      - Gradle detected a problem with the following location: &#39;/Users/user/work/projects/con/cfc/build/generated/sentry&#39;.\r\n        \r\n        Reason: Task &#39;:licenseMain&#39; uses this output of task &#39;:generateSentryDebugMetaPropertiesjava&#39; without declaring an explicit or implicit dependency. This can lead to incorrect results being produced, depending on what order the tasks are executed.\r\n        \r\n        Possible solutions:\r\n          1. Declare task &#39;:generateSentryDebugMetaPropertiesjava&#39; as an input of &#39;:licenseMain&#39;.\r\n          2. Declare an explicit dependency on &#39;:generateSentryDebugMetaPropertiesjava&#39; from &#39;:licenseMain&#39; using Task#dependsOn.\r\n          3. Declare an explicit dependency on &#39;:generateSentryDebugMetaPropertiesjava&#39; from &#39;:licenseMain&#39; using Task#mustRunAfter.\r\n        \r\n        For more information, please refer to https://docs.gradle.org/8.2.1/userguide/validation_problems.html#implicit_dependency in the Gradle documentation.\r\n      - Gradle detected a problem with the following location: &#39;/Users/user/work/projects/con/cfc/build/generated/sentry&#39;.\r\n        \r\n        Reason: Task &#39;:licenseMain&#39; uses this output of task &#39;:collectExternalDependenciesForSentry&#39; without declaring an explicit or implicit dependency. This can lead to incorrect results being produced, depending on what order the tasks are executed.\r\n        \r\n        Possible solutions:\r\n          1. Declare task &#39;:collectExternalDependenciesForSentry&#39; as an input of &#39;:licenseMain&#39;.\r\n          2. Declare an explicit dependency on &#39;:collectExternalDependenciesForSentry&#39; from &#39;:licenseMain&#39; using Task#dependsOn.\r\n          3. Declare an explicit dependency on &#39;:collectExternalDependenciesForSentry&#39; from &#39;:licenseMain&#39; using Task#mustRunAfter.\r\n        \r\n        For more information, please refer to https://docs.gradle.org/8.2.1/userguide/validation_problems.html#implicit_dependency in the Gradle documentation.\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    &gt; Get more help at https://help.gradle.org.\r\n\r\n\r\n","title":"An input file was expected to be present but it doesn&#39;t exist in gradle","body":"<p>I started getting the following errors after adding the <code>sentry</code> plugin in plugins section and performing <code>./gradlew build</code></p>\n<pre><code>id 'io.sentry.jvm.gradle' version '3.13.0'\n</code></pre>\n<p>We already had id <code>'com.github.hierynomus.license'</code> version '0.16.1' plugin definition and a license.gradle file in the local directory as well.</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nSome problems were found with the configuration of task ':licenseMain' (type 'LicenseCheck').\n  - In plugin 'com.hierynomus.gradle.license.LicenseBasePlugin' type 'com.hierynomus.gradle.license.tasks.LicenseCheck' property 'header' specifies file '/Users/user/work/projects/con/cfc/LICENSE' which doesn't exist.\n    \n    Reason: An input file was expected to be present but it doesn't exist.\n    \n    Possible solutions:\n      1. Make sure the file exists before the task is called.\n      2. Make sure that the task which produces the file is declared as an input.\n    \n    For more information, please refer to https://docs.gradle.org/8.2.1/userguide/validation_problems.html#input_file_does_not_exist in the Gradle documentation.\n  - Gradle detected a problem with the following location: '/Users/user/work/projects/con/cfc/build/generated/sentry'.\n    \n    Reason: Task ':licenseMain' uses this output of task ':generateSentryDebugMetaPropertiesjava' without declaring an explicit or implicit dependency. This can lead to incorrect results being produced, depending on what order the tasks are executed.\n    \n    Possible solutions:\n      1. Declare task ':generateSentryDebugMetaPropertiesjava' as an input of ':licenseMain'.\n      2. Declare an explicit dependency on ':generateSentryDebugMetaPropertiesjava' from ':licenseMain' using Task#dependsOn.\n      3. Declare an explicit dependency on ':generateSentryDebugMetaPropertiesjava' from ':licenseMain' using Task#mustRunAfter.\n    \n    For more information, please refer to https://docs.gradle.org/8.2.1/userguide/validation_problems.html#implicit_dependency in the Gradle documentation.\n  - Gradle detected a problem with the following location: '/Users/user/work/projects/con/cfc/build/generated/sentry'.\n    \n    Reason: Task ':licenseMain' uses this output of task ':collectExternalDependenciesForSentry' without declaring an explicit or implicit dependency. This can lead to incorrect results being produced, depending on what order the tasks are executed.\n    \n    Possible solutions:\n      1. Declare task ':collectExternalDependenciesForSentry' as an input of ':licenseMain'.\n      2. Declare an explicit dependency on ':collectExternalDependenciesForSentry' from ':licenseMain' using Task#dependsOn.\n      3. Declare an explicit dependency on ':collectExternalDependenciesForSentry' from ':licenseMain' using Task#mustRunAfter.\n    \n    For more information, please refer to https://docs.gradle.org/8.2.1/userguide/validation_problems.html#implicit_dependency in the Gradle documentation.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\n</code></pre>\n"},{"tags":["java","jms","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1696888127,"post_id":77261857,"comment_id":136208127,"body_markdown":"Clustered message grouping relies on a properly functioning cluster as well as a properly configured `grouping-handler` on each node. See [the documentation](https://activemq.apache.org/components/artemis/documentation/latest/message-grouping.html#clustered-grouping) for more details on that. Have you configured all this properly?","body":"Clustered message grouping relies on a properly functioning cluster as well as a properly configured <code>grouping-handler</code> on each node. See <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/message-grouping.html#clustered-grouping\" rel=\"nofollow noreferrer\">the documentation</a> for more details on that. Have you configured all this properly?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1697076588,"post_id":77261857,"comment_id":136234891,"body_markdown":"Any feedback here?","body":"Any feedback here?"},{"owner":{"account_id":1108029,"reputation":93,"user_id":1099013,"accept_rate":0,"display_name":"Surjit Sen"},"score":0,"creation_date":1697223794,"post_id":77261857,"comment_id":136257941,"body_markdown":"After carefully reading the documentation, it seems the better approach is to avoid message grouping unless absolutely required, so currently working on removing all unnecessary message grouping, which did not cause issues, when ActiveMQ servers were utilized. Thanks for the advice. I will add comment(s), if and when message grouping is used with the current ActiveMQ Artemis servers","body":"After carefully reading the documentation, it seems the better approach is to avoid message grouping unless absolutely required, so currently working on removing all unnecessary message grouping, which did not cause issues, when ActiveMQ servers were utilized. Thanks for the advice. I will add comment(s), if and when message grouping is used with the current ActiveMQ Artemis servers"}],"owner":{"account_id":1108029,"reputation":93,"user_id":1099013,"accept_rate":0,"display_name":"Surjit Sen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696888410,"creation_date":1696886785,"question_id":77261857,"body_markdown":"A JMS message with JMSXGroupId sent to a dynamic queue on ActiveMQ Artemis server from Java code (JDK 11) does not get delivered to consumer connected to another server. Is this normal behavior? Is there a way to allow distribution of messages with GroupId to remote servers/listeners? I&#39;m using ActiveMQ Artemis 2.29.0.\r\n","title":"JMS message sent with JMSXGroupId to ActiveMQ Artemis queue on one server in a cluster does not get delivered to consumer connected to another server","body":"<p>A JMS message with JMSXGroupId sent to a dynamic queue on ActiveMQ Artemis server from Java code (JDK 11) does not get delivered to consumer connected to another server. Is this normal behavior? Is there a way to allow distribution of messages with GroupId to remote servers/listeners? I'm using ActiveMQ Artemis 2.29.0.</p>\n"},{"tags":["java","sqlite","prepared-statement"],"comments":[{"owner":{"account_id":56549,"reputation":8582,"user_id":169397,"accept_rate":84,"display_name":"Luciano"},"score":1,"creation_date":1337380515,"post_id":10659961,"comment_id":13827102,"body_markdown":"I&#39;m not familiar with Batches, but it looks like you are adding a batch for a preparedstatement, but then replacing that preparedstatement with a new one. In the end, you assign prep a new preparedstatement, but don&#39;t call to addBatch(), and then you call executeBatch(), so it looks like you are always executing the batch for the last preparedstatement, the one you never called addBatch() before.","body":"I&#39;m not familiar with Batches, but it looks like you are adding a batch for a preparedstatement, but then replacing that preparedstatement with a new one. In the end, you assign prep a new preparedstatement, but don&#39;t call to addBatch(), and then you call executeBatch(), so it looks like you are always executing the batch for the last preparedstatement, the one you never called addBatch() before."},{"owner":{"account_id":56549,"reputation":8582,"user_id":169397,"accept_rate":84,"display_name":"Luciano"},"score":0,"creation_date":1337380686,"post_id":10659961,"comment_id":13827151,"body_markdown":"It also looks like you are using your preparedStatement as a regular statement, since you are setting the parameters in the SQL string, instead of using the setters the PreparedStatement class provides.","body":"It also looks like you are using your preparedStatement as a regular statement, since you are setting the parameters in the SQL string, instead of using the setters the PreparedStatement class provides."}],"answers":[{"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1337422941,"post_id":10660636,"comment_id":13832910,"body_markdown":"This suffers from the same bug as the OP.  He cannot prepare multiple statements that way.  See my post.","body":"This suffers from the same bug as the OP.  He cannot prepare multiple statements that way.  See my post."},{"owner":{"account_id":56549,"reputation":8582,"user_id":169397,"accept_rate":84,"display_name":"Luciano"},"score":0,"creation_date":1337430619,"post_id":10660636,"comment_id":13834301,"body_markdown":"You are right, my intention was to set the assignment before the for, but I forgot to move it while copy pasting his code. Sorry","body":"You are right, my intention was to set the assignment before the for, but I forgot to move it while copy pasting his code. Sorry"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1525985209,"post_id":10660636,"comment_id":87579082,"body_markdown":"You sure you don&#39;t want to delete or edit this dude?","body":"You sure you don&#39;t want to delete or edit this dude?"}],"tags":[],"owner":{"account_id":56549,"reputation":8582,"user_id":169397,"accept_rate":84,"display_name":"Luciano"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1337381120,"creation_date":1337381120,"answer_id":10660636,"question_id":10659961,"body_markdown":"Besides the comments I wrote, I&#39;m going to risk giving an answer. What if you try something like this:\r\n\r\n    public boolean saveOrUpdate(MonitoredData mData) {\r\n        try {\r\n            PreparedStatement prep;\r\n            String timeID = this.getTimeLastRowID();\r\n            conn.setAutoCommit(false);\r\n            for (CpuData o : mData.getCpu()) {\r\n                prep = this.conn.prepareStatement(INSERT_CPU_USAGE);\r\n                prep.setObject(1, this.nodeID);\r\n                prep.setObject(2, timeID);\r\n                prep.setObject(3, o);\r\n                prep.addBatch();\r\n                // saveOrUpdateToDatabase(String.format(INSERT_CPU_USAGE,\r\n                // this.nodeID, timeID, o.toString()));\r\n            }\r\n            prep.executeBatch();\r\n            for (DiskData o : mData.getDisk()) {\r\n                prep = this.conn.prepareStatement(INSERT_DISK_USAGE);\r\n                prep.setObject(1, this.nodeID);\r\n                prep.setObject(2, timeID);\r\n                prep.setObject(3, o);\r\n                prep.addBatch();\r\n                // saveOrUpdateToDatabase(String.format(INSERT_DISK_USAGE,\r\n                // this.nodeID, timeID, o.toString()));\r\n            }\r\n            prep.executeBatch();\r\n            for (NetworkData o : mData.getNet()) {\r\n                prep = this.conn.prepareStatement(INSERT_NETWORK_USAGE);\r\n                prep.setObject(1, this.nodeID);\r\n                prep.setObject(2, timeID);\r\n                prep.setObject(3, o);\r\n                prep.addBatch();\r\n                // saveOrUpdateToDatabase(String.format(INSERT_NETWORK_USAGE,\r\n                // this.nodeID, timeID, o.toString()));\r\n\r\n            }\r\n            prep.executeBatch();\r\n            prep = this.conn.prepareStatement(INSERT_MEMORY_USAGE);\r\n            prep.setObject(1, this.nodeID);\r\n            prep.setObject(2, timeID);\r\n            prep.setObject(3, o);\r\n            prep.executeUpdate();\r\n            // saveOrUpdateToDatabase(String.format(INSERT_MEMORY_USAGE,\r\n            // this.nodeID, timeID, mData.getMem().toString()));\r\n\r\n            conn.setAutoCommit(true);\r\n            return true;\r\n\r\n        } catch (SQLException ex) {\r\n            Logger.getLogger(HistoricalDatabase.class.getName()).log(\r\n                    Level.SEVERE, null, ex);\r\n        }\r\n        return false;\r\n    }\r\n\r\nYou may need to modify those SQL query defined in the constants.","title":"Java PreparedStatement.executeBatch() in SQLite not working","body":"<p>Besides the comments I wrote, I'm going to risk giving an answer. What if you try something like this:</p>\n\n<pre><code>public boolean saveOrUpdate(MonitoredData mData) {\n    try {\n        PreparedStatement prep;\n        String timeID = this.getTimeLastRowID();\n        conn.setAutoCommit(false);\n        for (CpuData o : mData.getCpu()) {\n            prep = this.conn.prepareStatement(INSERT_CPU_USAGE);\n            prep.setObject(1, this.nodeID);\n            prep.setObject(2, timeID);\n            prep.setObject(3, o);\n            prep.addBatch();\n            // saveOrUpdateToDatabase(String.format(INSERT_CPU_USAGE,\n            // this.nodeID, timeID, o.toString()));\n        }\n        prep.executeBatch();\n        for (DiskData o : mData.getDisk()) {\n            prep = this.conn.prepareStatement(INSERT_DISK_USAGE);\n            prep.setObject(1, this.nodeID);\n            prep.setObject(2, timeID);\n            prep.setObject(3, o);\n            prep.addBatch();\n            // saveOrUpdateToDatabase(String.format(INSERT_DISK_USAGE,\n            // this.nodeID, timeID, o.toString()));\n        }\n        prep.executeBatch();\n        for (NetworkData o : mData.getNet()) {\n            prep = this.conn.prepareStatement(INSERT_NETWORK_USAGE);\n            prep.setObject(1, this.nodeID);\n            prep.setObject(2, timeID);\n            prep.setObject(3, o);\n            prep.addBatch();\n            // saveOrUpdateToDatabase(String.format(INSERT_NETWORK_USAGE,\n            // this.nodeID, timeID, o.toString()));\n\n        }\n        prep.executeBatch();\n        prep = this.conn.prepareStatement(INSERT_MEMORY_USAGE);\n        prep.setObject(1, this.nodeID);\n        prep.setObject(2, timeID);\n        prep.setObject(3, o);\n        prep.executeUpdate();\n        // saveOrUpdateToDatabase(String.format(INSERT_MEMORY_USAGE,\n        // this.nodeID, timeID, mData.getMem().toString()));\n\n        conn.setAutoCommit(true);\n        return true;\n\n    } catch (SQLException ex) {\n        Logger.getLogger(HistoricalDatabase.class.getName()).log(\n                Level.SEVERE, null, ex);\n    }\n    return false;\n}\n</code></pre>\n\n<p>You may need to modify those SQL query defined in the constants.</p>\n"},{"comments":[{"owner":{"account_id":150566,"reputation":2120,"user_id":363855,"accept_rate":85,"display_name":"Pedro Dusso"},"score":0,"creation_date":1340997267,"post_id":10664251,"comment_id":14814304,"body_markdown":"I think I have another problem. My INSERT_CPU_USAGE is &quot;INSERT INTO CpuUsage (NODE_ID, TIME_ID, CORE_ID, USER, NICE, SYSMODE, IDLE, IOWAIT, IRQ, SOFTIRQ, STEAL, GUEST) VALUES (?, ?, ?);&quot; As you saw before, I&#39;m passing the node ID, the time and the third &quot;?&quot; is a string from the getCPu with all other values. But this lead me to &quot;3 values for 12 columns&quot; exception. It parsers the insert and compares to the number of ?&#39;s? =/","body":"I think I have another problem. My INSERT_CPU_USAGE is &quot;INSERT INTO CpuUsage (NODE_ID, TIME_ID, CORE_ID, USER, NICE, SYSMODE, IDLE, IOWAIT, IRQ, SOFTIRQ, STEAL, GUEST) VALUES (?, ?, ?);&quot; As you saw before, I&#39;m passing the node ID, the time and the third &quot;?&quot; is a string from the getCPu with all other values. But this lead me to &quot;3 values for 12 columns&quot; exception. It parsers the insert and compares to the number of ?&#39;s? =/"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1340998341,"post_id":10664251,"comment_id":14814648,"body_markdown":"Not sure I understand but the number of columns in your `INSERT` statement should match the number of `VALUES`.  `INSERT INTO CpuUsage (NODE_ID, TIME_ID, USER) VALUES (?, ?, ?)`.  If `getCPu` returns &quot;all of the other values&quot; then you&#39;ll need to break them out and set them one by one and have 12 `?` fields.","body":"Not sure I understand but the number of columns in your <code>INSERT</code> statement should match the number of <code>VALUES</code>.  <code>INSERT INTO CpuUsage (NODE_ID, TIME_ID, USER) VALUES (?, ?, ?)</code>.  If <code>getCPu</code> returns &quot;all of the other values&quot; then you&#39;ll need to break them out and set them one by one and have 12 <code>?</code> fields."},{"owner":{"account_id":9301033,"reputation":314,"user_id":6906509,"display_name":"BarbosSergos"},"score":1,"creation_date":1525957189,"post_id":10664251,"comment_id":87563827,"body_markdown":"Thank you Gray! I spend almost 4 hours trying to figure it out.. Funny thing that I knew adout it and still write incorrect in code :)","body":"Thank you Gray! I spend almost 4 hours trying to figure it out.. Funny thing that I knew adout it and still write incorrect in code :)"}],"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1696887946,"creation_date":1337422442,"answer_id":10664251,"question_id":10659961,"body_markdown":"&gt; What am I missing? The int[]r which receives the executeBatch() results is always empty...\r\n\r\nYou are using the `addBatch()` method incorrectly.  In your code you are doing:\r\n\r\n    for (CpuData o : mData.getCpu()) {\r\n        // WRONG!! you can not prepare a new query each time\r\n        prep = this.conn.prepareStatement(INSERT_CPU_USAGE);\r\n        prep.setObject(1, this.nodeID);\r\n        prep.addBatch();\r\n    }\r\n\r\nThis _replaces_ the prepared query each time.  You should only be calling `prepareStatement(...)` once per batch.  You should be doing something like the following.  You will have to change your insert statements to have `?` arguments:\r\n\r\n    PreparedStatement prep = conn.prepareStatement(INSERT_CPU_USAGE);\r\n    for (CpuData o : mData.getCpu()) {\r\n        prep.setObject(1, this.nodeID);\r\n        prep.setObject(2, timeID);\r\n        prep.setObject(3, o);\r\n        prep.addBatch();\r\n    }\r\n    prep.executeBatch();\r\n\r\nNotice that only one `prepareStatement()` call is being used.  This has `?` SQL argument entities in it that are then assigned in the loop with the `prep.setString(1, ...)`.  When the batch is ready to be executed you call `prep.executeBatch()` but this is _without_ ever replacing the `prep` prepared statement which you are doing.\r\n\r\nIf you are trying to perform a series of _different_ insert statements in a row in the same batch then you should look into turning off auto-commit, doing your statements, call commit, and then turn auto-commit back on. Something like:\r\n\r\n    conn.setAutoCommit(false);\r\n    // statements prepared and executed here\r\n    // maybe no need for batch operations\r\n    ...\r\n    conn.commit();\r\n    conn.setAutoCommit(true);\r\n","title":"Java PreparedStatement.executeBatch() in SQLite not working","body":"<blockquote>\n<p>What am I missing? The int[]r which receives the executeBatch() results is always empty...</p>\n</blockquote>\n<p>You are using the <code>addBatch()</code> method incorrectly.  In your code you are doing:</p>\n<pre><code>for (CpuData o : mData.getCpu()) {\n    // WRONG!! you can not prepare a new query each time\n    prep = this.conn.prepareStatement(INSERT_CPU_USAGE);\n    prep.setObject(1, this.nodeID);\n    prep.addBatch();\n}\n</code></pre>\n<p>This <em>replaces</em> the prepared query each time.  You should only be calling <code>prepareStatement(...)</code> once per batch.  You should be doing something like the following.  You will have to change your insert statements to have <code>?</code> arguments:</p>\n<pre><code>PreparedStatement prep = conn.prepareStatement(INSERT_CPU_USAGE);\nfor (CpuData o : mData.getCpu()) {\n    prep.setObject(1, this.nodeID);\n    prep.setObject(2, timeID);\n    prep.setObject(3, o);\n    prep.addBatch();\n}\nprep.executeBatch();\n</code></pre>\n<p>Notice that only one <code>prepareStatement()</code> call is being used.  This has <code>?</code> SQL argument entities in it that are then assigned in the loop with the <code>prep.setString(1, ...)</code>.  When the batch is ready to be executed you call <code>prep.executeBatch()</code> but this is <em>without</em> ever replacing the <code>prep</code> prepared statement which you are doing.</p>\n<p>If you are trying to perform a series of <em>different</em> insert statements in a row in the same batch then you should look into turning off auto-commit, doing your statements, call commit, and then turn auto-commit back on. Something like:</p>\n<pre><code>conn.setAutoCommit(false);\n// statements prepared and executed here\n// maybe no need for batch operations\n...\nconn.commit();\nconn.setAutoCommit(true);\n</code></pre>\n"}],"owner":{"account_id":150566,"reputation":2120,"user_id":363855,"accept_rate":85,"display_name":"Pedro Dusso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9418,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":10664251,"answer_count":2,"score":3,"last_activity_date":1696887946,"creation_date":1337376399,"question_id":10659961,"body_markdown":"I have the following method. The commented methods saveOrUpdateToDatabase execute perfectly fine, but I would like to use the executeBatch. What am I missing? The int[]r which receives the executeBatch() results is always empty...\r\n\r\n\r\n\r\n    public boolean saveOrUpdate(MonitoredData mData) {\r\n    \t\ttry {\r\n    \t\t\tPreparedStatement prep;\r\n    \t\t\tString timeID = this.getTimeLastRowID();\r\n    \r\n    \t\t\tfor (CpuData o : mData.getCpu()) {\r\n    \t\t\t\tprep = this.conn.prepareStatement(String.format(\r\n    \t\t\t\t\t\tINSERT_CPU_USAGE, this.nodeID, timeID, o.toString()));\r\n    \t\t\t\tprep.addBatch();\r\n    \t\t\t\t// saveOrUpdateToDatabase(String.format(INSERT_CPU_USAGE,\r\n    \t\t\t\t// this.nodeID, timeID, o.toString()));\r\n    \t\t\t}\r\n    \t\t\tfor (DiskData o : mData.getDisk()) {\r\n    \t\t\t\tprep = this.conn.prepareStatement(String.format(\r\n    \t\t\t\t\t\tINSERT_DISK_USAGE, this.nodeID, timeID, o.toString()));\r\n    \t\t\t\tprep.addBatch();\r\n    \t\t\t\t// saveOrUpdateToDatabase(String.format(INSERT_DISK_USAGE,\r\n    \t\t\t\t// this.nodeID, timeID, o.toString()));\r\n    \r\n    \t\t\t}\r\n    \t\t\tfor (NetworkData o : mData.getNet()) {\r\n    \t\t\t\tprep = this.conn.prepareStatement(String\r\n    \t\t\t\t\t\t.format(INSERT_NETWORK_USAGE, this.nodeID, timeID, o\r\n    \t\t\t\t\t\t\t\t.toString()));\r\n    \t\t\t\tprep.addBatch();\r\n    \t\t\t\t// saveOrUpdateToDatabase(String.format(INSERT_NETWORK_USAGE,\r\n    \t\t\t\t// this.nodeID, timeID, o.toString()));\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\tprep = this.conn.prepareStatement(String.format(\r\n    \t\t\t\t\tINSERT_MEMORY_USAGE, this.nodeID, timeID, mData.getMem()\r\n    \t\t\t\t\t\t\t.toString()));\r\n    \t\t\t// saveOrUpdateToDatabase(String.format(INSERT_MEMORY_USAGE,\r\n    \t\t\t// this.nodeID, timeID, mData.getMem().toString()));\r\n    \r\n    \t\t\tconn.setAutoCommit(false);\r\n    \t\t\tint[] r = prep.executeBatch();\r\n    \t\t\tconn.setAutoCommit(true);\r\n    \r\n    \t\t\treturn true;\r\n    \r\n    \t\t} catch (SQLException ex) {\r\n    \t\t\tLogger.getLogger(HistoricalDatabase.class.getName()).log(\r\n    \t\t\t\t\tLevel.SEVERE, null, ex);\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}","title":"Java PreparedStatement.executeBatch() in SQLite not working","body":"<p>I have the following method. The commented methods saveOrUpdateToDatabase execute perfectly fine, but I would like to use the executeBatch. What am I missing? The int[]r which receives the executeBatch() results is always empty...</p>\n\n<pre><code>public boolean saveOrUpdate(MonitoredData mData) {\n        try {\n            PreparedStatement prep;\n            String timeID = this.getTimeLastRowID();\n\n            for (CpuData o : mData.getCpu()) {\n                prep = this.conn.prepareStatement(String.format(\n                        INSERT_CPU_USAGE, this.nodeID, timeID, o.toString()));\n                prep.addBatch();\n                // saveOrUpdateToDatabase(String.format(INSERT_CPU_USAGE,\n                // this.nodeID, timeID, o.toString()));\n            }\n            for (DiskData o : mData.getDisk()) {\n                prep = this.conn.prepareStatement(String.format(\n                        INSERT_DISK_USAGE, this.nodeID, timeID, o.toString()));\n                prep.addBatch();\n                // saveOrUpdateToDatabase(String.format(INSERT_DISK_USAGE,\n                // this.nodeID, timeID, o.toString()));\n\n            }\n            for (NetworkData o : mData.getNet()) {\n                prep = this.conn.prepareStatement(String\n                        .format(INSERT_NETWORK_USAGE, this.nodeID, timeID, o\n                                .toString()));\n                prep.addBatch();\n                // saveOrUpdateToDatabase(String.format(INSERT_NETWORK_USAGE,\n                // this.nodeID, timeID, o.toString()));\n\n            }\n\n            prep = this.conn.prepareStatement(String.format(\n                    INSERT_MEMORY_USAGE, this.nodeID, timeID, mData.getMem()\n                            .toString()));\n            // saveOrUpdateToDatabase(String.format(INSERT_MEMORY_USAGE,\n            // this.nodeID, timeID, mData.getMem().toString()));\n\n            conn.setAutoCommit(false);\n            int[] r = prep.executeBatch();\n            conn.setAutoCommit(true);\n\n            return true;\n\n        } catch (SQLException ex) {\n            Logger.getLogger(HistoricalDatabase.class.getName()).log(\n                    Level.SEVERE, null, ex);\n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":["java","cluster-computing","jgroups"],"comments":[{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":1,"creation_date":1339107541,"post_id":10842102,"comment_id":14276054,"body_markdown":"extend `org.jgroups.protocols.pbcast.GMS` and override `Address determineCoordinator()`. You can add a getter/setter and specify the preferred Address to be coordinator. If the node is online (part of `members`) it will be elected, if not call super.determineCoordinator(). That&#39;s it more or less.","body":"extend <code>org.jgroups.protocols.pbcast.GMS</code> and override <code>Address determineCoordinator()</code>. You can add a getter/setter and specify the preferred Address to be coordinator. If the node is online (part of <code>members</code>) it will be elected, if not call super.determineCoordinator(). That&#39;s it more or less."}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1696887824,"creation_date":1338936392,"answer_id":10906070,"question_id":10842102,"body_markdown":"Currently there is no way to do this.  Jgroups has spent considerable time making sure that the coordinator can be any of the nodes in a group.  All tasks that maintain and monitor the health of the group membership list are shared among all of the members in the group to make sure that the coordinator duties do not affect the performance of the coordinator too much.  The standard GMS (Group MembershipService) protocol stack class is what is responsible for the coordinator selection.  Currently it is just the first host in the view list.\r\n\r\nTo get this behavior, you are going to have to implement your own protocol stack.  Others may have taken a whack at this issue however.  I would recommend posting on the [jgroups mailing list][1] and asking the same question.\r\n\r\n  [1]: http://sourceforge.net/mail/?group_id=6081","title":"How do I force JGroups which node to make coordinator?","body":"<p>Currently there is no way to do this.  Jgroups has spent considerable time making sure that the coordinator can be any of the nodes in a group.  All tasks that maintain and monitor the health of the group membership list are shared among all of the members in the group to make sure that the coordinator duties do not affect the performance of the coordinator too much.  The standard GMS (Group MembershipService) protocol stack class is what is responsible for the coordinator selection.  Currently it is just the first host in the view list.</p>\n<p>To get this behavior, you are going to have to implement your own protocol stack.  Others may have taken a whack at this issue however.  I would recommend posting on the <a href=\"http://sourceforge.net/mail/?group_id=6081\" rel=\"nofollow noreferrer\">jgroups mailing list</a> and asking the same question.</p>\n"},{"tags":[],"owner":{"account_id":3201215,"reputation":301,"user_id":2703232,"display_name":"George_A"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448880990,"creation_date":1448640688,"answer_id":33961215,"question_id":10842102,"body_markdown":"You can set desired node to coordinator. :\r\n[github sample][1]\r\n\r\nAnd i am add synchronization block for changes complete at all nodes and complete code:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static final String GMS_DELTA_VIEW_FIELD_NAME = &quot;use_delta_views&quot;;\r\n\r\n    /**\r\n\t * Change coordinator to {@code desiredCoordinator}. Must be invoked from coordinator.\r\n\t * @param desiredCoordinator\r\n\t * @return {@code true} if changes success, {@code false} overwise \r\n\t */\r\n\tboolean changeCoordinator(JChannel currentChannel, Address desiredCoordinator) {\r\n\t\r\n\t\tif(!Util.isCoordinator(currentChannel.getAddress)) {\r\n\t\t\tthrow new RuntimeException(&quot;The current node is not coordinator.&quot;);\r\n\t\t}\r\n\t\r\n\t\tArrayList&lt;Address&gt; newMembersOrder = Lists.newArrayList(currentView.getMembers());        \r\n\r\n        // Switch desired node to first place\r\n        Collections.swap(newMembersOrder, 0, newMembersOrder.indexOf(desiredCoordinator));        \r\n\r\n        // Create new view\r\n        long newId = currentView.getViewId().getId() + 1;\r\n        View newView = new View(newMembersOrder.get(0), newId, newMembersOrder);\r\n\r\n        GMS gms = (GMS)clusterChannel.getProtocolStack().findProtocol(GMS.class);\r\n        CustomProtocol protocol = new CustomProtocol(newMembersOrder.stream()\r\n        \t\t.filter(item -&gt; !item.equals(currentChannel.getAddress()))\r\n        \t\t.collect(Collectors.toSet()));\r\n\r\n        boolean oldUseDeltaViews = (Boolean)gms.getValue(GMS_DELTA_VIEW_FIELD_NAME);\r\n        try {\r\n            // Disable using_delta_views at GMS\r\n            gms.setValue(GMS_DELTA_VIEW_FIELD_NAME, false);\r\n\r\n            // Insert custom protocol below GMS for synchronizing with VIEW_ACK events\r\n            currentChannel.getProtocolStack().insertProtocolInStack(protocol, gms, ProtocolStack.BELOW);\r\n            gms.castViewChange(newView, null, newMembersOrder);\r\n\r\n            // Wait no more than 30 seconds to all VIEW_ACK responses\r\n            if (!protocol.collector.waitForAllAcks(TimeUnit.SECONDS.toMillis(30))) {                \r\n                return false;\r\n            }\r\n            \r\n            return true;\r\n        }\r\n        finally {\r\n            // Repair old state\r\n            gms.setValue(GMS_DELTA_VIEW_FIELD_NAME, oldUseDeltaViews);\r\n            currentChannel.getProtocolStack().removeProtocol(protocol);\r\n        }\r\n    }\r\n    \r\n    private class CustomProtocol extends Protocol implements UpHandler {\r\n\r\n        AckCollector collector;\r\n\r\n        public CustomProtocol(Collection&lt;Address&gt; waitedAddresses) {\r\n            collector = new AckCollector(waitedAddresses);\r\n        }\r\n\r\n        @Override\r\n        public Object up(Event evt) {\r\n\r\n            if(evt.getType() == Event.MSG) {\r\n                final Message msg=(Message)evt.getArg();\r\n                GmsHeader hdr=(GmsHeader)msg.getHeader(proto_id);\r\n                if(hdr != null &amp;&amp; hdr.getType() == GmsHeader.VIEW_ACK) {                    \r\n                    collector.ack(msg.getSrc());\r\n                }\r\n            }\r\n\r\n            return super.up(evt);\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/belaban/JGroups/wiki/Changing-the-coordinator-of-a-cluster","title":"How do I force JGroups which node to make coordinator?","body":"<p>You can set desired node to coordinator. :\n<a href=\"https://github.com/belaban/JGroups/wiki/Changing-the-coordinator-of-a-cluster\" rel=\"nofollow\">github sample</a></p>\n\n<p>And i am add synchronization block for changes complete at all nodes and complete code:\n</p>\n\n<pre><code>public static final String GMS_DELTA_VIEW_FIELD_NAME = \"use_delta_views\";\n\n/**\n * Change coordinator to {@code desiredCoordinator}. Must be invoked from coordinator.\n * @param desiredCoordinator\n * @return {@code true} if changes success, {@code false} overwise \n */\nboolean changeCoordinator(JChannel currentChannel, Address desiredCoordinator) {\n\n    if(!Util.isCoordinator(currentChannel.getAddress)) {\n        throw new RuntimeException(\"The current node is not coordinator.\");\n    }\n\n    ArrayList&lt;Address&gt; newMembersOrder = Lists.newArrayList(currentView.getMembers());        \n\n    // Switch desired node to first place\n    Collections.swap(newMembersOrder, 0, newMembersOrder.indexOf(desiredCoordinator));        \n\n    // Create new view\n    long newId = currentView.getViewId().getId() + 1;\n    View newView = new View(newMembersOrder.get(0), newId, newMembersOrder);\n\n    GMS gms = (GMS)clusterChannel.getProtocolStack().findProtocol(GMS.class);\n    CustomProtocol protocol = new CustomProtocol(newMembersOrder.stream()\n            .filter(item -&gt; !item.equals(currentChannel.getAddress()))\n            .collect(Collectors.toSet()));\n\n    boolean oldUseDeltaViews = (Boolean)gms.getValue(GMS_DELTA_VIEW_FIELD_NAME);\n    try {\n        // Disable using_delta_views at GMS\n        gms.setValue(GMS_DELTA_VIEW_FIELD_NAME, false);\n\n        // Insert custom protocol below GMS for synchronizing with VIEW_ACK events\n        currentChannel.getProtocolStack().insertProtocolInStack(protocol, gms, ProtocolStack.BELOW);\n        gms.castViewChange(newView, null, newMembersOrder);\n\n        // Wait no more than 30 seconds to all VIEW_ACK responses\n        if (!protocol.collector.waitForAllAcks(TimeUnit.SECONDS.toMillis(30))) {                \n            return false;\n        }\n\n        return true;\n    }\n    finally {\n        // Repair old state\n        gms.setValue(GMS_DELTA_VIEW_FIELD_NAME, oldUseDeltaViews);\n        currentChannel.getProtocolStack().removeProtocol(protocol);\n    }\n}\n\nprivate class CustomProtocol extends Protocol implements UpHandler {\n\n    AckCollector collector;\n\n    public CustomProtocol(Collection&lt;Address&gt; waitedAddresses) {\n        collector = new AckCollector(waitedAddresses);\n    }\n\n    @Override\n    public Object up(Event evt) {\n\n        if(evt.getType() == Event.MSG) {\n            final Message msg=(Message)evt.getArg();\n            GmsHeader hdr=(GmsHeader)msg.getHeader(proto_id);\n            if(hdr != null &amp;&amp; hdr.getType() == GmsHeader.VIEW_ACK) {                    \n                collector.ack(msg.getSrc());\n            }\n        }\n\n        return super.up(evt);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":276700,"reputation":993,"user_id":570291,"accept_rate":86,"display_name":"Drizzt321"},"score":0,"creation_date":1548365724,"post_id":54306972,"comment_id":95526440,"body_markdown":"Interesting, looks like that&#39;s in v3 (we&#39;re still running that) as well.","body":"Interesting, looks like that&#39;s in v3 (we&#39;re still running that) as well."}],"tags":[],"owner":{"account_id":2672966,"reputation":2186,"user_id":2309917,"display_name":"Bela Ban"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548155374,"creation_date":1548155374,"answer_id":54306972,"question_id":10842102,"body_markdown":"Just stumbled across this post. There is a simple&amp;standard way to do this in JGroups: [1]. It essentially let&#39;s user code control view generation.\r\n\r\n\r\n[1] http://www.jgroups.org/manual4/index.html#MembershipChangePolicy","title":"How do I force JGroups which node to make coordinator?","body":"<p>Just stumbled across this post. There is a simple&amp;standard way to do this in JGroups: [1]. It essentially let's user code control view generation.</p>\n\n<p>[1] <a href=\"http://www.jgroups.org/manual4/index.html#MembershipChangePolicy\" rel=\"nofollow noreferrer\">http://www.jgroups.org/manual4/index.html#MembershipChangePolicy</a></p>\n"}],"owner":{"account_id":276700,"reputation":993,"user_id":570291,"accept_rate":86,"display_name":"Drizzt321"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3166,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":10906070,"answer_count":3,"score":6,"last_activity_date":1696887824,"creation_date":1338503044,"question_id":10842102,"body_markdown":"I&#39;m looking for a way to force JGroups to use a specific server as the Coordinator, and if that server isn&#39;t present, elect a new Coordinator until that one specified rejoins the cluster and it takes over being the Coordinator.\r\n\r\nIn this case, we have some information we push in to the cluster by the Coordinator listening to a Topic for updates, however fetching &amp; processing those updates can be resource intensive so we don&#39;t want it to server anything to the outside world. So in the load-balancer in front of the cluster, we have it set to not send to the coordinator. But because the Coordinator is elected randomly, we basically need to shut down the cluster until only the single machine is in there and then start the rest of the cluster back up.","title":"How do I force JGroups which node to make coordinator?","body":"<p>I'm looking for a way to force JGroups to use a specific server as the Coordinator, and if that server isn't present, elect a new Coordinator until that one specified rejoins the cluster and it takes over being the Coordinator.</p>\n\n<p>In this case, we have some information we push in to the cluster by the Coordinator listening to a Topic for updates, however fetching &amp; processing those updates can be resource intensive so we don't want it to server anything to the outside world. So in the load-balancer in front of the cluster, we have it set to not send to the coordinator. But because the Coordinator is elected randomly, we basically need to shut down the cluster until only the single machine is in there and then start the rest of the cluster back up.</p>\n"},{"tags":["java","spring-boot","maven","tomcat","intellij-idea"],"comments":[{"owner":{"account_id":910051,"reputation":3554,"user_id":944099,"accept_rate":90,"display_name":"babanin"},"score":0,"creation_date":1696884842,"post_id":77261677,"comment_id":136207766,"body_markdown":"What is your `JAVA_HOME` variable? Does it point to the same JDK as your project in Intellij?","body":"What is your <code>JAVA_HOME</code> variable? Does it point to the same JDK as your project in Intellij?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1696970464,"post_id":77261677,"comment_id":136220016,"body_markdown":"You are mixing different Spring Boot versions that will not work. And as already mentiond Spring Boot 3+ requires JDK17 at minimum...","body":"You are mixing different Spring Boot versions that will not work. And as already mentiond Spring Boot 3+ requires JDK17 at minimum..."}],"answers":[{"tags":[],"owner":{"account_id":5156626,"reputation":46,"user_id":4129701,"display_name":"dabeledo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696887659,"creation_date":1696887659,"answer_id":77261912,"question_id":77261677,"body_markdown":"Your parent is Springboot 2.x but then you added Springboot 3 dependencies, that require Java 17 https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0","title":"Spring boot error UnsupportedClassVersionError with Intellij","body":"<p>Your parent is Springboot 2.x but then you added Springboot 3 dependencies, that require Java 17 <a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0</a></p>\n"}],"owner":{"account_id":4675621,"reputation":190,"user_id":5225000,"display_name":"user11890"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77261912,"answer_count":1,"score":1,"last_activity_date":1696887659,"creation_date":1696884092,"question_id":77261677,"body_markdown":"I have an application in Spring Boot with Tomcat.\r\nI needed to make update in my repository maven, and after this, started with this error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot instantiate interface org.springframework.context.ApplicationContextInitializer : org.springframework.boot.devtools.restart.RestartScopeInitializer\r\n\tat org.springframework.boot.SpringApplication.createSpringFactoriesInstances(SpringApplication.java:423)\r\n\tat org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:402)\r\n\tat org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:393)\r\n\tat org.springframework.boot.SpringApplication.initialize(SpringApplication.java:260)\r\n\tat org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:236)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1162)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1151)\r\n\tat br.coopercarga.com.br.SistemacolaborativoApplication.main(SistemaApplication.java:23)\r\n&gt; \r\n&gt; \r\n&gt; Caused by: java.lang.UnsupportedClassVersionError: org/springframework/boot/devtools/restart/RestartScopeInitializer has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat org.springframework.util.ClassUtils.forName(ClassUtils.java:250)\r\n\tat org.springframework.boot.SpringApplication.createSpringFactoriesInstances(SpringApplication.java:415)\r\n\t... 7 more\r\n\r\n\r\nMy java version:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nProject Structure:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nMy run configuration:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nMy pom.xml (maven)\r\n\r\n        &lt;groupId&gt;br.xxx.com.br&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sistemacolaborativo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.13.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;12.2.0.jre8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-catalina-jmx-remote&lt;/artifactId&gt;\r\n            &lt;version&gt;8.5.75&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n            &lt;!--&lt;version&gt;2.0.0.M6&lt;/version&gt;--&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jxl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;br.coopercarga.com.br&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sistemacolaborativo&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.transaction-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;dom4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.3.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\nMy SistemaApplication.java\r\n\r\n    import br.xxxxx.com.br.TokenFilter.TokenFilter;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.web.servlet.FilterRegistrationBean;\r\n    import org.springframework.context.annotation.Bean;\r\n    \r\n    @SpringBootApplication\r\n    public class SistemaApplication {\r\n    \r\n        @Bean\r\n        public FilterRegistrationBean getFilterJWT() {\r\n            FilterRegistrationBean frb = new FilterRegistrationBean();\r\n            frb.setFilter(new TokenFilter());\r\n            frb.addUrlPatterns(&quot;/#/*&quot;);\r\n    \r\n            return frb;\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SistemaApplication.class, args);\r\n        }\r\n    }\r\n\r\n\r\nI&#39;ve already tried updating Java, and reconfiguring my project, but without success, I did several searches, but no solution worked, so any help I&#39;d appreciate.\r\n\r\n  [1]: https://i.stack.imgur.com/AgDc4.png\r\n  [2]: https://i.stack.imgur.com/Q36GE.png\r\n  [3]: https://i.stack.imgur.com/W2JzO.png\r\n  [4]: https://i.stack.imgur.com/IO6uN.png","title":"Spring boot error UnsupportedClassVersionError with Intellij","body":"<p>I have an application in Spring Boot with Tomcat.\nI needed to make update in my repository maven, and after this, started with this error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot instantiate interface org.springframework.context.ApplicationContextInitializer : org.springframework.boot.devtools.restart.RestartScopeInitializer\nat org.springframework.boot.SpringApplication.createSpringFactoriesInstances(SpringApplication.java:423)\nat org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:402)\nat org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:393)\nat org.springframework.boot.SpringApplication.initialize(SpringApplication.java:260)\nat org.springframework.boot.SpringApplication.(SpringApplication.java:236)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1162)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1151)\nat br.coopercarga.com.br.SistemacolaborativoApplication.main(SistemaApplication.java:23)</p>\n<p>Caused by: java.lang.UnsupportedClassVersionError: org/springframework/boot/devtools/restart/RestartScopeInitializer has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\nat java.base/java.lang.ClassLoader.defineClass1(Native Method)\nat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\nat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\nat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\nat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\nat org.springframework.util.ClassUtils.forName(ClassUtils.java:250)\nat org.springframework.boot.SpringApplication.createSpringFactoriesInstances(SpringApplication.java:415)\n... 7 more</p>\n</blockquote>\n<p>My java version:</p>\n<p><a href=\"https://i.stack.imgur.com/AgDc4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AgDc4.png\" alt=\"enter image description here\" /></a></p>\n<p>Project Structure:</p>\n<p><a href=\"https://i.stack.imgur.com/Q36GE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q36GE.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/W2JzO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W2JzO.png\" alt=\"enter image description here\" /></a></p>\n<p>My run configuration:</p>\n<p><a href=\"https://i.stack.imgur.com/IO6uN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IO6uN.png\" alt=\"enter image description here\" /></a></p>\n<p>My pom.xml (maven)</p>\n<pre><code>    &lt;groupId&gt;br.xxx.com.br&lt;/groupId&gt;\n&lt;artifactId&gt;sistemacolaborativo&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.1.13.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;12.2.0.jre8&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;version&gt;0.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-catalina-jmx-remote&lt;/artifactId&gt;\n        &lt;version&gt;8.5.75&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n        &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n        &lt;version&gt;6.20.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;!--&lt;version&gt;2.0.0.M6&lt;/version&gt;--&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;5.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\n        &lt;artifactId&gt;jxl&lt;/artifactId&gt;\n        &lt;version&gt;2.6.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;version&gt;6.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;version&gt;6.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;br.coopercarga.com.br&lt;/groupId&gt;\n        &lt;artifactId&gt;sistemacolaborativo&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.transaction-api&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;dom4j&lt;/groupId&gt;\n        &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n        &lt;version&gt;1.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n        &lt;version&gt;1.5.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n        &lt;version&gt;1.5.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n        &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n        &lt;version&gt;13.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>My SistemaApplication.java</p>\n<pre><code>import br.xxxxx.com.br.TokenFilter.TokenFilter;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class SistemaApplication {\n\n    @Bean\n    public FilterRegistrationBean getFilterJWT() {\n        FilterRegistrationBean frb = new FilterRegistrationBean();\n        frb.setFilter(new TokenFilter());\n        frb.addUrlPatterns(&quot;/#/*&quot;);\n\n        return frb;\n    }\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(SistemaApplication.class, args);\n    }\n}\n</code></pre>\n<p>I've already tried updating Java, and reconfiguring my project, but without success, I did several searches, but no solution worked, so any help I'd appreciate.</p>\n"},{"tags":["java","scala","parquet","delta-lake"],"answers":[{"comments":[{"owner":{"account_id":2233958,"reputation":2122,"user_id":1970882,"display_name":"Gooseman"},"score":0,"creation_date":1695589696,"post_id":76297306,"comment_id":136041086,"body_markdown":"For me it was also a big disappointment. I was hoping I was going to be able to create Delta Lake tables with parquet from Sprint Boot. And the Zappy thing seems like a joke...","body":"For me it was also a big disappointment. I was hoping I was going to be able to create Delta Lake tables with parquet from Sprint Boot. And the Zappy thing seems like a joke..."}],"tags":[],"owner":{"account_id":8206960,"reputation":23,"user_id":6176390,"display_name":"Ahmed Riza"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684676459,"creation_date":1684615825,"answer_id":76297306,"question_id":76113226,"body_markdown":"As far as I can tell Delta standalone doesn&#39;t appear to support the actual creation of a Delta Table. From the documentation, we can see they state that:\r\n\r\n&gt; The Delta Standalone library is a single-node Java library that can be used to read from and write to Delta tables\r\n\r\n\r\nThis is a real shame and rather limits the functionality of the standanlone library. For example, if we look at the supported Hive connector, we can see the following in the [README file](https://github.com/delta-io/connectors/blob/master/hive/README.md):\r\n\r\n&gt; Right now the connector supports only EXTERNAL Hive tables. The Delta table must be created using Spark before an external Hive table can reference it.\r\n\r\nHaving said that, you can still use [DeltaTable](https://docs.delta.io/latest/api/java/index.html) to create a table from existing Parquet files and then use Delta standalone to further interact with the table.\r\n\r\n`delta-rs` the Rust implementation has full support for writing Delta Tables and interacting with them. \r\n\r\n","title":"How to create delta table using Delta lake standalone and write data","body":"<p>As far as I can tell Delta standalone doesn't appear to support the actual creation of a Delta Table. From the documentation, we can see they state that:</p>\n<blockquote>\n<p>The Delta Standalone library is a single-node Java library that can be used to read from and write to Delta tables</p>\n</blockquote>\n<p>This is a real shame and rather limits the functionality of the standanlone library. For example, if we look at the supported Hive connector, we can see the following in the <a href=\"https://github.com/delta-io/connectors/blob/master/hive/README.md\" rel=\"nofollow noreferrer\">README file</a>:</p>\n<blockquote>\n<p>Right now the connector supports only EXTERNAL Hive tables. The Delta table must be created using Spark before an external Hive table can reference it.</p>\n</blockquote>\n<p>Having said that, you can still use <a href=\"https://docs.delta.io/latest/api/java/index.html\" rel=\"nofollow noreferrer\">DeltaTable</a> to create a table from existing Parquet files and then use Delta standalone to further interact with the table.</p>\n<p><code>delta-rs</code> the Rust implementation has full support for writing Delta Tables and interacting with them.</p>\n"},{"tags":[],"owner":{"account_id":4896466,"reputation":3034,"user_id":3945932,"display_name":"ptd"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696887596,"creation_date":1696887596,"answer_id":77261904,"question_id":76113226,"body_markdown":"It _is_ possible to create a table using Delta Standalone, but it isn&#39;t obvious how to do it at all. Here is a short Java program that shows how to create a new table:\r\n\r\n```java\r\npackage myproject;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\n\r\nimport io.delta.standalone.DeltaLog;\r\nimport io.delta.standalone.Operation;\r\nimport io.delta.standalone.OptimisticTransaction;\r\nimport io.delta.standalone.actions.Action;\r\nimport io.delta.standalone.actions.AddFile;\r\nimport io.delta.standalone.actions.Metadata;\r\nimport io.delta.standalone.types.StringType;\r\nimport io.delta.standalone.types.StructField;\r\nimport io.delta.standalone.types.StructType;\r\n\r\nimport org.apache.avro.Schema;\r\nimport org.apache.avro.SchemaBuilder;\r\nimport org.apache.avro.generic.GenericData;\r\nimport org.apache.avro.generic.GenericRecord;\r\nimport org.apache.hadoop.conf.Configuration;\r\nimport org.apache.hadoop.fs.Path;\r\nimport org.apache.parquet.avro.AvroParquetWriter;\r\nimport org.apache.parquet.hadoop.ParquetWriter;\r\n\r\npublic class DeltaExample {\r\n    public static void main(final String[] args) throws Exception {\r\n        Schema schema = SchemaBuilder\r\n            .record(&quot;MyRecord&quot;)\r\n            .namespace(&quot;mynamespace&quot;)\r\n            .fields()\r\n            .requiredString(&quot;myfield&quot;)\r\n            .endRecord();\r\n        ParquetWriter&lt;GenericRecord&gt; writer = AvroParquetWriter.&lt;GenericRecord&gt;builder(new Path(&quot;delta/file.parquet&quot;))\r\n            .withSchema(schema)\r\n            .build();\r\n        GenericRecord record = new GenericData.Record(schema);\r\n        record.put(&quot;myfield&quot;, &quot;myvalue&quot;);\r\n        writer.write(record);\r\n        long size = writer.getDataSize();\r\n        writer.close();\r\n        List&lt;Action&gt; actions = List.of(new AddFile(&quot;file.parquet&quot;, new HashMap&lt;String, String&gt;(), size, System.currentTimeMillis(), true, null, null));\r\n        DeltaLog log = DeltaLog.forTable(new Configuration(), &quot;delta&quot;);\r\n        OptimisticTransaction txn = log.startTransaction();\r\n        Metadata metaData = txn.metadata()\r\n            .copyBuilder()\r\n            .partitionColumns(new ArrayList&lt;String&gt;())\r\n            .schema(new StructType()\r\n                    .add(new StructField(&quot;myfield&quot;, new StringType(), true))).build();\r\n        txn.updateMetadata(metaData);\r\n        txn.commit(actions, new Operation(Operation.Name.CREATE_TABLE), &quot;myproject&quot;);\r\n    }\r\n}\r\n```","title":"How to create delta table using Delta lake standalone and write data","body":"<p>It <em>is</em> possible to create a table using Delta Standalone, but it isn't obvious how to do it at all. Here is a short Java program that shows how to create a new table:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package myproject;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\n\nimport io.delta.standalone.DeltaLog;\nimport io.delta.standalone.Operation;\nimport io.delta.standalone.OptimisticTransaction;\nimport io.delta.standalone.actions.Action;\nimport io.delta.standalone.actions.AddFile;\nimport io.delta.standalone.actions.Metadata;\nimport io.delta.standalone.types.StringType;\nimport io.delta.standalone.types.StructField;\nimport io.delta.standalone.types.StructType;\n\nimport org.apache.avro.Schema;\nimport org.apache.avro.SchemaBuilder;\nimport org.apache.avro.generic.GenericData;\nimport org.apache.avro.generic.GenericRecord;\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.parquet.avro.AvroParquetWriter;\nimport org.apache.parquet.hadoop.ParquetWriter;\n\npublic class DeltaExample {\n    public static void main(final String[] args) throws Exception {\n        Schema schema = SchemaBuilder\n            .record(&quot;MyRecord&quot;)\n            .namespace(&quot;mynamespace&quot;)\n            .fields()\n            .requiredString(&quot;myfield&quot;)\n            .endRecord();\n        ParquetWriter&lt;GenericRecord&gt; writer = AvroParquetWriter.&lt;GenericRecord&gt;builder(new Path(&quot;delta/file.parquet&quot;))\n            .withSchema(schema)\n            .build();\n        GenericRecord record = new GenericData.Record(schema);\n        record.put(&quot;myfield&quot;, &quot;myvalue&quot;);\n        writer.write(record);\n        long size = writer.getDataSize();\n        writer.close();\n        List&lt;Action&gt; actions = List.of(new AddFile(&quot;file.parquet&quot;, new HashMap&lt;String, String&gt;(), size, System.currentTimeMillis(), true, null, null));\n        DeltaLog log = DeltaLog.forTable(new Configuration(), &quot;delta&quot;);\n        OptimisticTransaction txn = log.startTransaction();\n        Metadata metaData = txn.metadata()\n            .copyBuilder()\n            .partitionColumns(new ArrayList&lt;String&gt;())\n            .schema(new StructType()\n                    .add(new StructField(&quot;myfield&quot;, new StringType(), true))).build();\n        txn.updateMetadata(metaData);\n        txn.commit(actions, new Operation(Operation.Name.CREATE_TABLE), &quot;myproject&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28425177,"reputation":31,"user_id":21746650,"display_name":"Venom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":831,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696887596,"creation_date":1682527604,"question_id":76113226,"body_markdown":"I am able to read delta table which is created in Amazon S3 using standalone api, but unable to create delta table and insert data to it. In below link for delta lake it is mentioned to use Zappy reader and writer which is fictitious and used as reference.\r\n\r\nI tried using avro parquet writer but ran into issues in getting all the data needed for AddFile object, Could you please share any example for writer which can be used in scala and how to commit meta data to delta table?\r\n\r\nhttps://docs.delta.io/latest/delta-standalone.html#-azure-blob-storage\r\n```\r\nZappyDataFrame correctedSaleIdToTotalCost = ...;\r\nZappyDataFrame invalidSales = ZappyReader.readParquet(filteredFiles);\r\nZappyDataFrame correctedSales = invalidSales.join(correctedSaleIdToTotalCost, &quot;id&quot;)\r\n\r\nZappyWriteResult dataWriteResult = ZappyWritter.writeParquet(&quot;/data/sales&quot;, correctedSales);\r\n```\r\n&quot;Please note that this example uses a fictitious, non-Spark engine Zappy to write the actual parquet data, as Delta Standalone does not provide any data-writing APIs. Instead, Delta Standalone Writer lets you commit metadata to the Delta log after you’ve written your data&quot;\r\n\r\nDependencies used - pom.xml\r\n\r\n```\r\n\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n      &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\r\n      &lt;version&gt;2.12.12&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;io.delta&lt;/groupId&gt;\r\n      &lt;artifactId&gt;delta-standalone_2.12&lt;/artifactId&gt;\r\n      &lt;version&gt;0.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nI tried using avro parquet writer but ran into issues in getting all the data needed for AddFile object, Could you please share any example for writer which can be used in scala and how to commit meta data to delta table?","title":"How to create delta table using Delta lake standalone and write data","body":"<p>I am able to read delta table which is created in Amazon S3 using standalone api, but unable to create delta table and insert data to it. In below link for delta lake it is mentioned to use Zappy reader and writer which is fictitious and used as reference.</p>\n<p>I tried using avro parquet writer but ran into issues in getting all the data needed for AddFile object, Could you please share any example for writer which can be used in scala and how to commit meta data to delta table?</p>\n<p><a href=\"https://docs.delta.io/latest/delta-standalone.html#-azure-blob-storage\" rel=\"nofollow noreferrer\">https://docs.delta.io/latest/delta-standalone.html#-azure-blob-storage</a></p>\n<pre><code>ZappyDataFrame correctedSaleIdToTotalCost = ...;\nZappyDataFrame invalidSales = ZappyReader.readParquet(filteredFiles);\nZappyDataFrame correctedSales = invalidSales.join(correctedSaleIdToTotalCost, &quot;id&quot;)\n\nZappyWriteResult dataWriteResult = ZappyWritter.writeParquet(&quot;/data/sales&quot;, correctedSales);\n</code></pre>\n<p>&quot;Please note that this example uses a fictitious, non-Spark engine Zappy to write the actual parquet data, as Delta Standalone does not provide any data-writing APIs. Instead, Delta Standalone Writer lets you commit metadata to the Delta log after you’ve written your data&quot;</p>\n<p>Dependencies used - pom.xml</p>\n<pre><code>\n &lt;dependency&gt;\n      &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n      &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n      &lt;version&gt;2.12.12&lt;/version&gt;\n  &lt;/dependency&gt;\n\n &lt;dependency&gt;\n      &lt;groupId&gt;io.delta&lt;/groupId&gt;\n      &lt;artifactId&gt;delta-standalone_2.12&lt;/artifactId&gt;\n      &lt;version&gt;0.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n      &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n      &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I tried using avro parquet writer but ran into issues in getting all the data needed for AddFile object, Could you please share any example for writer which can be used in scala and how to commit meta data to delta table?</p>\n"},{"tags":["java","node.js","encryption","cryptography","node-crypto"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696887453,"post_id":77261556,"comment_id":136208068,"body_markdown":"Why? Why not just use SSL?","body":"Why? Why not just use SSL?"},{"owner":{"account_id":17116762,"reputation":292,"user_id":12386060,"display_name":"Shiladitya Thakur"},"score":0,"creation_date":1696909273,"post_id":77261556,"comment_id":136209630,"body_markdown":"Application already uses TLS and HTTPS but I need to use hybrid encryption also","body":"Application already uses TLS and HTTPS but I need to use hybrid encryption also"},{"owner":{"account_id":2527500,"reputation":7300,"user_id":2196561,"display_name":"Ebbe M. Pedersen"},"score":0,"creation_date":1696926949,"post_id":77261556,"comment_id":136211843,"body_markdown":"So conceptual, what are you trying to solve, that TLS don&#39;t solve ?","body":"So conceptual, what are you trying to solve, that TLS don&#39;t solve ?"},{"owner":{"account_id":17116762,"reputation":292,"user_id":12386060,"display_name":"Shiladitya Thakur"},"score":0,"creation_date":1696947949,"post_id":77261556,"comment_id":136216049,"body_markdown":"Https connection is already there but security team needs all forms to be encrypted with aes gcm. The application is a high risk application so I can&#39;t simply make the aes key visible on frontend. That&#39;s why I need to encrypt the aes key with RSA public key and send the encrypted aes key to backend. I&#39;m not doing full RSA encryption because if content was big, then RSA encryption would take more time than aes gcm.","body":"Https connection is already there but security team needs all forms to be encrypted with aes gcm. The application is a high risk application so I can&#39;t simply make the aes key visible on frontend. That&#39;s why I need to encrypt the aes key with RSA public key and send the encrypted aes key to backend. I&#39;m not doing full RSA encryption because if content was big, then RSA encryption would take more time than aes gcm."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1696948833,"post_id":77261556,"comment_id":136216243,"body_markdown":"Is i82B... a ciphertext generated with the posted JavaScript? Why does this contain blanks and line breaks? Please post the unmodified Base64 string (e.g. between two slanted single quotes: ``).","body":"Is i82B... a ciphertext generated with the posted JavaScript? Why does this contain blanks and line breaks? Please post the unmodified Base64 string (e.g. between two slanted single quotes: ``)."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1696949607,"post_id":77261556,"comment_id":136216423,"body_markdown":"It is striking that no `+` are contained. This can be by chance, of course, or however the data is changed/corrupted by some post-processing (encoding, messaging, etc.). Maybe you need a Base64url encoding or a URL-encoding.","body":"It is striking that no <code>+</code> are contained. This can be by chance, of course, or however the data is changed/corrupted by some post-processing (encoding, messaging, etc.). Maybe you need a Base64url encoding or a URL-encoding."},{"owner":{"account_id":17116762,"reputation":292,"user_id":12386060,"display_name":"Shiladitya Thakur"},"score":0,"creation_date":1696954067,"post_id":77261556,"comment_id":136217354,"body_markdown":"That is what is surprising me. i82B... is the final encrypted string from  aesGCMWithRSAEncryption() which is basically the base64 string of the byte array of encryptedKey l salt | iv | aesEncryptedText | tag. I picked it from the logs of the Java backend. Even though I put validation for checking base64 string, it somehow gets bypassed for times when the string has space and linebreak. The resulting base64 string gets added onto a hidden input field of form and the form is submitted to backend.","body":"That is what is surprising me. i82B... is the final encrypted string from  aesGCMWithRSAEncryption() which is basically the base64 string of the byte array of encryptedKey l salt | iv | aesEncryptedText | tag. I picked it from the logs of the Java backend. Even though I put validation for checking base64 string, it somehow gets bypassed for times when the string has space and linebreak. The resulting base64 string gets added onto a hidden input field of form and the form is submitted to backend."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1696955900,"post_id":77261556,"comment_id":136217715,"body_markdown":"The problem is obviously not the posted code, but is caused by some other detail of your environment. With this information here, the problem probably can&#39;t be identified. One possibility would be to use Base64url (instead of Base64) on the off chance. Or more systematically, follow the path of the data and see at which step the corruption occurs.","body":"The problem is obviously not the posted code, but is caused by some other detail of your environment. With this information here, the problem probably can&#39;t be identified. One possibility would be to use Base64url (instead of Base64) on the off chance. Or more systematically, follow the path of the data and see at which step the corruption occurs."}],"owner":{"account_id":17116762,"reputation":292,"user_id":12386060,"display_name":"Shiladitya Thakur"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1696887416,"creation_date":1696882682,"question_id":77261556,"body_markdown":"I have a java backend application that serves jsp for the frontend. This application has several form pages. On submission of a form, the frontend form data would be encrypted with aes 256 gcm and the aes key (generated using pbkdf2 on frontend) would be encrypted with RSA public key. The encrypted key, salt, iv, encryptedContent and tag would be added to buffer and converted to Base64 string. The RSA key pair is generated by Java using KeyPairGenerator class and the public key is sent to frontend.\r\n\r\nThis is more of a conceptual question perhaps because encryption seems to work sometimes and sometimes it fails, that to it can happen on any of the form page randomly which makes the user restart whole process. It would be immensely helpful if someone can please tell me what am I missing here exactly to make it work 100% of the time.\r\n\r\nFrontend code:\r\n\r\n    const crypto = require(&#39;crypto&#39;);\r\n    \r\n    const cryptoConfig = {\r\n      cipherAlgorithm: &#39;aes-256-gcm&#39;,\r\n      iterations: 64000,\r\n      keyLength: 32,\r\n      saltLength: 16,\r\n      ivLength: 12,\r\n      tagLength: 16,\r\n      digest: &#39;sha512&#39;\r\n    };\r\n    \r\n    function aesGCMEncrypt(content, windowId) {\r\n      const salt = crypto.randomBytes(cryptoConfig.saltLength);\r\n      const iv = crypto.randomBytes(cryptoConfig.ivLength);\r\n      const aesKey = crypto.pbkdf2Sync(windowId, salt, cryptoConfig.iterations, cryptoConfig.keyLength, cryptoConfig.digest);\r\n      \r\n    \r\n      const aesKeyB64 = aesKey.toString(&#39;base64&#39;);\r\n      const cipher = crypto.createCipheriv(cryptoConfig.cipherAlgorithm, aesKey, iv);\r\n    \r\n      const encrypted = Buffer.concat([cipher.update(content, &#39;utf8&#39;), cipher.final()]);\r\n      const tag = cipher.getAuthTag();\r\n    \r\n      return { encrypted, salt, iv, tag, aesKeyB64 };\r\n    }\r\n    \r\n    \r\n    function createBuffer(key, salt, iv, encrypted, tag){\r\n      const concatenatedBuffer = Buffer.concat([key, salt, iv, encrypted, tag]);\r\n      return concatenatedBuffer.toString(&#39;base64&#39;);\r\n    }\r\n    \r\n    function convertBase64ToPem(base64PublicKey, keyType) {\r\n      const prefix = `-----BEGIN ${keyType} KEY-----\\n`;\r\n      const postfix = `\\n-----END ${keyType} KEY-----`;\r\n      const base64Lines = base64PublicKey.match(/.{1,64}/g);\r\n      if (base64Lines) {\r\n        const pem = base64Lines.join(&#39;\\n&#39;);\r\n        return `${prefix}${pem}${postfix}`;\r\n      }\r\n      return null;\r\n    }\r\n    \r\n    function encryptWithPublicKey (toEncrypt, pubKey) {\r\n      console.log(&quot;toEncrypt -&gt; &quot;,toEncrypt)\r\n      console.log(&quot;pubKey -&gt; &quot;,pubKey)\r\n      var buffer = Buffer.from(toEncrypt, &#39;utf8&#39;);\r\n      var encrypted = crypto.publicEncrypt({key:pubKey, padding : crypto.constants.RSA_PKCS1_PADDING}, buffer)\r\n      return  encrypted.toString(&quot;base64&quot;); \r\n    }\r\n    \r\n    const b64Check = (b64String) =&gt; {\r\n      return b64String === (btoa(atob(b64String)))\r\n    }\r\n    \r\n    \r\n    const aesGCMWithRSAEncryption = (content, windowId, publicKey) =&gt; {\r\n      let result = null;\r\n      while (!result){debugger;\r\n        try {\r\n          const { encrypted, salt, iv, tag, aesKeyB64 } = aesGCMEncrypt(content, windowId);\r\n          let encryptedAesKey = encryptWithPublicKey(aesKeyB64, convertBase64ToPem(publicKey, &quot;PUBLIC&quot;))\r\n          encryptedAesKey = Buffer.from(encryptedAesKey, &#39;base64&#39;)\r\n          const b64EncString = createBuffer(encryptedAesKey, salt, iv, encrypted, tag) \r\n          if (b64Check(b64EncString)){\r\n            result = b64EncString\r\n          }\r\n        }\r\n        catch(err){ \r\n          continue\r\n        }   \r\n      }\r\n      return result  \r\n    }\r\n    \r\n    const aesGCMWithRSAEncryptionTest = (str) =&gt; {\r\n      let i = 0\r\n      while (i == 0){\r\n        try {\r\n          \r\n          if (b64Check(str)){\r\n            i++\r\n          }\r\n        }\r\n        catch(err){ \r\n          console.log\r\n          continue\r\n        }   \r\n      }\r\n      return result\r\n      \r\n    }\r\n    \r\n    const publicKey = &quot;MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCmx4wNRE9D/qg/aeYBTBNzTIFptEQBVU9+DOqOBf4ohNAYjWWIUk7fM3HJD2gSQHcP3zwHOF4mfGTVS7ejw7ip1sCL1qzpBMKlJw0XaEwuyigXeshTGbUVCyIXcavdvxuqiko3R92bDoAIpylOAvLtAXjjEJbwVcnAm95v5qF04wIDAQAB&quot;\r\n    const content = &quot;{\\&quot;windowID\\&quot;:\\&quot;MTIz5NDQwOQ==\\&quot;}&quot;;\r\n    const windowId = &quot;123456789&quot;;\r\n    const str = aesGCMWithRSAEncryption(content, windowId, publicKey)\r\n    console.log(&quot;result -&gt; &quot;,str)\r\n    \r\n    \r\n    module.exports = {\r\n      aesGCMWithRSAEncryption: aesGCMWithRSAEncryption\r\n    }\r\n\r\n\r\nWhat I tried to do above is post encryption, if the encrypted string turns out to not to be a valid base64 string then go through the whole encryption process again.\r\nBut during testing, I got below base64 string which apparently reached backend and caused the application to fail giving an error \r\n\r\n    java.lang.IllegalArgumentException: Last unit does not have enough valid bits\r\n\r\n**Invalid base64 string**\r\n\r\n    i82BsXc8DRypceSt44pLm5jWxuzFXcW5er50Rr0wkxIvXcoj\r\n    AAJ0wpsfRL7SUcIfOnJIcLwcU5/9KM3DXP7m0piOCRon0xlUNUn7G KBFQs2JRNH6ZwR3v\r\n    /7lQZWQ0MMSGxvey87pJvGxQUhfdkf4466HMSdtAY5p6kHaKaz4mRKD8UnLFJ\r\n    3m487kVtE5UGrblbrtSGczQK/ zvFNwAEIHpegbt298hQ\r\n    YbsYF1stCe7YbK7oi3QRebBstwl  OyaPAkgeuno9EMrUBMrVBLSD1sT3bFeA5O8NF/3\r\n    k/Wyj2dLIbIBhe4ge2ZlyQJNKAMkQ==\r\n\r\n\r\nI tried to run the string on the test function aesGCMWithRSAEncryptionTest(str) and the base64Check() did throw an exception which got caught by catch block so the application during actual testing time should have had been caught also.\r\n\r\nI can provide more details if required but can anyone please explain me what&#39;s going wrong here? How can I resolve this?","title":"Hybrid encryption of RSA with AES is working yet it fails randomly at times","body":"<p>I have a java backend application that serves jsp for the frontend. This application has several form pages. On submission of a form, the frontend form data would be encrypted with aes 256 gcm and the aes key (generated using pbkdf2 on frontend) would be encrypted with RSA public key. The encrypted key, salt, iv, encryptedContent and tag would be added to buffer and converted to Base64 string. The RSA key pair is generated by Java using KeyPairGenerator class and the public key is sent to frontend.</p>\n<p>This is more of a conceptual question perhaps because encryption seems to work sometimes and sometimes it fails, that to it can happen on any of the form page randomly which makes the user restart whole process. It would be immensely helpful if someone can please tell me what am I missing here exactly to make it work 100% of the time.</p>\n<p>Frontend code:</p>\n<pre><code>const crypto = require('crypto');\n\nconst cryptoConfig = {\n  cipherAlgorithm: 'aes-256-gcm',\n  iterations: 64000,\n  keyLength: 32,\n  saltLength: 16,\n  ivLength: 12,\n  tagLength: 16,\n  digest: 'sha512'\n};\n\nfunction aesGCMEncrypt(content, windowId) {\n  const salt = crypto.randomBytes(cryptoConfig.saltLength);\n  const iv = crypto.randomBytes(cryptoConfig.ivLength);\n  const aesKey = crypto.pbkdf2Sync(windowId, salt, cryptoConfig.iterations, cryptoConfig.keyLength, cryptoConfig.digest);\n  \n\n  const aesKeyB64 = aesKey.toString('base64');\n  const cipher = crypto.createCipheriv(cryptoConfig.cipherAlgorithm, aesKey, iv);\n\n  const encrypted = Buffer.concat([cipher.update(content, 'utf8'), cipher.final()]);\n  const tag = cipher.getAuthTag();\n\n  return { encrypted, salt, iv, tag, aesKeyB64 };\n}\n\n\nfunction createBuffer(key, salt, iv, encrypted, tag){\n  const concatenatedBuffer = Buffer.concat([key, salt, iv, encrypted, tag]);\n  return concatenatedBuffer.toString('base64');\n}\n\nfunction convertBase64ToPem(base64PublicKey, keyType) {\n  const prefix = `-----BEGIN ${keyType} KEY-----\\n`;\n  const postfix = `\\n-----END ${keyType} KEY-----`;\n  const base64Lines = base64PublicKey.match(/.{1,64}/g);\n  if (base64Lines) {\n    const pem = base64Lines.join('\\n');\n    return `${prefix}${pem}${postfix}`;\n  }\n  return null;\n}\n\nfunction encryptWithPublicKey (toEncrypt, pubKey) {\n  console.log(&quot;toEncrypt -&gt; &quot;,toEncrypt)\n  console.log(&quot;pubKey -&gt; &quot;,pubKey)\n  var buffer = Buffer.from(toEncrypt, 'utf8');\n  var encrypted = crypto.publicEncrypt({key:pubKey, padding : crypto.constants.RSA_PKCS1_PADDING}, buffer)\n  return  encrypted.toString(&quot;base64&quot;); \n}\n\nconst b64Check = (b64String) =&gt; {\n  return b64String === (btoa(atob(b64String)))\n}\n\n\nconst aesGCMWithRSAEncryption = (content, windowId, publicKey) =&gt; {\n  let result = null;\n  while (!result){debugger;\n    try {\n      const { encrypted, salt, iv, tag, aesKeyB64 } = aesGCMEncrypt(content, windowId);\n      let encryptedAesKey = encryptWithPublicKey(aesKeyB64, convertBase64ToPem(publicKey, &quot;PUBLIC&quot;))\n      encryptedAesKey = Buffer.from(encryptedAesKey, 'base64')\n      const b64EncString = createBuffer(encryptedAesKey, salt, iv, encrypted, tag) \n      if (b64Check(b64EncString)){\n        result = b64EncString\n      }\n    }\n    catch(err){ \n      continue\n    }   \n  }\n  return result  \n}\n\nconst aesGCMWithRSAEncryptionTest = (str) =&gt; {\n  let i = 0\n  while (i == 0){\n    try {\n      \n      if (b64Check(str)){\n        i++\n      }\n    }\n    catch(err){ \n      console.log\n      continue\n    }   \n  }\n  return result\n  \n}\n\nconst publicKey = &quot;MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCmx4wNRE9D/qg/aeYBTBNzTIFptEQBVU9+DOqOBf4ohNAYjWWIUk7fM3HJD2gSQHcP3zwHOF4mfGTVS7ejw7ip1sCL1qzpBMKlJw0XaEwuyigXeshTGbUVCyIXcavdvxuqiko3R92bDoAIpylOAvLtAXjjEJbwVcnAm95v5qF04wIDAQAB&quot;\nconst content = &quot;{\\&quot;windowID\\&quot;:\\&quot;MTIz5NDQwOQ==\\&quot;}&quot;;\nconst windowId = &quot;123456789&quot;;\nconst str = aesGCMWithRSAEncryption(content, windowId, publicKey)\nconsole.log(&quot;result -&gt; &quot;,str)\n\n\nmodule.exports = {\n  aesGCMWithRSAEncryption: aesGCMWithRSAEncryption\n}\n</code></pre>\n<p>What I tried to do above is post encryption, if the encrypted string turns out to not to be a valid base64 string then go through the whole encryption process again.\nBut during testing, I got below base64 string which apparently reached backend and caused the application to fail giving an error</p>\n<pre><code>java.lang.IllegalArgumentException: Last unit does not have enough valid bits\n</code></pre>\n<p><strong>Invalid base64 string</strong></p>\n<pre><code>i82BsXc8DRypceSt44pLm5jWxuzFXcW5er50Rr0wkxIvXcoj\nAAJ0wpsfRL7SUcIfOnJIcLwcU5/9KM3DXP7m0piOCRon0xlUNUn7G KBFQs2JRNH6ZwR3v\n/7lQZWQ0MMSGxvey87pJvGxQUhfdkf4466HMSdtAY5p6kHaKaz4mRKD8UnLFJ\n3m487kVtE5UGrblbrtSGczQK/ zvFNwAEIHpegbt298hQ\nYbsYF1stCe7YbK7oi3QRebBstwl  OyaPAkgeuno9EMrUBMrVBLSD1sT3bFeA5O8NF/3\nk/Wyj2dLIbIBhe4ge2ZlyQJNKAMkQ==\n</code></pre>\n<p>I tried to run the string on the test function aesGCMWithRSAEncryptionTest(str) and the base64Check() did throw an exception which got caught by catch block so the application during actual testing time should have had been caught also.</p>\n<p>I can provide more details if required but can anyone please explain me what's going wrong here? How can I resolve this?</p>\n"},{"tags":["java","static","static-methods","non-static"],"answers":[{"comments":[{"owner":{"account_id":1624434,"reputation":1605,"user_id":1500291,"accept_rate":88,"display_name":"Panthy"},"score":2,"creation_date":1345142181,"post_id":11993118,"comment_id":15993941,"body_markdown":"thank you very much for the code examples they look familiar so i understand now","body":"thank you very much for the code examples they look familiar so i understand now"},{"owner":{"account_id":1249558,"reputation":5689,"user_id":1210260,"accept_rate":71,"display_name":"gobernador"},"score":6,"creation_date":1345142487,"post_id":11993118,"comment_id":15994060,"body_markdown":"@Rohan Another good way of looking at it is that anything `static`(a class, method, or field) doesn&#39;t really belong to anything, it just hangs out in the class for organizational purposes.","body":"@Rohan Another good way of looking at it is that anything <code>static</code>(a class, method, or field) doesn&#39;t really belong to anything, it just hangs out in the class for organizational purposes."},{"owner":{"account_id":2810382,"reputation":400,"user_id":2416728,"accept_rate":48,"display_name":"user2416728"},"score":2,"creation_date":1372659479,"post_id":11993118,"comment_id":25261529,"body_markdown":"in addition static fields are used as data objects(one which holds the data and therefore cant change but you can manipulate data inside it.).Static methods can only be called upon static fields and henceforth carries the same notion of staying constant or not changeing or not instantiating !!","body":"in addition static fields are used as data objects(one which holds the data and therefore cant change but you can manipulate data inside it.).Static methods can only be called upon static fields and henceforth carries the same notion of staying constant or not changeing or not instantiating !!"},{"owner":{"account_id":198346,"reputation":20665,"user_id":442945,"accept_rate":77,"display_name":"Nathaniel Ford"},"score":3,"creation_date":1372695896,"post_id":11993118,"comment_id":25280211,"body_markdown":"@user2416728 Your comment is very confused. Static fields *can* be changed, but their scope is global to their execution environment. Therefore, any code that has access to said field has access to the same data. This is not equivalent to that data staying constant (unless a &#39;final&#39; modifier is used).","body":"@user2416728 Your comment is very confused. Static fields <i>can</i> be changed, but their scope is global to their execution environment. Therefore, any code that has access to said field has access to the same data. This is not equivalent to that data staying constant (unless a &#39;final&#39; modifier is used)."},{"owner":{"account_id":2810382,"reputation":400,"user_id":2416728,"accept_rate":48,"display_name":"user2416728"},"score":2,"creation_date":1372753105,"post_id":11993118,"comment_id":25300372,"body_markdown":"aye,&quot;not change&quot; &gt;&gt; i meant cannot be instantiated !!","body":"aye,&quot;not change&quot; &gt;&gt; i meant cannot be instantiated !!"}],"tags":[],"owner":{"account_id":198346,"reputation":20665,"user_id":442945,"accept_rate":77,"display_name":"Nathaniel Ford"},"comment_count":5,"down_vote_count":0,"up_vote_count":188,"is_accepted":true,"score":188,"last_activity_date":1643733761,"creation_date":1345141130,"answer_id":11993118,"question_id":11993077,"body_markdown":"The basic paradigm in Java is that you write classes, and that those classes are instantiated. Instantiated objects (an instance of a class) have attributes associated with them (member variables) that affect their behavior; when the instance has its method executed it will refer to these variables.\r\n\r\nHowever, all objects of a particular type might have behavior that is not dependent at all on member variables; these methods are best made static. By being static, no instance of the class is required to run the method.\r\n\r\nYou can do this to execute a static method:\r\n\r\n    MyClass.staticMethod();  // Simply refers to the class&#39;s static code\r\n\r\nBut to execute a non-static method, you must do this:\r\n\r\n    MyClass obj = new MyClass();  //Create an instance\r\n    obj.nonstaticMethod();  // Refer to the instance&#39;s class&#39;s code\r\n\r\nOn a deeper level the compiler, when it puts a class together, collects pointers to methods and attaches them to the class. When those methods are executed it follows the pointers and executes the code at the far end. If a class is instantiated, the created object contains a pointer to the &quot;virtual method table&quot;, which points to the methods to be called for that particular class in the inheritance hierarchy. However, if the method is static, no &quot;virtual method table&quot; is needed: all calls to that method go to the exact same place in memory to execute the exact same code. For that reason, in high-performance systems it&#39;s better to use a static method if you are not reliant on instance variables.","title":"Difference between Static methods and Instance methods","body":"<p>The basic paradigm in Java is that you write classes, and that those classes are instantiated. Instantiated objects (an instance of a class) have attributes associated with them (member variables) that affect their behavior; when the instance has its method executed it will refer to these variables.</p>\n<p>However, all objects of a particular type might have behavior that is not dependent at all on member variables; these methods are best made static. By being static, no instance of the class is required to run the method.</p>\n<p>You can do this to execute a static method:</p>\n<pre><code>MyClass.staticMethod();  // Simply refers to the class's static code\n</code></pre>\n<p>But to execute a non-static method, you must do this:</p>\n<pre><code>MyClass obj = new MyClass();  //Create an instance\nobj.nonstaticMethod();  // Refer to the instance's class's code\n</code></pre>\n<p>On a deeper level the compiler, when it puts a class together, collects pointers to methods and attaches them to the class. When those methods are executed it follows the pointers and executes the code at the far end. If a class is instantiated, the created object contains a pointer to the &quot;virtual method table&quot;, which points to the methods to be called for that particular class in the inheritance hierarchy. However, if the method is static, no &quot;virtual method table&quot; is needed: all calls to that method go to the exact same place in memory to execute the exact same code. For that reason, in high-performance systems it's better to use a static method if you are not reliant on instance variables.</p>\n"},{"tags":[],"owner":{"account_id":1598494,"reputation":5037,"user_id":1480052,"accept_rate":72,"display_name":"praxmon"},"comment_count":0,"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1345141213,"creation_date":1345141213,"answer_id":11993143,"question_id":11993077,"body_markdown":"The static modifier when placed in front of a function implies that only one copy of that function exists. If the static modifier is not placed in front of the function then with every object or instance of that class a new copy of that function is made. :)\r\nSame is the case with variables.","title":"Difference between Static methods and Instance methods","body":"<p>The static modifier when placed in front of a function implies that only one copy of that function exists. If the static modifier is not placed in front of the function then with every object or instance of that class a new copy of that function is made. :)\nSame is the case with variables.</p>\n"},{"tags":[],"owner":{"account_id":1170165,"reputation":23155,"user_id":1147529,"accept_rate":95,"display_name":"Paulius Matulionis"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1345141452,"creation_date":1345141452,"answer_id":11993209,"question_id":11993077,"body_markdown":"Static methods, variables belongs to the whole class, not just an object instance. A static method, variable is associated with the class as a whole rather than with specific instances of a class. Each object will share a common copy of the static methods, variables. There is only one copy per class, no matter how many objects are created from it.","title":"Difference between Static methods and Instance methods","body":"<p>Static methods, variables belongs to the whole class, not just an object instance. A static method, variable is associated with the class as a whole rather than with specific instances of a class. Each object will share a common copy of the static methods, variables. There is only one copy per class, no matter how many objects are created from it.</p>\n"},{"tags":[],"owner":{"account_id":6568832,"reputation":191,"user_id":5077562,"display_name":"Khalid Ahmed Khichi"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1457352370,"creation_date":1435922666,"answer_id":31205688,"question_id":11993077,"body_markdown":"Methods and variables that are not declared as static are known as instance methods and instance variables. To refer to instance methods and variables, you must instantiate the class first means you should create an object of that class first.For static you don&#39;t need to instantiate the class u can access the methods and variables with the class name using period sign which is in (.)\r\n\r\n**for example:**\r\n\r\n    Person.staticMethod();           //accessing static method.\r\n\r\nfor non-static method you must instantiate the class.\r\n\r\n    Person person1 = new Person();   //instantiating\r\n    person1.nonStaticMethod();       //accessing non-static method.\r\n\r\n","title":"Difference between Static methods and Instance methods","body":"<p>Methods and variables that are not declared as static are known as instance methods and instance variables. To refer to instance methods and variables, you must instantiate the class first means you should create an object of that class first.For static you don't need to instantiate the class u can access the methods and variables with the class name using period sign which is in (.)</p>\n\n<p><strong>for example:</strong></p>\n\n<pre><code>Person.staticMethod();           //accessing static method.\n</code></pre>\n\n<p>for non-static method you must instantiate the class.</p>\n\n<pre><code>Person person1 = new Person();   //instantiating\nperson1.nonStaticMethod();       //accessing non-static method.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7971702,"reputation":381,"user_id":6016143,"display_name":"Vishal Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485908410,"creation_date":1461044149,"answer_id":36709436,"question_id":11993077,"body_markdown":"The behavior of an object depends on the variables and the methods of that class. When we create a class we create an object for it. For static methods, we don&#39;t require them as static methods means all the objects will have the same copy so there is no need of an object.\r\ne.g:\r\n\r\n    Myclass.get();\r\n\r\nIn instance method each object will have different behaviour so they have to call the method using the object instance.\r\ne.g:\r\n    \r\n    Myclass x = new Myclass();\r\n    x.get();","title":"Difference between Static methods and Instance methods","body":"<p>The behavior of an object depends on the variables and the methods of that class. When we create a class we create an object for it. For static methods, we don't require them as static methods means all the objects will have the same copy so there is no need of an object.\ne.g:</p>\n\n<pre><code>Myclass.get();\n</code></pre>\n\n<p>In instance method each object will have different behaviour so they have to call the method using the object instance.\ne.g:</p>\n\n<pre><code>Myclass x = new Myclass();\nx.get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8845091,"reputation":469,"user_id":6606123,"display_name":"suketup"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471306834,"creation_date":1471306834,"answer_id":38964853,"question_id":11993077,"body_markdown":"If state of a method is not supposed to be changed or its not going to use any instance variables.\r\n\r\nYou want to call method without instance.\r\n\r\nIf it only works on arguments provided to it.\r\n\r\nUtility functions are good instance of static methods. i.e math.pow(), this function is not going to change the state for different values. So it is static.\r\n\r\n","title":"Difference between Static methods and Instance methods","body":"<p>If state of a method is not supposed to be changed or its not going to use any instance variables.</p>\n\n<p>You want to call method without instance.</p>\n\n<p>If it only works on arguments provided to it.</p>\n\n<p>Utility functions are good instance of static methods. i.e math.pow(), this function is not going to change the state for different values. So it is static.</p>\n"},{"tags":[],"owner":{"account_id":8408026,"reputation":774,"user_id":6310938,"display_name":"Eldiyar Talantbek"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1471898013,"creation_date":1471880107,"answer_id":39083542,"question_id":11993077,"body_markdown":"**Instance methods** =&gt; invoked on specific instance of a specific class. Method wants to know upon which class it was invoked. The way it happens there is a invisible parameter called &#39;this&#39;. Inside of &#39;this&#39; we have members of instance class already set with values. &#39;This&#39; is not a variable. It&#39;s a value, you cannot change it and the value is reference to the receiver of the call.\n**Ex:** You call repairmen(instance method) to fix your TV(actual program). He comes with tools(&#39;this&#39; parameter). He comes with specific tools needed for fixing TV and he can fix other things also.\n\n  In **static methods** =&gt; there is no such thing as &#39;this&#39;. \n**Ex:** The same repairman (static method). When you call him you have to specify which repairman to call(like electrician). And he will come and fix your TV only. But, he doesn&#39;t have tools to fix other things (there is no &#39;this&#39; parameter). \n\n**Static methods** are usually useful for operations that don&#39;t require any data from an instance of the class (from&#160;&#39;this&#39;) and can perform their intended purpose solely using their arguments.\n","title":"Difference between Static methods and Instance methods","body":"<p><strong>Instance methods</strong> =&gt; invoked on specific instance of a specific class. Method wants to know upon which class it was invoked. The way it happens there is a invisible parameter called 'this'. Inside of 'this' we have members of instance class already set with values. 'This' is not a variable. It's a value, you cannot change it and the value is reference to the receiver of the call.\n<strong>Ex:</strong> You call repairmen(instance method) to fix your TV(actual program). He comes with tools('this' parameter). He comes with specific tools needed for fixing TV and he can fix other things also.</p>\n<p>In <strong>static methods</strong> =&gt; there is no such thing as 'this'.\n<strong>Ex:</strong> The same repairman (static method). When you call him you have to specify which repairman to call(like electrician). And he will come and fix your TV only. But, he doesn't have tools to fix other things (there is no 'this' parameter).</p>\n<p><strong>Static methods</strong> are usually useful for operations that don't require any data from an instance of the class (from 'this') and can perform their intended purpose solely using their arguments.</p>\n"},{"tags":[],"owner":{"account_id":9008999,"reputation":3612,"user_id":6714430,"display_name":"rashedcs"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1491157779,"creation_date":1491157074,"answer_id":43171873,"question_id":11993077,"body_markdown":"Difference between Static methods and Instance methods\r\n------------------------------------------------------\r\n\r\n 1. Instance method are methods which require an object of its class to be created before it can be called. Static methods are the methods in Java that can be called without creating an object of class.\r\n\r\n 1. Static method is  declared with static keyword. Instance method is not with static keyword.\r\n  \r\n 2. Static method means which will exist as a single copy for a class. But instance methods exist as multiple copies depending on the number of instances created for that class. \r\n\r\n 3. Static methods can be invoked by using class reference. Instance or non static methods are invoked by using object reference. \r\n\r\n 4. Static methods can’t access instance methods and instance variables directly. Instance method can access static variables and static methods directly.\r\n\r\n\r\nReference : [geeksforgeeks][1]\r\n\r\n\r\n  [1]: http://www.geeksforgeeks.org/static-methods-vs-instance-methods-java/","title":"Difference between Static methods and Instance methods","body":"<h2>Difference between Static methods and Instance methods</h2>\n\n<ol>\n<li><p>Instance method are methods which require an object of its class to be created before it can be called. Static methods are the methods in Java that can be called without creating an object of class.</p></li>\n<li><p>Static method is  declared with static keyword. Instance method is not with static keyword.</p></li>\n<li><p>Static method means which will exist as a single copy for a class. But instance methods exist as multiple copies depending on the number of instances created for that class. </p></li>\n<li><p>Static methods can be invoked by using class reference. Instance or non static methods are invoked by using object reference. </p></li>\n<li><p>Static methods can’t access instance methods and instance variables directly. Instance method can access static variables and static methods directly.</p></li>\n</ol>\n\n<p>Reference : <a href=\"http://www.geeksforgeeks.org/static-methods-vs-instance-methods-java/\" rel=\"noreferrer\">geeksforgeeks</a></p>\n"},{"tags":[],"owner":{"account_id":8434389,"reputation":378,"user_id":6328971,"accept_rate":27,"display_name":"Prakash"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1498105632,"creation_date":1498105632,"answer_id":44690140,"question_id":11993077,"body_markdown":"In short, static methods and static variables are class level where as instance methods and instance variables are instance or object level.\r\n\r\n This means whenever a instance or object (using new ClassName()) is created, this object will retain its own copy of instace variables. If you have five different objects of same class, you will have five different copies of the instance variables. But the static variables and methods will be the same for all those five objects. If you need something common to be used by each object created make it static. If you need a method which won&#39;t need object specific data to work, make it static. The static method will only work with static variable or will return data on the basis of passed arguments.\r\n\r\n    class A {\r\n        int a;\r\n        int b;\r\n        \r\n        public void setParameters(int a, int b){\r\n            this.a = a;\r\n            this.b = b;\r\n        }\r\n        public int add(){\r\n            return this.a + this.b;\r\n       }\r\n    \r\n        public static returnSum(int s1, int s2){\r\n            return (s1 + s2);\r\n        }\r\n    }\r\n\r\nIn the above example, when you call add() as:\r\n\r\n    A objA = new A();\r\n    objA.setParameters(1,2); //since it is instance method, call it using object\r\n    objA.add(); // returns 3 \r\n    \r\n    B objB = new B();\r\n    objB.setParameters(3,2);\r\n    objB.add(); // returns 5\r\n    \r\n    //calling static method\r\n    // since it is a class level method, you can call it using class itself\r\n    A.returnSum(4,6); //returns 10\r\n    \r\n    class B{\r\n        int s=8;\r\n        int t = 8;\r\n        public addition(int s,int t){\r\n           A.returnSum(s,t);//returns 16\r\n        }\r\n    }\r\n\r\nIn first class, add() will return the sum of data passed by a specific object. But the static method can be used to get the sum from any class not independent if any specific instance or object. Hence, for generic methods which only need arguments to work can be made static to keep it all DRY.\r\n","title":"Difference between Static methods and Instance methods","body":"<p>In short, static methods and static variables are class level where as instance methods and instance variables are instance or object level.</p>\n\n<p>This means whenever a instance or object (using new ClassName()) is created, this object will retain its own copy of instace variables. If you have five different objects of same class, you will have five different copies of the instance variables. But the static variables and methods will be the same for all those five objects. If you need something common to be used by each object created make it static. If you need a method which won't need object specific data to work, make it static. The static method will only work with static variable or will return data on the basis of passed arguments.</p>\n\n<pre><code>class A {\n    int a;\n    int b;\n\n    public void setParameters(int a, int b){\n        this.a = a;\n        this.b = b;\n    }\n    public int add(){\n        return this.a + this.b;\n   }\n\n    public static returnSum(int s1, int s2){\n        return (s1 + s2);\n    }\n}\n</code></pre>\n\n<p>In the above example, when you call add() as:</p>\n\n<pre><code>A objA = new A();\nobjA.setParameters(1,2); //since it is instance method, call it using object\nobjA.add(); // returns 3 \n\nB objB = new B();\nobjB.setParameters(3,2);\nobjB.add(); // returns 5\n\n//calling static method\n// since it is a class level method, you can call it using class itself\nA.returnSum(4,6); //returns 10\n\nclass B{\n    int s=8;\n    int t = 8;\n    public addition(int s,int t){\n       A.returnSum(s,t);//returns 16\n    }\n}\n</code></pre>\n\n<p>In first class, add() will return the sum of data passed by a specific object. But the static method can be used to get the sum from any class not independent if any specific instance or object. Hence, for generic methods which only need arguments to work can be made static to keep it all DRY.</p>\n"},{"tags":[],"owner":{"account_id":21237976,"reputation":213,"user_id":15621907,"display_name":"vitoboski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620274559,"creation_date":1620210495,"answer_id":67399528,"question_id":11993077,"body_markdown":"Static Methods vs Instance methods \r\n    \r\nConstructor: \r\n```    \r\nconst Person = function (birthYear) {\r\n  this.birthYear = birthYear;\r\n}\r\n```    \r\nInstance Method -&gt; Available\r\n```    \r\nPerson.prototype.calcAge = function () {\r\n  2037 - this.birthYear);\r\n} \r\n```    \r\nStatic Method -&gt; Not available \r\n```\r\nPerson.hey = function(){\r\n  console.log(&#39;Hey&#39;)\r\n}\r\n```    \r\nClass: \r\n```    \r\nclass PersonCl {\r\n    constructor(birthYear) {\r\n      this.birthYear = birthYear;\r\n    } \r\n\r\n    /**\r\n     * Instance Method -&gt; Available to instances\r\n     */\r\n    calcAge() {  \r\n        console.log(2037 - this.birthYear);\r\n    }\r\n    \r\n    /**\r\n     * Static method -&gt; Not available to instances\r\n     */\r\n    static hey() { \r\n        console.log(&#39;Static HEY ! &#39;);\r\n    }\r\n}\r\n```","title":"Difference between Static methods and Instance methods","body":"<p>Static Methods vs Instance methods</p>\n<p>Constructor:</p>\n<pre><code>const Person = function (birthYear) {\n  this.birthYear = birthYear;\n}\n</code></pre>\n<p>Instance Method -&gt; Available</p>\n<pre><code>Person.prototype.calcAge = function () {\n  2037 - this.birthYear);\n} \n</code></pre>\n<p>Static Method -&gt; Not available</p>\n<pre><code>Person.hey = function(){\n  console.log('Hey')\n}\n</code></pre>\n<p>Class:</p>\n<pre><code>class PersonCl {\n    constructor(birthYear) {\n      this.birthYear = birthYear;\n    } \n\n    /**\n     * Instance Method -&gt; Available to instances\n     */\n    calcAge() {  \n        console.log(2037 - this.birthYear);\n    }\n    \n    /**\n     * Static method -&gt; Not available to instances\n     */\n    static hey() { \n        console.log('Static HEY ! ');\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696886753,"creation_date":1696864147,"answer_id":77259957,"question_id":11993077,"body_markdown":"Many answers already exist here, and no one points out that **static methods cannot be overridden** in Java, so they do not allow **polymorphism**, which, with inheritance, is the heart of object-oriented programming.","title":"Difference between Static methods and Instance methods","body":"<p>Many answers already exist here, and no one points out that <strong>static methods cannot be overridden</strong> in Java, so they do not allow <strong>polymorphism</strong>, which, with inheritance, is the heart of object-oriented programming.</p>\n"}],"owner":{"account_id":1624434,"reputation":1605,"user_id":1500291,"accept_rate":88,"display_name":"Panthy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254207,"favorite_count":0,"down_vote_count":0,"up_vote_count":104,"accepted_answer_id":11993118,"answer_count":11,"score":104,"last_activity_date":1696886753,"creation_date":1345140922,"question_id":11993077,"body_markdown":"I was just reading over the text given to me in my textbook and I&#39;m not really sure I understand what it is saying. It&#39;s basically telling me that static methods or class methods include the &quot;modifier&quot; keyword static. But I don&#39;t really know what that means?\n\nCould someone please explain to me in really simple terms what Static or Class Methods are?\n\nAlso, could I get a simple explanation on what Instance methods are?\n\nThis is what they give me in the textbook:\n\n&gt; There are important practical implications of the presence or absence of the static modifier. A public class method may be invoked and executed as soon as Java processes the definition of the class to which it belongs. That is not the case for an instance method. Before a public instance method may be invoked and executed, an instance must be created of the class to which it belongs. To use a public class method, you just need the class. On the other hand, before you can use a public instance method you must have an instance of the class.\n&gt;\n&gt; The manner in which a static method is invoked within the definition of another method varies according to whether or not the two methods belong to the same class. In the example above, factorial and main are both methods of the MainClass class. As a result, the invocation of factorial in the definition of main simply references the method name, &quot;factorial&quot;.","title":"Difference between Static methods and Instance methods","body":"<p>I was just reading over the text given to me in my textbook and I'm not really sure I understand what it is saying. It's basically telling me that static methods or class methods include the &quot;modifier&quot; keyword static. But I don't really know what that means?</p>\n<p>Could someone please explain to me in really simple terms what Static or Class Methods are?</p>\n<p>Also, could I get a simple explanation on what Instance methods are?</p>\n<p>This is what they give me in the textbook:</p>\n<blockquote>\n<p>There are important practical implications of the presence or absence of the static modifier. A public class method may be invoked and executed as soon as Java processes the definition of the class to which it belongs. That is not the case for an instance method. Before a public instance method may be invoked and executed, an instance must be created of the class to which it belongs. To use a public class method, you just need the class. On the other hand, before you can use a public instance method you must have an instance of the class.</p>\n<p>The manner in which a static method is invoked within the definition of another method varies according to whether or not the two methods belong to the same class. In the example above, factorial and main are both methods of the MainClass class. As a result, the invocation of factorial in the definition of main simply references the method name, &quot;factorial&quot;.</p>\n</blockquote>\n"},{"tags":["java","jvm","jvm-arguments"],"answers":[{"comments":[{"owner":{"account_id":192101,"reputation":1554,"user_id":433061,"accept_rate":100,"display_name":"bdetweiler"},"score":2,"creation_date":1525349152,"post_id":15196421,"comment_id":87326807,"body_markdown":"Thanks for quoting it here, since Oracle decided to move the doc page.","body":"Thanks for quoting it here, since Oracle decided to move the doc page."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1696886427,"creation_date":1362381418,"answer_id":15196421,"question_id":15196373,"body_markdown":"&gt; it’s not explained\r\n\r\nCertainly it is. From the [page](http://docs.oracle.com/cd/E15289_01/doc.40/e15062/optionxx.htm) you cited: \r\n\r\n&gt; Some command-line options use the HotSpot implementation format; that\r\n&gt; is, you must place the colon (:) between the -XX and the option name\r\n&gt; followed by a the necessary operator to indicate enabling (+) or\r\n&gt; disabling (-) the new hash function.","title":"What is the difference between -HeapDumpOnOutOfMemoryError and +HeapDumpOnOutOfMemoryError options?","body":"<blockquote>\n<p>it’s not explained</p>\n</blockquote>\n<p>Certainly it is. From the <a href=\"http://docs.oracle.com/cd/E15289_01/doc.40/e15062/optionxx.htm\" rel=\"nofollow noreferrer\">page</a> you cited:</p>\n<blockquote>\n<p>Some command-line options use the HotSpot implementation format; that\nis, you must place the colon (:) between the -XX and the option name\nfollowed by a the necessary operator to indicate enabling (+) or\ndisabling (-) the new hash function.</p>\n</blockquote>\n"}],"owner":{"account_id":245807,"reputation":6998,"user_id":519539,"accept_rate":91,"display_name":"Petro Semeniuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2663,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":15196421,"answer_count":1,"score":9,"last_activity_date":1696886427,"creation_date":1362381217,"question_id":15196373,"body_markdown":"In Oracle&#39;s [official doc][1] `HeapDumpOnOutOfMemoryError` option specified with plus and minus sign. I&#39;m just curious what do they stand for since it&#39;s not explained in official user guide\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/E15289_01/doc.40/e15062/optionxx.htm#BABJIDID","title":"What is the difference between -HeapDumpOnOutOfMemoryError and +HeapDumpOnOutOfMemoryError options?","body":"<p>In Oracle's <a href=\"http://docs.oracle.com/cd/E15289_01/doc.40/e15062/optionxx.htm#BABJIDID\" rel=\"noreferrer\">official doc</a> <code>HeapDumpOnOutOfMemoryError</code> option specified with plus and minus sign. I'm just curious what do they stand for since it's not explained in official user guide</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1696782970,"post_id":77254206,"comment_id":136194466,"body_markdown":"This sounds almost exactly like what [ExecutorService.invokeAll](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ExecutorService.html#invokeAll(java.util.Collection)) does.","body":"This sounds almost exactly like what <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ExecutorService.html#invokeAll(java.util.Collection)\" rel=\"nofollow noreferrer\">ExecutorService.invokeAll</a> does."},{"owner":{"account_id":2327072,"reputation":7733,"user_id":2041317,"accept_rate":100,"display_name":"cup"},"score":1,"creation_date":1696784749,"post_id":77254206,"comment_id":136194640,"body_markdown":"Look up _thread pools in Java_ lots of hits","body":"Look up <i>thread pools in Java</i> lots of hits"}],"answers":[{"comments":[{"owner":{"account_id":13212739,"reputation":1,"user_id":19965154,"display_name":"Polash"},"score":0,"creation_date":1696882877,"post_id":77254290,"comment_id":136207517,"body_markdown":"I don’t want to use ExecutorService. I want to do it manually. \nSuppose from main method \nString message = &quot;Hello from Main method&quot;;\n         while(true) {\n         \t\tthreadPool.execute(message);\n       }\nI constantly give message to the threadpool\n\nFirst I initialized 10 threads in a threadpool \nLike this\n\npublic ThreadPool(int numThreads) {\n        threads = new ArrayList&lt;&gt;(numThreads);\n        for (int i = 0; i &lt; numThreads; i++) {\n            threads.add(new WorkerThread(threads));\n        }","body":"I don’t want to use ExecutorService. I want to do it manually.  Suppose from main method  String message = &quot;Hello from Main method&quot;;          while(true) {          \t\tthreadPool.execute(message);        } I constantly give message to the threadpool  First I initialized 10 threads in a threadpool  Like this  public ThreadPool(int numThreads) {         threads = new ArrayList&lt;&gt;(numThreads);         for (int i = 0; i &lt; numThreads; i++) {             threads.add(new WorkerThread(threads));         }"},{"owner":{"account_id":13212739,"reputation":1,"user_id":19965154,"display_name":"Polash"},"score":0,"creation_date":1696882902,"post_id":77254290,"comment_id":136207520,"body_markdown":"Here first 10 threads will be started as this is the first time and print the message 10 times by 10 threads \nNow Let&#39;s assume that each thread takes different amount of time to print those messages \nNow I want to make a logic where the program will check at this moment how many threads are currently executing their task and becomes available \nHere I know that after execution the thread goes in terminated state and cannot be used again \nBut I want to maintain that a fixed number of thread will do my task\nI am getting the logic to make this program","body":"Here first 10 threads will be started as this is the first time and print the message 10 times by 10 threads  Now Let&#39;s assume that each thread takes different amount of time to print those messages  Now I want to make a logic where the program will check at this moment how many threads are currently executing their task and becomes available  Here I know that after execution the thread goes in terminated state and cannot be used again  But I want to maintain that a fixed number of thread will do my task I am getting the logic to make this program"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1696885053,"post_id":77254290,"comment_id":136207783,"body_markdown":"(A) What you describe is exactly what `ExecutorService` does when backed by a thread pool. So there is no point to you re-inventing this except intellectual curiosity. If you are a curious about how to implement, go look at the source code in OpenJDK. (B) Virtual threads in Java 21+ largely eliminate the need for a thread pool, and eliminate your need for a limit of 10 threads.","body":"(A) What you describe is exactly what <code>ExecutorService</code> does when backed by a thread pool. So there is no point to you re-inventing this except intellectual curiosity. If you are a curious about how to implement, go look at the source code in OpenJDK. (B) Virtual threads in Java 21+ largely eliminate the need for a thread pool, and eliminate your need for a limit of 10 threads."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696886011,"creation_date":1696780500,"answer_id":77254290,"question_id":77254206,"body_markdown":"# Executor service\r\n\r\nSeems like you are re-inventing [`ExecutorService`][1]. \r\n\r\n    ExecutorService es = Executors.newFixedThreadPool( 10 ) ;\r\n\r\nSubmit your tasks as objects implementing [`Runnable`][2] or `Callable`. The executor service handles assigning the task to an available thread. \r\n\r\nBe sure to properly shutdown the executor service. See boilerplate code given in the Javadoc. Or automatically close using try-with-resources syntax. \r\n\r\nSearch Stack Overflow for more info and many examples. \r\n\r\n\r\n## Virtual threads\r\n\r\nIf your tasks involve [blocking][3] (they are not [CPU-bound][4]), consider using [virtual threads][5] in Java 21+. \r\n\r\n### Example code\r\n\r\nHere is example code. We start with ten inputs, a collection of `Integer` objects. Our task is to print each of these numbers to the console, concurrently. We create a new fresh virtual thread for each of these tasks. When complete, the virtual thread terminates and is then discarded.\r\n\r\n```java\r\nSequencedCollection &lt; Integer &gt; inputs = IntStream.rangeClosed ( 1 , 10 ).boxed ( ).toList ( );\r\ntry (\r\n        ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor ( ) ;\r\n)\r\n{\r\n    for ( Integer input : inputs )\r\n    {\r\n        Runnable task = ( ) -&gt; System.out.println ( input );\r\n        executorService.submit ( task );\r\n    }\r\n}\r\n```\r\n\r\nRun.\r\n\r\n```none\r\nINFO - Demo begin. 2023-10-09T21:12:28.634400Z\r\n1\r\n6\r\n7\r\n8\r\n10\r\n3\r\n2\r\n4\r\n5\r\n9\r\nINFO - Demo end. 2023-10-09T21:12:28.647095Z\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/util/concurrent/ExecutorService.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Runnable.html\r\n  [3]: https://en.m.wikipedia.org/wiki/Blocking_(computing)\r\n  [4]: https://en.m.wikipedia.org/wiki/CPU-bound\r\n  [5]: https://openjdk.org/jeps/444","title":"Is it possible to make number of 10 threads Which will be in an Arraylist?","body":"<h1>Executor service</h1>\n<p>Seems like you are re-inventing <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a>.</p>\n<pre><code>ExecutorService es = Executors.newFixedThreadPool( 10 ) ;\n</code></pre>\n<p>Submit your tasks as objects implementing <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\"><code>Runnable</code></a> or <code>Callable</code>. The executor service handles assigning the task to an available thread.</p>\n<p>Be sure to properly shutdown the executor service. See boilerplate code given in the Javadoc. Or automatically close using try-with-resources syntax.</p>\n<p>Search Stack Overflow for more info and many examples.</p>\n<h2>Virtual threads</h2>\n<p>If your tasks involve <a href=\"https://en.m.wikipedia.org/wiki/Blocking_(computing)\" rel=\"nofollow noreferrer\">blocking</a> (they are not <a href=\"https://en.m.wikipedia.org/wiki/CPU-bound\" rel=\"nofollow noreferrer\">CPU-bound</a>), consider using <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">virtual threads</a> in Java 21+.</p>\n<h3>Example code</h3>\n<p>Here is example code. We start with ten inputs, a collection of <code>Integer</code> objects. Our task is to print each of these numbers to the console, concurrently. We create a new fresh virtual thread for each of these tasks. When complete, the virtual thread terminates and is then discarded.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SequencedCollection &lt; Integer &gt; inputs = IntStream.rangeClosed ( 1 , 10 ).boxed ( ).toList ( );\ntry (\n        ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor ( ) ;\n)\n{\n    for ( Integer input : inputs )\n    {\n        Runnable task = ( ) -&gt; System.out.println ( input );\n        executorService.submit ( task );\n    }\n}\n</code></pre>\n<p>Run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO - Demo begin. 2023-10-09T21:12:28.634400Z\n1\n6\n7\n8\n10\n3\n2\n4\n5\n9\nINFO - Demo end. 2023-10-09T21:12:28.647095Z\n</code></pre>\n"}],"owner":{"account_id":13212739,"reputation":1,"user_id":19965154,"display_name":"Polash"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696885791,"answer_count":1,"score":0,"last_activity_date":1696886011,"creation_date":1696779063,"question_id":77254206,"body_markdown":"\r\nIs it possible to make number of 10 threads Which will be in an Arraylist. \r\nCan I take threads from that Arraylist and make the threads do the work and give it back to the Arraylist.\r\nHow can I do it\r\nHere are the sample code\r\n\r\n```\r\nthreads = new ArrayList&lt;&gt;(10);\r\n\r\nfor (int i = 0; i &lt; numThreads; i++) {\r\n    WorkerThread thread = new WorkerThread(threads);\r\n    threads.add(thread);\r\n    threads.add(thread);\r\n    thread.start();\r\n}\r\n```\r\n\r\nAfter doing the task can I remove it from Arraylist and again add it to The Arraylist to do another task.\r\n","title":"Is it possible to make number of 10 threads Which will be in an Arraylist?","body":"<p>Is it possible to make number of 10 threads Which will be in an Arraylist.\nCan I take threads from that Arraylist and make the threads do the work and give it back to the Arraylist.\nHow can I do it\nHere are the sample code</p>\n<pre><code>threads = new ArrayList&lt;&gt;(10);\n\nfor (int i = 0; i &lt; numThreads; i++) {\n    WorkerThread thread = new WorkerThread(threads);\n    threads.add(thread);\n    threads.add(thread);\n    thread.start();\n}\n</code></pre>\n<p>After doing the task can I remove it from Arraylist and again add it to The Arraylist to do another task.</p>\n"},{"tags":["java","spring","axon"],"comments":[{"owner":{"account_id":2552081,"reputation":7045,"user_id":2215649,"display_name":"Steven"},"score":0,"creation_date":1696923441,"post_id":77260291,"comment_id":136211249,"body_markdown":"Hi Johnyb. Not so much a reply to your Axon Server (@schananas his reply should help there), but I wanted to nudge you about the Axon Framework version. Axon Framework is currently on release 4.8.2, which has some tremendous improvements over 4.5. On of these is making the connection between Axon Framework and Axon Server more robust, for example. Thought you might want to know that!","body":"Hi Johnyb. Not so much a reply to your Axon Server (@schananas his reply should help there), but I wanted to nudge you about the Axon Framework version. Axon Framework is currently on release 4.8.2, which has some tremendous improvements over 4.5. On of these is making the connection between Axon Framework and Axon Server more robust, for example. Thought you might want to know that!"}],"answers":[{"tags":[],"owner":{"account_id":1522363,"reputation":403,"user_id":1421696,"display_name":"schananas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696874936,"creation_date":1696874936,"answer_id":77260954,"question_id":77260291,"body_markdown":"Try running Axon Server with following env property set:\r\n\r\n    AXONIQ_AXONSERVER_STANDALONE=true","title":"Connecting to AxonServer node [localhost:8124] failed: NOT_FOUND: [AXONIQ-1302] default: not found in any replication group","body":"<p>Try running Axon Server with following env property set:</p>\n<pre><code>AXONIQ_AXONSERVER_STANDALONE=true\n</code></pre>\n"}],"owner":{"account_id":7527198,"reputation":1109,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696884722,"creation_date":1696867368,"question_id":77260291,"body_markdown":"I am trying to create basic example of SAGA with `AxonServer`\r\n\r\nI am using `AxonServer-2023.1.2` :\r\n\r\n    2023-10-09 17:30:11.072  INFO 11540 --- [           main] io.axoniq.axonserver.AxonServer          : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-10-09 17:30:14.683  INFO 11540 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8024 (http)\r\n    2023-10-09 17:30:14.843  INFO 11540 --- [           main] A.i.a.a.c.MessagingPlatformConfiguration : Configuration initialized with SSL DISABLED and access control DISABLED.\r\n    2023-10-09 17:30:15.814  WARN 11540 --- [           main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema &quot;PUBLIC&quot; may not be reproducible.\r\n    2023-10-09 17:30:17.626  INFO 11540 --- [           main] io.axoniq.axonserver.AxonServer          : Axon Server version 2023.1.2\r\n    2023-10-09 17:30:23.367  INFO 11540 --- [           main] i.a.a.e.c.i.MessagingClusterServer       : Axon Server Cluster Server started on port: 8224 - no SSL\r\n    2023-10-09 17:30:23.507  INFO 11540 --- [           main] io.axoniq.axonserver.grpc.Gateway        : Axon Server Gateway started on port: 8124 - no SSL\r\n    2023-10-09 17:30:23.520  INFO 11540 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8024 (http) with context path &#39;&#39;\r\n    2023-10-09 17:30:23.550  INFO 11540 --- [           main] io.axoniq.axonserver.AxonServer          : Started AxonServer in 13.045 seconds (JVM running for 13.932)\r\n    2023-10-09 17:30:30.296  INFO 11540 --- [nio-8024-exec-8] i.a.a.a.c.r.ContextAdminRequestProcessor : [&lt;anonymous&gt;] Request to list contexts.\r\n\r\n\r\nI have empty spring-boot application\r\n\r\n\r\n    @SpringBootApplication\r\n    public class OrderServiceApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(OrderServiceApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\nbut im stuck with in loop on running the app:\r\n\r\n    i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124\r\n    i.a.a.c.impl.AxonServerManagedChannel    : Connecting to AxonServer node [localhost:8124] failed: NOT_FOUND: [AXONIQ-1302] default: not found in any replication group\r\n    i.a.a.c.impl.AxonServerManagedChannel    : Failed to get connection to AxonServer. Scheduling a reconnect in 2000ms\r\n\r\nI am using this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.axonframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;axon-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhat is cuasing this? The console on webpage on port 8024 works fine, so why isnt the 8124 port working?\r\n\r\nThanks for help","title":"Connecting to AxonServer node [localhost:8124] failed: NOT_FOUND: [AXONIQ-1302] default: not found in any replication group","body":"<p>I am trying to create basic example of SAGA with <code>AxonServer</code></p>\n<p>I am using <code>AxonServer-2023.1.2</code> :</p>\n<pre><code>2023-10-09 17:30:11.072  INFO 11540 --- [           main] io.axoniq.axonserver.AxonServer          : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-10-09 17:30:14.683  INFO 11540 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8024 (http)\n2023-10-09 17:30:14.843  INFO 11540 --- [           main] A.i.a.a.c.MessagingPlatformConfiguration : Configuration initialized with SSL DISABLED and access control DISABLED.\n2023-10-09 17:30:15.814  WARN 11540 --- [           main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema &quot;PUBLIC&quot; may not be reproducible.\n2023-10-09 17:30:17.626  INFO 11540 --- [           main] io.axoniq.axonserver.AxonServer          : Axon Server version 2023.1.2\n2023-10-09 17:30:23.367  INFO 11540 --- [           main] i.a.a.e.c.i.MessagingClusterServer       : Axon Server Cluster Server started on port: 8224 - no SSL\n2023-10-09 17:30:23.507  INFO 11540 --- [           main] io.axoniq.axonserver.grpc.Gateway        : Axon Server Gateway started on port: 8124 - no SSL\n2023-10-09 17:30:23.520  INFO 11540 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8024 (http) with context path ''\n2023-10-09 17:30:23.550  INFO 11540 --- [           main] io.axoniq.axonserver.AxonServer          : Started AxonServer in 13.045 seconds (JVM running for 13.932)\n2023-10-09 17:30:30.296  INFO 11540 --- [nio-8024-exec-8] i.a.a.a.c.r.ContextAdminRequestProcessor : [&lt;anonymous&gt;] Request to list contexts.\n</code></pre>\n<p>I have empty spring-boot application</p>\n<pre><code>@SpringBootApplication\npublic class OrderServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(OrderServiceApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>but im stuck with in loop on running the app:</p>\n<pre><code>i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124\ni.a.a.c.impl.AxonServerManagedChannel    : Connecting to AxonServer node [localhost:8124] failed: NOT_FOUND: [AXONIQ-1302] default: not found in any replication group\ni.a.a.c.impl.AxonServerManagedChannel    : Failed to get connection to AxonServer. Scheduling a reconnect in 2000ms\n</code></pre>\n<p>I am using this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.axonframework&lt;/groupId&gt;\n    &lt;artifactId&gt;axon-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;4.5.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>What is cuasing this? The console on webpage on port 8024 works fine, so why isnt the 8124 port working?</p>\n<p>Thanks for help</p>\n"},{"tags":["java","spring-boot","elasticsearch","spring-data","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1696916727,"post_id":77261688,"comment_id":136210225,"body_markdown":"Spring Data Elasticsearch currenlty does not support slices in queries, but you can use Spring Data Elasticsearch to create a pit, then USse a `NativeQuery` to build your query using the classes the the native Elasticsearch client provides, add the query and the pit to the `NativeQuery` from Spring Data Elasticsearch.","body":"Spring Data Elasticsearch currenlty does not support slices in queries, but you can use Spring Data Elasticsearch to create a pit, then USse a <code>NativeQuery</code> to build your query using the classes the the native Elasticsearch client provides, add the query and the pit to the <code>NativeQuery</code> from Spring Data Elasticsearch."},{"owner":{"account_id":29635141,"reputation":11,"user_id":22712608,"display_name":"Omar"},"score":0,"creation_date":1696947688,"post_id":77261688,"comment_id":136215985,"body_markdown":"Thank you for your response. Is there a possibility that spring-data-elasticsearch will support it in the near future? I am currently using the implementation you have mentioned but it&#39;s retrieving the same 10k docs each time and I need it to be able to iterate over 100k+ docs","body":"Thank you for your response. Is there a possibility that spring-data-elasticsearch will support it in the near future? I am currently using the implementation you have mentioned but it&#39;s retrieving the same 10k docs each time and I need it to be able to iterate over 100k+ docs"}],"owner":{"account_id":29635141,"reputation":11,"user_id":22712608,"display_name":"Omar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696884215,"creation_date":1696884215,"question_id":77261688,"body_markdown":"I am working on a Spring Boot application where I have to search through 100k+ docs and I am using the PIT api to achieve this. Previously, using the elasticsearch libraries this was achievable by:\r\n\r\n```\r\nSearchRequest searchRequest = new SearchRequest();\r\nfinal PointInTimeBuilder pointInTimeBuilder = new PointInTimeBuilder(pitId);\r\n\r\nSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\nsearchSourceBuilder.query(query);\r\npointInTimeBuilder.setKeepAlive(minutes);\r\nsearchSourceBuilder.pointInTimeBuilder(pointInTimeBuilder);\r\n\r\nSliceBuilder sliceBuilder = new SliceBuilder(i, totalSlice);\r\nsearchSourceBuilder.slice(sliceBuilder);\r\nsearchRequest.source(searchSourceBuilder);\r\n\r\nRequestOptions.Builder options = RequestOptions.DEFAULT.toBuilder();\r\nRequestConfig requestConfig = RequestConfig.custom().setContentCompressionEnabled(true).build();\r\noptions.setRequestConfig(requestConfig);\r\nSearchResponse searchResponse = this.restHighLevelClient.search(searchRequest, options.build());\r\n```\r\n\r\n\r\nI have moved on to strictly using spring-data-elasticsearch:5.1.4 and was able to implement the PIT API by following the documentation found [here](https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.misc.point-in-time). \r\n\r\nHow can I implement this to also use slices?\r\n\r\n[Elasticsearch PIT Api](https://www.elastic.co/guide/en/elasticsearch/reference/8.3/point-in-time-api.html)","title":"How to set slice when using PIT API w/ Spring Data Elasticsearch?","body":"<p>I am working on a Spring Boot application where I have to search through 100k+ docs and I am using the PIT api to achieve this. Previously, using the elasticsearch libraries this was achievable by:</p>\n<pre><code>SearchRequest searchRequest = new SearchRequest();\nfinal PointInTimeBuilder pointInTimeBuilder = new PointInTimeBuilder(pitId);\n\nSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\nsearchSourceBuilder.query(query);\npointInTimeBuilder.setKeepAlive(minutes);\nsearchSourceBuilder.pointInTimeBuilder(pointInTimeBuilder);\n\nSliceBuilder sliceBuilder = new SliceBuilder(i, totalSlice);\nsearchSourceBuilder.slice(sliceBuilder);\nsearchRequest.source(searchSourceBuilder);\n\nRequestOptions.Builder options = RequestOptions.DEFAULT.toBuilder();\nRequestConfig requestConfig = RequestConfig.custom().setContentCompressionEnabled(true).build();\noptions.setRequestConfig(requestConfig);\nSearchResponse searchResponse = this.restHighLevelClient.search(searchRequest, options.build());\n</code></pre>\n<p>I have moved on to strictly using spring-data-elasticsearch:5.1.4 and was able to implement the PIT API by following the documentation found <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.misc.point-in-time\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>How can I implement this to also use slices?</p>\n<p><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/8.3/point-in-time-api.html\" rel=\"nofollow noreferrer\">Elasticsearch PIT Api</a></p>\n"},{"tags":["java","regex","validation"],"comments":[{"owner":{"account_id":1595843,"reputation":12869,"user_id":1477994,"accept_rate":72,"display_name":"royB"},"score":1,"creation_date":1489620761,"post_id":42822629,"comment_id":72756927,"body_markdown":"Possible duplicate of [Decimal or numeric values in regular expression validation](http://stackoverflow.com/questions/2811031/decimal-or-numeric-values-in-regular-expression-validation)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/2811031/decimal-or-numeric-values-in-regular-expression-validation\">Decimal or numeric values in regular expression validation</a>"},{"owner":{"account_id":5994806,"reputation":541,"user_id":4709792,"accept_rate":45,"display_name":"Hingle McJingleberry"},"score":0,"creation_date":1489621107,"post_id":42822629,"comment_id":72757031,"body_markdown":"the pattern ^[1-9]\\d{0,2}(.\\d{3})*(,\\d+)?$ did not work for me, based from that similar thread","body":"the pattern ^[1-9]\\d{0,2}(.\\d{3})*(,\\d+)?$ did not work for me, based from that similar thread"},{"owner":{"account_id":7539150,"reputation":1221,"user_id":5724435,"accept_rate":65,"display_name":"Arthur Decker"},"score":0,"creation_date":1489621289,"post_id":42822629,"comment_id":72757095,"body_markdown":"@Alain Del Rosario try using ^[1-9]\\d*(\\,\\d+)?$ . You can try the regex script with sample input on this site http://www.regexplanet.com/advanced/java/index.html","body":"@Alain Del Rosario try using ^[1-9]\\d*(\\,\\d+)?$ . You can try the regex script with sample input on this site <a href=\"http://www.regexplanet.com/advanced/java/index.html\" rel=\"nofollow noreferrer\">regexplanet.com/advanced/java/index.html</a>"},{"owner":{"account_id":5994806,"reputation":541,"user_id":4709792,"accept_rate":45,"display_name":"Hingle McJingleberry"},"score":0,"creation_date":1489621822,"post_id":42822629,"comment_id":72757269,"body_markdown":"@Arthur Decker did not work","body":"@Arthur Decker did not work"},{"owner":{"account_id":5994806,"reputation":541,"user_id":4709792,"accept_rate":45,"display_name":"Hingle McJingleberry"},"score":0,"creation_date":1489622099,"post_id":42822629,"comment_id":72757345,"body_markdown":"i think validations from that link treats commas as required not optional","body":"i think validations from that link treats commas as required not optional"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1489622428,"post_id":42822629,"comment_id":72757448,"body_markdown":"If there are thousand separators before the decimal point, do they need to be there after the point too? Are both 1,111,111.111,111,1 and 1,111,111.1111111 valid?","body":"If there are thousand separators before the decimal point, do they need to be there after the point too? Are both 1,111,111.111,111,1 and 1,111,111.1111111 valid?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1489950061,"post_id":42822629,"comment_id":72883073,"body_markdown":"@AlainDelRosario, please remember to accept an answer if you find one of the four acceptable. Excuse me for mentioning, but it seems you were good at accepting answers in January, I hope you are not starting to forget?","body":"@AlainDelRosario, please remember to accept an answer if you find one of the four acceptable. Excuse me for mentioning, but it seems you were good at accepting answers in January, I hope you are not starting to forget?"}],"answers":[{"tags":[],"owner":{"display_name":"user557597"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489623269,"creation_date":1489623269,"answer_id":42823102,"question_id":42822629,"body_markdown":"This would match your numbers there `(?:\\d+(?:,\\d{3})*(?:\\.\\d{2})?|\\.\\d{2})`  \r\nIt would also match `.00` just incase. If you don&#39;t want it to, just remove  \r\nthe `|\\.\\d{2}` part.  \r\n\r\nAdd your own boundary constructs as needed `^$` or `\\b`  \r\n\r\nExpanded  \r\n\r\n     (?:\r\n          \\d+ \r\n          (?: , \\d{3} )*\r\n          (?: \\. \\d{2} )?\r\n       |  \\. \\d{2} \r\n     )\r\n","title":"Java regex to check if string is valid number format (comma and decimal point placing)","body":"<p>This would match your numbers there <code>(?:\\d+(?:,\\d{3})*(?:\\.\\d{2})?|\\.\\d{2})</code><br>\nIt would also match <code>.00</code> just incase. If you don't want it to, just remove<br>\nthe <code>|\\.\\d{2}</code> part.  </p>\n\n<p>Add your own boundary constructs as needed <code>^$</code> or <code>\\b</code>  </p>\n\n<p>Expanded  </p>\n\n<pre><code> (?:\n      \\d+ \n      (?: , \\d{3} )*\n      (?: \\. \\d{2} )?\n   |  \\. \\d{2} \n )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489623300,"creation_date":1489623300,"answer_id":42823108,"question_id":42822629,"body_markdown":"My suggestion is:\r\n\r\n    ^[1-9]((\\d{0,2}(,\\d{3})*(\\.(\\d{3},)*\\d{1,3})?)|(\\d*(\\.\\d+)?))$\r\n\r\nA number either has separators for every 3 digits or it hasn’t (no middle forms). It either has a decimal point and at least one digit after it, or it hasn’t. In all cases does it start with a non-zero digit.\r\n\r\nRemember that a dot (period, `.`) has a special meaning in regex and therefore needs to be escaped to get a literal point.","title":"Java regex to check if string is valid number format (comma and decimal point placing)","body":"<p>My suggestion is:</p>\n\n<pre><code>^[1-9]((\\d{0,2}(,\\d{3})*(\\.(\\d{3},)*\\d{1,3})?)|(\\d*(\\.\\d+)?))$\n</code></pre>\n\n<p>A number either has separators for every 3 digits or it hasn’t (no middle forms). It either has a decimal point and at least one digit after it, or it hasn’t. In all cases does it start with a non-zero digit.</p>\n\n<p>Remember that a dot (period, <code>.</code>) has a special meaning in regex and therefore needs to be escaped to get a literal point.</p>\n"},{"comments":[{"owner":{"account_id":1687212,"reputation":1389,"user_id":1550233,"accept_rate":100,"display_name":"johnw182"},"score":0,"creation_date":1674242376,"post_id":42823318,"comment_id":132680678,"body_markdown":"This pattern shows &quot;10,00&quot; as valid and &quot;.05&quot; as invalid.","body":"This pattern shows &quot;10,00&quot; as valid and &quot;.05&quot; as invalid."},{"owner":{"account_id":1687212,"reputation":1389,"user_id":1550233,"accept_rate":100,"display_name":"johnw182"},"score":0,"creation_date":1674242639,"post_id":42823318,"comment_id":132680731,"body_markdown":"Also negatives dont work with this.","body":"Also negatives dont work with this."}],"tags":[],"owner":{"account_id":1302409,"reputation":5542,"user_id":1252056,"accept_rate":91,"display_name":"streetturtle"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1489624848,"creation_date":1489624848,"answer_id":42823318,"question_id":42822629,"body_markdown":"This is one of possible regexes you are looking for:\r\n\r\n    ^\\d{1,3}([ ,]?\\d{3})*([.,]\\d+)?$\r\n\r\nDemo: https://regex101.com/r/T8tcDP/1","title":"Java regex to check if string is valid number format (comma and decimal point placing)","body":"<p>This is one of possible regexes you are looking for:</p>\n\n<pre><code>^\\d{1,3}([ ,]?\\d{3})*([.,]\\d+)?$\n</code></pre>\n\n<p>Demo: <a href=\"https://regex101.com/r/T8tcDP/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/T8tcDP/1</a></p>\n"},{"tags":[],"owner":{"account_id":5395171,"reputation":3745,"user_id":4296607,"display_name":"JUAN CALVOPINA M"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1489708049,"creation_date":1489708049,"answer_id":42846788,"question_id":42822629,"body_markdown":"**You should try this expression:**\r\n\r\n    ^\\d{1,3}|\\d(([ ,]?\\d{3})*([.,]\\d{2}+)?$)\r\n\r\nWith this expression is covered with the scenarios raised.\r\n\r\n**Here the complete example:**\r\n\r\n    public class Decimal {\r\n    \r\n        private static String REGEX = &quot;^\\\\d{1,3}|\\\\d(([ ,]?\\\\d{3})*([.,]\\\\d{2}+)?$)&quot;;\r\n    \r\n        public static void main(String[] args) {\r\n            String data[] = {&quot;1000&quot;, &quot;1,000&quot;, &quot;1,000.00&quot;, &quot;1000.00&quot;, &quot;1000.00.00&quot;, &quot;1,0.00&quot;, &quot;1,000,00.00&quot;, &quot;1,000,000.12&quot;};\r\n    \r\n            Pattern.compile(REGEX);\r\n    \r\n            for (int i = 0; i &lt; data.length; i++) {\r\n                if (data[i].matches(REGEX)) {\r\n                    System.out.println(data[i] + &quot; - valid&quot;);\r\n                } else {\r\n                    System.out.println(data[i] + &quot; - invalid&quot;);\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n**The output:**\r\n\r\n * 1000 - valid\r\n * 1,000 - valid\r\n * 1,000.00 - valid\r\n * 1000.00 - valid\r\n * 1000.00.00 - invalid\r\n * 1,0.00 - invalid\r\n * 1,000,00.00 - invalid\r\n * 1,000,000.12 - valid","title":"Java regex to check if string is valid number format (comma and decimal point placing)","body":"<p><strong>You should try this expression:</strong></p>\n\n<pre><code>^\\d{1,3}|\\d(([ ,]?\\d{3})*([.,]\\d{2}+)?$)\n</code></pre>\n\n<p>With this expression is covered with the scenarios raised.</p>\n\n<p><strong>Here the complete example:</strong></p>\n\n<pre><code>public class Decimal {\n\n    private static String REGEX = \"^\\\\d{1,3}|\\\\d(([ ,]?\\\\d{3})*([.,]\\\\d{2}+)?$)\";\n\n    public static void main(String[] args) {\n        String data[] = {\"1000\", \"1,000\", \"1,000.00\", \"1000.00\", \"1000.00.00\", \"1,0.00\", \"1,000,00.00\", \"1,000,000.12\"};\n\n        Pattern.compile(REGEX);\n\n        for (int i = 0; i &lt; data.length; i++) {\n            if (data[i].matches(REGEX)) {\n                System.out.println(data[i] + \" - valid\");\n            } else {\n                System.out.println(data[i] + \" - invalid\");\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>The output:</strong></p>\n\n<ul>\n<li>1000 - valid</li>\n<li>1,000 - valid</li>\n<li>1,000.00 - valid</li>\n<li>1000.00 - valid</li>\n<li>1000.00.00 - invalid</li>\n<li>1,0.00 - invalid</li>\n<li>1,000,00.00 - invalid</li>\n<li>1,000,000.12 - valid</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2838952,"reputation":1,"user_id":2438917,"display_name":"Daniil  Bannov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696883544,"creation_date":1696883544,"answer_id":77261626,"question_id":42822629,"body_markdown":"this solution work also for one digit after dot:\r\n\r\n    ^\\d{1,3}(,{1}\\d{3})*(\\.\\d{1,2})?$\r\n\r\n - 100.1 - valid\r\n - 1.11 - valid\r\n - 1,000123,123.1 - invalid\r\n\r\ngood luck.","title":"Java regex to check if string is valid number format (comma and decimal point placing)","body":"<p>this solution work also for one digit after dot:</p>\n<pre><code>^\\d{1,3}(,{1}\\d{3})*(\\.\\d{1,2})?$\n</code></pre>\n<ul>\n<li>100.1 - valid</li>\n<li>1.11 - valid</li>\n<li>1,000123,123.1 - invalid</li>\n</ul>\n<p>good luck.</p>\n"}],"owner":{"account_id":5994806,"reputation":541,"user_id":4709792,"accept_rate":45,"display_name":"Hingle McJingleberry"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3495,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":42846788,"answer_count":5,"score":1,"last_activity_date":1696883544,"creation_date":1489620440,"question_id":42822629,"body_markdown":"    1000 - valid\r\n    1,000 - valid\r\n    1,000.00 - valid\r\n    1000.00 - valid\r\n    1000.00.00 - invalid\r\n    1,0.00 - invalid\r\n    1,000,00.00 - invalid\r\n    1,000,000.12 - valid\r\n\r\nno of decimal places can be unlimited\r\n\r\nI&#39;ve been trying to find the right regex pattern, can&#39;t seem to find one that will accomodate all validations. Can anyone help\r\n\r\n\r\nthe pattern ^[1-9]\\d{0,2}(\\.\\d{3})*(,\\d+)?$ did not work for me, based from the similar thread [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2811031/decimal-or-numeric-values-in-regular-expression-validation","title":"Java regex to check if string is valid number format (comma and decimal point placing)","body":"<pre><code>1000 - valid\n1,000 - valid\n1,000.00 - valid\n1000.00 - valid\n1000.00.00 - invalid\n1,0.00 - invalid\n1,000,00.00 - invalid\n1,000,000.12 - valid\n</code></pre>\n\n<p>no of decimal places can be unlimited</p>\n\n<p>I've been trying to find the right regex pattern, can't seem to find one that will accomodate all validations. Can anyone help</p>\n\n<p>the pattern ^[1-9]\\d{0,2}(.\\d{3})*(,\\d+)?$ did not work for me, based from the similar thread <a href=\"https://stackoverflow.com/questions/2811031/decimal-or-numeric-values-in-regular-expression-validation\">here</a></p>\n"},{"tags":["java","loops","for-loop"],"comments":[{"owner":{"account_id":3980402,"reputation":12987,"user_id":3282436,"accept_rate":79,"display_name":"0x5453"},"score":1,"creation_date":1696878922,"post_id":77261266,"comment_id":136206888,"body_markdown":"One possible way to interpret those instructions is to ask for 3 *different* multipliers.  Does the assignment include any example input/output?","body":"One possible way to interpret those instructions is to ask for 3 <i>different</i> multipliers.  Does the assignment include any example input/output?"},{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1696879581,"post_id":77261266,"comment_id":136206995,"body_markdown":"Are you sure that a recursion is not expected in assignment .","body":"Are you sure that a recursion is not expected in assignment ."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":2,"creation_date":1696879941,"post_id":77261266,"comment_id":136207032,"body_markdown":"your code outputs a space after the last number that might be a problem","body":"your code outputs a space after the last number that might be a problem"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1696880263,"creation_date":1696880263,"answer_id":77261374,"question_id":77261266,"body_markdown":"&gt; _&quot;... If you see an error on my code I would greatly appreciate it if anyone can point that out. ...&quot;_\r\n\r\nThe only error I see is the additional _white-space_ character in your _printed_ value.\r\n\r\nFor example, your value is _&quot;1 2 3 \\n&quot;_, whereas it may need to be _&quot;1 2 3\\n&quot;_.\r\n\r\nAnd, no need for a  _loop_, it&#39;s only 2 steps.\r\n\r\n```java\r\nresults = starting_num * multiplier;\r\nSystem.out.print(results);\r\nSystem.out.print(&quot; &quot; + (results *= multiplier));\r\nSystem.out.println(&quot; &quot; + (results *= multiplier));\r\n```\r\n\r\nOr, in one line, just reduce the variable names.\r\n\r\n```java\r\nSystem.out.printf(&quot;%s %s %s%n&quot;, r = sn * m, r *= m, r *= m);\r\n```","title":"Java program giving me the correct outputs but something is off","body":"<blockquote>\n<p><em>&quot;... If you see an error on my code I would greatly appreciate it if anyone can point that out. ...&quot;</em></p>\n</blockquote>\n<p>The only error I see is the additional <em>white-space</em> character in your <em>printed</em> value.</p>\n<p>For example, your value is <em>&quot;1 2 3 \\n&quot;</em>, whereas it may need to be <em>&quot;1 2 3\\n&quot;</em>.</p>\n<p>And, no need for a  <em>loop</em>, it's only 2 steps.</p>\n<pre class=\"lang-java prettyprint-override\"><code>results = starting_num * multiplier;\nSystem.out.print(results);\nSystem.out.print(&quot; &quot; + (results *= multiplier));\nSystem.out.println(&quot; &quot; + (results *= multiplier));\n</code></pre>\n<p>Or, in one line, just reduce the variable names.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(&quot;%s %s %s%n&quot;, r = sn * m, r *= m, r *= m);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696883446,"creation_date":1696883446,"answer_id":77261621,"question_id":77261266,"body_markdown":"If you really want to stick with the looping approach, then you could output the first result beforehand, and chase that with the space and the next result from within the loop:\r\n\r\n    results = starting_num * multiplier;\r\n    System.out.print(results);\r\n\r\n    for(int i = 1 ; i &lt;= 2; i++) {\r\n      results = results * multiplier;\r\n      System.out.print(&quot; &quot; + results);            \r\n    }\r\n\r\n    System.out.println();\r\n\r\n","title":"Java program giving me the correct outputs but something is off","body":"<p>If you really want to stick with the looping approach, then you could output the first result beforehand, and chase that with the space and the next result from within the loop:</p>\n<pre><code>results = starting_num * multiplier;\nSystem.out.print(results);\n\nfor(int i = 1 ; i &lt;= 2; i++) {\n  results = results * multiplier;\n  System.out.print(&quot; &quot; + results);            \n}\n\nSystem.out.println();\n</code></pre>\n"}],"owner":{"account_id":27937349,"reputation":11,"user_id":21334048,"display_name":"Yuniel G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1696883446,"creation_date":1696878722,"question_id":77261266,"body_markdown":"D286 Java Fundamentals PA\r\n\r\nHi, I&#39;m having a hard time with the School JAVA test. I type in a code that works with different inputs and gives the correct outputs but it is still being marked as wrong on my test. If you see an error on my code I would greatly appreciate it if anyone can point that out. I even tried Chatgpt and it said it was correct. Its hard to know what I&#39;m missing because the test results does not show me what was wrong like in my other classes.\r\n\r\nINSTRUCTIONS: Write a program that collects two integer inputs and assigns them to the variables *starting_num* and *multiplier*. Multiply starting_num by multiplier and output the result. Repeat this process two more times, each time multiplying the previous result by the multiplier. The three product outputs should be separated by a white space character, ending with a newline.\r\n\r\nMY ANSWER:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scnr = new Scanner(System.in);\r\n\r\n        int starting_num;\r\n\r\n        int multiplier;\r\n\r\n        int results;\r\n\r\n        starting_num = scnr.nextInt();\r\n\r\n        multiplier = scnr.nextInt();\r\n\r\n        results = starting_num * multiplier;\r\n\r\n        for(int i = 0 ; i &lt; 3; ++i) {\r\n\r\n            System.out.print(results + &quot; &quot;);\r\n\r\n            results = results * multiplier;\r\n        }\r\n\r\n        System.out.println();\r\n    }\r\n}\r\n\r\n```","title":"Java program giving me the correct outputs but something is off","body":"<p>D286 Java Fundamentals PA</p>\n<p>Hi, I'm having a hard time with the School JAVA test. I type in a code that works with different inputs and gives the correct outputs but it is still being marked as wrong on my test. If you see an error on my code I would greatly appreciate it if anyone can point that out. I even tried Chatgpt and it said it was correct. Its hard to know what I'm missing because the test results does not show me what was wrong like in my other classes.</p>\n<p>INSTRUCTIONS: Write a program that collects two integer inputs and assigns them to the variables <em>starting_num</em> and <em>multiplier</em>. Multiply starting_num by multiplier and output the result. Repeat this process two more times, each time multiplying the previous result by the multiplier. The three product outputs should be separated by a white space character, ending with a newline.</p>\n<p>MY ANSWER:</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n\n    public static void main(String[] args) {\n\n        Scanner scnr = new Scanner(System.in);\n\n        int starting_num;\n\n        int multiplier;\n\n        int results;\n\n        starting_num = scnr.nextInt();\n\n        multiplier = scnr.nextInt();\n\n        results = starting_num * multiplier;\n\n        for(int i = 0 ; i &lt; 3; ++i) {\n\n            System.out.print(results + &quot; &quot;);\n\n            results = results * multiplier;\n        }\n\n        System.out.println();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-security-rest"],"answers":[{"tags":[],"owner":{"account_id":11825858,"reputation":1015,"user_id":8653765,"display_name":"M. Dudek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619765286,"creation_date":1619765286,"answer_id":67329386,"question_id":67329349,"body_markdown":"The error says, you don&#39;t have any bean with password encoder.\r\n\r\nIn you confugiration class add that bean and remove `BCryptPasswordEncoder` from constructor in `SecurityConfiguration `:\r\n\r\n```java\r\n@Bean\r\npublic PasswordEncoder encoder() {\r\n    return new BCryptPasswordEncoder();\r\n}\r\n```","title":"Error: Required a bean of type &#39;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&#39; that could not be found","body":"<p>The error says, you don't have any bean with password encoder.</p>\n<p>In you confugiration class add that bean and remove <code>BCryptPasswordEncoder</code> from constructor in <code>SecurityConfiguration </code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic PasswordEncoder encoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"score":2,"creation_date":1619765750,"post_id":67329461,"comment_id":119008473,"body_markdown":"What you missed is the basic of Spring and not specifically related to Spring Security. Maybe, referring the below can help you understanding that:\n\nhttps://stackoverflow.com/questions/19414734/understanding-spring-autowired-usage\n\nThe second confusion is passwordencoder, as an overview just know that you need to provide two beans to the container- UserDetailsService and the PasswordEncoder while configuring security. For more info, please check spring security docs.","body":"What you missed is the basic of Spring and not specifically related to Spring Security. Maybe, referring the below can help you understanding that:  <a href=\"https://stackoverflow.com/questions/19414734/understanding-spring-autowired-usage\" title=\"understanding spring autowired usage\">stackoverflow.com/questions/19414734/&hellip;</a>  The second confusion is passwordencoder, as an overview just know that you need to provide two beans to the container- UserDetailsService and the PasswordEncoder while configuring security. For more info, please check spring security docs."},{"owner":{"account_id":2551271,"reputation":1027,"user_id":2214972,"accept_rate":43,"display_name":"VJain"},"score":0,"creation_date":1619765929,"post_id":67329461,"comment_id":119008542,"body_markdown":"But i am using the variable bCryptPasswordEncoder at several places, removing   private BCryptPasswordEncoder bCryptPasswordEncoder; can result in several errors","body":"But i am using the variable bCryptPasswordEncoder at several places, removing   private BCryptPasswordEncoder bCryptPasswordEncoder; can result in several errors"},{"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"score":2,"creation_date":1619766123,"post_id":67329461,"comment_id":119008608,"body_markdown":"No no, its not like that. See, once you provide your bean to the spring container, you do not need to declare variable and create an object anywhere. Spring brings in Dependency Injection there. It creates a singleton object and keeps it in the container. Now, whenever you need this object, just do @Autowired on object type you need. That instance will be available directly from the container. And, you dont need to use new() anywhere.","body":"No no, its not like that. See, once you provide your bean to the spring container, you do not need to declare variable and create an object anywhere. Spring brings in Dependency Injection there. It creates a singleton object and keeps it in the container. Now, whenever you need this object, just do @Autowired on object type you need. That instance will be available directly from the container. And, you dont need to use new() anywhere."},{"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"score":0,"creation_date":1619776761,"post_id":67329461,"comment_id":119012666,"body_markdown":"Hey, @VJain, I have posted a question &amp; answer related to spring security very basics here:\n\nhttps://stackoverflow.com/questions/67329660/what-are-the-basics-of-spring-security/67331836#67331836\n\nThis might help you with your implementation and confusions.","body":"Hey, @VJain, I have posted a question &amp; answer related to spring security very basics here:  <a href=\"https://stackoverflow.com/questions/67329660/what-are-the-basics-of-spring-security/67331836#67331836\" title=\"what are the basics of spring security\">stackoverflow.com/questions/67329660/&hellip;</a>  This might help you with your implementation and confusions."}],"tags":[],"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"comment_count":4,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1619765653,"creation_date":1619765653,"answer_id":67329461,"question_id":67329349,"body_markdown":"In your Security Configuration class, you do not need this line:\r\n\r\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\nReplace it with this. The below method is providing the Password Encoder bean to spring container to enforce security.\r\n\r\n    @Bean\r\n\tpublic PasswordEncoder passwordEncoder()\r\n\t{\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\nIn your controller, now you can autowire this as:\r\n\r\n    @Autowired    \r\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n","title":"Error: Required a bean of type &#39;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&#39; that could not be found","body":"<p>In your Security Configuration class, you do not need this line:</p>\n<pre><code>private BCryptPasswordEncoder bCryptPasswordEncoder;\n</code></pre>\n<p>Replace it with this. The below method is providing the Password Encoder bean to spring container to enforce security.</p>\n<pre><code>@Bean\npublic PasswordEncoder passwordEncoder()\n{\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>In your controller, now you can autowire this as:</p>\n<pre><code>@Autowired    \nprivate BCryptPasswordEncoder bCryptPasswordEncoder;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16263370,"reputation":1,"user_id":11744135,"display_name":"BHARATBHAI SOLANKI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670308591,"creation_date":1670308591,"answer_id":74698237,"question_id":67329349,"body_markdown":"    Replace it with this. The below method is providing the Password Encoder bean to spring container to enforce security.\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder()\r\n    {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n    In your controller, now you can autowire this as:\r\n    @Autowired    \r\n    private PasswordEncoder passwordEncoder;","title":"Error: Required a bean of type &#39;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&#39; that could not be found","body":"<pre><code>Replace it with this. The below method is providing the Password Encoder bean to spring container to enforce security.\n@Bean\npublic PasswordEncoder passwordEncoder()\n{\n    return new BCryptPasswordEncoder();\n}\nIn your controller, now you can autowire this as:\n@Autowired    \nprivate PasswordEncoder passwordEncoder;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15183586,"reputation":33,"user_id":10956250,"display_name":"Soufiane D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696882985,"creation_date":1696882985,"answer_id":77261583,"question_id":67329349,"body_markdown":"I had the same error, \r\nand i inject this Bean in my ApplicationConfig, and it works \r\n\r\n    @Bean\r\n    private PasswordEncoder passwordEncoder() {\r\n      return new BCryptPasswordEncoder();\r\n    }","title":"Error: Required a bean of type &#39;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&#39; that could not be found","body":"<p>I had the same error,\nand i inject this Bean in my ApplicationConfig, and it works</p>\n<pre><code>@Bean\nprivate PasswordEncoder passwordEncoder() {\n  return new BCryptPasswordEncoder();\n}\n</code></pre>\n"}],"owner":{"account_id":2551271,"reputation":1027,"user_id":2214972,"accept_rate":43,"display_name":"VJain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67329461,"answer_count":4,"score":1,"last_activity_date":1696882985,"creation_date":1619765057,"question_id":67329349,"body_markdown":"I want to use Spring Boot Security in my project by creating a simple login screen but i get these error while running y application\r\n\r\n**Description:\r\nParameter 1 of constructor in com.panchmeru_studio.controller.UserController required a bean of type &#39;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&#39; that could not be found.**\r\n\r\n\r\n**Action:Consider defining a bean of type org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&#39; in your configuration.**\r\nHere is my code.\r\n\r\n&gt; UserController\r\n\r\n    package com.panchmeru_studio.controller;\r\n    \r\n    import com.panchmeru_studio.entities.ApplicationUser;\r\n    import com.panchmeru_studio.repository.ApplicationUserRepository;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/users&quot;)\r\n    public class UserController {\r\n    \r\n        private ApplicationUserRepository applicationUserRepository;\r\n        private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n        public UserController(ApplicationUserRepository applicationUserRepository,\r\n                              BCryptPasswordEncoder bCryptPasswordEncoder) {\r\n            this.applicationUserRepository = applicationUserRepository;\r\n            this.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n        }\r\n    \r\n        @PostMapping(&quot;/record&quot;)\r\n        public void signUp(@RequestBody ApplicationUser applicationUser) {\r\n            applicationUser.setPassword(bCryptPasswordEncoder.encode(applicationUser.getPassword()));\r\n            applicationUserRepository.save(applicationUser);\r\n        }\r\n    }\r\n\r\n&gt; SecurityConfiguration.java\r\n\r\n    package com.panchmeru_studio.security;\r\n    \r\n    import com.panchmeru_studio.filter.AuthenticationFilter;\r\n    import com.panchmeru_studio.filter.AuthorizationFilter;\r\n    \r\n    import com.panchmeru_studio.service.ApplicationUserDetailsService;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.web.cors.CorsConfiguration;\r\n    import org.springframework.web.cors.CorsConfigurationSource;\r\n    import org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\n    \r\n    import static com.panchmeru_studio.constants.SecurityConstants.SIGN_UP_URL;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        private ApplicationUserDetailsService userDetailsService;\r\n        private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n        public SecurityConfiguration(ApplicationUserDetailsService userDetailsService, BCryptPasswordEncoder bCryptPasswordEncoder) {\r\n            this.userDetailsService = userDetailsService;\r\n            this.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.cors().and().csrf().disable().authorizeRequests()\r\n                    .antMatchers(HttpMethod.POST, SIGN_UP_URL).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .addFilter(new AuthenticationFilter(authenticationManager()))\r\n                    .addFilter(new AuthorizationFilter(authenticationManager()))\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        }\r\n        @Bean\r\n        CorsConfigurationSource corsConfigurationSource() {\r\n            final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            source.registerCorsConfiguration(&quot;/**&quot;, new CorsConfiguration().applyPermitDefaultValues());\r\n            return source;\r\n        }\r\n    \r\n        @Override\r\n        public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n        }\r\n        \r\n    \r\n    \r\n    \t@Override\r\n    \t@Bean\r\n    \tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n    \t\treturn super.authenticationManagerBean();\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n","title":"Error: Required a bean of type &#39;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&#39; that could not be found","body":"<p>I want to use Spring Boot Security in my project by creating a simple login screen but i get these error while running y application</p>\n<p><strong>Description:\nParameter 1 of constructor in com.panchmeru_studio.controller.UserController required a bean of type 'org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder' that could not be found.</strong></p>\n<p><strong>Action:Consider defining a bean of type org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder' in your configuration.</strong>\nHere is my code.</p>\n<blockquote>\n<p>UserController</p>\n</blockquote>\n<pre><code>package com.panchmeru_studio.controller;\n\nimport com.panchmeru_studio.entities.ApplicationUser;\nimport com.panchmeru_studio.repository.ApplicationUserRepository;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n\n    private ApplicationUserRepository applicationUserRepository;\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    public UserController(ApplicationUserRepository applicationUserRepository,\n                          BCryptPasswordEncoder bCryptPasswordEncoder) {\n        this.applicationUserRepository = applicationUserRepository;\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n    }\n\n    @PostMapping(&quot;/record&quot;)\n    public void signUp(@RequestBody ApplicationUser applicationUser) {\n        applicationUser.setPassword(bCryptPasswordEncoder.encode(applicationUser.getPassword()));\n        applicationUserRepository.save(applicationUser);\n    }\n}\n</code></pre>\n<blockquote>\n<p>SecurityConfiguration.java</p>\n</blockquote>\n<pre><code>package com.panchmeru_studio.security;\n\nimport com.panchmeru_studio.filter.AuthenticationFilter;\nimport com.panchmeru_studio.filter.AuthorizationFilter;\n\nimport com.panchmeru_studio.service.ApplicationUserDetailsService;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.CorsConfigurationSource;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\n\nimport static com.panchmeru_studio.constants.SecurityConstants.SIGN_UP_URL;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    private ApplicationUserDetailsService userDetailsService;\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    public SecurityConfiguration(ApplicationUserDetailsService userDetailsService, BCryptPasswordEncoder bCryptPasswordEncoder) {\n        this.userDetailsService = userDetailsService;\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable().authorizeRequests()\n                .antMatchers(HttpMethod.POST, SIGN_UP_URL).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .addFilter(new AuthenticationFilter(authenticationManager()))\n                .addFilter(new AuthorizationFilter(authenticationManager()))\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    }\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, new CorsConfiguration().applyPermitDefaultValues());\n        return source;\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n    }\n    \n\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","javafx","fxml"],"answers":[{"comments":[{"owner":{"account_id":3823725,"reputation":2958,"user_id":3171100,"accept_rate":67,"display_name":"Chris Smith"},"score":0,"creation_date":1436466590,"post_id":31325397,"comment_id":50637286,"body_markdown":"It&#39;s sad that you can&#39;t pass a `Class`, but this works. Thank you!","body":"It&#39;s sad that you can&#39;t pass a <code>Class</code>, but this works. Thank you!"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1436467077,"post_id":31325397,"comment_id":50637598,"body_markdown":"Well, even if you could, the only way you could create one in FXML is by specifying the class name as a `String` anyway, so you really haven&#39;t lost much. You could define an overloaded constructor taking a `Class&lt;E extends Enum&lt;E&gt;&gt;` for use from Java code, if you wanted.","body":"Well, even if you could, the only way you could create one in FXML is by specifying the class name as a <code>String</code> anyway, so you really haven&#39;t lost much. You could define an overloaded constructor taking a <code>Class&lt;E extends Enum&lt;E&gt;&gt;</code> for use from Java code, if you wanted."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1696882297,"creation_date":1436466360,"answer_id":31325397,"question_id":31325062,"body_markdown":"An element whose name corresponds to a class name is an instruction to the `FXMLLoader` to instantiate that class; so \r\n\r\n    &lt;MyCustomValues/&gt;\r\n\r\nwill cause the `FXMLLoader` to attempt to invoke `new MyCustomValues()`, which of course it cannot do with an enum type.\r\n\r\nIdeally, you would want to pass in the actual `Class` object itself here, but as I can see no way to instantiate a `Class&lt;?&gt;` in FXML, I think the best you can do is to pass the name of the class. For example:\r\n\r\n    package application;\r\n    \r\n    import javafx.beans.NamedArg;\r\n    import javafx.scene.control.ChoiceBox;\r\n    \r\n    public class EnumChoiceBox&lt;E extends Enum&lt;E&gt;&gt; extends ChoiceBox&lt;E&gt; {\r\n        \r\n        public EnumChoiceBox(@NamedArg(&quot;enumType&quot;) String enumType) throws Exception {\r\n            Class&lt;E&gt; enumClass = (Class&lt;E&gt;) Class.forName(enumType);\r\n            getItems().setAll(enumClass.getEnumConstants());\r\n        }\r\n    }\r\n\r\nand then you can do:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.layout.StackPane?&gt;\r\n    &lt;?import application.EnumChoiceBox?&gt;\r\n    \r\n    &lt;StackPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n    \t&lt;EnumChoiceBox enumType=&quot;application.MyCustomValues&quot;/&gt;\r\n    &lt;/StackPane&gt;\r\n\r\n(replacing `application` with the actual package name of `MyCustomValues`).\r\n\r\n---\r\n\r\nUpdate\r\n===\r\n\r\nContrary to what I believed eight years ago, this is actually possible with the initial setup in the question. All that is required to be passed is one value from the enum (not the enum class itself), and this can be done using `fx:constant`:\r\n\r\n```\r\n&lt;ChoiceBoxSetting&gt;\r\n    &lt;values&gt;\r\n        &lt;MyCustomValues fx:constant=&quot;HI&quot;/&gt;\r\n    &lt;/values&gt;\r\n&lt;/ChoiceBoxSetting&gt;\r\n```\r\n\r\nThe choice of which value to pass is arbitrary.","title":"Pass Enum in FXML","body":"<p>An element whose name corresponds to a class name is an instruction to the <code>FXMLLoader</code> to instantiate that class; so</p>\n<pre><code>&lt;MyCustomValues/&gt;\n</code></pre>\n<p>will cause the <code>FXMLLoader</code> to attempt to invoke <code>new MyCustomValues()</code>, which of course it cannot do with an enum type.</p>\n<p>Ideally, you would want to pass in the actual <code>Class</code> object itself here, but as I can see no way to instantiate a <code>Class&lt;?&gt;</code> in FXML, I think the best you can do is to pass the name of the class. For example:</p>\n<pre><code>package application;\n\nimport javafx.beans.NamedArg;\nimport javafx.scene.control.ChoiceBox;\n\npublic class EnumChoiceBox&lt;E extends Enum&lt;E&gt;&gt; extends ChoiceBox&lt;E&gt; {\n    \n    public EnumChoiceBox(@NamedArg(&quot;enumType&quot;) String enumType) throws Exception {\n        Class&lt;E&gt; enumClass = (Class&lt;E&gt;) Class.forName(enumType);\n        getItems().setAll(enumClass.getEnumConstants());\n    }\n}\n</code></pre>\n<p>and then you can do:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.StackPane?&gt;\n&lt;?import application.EnumChoiceBox?&gt;\n\n&lt;StackPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;EnumChoiceBox enumType=&quot;application.MyCustomValues&quot;/&gt;\n&lt;/StackPane&gt;\n</code></pre>\n<p>(replacing <code>application</code> with the actual package name of <code>MyCustomValues</code>).</p>\n<hr />\n<h1>Update</h1>\n<p>Contrary to what I believed eight years ago, this is actually possible with the initial setup in the question. All that is required to be passed is one value from the enum (not the enum class itself), and this can be done using <code>fx:constant</code>:</p>\n<pre><code>&lt;ChoiceBoxSetting&gt;\n    &lt;values&gt;\n        &lt;MyCustomValues fx:constant=&quot;HI&quot;/&gt;\n    &lt;/values&gt;\n&lt;/ChoiceBoxSetting&gt;\n</code></pre>\n<p>The choice of which value to pass is arbitrary.</p>\n"}],"owner":{"account_id":3823725,"reputation":2958,"user_id":3171100,"accept_rate":67,"display_name":"Chris Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1931,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":31325397,"answer_count":1,"score":2,"last_activity_date":1696882297,"creation_date":1436465200,"question_id":31325062,"body_markdown":"I am making a custom FXML component. What I want to do it pass an Enum to the component so that it can retrieve all the values from the Enum. Here is a snippet of the custom component:\r\n\r\n    public ChoiceBoxSetting(@NamedArg(&quot;values&quot;) Enum values) {\r\n        choiceBox.getItems().setAll(values.getDeclaringClass().getEnumConstants());\r\n\r\nAnd here is the FXML creating it:\r\n\r\n    &lt;ChoiceBoxSetting&gt;\r\n        &lt;values&gt;\r\n            &lt;MyCustomValues/&gt;\r\n        &lt;/values&gt;\r\n    &lt;/ChoiceBoxSetting&gt;\r\n\r\nAnd here is the `MyCustomValues` enum:\r\n\r\n    public enum MyCustomValues {\r\n    \tHI, HELLO, ME\r\n    }\r\n\r\nSo when I run it, I get this exception:\r\n\r\n    Caused by: javafx.fxml.LoadException: MyCustomValues is not a valid type.\r\n\r\nI am trying to pass the enum it&#39;s self, **not** one of the enum values, such as `MyCustomValues.HI`.","title":"Pass Enum in FXML","body":"<p>I am making a custom FXML component. What I want to do it pass an Enum to the component so that it can retrieve all the values from the Enum. Here is a snippet of the custom component:</p>\n\n<pre><code>public ChoiceBoxSetting(@NamedArg(\"values\") Enum values) {\n    choiceBox.getItems().setAll(values.getDeclaringClass().getEnumConstants());\n</code></pre>\n\n<p>And here is the FXML creating it:</p>\n\n<pre><code>&lt;ChoiceBoxSetting&gt;\n    &lt;values&gt;\n        &lt;MyCustomValues/&gt;\n    &lt;/values&gt;\n&lt;/ChoiceBoxSetting&gt;\n</code></pre>\n\n<p>And here is the <code>MyCustomValues</code> enum:</p>\n\n<pre><code>public enum MyCustomValues {\n    HI, HELLO, ME\n}\n</code></pre>\n\n<p>So when I run it, I get this exception:</p>\n\n<pre><code>Caused by: javafx.fxml.LoadException: MyCustomValues is not a valid type.\n</code></pre>\n\n<p>I am trying to pass the enum it's self, <strong>not</strong> one of the enum values, such as <code>MyCustomValues.HI</code>.</p>\n"},{"tags":["java","spring-boot","hibernate"],"owner":{"account_id":9937704,"reputation":99,"user_id":7355471,"accept_rate":80,"display_name":"matcha-tea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696882015,"creation_date":1696881214,"question_id":77261435,"body_markdown":"I&#39;m trying to insert data in my table EventUser which has 3 FK&#39;s, eventId, userId, userFunctionId. I create first an event with id 1 and try to link everything in this table by postman :\r\n\r\n    localhost:8080/api/event/1/updateUsers\r\n\r\n    [\r\n        {&quot;userId&quot;: 1, &quot;userFunctionName&quot;: &quot;door&quot;},\r\n        {&quot;userId&quot;: 2, &quot;userFunctionName&quot;: &quot;bar&quot;}\r\n    ]\r\n\r\nI have this error message in the console :\r\n\r\n\r\n\r\n    2023-10-09 21:40:35 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1364, SQLState: HY000\r\n    2023-10-09 21:40:35 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Field &#39;event_id&#39; doesn&#39;t have a default value\r\n    2023-10-09 21:40:35 [http-nio-8080-exec-3] ERROR c.i.a.e.s.impl.EventUserService - JPA system exception while adding event\r\n    org.springframework.orm.jpa.JpaSystemException: could not execute statement [Field &#39;event_id&#39; doesn&#39;t have a default value] [insert into `event_user` (`created_at`,`created_by`,`modified_at`,`modified_by`,`id`) values (?,?,?,?,?)]\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:320)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:565)\r\n\r\n\r\nAll the objects passed exist and are logged when explicitly shown in the console.\r\n\r\nHere are the model and the function userd :\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    public class EventUser {\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @MapsId(&quot;eventId&quot;)\r\n        private Event event;\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @MapsId(&quot;userId&quot;)\r\n        private User user;\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @MapsId(&quot;userFunctionId&quot;)\r\n        private UserFunction userFunction;\r\n        @NotNull\r\n        private Timestamp createdAt;\r\n        @NotNull\r\n        private Long createdBy;\r\n        @NotNull\r\n        private Timestamp modifiedAt;\r\n        @NotNull\r\n        private Long modifiedBy;\r\n    }\r\n\r\n\r\n\r\nFunction : \r\n\r\n    @Override\r\n        public EventUser addEventUser(EventUser eventUser) {\r\n            Timestamp currentTimestamp = new Timestamp(System.currentTimeMillis());\r\n    \r\n            // Check that the event, user, and userFunction properties are set\r\n            if (eventUser.getEvent() == null || eventUser.getUser() == null || eventUser.getUserFunction() == null) {\r\n                throw new IllegalArgumentException(&quot;Event, User, or UserFunction is not set in EventUser.&quot;);\r\n            }\r\n    \r\n            eventUser.setCreatedAt(currentTimestamp);\r\n            eventUser.setModifiedAt(currentTimestamp);\r\n    \r\n            try {\r\n                return eventUserRepository.save(eventUser);\r\n            } catch (DataIntegrityViolationException e) {\r\n                logger.error(&quot;[api.events.service.impl.EventUserService] addEventUser: Data integrity violation while adding event user&quot;, e);\r\n                throw new RuntimeException(&quot;[api.events.service.impl.EventUserService] addEventUser: Error adding event user: Data integrity violation&quot;, e);\r\n            } catch (JpaSystemException e) {\r\n                logger.error(&quot;JPA system exception while adding event&quot;, e);\r\n                throw new RuntimeException(&quot;[api.events.service.impl.EventUserService] addEventUser: Error adding event user: Database error&quot;, e);\r\n            } catch (Exception e) {\r\n                logger.error(&quot;[api.events.service.impl.EventUserService] addEventUser: An error occurred while adding event user&quot;, e);\r\n                throw new RuntimeException(&quot;Error adding event user&quot;, e);\r\n            }\r\n        }\r\n\r\nThank you for your help !","title":"Trying to insert data in a manyToOne field - could not execute statement [Field &#39;event_id&#39; doesn&#39;t have a default value]","body":"<p>I'm trying to insert data in my table EventUser which has 3 FK's, eventId, userId, userFunctionId. I create first an event with id 1 and try to link everything in this table by postman :</p>\n<pre><code>localhost:8080/api/event/1/updateUsers\n\n[\n    {&quot;userId&quot;: 1, &quot;userFunctionName&quot;: &quot;door&quot;},\n    {&quot;userId&quot;: 2, &quot;userFunctionName&quot;: &quot;bar&quot;}\n]\n</code></pre>\n<p>I have this error message in the console :</p>\n<pre><code>2023-10-09 21:40:35 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1364, SQLState: HY000\n2023-10-09 21:40:35 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Field 'event_id' doesn't have a default value\n2023-10-09 21:40:35 [http-nio-8080-exec-3] ERROR c.i.a.e.s.impl.EventUserService - JPA system exception while adding event\norg.springframework.orm.jpa.JpaSystemException: could not execute statement [Field 'event_id' doesn't have a default value] [insert into `event_user` (`created_at`,`created_by`,`modified_at`,`modified_by`,`id`) values (?,?,?,?,?)]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:320)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:565)\n</code></pre>\n<p>All the objects passed exist and are logged when explicitly shown in the console.</p>\n<p>Here are the model and the function userd :</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class EventUser {\n    @Id\n    @GeneratedValue\n    private Long id;\n    @ManyToOne(fetch = FetchType.EAGER)\n    @MapsId(&quot;eventId&quot;)\n    private Event event;\n    @ManyToOne(fetch = FetchType.EAGER)\n    @MapsId(&quot;userId&quot;)\n    private User user;\n    @ManyToOne(fetch = FetchType.EAGER)\n    @MapsId(&quot;userFunctionId&quot;)\n    private UserFunction userFunction;\n    @NotNull\n    private Timestamp createdAt;\n    @NotNull\n    private Long createdBy;\n    @NotNull\n    private Timestamp modifiedAt;\n    @NotNull\n    private Long modifiedBy;\n}\n</code></pre>\n<p>Function :</p>\n<pre><code>@Override\n    public EventUser addEventUser(EventUser eventUser) {\n        Timestamp currentTimestamp = new Timestamp(System.currentTimeMillis());\n\n        // Check that the event, user, and userFunction properties are set\n        if (eventUser.getEvent() == null || eventUser.getUser() == null || eventUser.getUserFunction() == null) {\n            throw new IllegalArgumentException(&quot;Event, User, or UserFunction is not set in EventUser.&quot;);\n        }\n\n        eventUser.setCreatedAt(currentTimestamp);\n        eventUser.setModifiedAt(currentTimestamp);\n\n        try {\n            return eventUserRepository.save(eventUser);\n        } catch (DataIntegrityViolationException e) {\n            logger.error(&quot;[api.events.service.impl.EventUserService] addEventUser: Data integrity violation while adding event user&quot;, e);\n            throw new RuntimeException(&quot;[api.events.service.impl.EventUserService] addEventUser: Error adding event user: Data integrity violation&quot;, e);\n        } catch (JpaSystemException e) {\n            logger.error(&quot;JPA system exception while adding event&quot;, e);\n            throw new RuntimeException(&quot;[api.events.service.impl.EventUserService] addEventUser: Error adding event user: Database error&quot;, e);\n        } catch (Exception e) {\n            logger.error(&quot;[api.events.service.impl.EventUserService] addEventUser: An error occurred while adding event user&quot;, e);\n            throw new RuntimeException(&quot;Error adding event user&quot;, e);\n        }\n    }\n</code></pre>\n<p>Thank you for your help !</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":1,"creation_date":1696862177,"post_id":77259646,"comment_id":136203847,"body_markdown":"What is even the point of the callback?","body":"What is even the point of the callback?"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":1,"creation_date":1696862423,"post_id":77259646,"comment_id":136203898,"body_markdown":"you do not need inflate .. just return `viewHolder = new VHSingleElement(myView)`","body":"you do not need inflate .. just return <code>viewHolder = new VHSingleElement(myView)</code>"},{"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"score":0,"creation_date":1696866968,"post_id":77259646,"comment_id":136204791,"body_markdown":"Actually I need to have this callback because behind the scenes I use AsyncLayoutInflater so I need to wait until its done.","body":"Actually I need to have this callback because behind the scenes I use AsyncLayoutInflater so I need to wait until its done."},{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1696885635,"post_id":77259646,"comment_id":136207849,"body_markdown":"I would actually try to avoid such solutions because recycler view layout manager really does need view to be laid out (and bound) immediately to prevent inconsistencies and expensive layout measurement passes. If your items are so heavy you need async inflater maybe you have to rethink your layout structure in general.","body":"I would actually try to avoid such solutions because recycler view layout manager really does need view to be laid out (and bound) immediately to prevent inconsistencies and expensive layout measurement passes. If your items are so heavy you need async inflater maybe you have to rethink your layout structure in general."}],"answers":[{"tags":[],"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696881664,"creation_date":1696881664,"answer_id":77261464,"question_id":77259646,"body_markdown":"The whole point of `AsyncLayoutManager` is that it doesn&#39;t block UI thread - so when you tell `mView` to `inflate` it immediately goes to next instruction(`return viewHolder`) because the inflation goes to background thread.\r\n\r\nYou can&#39;t retroactively change it what the function returned. \r\n\r\nYou want to set up each `ViewHolder` type to have initial state - basically what your `VHStart` is currently and have internal transition to it&#39;s final form. \r\n\r\nThe most basic version of this pattern is `ProgressBar` that you hide/remove once content is loaded.\r\n```\r\nclass AsyncVH : RecyclerView.ViewHolder(view) {\r\n\r\n\tprivate var isInflated: Boolean = false\r\n\tprivate var item: Item? = null\r\n\tprivate var view: View\r\n\t\r\n\r\n\tAsyncVH(view: View) {\r\n\t\tViewGroup itemParent = (ViewGroup) view\r\n\t\tAsyncLayoutInflater(view.context).inflate(new OnFinishedInflated() {\r\n            @Override\r\n            public void onFinished(View asyncView) {\r\n            \t// Hide/remove if you have initial progress view from view\r\n\t\t\t\titemParent.clearAll() // view.findViewById(R.id.progress).setVisibility(View.GONE)\r\n\t\t\t\titemParent.addView(asyncView)\r\n\t\t\t\tisInflated = true\r\n\t\t\t\tbind()\r\n            }\r\n        });\r\n\t}\r\n\r\n\tvoid bind(item: Item) {\r\n\t\tthis.item = item\r\n\t\tif(isInflated) {\r\n\t\t\tbind()\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void bind() { \r\n\t\tif (isInflated &amp;&amp; item != null) {\r\n\t\t\t// bind\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Android change onCreateViewHolder() returning viewHolder from custom calback","body":"<p>The whole point of <code>AsyncLayoutManager</code> is that it doesn't block UI thread - so when you tell <code>mView</code> to <code>inflate</code> it immediately goes to next instruction(<code>return viewHolder</code>) because the inflation goes to background thread.</p>\n<p>You can't retroactively change it what the function returned.</p>\n<p>You want to set up each <code>ViewHolder</code> type to have initial state - basically what your <code>VHStart</code> is currently and have internal transition to it's final form.</p>\n<p>The most basic version of this pattern is <code>ProgressBar</code> that you hide/remove once content is loaded.</p>\n<pre><code>class AsyncVH : RecyclerView.ViewHolder(view) {\n\n    private var isInflated: Boolean = false\n    private var item: Item? = null\n    private var view: View\n    \n\n    AsyncVH(view: View) {\n        ViewGroup itemParent = (ViewGroup) view\n        AsyncLayoutInflater(view.context).inflate(new OnFinishedInflated() {\n            @Override\n            public void onFinished(View asyncView) {\n                // Hide/remove if you have initial progress view from view\n                itemParent.clearAll() // view.findViewById(R.id.progress).setVisibility(View.GONE)\n                itemParent.addView(asyncView)\n                isInflated = true\n                bind()\n            }\n        });\n    }\n\n    void bind(item: Item) {\n        this.item = item\n        if(isInflated) {\n            bind()\n        }\n    }\n\n    private void bind() { \n        if (isInflated &amp;&amp; item != null) {\n            // bind\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696881664,"creation_date":1696861587,"question_id":77259646,"body_markdown":"I want to return viewHolder in recyclerview onCreateViewHolder() asynchronously. \r\n\r\nAt start the `viewHolder` should be like it is in the first line (and it works until now) but once my callback is called later on, `viewHolder` should be as it is set inside my callback. Unfortunatelly this never happens. Here is the code:\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        viewHolder = new VHStart(LayoutInflater.from(fragment.requireContext()).inflate(R.layout.item_note_loading,parent,false));\r\n        if (viewType == VIEW_TYPE_ONE) {\r\n            MyView myView = new MyView(parent.getContext(), this);\r\n            myView.inflate(new OnFinishedInflated() {\r\n                @Override\r\n                public void onFinished(View view) {\r\n                    viewHolder = new VHSingleElement(view);\r\n                }\r\n            });\r\n        } else if (viewType == VIEW_TYPE_TWO) {\r\n            // will add this later\r\n        } else\r\n            throw new RuntimeException(&quot;No such view type&quot;);\r\n\r\n        return viewHolder;\r\n    }\r\n\r\n\r\nHow to solve that?","title":"Android change onCreateViewHolder() returning viewHolder from custom calback","body":"<p>I want to return viewHolder in recyclerview onCreateViewHolder() asynchronously.</p>\n<p>At start the <code>viewHolder</code> should be like it is in the first line (and it works until now) but once my callback is called later on, <code>viewHolder</code> should be as it is set inside my callback. Unfortunatelly this never happens. Here is the code:</p>\n<pre><code>@NonNull\n@Override\npublic RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    viewHolder = new VHStart(LayoutInflater.from(fragment.requireContext()).inflate(R.layout.item_note_loading,parent,false));\n    if (viewType == VIEW_TYPE_ONE) {\n        MyView myView = new MyView(parent.getContext(), this);\n        myView.inflate(new OnFinishedInflated() {\n            @Override\n            public void onFinished(View view) {\n                viewHolder = new VHSingleElement(view);\n            }\n        });\n    } else if (viewType == VIEW_TYPE_TWO) {\n        // will add this later\n    } else\n        throw new RuntimeException(&quot;No such view type&quot;);\n\n    return viewHolder;\n}\n</code></pre>\n<p>How to solve that?</p>\n"},{"tags":["java","xml","serialization","jackson"],"owner":{"account_id":29634953,"reputation":1,"user_id":22712472,"display_name":"Senelyza5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696881109,"creation_date":1696881109,"question_id":77261430,"body_markdown":"I get this issue,where jackson xml cannot map the Ccy field from other CcyAmt class.\r\n\r\n```\r\ncom.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;Ccy&quot; (class com.currencyExchanger.codeAcadaemy.FxRate), not marked as ignorable (4 known properties: &quot;Dt&quot;, &quot;Tp&quot;, &quot;ccyAmt&quot;, &quot;CcyAmt&quot;])\r\n\r\n```\r\nWhy jackson cannot see the field Ccy field?\r\n\r\n\r\nThis is my xml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;FxRates&gt;\r\n    &lt;FxRate&gt;\r\n        &lt;Tp&gt;EU&lt;/Tp&gt;\r\n        &lt;Dt&gt;2023-10-02&lt;/Dt&gt;\r\n        &lt;CcyAmt&gt;\r\n            &lt;Ccy&gt;EUR&lt;/Ccy&gt;\r\n            &lt;Amt&gt;1&lt;/Amt&gt;\r\n        &lt;/CcyAmt&gt;\r\n        &lt;CcyAmt&gt;\r\n            &lt;Ccy&gt;AUD&lt;/Ccy&gt;\r\n            &lt;Amt&gt;1.6472&lt;/Amt&gt;\r\n        &lt;/CcyAmt&gt;\r\n    &lt;/FxRate&gt;\r\n&lt;/FxRates&gt;\r\n```\r\n\r\nThis is the CcyAmt class with the problematic Ccy field.\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ToString\r\n@JacksonXmlRootElement(localName = &quot;CcyAmt&quot;)\r\npublic class CcyAmt {\r\n\r\n    @JacksonXmlProperty(localName = &quot;Ccy&quot;)\r\n    private String ccy;\r\n\r\n    @JacksonXmlProperty(localName = &quot;Amt&quot;)\r\n    private double amt;\r\n\r\n    public CcyAmt(String ccy) {\r\n        this.ccy = ccy;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThat&#39;s my FxRate class:\r\n```\r\n@Getter\r\n@Setter @AllArgsConstructor @NoArgsConstructor\r\n@ToString\r\n\r\n@JacksonXmlRootElement(localName = &quot;FxRate&quot;)\r\npublic class FxRate {\r\nCcyAmt ccyAmt;\r\n\r\n    @JsonProperty(&quot;Tp&quot;)\r\n    private String tp;\r\n\r\n    @JacksonXmlProperty(localName = &quot;Dt&quot;)\r\n    private String dt;\r\n\r\n    @JacksonXmlProperty (localName = &quot;CcyAmt&quot;)\r\n   @JacksonXmlElementWrapper (localName = &quot;CcyAmt&quot;)\r\n    private List&lt;CcyAmt&gt; ccyAmtList = new ArrayList&lt;&gt;();\r\n\r\n    public FxRate(String tp) {\r\n        this.tp = tp;\r\n    }\r\n\r\n    public String getTp() {\r\n        return tp;\r\n    }\r\n\r\n    public void setTp(String tp) {\r\n        this.tp = tp;\r\n    }\r\n\r\n    public String getDt() {\r\n        return dt;\r\n    }\r\n\r\n    public void setDt(String dt) {\r\n        this.dt = dt;\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nI could not successfully find out what&#39;s the issue, it seems that the jackson does not reach the CcyAmt class? ","title":"Unrecognized field in JacksonXML","body":"<p>I get this issue,where jackson xml cannot map the Ccy field from other CcyAmt class.</p>\n<pre><code>com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;Ccy&quot; (class com.currencyExchanger.codeAcadaemy.FxRate), not marked as ignorable (4 known properties: &quot;Dt&quot;, &quot;Tp&quot;, &quot;ccyAmt&quot;, &quot;CcyAmt&quot;])\n\n</code></pre>\n<p>Why jackson cannot see the field Ccy field?</p>\n<p>This is my xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;FxRates&gt;\n    &lt;FxRate&gt;\n        &lt;Tp&gt;EU&lt;/Tp&gt;\n        &lt;Dt&gt;2023-10-02&lt;/Dt&gt;\n        &lt;CcyAmt&gt;\n            &lt;Ccy&gt;EUR&lt;/Ccy&gt;\n            &lt;Amt&gt;1&lt;/Amt&gt;\n        &lt;/CcyAmt&gt;\n        &lt;CcyAmt&gt;\n            &lt;Ccy&gt;AUD&lt;/Ccy&gt;\n            &lt;Amt&gt;1.6472&lt;/Amt&gt;\n        &lt;/CcyAmt&gt;\n    &lt;/FxRate&gt;\n&lt;/FxRates&gt;\n</code></pre>\n<p>This is the CcyAmt class with the problematic Ccy field.</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@JacksonXmlRootElement(localName = &quot;CcyAmt&quot;)\npublic class CcyAmt {\n\n    @JacksonXmlProperty(localName = &quot;Ccy&quot;)\n    private String ccy;\n\n    @JacksonXmlProperty(localName = &quot;Amt&quot;)\n    private double amt;\n\n    public CcyAmt(String ccy) {\n        this.ccy = ccy;\n    }\n}\n\n</code></pre>\n<p>That's my FxRate class:</p>\n<pre><code>@Getter\n@Setter @AllArgsConstructor @NoArgsConstructor\n@ToString\n\n@JacksonXmlRootElement(localName = &quot;FxRate&quot;)\npublic class FxRate {\nCcyAmt ccyAmt;\n\n    @JsonProperty(&quot;Tp&quot;)\n    private String tp;\n\n    @JacksonXmlProperty(localName = &quot;Dt&quot;)\n    private String dt;\n\n    @JacksonXmlProperty (localName = &quot;CcyAmt&quot;)\n   @JacksonXmlElementWrapper (localName = &quot;CcyAmt&quot;)\n    private List&lt;CcyAmt&gt; ccyAmtList = new ArrayList&lt;&gt;();\n\n    public FxRate(String tp) {\n        this.tp = tp;\n    }\n\n    public String getTp() {\n        return tp;\n    }\n\n    public void setTp(String tp) {\n        this.tp = tp;\n    }\n\n    public String getDt() {\n        return dt;\n    }\n\n    public void setDt(String dt) {\n        this.dt = dt;\n    }\n\n\n}\n\n</code></pre>\n<p>I could not successfully find out what's the issue, it seems that the jackson does not reach the CcyAmt class?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","selenium-java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695288681,"post_id":77148932,"comment_id":136005549,"body_markdown":"didn&#39;t I see this question yesterday as well?","body":"didn&#39;t I see this question yesterday as well?"},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":2,"creation_date":1695288923,"post_id":77148932,"comment_id":136005605,"body_markdown":"Does this answer your question? - https://stackoverflow.com/a/76927754/7598774","body":"Does this answer your question? - <a href=\"https://stackoverflow.com/a/76927754/7598774\">stackoverflow.com/a/76927754/7598774</a>"},{"owner":{"account_id":7468263,"reputation":21,"user_id":5677866,"display_name":"Katerina Adamantidi"},"score":0,"creation_date":1695624498,"post_id":77148932,"comment_id":136043928,"body_markdown":"No it doesn&#39;t. I have those packages in my pom.xml and issue still exists.\nWhen chrome was updated from 114 to 116 these packages updates fixed the issue but when chrome was updated from 116 to 117 issue appeared again","body":"No it doesn&#39;t. I have those packages in my pom.xml and issue still exists. When chrome was updated from 114 to 116 these packages updates fixed the issue but when chrome was updated from 116 to 117 issue appeared again"}],"answers":[{"tags":[],"owner":{"account_id":18294970,"reputation":21,"user_id":13321071,"display_name":"Reffiel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696075451,"creation_date":1695997354,"answer_id":77202709,"question_id":77148932,"body_markdown":"To solve this problem, I used this link\r\n([Chrome for Testing availability][1]) and checked the chromedriver according to my OS.\r\nDo not forget to confirm and adjust if necessary the environment variables for chromedriver.\r\n\r\nChrome &gt; Version 117.0.5938.132\r\nChromeDriver &gt; [Download Link][2]\r\n\r\nI hope I have helped.\r\n\r\n\r\n  [1]: https://googlechromelabs.github.io/chrome-for-testing/#stable\r\n  [2]: https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/117.0.5938.92/win32/chromedriver-win32.zip","title":"This version of ChromeDriver only supports Chrome version 114 Current browser version is 117.0.5938.89","body":"<p>To solve this problem, I used this link\n(<a href=\"https://googlechromelabs.github.io/chrome-for-testing/#stable\" rel=\"nofollow noreferrer\">Chrome for Testing availability</a>) and checked the chromedriver according to my OS.\nDo not forget to confirm and adjust if necessary the environment variables for chromedriver.</p>\n<p>Chrome &gt; Version 117.0.5938.132\nChromeDriver &gt; <a href=\"https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/117.0.5938.92/win32/chromedriver-win32.zip\" rel=\"nofollow noreferrer\">Download Link</a></p>\n<p>I hope I have helped.</p>\n"}],"owner":{"account_id":7468263,"reputation":21,"user_id":5677866,"display_name":"Katerina Adamantidi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5699,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696880967,"creation_date":1695288583,"question_id":77148932,"body_markdown":"I am trying to execute a Java selenium test.\r\n\r\nExpected outcome: Browser session is started and test steps are performed.\r\n\r\nCurrent behavior: Browser session is not started with error:\r\n````\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114\r\nCurrent browser version is 117.0.5938.89 with binary path C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe \r\n````\r\nI am getting the following error after chrome got updated from 116 to 117 version:\r\n````\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114\r\nCurrent browser version is 117.0.5938.89 with binary path C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe \r\n````\r\nIn my pom.xml file I have:\r\n\r\n&gt;webdriver-manager 5.5.3\r\n\r\n&gt;selenium-java     4.12.1\r\n","title":"This version of ChromeDriver only supports Chrome version 114 Current browser version is 117.0.5938.89","body":"<p>I am trying to execute a Java selenium test.</p>\n<p>Expected outcome: Browser session is started and test steps are performed.</p>\n<p>Current behavior: Browser session is not started with error:</p>\n<pre><code>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114\nCurrent browser version is 117.0.5938.89 with binary path C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe \n</code></pre>\n<p>I am getting the following error after chrome got updated from 116 to 117 version:</p>\n<pre><code>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114\nCurrent browser version is 117.0.5938.89 with binary path C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe \n</code></pre>\n<p>In my pom.xml file I have:</p>\n<blockquote>\n<p>webdriver-manager 5.5.3</p>\n</blockquote>\n<blockquote>\n<p>selenium-java     4.12.1</p>\n</blockquote>\n"},{"tags":["java","grpc","istio","grpc-java","istio-sidecar"],"answers":[{"comments":[{"owner":{"account_id":10770086,"reputation":9,"user_id":9587562,"display_name":"aditya ranjan Barik"},"score":0,"creation_date":1699603184,"post_id":77246887,"comment_id":136555290,"body_markdown":"got it , but how to run it in proxyless mode","body":"got it , but how to run it in proxyless mode"},{"owner":{"account_id":10770086,"reputation":9,"user_id":9587562,"display_name":"aditya ranjan Barik"},"score":0,"creation_date":1699604698,"post_id":77246887,"comment_id":136555481,"body_markdown":"i have use this while creating channel :\n.proxyDetector(GrpcUtil.NOOP_PROXY_DETECTOR)","body":"i have use this while creating channel : .proxyDetector(GrpcUtil.NOOP_PROXY_DETECTOR)"}],"tags":[],"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696880381,"creation_date":1696619701,"answer_id":77246887,"question_id":77136374,"body_markdown":"In your deployment spec on the client side I see something called GRPC_SERVER_ADDRESS being set to `xds:///grpc-server-service.grpc-istio.svc.cluster.local:9090` which will only work in the proxyless mode. In the proxy mode (with Envoy sidecar) you need to remove the `xds:///` prefix so that the access goes through DNS lookup first and then the sidecar which will use xDS lookup.","title":"GRPC Client not able to find Virtual hostname when deployed with istio DestinationRule and VirtualService","body":"<p>In your deployment spec on the client side I see something called GRPC_SERVER_ADDRESS being set to <code>xds:///grpc-server-service.grpc-istio.svc.cluster.local:9090</code> which will only work in the proxyless mode. In the proxy mode (with Envoy sidecar) you need to remove the <code>xds:///</code> prefix so that the access goes through DNS lookup first and then the sidecar which will use xDS lookup.</p>\n"}],"owner":{"account_id":10770086,"reputation":9,"user_id":9587562,"display_name":"aditya ranjan Barik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696880381,"creation_date":1695140974,"question_id":77136374,"body_markdown":"I have an Grpc application ( java + maven). Both grpc server and client are deployed with istio on minikube cluster. When grpc client tries to make a grpc call to server it gets Error \r\n\r\n```\r\nSEVERE: Servlet.service() for servlet [ServerSubsetServlet] in context with path [/grpc_client] threw exception\r\nio.grpc.StatusRuntimeException: UNAVAILABLE: Failed to find virtual host matching hostname: grpc-server-service.grpc-istio.svc.cluster.local:9090\r\n    at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:271)\r\n    at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:252)\r\n    at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:165)\r\n    at com.example.grpcproto.GrpcIstioRoutingServerGrpc$GrpcIstioRoutingServerBlockingStub.getServerSubset(GrpcIstioRoutingServerGrpc.java:157)\r\n    at org.example.GrpcClientHandler.getServerSubset(GrpcClientHandler.java:39)\r\n    at org.example.ServerSubsetTestServlet.doGet(ServerSubsetTestServlet.java:23)\r\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n```\r\n\r\n\r\nServer Side Destination Rule and Virtual Service\r\n\r\n```\r\n---\r\napiVersion: networking.istio.io/v1alpha3\r\nkind: DestinationRule\r\nmetadata:\r\n  name: grpc-server-destination\r\n  namespace: grpc-istio\r\nspec:\r\n  host: grpc-server-service.grpc-istio.svc.cluster.local\r\n  subsets:\r\n  - name: server-1\r\n    labels:\r\n      server: server-1\r\n  - name: server-2\r\n    labels:\r\n      server: server-2\r\n---\r\napiVersion: networking.istio.io/v1alpha3\r\nkind: VirtualService\r\nmetadata:\r\n  name: grpc-server-route\r\n  namespace: grpc-istio\r\nspec:\r\n  hosts:\r\n    - grpc-server-service.grpc-istio.svc.cluster.local\r\n  http:\r\n  - match:\r\n    - headers:\r\n        SERVER:\r\n          exact: &quot;server-1&quot;\r\n    route:\r\n    - destination:\r\n        host: grpc-server-service.grpc-istio.svc.cluster.local\r\n        subset: server-1\r\n  - match:\r\n    - headers:\r\n        SERVER:\r\n          exact: &quot;server-2&quot;\r\n    route:\r\n    - destination:\r\n        host: grpc-server-service.grpc-istio.svc.cluster.local\r\n        subset: server-2\r\n\r\n```\r\n\r\n\r\nClient side Deployment yaml\r\n\r\n```\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: grpc-client\r\n  namespace: grpc-istio\r\n  labels:\r\n    name: grpc-client\r\nspec:\r\n  replicas: 1\r\n  selector:\r\n    matchLabels:\r\n      app: grpc-client\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: grpc-client\r\n      annotations:\r\n        sidecar.istio.io/inject: &#39;true&#39;\r\n        proxy.istio.io/config: &#39;holdApplicationUntilProxyStarts: true&#39;\r\n        inject.istio.io/templates: &#39;grpc-agent&#39;\r\n    spec:\r\n      containers:\r\n        - name: grpc-client\r\n          image: grpc-client:latest\r\n          imagePullPolicy: IfNotPresent\r\n          env:\r\n            - name: GRPC_SERVER_ADDRESS\r\n              value: &quot;xds:///grpc-server-service.grpc-istio.svc.cluster.local:9090&quot;\r\n          ports:\r\n            - containerPort: 8080\r\n\r\n```\r\n\r\n\r\n\r\nWithout envoy proxy side car  the GRPC client and server are able to communicate using channel, but when sidecar container is deployed and virtual service along with destination rule is used for request routing the client get this above error\r\n\r\nUnable to get what is wrong with Virtual service / DestinationRule!!\r\n\r\n*Expected Behaviour:*\r\n\r\nSetup is like we can hit grpc client which also exposes the 8080 port for HTTP calls ,\r\nwhen we hit the http call with a param *server-1* or *server-2* it directs the grpc call to server with the same corresponding label\r\n\r\nThere are 2 deployments for server with different labels\r\neach deployment has 2 replicas.\r\n\r\nSo when grp client make the request with *server-1* in header metadata the call should go to the pod with *server: server-1* label, and similarly when request is made using *server-2* header the call should go to pods with label of *server: server-2*\r\n\r\n```\r\n---\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: grpc-server-1\r\n  namespace: grpc-istio\r\n  labels:\r\n    name: grpc-server-1\r\n    server: server-1\r\nspec:\r\n  replicas: 2\r\n  selector:\r\n    matchLabels:\r\n      app: grpc-server\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: grpc-server\r\n        server: server-1\r\n      annotations:\r\n        sidecar.istio.io/inject: &#39;true&#39;\r\n        proxy.istio.io/config: &#39;holdApplicationUntilProxyStarts: true&#39;\r\n        inject.istio.io/templates: &#39;grpc-agent&#39;\r\n    spec:\r\n      containers:\r\n        - name: grpc-server\r\n          image: grpc-server:latest\r\n          imagePullPolicy: Never\r\n          env:\r\n            - name: SERVER\r\n              value: &quot;SERVER_1&quot;\r\n          ports:\r\n            - containerPort: 9090\r\n---\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: grpc-server-2\r\n  namespace: grpc-istio\r\n  labels:\r\n    name: grpc-server-2\r\nspec:\r\n  replicas: 2\r\n  selector:\r\n    matchLabels:\r\n      app: grpc-server\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: grpc-server\r\n        server: server-2\r\n      annotations:\r\n        sidecar.istio.io/inject: &#39;true&#39;\r\n        proxy.istio.io/config: &#39;holdApplicationUntilProxyStarts: true&#39;\r\n        inject.istio.io/templates: &#39;grpc-agent&#39;\r\n    spec:\r\n      containers:\r\n        - name: grpc-server\r\n          image: grpc-server:latest\r\n          imagePullPolicy: Never\r\n          env:\r\n            - name: SERVER\r\n              value: &quot;SERVER_2&quot;\r\n          ports:\r\n            - containerPort: 9090\r\n\r\n\r\n```\r\n\r\n","title":"GRPC Client not able to find Virtual hostname when deployed with istio DestinationRule and VirtualService","body":"<p>I have an Grpc application ( java + maven). Both grpc server and client are deployed with istio on minikube cluster. When grpc client tries to make a grpc call to server it gets Error</p>\n<pre><code>SEVERE: Servlet.service() for servlet [ServerSubsetServlet] in context with path [/grpc_client] threw exception\nio.grpc.StatusRuntimeException: UNAVAILABLE: Failed to find virtual host matching hostname: grpc-server-service.grpc-istio.svc.cluster.local:9090\n    at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:271)\n    at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:252)\n    at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:165)\n    at com.example.grpcproto.GrpcIstioRoutingServerGrpc$GrpcIstioRoutingServerBlockingStub.getServerSubset(GrpcIstioRoutingServerGrpc.java:157)\n    at org.example.GrpcClientHandler.getServerSubset(GrpcClientHandler.java:39)\n    at org.example.ServerSubsetTestServlet.doGet(ServerSubsetTestServlet.java:23)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n</code></pre>\n<p>Server Side Destination Rule and Virtual Service</p>\n<pre><code>---\napiVersion: networking.istio.io/v1alpha3\nkind: DestinationRule\nmetadata:\n  name: grpc-server-destination\n  namespace: grpc-istio\nspec:\n  host: grpc-server-service.grpc-istio.svc.cluster.local\n  subsets:\n  - name: server-1\n    labels:\n      server: server-1\n  - name: server-2\n    labels:\n      server: server-2\n---\napiVersion: networking.istio.io/v1alpha3\nkind: VirtualService\nmetadata:\n  name: grpc-server-route\n  namespace: grpc-istio\nspec:\n  hosts:\n    - grpc-server-service.grpc-istio.svc.cluster.local\n  http:\n  - match:\n    - headers:\n        SERVER:\n          exact: &quot;server-1&quot;\n    route:\n    - destination:\n        host: grpc-server-service.grpc-istio.svc.cluster.local\n        subset: server-1\n  - match:\n    - headers:\n        SERVER:\n          exact: &quot;server-2&quot;\n    route:\n    - destination:\n        host: grpc-server-service.grpc-istio.svc.cluster.local\n        subset: server-2\n\n</code></pre>\n<p>Client side Deployment yaml</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: grpc-client\n  namespace: grpc-istio\n  labels:\n    name: grpc-client\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: grpc-client\n  template:\n    metadata:\n      labels:\n        app: grpc-client\n      annotations:\n        sidecar.istio.io/inject: 'true'\n        proxy.istio.io/config: 'holdApplicationUntilProxyStarts: true'\n        inject.istio.io/templates: 'grpc-agent'\n    spec:\n      containers:\n        - name: grpc-client\n          image: grpc-client:latest\n          imagePullPolicy: IfNotPresent\n          env:\n            - name: GRPC_SERVER_ADDRESS\n              value: &quot;xds:///grpc-server-service.grpc-istio.svc.cluster.local:9090&quot;\n          ports:\n            - containerPort: 8080\n\n</code></pre>\n<p>Without envoy proxy side car  the GRPC client and server are able to communicate using channel, but when sidecar container is deployed and virtual service along with destination rule is used for request routing the client get this above error</p>\n<p>Unable to get what is wrong with Virtual service / DestinationRule!!</p>\n<p><em>Expected Behaviour:</em></p>\n<p>Setup is like we can hit grpc client which also exposes the 8080 port for HTTP calls ,\nwhen we hit the http call with a param <em>server-1</em> or <em>server-2</em> it directs the grpc call to server with the same corresponding label</p>\n<p>There are 2 deployments for server with different labels\neach deployment has 2 replicas.</p>\n<p>So when grp client make the request with <em>server-1</em> in header metadata the call should go to the pod with <em>server: server-1</em> label, and similarly when request is made using <em>server-2</em> header the call should go to pods with label of <em>server: server-2</em></p>\n<pre><code>---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: grpc-server-1\n  namespace: grpc-istio\n  labels:\n    name: grpc-server-1\n    server: server-1\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: grpc-server\n  template:\n    metadata:\n      labels:\n        app: grpc-server\n        server: server-1\n      annotations:\n        sidecar.istio.io/inject: 'true'\n        proxy.istio.io/config: 'holdApplicationUntilProxyStarts: true'\n        inject.istio.io/templates: 'grpc-agent'\n    spec:\n      containers:\n        - name: grpc-server\n          image: grpc-server:latest\n          imagePullPolicy: Never\n          env:\n            - name: SERVER\n              value: &quot;SERVER_1&quot;\n          ports:\n            - containerPort: 9090\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: grpc-server-2\n  namespace: grpc-istio\n  labels:\n    name: grpc-server-2\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: grpc-server\n  template:\n    metadata:\n      labels:\n        app: grpc-server\n        server: server-2\n      annotations:\n        sidecar.istio.io/inject: 'true'\n        proxy.istio.io/config: 'holdApplicationUntilProxyStarts: true'\n        inject.istio.io/templates: 'grpc-agent'\n    spec:\n      containers:\n        - name: grpc-server\n          image: grpc-server:latest\n          imagePullPolicy: Never\n          env:\n            - name: SERVER\n              value: &quot;SERVER_2&quot;\n          ports:\n            - containerPort: 9090\n\n\n</code></pre>\n"},{"tags":["java","spring-cloud","spring-webflux","spring-cloud-gateway","spring-webclient"],"owner":{"account_id":418378,"reputation":397,"user_id":794903,"accept_rate":73,"display_name":"ChambreNoire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1356,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1696878356,"creation_date":1624960000,"question_id":68176294,"body_markdown":"I&#39;m currently working on a REST &#39;proxy&#39; for use in development. The idea is to launch a jar on the command-line, supplying it with a base url for the &#39;proxied&#39; REST API and an existing secret key used for authentication. The proxy handles authentication/renewal and forwards all REST calls to the target API.\r\n\r\nI thought that Spring Cloud Gateway might be a good fit for this and using request chaining have managed to get the authentication side of things working :\r\n \r\n```java\r\n@Configuration\r\npublic class FilterConfiguration {\r\n\r\n    @Bean\r\n    public RouteLocator mock(RouteLocatorBuilder builder, @Value(&quot;${gateway.url}&quot;) String url, @Value(&quot;${secret.key}&quot;) String secretKey, MyGatewayFilterFactory filterFactory) {\r\n        return builder.routes()\r\n            .route(&quot;pass-through&quot;, predicateSpec -&gt; predicateSpec\r\n                .path(&quot;/authentication/sign/in/**&quot;, &quot;/authentication/renew/**&quot;)\r\n                .uri(url))\r\n            .route(&quot;requires-auth&quot;, predicateSpec -&gt; predicateSpec\r\n                .alwaysTrue()\r\n                .filters(gatewayFilterSpec -&gt; gatewayFilterSpec\r\n                    .filter(filterFactory.apply(new MyGatewayFilterFactory.Config(secretKey)))\r\n                )\r\n                .uri(url))\r\n            .build();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class MyGatewayFilterFactory extends AbstractGatewayFilterFactory&lt;MyGatewayFilterFactory .Config&gt; {\r\n\r\n    private final WebClient webClient;\r\n\r\n    @Override\r\n    public GatewayFilter apply(MyGatewayFilterFactory.Config config) {\r\n        return (exchange, chain) -&gt; Optional.of(AccessTokensHolder.tokens)\r\n            .map(AtomicReference::get)\r\n            .map(Mono::just)\r\n            .orElseGet(() -&gt; this.signIn(config.getSecretKey()))\r\n            .flatMap(accessTokens -&gt; {\r\n                exchange.getRequest()\r\n                    .mutate()\r\n                    .header(HttpHeaders.AUTHORIZATION, String.format(&quot;%s %s&quot;, accessTokens.getType(), accessTokens.getAccessToken()));\r\n                return chain.filter(exchange);\r\n            })\r\n            .onErrorResume(t -&gt; Mono.empty())\r\n            .then(Mono.fromRunnable(this.postRequest(exchange)));\r\n    }\r\n\r\n    private Mono&lt;AccessTokens&gt; signIn(String secretKey) {\r\n        // uses the webClient to get the access tokens for the secretKey ...\r\n    }\r\n\r\n    private Runnable postRequest(ServerWebExchange exchange) {\r\n        return () -&gt; {\r\n            ServerHttpResponse response = exchange.getResponse();\r\n            if (HttpStatus.PRECONDITION_FAILED.equals(response.getStatusCode())) {\r\n                \r\n                // todo : HELP!\r\n            }\r\n        };\r\n    }\r\n\r\n    @Data\r\n    @RequiredArgsConstructor\r\n    public static class Config {\r\n\r\n        public final String secretKey;\r\n    }\r\n\r\n    private static final class AccessTokensHolder {\r\n        private static final AtomicReference&lt;AccessTokens&gt; tokens = new AtomicReference&lt;&gt;();\r\n    }\r\n}\r\n```\r\n\r\nMy problem is the handling of the response. If the authenticated call responds with a 412, I need to be able to make a webClient call to refresh the access tokens and then perform the original call again (with a modified Authorization header). I can&#39;t see how to achieve this (fairly new to SCG &amp; WebFlux)...\r\n\r\n(Btw, if anyone knows of a better/simpler ways of achieving this, I&#39;m all ears!)\r\n\r\nAny help would be most appreciated!\r\n\r\nCheers!","title":"Using a Spring Cloud Gateway filter to retry a REST call with modified headers?","body":"<p>I'm currently working on a REST 'proxy' for use in development. The idea is to launch a jar on the command-line, supplying it with a base url for the 'proxied' REST API and an existing secret key used for authentication. The proxy handles authentication/renewal and forwards all REST calls to the target API.</p>\n<p>I thought that Spring Cloud Gateway might be a good fit for this and using request chaining have managed to get the authentication side of things working :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class FilterConfiguration {\n\n    @Bean\n    public RouteLocator mock(RouteLocatorBuilder builder, @Value(&quot;${gateway.url}&quot;) String url, @Value(&quot;${secret.key}&quot;) String secretKey, MyGatewayFilterFactory filterFactory) {\n        return builder.routes()\n            .route(&quot;pass-through&quot;, predicateSpec -&gt; predicateSpec\n                .path(&quot;/authentication/sign/in/**&quot;, &quot;/authentication/renew/**&quot;)\n                .uri(url))\n            .route(&quot;requires-auth&quot;, predicateSpec -&gt; predicateSpec\n                .alwaysTrue()\n                .filters(gatewayFilterSpec -&gt; gatewayFilterSpec\n                    .filter(filterFactory.apply(new MyGatewayFilterFactory.Config(secretKey)))\n                )\n                .uri(url))\n            .build();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class MyGatewayFilterFactory extends AbstractGatewayFilterFactory&lt;MyGatewayFilterFactory .Config&gt; {\n\n    private final WebClient webClient;\n\n    @Override\n    public GatewayFilter apply(MyGatewayFilterFactory.Config config) {\n        return (exchange, chain) -&gt; Optional.of(AccessTokensHolder.tokens)\n            .map(AtomicReference::get)\n            .map(Mono::just)\n            .orElseGet(() -&gt; this.signIn(config.getSecretKey()))\n            .flatMap(accessTokens -&gt; {\n                exchange.getRequest()\n                    .mutate()\n                    .header(HttpHeaders.AUTHORIZATION, String.format(&quot;%s %s&quot;, accessTokens.getType(), accessTokens.getAccessToken()));\n                return chain.filter(exchange);\n            })\n            .onErrorResume(t -&gt; Mono.empty())\n            .then(Mono.fromRunnable(this.postRequest(exchange)));\n    }\n\n    private Mono&lt;AccessTokens&gt; signIn(String secretKey) {\n        // uses the webClient to get the access tokens for the secretKey ...\n    }\n\n    private Runnable postRequest(ServerWebExchange exchange) {\n        return () -&gt; {\n            ServerHttpResponse response = exchange.getResponse();\n            if (HttpStatus.PRECONDITION_FAILED.equals(response.getStatusCode())) {\n                \n                // todo : HELP!\n            }\n        };\n    }\n\n    @Data\n    @RequiredArgsConstructor\n    public static class Config {\n\n        public final String secretKey;\n    }\n\n    private static final class AccessTokensHolder {\n        private static final AtomicReference&lt;AccessTokens&gt; tokens = new AtomicReference&lt;&gt;();\n    }\n}\n</code></pre>\n<p>My problem is the handling of the response. If the authenticated call responds with a 412, I need to be able to make a webClient call to refresh the access tokens and then perform the original call again (with a modified Authorization header). I can't see how to achieve this (fairly new to SCG &amp; WebFlux)...</p>\n<p>(Btw, if anyone knows of a better/simpler ways of achieving this, I'm all ears!)</p>\n<p>Any help would be most appreciated!</p>\n<p>Cheers!</p>\n"},{"tags":["java","memory-leaks","vaadin","broadcast"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1696658831,"post_id":77247000,"comment_id":136184548,"body_markdown":"Could you change your LinkedList to WeakHashMap as shown in this example and observe if it helps? https://github.com/TatuLund/cdi-demo/blob/master/src/main/java/org/vaadin/cdidemo/eventbus/EventBusImpl.java Also the latest Vaadin 24.1 version has Beacon listener built in and it will close UI immediately when browser is closed. So you do not need short heart beat for that. 10 seconds is absolutely too short as it will produce excess traffic and probably fail with hibernating browser tabs.","body":"Could you change your LinkedList to WeakHashMap as shown in this example and observe if it helps? <a href=\"https://github.com/TatuLund/cdi-demo/blob/master/src/main/java/org/vaadin/cdidemo/eventbus/EventBusImpl.java\" rel=\"nofollow noreferrer\">github.com/TatuLund/cdi-demo/blob/master/src/main/java/org/&hellip;</a> Also the latest Vaadin 24.1 version has Beacon listener built in and it will close UI immediately when browser is closed. So you do not need short heart beat for that. 10 seconds is absolutely too short as it will produce excess traffic and probably fail with hibernating browser tabs."},{"owner":{"account_id":22483053,"reputation":1,"user_id":16681874,"display_name":"ed_dev"},"score":0,"creation_date":1696677290,"post_id":77247000,"comment_id":136186013,"body_markdown":"Thanks for your quick reply. I have tried the weakhashmap and updated my source code above accordingly. But unfortunately that didn&#39;t help either. If I open 10 tabs of the same GUI and then close the browser, 1-5 listeners remain active and memory fills up fairly quickly. I also tried with different keys for the hashmap, but again I could not get any change.","body":"Thanks for your quick reply. I have tried the weakhashmap and updated my source code above accordingly. But unfortunately that didn&#39;t help either. If I open 10 tabs of the same GUI and then close the browser, 1-5 listeners remain active and memory fills up fairly quickly. I also tried with different keys for the hashmap, but again I could not get any change."},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1696691699,"post_id":77247000,"comment_id":136187299,"body_markdown":"It is important to use the listener as a key. WeakHashMap means by definition that the key is a weak reference, not the value.","body":"It is important to use the listener as a key. WeakHashMap means by definition that the key is a weak reference, not the value."},{"owner":{"account_id":22483053,"reputation":1,"user_id":16681874,"display_name":"ed_dev"},"score":0,"creation_date":1696704543,"post_id":77247000,"comment_id":136188545,"body_markdown":"Yes, I tried that too, but it behaved the same way. For some reason the onDetach method is not called for all listeners and the client seems to live on. Could this also have something to do with the thread being blocked at the time and the onDetach being skipped?","body":"Yes, I tried that too, but it behaved the same way. For some reason the onDetach method is not called for all listeners and the client seems to live on. Could this also have something to do with the thread being blocked at the time and the onDetach being skipped?"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1696775611,"post_id":77247000,"comment_id":136193690,"body_markdown":"I would not store the Runnable to the broadcaster. I would only store simple listener that triggers the view to run runnable that is defined in the view itself. See my repo for examples. I tend to believe that there is something in your Runnable that is preventing it to be GC&#39;d. And yes thread being blocked could be an issue.","body":"I would not store the Runnable to the broadcaster. I would only store simple listener that triggers the view to run runnable that is defined in the view itself. See my repo for examples. I tend to believe that there is something in your Runnable that is preventing it to be GC&#39;d. And yes thread being blocked could be an issue."},{"owner":{"account_id":22483053,"reputation":1,"user_id":16681874,"display_name":"ed_dev"},"score":0,"creation_date":1696842171,"post_id":77247000,"comment_id":136199870,"body_markdown":"I have now completely rebuilt this once and used an EventBus as a key as in your repo. Unfortunately, this also does not change the behavior.\nIf I register a UI, then switch the page offline in the browser and then close the tab, Vaadin does not notice this and the listener remains active. If I lose the browser and reopen it, I get a new session. The old session with the UI remains active. \nCould it be that the client instantiated by Vaadin on our server continues to accept the data, but cannot forward it to the actual local client, that this memory leak then occurs?","body":"I have now completely rebuilt this once and used an EventBus as a key as in your repo. Unfortunately, this also does not change the behavior. If I register a UI, then switch the page offline in the browser and then close the tab, Vaadin does not notice this and the listener remains active. If I lose the browser and reopen it, I get a new session. The old session with the UI remains active.  Could it be that the client instantiated by Vaadin on our server continues to accept the data, but cannot forward it to the actual local client, that this memory leak then occurs?"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1696873659,"post_id":77247000,"comment_id":136206011,"body_markdown":"Why you store session in the map? Note, the value is not weak reference.","body":"Why you store session in the map? Note, the value is not weak reference."},{"owner":{"account_id":22483053,"reputation":1,"user_id":16681874,"display_name":"ed_dev"},"score":0,"creation_date":1696877873,"post_id":77247000,"comment_id":136206714,"body_markdown":"Sorry, I hadn&#39;t edited my code yet. But now it is modified as I had rebuilt it, which however leads to the same result.","body":"Sorry, I hadn&#39;t edited my code yet. But now it is modified as I had rebuilt it, which however leads to the same result."}],"owner":{"account_id":22483053,"reputation":1,"user_id":16681874,"display_name":"ed_dev"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696877623,"creation_date":1696621116,"question_id":77247000,"body_markdown":"we are using Vaadin 24.1.10 and updating some views using the Broadcaster. From time to time the whole application crashes due to low memory. It then turns out that our software suddenly takes up to 4 GB instead of 200MB of memory and also does not release it. \r\nI have found out that if I have multiple tabs open in the browser, all of which have registered with our broadcast view and I then simply close the entire browser, only some clients are actually get detached from the broadcaster. Others remain and the broadcaster continues to send data to clients that do not exist. It appears that the data now stored into a buffer in memory and this continues until it is full and the software crashes.\r\nI have tried many things but nothing works. \r\nCan you help me please?\r\n\r\nBroadcaster:\r\n```\r\n    public static final WeakHashMap&lt;EventBusListener, Object&gt; dashboardListeners = new WeakHashMap&lt;&gt;();\r\n\r\n\r\n    public static void post(Object event) {\r\n        synchronized (dashboardListeners) {\r\n            dashboardListeners.forEach((listener, o) -&gt; {\r\n                listener.eventFired(event);\r\n            });\r\n        }\r\n    }\r\n\r\n    public static void registerEventBusListener(EventBusListener listener) {\r\n        synchronized (dashboardListeners) {\r\n            dashboardListeners.put(listener, null);\r\n        }\r\n    }\r\n\r\n    public static void unregisterEventBusListener(EventBusListener listener) {\r\n        synchronized (dashboardListeners) {\r\n            dashboardListeners.remove(listener);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nEventBus:\r\n\r\n    public interface EventBus {\r\n\r\n    public interface EventBusListener {\r\n        public void eventFired(Object event);\r\n    }\r\n\r\n    public static void post(Object event) {\r\n    }\r\n\r\n    public static void registerEventBusListener(EventBusListener listener) {\r\n    }\r\n    \r\n    public static void unregisterEventBusListener(EventBusListener listener) {\r\n    }\r\n    \r\n}\r\n\r\n\r\nView:\r\n```\r\n    protected void onAttach(AttachEvent attachEvent) {\r\n        Broadcaster.registerEventBusListener(this);\r\n    }\r\n\r\n    @Override\r\n    protected void onDetach(DetachEvent detachEvent) {\r\n        Broadcaster.unregisterEventBusListener(this);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void eventFired(Object event) {\r\n        accessUiAndRun(this, this::refreshStateAndFill);\r\n    }\r\n\r\n\r\n    public static void accessUiAndRun(Component component, Runnable runnable) {\r\n            component.getUI().ifPresent(ui -&gt; {\r\n                if (ui.isAttached()) {\r\n                    ui.access(runnable::run);\r\n                }\r\n            });\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\nI set the heartbeat to 10 seconds, hoping that the server would quickly detect that the client n longer exists. But I think that if the broadcaster continues to push data, then the heartbeat is not necessary at all. I have additionally queries to the ui.access whether ui.isattached and Ui.ifPresent, hoping that the server will detect that the client no longer exists.\r\nI hope there is a way to determine with certainty if there is still a client connected. It would also be good if there was a way for the broadcaster to not buffer the data in memory if no client accepts it.\r\n\r\nthank you very much.","title":"Vaadin 24.1.10 multiple clients not detaching from broadcaster causing memory leak","body":"<p>we are using Vaadin 24.1.10 and updating some views using the Broadcaster. From time to time the whole application crashes due to low memory. It then turns out that our software suddenly takes up to 4 GB instead of 200MB of memory and also does not release it.\nI have found out that if I have multiple tabs open in the browser, all of which have registered with our broadcast view and I then simply close the entire browser, only some clients are actually get detached from the broadcaster. Others remain and the broadcaster continues to send data to clients that do not exist. It appears that the data now stored into a buffer in memory and this continues until it is full and the software crashes.\nI have tried many things but nothing works.\nCan you help me please?</p>\n<p>Broadcaster:</p>\n<pre><code>    public static final WeakHashMap&lt;EventBusListener, Object&gt; dashboardListeners = new WeakHashMap&lt;&gt;();\n\n\n    public static void post(Object event) {\n        synchronized (dashboardListeners) {\n            dashboardListeners.forEach((listener, o) -&gt; {\n                listener.eventFired(event);\n            });\n        }\n    }\n\n    public static void registerEventBusListener(EventBusListener listener) {\n        synchronized (dashboardListeners) {\n            dashboardListeners.put(listener, null);\n        }\n    }\n\n    public static void unregisterEventBusListener(EventBusListener listener) {\n        synchronized (dashboardListeners) {\n            dashboardListeners.remove(listener);\n        }\n    }\n</code></pre>\n<p>EventBus:</p>\n<pre><code>public interface EventBus {\n\npublic interface EventBusListener {\n    public void eventFired(Object event);\n}\n\npublic static void post(Object event) {\n}\n\npublic static void registerEventBusListener(EventBusListener listener) {\n}\n\npublic static void unregisterEventBusListener(EventBusListener listener) {\n}\n</code></pre>\n<p>}</p>\n<p>View:</p>\n<pre><code>    protected void onAttach(AttachEvent attachEvent) {\n        Broadcaster.registerEventBusListener(this);\n    }\n\n    @Override\n    protected void onDetach(DetachEvent detachEvent) {\n        Broadcaster.unregisterEventBusListener(this);\n    }\n\n\n    @Override\n    public void eventFired(Object event) {\n        accessUiAndRun(this, this::refreshStateAndFill);\n    }\n\n\n    public static void accessUiAndRun(Component component, Runnable runnable) {\n            component.getUI().ifPresent(ui -&gt; {\n                if (ui.isAttached()) {\n                    ui.access(runnable::run);\n                }\n            });\n    }\n\n</code></pre>\n<p>I set the heartbeat to 10 seconds, hoping that the server would quickly detect that the client n longer exists. But I think that if the broadcaster continues to push data, then the heartbeat is not necessary at all. I have additionally queries to the ui.access whether ui.isattached and Ui.ifPresent, hoping that the server will detect that the client no longer exists.\nI hope there is a way to determine with certainty if there is still a client connected. It would also be good if there was a way for the broadcaster to not buffer the data in memory if no client accepts it.</p>\n<p>thank you very much.</p>\n"},{"tags":["java","sql","sql-server","hibernate","hibernate-query"],"answers":[{"tags":[],"owner":{"account_id":17462526,"reputation":4163,"user_id":12659872,"display_name":"SQLpro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696864583,"creation_date":1696864583,"answer_id":77260003,"question_id":77256113,"body_markdown":"Because JSON functions drive directly the parse of the serie of data into a table variable instaed of leaving the values into the query...\r\n\r\nWhen you use a query with a IN, the optimizer transform the serie of IN values into OR statement. But when there is too muche values, this transform is not the best way to have fast performances.\r\n\r\nSince SQL Server 2017, new improvment has been done by that is called &quot;Intelligent Query Processor&quot; that can estimate the number of row a table variable can have by stopping the query when a table variable is encountered then asking for the cardinality of the table (the number of rows) then restart the execution of the query with the right cardinality that the optimizer need to choose which algorithm will be use to solve a join...\r\n\r\nBut the best way is to avoid using several different layers of code and adopt best practices to write plain queries... In your case the top would be to use a stored procedure and use a temporary table with a key to store values of the IN before the final query","title":"Why does using hibernate query .setParameter() + openjson() improve sql server query performance over .setParameterList()?","body":"<p>Because JSON functions drive directly the parse of the serie of data into a table variable instaed of leaving the values into the query...</p>\n<p>When you use a query with a IN, the optimizer transform the serie of IN values into OR statement. But when there is too muche values, this transform is not the best way to have fast performances.</p>\n<p>Since SQL Server 2017, new improvment has been done by that is called &quot;Intelligent Query Processor&quot; that can estimate the number of row a table variable can have by stopping the query when a table variable is encountered then asking for the cardinality of the table (the number of rows) then restart the execution of the query with the right cardinality that the optimizer need to choose which algorithm will be use to solve a join...</p>\n<p>But the best way is to avoid using several different layers of code and adopt best practices to write plain queries... In your case the top would be to use a stored procedure and use a temporary table with a key to store values of the IN before the final query</p>\n"},{"tags":[],"owner":{"account_id":2106996,"reputation":2760,"user_id":1874012,"display_name":"StrayCatDBA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696877484,"creation_date":1696877484,"answer_id":77261176,"question_id":77256113,"body_markdown":"There are several approaches to querying a large list of id values:\r\n\r\n```\r\n... WHERE id in (1,2,3,4,...39203) -- explicit list of values\r\n\r\n... WHERE id in (@p1, @p2, @p3... @p2000) -- list of parameters\r\n\r\n... WHERE id in (select .. FROM @tabledValueParameter ) -- single table value parameter.\r\n\r\n... WHERE id in (select ... FROM STRING_SPLIT(@ids,...)) -- single varchar &quot;csv&quot; parameter\r\n\r\n... WHERE id in (SELECT ... FROM OPENJSON(@ids,...) -- single varchar JSON parameter\r\n```\r\n\r\nThe first approach has the drawback of requiring a parse and compile of a new plan for every query execution. These are large plans. This takes time, causes plan cache bloat, wastes memory and will make your neighborhood DBA sad.\r\n\r\nThe second approach (default behavior for java/jpa) is marginally better.  It requires a parse and compile for each number of parameters.  e.g.  two queries with the same number of parameters can share the same plan.  The downside is that the amount of data sent to the server is increased, as the query is large, the parameter definition list is large and the parameter value list is large as well.  Depending on the query, this can double or triple the size of the data sent to SQL Server. Also there is a limit of 2100 parameters.  Less sad DBA.\r\n\r\nThe third approach uses a table valued parameter.  This is Microsoft&#39;s &quot;approved&quot; way to send multiple values to SQL server.  The advantage is the query text stays constant regardless of the number of values, so there is only one parse/compile and one query plan that gets used.  Supports an arbitrary number of values (100k+ is no issue). The downside is that table valued parameters are stored in tempdb, so potential for a whole new class of headaches in a high volume environment.  Better performance than the first two approaches over a certain number of values (~500 in my testing, YMMV).  Worse performance for a small number of values (~&lt;50) due to tempdb allocations.  DBA will be either fine or really not fine with this approach depending on tempdb contention.  \r\n\r\nThe last two approach have effectively the same performance characteristics.  The query text is constant, so plan re-use is great. The query plan is small.  Tempdb isn&#39;t involved, so no concerns there.  Both OPENJSON() and STRING_SPLIT() are very efficiently implemented in C++.  Performance meets or exceeds the other approaches for small numbers and is substantially better as the number of values grow (&gt;250 values).  \r\n\r\nSTRING_SPLIT() is a good choice for &quot;simple&quot; data types, e.g. a list of ints.  \r\n\r\nOPENJSON() is a better choice if you need to support ints, strings, dates, etc, or pass in complex objects.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why does using hibernate query .setParameter() + openjson() improve sql server query performance over .setParameterList()?","body":"<p>There are several approaches to querying a large list of id values:</p>\n<pre><code>... WHERE id in (1,2,3,4,...39203) -- explicit list of values\n\n... WHERE id in (@p1, @p2, @p3... @p2000) -- list of parameters\n\n... WHERE id in (select .. FROM @tabledValueParameter ) -- single table value parameter.\n\n... WHERE id in (select ... FROM STRING_SPLIT(@ids,...)) -- single varchar &quot;csv&quot; parameter\n\n... WHERE id in (SELECT ... FROM OPENJSON(@ids,...) -- single varchar JSON parameter\n</code></pre>\n<p>The first approach has the drawback of requiring a parse and compile of a new plan for every query execution. These are large plans. This takes time, causes plan cache bloat, wastes memory and will make your neighborhood DBA sad.</p>\n<p>The second approach (default behavior for java/jpa) is marginally better.  It requires a parse and compile for each number of parameters.  e.g.  two queries with the same number of parameters can share the same plan.  The downside is that the amount of data sent to the server is increased, as the query is large, the parameter definition list is large and the parameter value list is large as well.  Depending on the query, this can double or triple the size of the data sent to SQL Server. Also there is a limit of 2100 parameters.  Less sad DBA.</p>\n<p>The third approach uses a table valued parameter.  This is Microsoft's &quot;approved&quot; way to send multiple values to SQL server.  The advantage is the query text stays constant regardless of the number of values, so there is only one parse/compile and one query plan that gets used.  Supports an arbitrary number of values (100k+ is no issue). The downside is that table valued parameters are stored in tempdb, so potential for a whole new class of headaches in a high volume environment.  Better performance than the first two approaches over a certain number of values (~500 in my testing, YMMV).  Worse performance for a small number of values (~&lt;50) due to tempdb allocations.  DBA will be either fine or really not fine with this approach depending on tempdb contention.</p>\n<p>The last two approach have effectively the same performance characteristics.  The query text is constant, so plan re-use is great. The query plan is small.  Tempdb isn't involved, so no concerns there.  Both OPENJSON() and STRING_SPLIT() are very efficiently implemented in C++.  Performance meets or exceeds the other approaches for small numbers and is substantially better as the number of values grow (&gt;250 values).</p>\n<p>STRING_SPLIT() is a good choice for &quot;simple&quot; data types, e.g. a list of ints.</p>\n<p>OPENJSON() is a better choice if you need to support ints, strings, dates, etc, or pass in complex objects.</p>\n"}],"owner":{"account_id":19138987,"reputation":25,"user_id":13979349,"display_name":"jk101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696877484,"creation_date":1696821749,"question_id":77256113,"body_markdown":"I have a complex SQL Server query that needs to process around 2000 parameters at a time. My query is complex, so for simplicity suppose we have:\r\n\r\n```\r\nselect *\r\nfrom sample_table\r\nwhere id in (:listIds);\r\n```\r\nIn the Java code, I insert listIds using from hibernate.query `.setParameterList(&quot;listIds&quot;, listIds)`, where listIds is of type `List&lt;String&gt;` and has around 2000 entries. This query takes too long and will sometimes timeout. \r\n\r\nI found [this answer](https://stackoverflow.com/a/60705570/13979349), where the author uses `openjson` and mentions improved performance. I followed a similar pattern:\r\n\r\n```\r\nselect *\r\nfrom sample_table\r\nwhere id in (select cast(value as NVARCHAR(20)) from openjson(:listIds);\r\n```\r\nIn the java code, I convert `List&lt;String&gt; listIds` into a JSON array of strings (e.g. `[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]`) of length 2000. I then use `.setParameter(&quot;listIds&quot;, listIds)` to insert listIds. This query finishes a lot faster than the previous approach.\r\n\r\nMy question is why does the latter approach seem to improve performance?\r\n\r\n\r\nI tried searching for explanations on `openjson` vs `.setParameterList()`. I&#39;m still unclear about why performance improved and was hoping someone could break this down for me.","title":"Why does using hibernate query .setParameter() + openjson() improve sql server query performance over .setParameterList()?","body":"<p>I have a complex SQL Server query that needs to process around 2000 parameters at a time. My query is complex, so for simplicity suppose we have:</p>\n<pre><code>select *\nfrom sample_table\nwhere id in (:listIds);\n</code></pre>\n<p>In the Java code, I insert listIds using from hibernate.query <code>.setParameterList(&quot;listIds&quot;, listIds)</code>, where listIds is of type <code>List&lt;String&gt;</code> and has around 2000 entries. This query takes too long and will sometimes timeout.</p>\n<p>I found <a href=\"https://stackoverflow.com/a/60705570/13979349\">this answer</a>, where the author uses <code>openjson</code> and mentions improved performance. I followed a similar pattern:</p>\n<pre><code>select *\nfrom sample_table\nwhere id in (select cast(value as NVARCHAR(20)) from openjson(:listIds);\n</code></pre>\n<p>In the java code, I convert <code>List&lt;String&gt; listIds</code> into a JSON array of strings (e.g. <code>[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</code>) of length 2000. I then use <code>.setParameter(&quot;listIds&quot;, listIds)</code> to insert listIds. This query finishes a lot faster than the previous approach.</p>\n<p>My question is why does the latter approach seem to improve performance?</p>\n<p>I tried searching for explanations on <code>openjson</code> vs <code>.setParameterList()</code>. I'm still unclear about why performance improved and was hoping someone could break this down for me.</p>\n"},{"tags":["java","gradle","build.gradle","mutation-testing","pitest"],"answers":[{"tags":[],"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696877370,"creation_date":1696877370,"answer_id":77261168,"question_id":77260060,"body_markdown":"You are using the default version of pitest used by 1.9.0 of the gradle plugin. This is very old.\r\n\r\nEither configure an explicit recent version of pitest\r\n\r\n```groovy\r\npitest {\r\n    pitestVersion = &#39;1.15.0&#39; \r\n    ...\r\n}\r\n```\r\n\r\nOr upgrade to the recent 1.15.0 release of the gradle plugin which uses pitest 1.15.0 by default.","title":"PITest with gradle Unsupported class file major version","body":"<p>You are using the default version of pitest used by 1.9.0 of the gradle plugin. This is very old.</p>\n<p>Either configure an explicit recent version of pitest</p>\n<pre><code>pitest {\n    pitestVersion = '1.15.0' \n    ...\n}\n</code></pre>\n<p>Or upgrade to the recent 1.15.0 release of the gradle plugin which uses pitest 1.15.0 by default.</p>\n"}],"owner":{"account_id":2154881,"reputation":3922,"user_id":1910355,"accept_rate":6,"display_name":"Jim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77261168,"answer_count":1,"score":0,"last_activity_date":1696877370,"creation_date":1696865097,"question_id":77260060,"body_markdown":"I&#39;m trying to get pitest running in [this java gradle project](https://github.com/JimLynchCodes/Gradle-Pitest-Example) but having a _VERY_ difficult time... &#128546;\r\n\r\nI have at least two problems: one about packages and one about Java versions.\r\n\r\n1)\r\n\r\nThe first issue is that my project is set up with a public class not contained within any package. I know it is kind of an antipattern to do this, but for a project with only a single java class and test file it seems unnecessary to have an additional package container.\r\n\r\nAnyway, it seems like pitest cannot file the file without it being inside of a package. Any I wrong here? Is there  something I can put for the &quot;testClasses&quot; value that it would pick up my Lasagna class?\r\n\r\n2)\r\n\r\nOk, so in the code here I have declared the &quot;LP&quot; package for my Lasagna class and updated my `build.gradle` with this pitest block:\r\n```groovy\r\npitest {\r\n    targetClasses = [&#39;LP*&#39;]  // by default &quot;${project.group}.*&quot;\r\n    threads = 4\r\n    outputFormats = [&#39;XML&#39;, &#39;HTML&#39;]\r\n    timestampedReports = false\r\n    junit5PluginVersion = &#39;1.2.0&#39;\r\n}\r\n```\r\n\r\nThe problem though is when I run `gradle pitest` I get an &quot;Unsupported class version&quot; Error...\r\n\r\n&gt; \r\n&gt; Task :pitest FAILED\r\n11:17:45 AM PIT &gt;&gt; INFO : Verbose logging is disabled. If you encounter a problem, please enable it before reporting an issue.\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Unsupported class file major version 65\r\n        at org.pitest.reloc.asm.ClassReader.&lt;init&gt;(ClassReader.java:199)\r\n        at org.pitest.reloc.asm.ClassReader.&lt;init&gt;(ClassReader.java:180)\r\n        at org.pitest.reloc.asm.ClassReader.&lt;init&gt;(ClassReader.java:166)\r\n        at org.pitest.classinfo.ClassInfoVisitor.getClassInfo(ClassInfoVisitor.java:41)\r\n        at org.pitest.classinfo.Repository.nameToClassInfo(Repository.java:70)\r\n        at org.pitest.classinfo.Repository.fetchClass(Repository.java:60)\r\n        at org.pitest.classinfo.NameToClassInfo.apply(NameToClassInfo.java:17)\r\n        at org.pitest.classinfo.NameToClassInfo.apply(NameToClassInfo.java:7)\r\n        at java.base/java.util.function.Function.lambda$andThen$1(Function.java:88)\r\n        at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:273)\r\n        at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)\r\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n        at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\r\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n        at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\r\n        at org.pitest.classpath.CodeSource.getCode(CodeSource.java:44)\r\n        at org.pitest.mutationtest.verify.DefaultBuildVerifier.verify(DefaultBuildVerifier.java:32)\r\n        at org.pitest.mutationtest.tooling.MutationCoverage.verifyBuildSuitableForMutationTesting(MutationCoverage.java:275)\r\n        at org.pitest.mutationtest.tooling.MutationCoverage.runReport(MutationCoverage.java:118)\r\n        at org.pitest.mutationtest.tooling.EntryPoint.execute(EntryPoint.java:129)\r\n        at org.pitest.mutationtest.tooling.EntryPoint.execute(EntryPoint.java:57)\r\n        at org.pitest.mutationtest.commandline.MutationCoverageReport.runReport(MutationCoverageReport.java:98)\r\n        at org.pitest.mutationtest.commandline.MutationCoverageReport.main(MutationCoverageReport.java:45)\r\n\r\n\r\nWhen I run `gradle -v` I get this output:\r\n\r\n&gt; \r\n&gt; ------------------------------------------------------------\r\n&gt; Gradle 8.3\r\n&gt; ------------------------------------------------------------\r\n&gt; \r\n&gt; Build time:   2023-08-17 07:06:47 UTC\r\n&gt; Revision:     8afbf24b469158b714b36e84c6f4d4976c86fcd5\r\n&gt; \r\n&gt; Kotlin:       1.9.0\r\n&gt; Groovy:       3.0.17\r\n&gt; Ant:          Apache Ant(TM) version 1.10.13 compiled on January 4 2023\r\n&gt; JVM:          21 (Homebrew 21)\r\n&gt; OS:           Mac OS X 12.4 x86_64\r\n&gt; \r\n\r\nWhen I run `java -v` it outputs an error, but I do have `jabba` installed and can switch versions if I need to, but I am unsure if it even wants me to switch the version my current shell is using or which version to switch it to...\r\n","title":"PITest with gradle Unsupported class file major version","body":"<p>I'm trying to get pitest running in <a href=\"https://github.com/JimLynchCodes/Gradle-Pitest-Example\" rel=\"nofollow noreferrer\">this java gradle project</a> but having a <em>VERY</em> difficult time... 😢</p>\n<p>I have at least two problems: one about packages and one about Java versions.</p>\n<p>1)</p>\n<p>The first issue is that my project is set up with a public class not contained within any package. I know it is kind of an antipattern to do this, but for a project with only a single java class and test file it seems unnecessary to have an additional package container.</p>\n<p>Anyway, it seems like pitest cannot file the file without it being inside of a package. Any I wrong here? Is there  something I can put for the &quot;testClasses&quot; value that it would pick up my Lasagna class?</p>\n<p>2)</p>\n<p>Ok, so in the code here I have declared the &quot;LP&quot; package for my Lasagna class and updated my <code>build.gradle</code> with this pitest block:</p>\n<pre><code>pitest {\n    targetClasses = ['LP*']  // by default &quot;${project.group}.*&quot;\n    threads = 4\n    outputFormats = ['XML', 'HTML']\n    timestampedReports = false\n    junit5PluginVersion = '1.2.0'\n}\n</code></pre>\n<p>The problem though is when I run <code>gradle pitest</code> I get an &quot;Unsupported class version&quot; Error...</p>\n<blockquote>\n<p>Task :pitest FAILED\n11:17:45 AM PIT &gt;&gt; INFO : Verbose logging is disabled. If you encounter a problem, please enable it before reporting an issue.\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Unsupported class file major version 65\nat org.pitest.reloc.asm.ClassReader.(ClassReader.java:199)\nat org.pitest.reloc.asm.ClassReader.(ClassReader.java:180)\nat org.pitest.reloc.asm.ClassReader.(ClassReader.java:166)\nat org.pitest.classinfo.ClassInfoVisitor.getClassInfo(ClassInfoVisitor.java:41)\nat org.pitest.classinfo.Repository.nameToClassInfo(Repository.java:70)\nat org.pitest.classinfo.Repository.fetchClass(Repository.java:60)\nat org.pitest.classinfo.NameToClassInfo.apply(NameToClassInfo.java:17)\nat org.pitest.classinfo.NameToClassInfo.apply(NameToClassInfo.java:7)\nat java.base/java.util.function.Function.lambda$andThen$1(Function.java:88)\nat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:273)\nat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\nat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\nat org.pitest.classpath.CodeSource.getCode(CodeSource.java:44)\nat org.pitest.mutationtest.verify.DefaultBuildVerifier.verify(DefaultBuildVerifier.java:32)\nat org.pitest.mutationtest.tooling.MutationCoverage.verifyBuildSuitableForMutationTesting(MutationCoverage.java:275)\nat org.pitest.mutationtest.tooling.MutationCoverage.runReport(MutationCoverage.java:118)\nat org.pitest.mutationtest.tooling.EntryPoint.execute(EntryPoint.java:129)\nat org.pitest.mutationtest.tooling.EntryPoint.execute(EntryPoint.java:57)\nat org.pitest.mutationtest.commandline.MutationCoverageReport.runReport(MutationCoverageReport.java:98)\nat org.pitest.mutationtest.commandline.MutationCoverageReport.main(MutationCoverageReport.java:45)</p>\n</blockquote>\n<p>When I run <code>gradle -v</code> I get this output:</p>\n<blockquote>\n<hr />\n<h2>Gradle 8.3</h2>\n<p>Build time:   2023-08-17 07:06:47 UTC\nRevision:     8afbf24b469158b714b36e84c6f4d4976c86fcd5</p>\n<p>Kotlin:       1.9.0\nGroovy:       3.0.17\nAnt:          Apache Ant(TM) version 1.10.13 compiled on January 4 2023\nJVM:          21 (Homebrew 21)\nOS:           Mac OS X 12.4 x86_64</p>\n</blockquote>\n<p>When I run <code>java -v</code> it outputs an error, but I do have <code>jabba</code> installed and can switch versions if I need to, but I am unsure if it even wants me to switch the version my current shell is using or which version to switch it to...</p>\n"},{"tags":["java","spring-boot","spring-cloud-stream"],"answers":[{"comments":[{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":1,"creation_date":1696916164,"post_id":77261169,"comment_id":136210177,"body_markdown":"I am not sure what do you mean when you say not enough. What more can we add - https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_testing???","body":"I am not sure what do you mean when you say not enough. What more can we add - <a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_testing\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-stream/docs/current/reference/ht&zwnj;&#8203;ml/&hellip;</a>???"},{"owner":{"account_id":4900381,"reputation":424,"user_id":3948882,"display_name":"Brandon"},"score":0,"creation_date":1696971638,"post_id":77261169,"comment_id":136220199,"body_markdown":"@OlegZhurakousky apologies. I think it was personal confusion between the terminology of `test-binder` and `binder-test` in dependency names as well as frustration of SEO available to Google results. It was difficult to find and wasn&#39;t registering that those two were different dependencies. Also, for some reason Google returned results on deprecated dependencies removed from spring cloud stream, `StreamListener` and `EnableBinding`. Amazingly even [Baeldung](https://www.baeldung.com/spring-cloud-stream-kafka-avro-confluent) has old user guides with recent dates.","body":"@OlegZhurakousky apologies. I think it was personal confusion between the terminology of <code>test-binder</code> and <code>binder-test</code> in dependency names as well as frustration of SEO available to Google results. It was difficult to find and wasn&#39;t registering that those two were different dependencies. Also, for some reason Google returned results on deprecated dependencies removed from spring cloud stream, <code>StreamListener</code> and <code>EnableBinding</code>. Amazingly even <a href=\"https://www.baeldung.com/spring-cloud-stream-kafka-avro-confluent\" rel=\"nofollow noreferrer\">Baeldung</a> has old user guides with recent dates."},{"owner":{"account_id":4900381,"reputation":424,"user_id":3948882,"display_name":"Brandon"},"score":0,"creation_date":1696972115,"post_id":77261169,"comment_id":136220282,"body_markdown":"Looking back at your link, that documentation is excellent! Getting to it must&#39;ve been my main problem. Apologies again.","body":"Looking back at your link, that documentation is excellent! Getting to it must&#39;ve been my main problem. Apologies again."},{"owner":{"account_id":4900381,"reputation":424,"user_id":3948882,"display_name":"Brandon"},"score":0,"creation_date":1696972368,"post_id":77261169,"comment_id":136220313,"body_markdown":"If you are able to improve SEO, here were a few of my first searches in Google:\n&quot;TestChannelBinderConfiguration spring boot 3&quot;, &quot;spring boot 3 spring cloud stream test binder&quot;","body":"If you are able to improve SEO, here were a few of my first searches in Google: &quot;TestChannelBinderConfiguration spring boot 3&quot;, &quot;spring boot 3 spring cloud stream test binder&quot;"}],"tags":[],"owner":{"account_id":4900381,"reputation":424,"user_id":3948882,"display_name":"Brandon"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696877370,"creation_date":1696877370,"answer_id":77261169,"question_id":77259782,"body_markdown":"Looks like this is still supported. Helps to have a friend that can assist. Unfortunately, this is not documented well enough, but hopefully this helps others.\r\n\r\n`org.springframework.cloud:spring-cloud-stream-binder-test` has been discontinued and the `test-binder` jar has been moved to `org.springframework.cloud:spring-cloud-stream-test-binder`.\r\n\r\n**Update build.gradle**\r\n\r\n```groovy\r\ndependencies {\r\n    implementation platform(&quot;org.springframework.cloud:spring-cloud-dependencies:2022.0.4&quot;)\r\n    testImplementation &#39;org.springframework.cloud:spring-cloud-stream-test-binder&#39;\r\n}\r\n```\r\n\r\n*Note the order of **test** and **binder** in the dependency name*\r\n\r\n[GitHub Reference](https://github.com/spring-cloud/spring-cloud-stream/issues/2598#issuecomment-1370227212)","title":"What happened to test-binder in Spring Cloud Stream / Spring Boot 3?","body":"<p>Looks like this is still supported. Helps to have a friend that can assist. Unfortunately, this is not documented well enough, but hopefully this helps others.</p>\n<p><code>org.springframework.cloud:spring-cloud-stream-binder-test</code> has been discontinued and the <code>test-binder</code> jar has been moved to <code>org.springframework.cloud:spring-cloud-stream-test-binder</code>.</p>\n<p><strong>Update build.gradle</strong></p>\n<pre><code>dependencies {\n    implementation platform(&quot;org.springframework.cloud:spring-cloud-dependencies:2022.0.4&quot;)\n    testImplementation 'org.springframework.cloud:spring-cloud-stream-test-binder'\n}\n</code></pre>\n<p><em>Note the order of <strong>test</strong> and <strong>binder</strong> in the dependency name</em></p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-stream/issues/2598#issuecomment-1370227212\" rel=\"nofollow noreferrer\">GitHub Reference</a></p>\n"}],"owner":{"account_id":4900381,"reputation":424,"user_id":3948882,"display_name":"Brandon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696877370,"creation_date":1696862652,"question_id":77259782,"body_markdown":"I&#39;m failing to find any documentation on this, but what happened to the test-binder for Spring Cloud Stream / Spring Boot 3?\r\n\r\nThis use to work fine with 2021 bom imports, but now get this error: *Could not find spring-cloud-stream-4.0.4-test-binder.jar (org.springframework.cloud:spring-cloud-stream:4.0.4).*\r\n\r\n**build.gradle**\r\n```groovy\r\ndependencies {\r\n    implementation platform(&quot;org.springframework.cloud:spring-cloud-dependencies:2022.0.4&quot;)\r\n    testImplementation &#39;org.springframework.cloud:spring-cloud-stream-binder-test&#39;\r\n    testImplementation(&quot;org.springframework.cloud:spring-cloud-stream&quot;) {\r\n        artifact {\r\n            name = &quot;spring-cloud-stream&quot;\r\n            extension = &quot;jar&quot;\r\n            type = &quot;test-jar&quot;\r\n            classifier = &quot;test-binder&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe end goal was to write an integration test for a consumer using `@Import(TestChannelBinderConfiguration.class)` and `InputDestination` and `OutputDestination`.\r\n\r\nIs this even supported anymore? Are functional interfaces for Spring Cloud Stream in Spring Boot 3 being abandoned? If not, what is the new way to test with `@SpringBootTest`?","title":"What happened to test-binder in Spring Cloud Stream / Spring Boot 3?","body":"<p>I'm failing to find any documentation on this, but what happened to the test-binder for Spring Cloud Stream / Spring Boot 3?</p>\n<p>This use to work fine with 2021 bom imports, but now get this error: <em>Could not find spring-cloud-stream-4.0.4-test-binder.jar (org.springframework.cloud:spring-cloud-stream:4.0.4).</em></p>\n<p><strong>build.gradle</strong></p>\n<pre><code>dependencies {\n    implementation platform(&quot;org.springframework.cloud:spring-cloud-dependencies:2022.0.4&quot;)\n    testImplementation 'org.springframework.cloud:spring-cloud-stream-binder-test'\n    testImplementation(&quot;org.springframework.cloud:spring-cloud-stream&quot;) {\n        artifact {\n            name = &quot;spring-cloud-stream&quot;\n            extension = &quot;jar&quot;\n            type = &quot;test-jar&quot;\n            classifier = &quot;test-binder&quot;\n        }\n    }\n}\n</code></pre>\n<p>The end goal was to write an integration test for a consumer using <code>@Import(TestChannelBinderConfiguration.class)</code> and <code>InputDestination</code> and <code>OutputDestination</code>.</p>\n<p>Is this even supported anymore? Are functional interfaces for Spring Cloud Stream in Spring Boot 3 being abandoned? If not, what is the new way to test with <code>@SpringBootTest</code>?</p>\n"},{"tags":["java","spring-boot","spring-webflux","reactive"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1696934267,"post_id":77260606,"comment_id":136213195,"body_markdown":"Do you want a Map whose values are sorted lists, or a map whose keys are sorted ? Because there&#39;s two responses to your question, each answering one of both scenario.","body":"Do you want a Map whose values are sorted lists, or a map whose keys are sorted ? Because there&#39;s two responses to your question, each answering one of both scenario."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696872624,"creation_date":1696872624,"answer_id":77260759,"question_id":77260606,"body_markdown":"Use the `collectMultiMap` overloaded version with a `Supplier` as 3rd argument. That means you also need to provide a value mapper. In case you don&#39;t specify one already, use `Function.identity()`. For instance:\r\n\r\n```\r\nMono&lt;Map&lt;String, Collection&lt;YourType&gt;&gt;&gt; mono = flux.collectMultiMap(\r\n        t -&gt; extractStringFromT(t),\r\n        Function.identity(),\r\n        TreeMap::new\r\n);\r\n```","title":"Collect sorted map | Spring WebFlux","body":"<p>Use the <code>collectMultiMap</code> overloaded version with a <code>Supplier</code> as 3rd argument. That means you also need to provide a value mapper. In case you don't specify one already, use <code>Function.identity()</code>. For instance:</p>\n<pre><code>Mono&lt;Map&lt;String, Collection&lt;YourType&gt;&gt;&gt; mono = flux.collectMultiMap(\n        t -&gt; extractStringFromT(t),\n        Function.identity(),\n        TreeMap::new\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696876879,"creation_date":1696876879,"answer_id":77261134,"question_id":77260606,"body_markdown":"Here is the sample example shown below\r\n\r\n\r\n    public class FluxMapSortingExample {\r\n        public static void main(String[] args) {\r\n            Flux&lt;Tuple2&lt;String, Integer&gt;&gt; flux = Flux.just(\r\n                    Tuple2.of(&quot;one&quot;, 1),\r\n                    Tuple2.of(&quot;three&quot;, 3),\r\n                    Tuple2.of(&quot;two&quot;, 2)\r\n            );\r\n    \r\n            Mono&lt;Map&lt;String, Integer&gt;&gt; sortedMapMono = flux.collectSortedList((t1, t2) -&gt; t1.getT1().compareTo(t2.getT1()))\r\n                    .map(sortedList -&gt;\r\n                            sortedList.stream()\r\n                                    .collect(Collectors.toMap(Tuple2::getT1, Tuple2::getT2))\r\n                    );\r\n    \r\n            sortedMapMono.subscribe(sortedMap -&gt; {\r\n                System.out.println(&quot;Sorted Map: &quot; + sortedMap);\r\n            });\r\n        }\r\n    }","title":"Collect sorted map | Spring WebFlux","body":"<p>Here is the sample example shown below</p>\n<pre><code>public class FluxMapSortingExample {\n    public static void main(String[] args) {\n        Flux&lt;Tuple2&lt;String, Integer&gt;&gt; flux = Flux.just(\n                Tuple2.of(&quot;one&quot;, 1),\n                Tuple2.of(&quot;three&quot;, 3),\n                Tuple2.of(&quot;two&quot;, 2)\n        );\n\n        Mono&lt;Map&lt;String, Integer&gt;&gt; sortedMapMono = flux.collectSortedList((t1, t2) -&gt; t1.getT1().compareTo(t2.getT1()))\n                .map(sortedList -&gt;\n                        sortedList.stream()\n                                .collect(Collectors.toMap(Tuple2::getT1, Tuple2::getT2))\n                );\n\n        sortedMapMono.subscribe(sortedMap -&gt; {\n            System.out.println(&quot;Sorted Map: &quot; + sortedMap);\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1598790,"reputation":199,"user_id":1480299,"display_name":"AD90"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1696876879,"creation_date":1696870827,"question_id":77260606,"body_markdown":"I have a Flux which I&#39;m converting to map using flux.collectMultiMap().\r\n\r\nThe key is of String type. How can I ensure that the resulting map is always sorted? In see we have collectSortedList, sort methods in Flux but those will only sort a list or Flux and not map.","title":"Collect sorted map | Spring WebFlux","body":"<p>I have a Flux which I'm converting to map using flux.collectMultiMap().</p>\n<p>The key is of String type. How can I ensure that the resulting map is always sorted? In see we have collectSortedList, sort methods in Flux but those will only sort a list or Flux and not map.</p>\n"},{"tags":["java","angular","spring","web"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1696877359,"post_id":77261101,"comment_id":136206610,"body_markdown":"Please [edit] the post and format it properly --- Please read: [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question) --- Why do you think that this is a CORS error? `405` means &quot;method not allowed&quot;.","body":"Please <a href=\"https://stackoverflow.com/posts/77261101/edit\">edit</a> the post and format it properly --- Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why should I not upload images of code/data/errors?</a> --- Why do you think that this is a CORS error? <code>405</code> means &quot;method not allowed&quot;."},{"owner":{"account_id":28042409,"reputation":9,"user_id":21419747,"display_name":"nathan augusto barbosa"},"score":0,"creation_date":1696878676,"post_id":77261101,"comment_id":136206839,"body_markdown":"so at first I tried to just use the code @CrossOrigin(origins=&quot;*&quot;)\n but it didn&#39;t work so I tried the one you saw above because in the video he only used @CrossOrigin(origins=&quot;*&quot;)\nit works","body":"so at first I tried to just use the code @CrossOrigin(origins=&quot;<i>&quot;)  but it didn&#39;t work so I tried the one you saw above because in the video he only used @CrossOrigin(origins=&quot;</i>&quot;) it works"}],"owner":{"account_id":28042409,"reputation":9,"user_id":21419747,"display_name":"nathan augusto barbosa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696876831,"creation_date":1696876585,"question_id":77261101,"body_markdown":"I&#39;m trying to get rid of the cors error in the index but it&#39;s not working. I tried using the code @CrossOrigin(origins=&quot;*&quot;) but it didn&#39;t work. Is it because I&#39;m using version 21 and in the video it uses version 17?\r\n\r\n    @RestController\r\n    @CrossOrigin(origins=&quot;*&quot;)\r\n\r\n    public class Controller {\r\n    @Autowired\r\n    private Repositorio acao;\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n\r\n    public Cliente cadastrar(@RequestBody Cliente c ){\r\n    return acao.save(c);\r\n    }\r\n    @GetMapping(&quot;/&quot;)\r\n    public Iterable&lt;Cliente&gt; teste(){\r\n    return acao.findAll();\r\n    }\r\n     @Configuration\r\n    public class CorsConfig implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/**&quot;)\r\n                    .allowedOrigins(&quot;*&quot;)\r\n                    .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)\r\n                    .allowedHeaders(&quot;*&quot;);\r\n        }\r\n    }\r\n    @PutMapping(&quot;/&quot;)\r\n    public Cliente editar(@RequestBody Cliente c){\r\n    return acao.save(c);\r\n    }\r\n    @DeleteMapping(&quot;/{codigo}&quot;)\r\n    public void remover(@PathVariable long codigo){\r\n    acao.deleteById(codigo);\r\n    }\r\n    }\r\n    [enter image description here](https://i.stack.imgur.com/9iwuP.png)\r\n\r\n\r\n    [enter image description here](https://i.stack.imgur.com/HeS0V.png)\r\nI expected the error to disappear from the console","title":"cors with error in the console the error does not disappear","body":"<p>I'm trying to get rid of the cors error in the index but it's not working. I tried using the code @CrossOrigin(origins=&quot;*&quot;) but it didn't work. Is it because I'm using version 21 and in the video it uses version 17?</p>\n<pre><code>@RestController\n@CrossOrigin(origins=&quot;*&quot;)\n\npublic class Controller {\n@Autowired\nprivate Repositorio acao;\n\n@PostMapping(&quot;/&quot;)\n\npublic Cliente cadastrar(@RequestBody Cliente c ){\nreturn acao.save(c);\n}\n@GetMapping(&quot;/&quot;)\npublic Iterable&lt;Cliente&gt; teste(){\nreturn acao.findAll();\n}\n @Configuration\npublic class CorsConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;*&quot;)\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)\n                .allowedHeaders(&quot;*&quot;);\n    }\n}\n@PutMapping(&quot;/&quot;)\npublic Cliente editar(@RequestBody Cliente c){\nreturn acao.save(c);\n}\n@DeleteMapping(&quot;/{codigo}&quot;)\npublic void remover(@PathVariable long codigo){\nacao.deleteById(codigo);\n}\n}\n[enter image description here](https://i.stack.imgur.com/9iwuP.png)\n\n\n[enter image description here](https://i.stack.imgur.com/HeS0V.png)\n</code></pre>\n<p>I expected the error to disappear from the console</p>\n"},{"tags":["java","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":27652664,"reputation":21,"user_id":21107205,"display_name":"Andrei"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675309433,"creation_date":1675309433,"answer_id":75318466,"question_id":75279474,"body_markdown":"I solved my problem by simply replacing all import javax.persistence with jakarta.persistence ","title":"SpringBoot Application and Hibernate (entityManager is null)","body":"<p>I solved my problem by simply replacing all import javax.persistence with jakarta.persistence</p>\n"}],"owner":{"account_id":27652664,"reputation":21,"user_id":21107205,"display_name":"Andrei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75318466,"answer_count":1,"score":1,"last_activity_date":1696876425,"creation_date":1675040387,"question_id":75279474,"body_markdown":"I have example SprintBoot application\r\n```\r\npackage com.example.demo2;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\n@EnableJpaRepositories(basePackages=&quot;com.example.demo2&quot;)\r\npublic class Demo2Application {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Demo2Application.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy application.properties, here configuration datasource and jpa hibernate\r\n```\r\nspring.datasource.url= jdbc:postgresql://localhost:5432/testdb\r\nspring.datasource.username= admin\r\nspring.datasource.password= admin\r\n\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\r\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.hibernate.naming-strategy = org.hibernate.cfg.ImprovedNamingStrategy\r\nspring.jpa.hibernate.ddl-auto= update\r\n```\r\n\r\nand i have simple controller method\r\n```\r\n    @GetMapping(&quot;/get&quot;)\r\n    public List&lt;Movie&gt; getMethod(){\r\n        return myService.myMethod();\r\n    }\r\n```\r\n\r\nand service\r\n```\r\n\r\n@Service\r\npublic class MyService {\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n    @Transactional\r\n    public List&lt;Movie&gt; myMethod() {\r\n        List&lt;Movie&gt; myList = entityManager.createQuery(&quot;from Movie&quot;).getResultList();\r\n        return myList;\r\n    }\r\n}\r\n\r\n```\r\n\r\nResult is\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;javax.persistence.EntityManager.createQuery(String)&quot; because &quot;this.entityManager&quot; is null\r\n```\r\n\r\n\r\nI want simple springboot and hibernate application with initialized entityManager for query to db.\r\n\r\nWhat am I doing wrong?","title":"SpringBoot Application and Hibernate (entityManager is null)","body":"<p>I have example SprintBoot application</p>\n<pre><code>package com.example.demo2;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\n@EnableJpaRepositories(basePackages=&quot;com.example.demo2&quot;)\npublic class Demo2Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Demo2Application.class, args);\n    }\n\n}\n</code></pre>\n<p>My application.properties, here configuration datasource and jpa hibernate</p>\n<pre><code>spring.datasource.url= jdbc:postgresql://localhost:5432/testdb\nspring.datasource.username= admin\nspring.datasource.password= admin\n\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.hibernate.naming-strategy = org.hibernate.cfg.ImprovedNamingStrategy\nspring.jpa.hibernate.ddl-auto= update\n</code></pre>\n<p>and i have simple controller method</p>\n<pre><code>    @GetMapping(&quot;/get&quot;)\n    public List&lt;Movie&gt; getMethod(){\n        return myService.myMethod();\n    }\n</code></pre>\n<p>and service</p>\n<pre><code>\n@Service\npublic class MyService {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n    @Transactional\n    public List&lt;Movie&gt; myMethod() {\n        List&lt;Movie&gt; myList = entityManager.createQuery(&quot;from Movie&quot;).getResultList();\n        return myList;\n    }\n}\n\n</code></pre>\n<p>Result is</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;javax.persistence.EntityManager.createQuery(String)&quot; because &quot;this.entityManager&quot; is null\n</code></pre>\n<p>I want simple springboot and hibernate application with initialized entityManager for query to db.</p>\n<p>What am I doing wrong?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9999,"page":135,"page_size":100}
