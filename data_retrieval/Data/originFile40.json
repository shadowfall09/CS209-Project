{"items":[{"tags":["java","postgresql","hibernate","kotlin","hibernate-mapping"],"answers":[{"comments":[{"owner":{"account_id":391620,"reputation":2118,"user_id":752385,"accept_rate":38,"display_name":"Strinder"},"score":0,"creation_date":1700823105,"post_id":63842502,"comment_id":136703089,"body_markdown":"This is no longer possible with Hibernate &gt;6 since TypeDef has been removed (see answer above)","body":"This is no longer possible with Hibernate &gt;6 since TypeDef has been removed (see answer above)"}],"tags":[],"owner":{"account_id":7740826,"reputation":5758,"user_id":5860648,"accept_rate":25,"display_name":"sjahan"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1599808966,"creation_date":1599808966,"answer_id":63842502,"question_id":63743920,"body_markdown":"I&#39;m posting my solution, I didn&#39;t succeed to get a `List&lt;Values&gt;`, although I got an `Array&lt;Values&gt;` which was fine with me.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;test&quot;)\r\n@TypeDef(\r\n        name = &quot;values-array&quot;,\r\n        typeClass = EnumArrayType::class,\r\n        defaultForType = Array&lt;Values&gt;::class,\r\n        parameters = [\r\n          Parameter(\r\n                  name = EnumArrayType.SQL_ARRAY_TYPE,\r\n                  value = &quot;varchar&quot;\r\n          )\r\n        ]\r\n)\r\ndata class DbTest(\r\n        @Type(type = &quot;values-array&quot;)\r\n        @Column(name = &quot;my_values&quot;, columnDefinition = &quot;varchar[]&quot;)\r\n        val myValues: Array&lt;Values&gt;\r\n)\r\n\r\nenum class Values {\r\n       VAL1, VAL2\r\n}\r\n```\r\n\r\nThis is working like a charm and I can map my array to a list and vice versa quite easily, which is ok.\r\n\r\nHoping this will help someone someday ;)","title":"Hibernate mapping between Postgres array of varchar and a Java/Kotlin collection of enum","body":"<p>I'm posting my solution, I didn't succeed to get a <code>List&lt;Values&gt;</code>, although I got an <code>Array&lt;Values&gt;</code> which was fine with me.</p>\n<pre><code>@Entity\n@Table(name = &quot;test&quot;)\n@TypeDef(\n        name = &quot;values-array&quot;,\n        typeClass = EnumArrayType::class,\n        defaultForType = Array&lt;Values&gt;::class,\n        parameters = [\n          Parameter(\n                  name = EnumArrayType.SQL_ARRAY_TYPE,\n                  value = &quot;varchar&quot;\n          )\n        ]\n)\ndata class DbTest(\n        @Type(type = &quot;values-array&quot;)\n        @Column(name = &quot;my_values&quot;, columnDefinition = &quot;varchar[]&quot;)\n        val myValues: Array&lt;Values&gt;\n)\n\nenum class Values {\n       VAL1, VAL2\n}\n</code></pre>\n<p>This is working like a charm and I can map my array to a list and vice versa quite easily, which is ok.</p>\n<p>Hoping this will help someone someday ;)</p>\n"},{"comments":[{"owner":{"account_id":391620,"reputation":2118,"user_id":752385,"accept_rate":38,"display_name":"Strinder"},"score":0,"creation_date":1700822983,"post_id":71721965,"comment_id":136703064,"body_markdown":"This is no longer possible with Hibernate &gt;6 since TypeDef has been removed (see answer above)","body":"This is no longer possible with Hibernate &gt;6 since TypeDef has been removed (see answer above)"}],"tags":[],"owner":{"account_id":1880239,"reputation":927,"user_id":1700614,"display_name":"z0mb1ek"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1648943146,"creation_date":1648943146,"answer_id":71721965,"question_id":63743920,"body_markdown":"Previous answer does not work for me, but this working: \r\n\r\n        TypeDef(\r\n          name = &quot;enums-array&quot;,\r\n          typeClass = ListArrayType::class,\r\n          parameters = [Parameter(name = EnumArrayType.SQL_ARRAY_TYPE, value = &quot;varchar&quot;)]\r\n        )","title":"Hibernate mapping between Postgres array of varchar and a Java/Kotlin collection of enum","body":"<p>Previous answer does not work for me, but this working:</p>\n<pre><code>    TypeDef(\n      name = &quot;enums-array&quot;,\n      typeClass = ListArrayType::class,\n      parameters = [Parameter(name = EnumArrayType.SQL_ARRAY_TYPE, value = &quot;varchar&quot;)]\n    )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":391620,"reputation":2118,"user_id":752385,"accept_rate":38,"display_name":"Strinder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700823053,"creation_date":1700735409,"answer_id":77536150,"question_id":63743920,"body_markdown":"If using Hibernate version &gt; 6 this changed and should look like this:\r\n\r\n    @Type(StringArrayType.class)\r\n    @Column(\r\n        name = &quot;sensor_names&quot;,\r\n        columnDefinition = &quot;text[]&quot;\r\n    )\r\n    private String[] sensorNames;\r\n \r\n    @Type(IntArrayType.class)\r\n    @Column(\r\n        name = &quot;sensor_values&quot;,\r\n        columnDefinition = &quot;integer[]&quot;\r\n    )\r\n    private int[] sensorValues;\r\n \r\n    @Type(\r\n        value = EnumArrayType.class,\r\n        parameters = @Parameter(\r\n            name = AbstractArrayType.SQL_ARRAY_TYPE,\r\n            value = &quot;sensor_state&quot;\r\n        )\r\n    )\r\n    @Column(\r\n        name = &quot;sensor_states&quot;,\r\n        columnDefinition = &quot;sensor_state[]&quot;\r\n    )\r\n    private SensorState[] sensorStates;\r\n\r\n**Note:** EnumArrayType comes from library [HypersistenceUtils][1]\r\n\r\n\r\n  [1]: https://github.com/vladmihalcea/hypersistence-utils","title":"Hibernate mapping between Postgres array of varchar and a Java/Kotlin collection of enum","body":"<p>If using Hibernate version &gt; 6 this changed and should look like this:</p>\n<pre><code>@Type(StringArrayType.class)\n@Column(\n    name = &quot;sensor_names&quot;,\n    columnDefinition = &quot;text[]&quot;\n)\nprivate String[] sensorNames;\n\n@Type(IntArrayType.class)\n@Column(\n    name = &quot;sensor_values&quot;,\n    columnDefinition = &quot;integer[]&quot;\n)\nprivate int[] sensorValues;\n\n@Type(\n    value = EnumArrayType.class,\n    parameters = @Parameter(\n        name = AbstractArrayType.SQL_ARRAY_TYPE,\n        value = &quot;sensor_state&quot;\n    )\n)\n@Column(\n    name = &quot;sensor_states&quot;,\n    columnDefinition = &quot;sensor_state[]&quot;\n)\nprivate SensorState[] sensorStates;\n</code></pre>\n<p><strong>Note:</strong> EnumArrayType comes from library <a href=\"https://github.com/vladmihalcea/hypersistence-utils\" rel=\"nofollow noreferrer\">HypersistenceUtils</a></p>\n"}],"owner":{"account_id":7740826,"reputation":5758,"user_id":5860648,"accept_rate":25,"display_name":"sjahan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1996,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63842502,"answer_count":3,"score":3,"last_activity_date":1700823053,"creation_date":1599232813,"question_id":63743920,"body_markdown":"Basically everything is in the title. \r\n\r\nI have a column in my DB which is a `varchar[]`. \r\n\r\nI really would like to map it to a Java/Kotlin `enum`. We&#39;ve already got this working to fetch it as a list of `String`s (through `com.vladmihalcea:hibernate-types` and `StringArrayType`), but not with a mapping to an enum. Do you know if this is possible? \r\n\r\nSince we know how to map a `varchar` to an `enum`, and a `varchar[]` to a collection of `String`, I would be tempted to think that this should possible, but I didn&#39;t succeed yet.\r\n\r\nHere would be a simple sample of my current configuration: \r\n\r\n```\r\nCREATE TABLE test(my_values varchar[]) ;\r\nINSERT INTO test(my_values) values (&#39;{VAL1, VAL2}&#39;)\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;test&quot;)\r\ndata class DbTest(\r\n        @Column(name = &quot;my_values&quot;)\r\n        val myValues: List&lt;Values&gt;\r\n)\r\n\r\nenum class Values {\r\n       VAL1, VAL2\r\n}\r\n```\r\nI tried this: https://vladmihalcea.com/map-postgresql-enum-array-jpa-entity-property-hibernate/ which looks pretty good but you have to define the enum in the DB and we don&#39;t want that.\r\n\r\nThanks!","title":"Hibernate mapping between Postgres array of varchar and a Java/Kotlin collection of enum","body":"<p>Basically everything is in the title.</p>\n<p>I have a column in my DB which is a <code>varchar[]</code>.</p>\n<p>I really would like to map it to a Java/Kotlin <code>enum</code>. We've already got this working to fetch it as a list of <code>String</code>s (through <code>com.vladmihalcea:hibernate-types</code> and <code>StringArrayType</code>), but not with a mapping to an enum. Do you know if this is possible?</p>\n<p>Since we know how to map a <code>varchar</code> to an <code>enum</code>, and a <code>varchar[]</code> to a collection of <code>String</code>, I would be tempted to think that this should possible, but I didn't succeed yet.</p>\n<p>Here would be a simple sample of my current configuration:</p>\n<pre><code>CREATE TABLE test(my_values varchar[]) ;\nINSERT INTO test(my_values) values ('{VAL1, VAL2}')\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;test&quot;)\ndata class DbTest(\n        @Column(name = &quot;my_values&quot;)\n        val myValues: List&lt;Values&gt;\n)\n\nenum class Values {\n       VAL1, VAL2\n}\n</code></pre>\n<p>I tried this: <a href=\"https://vladmihalcea.com/map-postgresql-enum-array-jpa-entity-property-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/map-postgresql-enum-array-jpa-entity-property-hibernate/</a> which looks pretty good but you have to define the enum in the DB and we don't want that.</p>\n<p>Thanks!</p>\n"},{"tags":["java","swing","javafx"],"comments":[{"owner":{"account_id":49071,"reputation":8690,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"score":0,"creation_date":1613701140,"post_id":66270491,"comment_id":117163603,"body_markdown":"If you remove the weakreference list and such, does the the memory leak still happen? If you just construct the panel and add the weak reference, do the references get cleared up?","body":"If you remove the weakreference list and such, does the the memory leak still happen? If you just construct the panel and add the weak reference, do the references get cleared up?"},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1613702985,"post_id":66270491,"comment_id":117164010,"body_markdown":"Is the behavior still the same when you tell the container to update its references by calling `revalidate()`?","body":"Is the behavior still the same when you tell the container to update its references by calling <code>revalidate()</code>?"},{"owner":{"account_id":2819099,"reputation":928,"user_id":2423283,"accept_rate":86,"display_name":"NateW"},"score":0,"creation_date":1613745473,"post_id":66270491,"comment_id":117178444,"body_markdown":"@Charlie yes, if I remove the WeakReference stuff, the leak still happens. Its just a little harder to demonstrate since I have to look at a heap dump in jvisualvm.","body":"@Charlie yes, if I remove the WeakReference stuff, the leak still happens. Its just a little harder to demonstrate since I have to look at a heap dump in jvisualvm."},{"owner":{"account_id":2819099,"reputation":928,"user_id":2423283,"accept_rate":86,"display_name":"NateW"},"score":0,"creation_date":1613745585,"post_id":66270491,"comment_id":117178495,"body_markdown":"@Koenigsberg, none of the JavaFX components have a `revalidate()` method, but the swing components do. I tried getting the old SwingNode content and then calling `revalidate()` on it after replacing it with the new content and that didn&#39;t do the trick.","body":"@Koenigsberg, none of the JavaFX components have a <code>revalidate()</code> method, but the swing components do. I tried getting the old SwingNode content and then calling <code>revalidate()</code> on it after replacing it with the new content and that didn&#39;t do the trick."},{"owner":{"account_id":49071,"reputation":8690,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"score":0,"creation_date":1613759486,"post_id":66270491,"comment_id":117184969,"body_markdown":"I&#39;ve never debugged a memory leak in visualvm but (shockingly expensive) jprofiler is pretty useful. You could simply find all JPanels and trace back to the GC roots.","body":"I&#39;ve never debugged a memory leak in visualvm but (shockingly expensive) jprofiler is pretty useful. You could simply find all JPanels and trace back to the GC roots."}],"answers":[{"comments":[{"owner":{"account_id":2819099,"reputation":928,"user_id":2423283,"accept_rate":86,"display_name":"NateW"},"score":0,"creation_date":1614039959,"post_id":66283491,"comment_id":117257844,"body_markdown":"Thanks for the great too recommendation. I&#39;ve upvoted this since it definitely helped me figure out the issue. I didn&#39;t accept it as the answer though since its more of a debugging technique than an actual answer to the question.","body":"Thanks for the great too recommendation. I&#39;ve upvoted this since it definitely helped me figure out the issue. I didn&#39;t accept it as the answer though since its more of a debugging technique than an actual answer to the question."}],"tags":[],"owner":{"account_id":49071,"reputation":8690,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613760998,"creation_date":1613760998,"answer_id":66283491,"question_id":66270491,"body_markdown":"Take a snapshot with visualvm then analyze GC roots with with Eclipse Memory Analyzer (MAT) http://www.eclipse.org/mat/","title":"Content of SwingNode not garbage collected when content changed","body":"<p>Take a snapshot with visualvm then analyze GC roots with with Eclipse Memory Analyzer (MAT) <a href=\"http://www.eclipse.org/mat/\" rel=\"nofollow noreferrer\">http://www.eclipse.org/mat/</a></p>\n"},{"comments":[{"owner":{"account_id":49071,"reputation":8690,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"score":1,"creation_date":1614053197,"post_id":66325365,"comment_id":117260283,"body_markdown":"Nice find! That might be worth filing a bug report with the JavaFX folks; at the very least, that behavior should be documented better in the setContent method.","body":"Nice find! That might be worth filing a bug report with the JavaFX folks; at the very least, that behavior should be documented better in the setContent method."},{"owner":{"account_id":2819099,"reputation":928,"user_id":2423283,"accept_rate":86,"display_name":"NateW"},"score":1,"creation_date":1614190682,"post_id":66325365,"comment_id":117312704,"body_markdown":"I submitted a bug report. I&#39;ll post the link here for reference once it finishes the submit process. I&#39;m a little doubtful that it will get much action though because there were a few similar bugs that were marked as resolved. I&#39;m not sure if those other bugs really were resolved though because I think it may be the same issue. Guess we&#39;ll see.","body":"I submitted a bug report. I&#39;ll post the link here for reference once it finishes the submit process. I&#39;m a little doubtful that it will get much action though because there were a few similar bugs that were marked as resolved. I&#39;m not sure if those other bugs really were resolved though because I think it may be the same issue. Guess we&#39;ll see."},{"owner":{"account_id":2819099,"reputation":928,"user_id":2423283,"accept_rate":86,"display_name":"NateW"},"score":1,"creation_date":1614721104,"post_id":66325365,"comment_id":117470837,"body_markdown":"Here&#39;s the bug report: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8262518","body":"Here&#39;s the bug report: <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8262518\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8262518</a>"}],"tags":[],"owner":{"account_id":2819099,"reputation":928,"user_id":2423283,"accept_rate":86,"display_name":"NateW"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1614039869,"creation_date":1614039869,"answer_id":66325365,"question_id":66270491,"body_markdown":"OK, I figured it out.\r\n\r\n# Short answer\r\nJust wrap the swing content inside a `JPanel` (or some other `JComponent`). Then only ever call `SwingNode.setContent()` once to add the wrapper. When you need to update the swing content, call `removeAll()` on your wrapper and then `add()` with the appropriate content.\r\n\r\n# Long Answer\r\nThanks to the suggestion in this answer: https://stackoverflow.com/a/66283491/2423283 I was able to determine that the leak is caused by `GlassStage` which is a non-api class which among other things, keeps a static list of all implementations of `GlassStage`. The content of a `SwingNode` gets managed by an instance of `EmbeddedScene` which is a subtype of `GlassStage`.\r\n\r\nItems are removed from the static list when `close()` is called on them. `SwingNode.setContent()` does not close any pre-existing content, but `Container.removeAll()` does.\r\n\r\n# Working code\r\nHere&#39;s an example of the fixed code:\r\n\r\n```\r\npublic class LeakDemoFixed extends Application {\r\n\r\n    //Keep week references to all panels that we&#39;ve ever generated to see if any\r\n    //of them get collected.\r\n    private Collection&lt;WeakReference&lt;JPanel&gt;&gt; panels = new CopyOnWriteArrayList&lt;&gt;();\r\n    \r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        \r\n        SwingNode node = new SwingNode();\r\n        \r\n        //These 2 lines were added\r\n        JComponent swingContent = new JPanel();\r\n        node.setContent(swingContent);\r\n        \r\n        Pane root = new Pane();\r\n        root.getChildren().add(node);\r\n        \r\n        //Kick off a thread that repeatedly creates new JPanels and resets the swing node&#39;s content\r\n        new Thread(() -&gt; {\r\n            \r\n            while(true) {\r\n                \r\n                //Lets throw in a little sleep so we can read the output\r\n                try {\r\n                    Thread.sleep(500);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                \r\n                SwingUtilities.invokeLater(() -&gt; {\r\n                    JPanel panel = new JPanel();\r\n                    panels.add(new WeakReference&lt;&gt;(panel));\r\n                    //Removed the line below\r\n                    //node.setContent(panel);\r\n                    \r\n                    //Added these 2 lines\r\n                    swingContent.removeAll();\r\n                    swingContent.add(panel);\r\n                });\r\n                \r\n                System.out.println(&quot;Panels in memory: &quot; + panels.stream().filter(ref -&gt; ref.get() != null).count());\r\n                \r\n                //I know this doesn&#39;t guarantee anything, but prompting a GC gives me more confidence that this\r\n                //truly is a bug.\r\n                System.gc();\r\n            }\r\n            \r\n        }).start();\r\n        \r\n        primaryStage.setScene(new Scene(root, 100, 100));\r\n        \r\n        primaryStage.show();\r\n        \r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\n","title":"Content of SwingNode not garbage collected when content changed","body":"<p>OK, I figured it out.</p>\n<h1>Short answer</h1>\n<p>Just wrap the swing content inside a <code>JPanel</code> (or some other <code>JComponent</code>). Then only ever call <code>SwingNode.setContent()</code> once to add the wrapper. When you need to update the swing content, call <code>removeAll()</code> on your wrapper and then <code>add()</code> with the appropriate content.</p>\n<h1>Long Answer</h1>\n<p>Thanks to the suggestion in this answer: <a href=\"https://stackoverflow.com/a/66283491/2423283\">https://stackoverflow.com/a/66283491/2423283</a> I was able to determine that the leak is caused by <code>GlassStage</code> which is a non-api class which among other things, keeps a static list of all implementations of <code>GlassStage</code>. The content of a <code>SwingNode</code> gets managed by an instance of <code>EmbeddedScene</code> which is a subtype of <code>GlassStage</code>.</p>\n<p>Items are removed from the static list when <code>close()</code> is called on them. <code>SwingNode.setContent()</code> does not close any pre-existing content, but <code>Container.removeAll()</code> does.</p>\n<h1>Working code</h1>\n<p>Here's an example of the fixed code:</p>\n<pre><code>public class LeakDemoFixed extends Application {\n\n    //Keep week references to all panels that we've ever generated to see if any\n    //of them get collected.\n    private Collection&lt;WeakReference&lt;JPanel&gt;&gt; panels = new CopyOnWriteArrayList&lt;&gt;();\n    \n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        \n        SwingNode node = new SwingNode();\n        \n        //These 2 lines were added\n        JComponent swingContent = new JPanel();\n        node.setContent(swingContent);\n        \n        Pane root = new Pane();\n        root.getChildren().add(node);\n        \n        //Kick off a thread that repeatedly creates new JPanels and resets the swing node's content\n        new Thread(() -&gt; {\n            \n            while(true) {\n                \n                //Lets throw in a little sleep so we can read the output\n                try {\n                    Thread.sleep(500);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                \n                SwingUtilities.invokeLater(() -&gt; {\n                    JPanel panel = new JPanel();\n                    panels.add(new WeakReference&lt;&gt;(panel));\n                    //Removed the line below\n                    //node.setContent(panel);\n                    \n                    //Added these 2 lines\n                    swingContent.removeAll();\n                    swingContent.add(panel);\n                });\n                \n                System.out.println(&quot;Panels in memory: &quot; + panels.stream().filter(ref -&gt; ref.get() != null).count());\n                \n                //I know this doesn't guarantee anything, but prompting a GC gives me more confidence that this\n                //truly is a bug.\n                System.gc();\n            }\n            \n        }).start();\n        \n        primaryStage.setScene(new Scene(root, 100, 100));\n        \n        primaryStage.show();\n        \n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1649163384,"post_id":71750924,"comment_id":126801953,"body_markdown":"hmm .. there has to be a very compelling reason (like f.i. security concerns) to get a fix backported. This site isn&#39;t the really a good place for bug fixes (workarounds are okay, but this doesn&#39;t feel like it, is it?) - You can try to drum up support at the openjfx dev mailing list","body":"hmm .. there has to be a very compelling reason (like f.i. security concerns) to get a fix backported. This site isn&#39;t the really a good place for bug fixes (workarounds are okay, but this doesn&#39;t feel like it, is it?) - You can try to drum up support at the openjfx dev mailing list"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1649163713,"post_id":71750924,"comment_id":126802091,"body_markdown":"ohh, just seeing that the duplicate isn&#39;t yet fixed .. but already has a reference to this QA, so your solution will not get lost :)","body":"ohh, just seeing that the duplicate isn&#39;t yet fixed .. but already has a reference to this QA, so your solution will not get lost :)"},{"owner":{"account_id":24833537,"reputation":21,"user_id":18712453,"display_name":"Kyra"},"score":0,"creation_date":1649234969,"post_id":71750924,"comment_id":126821831,"body_markdown":"Yeah problem is that this bug is critical to our application which is stuck in Java8 for various reasons. So i&#39;m trying everything I can to get it integrated in an official release but one man can dream I guess...","body":"Yeah problem is that this bug is critical to our application which is stuck in Java8 for various reasons. So i&#39;m trying everything I can to get it integrated in an official release but one man can dream I guess..."}],"tags":[],"owner":{"account_id":24833537,"reputation":21,"user_id":18712453,"display_name":"Kyra"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700823028,"creation_date":1649157938,"answer_id":71750924,"question_id":66270491,"body_markdown":"**Update**: We finally moved JAVA8 and the issue persists for us using the latest JFX so I re-patched it, I need to perform a few verifications before trying to push it to JFX repo but if someone needs it it&#39;s here: https://github.com/ImKyra/jfx.git\r\n\r\n____________________________________________________________\r\n\r\nI didn&#39;t reached this question before but here is what I&#39;ve done to correct the issue. I would like this fix to be integrated into JavaFX for Java8 but I don&#39;t know how to get this done and they closed the issue (because of duplicate)\r\n\r\nhttps://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8284352\r\n\r\nThe problem is due to the JLightweightFrame never being released by de SwingNodeDisposer.\r\n\r\nThe SwingNodeDisposer holds an hard pointer to the JLightweightFrame that prevents its suppression.\r\n\r\nI have modified the SwingNode.setContentImpl() function to use a WeakReference&lt;JLightweightFrame&gt; instead of an hard pointer and now memory is properly released.\r\n\r\n...\r\n\r\n        WeakReference&lt;JLightweightFrame&gt; lwFramePtr = new WeakReference&lt;JLightweightFrame&gt;(lwFrame);\r\n        SwingNodeDisposer disposeRec = new SwingNodeDisposer(lwFramePtr);\r\n        Disposer.addRecord(this, disposeRec);\r\n\r\n...\r\n\r\nThis gives good results without having the need to use a single JPanel or to encapsulate it inside a WeakReference.\r\n\r\n","title":"Content of SwingNode not garbage collected when content changed","body":"<p><strong>Update</strong>: We finally moved JAVA8 and the issue persists for us using the latest JFX so I re-patched it, I need to perform a few verifications before trying to push it to JFX repo but if someone needs it it's here: <a href=\"https://github.com/ImKyra/jfx.git\" rel=\"nofollow noreferrer\">https://github.com/ImKyra/jfx.git</a></p>\n<hr />\n<p>I didn't reached this question before but here is what I've done to correct the issue. I would like this fix to be integrated into JavaFX for Java8 but I don't know how to get this done and they closed the issue (because of duplicate)</p>\n<p><a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8284352\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8284352</a></p>\n<p>The problem is due to the JLightweightFrame never being released by de SwingNodeDisposer.</p>\n<p>The SwingNodeDisposer holds an hard pointer to the JLightweightFrame that prevents its suppression.</p>\n<p>I have modified the SwingNode.setContentImpl() function to use a WeakReference instead of an hard pointer and now memory is properly released.</p>\n<p>...</p>\n<pre><code>    WeakReference&lt;JLightweightFrame&gt; lwFramePtr = new WeakReference&lt;JLightweightFrame&gt;(lwFrame);\n    SwingNodeDisposer disposeRec = new SwingNodeDisposer(lwFramePtr);\n    Disposer.addRecord(this, disposeRec);\n</code></pre>\n<p>...</p>\n<p>This gives good results without having the need to use a single JPanel or to encapsulate it inside a WeakReference.</p>\n"}],"owner":{"account_id":2819099,"reputation":928,"user_id":2423283,"accept_rate":86,"display_name":"NateW"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":66325365,"answer_count":3,"score":3,"last_activity_date":1700823028,"creation_date":1613697637,"question_id":66270491,"body_markdown":"\r\nI have a JavaFX application that displays a Swing plot via a SwingNode. Due to the way that the swing component is written and my unwillingness to refactor it, I create a new instance of the swing plot each time the user needs to update the data. In other words, whenever the user re-generates the plot, it creates a new Swing component and sets the SwingNode&#39;s content to the new component.\r\n\r\nIt all works fine except that I discovered that the swing components never get garbage collected. They contain a substantial amount of data, so after a while it becomes a pretty severe memory leak.\r\n\r\nI&#39;ve been able to demonstrate the issue with this minimum reproducible example:\r\n\r\n```java\r\npublic class LeakDemo extends Application {\r\n\r\n    //Keep week references to all panels that we&#39;ve ever generated to see if any\r\n    //of them get collected.\r\n    private Collection&lt;WeakReference&lt;JPanel&gt;&gt; panels = new CopyOnWriteArrayList&lt;&gt;();\r\n    \r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        \r\n        SwingNode node = new SwingNode();\r\n        \r\n        Pane root = new Pane();\r\n        root.getChildren().add(node);\r\n        \r\n        //Kick off a thread that repeatedly creates new JPanels and resets the swing node&#39;s content\r\n        new Thread(() -&gt; {\r\n            \r\n            while(true) {\r\n                \r\n                //Lets throw in a little sleep so we can read the output\r\n                try {\r\n                    Thread.sleep(500);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                \r\n                SwingUtilities.invokeLater(() -&gt; {\r\n                    JPanel panel = new JPanel();\r\n                    panels.add(new WeakReference&lt;&gt;(panel));\r\n                    node.setContent(panel);\r\n                });\r\n                \r\n                System.out.println(&quot;Panels in memory: &quot; + panels.stream().filter(ref -&gt; ref.get() != null).count());\r\n                \r\n                //I know this doesn&#39;t guarantee anything, but prompting a GC gives me more confidence that this\r\n                //truly is a bug.\r\n                System.gc();\r\n            }\r\n            \r\n        }).start();\r\n        \r\n        primaryStage.setScene(new Scene(root, 100, 100));\r\n        \r\n        primaryStage.show();\r\n        \r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\nThe output of the program is\r\n\r\n```\r\nPanels in memory: 0\r\nPanels in memory: 1\r\nPanels in memory: 2\r\nPanels in memory: 3\r\nPanels in memory: 4\r\nPanels in memory: 5\r\nPanels in memory: 6\r\nPanels in memory: 7\r\nPanels in memory: 8\r\nPanels in memory: 9\r\nPanels in memory: 10\r\n```\r\n\r\nand will continue like that into the thousands.\r\n\r\nI tried inspecting a heap dump from jvisualvm, but got pretty lost in the sea of references.\r\n\r\nI&#39;m suspicious that this is an issue in JavaFX, but I thought I&#39;d check here before I report it as a bug.\r\n\r\n","title":"Content of SwingNode not garbage collected when content changed","body":"<p>I have a JavaFX application that displays a Swing plot via a SwingNode. Due to the way that the swing component is written and my unwillingness to refactor it, I create a new instance of the swing plot each time the user needs to update the data. In other words, whenever the user re-generates the plot, it creates a new Swing component and sets the SwingNode's content to the new component.</p>\n<p>It all works fine except that I discovered that the swing components never get garbage collected. They contain a substantial amount of data, so after a while it becomes a pretty severe memory leak.</p>\n<p>I've been able to demonstrate the issue with this minimum reproducible example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LeakDemo extends Application {\n\n    //Keep week references to all panels that we've ever generated to see if any\n    //of them get collected.\n    private Collection&lt;WeakReference&lt;JPanel&gt;&gt; panels = new CopyOnWriteArrayList&lt;&gt;();\n    \n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        \n        SwingNode node = new SwingNode();\n        \n        Pane root = new Pane();\n        root.getChildren().add(node);\n        \n        //Kick off a thread that repeatedly creates new JPanels and resets the swing node's content\n        new Thread(() -&gt; {\n            \n            while(true) {\n                \n                //Lets throw in a little sleep so we can read the output\n                try {\n                    Thread.sleep(500);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                \n                SwingUtilities.invokeLater(() -&gt; {\n                    JPanel panel = new JPanel();\n                    panels.add(new WeakReference&lt;&gt;(panel));\n                    node.setContent(panel);\n                });\n                \n                System.out.println(&quot;Panels in memory: &quot; + panels.stream().filter(ref -&gt; ref.get() != null).count());\n                \n                //I know this doesn't guarantee anything, but prompting a GC gives me more confidence that this\n                //truly is a bug.\n                System.gc();\n            }\n            \n        }).start();\n        \n        primaryStage.setScene(new Scene(root, 100, 100));\n        \n        primaryStage.show();\n        \n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>The output of the program is</p>\n<pre><code>Panels in memory: 0\nPanels in memory: 1\nPanels in memory: 2\nPanels in memory: 3\nPanels in memory: 4\nPanels in memory: 5\nPanels in memory: 6\nPanels in memory: 7\nPanels in memory: 8\nPanels in memory: 9\nPanels in memory: 10\n</code></pre>\n<p>and will continue like that into the thousands.</p>\n<p>I tried inspecting a heap dump from jvisualvm, but got pretty lost in the sea of references.</p>\n<p>I'm suspicious that this is an issue in JavaFX, but I thought I'd check here before I report it as a bug.</p>\n"},{"tags":["java","spring-boot","docker-compose","communication"],"comments":[{"owner":{"account_id":10250073,"reputation":1,"user_id":7564615,"display_name":"Vinu"},"score":0,"creation_date":1700800231,"post_id":77539449,"comment_id":136700102,"body_markdown":"@mahfuj asif  Thank you for editing. Please let me know how did you do that.","body":"@mahfuj asif  Thank you for editing. Please let me know how did you do that."},{"owner":{"account_id":10250073,"reputation":1,"user_id":7564615,"display_name":"Vinu"},"score":0,"creation_date":1700847923,"post_id":77539449,"comment_id":136706989,"body_markdown":"I found the issue. I was not supposed to put port number in the the datasource url:\n\nintead of  spring.datasource.url: jdbc:mysql://mysqldb:8500/poc?createDatabaseIfNotExist=true \n\nuse\n\nspring.datasource.url: jdbc:mysql://mysqldb/poc?createDatabaseIfNotExist=true","body":"I found the issue. I was not supposed to put port number in the the datasource url:  intead of  spring.datasource.url: jdbc:mysql://mysqldb:8500/poc?createDatabaseIfNotExist=true   use  spring.datasource.url: jdbc:mysql://mysqldb/poc?createDatabaseIfNotExist=true"},{"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"score":0,"creation_date":1700860135,"post_id":77539449,"comment_id":136708411,"body_markdown":"check this question https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks","body":"check this question <a href=\"https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks\" title=\"how do i format my code blocks\">meta.stackoverflow.com/questions/251361/&hellip;</a>"},{"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"score":0,"creation_date":1700860328,"post_id":77539449,"comment_id":136708433,"body_markdown":"Also follow this guideline to avoid downvotes https://stackoverflow.com/help/how-to-ask","body":"Also follow this guideline to avoid downvotes <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":14669102,"reputation":986,"user_id":10594058,"display_name":"todaynowork"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700823016,"creation_date":1700823016,"answer_id":77542571,"question_id":77539449,"body_markdown":"I think mysql allow root access from localhost by default. You could consider from this perspective and let you mysql could be access from any host. Something like \r\n\r\nmysql&gt; update mysql.user set host = &#39;%&#39; where user=&#39;root&#39;;\r\n\r\nFYI: https://nemoz.info/run-mysql-from-docker-and-allow-access-from-outside-container/","title":"Spring Boot with mysql containerization","body":"<p>I think mysql allow root access from localhost by default. You could consider from this perspective and let you mysql could be access from any host. Something like</p>\n<p>mysql&gt; update mysql.user set host = '%' where user='root';</p>\n<p>FYI: <a href=\"https://nemoz.info/run-mysql-from-docker-and-allow-access-from-outside-container/\" rel=\"nofollow noreferrer\">https://nemoz.info/run-mysql-from-docker-and-allow-access-from-outside-container/</a></p>\n"}],"owner":{"account_id":10250073,"reputation":1,"user_id":7564615,"display_name":"Vinu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700823016,"creation_date":1700770693,"question_id":77539449,"body_markdown":"```\r\nversion: &#39;3.7&#39;\r\nservices:\r\n  mysqldb:\r\n    image: mysql:8\r\n    restart: always\r\n    healthcheck:\r\n      test: [ &quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot; ]\r\n      timeout: 20s\r\n      retries: 10\r\n    environment:\r\n      MYSQL_ROOT_PASSWORD: root\r\n      MYSQL_DATABASE: poc\r\n    ports:\r\n      - 8500:3306\r\n    volumes:\r\n      - db:/var/lib/mysql\r\n\r\n  redis-to-mysql:\r\n    image: redis-to-mysql:1\r\n    hostname: redis-to-mysql\r\n    ports:\r\n      - &quot;8400:8400&quot;\r\n    environment:\r\n      spring.datasource.url: jdbc:mysql://mysqldb:8500/poc?createDatabaseIfNotExist=true\r\n      spring.jpa.properties.hibernate.dialect: org.hibernate.dialect.MySQL8Dialect\r\n      spring.datasource.username: root\r\n      spring.datasource.password: root\r\n      spring.jpa.hibernate.ddl-auto: none\r\n    depends_on:\r\n      mysqldb:\r\n        condition: service_healthy\r\n\r\nvolumes:\r\n  db:\r\n\r\nDescription:\r\n```\r\n\r\nUsing above docker-compose I am getting a connection refused due to a communication link error.\r\n    \r\nEarlier I was using custom network\r\n```   \r\n    networks:\r\n     app:\r\n      driver: bridge\r\n```\r\nAlso tried using different dialect provided for mysql8.Trying this on Mac M1 machine. Also tried with arm64 vesion of mysql8 and got similar error.\r\n","title":"Spring Boot with mysql containerization","body":"<pre><code>version: '3.7'\nservices:\n  mysqldb:\n    image: mysql:8\n    restart: always\n    healthcheck:\n      test: [ &quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot; ]\n      timeout: 20s\n      retries: 10\n    environment:\n      MYSQL_ROOT_PASSWORD: root\n      MYSQL_DATABASE: poc\n    ports:\n      - 8500:3306\n    volumes:\n      - db:/var/lib/mysql\n\n  redis-to-mysql:\n    image: redis-to-mysql:1\n    hostname: redis-to-mysql\n    ports:\n      - &quot;8400:8400&quot;\n    environment:\n      spring.datasource.url: jdbc:mysql://mysqldb:8500/poc?createDatabaseIfNotExist=true\n      spring.jpa.properties.hibernate.dialect: org.hibernate.dialect.MySQL8Dialect\n      spring.datasource.username: root\n      spring.datasource.password: root\n      spring.jpa.hibernate.ddl-auto: none\n    depends_on:\n      mysqldb:\n        condition: service_healthy\n\nvolumes:\n  db:\n\nDescription:\n</code></pre>\n<p>Using above docker-compose I am getting a connection refused due to a communication link error.</p>\n<p>Earlier I was using custom network</p>\n<pre><code>    networks:\n     app:\n      driver: bridge\n</code></pre>\n<p>Also tried using different dialect provided for mysql8.Trying this on Mac M1 machine. Also tried with arm64 vesion of mysql8 and got similar error.</p>\n"},{"tags":["java","spring","spring-boot","generics"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1641139327,"post_id":70557480,"comment_id":124726037,"body_markdown":"Replacing `throws Throwable` with `throws ClientNotFoundException` does not work? If not: please [edit] the post and include the compilation error. --- As an aside: `isExists(...)` is a terrible name. Renaming the method to `doesExist(...)` does not make it better; I would then expect the method to return a `boolean` instead of a `T`.","body":"Replacing <code>throws Throwable</code> with <code>throws ClientNotFoundException</code> does not work? If not: please <a href=\"https://stackoverflow.com/posts/70557480/edit\">edit</a> the post and include the compilation error. --- As an aside: <code>isExists(...)</code> is a terrible name. Renaming the method to <code>doesExist(...)</code> does not make it better; I would then expect the method to return a <code>boolean</code> instead of a <code>T</code>."},{"owner":{"account_id":23806749,"reputation":56,"user_id":17816148,"display_name":"superevil"},"score":0,"creation_date":1641139794,"post_id":70557480,"comment_id":124726154,"body_markdown":"Edited! and sure, the name is a horrible option, it&#39;s just temporary","body":"Edited! and sure, the name is a horrible option, it&#39;s just temporary"},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1641141472,"post_id":70557480,"comment_id":124726566,"body_markdown":"Obvious question - your exception class is subclassed (directly or indirectly) from Exception, right?","body":"Obvious question - your exception class is subclassed (directly or indirectly) from Exception, right?"},{"owner":{"account_id":23806749,"reputation":56,"user_id":17816148,"display_name":"superevil"},"score":0,"creation_date":1641142425,"post_id":70557480,"comment_id":124726833,"body_markdown":"Sure, it extends Exception","body":"Sure, it extends Exception"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1641145088,"post_id":70557480,"comment_id":124727487,"body_markdown":"&quot;unreported Exception&quot;?? &quot;must be caught or declared to be thrown&quot; - are you handling the Exception (`catch` or `throws`) where the method is being called?","body":"&quot;unreported Exception&quot;?? &quot;must be caught or declared to be thrown&quot; - are you handling the Exception (<code>catch</code> or <code>throws</code>) where the method is being called?"},{"owner":{"account_id":23806749,"reputation":56,"user_id":17816148,"display_name":"superevil"},"score":0,"creation_date":1641247894,"post_id":70557480,"comment_id":124752483,"body_markdown":"Oh no, I just need to throw it to the Controller","body":"Oh no, I just need to throw it to the Controller"},{"owner":{"account_id":238697,"reputation":1454,"user_id":507761,"accept_rate":100,"display_name":"Matthew Read"},"score":0,"creation_date":1671146805,"post_id":70557480,"comment_id":132042247,"body_markdown":"What version of Java are you using?  This was fixed quite a while back, I believe: https://bugs.openjdk.org/browse/JDK-8054569.  I can&#39;t reproduce your issue myself.","body":"What version of Java are you using?  This was fixed quite a while back, I believe: <a href=\"https://bugs.openjdk.org/browse/JDK-8054569\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8054569</a>.  I can&#39;t reproduce your issue myself."}],"answers":[{"tags":[],"owner":{"account_id":3117562,"reputation":1,"user_id":2638011,"display_name":"intro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700822995,"creation_date":1700822995,"answer_id":77542567,"question_id":70557480,"body_markdown":"I had the same problem. Ended with workaround:\r\n\r\n    E entity = (E) repository.findById(entityId).orElse(null);\r\n    if (entity == null){\r\n        throw new NonexistentEntityException(String.format(&quot;%s with id=%d not exists&quot;, keyName, entityId));\r\n    }","title":"Throwing custom exception from generic method - Java","body":"<p>I had the same problem. Ended with workaround:</p>\n<pre><code>E entity = (E) repository.findById(entityId).orElse(null);\nif (entity == null){\n    throw new NonexistentEntityException(String.format(&quot;%s with id=%d not exists&quot;, keyName, entityId));\n}\n</code></pre>\n"}],"owner":{"account_id":23806749,"reputation":56,"user_id":17816148,"display_name":"superevil"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700822995,"creation_date":1641139148,"question_id":70557480,"body_markdown":"I&#39;m using Spring Boot and Spring Data JPA, and i have a **generic method** that returns a generic type object and a **custom exception** that needs to be thrown from the generic method.\r\nUnfortunately, I get an error from the IDE suggesting that I should throw the generic **Throwable** instead of my custom exception. Whenever I try to throw my exception, I get a compilation error.\r\n\r\nThe generic method -&gt; Gets one of three client types from the database, or throws an **ClientNotFoundException** stating that the client wasn&#39;t found in db:\r\n\r\n        public static &lt;T&gt; T isExists(JpaRepository repository, int id, ClientType clientType) throws Throwable {\r\n        T fromDB = (T) repository.findById(id).orElseThrow(() -&gt; new ClientNotFoundException(&quot;Error getting info from dababase&quot;, Calendar.getInstance(), null, clientType));\r\n        return fromDB;\r\n    }\r\n\r\nWhat seems to be the problem? How can I throw my custom exception from my generic method? Thanks :)\r\n\r\n\r\n*edited*:\r\nIf I manually throw from method header **ClientNotFoundException**, the lines go red and the app is not compiling-\r\n\r\nThe compilation error that I get is:\r\n\r\n    java: unreported exception java.lang.Throwable; must be caught or declared to be thrown\r\n\r\nIDE (using IntelliJ) suggests 3 options:\r\n- Convert exception to Throwable\r\n- Annotate with @SneakyThrows\r\n- try/catch \r\n\r\nThe suggestions are not the best for me, so I&#39;d like to check other solutions..","title":"Throwing custom exception from generic method - Java","body":"<p>I'm using Spring Boot and Spring Data JPA, and i have a <strong>generic method</strong> that returns a generic type object and a <strong>custom exception</strong> that needs to be thrown from the generic method.\nUnfortunately, I get an error from the IDE suggesting that I should throw the generic <strong>Throwable</strong> instead of my custom exception. Whenever I try to throw my exception, I get a compilation error.</p>\n<p>The generic method -&gt; Gets one of three client types from the database, or throws an <strong>ClientNotFoundException</strong> stating that the client wasn't found in db:</p>\n<pre><code>    public static &lt;T&gt; T isExists(JpaRepository repository, int id, ClientType clientType) throws Throwable {\n    T fromDB = (T) repository.findById(id).orElseThrow(() -&gt; new ClientNotFoundException(&quot;Error getting info from dababase&quot;, Calendar.getInstance(), null, clientType));\n    return fromDB;\n}\n</code></pre>\n<p>What seems to be the problem? How can I throw my custom exception from my generic method? Thanks :)</p>\n<p><em>edited</em>:\nIf I manually throw from method header <strong>ClientNotFoundException</strong>, the lines go red and the app is not compiling-</p>\n<p>The compilation error that I get is:</p>\n<pre><code>java: unreported exception java.lang.Throwable; must be caught or declared to be thrown\n</code></pre>\n<p>IDE (using IntelliJ) suggests 3 options:</p>\n<ul>\n<li>Convert exception to Throwable</li>\n<li>Annotate with @SneakyThrows</li>\n<li>try/catch</li>\n</ul>\n<p>The suggestions are not the best for me, so I'd like to check other solutions..</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1700817842,"post_id":77542015,"comment_id":136702194,"body_markdown":"Nothing is bound. You have an instance of java&#39;s `File` class which does not interact with the file system unless you instruct it to do that. If it would automatically create the file, `f.exists()` wouldn&#39;t make sense. Have you read the documentation of the `File` class?","body":"Nothing is bound. You have an instance of java&#39;s <code>File</code> class which does not interact with the file system unless you instruct it to do that. If it would automatically create the file, <code>f.exists()</code> wouldn&#39;t make sense. Have you read the documentation of the <code>File</code> class?"},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":1,"creation_date":1700817843,"post_id":77542015,"comment_id":136702196,"body_markdown":"*&quot;It&#39;s just that as far as I understand in Java, if there is a file, then it binds, and if not, then it creates a new one.&quot;* Where are you getting this from? Did you try it out?","body":"<i>&quot;It&#39;s just that as far as I understand in Java, if there is a file, then it binds, and if not, then it creates a new one.&quot;</i> Where are you getting this from? Did you try it out?"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":1,"creation_date":1700817981,"post_id":77542015,"comment_id":136702217,"body_markdown":"I must have misunderstood ur question but `new File(filePath)` doesn&#39;t create a file, `new File(filePath).createNewFile()` does","body":"I must have misunderstood ur question but <code>new File(filePath)</code> doesn&#39;t create a file, <code>new File(filePath).createNewFile()</code> does"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1700819017,"post_id":77542015,"comment_id":136702406,"body_markdown":"No , not for practical purpose , the only alternate is java.nio.files.File and java.nio.files.Path but is in fact more complex. Also , new File(path) DOES NOT create a file , java.io.File has a boolean method you must call to create the file.","body":"No , not for practical purpose , the only alternate is java.nio.files.File and java.nio.files.Path but is in fact more complex. Also , new File(path) DOES NOT create a file , java.io.File has a boolean method you must call to create the file."}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1700822268,"post_id":77542336,"comment_id":136702953,"body_markdown":"This is a misleading answer. By talking about `Path` it very strongly insinuates that OP is correct (that `new File()` &#39;binds&#39;). But OP isn&#39;t correct. Misleading answers deserve downvotes.","body":"This is a misleading answer. By talking about <code>Path</code> it very strongly insinuates that OP is correct (that <code>new File()</code> &#39;binds&#39;). But OP isn&#39;t correct. Misleading answers deserve downvotes."},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1700822931,"post_id":77542336,"comment_id":136703049,"body_markdown":"On the contrary, I answered precisely what was asked. As for the OP&#39;s misconceptions, they are numerous, not unique, inevitable and thus very much excusable. I&#39;m not interested in any of them very much, I just concentrate on the task at hand, which is, checking for file existence in Java in 2023.","body":"On the contrary, I answered precisely what was asked. As for the OP&#39;s misconceptions, they are numerous, not unique, inevitable and thus very much excusable. I&#39;m not interested in any of them very much, I just concentrate on the task at hand, which is, checking for file existence in Java in 2023."}],"tags":[],"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700821019,"creation_date":1700821019,"answer_id":77542336,"question_id":77542015,"body_markdown":"You can use a newer `Path` class, which is [well](https://docs.oracle.com/javase/tutorial/essential/io/check.html) [covered](https://docs.oracle.com/javase/tutorial/essential/io/pathOps.html) in the official tutorial.\r\n\r\n```java\r\nPath path = Paths.get(filePath);\r\n\r\nif (!Files.exists(path)) {\r\n    System.out.println(&quot;The file doesn&#39;t exist&quot;);\r\n}\r\n```\r\n\r\nThe `Path` class serves mostly the same purpose as the old `File` class, but includes more functionality and less confusingly named.\r\n\r\nOn a side note, I never could get why people devote so much attention to checking the file&#39;s existence. Usually you don&#39;t just check but do something else with the file. And what if the file gets gone in the time between the check and the usage? Just handle the appropriate `IOException`, you&#39;ll have to do it in the commercial code anyway.","title":"Is it possible to check file exists with out file connection?","body":"<p>You can use a newer <code>Path</code> class, which is <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/check.html\" rel=\"nofollow noreferrer\">well</a> <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/pathOps.html\" rel=\"nofollow noreferrer\">covered</a> in the official tutorial.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path path = Paths.get(filePath);\n\nif (!Files.exists(path)) {\n    System.out.println(&quot;The file doesn't exist&quot;);\n}\n</code></pre>\n<p>The <code>Path</code> class serves mostly the same purpose as the old <code>File</code> class, but includes more functionality and less confusingly named.</p>\n<p>On a side note, I never could get why people devote so much attention to checking the file's existence. Usually you don't just check but do something else with the file. And what if the file gets gone in the time between the check and the usage? Just handle the appropriate <code>IOException</code>, you'll have to do it in the commercial code anyway.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700822581,"creation_date":1700822581,"answer_id":77542512,"question_id":77542015,"body_markdown":"&gt; It&#39;s just that as far as I understand in Java, if there is a file, then it binds, and if not, then it creates a new one.\r\n\r\nNo, and no.\r\n\r\nFile is incredibly lightweight. It wraps around a string. __That is all it does__. `new File(&quot;whatever&quot;)` makes zero calls to the underlying OS, opens no file handles, and in fact is entirely a memory operation, and would work fine even if your disk is failing as we speak.\r\n\r\nMemory and CPU and OS call wise there is no difference whatsoever between `new File(&quot;foo&quot;)` and `String x = &quot;foo&quot;`. Except, I guess, for an extremely lightweight object that contains just 1 reference (to a string containing the path).\r\n\r\n`new File(&quot;someRealFile.txt&quot;)` does not open the file; it wouldn&#39;t cause that file to be created if it doesn&#39;t exist, and it does not cause that file, if it exists, to now be un-deletable on OSes that make it impossible to delete files that are open, such as windows.\r\n\r\nHence, `new File(&quot;someFile.txt&quot;).exists()` is it - that is as light weight as you want it to be.\r\n\r\nThere _is_ a new file API: `java.nio.file`. It would look like:\r\n\r\n```\r\nFiles.exists(Path.of(&quot;/path/to/file&quot;))\r\n```\r\n\r\nThe reason to use it have nothing to do with &#39;binding&#39;. the new API has two features:\r\n\r\n* The old API uses return values for errors. For example, `new File(&quot;something.txt&quot;).mkdir()`, if it fails, it just returns `false`. This is bad design - it&#39;s un-java-like (very few other java libraries do this), and that makes the problem with that design even more problematic - because the problem is that you&#39;re likely to forget to check. In contrast to exceptions (the mechanism used by the new file APIs). With exceptions, if you forget to deal with them, you&#39;ll know at runtime, vs a &#39;silently, nothing happens&#39; that results in hours-long bug hunts. Also, booleans offer no info; exceptions have properties and string based messages to look at.\r\n\r\n* The new file API offers more features. You can use it to fetch file creation timestamps for example, or to follow softlinks. Things the old API cannot do.\r\n\r\nIf those are relevant to your case you might want to switch, or you want to switch to the newer API simply for consistency. But you don&#39;t have to do it to address this non-existent &#39;binding / creation&#39; problem.","title":"Is it possible to check file exists with out file connection?","body":"<blockquote>\n<p>It's just that as far as I understand in Java, if there is a file, then it binds, and if not, then it creates a new one.</p>\n</blockquote>\n<p>No, and no.</p>\n<p>File is incredibly lightweight. It wraps around a string. <strong>That is all it does</strong>. <code>new File(&quot;whatever&quot;)</code> makes zero calls to the underlying OS, opens no file handles, and in fact is entirely a memory operation, and would work fine even if your disk is failing as we speak.</p>\n<p>Memory and CPU and OS call wise there is no difference whatsoever between <code>new File(&quot;foo&quot;)</code> and <code>String x = &quot;foo&quot;</code>. Except, I guess, for an extremely lightweight object that contains just 1 reference (to a string containing the path).</p>\n<p><code>new File(&quot;someRealFile.txt&quot;)</code> does not open the file; it wouldn't cause that file to be created if it doesn't exist, and it does not cause that file, if it exists, to now be un-deletable on OSes that make it impossible to delete files that are open, such as windows.</p>\n<p>Hence, <code>new File(&quot;someFile.txt&quot;).exists()</code> is it - that is as light weight as you want it to be.</p>\n<p>There <em>is</em> a new file API: <code>java.nio.file</code>. It would look like:</p>\n<pre><code>Files.exists(Path.of(&quot;/path/to/file&quot;))\n</code></pre>\n<p>The reason to use it have nothing to do with 'binding'. the new API has two features:</p>\n<ul>\n<li><p>The old API uses return values for errors. For example, <code>new File(&quot;something.txt&quot;).mkdir()</code>, if it fails, it just returns <code>false</code>. This is bad design - it's un-java-like (very few other java libraries do this), and that makes the problem with that design even more problematic - because the problem is that you're likely to forget to check. In contrast to exceptions (the mechanism used by the new file APIs). With exceptions, if you forget to deal with them, you'll know at runtime, vs a 'silently, nothing happens' that results in hours-long bug hunts. Also, booleans offer no info; exceptions have properties and string based messages to look at.</p>\n</li>\n<li><p>The new file API offers more features. You can use it to fetch file creation timestamps for example, or to follow softlinks. Things the old API cannot do.</p>\n</li>\n</ul>\n<p>If those are relevant to your case you might want to switch, or you want to switch to the newer API simply for consistency. But you don't have to do it to address this non-existent 'binding / creation' problem.</p>\n"}],"owner":{"account_id":23703327,"reputation":9,"user_id":22517269,"display_name":"ETIT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1700822581,"creation_date":1700817722,"question_id":77542015,"body_markdown":"In my project, I attach a file using `File f = new File(filePath);` and then check the existing file using `f.exists()`. So my question is: Is it possible to check the existence of a file without `File f = new File(filePath);`? It&#39;s just that as far as I understand in Java, if there is a file, then it binds, and if not, then it creates a new one. I just don&#39;t want to overwrite a file that may contain important data.","title":"Is it possible to check file exists with out file connection?","body":"<p>In my project, I attach a file using <code>File f = new File(filePath);</code> and then check the existing file using <code>f.exists()</code>. So my question is: Is it possible to check the existence of a file without <code>File f = new File(filePath);</code>? It's just that as far as I understand in Java, if there is a file, then it binds, and if not, then it creates a new one. I just don't want to overwrite a file that may contain important data.</p>\n"},{"tags":["java","gradle","libgdx","game-engine","game-development"],"answers":[{"tags":[],"owner":{"account_id":200481,"reputation":5196,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700822239,"creation_date":1700822239,"answer_id":77542478,"question_id":77542437,"body_markdown":"The error is in &quot;Unsupported class file major version 63&quot;.\r\n\r\nJava class file version 63, is java jdk 19, so it is complaining that the class files have been compiled for java version 19, but you are using a version which is smaller then version 19.\r\n  ","title":"libGDX Project Generator showing &quot;Build Failed&quot; everytime I try Generating a project","body":"<p>The error is in &quot;Unsupported class file major version 63&quot;.</p>\n<p>Java class file version 63, is java jdk 19, so it is complaining that the class files have been compiled for java version 19, but you are using a version which is smaller then version 19.</p>\n"}],"owner":{"account_id":29294836,"reputation":23,"user_id":22444392,"display_name":"JRichter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700822239,"creation_date":1700821832,"question_id":77542437,"body_markdown":"I am trying to install libGDX on my machine using the libGDX Project Setup and have set the location to everything it needs.But everytime I click &quot;Generate&quot;,I get this Error:\r\n\r\n```\r\nGenerating app in C:\\Users\\lenovo\\Desktop\\test\r\nExecuting &#39;C:\\Users\\lenovo\\Desktop\\test/gradlew.bat clean --no-daemon&#39;\r\nTo honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.5.1/userguide/gradle_daemon.html#sec:disabling_the_daemon.\r\nDaemon will be stopped at the end of the build \r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not open settings generic class cache for settings file &#39;C:\\Users\\lenovo\\Desktop\\test\\settings.gradle&#39; (C:\\Users\\lenovo\\.gradle\\caches\\7.5.1\\scripts\\2e5ewf69m4vwrhf5dztt0u5q6).\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 6s\r\nDone!\r\nTo import in Eclipse: File -&gt; Import -&gt; Gradle -&gt; Existing Gradle Project\r\nTo import to Intellij IDEA: File -&gt; Open -&gt; build.gradle\r\nTo import to NetBeans: File -&gt; Open Project...\r\nGenerating app in C:\\Users\\lenovo\\Desktop\\test\r\nExecuting &#39;C:\\Users\\lenovo\\Desktop\\test/gradlew.bat clean --no-daemon&#39;\r\nTo honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.5.1/userguide/gradle_daemon.html#sec:disabling_the_daemon.\r\nDaemon will be stopped at the end of the build \r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not open settings generic class cache for settings file &#39;C:\\Users\\lenovo\\Desktop\\test\\settings.gradle&#39; (C:\\Users\\lenovo\\.gradle\\caches\\7.5.1\\scripts\\2e5ewf69m4vwrhf5dztt0u5q6).\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 5s\r\nDone!\r\nTo import in Eclipse: File -&gt; Import -&gt; Gradle -&gt; Existing Gradle Project\r\nTo import to Intellij IDEA: File -&gt; Open -&gt; build.gradle\r\nTo import to NetBeans: File -&gt; Open Project...\r\nGenerating app in C:\\Users\\lenovo\\Desktop\\test\r\nExecuting &#39;C:\\Users\\lenovo\\Desktop\\test/gradlew.bat clean --no-daemon&#39;\r\nTo honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.5.1/userguide/gradle_daemon.html#sec:disabling_the_daemon.\r\nDaemon will be stopped at the end of the build \r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not open settings generic class cache for settings file &#39;C:\\Users\\lenovo\\Desktop\\test\\settings.gradle&#39; (C:\\Users\\lenovo\\.gradle\\caches\\7.5.1\\scripts\\2e5ewf69m4vwrhf5dztt0u5q6).\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 6s\r\nDone!\r\nTo import in Eclipse: File -&gt; Import -&gt; Gradle -&gt; Existing Gradle Project\r\nTo import to Intellij IDEA: File -&gt; Open -&gt; build.gradle\r\nTo import to NetBeans: File -&gt; Open Project...\r\n```\r\n\r\nI have tried searching everywhere but I am having difficulty getting this to work. I am very new to this and any help will be hugely appreciated.","title":"libGDX Project Generator showing &quot;Build Failed&quot; everytime I try Generating a project","body":"<p>I am trying to install libGDX on my machine using the libGDX Project Setup and have set the location to everything it needs.But everytime I click &quot;Generate&quot;,I get this Error:</p>\n<pre><code>Generating app in C:\\Users\\lenovo\\Desktop\\test\nExecuting 'C:\\Users\\lenovo\\Desktop\\test/gradlew.bat clean --no-daemon'\nTo honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.5.1/userguide/gradle_daemon.html#sec:disabling_the_daemon.\nDaemon will be stopped at the end of the build \n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not open settings generic class cache for settings file 'C:\\Users\\lenovo\\Desktop\\test\\settings.gradle' (C:\\Users\\lenovo\\.gradle\\caches\\7.5.1\\scripts\\2e5ewf69m4vwrhf5dztt0u5q6).\n&gt; BUG! exception in phase 'semantic analysis' in source unit '_BuildScript_' Unsupported class file major version 63\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 6s\nDone!\nTo import in Eclipse: File -&gt; Import -&gt; Gradle -&gt; Existing Gradle Project\nTo import to Intellij IDEA: File -&gt; Open -&gt; build.gradle\nTo import to NetBeans: File -&gt; Open Project...\nGenerating app in C:\\Users\\lenovo\\Desktop\\test\nExecuting 'C:\\Users\\lenovo\\Desktop\\test/gradlew.bat clean --no-daemon'\nTo honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.5.1/userguide/gradle_daemon.html#sec:disabling_the_daemon.\nDaemon will be stopped at the end of the build \n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not open settings generic class cache for settings file 'C:\\Users\\lenovo\\Desktop\\test\\settings.gradle' (C:\\Users\\lenovo\\.gradle\\caches\\7.5.1\\scripts\\2e5ewf69m4vwrhf5dztt0u5q6).\n&gt; BUG! exception in phase 'semantic analysis' in source unit '_BuildScript_' Unsupported class file major version 63\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 5s\nDone!\nTo import in Eclipse: File -&gt; Import -&gt; Gradle -&gt; Existing Gradle Project\nTo import to Intellij IDEA: File -&gt; Open -&gt; build.gradle\nTo import to NetBeans: File -&gt; Open Project...\nGenerating app in C:\\Users\\lenovo\\Desktop\\test\nExecuting 'C:\\Users\\lenovo\\Desktop\\test/gradlew.bat clean --no-daemon'\nTo honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.5.1/userguide/gradle_daemon.html#sec:disabling_the_daemon.\nDaemon will be stopped at the end of the build \n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not open settings generic class cache for settings file 'C:\\Users\\lenovo\\Desktop\\test\\settings.gradle' (C:\\Users\\lenovo\\.gradle\\caches\\7.5.1\\scripts\\2e5ewf69m4vwrhf5dztt0u5q6).\n&gt; BUG! exception in phase 'semantic analysis' in source unit '_BuildScript_' Unsupported class file major version 63\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 6s\nDone!\nTo import in Eclipse: File -&gt; Import -&gt; Gradle -&gt; Existing Gradle Project\nTo import to Intellij IDEA: File -&gt; Open -&gt; build.gradle\nTo import to NetBeans: File -&gt; Open Project...\n</code></pre>\n<p>I have tried searching everywhere but I am having difficulty getting this to work. I am very new to this and any help will be hugely appreciated.</p>\n"},{"tags":["java","spring","spring-boot","shedlock"],"answers":[{"comments":[{"owner":{"account_id":252238,"reputation":333,"user_id":530158,"accept_rate":50,"display_name":"user530158"},"score":0,"creation_date":1590644831,"post_id":61938583,"comment_id":109758192,"body_markdown":"Got it , but at least lock should be released once process gets finished before lockAtMostFor time.But this is not happening , other process cant run until lockAtMostFor  time is elapsed.","body":"Got it , but at least lock should be released once process gets finished before lockAtMostFor time.But this is not happening , other process cant run until lockAtMostFor  time is elapsed."},{"owner":{"account_id":5546480,"reputation":348,"user_id":4400978,"accept_rate":0,"display_name":"Tukaram Bhosale"},"score":0,"creation_date":1626778796,"post_id":61938583,"comment_id":120978857,"body_markdown":"@Lukas, What is the way to reset the schedlock for integration test? I tried 0 as per your post   https://github.com/lukas-krecan/ShedLock/issues/174 bot getting  lockAtMostUntil is in the past for lock on running a test","body":"@Lukas, What is the way to reset the schedlock for integration test? I tried 0 as per your post   <a href=\"https://github.com/lukas-krecan/ShedLock/issues/174\" rel=\"nofollow noreferrer\">github.com/lukas-krecan/ShedLock/issues/174</a> bot getting  lockAtMostUntil is in the past for lock on running a test"}],"tags":[],"owner":{"account_id":103435,"reputation":13736,"user_id":277042,"accept_rate":57,"display_name":"Lukas"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700821480,"creation_date":1590076655,"answer_id":61938583,"question_id":61927356,"body_markdown":"Quoting from the documentation:\r\n\r\n&gt; You have to set `lockAtMostFor` to a value that is much longer than\r\n&gt; normal execution time. If the task takes longer than `lockAtMostFor` the\r\n&gt; resulting behavior may be unpredictable (more than one process will\r\n&gt; effectively hold the lock).","title":"Spring Shedlock timing issue","body":"<p>Quoting from the documentation:</p>\n<blockquote>\n<p>You have to set <code>lockAtMostFor</code> to a value that is much longer than\nnormal execution time. If the task takes longer than <code>lockAtMostFor</code> the\nresulting behavior may be unpredictable (more than one process will\neffectively hold the lock).</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":8035839,"reputation":113,"user_id":6059001,"display_name":"jsturnio"},"score":1,"creation_date":1672387266,"post_id":67703450,"comment_id":132279717,"body_markdown":"You used: usingDbTime and TimeZone.\nI get this error when used both settings:\n java.lang.IllegalArgumentException: Can not set both useDbTime and timeZone","body":"You used: usingDbTime and TimeZone. I get this error when used both settings:  java.lang.IllegalArgumentException: Can not set both useDbTime and timeZone"}],"tags":[],"owner":{"account_id":19335633,"reputation":81,"user_id":14136284,"display_name":"Mohammadreza Beygifard"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1622026374,"creation_date":1622026374,"answer_id":67703450,"question_id":61927356,"body_markdown":"You can find in the [documentation][1] of Shedlock that in order to extend the maximum locked time, `lockAtMostUntil`, you have to create both `SimpleLock` and `extend()` method manually. Remember that, you also have to invoke the `extend()` method manually, or by implementing a `check()` method that checks if your process is finished and invokes the `extend()` method if needed, otherwise, the lock will be automatically unlocked when it reaches the `lockAtMostUntil` time, no matter if your process is still running.\r\n\r\nHere I am explaining how you can create the `SimpleLock` manually from `LockProvider`.\r\nFor questions about how to set the database, I recommend you read this part of the [documentation][2] of Shedlock.\r\n\r\nI have used `spring boot` for my application, so the annotations that you see come from `spring boot`.\r\n\r\n**Dependencies:**\r\n\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;4.23.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;shedlock-provider-jdbc-template&lt;/artifactId&gt;\r\n            &lt;version&gt;4.23.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.15.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Configuration** of `LockProvider`:\r\n\r\n    @EnableAsync\r\n    @Profile(&quot;!unit_test&quot;)\r\n    @Configuration\r\n    public class LockConfiguration {\r\n    \r\n        @Bean\r\n        public LockProvider lockProvider(DataSource dataSource) {\r\n    \r\n            return new JdbcTemplateLockProvider(\r\n                    JdbcTemplateLockProvider.Configuration.builder()\r\n                            .withTimeZone(TimeZone.getTimeZone(&quot;Europe/Rome&quot;))\r\n                            .withJdbcTemplate(new JdbcTemplate(dataSource))\r\n                            .withTableName(&quot;shared_lock&quot;)\r\n                            .usingDbTime()\r\n                            .build());\r\n        }\r\n    }\r\n\r\n**DistributedLock** here is where we implement `SimpleLock` and all the needed related methods:\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class DistributedLockWithExtend {\r\n    \r\n        @Autowired\r\n        private LockProvider lockProvider;\r\n    \r\n        private final Map&lt;String, SimpleLock&gt; locks = new HashMap&lt;&gt;();\r\n    \r\n    \r\n    \r\n        public boolean tryLock(String lockname, Duration lockDuration){\r\n            Duration minDuration = Duration.ZERO;\r\n            Instant now = ClockProvider.now();\r\n            LockConfiguration config = new LockConfiguration(now, lockname, lockDuration, minDuration);\r\n            Optional&lt;SimpleLock&gt; lockLocal = lockProvider.lock(config);\r\n            if(lockLocal.isPresent()) {\r\n                locks.put(lockname, lockLocal.get());\r\n                log.debug(&quot;lock is created!&quot;);\r\n                return true;\r\n            }else {\r\n                log.debug(&quot;lock is locked!&quot;);\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        public boolean extendLock(String lockname, Duration duration){\r\n            Duration minDuration = Duration.ZERO;\r\n            SimpleLock lock = locks.get(lockname);\r\n            if(lock != null) {\r\n                Optional&lt;SimpleLock&gt; localLock = lock.extend(duration, duration);\r\n                locks.put(lockname, localLock.get());\r\n                log.debug(&quot;Lock is extended&quot;);\r\n                return true;\r\n            }else {\r\n                log.debug(&quot;There is no lock or the lock is already unlocked! Create a lock with tryLock() if you need!&quot;);\r\n                return false;\r\n            }\r\n    \r\n        }\r\n    \r\n        public String unLock(String lockname){\r\n    \r\n            SimpleLock lock = locks.get(lockname);\r\n            if(lock != null) {\r\n                locks.remove(lockname);\r\n                lock.unlock();\r\n                log.debug(&quot;Lock is unLocked!&quot;);\r\n                return &quot;Lock is unLocked!&quot;;\r\n            }else {\r\n                log.debug(&quot;There is no lock or the lock is already unlocked! Create a lock if you need!&quot;);\r\n                return &quot;There is no lock or the lock is already unlocked! Create a lock if you need!&quot;;\r\n            }\r\n    \r\n    \r\n    \r\n        }\r\n    }\r\n\r\nAnd here is a test **RestController** that I created to demonstrate the usage of the `DistributedLockWithExtend` methods:\r\n\r\n    @Profile(&quot;!unit_test&quot;)\r\n    @RestController\r\n    @RequestMapping(TestLockController.PATH)\r\n    public class TestLockController {\r\n    \r\n        public static final  String PATH = BaseController.PATH + &quot;/test-lock&quot;;\r\n    \r\n        @Autowired\r\n        ApplyPolicyScheduler applyPolicySchedular;\r\n    \r\n        @Autowired\r\n        DistributedLockWithExtend distributedLockWithExtend;\r\n    \r\n        @GetMapping(&quot;/up&quot;)\r\n        public String testService(){\r\n            return &quot;Service is up!&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/invoke&quot;)\r\n        public String invokeTest(){\r\n    \r\n            return distributedLockWithExtend.tryLock(&quot;testLockUtil&quot;, Duration.ofMinutes(1)) + &quot;&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/extend&quot;)\r\n        public String extendTest(){\r\n    \r\n            return distributedLockWithExtend.extendLock(&quot;testLockUtil&quot;, Duration.ofMinutes(3)) + &quot;&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/unlock&quot;)\r\n        public String unlockTest(){\r\n    \r\n             distributedLockWithExtend.unLock(&quot;testLockUtil&quot;);\r\n             return &quot;Unlock called!&quot;;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/lukas-krecan/ShedLock#extending-the-lock\r\n  [2]: https://github.com/lukas-krecan/ShedLock#configure-lockprovider","title":"Spring Shedlock timing issue","body":"<p>You can find in the <a href=\"https://github.com/lukas-krecan/ShedLock#extending-the-lock\" rel=\"nofollow noreferrer\">documentation</a> of Shedlock that in order to extend the maximum locked time, <code>lockAtMostUntil</code>, you have to create both <code>SimpleLock</code> and <code>extend()</code> method manually. Remember that, you also have to invoke the <code>extend()</code> method manually, or by implementing a <code>check()</code> method that checks if your process is finished and invokes the <code>extend()</code> method if needed, otherwise, the lock will be automatically unlocked when it reaches the <code>lockAtMostUntil</code> time, no matter if your process is still running.</p>\n<p>Here I am explaining how you can create the <code>SimpleLock</code> manually from <code>LockProvider</code>.\nFor questions about how to set the database, I recommend you read this part of the <a href=\"https://github.com/lukas-krecan/ShedLock#configure-lockprovider\" rel=\"nofollow noreferrer\">documentation</a> of Shedlock.</p>\n<p>I have used <code>spring boot</code> for my application, so the annotations that you see come from <code>spring boot</code>.</p>\n<p><strong>Dependencies:</strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n        &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\n        &lt;version&gt;4.23.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n        &lt;artifactId&gt;shedlock-provider-jdbc-template&lt;/artifactId&gt;\n        &lt;version&gt;4.23.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;5.2.15.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Configuration</strong> of <code>LockProvider</code>:</p>\n<pre><code>@EnableAsync\n@Profile(&quot;!unit_test&quot;)\n@Configuration\npublic class LockConfiguration {\n\n    @Bean\n    public LockProvider lockProvider(DataSource dataSource) {\n\n        return new JdbcTemplateLockProvider(\n                JdbcTemplateLockProvider.Configuration.builder()\n                        .withTimeZone(TimeZone.getTimeZone(&quot;Europe/Rome&quot;))\n                        .withJdbcTemplate(new JdbcTemplate(dataSource))\n                        .withTableName(&quot;shared_lock&quot;)\n                        .usingDbTime()\n                        .build());\n    }\n}\n</code></pre>\n<p><strong>DistributedLock</strong> here is where we implement <code>SimpleLock</code> and all the needed related methods:</p>\n<pre><code>@Component\n@Slf4j\npublic class DistributedLockWithExtend {\n\n    @Autowired\n    private LockProvider lockProvider;\n\n    private final Map&lt;String, SimpleLock&gt; locks = new HashMap&lt;&gt;();\n\n\n\n    public boolean tryLock(String lockname, Duration lockDuration){\n        Duration minDuration = Duration.ZERO;\n        Instant now = ClockProvider.now();\n        LockConfiguration config = new LockConfiguration(now, lockname, lockDuration, minDuration);\n        Optional&lt;SimpleLock&gt; lockLocal = lockProvider.lock(config);\n        if(lockLocal.isPresent()) {\n            locks.put(lockname, lockLocal.get());\n            log.debug(&quot;lock is created!&quot;);\n            return true;\n        }else {\n            log.debug(&quot;lock is locked!&quot;);\n            return false;\n        }\n    }\n\n    public boolean extendLock(String lockname, Duration duration){\n        Duration minDuration = Duration.ZERO;\n        SimpleLock lock = locks.get(lockname);\n        if(lock != null) {\n            Optional&lt;SimpleLock&gt; localLock = lock.extend(duration, duration);\n            locks.put(lockname, localLock.get());\n            log.debug(&quot;Lock is extended&quot;);\n            return true;\n        }else {\n            log.debug(&quot;There is no lock or the lock is already unlocked! Create a lock with tryLock() if you need!&quot;);\n            return false;\n        }\n\n    }\n\n    public String unLock(String lockname){\n\n        SimpleLock lock = locks.get(lockname);\n        if(lock != null) {\n            locks.remove(lockname);\n            lock.unlock();\n            log.debug(&quot;Lock is unLocked!&quot;);\n            return &quot;Lock is unLocked!&quot;;\n        }else {\n            log.debug(&quot;There is no lock or the lock is already unlocked! Create a lock if you need!&quot;);\n            return &quot;There is no lock or the lock is already unlocked! Create a lock if you need!&quot;;\n        }\n\n\n\n    }\n}\n</code></pre>\n<p>And here is a test <strong>RestController</strong> that I created to demonstrate the usage of the <code>DistributedLockWithExtend</code> methods:</p>\n<pre><code>@Profile(&quot;!unit_test&quot;)\n@RestController\n@RequestMapping(TestLockController.PATH)\npublic class TestLockController {\n\n    public static final  String PATH = BaseController.PATH + &quot;/test-lock&quot;;\n\n    @Autowired\n    ApplyPolicyScheduler applyPolicySchedular;\n\n    @Autowired\n    DistributedLockWithExtend distributedLockWithExtend;\n\n    @GetMapping(&quot;/up&quot;)\n    public String testService(){\n        return &quot;Service is up!&quot;;\n    }\n\n    @GetMapping(&quot;/invoke&quot;)\n    public String invokeTest(){\n\n        return distributedLockWithExtend.tryLock(&quot;testLockUtil&quot;, Duration.ofMinutes(1)) + &quot;&quot;;\n    }\n\n    @GetMapping(&quot;/extend&quot;)\n    public String extendTest(){\n\n        return distributedLockWithExtend.extendLock(&quot;testLockUtil&quot;, Duration.ofMinutes(3)) + &quot;&quot;;\n    }\n\n    @GetMapping(&quot;/unlock&quot;)\n    public String unlockTest(){\n\n         distributedLockWithExtend.unLock(&quot;testLockUtil&quot;);\n         return &quot;Unlock called!&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":252238,"reputation":333,"user_id":530158,"accept_rate":50,"display_name":"user530158"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5803,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":61938583,"answer_count":2,"score":5,"last_activity_date":1700821480,"creation_date":1590035686,"question_id":61927356,"body_markdown":"We are using Spring Shedlock library to run one instance of task at a time in clustered enviroment.\r\nBut looks like lock is held until specific time (**configured by lockAtMostFor attribute If we dont configure it takes default value from spring config**) not until task is finished. \r\n\r\nLets say if I configured lockAtMostFor=15 mins\r\nno parellel task runs on any of node for 15 mins, but after 15 mins if any of node gets chance to run(or manually trigger) task its able to start it even if previous task is not finished its processing.\r\n\r\n1.Is Shedlock is time based ? \r\n\r\n2.Documentation(https://github.com/lukas-krecan/ShedLock) says lock is only released only when task is finished and lockAtMostFor attribute is only used in case node terminition event , but its not working\r\nlike that even if task is not finished other nodes are able to run task , other nodes are blocked from running task only if time is not elapsed (lockAtMostFor attribute)  \r\n","title":"Spring Shedlock timing issue","body":"<p>We are using Spring Shedlock library to run one instance of task at a time in clustered enviroment.\nBut looks like lock is held until specific time (<strong>configured by lockAtMostFor attribute If we dont configure it takes default value from spring config</strong>) not until task is finished. </p>\n\n<p>Lets say if I configured lockAtMostFor=15 mins\nno parellel task runs on any of node for 15 mins, but after 15 mins if any of node gets chance to run(or manually trigger) task its able to start it even if previous task is not finished its processing.</p>\n\n<p>1.Is Shedlock is time based ? </p>\n\n<p>2.Documentation(<a href=\"https://github.com/lukas-krecan/ShedLock\" rel=\"noreferrer\">https://github.com/lukas-krecan/ShedLock</a>) says lock is only released only when task is finished and lockAtMostFor attribute is only used in case node terminition event , but its not working\nlike that even if task is not finished other nodes are able to run task , other nodes are blocked from running task only if time is not elapsed (lockAtMostFor attribute)  </p>\n"},{"tags":["java","inputstream","processbuilder"],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1700821939,"post_id":77542375,"comment_id":136702900,"body_markdown":"There&#39;s no way for java, or anything else, to know whether some process is just taking its time in producing output, or if it&#39;s done writing stuff and will never write anything again from here on out / will only write more if you give it more (and you have no intention of doing so).","body":"There&#39;s no way for java, or anything else, to know whether some process is just taking its time in producing output, or if it&#39;s done writing stuff and will never write anything again from here on out / will only write more if you give it more (and you have no intention of doing so)."},{"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"score":0,"creation_date":1700822322,"post_id":77542375,"comment_id":136702959,"body_markdown":"Agree. I think I was looking for a way to call `CharStreams.toString()` &quot;with timeout&quot;, basically, according to my Firefox history of googling when I was trying to solve this. A colleague later helped out by pointing me to https://stackoverflow.com/questions/804951/is-it-possible-to-read-from-a-inputstream-with-a-timeout, which helped me to update this helper method. But you are right, this might have been an [XY Problem](https://xyproblem.info/) from my part. Feel free to update this answer to make things clearer if you feel like it.","body":"Agree. I think I was looking for a way to call <code>CharStreams.toString()</code> &quot;with timeout&quot;, basically, according to my Firefox history of googling when I was trying to solve this. A colleague later helped out by pointing me to <a href=\"https://stackoverflow.com/questions/804951/is-it-possible-to-read-from-a-inputstream-with-a-timeout\" title=\"is it possible to read from a inputstream with a timeout\">stackoverflow.com/questions/804951/&hellip;</a>, which helped me to update this helper method. But you are right, this might have been an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a> from my part. Feel free to update this answer to make things clearer if you feel like it."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1700825215,"post_id":77542375,"comment_id":136703402,"body_markdown":"Your caveat and with this comment thread I think the answer can stand as a useful guide to anybody else looking for a solution. The notion of &#39;get me all the output&#39; (without, perhaps, realizing &#39;all&#39; is a tricky word there, when we&#39;re talking about process streams) is common enough :)","body":"Your caveat and with this comment thread I think the answer can stand as a useful guide to anybody else looking for a solution. The notion of &#39;get me all the output&#39; (without, perhaps, realizing &#39;all&#39; is a tricky word there, when we&#39;re talking about process streams) is common enough :)"}],"tags":[],"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700821277,"creation_date":1700821277,"answer_id":77542375,"question_id":77542374,"body_markdown":"The problem with using [`CharStreams.toString()`](https://guava.dev/releases/32.1.3-jre/api/docs/com/google/common/io/CharStreams.html) for this is that it expects the stream to have reached EOF. In cases where the process is still running, this is not the case. If you rewrite the `readAllAsString()` method like this it works, with a few caveats:\r\n\r\n* All input must be currently available. This method is non-blocking; it just reads the data from the `InputStream` which is currently available. Any output written by the process after the `readAllAsString()` method is called will not be included.\r\n* This presumes that the buffer for the pipe doesn&#39;t get full. On my current Linux system the limit seems to be 1 MiB (`cat /proc/sys/fs/pipe-max-size`).\r\n\r\n```java\r\nprivate String readAllAsString( InputStream inputStream ) throws IOException {\r\n    if ( inputStream.available() == 0 ) {\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    // Note: cannot use Guava&#39;s CharStreams.toString() in this case, since the stream\r\n    // has not necessarily reached EOF yet (if we are called when the process is\r\n    // still running)\r\n    byte[] inputData = new byte[inputStream.available()];\r\n    int bytesRead = inputStream.read( inputData, 0, inputStream.available() );\r\n    ByteBuffer byteBuffer = ByteBuffer.wrap( inputData, 0, bytesRead );\r\n\r\n    return StandardCharsets.UTF_8.decode( byteBuffer ).toString();\r\n}\r\n```","title":"How can I read stdout/stderr contents from a Process which is still running?","body":"<p>The problem with using <a href=\"https://guava.dev/releases/32.1.3-jre/api/docs/com/google/common/io/CharStreams.html\" rel=\"nofollow noreferrer\"><code>CharStreams.toString()</code></a> for this is that it expects the stream to have reached EOF. In cases where the process is still running, this is not the case. If you rewrite the <code>readAllAsString()</code> method like this it works, with a few caveats:</p>\n<ul>\n<li>All input must be currently available. This method is non-blocking; it just reads the data from the <code>InputStream</code> which is currently available. Any output written by the process after the <code>readAllAsString()</code> method is called will not be included.</li>\n<li>This presumes that the buffer for the pipe doesn't get full. On my current Linux system the limit seems to be 1 MiB (<code>cat /proc/sys/fs/pipe-max-size</code>).</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>private String readAllAsString( InputStream inputStream ) throws IOException {\n    if ( inputStream.available() == 0 ) {\n        return &quot;&quot;;\n    }\n\n    // Note: cannot use Guava's CharStreams.toString() in this case, since the stream\n    // has not necessarily reached EOF yet (if we are called when the process is\n    // still running)\n    byte[] inputData = new byte[inputStream.available()];\n    int bytesRead = inputStream.read( inputData, 0, inputStream.available() );\n    ByteBuffer byteBuffer = ByteBuffer.wrap( inputData, 0, bytesRead );\n\n    return StandardCharsets.UTF_8.decode( byteBuffer ).toString();\n}\n</code></pre>\n"}],"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700821277,"creation_date":1700821277,"question_id":77542374,"body_markdown":"I have some problems using the [`Process`](https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html) and [`ProcessBuilder`](https://docs.oracle.com/javase/8/docs/api/java/lang/ProcessBuilder.html) classes in Java. Here&#39;s my existing code, which works (this is code being executed in a JUnit test btw):\r\n\r\n```java\r\nProcessBuilder processBuilder = new ProcessBuilder()\r\n        .command( commandLine )\r\n        .directory( new File( directory ) )\r\n        .redirectErrorStream( true );\r\n\r\nProcess process = processBuilder.start();\r\n\r\nassertThat( process.exitValue() )\r\n        .as( &quot;Process exited with non-zero exit code. Stdout and stderr content:\\n\\n%s&quot;, readAllAsString( process.getInputStream() ) )\r\n        .isZero();\r\n```\r\n\r\nThe `readAllAsString()` method looks like this:\r\n\r\n```java\r\nprivate String readAllAsString( InputStream inputStream ) throws IOException {\r\n    return CharStreams.toString( new InputStreamReader(\r\n            inputStream, StandardCharsets.UTF_8\r\n    ) );\r\n}\r\n```\r\n\r\nThis works fine, but it doesn&#39;t handle all scenarios. What if the process doesn&#39;t exit normally, but sits and wait for input on its standard input? So, I&#39;m trying to add something like this:\r\n\r\n```java\r\n\r\nif ( !process.waitFor( 10, TimeUnit.SECONDS ) ) {\r\n    assertThat( false )\r\n            .as( &quot;Timed out waiting for process, aborting. Stdout and stderr content:\\n\\n%s&quot;, readAllAsString( process.getInputStream() ) )\r\n            .isTrue();\r\n}\r\n```\r\n\r\n...but this is where the problem starts. **The test sits and waits forever; it never reaches the end of the `InputStream`**. The `readAllAsString()` method probably reaches the end of the stream and then blocks, waiting on the process to write any more data to it. (Note: this is just my assumption, I haven&#39;t verified this in the debugger)\r\n\r\nIf I try to workaround this by adding a `destroy()` call like this:\r\n\r\n```java\r\nif ( !process.waitFor( 10, TimeUnit.SECONDS ) ) {\r\n    process.destroy();\r\n\r\n    assertThat( false )\r\n            .as( &quot;Timed out waiting for process, aborting. Stdout and stderr content:\\n\\n%s&quot;, readAllAsString( process.getInputStream() ) )\r\n            .isTrue();\r\n}\r\n```\r\n\r\n...I get an exception when trying to read the data from the stream:\r\n\r\n```\r\njava.io.IOException: Stream closed\r\n\tat java.base/java.io.BufferedInputStream.getBufIfOpen(BufferedInputStream.java:168)\r\n\tat java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:334)\r\n\tat java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:270)\r\n\tat java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:313)\r\n\tat java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\r\n\tat java.base/java.io.InputStreamReader.read(InputStreamReader.java:177)\r\n\tat java.base/java.io.Reader.read(Reader.java:250)\r\n\tat com.google.common.io.CharStreams.copyReaderToBuilder(CharStreams.java:121)\r\n\tat com.google.common.io.CharStreams.toStringBuilder(CharStreams.java:179)\r\n\tat com.google.common.io.CharStreams.toString(CharStreams.java:165)\r\n\tat fi.hibox.test.scripts.CentreConsoleTest.readAllAsString(CentreConsoleTest.java:80)\r\n\tat fi.hibox.test.scripts.CentreConsoleTest.centre_console_can_call_getVersion_successfully(CentreConsoleTest.java:70)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n```\r\n\r\nHow can I workaround this? What&#39;s the proper way to read all the data from this `InputStream`, without blocking at the end of the available data? Or are there any other, better ways to fix this?","title":"How can I read stdout/stderr contents from a Process which is still running?","body":"<p>I have some problems using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html\" rel=\"nofollow noreferrer\"><code>Process</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\"><code>ProcessBuilder</code></a> classes in Java. Here's my existing code, which works (this is code being executed in a JUnit test btw):</p>\n<pre class=\"lang-java prettyprint-override\"><code>ProcessBuilder processBuilder = new ProcessBuilder()\n        .command( commandLine )\n        .directory( new File( directory ) )\n        .redirectErrorStream( true );\n\nProcess process = processBuilder.start();\n\nassertThat( process.exitValue() )\n        .as( &quot;Process exited with non-zero exit code. Stdout and stderr content:\\n\\n%s&quot;, readAllAsString( process.getInputStream() ) )\n        .isZero();\n</code></pre>\n<p>The <code>readAllAsString()</code> method looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String readAllAsString( InputStream inputStream ) throws IOException {\n    return CharStreams.toString( new InputStreamReader(\n            inputStream, StandardCharsets.UTF_8\n    ) );\n}\n</code></pre>\n<p>This works fine, but it doesn't handle all scenarios. What if the process doesn't exit normally, but sits and wait for input on its standard input? So, I'm trying to add something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nif ( !process.waitFor( 10, TimeUnit.SECONDS ) ) {\n    assertThat( false )\n            .as( &quot;Timed out waiting for process, aborting. Stdout and stderr content:\\n\\n%s&quot;, readAllAsString( process.getInputStream() ) )\n            .isTrue();\n}\n</code></pre>\n<p>...but this is where the problem starts. <strong>The test sits and waits forever; it never reaches the end of the <code>InputStream</code></strong>. The <code>readAllAsString()</code> method probably reaches the end of the stream and then blocks, waiting on the process to write any more data to it. (Note: this is just my assumption, I haven't verified this in the debugger)</p>\n<p>If I try to workaround this by adding a <code>destroy()</code> call like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if ( !process.waitFor( 10, TimeUnit.SECONDS ) ) {\n    process.destroy();\n\n    assertThat( false )\n            .as( &quot;Timed out waiting for process, aborting. Stdout and stderr content:\\n\\n%s&quot;, readAllAsString( process.getInputStream() ) )\n            .isTrue();\n}\n</code></pre>\n<p>...I get an exception when trying to read the data from the stream:</p>\n<pre><code>java.io.IOException: Stream closed\n    at java.base/java.io.BufferedInputStream.getBufIfOpen(BufferedInputStream.java:168)\n    at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:334)\n    at java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:270)\n    at java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:313)\n    at java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\n    at java.base/java.io.InputStreamReader.read(InputStreamReader.java:177)\n    at java.base/java.io.Reader.read(Reader.java:250)\n    at com.google.common.io.CharStreams.copyReaderToBuilder(CharStreams.java:121)\n    at com.google.common.io.CharStreams.toStringBuilder(CharStreams.java:179)\n    at com.google.common.io.CharStreams.toString(CharStreams.java:165)\n    at fi.hibox.test.scripts.CentreConsoleTest.readAllAsString(CentreConsoleTest.java:80)\n    at fi.hibox.test.scripts.CentreConsoleTest.centre_console_can_call_getVersion_successfully(CentreConsoleTest.java:70)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n</code></pre>\n<p>How can I workaround this? What's the proper way to read all the data from this <code>InputStream</code>, without blocking at the end of the available data? Or are there any other, better ways to fix this?</p>\n"},{"tags":["java","spring-boot","docker","utf-7"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700824075,"post_id":77542362,"comment_id":136703245,"body_markdown":"Did you make a &#39;fat jar&#39; with the likes of Maven Shade?","body":"Did you make a &#39;fat jar&#39; with the likes of Maven Shade?"},{"owner":{"account_id":29982108,"reputation":11,"user_id":22976875,"display_name":"A.Fischer"},"score":0,"creation_date":1700825597,"post_id":77542362,"comment_id":136703478,"body_markdown":"No, we don&#39;t use maven shade, I found a thread that this solution doesn&#39;t work either, so I gave not a try.","body":"No, we don&#39;t use maven shade, I found a thread that this solution doesn&#39;t work either, so I gave not a try."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700825716,"post_id":77542362,"comment_id":136703492,"body_markdown":"You need *some way* to ensure the provider jar is loadable and in the right place. I would say that&#39;s the least complex and error-prone","body":"You need <i>some way</i> to ensure the provider jar is loadable and in the right place. I would say that&#39;s the least complex and error-prone"}],"owner":{"account_id":29982108,"reputation":11,"user_id":22976875,"display_name":"A.Fischer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700821209,"creation_date":1700821209,"question_id":77542362,"body_markdown":"I have the following problem:\r\n- I have a microservice running as docker image in a kubernetes pod\r\n- The service can create &quot;contacts&quot; and loads for that base64 encoded mails from a source\r\n- we decode them and want to create Emails with simple-java-mail library\r\n- but some mails are in UTF-7 which is unknown and I got:\r\n\r\n```\r\njava.io.UnsupportedEncodingException: utf-7\r\n\tat java.lang.String.lookupCharset(String.java:819) ~[?:?]\r\n\tat java.lang.String.&lt;init&gt;(String.java:487) ~[?:?]\r\n\tat jakarta.mail.internet.MimeUtility.decodeWord(MimeUtility.java:901) ~[jakarta.mail-2.0.1.jar:2.0.1]\r\n\tat jakarta.mail.internet.MimeUtility.decodeText(MimeUtility.java:603) ~[jakarta.mail-2.0.1.jar:2.0.1]\r\n\tat org.simplejavamail.converter.internal.mimemessage.MimeMessageParser.decodeText(MimeMessageParser.java:543) ~[simple-java-mail-8.0.0.jar:?]\r\n\tat org.simplejavamail.converter.internal.mimemessage.DecodedHeader.of(DecodedHeader.java:30) ~[simple-java-mail-8.0.0.jar:?]\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[?:?]\r\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[?:?]\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[?:?]\r\n\tat org.simplejavamail.converter.internal.mimemessage.MimeMessageParser.retrieveAllHeaders(MimeMessageParser.java:365) ~[simple-java-mail-8.0.0.jar:?]\r\n\tat org.simplejavamail.converter.internal.mimemessage.MimeMessageParser.parseMimePartTree(MimeMessageParser.java:159) ~[simple-java-mail-8.0.0.jar:?]\r\n\tat org.simplejavamail.converter.internal.mimemessage.MimeMessageParser.parseMimeMessage(MimeMessageParser.java:153) ~[simple-java-mail-8.0.0.jar:?]\r\n\tat org.simplejavamail.converter.EmailConverter.mimeMessageToEmailBuilder(EmailConverter.java:138) ~[simple-java-mail-8.0.0.jar:?]\r\n\tat org.simplejavamail.converter.EmailConverter.mimeMessageToEmailBuilder(EmailConverter.java:125) ~[simple-java-mail-8.0.0.jar:?]\r\n\tat org.simplejavamail.converter.EmailConverter.emlToEmailBuilder(EmailConverter.java:398) ~[simple-java-mail-8.0.0.jar:?]\r\n\tat org.simplejavamail.converter.EmailConverter.emlToEmail(EmailConverter.java:327) ~[simple-java-mail-8.0.0.jar:?]\r\n\tat org.simplejavamail.converter.EmailConverter.emlToEmail(EmailConverter.java:319) ~[simple-java-mail-8.0.0.jar:?]\r\n```\r\n\r\n\r\n\r\nI tried to use https://github.com/k9mail/jutf7 and added it to the pom file. Locally that worked, but on kubernetes not. Again an UnsupportedEncodingException occured.\r\n\r\nI thought maybe kubernetes or docker (sorry I&#39;m not that deep into that DevOps stuff) isn&#39;t able to add that UTF-7 library to the classpath.\r\nSo I testes to copy the files directly into my project. I added a META-INF folder with a service file and put my CharsetProvider into it. \r\n\r\njava.nio.charset.spi.CharsetProvider\r\n\r\n`de.afi.api.utility.encoding.utf7.CharsetProvider\r\n`\r\n\r\nAgain locally it worked, on kubernetes not. \r\n\r\nI read any stackoverflow issue regarding UTF-7 and CharsetProvider, but whether there wasn&#39;t a solution or the solution isn&#39;t possible for me, like using CharsetProvider().charsetForName(&quot;...&quot;) by myself, which isn&#39;t possible when needing UTF-7 deep in simple java mail\r\n\r\nI had the feeling that loading CharSets from META-inf/services doesn&#39;t work anymore for the combination of \r\n- Java17\r\n- SpringBoot 3\r\n- simple-java-mail 8.0.0\r\n- running in a docker container\r\nHas anybody an idea?\r\n   ","title":"UTF-7 not supported on a spring application in docker","body":"<p>I have the following problem:</p>\n<ul>\n<li>I have a microservice running as docker image in a kubernetes pod</li>\n<li>The service can create &quot;contacts&quot; and loads for that base64 encoded mails from a source</li>\n<li>we decode them and want to create Emails with simple-java-mail library</li>\n<li>but some mails are in UTF-7 which is unknown and I got:</li>\n</ul>\n<pre><code>java.io.UnsupportedEncodingException: utf-7\n    at java.lang.String.lookupCharset(String.java:819) ~[?:?]\n    at java.lang.String.&lt;init&gt;(String.java:487) ~[?:?]\n    at jakarta.mail.internet.MimeUtility.decodeWord(MimeUtility.java:901) ~[jakarta.mail-2.0.1.jar:2.0.1]\n    at jakarta.mail.internet.MimeUtility.decodeText(MimeUtility.java:603) ~[jakarta.mail-2.0.1.jar:2.0.1]\n    at org.simplejavamail.converter.internal.mimemessage.MimeMessageParser.decodeText(MimeMessageParser.java:543) ~[simple-java-mail-8.0.0.jar:?]\n    at org.simplejavamail.converter.internal.mimemessage.DecodedHeader.of(DecodedHeader.java:30) ~[simple-java-mail-8.0.0.jar:?]\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[?:?]\n    at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[?:?]\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[?:?]\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[?:?]\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[?:?]\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\n    at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[?:?]\n    at org.simplejavamail.converter.internal.mimemessage.MimeMessageParser.retrieveAllHeaders(MimeMessageParser.java:365) ~[simple-java-mail-8.0.0.jar:?]\n    at org.simplejavamail.converter.internal.mimemessage.MimeMessageParser.parseMimePartTree(MimeMessageParser.java:159) ~[simple-java-mail-8.0.0.jar:?]\n    at org.simplejavamail.converter.internal.mimemessage.MimeMessageParser.parseMimeMessage(MimeMessageParser.java:153) ~[simple-java-mail-8.0.0.jar:?]\n    at org.simplejavamail.converter.EmailConverter.mimeMessageToEmailBuilder(EmailConverter.java:138) ~[simple-java-mail-8.0.0.jar:?]\n    at org.simplejavamail.converter.EmailConverter.mimeMessageToEmailBuilder(EmailConverter.java:125) ~[simple-java-mail-8.0.0.jar:?]\n    at org.simplejavamail.converter.EmailConverter.emlToEmailBuilder(EmailConverter.java:398) ~[simple-java-mail-8.0.0.jar:?]\n    at org.simplejavamail.converter.EmailConverter.emlToEmail(EmailConverter.java:327) ~[simple-java-mail-8.0.0.jar:?]\n    at org.simplejavamail.converter.EmailConverter.emlToEmail(EmailConverter.java:319) ~[simple-java-mail-8.0.0.jar:?]\n</code></pre>\n<p>I tried to use <a href=\"https://github.com/k9mail/jutf7\" rel=\"nofollow noreferrer\">https://github.com/k9mail/jutf7</a> and added it to the pom file. Locally that worked, but on kubernetes not. Again an UnsupportedEncodingException occured.</p>\n<p>I thought maybe kubernetes or docker (sorry I'm not that deep into that DevOps stuff) isn't able to add that UTF-7 library to the classpath.\nSo I testes to copy the files directly into my project. I added a META-INF folder with a service file and put my CharsetProvider into it.</p>\n<p>java.nio.charset.spi.CharsetProvider</p>\n<p><code>de.afi.api.utility.encoding.utf7.CharsetProvider </code></p>\n<p>Again locally it worked, on kubernetes not.</p>\n<p>I read any stackoverflow issue regarding UTF-7 and CharsetProvider, but whether there wasn't a solution or the solution isn't possible for me, like using CharsetProvider().charsetForName(&quot;...&quot;) by myself, which isn't possible when needing UTF-7 deep in simple java mail</p>\n<p>I had the feeling that loading CharSets from META-inf/services doesn't work anymore for the combination of</p>\n<ul>\n<li>Java17</li>\n<li>SpringBoot 3</li>\n<li>simple-java-mail 8.0.0</li>\n<li>running in a docker container\nHas anybody an idea?</li>\n</ul>\n"},{"tags":["java","linux","unix","jenkins","nohup"],"comments":[{"owner":{"account_id":2251762,"reputation":278561,"user_id":1983854,"accept_rate":96,"display_name":"fedorqui"},"score":0,"creation_date":1463733169,"post_id":37341545,"comment_id":62200207,"body_markdown":"it is not that is not working, it is that it goes to the background because you write `command ... &amp;`. You can look for it checking the output of `jobs` or with `ps -ef | grep nohup`.","body":"it is not that is not working, it is that it goes to the background because you write <code>command ... &amp;</code>. You can look for it checking the output of <code>jobs</code> or with <code>ps -ef | grep nohup</code>."},{"owner":{"account_id":2407279,"reputation":3845,"user_id":2103379,"accept_rate":49,"display_name":"Utsav Gupta"},"score":1,"creation_date":1463733302,"post_id":37341545,"comment_id":62200289,"body_markdown":"no it doesnt .. I have checked.","body":"no it doesnt .. I have checked."},{"owner":{"account_id":2251762,"reputation":278561,"user_id":1983854,"accept_rate":96,"display_name":"fedorqui"},"score":1,"creation_date":1463733378,"post_id":37341545,"comment_id":62200329,"body_markdown":"Does it work if you say the same without `&amp;`? That is, `nohup java -jar /home/.../jar/server-process-0.35.jar prod &gt;&gt; /var/../server-process-prod.log 2&gt;&amp;1`.","body":"Does it work if you say the same without <code>&amp;</code>? That is, <code>nohup java -jar &#47;home&#47;...&#47;jar&#47;server-process-0.35.jar prod &gt;&gt; &#47;var&#47;..&#47;server-process-prod.log 2&gt;&amp;1</code>."},{"owner":{"account_id":2251762,"reputation":278561,"user_id":1983854,"accept_rate":96,"display_name":"fedorqui"},"score":0,"creation_date":1463733488,"post_id":37341545,"comment_id":62200411,"body_markdown":"Also: what do you mean with &quot;does not work&quot;. What output do you get from Bash?","body":"Also: what do you mean with &quot;does not work&quot;. What output do you get from Bash?"},{"owner":{"account_id":2407279,"reputation":3845,"user_id":2103379,"accept_rate":49,"display_name":"Utsav Gupta"},"score":0,"creation_date":1463733770,"post_id":37341545,"comment_id":62200594,"body_markdown":"I see it starts working after removing &amp; as you said.  By not working I mean the java process does not start , i.e on doing &quot;ps -ef  | grep java &quot; I dont see the process listed. However If I remove &amp; I see the java process listed when i run from jenkins. When I type the command on linux console with &#39;&amp;&#39; i see the java process running there too. So this does not solve my problem totally as I need the &#39;&amp;&#39; to make it run in backgorund and also need to run it from jenkins.","body":"I see it starts working after removing &amp; as you said.  By not working I mean the java process does not start , i.e on doing &quot;ps -ef  | grep java &quot; I dont see the process listed. However If I remove &amp; I see the java process listed when i run from jenkins. When I type the command on linux console with &#39;&amp;&#39; i see the java process running there too. So this does not solve my problem totally as I need the &#39;&amp;&#39; to make it run in backgorund and also need to run it from jenkins."},{"owner":{"account_id":2251762,"reputation":278561,"user_id":1983854,"accept_rate":96,"display_name":"fedorqui"},"score":0,"creation_date":1463733887,"post_id":37341545,"comment_id":62200684,"body_markdown":"It is strange: I tested against something as simple as `nohup sleep 10 &gt;&gt; output 2&gt;&amp;1 &amp;` and it works fine with and without `&amp;`.","body":"It is strange: I tested against something as simple as <code>nohup sleep 10 &gt;&gt; output 2&gt;&amp;1 &amp;</code> and it works fine with and without <code>&amp;</code>."},{"owner":{"account_id":2251762,"reputation":278561,"user_id":1983854,"accept_rate":96,"display_name":"fedorqui"},"score":0,"creation_date":1463736224,"post_id":37341545,"comment_id":62202346,"body_markdown":"Then this is something related to Jenkins, so you&#39;ll need to provide more details in how you are configuring it. Maybe you have to escape the `&amp;` in order to be interpreted properly by Jenkins.","body":"Then this is something related to Jenkins, so you&#39;ll need to provide more details in how you are configuring it. Maybe you have to escape the <code>&amp;</code> in order to be interpreted properly by Jenkins."},{"owner":{"account_id":2407279,"reputation":3845,"user_id":2103379,"accept_rate":49,"display_name":"Utsav Gupta"},"score":0,"creation_date":1463736426,"post_id":37341545,"comment_id":62202493,"body_markdown":"I am thinking on exact same lines, could it be an escaping &#39;&amp;&#39;  problem?","body":"I am thinking on exact same lines, could it be an escaping &#39;&amp;&#39;  problem?"},{"owner":{"account_id":2407279,"reputation":3845,"user_id":2103379,"accept_rate":49,"display_name":"Utsav Gupta"},"score":0,"creation_date":1463736749,"post_id":37341545,"comment_id":62202714,"body_markdown":"To answer your question I have added a build step &#39;execute shell&#39;  in which I have saved the above command as is","body":"To answer your question I have added a build step &#39;execute shell&#39;  in which I have saved the above command as is"},{"owner":{"account_id":2251762,"reputation":278561,"user_id":1983854,"accept_rate":96,"display_name":"fedorqui"},"score":0,"creation_date":1463737625,"post_id":37341545,"comment_id":62203316,"body_markdown":"However, the command also has the &amp; in `2&gt;&amp;1`, so this should not matter. I don&#39;t know, there must be something Jenkins related in this.","body":"However, the command also has the &amp; in <code>2&gt;&amp;1</code>, so this should not matter. I don&#39;t know, there must be something Jenkins related in this."},{"owner":{"account_id":439741,"reputation":2992,"user_id":828885,"display_name":"akhan"},"score":3,"creation_date":1473616252,"post_id":37341545,"comment_id":66200363,"body_markdown":"Jenkins kills all spawned processes once the job ends. You can change BUILD_ID env variable to avoid this. See [here](http://stackoverflow.com/questions/9567441/jenkins-seems-to-be-the-target-for-nohup-in-a-script-started-via-ssh-how-can-i) and [here](https://wiki.jenkins-ci.org/display/JENKINS/Spawning+processes+from+build).","body":"Jenkins kills all spawned processes once the job ends. You can change BUILD_ID env variable to avoid this. See <a href=\"http://stackoverflow.com/questions/9567441/jenkins-seems-to-be-the-target-for-nohup-in-a-script-started-via-ssh-how-can-i\">here</a> and <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Spawning+processes+from+build\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506070870,"creation_date":1506070870,"answer_id":46360795,"question_id":37341545,"body_markdown":"Got the same problem, added:\r\n\r\n    BUILD_ID=dontKillMe python /var/lib/jenkins/release.py\r\ninto Execute Shell -&gt; Command and inside release.py there is:\r\n\r\n    os.system(&#39;nohup java -jar &#39; + new_jars_on_server + &#39;/&#39; + generated_jar_by_mvn_name + &#39;&amp;&#39;)\r\n\r\nand it works\r\n ","title":"Unable to run nohup command from jenkins as a background process","body":"<p>Got the same problem, added:</p>\n\n<pre><code>BUILD_ID=dontKillMe python /var/lib/jenkins/release.py\n</code></pre>\n\n<p>into Execute Shell -> Command and inside release.py there is:</p>\n\n<pre><code>os.system('nohup java -jar ' + new_jars_on_server + '/' + generated_jar_by_mvn_name + '&amp;')\n</code></pre>\n\n<p>and it works</p>\n"},{"comments":[{"owner":{"account_id":134214,"reputation":4545,"user_id":336175,"accept_rate":66,"display_name":"Gank"},"score":0,"creation_date":1590998528,"post_id":48713385,"comment_id":109880512,"body_markdown":"+ sh &#39;JENKINS_NODE_COOKIE=dontKillMe nohup java -Xms10m -Xmx200m  -jar /var/lib/jenkins/bladexTarget/target/blade-auth.jar &amp;&#39;\n```sh: JENKINS_NODE_COOKIE=dontKillMe nohup java -Xms10m -Xmx200m  -jar /var/lib/jenkins/bladexTarget/target/blade-auth.jar &amp;: 没有那个文件或目录\nBuild step &#39;Execute shell&#39; marked build as failure\nFinished: FAILURE```","body":"+ sh &#39;JENKINS_NODE_COOKIE=dontKillMe nohup java -Xms10m -Xmx200m  -jar /var/lib/jenkins/bladexTarget/target/blade-auth.jar &amp;&#39; <code>sh: JENKINS_NODE_COOKIE=dontKillMe nohup java -Xms10m -Xmx200m  -jar &#47;var&#47;lib&#47;jenkins&#47;bladexTarget&#47;target&#47;blade-auth.jar &amp;: 没有那个文件或目录 Build step &#39;Execute shell&#39; marked build as failure Finished: FAILURE</code>"}],"tags":[],"owner":{"account_id":6500265,"reputation":4070,"user_id":5031373,"accept_rate":69,"display_name":"jpyams"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1518207033,"creation_date":1518207033,"answer_id":48713385,"question_id":37341545,"body_markdown":"Long story short, Jenkins kills all processes spawned by a job once that job finishes.  To override this behavior, you need to set an environment variable.\r\n\r\nThe variable appears to vary from job type to job type.  It used to be `BUILD_ID`, but for Pipeline jobs it is `JENKINS_NODE_COOKIE`, and there are several others mentioned in [this answer][1].\r\n\r\nSo if you&#39;re running your command in Pipeline, it would look like this:\r\n\r\n    sh &#39;JENKINS_NODE_COOKIE=dontKillMe nohup java -jar /home/.../jar/server-process-0.35.jar prod &gt;&gt; /var/../server-process-prod.log 2&gt;&amp;1 &amp;&#39;\r\n\r\nSee [the wiki on ProcessTreeKiller][2] and [this comment in the Jenkins Jira][3] for more information.\r\n\r\n\r\n  [1]: https://devops.stackexchange.com/a/1513/6377\r\n  [2]: https://wiki.jenkins.io/display/JENKINS/ProcessTreeKiller\r\n  [3]: https://issues.jenkins-ci.org/browse/JENKINS-28182?focusedCommentId=304426&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-304426","title":"Unable to run nohup command from jenkins as a background process","body":"<p>Long story short, Jenkins kills all processes spawned by a job once that job finishes.  To override this behavior, you need to set an environment variable.</p>\n\n<p>The variable appears to vary from job type to job type.  It used to be <code>BUILD_ID</code>, but for Pipeline jobs it is <code>JENKINS_NODE_COOKIE</code>, and there are several others mentioned in <a href=\"https://devops.stackexchange.com/a/1513/6377\">this answer</a>.</p>\n\n<p>So if you're running your command in Pipeline, it would look like this:</p>\n\n<pre><code>sh 'JENKINS_NODE_COOKIE=dontKillMe nohup java -jar /home/.../jar/server-process-0.35.jar prod &gt;&gt; /var/../server-process-prod.log 2&gt;&amp;1 &amp;'\n</code></pre>\n\n<p>See <a href=\"https://wiki.jenkins.io/display/JENKINS/ProcessTreeKiller\" rel=\"noreferrer\">the wiki on ProcessTreeKiller</a> and <a href=\"https://issues.jenkins-ci.org/browse/JENKINS-28182?focusedCommentId=304426&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-304426\" rel=\"noreferrer\">this comment in the Jenkins Jira</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":14158856,"reputation":83,"user_id":10228725,"display_name":"Nik V"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1560798359,"creation_date":1538481666,"answer_id":52607919,"question_id":37341545,"body_markdown":"I tried every possible combination with BUILD_ID but it didn&#39;t work.\r\nI made it though by putting &quot;nohup command &gt; output.txt&amp;&quot; inside a shell script ran by the execute shell in jenkins, it worked perfectly!","title":"Unable to run nohup command from jenkins as a background process","body":"<p>I tried every possible combination with BUILD_ID but it didn't work.\nI made it though by putting \"nohup command > output.txt&amp;\" inside a shell script ran by the execute shell in jenkins, it worked perfectly!</p>\n"},{"tags":[],"owner":{"account_id":1237427,"reputation":142,"user_id":1200739,"display_name":"Walid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544026234,"creation_date":1543944078,"answer_id":53618362,"question_id":37341545,"body_markdown":"Best simple solution is to use &quot;at now&quot; instead of &quot;nohup&quot;\r\n\r\nIn your job jenkins (execute shell) put :\r\n\r\n    set +e #so &quot;at now&quot; will run even if java -jar fails\r\n    #Run java app in background\r\n    echo &quot;java -jar $(ls | grep *.jar | head -n 1)&quot; | at now + 1 min\r\n","title":"Unable to run nohup command from jenkins as a background process","body":"<p>Best simple solution is to use \"at now\" instead of \"nohup\"</p>\n\n<p>In your job jenkins (execute shell) put :</p>\n\n<pre><code>set +e #so \"at now\" will run even if java -jar fails\n#Run java app in background\necho \"java -jar $(ls | grep *.jar | head -n 1)\" | at now + 1 min\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12533233,"reputation":143,"user_id":9120713,"display_name":"AVN"},"score":0,"creation_date":1663940921,"post_id":56346365,"comment_id":130364266,"body_markdown":"Tried the same but not working","body":"Tried the same but not working"}],"tags":[],"owner":{"account_id":10065861,"reputation":304,"user_id":7441070,"display_name":"Joao Vitor Marques"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1559060194,"creation_date":1559060194,"answer_id":56346365,"question_id":37341545,"body_markdown":"In your jenkins shell script try:\r\n\r\n      export BUILD_ID=dontKillMe\r\n      nohup java -jar your_java_app.jar &amp;\r\n\r\nIt worked for me!","title":"Unable to run nohup command from jenkins as a background process","body":"<p>In your jenkins shell script try:</p>\n\n<pre><code>  export BUILD_ID=dontKillMe\n  nohup java -jar your_java_app.jar &amp;\n</code></pre>\n\n<p>It worked for me!</p>\n"},{"tags":[],"owner":{"account_id":13538346,"reputation":31,"user_id":9766816,"display_name":"millevlada"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568737469,"creation_date":1568737469,"answer_id":57978381,"question_id":37341545,"body_markdown":"what worked for me was wrapping the *nohup java -jar ...* command into sh file inside execute shell command, and running that same sh file right after:\r\n\r\n    echo &quot;starting java jar...&quot;\r\n    cd [some location where jar is]\r\n    echo &quot;nohup java -jar [jar_name].jar &amp;&quot; &gt; start-jar-in-background.sh\r\n    sh start-jar-in-background.sh\r\n    echo &quot;started java jar&quot;\r\n\r\nIf I had *nohup java -jar ...* inline with Execute shell command, then it didn&#39;t start it from some reasons. I spent quite some time on this, hope it helps to someone &#39;;)","title":"Unable to run nohup command from jenkins as a background process","body":"<p>what worked for me was wrapping the <em>nohup java -jar ...</em> command into sh file inside execute shell command, and running that same sh file right after:</p>\n\n<pre><code>echo \"starting java jar...\"\ncd [some location where jar is]\necho \"nohup java -jar [jar_name].jar &amp;\" &gt; start-jar-in-background.sh\nsh start-jar-in-background.sh\necho \"started java jar\"\n</code></pre>\n\n<p>If I had <em>nohup java -jar ...</em> inline with Execute shell command, then it didn't start it from some reasons. I spent quite some time on this, hope it helps to someone ';)</p>\n"},{"tags":[],"owner":{"account_id":4969789,"reputation":11,"user_id":3997990,"display_name":"Tom CLERC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579774615,"creation_date":1579774615,"answer_id":59876129,"question_id":37341545,"body_markdown":"Simplest way : \r\n\r\n\\`nohup java -jar [jar_name].jar &gt;log_file_you_want 2&gt;another_file\\`&amp;\r\n","title":"Unable to run nohup command from jenkins as a background process","body":"<p>Simplest way : </p>\n\n<p>`nohup java -jar [jar_name].jar >log_file_you_want 2>another_file`&amp;</p>\n"},{"tags":[],"owner":{"account_id":23014172,"reputation":1,"user_id":18235490,"display_name":"Dixit Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673908303,"creation_date":1673864531,"answer_id":75132886,"question_id":37341545,"body_markdown":"```shell\r\nset +e #so &quot;at now&quot; will run even if java -jar fails\r\n\r\n#Run java app in background\r\necho &quot;java -jar $(ls | grep *.jar | head -n 1)&quot; | at now + 1 min\r\n```\r\n\r\nabove command worked for him, thanks @walid, &amp; remove at the end (+ 1 min)","title":"Unable to run nohup command from jenkins as a background process","body":"<pre class=\"lang-bash prettyprint-override\"><code>set +e #so &quot;at now&quot; will run even if java -jar fails\n\n#Run java app in background\necho &quot;java -jar $(ls | grep *.jar | head -n 1)&quot; | at now + 1 min\n</code></pre>\n<p>above command worked for him, thanks @walid, &amp; remove at the end (+ 1 min)</p>\n"},{"comments":[{"owner":{"account_id":23004535,"reputation":1381,"user_id":17128041,"display_name":"sidharth vijayakumar"},"score":0,"creation_date":1700822295,"post_id":77542306,"comment_id":136702955,"body_markdown":"add code blocks please","body":"add code blocks please"}],"tags":[],"owner":{"account_id":29981927,"reputation":1,"user_id":22976726,"display_name":"Gokul Krishna"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700820746,"creation_date":1700820709,"answer_id":77542306,"question_id":37341545,"body_markdown":"vi /etc/sudoers \r\n\r\nadd line &quot;jenkins ALL=(ALL)       NOPASSWD:&#160;ALL&quot; below wheels line \r\nnow save it \r\n\r\ngo to bash execute the command &quot;usermod -aG wheel&#160;jenkins&quot;\r\n\r\nuse the nohup command like this &quot;sudo nohup npx serve -s build -p 3007 &gt; server.log 2&gt;&amp;1 &amp;&quot;\r\n\r\ngive permission for &quot;server.log&quot; once it created in your application path \r\n\r\n\r\nit will work","title":"Unable to run nohup command from jenkins as a background process","body":"<p>vi /etc/sudoers</p>\n<p>add line &quot;jenkins ALL=(ALL)       NOPASSWD: ALL&quot; below wheels line\nnow save it</p>\n<p>go to bash execute the command &quot;usermod -aG wheel jenkins&quot;</p>\n<p>use the nohup command like this &quot;sudo nohup npx serve -s build -p 3007 &gt; server.log 2&gt;&amp;1 &amp;&quot;</p>\n<p>give permission for &quot;server.log&quot; once it created in your application path</p>\n<p>it will work</p>\n"}],"owner":{"account_id":2407279,"reputation":3845,"user_id":2103379,"accept_rate":49,"display_name":"Utsav Gupta"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23695,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":9,"score":11,"last_activity_date":1700820746,"creation_date":1463732443,"question_id":37341545,"body_markdown":"UPDATE: Based on below discussion I have edited my answer for more accurate description.\r\n\r\nI am trying to run a nohup command from jenkins. The full command is \r\n\r\n    nohup java -jar /home/.../jar/server-process-0.35.jar prod &gt;&gt; /var/../server-process-prod.log 2&gt;&amp;1 &amp;\r\n\r\nThis command does not work. I can see status as success in jenkins but no java process in linux. When I do &#39;ps -ef | grep java&#39;\r\n\r\nHowever when I remove the last &#39;&amp;&#39; , that is I change it from run in forground instead of background\r\n\r\n\r\n\r\nIt starts working. I can see the java process started. \r\n\r\nThe original command works fine If I run it on linux console.\r\n\r\nI need to run it from jenkins in the original form that is as a backgorund process. So that it is independant of jenkins. \r\n\r\nAny clues why is this happening?","title":"Unable to run nohup command from jenkins as a background process","body":"<p>UPDATE: Based on below discussion I have edited my answer for more accurate description.</p>\n\n<p>I am trying to run a nohup command from jenkins. The full command is </p>\n\n<pre><code>nohup java -jar /home/.../jar/server-process-0.35.jar prod &gt;&gt; /var/../server-process-prod.log 2&gt;&amp;1 &amp;\n</code></pre>\n\n<p>This command does not work. I can see status as success in jenkins but no java process in linux. When I do 'ps -ef | grep java'</p>\n\n<p>However when I remove the last '&amp;' , that is I change it from run in forground instead of background</p>\n\n<p>It starts working. I can see the java process started. </p>\n\n<p>The original command works fine If I run it on linux console.</p>\n\n<p>I need to run it from jenkins in the original form that is as a backgorund process. So that it is independant of jenkins. </p>\n\n<p>Any clues why is this happening?</p>\n"},{"tags":["java","avro","instant"],"owner":{"account_id":6840259,"reputation":318,"user_id":5260895,"accept_rate":40,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700820698,"creation_date":1700820698,"question_id":77542304,"body_markdown":"I have this Avro schema\r\n\r\n    {\r\n      &quot;name&quot;: &quot;SimpleEvent&quot;,\r\n      &quot;type&quot;: &quot;record&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;timestamp&quot;,\r\n          &quot;type&quot;: {\r\n            &quot;type&quot;: &quot;long&quot;,\r\n            &quot;logicalType&quot;: &quot;timestamp-millis&quot;\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\r\nThe compiled JAVA class uses `java.time.Instant` to populate the timestamp field. I want to populate it with `org.joda.time.Instant` for different reasons.\r\n\r\nI couldn&#39;t find any documentation about it.\r\n\r\nIs it possible? And how?\r\n\r\nUsing: \r\n- Maven, avro-maven-plugin v1.11.0\r\n- Apache Avro v1.11.3\r\n- Java 11\r\n\r\n\r\n","title":"Choose Representation for Avro Schema Logical Type in Java","body":"<p>I have this Avro schema</p>\n<pre><code>{\n  &quot;name&quot;: &quot;SimpleEvent&quot;,\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;timestamp&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;long&quot;,\n        &quot;logicalType&quot;: &quot;timestamp-millis&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<p>The compiled JAVA class uses <code>java.time.Instant</code> to populate the timestamp field. I want to populate it with <code>org.joda.time.Instant</code> for different reasons.</p>\n<p>I couldn't find any documentation about it.</p>\n<p>Is it possible? And how?</p>\n<p>Using:</p>\n<ul>\n<li>Maven, avro-maven-plugin v1.11.0</li>\n<li>Apache Avro v1.11.3</li>\n<li>Java 11</li>\n</ul>\n"},{"tags":["java","jenkins","selenium-chromedriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700938125,"post_id":77542273,"comment_id":136714267,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":16450407,"reputation":1,"user_id":11883966,"display_name":"Chaitanya Sunkara"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700820286,"creation_date":1700820286,"question_id":77542273,"body_markdown":"Issue: \r\n\r\n(session not created: DevToolsActivePort file doesn&#39;t exist)\r\n  (The process started from chrome location C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \r\n\r\n[Jenkins Build Execution Status](https://i.stack.imgur.com/RrDVR.png)\r\n\r\nCurrently, I am using Windows Jenkins Machine with 32 bit with below versions\r\n     Selenium-Java dependency version : 4.14.1\r\n     ChromeDriver version: 119.0.6045.105\r\n     Chrome Browser version: 119.0.6045.160\r\n     JDK and JRE - 17\r\n\r\n**My Try:**\r\n1. I have Uninstalled Chrome Browser and Restarted Jenkins Machine and ReInstalled Chrome Browser --&gt; Still skipped few test cases\r\n\r\n2. WebDriverManager used Instead of chromedriver.exe path --&gt; Still Skipped Few test cases\r\n\r\n3. Upgraded Selenium-Java 4.14.1 version to - 4.15.0 --&gt; Still Skipped Few test cases\r\n\r\n4. Used setBinary chromeoptions and set chromedriver.exe path to it ---&gt; Still Skipped Few test cases\r\n ","title":"Few Selenium Test Cases are skipping In Jenkins build Execution","body":"<p>Issue:</p>\n<p>(session not created: DevToolsActivePort file doesn't exist)\n(The process started from chrome location C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe is no longer running, so ChromeDriver is assuming that Chrome has crashed.)</p>\n<p><a href=\"https://i.stack.imgur.com/RrDVR.png\" rel=\"nofollow noreferrer\">Jenkins Build Execution Status</a></p>\n<p>Currently, I am using Windows Jenkins Machine with 32 bit with below versions\nSelenium-Java dependency version : 4.14.1\nChromeDriver version: 119.0.6045.105\nChrome Browser version: 119.0.6045.160\nJDK and JRE - 17</p>\n<p><strong>My Try:</strong></p>\n<ol>\n<li><p>I have Uninstalled Chrome Browser and Restarted Jenkins Machine and ReInstalled Chrome Browser --&gt; Still skipped few test cases</p>\n</li>\n<li><p>WebDriverManager used Instead of chromedriver.exe path --&gt; Still Skipped Few test cases</p>\n</li>\n<li><p>Upgraded Selenium-Java 4.14.1 version to - 4.15.0 --&gt; Still Skipped Few test cases</p>\n</li>\n<li><p>Used setBinary chromeoptions and set chromedriver.exe path to it ---&gt; Still Skipped Few test cases</p>\n</li>\n</ol>\n"},{"tags":["java","spring","hibernate","spring-boot"],"comments":[{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1486732326,"post_id":42160227,"comment_id":71485440,"body_markdown":"Possible duplicate of [Sequence &quot;HIBERNATE\\_SEQUENCE&quot; not found; SQL statement](http://stackoverflow.com/questions/39807483/sequence-hibernate-sequence-not-found-sql-statement)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/39807483/sequence-hibernate-sequence-not-found-sql-statement\">Sequence &quot;HIBERNATE_SEQUENCE&quot; not found; SQL statement</a>"},{"owner":{"account_id":3968575,"reputation":153,"user_id":3273720,"accept_rate":75,"display_name":"elk"},"score":0,"creation_date":1486733015,"post_id":42160227,"comment_id":71485857,"body_markdown":"no my case is different","body":"no my case is different"},{"owner":{"account_id":3968575,"reputation":153,"user_id":3273720,"accept_rate":75,"display_name":"elk"},"score":0,"creation_date":1486739865,"post_id":42160227,"comment_id":71490506,"body_markdown":"in my code (strategy = GenerationType.IDENTITY) is already included\nI posted one of my entities","body":"in my code (strategy = GenerationType.IDENTITY) is already included I posted one of my entities"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1486980100,"post_id":42160227,"comment_id":71563959,"body_markdown":"You&#39;re not using `GenerationType.IDENTITY` but `GenerationType.SEQUENCE` though.","body":"You&#39;re not using <code>GenerationType.IDENTITY</code> but <code>GenerationType.SEQUENCE</code> though."}],"answers":[{"tags":[],"owner":{"account_id":5913014,"reputation":31,"user_id":4652606,"display_name":"Gautam Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565249380,"creation_date":1565249380,"answer_id":57407354,"question_id":42160227,"body_markdown":"Solution is:\r\n\r\n   \r\n\r\n    CREATE TABLE CLIENT(\r\n      ID            INTEGER         NOT NULL,\r\n      CLIENT_NAME   VARCHAR(255)    NOT NULL,\r\n      ACTIVE        CHAR(1)         NOT NULL  DEFAULT &#39;Y&#39;\r\n    );\r\n\r\n     CREATE SEQUENCE CLIENT_SEQUENCE_ID START WITH (select max(ID) + 1 from CLIENT);\r\n\r\n(this allows you to prepopulate the CLIENT with static values, and initialize the sequence accordingly)\r\n\r\nand in Java\r\n\r\n    @Id\r\n    @SequenceGenerator(name= &quot;CLIENT_SEQUENCE&quot;, sequenceName = &quot;CLIENT_SEQUENCE_ID&quot;, initialValue=1, allocationSize = 1)\r\n    @GeneratedValue(strategy=GenerationType.AUTO, generator=&quot;CLIENT_SEQUENCE&quot;)\r\n    private Long id\r\n\r\n;\r\n\r\nplease follow the above instruction.\r\n\r\n","title":"Spring boot can not find HIBERNATE_SEQUENCE","body":"<p>Solution is:</p>\n\n<pre><code>CREATE TABLE CLIENT(\n  ID            INTEGER         NOT NULL,\n  CLIENT_NAME   VARCHAR(255)    NOT NULL,\n  ACTIVE        CHAR(1)         NOT NULL  DEFAULT 'Y'\n);\n\n CREATE SEQUENCE CLIENT_SEQUENCE_ID START WITH (select max(ID) + 1 from CLIENT);\n</code></pre>\n\n<p>(this allows you to prepopulate the CLIENT with static values, and initialize the sequence accordingly)</p>\n\n<p>and in Java</p>\n\n<pre><code>@Id\n@SequenceGenerator(name= \"CLIENT_SEQUENCE\", sequenceName = \"CLIENT_SEQUENCE_ID\", initialValue=1, allocationSize = 1)\n@GeneratedValue(strategy=GenerationType.AUTO, generator=\"CLIENT_SEQUENCE\")\nprivate Long id\n</code></pre>\n\n<p>;</p>\n\n<p>please follow the above instruction.</p>\n"}],"owner":{"account_id":3968575,"reputation":153,"user_id":3273720,"accept_rate":75,"display_name":"elk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11024,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700820017,"creation_date":1486732213,"question_id":42160227,"body_markdown":"For many applications all we will need is to put the right Spring \r\nData dependencies on the classpath.it works fine :\r\n\r\nconfig:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @EntityScan(basePackages = {&quot;io.boot.spring.entities&quot;})\r\n    @EnableJpaRepositories(basePackages = {&quot;io.boot.spring.repositories&quot;})\r\n    @EnableTransactionManagement\r\n    public class ConfigForJPA {\r\n\t\t\t\t\r\n\t@Bean\r\n\t@ConfigurationProperties(&quot;spring.datasource.hikari&quot;)\r\n\tpublic HikariDataSource dataSource() {\r\n\t    return (HikariDataSource) DataSourceBuilder.create()\r\n\t            .type(HikariDataSource.class).build();\r\n\t}\r\n}\r\n\r\napplication.properties:\r\n\r\n    spring.datasource.hikari.jdbc-url=jdbc:h2:mem:mydb\r\n    spring.datasource.hikari.username=sa\r\n    spring.datasource.hikari.password=\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.use-new-id-generator-mappings=true\r\n\r\n\r\nconsole:\r\n\r\n    Hibernate: drop table Blog if exists\r\n    Hibernate: drop table Item if exists\r\n    Hibernate: drop table Role if exists\r\n    Hibernate: drop table User if exists\r\n    Hibernate: drop table User_roles if exists\r\n    Hibernate: drop sequence if exists hibernate_sequence\r\n    Hibernate: create sequence hibernate_sequence start with 1 increment by 1\r\n    Hibernate: create table Blog \r\n    Hibernate: create table Item \r\n    Hibernate: create table Role \r\n    Hibernate: create table User \r\n    Hibernate: create table User_roles (users_id integer not null, roles_id integer not null)\r\n    main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete\r\n    j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    Hibernate: call next value for hibernate_sequence\r\n    Hibernate: insert into Role (name, id) values (?, ?)\r\n    Hibernate: call next value for hibernate_sequence\r\n    Hibernate: insert into Role (name, id) values (?, ?)\r\n    Hibernate: call next value for hibernate_sequence\r\n    Hibernate: insert into User (email, name, password, id) values (?, ?, ?, ?)\r\n    Hibernate: insert into User_roles (users_id, roles_id) values (?, ?)\r\n    Hibernate: insert into User_roles (users_id, roles_id) values (?, ?)\r\n\r\nbut Spring boot doc says to take full control of the configuration of the \r\nEntityManagerFactory, you need to add a @Bean named ‘entityManagerFactory’\r\nand when I add it to my config. \r\n\r\n\r\nconfig:\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean \r\n    \tentityManagerFactory(EntityManagerFactoryBuilder builder) {\r\n    \t    return builder\r\n    \t            .dataSource(dataSource())\r\n    \t            .packages(&quot;io.boot.spring&quot;)\r\n    \t            .persistenceUnit(&quot;io.boot.spring.entities&quot;)\r\n    \t            .build();\r\n    \t            \r\n    \t}\r\n\r\nIt gives the error:\r\n\r\nconsole:\r\n\r\n    : HHH000412: Hibernate Core {5.0.11.Final}\r\n    : HHH000206: hibernate.properties not found\r\n    : HHH000021: Bytecode provider name : javassist\r\n    : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\r\n    com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Started.\r\n    : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n    j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory\r\n     for persistence unit &#39;io.boot.spring.entities&#39;\r\n    Hibernate: call next value for hibernate_sequence\r\n    : SQL Error: 90036, SQLState: 90036\r\n    : Sequence &quot;HIBERNATE_SEQUENCE&quot; not found; SQL statement:\r\n    call next value for hibernate_sequence [90036-193]\r\n\r\nwhy HIBERNATE_SEQUENCE not found? I did not modify anything\r\njust added the entityManagerFactory bean to config file\r\n\r\nEntity:\r\n\r\n    @Entity\r\n    public class Role {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.SEQUENCE)\r\n    \tprivate Integer id;\r\n    \t\r\n    \tprivate String name;\r\n    \t\r\n    \t... getters and setters\r\n\r\n\r\n\r\n","title":"Spring boot can not find HIBERNATE_SEQUENCE","body":"<p>For many applications all we will need is to put the right Spring \nData dependencies on the classpath.it works fine :</p>\n\n<p>config:</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@EntityScan(basePackages = {\"io.boot.spring.entities\"})\n@EnableJpaRepositories(basePackages = {\"io.boot.spring.repositories\"})\n@EnableTransactionManagement\npublic class ConfigForJPA {\n\n@Bean\n@ConfigurationProperties(\"spring.datasource.hikari\")\npublic HikariDataSource dataSource() {\n    return (HikariDataSource) DataSourceBuilder.create()\n            .type(HikariDataSource.class).build();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>application.properties:</p>\n\n<pre><code>spring.datasource.hikari.jdbc-url=jdbc:h2:mem:mydb\nspring.datasource.hikari.username=sa\nspring.datasource.hikari.password=\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.hibernate.use-new-id-generator-mappings=true\n</code></pre>\n\n<p>console:</p>\n\n<pre><code>Hibernate: drop table Blog if exists\nHibernate: drop table Item if exists\nHibernate: drop table Role if exists\nHibernate: drop table User if exists\nHibernate: drop table User_roles if exists\nHibernate: drop sequence if exists hibernate_sequence\nHibernate: create sequence hibernate_sequence start with 1 increment by 1\nHibernate: create table Blog \nHibernate: create table Item \nHibernate: create table Role \nHibernate: create table User \nHibernate: create table User_roles (users_id integer not null, roles_id integer not null)\nmain] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete\nj.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\nHibernate: call next value for hibernate_sequence\nHibernate: insert into Role (name, id) values (?, ?)\nHibernate: call next value for hibernate_sequence\nHibernate: insert into Role (name, id) values (?, ?)\nHibernate: call next value for hibernate_sequence\nHibernate: insert into User (email, name, password, id) values (?, ?, ?, ?)\nHibernate: insert into User_roles (users_id, roles_id) values (?, ?)\nHibernate: insert into User_roles (users_id, roles_id) values (?, ?)\n</code></pre>\n\n<p>but Spring boot doc says to take full control of the configuration of the \nEntityManagerFactory, you need to add a @Bean named ‘entityManagerFactory’\nand when I add it to my config. </p>\n\n<p>config:</p>\n\n<pre><code>@Bean\npublic LocalContainerEntityManagerFactoryBean \n    entityManagerFactory(EntityManagerFactoryBuilder builder) {\n        return builder\n                .dataSource(dataSource())\n                .packages(\"io.boot.spring\")\n                .persistenceUnit(\"io.boot.spring.entities\")\n                .build();\n\n    }\n</code></pre>\n\n<p>It gives the error:</p>\n\n<p>console:</p>\n\n<pre><code>: HHH000412: Hibernate Core {5.0.11.Final}\n: HHH000206: hibernate.properties not found\n: HHH000021: Bytecode provider name : javassist\n: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\ncom.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Started.\n: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\nj.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory\n for persistence unit 'io.boot.spring.entities'\nHibernate: call next value for hibernate_sequence\n: SQL Error: 90036, SQLState: 90036\n: Sequence \"HIBERNATE_SEQUENCE\" not found; SQL statement:\ncall next value for hibernate_sequence [90036-193]\n</code></pre>\n\n<p>why HIBERNATE_SEQUENCE not found? I did not modify anything\njust added the entityManagerFactory bean to config file</p>\n\n<p>Entity:</p>\n\n<pre><code>@Entity\npublic class Role {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.SEQUENCE)\n    private Integer id;\n\n    private String name;\n\n    ... getters and setters\n</code></pre>\n"},{"tags":["java","maven","vert.x","netbeans-8.1"],"answers":[{"comments":[{"owner":{"account_id":8579039,"reputation":31,"user_id":6427376,"display_name":"Rsh At The Fort"},"score":0,"creation_date":1465646977,"post_id":37728379,"comment_id":62995753,"body_markdown":"Replacing the &#39;&lt;goal&gt;exec&lt;\\goal&gt;&#39; with &#39;&lt;goal&gt;java&lt;\\goal&gt;&#39; results in successful and creation of a distributable jar file, which is fine. However, when I leave &#39;&lt;goal&gt;exec&lt;\\goal&gt;&#39; in the .pom file this error is created when the project is built (I am using the Netbeans IDE for code development and compilation). I have been unsuccessful in inserting the executable designation into this .pom file. I haven&#39;t been able to determine where the specification should be put and whether it needs a path alone or a path + filename.","body":"Replacing the &#39;&lt;goal&gt;exec&lt;\\goal&gt;&#39; with &#39;&lt;goal&gt;java&lt;\\goal&gt;&#39; results in successful and creation of a distributable jar file, which is fine. However, when I leave &#39;&lt;goal&gt;exec&lt;\\goal&gt;&#39; in the .pom file this error is created when the project is built (I am using the Netbeans IDE for code development and compilation). I have been unsuccessful in inserting the executable designation into this .pom file. I haven&#39;t been able to determine where the specification should be put and whether it needs a path alone or a path + filename."},{"owner":{"account_id":8579039,"reputation":31,"user_id":6427376,"display_name":"Rsh At The Fort"},"score":0,"creation_date":1465647263,"post_id":37728379,"comment_id":62995826,"body_markdown":"One further comment. Thanks for the hint/advice on the syntax regarding the executable behavior of the code and the vertx deployment within main method. The behavior you mention matches the behavior when executing the code; running within the IDE causes the main() to get called and no periodic task. When executing from the command line, the vert.x starter is executed and there is no server, just the periodic timer.","body":"One further comment. Thanks for the hint/advice on the syntax regarding the executable behavior of the code and the vertx deployment within main method. The behavior you mention matches the behavior when executing the code; running within the IDE causes the main() to get called and no periodic task. When executing from the command line, the vert.x starter is executed and there is no server, just the periodic timer."}],"tags":[],"owner":{"account_id":21271,"reputation":5855,"user_id":51560,"accept_rate":57,"display_name":"Paulo Lopes"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465481427,"creation_date":1465481427,"answer_id":37728379,"question_id":37644915,"body_markdown":"It looks you&#39;re trying to run `mvn exec:exec` but for that you need to specify the executable (the error you&#39;re getting). In that case the executable should be your java binary, e.g.: `/usr/java/latest/bin/java` if you&#39;re using linux and the Oracle RPM.\r\n\r\nAlternatively you should do: `mvn exec:java` which knows that the executable is `java` and knows how to pick the classpath dependencies from the pom file.\r\n\r\nNow if you pay attention to your code you&#39;ll see that the `public static void main` method is never called, your exec plugin use the vert.x starter not your class, so when your app starts there won&#39;t be any server, just the periodic code executed inside the `start` method.\r\n\r\nIf you execute your main, then you&#39;re still missing to deploy your verticle so you have the server but no periodic task, in order to achieve that you need to add:\r\n\r\n    vertx.deployVerticle(Main.class.getName());","title":"Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.3.2:exec (default) on project mavenproject2:","body":"<p>It looks you're trying to run <code>mvn exec:exec</code> but for that you need to specify the executable (the error you're getting). In that case the executable should be your java binary, e.g.: <code>/usr/java/latest/bin/java</code> if you're using linux and the Oracle RPM.</p>\n\n<p>Alternatively you should do: <code>mvn exec:java</code> which knows that the executable is <code>java</code> and knows how to pick the classpath dependencies from the pom file.</p>\n\n<p>Now if you pay attention to your code you'll see that the <code>public static void main</code> method is never called, your exec plugin use the vert.x starter not your class, so when your app starts there won't be any server, just the periodic code executed inside the <code>start</code> method.</p>\n\n<p>If you execute your main, then you're still missing to deploy your verticle so you have the server but no periodic task, in order to achieve that you need to add:</p>\n\n<pre><code>vertx.deployVerticle(Main.class.getName());\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3103059"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522865098,"creation_date":1522865098,"answer_id":49657621,"question_id":37644915,"body_markdown":"**Allow Netbeans to index the maven repository at**\r\n\r\n    ~\\.m2\\repository\\org\\codehaus\\mojo\r\n\r\n**after the repository gets indexed everything should work fine.**","title":"Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.3.2:exec (default) on project mavenproject2:","body":"<p><strong>Allow Netbeans to index the maven repository at</strong></p>\n\n<pre><code>~\\.m2\\repository\\org\\codehaus\\mojo\n</code></pre>\n\n<p><strong>after the repository gets indexed everything should work fine.</strong></p>\n"}],"owner":{"account_id":8579039,"reputation":31,"user_id":6427376,"display_name":"Rsh At The Fort"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10622,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1700820017,"creation_date":1465148571,"question_id":37644915,"body_markdown":"I am beginning the initial attempt to use Vert.x in Java. IDE is Netbeans version 8.1. Vert.x is version 3.0.0. The code for this project is shown below. The pom.xml file is also listed below. This code will run in Netbeans IDE but the Build (for jar file) will not complete without the error shown in the BUILD REPORT below. Thus, the generated jar file will not execute. I have researched every resource I could locate on the internet and cannot find an adequate solution/answer. I would appreciate any help anybody can offer to resolve this problem.\r\n\r\nThe POM file is generated by Netbeans IDE when creating a new project:\r\nFile - New Project - Maven - Project from Archetype - vertx-java-archetype\r\nI then added the main() method.\r\n\r\n\r\nDETAILED BUILD ERROR REPORT:\r\n\r\n        --- maven-jar-plugin:2.3.2:jar (default-jar) @ mavenproject2 ---\r\n        Building jar: C:\\Projects\\GenMatchJ\\mavenproject2\\target\\mavenproject2-1.0-SNAPSHOT.jar\r\n        \r\n        --- maven-shade-plugin:2.3:shade (default) @ mavenproject2 ---\r\n        Including io.vertx:vertx-core:jar:3.0.0 in the shaded jar.\r\n        Including io.netty:netty-common:jar:4.0.28.Final in the shaded jar.\r\n        Including io.netty:netty-buffer:jar:4.0.28.Final in the shaded jar.\r\n        Including io.netty:netty-transport:jar:4.0.28.Final in the shaded jar.\r\n        Including io.netty:netty-handler:jar:4.0.28.Final in the shaded jar.\r\n        Including io.netty:netty-codec:jar:4.0.28.Final in the shaded jar.\r\n        Including io.netty:netty-codec-http:jar:4.0.28.Final in the shaded jar.\r\n        Including com.fasterxml.jackson.core:jackson-core:jar:2.5.3 in the shaded jar.\r\n        Including com.fasterxml.jackson.core:jackson-databind:jar:2.5.3 in the shaded jar.\r\n        Including com.fasterxml.jackson.core:jackson-annotations:jar:2.5.0 in the shaded jar.\r\n        Including io.vertx:vertx-web:jar:3.0.0 in the shaded jar.\r\n        Including io.vertx:vertx-auth-common:jar:3.0.0 in the shaded jar.\r\n        \r\n        --- exec-maven-plugin:1.3.2:exec (default) @ mavenproject2 ---\r\n        ------------------------------------------------------------------------\r\n        BUILD FAILURE\r\n        ------------------------------------------------------------------------\r\n        Total time: 3.290s\r\n        Finished at: Sun Jun 05 13:01:40 EDT 2016\r\n        Final Memory: 30M/313M\r\n        ------------------------------------------------------------------------\r\n        Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.3.2:exec (default) on project mavenproject2: The parameters &#39;executable&#39; for goal org.codehaus.mojo:exec-maven-plugin:1.3.2:exec are missing or invalid -&gt; [Help 1]\r\n    \r\n    To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    Re-run Maven using the -X switch to enable full debug logging.\r\n    \r\n    For more information about the errors and possible solutions, please read the following articles:\r\n    [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginParameterException\r\n\r\n\r\n\r\nPOM.XML FILE:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.ssp&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mavenproject2&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n      \r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vertx-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n        \r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n          &lt;artifactId&gt;vertx-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n          &lt;artifactId&gt;vertx-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;1.8&lt;/source&gt;\r\n              &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;transformers&gt;\r\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                      &lt;manifestEntries&gt;\r\n                        &lt;Main-Class&gt;io.vertx.core.Starter&lt;/Main-Class&gt;\r\n                        &lt;Main-Verticle&gt;com.ssp.mavenproject2.Main&lt;/Main-Verticle&gt;\r\n                      &lt;/manifestEntries&gt;\r\n                    &lt;/transformer&gt;\r\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n                      &lt;resource&gt;META-INF/services/io.vertx.core.spi.VerticleFactory&lt;/resource&gt;\r\n                    &lt;/transformer&gt;\r\n                  &lt;/transformers&gt;\r\n                  &lt;artifactSet&gt;&lt;/artifactSet&gt;\r\n                  &lt;outputFile&gt;${project.build.directory}/mavenproject2-${project.version}-fat.jar&lt;/outputFile&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;verify&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;exec&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;mainClass&gt;io.vertx.core.Starter&lt;/mainClass&gt;\r\n              &lt;additionalClasspathElements&gt;\r\n                &lt;additionalClasspathElement&gt;${basedir}/src/main/java/&lt;/additionalClasspathElement&gt;\r\n              &lt;/additionalClasspathElements&gt;\r\n              &lt;systemProperties&gt;\r\n                &lt;systemProperty&gt;\r\n                  &lt;key&gt;vertx.deployment.options.redeploy&lt;/key&gt;\r\n                  &lt;value&gt;true&lt;/value&gt;\r\n                &lt;/systemProperty&gt;\r\n                &lt;systemProperty&gt;\r\n                  &lt;key&gt;vertx.deployment.options.redeployScanPeriod&lt;/key&gt;\r\n                  &lt;value&gt;100&lt;/value&gt;\r\n                &lt;/systemProperty&gt;\r\n              &lt;/systemProperties&gt;\r\n              &lt;arguments&gt;\r\n                &lt;argument&gt;run&lt;/argument&gt;\r\n                &lt;argument&gt;com/ssp/mavenproject2/Main.java&lt;/argument&gt;\r\n                &lt;!--                  &lt;argument&gt;-cluster&lt;/argument&gt;\r\n                &lt;argument&gt;-cluster-host&lt;/argument&gt;\r\n                &lt;argument&gt;127.0.0.1&lt;/argument&gt;--&gt;\r\n              &lt;/arguments&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n        &lt;name&gt;MainSsp&lt;/name&gt;\r\n        &lt;description&gt;Main entry point for SSP Example with embedded Vert.x&lt;/description&gt;\r\n    &lt;/project&gt;\r\n\r\nSOURCE CODE:\r\n\r\n    package com.ssp.mavenproject2;\r\n    \r\n    import io.vertx.core.AbstractVerticle;\r\n    import io.vertx.core.Vertx;\r\n    \r\n    import javax.swing.JOptionPane;\r\n    \r\n    \r\n    /**\r\n     *\r\n     */\r\n    public class Main extends AbstractVerticle {\r\n    \r\n      public static void main(String[] args) {\r\n         \r\n         \r\n          JOptionPane.showMessageDialog(null, &quot;This Vert.x/Java integration is UUUGGGGHH tough without documentation...&quot;);\r\n        \r\n        \r\n          // Create an HTTP server which simply returns &quot;Hello World!&quot; to each request.\r\n          Vertx.vertx().createHttpServer().requestHandler(req -&gt; req.response().end(&quot;Hello World!&quot;)).listen(8080);\r\n    \r\n          Vertx.vertx().setPeriodic(3000, res -&gt; {\r\n            System.out.println(&quot;Periodic event triggered.&quot;);\r\n          });\r\n    \r\n          try{\r\n    \r\n              Thread.sleep(30000);\r\n          }catch(Exception e)\r\n          {\r\n             System.out.println(&quot;Exception caught&quot;);\r\n          }\r\n      }  \r\n    \r\n      @Override\r\n      public void start() throws Exception {\r\n        vertx.setPeriodic(3000, res -&gt; {\r\n          System.out.println(&quot;Periodic event triggered.&quot;);\r\n        });\r\n      }\r\n    \r\n    }\r\n\r\n","title":"Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.3.2:exec (default) on project mavenproject2:","body":"<p>I am beginning the initial attempt to use Vert.x in Java. IDE is Netbeans version 8.1. Vert.x is version 3.0.0. The code for this project is shown below. The pom.xml file is also listed below. This code will run in Netbeans IDE but the Build (for jar file) will not complete without the error shown in the BUILD REPORT below. Thus, the generated jar file will not execute. I have researched every resource I could locate on the internet and cannot find an adequate solution/answer. I would appreciate any help anybody can offer to resolve this problem.</p>\n\n<p>The POM file is generated by Netbeans IDE when creating a new project:\nFile - New Project - Maven - Project from Archetype - vertx-java-archetype\nI then added the main() method.</p>\n\n<p>DETAILED BUILD ERROR REPORT:</p>\n\n<pre><code>    --- maven-jar-plugin:2.3.2:jar (default-jar) @ mavenproject2 ---\n    Building jar: C:\\Projects\\GenMatchJ\\mavenproject2\\target\\mavenproject2-1.0-SNAPSHOT.jar\n\n    --- maven-shade-plugin:2.3:shade (default) @ mavenproject2 ---\n    Including io.vertx:vertx-core:jar:3.0.0 in the shaded jar.\n    Including io.netty:netty-common:jar:4.0.28.Final in the shaded jar.\n    Including io.netty:netty-buffer:jar:4.0.28.Final in the shaded jar.\n    Including io.netty:netty-transport:jar:4.0.28.Final in the shaded jar.\n    Including io.netty:netty-handler:jar:4.0.28.Final in the shaded jar.\n    Including io.netty:netty-codec:jar:4.0.28.Final in the shaded jar.\n    Including io.netty:netty-codec-http:jar:4.0.28.Final in the shaded jar.\n    Including com.fasterxml.jackson.core:jackson-core:jar:2.5.3 in the shaded jar.\n    Including com.fasterxml.jackson.core:jackson-databind:jar:2.5.3 in the shaded jar.\n    Including com.fasterxml.jackson.core:jackson-annotations:jar:2.5.0 in the shaded jar.\n    Including io.vertx:vertx-web:jar:3.0.0 in the shaded jar.\n    Including io.vertx:vertx-auth-common:jar:3.0.0 in the shaded jar.\n\n    --- exec-maven-plugin:1.3.2:exec (default) @ mavenproject2 ---\n    ------------------------------------------------------------------------\n    BUILD FAILURE\n    ------------------------------------------------------------------------\n    Total time: 3.290s\n    Finished at: Sun Jun 05 13:01:40 EDT 2016\n    Final Memory: 30M/313M\n    ------------------------------------------------------------------------\n    Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.3.2:exec (default) on project mavenproject2: The parameters 'executable' for goal org.codehaus.mojo:exec-maven-plugin:1.3.2:exec are missing or invalid -&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n\nFor more information about the errors and possible solutions, please read the following articles:\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginParameterException\n</code></pre>\n\n<p>POM.XML FILE:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.ssp&lt;/groupId&gt;\n  &lt;artifactId&gt;mavenproject2&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n        &lt;artifactId&gt;vertx-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n      &lt;artifactId&gt;vertx-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n      &lt;artifactId&gt;vertx-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.3&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;transformers&gt;\n                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                  &lt;manifestEntries&gt;\n                    &lt;Main-Class&gt;io.vertx.core.Starter&lt;/Main-Class&gt;\n                    &lt;Main-Verticle&gt;com.ssp.mavenproject2.Main&lt;/Main-Verticle&gt;\n                  &lt;/manifestEntries&gt;\n                &lt;/transformer&gt;\n                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.AppendingTransformer\"&gt;\n                  &lt;resource&gt;META-INF/services/io.vertx.core.spi.VerticleFactory&lt;/resource&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n              &lt;artifactSet&gt;&lt;/artifactSet&gt;\n              &lt;outputFile&gt;${project.build.directory}/mavenproject2-${project.version}-fat.jar&lt;/outputFile&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;exec&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;mainClass&gt;io.vertx.core.Starter&lt;/mainClass&gt;\n          &lt;additionalClasspathElements&gt;\n            &lt;additionalClasspathElement&gt;${basedir}/src/main/java/&lt;/additionalClasspathElement&gt;\n          &lt;/additionalClasspathElements&gt;\n          &lt;systemProperties&gt;\n            &lt;systemProperty&gt;\n              &lt;key&gt;vertx.deployment.options.redeploy&lt;/key&gt;\n              &lt;value&gt;true&lt;/value&gt;\n            &lt;/systemProperty&gt;\n            &lt;systemProperty&gt;\n              &lt;key&gt;vertx.deployment.options.redeployScanPeriod&lt;/key&gt;\n              &lt;value&gt;100&lt;/value&gt;\n            &lt;/systemProperty&gt;\n          &lt;/systemProperties&gt;\n          &lt;arguments&gt;\n            &lt;argument&gt;run&lt;/argument&gt;\n            &lt;argument&gt;com/ssp/mavenproject2/Main.java&lt;/argument&gt;\n            &lt;!--                  &lt;argument&gt;-cluster&lt;/argument&gt;\n            &lt;argument&gt;-cluster-host&lt;/argument&gt;\n            &lt;argument&gt;127.0.0.1&lt;/argument&gt;--&gt;\n          &lt;/arguments&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n    &lt;name&gt;MainSsp&lt;/name&gt;\n    &lt;description&gt;Main entry point for SSP Example with embedded Vert.x&lt;/description&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>SOURCE CODE:</p>\n\n<pre><code>package com.ssp.mavenproject2;\n\nimport io.vertx.core.AbstractVerticle;\nimport io.vertx.core.Vertx;\n\nimport javax.swing.JOptionPane;\n\n\n/**\n *\n */\npublic class Main extends AbstractVerticle {\n\n  public static void main(String[] args) {\n\n\n      JOptionPane.showMessageDialog(null, \"This Vert.x/Java integration is UUUGGGGHH tough without documentation...\");\n\n\n      // Create an HTTP server which simply returns \"Hello World!\" to each request.\n      Vertx.vertx().createHttpServer().requestHandler(req -&gt; req.response().end(\"Hello World!\")).listen(8080);\n\n      Vertx.vertx().setPeriodic(3000, res -&gt; {\n        System.out.println(\"Periodic event triggered.\");\n      });\n\n      try{\n\n          Thread.sleep(30000);\n      }catch(Exception e)\n      {\n         System.out.println(\"Exception caught\");\n      }\n  }  \n\n  @Override\n  public void start() throws Exception {\n    vertx.setPeriodic(3000, res -&gt; {\n      System.out.println(\"Periodic event triggered.\");\n    });\n  }\n\n}\n</code></pre>\n"},{"tags":["java","methods","parameter-passing","pass-by-reference","pass-by-value"],"answers":[{"comments":[{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":0,"creation_date":1604245977,"post_id":40499,"comment_id":114282119,"body_markdown":"JVMS 2.2 makes this pretty clear: There are ... two kinds of values that can be stored in variables, passed as arguments, returned by methods, and operated upon: _primitive values_ and _reference values_.&quot;  Object references are values.  Everything is passed by value.","body":"JVMS 2.2 makes this pretty clear: There are ... two kinds of values that can be stored in variables, passed as arguments, returned by methods, and operated upon: <i>primitive values</i> and <i>reference values</i>.&quot;  Object references are values.  Everything is passed by value."},{"owner":{"account_id":2898573,"reputation":1829,"user_id":2485825,"accept_rate":61,"display_name":"georgiana_e"},"score":0,"creation_date":1614670126,"post_id":40499,"comment_id":117448511,"body_markdown":"https://www.geeksforgeeks.org/g-fact-31-java-is-strictly-pass-by-value/","body":"<a href=\"https://www.geeksforgeeks.org/g-fact-31-java-is-strictly-pass-by-value/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/g-fact-31-java-is-strictly-pass-by-value</a>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1632130633,"post_id":40499,"comment_id":122401065,"body_markdown":"The operative implication: `f(x)` (passing a variable)  will never assign to `x` itself. There is no such thing as a variable address (_alias_) passed. _A solid language design decision._","body":"The operative implication: <code>f(x)</code> (passing a variable)  will never assign to <code>x</code> itself. There is no such thing as a variable address (<i>alias</i>) passed. <i>A solid language design decision.</i>"},{"owner":{"account_id":19601930,"reputation":75,"user_id":14346535,"display_name":"bwass31"},"score":0,"creation_date":1644255071,"post_id":40499,"comment_id":125551373,"body_markdown":"So basically we&#39;re passing the address and we reference that address in our method for example in c `int test(int *a) { int b = *(a); return b;)` ?","body":"So basically we&#39;re passing the address and we reference that address in our method for example in c <code>int test(int *a) { int b = *(a); return b;)</code> ?"},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1645025647,"post_id":40499,"comment_id":125761766,"body_markdown":"So, when I want to pass an object to some method, I&#39;m doomed, because an object is &quot;not a value&quot; :(","body":"So, when I want to pass an object to some method, I&#39;m doomed, because an object is &quot;not a value&quot; :("}],"tags":[],"owner":{"account_id":1254,"reputation":57918,"user_id":1666,"accept_rate":84,"display_name":"SCdF"},"comment_count":5,"down_vote_count":16,"up_vote_count":873,"is_accepted":false,"score":857,"last_activity_date":1453433827,"creation_date":1220386761,"answer_id":40499,"question_id":40480,"body_markdown":"Java is always pass by value, with no exceptions, **ever**.\r\n\r\nSo how is it that anyone can be at all confused by this, and believe that Java is pass by reference, or think they have an example of Java acting as pass by reference? The key point is that Java **never** provides direct access to the values of *objects themselves*, in *any* circumstances. The only access to objects is through a _reference_ to that object. Because Java objects are *always* accessed through a reference, rather than directly, it is common to talk about fields and variables *and method arguments* as being *objects*, when pedantically they are only *references to objects*. **The confusion stems from this (strictly speaking, incorrect) change in nomenclature.**\r\n\r\nSo, when calling a method\r\n\r\n* For primitive arguments (`int`, `long`, etc.), the pass by value is *the actual value* of the primitive (for example, 3).\r\n* For objects, the pass by value is the value of *the reference to the object*.\r\n\r\nSo if you have `doSomething(foo)` and `public void doSomething(Foo foo) { .. }` the two Foos have copied *references* that point to the same objects.\r\n\r\nNaturally, passing by value a reference to an object looks very much like (and is indistinguishable in practice from) passing an object by reference.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java is always pass by value, with no exceptions, <strong>ever</strong>.</p>\n\n<p>So how is it that anyone can be at all confused by this, and believe that Java is pass by reference, or think they have an example of Java acting as pass by reference? The key point is that Java <strong>never</strong> provides direct access to the values of <em>objects themselves</em>, in <em>any</em> circumstances. The only access to objects is through a <em>reference</em> to that object. Because Java objects are <em>always</em> accessed through a reference, rather than directly, it is common to talk about fields and variables <em>and method arguments</em> as being <em>objects</em>, when pedantically they are only <em>references to objects</em>. <strong>The confusion stems from this (strictly speaking, incorrect) change in nomenclature.</strong></p>\n\n<p>So, when calling a method</p>\n\n<ul>\n<li>For primitive arguments (<code>int</code>, <code>long</code>, etc.), the pass by value is <em>the actual value</em> of the primitive (for example, 3).</li>\n<li>For objects, the pass by value is the value of <em>the reference to the object</em>.</li>\n</ul>\n\n<p>So if you have <code>doSomething(foo)</code> and <code>public void doSomething(Foo foo) { .. }</code> the two Foos have copied <em>references</em> that point to the same objects.</p>\n\n<p>Naturally, passing by value a reference to an object looks very much like (and is indistinguishable in practice from) passing an object by reference.</p>\n"},{"comments":[{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1646743718,"post_id":40501,"comment_id":126194942,"body_markdown":"Raises the question, whether Java is an Object Oriented of Reference Oriented language, rather than &#180;a mechanism for passing arguments&#180;.  https://en.wikipedia.org/wiki/Java_(programming_language)#Principles","body":"Raises the question, whether Java is an Object Oriented of Reference Oriented language, rather than &#180;a mechanism for passing arguments&#180;.  <a href=\"https://en.wikipedia.org/wiki/Java_(programming_language)#Principles\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Java_(programming_language)#Principles</a>"}],"tags":[],"owner":{"account_id":988,"reputation":85941,"user_id":1310,"accept_rate":98,"display_name":"ScArcher2"},"comment_count":1,"down_vote_count":9,"up_vote_count":401,"is_accepted":false,"score":392,"last_activity_date":1220386808,"creation_date":1220386808,"answer_id":40501,"question_id":40480,"body_markdown":"Java passes references by value.\r\n\r\nSo you can&#39;t change the reference that gets passed in.\r\n\r\n\r\n\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java passes references by value.</p>\n\n<p>So you can't change the reference that gets passed in.</p>\n"},{"tags":[],"owner":{"account_id":2961,"reputation":70821,"user_id":4203,"accept_rate":90,"display_name":"Hank Gay"},"comment_count":0,"down_vote_count":1,"up_vote_count":236,"is_accepted":false,"score":235,"last_activity_date":1646639260,"creation_date":1220386864,"answer_id":40507,"question_id":40480,"body_markdown":"Basically, reassigning Object parameters doesn&#39;t affect the argument, e.g.,\r\n\r\n\r\n    private static void foo(Object bar) {\r\n        bar = null;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String baz = &quot;Hah!&quot;;\r\n        foo(baz);\r\n        System.out.println(baz);\r\n    }\r\n\r\nwill print out `&quot;Hah!&quot;` instead of `null`. The reason this works is because `bar` is a copy of the value of `baz`, which is just a reference to `&quot;Hah!&quot;`. If it were the actual reference itself, then `foo` would have redefined `baz` to `null`.\r\n\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Basically, reassigning Object parameters doesn't affect the argument, e.g.,</p>\n<pre><code>private static void foo(Object bar) {\n    bar = null;\n}\n\npublic static void main(String[] args) {\n    String baz = &quot;Hah!&quot;;\n    foo(baz);\n    System.out.println(baz);\n}\n</code></pre>\n<p>will print out <code>&quot;Hah!&quot;</code> instead of <code>null</code>. The reason this works is because <code>bar</code> is a copy of the value of <code>baz</code>, which is just a reference to <code>&quot;Hah!&quot;</code>. If it were the actual reference itself, then <code>foo</code> would have redefined <code>baz</code> to <code>null</code>.</p>\n"},{"comments":[{"owner":{"account_id":237709,"reputation":4469,"user_id":1525050,"accept_rate":66,"display_name":"skystar7"},"score":0,"creation_date":1672599557,"post_id":40514,"comment_id":132311463,"body_markdown":"What you mean is Java passes by copying the value to the reference.","body":"What you mean is Java passes by copying the value to the reference."}],"tags":[],"owner":{"account_id":2383,"reputation":6541,"user_id":3305,"accept_rate":41,"display_name":"John Channing"},"comment_count":1,"down_vote_count":7,"up_vote_count":218,"is_accepted":false,"score":211,"last_activity_date":1220387010,"creation_date":1220387010,"answer_id":40514,"question_id":40480,"body_markdown":"Java passes references to objects by value.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java passes references to objects by value.</p>\n"},{"comments":[{"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"score":11,"creation_date":1601402615,"post_id":40523,"comment_id":113395142,"body_markdown":"so what happens to &quot;Fifi&quot; in the 1st example? Does it cease to exist, was it never created, or does it exist in the heap but without a reference variable in the stack?","body":"so what happens to &quot;Fifi&quot; in the 1st example? Does it cease to exist, was it never created, or does it exist in the heap but without a reference variable in the stack?"},{"owner":{"account_id":1349824,"reputation":3326,"user_id":1289801,"accept_rate":30,"display_name":"TMOTTM"},"score":0,"creation_date":1602873224,"post_id":40523,"comment_id":113867725,"body_markdown":"What do you mean by the last sentence `but it is not possible to change the value of the variable aDog itself.`?","body":"What do you mean by the last sentence <code>but it is not possible to change the value of the variable aDog itself.</code>?"},{"owner":{"account_id":3312484,"reputation":2099,"user_id":3230708,"accept_rate":71,"display_name":"user36800"},"score":97,"creation_date":1603824361,"post_id":40523,"comment_id":114157678,"body_markdown":"To me, saying that an object&#39;s reference is passed by value is the same as saying that the object is passed by reference.  I&#39;m a Java novice, but I presume that (in contrast) *primitive data* is pass by value.","body":"To me, saying that an object&#39;s reference is passed by value is the same as saying that the object is passed by reference.  I&#39;m a Java novice, but I presume that (in contrast) <i>primitive data</i> is pass by value."},{"owner":{"account_id":1131127,"reputation":576,"user_id":1889373,"display_name":"user21820"},"score":23,"creation_date":1608735823,"post_id":40523,"comment_id":115670878,"body_markdown":"@user36800: You&#39;re wrong. Did you work through the example with Fifi and look carefully through the results? Check that indeed `foo(aDog);` did **not** change `aDog` despite `foo` overwriting the value of `d`, showing that indeed all inputs to a function are passed by value.","body":"@user36800: You&#39;re wrong. Did you work through the example with Fifi and look carefully through the results? Check that indeed <code>foo(aDog);</code> did <b>not</b> change <code>aDog</code> despite <code>foo</code> overwriting the value of <code>d</code>, showing that indeed all inputs to a function are passed by value."},{"owner":{"account_id":3312484,"reputation":2099,"user_id":3230708,"accept_rate":71,"display_name":"user36800"},"score":0,"creation_date":1609122550,"post_id":40523,"comment_id":115752633,"body_markdown":"@user21820: Yes, I did work through the examples and they both made sense to me.  I made two statements in my previous comment.  If you can specify which one you disagree with, I can try to better understand your last comment.  Thanks.","body":"@user21820: Yes, I did work through the examples and they both made sense to me.  I made two statements in my previous comment.  If you can specify which one you disagree with, I can try to better understand your last comment.  Thanks."},{"owner":{"account_id":1131127,"reputation":576,"user_id":1889373,"display_name":"user21820"},"score":18,"creation_date":1609134567,"post_id":40523,"comment_id":115754366,"body_markdown":"@user36800: Well, both statements are wrong. To pass an object by reference would mean that if the function modifies the variable then it modifies the object itself. That is not what happens in Java; objects cannot be passed by reference, but instead one can only pass references as inputs to a function, and when a function performs `d = new Dog(&quot;Fifi&quot;);` it overwrites the input variable `d`, which **stores** a reference but is not &#39;the object passed by reference&#39;. Contrast with `&amp;d` in the function signature in C, which would be pass-by-reference. [cont]","body":"@user36800: Well, both statements are wrong. To pass an object by reference would mean that if the function modifies the variable then it modifies the object itself. That is not what happens in Java; objects cannot be passed by reference, but instead one can only pass references as inputs to a function, and when a function performs <code>d = new Dog(&quot;Fifi&quot;);</code> it overwrites the input variable <code>d</code>, which <b>stores</b> a reference but is not &#39;the object passed by reference&#39;. Contrast with <code>&amp;d</code> in the function signature in C, which would be pass-by-reference. [cont]"},{"owner":{"account_id":1131127,"reputation":576,"user_id":1889373,"display_name":"user21820"},"score":4,"creation_date":1609134688,"post_id":40523,"comment_id":115754392,"body_markdown":"That was for your first statement. Your second statement is also wrong because *everything* is passed by value in Java. There is absolutely no difference between object references and primitive data types, except that the operations you are allowed to perform on them differ.","body":"That was for your first statement. Your second statement is also wrong because <i>everything</i> is passed by value in Java. There is absolutely no difference between object references and primitive data types, except that the operations you are allowed to perform on them differ."},{"owner":{"account_id":3312484,"reputation":2099,"user_id":3230708,"accept_rate":71,"display_name":"user36800"},"score":1,"creation_date":1609198361,"post_id":40523,"comment_id":115775676,"body_markdown":"Ah, I see.  Thanks for clarifying that.  I was just thinking in a gross manner, i.e., equating passing by reference as not creating a new object because pointers are used behinds the scenes, and the pointers are automatically dereferenced when the variable is used.  It would be so much clearer if pointers were explicitly used.  However, the maxim that all Java objects are handled by reference helps.","body":"Ah, I see.  Thanks for clarifying that.  I was just thinking in a gross manner, i.e., equating passing by reference as not creating a new object because pointers are used behinds the scenes, and the pointers are automatically dereferenced when the variable is used.  It would be so much clearer if pointers were explicitly used.  However, the maxim that all Java objects are handled by reference helps."},{"owner":{"account_id":9728154,"reputation":1506,"user_id":7214292,"display_name":"ghilesZ"},"score":67,"creation_date":1612295519,"post_id":40523,"comment_id":116721109,"body_markdown":"@dbrewster i&#39;m sorry but ... &quot;Fifi&quot; is not among us anymore","body":"@dbrewster i&#39;m sorry but ... &quot;Fifi&quot; is not among us anymore"},{"owner":{"account_id":13084532,"reputation":307,"user_id":9453953,"display_name":"redd77"},"score":2,"creation_date":1619743698,"post_id":40523,"comment_id":119004241,"body_markdown":"So what is the difference between an &quot;object reference&quot; and the &quot;value of an Object reference&quot; then .","body":"So what is the difference between an &quot;object reference&quot; and the &quot;value of an Object reference&quot; then ."},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":3,"creation_date":1623191895,"post_id":40523,"comment_id":120007731,"body_markdown":"@redd77 when you pass the &quot;value&quot; you are not passing the actual variable, only the value it contains. Meaning you&#39;re making a copy of the values and passing in the copy. An object reference (i.e. a pointer) is a variable containing the physical address of the memory which contains the object.  The values of an object reference is a copy of that address. Languages which support pass by reference allow you to pass the actual variable and not just a copy so that changing it in the function (like setting it to null) also changes it for the caller.","body":"@redd77 when you pass the &quot;value&quot; you are not passing the actual variable, only the value it contains. Meaning you&#39;re making a copy of the values and passing in the copy. An object reference (i.e. a pointer) is a variable containing the physical address of the memory which contains the object.  The values of an object reference is a copy of that address. Languages which support pass by reference allow you to pass the actual variable and not just a copy so that changing it in the function (like setting it to null) also changes it for the caller."},{"owner":{"display_name":"user4945014"},"score":0,"creation_date":1624324464,"post_id":40523,"comment_id":120321975,"body_markdown":"@redd77 Only difference is that assigning to a &quot;value of Object reference&quot; does not touch the object. In that way it&#39;s like a C/C++ pointer.","body":"@redd77 Only difference is that assigning to a &quot;value of Object reference&quot; does not touch the object. In that way it&#39;s like a C/C++ pointer."},{"owner":{"account_id":3216945,"reputation":8445,"user_id":2715384,"accept_rate":55,"display_name":"the_prole"},"score":0,"creation_date":1631312694,"post_id":40523,"comment_id":122197131,"body_markdown":"@Sanjeev that finally made sense. Pass by reference or by pointer means to pass the reference itself, and not a copy of it. Passing a reference in a pass by value only language, is not pass by reference, it is pass by value.","body":"@Sanjeev that finally made sense. Pass by reference or by pointer means to pass the reference itself, and not a copy of it. Passing a reference in a pass by value only language, is not pass by reference, it is pass by value."},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":0,"creation_date":1632240269,"post_id":40523,"comment_id":122436723,"body_markdown":"@the_prole Yes, but just to be clear, the word &quot;Reference&quot; has a different meaning than as used by Java. Therefore pass by reference does not mean pass by pointer (although under-the-hood, pointers could be used to handle PBR, but not necessarily). It just so happens that java uses the same word for pointers. Please see my post for details ==&gt;&gt;  https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value/54373107#54373107","body":"@the_prole Yes, but just to be clear, the word &quot;Reference&quot; has a different meaning than as used by Java. Therefore pass by reference does not mean pass by pointer (although under-the-hood, pointers could be used to handle PBR, but not necessarily). It just so happens that java uses the same word for pointers. Please see my post for details ==&gt;&gt;  <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value/54373107#54373107\" title=\"is java pass by reference or pass by value\">stackoverflow.com/questions/40480/&hellip;</a>"},{"owner":{"account_id":2655673,"reputation":11140,"user_id":2296441,"accept_rate":86,"display_name":"jmarkmurphy"},"score":0,"creation_date":1639767838,"post_id":40523,"comment_id":124441540,"body_markdown":"@akki2346 because when you pass an object, you are not making a copy of the whole object and passing that, you are passing the value of the reference. There can be multiple references to the same object in Java. When you pass an object to a function, one of those references to the object is on the stack.","body":"@akki2346 because when you pass an object, you are not making a copy of the whole object and passing that, you are passing the value of the reference. There can be multiple references to the same object in Java. When you pass an object to a function, one of those references to the object is on the stack."},{"owner":{"account_id":2655673,"reputation":11140,"user_id":2296441,"accept_rate":86,"display_name":"jmarkmurphy"},"score":0,"creation_date":1640036050,"post_id":40523,"comment_id":124495875,"body_markdown":"@SamGinrich I don&#39;t know why you insist on going back to C++ to understand Java. They are not the same. Ok, do this. Create for me a swap function defined like this `swap(String str1, String str2)`. It should swap the two objects str1 and str2. This will be a simple exercise if Java uses pass by reference semantics for objects.","body":"@SamGinrich I don&#39;t know why you insist on going back to C++ to understand Java. They are not the same. Ok, do this. Create for me a swap function defined like this <code>swap(String str1, String str2)</code>. It should swap the two objects str1 and str2. This will be a simple exercise if Java uses pass by reference semantics for objects."},{"owner":{"account_id":2655673,"reputation":11140,"user_id":2296441,"accept_rate":86,"display_name":"jmarkmurphy"},"score":0,"creation_date":1641996343,"post_id":40523,"comment_id":124954544,"body_markdown":"No it&#39;s not. Pass by reference/pass by value is all about what is put onto the call stack. In Java, it is the VALUE of the reference, and the receiver understands it as the VALUE of the reference to the object. If we were using pass by reference semantics, things that are represented by a reference would have the address of the reference rather than the value of the reference put on the stack. The receiver would then understand this and dereference the the parameter, and would then operate on the passed object itself, not a copy of it. Did you make that swap function yet?","body":"No it&#39;s not. Pass by reference/pass by value is all about what is put onto the call stack. In Java, it is the VALUE of the reference, and the receiver understands it as the VALUE of the reference to the object. If we were using pass by reference semantics, things that are represented by a reference would have the address of the reference rather than the value of the reference put on the stack. The receiver would then understand this and dereference the the parameter, and would then operate on the passed object itself, not a copy of it. Did you make that swap function yet?"},{"owner":{"account_id":6528960,"reputation":1668,"user_id":5050750,"display_name":"Amir"},"score":0,"creation_date":1643320698,"post_id":40523,"comment_id":125315796,"body_markdown":"So every thing in the world is passed by value. for example in C we always passed by value even if we create a function by input pointer.","body":"So every thing in the world is passed by value. for example in C we always passed by value even if we create a function by input pointer."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1645444936,"post_id":40523,"comment_id":125865393,"body_markdown":"@Amir think you are wrong on C. https://www.tutorialspoint.com/cprogramming/c_function_call_by_reference.htm","body":"@Amir think you are wrong on C. <a href=\"https://www.tutorialspoint.com/cprogramming/c_function_call_by_reference.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/cprogramming/&hellip;</a>"},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":3,"creation_date":1651113250,"post_id":40523,"comment_id":127287182,"body_markdown":"@SamGinrich, That cited page is incorrect.  And once again, the confusion is in contrasting &quot;Passing by reference&quot; with &quot;Passing _a_ reference **_by_** value&quot;.  We are going to see a few such confusions, but C similarly follows the PBV rule.  If you need _a_ pointer (reference) sent to function, you send it _by_ value.  These terms have meanings in computer science.  Colloquially we used define PBV by failing &quot;the swap(a,b) test&quot;.","body":"@SamGinrich, That cited page is incorrect.  And once again, the confusion is in contrasting &quot;Passing by reference&quot; with &quot;Passing <i>a</i> reference <b><i>by</i></b> value&quot;.  We are going to see a few such confusions, but C similarly follows the PBV rule.  If you need <i>a</i> pointer (reference) sent to function, you send it <i>by</i> value.  These terms have meanings in computer science.  Colloquially we used define PBV by failing &quot;the swap(a,b) test&quot;."},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":0,"creation_date":1651177835,"post_id":40523,"comment_id":127308761,"body_markdown":"@SamGinrich, I seem to have put you on the defensive.  This will send us down the wrong path, and I&#39;ll not discuss things with someone who assumes I need to get an overview of terms.  I&#39;ve overlooked the prior engagements of yours regarding this topic, and they seem emotionally charged.  I&#39;ll not contrast your CS degree with mine, and these principals are far from &quot;because I said so.&quot;  So I consider this over.","body":"@SamGinrich, I seem to have put you on the defensive.  This will send us down the wrong path, and I&#39;ll not discuss things with someone who assumes I need to get an overview of terms.  I&#39;ve overlooked the prior engagements of yours regarding this topic, and they seem emotionally charged.  I&#39;ll not contrast your CS degree with mine, and these principals are far from &quot;because I said so.&quot;  So I consider this over."},{"owner":{"account_id":3084562,"reputation":99,"user_id":2611999,"display_name":"azis.mrazish"},"score":0,"creation_date":1655311498,"post_id":40523,"comment_id":128304573,"body_markdown":"From this perspective pass-by-reference does never exist in universe, since reference is actually always a value of pointer","body":"From this perspective pass-by-reference does never exist in universe, since reference is actually always a value of pointer"},{"owner":{"account_id":6608852,"reputation":1803,"user_id":6458245,"accept_rate":59,"display_name":"JobHunter69"},"score":0,"creation_date":1655758280,"post_id":40523,"comment_id":128403318,"body_markdown":"So basiclly it&#39;s passed by pointer?","body":"So basiclly it&#39;s passed by pointer?"},{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":1,"creation_date":1658836951,"post_id":40523,"comment_id":129146218,"body_markdown":"@azis.mrazish _&quot;From this perspective pass-by-reference does never exist in universe&quot;_ - by &quot;pass-by-reference&quot; is meant a reference to a variable. That makes it possible for the called function to change the value of the variable that is passed. Languages like C and C++ support that concept, Java doesn&#39;t.","body":"@azis.mrazish <i>&quot;From this perspective pass-by-reference does never exist in universe&quot;</i> - by &quot;pass-by-reference&quot; is meant a reference to a variable. That makes it possible for the called function to change the value of the variable that is passed. Languages like C and C++ support that concept, Java doesn&#39;t."},{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":0,"creation_date":1658837923,"post_id":40523,"comment_id":129146599,"body_markdown":"@alife _&quot;If you need a pointer (reference) sent to function, you send it by value&quot;_ - a crucial difference between C and Java, is that in C there is a way to pass a _reference to a variable_ to a function, such that the function is able to change the content of that variable. That is impossible in Java. Claiming that both C and Java are pass-by-value, and just leave it at that, ignores that crucial difference.","body":"@alife <i>&quot;If you need a pointer (reference) sent to function, you send it by value&quot;</i> - a crucial difference between C and Java, is that in C there is a way to pass a <i>reference to a variable</i> to a function, such that the function is able to change the content of that variable. That is impossible in Java. Claiming that both C and Java are pass-by-value, and just leave it at that, ignores that crucial difference."},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":0,"creation_date":1658879074,"post_id":40523,"comment_id":129160305,"body_markdown":"@fishinear, &quot;ignore&quot;?  No.  Yes, C has a way of doing that, but it doesn&#39;t define the &quot;pass-by&quot; vs &quot;passing-a&quot; idioms.  All languages have peculiarities---it doesn&#39;t necessarily affect CS definitions.  By the way, here and there I&#39;m seeing stray assertions floating around that Java was a recent oddity. It follows the same passing regimen as smalltalk did, as smalltalk was its primary influence.","body":"@fishinear, &quot;ignore&quot;?  No.  Yes, C has a way of doing that, but it doesn&#39;t define the &quot;pass-by&quot; vs &quot;passing-a&quot; idioms.  All languages have peculiarities---it doesn&#39;t necessarily affect CS definitions.  By the way, here and there I&#39;m seeing stray assertions floating around that Java was a recent oddity. It follows the same passing regimen as smalltalk did, as smalltalk was its primary influence."},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":1,"creation_date":1658883922,"post_id":40523,"comment_id":129160952,"body_markdown":"@fishinear, I just now read your comment to someone else regarding C.  PBV is defined by what happens on assignment to the formal parameter.  If you can alter the actual parameter by doing so, then you have PBR (or a hybrid, like C++).  Being able to send the address of something to a function in C still requires that assigning to the formal parameter does nothing.  In C, you&#39;d have to _dereference_ that pointer.  It doesn&#39;t change that the pointer _itself_ is the formal parameter and gets assigned while leaving the actual alone.  Thus C is PBV only.","body":"@fishinear, I just now read your comment to someone else regarding C.  PBV is defined by what happens on assignment to the formal parameter.  If you can alter the actual parameter by doing so, then you have PBR (or a hybrid, like C++).  Being able to send the address of something to a function in C still requires that assigning to the formal parameter does nothing.  In C, you&#39;d have to <i>dereference</i> that pointer.  It doesn&#39;t change that the pointer <i>itself</i> is the formal parameter and gets assigned while leaving the actual alone.  Thus C is PBV only."},{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":0,"creation_date":1659000267,"post_id":40523,"comment_id":129193337,"body_markdown":"@alife _&quot;Thus C is PBV only&quot;_ - yes, I know that is what the definition says, and I am not claiming that it doesn&#39;t. But saying that both C and Java are PBV, without any additional explanation, obscures the important fact that is it is _possible_ to pass the address of a variable to a function in C, while that is not possible in Java. That is not just a peculiarity, but an important architectural difference between the languages that should not be neglected.","body":"@alife <i>&quot;Thus C is PBV only&quot;</i> - yes, I know that is what the definition says, and I am not claiming that it doesn&#39;t. But saying that both C and Java are PBV, without any additional explanation, obscures the important fact that is it is <i>possible</i> to pass the address of a variable to a function in C, while that is not possible in Java. That is not just a peculiarity, but an important architectural difference between the languages that should not be neglected."},{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":0,"creation_date":1659000809,"post_id":40523,"comment_id":129193550,"body_markdown":"@alife Another way to look at it, is that it is a syntactic peculiarity of C that you need to put an &#39;&amp;&#39; in front of  a variable in order to use pass-by-reference.","body":"@alife Another way to look at it, is that it is a syntactic peculiarity of C that you need to put an &#39;&amp;&#39; in front of  a variable in order to use pass-by-reference."},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":1,"creation_date":1659110661,"post_id":40523,"comment_id":129222955,"body_markdown":"@fishinear, Yes, C allows taking addresses of items and dereferencing them directly.  Yet: (pseudo-C) `actual=5; someFunction(&amp;actual);` *still* requires this conversation: 1. What is being sent?  2. An address.  3. How is it sent?  4. By value.  5. Why?  6. Because the method altering that parameter (an address, remember it&#39;s what&#39;s actually sent), does not impact the actual parameter, only the formal parameter.  That C allows `&amp;` and dereferencing-`*` is interesting, but does not impact PBV.","body":"@fishinear, Yes, C allows taking addresses of items and dereferencing them directly.  Yet: (pseudo-C) <code>actual=5; someFunction(&amp;actual);</code> <i>still</i> requires this conversation: 1. What is being sent?  2. An address.  3. How is it sent?  4. By value.  5. Why?  6. Because the method altering that parameter (an address, remember it&#39;s what&#39;s actually sent), does not impact the actual parameter, only the formal parameter.  That C allows <code>&amp;</code> and dereferencing-<code>*</code> is interesting, but does not impact PBV."},{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":0,"creation_date":1659114801,"post_id":40523,"comment_id":129224268,"body_markdown":"@alife You don&#39;t seem to understand that I agree with you regarding the definition of pass by value and the nature of C. I am just adding the information that it is possible in C to pass the address of a variable to a function, and therefore that it is possible for that function to change the value of that variable. That is a fundamental difference between C and Java, which might be missed easily if you call both PBV **and don&#39;t add that information**","body":"@alife You don&#39;t seem to understand that I agree with you regarding the definition of pass by value and the nature of C. I am just adding the information that it is possible in C to pass the address of a variable to a function, and therefore that it is possible for that function to change the value of that variable. That is a fundamental difference between C and Java, which might be missed easily if you call both PBV <b>and don&#39;t add that information</b>"},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":0,"creation_date":1659924815,"post_id":40523,"comment_id":129402889,"body_markdown":"@fishinear, I undertand what you&#39;re staying.  The only issues is that I don&#39;t see that as important information to add, nor is calling C PBV in any way &quot;obscur[ing] the important fact&quot; (your words).  We&#39;re talking about semantic (to the term) differences here, and PBV isn&#39;t in any way touched.  The entire discussion is centric to terminology.  Whatever.  I&#39;ve long since lost interest in this, be well.","body":"@fishinear, I undertand what you&#39;re staying.  The only issues is that I don&#39;t see that as important information to add, nor is calling C PBV in any way &quot;obscur[ing] the important fact&quot; (your words).  We&#39;re talking about semantic (to the term) differences here, and PBV isn&#39;t in any way touched.  The entire discussion is centric to terminology.  Whatever.  I&#39;ve long since lost interest in this, be well."},{"owner":{"account_id":7417054,"reputation":140,"user_id":5642475,"display_name":"Kamil Tomasz Jarmusik"},"score":0,"creation_date":1662404490,"post_id":40523,"comment_id":129993733,"body_markdown":"In my opinion,you are half right.Take, for example, C++ there, if you do not pass a pointer, the object and reference are copied, i.e. by value, the object inside the method loses its relationship with refrains outside of it. In Java, you actually assign a new reference resulting from the reference used in the function, but it points to the original reference, we have refFun-&gt;refOrigin-&gt;Object, if you overwrite the refFun reference, inside the function you do something like: refFun-&gt;Object2 and then you lose the relation to the original reference and therefore that method does not return fifi.","body":"In my opinion,you are half right.Take, for example, C++ there, if you do not pass a pointer, the object and reference are copied, i.e. by value, the object inside the method loses its relationship with refrains outside of it. In Java, you actually assign a new reference resulting from the reference used in the function, but it points to the original reference, we have refFun-&gt;refOrigin-&gt;Object, if you overwrite the refFun reference, inside the function you do something like: refFun-&gt;Object2 and then you lose the relation to the original reference and therefore that method does not return fifi."},{"owner":{"account_id":7417054,"reputation":140,"user_id":5642475,"display_name":"Kamil Tomasz Jarmusik"},"score":0,"creation_date":1662404572,"post_id":40523,"comment_id":129993750,"body_markdown":"The same is true when you assigned dog to oldDog, now you can assign a new object in oldDog and the association with the old object is lost, that is, it is overwritten.","body":"The same is true when you assigned dog to oldDog, now you can assign a new object in oldDog and the association with the old object is lost, that is, it is overwritten."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1663087313,"post_id":40523,"comment_id":130155061,"body_markdown":"@Kamil Tomasz Jarmusik still wondering, how passing a pointer and passing a reference really differs in the obvious use case to operate on the object, that caller and callee share. A reference alone probably does not make a use case, even as Java is supposed to be object-oriented.","body":"@Kamil Tomasz Jarmusik still wondering, how passing a pointer and passing a reference really differs in the obvious use case to operate on the object, that caller and callee share. A reference alone probably does not make a use case, even as Java is supposed to be object-oriented."},{"owner":{"account_id":90733,"reputation":13655,"user_id":249618,"accept_rate":83,"display_name":"SF."},"score":0,"creation_date":1667391351,"post_id":40523,"comment_id":131154981,"body_markdown":"I think the misunderstanding stems from C++ references being extremely thin, intangible, abstract entities, barely more substantial than preprocessor macros; just a compile-time alias of an instance, so you never actually do stuff on references, you do on object instances, under alias names. In Java references are much more substantial. They can be understood as C/C++ pointer variables, except wrapped in transparent syntactic sugar of  pointer dereferencing; `#define ref (*ptr)` .  They can be reassigned, they can be set to null. They are passed (by value) to functions in place of objects.","body":"I think the misunderstanding stems from C++ references being extremely thin, intangible, abstract entities, barely more substantial than preprocessor macros; just a compile-time alias of an instance, so you never actually do stuff on references, you do on object instances, under alias names. In Java references are much more substantial. They can be understood as C/C++ pointer variables, except wrapped in transparent syntactic sugar of  pointer dereferencing; <code>#define ref (*ptr)</code> .  They can be reassigned, they can be set to null. They are passed (by value) to functions in place of objects."},{"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"score":0,"creation_date":1671023747,"post_id":40523,"comment_id":132007198,"body_markdown":"@dbrewster &quot;Fifi&quot; will be instantiated as an object of string type. Normally, &quot;Fifi&quot; will be created only once. After that, (Java internally) the next time you &#39;create&#39; &quot;Fifi&quot; from a &#39;literal&#39;, it could find and return the cached existing object. This is possible because a String is unmodifiable. In Java terms, this is called &#39;interned&#39;. This is different from creating a new String (`new String (&quot;Fifi&quot;)`).","body":"@dbrewster &quot;Fifi&quot; will be instantiated as an object of string type. Normally, &quot;Fifi&quot; will be created only once. After that, (Java internally) the next time you &#39;create&#39; &quot;Fifi&quot; from a &#39;literal&#39;, it could find and return the cached existing object. This is possible because a String is unmodifiable. In Java terms, this is called &#39;interned&#39;. This is different from creating a new String (<code>new String (&quot;Fifi&quot;)</code>)."},{"owner":{"account_id":1698970,"reputation":2603,"user_id":1559625,"accept_rate":71,"display_name":"user1559625"},"score":0,"creation_date":1676440776,"post_id":40523,"comment_id":133135101,"body_markdown":"@ghilesZ is Fifi garbage collected right after foo() is finished? or is it become a lost handle in the system?","body":"@ghilesZ is Fifi garbage collected right after foo() is finished? or is it become a lost handle in the system?"},{"owner":{"account_id":15439845,"reputation":653,"user_id":11138778,"display_name":"palapapa"},"score":0,"creation_date":1687444042,"post_id":40523,"comment_id":134940365,"body_markdown":"@user21820 It&#39;s impossible to pass by reference in C. Did you mean C++?","body":"@user21820 It&#39;s impossible to pass by reference in C. Did you mean C++?"},{"owner":{"account_id":2016836,"reputation":155,"user_id":3521337,"display_name":"Fuad Efendi"},"score":0,"creation_date":1688313322,"post_id":40523,"comment_id":135054397,"body_markdown":"I have 21 years of experience in Java, and I was asked this question during interview. Of course I couldn&#39;t answer, because last time I was asked the same on interview was 2 years ago ;) I simply forgot. Such questions are meaningless. Of course I can explain what really happens using examples such as &quot;Fifi&quot; or &quot;Max&quot;. But... &quot;we pass address to an object in a heap&quot; and &quot;address is passed by value&quot;- isn&#39;t it &quot;pass by reference&quot;? Very fuzzy definitions, not really having any practical value. Plus, it is not part of Java Specs (address? bytecode? object handle? JIT?)","body":"I have 21 years of experience in Java, and I was asked this question during interview. Of course I couldn&#39;t answer, because last time I was asked the same on interview was 2 years ago ;) I simply forgot. Such questions are meaningless. Of course I can explain what really happens using examples such as &quot;Fifi&quot; or &quot;Max&quot;. But... &quot;we pass address to an object in a heap&quot; and &quot;address is passed by value&quot;- isn&#39;t it &quot;pass by reference&quot;? Very fuzzy definitions, not really having any practical value. Plus, it is not part of Java Specs (address? bytecode? object handle? JIT?)"},{"owner":{"account_id":4675104,"reputation":191,"user_id":3785712,"display_name":"A B"},"score":0,"creation_date":1688707217,"post_id":40523,"comment_id":135112519,"body_markdown":"If in foo(), I do not reassign the older object, instead I MODIFY the object itself. For example I call d.changeName(&quot;nameDogName&quot;), in my main() method, do I get newDogName or Max?","body":"If in foo(), I do not reassign the older object, instead I MODIFY the object itself. For example I call d.changeName(&quot;nameDogName&quot;), in my main() method, do I get newDogName or Max?"}],"tags":[],"owner":{"account_id":2953,"reputation":6756,"user_id":4192,"accept_rate":60,"display_name":"erlando"},"comment_count":41,"down_vote_count":51,"up_vote_count":7066,"is_accepted":false,"score":7015,"last_activity_date":1662367077,"creation_date":1220387137,"answer_id":40523,"question_id":40480,"body_markdown":"The terms &quot;pass-by-value&quot; and &quot;pass-by-reference&quot; have special, [precisely defined](https://en.wikipedia.org/w/index.php?title=Pass-by-value) meanings in computer science. These meanings differ from the intuition many people have when first hearing the terms. Much of the confusion in this discussion seems to come from this fact.\r\n\r\nThe terms &quot;pass-by-value&quot; and &quot;pass-by-reference&quot; are talking about _variables._ Pass-by-value means that the _value_ of a variable is passed to a function/method. Pass-by-reference means that a _reference_ to that variable is passed to the function. The latter gives the function a way to change the contents of the variable. \r\n\r\nBy those definitions, Java is always **pass-by-value**.  Unfortunately, when we deal with variables holding objects we are really dealing with object-handles called _references_ which are passed-by-value as well.  This terminology and semantics easily confuse many beginners.\r\n\r\nIt goes like this:\r\n \r\n    public static void main(String[] args) {\r\n        Dog aDog = new Dog(&quot;Max&quot;);\r\n        Dog oldDog = aDog;\r\n\r\n        // we pass the object to foo\r\n        foo(aDog);\r\n        // aDog variable is still pointing to the &quot;Max&quot; dog when foo(...) returns\r\n        aDog.getName().equals(&quot;Max&quot;); // true\r\n        aDog.getName().equals(&quot;Fifi&quot;); // false\r\n        aDog == oldDog; // true\r\n    }\r\n\r\n    public static void foo(Dog d) {\r\n        d.getName().equals(&quot;Max&quot;); // true\r\n        // change d inside of foo() to point to a new Dog instance &quot;Fifi&quot;\r\n        d = new Dog(&quot;Fifi&quot;);\r\n        d.getName().equals(&quot;Fifi&quot;); // true\r\n    }\r\n\r\nIn the example above `aDog.getName()` will still return `&quot;Max&quot;`. The value `aDog` within `main` is not changed in the function `foo` with the `Dog` `&quot;Fifi&quot;` as the object reference is passed by value. If it were passed by reference, then the `aDog.getName()` in `main` would return `&quot;Fifi&quot;` after the call to `foo`.\r\n\r\nLikewise:\r\n\r\n    public static void main(String[] args) {\r\n        Dog aDog = new Dog(&quot;Max&quot;);\r\n        Dog oldDog = aDog;\r\n\r\n        foo(aDog);\r\n        // when foo(...) returns, the name of the dog has been changed to &quot;Fifi&quot;\r\n        aDog.getName().equals(&quot;Fifi&quot;); // true\r\n        // but it is still the same dog:\r\n        aDog == oldDog; // true\r\n    }\r\n\r\n    public static void foo(Dog d) {\r\n        d.getName().equals(&quot;Max&quot;); // true\r\n        // this changes the name of d to be &quot;Fifi&quot;\r\n        d.setName(&quot;Fifi&quot;);\r\n    }\r\n\r\nIn the above example, `Fifi` is the dog&#39;s name after call to `foo(aDog)` because the object&#39;s name was set inside of `foo(...)`. Any operations that `foo` performs on `d` are such that, for all practical purposes, they are performed on `aDog`, but it is **not** possible to change the value of the variable `aDog` itself.\r\n\r\n  [1]: http://ideone.com/oUEPbg\r\n\r\nFor more information on pass by reference and pass by value, consult the following answer: https://stackoverflow.com/a/430958/6005228. This explains more thoroughly the semantics and history behind the two and also explains why Java and many other modern languages appear to do both in certain cases.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>The terms &quot;pass-by-value&quot; and &quot;pass-by-reference&quot; have special, <a href=\"https://en.wikipedia.org/w/index.php?title=Pass-by-value\" rel=\"noreferrer\">precisely defined</a> meanings in computer science. These meanings differ from the intuition many people have when first hearing the terms. Much of the confusion in this discussion seems to come from this fact.</p>\n<p>The terms &quot;pass-by-value&quot; and &quot;pass-by-reference&quot; are talking about <em>variables.</em> Pass-by-value means that the <em>value</em> of a variable is passed to a function/method. Pass-by-reference means that a <em>reference</em> to that variable is passed to the function. The latter gives the function a way to change the contents of the variable.</p>\n<p>By those definitions, Java is always <strong>pass-by-value</strong>.  Unfortunately, when we deal with variables holding objects we are really dealing with object-handles called <em>references</em> which are passed-by-value as well.  This terminology and semantics easily confuse many beginners.</p>\n<p>It goes like this:</p>\n<pre><code>public static void main(String[] args) {\n    Dog aDog = new Dog(&quot;Max&quot;);\n    Dog oldDog = aDog;\n\n    // we pass the object to foo\n    foo(aDog);\n    // aDog variable is still pointing to the &quot;Max&quot; dog when foo(...) returns\n    aDog.getName().equals(&quot;Max&quot;); // true\n    aDog.getName().equals(&quot;Fifi&quot;); // false\n    aDog == oldDog; // true\n}\n\npublic static void foo(Dog d) {\n    d.getName().equals(&quot;Max&quot;); // true\n    // change d inside of foo() to point to a new Dog instance &quot;Fifi&quot;\n    d = new Dog(&quot;Fifi&quot;);\n    d.getName().equals(&quot;Fifi&quot;); // true\n}\n</code></pre>\n<p>In the example above <code>aDog.getName()</code> will still return <code>&quot;Max&quot;</code>. The value <code>aDog</code> within <code>main</code> is not changed in the function <code>foo</code> with the <code>Dog</code> <code>&quot;Fifi&quot;</code> as the object reference is passed by value. If it were passed by reference, then the <code>aDog.getName()</code> in <code>main</code> would return <code>&quot;Fifi&quot;</code> after the call to <code>foo</code>.</p>\n<p>Likewise:</p>\n<pre><code>public static void main(String[] args) {\n    Dog aDog = new Dog(&quot;Max&quot;);\n    Dog oldDog = aDog;\n\n    foo(aDog);\n    // when foo(...) returns, the name of the dog has been changed to &quot;Fifi&quot;\n    aDog.getName().equals(&quot;Fifi&quot;); // true\n    // but it is still the same dog:\n    aDog == oldDog; // true\n}\n\npublic static void foo(Dog d) {\n    d.getName().equals(&quot;Max&quot;); // true\n    // this changes the name of d to be &quot;Fifi&quot;\n    d.setName(&quot;Fifi&quot;);\n}\n</code></pre>\n<p>In the above example, <code>Fifi</code> is the dog's name after call to <code>foo(aDog)</code> because the object's name was set inside of <code>foo(...)</code>. Any operations that <code>foo</code> performs on <code>d</code> are such that, for all practical purposes, they are performed on <code>aDog</code>, but it is <strong>not</strong> possible to change the value of the variable <code>aDog</code> itself.</p>\n<p>For more information on pass by reference and pass by value, consult the following answer: <a href=\"https://stackoverflow.com/a/430958/6005228\">https://stackoverflow.com/a/430958/6005228</a>. This explains more thoroughly the semantics and history behind the two and also explains why Java and many other modern languages appear to do both in certain cases.</p>\n"},{"comments":[{"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"score":1,"creation_date":1597742062,"post_id":40630,"comment_id":112226158,"body_markdown":"This is just wrong. What Java calls &quot;reference&quot; C++ calls &quot;pointer&quot;. What C++ calls &quot;reference&quot; does not exist in Java. C++ reference is pointer like type but with global scope. When you change a C++ reference all occurrences of that references are changed, both in called function but also in a calling function. Java can&#39;t do that. Java is strictly pass by value, and changes to java references are strictly local. Java called function can&#39;t change reference value of calling function. You can emulate C++ reference by using wrapper objects like AtomicReference.","body":"This is just wrong. What Java calls &quot;reference&quot; C++ calls &quot;pointer&quot;. What C++ calls &quot;reference&quot; does not exist in Java. C++ reference is pointer like type but with global scope. When you change a C++ reference all occurrences of that references are changed, both in called function but also in a calling function. Java can&#39;t do that. Java is strictly pass by value, and changes to java references are strictly local. Java called function can&#39;t change reference value of calling function. You can emulate C++ reference by using wrapper objects like AtomicReference."},{"owner":{"account_id":2892,"reputation":4918,"user_id":4100,"display_name":"Paul de Vrieze"},"score":2,"creation_date":1600190022,"post_id":40630,"comment_id":113007723,"body_markdown":"C++ references have nothing to do with scopes. In implementation they are like pointers that are not allowed to have null values. The main difference beyond that is that syntactically they behave as aliases of the referenced data. In Java references work almost the same way, but have special rules that allow for: comparison with null and other reference values (using the == operator). C++ is also pass by value, although that value could be a pointer/reference to the reference.","body":"C++ references have nothing to do with scopes. In implementation they are like pointers that are not allowed to have null values. The main difference beyond that is that syntactically they behave as aliases of the referenced data. In Java references work almost the same way, but have special rules that allow for: comparison with null and other reference values (using the == operator). C++ is also pass by value, although that value could be a pointer/reference to the reference."},{"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"score":0,"creation_date":1600245636,"post_id":40630,"comment_id":113023548,"body_markdown":"Changes to C++ references made by called method are also visible by calling method. That doesn&#39;t exist in Java and it is not a pointer like behaviour. In Java and C changes to pointer values are local only. I don&#39;t know how to properly call to this kind behaviour but it is somewhat similar to &quot;outer scope&quot; of some scripting languages.","body":"Changes to C++ references made by called method are also visible by calling method. That doesn&#39;t exist in Java and it is not a pointer like behaviour. In Java and C changes to pointer values are local only. I don&#39;t know how to properly call to this kind behaviour but it is somewhat similar to &quot;outer scope&quot; of some scripting languages."},{"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"score":0,"creation_date":1600245942,"post_id":40630,"comment_id":113023698,"body_markdown":"For example of proper pass-by-reference see swap program here: https://www.geeksforgeeks.org/references-in-c/ It is not possible to write swap method in Java with same side-effects. There is  &quot;quality&quot; (a behaviour of language  operators) to C++ references which does not exists in Java references or C pointers.","body":"For example of proper pass-by-reference see swap program here: <a href=\"https://www.geeksforgeeks.org/references-in-c/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/references-in-c</a> It is not possible to write swap method in Java with same side-effects. There is  &quot;quality&quot; (a behaviour of language  operators) to C++ references which does not exists in Java references or C pointers."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1645739772,"post_id":40630,"comment_id":125958351,"body_markdown":"@Paul de Vrieze &quot;are not allowed to have null values&quot; - think, in C dialects, exactly when p is a pointer, then *p is a reference; this is valid, even if p is null. Concerning assignment, references in Java behave like pointers and meet the &quot;call-by-reference&quot; semantics of C.","body":"@Paul de Vrieze &quot;are not allowed to have null values&quot; - think, in C dialects, exactly when p is a pointer, then *p is a reference; this is valid, even if p is null. Concerning assignment, references in Java behave like pointers and meet the &quot;call-by-reference&quot; semantics of C."}],"tags":[],"owner":{"account_id":2892,"reputation":4918,"user_id":4100,"display_name":"Paul de Vrieze"},"comment_count":5,"down_vote_count":12,"up_vote_count":46,"is_accepted":false,"score":34,"last_activity_date":1399196028,"creation_date":1220388839,"answer_id":40630,"question_id":40480,"body_markdown":"To make a long story short, [Java][1] objects have some very peculiar properties.\r\n\r\nIn general, Java has primitive types (`int`, `bool`, `char`, `double`, etc) that are passed directly by value. Then Java has objects (everything that derives from `java.lang.Object`). Objects are actually always handled through a reference (a reference being a pointer that you can&#39;t touch). That means that in effect, objects are passed by reference, as the references are normally not interesting. It does however mean that you cannot change which object is pointed to as the reference itself is passed by value.\r\n\r\nDoes this sound strange and confusing? Let&#39;s consider how C implements pass by reference and pass by value. In C, the default convention is pass by value. `void foo(int x)` passes an int by value. `void foo(int *x)` is a function that does not want an `int a`, but a pointer to an int: `foo(&amp;a)`. One would use this with the `&amp;` operator to pass a variable address.\r\n\r\nTake this to C++, and we have references. References are basically (in this context) syntactic sugar that hide the pointer part of the equation: `void foo(int &amp;x)` is called by `foo(a)`, where the compiler itself knows that it is a reference and the address of the non-reference `a` should be passed. In Java, all variables referring to objects are actually of reference type, in effect forcing call by reference for most intends and purposes without the fine grained control (and complexity) afforded by, for example, C++.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_%28programming_language%29\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>To make a long story short, <a href=\"http://en.wikipedia.org/wiki/Java_%28programming_language%29\" rel=\"noreferrer\">Java</a> objects have some very peculiar properties.</p>\n\n<p>In general, Java has primitive types (<code>int</code>, <code>bool</code>, <code>char</code>, <code>double</code>, etc) that are passed directly by value. Then Java has objects (everything that derives from <code>java.lang.Object</code>). Objects are actually always handled through a reference (a reference being a pointer that you can't touch). That means that in effect, objects are passed by reference, as the references are normally not interesting. It does however mean that you cannot change which object is pointed to as the reference itself is passed by value.</p>\n\n<p>Does this sound strange and confusing? Let's consider how C implements pass by reference and pass by value. In C, the default convention is pass by value. <code>void foo(int x)</code> passes an int by value. <code>void foo(int *x)</code> is a function that does not want an <code>int a</code>, but a pointer to an int: <code>foo(&amp;a)</code>. One would use this with the <code>&amp;</code> operator to pass a variable address.</p>\n\n<p>Take this to C++, and we have references. References are basically (in this context) syntactic sugar that hide the pointer part of the equation: <code>void foo(int &amp;x)</code> is called by <code>foo(a)</code>, where the compiler itself knows that it is a reference and the address of the non-reference <code>a</code> should be passed. In Java, all variables referring to objects are actually of reference type, in effect forcing call by reference for most intends and purposes without the fine grained control (and complexity) afforded by, for example, C++.</p>\n"},{"tags":[],"owner":{"account_id":237,"reputation":28496,"user_id":292,"accept_rate":68,"display_name":"shsteimer"},"comment_count":0,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1398833416,"creation_date":1220470923,"answer_id":42392,"question_id":40480,"body_markdown":"The distinction, or perhaps just the way I remember as I used to be under the same impression as the original poster is this: Java is always pass by value. All objects( in Java, anything except for primitives) in Java are references. These references are passed by value.\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>The distinction, or perhaps just the way I remember as I used to be under the same impression as the original poster is this: Java is always pass by value. All objects( in Java, anything except for primitives) in Java are references. These references are passed by value.</p>\n"},{"comments":[{"owner":{"account_id":362598,"reputation":341,"user_id":705876,"accept_rate":40,"display_name":"Priyanka"},"score":0,"creation_date":1639056270,"post_id":42455,"comment_id":124254240,"body_markdown":"Hi what is the return type of swap method.?","body":"Hi what is the return type of swap method.?"},{"owner":{"account_id":1917,"reputation":17895,"user_id":2644,"accept_rate":82,"display_name":"pek"},"score":1,"creation_date":1641599276,"post_id":42455,"comment_id":124854986,"body_markdown":"@Priyanka Ha! So many years later and you are the first to catch that! It&#39;s void.","body":"@Priyanka Ha! So many years later and you are the first to catch that! It&#39;s void."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1645092829,"post_id":42455,"comment_id":125781049,"body_markdown":"Grammar: Is &quot;pass-by-value&quot; an object of a sentence?","body":"Grammar: Is &quot;pass-by-value&quot; an object of a sentence?"}],"tags":[],"owner":{"account_id":1917,"reputation":17895,"user_id":2644,"accept_rate":82,"display_name":"pek"},"comment_count":3,"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1220472119,"creation_date":1220472119,"answer_id":42455,"question_id":40480,"body_markdown":"As many people mentioned it before, [Java is always pass-by-value][1]\r\n\r\nHere is another example that will help you understand the difference ([the classic swap example][2]):\r\n\r\n    public class Test {\r\n      public static void main(String[] args) {\r\n        Integer a = new Integer(2);\r\n        Integer b = new Integer(3);\r\n        System.out.println(&quot;Before: a = &quot; + a + &quot;, b = &quot; + b);\r\n        swap(a,b);\r\n        System.out.println(&quot;After: a = &quot; + a + &quot;, b = &quot; + b);\r\n      }\r\n    \r\n      public static swap(Integer iA, Integer iB) {\r\n        Integer tmp = iA;\r\n        iA = iB;\r\n        iB = tmp;\r\n      }\r\n    }\r\n\r\nPrints:  \r\n\r\n&gt; Before: a = 2, b = 3   \r\n&gt; After: a = 2, b = 3\r\n\r\n\r\nThis happens because iA and iB are new local reference variables that have the same value of the passed references (they point to a and b respectively). So, trying to change the references of iA or iB will only change in the local scope and not outside of this method.\r\n\r\n\r\n  [1]: http://academic.regis.edu/dbahr/GeneralPages/IntroToProgramming/JavaPassByValue.htm\r\n  [2]: http://www.javaranch.com/campfire/StoryPassBy.jsp","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>As many people mentioned it before, <a href=\"http://academic.regis.edu/dbahr/GeneralPages/IntroToProgramming/JavaPassByValue.htm\" rel=\"noreferrer\">Java is always pass-by-value</a></p>\n\n<p>Here is another example that will help you understand the difference (<a href=\"http://www.javaranch.com/campfire/StoryPassBy.jsp\" rel=\"noreferrer\">the classic swap example</a>):</p>\n\n<pre><code>public class Test {\n  public static void main(String[] args) {\n    Integer a = new Integer(2);\n    Integer b = new Integer(3);\n    System.out.println(\"Before: a = \" + a + \", b = \" + b);\n    swap(a,b);\n    System.out.println(\"After: a = \" + a + \", b = \" + b);\n  }\n\n  public static swap(Integer iA, Integer iB) {\n    Integer tmp = iA;\n    iA = iB;\n    iB = tmp;\n  }\n}\n</code></pre>\n\n<p>Prints:  </p>\n\n<blockquote>\n  <p>Before: a = 2, b = 3<br>\n  After: a = 2, b = 3</p>\n</blockquote>\n\n<p>This happens because iA and iB are new local reference variables that have the same value of the passed references (they point to a and b respectively). So, trying to change the references of iA or iB will only change in the local scope and not outside of this method.</p>\n"},{"tags":[],"owner":{"account_id":2207,"reputation":289,"user_id":3034,"accept_rate":75,"display_name":"SWD"},"comment_count":0,"down_vote_count":3,"up_vote_count":44,"is_accepted":false,"score":41,"last_activity_date":1231793263,"creation_date":1220885321,"answer_id":49857,"question_id":40480,"body_markdown":"I always think of it as &quot;pass by copy&quot;. It is a copy of the value be it primitive or reference. If it is a primitive it is a copy of the bits that are the value and if it is an Object it is a copy of the reference.\r\n\r\n    public class PassByCopy{\r\n        public static void changeName(Dog d){\r\n            d.name = &quot;Fido&quot;;\r\n        }\r\n        public static void main(String[] args){\r\n            Dog d = new Dog(&quot;Maxx&quot;);\r\n            System.out.println(&quot;name= &quot;+ d.name);\r\n            changeName(d);\r\n            System.out.println(&quot;name= &quot;+ d.name);\r\n        }\r\n    }\r\n    class Dog{\r\n        public String name;\r\n        public Dog(String s){\r\n            this.name = s;\r\n        }\r\n    }\r\n\r\noutput of java PassByCopy:\r\n\r\n&gt;name= Maxx  \r\n&gt;name= Fido\r\n\r\nPrimitive wrapper classes and Strings are immutable so any example using those types will not work the same as other types/objects.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I always think of it as \"pass by copy\". It is a copy of the value be it primitive or reference. If it is a primitive it is a copy of the bits that are the value and if it is an Object it is a copy of the reference.</p>\n\n<pre><code>public class PassByCopy{\n    public static void changeName(Dog d){\n        d.name = \"Fido\";\n    }\n    public static void main(String[] args){\n        Dog d = new Dog(\"Maxx\");\n        System.out.println(\"name= \"+ d.name);\n        changeName(d);\n        System.out.println(\"name= \"+ d.name);\n    }\n}\nclass Dog{\n    public String name;\n    public Dog(String s){\n        this.name = s;\n    }\n}\n</code></pre>\n\n<p>output of java PassByCopy:</p>\n\n<blockquote>\n  <p>name= Maxx<br>\n  name= Fido</p>\n</blockquote>\n\n<p>Primitive wrapper classes and Strings are immutable so any example using those types will not work the same as other types/objects.</p>\n"},{"tags":[],"owner":{"account_id":37,"reputation":18228,"user_id":46,"accept_rate":100,"display_name":"sven"},"comment_count":0,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1220885688,"creation_date":1220885688,"answer_id":49863,"question_id":40480,"body_markdown":"I have created a thread devoted to these kind of questions for *any* programming languages [here][1].\r\n\r\n[Java is also mentioned][2]. Here is the short summary:\r\n\r\n  -  Java passes it parameters by value\r\n  - &quot;by value&quot; is the only way in java to pass a parameter to a method\r\n  - using methods from the object given as parameter will alter the\r\n    object as the references point to\r\n    the original objects. (if that\r\n    method itself alters some values)\r\n\r\n  [1]: https://stackoverflow.com/questions/2027/pass-by-reference-or-pass-by-value\r\n  [2]: https://stackoverflow.com/questions/2027/pass-by-reference-or-pass-by-value#2028","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I have created a thread devoted to these kind of questions for <em>any</em> programming languages <a href=\"https://stackoverflow.com/questions/2027/pass-by-reference-or-pass-by-value\">here</a>.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2027/pass-by-reference-or-pass-by-value#2028\">Java is also mentioned</a>. Here is the short summary:</p>\n\n<ul>\n<li>Java passes it parameters by value</li>\n<li>\"by value\" is the only way in java to pass a parameter to a method</li>\n<li>using methods from the object given as parameter will alter the\nobject as the references point to\nthe original objects. (if that\nmethod itself alters some values)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":74766,"reputation":96,"user_id":214665,"display_name":"ebresie"},"score":0,"creation_date":1615646427,"post_id":73021,"comment_id":117758460,"body_markdown":"Minor clarification question on the above example, so when creating new Dog at BBB at address 72, does this imply upon return the created Dog at 72 and it’s value is lost and reverts back to 42?","body":"Minor clarification question on the above example, so when creating new Dog at BBB at address 72, does this imply upon return the created Dog at 72 and it’s value is lost and reverts back to 42?"},{"owner":{"account_id":10375203,"reputation":504,"user_id":7651583,"display_name":"Ravikumar Rajendran"},"score":3,"creation_date":1615828107,"post_id":73021,"comment_id":117806922,"body_markdown":"@ebresie https://javarevisited.blogspot.com/2015/09/difference-between-primitive-and-reference-variable-java.html#:~:text=There%20are%20two%20types%20of,Thread%2C%20File%2C%20and%20others.","body":"@ebresie <a href=\"https://javarevisited.blogspot.com/2015/09/difference-between-primitive-and-reference-variable-java.html#:~:text=There%20are%20two%20types%20of,Thread%2C%20File%2C%20and%20others\" rel=\"nofollow noreferrer\">javarevisited.blogspot.com/2015/09/&hellip;</a>."},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":0,"creation_date":1615920133,"post_id":73021,"comment_id":117840231,"body_markdown":"@ebresie Mostly yes (I&#39;ll clarify the &quot;mostly&quot; in a moment). The only pointer to the new dog at 74 (I assume you meant 74 rather than 72) is the parameter to the foo function. When foo returns, all of its parameters are popped off the stack, so nothing is left pointing to 72 and it can be garbage collected.\nI say &quot;mostly&quot; as there is no &quot;revert&quot; happening; the pointer myDog in the caller was pointing to 42 all along and never changed, no matter what happened in the function, hence, no &quot;revert&quot;.","body":"@ebresie Mostly yes (I&#39;ll clarify the &quot;mostly&quot; in a moment). The only pointer to the new dog at 74 (I assume you meant 74 rather than 72) is the parameter to the foo function. When foo returns, all of its parameters are popped off the stack, so nothing is left pointing to 72 and it can be garbage collected. I say &quot;mostly&quot; as there is no &quot;revert&quot; happening; the pointer myDog in the caller was pointing to 42 all along and never changed, no matter what happened in the function, hence, no &quot;revert&quot;."},{"owner":{"account_id":7092891,"reputation":161,"user_id":8311083,"display_name":"NiharGht"},"score":0,"creation_date":1623133857,"post_id":73021,"comment_id":119984877,"body_markdown":"&quot;However, you cannot change where that pointer points.&quot; -&gt; Shouldnt it be &quot;However, you cannot change where that pointer points in some other method.&quot;","body":"&quot;However, you cannot change where that pointer points.&quot; -&gt; Shouldnt it be &quot;However, you cannot change where that pointer points in some other method.&quot;"},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":1,"creation_date":1623308633,"post_id":73021,"comment_id":120043280,"body_markdown":"@NiharGht Good point - I&#39;ve clarified it (please comment again if it&#39;s still not clear)","body":"@NiharGht Good point - I&#39;ve clarified it (please comment again if it&#39;s still not clear)"},{"owner":{"account_id":3536896,"reputation":130,"user_id":2954950,"display_name":"Jonathan"},"score":2,"creation_date":1624555230,"post_id":73021,"comment_id":120397571,"body_markdown":"Java does not act exactly like C. If you pass a pointer to a function in C and modify where that pointer points to, the effect of reassigning that pointer is seen at the call sight, not just within the scope of the call. Seeking this behavior out of the languages is the purpose of the const keyword. Please stop saying java is just like C, because it&#39;s in many many fundamental ways entirely NOT c (or c++) and all you&#39;re doing is confusing people that do know C (or C++) and are trying to get a working overview of java. See: https://courses.washington.edu/css342/zander/css332/passby.html","body":"Java does not act exactly like C. If you pass a pointer to a function in C and modify where that pointer points to, the effect of reassigning that pointer is seen at the call sight, not just within the scope of the call. Seeking this behavior out of the languages is the purpose of the const keyword. Please stop saying java is just like C, because it&#39;s in many many fundamental ways entirely NOT c (or c++) and all you&#39;re doing is confusing people that do know C (or C++) and are trying to get a working overview of java. See: <a href=\"https://courses.washington.edu/css342/zander/css332/passby.html\" rel=\"nofollow noreferrer\">courses.washington.edu/css342/zander/css332/passby.html</a>"},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":13,"creation_date":1624738479,"post_id":73021,"comment_id":120441673,"body_markdown":"@Jonathan That link is C++, not C. C does not work that way. C is strictly pass by value, just like Java. If you pass a pointer to something, the _pointer_ is the value that you can follow. You cannot change the pointer but can follow it and change the value it points to. If you re-point it, the caller does not see the change.\nIn C++, you can pass a _reference_ to something (seen in that page you reference as int&amp;), which is similar to an alias; if you change it in a function/method it does actually change the object/primitive/pointer passed as an argument.","body":"@Jonathan That link is C++, not C. C does not work that way. C is strictly pass by value, just like Java. If you pass a pointer to something, the <i>pointer</i> is the value that you can follow. You cannot change the pointer but can follow it and change the value it points to. If you re-point it, the caller does not see the change. In C++, you can pass a <i>reference</i> to something (seen in that page you reference as int&amp;), which is similar to an alias; if you change it in a function/method it does actually change the object/primitive/pointer passed as an argument."},{"owner":{"account_id":3536896,"reputation":130,"user_id":2954950,"display_name":"Jonathan"},"score":0,"creation_date":1627223793,"post_id":73021,"comment_id":121093979,"body_markdown":"@ScottStanchfield Does C have pointers? Java does not! Give this to your favorite c compiler and test the output. C has reference semantics, Java does not. You can&#39;t swap values from within a function in java and have it reflected at the call site.  https://pastebin.com/U9QBFrwL","body":"@ScottStanchfield Does C have pointers? Java does not! Give this to your favorite c compiler and test the output. C has reference semantics, Java does not. You can&#39;t swap values from within a function in java and have it reflected at the call site.  <a href=\"https://pastebin.com/U9QBFrwL\" rel=\"nofollow noreferrer\">pastebin.com/U9QBFrwL</a>"},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":2,"creation_date":1627317487,"post_id":73021,"comment_id":121118617,"body_markdown":"@Jonathan That&#39;s similar to this in java: https://pastebin.com/1tZsVVRw. The * is creating a pointer to the argument (which itself could be a pointer), which is similar to creating a &quot;bucket&quot; to hold the value - Java doesn&#39;t allow the C syntax and pointers to be created to manipulate existing data, but that doesn&#39;t mean Java doesn&#39;t _have_ pointers (note that C still doesn&#39;t have reference semantics either...). Pascal, for example, uses ^ in a similar way to C&#39;s * - just because languages have different syntaxes does not mean they don&#39;t have the same concepts (such as pointers).","body":"@Jonathan That&#39;s similar to this in java: <a href=\"https://pastebin.com/1tZsVVRw\" rel=\"nofollow noreferrer\">pastebin.com/1tZsVVRw</a>. The * is creating a pointer to the argument (which itself could be a pointer), which is similar to creating a &quot;bucket&quot; to hold the value - Java doesn&#39;t allow the C syntax and pointers to be created to manipulate existing data, but that doesn&#39;t mean Java doesn&#39;t <i>have</i> pointers (note that C still doesn&#39;t have reference semantics either...). Pascal, for example, uses ^ in a similar way to C&#39;s * - just because languages have different syntaxes does not mean they don&#39;t have the same concepts (such as pointers)."},{"owner":{"account_id":3536896,"reputation":130,"user_id":2954950,"display_name":"Jonathan"},"score":0,"creation_date":1627602568,"post_id":73021,"comment_id":121206797,"body_markdown":"@ScottStanchfield C indeed has reference semantics, it&#39;s achieved using pointers, exactly like what I put in the Pastebin. So what does the address-of operator do in C? HMM? C has reference semantics. It always HAS had reference semantics. I&#39;m sure you&#39;ve got linguistics and semantics confused here. I&#39;m not talking about the grammar, it can be a *, a ^, or a type&amp;, the meaning is (mostly) all the same, the caviates being the rules of each langauges typesystem, which AGAIN, is another reason that JAVA IS NOT LIKE C","body":"@ScottStanchfield C indeed has reference semantics, it&#39;s achieved using pointers, exactly like what I put in the Pastebin. So what does the address-of operator do in C? HMM? C has reference semantics. It always HAS had reference semantics. I&#39;m sure you&#39;ve got linguistics and semantics confused here. I&#39;m not talking about the grammar, it can be a *, a ^, or a type&amp;, the meaning is (mostly) all the same, the caviates being the rules of each langauges typesystem, which AGAIN, is another reason that JAVA IS NOT LIKE C"},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":4,"creation_date":1627695440,"post_id":73021,"comment_id":121232318,"body_markdown":"@Jonathan No. C only has pass-by-value (in your example you&#39;re passing the value of a pointer - see https://stackoverflow.com/questions/2229498/passing-by-reference-in-c for a good discussion, esp the answer by Ely). Pass-by-reference has a *very* specific meaning in compiler parlance. FYI - I&#39;m a compiler guy and was on the ANSI C++ 98 committee... C++ has reference semantics; C does not. The difference is whether the actual argument can be modified. When you pass in &amp;i the actual argument value is the address of i, not a reference to i.","body":"@Jonathan No. C only has pass-by-value (in your example you&#39;re passing the value of a pointer - see <a href=\"https://stackoverflow.com/questions/2229498/passing-by-reference-in-c\" title=\"passing by reference in c\">stackoverflow.com/questions/2229498/passing-by-reference-in-&zwnj;&#8203;c</a> for a good discussion, esp the answer by Ely). Pass-by-reference has a <i>very</i> specific meaning in compiler parlance. FYI - I&#39;m a compiler guy and was on the ANSI C++ 98 committee... C++ has reference semantics; C does not. The difference is whether the actual argument can be modified. When you pass in &amp;i the actual argument value is the address of i, not a reference to i."},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":2,"creation_date":1627696208,"post_id":73021,"comment_id":121232397,"body_markdown":"@Jonathan (Submitted too early and cannot edit) Inside the method you&#39;re not changing that address; you&#39;re following that address and changing the data residing there.","body":"@Jonathan (Submitted too early and cannot edit) Inside the method you&#39;re not changing that address; you&#39;re following that address and changing the data residing there."},{"owner":{"account_id":3536896,"reputation":130,"user_id":2954950,"display_name":"Jonathan"},"score":0,"creation_date":1628435141,"post_id":73021,"comment_id":121413849,"body_markdown":"@ScottStanchfield You obviously don&#39;t understand pointers and references. The only difference between a pointer and a reference is that a pointer&#39;s type can be cast away. A reference IS a pointer with type safety. A pointer is simply a variable that holds the address of something else. Guess what a reference is? A variable that holds the address of something else. A reference isn&#39;t an instance of that something else. A reference is basically syntactic sugar for pointers with type safety. If a language has pointers, it has reference semantics.","body":"@ScottStanchfield You obviously don&#39;t understand pointers and references. The only difference between a pointer and a reference is that a pointer&#39;s type can be cast away. A reference IS a pointer with type safety. A pointer is simply a variable that holds the address of something else. Guess what a reference is? A variable that holds the address of something else. A reference isn&#39;t an instance of that something else. A reference is basically syntactic sugar for pointers with type safety. If a language has pointers, it has reference semantics."},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":2,"creation_date":1628498381,"post_id":73021,"comment_id":121427094,"body_markdown":"@Jonathan You&#39;re confusing &#39;reference&#39; as a type with &#39;pass-by-reference&#39;. There&#39;s a huge difference between &quot;pass by a value by reference&quot; (reference semantics) and &quot;pass a pointer/reference by value&quot; (value semantics). It&#39;s all about how you define the FORMAL parameters of a function/method, not the ACTUAL parameters. If the language gives you syntax to automatically de-reference values in the FORMAL parameters (the function/method signature), it has reference semantics. Creating a pointer to something in the ACTUAL arguments (the call site) is still only passing a value.","body":"@Jonathan You&#39;re confusing &#39;reference&#39; as a type with &#39;pass-by-reference&#39;. There&#39;s a huge difference between &quot;pass by a value by reference&quot; (reference semantics) and &quot;pass a pointer/reference by value&quot; (value semantics). It&#39;s all about how you define the FORMAL parameters of a function/method, not the ACTUAL parameters. If the language gives you syntax to automatically de-reference values in the FORMAL parameters (the function/method signature), it has reference semantics. Creating a pointer to something in the ACTUAL arguments (the call site) is still only passing a value."},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":1,"creation_date":1628498692,"post_id":73021,"comment_id":121427203,"body_markdown":"@Jonathan C and Java are strictly pass-by-value. You can SIMULATE pass-by-reference in them by doing something both inside the function/method AND at the call site (for example, in C, using &amp; at the call site and * inside the function/method, or in Java, wrapping the value at the call site and working inside the wrapper inside the function/method), but that&#39;s still pass-by-value. Pass-by-reference is a specific compiler term for logically aliasing a variable passed into a function by ONLY specifying this behavior in the FORMAL parameters, not at the call site.","body":"@Jonathan C and Java are strictly pass-by-value. You can SIMULATE pass-by-reference in them by doing something both inside the function/method AND at the call site (for example, in C, using &amp; at the call site and * inside the function/method, or in Java, wrapping the value at the call site and working inside the wrapper inside the function/method), but that&#39;s still pass-by-value. Pass-by-reference is a specific compiler term for logically aliasing a variable passed into a function by ONLY specifying this behavior in the FORMAL parameters, not at the call site."},{"owner":{"account_id":160500,"reputation":16559,"user_id":380607,"accept_rate":70,"display_name":"Magne"},"score":0,"creation_date":1630495504,"post_id":73021,"comment_id":121970059,"body_markdown":"Maybe &quot;pass-by-sharing&quot; is even more precise and disambiguated? https://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_sharing Since it incorporates the reason why people resort to calling it &quot;pass-by-reference&quot; in the first place: the danger that functions are able to mutate objects passed in. They don&#39;t want to say &quot;pass-by-value&quot; as it implies copying and thus safety from mutating what&#39;s passed in.","body":"Maybe &quot;pass-by-sharing&quot; is even more precise and disambiguated? <a href=\"https://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_sharing\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Evaluation_strategy#Call_by_sharing</a> Since it incorporates the reason why people resort to calling it &quot;pass-by-reference&quot; in the first place: the danger that functions are able to mutate objects passed in. They don&#39;t want to say &quot;pass-by-value&quot; as it implies copying and thus safety from mutating what&#39;s passed in."},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":1,"creation_date":1630585636,"post_id":73021,"comment_id":122000735,"body_markdown":"@Magne I&#39;ve never understood why Liskov felt it necessary to coin &quot;call by sharing&quot;; it&#39;s just passing the address/reference by value and following it in the function, and causes confusion. Some people didn&#39;t want to use the perfectly-correct word &quot;pointer&quot; (even though they used it in &quot;NullPointerException&quot; in Java...) There&#39;s nothing about the definition of &quot;pointer&quot; that says it must be implemented directly as a memory address (though it&#39;s easiest to think of it that way) - it&#39;s just indirect access to data. You don&#39;t pass the _object_ in Java; you pass a _pointer_ to an object.","body":"@Magne I&#39;ve never understood why Liskov felt it necessary to coin &quot;call by sharing&quot;; it&#39;s just passing the address/reference by value and following it in the function, and causes confusion. Some people didn&#39;t want to use the perfectly-correct word &quot;pointer&quot; (even though they used it in &quot;NullPointerException&quot; in Java...) There&#39;s nothing about the definition of &quot;pointer&quot; that says it must be implemented directly as a memory address (though it&#39;s easiest to think of it that way) - it&#39;s just indirect access to data. You don&#39;t pass the <i>object</i> in Java; you pass a <i>pointer</i> to an object."},{"owner":{"account_id":160500,"reputation":16559,"user_id":380607,"accept_rate":70,"display_name":"Magne"},"score":0,"creation_date":1630590958,"post_id":73021,"comment_id":122003418,"body_markdown":"I think it is because people are not &quot;pointer-oriented&quot;, but &quot;value/object-oriented&quot;. The pointer is invisible to them. As you said _&quot;The mistake they make is in the definition of `Dog d;` itself. When you write that definition, you are defining a pointer to a Dog object, not a Dog object itself.&quot;_. Maybe because many languages make it invisible (like Java here), but it&#39;s common to humans to &quot;mistake the map for the territory&quot; in real life as well; in effect treating the symbol as the referent). &quot;Call by sharing&quot; takes this cognitive artifact into account, so the intention is clearer, to most.","body":"I think it is because people are not &quot;pointer-oriented&quot;, but &quot;value/object-oriented&quot;. The pointer is invisible to them. As you said <i>&quot;The mistake they make is in the definition of <code>Dog d;</code> itself. When you write that definition, you are defining a pointer to a Dog object, not a Dog object itself.&quot;</i>. Maybe because many languages make it invisible (like Java here), but it&#39;s common to humans to &quot;mistake the map for the territory&quot; in real life as well; in effect treating the symbol as the referent). &quot;Call by sharing&quot; takes this cognitive artifact into account, so the intention is clearer, to most."},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":1,"creation_date":1630765833,"post_id":73021,"comment_id":122048090,"body_markdown":"@Magne Pointers are a key concept in programming; trying to word one&#39;s way around them is a sure way to cause more confusion, not less.","body":"@Magne Pointers are a key concept in programming; trying to word one&#39;s way around them is a sure way to cause more confusion, not less."},{"owner":{"account_id":160500,"reputation":16559,"user_id":380607,"accept_rate":70,"display_name":"Magne"},"score":0,"creation_date":1630790384,"post_id":73021,"comment_id":122053412,"body_markdown":"I can see how that might be the case, when coming to Java from a lower level language where you do have to deal with pointers. But coming from a higher level language, or from no previous language, it’s the other way around. Esp. if working in a language where you don’t directly deal with pointers.","body":"I can see how that might be the case, when coming to Java from a lower level language where you do have to deal with pointers. But coming from a higher level language, or from no previous language, it’s the other way around. Esp. if working in a language where you don’t directly deal with pointers."},{"owner":{"account_id":2027183,"reputation":423,"user_id":1811855,"accept_rate":0,"display_name":"Dale Stanbrough"},"score":0,"creation_date":1632715777,"post_id":73021,"comment_id":122558397,"body_markdown":"&quot;In C++, Ada, Pascal and other languages that support pass-by-reference, you can actually change the variable that was passed.&quot;\n\nAda doesn&#39;t really depend on the actual passing mechanism (for most things) as it has parameter passing modes which have specific semantics. The modes are &quot;in&quot; (read only), &quot;in out&quot; (initial value passed in, modifiable) and &quot;out&quot; (initial value not necessarily passed in, can be updated).\n\nFor scalars the mechanism for &quot;in out&quot; is copy in/copy out which is much more cache friendly than C&#39;s pass by reference.","body":"&quot;In C++, Ada, Pascal and other languages that support pass-by-reference, you can actually change the variable that was passed.&quot;  Ada doesn&#39;t really depend on the actual passing mechanism (for most things) as it has parameter passing modes which have specific semantics. The modes are &quot;in&quot; (read only), &quot;in out&quot; (initial value passed in, modifiable) and &quot;out&quot; (initial value not necessarily passed in, can be updated).  For scalars the mechanism for &quot;in out&quot; is copy in/copy out which is much more cache friendly than C&#39;s pass by reference."},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":0,"creation_date":1632937695,"post_id":73021,"comment_id":122631132,"body_markdown":"@DaleStanbrough Didn&#39;t know about the cache-friendliness there for scalars; cool. \nNot sure what you mean by &quot;Ada doesn&#39;t really depend on the actual passing mechanism (for most things) as it has parameter passing modes which have specific semantics.&quot; I was thinking about &quot;in&quot;/&quot;out&quot;/&quot;in out&quot; when I mentioned Ada (with &quot;out&quot; specifying update of a passed variable). Been a while since I&#39;ve programmed in Ada, though, so I may be fuzzy on some of the ways terminology is used by the language nowadays","body":"@DaleStanbrough Didn&#39;t know about the cache-friendliness there for scalars; cool.  Not sure what you mean by &quot;Ada doesn&#39;t really depend on the actual passing mechanism (for most things) as it has parameter passing modes which have specific semantics.&quot; I was thinking about &quot;in&quot;/&quot;out&quot;/&quot;in out&quot; when I mentioned Ada (with &quot;out&quot; specifying update of a passed variable). Been a while since I&#39;ve programmed in Ada, though, so I may be fuzzy on some of the ways terminology is used by the language nowadays"},{"owner":{"account_id":2027183,"reputation":423,"user_id":1811855,"accept_rate":0,"display_name":"Dale Stanbrough"},"score":0,"creation_date":1633178601,"post_id":73021,"comment_id":122694213,"body_markdown":"&quot;It doesn&#39;t depend&quot; mainly meant that when designing in Ada you think about the modes (information direction flow) rather than the mechanism - which is such a great way to design subprograms. Ada takes care of the rest.","body":"&quot;It doesn&#39;t depend&quot; mainly meant that when designing in Ada you think about the modes (information direction flow) rather than the mechanism - which is such a great way to design subprograms. Ada takes care of the rest."},{"owner":{"account_id":6528960,"reputation":1668,"user_id":5050750,"display_name":"Amir"},"score":0,"creation_date":1643321189,"post_id":73021,"comment_id":125315954,"body_markdown":"i say it is wrong. in C void func(int *i); is a call by reference function. call by value means you can not change the value of original input. it this case you can implement func some thing like void func(int *i){int j = 5; i = &amp;j;}. so if you say java is call by value you have to say every thing is call by value. cuz always new value copied to stack.","body":"i say it is wrong. in C void func(int *i); is a call by reference function. call by value means you can not change the value of original input. it this case you can implement func some thing like void func(int *i){int j = 5; i = &amp;j;}. so if you say java is call by value you have to say every thing is call by value. cuz always new value copied to stack."},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":0,"creation_date":1643467091,"post_id":73021,"comment_id":125349760,"body_markdown":"@Amir Writing func(int *i) means you&#39;re passing a pointer value as the parameter (and would have to call it with func(&amp;x). Note that the caller needs to do something special. That&#39;s still pass-by-value. Pass-by reference allows the function to state it can change the parameter value without the caller doing anything extra. C++ allows func(int &amp;i) and you can call it directly with an int x variable like func(x).\nPass-by-reference is a special construct in the language, and can be simulated in some value-only languages, but it&#39;s not true pass-by-reference. (You can&#39;t do either of these in Java)","body":"@Amir Writing func(int *i) means you&#39;re passing a pointer value as the parameter (and would have to call it with func(&amp;x). Note that the caller needs to do something special. That&#39;s still pass-by-value. Pass-by reference allows the function to state it can change the parameter value without the caller doing anything extra. C++ allows func(int &amp;i) and you can call it directly with an int x variable like func(x). Pass-by-reference is a special construct in the language, and can be simulated in some value-only languages, but it&#39;s not true pass-by-reference. (You can&#39;t do either of these in Java)"},{"owner":{"account_id":6528960,"reputation":1668,"user_id":5050750,"display_name":"Amir"},"score":0,"creation_date":1643472897,"post_id":73021,"comment_id":125351228,"body_markdown":"but https://www.tutorialspoint.com/cprogramming/c_function_call_by_reference.htm said it is call by reference. it is better clearly define what is call by reference and what is call by value. So it seems C and Assembly don&#39;t have call by reference.","body":"but <a href=\"https://www.tutorialspoint.com/cprogramming/c_function_call_by_reference.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/cprogramming/&hellip;</a> said it is call by reference. it is better clearly define what is call by reference and what is call by value. So it seems C and Assembly don&#39;t have call by reference."},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":2,"creation_date":1643496664,"post_id":73021,"comment_id":125356794,"body_markdown":"@Amir They&#39;re incorrect. C only supports value parameters. See https://stackoverflow.com/questions/2229498/passing-by-reference-in-c for some good explanations, particularly the comment about &quot;Illusion of pass-by-reference&quot;.","body":"@Amir They&#39;re incorrect. C only supports value parameters. See <a href=\"https://stackoverflow.com/questions/2229498/passing-by-reference-in-c\" title=\"passing by reference in c\">stackoverflow.com/questions/2229498/passing-by-reference-in-&zwnj;&#8203;c</a> for some good explanations, particularly the comment about &quot;Illusion of pass-by-reference&quot;."},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":0,"creation_date":1643496921,"post_id":73021,"comment_id":125356836,"body_markdown":"@Amir The difference is that &quot;pass by value&quot; is just passing the result of the evaluated expression used as an argument in the function call. &quot;Pass by reference&quot; can be thought of the parameter being an alias for the variable passed in as an argument.","body":"@Amir The difference is that &quot;pass by value&quot; is just passing the result of the evaluated expression used as an argument in the function call. &quot;Pass by reference&quot; can be thought of the parameter being an alias for the variable passed in as an argument."},{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":0,"creation_date":1660048408,"post_id":73021,"comment_id":129436159,"body_markdown":"@ScottStanchfield The statement that &quot;Java works exactly like C&quot; is incorrect. The semantic difference between PBV and PBR is, that in the latter it is possible for the callee to change the value of the variable in the caller. In C, although the parameter passing is PBV, it IS possible to achieve PBR semantics by passing the address of the variable instead. That is not possible to achieve at all in Java. Therefore Java and C don&#39;t work exactly the same, and users need to be aware of that.","body":"@ScottStanchfield The statement that &quot;Java works exactly like C&quot; is incorrect. The semantic difference between PBV and PBR is, that in the latter it is possible for the callee to change the value of the variable in the caller. In C, although the parameter passing is PBV, it IS possible to achieve PBR semantics by passing the address of the variable instead. That is not possible to achieve at all in Java. Therefore Java and C don&#39;t work exactly the same, and users need to be aware of that."},{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":0,"creation_date":1660048482,"post_id":73021,"comment_id":129436187,"body_markdown":"@ScottStanchfield _&quot; &quot;Pass by reference&quot; can be thought of the parameter being an alias for the variable passed in as an argument&quot;_ - ...or can be thought of the parameter being a pointer to the variable, which is passed as argument.","body":"@ScottStanchfield <i>&quot; &quot;Pass by reference&quot; can be thought of the parameter being an alias for the variable passed in as an argument&quot;</i> - ...or can be thought of the parameter being a pointer to the variable, which is passed as argument."},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":1,"creation_date":1660148046,"post_id":73021,"comment_id":129466120,"body_markdown":"@fishinear Passing a pointer is passing a value. Java and C both use pass-by-value semantics. That&#39;s what this discussion is about. Passing a pointer to _simulate_ pass-by-reference is *not* pass by reference.","body":"@fishinear Passing a pointer is passing a value. Java and C both use pass-by-value semantics. That&#39;s what this discussion is about. Passing a pointer to <i>simulate</i> pass-by-reference is <i>not</i> pass by reference."},{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":0,"creation_date":1660152465,"post_id":73021,"comment_id":129467609,"body_markdown":"_&quot;Passing a pointer to simulate pass-by-reference is not pass by reference&quot;_ - and that &quot;simulation&quot; is possible to do in C and not in Java. That makes C and Java different. They don&#39;t work exactly the same. You can stick to a very strict definition of pass by value and be stubborn about it, or you can explain this crucial difference between C and Java for what it is: a way for the programmer to pass a pointer to variable to a function.\nThat is, a way for the programmer to achieve the effects of pass-by-reference.","body":"<i>&quot;Passing a pointer to simulate pass-by-reference is not pass by reference&quot;</i> - and that &quot;simulation&quot; is possible to do in C and not in Java. That makes C and Java different. They don&#39;t work exactly the same. You can stick to a very strict definition of pass by value and be stubborn about it, or you can explain this crucial difference between C and Java for what it is: a way for the programmer to pass a pointer to variable to a function. That is, a way for the programmer to achieve the effects of pass-by-reference."},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":0,"creation_date":1660160006,"post_id":73021,"comment_id":129469961,"body_markdown":"@fishnear Creating a pointer to a variable and then passing that pointer is *not* the same as pass-by-reference semantics. The difference is that the function *definition* declares the reference semantics (such as using &amp; in C++), vs the caller doing something. PBR and PBV are all about the function definition. This is not being stubborn; it&#39;s using the terms of language definition correctly, and has a very different effect. When you use pass-by-reference semantics, *all* calls to the function pass by reference; caller has no choice. Passing a pointer to a variable, the caller has a choice.","body":"@fishnear Creating a pointer to a variable and then passing that pointer is <i>not</i> the same as pass-by-reference semantics. The difference is that the function <i>definition</i> declares the reference semantics (such as using &amp; in C++), vs the caller doing something. PBR and PBV are all about the function definition. This is not being stubborn; it&#39;s using the terms of language definition correctly, and has a very different effect. When you use pass-by-reference semantics, <i>all</i> calls to the function pass by reference; caller has no choice. Passing a pointer to a variable, the caller has a choice."},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":0,"creation_date":1660160211,"post_id":73021,"comment_id":129470029,"body_markdown":"@fishnear (continuing) And even with that choice (in C), it&#39;s still not passing by reference. C just happens to allow you to create a pointer to a variable. You&#39;re still passing the value of that pointer and following it. In Java, I could wrap a value in an array before passing the array into a function that modifies that slot in the array. That&#39;s not reference semantics either.","body":"@fishnear (continuing) And even with that choice (in C), it&#39;s still not passing by reference. C just happens to allow you to create a pointer to a variable. You&#39;re still passing the value of that pointer and following it. In Java, I could wrap a value in an array before passing the array into a function that modifies that slot in the array. That&#39;s not reference semantics either."},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":0,"creation_date":1660160364,"post_id":73021,"comment_id":129470072,"body_markdown":"@fishnear My statement about &quot;Java works exactly like C&quot; is clearly in the context of pass-by-value, and is correct. Both are pass-by-value. Setting up a function pointer is outside the scope of the actual parameter passing. This is why I reverted your edit.","body":"@fishnear My statement about &quot;Java works exactly like C&quot; is clearly in the context of pass-by-value, and is correct. Both are pass-by-value. Setting up a function pointer is outside the scope of the actual parameter passing. This is why I reverted your edit."},{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":0,"creation_date":1660303756,"post_id":73021,"comment_id":129506873,"body_markdown":"_&quot;Creating a pointer to a variable and then passing that pointer is not the same as pass-by-reference semantics&quot;_ - I did not say that. I said: &quot;a way for the programmer to achieve the effects of pass-by-reference&quot;.\nI have no problem with your definition of pass-by-value. The problem is that you ignore the fact that it IS possible in C for a function to change the value of a local variable in the caller. You statement that &quot;Java works exactly like C&quot; is clearly in the context of parameter-passing semantics. In that context, there is a crucial difference between Java and C.","body":"<i>&quot;Creating a pointer to a variable and then passing that pointer is not the same as pass-by-reference semantics&quot;</i> - I did not say that. I said: &quot;a way for the programmer to achieve the effects of pass-by-reference&quot;. I have no problem with your definition of pass-by-value. The problem is that you ignore the fact that it IS possible in C for a function to change the value of a local variable in the caller. You statement that &quot;Java works exactly like C&quot; is clearly in the context of parameter-passing semantics. In that context, there is a crucial difference between Java and C."},{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":0,"creation_date":1660304162,"post_id":73021,"comment_id":129507011,"body_markdown":"_&quot;In Java, I could wrap a value in an array before passing the array into a function that modifies that slot in the array&quot;_ - you cannot wrap a *variable* in an array in Java, only values. In Java, you have the guarantee that calling a function will never change the value of a variable in the caller. That is not the case in C, making them different.","body":"<i>&quot;In Java, I could wrap a value in an array before passing the array into a function that modifies that slot in the array&quot;</i> - you cannot wrap a <i>variable</i> in an array in Java, only values. In Java, you have the guarantee that calling a function will never change the value of a variable in the caller. That is not the case in C, making them different."},{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":0,"creation_date":1660304662,"post_id":73021,"comment_id":129507192,"body_markdown":"@ScottStanchfield This has consequences for what can be done in the language. A `swap` function, which exchanges the values of two variables, is not possible in Java. The common idiom in C of handling error codes by passing a pointer to an error variable as an argument to a function, is not possible in Java either.\nThose differences are important to know about when talking about pass-by-value or pass-by-reference semantics.","body":"@ScottStanchfield This has consequences for what can be done in the language. A <code>swap</code> function, which exchanges the values of two variables, is not possible in Java. The common idiom in C of handling error codes by passing a pointer to an error variable as an argument to a function, is not possible in Java either. Those differences are important to know about when talking about pass-by-value or pass-by-reference semantics."},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":0,"creation_date":1660326327,"post_id":73021,"comment_id":129514894,"body_markdown":"@fishinear I&#39;ve updated the article with more detail to bring in your concerns.  It&#39;s good to clarify (as I&#39;m sure others have thought about the C syntax as well).","body":"@fishinear I&#39;ve updated the article with more detail to bring in your concerns.  It&#39;s good to clarify (as I&#39;m sure others have thought about the C syntax as well)."},{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":0,"creation_date":1660479458,"post_id":73021,"comment_id":129538312,"body_markdown":"@ScottStanchfield At least it&#39;s an improvement to include the mechanism in C to pass a pointer to a variable to a function. The comparison with arrays in Java is of course very silly, because arrays are treated the same as objects in Java: the variable holds a pointer to the array, not the array itself. That pointer is passed-by-value to the function. The function changes the value that the pointer points to, not the variable itself. If you call arrays a simulation of pass-by-reference, then you have to call *all* objects in Java pass-by-reference.","body":"@ScottStanchfield At least it&#39;s an improvement to include the mechanism in C to pass a pointer to a variable to a function. The comparison with arrays in Java is of course very silly, because arrays are treated the same as objects in Java: the variable holds a pointer to the array, not the array itself. That pointer is passed-by-value to the function. The function changes the value that the pointer points to, not the variable itself. If you call arrays a simulation of pass-by-reference, then you have to call <i>all</i> objects in Java pass-by-reference."},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":0,"creation_date":1660569635,"post_id":73021,"comment_id":129556659,"body_markdown":"That&#39;s the same thing... In C, you&#39;re passing a pointer and following it to change the data. It&#39;s just stored differently on the caller-side.\nIn the end, it&#39;s my answer and I&#39;m sticking with it. Please do not edit it to change its meaning again.","body":"That&#39;s the same thing... In C, you&#39;re passing a pointer and following it to change the data. It&#39;s just stored differently on the caller-side. In the end, it&#39;s my answer and I&#39;m sticking with it. Please do not edit it to change its meaning again."},{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":0,"creation_date":1660665919,"post_id":73021,"comment_id":129583715,"body_markdown":"@ScottStanchfield _&quot;In C, you&#39;re passing a pointer&quot;_ - in C, you can pass a pointer to the **variable**. In Java, you are always passing a pointer to the **value**. I am sorry to see that you don&#39;t understand the semantic difference between the two.","body":"@ScottStanchfield <i>&quot;In C, you&#39;re passing a pointer&quot;</i> - in C, you can pass a pointer to the <b>variable</b>. In Java, you are always passing a pointer to the <b>value</b>. I am sorry to see that you don&#39;t understand the semantic difference between the two."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1683740567,"post_id":73021,"comment_id":134414646,"body_markdown":"Essentially, Java passes the references by value.","body":"Essentially, Java passes the references by value."},{"owner":{"account_id":2016836,"reputation":155,"user_id":3521337,"display_name":"Fuad Efendi"},"score":0,"creation_date":1688313833,"post_id":73021,"comment_id":135054474,"body_markdown":"Before discussing, please provide *definition* of &quot;pass by reference&quot;. Because, passing address of an object to the method... looks intuitively as passing reference.\nAnd here is the difference, taken from C: &quot;pointers&quot; vs. &quot;addresses&quot;.\nIn Java, we pass address (instead of address of another address).\n\nSo, definition of &quot;pass by reference&quot;: we are passing address of reference? So confusing and absolutely not practical.","body":"Before discussing, please provide <i>definition</i> of &quot;pass by reference&quot;. Because, passing address of an object to the method... looks intuitively as passing reference. And here is the difference, taken from C: &quot;pointers&quot; vs. &quot;addresses&quot;. In Java, we pass address (instead of address of another address).  So, definition of &quot;pass by reference&quot;: we are passing address of reference? So confusing and absolutely not practical."},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":0,"creation_date":1688442081,"post_id":73021,"comment_id":135071165,"body_markdown":"Pass-by-reference means that the method/function gets passed an alias to the actual parameter and can directly modify that parameter using that alias. When a variable is passed to parameter &quot;foo&quot;, if the method sets foo, it&#39;s actually setting the variable passed in. This is different from passing an address, as the function would need to follow that address to set the value. Passing an address by-value is not the same as passing a value by-reference. Pass-by-reference has a very specific meaning in compiler parlance and is not subject to intuition.","body":"Pass-by-reference means that the method/function gets passed an alias to the actual parameter and can directly modify that parameter using that alias. When a variable is passed to parameter &quot;foo&quot;, if the method sets foo, it&#39;s actually setting the variable passed in. This is different from passing an address, as the function would need to follow that address to set the value. Passing an address by-value is not the same as passing a value by-reference. Pass-by-reference has a very specific meaning in compiler parlance and is not subject to intuition."}],"tags":[],"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"comment_count":45,"down_vote_count":16,"up_vote_count":3591,"is_accepted":false,"score":3575,"last_activity_date":1660326149,"creation_date":1221575820,"answer_id":73021,"question_id":40480,"body_markdown":"I just noticed you referenced [my article][1].\r\n\r\nThe Java Spec says that everything in Java is pass-by-value. There is no such thing as &quot;pass-by-reference&quot; in Java.\r\n\r\nThe key to understanding this is that something like\r\n\r\n    Dog myDog;\r\n\r\nis _not_ a Dog; it&#39;s actually a _pointer_ to a Dog. The use of the term &quot;reference&quot; in Java is very misleading and is what causes most of the confusion here. What they call &quot;references&quot; act/feel more like what we&#39;d call &quot;pointers&quot; in most other languages.\r\n\r\nWhat that means, is when you have\r\n\r\n    Dog myDog = new Dog(&quot;Rover&quot;);\r\n    foo(myDog);\r\n\r\nyou&#39;re essentially passing the _address_ of the created `Dog` object to the `foo` method.\r\n\r\n(I say essentially because Java pointers/references aren&#39;t direct addresses, but it&#39;s easiest to think of them that way.)\r\n\r\nSuppose the `Dog` object resides at memory address 42. This means we pass 42 to the method.\r\n\r\nif the Method were defined as\r\n\r\n    public void foo(Dog someDog) {\r\n        someDog.setName(&quot;Max&quot;);     // AAA\r\n        someDog = new Dog(&quot;Fifi&quot;);  // BBB\r\n        someDog.setName(&quot;Rowlf&quot;);   // CCC\r\n    }\r\n\r\nlet&#39;s look at what&#39;s happening.\r\n\r\n   * the parameter `someDog` is set to the value 42\r\n   * at line &quot;AAA&quot;\r\n      * `someDog` is followed to the `Dog` it points to (the `Dog` object at address 42)\r\n      * that `Dog` (the one at address 42) is asked to change his name to Max\r\n   * at line &quot;BBB&quot;\r\n      * a new `Dog` is created. Let&#39;s say he&#39;s at address 74\r\n      * we assign the parameter `someDog` to 74 \r\n   * at line &quot;CCC&quot;\r\n      * someDog is followed to the `Dog` it points to (the `Dog` object at address 74)\r\n      * that `Dog` (the one at address 74) is asked to change his name to Rowlf\r\n   * then, we return\r\n\r\nNow let&#39;s think about what happens outside the method:\r\n\r\n*Did `myDog` change?*\r\n\r\nThere&#39;s the key.\r\n\r\nKeeping in mind that `myDog` is a *pointer*, and not an actual `Dog`, the answer is NO. `myDog` still has the value 42; it&#39;s still pointing to the original `Dog` (but note that because of line &quot;AAA&quot;, its name is now &quot;Max&quot; - still the same Dog; `myDog`&#39;s value has not changed.)\r\n\r\nIt&#39;s perfectly valid to *follow* an address and change what&#39;s at the end of it; that does not change the variable, however.\r\n\r\n\r\nJava works exactly like C. You can assign a pointer, pass the pointer to a method, follow the pointer in the method and change the data that was pointed to. However, the caller will not see any changes you make to where that pointer points. (In a language with pass-by-reference semantics, the method function _can_ change the pointer and the caller will see that change.)\r\n\r\nIn C++, Ada, Pascal and other languages that support pass-by-reference, you can actually change the variable that was passed.\r\n\r\nIf Java had pass-by-reference semantics, the `foo` method we defined above would have changed where `myDog` was pointing when it assigned `someDog` on line BBB.\r\n\r\nThink of reference parameters as being aliases for the variable passed in. When that alias is assigned, so is the variable that was passed in.\r\n\r\n## Update\r\nA discussion in the comments warrants some clarification...\r\n\r\nIn C, you can write\r\n\r\n```c\r\nvoid swap(int *x, int *y) {\r\n    int t = *x;\r\n    *x = *y;\r\n    *y = t;\r\n}\r\n\r\nint x = 1;\r\nint y = 2;\r\nswap(&amp;x, &amp;y);\r\n```\r\n\r\nThis is not a special case in C. Both languages use pass-by-value semantics. Here the call site is creating additional data structure to assist the function to access and manipulate data. \r\n\r\nThe function is being passed pointers to data, and follows those pointers to access and modify that data.\r\n\r\nA similar approach in Java, where the caller sets up assisting structure, might be:\r\n\r\n```java\r\nvoid swap(int[] x, int[] y) {\r\n    int temp = x[0];\r\n    x[0] = y[0];\r\n    y[0] = temp;\r\n}\r\n\r\nint[] x = {1};\r\nint[] y = {2};\r\nswap(x, y);\r\n```\r\n\r\n(or if you wanted both examples to demonstrate features the other language doesn&#39;t have, create a mutable IntWrapper class to use in place of the arrays)\r\n\r\nIn these cases, both C and Java are *simulating* pass-by-reference. They&#39;re still both passing values (pointers to ints or arrays), and following those pointers inside the called function to manipulate the data.\r\n\r\nPass-by-reference is all about the function *declaration/definition*, and how it handles its parameters. Reference semantics apply to *every* call to that function, and the call site only needs to pass variables, no additional data structure.\r\n\r\nThese simulations require the call site and the function to cooperate. No doubt it&#39;s useful, but it&#39;s still pass-by-value.\r\n\r\n  [1]: http://javadude.com/articles/passbyvalue.htm","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I just noticed you referenced <a href=\"http://javadude.com/articles/passbyvalue.htm\" rel=\"noreferrer\">my article</a>.</p>\n<p>The Java Spec says that everything in Java is pass-by-value. There is no such thing as &quot;pass-by-reference&quot; in Java.</p>\n<p>The key to understanding this is that something like</p>\n<pre><code>Dog myDog;\n</code></pre>\n<p>is <em>not</em> a Dog; it's actually a <em>pointer</em> to a Dog. The use of the term &quot;reference&quot; in Java is very misleading and is what causes most of the confusion here. What they call &quot;references&quot; act/feel more like what we'd call &quot;pointers&quot; in most other languages.</p>\n<p>What that means, is when you have</p>\n<pre><code>Dog myDog = new Dog(&quot;Rover&quot;);\nfoo(myDog);\n</code></pre>\n<p>you're essentially passing the <em>address</em> of the created <code>Dog</code> object to the <code>foo</code> method.</p>\n<p>(I say essentially because Java pointers/references aren't direct addresses, but it's easiest to think of them that way.)</p>\n<p>Suppose the <code>Dog</code> object resides at memory address 42. This means we pass 42 to the method.</p>\n<p>if the Method were defined as</p>\n<pre><code>public void foo(Dog someDog) {\n    someDog.setName(&quot;Max&quot;);     // AAA\n    someDog = new Dog(&quot;Fifi&quot;);  // BBB\n    someDog.setName(&quot;Rowlf&quot;);   // CCC\n}\n</code></pre>\n<p>let's look at what's happening.</p>\n<ul>\n<li>the parameter <code>someDog</code> is set to the value 42</li>\n<li>at line &quot;AAA&quot;\n<ul>\n<li><code>someDog</code> is followed to the <code>Dog</code> it points to (the <code>Dog</code> object at address 42)</li>\n<li>that <code>Dog</code> (the one at address 42) is asked to change his name to Max</li>\n</ul>\n</li>\n<li>at line &quot;BBB&quot;\n<ul>\n<li>a new <code>Dog</code> is created. Let's say he's at address 74</li>\n<li>we assign the parameter <code>someDog</code> to 74</li>\n</ul>\n</li>\n<li>at line &quot;CCC&quot;\n<ul>\n<li>someDog is followed to the <code>Dog</code> it points to (the <code>Dog</code> object at address 74)</li>\n<li>that <code>Dog</code> (the one at address 74) is asked to change his name to Rowlf</li>\n</ul>\n</li>\n<li>then, we return</li>\n</ul>\n<p>Now let's think about what happens outside the method:</p>\n<p><em>Did <code>myDog</code> change?</em></p>\n<p>There's the key.</p>\n<p>Keeping in mind that <code>myDog</code> is a <em>pointer</em>, and not an actual <code>Dog</code>, the answer is NO. <code>myDog</code> still has the value 42; it's still pointing to the original <code>Dog</code> (but note that because of line &quot;AAA&quot;, its name is now &quot;Max&quot; - still the same Dog; <code>myDog</code>'s value has not changed.)</p>\n<p>It's perfectly valid to <em>follow</em> an address and change what's at the end of it; that does not change the variable, however.</p>\n<p>Java works exactly like C. You can assign a pointer, pass the pointer to a method, follow the pointer in the method and change the data that was pointed to. However, the caller will not see any changes you make to where that pointer points. (In a language with pass-by-reference semantics, the method function <em>can</em> change the pointer and the caller will see that change.)</p>\n<p>In C++, Ada, Pascal and other languages that support pass-by-reference, you can actually change the variable that was passed.</p>\n<p>If Java had pass-by-reference semantics, the <code>foo</code> method we defined above would have changed where <code>myDog</code> was pointing when it assigned <code>someDog</code> on line BBB.</p>\n<p>Think of reference parameters as being aliases for the variable passed in. When that alias is assigned, so is the variable that was passed in.</p>\n<h2>Update</h2>\n<p>A discussion in the comments warrants some clarification...</p>\n<p>In C, you can write</p>\n<pre class=\"lang-c prettyprint-override\"><code>void swap(int *x, int *y) {\n    int t = *x;\n    *x = *y;\n    *y = t;\n}\n\nint x = 1;\nint y = 2;\nswap(&amp;x, &amp;y);\n</code></pre>\n<p>This is not a special case in C. Both languages use pass-by-value semantics. Here the call site is creating additional data structure to assist the function to access and manipulate data.</p>\n<p>The function is being passed pointers to data, and follows those pointers to access and modify that data.</p>\n<p>A similar approach in Java, where the caller sets up assisting structure, might be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void swap(int[] x, int[] y) {\n    int temp = x[0];\n    x[0] = y[0];\n    y[0] = temp;\n}\n\nint[] x = {1};\nint[] y = {2};\nswap(x, y);\n</code></pre>\n<p>(or if you wanted both examples to demonstrate features the other language doesn't have, create a mutable IntWrapper class to use in place of the arrays)</p>\n<p>In these cases, both C and Java are <em>simulating</em> pass-by-reference. They're still both passing values (pointers to ints or arrays), and following those pointers inside the called function to manipulate the data.</p>\n<p>Pass-by-reference is all about the function <em>declaration/definition</em>, and how it handles its parameters. Reference semantics apply to <em>every</em> call to that function, and the call site only needs to pass variables, no additional data structure.</p>\n<p>These simulations require the call site and the function to cooperate. No doubt it's useful, but it's still pass-by-value.</p>\n"},{"comments":[{"owner":{"account_id":1630934,"reputation":3623,"user_id":1505487,"accept_rate":40,"display_name":"Solubris"},"score":1,"creation_date":1606345416,"post_id":85711,"comment_id":114940248,"body_markdown":"This shows that java is not pass by value as it doesn&#39;t copy the whole object onto the stack like C++ does, as shown in the example above - ..., Dog obj,...","body":"This shows that java is not pass by value as it doesn&#39;t copy the whole object onto the stack like C++ does, as shown in the example above - ..., Dog obj,..."},{"owner":{"account_id":5415,"reputation":44991,"user_id":8701,"accept_rate":100,"display_name":"Eclipse"},"score":3,"creation_date":1606428196,"post_id":85711,"comment_id":114967315,"body_markdown":"No, Java passes references by value.  That&#39;s why when you overwrite objPtr in the java example, the original Dog object doesn&#39;t change.  But if modify the object being pointed to by objPtr, it does.","body":"No, Java passes references by value.  That&#39;s why when you overwrite objPtr in the java example, the original Dog object doesn&#39;t change.  But if modify the object being pointed to by objPtr, it does."}],"tags":[],"owner":{"account_id":5415,"reputation":44991,"user_id":8701,"accept_rate":100,"display_name":"Eclipse"},"comment_count":2,"down_vote_count":0,"up_vote_count":219,"is_accepted":false,"score":219,"last_activity_date":1474987377,"creation_date":1221673123,"answer_id":85711,"question_id":40480,"body_markdown":"Just to show the contrast, compare the following [C++][1] and [Java][2] snippets:\r\n\r\nIn C++: **Note: Bad code - memory leaks!**  But it demonstrates the point.\r\n\r\n    void cppMethod(int val, int &amp;ref, Dog obj, Dog &amp;objRef, Dog *objPtr, Dog *&amp;objPtrRef)\r\n    {\r\n        val = 7; // Modifies the copy\r\n        ref = 7; // Modifies the original variable\r\n        obj.SetName(&quot;obj&quot;); // Modifies the copy of Dog passed\r\n        objRef.SetName(&quot;objRef&quot;); // Modifies the original Dog passed\r\n        objPtr-&gt;SetName(&quot;objPtr&quot;); // Modifies the original Dog pointed to \r\n                                   // by the copy of the pointer passed.\r\n        objPtr = new Dog(&quot;newObjPtr&quot;);  // Modifies the copy of the pointer, \r\n                                       // leaving the original object alone.\r\n        objPtrRef-&gt;SetName(&quot;objRefPtr&quot;); // Modifies the original Dog pointed to \r\n                                        // by the original pointer passed. \r\n        objPtrRef = new Dog(&quot;newObjPtrRef&quot;); // Modifies the original pointer passed\r\n    }\r\n\r\n    int main()\r\n    {\r\n        int a = 0;\r\n        int b = 0;\r\n        Dog d0 = Dog(&quot;d0&quot;);\r\n        Dog d1 = Dog(&quot;d1&quot;);\r\n        Dog *d2 = new Dog(&quot;d2&quot;);\r\n        Dog *d3 = new Dog(&quot;d3&quot;);\r\n        cppMethod(a, b, d0, d1, d2, d3);\r\n        // a is still set to 0\r\n        // b is now set to 7\r\n        // d0 still have name &quot;d0&quot;\r\n        // d1 now has name &quot;objRef&quot;\r\n        // d2 now has name &quot;objPtr&quot;\r\n        // d3 now has name &quot;newObjPtrRef&quot;\r\n    }\r\n\r\nIn Java, \r\n\r\n    public static void javaMethod(int val, Dog objPtr)\r\n    {\r\n       val = 7; // Modifies the copy\r\n       objPtr.SetName(&quot;objPtr&quot;) // Modifies the original Dog pointed to \r\n                                // by the copy of the pointer passed.\r\n       objPtr = new Dog(&quot;newObjPtr&quot;);  // Modifies the copy of the pointer, \r\n                                      // leaving the original object alone.\r\n    }\r\n\r\n    public static void main()\r\n    {\r\n        int a = 0;\r\n        Dog d0 = new Dog(&quot;d0&quot;);\r\n        javaMethod(a, d0);\r\n        // a is still set to 0\r\n        // d0 now has name &quot;objPtr&quot;\r\n    }\r\n\r\nJava only has the two types of passing: by value for built-in types, and by value of the pointer for object types.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/C++\r\n  [2]: http://en.wikipedia.org/wiki/Java_%28programming_language%29\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Just to show the contrast, compare the following <a href=\"https://en.wikipedia.org/wiki/C++\" rel=\"noreferrer\">C++</a> and <a href=\"http://en.wikipedia.org/wiki/Java_%28programming_language%29\" rel=\"noreferrer\">Java</a> snippets:</p>\n\n<p>In C++: <strong>Note: Bad code - memory leaks!</strong>  But it demonstrates the point.</p>\n\n<pre><code>void cppMethod(int val, int &amp;ref, Dog obj, Dog &amp;objRef, Dog *objPtr, Dog *&amp;objPtrRef)\n{\n    val = 7; // Modifies the copy\n    ref = 7; // Modifies the original variable\n    obj.SetName(\"obj\"); // Modifies the copy of Dog passed\n    objRef.SetName(\"objRef\"); // Modifies the original Dog passed\n    objPtr-&gt;SetName(\"objPtr\"); // Modifies the original Dog pointed to \n                               // by the copy of the pointer passed.\n    objPtr = new Dog(\"newObjPtr\");  // Modifies the copy of the pointer, \n                                   // leaving the original object alone.\n    objPtrRef-&gt;SetName(\"objRefPtr\"); // Modifies the original Dog pointed to \n                                    // by the original pointer passed. \n    objPtrRef = new Dog(\"newObjPtrRef\"); // Modifies the original pointer passed\n}\n\nint main()\n{\n    int a = 0;\n    int b = 0;\n    Dog d0 = Dog(\"d0\");\n    Dog d1 = Dog(\"d1\");\n    Dog *d2 = new Dog(\"d2\");\n    Dog *d3 = new Dog(\"d3\");\n    cppMethod(a, b, d0, d1, d2, d3);\n    // a is still set to 0\n    // b is now set to 7\n    // d0 still have name \"d0\"\n    // d1 now has name \"objRef\"\n    // d2 now has name \"objPtr\"\n    // d3 now has name \"newObjPtrRef\"\n}\n</code></pre>\n\n<p>In Java, </p>\n\n<pre><code>public static void javaMethod(int val, Dog objPtr)\n{\n   val = 7; // Modifies the copy\n   objPtr.SetName(\"objPtr\") // Modifies the original Dog pointed to \n                            // by the copy of the pointer passed.\n   objPtr = new Dog(\"newObjPtr\");  // Modifies the copy of the pointer, \n                                  // leaving the original object alone.\n}\n\npublic static void main()\n{\n    int a = 0;\n    Dog d0 = new Dog(\"d0\");\n    javaMethod(a, d0);\n    // a is still set to 0\n    // d0 now has name \"objPtr\"\n}\n</code></pre>\n\n<p>Java only has the two types of passing: by value for built-in types, and by value of the pointer for object types.</p>\n"},{"tags":[],"owner":{"account_id":22098,"reputation":1108,"user_id":54236,"display_name":"Harald Schilly"},"comment_count":0,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1398833522,"creation_date":1231792442,"answer_id":436924,"question_id":40480,"body_markdown":"It&#39;s a bit hard to understand, but Java always copies the value - the point is, normally the value is a reference. Therefore you end up with the same object without thinking about it...\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>It's a bit hard to understand, but Java always copies the value - the point is, normally the value is a reference. Therefore you end up with the same object without thinking about it...</p>\n"},{"comments":[{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1638814445,"post_id":436969,"comment_id":124182777,"body_markdown":"Yes, a object reference is technically a handle, not yet the address, and so even a step further from &quot;by value&quot;.","body":"Yes, a object reference is technically a handle, not yet the address, and so even a step further from &quot;by value&quot;."}],"tags":[],"owner":{"account_id":4844,"reputation":41882,"user_id":7488,"accept_rate":67,"display_name":"JacquesB"},"comment_count":1,"down_vote_count":0,"up_vote_count":141,"is_accepted":false,"score":141,"last_activity_date":1517912294,"creation_date":1231793425,"answer_id":436969,"question_id":40480,"body_markdown":"The crux of the matter is that the word *reference* in the expression &quot;pass by reference&quot; means something completely different from the usual meaning of the word *reference* in Java. \r\n\r\nUsually in Java *reference* means a a *reference to an object*. But the technical terms *pass by reference/value* from programming language theory is talking about a *reference to the memory cell holding the variable*, which is something completely different.\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>The crux of the matter is that the word <em>reference</em> in the expression \"pass by reference\" means something completely different from the usual meaning of the word <em>reference</em> in Java. </p>\n\n<p>Usually in Java <em>reference</em> means a a <em>reference to an object</em>. But the technical terms <em>pass by reference/value</em> from programming language theory is talking about a <em>reference to the memory cell holding the variable</em>, which is something completely different.</p>\n"},{"tags":[],"owner":{"account_id":27613,"reputation":14605,"user_id":73019,"accept_rate":80,"display_name":"Jared Oberhaus"},"comment_count":0,"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1236493732,"creation_date":1236493732,"answer_id":623155,"question_id":40480,"body_markdown":"You can never pass by reference in Java, and one of the ways that is obvious is when you want to return more than one value from a method call. Consider the following bit of code in C++:\r\n\r\n    void getValues(int&amp; arg1, int&amp; arg2) {\r\n        arg1 = 1;\r\n        arg2 = 2;\r\n    }\r\n    void caller() {\r\n        int x;\r\n        int y;\r\n        getValues(x, y);\r\n        cout &lt;&lt; &quot;Result: &quot; &lt;&lt; x &lt;&lt; &quot; &quot; &lt;&lt; y &lt;&lt; endl;\r\n    }\r\n\r\nSometimes you want to use the same pattern in Java, but you can&#39;t; at least not directly. Instead you could do something like this:\r\n\r\n    void getValues(int[] arg1, int[] arg2) {\r\n        arg1[0] = 1;\r\n        arg2[0] = 2;\r\n    }\r\n    void caller() {\r\n        int[] x = new int[1];\r\n        int[] y = new int[1];\r\n        getValues(x, y);\r\n        System.out.println(&quot;Result: &quot; + x[0] + &quot; &quot; + y[0]);\r\n    }\r\n\r\nAs was explained in previous answers, in Java you&#39;re passing a pointer to the array as a value into `getValues`. That is enough, because the method then modifies the array element, and by convention you&#39;re expecting element 0 to contain the return value. Obviously you can do this in other ways, such as structuring your code so this isn&#39;t necessary, or constructing a class that can contain the return value or allow it to be set. But the simple pattern available to you in C++ above is not available in Java.\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>You can never pass by reference in Java, and one of the ways that is obvious is when you want to return more than one value from a method call. Consider the following bit of code in C++:</p>\n\n<pre><code>void getValues(int&amp; arg1, int&amp; arg2) {\n    arg1 = 1;\n    arg2 = 2;\n}\nvoid caller() {\n    int x;\n    int y;\n    getValues(x, y);\n    cout &lt;&lt; \"Result: \" &lt;&lt; x &lt;&lt; \" \" &lt;&lt; y &lt;&lt; endl;\n}\n</code></pre>\n\n<p>Sometimes you want to use the same pattern in Java, but you can't; at least not directly. Instead you could do something like this:</p>\n\n<pre><code>void getValues(int[] arg1, int[] arg2) {\n    arg1[0] = 1;\n    arg2[0] = 2;\n}\nvoid caller() {\n    int[] x = new int[1];\n    int[] y = new int[1];\n    getValues(x, y);\n    System.out.println(\"Result: \" + x[0] + \" \" + y[0]);\n}\n</code></pre>\n\n<p>As was explained in previous answers, in Java you're passing a pointer to the array as a value into <code>getValues</code>. That is enough, because the method then modifies the array element, and by convention you're expecting element 0 to contain the return value. Obviously you can do this in other ways, such as structuring your code so this isn't necessary, or constructing a class that can contain the return value or allow it to be set. But the simple pattern available to you in C++ above is not available in Java.</p>\n"},{"tags":[],"owner":{"account_id":20305,"reputation":4874,"user_id":48402,"accept_rate":70,"display_name":"kukudas"},"comment_count":0,"down_vote_count":1,"up_vote_count":64,"is_accepted":false,"score":63,"last_activity_date":1238695124,"creation_date":1238621600,"answer_id":707416,"question_id":40480,"body_markdown":"As far as I know, Java only knows call by value. This means for primitive datatypes you will work with an copy and for objects you will work with an copy of the reference to the objects. However I think there are some pitfalls; for example, this will not work:\r\n\r\n    public static void swap(StringBuffer s1, StringBuffer s2) {\r\n        StringBuffer temp = s1;\r\n        s1 = s2;\r\n        s2 = temp;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        StringBuffer s1 = new StringBuffer(&quot;Hello&quot;);\r\n        StringBuffer s2 = new StringBuffer(&quot;World&quot;);\r\n        swap(s1, s2);\r\n        System.out.println(s1);\r\n        System.out.println(s2);\r\n    }\r\n\r\nThis will populate Hello World and not World Hello because in the swap function you use copys which have no impact on the references in the main. But if your objects are not immutable you can change it for example:\r\n\r\n    public static void appendWorld(StringBuffer s1) {\r\n        s1.append(&quot; World&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        StringBuffer s = new StringBuffer(&quot;Hello&quot;);\r\n        appendWorld(s);\r\n        System.out.println(s);\r\n    }\r\n\r\nThis will populate Hello World on the command line. If you change StringBuffer into String it will produce just Hello because String is immutable. For example:\r\n\r\n    public static void appendWorld(String s){\r\n        s = s+&quot; World&quot;;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String s = new String(&quot;Hello&quot;);\r\n        appendWorld(s);\r\n        System.out.println(s);\r\n    }\r\n\r\nHowever you could make a wrapper for String like this which would make it able to use it with Strings:\r\n\r\n    class StringWrapper {\r\n        public String value;\r\n\r\n        public StringWrapper(String value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n    public static void appendWorld(StringWrapper s){\r\n        s.value = s.value +&quot; World&quot;;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        StringWrapper s = new StringWrapper(&quot;Hello&quot;);\r\n        appendWorld(s);\r\n        System.out.println(s.value);\r\n    }\r\n\r\nedit: i believe this is also the reason to use StringBuffer when it comes to &quot;adding&quot; two Strings because you can modifie the original object which u can&#39;t with immutable objects like String is.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>As far as I know, Java only knows call by value. This means for primitive datatypes you will work with an copy and for objects you will work with an copy of the reference to the objects. However I think there are some pitfalls; for example, this will not work:</p>\n\n<pre><code>public static void swap(StringBuffer s1, StringBuffer s2) {\n    StringBuffer temp = s1;\n    s1 = s2;\n    s2 = temp;\n}\n\n\npublic static void main(String[] args) {\n    StringBuffer s1 = new StringBuffer(\"Hello\");\n    StringBuffer s2 = new StringBuffer(\"World\");\n    swap(s1, s2);\n    System.out.println(s1);\n    System.out.println(s2);\n}\n</code></pre>\n\n<p>This will populate Hello World and not World Hello because in the swap function you use copys which have no impact on the references in the main. But if your objects are not immutable you can change it for example:</p>\n\n<pre><code>public static void appendWorld(StringBuffer s1) {\n    s1.append(\" World\");\n}\n\npublic static void main(String[] args) {\n    StringBuffer s = new StringBuffer(\"Hello\");\n    appendWorld(s);\n    System.out.println(s);\n}\n</code></pre>\n\n<p>This will populate Hello World on the command line. If you change StringBuffer into String it will produce just Hello because String is immutable. For example:</p>\n\n<pre><code>public static void appendWorld(String s){\n    s = s+\" World\";\n}\n\npublic static void main(String[] args) {\n    String s = new String(\"Hello\");\n    appendWorld(s);\n    System.out.println(s);\n}\n</code></pre>\n\n<p>However you could make a wrapper for String like this which would make it able to use it with Strings:</p>\n\n<pre><code>class StringWrapper {\n    public String value;\n\n    public StringWrapper(String value) {\n        this.value = value;\n    }\n}\n\npublic static void appendWorld(StringWrapper s){\n    s.value = s.value +\" World\";\n}\n\npublic static void main(String[] args) {\n    StringWrapper s = new StringWrapper(\"Hello\");\n    appendWorld(s);\n    System.out.println(s.value);\n}\n</code></pre>\n\n<p>edit: i believe this is also the reason to use StringBuffer when it comes to \"adding\" two Strings because you can modifie the original object which u can't with immutable objects like String is.</p>\n"},{"comments":[{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1638815036,"post_id":1964260,"comment_id":124182995,"body_markdown":"Really?\nhttps://stackoverflow.com/questions/2229498/passing-by-reference-in-c","body":"Really? <a href=\"https://stackoverflow.com/questions/2229498/passing-by-reference-in-c\" title=\"passing by reference in c\">stackoverflow.com/questions/2229498/passing-by-reference-in-&zwnj;&#8203;c</a>"}],"tags":[],"owner":{"account_id":578270,"reputation":39,"user_id":238938,"display_name":"Rusty Shackleford"},"comment_count":1,"down_vote_count":4,"up_vote_count":35,"is_accepted":false,"score":31,"last_activity_date":1261858762,"creation_date":1261858762,"answer_id":1964260,"question_id":40480,"body_markdown":"A few corrections to some posts.\r\n\r\nC does NOT support pass by reference. It is ALWAYS pass by value. C++ does support pass by reference, but is not the default and is quite dangerous.\r\n\r\nIt doesn&#39;t matter what the value is in Java: primitive or address(roughly) of object, it is ALWAYS passed by value.\r\n\r\nIf a Java object &quot;behaves&quot; like it is being passed by reference, that is a property of mutability and has absolutely nothing to do with passing mechanisms.\r\n\r\nI am not sure why this is so confusing, perhaps because so many Java &quot;programmers&quot; are not formally trained, and thus do not understand what is really going on in memory?","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>A few corrections to some posts.</p>\n\n<p>C does NOT support pass by reference. It is ALWAYS pass by value. C++ does support pass by reference, but is not the default and is quite dangerous.</p>\n\n<p>It doesn't matter what the value is in Java: primitive or address(roughly) of object, it is ALWAYS passed by value.</p>\n\n<p>If a Java object \"behaves\" like it is being passed by reference, that is a property of mutability and has absolutely nothing to do with passing mechanisms.</p>\n\n<p>I am not sure why this is so confusing, perhaps because so many Java \"programmers\" are not formally trained, and thus do not understand what is really going on in memory?</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1261861511,"creation_date":1261861511,"answer_id":1964361,"question_id":40480,"body_markdown":"Java copies the reference by value. So if you change it to something else (e.g, using `new`) the reference does not change outside the method. For native types, it is always pass by value.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java copies the reference by value. So if you change it to something else (e.g, using <code>new</code>) the reference does not change outside the method. For native types, it is always pass by value.</p>\n"},{"tags":[],"owner":{"account_id":73930,"reputation":2183,"user_id":212665,"accept_rate":100,"display_name":"Vinay Lodha"},"comment_count":0,"down_vote_count":4,"up_vote_count":18,"is_accepted":false,"score":14,"last_activity_date":1281356518,"creation_date":1281356518,"answer_id":3439923,"question_id":40480,"body_markdown":"Have a look at this code. This code will not throw `NullPointerException`... It will print &quot;Vinay&quot;\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString temp = &quot;Vinay&quot;;\r\n    \t\tprint(temp);\r\n    \t\tSystem.err.println(temp);\r\n    \t}\r\n    \r\n    \tprivate static void print(String temp) {\r\n    \t\ttemp = null;\r\n    \t}\r\n    }\r\n\r\n\r\nIf Java is pass by reference then it should have thrown `NullPointerException` as reference is set to Null.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Have a look at this code. This code will not throw <code>NullPointerException</code>... It will print \"Vinay\"</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String temp = \"Vinay\";\n        print(temp);\n        System.err.println(temp);\n    }\n\n    private static void print(String temp) {\n        temp = null;\n    }\n}\n</code></pre>\n\n<p>If Java is pass by reference then it should have thrown <code>NullPointerException</code> as reference is set to Null.</p>\n"},{"comments":[{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1638814292,"post_id":3663123,"comment_id":124182733,"body_markdown":":) another term, feeding the confusion around the Java Island, just because it&#39;s politically incorrect to say &quot;An Object is passed by reference, according to what we find on the stack&quot;.","body":":) another term, feeding the confusion around the Java Island, just because it&#39;s politically incorrect to say &quot;An Object is passed by reference, according to what we find on the stack&quot;."}],"tags":[],"owner":{"account_id":2172,"reputation":364900,"user_id":2988,"display_name":"J&#246;rg W Mittag"},"comment_count":1,"down_vote_count":4,"up_vote_count":177,"is_accepted":false,"score":173,"last_activity_date":1283897222,"creation_date":1283897222,"answer_id":3663123,"question_id":40480,"body_markdown":"I can&#39;t believe that nobody mentioned Barbara Liskov yet. When she designed CLU in 1974, she ran into this same terminology problem, and she invented the term *call by sharing* (also known as *call by object-sharing* and *call by object*) for this specific case of &quot;call by value where the value is a reference&quot;.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I can't believe that nobody mentioned Barbara Liskov yet. When she designed CLU in 1974, she ran into this same terminology problem, and she invented the term <em>call by sharing</em> (also known as <em>call by object-sharing</em> and <em>call by object</em>) for this specific case of \"call by value where the value is a reference\".</p>\n"},{"comments":[{"owner":{"account_id":5424738,"reputation":61,"user_id":4317395,"display_name":"Excessstone"},"score":0,"creation_date":1624959899,"post_id":7034719,"comment_id":120493733,"body_markdown":"I tried this:  &lt;br /&gt;\n        File file = new File(&quot;C:/&quot;);\n\n        changeFile(file);\n\n        System.out.println(file.getAbsolutePath());\n    }\n\n    public static void changeFile(File f) {\n        f = new File(&quot;D:/&quot;);\n    }`","body":"I tried this:  &lt;br /&gt;         File file = new File(&quot;C:/&quot;);          changeFile(file);          System.out.println(file.getAbsolutePath());     }      public static void changeFile(File f) {         f = new File(&quot;D:/&quot;);     }`"}],"tags":[],"owner":{"account_id":426173,"reputation":18141,"user_id":807231,"accept_rate":38,"display_name":"Marsellus Wallace"},"comment_count":1,"down_vote_count":8,"up_vote_count":807,"is_accepted":false,"score":799,"last_activity_date":1515061042,"creation_date":1313112139,"answer_id":7034719,"question_id":40480,"body_markdown":"**This will give you some insights of how Java really works to the point that in your next discussion about Java passing by reference or passing by value you&#39;ll just smile :-)**\r\n\r\nStep one please erase from your mind that word that starts with &#39;p&#39; &quot;_ _ _ _ _ _ _&quot;, especially if you come from other programming languages. Java and &#39;p&#39; cannot be written in the same book, forum, or even txt.\r\n\r\nStep two remember that when you pass an Object into a method you&#39;re passing the Object reference and not the Object itself.\r\n\r\n - *Student*: Master, does this mean that Java is pass-by-reference?\r\n - *Master*: Grasshopper, No.\r\n\t\r\nNow think of what an Object&#39;s reference/variable does/is:\r\n \r\n 1. **A variable holds the bits that tell the JVM how to get to the referenced Object in memory (Heap).**\r\n 2. When passing arguments to a method **you ARE NOT passing the reference variable, but a copy of the bits in the reference variable**. Something like this: 3bad086a. 3bad086a represents a way to get to the passed object.\r\n 3. So you&#39;re just passing 3bad086a that it&#39;s the value of the reference.\r\n 4. You&#39;re passing the value of the reference and not the reference itself (and not the object).\r\n 5. ***This value is actually COPIED and given to the method***. \r\n\r\nIn the following (please don&#39;t try to compile/execute this...):\r\n    \r\n    1. Person person;\r\n    2. person = new Person(&quot;Tom&quot;);\r\n    3. changeName(person);\r\n    4.\r\n    5. //I didn&#39;t use Person person below as an argument to be nice\r\n    6. static void changeName(Person anotherReferenceToTheSamePersonObject) {\r\n    7.     anotherReferenceToTheSamePersonObject.setName(&quot;Jerry&quot;);\r\n    8. }\r\n\r\nWhat happens?\r\n\r\n - The variable *person* is created in line #1 and it&#39;s null at the beginning.\r\n - A new Person Object is created in line #2, stored in memory, and the variable *person* is given the reference to the Person object. That is, its address. Let&#39;s say 3bad086a.\r\n - The variable *person* holding the address of the Object is passed to the function in line #3.\r\n - In line #4 you can listen to the sound of silence \r\n - Check the comment on line #5\r\n - A method local variable -*anotherReferenceToTheSamePersonObject*- is created and then comes the magic in line #6:\r\n     - The variable/reference *person* is copied bit-by-bit and passed to *anotherReferenceToTheSamePersonObject* inside the function.\r\n     - No new instances of Person are created.\r\n     - Both &quot;*person*&quot; and &quot;*anotherReferenceToTheSamePersonObject*&quot; hold the same value of 3bad086a.\r\n     - Don&#39;t try this but person==anotherReferenceToTheSamePersonObject would be true.\r\n     - Both variables have IDENTICAL COPIES of the reference and they both refer to the same Person Object, the SAME Object on the Heap and NOT A COPY.\r\n\r\nA picture is worth a thousand words:\r\n\r\n![Pass by Value][1]\r\n\r\n**Note that the anotherReferenceToTheSamePersonObject arrows is directed towards the Object and not towards the variable person!**\r\n\r\nIf you didn&#39;t get it then just trust me and remember that it&#39;s better to say that **Java is pass by value**. Well, **pass by reference value**. Oh well, even better is ***pass-by-copy-of-the-variable-value! ;)***\r\n\r\nNow feel free to hate me but note that given this **there is no difference between passing primitive data types and Objects** when talking about method arguments.\r\n\r\nYou always pass a copy of the bits of the value of the reference!\r\n\r\n - If it&#39;s a primitive data type these bits will contain the value of the primitive data type itself.\r\n - If it&#39;s an Object the bits will contain the value of the address that tells the JVM how to get to the Object.\r\n\r\n&gt;Java is pass-by-value because inside a method you can modify the referenced Object as much as you want but no matter how hard you try you&#39;ll never be able to modify the passed variable that will keep referencing (not p _ _ _ _ _ _ _) the same Object no matter what!\r\n\r\n------\r\n\r\n&gt;The changeName function above will never be able to modify the actual content (the bit values) of the passed reference. In other word changeName cannot make Person person refer to another Object.\r\n\r\n------\r\n\r\nOf course you can cut it short and just say that  **Java is pass-by-value!**\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Ba3hJ.jpg","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p><strong>This will give you some insights of how Java really works to the point that in your next discussion about Java passing by reference or passing by value you'll just smile :-)</strong></p>\n\n<p>Step one please erase from your mind that word that starts with 'p' \"_ _ _ _ _ _ _\", especially if you come from other programming languages. Java and 'p' cannot be written in the same book, forum, or even txt.</p>\n\n<p>Step two remember that when you pass an Object into a method you're passing the Object reference and not the Object itself.</p>\n\n<ul>\n<li><em>Student</em>: Master, does this mean that Java is pass-by-reference?</li>\n<li><em>Master</em>: Grasshopper, No.</li>\n</ul>\n\n<p>Now think of what an Object's reference/variable does/is:</p>\n\n<ol>\n<li><strong>A variable holds the bits that tell the JVM how to get to the referenced Object in memory (Heap).</strong></li>\n<li>When passing arguments to a method <strong>you ARE NOT passing the reference variable, but a copy of the bits in the reference variable</strong>. Something like this: 3bad086a. 3bad086a represents a way to get to the passed object.</li>\n<li>So you're just passing 3bad086a that it's the value of the reference.</li>\n<li>You're passing the value of the reference and not the reference itself (and not the object).</li>\n<li><strong><em>This value is actually COPIED and given to the method</em></strong>. </li>\n</ol>\n\n<p>In the following (please don't try to compile/execute this...):</p>\n\n<pre><code>1. Person person;\n2. person = new Person(\"Tom\");\n3. changeName(person);\n4.\n5. //I didn't use Person person below as an argument to be nice\n6. static void changeName(Person anotherReferenceToTheSamePersonObject) {\n7.     anotherReferenceToTheSamePersonObject.setName(\"Jerry\");\n8. }\n</code></pre>\n\n<p>What happens?</p>\n\n<ul>\n<li>The variable <em>person</em> is created in line #1 and it's null at the beginning.</li>\n<li>A new Person Object is created in line #2, stored in memory, and the variable <em>person</em> is given the reference to the Person object. That is, its address. Let's say 3bad086a.</li>\n<li>The variable <em>person</em> holding the address of the Object is passed to the function in line #3.</li>\n<li>In line #4 you can listen to the sound of silence </li>\n<li>Check the comment on line #5</li>\n<li>A method local variable -<em>anotherReferenceToTheSamePersonObject</em>- is created and then comes the magic in line #6:\n\n<ul>\n<li>The variable/reference <em>person</em> is copied bit-by-bit and passed to <em>anotherReferenceToTheSamePersonObject</em> inside the function.</li>\n<li>No new instances of Person are created.</li>\n<li>Both \"<em>person</em>\" and \"<em>anotherReferenceToTheSamePersonObject</em>\" hold the same value of 3bad086a.</li>\n<li>Don't try this but person==anotherReferenceToTheSamePersonObject would be true.</li>\n<li>Both variables have IDENTICAL COPIES of the reference and they both refer to the same Person Object, the SAME Object on the Heap and NOT A COPY.</li>\n</ul></li>\n</ul>\n\n<p>A picture is worth a thousand words:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Ba3hJ.jpg\" alt=\"Pass by Value\"></p>\n\n<p><strong>Note that the anotherReferenceToTheSamePersonObject arrows is directed towards the Object and not towards the variable person!</strong></p>\n\n<p>If you didn't get it then just trust me and remember that it's better to say that <strong>Java is pass by value</strong>. Well, <strong>pass by reference value</strong>. Oh well, even better is <strong><em>pass-by-copy-of-the-variable-value! ;)</em></strong></p>\n\n<p>Now feel free to hate me but note that given this <strong>there is no difference between passing primitive data types and Objects</strong> when talking about method arguments.</p>\n\n<p>You always pass a copy of the bits of the value of the reference!</p>\n\n<ul>\n<li>If it's a primitive data type these bits will contain the value of the primitive data type itself.</li>\n<li>If it's an Object the bits will contain the value of the address that tells the JVM how to get to the Object.</li>\n</ul>\n\n<blockquote>\n  <p>Java is pass-by-value because inside a method you can modify the referenced Object as much as you want but no matter how hard you try you'll never be able to modify the passed variable that will keep referencing (not p _ _ _ _ _ _ _) the same Object no matter what!</p>\n</blockquote>\n\n<hr>\n\n<blockquote>\n  <p>The changeName function above will never be able to modify the actual content (the bit values) of the passed reference. In other word changeName cannot make Person person refer to another Object.</p>\n</blockquote>\n\n<hr>\n\n<p>Of course you can cut it short and just say that  <strong>Java is pass-by-value!</strong></p>\n"},{"tags":[],"owner":{"account_id":94649,"reputation":8697,"user_id":258289,"accept_rate":95,"display_name":"Luigi"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1370595076,"creation_date":1334867121,"answer_id":10236169,"question_id":40480,"body_markdown":"Everything is passed by value. Primitives and Object references. But objects can be changed, if their interface allows it.\r\n\r\nWhen you pass an object to a method, you are passing a reference, and the object can be modified by the method implementation. \r\n\r\n    void bithday(Person p) {\r\n        p.age++;\r\n    }\r\n\r\nThe reference of the object itself, is passed by value: you can reassign the parameter, but the change is not reflected back:\r\n\r\n\r\n    void renameToJon(Person p) { \r\n        p = new Person(&quot;Jon&quot;); // this will not work\r\n    }\r\n\r\n    jack = new Person(&quot;Jack&quot;);\r\n    renameToJon(jack);\r\n    sysout(jack); // jack is unchanged\r\n\r\nAs matter of effect, &quot;p&quot; is reference (pointer to the object) and can&#39;t be changed. \r\n\r\nPrimitive types are passed by value. Object&#39;s reference can be considered a primitive type too. \r\n\r\nTo recap, everything is passed by value.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Everything is passed by value. Primitives and Object references. But objects can be changed, if their interface allows it.</p>\n\n<p>When you pass an object to a method, you are passing a reference, and the object can be modified by the method implementation. </p>\n\n<pre><code>void bithday(Person p) {\n    p.age++;\n}\n</code></pre>\n\n<p>The reference of the object itself, is passed by value: you can reassign the parameter, but the change is not reflected back:</p>\n\n<pre><code>void renameToJon(Person p) { \n    p = new Person(\"Jon\"); // this will not work\n}\n\njack = new Person(\"Jack\");\nrenameToJon(jack);\nsysout(jack); // jack is unchanged\n</code></pre>\n\n<p>As matter of effect, \"p\" is reference (pointer to the object) and can't be changed. </p>\n\n<p>Primitive types are passed by value. Object's reference can be considered a primitive type too. </p>\n\n<p>To recap, everything is passed by value.</p>\n"},{"tags":[],"owner":{"account_id":1528638,"reputation":4655,"user_id":1426433,"accept_rate":79,"display_name":"Fernando Espinosa"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1678962313,"creation_date":1343842286,"answer_id":11764499,"question_id":40480,"body_markdown":"There are two cases of interest:\r\n\r\nFor a variable of primitive type (eg. `int`, `boolean`, `char`, and others...), when you use the variable name in a function argument, you are passing by value. This value (eg. `5`, `true`, or `&#39;c&#39;`) is &quot;copied&quot;, and the variable retains its original value after the method invocation, because there are now two copies of the data in existance. One is outside of the function call, the other is inside.\r\n\r\nFor a variable of reference type (eg. `String`, `Object`, etc...), when you use the variable name for a function argument, you are passing the reference value contained in the variable. The reference value is copied, just as in the first example above, and the variable external to the function also retains its value the method invocation. The reference is still to the same object. What differs in this case is that the function may alter data inside the object which is referenced.\r\n\r\nEither way, you&#39;re always passing stuff by value.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>There are two cases of interest:</p>\n<p>For a variable of primitive type (eg. <code>int</code>, <code>boolean</code>, <code>char</code>, and others...), when you use the variable name in a function argument, you are passing by value. This value (eg. <code>5</code>, <code>true</code>, or <code>'c'</code>) is &quot;copied&quot;, and the variable retains its original value after the method invocation, because there are now two copies of the data in existance. One is outside of the function call, the other is inside.</p>\n<p>For a variable of reference type (eg. <code>String</code>, <code>Object</code>, etc...), when you use the variable name for a function argument, you are passing the reference value contained in the variable. The reference value is copied, just as in the first example above, and the variable external to the function also retains its value the method invocation. The reference is still to the same object. What differs in this case is that the function may alter data inside the object which is referenced.</p>\n<p>Either way, you're always passing stuff by value.</p>\n"},{"comments":[{"owner":{"account_id":354343,"reputation":4204,"user_id":692626,"accept_rate":14,"display_name":"dan carter"},"score":70,"creation_date":1607330886,"post_id":12429953,"comment_id":115228345,"body_markdown":"Java always passes arguments by value, but what you are passing by value is a reference to an object, not a copy of the object. Simple eh?","body":"Java always passes arguments by value, but what you are passing by value is a reference to an object, not a copy of the object. Simple eh?"},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":1,"creation_date":1638622063,"post_id":12429953,"comment_id":124139783,"body_markdown":"&quot;Object not by Reference&quot;, really?","body":"&quot;Object not by Reference&quot;, really?"}],"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":2,"down_vote_count":8,"up_vote_count":2123,"is_accepted":false,"score":2115,"last_activity_date":1690494998,"creation_date":1347646975,"answer_id":12429953,"question_id":40480,"body_markdown":"Java always passes arguments *by value*, NOT by reference.\r\n\r\n---\r\nLet me explain this through an [example][1]:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class Main {\r\n\r\n         public static void main(String[] args) {\r\n              Foo f = new Foo(&quot;f&quot;);\r\n              changeReference(f); // It won&#39;t change the reference!\r\n              modifyReference(f); // It will modify the object that the reference variable &quot;f&quot; refers to!\r\n         }\r\n\r\n         public static void changeReference(Foo a) {\r\n              Foo b = new Foo(&quot;b&quot;);\r\n              a = b;\r\n         }\r\n\r\n         public static void modifyReference(Foo c) {\r\n              c.setAttribute(&quot;c&quot;);\r\n         }\r\n\r\n    }\r\n\r\nI will explain this in steps:\r\n\r\n1. Declaring a reference named `f` of type `Foo` and assign it a new object of type `Foo` with an attribute `&quot;f&quot;`.\r\n\r\n       Foo f = new Foo(&quot;f&quot;);\r\n\r\n    ![enter image description here][2]\r\n\r\n2. From the method side, a reference of type `Foo` with a name `a` is declared and it&#39;s initially assigned `null`.\r\n\r\n       public static void changeReference(Foo a)\r\n\r\n    ![enter image description here][3]\r\n\r\n3. As you call the method `changeReference`, the reference `a` will be assigned the object which is passed as an argument.\r\n\r\n       changeReference(f);\r\n\r\n    ![enter image description here][4]\r\n\r\n4. Declaring a reference named `b` of type `Foo` and assign it a new object of type `Foo` with an attribute `&quot;b&quot;`.\r\n\r\n       Foo b = new Foo(&quot;b&quot;);\r\n\r\n    ![enter image description here][5]\r\n\r\n5. `a = b` makes a new assignment to the reference `a`, **not** `f`, of the object whose attribute is `&quot;b&quot;`.\r\n\r\n    ![enter image description here][6]\r\n\r\n6. As you call `modifyReference(Foo c)` method, a reference `c` is created and assigned the object with attribute `&quot;f&quot;`.\r\n\r\n    ![enter image description here][7]\r\n\r\n\r\n7. `c.setAttribute(&quot;c&quot;);` will change the attribute of the object that reference `c` points to it, and it&#39;s the same object that reference `f` points to it.\r\n\r\n    ![enter image description here][8]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/9404727/597657\r\n  [2]: http://i.stack.imgur.com/arXpP.png\r\n  [3]: http://i.stack.imgur.com/k2LBD.png\r\n  [4]: http://i.stack.imgur.com/1Ez74.png\r\n  [5]: http://i.stack.imgur.com/Krx4N.png\r\n  [6]: http://i.stack.imgur.com/rCluu.png\r\n  [7]: http://i.stack.imgur.com/PRZPg.png\r\n  [8]: http://i.stack.imgur.com/H9Qsf.png","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java always passes arguments <em>by value</em>, NOT by reference.</p>\n<hr />\n<p>Let me explain this through an <a href=\"https://stackoverflow.com/a/9404727/597657\">example</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n     public static void main(String[] args) {\n          Foo f = new Foo(&quot;f&quot;);\n          changeReference(f); // It won't change the reference!\n          modifyReference(f); // It will modify the object that the reference variable &quot;f&quot; refers to!\n     }\n\n     public static void changeReference(Foo a) {\n          Foo b = new Foo(&quot;b&quot;);\n          a = b;\n     }\n\n     public static void modifyReference(Foo c) {\n          c.setAttribute(&quot;c&quot;);\n     }\n\n}\n</code></pre>\n<p>I will explain this in steps:</p>\n<ol>\n<li><p>Declaring a reference named <code>f</code> of type <code>Foo</code> and assign it a new object of type <code>Foo</code> with an attribute <code>&quot;f&quot;</code>.</p>\n<pre><code>Foo f = new Foo(&quot;f&quot;);\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/arXpP.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p>From the method side, a reference of type <code>Foo</code> with a name <code>a</code> is declared and it's initially assigned <code>null</code>.</p>\n<pre><code>public static void changeReference(Foo a)\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/k2LBD.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p>As you call the method <code>changeReference</code>, the reference <code>a</code> will be assigned the object which is passed as an argument.</p>\n<pre><code>changeReference(f);\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/1Ez74.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p>Declaring a reference named <code>b</code> of type <code>Foo</code> and assign it a new object of type <code>Foo</code> with an attribute <code>&quot;b&quot;</code>.</p>\n<pre><code>Foo b = new Foo(&quot;b&quot;);\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/Krx4N.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p><code>a = b</code> makes a new assignment to the reference <code>a</code>, <strong>not</strong> <code>f</code>, of the object whose attribute is <code>&quot;b&quot;</code>.</p>\n<p><img src=\"https://i.stack.imgur.com/rCluu.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p>As you call <code>modifyReference(Foo c)</code> method, a reference <code>c</code> is created and assigned the object with attribute <code>&quot;f&quot;</code>.</p>\n<p><img src=\"https://i.stack.imgur.com/PRZPg.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p><code>c.setAttribute(&quot;c&quot;);</code> will change the attribute of the object that reference <code>c</code> points to it, and it's the same object that reference <code>f</code> points to it.</p>\n<p><img src=\"https://i.stack.imgur.com/H9Qsf.png\" alt=\"enter image description here\" /></p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1648976769,"post_id":12851599,"comment_id":126755155,"body_markdown":"Java defined itself like this. In history of computer science, the concepts and modi of passing data to functions existed long before Kernighan &amp; Ritchie invented the confusion of pointers and values. For Java one can state, that the own dogmatism of being OBJECT ORIENTED is broke, when in context of calls suddenly a reference is a value, rather than the object instance.","body":"Java defined itself like this. In history of computer science, the concepts and modi of passing data to functions existed long before Kernighan &amp; Ritchie invented the confusion of pointers and values. For Java one can state, that the own dogmatism of being OBJECT ORIENTED is broke, when in context of calls suddenly a reference is a value, rather than the object instance."}],"tags":[],"owner":{"account_id":1922639,"reputation":497,"user_id":1733754,"display_name":"George"},"comment_count":1,"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1440222612,"creation_date":1350010804,"answer_id":12851599,"question_id":40480,"body_markdown":"No, it&#39;s not pass by reference.\r\n\r\nJava is pass by value according to the Java Language Specification:\r\n\r\n&gt; When the method or constructor is invoked (&#167;15.12), **the values of the actual argument expressions initialize newly created parameter variables**, each of the declared type, before execution of the body of the method or constructor. The Identifier that appears in the DeclaratorId may be used as a simple name in the body of the method or constructor to refer to the [formal parameter][1]. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.1","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>No, it's not pass by reference.</p>\n\n<p>Java is pass by value according to the Java Language Specification:</p>\n\n<blockquote>\n  <p>When the method or constructor is invoked (§15.12), <strong>the values of the actual argument expressions initialize newly created parameter variables</strong>, each of the declared type, before execution of the body of the method or constructor. The Identifier that appears in the DeclaratorId may be used as a simple name in the body of the method or constructor to refer to the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.1\" rel=\"noreferrer\">formal parameter</a>. </p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1375437923,"post_id":14105447,"comment_id":26344356,"body_markdown":"There is no such thing as a &#39;constant referenece&#39; in Java unless the programmer specifies &#39;finally&#39;.","body":"There is no such thing as a &#39;constant referenece&#39; in Java unless the programmer specifies &#39;finally&#39;."},{"owner":{"account_id":1852520,"reputation":2797,"user_id":1678760,"accept_rate":85,"display_name":"fatma.ekici"},"score":0,"creation_date":1378731983,"post_id":14105447,"comment_id":27547402,"body_markdown":"What I meant by constant reference is, there is no way to change the reference itself by saying new MyClass() in a function. If I put it correctly, there object references are passed by value which means a copy of the reference is passed so you can change the data where that reference refers to but you can not change it with new operator and allocate a new object.","body":"What I meant by constant reference is, there is no way to change the reference itself by saying new MyClass() in a function. If I put it correctly, there object references are passed by value which means a copy of the reference is passed so you can change the data where that reference refers to but you can not change it with new operator and allocate a new object."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1411605707,"post_id":14105447,"comment_id":40770398,"body_markdown":"So fix your answer. If it was a constant you couldn&#39;t reassign it inside the called method, and you can, unless you specify `final.`","body":"So fix your answer. If it was a constant you couldn&#39;t reassign it inside the called method, and you can, unless you specify <code>final.</code>"},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1638815442,"post_id":14105447,"comment_id":124183129,"body_markdown":"No, idea how to unwind that knot: You pass a object reference and say the object is passed by value. :(","body":"No, idea how to unwind that knot: You pass a object reference and say the object is passed by value. :("}],"tags":[],"owner":{"account_id":1852520,"reputation":2797,"user_id":1678760,"accept_rate":85,"display_name":"fatma.ekici"},"comment_count":4,"down_vote_count":4,"up_vote_count":22,"is_accepted":false,"score":18,"last_activity_date":1356982546,"creation_date":1356982546,"answer_id":14105447,"question_id":40480,"body_markdown":"Java is pass by constant reference where a copy of the reference is passed which means that it is basically a pass by value. You might change the contents of the reference if the class is mutable but you cannot change the reference itself. In other words the address can not be changed since it is passed by value but the content that is pointed by the address can be changed. In case of immutable classes, the content of the reference cannot be changed either.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java is pass by constant reference where a copy of the reference is passed which means that it is basically a pass by value. You might change the contents of the reference if the class is mutable but you cannot change the reference itself. In other words the address can not be changed since it is passed by value but the content that is pointed by the address can be changed. In case of immutable classes, the content of the reference cannot be changed either.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1505642987,"post_id":16880062,"comment_id":79488796,"body_markdown":"&#39;Pass its inner value&#39; is meaningless.","body":"&#39;Pass its inner value&#39; is meaningless."},{"owner":{"account_id":2439364,"reputation":5868,"user_id":2128327,"display_name":"Khaled.K"},"score":0,"creation_date":1505666506,"post_id":16880062,"comment_id":79495390,"body_markdown":"@EJP thanks for the note, excuse my bad English from 2013, I&#39;ve edited the whole thing, if you see a better wording, you may suggest or edit","body":"@EJP thanks for the note, excuse my bad English from 2013, I&#39;ve edited the whole thing, if you see a better wording, you may suggest or edit"},{"owner":{"display_name":"user6091735"},"score":0,"creation_date":1511022397,"post_id":16880062,"comment_id":81688881,"body_markdown":"i would like to add one thing.if you have changed the name of cat instead of creating a new one, it will reflect in the memory even after the method returns","body":"i would like to add one thing.if you have changed the name of cat instead of creating a new one, it will reflect in the memory even after the method returns"}],"tags":[],"owner":{"account_id":2439364,"reputation":5868,"user_id":2128327,"display_name":"Khaled.K"},"comment_count":3,"down_vote_count":3,"up_vote_count":12,"is_accepted":false,"score":9,"last_activity_date":1505666338,"creation_date":1370151044,"answer_id":16880062,"question_id":40480,"body_markdown":"Java is always pass-by-value, the parameters are copies of what the variables passed, all Objects are defined using a reference, and reference is a variable that stores a memory address of where the object is in memory.\r\n\r\nCheck the comments to understand what happens in execution; follow numbers as they show the flow of execution ..\r\n\r\n    class Example\r\n    {\r\n        public static void test (Cat ref)\r\n        {\r\n            // 3 - &lt;ref&gt; is a copy of the reference &lt;a&gt;\r\n            // both currently reference Grumpy\r\n            System.out.println(ref.getName());\r\n            \r\n            // 4 - now &lt;ref&gt; references a new &lt;Cat&gt; object named &quot;Nyan&quot;\r\n            ref = new Cat(&quot;Nyan&quot;);\r\n            \r\n            // 5 - this should print &quot;Nyan&quot;\r\n            System.out.println( ref.getName() );\r\n        }\r\n        \r\n        public static void main (String [] args)\r\n        {\r\n            // 1 - a is a &lt;Cat&gt; reference that references a Cat object in memory with name &quot;Grumpy&quot;\r\n            Cat a = new Cat(&quot;Grumpy&quot;);\r\n            \r\n            // 2 - call to function test which takes a &lt;Cat&gt; reference\r\n            test (a);\r\n            \r\n            // 6 - function call ends, and &lt;ref&gt; life-time ends\r\n            // &quot;Nyan&quot; object has no references and the Garbage\r\n            // Collector will remove it from memory when invoked\r\n            \r\n            // 7 - this should print &quot;Grumpy&quot;\r\n            System.out.println(a.getName());\r\n        }\r\n    }\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java is always pass-by-value, the parameters are copies of what the variables passed, all Objects are defined using a reference, and reference is a variable that stores a memory address of where the object is in memory.</p>\n\n<p>Check the comments to understand what happens in execution; follow numbers as they show the flow of execution ..</p>\n\n<pre><code>class Example\n{\n    public static void test (Cat ref)\n    {\n        // 3 - &lt;ref&gt; is a copy of the reference &lt;a&gt;\n        // both currently reference Grumpy\n        System.out.println(ref.getName());\n\n        // 4 - now &lt;ref&gt; references a new &lt;Cat&gt; object named \"Nyan\"\n        ref = new Cat(\"Nyan\");\n\n        // 5 - this should print \"Nyan\"\n        System.out.println( ref.getName() );\n    }\n\n    public static void main (String [] args)\n    {\n        // 1 - a is a &lt;Cat&gt; reference that references a Cat object in memory with name \"Grumpy\"\n        Cat a = new Cat(\"Grumpy\");\n\n        // 2 - call to function test which takes a &lt;Cat&gt; reference\n        test (a);\n\n        // 6 - function call ends, and &lt;ref&gt; life-time ends\n        // \"Nyan\" object has no references and the Garbage\n        // Collector will remove it from memory when invoked\n\n        // 7 - this should print \"Grumpy\"\n        System.out.println(a.getName());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1307057,"reputation":5794,"user_id":1255825,"accept_rate":74,"display_name":"JasonG"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1465272194,"creation_date":1372180334,"answer_id":17303467,"question_id":40480,"body_markdown":"In an attempt to add even more to this, I thought I&#39;d include the SCJP Study Guide section on the topic. This is from the guide that is made to pass the Sun/Oracle test on the behaviour of Java so it&#39;s a good source to use for this discussion.\r\n\r\n&gt; Passing Variables into Methods (Objective 7.3)\r\n&gt;\r\n&gt; 7.3 Determine the effect upon object references and primitive values when they are passed into methods that perform assignments or other modifying operations on the parameters.\r\n\r\n&gt; Methods can be declared to take primitives and/or object references. You need to know how (or if) the caller&#39;s variable can be affected by the called method. The difference between object reference and primitive variables, when passed into methods, is huge and important. To understand this section, you&#39;ll need to be comfortable with the assignments section covered in the first part of this chapter.\r\n\r\n&gt; Passing Object Reference Variables\r\n\r\n&gt; When you pass an object variable into a method, you must keep in mind that you&#39;re passing the object reference, and not the actual object itself. Remember that a reference variable holds bits that represent (to the underlying VM) a way to get to a specific object in memory (on the heap). More importantly, you must remember that you aren&#39;t even passing the actual reference variable, but rather a copy of the reference variable. A copy of a variable means you get a copy of the bits in that variable, so when you pass a reference variable, you&#39;re passing a copy of the bits representing how to get to a specific object. In other words, both the caller and the called method will now have identical copies of the reference, and thus both will refer to the same exact (not a copy) object on the heap.\r\n\r\n&gt; For this example, we&#39;ll use the Dimension class from the java.awt package:\r\n\r\n\r\n    1. import java.awt.Dimension;\r\n    2. class ReferenceTest {\r\n    3.     public static void main (String [] args) {\r\n    4.         Dimension d = new Dimension(5,10);\r\n    5.         ReferenceTest rt = new ReferenceTest();\r\n    6.         System.out.println(&quot;Before modify() d.height = &quot; + d.height);\r\n    7.         rt.modify(d);\r\n    8.         System.out.println(&quot;After modify() d.height = &quot;\r\n    9.     }\r\n    10.\r\n    11.\r\n    12.\r\n    13.   }\r\n    14. }\r\n\r\n\r\n&gt; When we run this class, we can see that the modify() method was indeed able to modify the original (and only) Dimension object created on line 4.\r\n\r\n&lt;pre&gt;\r\nC:\\Java Projects\\Reference&gt;java ReferenceTest\r\nBefore modify() d.height = 10\r\ndim = 11\r\nAfter modify() d.height = 11\r\n&lt;/pre&gt;\r\n\r\n&gt; Notice when the Dimension object on line 4 is passed to the modify() method, any changes to the object that occur inside the method are being made to the object whose reference was passed. In the preceding example, reference variables d and dim both point to the same object.\r\n\r\n&gt; Does Java Use Pass-By-Value Semantics?\r\n\r\n&gt; If Java passes objects by passing the reference variable instead, does that mean Java uses pass-by-reference for objects? Not exactly, although you&#39;ll often hear and read that it does. Java is actually pass-by-value for all variables running within a single VM. Pass-by-value means pass-by-variable-value. And that means, pass-by-copy-of- the-variable! (There&#39;s that word copy again!)\r\n\r\n&gt; It makes no difference if you&#39;re passing primitive or reference variables, you are always passing a copy of the bits in the variable. So for a primitive variable, you&#39;re passing a copy of the bits representing the value. For example, if you pass an int variable with the value of 3, you&#39;re passing a copy of the bits representing 3. The called method then gets its own copy of the value, to do with it what it likes.\r\n\r\n&gt; And if you&#39;re passing an object reference variable, you&#39;re passing a copy of the bits representing the reference to an object. The called method then gets its own copy of the reference variable, to do with it what it likes. But because two identical reference variables refer to the exact same object, if the called method modifies the object (by invoking setter methods, for example), the caller will see that the object the caller&#39;s original variable refers to has also been changed. In the next section, we&#39;ll look at how the picture changes when we&#39;re talking about primitives.\r\n\r\n&gt; The bottom line on pass-by-value: the called method can&#39;t change the caller&#39;s variable, although for object reference variables, the called method can change the object the variable referred to. What&#39;s the difference between changing the variable and changing the object? For object references, it means the called method can&#39;t reassign the caller&#39;s original reference variable and make it refer to a different object, or null. For example, in the following code fragment,\r\n\r\n            void bar() {\r\n               Foo f = new Foo();\r\n               doStuff(f);\r\n            }\r\n            void doStuff(Foo g) {\r\n               g.setName(&quot;Boo&quot;);\r\n               g = new Foo();\r\n            }\r\n\r\n&gt; reassigning g does not reassign f! At the end of the bar() method, two Foo objects have been created, one referenced by the local variable f and one referenced by\r\nthe local (argument) variable g. Because the doStuff() method has a copy of the reference variable, it has a way to get to the original Foo object, for instance to call the setName() method. But, the doStuff() method does not have a way to get to the f reference variable. So doStuff() can change values within the object f refers to, but doStuff() can&#39;t change the actual contents (bit pattern) of f. In other words, doStuff() can change the state of the object that f refers to, but it can&#39;t make f refer to a different object!\r\n\r\n&gt; Passing Primitive Variables\r\n\r\n&gt; Let&#39;s look at what happens when a primitive variable is passed to a method:\r\n \r\n\r\n    class ReferenceTest {\r\n        public static void main (String [] args) {\r\n          int a = 1;\r\n          ReferenceTest rt = new ReferenceTest();\r\n          System.out.println(&quot;Before modify() a = &quot; + a);\r\n          rt.modify(a);\r\n          System.out.println(&quot;After modify() a = &quot; + a);\r\n        }\r\n        void modify(int number) {\r\n          number = number + 1;\r\n          System.out.println(&quot;number = &quot; + number);\r\n        }\r\n    }\r\n\r\n&gt; In this simple program, the variable a is passed to a method called modify(),\r\nwhich increments the variable by 1. The resulting output looks like this:\r\n\r\n      Before modify() a = 1\r\n      number = 2\r\n      After modify() a = 1\r\n\r\n&gt; Notice that a did not change after it was passed to the method. Remember, it was a copy of a that was passed to the method. When a primitive variable is passed to a method, it is passed by value, which means pass-by-copy-of-the-bits-in-the-variable.\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>In an attempt to add even more to this, I thought I'd include the SCJP Study Guide section on the topic. This is from the guide that is made to pass the Sun/Oracle test on the behaviour of Java so it's a good source to use for this discussion.</p>\n\n<blockquote>\n  <p>Passing Variables into Methods (Objective 7.3)</p>\n  \n  <p>7.3 Determine the effect upon object references and primitive values when they are passed into methods that perform assignments or other modifying operations on the parameters.</p>\n  \n  <p>Methods can be declared to take primitives and/or object references. You need to know how (or if) the caller's variable can be affected by the called method. The difference between object reference and primitive variables, when passed into methods, is huge and important. To understand this section, you'll need to be comfortable with the assignments section covered in the first part of this chapter.</p>\n  \n  <p>Passing Object Reference Variables</p>\n  \n  <p>When you pass an object variable into a method, you must keep in mind that you're passing the object reference, and not the actual object itself. Remember that a reference variable holds bits that represent (to the underlying VM) a way to get to a specific object in memory (on the heap). More importantly, you must remember that you aren't even passing the actual reference variable, but rather a copy of the reference variable. A copy of a variable means you get a copy of the bits in that variable, so when you pass a reference variable, you're passing a copy of the bits representing how to get to a specific object. In other words, both the caller and the called method will now have identical copies of the reference, and thus both will refer to the same exact (not a copy) object on the heap.</p>\n  \n  <p>For this example, we'll use the Dimension class from the java.awt package:</p>\n</blockquote>\n\n<pre><code>1. import java.awt.Dimension;\n2. class ReferenceTest {\n3.     public static void main (String [] args) {\n4.         Dimension d = new Dimension(5,10);\n5.         ReferenceTest rt = new ReferenceTest();\n6.         System.out.println(\"Before modify() d.height = \" + d.height);\n7.         rt.modify(d);\n8.         System.out.println(\"After modify() d.height = \"\n9.     }\n10.\n11.\n12.\n13.   }\n14. }\n</code></pre>\n\n<blockquote>\n  <p>When we run this class, we can see that the modify() method was indeed able to modify the original (and only) Dimension object created on line 4.</p>\n</blockquote>\n\n<pre>\nC:\\Java Projects\\Reference>java ReferenceTest\nBefore modify() d.height = 10\ndim = 11\nAfter modify() d.height = 11\n</pre>\n\n<blockquote>\n  <p>Notice when the Dimension object on line 4 is passed to the modify() method, any changes to the object that occur inside the method are being made to the object whose reference was passed. In the preceding example, reference variables d and dim both point to the same object.</p>\n  \n  <p>Does Java Use Pass-By-Value Semantics?</p>\n  \n  <p>If Java passes objects by passing the reference variable instead, does that mean Java uses pass-by-reference for objects? Not exactly, although you'll often hear and read that it does. Java is actually pass-by-value for all variables running within a single VM. Pass-by-value means pass-by-variable-value. And that means, pass-by-copy-of- the-variable! (There's that word copy again!)</p>\n  \n  <p>It makes no difference if you're passing primitive or reference variables, you are always passing a copy of the bits in the variable. So for a primitive variable, you're passing a copy of the bits representing the value. For example, if you pass an int variable with the value of 3, you're passing a copy of the bits representing 3. The called method then gets its own copy of the value, to do with it what it likes.</p>\n  \n  <p>And if you're passing an object reference variable, you're passing a copy of the bits representing the reference to an object. The called method then gets its own copy of the reference variable, to do with it what it likes. But because two identical reference variables refer to the exact same object, if the called method modifies the object (by invoking setter methods, for example), the caller will see that the object the caller's original variable refers to has also been changed. In the next section, we'll look at how the picture changes when we're talking about primitives.</p>\n  \n  <p>The bottom line on pass-by-value: the called method can't change the caller's variable, although for object reference variables, the called method can change the object the variable referred to. What's the difference between changing the variable and changing the object? For object references, it means the called method can't reassign the caller's original reference variable and make it refer to a different object, or null. For example, in the following code fragment,</p>\n</blockquote>\n\n<pre><code>        void bar() {\n           Foo f = new Foo();\n           doStuff(f);\n        }\n        void doStuff(Foo g) {\n           g.setName(\"Boo\");\n           g = new Foo();\n        }\n</code></pre>\n\n<blockquote>\n  <p>reassigning g does not reassign f! At the end of the bar() method, two Foo objects have been created, one referenced by the local variable f and one referenced by\n  the local (argument) variable g. Because the doStuff() method has a copy of the reference variable, it has a way to get to the original Foo object, for instance to call the setName() method. But, the doStuff() method does not have a way to get to the f reference variable. So doStuff() can change values within the object f refers to, but doStuff() can't change the actual contents (bit pattern) of f. In other words, doStuff() can change the state of the object that f refers to, but it can't make f refer to a different object!</p>\n  \n  <p>Passing Primitive Variables</p>\n  \n  <p>Let's look at what happens when a primitive variable is passed to a method:</p>\n</blockquote>\n\n<pre><code>class ReferenceTest {\n    public static void main (String [] args) {\n      int a = 1;\n      ReferenceTest rt = new ReferenceTest();\n      System.out.println(\"Before modify() a = \" + a);\n      rt.modify(a);\n      System.out.println(\"After modify() a = \" + a);\n    }\n    void modify(int number) {\n      number = number + 1;\n      System.out.println(\"number = \" + number);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>In this simple program, the variable a is passed to a method called modify(),\n  which increments the variable by 1. The resulting output looks like this:</p>\n</blockquote>\n\n<pre><code>  Before modify() a = 1\n  number = 2\n  After modify() a = 1\n</code></pre>\n\n<blockquote>\n  <p>Notice that a did not change after it was passed to the method. Remember, it was a copy of a that was passed to the method. When a primitive variable is passed to a method, it is passed by value, which means pass-by-copy-of-the-bits-in-the-variable.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2158210,"reputation":221,"user_id":1912964,"accept_rate":0,"display_name":"Gaurav"},"comment_count":0,"down_vote_count":2,"up_vote_count":40,"is_accepted":false,"score":38,"last_activity_date":1493440293,"creation_date":1373437887,"answer_id":17563873,"question_id":40480,"body_markdown":"Java has only pass by value. A very simple example to validate this.\r\n\r\n    public void test() {\r\n        MyClass obj = null;\r\n        init(obj);\r\n        //After calling init method, obj still points to null\r\n        //this is because obj is passed as value and not as reference.\r\n    }\r\n    private void init(MyClass objVar) {\r\n        objVar = new MyClass();\r\n    }\r\n\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java has only pass by value. A very simple example to validate this.</p>\n\n<pre><code>public void test() {\n    MyClass obj = null;\n    init(obj);\n    //After calling init method, obj still points to null\n    //this is because obj is passed as value and not as reference.\n}\nprivate void init(MyClass objVar) {\n    objVar = new MyClass();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1405683047,"creation_date":1376734191,"answer_id":18287583,"question_id":40480,"body_markdown":"Shortest answer :)\r\n\r\n - Java has pass-by-value (and pass-reference-by-value.) \r\n - **C# also has pass-by-reference**\r\n\r\nIn C# this is accomplished with the &quot;out&quot; and &quot;ref&quot; keywords. \r\n\r\nPass By Reference: The variable is passed in such a way that **a reassignment inside the method is reflected even outside the method.**\r\n\r\nHere follows **an example of passing-by-reference (C#)**.\r\nThis feature does not exist in java.\r\n\r\n    class Example\r\n    {\r\n        static void InitArray(out int[] arr)\r\n        {\r\n            arr = new int[5] { 1, 2, 3, 4, 5 };\r\n        }\r\n    \r\n        static void Main()\r\n        {\r\n            int[] someArray;\r\n            InitArray(out someArray);\r\n\r\n            // This is true !\r\n            boolean isTrue = (someArray[0] == 1);\r\n        }\r\n    }\r\n\r\nSee also: [MSDN library (C#): passing arrays by ref and out][1]\r\n\r\nSee also: [MSDN library (C#): passing by by value and by reference][2]\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/szasx730.aspx &quot;MSDN library: passing arrays by ref and out&quot;\r\n  [2]: http://msdn.microsoft.com/en-us/library/0f66670z.aspx &quot;MSDN library: passing by reference&quot;","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Shortest answer :)</p>\n\n<ul>\n<li>Java has pass-by-value (and pass-reference-by-value.) </li>\n<li><strong>C# also has pass-by-reference</strong></li>\n</ul>\n\n<p>In C# this is accomplished with the \"out\" and \"ref\" keywords. </p>\n\n<p>Pass By Reference: The variable is passed in such a way that <strong>a reassignment inside the method is reflected even outside the method.</strong></p>\n\n<p>Here follows <strong>an example of passing-by-reference (C#)</strong>.\nThis feature does not exist in java.</p>\n\n<pre><code>class Example\n{\n    static void InitArray(out int[] arr)\n    {\n        arr = new int[5] { 1, 2, 3, 4, 5 };\n    }\n\n    static void Main()\n    {\n        int[] someArray;\n        InitArray(out someArray);\n\n        // This is true !\n        boolean isTrue = (someArray[0] == 1);\n    }\n}\n</code></pre>\n\n<p>See also: <a href=\"http://msdn.microsoft.com/en-us/library/szasx730.aspx\" rel=\"noreferrer\" title=\"MSDN library: passing arrays by ref and out\">MSDN library (C#): passing arrays by ref and out</a></p>\n\n<p>See also: <a href=\"http://msdn.microsoft.com/en-us/library/0f66670z.aspx\" rel=\"noreferrer\" title=\"MSDN library: passing by reference\">MSDN library (C#): passing by by value and by reference</a></p>\n"},{"tags":[],"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1378832000,"creation_date":1378326161,"answer_id":18623099,"question_id":40480,"body_markdown":"The bottom line on pass-by-value: the called method can&#39;t change the caller&#39;s\r\nvariable, although for object reference variables, the called method can change the\r\nobject the variable referred to. What&#39;s the difference between changing the variable\r\nand changing the object? For object references, it means the called method can&#39;t\r\nreassign the caller&#39;s original reference variable and make it refer to a different object,\r\nor null. \r\n\r\nI took this code and explanation from a book on Java Certification and made some minor changes.  \r\nI think it&#39;s a\r\ngood illustration to the pass by value of an object.  In the code below, \r\nreassigning g does not reassign f! At the end of the bar() method, two Foo objects\r\nhave been created, one referenced by the local variable f and one referenced by\r\nthe local (argument) variable g. \r\n\r\nBecause the doStuff() method has a copy of the reference variable, it has a way to get \r\nto the original Foo object, for instance to call\r\nthe setName() method. But, the doStuff() method does not have a way to get to\r\nthe f reference variable. So doStuff() can change values within the object f refers\r\nto, but doStuff() can&#39;t change the actual contents (bit pattern) of f. In other\r\nwords, doStuff() can change the state of the object that f refers to, but it can&#39;t\r\nmake f refer to a different object!\r\n\r\n    package test.abc;\r\n    \r\n    public class TestObject {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tbar();\r\n    \t}\r\n    \t\r\n    \tstatic void bar() {\r\n    \t\tFoo f = new Foo();\r\n    \t\tSystem.out.println(&quot;Object reference for f: &quot; + f);\r\n    \t\tf.setName(&quot;James&quot;);\r\n    \t\tdoStuff(f);\r\n    \t\tSystem.out.println(f.getName());\r\n    \t\t//Can change the state of an object variable in f, but can&#39;t change the object reference for f.\r\n    \t\t//You still have 2 foo objects.\r\n    \t\tSystem.out.println(&quot;Object reference for f: &quot; + f);\r\n    \t\t}\r\n    \t\r\n    \tstatic void doStuff(Foo g) {\r\n    \t\t\tg.setName(&quot;Boo&quot;);\r\n    \t\t\tg = new Foo();\r\n    \t\t\tSystem.out.println(&quot;Object reference for g: &quot; + g);\r\n    \t\t}\r\n    }\r\n    \r\n    \r\n    package test.abc;\r\n    \r\n    public class Foo {\r\n    \tpublic String name = &quot;&quot;;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    }\r\n\r\n**Note that the object reference has not changed in the console output below:**\r\n\r\n**Console output:**\r\n\r\nObject reference for f: test.abc.Foo@62f72617\r\n\r\nObject reference for g: test.abc.Foo@4fe5e2c3\r\n\r\nBoo\r\nObject reference for f: test.abc.Foo@62f72617 ","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>The bottom line on pass-by-value: the called method can't change the caller's\nvariable, although for object reference variables, the called method can change the\nobject the variable referred to. What's the difference between changing the variable\nand changing the object? For object references, it means the called method can't\nreassign the caller's original reference variable and make it refer to a different object,\nor null. </p>\n\n<p>I took this code and explanation from a book on Java Certification and made some minor changes.<br>\nI think it's a\ngood illustration to the pass by value of an object.  In the code below, \nreassigning g does not reassign f! At the end of the bar() method, two Foo objects\nhave been created, one referenced by the local variable f and one referenced by\nthe local (argument) variable g. </p>\n\n<p>Because the doStuff() method has a copy of the reference variable, it has a way to get \nto the original Foo object, for instance to call\nthe setName() method. But, the doStuff() method does not have a way to get to\nthe f reference variable. So doStuff() can change values within the object f refers\nto, but doStuff() can't change the actual contents (bit pattern) of f. In other\nwords, doStuff() can change the state of the object that f refers to, but it can't\nmake f refer to a different object!</p>\n\n<pre><code>package test.abc;\n\npublic class TestObject {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        bar();\n    }\n\n    static void bar() {\n        Foo f = new Foo();\n        System.out.println(\"Object reference for f: \" + f);\n        f.setName(\"James\");\n        doStuff(f);\n        System.out.println(f.getName());\n        //Can change the state of an object variable in f, but can't change the object reference for f.\n        //You still have 2 foo objects.\n        System.out.println(\"Object reference for f: \" + f);\n        }\n\n    static void doStuff(Foo g) {\n            g.setName(\"Boo\");\n            g = new Foo();\n            System.out.println(\"Object reference for g: \" + g);\n        }\n}\n\n\npackage test.abc;\n\npublic class Foo {\n    public String name = \"\";\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n}\n</code></pre>\n\n<p><strong>Note that the object reference has not changed in the console output below:</strong></p>\n\n<p><strong>Console output:</strong></p>\n\n<p>Object reference for f: test.abc.Foo@62f72617</p>\n\n<p>Object reference for g: test.abc.Foo@4fe5e2c3</p>\n\n<p>Boo\nObject reference for f: test.abc.Foo@62f72617 </p>\n"},{"tags":[],"owner":{"account_id":2163996,"reputation":1697,"user_id":1917489,"accept_rate":63,"display_name":"cutmancometh"},"comment_count":0,"down_vote_count":15,"up_vote_count":310,"is_accepted":false,"score":295,"last_activity_date":1515082727,"creation_date":1378899270,"answer_id":18740042,"question_id":40480,"body_markdown":"I feel like arguing about &quot;pass-by-reference vs pass-by-value&quot; is not super-helpful.\r\n\r\nIf you say, &quot;Java is pass-by-whatever (reference/value)&quot;, in either case, you&#39;re not provide a complete answer. Here&#39;s some additional information that will hopefully aid in understanding what&#39;s happening in memory.\r\n\r\nCrash course on stack/heap before we get to the Java implementation:\r\nValues go on and off the stack in a nice orderly fashion, like a stack of plates at a cafeteria.\r\nMemory in the heap (also known as dynamic memory) is haphazard and disorganized. The JVM just finds space wherever it can, and frees it up as the variables that use it are no longer needed.\r\n\r\nOkay. First off, local primitives go on the stack. So this code:\r\n\r\n    int x = 3;\r\n    float y = 101.1f;\r\n    boolean amIAwesome = true;\r\n\r\nresults in this:\r\n\r\n![primitives on the stack][1]\r\n\r\n\r\nWhen you declare and instantiate an object. The actual object goes on the heap. What goes on the stack? The address of the object on the heap. C++ programmers would call this a pointer, but some Java developers are against the word &quot;pointer&quot;. Whatever. Just know that the address of the object goes on the stack.\r\n\r\nLike so:\r\n\r\n    int problems = 99;\r\n    String name = &quot;Jay-Z&quot;;\r\n\r\n![a b*7ch aint one!][2]\r\n\r\nAn array is an object, so it goes on the heap as well. And what about the objects in the array? They get their own heap space, and the address of each object goes inside the array.\r\n\r\n    JButton[] marxBros = new JButton[3];\r\n    marxBros[0] = new JButton(&quot;Groucho&quot;);\r\n    marxBros[1] = new JButton(&quot;Zeppo&quot;);\r\n    marxBros[2] = new JButton(&quot;Harpo&quot;);\r\n\r\n![marx brothers][3]\r\n\r\nSo, what gets passed in when you call a method? If you pass in an object, what you&#39;re actually passing in is the address of the object. Some might say the &quot;value&quot; of the address, and some say it&#39;s just a reference to the object. This is the genesis of the holy war between &quot;reference&quot; and &quot;value&quot; proponents. What you call it isn&#39;t as important as that you understand that what&#39;s getting passed in is the address to the object.\r\n\r\n    private static void shout(String name){\r\n        System.out.println(&quot;There goes &quot; + name + &quot;!&quot;);\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        String hisName = &quot;John J. Jingleheimerschmitz&quot;;\r\n        String myName = hisName;\r\n        shout(myName);\r\n    }\r\n\r\nOne String gets created and space for it is allocated in the heap, and the address to the string is stored on the stack and given the identifier `hisName`, since the address of the second String is the same as the first, no new String is created and no new heap space is allocated, but a new identifier is created on the stack. Then we call `shout()`: a new stack frame is created and a new identifier, `name` is created and assigned the address of the already-existing String.\r\n\r\n![la da di da da da da][4]\r\n\r\nSo, value, reference? You say &quot;potato&quot;.\r\n\r\n  [1]: http://i.stack.imgur.com/7nGKU.png\r\n  [2]: http://i.stack.imgur.com/yTIYp.png\r\n  [3]: http://i.stack.imgur.com/v2b33.png\r\n  [4]: http://i.stack.imgur.com/q0prc.png","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I feel like arguing about \"pass-by-reference vs pass-by-value\" is not super-helpful.</p>\n\n<p>If you say, \"Java is pass-by-whatever (reference/value)\", in either case, you're not provide a complete answer. Here's some additional information that will hopefully aid in understanding what's happening in memory.</p>\n\n<p>Crash course on stack/heap before we get to the Java implementation:\nValues go on and off the stack in a nice orderly fashion, like a stack of plates at a cafeteria.\nMemory in the heap (also known as dynamic memory) is haphazard and disorganized. The JVM just finds space wherever it can, and frees it up as the variables that use it are no longer needed.</p>\n\n<p>Okay. First off, local primitives go on the stack. So this code:</p>\n\n<pre><code>int x = 3;\nfloat y = 101.1f;\nboolean amIAwesome = true;\n</code></pre>\n\n<p>results in this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/7nGKU.png\" alt=\"primitives on the stack\"></p>\n\n<p>When you declare and instantiate an object. The actual object goes on the heap. What goes on the stack? The address of the object on the heap. C++ programmers would call this a pointer, but some Java developers are against the word \"pointer\". Whatever. Just know that the address of the object goes on the stack.</p>\n\n<p>Like so:</p>\n\n<pre><code>int problems = 99;\nString name = \"Jay-Z\";\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/yTIYp.png\" alt=\"a b*7ch aint one!\"></p>\n\n<p>An array is an object, so it goes on the heap as well. And what about the objects in the array? They get their own heap space, and the address of each object goes inside the array.</p>\n\n<pre><code>JButton[] marxBros = new JButton[3];\nmarxBros[0] = new JButton(\"Groucho\");\nmarxBros[1] = new JButton(\"Zeppo\");\nmarxBros[2] = new JButton(\"Harpo\");\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/v2b33.png\" alt=\"marx brothers\"></p>\n\n<p>So, what gets passed in when you call a method? If you pass in an object, what you're actually passing in is the address of the object. Some might say the \"value\" of the address, and some say it's just a reference to the object. This is the genesis of the holy war between \"reference\" and \"value\" proponents. What you call it isn't as important as that you understand that what's getting passed in is the address to the object.</p>\n\n<pre><code>private static void shout(String name){\n    System.out.println(\"There goes \" + name + \"!\");\n}\n\npublic static void main(String[] args){\n    String hisName = \"John J. Jingleheimerschmitz\";\n    String myName = hisName;\n    shout(myName);\n}\n</code></pre>\n\n<p>One String gets created and space for it is allocated in the heap, and the address to the string is stored on the stack and given the identifier <code>hisName</code>, since the address of the second String is the same as the first, no new String is created and no new heap space is allocated, but a new identifier is created on the stack. Then we call <code>shout()</code>: a new stack frame is created and a new identifier, <code>name</code> is created and assigned the address of the already-existing String.</p>\n\n<p><img src=\"https://i.stack.imgur.com/q0prc.png\" alt=\"la da di da da da da\"></p>\n\n<p>So, value, reference? You say \"potato\".</p>\n"},{"tags":[],"owner":{"account_id":2182740,"reputation":10566,"user_id":1931858,"display_name":"user1931858"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1379901791,"creation_date":1379901791,"answer_id":18950805,"question_id":40480,"body_markdown":"Java passes parameters by value, but for object variables, the values are essentially references to objects. Since arrays are objects the following [example code][1] shows the difference.\r\n\r\n    public static void dummyIncrease(int[] x, int y)\r\n    {\r\n        x[0]++;\r\n        y++;\r\n    }\r\n    public static void main(String[] args)\r\n    {\r\n        int[] arr = {3, 4, 5};\r\n        int b = 1;\r\n        dummyIncrease(arr, b);\r\n        // arr[0] is 4, but b is still 1\r\n    }\r\n\r\n    main()\r\n      arr +---+       +---+---+---+\r\n          | # | ----&gt; | 3 | 4 | 5 |\r\n          +---+       +---+---+---+\r\n      b   +---+             ^\r\n          | 1 |             | \r\n          +---+             |\r\n                            |\r\n    dummyIncrease()         |\r\n      x   +---+             |\r\n          | # | ------------+\r\n          +---+      \r\n      y   +---+ \r\n          | 1 | \r\n          +---+ \r\n\r\n\r\n  [1]: http://theoryapp.com/parameter-passing-in-java/","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java passes parameters by value, but for object variables, the values are essentially references to objects. Since arrays are objects the following <a href=\"http://theoryapp.com/parameter-passing-in-java/\" rel=\"noreferrer\">example code</a> shows the difference.</p>\n\n<pre><code>public static void dummyIncrease(int[] x, int y)\n{\n    x[0]++;\n    y++;\n}\npublic static void main(String[] args)\n{\n    int[] arr = {3, 4, 5};\n    int b = 1;\n    dummyIncrease(arr, b);\n    // arr[0] is 4, but b is still 1\n}\n\nmain()\n  arr +---+       +---+---+---+\n      | # | ----&gt; | 3 | 4 | 5 |\n      +---+       +---+---+---+\n  b   +---+             ^\n      | 1 |             | \n      +---+             |\n                        |\ndummyIncrease()         |\n  x   +---+             |\n      | # | ------------+\n      +---+      \n  y   +---+ \n      | 1 | \n      +---+ \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2154940,"reputation":924,"user_id":1910406,"display_name":"Ganesh"},"comment_count":0,"down_vote_count":2,"up_vote_count":104,"is_accepted":false,"score":102,"last_activity_date":1690495083,"creation_date":1381996470,"answer_id":19421107,"question_id":40480,"body_markdown":"**Java is always pass by value, not pass by reference** \r\n\r\nFirst of all, we need to understand what pass by value and pass by reference are. \r\n\r\n**Pass by value means that you are making a copy in memory of the actual parameter&#39;s value that is passed in. This is a copy of the contents of the actual parameter**.\r\n\r\n**Pass by reference (also called pass by address) means that a copy of the address of the actual parameter is stored**.\r\n\r\nSometimes Java can give the illusion of pass by reference. Let&#39;s see how it works by using the example below:\r\n\r\n\r\n    public class PassByValue {\r\n        public static void main(String[] args) {\r\n            Test t = new Test();\r\n            t.name = &quot;initialvalue&quot;;\r\n            new PassByValue().changeValue(t);\r\n            System.out.println(t.name);\r\n        }\r\n        \r\n        public void changeValue(Test f) {\r\n            f.name = &quot;changevalue&quot;;\r\n        }\r\n    }\r\n    \r\n    class Test {\r\n        String name;\r\n    }\r\n\r\nThe output of this program is: \r\n\r\n&gt;     changevalue\r\n\r\n\r\nLet&#39;s understand step by step:\r\n\r\n    Test t = new Test();\r\n\r\nAs we all know it will create an object in the heap and return the reference value back to t. For example, suppose the value of t is `0x100234` (we don&#39;t know the actual JVM internal value, this is just an example) .\r\n\r\n\r\n![first illustration][1]\r\n\r\n    new PassByValue().changeValue(t);\r\n\r\nWhen passing reference t to the function it will not directly pass the actual reference value of object test,  but it will create a copy of t and then pass it to the function. Since it is **passing by value**, it passes a copy of the variable rather than the actual reference of it. Since we said the value of t was `0x100234`, both t and f will have the same value and hence they will point to the same object.\r\n\r\n![second illustration][2]\r\n\r\nIf you change anything in the function using reference f it will modify the existing contents of the object. That is why we got the output `changevalue`,   which is updated in the function.\r\n\r\nTo understand this more clearly, consider the following example:\r\n\r\n    public class PassByValue {\r\n        public static void main(String[] args) {\r\n            Test t = new Test();\r\n            t.name = &quot;initialvalue&quot;;\r\n            new PassByValue().changeRefence(t);\r\n            System.out.println(t.name);\r\n        }\r\n        \r\n        public void changeRefence(Test f) {\r\n            f = null;\r\n        }\r\n    }\r\n    \r\n    class Test {\r\n        String name;\r\n    }\r\n\r\nWill this throw a `NullPointerException`? No, because it only passes a copy of the reference. \r\nIn the case of passing by reference, it could have thrown a `NullPointerException`, as seen below:\r\n\r\n![third illustration][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/AVrhI.png\r\n  [2]: http://i.stack.imgur.com/WwdPh.png\r\n  [3]: http://i.stack.imgur.com/jH6KP.png","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p><strong>Java is always pass by value, not pass by reference</strong></p>\n<p>First of all, we need to understand what pass by value and pass by reference are.</p>\n<p><strong>Pass by value means that you are making a copy in memory of the actual parameter's value that is passed in. This is a copy of the contents of the actual parameter</strong>.</p>\n<p><strong>Pass by reference (also called pass by address) means that a copy of the address of the actual parameter is stored</strong>.</p>\n<p>Sometimes Java can give the illusion of pass by reference. Let's see how it works by using the example below:</p>\n<pre><code>public class PassByValue {\n    public static void main(String[] args) {\n        Test t = new Test();\n        t.name = &quot;initialvalue&quot;;\n        new PassByValue().changeValue(t);\n        System.out.println(t.name);\n    }\n    \n    public void changeValue(Test f) {\n        f.name = &quot;changevalue&quot;;\n    }\n}\n\nclass Test {\n    String name;\n}\n</code></pre>\n<p>The output of this program is:</p>\n<blockquote>\n<pre><code>changevalue\n</code></pre>\n</blockquote>\n<p>Let's understand step by step:</p>\n<pre><code>Test t = new Test();\n</code></pre>\n<p>As we all know it will create an object in the heap and return the reference value back to t. For example, suppose the value of t is <code>0x100234</code> (we don't know the actual JVM internal value, this is just an example) .</p>\n<p><img src=\"https://i.stack.imgur.com/AVrhI.png\" alt=\"first illustration\" /></p>\n<pre><code>new PassByValue().changeValue(t);\n</code></pre>\n<p>When passing reference t to the function it will not directly pass the actual reference value of object test,  but it will create a copy of t and then pass it to the function. Since it is <strong>passing by value</strong>, it passes a copy of the variable rather than the actual reference of it. Since we said the value of t was <code>0x100234</code>, both t and f will have the same value and hence they will point to the same object.</p>\n<p><img src=\"https://i.stack.imgur.com/WwdPh.png\" alt=\"second illustration\" /></p>\n<p>If you change anything in the function using reference f it will modify the existing contents of the object. That is why we got the output <code>changevalue</code>,   which is updated in the function.</p>\n<p>To understand this more clearly, consider the following example:</p>\n<pre><code>public class PassByValue {\n    public static void main(String[] args) {\n        Test t = new Test();\n        t.name = &quot;initialvalue&quot;;\n        new PassByValue().changeRefence(t);\n        System.out.println(t.name);\n    }\n    \n    public void changeRefence(Test f) {\n        f = null;\n    }\n}\n\nclass Test {\n    String name;\n}\n</code></pre>\n<p>Will this throw a <code>NullPointerException</code>? No, because it only passes a copy of the reference.\nIn the case of passing by reference, it could have thrown a <code>NullPointerException</code>, as seen below:</p>\n<p><img src=\"https://i.stack.imgur.com/jH6KP.png\" alt=\"third illustration\" /></p>\n"},{"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1511901234,"post_id":19970416,"comment_id":82037935,"body_markdown":"This is very misleading.  You certainly _can_ change the value of an argument from within a method.","body":"This is very misleading.  You certainly <i>can</i> change the value of an argument from within a method."}],"tags":[],"owner":{"account_id":2151704,"reputation":354,"user_id":1907916,"accept_rate":100,"display_name":"Bhushan"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1384415802,"creation_date":1384407825,"answer_id":19970416,"question_id":40480,"body_markdown":"The Java programming language passes arguments only by value, that is,\r\nyou cannot change the argument value in the calling method from within\r\nthe called method.\r\n\r\n\r\n----------\r\n\r\n\r\nHowever, when an object instance is passed as an argument to a method,\r\nthe value of the argument is not the object itself but a reference to the\r\nobject. You can change the contents of the object in the called method but\r\nnot the object reference.\r\n\r\n\r\n----------\r\n\r\n\r\nTo many people, this looks like pass-by-reference, and behaviorally, it has\r\nmuch in common with pass-by-reference. However, there are two reasons\r\nthis is inaccurate.\r\n\r\n    \r\n\r\n - Firstly, the ability to change the thing passed into a\r\nmethod only applies to objects, not primitive values. \r\n\r\n - Second, the actual\r\nvalue associated with a variable of object type is the reference to the\r\nobject, and not the object itself. This is an important distinction in other\r\nways, and if clearly understood, is entirely supporting of the point that\r\nthe Java programming language passes arguments by value.\r\n\r\n----------\r\n\r\n\r\n    The following code example illustrates this point:\r\n    1 public class PassTest {\r\n    2\r\n    3   // Methods to change the current values\r\n    4   public static void changeInt(int value) {\r\n    5     value = 55;\r\n    6  }\r\n    7   public static void changeObjectRef(MyDate ref) {\r\n    8     ref = new MyDate(1, 1, 2000);\r\n    9  }\r\n    10   public static void changeObjectAttr(MyDate ref) {\r\n    11     ref.setDay(4);\r\n    12   }\r\n    13\r\n    14 public static void main(String args[]) {\r\n    15     MyDate date;\r\n    16     int val;\r\n    17\r\n    18     // Assign the int\r\n    19     val = 11;\r\n    20     // Try to change it\r\n    21     changeInt(val);\r\n    22     // What is the current value?\r\n    23     System.out.println(&quot;Int value is: &quot; + val);\r\n    24\r\n    25 // Assign the date\r\n    26     date = new MyDate(22, 7, 1964);\r\n    27     // Try to change it\r\n    28     changeObjectRef(date);\r\n    29     // What is the current value?\r\n    30 System.out.println(&quot;MyDate: &quot; + date);\r\n    31\r\n    32 // Now change the day attribute\r\n    33     // through the object reference\r\n    34     changeObjectAttr(date);\r\n    35     // What is the current value?\r\n    36 System.out.println(&quot;MyDate: &quot; + date);\r\n    37   }\r\n    38 }\r\n\r\n\r\n----------\r\n\r\n\r\n    This code outputs the following:\r\n    java PassTest\r\n    Int value is: 11\r\n    MyDate: 22-7-1964\r\n    MyDate: 4-7-1964\r\n    The MyDate object is not changed by the changeObjectRef method;\r\n    however, the changeObjectAttr method changes the day attribute of the\r\n    MyDate object.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>The Java programming language passes arguments only by value, that is,\nyou cannot change the argument value in the calling method from within\nthe called method.</p>\n\n<hr>\n\n<p>However, when an object instance is passed as an argument to a method,\nthe value of the argument is not the object itself but a reference to the\nobject. You can change the contents of the object in the called method but\nnot the object reference.</p>\n\n<hr>\n\n<p>To many people, this looks like pass-by-reference, and behaviorally, it has\nmuch in common with pass-by-reference. However, there are two reasons\nthis is inaccurate.</p>\n\n<ul>\n<li><p>Firstly, the ability to change the thing passed into a\nmethod only applies to objects, not primitive values. </p></li>\n<li><p>Second, the actual\nvalue associated with a variable of object type is the reference to the\nobject, and not the object itself. This is an important distinction in other\nways, and if clearly understood, is entirely supporting of the point that\nthe Java programming language passes arguments by value.</p></li>\n</ul>\n\n<hr>\n\n<pre><code>The following code example illustrates this point:\n1 public class PassTest {\n2\n3   // Methods to change the current values\n4   public static void changeInt(int value) {\n5     value = 55;\n6  }\n7   public static void changeObjectRef(MyDate ref) {\n8     ref = new MyDate(1, 1, 2000);\n9  }\n10   public static void changeObjectAttr(MyDate ref) {\n11     ref.setDay(4);\n12   }\n13\n14 public static void main(String args[]) {\n15     MyDate date;\n16     int val;\n17\n18     // Assign the int\n19     val = 11;\n20     // Try to change it\n21     changeInt(val);\n22     // What is the current value?\n23     System.out.println(\"Int value is: \" + val);\n24\n25 // Assign the date\n26     date = new MyDate(22, 7, 1964);\n27     // Try to change it\n28     changeObjectRef(date);\n29     // What is the current value?\n30 System.out.println(\"MyDate: \" + date);\n31\n32 // Now change the day attribute\n33     // through the object reference\n34     changeObjectAttr(date);\n35     // What is the current value?\n36 System.out.println(\"MyDate: \" + date);\n37   }\n38 }\n</code></pre>\n\n<hr>\n\n<pre><code>This code outputs the following:\njava PassTest\nInt value is: 11\nMyDate: 22-7-1964\nMyDate: 4-7-1964\nThe MyDate object is not changed by the changeObjectRef method;\nhowever, the changeObjectAttr method changes the day attribute of the\nMyDate object.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":1,"creation_date":1644969227,"post_id":20125921,"comment_id":125745360,"body_markdown":"Half of the rent: &quot;everything&quot; is &quot;objects&quot; in your post.","body":"Half of the rent: &quot;everything&quot; is &quot;objects&quot; in your post."},{"owner":{"account_id":13010218,"reputation":455,"user_id":9403530,"display_name":"platypusguy"},"score":1,"creation_date":1653900180,"post_id":20125921,"comment_id":127955536,"body_markdown":"You wrote: &quot;In java everything is reference&quot; This is not correct. Only objects are references. Primitives are not. This is what @SamGinrich meant by his comment.","body":"You wrote: &quot;In java everything is reference&quot; This is not correct. Only objects are references. Primitives are not. This is what @SamGinrich meant by his comment."}],"tags":[],"owner":{"account_id":871922,"reputation":10396,"user_id":922581,"accept_rate":50,"display_name":"Srle"},"comment_count":2,"down_vote_count":3,"up_vote_count":105,"is_accepted":false,"score":102,"last_activity_date":1442416691,"creation_date":1385049852,"answer_id":20125921,"question_id":40480,"body_markdown":"In java everything is reference, so when you have something like:\r\n\t`Point pnt1 = new Point(0,0);` Java does following:\r\n\r\n1.\tCreates new Point object\r\n2.\tCreates new Point reference and initialize that reference to *point (refer to)* on previously created Point object.\r\n3.   From here, through Point object life, you will access to that object through pnt1\r\n     reference. So we can say that in Java you manipulate object through its reference.&lt;br&gt;\r\n \r\n\r\n![enter image description here][1]\r\n\r\n\r\n**Java doesn&#39;t pass method arguments by reference; it passes them by value.** I will use example from [this site][2]: \r\n\r\n    public static void tricky(Point arg1, Point arg2) {\r\n      arg1.x = 100;\r\n      arg1.y = 100;\r\n      Point temp = arg1;\r\n      arg1 = arg2;\r\n      arg2 = temp;\r\n    }\r\n    public static void main(String [] args) {\r\n      Point pnt1 = new Point(0,0);\r\n      Point pnt2 = new Point(0,0);\r\n      System.out.println(&quot;X1: &quot; + pnt1.x + &quot; Y1: &quot; +pnt1.y); \r\n      System.out.println(&quot;X2: &quot; + pnt2.x + &quot; Y2: &quot; +pnt2.y);\r\n      System.out.println(&quot; &quot;);\r\n      tricky(pnt1,pnt2);\r\n      System.out.println(&quot;X1: &quot; + pnt1.x + &quot; Y1:&quot; + pnt1.y); \r\n      System.out.println(&quot;X2: &quot; + pnt2.x + &quot; Y2: &quot; +pnt2.y);  \r\n    }\r\n\r\nFlow of the program:\r\n\r\n    Point pnt1 = new Point(0,0);\r\n    Point pnt2 = new Point(0,0);\r\n\r\nCreating two different Point object with two different reference associated.\r\n![enter image description here][3]\r\n\r\n\r\n    System.out.println(&quot;X1: &quot; + pnt1.x + &quot; Y1: &quot; +pnt1.y); \r\n    System.out.println(&quot;X2: &quot; + pnt2.x + &quot; Y2: &quot; +pnt2.y);\r\n    System.out.println(&quot; &quot;);\r\n\r\nAs expected output will be:\r\n\t\r\n\r\n    X1: 0     Y1: 0\r\n    X2: 0     Y2: 0\r\n\r\n**On this line &#39;pass-by-value&#39; goes into the play...** &lt;br&gt;\r\n\r\n    tricky(pnt1,pnt2);           public void tricky(Point arg1, Point arg2);\r\n\r\nReferences `pnt1` and `pnt2` are **passed by value** to the tricky method, which means that now yours references `pnt1` and `pnt2` have their `copies` named `arg1` and `arg2`.So `pnt1` and `arg1` *points* to the same object. (Same for the `pnt2` and `arg2`)\r\n![enter image description here][4]\r\n\r\n\r\nIn the `tricky` method:\r\n   \r\n\r\n     arg1.x = 100;\r\n     arg1.y = 100;\r\n![enter image description here][5]\r\n\r\n\r\nNext in the `tricky` method\r\n\r\n    Point temp = arg1;\r\n    arg1 = arg2;\r\n    arg2 = temp;\r\n\r\nHere, you first create new `temp` Point reference which will *point* on same place like `arg1` reference. Then you move reference `arg1` to *point* to the same place like `arg2` reference.\r\nFinally `arg2` will *point* to the same place like `temp`.\r\n\r\n![enter image description here][6]\r\n\r\n\r\nFrom here scope of `tricky` method is gone and you don&#39;t have access any more to the references: `arg1`, `arg2`, `temp`. **But important note is that everything you do with these references when they are &#39;in life&#39; will permanently affect object on which they are *point* to.** \r\n\r\nSo after executing method `tricky`, when you return to `main`, you have this situation:\r\n![enter image description here][7]\r\n\r\n\r\nSo now, completely execution of program will be:\r\n\r\n    X1: 0         Y1: 0\r\n    X2: 0         Y2: 0\r\n    X1: 100       Y1: 100\r\n    X2: 0         Y2: 0\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/jM54f.png\r\n  [2]: http://www.javaworld.com/javaqa/2000-05/03-qa-0526-pass.html\r\n  [3]: http://i.stack.imgur.com/5LIKC.png\r\n  [4]: http://i.stack.imgur.com/qd1GH.png\r\n  [5]: http://i.stack.imgur.com/o4WT0.png\r\n  [6]: http://i.stack.imgur.com/fX5Q3.png\r\n  [7]: http://i.stack.imgur.com/LRETe.png","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>In java everything is reference, so when you have something like:\n    <code>Point pnt1 = new Point(0,0);</code> Java does following:</p>\n\n<ol>\n<li>Creates new Point object</li>\n<li>Creates new Point reference and initialize that reference to <em>point (refer to)</em> on previously created Point object.</li>\n<li>From here, through Point object life, you will access to that object through pnt1\n reference. So we can say that in Java you manipulate object through its reference.<br></li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/jM54f.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Java doesn't pass method arguments by reference; it passes them by value.</strong> I will use example from <a href=\"http://www.javaworld.com/javaqa/2000-05/03-qa-0526-pass.html\" rel=\"noreferrer\">this site</a>: </p>\n\n<pre><code>public static void tricky(Point arg1, Point arg2) {\n  arg1.x = 100;\n  arg1.y = 100;\n  Point temp = arg1;\n  arg1 = arg2;\n  arg2 = temp;\n}\npublic static void main(String [] args) {\n  Point pnt1 = new Point(0,0);\n  Point pnt2 = new Point(0,0);\n  System.out.println(\"X1: \" + pnt1.x + \" Y1: \" +pnt1.y); \n  System.out.println(\"X2: \" + pnt2.x + \" Y2: \" +pnt2.y);\n  System.out.println(\" \");\n  tricky(pnt1,pnt2);\n  System.out.println(\"X1: \" + pnt1.x + \" Y1:\" + pnt1.y); \n  System.out.println(\"X2: \" + pnt2.x + \" Y2: \" +pnt2.y);  \n}\n</code></pre>\n\n<p>Flow of the program:</p>\n\n<pre><code>Point pnt1 = new Point(0,0);\nPoint pnt2 = new Point(0,0);\n</code></pre>\n\n<p>Creating two different Point object with two different reference associated.\n<img src=\"https://i.stack.imgur.com/5LIKC.png\" alt=\"enter image description here\"></p>\n\n<pre><code>System.out.println(\"X1: \" + pnt1.x + \" Y1: \" +pnt1.y); \nSystem.out.println(\"X2: \" + pnt2.x + \" Y2: \" +pnt2.y);\nSystem.out.println(\" \");\n</code></pre>\n\n<p>As expected output will be:</p>\n\n<pre><code>X1: 0     Y1: 0\nX2: 0     Y2: 0\n</code></pre>\n\n<p><strong>On this line 'pass-by-value' goes into the play...</strong> <br></p>\n\n<pre><code>tricky(pnt1,pnt2);           public void tricky(Point arg1, Point arg2);\n</code></pre>\n\n<p>References <code>pnt1</code> and <code>pnt2</code> are <strong>passed by value</strong> to the tricky method, which means that now yours references <code>pnt1</code> and <code>pnt2</code> have their <code>copies</code> named <code>arg1</code> and <code>arg2</code>.So <code>pnt1</code> and <code>arg1</code> <em>points</em> to the same object. (Same for the <code>pnt2</code> and <code>arg2</code>)\n<img src=\"https://i.stack.imgur.com/qd1GH.png\" alt=\"enter image description here\"></p>\n\n<p>In the <code>tricky</code> method:</p>\n\n<pre><code> arg1.x = 100;\n arg1.y = 100;\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/o4WT0.png\" alt=\"enter image description here\"></p>\n\n<p>Next in the <code>tricky</code> method</p>\n\n<pre><code>Point temp = arg1;\narg1 = arg2;\narg2 = temp;\n</code></pre>\n\n<p>Here, you first create new <code>temp</code> Point reference which will <em>point</em> on same place like <code>arg1</code> reference. Then you move reference <code>arg1</code> to <em>point</em> to the same place like <code>arg2</code> reference.\nFinally <code>arg2</code> will <em>point</em> to the same place like <code>temp</code>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/fX5Q3.png\" alt=\"enter image description here\"></p>\n\n<p>From here scope of <code>tricky</code> method is gone and you don't have access any more to the references: <code>arg1</code>, <code>arg2</code>, <code>temp</code>. <strong>But important note is that everything you do with these references when they are 'in life' will permanently affect object on which they are <em>point</em> to.</strong> </p>\n\n<p>So after executing method <code>tricky</code>, when you return to <code>main</code>, you have this situation:\n<img src=\"https://i.stack.imgur.com/LRETe.png\" alt=\"enter image description here\"></p>\n\n<p>So now, completely execution of program will be:</p>\n\n<pre><code>X1: 0         Y1: 0\nX2: 0         Y2: 0\nX1: 100       Y1: 100\nX2: 0         Y2: 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67281,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"comment_count":0,"down_vote_count":4,"up_vote_count":9,"is_accepted":false,"score":5,"last_activity_date":1386059205,"creation_date":1386059205,"answer_id":20346109,"question_id":40480,"body_markdown":"**Java passes references to objects by value.**\r\n\r\nSo if any modification is done to the Object to which the reference argument points it will be reflected back on the original object.\r\n\r\nBut if the reference argument point to another Object still the original reference will point to original Object.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p><strong>Java passes references to objects by value.</strong></p>\n\n<p>So if any modification is done to the Object to which the reference argument points it will be reflected back on the original object.</p>\n\n<p>But if the reference argument point to another Object still the original reference will point to original Object.</p>\n"},{"tags":[],"owner":{"account_id":75375,"reputation":2558,"user_id":216248,"accept_rate":88,"display_name":"karatedog"},"comment_count":0,"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1451288187,"creation_date":1386937393,"answer_id":20566453,"question_id":40480,"body_markdown":"A reference is always a value when represented, no matter what language you use.\r\n-----\r\n\r\nGetting an outside of the box view, let&#39;s look at Assembly or some low level memory management. At the CPU level a _reference_ to anything immediately becomes a _value_ if it gets written to memory or to one of the CPU registers. (That is why _pointer_ is a good definition. It is a value, which has a purpose at the same time).\r\n\r\nData in memory has a **Location** and at that location there is a value (byte,word, whatever). In Assembly we have a convenient solution to give a **Name** to certain **Location** (aka variable), but when compiling the code, the assembler simply replaces **Name** with the designated location just like your browser replaces domain names with IP addresses.\r\n\r\nDown to the core it is technically impossible to pass a reference to anything in any language without representing it (when it immediately becomes a value).\r\n\r\nLets say we have a variable Foo, its **Location** is at the 47th byte in memory and its **Value** is 5. We have another variable **Ref2Foo** which is at 223rd byte in memory, and its value will be 47. This Ref2Foo might be a technical variable, not explicitly created by the program. If you just look at 5 and 47 without any other information, you will see just two **Values**.\r\nIf you use them as references then to reach to `5` we have to travel:\r\n\r\n    (Name)[Location] -&gt; [Value at the Location]\r\n    ---------------------\r\n    (Ref2Foo)[223]  -&gt; 47\r\n    (Foo)[47]       -&gt; 5\r\n\r\nThis is how jump-tables work. \r\n\r\nIf we want to call a method/function/procedure with Foo&#39;s value, there are a few possible way to pass the variable to the method, depending on the **language** and its several method invocation modes:\r\n\r\n1. 5 gets copied to one of the CPU registers (ie. EAX).\r\n2. 5 gets PUSHd to the stack.\r\n3. 47 gets copied to one of the CPU registers\r\n4. 47 PUSHd to the stack.\r\n5. 223 gets copied to one of the CPU registers.\r\n6. 223 gets PUSHd to the stack.\r\n\r\nIn every cases above a value - a **copy** of an existing value - has been created, it is now upto the receiving method to handle it. When you write &quot;Foo&quot; inside the method, it is either read out from EAX, or automatically  **dereferenced**, or double dereferenced, the process depends on how the language works and/or what the type of Foo dictates. This is hidden from the developer until she circumvents the dereferencing process. So a _reference_ is a _value_ when represented, because a reference is a value that has to be processed (at language level).\r\n\r\nNow we have passed Foo to the method:\r\n\r\n- in case 1. and 2. if you change Foo (`Foo = 9`) it only affects local scope as you have a copy of the Value. From inside the method we cannot even determine where in memory the original Foo was located.\r\n- in case 3. and 4. if you use default language constructs and change Foo (`Foo = 11`), it could change Foo globally (depends on the language, ie. Java or like Pascal&#39;s `procedure findMin(x, y, z: integer; `**var m**`: integer);`). However if the language allows you to circumvent the dereference process, you can change `47`, say to `49`. At that point Foo seems to have been changed if you read it, because you have changed the **local pointer** to it. And if you were to modify this Foo inside the method (`Foo = 12`) you will probably FUBAR the execution of the program (aka. segfault) because you will write to a different memory than expected, you can even modify an area that is destined to hold executable program and writing to it will modify running code (Foo is now not at `47`). BUT Foo&#39;s value of `47` did not change globally, only the one inside the method, because `47` was also a copy to the method.\r\n- in case 5. and 6. if you modify `223` inside the method it creates the same mayhem as in 3. or 4. (a pointer, pointing to a now bad value, that is again used as a pointer) but this is still a local problem, as 223 was **copied**. However if you are able to dereference `Ref2Foo` (that is `223`), reach to and modify the pointed value `47`, say, to `49`, it will affect Foo **globally**, because in this case the methods got a copy of `223`  but the referenced `47` exists only once, and changing that to `49` will lead every `Ref2Foo` double-dereferencing to a wrong value.\r\n\r\nNitpicking on insignificant details, even languages that do pass-by-reference will pass values to functions, but those functions know that they have to use it for dereferencing purposes. This pass-the-reference-as-value is just hidden from the programmer because it is practically useless and the terminology is only _pass-by-reference_.\r\n\r\nStrict _pass-by-value_ is also useless, it would mean that a 100 Mbyte array should have to be copied every time we call a method with the array as argument, therefore Java cannot be stricly pass-by-value. Every language would pass a reference to this huge array (as a value) and either employs copy-on-write mechanism if that array can be changed locally inside the method or allows the method (as Java does) to modify the array globally (from the caller&#39;s view) and a few languages allows to modify the Value of the reference itself.\r\n\r\nSo in short and in Java&#39;s own terminology, Java is _pass-by-value_ where _value_ can be: either a **real value** or a **value** that is a representation of a **reference**. \r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<h2>A reference is always a value when represented, no matter what language you use.</h2>\n\n<p>Getting an outside of the box view, let's look at Assembly or some low level memory management. At the CPU level a <em>reference</em> to anything immediately becomes a <em>value</em> if it gets written to memory or to one of the CPU registers. (That is why <em>pointer</em> is a good definition. It is a value, which has a purpose at the same time).</p>\n\n<p>Data in memory has a <strong>Location</strong> and at that location there is a value (byte,word, whatever). In Assembly we have a convenient solution to give a <strong>Name</strong> to certain <strong>Location</strong> (aka variable), but when compiling the code, the assembler simply replaces <strong>Name</strong> with the designated location just like your browser replaces domain names with IP addresses.</p>\n\n<p>Down to the core it is technically impossible to pass a reference to anything in any language without representing it (when it immediately becomes a value).</p>\n\n<p>Lets say we have a variable Foo, its <strong>Location</strong> is at the 47th byte in memory and its <strong>Value</strong> is 5. We have another variable <strong>Ref2Foo</strong> which is at 223rd byte in memory, and its value will be 47. This Ref2Foo might be a technical variable, not explicitly created by the program. If you just look at 5 and 47 without any other information, you will see just two <strong>Values</strong>.\nIf you use them as references then to reach to <code>5</code> we have to travel:</p>\n\n<pre><code>(Name)[Location] -&gt; [Value at the Location]\n---------------------\n(Ref2Foo)[223]  -&gt; 47\n(Foo)[47]       -&gt; 5\n</code></pre>\n\n<p>This is how jump-tables work. </p>\n\n<p>If we want to call a method/function/procedure with Foo's value, there are a few possible way to pass the variable to the method, depending on the <strong>language</strong> and its several method invocation modes:</p>\n\n<ol>\n<li>5 gets copied to one of the CPU registers (ie. EAX).</li>\n<li>5 gets PUSHd to the stack.</li>\n<li>47 gets copied to one of the CPU registers</li>\n<li>47 PUSHd to the stack.</li>\n<li>223 gets copied to one of the CPU registers.</li>\n<li>223 gets PUSHd to the stack.</li>\n</ol>\n\n<p>In every cases above a value - a <strong>copy</strong> of an existing value - has been created, it is now upto the receiving method to handle it. When you write \"Foo\" inside the method, it is either read out from EAX, or automatically  <strong>dereferenced</strong>, or double dereferenced, the process depends on how the language works and/or what the type of Foo dictates. This is hidden from the developer until she circumvents the dereferencing process. So a <em>reference</em> is a <em>value</em> when represented, because a reference is a value that has to be processed (at language level).</p>\n\n<p>Now we have passed Foo to the method:</p>\n\n<ul>\n<li>in case 1. and 2. if you change Foo (<code>Foo = 9</code>) it only affects local scope as you have a copy of the Value. From inside the method we cannot even determine where in memory the original Foo was located.</li>\n<li>in case 3. and 4. if you use default language constructs and change Foo (<code>Foo = 11</code>), it could change Foo globally (depends on the language, ie. Java or like Pascal's <code>procedure findMin(x, y, z: integer;</code><strong>var m</strong><code>: integer);</code>). However if the language allows you to circumvent the dereference process, you can change <code>47</code>, say to <code>49</code>. At that point Foo seems to have been changed if you read it, because you have changed the <strong>local pointer</strong> to it. And if you were to modify this Foo inside the method (<code>Foo = 12</code>) you will probably FUBAR the execution of the program (aka. segfault) because you will write to a different memory than expected, you can even modify an area that is destined to hold executable program and writing to it will modify running code (Foo is now not at <code>47</code>). BUT Foo's value of <code>47</code> did not change globally, only the one inside the method, because <code>47</code> was also a copy to the method.</li>\n<li>in case 5. and 6. if you modify <code>223</code> inside the method it creates the same mayhem as in 3. or 4. (a pointer, pointing to a now bad value, that is again used as a pointer) but this is still a local problem, as 223 was <strong>copied</strong>. However if you are able to dereference <code>Ref2Foo</code> (that is <code>223</code>), reach to and modify the pointed value <code>47</code>, say, to <code>49</code>, it will affect Foo <strong>globally</strong>, because in this case the methods got a copy of <code>223</code>  but the referenced <code>47</code> exists only once, and changing that to <code>49</code> will lead every <code>Ref2Foo</code> double-dereferencing to a wrong value.</li>\n</ul>\n\n<p>Nitpicking on insignificant details, even languages that do pass-by-reference will pass values to functions, but those functions know that they have to use it for dereferencing purposes. This pass-the-reference-as-value is just hidden from the programmer because it is practically useless and the terminology is only <em>pass-by-reference</em>.</p>\n\n<p>Strict <em>pass-by-value</em> is also useless, it would mean that a 100 Mbyte array should have to be copied every time we call a method with the array as argument, therefore Java cannot be stricly pass-by-value. Every language would pass a reference to this huge array (as a value) and either employs copy-on-write mechanism if that array can be changed locally inside the method or allows the method (as Java does) to modify the array globally (from the caller's view) and a few languages allows to modify the Value of the reference itself.</p>\n\n<p>So in short and in Java's own terminology, Java is <em>pass-by-value</em> where <em>value</em> can be: either a <strong>real value</strong> or a <strong>value</strong> that is a representation of a <strong>reference</strong>. </p>\n"},{"tags":[],"owner":{"account_id":408442,"reputation":21426,"user_id":779111,"accept_rate":85,"display_name":"JAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1398833700,"creation_date":1390407794,"answer_id":21288385,"question_id":40480,"body_markdown":"Mr @Scott Stanchfield wrote an excellent answer. Here is the class that would you to verify\r\nexactly what he meant:\r\n\r\n    public class Dog {\r\n\r\n        String dog ;\r\n        static int x_static;\r\n        int y_not_static;\r\n\r\n        public String getName()\r\n        {\r\n            return this.dog;\r\n        }\r\n\r\n        public Dog(String dog)\r\n        {\r\n            this.dog = dog;\r\n        }\r\n\r\n        public void setName(String name)\r\n        {\r\n            this.dog = name;\r\n        }\r\n\r\n        public static void foo(Dog someDog)\r\n        {\r\n            x_static = 1;\r\n            // y_not_static = 2;  // not possible !!\r\n            someDog.setName(&quot;Max&quot;);     // AAA\r\n            someDog = new Dog(&quot;Fifi&quot;);  // BBB\r\n            someDog.setName(&quot;Rowlf&quot;);   // CCC\r\n        }\r\n\r\n        public static void main(String args[])\r\n        {\r\n            Dog myDog = new Dog(&quot;Rover&quot;);\r\n            foo(myDog);\r\n            System.out.println(myDog.getName());\r\n        }\r\n    }\r\n\r\nSo, we pass from main() a dog called `Rover`, then we assign a new address to the pointer that we passed, but at the end, the name of the dog is not `Rover`, and not `Fifi`, and certainly not `Rowlf`, but `Max`.\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Mr @Scott Stanchfield wrote an excellent answer. Here is the class that would you to verify\nexactly what he meant:</p>\n\n<pre><code>public class Dog {\n\n    String dog ;\n    static int x_static;\n    int y_not_static;\n\n    public String getName()\n    {\n        return this.dog;\n    }\n\n    public Dog(String dog)\n    {\n        this.dog = dog;\n    }\n\n    public void setName(String name)\n    {\n        this.dog = name;\n    }\n\n    public static void foo(Dog someDog)\n    {\n        x_static = 1;\n        // y_not_static = 2;  // not possible !!\n        someDog.setName(\"Max\");     // AAA\n        someDog = new Dog(\"Fifi\");  // BBB\n        someDog.setName(\"Rowlf\");   // CCC\n    }\n\n    public static void main(String args[])\n    {\n        Dog myDog = new Dog(\"Rover\");\n        foo(myDog);\n        System.out.println(myDog.getName());\n    }\n}\n</code></pre>\n\n<p>So, we pass from main() a dog called <code>Rover</code>, then we assign a new address to the pointer that we passed, but at the end, the name of the dog is not <code>Rover</code>, and not <code>Fifi</code>, and certainly not <code>Rowlf</code>, but <code>Max</code>.</p>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":0,"down_vote_count":1,"up_vote_count":58,"is_accepted":false,"score":57,"last_activity_date":1633794864,"creation_date":1404370091,"answer_id":24546764,"question_id":40480,"body_markdown":"I thought I&#39;d contribute this answer to add more details from the Specifications.\r\n\r\nFirst, https://stackoverflow.com/questions/373419/whats-the-difference-between-passing-by-reference-vs-passing-by-value\r\n\r\n&gt; Passing by reference means the called functions&#39; parameter will be the\r\n&gt; same as the callers&#39; passed argument (not the value, but the identity\r\n&gt; - the variable itself). \r\n&gt; \r\n&gt; Pass by value means the called functions&#39; parameter will be a copy of\r\n&gt; the callers&#39; passed argument.\r\n\r\nOr from wikipedia, [on the subject of pass-by-reference][1]\r\n\r\n&gt; In call-by-reference evaluation (also referred to as\r\n&gt; pass-by-reference), a function receives an implicit reference to a\r\n&gt; variable used as argument, rather than a copy of its value. This\r\n&gt; typically means that the function can modify (i.e. assign to) the\r\n&gt; variable used as argument—something that will be seen by its caller.\r\n\r\nAnd [on the subject of pass-by-value][2]\r\n\r\n&gt; In call-by-value, the argument expression is evaluated, and the\r\n&gt; resulting value is bound to the corresponding variable in the function [...]. \r\n&gt; If the function or procedure is able to assign values to its\r\n&gt; parameters, only its local copy is assigned [...].\r\n\r\nSecond, we need to know what Java uses in its method invocations. The [Java Language Specification][3] states\r\n\r\n&gt; When the method or constructor is invoked (&#167;15.12), **the values of the\r\n&gt; actual argument expressions initialize newly created parameter\r\n&gt; variables**, each of the declared type, before execution of the body of\r\n&gt; the method or constructor.\r\n\r\nSo it assigns (or binds) the value of the argument to the corresponding parameter variable. \r\n\r\n**What is the value of the argument?**\r\n\r\nLet&#39;s consider reference types, the [Java Virtual Machine Specification][4] states\r\n\r\n&gt; There are three kinds of **reference types**: class types, array types,\r\n&gt; and interface types. **Their values are references to dynamically\r\n&gt; created class instances, arrays, or class instances or arrays that\r\n&gt; implement interfaces, respectively.**\r\n\r\nThe [Java Language Specification][5] also states\r\n\r\n&gt; **The reference values (often just references) are pointers to these objects**, and a special null reference, which refers to no object.\r\n\r\nThe value of an argument (of some reference type) is a pointer to an object. Note that a variable, an invocation of a method with a reference type return type, and an instance creation expression (`new ...`) all resolve to a reference type value.\r\n\r\nSo\r\n\r\n    public void method (String param) {}\r\n    ...\r\n    String variable = new String(&quot;ref&quot;);\r\n    method(variable);\r\n    method(variable.toString());\r\n    method(new String(&quot;ref&quot;));\r\n\r\nall bind the value of a reference to a `String` instance to the method&#39;s newly created parameter, `param`. This is exactly what the definition of pass-by-value describes. As such, **Java is pass-by-value**.\r\n\r\n**The fact that you can follow the reference to invoke a method or access a field of the referenced object is completely irrelevant to the conversation.** The definition of pass-by-reference was\r\n\r\n&gt; This typically means that the function can modify (i.e. assign to) the\r\n&gt; variable used as argument—something that will be seen by its caller.\r\n\r\nIn Java, modifying the variable means reassigning it. In Java, if you reassigned the variable within the method, it would go unnoticed to the caller. **Modifying the object referenced by the variable is a different concept entirely.** \r\n\r\n\r\n----------\r\n\r\nPrimitive values are also defined in the Java Virtual Machine Specification, [here][6]. The value of the type is the corresponding integral or floating point value, encoded appropriately (8, 16, 32, 64, etc. bits).\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Call_by_reference#Call_by_reference\r\n  [2]: http://en.wikipedia.org/wiki/Call_by_value#Call_by_value\r\n  [3]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.1\r\n  [4]: http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.4\r\n  [5]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.3.1\r\n  [6]: http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.3","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I thought I'd contribute this answer to add more details from the Specifications.</p>\n<p>First, <a href=\"https://stackoverflow.com/questions/373419/whats-the-difference-between-passing-by-reference-vs-passing-by-value\">What&#39;s the difference between passing by reference vs. passing by value?</a></p>\n<blockquote>\n<p>Passing by reference means the called functions' parameter will be the\nsame as the callers' passed argument (not the value, but the identity</p>\n<ul>\n<li>the variable itself).</li>\n</ul>\n<p>Pass by value means the called functions' parameter will be a copy of\nthe callers' passed argument.</p>\n</blockquote>\n<p>Or from wikipedia, <a href=\"http://en.wikipedia.org/wiki/Call_by_reference#Call_by_reference\" rel=\"noreferrer\">on the subject of pass-by-reference</a></p>\n<blockquote>\n<p>In call-by-reference evaluation (also referred to as\npass-by-reference), a function receives an implicit reference to a\nvariable used as argument, rather than a copy of its value. This\ntypically means that the function can modify (i.e. assign to) the\nvariable used as argument—something that will be seen by its caller.</p>\n</blockquote>\n<p>And <a href=\"http://en.wikipedia.org/wiki/Call_by_value#Call_by_value\" rel=\"noreferrer\">on the subject of pass-by-value</a></p>\n<blockquote>\n<p>In call-by-value, the argument expression is evaluated, and the\nresulting value is bound to the corresponding variable in the function [...].\nIf the function or procedure is able to assign values to its\nparameters, only its local copy is assigned [...].</p>\n</blockquote>\n<p>Second, we need to know what Java uses in its method invocations. The <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.1\" rel=\"noreferrer\">Java Language Specification</a> states</p>\n<blockquote>\n<p>When the method or constructor is invoked (§15.12), <strong>the values of the\nactual argument expressions initialize newly created parameter\nvariables</strong>, each of the declared type, before execution of the body of\nthe method or constructor.</p>\n</blockquote>\n<p>So it assigns (or binds) the value of the argument to the corresponding parameter variable.</p>\n<p><strong>What is the value of the argument?</strong></p>\n<p>Let's consider reference types, the <a href=\"http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.4\" rel=\"noreferrer\">Java Virtual Machine Specification</a> states</p>\n<blockquote>\n<p>There are three kinds of <strong>reference types</strong>: class types, array types,\nand interface types. <strong>Their values are references to dynamically\ncreated class instances, arrays, or class instances or arrays that\nimplement interfaces, respectively.</strong></p>\n</blockquote>\n<p>The <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.3.1\" rel=\"noreferrer\">Java Language Specification</a> also states</p>\n<blockquote>\n<p><strong>The reference values (often just references) are pointers to these objects</strong>, and a special null reference, which refers to no object.</p>\n</blockquote>\n<p>The value of an argument (of some reference type) is a pointer to an object. Note that a variable, an invocation of a method with a reference type return type, and an instance creation expression (<code>new ...</code>) all resolve to a reference type value.</p>\n<p>So</p>\n<pre><code>public void method (String param) {}\n...\nString variable = new String(&quot;ref&quot;);\nmethod(variable);\nmethod(variable.toString());\nmethod(new String(&quot;ref&quot;));\n</code></pre>\n<p>all bind the value of a reference to a <code>String</code> instance to the method's newly created parameter, <code>param</code>. This is exactly what the definition of pass-by-value describes. As such, <strong>Java is pass-by-value</strong>.</p>\n<p><strong>The fact that you can follow the reference to invoke a method or access a field of the referenced object is completely irrelevant to the conversation.</strong> The definition of pass-by-reference was</p>\n<blockquote>\n<p>This typically means that the function can modify (i.e. assign to) the\nvariable used as argument—something that will be seen by its caller.</p>\n</blockquote>\n<p>In Java, modifying the variable means reassigning it. In Java, if you reassigned the variable within the method, it would go unnoticed to the caller. <strong>Modifying the object referenced by the variable is a different concept entirely.</strong></p>\n<hr />\n<p>Primitive values are also defined in the Java Virtual Machine Specification, <a href=\"http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.3\" rel=\"noreferrer\">here</a>. The value of the type is the corresponding integral or floating point value, encoded appropriately (8, 16, 32, 64, etc. bits).</p>\n"},{"tags":[],"owner":{"account_id":2133499,"reputation":163,"user_id":1893773,"accept_rate":43,"display_name":"Dustin Deus"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1405023559,"creation_date":1405023559,"answer_id":24685542,"question_id":40480,"body_markdown":"**Understand it in 2 Steps:** \r\n\r\nYou can&#39;t change the reference to the object itself but you can work with this passed parameter as a reference to the object.\r\n\r\nIf you want to change the value behind the reference you will only declare a new variable on the stack with the same name &#39;d&#39;. Look at the references with the sign `@` and you will find out that the reference has been changed.\r\n\r\n    public static void foo(Dog d) {\r\n      d.Name = &quot;belly&quot;;\r\n      System.out.println(d); //Reference: Dog@1540e19d\r\n            \r\n      d = new Dog(&quot;wuffwuff&quot;);\r\n      System.out.println(d); //Dog@677327b6\r\n    }\r\n    public static void main(String[] args) throws Exception{\r\n      Dog lisa = new Dog(&quot;Lisa&quot;);\r\n      foo(lisa);\r\n      System.out.println(lisa.Name); //belly\r\n    }\r\n\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p><strong>Understand it in 2 Steps:</strong> </p>\n\n<p>You can't change the reference to the object itself but you can work with this passed parameter as a reference to the object.</p>\n\n<p>If you want to change the value behind the reference you will only declare a new variable on the stack with the same name 'd'. Look at the references with the sign <code>@</code> and you will find out that the reference has been changed.</p>\n\n<pre><code>public static void foo(Dog d) {\n  d.Name = \"belly\";\n  System.out.println(d); //Reference: Dog@1540e19d\n\n  d = new Dog(\"wuffwuff\");\n  System.out.println(d); //Dog@677327b6\n}\npublic static void main(String[] args) throws Exception{\n  Dog lisa = new Dog(\"Lisa\");\n  foo(lisa);\n  System.out.println(lisa.Name); //belly\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4918634,"reputation":39,"user_id":3961865,"display_name":"Michał Żbikowski"},"comment_count":0,"down_vote_count":2,"up_vote_count":22,"is_accepted":false,"score":20,"last_activity_date":1489141568,"creation_date":1411604618,"answer_id":26028582,"question_id":40480,"body_markdown":"Throughout all the answers we see that Java pass-by-value or rather as @Gevorg \r\nwrote: &quot;pass-by-copy-of-the-variable-value&quot; and this is the idea that we should have in mind all the time. \r\n\r\nI am focusing on examples that helped me understand the idea and it is rather addendum to previous answers.\r\n\r\nFrom [1] In Java you always are passing arguments by copy; that is you&#39;re always creating a new instance of the value inside the function. But there are certain behaviors that can make you think you&#39;re passing by reference.\r\n\r\n- Passing by copy: When a variable is passed to a method/function, a copy is made (sometimes we hear that when you pass primitives, you&#39;re making copies).\r\n\r\n- Passing by reference: When a variable is passed to a method/function, the code in the method/function operates on the original variable (You&#39;re still passing by copy, but references to values inside the complex object are parts of both versions of the variable, both the original and the version inside the function. The complex objects themselves are being copied, but the internal references are being retained)\r\n\r\nExamples of Passing by copy/ by value\r\n--------------\r\n**Example from [ref 1]**\r\n \r\n    void incrementValue(int inFunction){\r\n      inFunction ++;\r\n      System.out.println(&quot;In function: &quot; + inFunction);\r\n    }\r\n\r\n    int original = 10;\r\n    System.out.print(&quot;Original before: &quot; + original);\r\n    incrementValue(original);\r\n    System.out.println(&quot;Original after: &quot; + original);\r\n\r\n    We see in the console:\r\n     &gt; Original before: 10\r\n     &gt; In Function: 11\r\n     &gt; Original after: 10 (NO CHANGE)\r\n\r\n         \r\n\r\n**Example from [ref 2]**\r\n\r\n&gt; shows nicely the mechanism\r\n[watch max 5 min](https://www.youtube.com/watch?v=W2ysz_6AyJE&amp;list=PL6C11012B1B464EC5#t=502)\r\n\r\n\r\n(Passing by reference) pass-by-copy-of-the-variable-value\r\n----\r\n**Example from [ref 1]**\r\n(remember that an array is an object)\r\n\r\n    void incrementValu(int[] inFuncion){\r\n      inFunction[0]++;\r\n      System.out.println(&quot;In Function: &quot; + inFunction[0]);\r\n    }\r\n\r\n    int[] arOriginal = {10, 20, 30};\r\n    System.out.println(&quot;Original before: &quot; + arOriginal[0]);\r\n    incrementValue(arOriginal[]);\r\n    System.out.println(&quot;Original before: &quot; + arOriginal[0]);\r\n\r\n    We see in the console:\r\n      &gt;Original before: 10\r\n      &gt;In Function: 11\r\n      &gt;Original before: 11 (CHANGE)\r\n\r\nThe complex objects themselves are being copied, but the internal references are being retained.\r\n\r\n \r\n\r\n**Example from[ref 3]**\r\n\r\n    package com.pritesh.programs;\r\n\r\n    class Rectangle {\r\n      int length;\r\n      int width;\r\n\r\n      Rectangle(int l, int b) {\r\n        length = l;\r\n        width = b;\r\n      }\r\n\r\n      void area(Rectangle r1) {\r\n        int areaOfRectangle = r1.length * r1.width;\r\n        System.out.println(&quot;Area of Rectangle : &quot; \r\n                                + areaOfRectangle);\r\n      }\r\n    }\r\n\r\n    class RectangleDemo {\r\n      public static void main(String args[]) {\r\n        Rectangle r1 = new Rectangle(10, 20);\r\n        r1.area(r1);\r\n      }\r\n    }\r\n\r\nThe area of the rectangle is 200 and the length=10 and width=20\r\n\r\n\r\n**Last thing** I would like to share was this moment of the lecture:\r\n**[Memory Allocation](https://www.youtube.com/watch?v=W8nNdNZ40EQ#t=1206)**\r\nwhich I found very helpful in understanding the Java passing by value or rather “pass-by-copy-of-the-variable-value” as @Gevorg has written.\r\n\r\n1. [REF 1 Lynda.com](http://www.lynda.com/Android-tutorials/Passing-arguments-reference-value/86005/94989-4.html)\r\n2. [REF 2 Professor Mehran Sahami](http://see.stanford.edu/see/courseinfo.aspx?coll=824a47e1-135f-4508-a5aa-866adcae1111)\r\n    * [watch max 5 min](https://www.youtube.com/watch?v=W2ysz_6AyJE&amp;list=PL6C11012B1B464EC5#t=502)\r\n    * [Memory Allocation](https://www.youtube.com/watch?v=W8nNdNZ40EQ#t=1206)\r\n3. [REF 3 c4learn](http://www.c4learn.com/)\r\n   * [passing-object-as-parameter-to-method](http://www.c4learn.com/java/java-passing-object-as-parameter-to-method/)","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Throughout all the answers we see that Java pass-by-value or rather as @Gevorg \nwrote: \"pass-by-copy-of-the-variable-value\" and this is the idea that we should have in mind all the time. </p>\n\n<p>I am focusing on examples that helped me understand the idea and it is rather addendum to previous answers.</p>\n\n<p>From [1] In Java you always are passing arguments by copy; that is you're always creating a new instance of the value inside the function. But there are certain behaviors that can make you think you're passing by reference.</p>\n\n<ul>\n<li><p>Passing by copy: When a variable is passed to a method/function, a copy is made (sometimes we hear that when you pass primitives, you're making copies).</p></li>\n<li><p>Passing by reference: When a variable is passed to a method/function, the code in the method/function operates on the original variable (You're still passing by copy, but references to values inside the complex object are parts of both versions of the variable, both the original and the version inside the function. The complex objects themselves are being copied, but the internal references are being retained)</p></li>\n</ul>\n\n<h2>Examples of Passing by copy/ by value</h2>\n\n<p><strong>Example from [ref 1]</strong></p>\n\n<pre><code>void incrementValue(int inFunction){\n  inFunction ++;\n  System.out.println(\"In function: \" + inFunction);\n}\n\nint original = 10;\nSystem.out.print(\"Original before: \" + original);\nincrementValue(original);\nSystem.out.println(\"Original after: \" + original);\n\nWe see in the console:\n &gt; Original before: 10\n &gt; In Function: 11\n &gt; Original after: 10 (NO CHANGE)\n</code></pre>\n\n<p><strong>Example from [ref 2]</strong></p>\n\n<blockquote>\n  <p>shows nicely the mechanism\n  <a href=\"https://www.youtube.com/watch?v=W2ysz_6AyJE&amp;list=PL6C11012B1B464EC5#t=502\" rel=\"noreferrer\">watch max 5 min</a></p>\n</blockquote>\n\n<h2>(Passing by reference) pass-by-copy-of-the-variable-value</h2>\n\n<p><strong>Example from [ref 1]</strong>\n(remember that an array is an object)</p>\n\n<pre><code>void incrementValu(int[] inFuncion){\n  inFunction[0]++;\n  System.out.println(\"In Function: \" + inFunction[0]);\n}\n\nint[] arOriginal = {10, 20, 30};\nSystem.out.println(\"Original before: \" + arOriginal[0]);\nincrementValue(arOriginal[]);\nSystem.out.println(\"Original before: \" + arOriginal[0]);\n\nWe see in the console:\n  &gt;Original before: 10\n  &gt;In Function: 11\n  &gt;Original before: 11 (CHANGE)\n</code></pre>\n\n<p>The complex objects themselves are being copied, but the internal references are being retained.</p>\n\n<p><strong>Example from[ref 3]</strong></p>\n\n<pre><code>package com.pritesh.programs;\n\nclass Rectangle {\n  int length;\n  int width;\n\n  Rectangle(int l, int b) {\n    length = l;\n    width = b;\n  }\n\n  void area(Rectangle r1) {\n    int areaOfRectangle = r1.length * r1.width;\n    System.out.println(\"Area of Rectangle : \" \n                            + areaOfRectangle);\n  }\n}\n\nclass RectangleDemo {\n  public static void main(String args[]) {\n    Rectangle r1 = new Rectangle(10, 20);\n    r1.area(r1);\n  }\n}\n</code></pre>\n\n<p>The area of the rectangle is 200 and the length=10 and width=20</p>\n\n<p><strong>Last thing</strong> I would like to share was this moment of the lecture:\n<strong><a href=\"https://www.youtube.com/watch?v=W8nNdNZ40EQ#t=1206\" rel=\"noreferrer\">Memory Allocation</a></strong>\nwhich I found very helpful in understanding the Java passing by value or rather “pass-by-copy-of-the-variable-value” as @Gevorg has written.</p>\n\n<ol>\n<li><a href=\"http://www.lynda.com/Android-tutorials/Passing-arguments-reference-value/86005/94989-4.html\" rel=\"noreferrer\">REF 1 Lynda.com</a></li>\n<li><a href=\"http://see.stanford.edu/see/courseinfo.aspx?coll=824a47e1-135f-4508-a5aa-866adcae1111\" rel=\"noreferrer\">REF 2 Professor Mehran Sahami</a>\n\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=W2ysz_6AyJE&amp;list=PL6C11012B1B464EC5#t=502\" rel=\"noreferrer\">watch max 5 min</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=W8nNdNZ40EQ#t=1206\" rel=\"noreferrer\">Memory Allocation</a></li>\n</ul></li>\n<li><a href=\"http://www.c4learn.com/\" rel=\"noreferrer\">REF 3 c4learn</a>\n\n<ul>\n<li><a href=\"http://www.c4learn.com/java/java-passing-object-as-parameter-to-method/\" rel=\"noreferrer\">passing-object-as-parameter-to-method</a></li>\n</ul></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":3454738,"reputation":5356,"user_id":2893496,"accept_rate":85,"display_name":"v010dya"},"score":0,"creation_date":1619012806,"post_id":26210057,"comment_id":118776564,"body_markdown":"To understand this, one needs to understand that unlike in many languages in Java an array is an `Object` itself.","body":"To understand this, one needs to understand that unlike in many languages in Java an array is an <code>Object</code> itself."}],"tags":[],"owner":{"account_id":3591219,"reputation":1632,"user_id":2997238,"display_name":"drew7721"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1412570069,"creation_date":1412570069,"answer_id":26210057,"question_id":40480,"body_markdown":"There is a workaround in Java for the reference. Let me explain by this example:\r\n\r\n    public class Yo {\r\n    public static void foo(int x){\r\n        System.out.println(x); //out 2\r\n        x = x+2;\r\n        System.out.println(x); // out 4\r\n    }\r\n    public static void foo(int[] x){\r\n        System.out.println(x[0]); //1\r\n        x[0] = x[0]+2;\r\n        System.out.println(x[0]); //3\r\n    }\r\n    public static void main(String[] args) {\r\n        int t = 2;\r\n        foo(t);\r\n        System.out.println(t); // out 2 (t did not change in foo)\r\n        \r\n        int[] tab = new int[]{1};\r\n        foo(tab);\r\n        System.out.println(tab[0]); // out 3 (tab[0] did change in foo)\r\n    }}\r\n\r\nI hope this helps!","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>There is a workaround in Java for the reference. Let me explain by this example:</p>\n\n<pre><code>public class Yo {\npublic static void foo(int x){\n    System.out.println(x); //out 2\n    x = x+2;\n    System.out.println(x); // out 4\n}\npublic static void foo(int[] x){\n    System.out.println(x[0]); //1\n    x[0] = x[0]+2;\n    System.out.println(x[0]); //3\n}\npublic static void main(String[] args) {\n    int t = 2;\n    foo(t);\n    System.out.println(t); // out 2 (t did not change in foo)\n\n    int[] tab = new int[]{1};\n    foo(tab);\n    System.out.println(tab[0]); // out 3 (tab[0] did change in foo)\n}}\n</code></pre>\n\n<p>I hope this helps!</p>\n"},{"comments":[{"owner":{"account_id":1860030,"reputation":1147,"user_id":1684768,"display_name":"mrres1"},"score":1,"creation_date":1422149421,"post_id":27608651,"comment_id":44637050,"body_markdown":"You can only define one class per file.  This is not including nested and inner classes.  Considering this will be something a new programmer will be reading, you should explain this to the user; allowing them to duplicate the code on their machine.","body":"You can only define one class per file.  This is not including nested and inner classes.  Considering this will be something a new programmer will be reading, you should explain this to the user; allowing them to duplicate the code on their machine."},{"owner":{"account_id":3319798,"reputation":627,"user_id":2791256,"display_name":"MrBackend"},"score":2,"creation_date":1426773186,"post_id":27608651,"comment_id":46515350,"body_markdown":"@mrres1 Not entirely correct. You can define only one *public* top-level class/interface per file. Supporting several classes per file is a remnant from the first Java version, which didn&#39;t have nested classes, but it is still supported, though often frowned upon.","body":"@mrres1 Not entirely correct. You can define only one <i>public</i> top-level class/interface per file. Supporting several classes per file is a remnant from the first Java version, which didn&#39;t have nested classes, but it is still supported, though often frowned upon."}],"tags":[],"owner":{"account_id":335804,"reputation":75,"user_id":1695011,"display_name":"Ramprasad"},"comment_count":2,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1419274099,"creation_date":1419274099,"answer_id":27608651,"question_id":40480,"body_markdown":"**Simple program**\r\n\r\n\r\n    import java.io.*;\r\n    class Aclass\r\n    {\r\n\t    public int a;\r\n    }\r\n    public class test\r\n    {\r\n\t    public static void foo_obj(Aclass obj)\r\n\t    {\r\n\t\t    obj.a=5;\r\n\t    }\r\n\t    public static void foo_int(int a)\r\n\t    {\r\n\t\t    a=3;\r\n\t    }\r\n\t    public static void main(String args[])\r\n\t    {\r\n\t\t    //test passing an object\r\n\t\t    Aclass ob = new Aclass();\r\n\t\t    ob.a=0;\r\n\t\t    foo_obj(ob);\r\n\t\t    System.out.println(ob.a);//prints 5\r\n\t\t\r\n\t\t    //test passing an integer\r\n\t\t    int i=0;\r\n\t\t    foo_int(i);\r\n\t\t    System.out.println(i);//prints 0\r\n\t    }\r\n    }\r\n\r\nFrom a C/C++ programmer&#39;s point of view, java uses pass by value, so for primitive data types (int, char etc) changes in the function does not reflect in the calling function. But when you pass an object and in the function you change its data members or call member functions which can change the state of the object, the calling function will get the changes.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p><strong>Simple program</strong></p>\n\n<pre><code>import java.io.*;\nclass Aclass\n{\n    public int a;\n}\npublic class test\n{\n    public static void foo_obj(Aclass obj)\n    {\n        obj.a=5;\n    }\n    public static void foo_int(int a)\n    {\n        a=3;\n    }\n    public static void main(String args[])\n    {\n        //test passing an object\n        Aclass ob = new Aclass();\n        ob.a=0;\n        foo_obj(ob);\n        System.out.println(ob.a);//prints 5\n\n        //test passing an integer\n        int i=0;\n        foo_int(i);\n        System.out.println(i);//prints 0\n    }\n}\n</code></pre>\n\n<p>From a C/C++ programmer's point of view, java uses pass by value, so for primitive data types (int, char etc) changes in the function does not reflect in the calling function. But when you pass an object and in the function you change its data members or call member functions which can change the state of the object, the calling function will get the changes.</p>\n"},{"comments":[{"owner":{"account_id":4119966,"reputation":584,"user_id":3380611,"accept_rate":100,"display_name":"Mox"},"score":0,"creation_date":1484739511,"post_id":28750315,"comment_id":70631379,"body_markdown":"This actually doesn&#39;t explain anything in regards to potential by ref/by val property of Java.","body":"This actually doesn&#39;t explain anything in regards to potential by ref/by val property of Java."}],"tags":[],"owner":{"account_id":1340210,"reputation":487,"user_id":1282030,"accept_rate":100,"display_name":"Jo&#227;o Oliveira"},"comment_count":1,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1424976272,"creation_date":1424976272,"answer_id":28750315,"question_id":40480,"body_markdown":"Java passes everything by value!!\r\n\r\n//create an object by passing in a name and age:\r\n\r\n    PersonClass variable1 = new PersonClass(&quot;Mary&quot;, 32);\r\n    \r\n    PersonClass variable2;\r\n\r\n//Both variable2 and variable1 now reference the same object\r\n\r\n    variable2 = variable1; \r\n\r\n\r\n    PersonClass variable3 = new PersonClass(&quot;Andre&quot;, 45);\r\n\r\n\r\n// variable1 now points to variable3\r\n\r\n    variable1 = variable3;\r\n\r\n//WHAT IS OUTPUT BY THIS?\r\n\r\n    System.out.println(variable2);\r\n    System.out.println(variable1);\r\n\r\n    Mary 32\r\n    Andre 45\r\n\r\nif you could understand this example we r done.\r\notherwise, please visit this webPage for detailed explanation:\r\n\r\n[webPage][1]\r\n\r\n\r\n  [1]: http://www.programmerinterview.com/index.php/java-questions/does-java-pass-by-reference-or-by-value/","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java passes everything by value!!</p>\n\n<p>//create an object by passing in a name and age:</p>\n\n<pre><code>PersonClass variable1 = new PersonClass(\"Mary\", 32);\n\nPersonClass variable2;\n</code></pre>\n\n<p>//Both variable2 and variable1 now reference the same object</p>\n\n<pre><code>variable2 = variable1; \n\n\nPersonClass variable3 = new PersonClass(\"Andre\", 45);\n</code></pre>\n\n<p>// variable1 now points to variable3</p>\n\n<pre><code>variable1 = variable3;\n</code></pre>\n\n<p>//WHAT IS OUTPUT BY THIS?</p>\n\n<pre><code>System.out.println(variable2);\nSystem.out.println(variable1);\n\nMary 32\nAndre 45\n</code></pre>\n\n<p>if you could understand this example we r done.\notherwise, please visit this webPage for detailed explanation:</p>\n\n<p><a href=\"http://www.programmerinterview.com/index.php/java-questions/does-java-pass-by-reference-or-by-value/\" rel=\"noreferrer\">webPage</a></p>\n"},{"tags":[],"owner":{"account_id":39087,"reputation":7142,"user_id":112670,"accept_rate":62,"display_name":"Christian"},"comment_count":0,"down_vote_count":2,"up_vote_count":27,"is_accepted":false,"score":25,"last_activity_date":1486839149,"creation_date":1426714508,"answer_id":29133165,"question_id":40480,"body_markdown":"Java passes parameters by VALUE, and by value **ONLY**.\r\n\r\n**To cut long story short:**\r\n\r\n&gt; For those coming from C#: **THERE IS NO &quot;out&quot; parameter.**\r\n \r\n&gt; For those coming from PASCAL: **THERE IS NO &quot;var&quot; parameter**.\r\n\r\nIt means you can&#39;t change the reference from the object itself, but you can always change the object&#39;s properties.\r\n\r\nA workaround is to use `StringBuilder` parameter instead `String`. And you can always use arrays!","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java passes parameters by VALUE, and by value <strong>ONLY</strong>.</p>\n\n<p><strong>To cut long story short:</strong></p>\n\n<blockquote>\n  <p>For those coming from C#: <strong>THERE IS NO \"out\" parameter.</strong></p>\n  \n  <p>For those coming from PASCAL: <strong>THERE IS NO \"var\" parameter</strong>.</p>\n</blockquote>\n\n<p>It means you can't change the reference from the object itself, but you can always change the object's properties.</p>\n\n<p>A workaround is to use <code>StringBuilder</code> parameter instead <code>String</code>. And you can always use arrays!</p>\n"},{"tags":[],"owner":{"account_id":3931957,"reputation":10912,"user_id":3250087,"accept_rate":88,"display_name":"spiderman"},"comment_count":0,"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1431466202,"creation_date":1431465847,"answer_id":30201678,"question_id":40480,"body_markdown":"Let me try to explain my understanding with the help of four examples. Java is pass-by-value, and not pass-by-reference\r\n\r\n/**\r\n\r\n  Pass By Value\r\n  \r\n  In Java, all parameters are passed by value, i.e. assigning a method argument is not visible to the caller.\r\n \r\n */\r\n\r\n**Example 1:**\r\n\r\n    public class PassByValueString {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew PassByValueString().caller();\r\n    \t}\r\n    \r\n    \tpublic void caller() {\r\n    \t\tString value = &quot;Nikhil&quot;;\r\n    \t\tboolean valueflag = false;\r\n    \t\tString output = method(value, valueflag);\r\n    \t\t/*\r\n    \t\t * &#39;output&#39; is insignificant in this example. we are more interested in\r\n    \t\t * &#39;value&#39; and &#39;valueflag&#39;\r\n    \t\t */\r\n    \t\tSystem.out.println(&quot;output : &quot; + output);\r\n    \t\tSystem.out.println(&quot;value : &quot; + value);\r\n    \t\tSystem.out.println(&quot;valueflag : &quot; + valueflag);\r\n    \r\n    \t}\r\n    \r\n    \tpublic String method(String value, boolean valueflag) {\r\n    \t\tvalue = &quot;Anand&quot;;\r\n    \t\tvalueflag = true;\r\n    \t\treturn &quot;output&quot;;\r\n    \t}\r\n    }\r\n\r\n**Result**\r\n\r\n    output : output\r\n    value : Nikhil\r\n    valueflag : false\r\n\r\n**Example 2:**\r\n\r\n/**\r\n * \r\n * Pass By Value\r\n *\r\n */\r\n\r\n    public class PassByValueNewString {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew PassByValueNewString().caller();\r\n    \t}\r\n    \r\n    \tpublic void caller() {\r\n    \t\tString value = new String(&quot;Nikhil&quot;);\r\n    \t\tboolean valueflag = false;\r\n    \t\tString output = method(value, valueflag);\r\n    \t\t/*\r\n    \t\t * &#39;output&#39; is insignificant in this example. we are more interested in\r\n    \t\t * &#39;value&#39; and &#39;valueflag&#39;\r\n    \t\t */\r\n    \t\tSystem.out.println(&quot;output : &quot; + output);\r\n    \t\tSystem.out.println(&quot;value : &quot; + value);\r\n    \t\tSystem.out.println(&quot;valueflag : &quot; + valueflag);\r\n    \r\n    \t}\r\n    \r\n    \tpublic String method(String value, boolean valueflag) {\r\n    \t\tvalue = &quot;Anand&quot;;\r\n    \t\tvalueflag = true;\r\n    \t\treturn &quot;output&quot;;\r\n    \t}\r\n    }\r\n\r\n**Result**\r\n\r\n    output : output\r\n    value : Nikhil\r\n    valueflag : false\r\n\r\n**Example 3:**\r\n\r\n/**\r\n  This &#39;Pass By Value has a feeling of &#39;Pass By Reference&#39;\r\n  \r\n  Some people say primitive types and &#39;String&#39; are &#39;pass by value&#39;\r\n  and objects are &#39;pass by reference&#39;.\r\n  \r\n  But from this example, we can understand that it is infact pass by value only,\r\n  keeping in mind that here we are passing the reference as the value.\r\n  ie: reference is passed by value.\r\n  That&#39;s why are able to change and still it holds true after the local scope.\r\n  But we cannot change the actual reference outside the original scope.\r\n  what that means is demonstrated by next example of PassByValueObjectCase2.\r\n\r\n */\r\n\r\n    public class PassByValueObjectCase1 {\r\n    \t\r\n    \tprivate class Student {\r\n    \t\tint id;\r\n    \t\tString name;\r\n    \t\tpublic Student() {\r\n    \t\t}\r\n    \t\tpublic Student(int id, String name) {\r\n    \t\t\tsuper();\r\n    \t\t\tthis.id = id;\r\n    \t\t\tthis.name = name;\r\n    \t\t}\r\n    \t\tpublic int getId() {\r\n    \t\t\treturn id;\r\n    \t\t}\r\n    \t\tpublic void setId(int id) {\r\n    \t\t\tthis.id = id;\r\n    \t\t}\r\n    \t\tpublic String getName() {\r\n    \t\t\treturn name;\r\n    \t\t}\r\n    \t\tpublic void setName(String name) {\r\n    \t\t\tthis.name = name;\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n    \t\t\treturn &quot;Student [id=&quot; + id + &quot;, name=&quot; + name + &quot;]&quot;;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew PassByValueObjectCase1().caller();\r\n    \t}\r\n    \r\n    \tpublic void caller() {\r\n    \t\tStudent student = new Student(10, &quot;Nikhil&quot;);\r\n    \t\tString output = method(student);\r\n    \t\t/*\r\n    \t\t * &#39;output&#39; is insignificant in this example. we are more interested in\r\n    \t\t * &#39;student&#39;\r\n    \t\t */\r\n    \t\tSystem.out.println(&quot;output : &quot; + output);\r\n    \t\tSystem.out.println(&quot;student : &quot; + student);\r\n    \t}\r\n    \r\n    \tpublic String method(Student student) {\r\n    \t\tstudent.setName(&quot;Anand&quot;);\r\n    \t\treturn &quot;output&quot;;\r\n    \t}\r\n    }\r\n\r\n**Result**\r\n\r\n    output : output\r\n    student : Student [id=10, name=Anand]\r\n\r\n**Example 4:**\r\n\r\n/**\r\n  \r\n  In addition to what was mentioned in Example3 (PassByValueObjectCase1.java),  we cannot change the actual reference outside the original scope.&quot;\r\n\r\nNote: I am not pasting the code for `private class Student`. The class definition for `Student` is same as Example3.\r\n  \r\n */\r\n\r\n    public class PassByValueObjectCase2 {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew PassByValueObjectCase2().caller();\r\n    \t}\r\n    \r\n    \tpublic void caller() {\r\n    \t\t// student has the actual reference to a Student object created\r\n    \t\t// can we change this actual reference outside the local scope? Let&#39;s see\r\n    \t\tStudent student = new Student(10, &quot;Nikhil&quot;);\r\n    \t\tString output = method(student);\r\n    \t\t/*\r\n    \t\t * &#39;output&#39; is insignificant in this example. we are more interested in\r\n    \t\t * &#39;student&#39;\r\n    \t\t */\r\n    \t\tSystem.out.println(&quot;output : &quot; + output);\r\n    \t\tSystem.out.println(&quot;student : &quot; + student); // Will it print Nikhil or Anand?\r\n    \t}\r\n    \r\n    \tpublic String method(Student student) {\r\n    \t\tstudent = new Student(20, &quot;Anand&quot;);\r\n    \t\treturn &quot;output&quot;;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**Result**\r\n\r\n    output : output\r\n    student : Student [id=10, name=Nikhil]\r\n\r\n\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Let me try to explain my understanding with the help of four examples. Java is pass-by-value, and not pass-by-reference</p>\n\n<p>/**</p>\n\n<p>Pass By Value</p>\n\n<p>In Java, all parameters are passed by value, i.e. assigning a method argument is not visible to the caller.</p>\n\n<p>*/</p>\n\n<p><strong>Example 1:</strong></p>\n\n<pre><code>public class PassByValueString {\n    public static void main(String[] args) {\n        new PassByValueString().caller();\n    }\n\n    public void caller() {\n        String value = \"Nikhil\";\n        boolean valueflag = false;\n        String output = method(value, valueflag);\n        /*\n         * 'output' is insignificant in this example. we are more interested in\n         * 'value' and 'valueflag'\n         */\n        System.out.println(\"output : \" + output);\n        System.out.println(\"value : \" + value);\n        System.out.println(\"valueflag : \" + valueflag);\n\n    }\n\n    public String method(String value, boolean valueflag) {\n        value = \"Anand\";\n        valueflag = true;\n        return \"output\";\n    }\n}\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<pre><code>output : output\nvalue : Nikhil\nvalueflag : false\n</code></pre>\n\n<p><strong>Example 2:</strong></p>\n\n<p>/**\n * \n * Pass By Value\n *\n */</p>\n\n<pre><code>public class PassByValueNewString {\n    public static void main(String[] args) {\n        new PassByValueNewString().caller();\n    }\n\n    public void caller() {\n        String value = new String(\"Nikhil\");\n        boolean valueflag = false;\n        String output = method(value, valueflag);\n        /*\n         * 'output' is insignificant in this example. we are more interested in\n         * 'value' and 'valueflag'\n         */\n        System.out.println(\"output : \" + output);\n        System.out.println(\"value : \" + value);\n        System.out.println(\"valueflag : \" + valueflag);\n\n    }\n\n    public String method(String value, boolean valueflag) {\n        value = \"Anand\";\n        valueflag = true;\n        return \"output\";\n    }\n}\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<pre><code>output : output\nvalue : Nikhil\nvalueflag : false\n</code></pre>\n\n<p><strong>Example 3:</strong></p>\n\n<p>/**\n  This 'Pass By Value has a feeling of 'Pass By Reference'</p>\n\n<p>Some people say primitive types and 'String' are 'pass by value'\n  and objects are 'pass by reference'.</p>\n\n<p>But from this example, we can understand that it is infact pass by value only,\n  keeping in mind that here we are passing the reference as the value.\n  ie: reference is passed by value.\n  That's why are able to change and still it holds true after the local scope.\n  But we cannot change the actual reference outside the original scope.\n  what that means is demonstrated by next example of PassByValueObjectCase2.</p>\n\n<p>*/</p>\n\n<pre><code>public class PassByValueObjectCase1 {\n\n    private class Student {\n        int id;\n        String name;\n        public Student() {\n        }\n        public Student(int id, String name) {\n            super();\n            this.id = id;\n            this.name = name;\n        }\n        public int getId() {\n            return id;\n        }\n        public void setId(int id) {\n            this.id = id;\n        }\n        public String getName() {\n            return name;\n        }\n        public void setName(String name) {\n            this.name = name;\n        }\n        @Override\n        public String toString() {\n            return \"Student [id=\" + id + \", name=\" + name + \"]\";\n        }\n    }\n\n    public static void main(String[] args) {\n        new PassByValueObjectCase1().caller();\n    }\n\n    public void caller() {\n        Student student = new Student(10, \"Nikhil\");\n        String output = method(student);\n        /*\n         * 'output' is insignificant in this example. we are more interested in\n         * 'student'\n         */\n        System.out.println(\"output : \" + output);\n        System.out.println(\"student : \" + student);\n    }\n\n    public String method(Student student) {\n        student.setName(\"Anand\");\n        return \"output\";\n    }\n}\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<pre><code>output : output\nstudent : Student [id=10, name=Anand]\n</code></pre>\n\n<p><strong>Example 4:</strong></p>\n\n<p>/**</p>\n\n<p>In addition to what was mentioned in Example3 (PassByValueObjectCase1.java),  we cannot change the actual reference outside the original scope.\"</p>\n\n<p>Note: I am not pasting the code for <code>private class Student</code>. The class definition for <code>Student</code> is same as Example3.</p>\n\n<p>*/</p>\n\n<pre><code>public class PassByValueObjectCase2 {\n\n    public static void main(String[] args) {\n        new PassByValueObjectCase2().caller();\n    }\n\n    public void caller() {\n        // student has the actual reference to a Student object created\n        // can we change this actual reference outside the local scope? Let's see\n        Student student = new Student(10, \"Nikhil\");\n        String output = method(student);\n        /*\n         * 'output' is insignificant in this example. we are more interested in\n         * 'student'\n         */\n        System.out.println(\"output : \" + output);\n        System.out.println(\"student : \" + student); // Will it print Nikhil or Anand?\n    }\n\n    public String method(Student student) {\n        student = new Student(20, \"Anand\");\n        return \"output\";\n    }\n\n}\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<pre><code>output : output\nstudent : Student [id=10, name=Nikhil]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6391551,"reputation":483,"user_id":4957499,"accept_rate":78,"display_name":"Placinta Alexandru"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1453379915,"creation_date":1453379915,"answer_id":34924074,"question_id":40480,"body_markdown":"Java always uses **call by value**. That means the method gets copy of all parameter values.\r\n\r\n\r\nConsider next 3 situations:\r\n## 1) Trying to change primitive variable ##\r\n\r\n    public static void increment(int x) { x++; }\r\n\r\n    int a = 3;\r\n    increment(a);\r\n\r\nx will copy value of a and will increment x, a remains the same\r\n## 2) Trying to change primitive field of an object ##\r\n\r\n    public static void increment(Person p) { p.age++; }\r\n\r\n    Person pers = new Person(20); // age = 20\r\n    increment(pers);\r\n\r\np will copy reference value of pers and will increment age field, variables are referencing to the same object so age is changed\r\n## 3) Trying to change reference value of reference variables ##\r\n\r\n    public static void swap(Person p1, Person p2) {\r\n        Person temp = p1;\r\n        p1 = p2;\r\n        p2 = temp;\r\n    }\r\n\r\n    Person pers1 = new Person(10);\r\n    Person pers2 = new Person(20);\r\n    swap(pers1, pers2);\r\n\r\nafter calling swap p1, p2 copy reference values from pers1 and pers2, are swapping with values, so pers1 and pers2 remain the same\r\n\r\nSo. you can change only fields of objects in method passing copy of reference value to this object.\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java always uses <strong>call by value</strong>. That means the method gets copy of all parameter values.</p>\n\n<p>Consider next 3 situations:</p>\n\n<h2>1) Trying to change primitive variable</h2>\n\n<pre><code>public static void increment(int x) { x++; }\n\nint a = 3;\nincrement(a);\n</code></pre>\n\n<p>x will copy value of a and will increment x, a remains the same</p>\n\n<h2>2) Trying to change primitive field of an object</h2>\n\n<pre><code>public static void increment(Person p) { p.age++; }\n\nPerson pers = new Person(20); // age = 20\nincrement(pers);\n</code></pre>\n\n<p>p will copy reference value of pers and will increment age field, variables are referencing to the same object so age is changed</p>\n\n<h2>3) Trying to change reference value of reference variables</h2>\n\n<pre><code>public static void swap(Person p1, Person p2) {\n    Person temp = p1;\n    p1 = p2;\n    p2 = temp;\n}\n\nPerson pers1 = new Person(10);\nPerson pers2 = new Person(20);\nswap(pers1, pers2);\n</code></pre>\n\n<p>after calling swap p1, p2 copy reference values from pers1 and pers2, are swapping with values, so pers1 and pers2 remain the same</p>\n\n<p>So. you can change only fields of objects in method passing copy of reference value to this object.</p>\n"},{"comments":[{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1638815531,"post_id":36040135,"comment_id":124183171,"body_markdown":"What, if &quot;passing by reference&quot; meant, that you can modify the passed object inside the called method, affecting the object existing outside the method?","body":"What, if &quot;passing by reference&quot; meant, that you can modify the passed object inside the called method, affecting the object existing outside the method?"},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1678962345,"post_id":36040135,"comment_id":133635840,"body_markdown":"This answer is much better than the majority of other answers.","body":"This answer is much better than the majority of other answers."}],"tags":[],"owner":{"account_id":7805313,"reputation":1804,"user_id":5903395,"display_name":"Gee Bee"},"comment_count":2,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1458142169,"creation_date":1458142169,"answer_id":36040135,"question_id":40480,"body_markdown":"So many long answers. Let me give a simple one:\r\n\r\n* Java always passes everything by value\r\n* that means also references are passed by value\r\n\r\nIn short, you can not modify value of any parameter passed, but you can call methods or change attributes of an object reference passed.\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>So many long answers. Let me give a simple one:</p>\n\n<ul>\n<li>Java always passes everything by value</li>\n<li>that means also references are passed by value</li>\n</ul>\n\n<p>In short, you can not modify value of any parameter passed, but you can call methods or change attributes of an object reference passed.</p>\n"},{"tags":[],"owner":{"account_id":2485869,"reputation":1492,"user_id":2164304,"accept_rate":86,"display_name":"OverCoder"},"comment_count":0,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1548452717,"creation_date":1461594748,"answer_id":36843568,"question_id":40480,"body_markdown":"I made this little diagram that shows how the data gets created and passed\r\n\r\n[![Diagram of how data is created and passed][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/77ppY.png\r\n\r\nNote: Primitive values are passed as a value, the first reference to to that value is the method&#39;s argument\r\n\r\nThat means:\r\n\r\n - You can change the value of `myObject` *inside* the function\r\n - But you can&#39;t change what `myObject` references to, inside the function, because `point` is not `myObject`\r\n - Remember, both `point` and `myObject` are **references**, different **references**, however, those references **point** at the same `new Point(0,0)`","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I made this little diagram that shows how the data gets created and passed</p>\n\n<p><a href=\"https://i.stack.imgur.com/77ppY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/77ppY.png\" alt=\"Diagram of how data is created and passed\"></a></p>\n\n<p>Note: Primitive values are passed as a value, the first reference to to that value is the method's argument</p>\n\n<p>That means:</p>\n\n<ul>\n<li>You can change the value of <code>myObject</code> <em>inside</em> the function</li>\n<li>But you can't change what <code>myObject</code> references to, inside the function, because <code>point</code> is not <code>myObject</code></li>\n<li>Remember, both <code>point</code> and <code>myObject</code> are <strong>references</strong>, different <strong>references</strong>, however, those references <strong>point</strong> at the same <code>new Point(0,0)</code></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1465272308,"post_id":37190132,"comment_id":62818445,"body_markdown":"Java has not redefined those terms. Nobody has. It has merely avoided the C term &#39;pointer&#39;.","body":"Java has not redefined those terms. Nobody has. It has merely avoided the C term &#39;pointer&#39;."},{"owner":{"account_id":332614,"reputation":344,"user_id":658018,"display_name":"Cdaragorn"},"score":8,"creation_date":1472677500,"post_id":37190132,"comment_id":65853962,"body_markdown":"Those terms existed long before Java or C. Pointer was only ever a method for implementing one of them. If you accept Java&#39;s definition for them, then they become meaningless because by that definition, every language ever created is only Pass by Value.","body":"Those terms existed long before Java or C. Pointer was only ever a method for implementing one of them. If you accept Java&#39;s definition for them, then they become meaningless because by that definition, every language ever created is only Pass by Value."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1638816432,"post_id":37190132,"comment_id":124183464,"body_markdown":"user207421 certainly discussed terms have existed 50 before Java and we never heard something equivalent stupid like &quot;passing a pointer by value&quot;, even if entire Java community thinks, it was the gold standard of terminology.","body":"user207421 certainly discussed terms have existed 50 before Java and we never heard something equivalent stupid like &quot;passing a pointer by value&quot;, even if entire Java community thinks, it was the gold standard of terminology."}],"tags":[],"owner":{"account_id":332614,"reputation":344,"user_id":658018,"display_name":"Cdaragorn"},"comment_count":3,"down_vote_count":6,"up_vote_count":17,"is_accepted":false,"score":11,"last_activity_date":1463063785,"creation_date":1463063785,"answer_id":37190132,"question_id":40480,"body_markdown":"A lot of the confusion surrounding this issue comes from the fact that Java has attempted to redefine what &quot;Pass by value&quot; and &quot;Pass by reference&quot; mean. It&#39;s important to understand that these are [Industry Terms][1], and cannot be correctly understood outside of that context. They are meant to help you as you code and are valuable to understand, so let&#39;s first go over what they mean. \r\n\r\nA good description of both can be found [here][2].\r\n\r\n**Pass By Value** The value the function received is a copy of the object the caller is using. It is entirely unique to the function and anything you do to that object will only be seen within the function.\r\n\r\n**Pass By Reference** The value the function received is a reference to the object the caller is using. Anything the function does to the object that value refers to will be seen by the caller and it will be working with those changes from that point on.\r\n\r\nAs is clear from those definitions, the fact that the reference is passed by value is irrelevant. If we were to accept that definition, then these terms become meaningless and all languages everywhere are only Pass By Value.\r\n\r\nNo matter how you pass the reference in, it can only ever be passed by value. That isn&#39;t the point. The point is that you passed a reference to your own object to the function, not a copy of it. The fact that you can throw away the reference you received is irrelevant. Again, if we accepted that definition, these terms become meaningless and everyone is always passing by value.\r\n\r\nAnd no, C++&#39;s special &quot;pass by reference&quot; syntax is not the exclusive definition of pass by reference. It is purely a convenience syntax meant to make it so that you don&#39;t need to use pointer syntax after passing the pointer in. It is still passing a pointer, the compiler is just hiding that fact from you. It also still passes that pointer BY VALUE, the compiler is just hiding that from you.\r\n\r\nSo, with this understanding, we can look at Java and see that it actually has both. All Java primitive types are always pass by value because you receive a copy of the caller&#39;s object and cannot modify their copy. All Java reference types are always pass by reference because you receive a reference to the caller&#39;s object and can directly modify their object. \r\n\r\nThe fact that you cannot modify the caller&#39;s reference has nothing to do with pass by reference and is true in every language that supports pass by reference.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Jargon\r\n  [2]: http://cplus.about.com/od/glossar1/g/passbyrefdefn.htm","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>A lot of the confusion surrounding this issue comes from the fact that Java has attempted to redefine what \"Pass by value\" and \"Pass by reference\" mean. It's important to understand that these are <a href=\"https://en.wikipedia.org/wiki/Jargon\" rel=\"noreferrer\">Industry Terms</a>, and cannot be correctly understood outside of that context. They are meant to help you as you code and are valuable to understand, so let's first go over what they mean. </p>\n\n<p>A good description of both can be found <a href=\"http://cplus.about.com/od/glossar1/g/passbyrefdefn.htm\" rel=\"noreferrer\">here</a>.</p>\n\n<p><strong>Pass By Value</strong> The value the function received is a copy of the object the caller is using. It is entirely unique to the function and anything you do to that object will only be seen within the function.</p>\n\n<p><strong>Pass By Reference</strong> The value the function received is a reference to the object the caller is using. Anything the function does to the object that value refers to will be seen by the caller and it will be working with those changes from that point on.</p>\n\n<p>As is clear from those definitions, the fact that the reference is passed by value is irrelevant. If we were to accept that definition, then these terms become meaningless and all languages everywhere are only Pass By Value.</p>\n\n<p>No matter how you pass the reference in, it can only ever be passed by value. That isn't the point. The point is that you passed a reference to your own object to the function, not a copy of it. The fact that you can throw away the reference you received is irrelevant. Again, if we accepted that definition, these terms become meaningless and everyone is always passing by value.</p>\n\n<p>And no, C++'s special \"pass by reference\" syntax is not the exclusive definition of pass by reference. It is purely a convenience syntax meant to make it so that you don't need to use pointer syntax after passing the pointer in. It is still passing a pointer, the compiler is just hiding that fact from you. It also still passes that pointer BY VALUE, the compiler is just hiding that from you.</p>\n\n<p>So, with this understanding, we can look at Java and see that it actually has both. All Java primitive types are always pass by value because you receive a copy of the caller's object and cannot modify their copy. All Java reference types are always pass by reference because you receive a reference to the caller's object and can directly modify their object. </p>\n\n<p>The fact that you cannot modify the caller's reference has nothing to do with pass by reference and is true in every language that supports pass by reference.</p>\n"},{"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1465978440,"post_id":37669835,"comment_id":63121427,"body_markdown":"Is there an issue in your c++ version where your risking a segfault when `Foo(99)` goes out of scope but you reference it in your main method?","body":"Is there an issue in your c++ version where your risking a segfault when <code>Foo(99)</code> goes out of scope but you reference it in your main method?"},{"owner":{"account_id":1231014,"reputation":594,"user_id":1195605,"display_name":"Ravi Sanwal"},"score":0,"creation_date":1466090219,"post_id":37669835,"comment_id":63183509,"body_markdown":"Indeed. Ah comes from using java for 10 years. But the idea still holds. And I fixed it now.","body":"Indeed. Ah comes from using java for 10 years. But the idea still holds. And I fixed it now."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1466098885,"post_id":37669835,"comment_id":63188845,"body_markdown":"I think the previous was better because it would compile. I was just curious about the behavior, sorry about that.","body":"I think the previous was better because it would compile. I was just curious about the behavior, sorry about that."},{"owner":{"account_id":153967,"reputation":1960,"user_id":369604,"accept_rate":77,"display_name":"Loduwijk"},"score":1,"creation_date":1501688464,"post_id":37669835,"comment_id":77891412,"body_markdown":"This answer only helps for those coming from C++ background who are willing to define &quot;reference&quot; the way you have, according to C++&#39;s definition. That is not always the case.","body":"This answer only helps for those coming from C++ background who are willing to define &quot;reference&quot; the way you have, according to C++&#39;s definition. That is not always the case."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1638816838,"post_id":37669835,"comment_id":124183607,"body_markdown":"&quot;What is the outcome?&quot; - Guess a memory leak","body":"&quot;What is the outcome?&quot; - Guess a memory leak"}],"tags":[],"owner":{"account_id":1231014,"reputation":594,"user_id":1195605,"display_name":"Ravi Sanwal"},"comment_count":5,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1466519436,"creation_date":1465268477,"answer_id":37669835,"question_id":40480,"body_markdown":"There is a very simple way to understand this.\r\nLets&#39;s take C++ pass by reference.\r\n\r\n    #include &lt;iostream&gt;\r\n    using namespace std;\r\n    \r\n    class Foo {\r\n        private:\r\n            int x;\r\n        public:\r\n            Foo(int val) {x = val;}\r\n            void foo()\r\n            {\r\n                cout&lt;&lt;x&lt;&lt;endl;\r\n            }\r\n    };\r\n    \r\n    void bar(Foo&amp; ref)\r\n    {\r\n        ref.foo();\r\n        ref = *(new Foo(99));\r\n        ref.foo();\r\n    }\r\n    \r\n    int main()\r\n    {\r\n       Foo f = Foo(1);\r\n       f.foo();\r\n       bar(f);\r\n       f.foo();\r\n    \r\n       return 0;\r\n    }\r\nWhat is the outcome?\r\n&lt;pre&gt;\r\n1\r\n1\r\n99\r\n99\r\n&lt;/pre&gt;\r\nSo, after bar() assigned a new value to a &quot;reference&quot; passed in, it actually changed the one which was passed in from main itself, explaining the last f.foo() call from main printing 99.\r\n\r\nNow, lets see what java says.\r\n\r\n    public class Ref {\r\n    \r\n    \tprivate static class Foo {\r\n    \t\tprivate int x;\r\n    \r\n    \t\tprivate Foo(int x) {\r\n    \t\t\tthis.x = x;\r\n    \t\t}\r\n    \r\n    \t\tprivate void foo() {\r\n    \t\t\tSystem.out.println(x);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void bar(Foo f) {\r\n    \t\tf.foo();\r\n    \t\tf = new Foo(99);\r\n    \t\tf.foo();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tFoo f = new Foo(1);\r\n    \t\tSystem.out.println(f.x);\r\n    \t\tbar(f);\r\n    \t\tSystem.out.println(f.x);\r\n    \t}\r\n    \r\n    }\r\n\r\nIt says:\r\n&lt;pre&gt;\r\n1\r\n1\r\n99\r\n1\r\n&lt;/pre&gt;\r\nVoil&#224;, the reference of Foo in main that was passed to bar, is still unchanged!\r\n\r\nThis example clearly shows that java is not the same as C++ when we say &quot;pass by reference&quot;. Essentially, java is passing &quot;references&quot; as &quot;values&quot; to functions, meaning java is pass by value.\r\n\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>There is a very simple way to understand this.\nLets's take C++ pass by reference.</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Foo {\n    private:\n        int x;\n    public:\n        Foo(int val) {x = val;}\n        void foo()\n        {\n            cout&lt;&lt;x&lt;&lt;endl;\n        }\n};\n\nvoid bar(Foo&amp; ref)\n{\n    ref.foo();\n    ref = *(new Foo(99));\n    ref.foo();\n}\n\nint main()\n{\n   Foo f = Foo(1);\n   f.foo();\n   bar(f);\n   f.foo();\n\n   return 0;\n}\n</code></pre>\n\n<p>What is the outcome?</p>\n\n<pre>\n1\n1\n99\n99\n</pre>\n\n<p>So, after bar() assigned a new value to a \"reference\" passed in, it actually changed the one which was passed in from main itself, explaining the last f.foo() call from main printing 99.</p>\n\n<p>Now, lets see what java says.</p>\n\n<pre><code>public class Ref {\n\n    private static class Foo {\n        private int x;\n\n        private Foo(int x) {\n            this.x = x;\n        }\n\n        private void foo() {\n            System.out.println(x);\n        }\n    }\n\n    private static void bar(Foo f) {\n        f.foo();\n        f = new Foo(99);\n        f.foo();\n    }\n\n    public static void main(String[] args) {\n        Foo f = new Foo(1);\n        System.out.println(f.x);\n        bar(f);\n        System.out.println(f.x);\n    }\n\n}\n</code></pre>\n\n<p>It says:</p>\n\n<pre>\n1\n1\n99\n1\n</pre>\n\n<p>Voilà, the reference of Foo in main that was passed to bar, is still unchanged!</p>\n\n<p>This example clearly shows that java is not the same as C++ when we say \"pass by reference\". Essentially, java is passing \"references\" as \"values\" to functions, meaning java is pass by value.</p>\n"},{"tags":[],"owner":{"account_id":1967474,"reputation":3342,"user_id":1767316,"accept_rate":42,"display_name":"user1767316"},"comment_count":0,"down_vote_count":2,"up_vote_count":69,"is_accepted":false,"score":67,"last_activity_date":1635493268,"creation_date":1469348999,"answer_id":38550131,"question_id":40480,"body_markdown":"**In Java, method arguments are all passed by value :**\r\n\r\nJava arguments are **all passed by value** (the value  or reference is copied when used by the method) :\r\n\r\nIn the case of primitive types, Java behaviour is simple: \r\nThe value is copied in another instance of the primitive type.\r\n\r\nIn case of Objects, this is the same: \r\nObject variables are references (mem buckets holding only Object’s **address** instead of a primitive value) that was created using the &quot;new&quot; keyword, and are copied like primitive types.\r\n\r\nThe behaviour can appear different from primitive types: Because the copied object-variable contains the same address (to the same Object).\r\nObject&#39;s **content/members** might still be modified within a method and later access outside, giving the illusion that the (containing) Object itself was passed by reference. \r\n\r\n&quot;String&quot; Objects appear to be a good **counter-example** to the urban legend saying that &quot;Objects are passed by reference&quot;:\r\n\r\nIn effect, using a method, you will never be able, to update the value of a String passed as argument:\r\n\r\nA String Object, holds characters by an array declared **final** that can&#39;t be modified.\r\nOnly the address of the Object might be replaced by another using &quot;new&quot;. \r\nUsing &quot;new&quot; to update the variable, will not let the Object be accessed from outside, since the variable was initially passed by value and copied.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p><strong>In Java, method arguments are all passed by value :</strong></p>\n<p>Java arguments are <strong>all passed by value</strong> (the value  or reference is copied when used by the method) :</p>\n<p>In the case of primitive types, Java behaviour is simple:\nThe value is copied in another instance of the primitive type.</p>\n<p>In case of Objects, this is the same:\nObject variables are references (mem buckets holding only Object’s <strong>address</strong> instead of a primitive value) that was created using the &quot;new&quot; keyword, and are copied like primitive types.</p>\n<p>The behaviour can appear different from primitive types: Because the copied object-variable contains the same address (to the same Object).\nObject's <strong>content/members</strong> might still be modified within a method and later access outside, giving the illusion that the (containing) Object itself was passed by reference.</p>\n<p>&quot;String&quot; Objects appear to be a good <strong>counter-example</strong> to the urban legend saying that &quot;Objects are passed by reference&quot;:</p>\n<p>In effect, using a method, you will never be able, to update the value of a String passed as argument:</p>\n<p>A String Object, holds characters by an array declared <strong>final</strong> that can't be modified.\nOnly the address of the Object might be replaced by another using &quot;new&quot;.\nUsing &quot;new&quot; to update the variable, will not let the Object be accessed from outside, since the variable was initially passed by value and copied.</p>\n"},{"tags":[],"owner":{"account_id":6643046,"reputation":360,"user_id":5128145,"accept_rate":0,"display_name":"Vivek Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1474912830,"creation_date":1474912519,"answer_id":39709353,"question_id":40480,"body_markdown":"Java does manipulate objects by reference, and all object variables are references. However, Java doesn&#39;t pass method arguments by reference; it passes them by value.\n\nTake the&#160;badSwap()&#160;method for example:\n\n        public void badSwap(int var1, int\n     var2{ int temp = var1; var1 = var2; var2 =\n     temp; }\n\nWhen&#160;badSwap()&#160;returns, the variables passed as arguments will still hold their original values. The method will also fail if we change the arguments type from&#160;int&#160;to&#160;Object, since Java passes object references by value as well. Now, here is where it gets tricky:\n\n \n\n  \n\n \n\n    public void tricky(Point arg1, Point   arg2)\n    { arg1.x = 100; arg1.y = 100; Point temp = arg1; arg1 = arg2; arg2 = temp; }\n    public static void main(String [] args) { \n    \n     Point pnt1 = new Point(0,0); Point pnt2\n     = new Point(0,0); System.out.println(&quot;X:\n     &quot; + pnt1.x + &quot; Y: &quot; +pnt1.y);\n    \n         System.out.println(&quot;X: &quot; + pnt2.x + &quot; Y:\n     &quot; +pnt2.y); System.out.println(&quot; &quot;);\n    \n         tricky(pnt1,pnt2);\n     System.out.println(&quot;X: &quot; + pnt1.x + &quot; Y:&quot; + pnt1.y);\n    \n         System.out.println(&quot;X: &quot; + pnt2.x + &quot; Y: &quot; +pnt2.y); }\n\nIf we execute this&#160;main()&#160;method, we see the following output:\n\nX: 0 Y: 0 X: 0 Y: 0 X: 100 Y: 100 X: 0 Y: 0\n\nThe method successfully alters the value ofpnt1, even though it is passed by value; however, a swap of&#160;pnt1&#160;and&#160;pnt2&#160;fails! This is the major source of confusion. In themain()&#160;method,&#160;pnt1&#160;and&#160;pnt2&#160;are nothing more than object references. When you passpnt1&#160;and&#160;pnt2&#160;to the&#160;tricky()&#160;method, Java passes the references by value just like any other parameter. This means the references passed to the method are actually&#160;copies&#160;of the original references. Figure 1 below shows two references pointing to the same object after Java passes an object to a method.\n\nJava copies and passes the&#160;reference&#160;by value, not the object. Thus, method manipulation will alter the objects, since the references point to the original objects. But since the references are copies, swaps will fail. As Figure 2 illustrates, the method references swap, but not the original references. Unfortunately, after a method call, you are left with only the unswapped original references. For a swap to succeed outside of the method call, we need to swap the original references, not the copies.\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java does manipulate objects by reference, and all object variables are references. However, Java doesn't pass method arguments by reference; it passes them by value.</p>\n\n<p>Take the badSwap() method for example:</p>\n\n<pre><code>    public void badSwap(int var1, int\n var2{ int temp = var1; var1 = var2; var2 =\n temp; }\n</code></pre>\n\n<p>When badSwap() returns, the variables passed as arguments will still hold their original values. The method will also fail if we change the arguments type from int to Object, since Java passes object references by value as well. Now, here is where it gets tricky:</p>\n\n<pre><code>public void tricky(Point arg1, Point   arg2)\n{ arg1.x = 100; arg1.y = 100; Point temp = arg1; arg1 = arg2; arg2 = temp; }\npublic static void main(String [] args) { \n\n Point pnt1 = new Point(0,0); Point pnt2\n = new Point(0,0); System.out.println(\"X:\n \" + pnt1.x + \" Y: \" +pnt1.y);\n\n     System.out.println(\"X: \" + pnt2.x + \" Y:\n \" +pnt2.y); System.out.println(\" \");\n\n     tricky(pnt1,pnt2);\n System.out.println(\"X: \" + pnt1.x + \" Y:\" + pnt1.y);\n\n     System.out.println(\"X: \" + pnt2.x + \" Y: \" +pnt2.y); }\n</code></pre>\n\n<p>If we execute this main() method, we see the following output:</p>\n\n<p>X: 0 Y: 0 X: 0 Y: 0 X: 100 Y: 100 X: 0 Y: 0</p>\n\n<p>The method successfully alters the value ofpnt1, even though it is passed by value; however, a swap of pnt1 and pnt2 fails! This is the major source of confusion. In themain() method, pnt1 and pnt2 are nothing more than object references. When you passpnt1 and pnt2 to the tricky() method, Java passes the references by value just like any other parameter. This means the references passed to the method are actually copies of the original references. Figure 1 below shows two references pointing to the same object after Java passes an object to a method.</p>\n\n<p>Java copies and passes the reference by value, not the object. Thus, method manipulation will alter the objects, since the references point to the original objects. But since the references are copies, swaps will fail. As Figure 2 illustrates, the method references swap, but not the original references. Unfortunately, after a method call, you are left with only the unswapped original references. For a swap to succeed outside of the method call, we need to swap the original references, not the copies.</p>\n"},{"comments":[{"owner":{"account_id":153967,"reputation":1960,"user_id":369604,"accept_rate":77,"display_name":"Loduwijk"},"score":1,"creation_date":1501687539,"post_id":39767073,"comment_id":77890692,"body_markdown":"You might want to clarify your last sentence. My first reaction to &quot;passing the values only and not pointers...&quot; is that your Java implementation probably does *exactly that*, passes a pointer. The fact that you cannot dereference that pointer seems irrelevant.","body":"You might want to clarify your last sentence. My first reaction to &quot;passing the values only and not pointers...&quot; is that your Java implementation probably does <i>exactly that</i>, passes a pointer. The fact that you cannot dereference that pointer seems irrelevant."}],"tags":[],"owner":{"account_id":7647532,"reputation":9983,"user_id":5797598,"accept_rate":14,"display_name":"khakishoiab"},"comment_count":1,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1475142824,"creation_date":1475142824,"answer_id":39767073,"question_id":40480,"body_markdown":"A simple test to check whether a language supports pass-by-reference is simply writing a traditional swap.\r\nCan you write a traditional swap(a,b) method/function in Java?\r\n\r\nA traditional swap method or function takes two arguments and swaps them such that variables passed into the function are changed outside the function. Its basic structure looks like\r\n\r\n(Non-Java) Basic swap function structure\r\n\r\n    swap(Type arg1, Type arg2) {\r\n        Type temp = arg1;\r\n        arg1 = arg2;\r\n        arg2 = temp;\r\n    }\r\n\r\nIf you can write such a method/function in your language such that calling\r\n\r\n    Type var1 = ...;\r\n    Type var2 = ...;\r\n    swap(var1,var2);\r\nactually switches the values of the variables var1 and var2, the language supports pass-by-reference.\r\nBut **Java does not allow such a thing** as it supports passing the values only and not pointers or references.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>A simple test to check whether a language supports pass-by-reference is simply writing a traditional swap.\nCan you write a traditional swap(a,b) method/function in Java?</p>\n\n<p>A traditional swap method or function takes two arguments and swaps them such that variables passed into the function are changed outside the function. Its basic structure looks like</p>\n\n<p>(Non-Java) Basic swap function structure</p>\n\n<pre><code>swap(Type arg1, Type arg2) {\n    Type temp = arg1;\n    arg1 = arg2;\n    arg2 = temp;\n}\n</code></pre>\n\n<p>If you can write such a method/function in your language such that calling</p>\n\n<pre><code>Type var1 = ...;\nType var2 = ...;\nswap(var1,var2);\n</code></pre>\n\n<p>actually switches the values of the variables var1 and var2, the language supports pass-by-reference.\nBut <strong>Java does not allow such a thing</strong> as it supports passing the values only and not pointers or references.</p>\n"},{"tags":[],"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1479142308,"creation_date":1479142308,"answer_id":40593867,"question_id":40480,"body_markdown":"The major cornerstone knowledge must be the quoted one,\r\n&gt; When an object reference is passed to a method, the reference itself\r\n&gt; is passed by use of *call-by-value*. However, since the value being\r\n&gt; passed refers to an object, the copy of that value will still refer to\r\n&gt; the same object referred to by its corresponding argument.\r\n\r\nJava: A Beginner&#39;s Guide, Sixth Edition, Herbert Schildt","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>The major cornerstone knowledge must be the quoted one,</p>\n\n<blockquote>\n  <p>When an object reference is passed to a method, the reference itself\n  is passed by use of <em>call-by-value</em>. However, since the value being\n  passed refers to an object, the copy of that value will still refer to\n  the same object referred to by its corresponding argument.</p>\n</blockquote>\n\n<p>Java: A Beginner's Guide, Sixth Edition, Herbert Schildt</p>\n"},{"tags":[],"owner":{"account_id":9364821,"reputation":49,"user_id":7051714,"accept_rate":80,"display_name":"Taleev Aalam"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1479297521,"creation_date":1479297521,"answer_id":40631632,"question_id":40480,"body_markdown":"It seems everything is call by value in java as i have tried to understand by the following program \n\n**Class-S**\n\n    class S{\n    String name=&quot;alam&quot;;\n    public void setName(String n){\n    this.name=n; \n    }}\n**Class-Sample**\n\n        public class Sample{\n        public static void main(String args[]){\n        S s=new S();\n        S t=new S();\n        System.out.println(s.name);\n        System.out.println(t.name);\n        t.setName(&quot;taleev&quot;);\n        System.out.println(t.name);\n        System.out.println(s.name);\n        s.setName(&quot;Harry&quot;);\n        System.out.println(t.name);\n        System.out.println(s.name);\n        }}\n\n**Output**\n\n&gt;  alam\n&gt;\n&gt; alam\n&gt;\n&gt; taleev\n&gt;\n&gt; alam\n&gt;\n&gt;taleev\n&gt;\n&gt;harry\n\n       \nAs we have define class S with instance variable name with value **taleev** so for\nall the objects that we initialize from it will have the name variable with value of **taleev** but if we change the name&#39;s value of any objects then it is changing the name of only that copy of the class(Object) not for every class so after that also when we do **System.out.println(s.name)** it is printing **taleev** only we can not change the name&#39;s value that we have defined originally, and the value that we are changing is the object&#39;s value not the instance variable value so once we have define instance variable we are unable to change it\n\nSo i think that is how it shows that java deals with **values** only not with the **references** \n\nThe memory allocation for the primitive variables can be understood by  [this][1]\n         \n\n\n  [1]: http://www.informit.com/articles/article.aspx?p=31755&amp;seqNum=8","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>It seems everything is call by value in java as i have tried to understand by the following program</p>\n<p><strong>Class-S</strong></p>\n<pre><code>class S{\nString name=&quot;alam&quot;;\npublic void setName(String n){\nthis.name=n; \n}}\n</code></pre>\n<p><strong>Class-Sample</strong></p>\n<pre><code>    public class Sample{\n    public static void main(String args[]){\n    S s=new S();\n    S t=new S();\n    System.out.println(s.name);\n    System.out.println(t.name);\n    t.setName(&quot;taleev&quot;);\n    System.out.println(t.name);\n    System.out.println(s.name);\n    s.setName(&quot;Harry&quot;);\n    System.out.println(t.name);\n    System.out.println(s.name);\n    }}\n</code></pre>\n<p><strong>Output</strong></p>\n<blockquote>\n<p>alam</p>\n<p>alam</p>\n<p>taleev</p>\n<p>alam</p>\n<p>taleev</p>\n<p>harry</p>\n</blockquote>\n<p>As we have define class S with instance variable name with value <strong>taleev</strong> so for\nall the objects that we initialize from it will have the name variable with value of <strong>taleev</strong> but if we change the name's value of any objects then it is changing the name of only that copy of the class(Object) not for every class so after that also when we do <strong>System.out.println(s.name)</strong> it is printing <strong>taleev</strong> only we can not change the name's value that we have defined originally, and the value that we are changing is the object's value not the instance variable value so once we have define instance variable we are unable to change it</p>\n<p>So i think that is how it shows that java deals with <strong>values</strong> only not with the <strong>references</strong></p>\n<p>The memory allocation for the primitive variables can be understood by  <a href=\"http://www.informit.com/articles/article.aspx?p=31755&amp;seqNum=8\" rel=\"nofollow noreferrer\">this</a></p>\n"},{"tags":[],"owner":{"account_id":2059760,"reputation":2801,"user_id":4958222,"accept_rate":75,"display_name":"Rahul Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1483979709,"creation_date":1483086780,"answer_id":41393112,"question_id":40480,"body_markdown":"Java, for sure, without a doubt, is &quot;pass by value&quot;. Also, since Java is (mostly) object-oriented and objects work with references, it&#39;s easy to get confused and think of it to be &quot;pass by reference&quot;\r\n\r\nPass by value means you pass the value to the method and if the method changes the passed value, the real entity doesn&#39;t change. Pass by reference, on the other hand, means a reference is passed to the method, and if the method changes it, the passed object also changes.\r\n\r\nIn Java, usually when we pass an object to a method, we basically pass the reference of the object as-a-value because that&#39;s how Java works; it works with references and addresses as far as Object in the heap goes.\r\n\r\nBut to test if it is really pass by value or pass by reference, you can use a primitive type and references:\r\n\r\n    @Test\r\n\tpublic void sampleTest(){\r\n\t\tint i = 5;\r\n\t\tincrementBy100(i);\r\n\t\tSystem.out.println(&quot;passed ==&gt; &quot;+ i);\r\n        Integer j = new Integer(5);\r\n        incrementBy100(j);\r\n\t\tSystem.out.println(&quot;passed ==&gt; &quot;+ j);\r\n\t}\r\n\t/**\r\n\t * @param i\r\n\t */\r\n\tprivate void incrementBy100(int i) {\r\n\t\ti += 100;\r\n\t\tSystem.out.println(&quot;incremented = &quot;+ i);\r\n\t}\r\n\r\nThe output is:\r\n\r\n    incremented = 105\r\n    passed ==&gt; 5\r\n    incremented = 105\r\n    passed ==&gt; 5\r\n\r\nSo in both cases, whatever happens inside the method doesn&#39;t change the real Object, because the value of that object was passed, and not a reference to the object itself.\r\n\r\nBut when you pass a custom object to a method, and the method and changes it, it will change the real object too, because even when you passed the object, you passed it&#39;s reference as a value to the method. Let&#39;s try another example:\r\n\r\n    @Test\r\n\tpublic void sampleTest2(){\r\n\t\tPerson person = new Person(24, &quot;John&quot;);\r\n\t\tSystem.out.println(person);\r\n\t\talterPerson(person);\r\n\t\tSystem.out.println(person);\r\n\t}\r\n\t\r\n\t/**\r\n\t * @param person\r\n\t */\r\n\tprivate void alterPerson(Person person) {\r\n\t\tperson.setAge(45);\r\n\t\tPerson altered = person;\r\n\t\taltered.setName(&quot;Tom&quot;);\r\n\t}\r\n\r\n\tprivate static class Person{\r\n\t\tprivate int age;\r\n\t\tprivate String name; \r\n\t\t\r\n\t\tpublic Person(int age, String name) {\r\n\t\t\tthis.age=age;\r\n\t\t\tthis.name =name;\r\n\t\t}\r\n\r\n\t\tpublic int getAge() {\r\n\t\t\treturn age;\r\n\t\t}\r\n\r\n\t\tpublic void setAge(int age) {\r\n\t\t\tthis.age = age;\r\n\t\t}\r\n\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\tStringBuilder builder = new StringBuilder();\r\n\t\t\tbuilder.append(&quot;Person [age=&quot;);\r\n\t\t\tbuilder.append(age);\r\n\t\t\tbuilder.append(&quot;, name=&quot;);\r\n\t\t\tbuilder.append(name);\r\n\t\t\tbuilder.append(&quot;]&quot;);\r\n\t\t\treturn builder.toString();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nIn this case, the output is:\r\n\r\n    Person [age=24, name=John]\r\n    Person [age=45, name=Tom]\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java, for sure, without a doubt, is \"pass by value\". Also, since Java is (mostly) object-oriented and objects work with references, it's easy to get confused and think of it to be \"pass by reference\"</p>\n\n<p>Pass by value means you pass the value to the method and if the method changes the passed value, the real entity doesn't change. Pass by reference, on the other hand, means a reference is passed to the method, and if the method changes it, the passed object also changes.</p>\n\n<p>In Java, usually when we pass an object to a method, we basically pass the reference of the object as-a-value because that's how Java works; it works with references and addresses as far as Object in the heap goes.</p>\n\n<p>But to test if it is really pass by value or pass by reference, you can use a primitive type and references:</p>\n\n<pre><code>@Test\npublic void sampleTest(){\n    int i = 5;\n    incrementBy100(i);\n    System.out.println(\"passed ==&gt; \"+ i);\n    Integer j = new Integer(5);\n    incrementBy100(j);\n    System.out.println(\"passed ==&gt; \"+ j);\n}\n/**\n * @param i\n */\nprivate void incrementBy100(int i) {\n    i += 100;\n    System.out.println(\"incremented = \"+ i);\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>incremented = 105\npassed ==&gt; 5\nincremented = 105\npassed ==&gt; 5\n</code></pre>\n\n<p>So in both cases, whatever happens inside the method doesn't change the real Object, because the value of that object was passed, and not a reference to the object itself.</p>\n\n<p>But when you pass a custom object to a method, and the method and changes it, it will change the real object too, because even when you passed the object, you passed it's reference as a value to the method. Let's try another example:</p>\n\n<pre><code>@Test\npublic void sampleTest2(){\n    Person person = new Person(24, \"John\");\n    System.out.println(person);\n    alterPerson(person);\n    System.out.println(person);\n}\n\n/**\n * @param person\n */\nprivate void alterPerson(Person person) {\n    person.setAge(45);\n    Person altered = person;\n    altered.setName(\"Tom\");\n}\n\nprivate static class Person{\n    private int age;\n    private String name; \n\n    public Person(int age, String name) {\n        this.age=age;\n        this.name =name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder builder = new StringBuilder();\n        builder.append(\"Person [age=\");\n        builder.append(age);\n        builder.append(\", name=\");\n        builder.append(name);\n        builder.append(\"]\");\n        return builder.toString();\n    }\n\n}\n</code></pre>\n\n<p>In this case, the output is:</p>\n\n<pre><code>Person [age=24, name=John]\nPerson [age=45, name=Tom]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2210982,"reputation":1063,"user_id":1952852,"display_name":"Raja"},"comment_count":0,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1485547813,"creation_date":1485546707,"answer_id":41901960,"question_id":40480,"body_markdown":"I tried to simplify the examples above, keeping only the essense of the problem.\r\nLet me present this as a story that is easy to remember and apply correctly.\r\nThe story goes like this:\r\nYou have a pet dog, Jimmy, whose tail is 12 inches long.\r\nYou leave it with a vet for a few weeks while you are travelling abroad.\r\n\r\nThe vet doesn&#39;t like the long tail of Jimmy, so he wants to cut it by half.\r\nBut being a good vet, he knows that he has no right to mutilate other people&#39;s dogs.\r\nSo he first makes a clone of the dog (with the *new* key word) and cuts the tail of the clone.\r\nWhen the dog finally returns to you, it has the original 12 inch tail in tact. Happy ending !\r\n\r\nThe next time you travel, you take the dog, unwittingly, to a wicked vet. \r\nHe is also a hater of long tails, so he cuts it down to a miserable 2 inches. \r\nBut he does this to your dear Jimmy, not a clone of it.\r\nWhen you return, you are shocked to see Jimmy pathetically wagging a 2 inch stub.\r\n\r\nMoral of the story: When you pass on your pet, you are giving away whole and unfettered\r\ncustody of the pet to the vet. He is free to play any kind of havoc with it.\r\nPassing by *value*, by *reference*, by *pointer* are all just technical wrangling. \r\nUnless the vet clones it first, he ends up mutilating the original dog.\r\n\r\n    public class Doggie {\r\n\r\n        public static void main(String...args) {\r\n            System.out.println(&quot;At the owner&#39;s home:&quot;);\r\n            Dog d = new Dog(12);\r\n            d.wag();\r\n            goodVet(d);\r\n            System.out.println(&quot;With the owner again:)&quot;);\r\n            d.wag();\r\n            badVet(d);\r\n            System.out.println(&quot;With the owner again(:&quot;);\r\n            d.wag();\r\n        }\r\n        \r\n        public static void goodVet (Dog dog) {\r\n            System.out.println(&quot;At the good vet:&quot;);\r\n            dog.wag();\r\n            dog = new Dog(12); // create a clone\r\n            dog.cutTail(6);    // cut the clone&#39;s tail\r\n            dog.wag();\r\n        }\r\n        \r\n        public static void badVet (Dog dog) {\r\n            System.out.println(&quot;At the bad vet:&quot;);\r\n            dog.wag();\r\n            dog.cutTail(2);   // cut the original dog&#39;s tail\r\n            dog.wag();\r\n        }    \r\n    }\r\n    \r\n    class Dog {\r\n    \r\n        int tailLength;\r\n        \r\n        public Dog(int originalLength) {\r\n            this.tailLength = originalLength;\r\n        }\r\n        \r\n        public void cutTail (int newLength) {\r\n            this.tailLength = newLength;\r\n        }\r\n        \r\n        public void wag()  {\r\n            System.out.println(&quot;Wagging my &quot; +tailLength +&quot; inch tail&quot;);\r\n        }\r\n    }\r\n\r\n    Output:\r\n    At the owner&#39;s home:\r\n    Wagging my 12 inch tail\r\n    At the good vet:\r\n    Wagging my 12 inch tail\r\n    Wagging my 6 inch tail\r\n    With the owner again:)\r\n    Wagging my 12 inch tail\r\n    At the bad vet:\r\n    Wagging my 12 inch tail\r\n    Wagging my 2 inch tail\r\n    With the owner again(:\r\n    Wagging my 2 inch tail\r\n\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I tried to simplify the examples above, keeping only the essense of the problem.\nLet me present this as a story that is easy to remember and apply correctly.\nThe story goes like this:\nYou have a pet dog, Jimmy, whose tail is 12 inches long.\nYou leave it with a vet for a few weeks while you are travelling abroad.</p>\n\n<p>The vet doesn't like the long tail of Jimmy, so he wants to cut it by half.\nBut being a good vet, he knows that he has no right to mutilate other people's dogs.\nSo he first makes a clone of the dog (with the <em>new</em> key word) and cuts the tail of the clone.\nWhen the dog finally returns to you, it has the original 12 inch tail in tact. Happy ending !</p>\n\n<p>The next time you travel, you take the dog, unwittingly, to a wicked vet. \nHe is also a hater of long tails, so he cuts it down to a miserable 2 inches. \nBut he does this to your dear Jimmy, not a clone of it.\nWhen you return, you are shocked to see Jimmy pathetically wagging a 2 inch stub.</p>\n\n<p>Moral of the story: When you pass on your pet, you are giving away whole and unfettered\ncustody of the pet to the vet. He is free to play any kind of havoc with it.\nPassing by <em>value</em>, by <em>reference</em>, by <em>pointer</em> are all just technical wrangling. \nUnless the vet clones it first, he ends up mutilating the original dog.</p>\n\n<pre><code>public class Doggie {\n\n    public static void main(String...args) {\n        System.out.println(\"At the owner's home:\");\n        Dog d = new Dog(12);\n        d.wag();\n        goodVet(d);\n        System.out.println(\"With the owner again:)\");\n        d.wag();\n        badVet(d);\n        System.out.println(\"With the owner again(:\");\n        d.wag();\n    }\n\n    public static void goodVet (Dog dog) {\n        System.out.println(\"At the good vet:\");\n        dog.wag();\n        dog = new Dog(12); // create a clone\n        dog.cutTail(6);    // cut the clone's tail\n        dog.wag();\n    }\n\n    public static void badVet (Dog dog) {\n        System.out.println(\"At the bad vet:\");\n        dog.wag();\n        dog.cutTail(2);   // cut the original dog's tail\n        dog.wag();\n    }    \n}\n\nclass Dog {\n\n    int tailLength;\n\n    public Dog(int originalLength) {\n        this.tailLength = originalLength;\n    }\n\n    public void cutTail (int newLength) {\n        this.tailLength = newLength;\n    }\n\n    public void wag()  {\n        System.out.println(\"Wagging my \" +tailLength +\" inch tail\");\n    }\n}\n\nOutput:\nAt the owner's home:\nWagging my 12 inch tail\nAt the good vet:\nWagging my 12 inch tail\nWagging my 6 inch tail\nWith the owner again:)\nWagging my 12 inch tail\nAt the bad vet:\nWagging my 12 inch tail\nWagging my 2 inch tail\nWith the owner again(:\nWagging my 2 inch tail\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1638815997,"post_id":43113746,"comment_id":124183325,"body_markdown":"Objects are passed by reference. :)","body":"Objects are passed by reference. :)"}],"tags":[],"owner":{"account_id":5330844,"reputation":14681,"user_id":4251431,"accept_rate":80,"display_name":"Basheer AL-MOMANI"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1560542336,"creation_date":1490866146,"answer_id":43113746,"question_id":40480,"body_markdown":"Unlike some other languages, Java does not allow you to choose between pass-by-value and pass-by-reference.\r\n\r\nAll arguments are passed by value. \r\n\r\nA method call can pass two `types of values`to a method\r\n\r\n - copies of primitive values (e.g., values of type int and double)\r\n - copies of references to objects.\r\n\r\n`Objects themselves cannot be passed to methods`. When a method modifies a primitive-type parameter, changes to the parameter have no effect on the original argument value in the calling method.\r\n\r\nThis is also true for reference-type parameters. If you modify a reference-type parameter so that it refers to another object, only the parameter refers to the new object—the reference stored in the caller’s variable still refers to the original object.\r\n\r\nReferences: [Java™ How To Program (Early Objects), Tenth Edition][1] \r\n\r\n\r\n  [1]: https://www.safaribooksonline.com/library/view/javatm-how-to/9780133813036/ch07lev2sec11.html","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Unlike some other languages, Java does not allow you to choose between pass-by-value and pass-by-reference.</p>\n\n<p>All arguments are passed by value. </p>\n\n<p>A method call can pass two <code>types of values</code>to a method</p>\n\n<ul>\n<li>copies of primitive values (e.g., values of type int and double)</li>\n<li>copies of references to objects.</li>\n</ul>\n\n<p><code>Objects themselves cannot be passed to methods</code>. When a method modifies a primitive-type parameter, changes to the parameter have no effect on the original argument value in the calling method.</p>\n\n<p>This is also true for reference-type parameters. If you modify a reference-type parameter so that it refers to another object, only the parameter refers to the new object—the reference stored in the caller’s variable still refers to the original object.</p>\n\n<p>References: <a href=\"https://www.safaribooksonline.com/library/view/javatm-how-to/9780133813036/ch07lev2sec11.html\" rel=\"noreferrer\">Java™ How To Program (Early Objects), Tenth Edition</a> </p>\n"},{"comments":[{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":1,"creation_date":1645795594,"post_id":43290680,"comment_id":125971450,"body_markdown":"What about &quot;Java is a programming language&quot;? What about &quot;Designers of Java built their own terminology, that does not exist outside&quot;?","body":"What about &quot;Java is a programming language&quot;? What about &quot;Designers of Java built their own terminology, that does not exist outside&quot;?"}],"tags":[],"owner":{"account_id":4507628,"reputation":161,"user_id":3664592,"display_name":"Himanshu arora"},"comment_count":1,"down_vote_count":6,"up_vote_count":96,"is_accepted":false,"score":90,"last_activity_date":1700819158,"creation_date":1491630689,"answer_id":43290680,"question_id":40480,"body_markdown":"Java is a pass by value(stack memory)\r\n\r\nHow it works\r\n\r\n* Let&#39;s first understand that where java stores primitive data type and object data type.\r\n\r\n* Primitive data types itself and object references are stored in the stack. \r\n  Objects themselves are stored in the heap.\r\n\r\n* It means, Stack memory stores primitive data types and also the \r\n  addresses of objects.\r\n\r\n* And you always pass a copy of the bits of the value of the reference.\r\n\r\n* If it&#39;s a primitive data type then these copied bits contain the value of the primitive data type itself, That&#39;s why when we change the value of argument inside the method then it does not reflect the changes outside.\r\n\r\n* If it&#39;s an object data type like **Foo foo=new Foo()** then in this case copy of the address of the object passes like file shortcut  , suppose we have a text file **abc.txt** at **C:\\desktop** and suppose we make shortcut of the same file and put this inside **C:\\desktop\\abc-shortcut** so when you access the file from **C:\\desktop\\abc.txt** and write **&#39;Stack Overflow&#39;** and close the file and again you open the file from shortcut then you write **&#39; is the largest online community for programmers to learn&#39;** then total file change will be **&#39;Stack Overflow is the largest online community for programmers to learn&#39;** which means it doesn&#39;t matter from where you open the file , each time we were accessing the same file , here we can assume **Foo** as a file and suppose foo stored at **123hd7h**(original address like **C:\\desktop\\abc.txt** ) address and **234jdid**(copied address like **C:\\desktop\\abc-shortcut** which actually contains the original address of the file inside) ..\r\nSo for better understanding make shortcut file and feel..\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java is a pass by value(stack memory)</p>\n<p>How it works</p>\n<ul>\n<li><p>Let's first understand that where java stores primitive data type and object data type.</p>\n</li>\n<li><p>Primitive data types itself and object references are stored in the stack.\nObjects themselves are stored in the heap.</p>\n</li>\n<li><p>It means, Stack memory stores primitive data types and also the\naddresses of objects.</p>\n</li>\n<li><p>And you always pass a copy of the bits of the value of the reference.</p>\n</li>\n<li><p>If it's a primitive data type then these copied bits contain the value of the primitive data type itself, That's why when we change the value of argument inside the method then it does not reflect the changes outside.</p>\n</li>\n<li><p>If it's an object data type like <strong>Foo foo=new Foo()</strong> then in this case copy of the address of the object passes like file shortcut  , suppose we have a text file <strong>abc.txt</strong> at <strong>C:\\desktop</strong> and suppose we make shortcut of the same file and put this inside <strong>C:\\desktop\\abc-shortcut</strong> so when you access the file from <strong>C:\\desktop\\abc.txt</strong> and write <strong>'Stack Overflow'</strong> and close the file and again you open the file from shortcut then you write <strong>' is the largest online community for programmers to learn'</strong> then total file change will be <strong>'Stack Overflow is the largest online community for programmers to learn'</strong> which means it doesn't matter from where you open the file , each time we were accessing the same file , here we can assume <strong>Foo</strong> as a file and suppose foo stored at <strong>123hd7h</strong>(original address like <strong>C:\\desktop\\abc.txt</strong> ) address and <strong>234jdid</strong>(copied address like <strong>C:\\desktop\\abc-shortcut</strong> which actually contains the original address of the file inside) ..\nSo for better understanding make shortcut file and feel..</p>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1638816522,"post_id":46026822,"comment_id":124183496,"body_markdown":"Thought, Java is a programming language ;)","body":"Thought, Java is a programming language ;)"}],"tags":[],"owner":{"account_id":5304861,"reputation":1940,"user_id":4233180,"display_name":"Supriya"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1504464768,"creation_date":1504464768,"answer_id":46026822,"question_id":40480,"body_markdown":"Java is pass by value. \r\n\r\nThere are already great answers on this thread. Somehow, I was never clear on pass by value/reference with respect to primitive data types and with respect to objects. Therefore, I tested it out for my satisfaction and clarity with the following piece of code; might help somebody seeking similar clarity:\r\n\r\n    class Test    {\r\n\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\t// Primitive type\r\n\t\tSystem.out.println(&quot;Primitve:&quot;);\r\n\t\tint a = 5;\r\n\t\tprimitiveFunc(a);\r\n\t\tSystem.out.println(&quot;Three: &quot; + a);    //5\r\n\t\t\r\n\t\t//Object\r\n\t\tSystem.out.println(&quot;Object:&quot;);\r\n\t\tDummyObject dummyObject = new DummyObject();\r\n\t\tSystem.out.println(&quot;One: &quot; + dummyObject.getObj());    //555\r\n\t\tobjectFunc(dummyObject);\r\n\t\tSystem.out.println(&quot;Four: &quot; + dummyObject.getObj());    //666 (555 if line in method uncommented.)\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate static void primitiveFunc(int b)\t{\r\n\t\tSystem.out.println(&quot;One: &quot; + b);    //5\r\n\t\tb = 10;\r\n\t\tSystem.out.println(&quot;Two:&quot; + b);    //10\r\n\t}\r\n\t\r\n\tprivate static void objectFunc(DummyObject b)\t{\r\n\t\tSystem.out.println(&quot;Two: &quot; + b.getObj());    //555\r\n\t\t//b = new DummyObject();\r\n\t\tb.setObj(666);\r\n\t\tSystem.out.println(&quot;Three:&quot; + b.getObj());    //666\r\n\t}\r\n\r\n    }\r\n\r\n    class DummyObject\t{\r\n\t    private int obj = 555;\r\n\t    public int getObj()\t{ return obj; }\r\n\t    public void setObj(int num)\t{ obj = num; }\r\n    }\r\n\r\nIf the line `b = new DummyObject()` is uncommented, the modifications made thereafter are made on a *new* object, a new instantiation. Hence, it is not reflected in the place where the method is called from. However, otherwise, the change is reflected as the modifications are only made on a &quot;reference&quot; of the object, i.e - b points to the same dummyObject. \r\n\r\nIllustrations in one of the answers in this thread (https://stackoverflow.com/a/12429953/4233180) can help gain a deeper understanding.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java is pass by value. </p>\n\n<p>There are already great answers on this thread. Somehow, I was never clear on pass by value/reference with respect to primitive data types and with respect to objects. Therefore, I tested it out for my satisfaction and clarity with the following piece of code; might help somebody seeking similar clarity:</p>\n\n<pre><code>class Test    {\n\npublic static void main (String[] args) throws java.lang.Exception\n{\n    // Primitive type\n    System.out.println(\"Primitve:\");\n    int a = 5;\n    primitiveFunc(a);\n    System.out.println(\"Three: \" + a);    //5\n\n    //Object\n    System.out.println(\"Object:\");\n    DummyObject dummyObject = new DummyObject();\n    System.out.println(\"One: \" + dummyObject.getObj());    //555\n    objectFunc(dummyObject);\n    System.out.println(\"Four: \" + dummyObject.getObj());    //666 (555 if line in method uncommented.)\n\n}\n\nprivate static void primitiveFunc(int b)    {\n    System.out.println(\"One: \" + b);    //5\n    b = 10;\n    System.out.println(\"Two:\" + b);    //10\n}\n\nprivate static void objectFunc(DummyObject b)   {\n    System.out.println(\"Two: \" + b.getObj());    //555\n    //b = new DummyObject();\n    b.setObj(666);\n    System.out.println(\"Three:\" + b.getObj());    //666\n}\n\n}\n\nclass DummyObject   {\n    private int obj = 555;\n    public int getObj() { return obj; }\n    public void setObj(int num) { obj = num; }\n}\n</code></pre>\n\n<p>If the line <code>b = new DummyObject()</code> is uncommented, the modifications made thereafter are made on a <em>new</em> object, a new instantiation. Hence, it is not reflected in the place where the method is called from. However, otherwise, the change is reflected as the modifications are only made on a \"reference\" of the object, i.e - b points to the same dummyObject. </p>\n\n<p>Illustrations in one of the answers in this thread (<a href=\"https://stackoverflow.com/a/12429953/4233180\">https://stackoverflow.com/a/12429953/4233180</a>) can help gain a deeper understanding.</p>\n"},{"tags":[],"owner":{"account_id":9674049,"reputation":726,"user_id":7178104,"display_name":"Raj Rusia"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1514187301,"creation_date":1504707202,"answer_id":46077533,"question_id":40480,"body_markdown":"One of the biggest confusion in Java programming language is whether Java is **Pass by Value** or **Pass by Reference**.\r\n\r\nFirst of all, we should understand what is meant by pass by value or pass by reference.\r\n\r\n**Pass by Value:** The method parameter values are copied to another variable and then the copied object is passed, that’s why it’s called pass by value.\r\n\r\n**Pass by Reference:** An alias or reference to the actual parameter is passed to the method, that’s why it’s called pass by reference.\r\n\r\nLet’s say we have a class Balloon like below.\r\n\r\n\r\n\r\n    public class Balloon {\r\n    \r\n    \tprivate String color;\r\n    \r\n    \tpublic Balloon(){}\r\n    \t\r\n    \tpublic Balloon(String c){\r\n    \t\tthis.color=c;\r\n    \t}\r\n    \t\r\n    \tpublic String getColor() {\r\n    \t\treturn color;\r\n    \t}\r\n    \r\n    \tpublic void setColor(String color) {\r\n    \t\tthis.color = color;\r\n    \t}\r\n    }\r\n\r\nAnd we have a simple program with a generic method to swap two objects, the class looks like below.\r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tBalloon red = new Balloon(&quot;Red&quot;); //memory reference 50\r\n    \t\tBalloon blue = new Balloon(&quot;Blue&quot;); //memory reference 100\r\n    \t\t\r\n    \t\tswap(red, blue);\r\n    \t\tSystem.out.println(&quot;red color=&quot;+red.getColor());\r\n    \t\tSystem.out.println(&quot;blue color=&quot;+blue.getColor());\r\n    \t\t\r\n    \t\tfoo(blue);\r\n    \t\tSystem.out.println(&quot;blue color=&quot;+blue.getColor());\r\n    \t\t\r\n    \t}\r\n    \r\n    \tprivate static void foo(Balloon balloon) { //baloon=100\r\n    \t\tballoon.setColor(&quot;Red&quot;); //baloon=100\r\n    \t\tballoon = new Balloon(&quot;Green&quot;); //baloon=200\r\n    \t\tballoon.setColor(&quot;Blue&quot;); //baloon = 200\r\n    \t}\r\n    \r\n    \t//Generic swap method\r\n    \tpublic static void swap(Object o1, Object o2){\r\n    \t\tObject temp = o1;\r\n    \t\to1=o2;\r\n    \t\to2=temp;\r\n    \t}\r\n    }\r\n\r\nWhen we execute the above program, we get following output.\r\n\r\n    red color=Red\r\n    blue color=Blue\r\n    blue color=Red\r\n\r\n\r\nIf you look at the first two lines of the output, it’s clear that swap method didn’t work. This is because Java is passed by value, this swap() method test can be used with any programming language to check whether it’s pass by value or pass by reference.\r\n\r\nLet’s analyze the program execution step by step.\r\n\r\n    Balloon red = new Balloon(&quot;Red&quot;);\r\n    Balloon blue = new Balloon(&quot;Blue&quot;);\r\n\r\nWhen we use the new operator to create an instance of a class, the instance is created and the variable contains the reference location of the memory where the object is saved. For our example, let’s assume that “red” is pointing to 50 and “blue” is pointing to 100 and these are the memory location of both Balloon objects.\r\n\r\nNow when we are calling swap() method, two new variables o1 and o2 are created pointing to 50 and 100 respectively.\r\n\r\nSo below code snippet explains what happened in the swap() method execution.\r\n\r\n    public static void swap(Object o1, Object o2){ //o1=50, o2=100\r\n    \tObject temp = o1; //temp=50, o1=50, o2=100\r\n    \to1=o2; //temp=50, o1=100, o2=100\r\n    \to2=temp; //temp=50, o1=100, o2=50\r\n    } //method terminated\r\n\r\nNotice that we are changing values of o1 and o2 but they are copies of “red” and “blue” reference locations, so actually, there is no change in the values of “red” and “blue” and hence the output.\r\n\r\nIf you have understood this far, you can easily understand the cause of confusion. Since the variables are just the reference to the objects, we get confused that we are passing the reference so Java is passed by reference. However, we are passing a copy of the reference and hence it’s pass by value. I hope it clears all the doubts now.\r\n\r\nNow let’s analyze **foo()** method execution.\r\n\r\n    private static void foo(Balloon balloon) { //baloon=100\r\n    \tballoon.setColor(&quot;Red&quot;); //baloon=100\r\n    \tballoon = new Balloon(&quot;Green&quot;); //baloon=200\r\n    \tballoon.setColor(&quot;Blue&quot;); //baloon = 200\r\n    }\r\n\r\nThe first line is the important one when we call a method the method is called on the Object at the reference location. At this point, the balloon is pointing to 100 and hence it’s color is changed to Red.\r\n\r\nIn the next line, balloon reference is changed to 200 and any further methods executed are happening on the object at memory location 200 and not having any effect on the object at memory location 100. This explains the third line of our program output printing blue color=Red.\r\n\r\nI hope above explanation clear all the doubts, just remember that variables are references or pointers and its copy is passed to the methods, so Java is always passed by value. It would be more clear when you will learn about Heap and Stack memory and where different objects and references are stored.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>One of the biggest confusion in Java programming language is whether Java is <strong>Pass by Value</strong> or <strong>Pass by Reference</strong>.</p>\n\n<p>First of all, we should understand what is meant by pass by value or pass by reference.</p>\n\n<p><strong>Pass by Value:</strong> The method parameter values are copied to another variable and then the copied object is passed, that’s why it’s called pass by value.</p>\n\n<p><strong>Pass by Reference:</strong> An alias or reference to the actual parameter is passed to the method, that’s why it’s called pass by reference.</p>\n\n<p>Let’s say we have a class Balloon like below.</p>\n\n<pre><code>public class Balloon {\n\n    private String color;\n\n    public Balloon(){}\n\n    public Balloon(String c){\n        this.color=c;\n    }\n\n    public String getColor() {\n        return color;\n    }\n\n    public void setColor(String color) {\n        this.color = color;\n    }\n}\n</code></pre>\n\n<p>And we have a simple program with a generic method to swap two objects, the class looks like below.</p>\n\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n\n        Balloon red = new Balloon(\"Red\"); //memory reference 50\n        Balloon blue = new Balloon(\"Blue\"); //memory reference 100\n\n        swap(red, blue);\n        System.out.println(\"red color=\"+red.getColor());\n        System.out.println(\"blue color=\"+blue.getColor());\n\n        foo(blue);\n        System.out.println(\"blue color=\"+blue.getColor());\n\n    }\n\n    private static void foo(Balloon balloon) { //baloon=100\n        balloon.setColor(\"Red\"); //baloon=100\n        balloon = new Balloon(\"Green\"); //baloon=200\n        balloon.setColor(\"Blue\"); //baloon = 200\n    }\n\n    //Generic swap method\n    public static void swap(Object o1, Object o2){\n        Object temp = o1;\n        o1=o2;\n        o2=temp;\n    }\n}\n</code></pre>\n\n<p>When we execute the above program, we get following output.</p>\n\n<pre><code>red color=Red\nblue color=Blue\nblue color=Red\n</code></pre>\n\n<p>If you look at the first two lines of the output, it’s clear that swap method didn’t work. This is because Java is passed by value, this swap() method test can be used with any programming language to check whether it’s pass by value or pass by reference.</p>\n\n<p>Let’s analyze the program execution step by step.</p>\n\n<pre><code>Balloon red = new Balloon(\"Red\");\nBalloon blue = new Balloon(\"Blue\");\n</code></pre>\n\n<p>When we use the new operator to create an instance of a class, the instance is created and the variable contains the reference location of the memory where the object is saved. For our example, let’s assume that “red” is pointing to 50 and “blue” is pointing to 100 and these are the memory location of both Balloon objects.</p>\n\n<p>Now when we are calling swap() method, two new variables o1 and o2 are created pointing to 50 and 100 respectively.</p>\n\n<p>So below code snippet explains what happened in the swap() method execution.</p>\n\n<pre><code>public static void swap(Object o1, Object o2){ //o1=50, o2=100\n    Object temp = o1; //temp=50, o1=50, o2=100\n    o1=o2; //temp=50, o1=100, o2=100\n    o2=temp; //temp=50, o1=100, o2=50\n} //method terminated\n</code></pre>\n\n<p>Notice that we are changing values of o1 and o2 but they are copies of “red” and “blue” reference locations, so actually, there is no change in the values of “red” and “blue” and hence the output.</p>\n\n<p>If you have understood this far, you can easily understand the cause of confusion. Since the variables are just the reference to the objects, we get confused that we are passing the reference so Java is passed by reference. However, we are passing a copy of the reference and hence it’s pass by value. I hope it clears all the doubts now.</p>\n\n<p>Now let’s analyze <strong>foo()</strong> method execution.</p>\n\n<pre><code>private static void foo(Balloon balloon) { //baloon=100\n    balloon.setColor(\"Red\"); //baloon=100\n    balloon = new Balloon(\"Green\"); //baloon=200\n    balloon.setColor(\"Blue\"); //baloon = 200\n}\n</code></pre>\n\n<p>The first line is the important one when we call a method the method is called on the Object at the reference location. At this point, the balloon is pointing to 100 and hence it’s color is changed to Red.</p>\n\n<p>In the next line, balloon reference is changed to 200 and any further methods executed are happening on the object at memory location 200 and not having any effect on the object at memory location 100. This explains the third line of our program output printing blue color=Red.</p>\n\n<p>I hope above explanation clear all the doubts, just remember that variables are references or pointers and its copy is passed to the methods, so Java is always passed by value. It would be more clear when you will learn about Heap and Stack memory and where different objects and references are stored.</p>\n"},{"comments":[{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1638815614,"post_id":46871427,"comment_id":124183198,"body_markdown":"And to where is Java passed?","body":"And to where is Java passed?"}],"tags":[],"owner":{"account_id":12041169,"reputation":45,"user_id":8808036,"display_name":"NAGHMAAN MOHASEEN"},"comment_count":1,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1511354300,"creation_date":1508656124,"answer_id":46871427,"question_id":40480,"body_markdown":"&lt;h3&gt;Java is strictly passed by value&lt;/h3&gt;\r\n\r\n\r\nWhen I say ***pass by value*** it means whenever caller has invoked the callee the arguments(ie: the data to be passed to the other function) **is copied** and placed in the formal parameters (callee&#39;s local variables for receiving the input). Java makes data communications from one function to other function only in a pass by value environment.\r\n\r\n\r\nAn important point would be to know that even C language is strictly passed by value only:  \r\n*ie:* Data is copied from caller to the callee and more ever the operation performed by the callee are on the same memory location and \r\nwhat we pass them is the address of that location that we obtain from (&amp;) operator and the identifier used in the formal parameters are declared to be a pointer variable (*) using which we can get inside the memory location for accessing the data in it.\r\n\r\nHence here the formal parameter is nothing but mere aliases for that location. And any modifications done on that location is visible where ever that scope of the variable (that identifies that location) is alive.\r\n\r\n\r\nIn Java, there is no concept of pointers (*ie:* there is nothing called a pointer variable), although we can think of reference variable as a pointer technically in java we call it as a handle. The reason why we call the pointer to an address as a handle in java is  because a pointer variable is capable of performing not just single dereferencing but multiple dereferencing \r\nfor example: `int *p;` in P means p points to an integer\r\nand `int **p;` in C means p is pointer to a pointer to an integer\r\nwe dont have this facility in Java, so its absolutely correct and technically legitimate to say it as an handle, also there are rules for pointer arithmetic in C. Which allows performing arithmetic operation on pointers with constraints on it. \r\n\r\nIn C we call such mechanism of passing address and receiving them with pointer variables as *pass by reference* since we are passing their addresses and receiving them as pointer variable in formal parameter but at the compiler level that address is copied into pointer variable (since data here is address even then its data ) hence we can be 100% sure that C is Strictly passed by value (as we are passing data only)\r\n\r\n(and if we pass the data directly in C we call that as pass by value.)\r\n\r\nIn java when we do the same we do it with the handles; since they are not called pointer variables like in (as discussed above) even though we are passing the references we cannot say its pass by reference since we are not collecting that with a pointer variable in Java.\r\n\r\nHence Java **strictly use pass by value mechanism** ","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<h3>Java is strictly passed by value</h3>\n\n<p>When I say <strong><em>pass by value</em></strong> it means whenever caller has invoked the callee the arguments(ie: the data to be passed to the other function) <strong>is copied</strong> and placed in the formal parameters (callee's local variables for receiving the input). Java makes data communications from one function to other function only in a pass by value environment.</p>\n\n<p>An important point would be to know that even C language is strictly passed by value only:<br>\n<em>ie:</em> Data is copied from caller to the callee and more ever the operation performed by the callee are on the same memory location and \nwhat we pass them is the address of that location that we obtain from (&amp;) operator and the identifier used in the formal parameters are declared to be a pointer variable (*) using which we can get inside the memory location for accessing the data in it.</p>\n\n<p>Hence here the formal parameter is nothing but mere aliases for that location. And any modifications done on that location is visible where ever that scope of the variable (that identifies that location) is alive.</p>\n\n<p>In Java, there is no concept of pointers (<em>ie:</em> there is nothing called a pointer variable), although we can think of reference variable as a pointer technically in java we call it as a handle. The reason why we call the pointer to an address as a handle in java is  because a pointer variable is capable of performing not just single dereferencing but multiple dereferencing \nfor example: <code>int *p;</code> in P means p points to an integer\nand <code>int **p;</code> in C means p is pointer to a pointer to an integer\nwe dont have this facility in Java, so its absolutely correct and technically legitimate to say it as an handle, also there are rules for pointer arithmetic in C. Which allows performing arithmetic operation on pointers with constraints on it. </p>\n\n<p>In C we call such mechanism of passing address and receiving them with pointer variables as <em>pass by reference</em> since we are passing their addresses and receiving them as pointer variable in formal parameter but at the compiler level that address is copied into pointer variable (since data here is address even then its data ) hence we can be 100% sure that C is Strictly passed by value (as we are passing data only)</p>\n\n<p>(and if we pass the data directly in C we call that as pass by value.)</p>\n\n<p>In java when we do the same we do it with the handles; since they are not called pointer variables like in (as discussed above) even though we are passing the references we cannot say its pass by reference since we are not collecting that with a pointer variable in Java.</p>\n\n<p>Hence Java <strong>strictly use pass by value mechanism</strong> </p>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71921,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1662877418,"creation_date":1513419550,"answer_id":47844599,"question_id":40480,"body_markdown":"Data is shared between functions by passing parameters. Now, there are 2 ways of passing parameters: \r\n- **passed by reference :** caller and callee use same variable for parameter.  \r\n\r\n- **passed by value :** caller and callee have two independent variables with same value.  \r\n\r\nJava uses ***pass by value*** \r\n - When passing primitive data, it copies the value of primitive data type.\r\n - When passing object, it copies the address of object and passes to callee method variable.\r\n\r\nJava follows the following rules in storing variables:\r\n- Local variables like primitives and object references are created on Stack memory.\r\n- Objects are created on Heap memory.\r\n\r\nExample using primitive data type: \r\n\r\n\r\n    public class PassByValuePrimitive {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint i=5;\r\n    \t\tSystem.out.println(i);  //prints 5\r\n    \t\tchange(i);\r\n    \t\tSystem.out.println(i);  //prints 5\r\n    \t}\r\n    \t\r\n    \t\r\n    \tprivate static void change(int i) {\r\n    \t\tSystem.out.println(i);  //prints 5\r\n    \t\ti=10;\r\n    \t\tSystem.out.println(i); //prints 10\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nExample using object:\r\n\r\n    public class PassByValueObject {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    \t\tlist.add(&quot;prem&quot;);\r\n    \t\tlist.add(&quot;raj&quot;);\r\n    \t\tnew PassByValueObject().change(list);\r\n    \t\tSystem.out.println(list); // prints [prem, raj, ram]\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \tprivate  void change(List list) {\r\n    \t\tSystem.out.println(list.get(0)); // prem\r\n    \t\tlist.add(&quot;ram&quot;);\r\n    \t\tlist=null;\r\n    \t\tSystem.out.println(list.add(&quot;bheem&quot;)); //gets NullPointerException\r\n    \t}\r\n    }\r\n\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Data is shared between functions by passing parameters. Now, there are 2 ways of passing parameters:</p>\n<ul>\n<li><p><strong>passed by reference :</strong> caller and callee use same variable for parameter.</p>\n</li>\n<li><p><strong>passed by value :</strong> caller and callee have two independent variables with same value.</p>\n</li>\n</ul>\n<p>Java uses <em><strong>pass by value</strong></em></p>\n<ul>\n<li>When passing primitive data, it copies the value of primitive data type.</li>\n<li>When passing object, it copies the address of object and passes to callee method variable.</li>\n</ul>\n<p>Java follows the following rules in storing variables:</p>\n<ul>\n<li>Local variables like primitives and object references are created on Stack memory.</li>\n<li>Objects are created on Heap memory.</li>\n</ul>\n<p>Example using primitive data type:</p>\n<pre><code>public class PassByValuePrimitive {\n    public static void main(String[] args) {\n        int i=5;\n        System.out.println(i);  //prints 5\n        change(i);\n        System.out.println(i);  //prints 5\n    }\n    \n    \n    private static void change(int i) {\n        System.out.println(i);  //prints 5\n        i=10;\n        System.out.println(i); //prints 10\n        \n    }\n}\n</code></pre>\n<p>Example using object:</p>\n<pre><code>public class PassByValueObject {\n    public static void main(String[] args) {\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        list.add(&quot;prem&quot;);\n        list.add(&quot;raj&quot;);\n        new PassByValueObject().change(list);\n        System.out.println(list); // prints [prem, raj, ram]\n        \n    }\n    \n    \n    private  void change(List list) {\n        System.out.println(list.get(0)); // prem\n        list.add(&quot;ram&quot;);\n        list=null;\n        System.out.println(list.add(&quot;bheem&quot;)); //gets NullPointerException\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2244007,"reputation":2157,"user_id":1977836,"display_name":"Felypp Oliveira"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1544209359,"creation_date":1517606636,"answer_id":48591063,"question_id":40480,"body_markdown":"This is the best way to answer the question imo...\r\n\r\nFirst, we must understand that, in Java, the *parameter passing behavior*...\r\n\r\n    public void foo(Object param)\r\n    {\r\n      // some code in foo...\r\n    }\r\n\r\n    public void bar()\r\n    {\r\n      Object obj = new Object();\r\n      \r\n      foo(obj);\r\n    }\r\n\r\nis exactly the same as...\r\n\r\n    public void bar()\r\n    {\r\n      Object obj = new Object();\r\n      \r\n      Object param = obj;\r\n\r\n      // some code in foo...\r\n    }\r\n\r\nnot considering stack locations, which aren&#39;t relevant in this discussion.\r\n\r\nSo, in fact, what we&#39;re looking for in Java is how *variable assignment* works. I found it in [the docs][1] :\r\n\r\n&gt; One of the most common operators that you&#39;ll encounter is the simple assignment operator &quot;=&quot; [...] &lt;b&gt;it assigns the value&lt;/b&gt; on its right to the operand on its left:\r\n&gt; \r\n&gt;  int cadence = 0;  \r\n&gt;  int speed = 0;  \r\n&gt;  int gear = 1;  \r\n&gt;  \r\n&gt; This operator can also be used on objects to assign &lt;b&gt;object references&lt;/b&gt; [...]\r\n\r\nIt&#39;s clear how this operator acts in two distinct ways: assign values and assign references. The last, when it&#39;s an object... the first, when it isn&#39;t an object, that is, when it&#39;s a primitive. But so, can we understand that Java&#39;s function params can be *pass-by-value* and *pass-by-reference*? \r\n\r\nThe truth is in the code. Let&#39;s try it:\r\n\r\n    public class AssignmentEvaluation\r\n    {\r\n      static public class MyInteger\r\n      {\r\n        public int value = 0;\r\n      }\r\n      \r\n      static public void main(String[] args)\r\n      {\r\n        System.out.println(&quot;Assignment operator evaluation using two MyInteger objects named height and width\\n&quot;);\r\n        \r\n        MyInteger height = new MyInteger();\r\n        MyInteger width  = new MyInteger();\r\n        \r\n        System.out.println(&quot;[1] Assign distinct integers to height and width values&quot;);\r\n        \r\n        height.value = 9;\r\n        width.value  = 1;\r\n        \r\n        System.out.println(&quot;-&gt;  height is &quot; + height.value + &quot; and width is &quot; + width.value + &quot;, we are different things! \\n&quot;);\r\n        \r\n        System.out.println(&quot;[2] Assign to height&#39;s value the width&#39;s value&quot;);\r\n        \r\n        height.value = width.value;\r\n        \r\n        System.out.println(&quot;-&gt;  height is &quot; + height.value + &quot; and width is &quot; + width.value + &quot;, are we the same thing now? \\n&quot;);\r\n        \r\n        System.out.println(&quot;[3] Assign to height&#39;s value an integer other than width&#39;s value&quot;);\r\n        \r\n        height.value = 9;\r\n        \r\n        System.out.println(&quot;-&gt;  height is &quot; + height.value + &quot; and width is &quot; + width.value + &quot;, we are different things yet! \\n&quot;);\r\n        \r\n        System.out.println(&quot;[4] Assign to height the width object&quot;);\r\n        \r\n        height = width;\r\n        \r\n        System.out.println(&quot;-&gt;  height is &quot; + height.value + &quot; and width is &quot; + width.value + &quot;, are we the same thing now? \\n&quot;);\r\n        \r\n        System.out.println(&quot;[5] Assign to height&#39;s value an integer other than width&#39;s value&quot;);\r\n        \r\n        height.value = 9;\r\n        \r\n        System.out.println(&quot;-&gt;  height is &quot; + height.value + &quot; and width is &quot; + width.value + &quot;, we are the same thing now! \\n&quot;);\r\n        \r\n        System.out.println(&quot;[6] Assign to height a new MyInteger and an integer other than width&#39;s value&quot;);\r\n        \r\n        height = new MyInteger();\r\n        height.value = 1;\r\n        \r\n        System.out.println(&quot;-&gt;  height is &quot; + height.value + &quot; and width is &quot; + width.value + &quot;, we are different things again! \\n&quot;);\r\n      }\r\n    }\r\n\r\nThis is the output of my run:\r\n\r\n&lt;pre&gt;\r\nAssignment operator evaluation using two MyInteger objects named height and width\r\n\r\n[1] Assign distinct integers to height and width values\r\n-&gt;  height is 9 and width is 1, we are different things! \r\n\r\n[2] Assign to height&#39;s value the width&#39;s value\r\n-&gt;  height is 1 and width is 1, are we the same thing now? \r\n\r\n[3] Assign to height&#39;s value an integer other than width&#39;s value\r\n-&gt;  height is 9 and width is 1, we are different things yet! \r\n\r\n[4] Assign to height the width object\r\n-&gt;  height is 1 and width is 1, are we the same thing now? \r\n\r\n[5] Assign to height&#39;s value an integer other than width&#39;s value\r\n-&gt;  height is 9 and width is 9, we are the same thing now! \r\n\r\n[6] Assign to height a new MyInteger and an integer other than width&#39;s value\r\n-&gt;  height is 1 and width is 9, we are different things again! \r\n&lt;/pre&gt;\r\n\r\nIn *[2]* we have distinct objects and assign one variable&#39;s value to the other. But after assigning a new value in *[3]* the objects had different values, which means that in *[2]* the assigned value was a copy of the primitive variable, usually called **pass-by-value**, otherwise, the values printed in *[3]* should be the same.\r\n\r\nIn *[4]* we still have distinct objects and assign one object to the other. And after assigning a new value in *[5]* the objects had the same values, which means that in *[4]* the assigned object was not a copy of the other, which should be called **pass-by-reference**. But, if we look carefully in *[6]*, we can&#39;t be so sure that no copy was done... ?????\r\n\r\nWe can&#39;t be so sure because in *[6]* the objects were the same, then we assigned a new object to one of them, and after, the objects had different values! How can they be distinct now if they were the same? They should be the same here too!  ?????\r\n\r\nWe&#39;ll need to remember [the docs][1] to understand what&#39;s going on:\r\n\r\n&gt; This operator can also be used on objects to assign &lt;b&gt;object references&lt;/b&gt;\r\n\r\nSo our two variables were storing references... our variables had the same reference after *[4]* and different references after *[6]*... if such a thing is possible, this means that assignment of objects is done by copy of the object&#39;s reference, otherwise, if it was not a copy of reference, the printed value of the variables in *[6]* should be the same. So objects (references), just like primitives, are copied to variables through assignment, what people usually call *pass-by-value*. That&#39;s the only *pass-by-* in Java.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>This is the best way to answer the question imo...</p>\n\n<p>First, we must understand that, in Java, the <em>parameter passing behavior</em>...</p>\n\n<pre><code>public void foo(Object param)\n{\n  // some code in foo...\n}\n\npublic void bar()\n{\n  Object obj = new Object();\n\n  foo(obj);\n}\n</code></pre>\n\n<p>is exactly the same as...</p>\n\n<pre><code>public void bar()\n{\n  Object obj = new Object();\n\n  Object param = obj;\n\n  // some code in foo...\n}\n</code></pre>\n\n<p>not considering stack locations, which aren't relevant in this discussion.</p>\n\n<p>So, in fact, what we're looking for in Java is how <em>variable assignment</em> works. I found it in <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html\" rel=\"noreferrer\">the docs</a> :</p>\n\n<blockquote>\n  <p>One of the most common operators that you'll encounter is the simple assignment operator \"=\" [...] <b>it assigns the value</b> on its right to the operand on its left:</p>\n  \n  <p>int cadence = 0;<br>\n   int speed = 0;<br>\n   int gear = 1;  </p>\n  \n  <p>This operator can also be used on objects to assign <b>object references</b> [...]</p>\n</blockquote>\n\n<p>It's clear how this operator acts in two distinct ways: assign values and assign references. The last, when it's an object... the first, when it isn't an object, that is, when it's a primitive. But so, can we understand that Java's function params can be <em>pass-by-value</em> and <em>pass-by-reference</em>? </p>\n\n<p>The truth is in the code. Let's try it:</p>\n\n<pre><code>public class AssignmentEvaluation\n{\n  static public class MyInteger\n  {\n    public int value = 0;\n  }\n\n  static public void main(String[] args)\n  {\n    System.out.println(\"Assignment operator evaluation using two MyInteger objects named height and width\\n\");\n\n    MyInteger height = new MyInteger();\n    MyInteger width  = new MyInteger();\n\n    System.out.println(\"[1] Assign distinct integers to height and width values\");\n\n    height.value = 9;\n    width.value  = 1;\n\n    System.out.println(\"-&gt;  height is \" + height.value + \" and width is \" + width.value + \", we are different things! \\n\");\n\n    System.out.println(\"[2] Assign to height's value the width's value\");\n\n    height.value = width.value;\n\n    System.out.println(\"-&gt;  height is \" + height.value + \" and width is \" + width.value + \", are we the same thing now? \\n\");\n\n    System.out.println(\"[3] Assign to height's value an integer other than width's value\");\n\n    height.value = 9;\n\n    System.out.println(\"-&gt;  height is \" + height.value + \" and width is \" + width.value + \", we are different things yet! \\n\");\n\n    System.out.println(\"[4] Assign to height the width object\");\n\n    height = width;\n\n    System.out.println(\"-&gt;  height is \" + height.value + \" and width is \" + width.value + \", are we the same thing now? \\n\");\n\n    System.out.println(\"[5] Assign to height's value an integer other than width's value\");\n\n    height.value = 9;\n\n    System.out.println(\"-&gt;  height is \" + height.value + \" and width is \" + width.value + \", we are the same thing now! \\n\");\n\n    System.out.println(\"[6] Assign to height a new MyInteger and an integer other than width's value\");\n\n    height = new MyInteger();\n    height.value = 1;\n\n    System.out.println(\"-&gt;  height is \" + height.value + \" and width is \" + width.value + \", we are different things again! \\n\");\n  }\n}\n</code></pre>\n\n<p>This is the output of my run:</p>\n\n<pre>\nAssignment operator evaluation using two MyInteger objects named height and width\n\n[1] Assign distinct integers to height and width values\n->  height is 9 and width is 1, we are different things! \n\n[2] Assign to height's value the width's value\n->  height is 1 and width is 1, are we the same thing now? \n\n[3] Assign to height's value an integer other than width's value\n->  height is 9 and width is 1, we are different things yet! \n\n[4] Assign to height the width object\n->  height is 1 and width is 1, are we the same thing now? \n\n[5] Assign to height's value an integer other than width's value\n->  height is 9 and width is 9, we are the same thing now! \n\n[6] Assign to height a new MyInteger and an integer other than width's value\n->  height is 1 and width is 9, we are different things again! \n</pre>\n\n<p>In <em>[2]</em> we have distinct objects and assign one variable's value to the other. But after assigning a new value in <em>[3]</em> the objects had different values, which means that in <em>[2]</em> the assigned value was a copy of the primitive variable, usually called <strong>pass-by-value</strong>, otherwise, the values printed in <em>[3]</em> should be the same.</p>\n\n<p>In <em>[4]</em> we still have distinct objects and assign one object to the other. And after assigning a new value in <em>[5]</em> the objects had the same values, which means that in <em>[4]</em> the assigned object was not a copy of the other, which should be called <strong>pass-by-reference</strong>. But, if we look carefully in <em>[6]</em>, we can't be so sure that no copy was done... ?????</p>\n\n<p>We can't be so sure because in <em>[6]</em> the objects were the same, then we assigned a new object to one of them, and after, the objects had different values! How can they be distinct now if they were the same? They should be the same here too!  ?????</p>\n\n<p>We'll need to remember <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html\" rel=\"noreferrer\">the docs</a> to understand what's going on:</p>\n\n<blockquote>\n  <p>This operator can also be used on objects to assign <b>object references</b></p>\n</blockquote>\n\n<p>So our two variables were storing references... our variables had the same reference after <em>[4]</em> and different references after <em>[6]</em>... if such a thing is possible, this means that assignment of objects is done by copy of the object's reference, otherwise, if it was not a copy of reference, the printed value of the variables in <em>[6]</em> should be the same. So objects (references), just like primitives, are copied to variables through assignment, what people usually call <em>pass-by-value</em>. That's the only <em>pass-by-</em> in Java.</p>\n"},{"tags":[],"owner":{"account_id":3885484,"reputation":3760,"user_id":3216970,"display_name":"mc01"},"comment_count":0,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1521242734,"creation_date":1521242734,"answer_id":49330809,"question_id":40480,"body_markdown":"## PT 1: Of Realty Listings  \n\nThere is a blue, 120sq-ft &quot;Tiny House&quot; currently parked at 1234 Main St with a nicely manicured lawn &amp; flower bed out front. \n\nA Realtor with a local firm is hired and told to keep a listing for that house. \n\nLet&#39;s call that Realtor &quot;Bob.&quot; Hi Bob.\n\nBob keeps his Listing, which he calls `tinyHouseAt1234Main`, up to date with a webcam that allows him to note any changes to the actual house in real time. He also keeps a tally of how many people have asked about the listing. \nBob&#39;s integer `viewTally` for the house is at 42 today.\n   \nWhenever someone wants info about the blue Tiny House at 1234 Main St, they ask Bob. \n\nBob looks up his Listing `tinyHouseAt1234Main` and tells them all about it - the color, the nice lawn, the loft bed and the composting toilet, etc. Then he adds their inquiry to his `viewTally`. He doesn&#39;t tell them the real, physical address though, because Bob&#39;s firm specializes in Tiny Houses that could be moved at any time. The tally is now 43. \n\nAt another firm, Realtors might explicitly say their listing &quot;points&quot; to the house at 1234 Main St, denoting this with a little `*` next to it, because they mainly deal with houses that rarely ever move (though presumably there are reasons for doing so). Bob&#39;s firm doesn&#39;t bother doing this.\n\nNow, of course Bob doesn&#39;t physically go and put the *actual* house on a truck to show it to clients directly - that would be impractical and a ridiculous waste of resources. Passing a full copy of his tally sheet is one thing, but passing around the whole house all the time is costly and ridiculous.  \n\n(Aside: Bob&#39;s firm also doesn&#39;t 3D print new &amp; unique copies of a listed house every single time someone asks about it. That&#39;s what the upstart, similarly named web-based firm &amp; its spinoffs do - that&#39;s expensive and slower, and people often get the 2 firms confused, but they&#39;re quite popular anyway). \n\nAt some other, older firms closer to the Sea, a realtor like Bob might not even exist to manage the Listings. Clients might instead consult the Rolodex &quot;Annie&quot; (`&amp;` for short) for the direct address of the house. Instead of reading off the referenced house details from the listing like Bob does, clients instead get the house address from Annie (`&amp;`), and go directly to 1234 Main St, sometimes w/no idea what they might find there. \n\nOne day, Bob&#39;s firm begins offering a new automated service that needs the listing for a house the client is interested in. \n\nWell, the person with that info is Bob, so the client has Bob call up the service and send it a copy of the listing. \n\n`jobKillingAutomatedListingService(Listing tinyHouseAt1234Main, int viewTally)` Bob sends along ... \n\nThe service, on its end, calls this Listing `houseToLookAt`, but really what it receives is an exact copy of Bob&#39;s listing, with the exact same VALUEs in it, that refer to the house at 1234 Main St. \n\nThis new service also has its own internal tally of how many people have viewed the listing. The service accepts Bob&#39;s tally out of professional courtesy, but it doesn&#39;t really care and overwrites it entirely with its own local copy anyway. It&#39;s tally for today is 1, while Bob&#39;s is still 43. \n\nThe realty firms call this &quot;pass-by-value&quot; since Bob&#39;s passing the current value of his `viewTally` and his Listing `tinyHouseAt1234Main`. He&#39;s not actually passing along the entire physical house, because that&#39;s impractical. Nor is he passing the real physical address like Annie(`&amp;`) would do. \n\nBut he IS passing a copy of *the value OF* the reference he has to the house. Seems like a silly pedantic difference in some ways, but that&#39;s how his firm works ... \n..............\n\n## PT II: Where things get confusing and dangerous ... \n\nThe new automated service, not being all functional and math-oriented like some other trendy financial &amp; scientific firms, can have unforeseen side effects... \n \nOnce given a Listing object it allows clients to *actually* repaint the REAL house at 1234 Main St, using a remote drone robot fleet! It allows clients to control a robot bulldozer to ACTUALLY dig up the flower bed! This is madness!!! \n\nThe service also lets clients completely redirect `houseToLookAt` to some other house at another address, without involving Bob or his listing. All of a sudden they could be looking at 4321 Elm St. instead, which has no connection whatsoever to Bob&#39;s listing (thankfully they can&#39;t do anymore damage). \n\nBob watches all this on his realtime webcam.\nResigned to the drudgery of his sole job responsibility, he tells clients about the new ugly paint job &amp; sudden lack of curb appeal. His Listing *is* still for 1234 Main St., after all. The new service&#39;s `houseToLookAt` couldn&#39;t change that. Bob reports the details of his `tinyHouseAt1234Main` accurately and dutifully as always, until he gets fired or the house is destroyed entirely by The Nothing. \n\nReally the only thing the service CAN&#39;T do with its `houseToLookAt` copy of the Bob&#39;s original listing is change the address from 1234 Main St. to some other address, or to a void of nothingness, or to some random type of object like a Platypus. Bob&#39;s Listing still always points to 1234 Main St, for whatever it&#39;s still worth. He passes its current value around like always.\n\nThis bizarre side-effect of passing a listing to the new automated service is confusing for people who ask about how it works. Really, what&#39;s the difference between the ability to remotely control robots that alter the state of the house at 1234 Main, vs. *actually* physically going there and wreaking havoc because Annie gave you the address?? \n\nSeems like kind of a nitpicky semantic argument if what you generally care about is the *state* of the house in the listing being copied and passed around, right? \n\nI mean, if you were in the business of actually picking up houses and physically moving them to other addresses (not like mobile or Tiny Homes where that&#39;s sort of an expected function of the platform), or you were accessing, renaming, and shuffling entire neighborhoods like some sort of low-level God-playing madman, THEN maybe you&#39;d care more about passing around those specific address references instead of just copies of the the latest value of the house details ... ","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<h2>PT 1: Of Realty Listings</h2>\n<p>There is a blue, 120sq-ft &quot;Tiny House&quot; currently parked at 1234 Main St with a nicely manicured lawn &amp; flower bed out front.</p>\n<p>A Realtor with a local firm is hired and told to keep a listing for that house.</p>\n<p>Let's call that Realtor &quot;Bob.&quot; Hi Bob.</p>\n<p>Bob keeps his Listing, which he calls <code>tinyHouseAt1234Main</code>, up to date with a webcam that allows him to note any changes to the actual house in real time. He also keeps a tally of how many people have asked about the listing.\nBob's integer <code>viewTally</code> for the house is at 42 today.</p>\n<p>Whenever someone wants info about the blue Tiny House at 1234 Main St, they ask Bob.</p>\n<p>Bob looks up his Listing <code>tinyHouseAt1234Main</code> and tells them all about it - the color, the nice lawn, the loft bed and the composting toilet, etc. Then he adds their inquiry to his <code>viewTally</code>. He doesn't tell them the real, physical address though, because Bob's firm specializes in Tiny Houses that could be moved at any time. The tally is now 43.</p>\n<p>At another firm, Realtors might explicitly say their listing &quot;points&quot; to the house at 1234 Main St, denoting this with a little <code>*</code> next to it, because they mainly deal with houses that rarely ever move (though presumably there are reasons for doing so). Bob's firm doesn't bother doing this.</p>\n<p>Now, of course Bob doesn't physically go and put the <em>actual</em> house on a truck to show it to clients directly - that would be impractical and a ridiculous waste of resources. Passing a full copy of his tally sheet is one thing, but passing around the whole house all the time is costly and ridiculous.</p>\n<p>(Aside: Bob's firm also doesn't 3D print new &amp; unique copies of a listed house every single time someone asks about it. That's what the upstart, similarly named web-based firm &amp; its spinoffs do - that's expensive and slower, and people often get the 2 firms confused, but they're quite popular anyway).</p>\n<p>At some other, older firms closer to the Sea, a realtor like Bob might not even exist to manage the Listings. Clients might instead consult the Rolodex &quot;Annie&quot; (<code>&amp;</code> for short) for the direct address of the house. Instead of reading off the referenced house details from the listing like Bob does, clients instead get the house address from Annie (<code>&amp;</code>), and go directly to 1234 Main St, sometimes w/no idea what they might find there.</p>\n<p>One day, Bob's firm begins offering a new automated service that needs the listing for a house the client is interested in.</p>\n<p>Well, the person with that info is Bob, so the client has Bob call up the service and send it a copy of the listing.</p>\n<p><code>jobKillingAutomatedListingService(Listing tinyHouseAt1234Main, int viewTally)</code> Bob sends along ...</p>\n<p>The service, on its end, calls this Listing <code>houseToLookAt</code>, but really what it receives is an exact copy of Bob's listing, with the exact same VALUEs in it, that refer to the house at 1234 Main St.</p>\n<p>This new service also has its own internal tally of how many people have viewed the listing. The service accepts Bob's tally out of professional courtesy, but it doesn't really care and overwrites it entirely with its own local copy anyway. It's tally for today is 1, while Bob's is still 43.</p>\n<p>The realty firms call this &quot;pass-by-value&quot; since Bob's passing the current value of his <code>viewTally</code> and his Listing <code>tinyHouseAt1234Main</code>. He's not actually passing along the entire physical house, because that's impractical. Nor is he passing the real physical address like Annie(<code>&amp;</code>) would do.</p>\n<p>But he IS passing a copy of <em>the value OF</em> the reference he has to the house. Seems like a silly pedantic difference in some ways, but that's how his firm works ...\n..............</p>\n<h2>PT II: Where things get confusing and dangerous ...</h2>\n<p>The new automated service, not being all functional and math-oriented like some other trendy financial &amp; scientific firms, can have unforeseen side effects...</p>\n<p>Once given a Listing object it allows clients to <em>actually</em> repaint the REAL house at 1234 Main St, using a remote drone robot fleet! It allows clients to control a robot bulldozer to ACTUALLY dig up the flower bed! This is madness!!!</p>\n<p>The service also lets clients completely redirect <code>houseToLookAt</code> to some other house at another address, without involving Bob or his listing. All of a sudden they could be looking at 4321 Elm St. instead, which has no connection whatsoever to Bob's listing (thankfully they can't do anymore damage).</p>\n<p>Bob watches all this on his realtime webcam.\nResigned to the drudgery of his sole job responsibility, he tells clients about the new ugly paint job &amp; sudden lack of curb appeal. His Listing <em>is</em> still for 1234 Main St., after all. The new service's <code>houseToLookAt</code> couldn't change that. Bob reports the details of his <code>tinyHouseAt1234Main</code> accurately and dutifully as always, until he gets fired or the house is destroyed entirely by The Nothing.</p>\n<p>Really the only thing the service CAN'T do with its <code>houseToLookAt</code> copy of the Bob's original listing is change the address from 1234 Main St. to some other address, or to a void of nothingness, or to some random type of object like a Platypus. Bob's Listing still always points to 1234 Main St, for whatever it's still worth. He passes its current value around like always.</p>\n<p>This bizarre side-effect of passing a listing to the new automated service is confusing for people who ask about how it works. Really, what's the difference between the ability to remotely control robots that alter the state of the house at 1234 Main, vs. <em>actually</em> physically going there and wreaking havoc because Annie gave you the address??</p>\n<p>Seems like kind of a nitpicky semantic argument if what you generally care about is the <em>state</em> of the house in the listing being copied and passed around, right?</p>\n<p>I mean, if you were in the business of actually picking up houses and physically moving them to other addresses (not like mobile or Tiny Homes where that's sort of an expected function of the platform), or you were accessing, renaming, and shuffling entire neighborhoods like some sort of low-level God-playing madman, THEN maybe you'd care more about passing around those specific address references instead of just copies of the the latest value of the house details ...</p>\n"},{"tags":[],"owner":{"account_id":5127945,"reputation":577,"user_id":4109266,"accept_rate":100,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1588450710,"creation_date":1522799290,"answer_id":49640653,"question_id":40480,"body_markdown":"   Unlike some other languages, Java does not allow you to choose between pass-by-value and pass-by-reference—all arguments are passed by value. A method call can pass two types of values to a method—copies of primitive values (e.g., values of int and double) and copies of references to objects.\r\n\r\n   When a method modifies a primitive-type parameter, changes to the parameter have no effect on the original argument value in the calling method.\r\n\r\n   When it comes to objects, objects themselves cannot be passed to methods. So we pass the reference(address) of the object. We can manipulate the original object using this reference.\r\n\r\n   **How Java creates and stores objects:** When we create an object we store the object’s address in a reference variable. Let&#39;s analyze the following statement.\r\n\r\n    Account account1 = new Account();\r\n\r\n“Account account1” is the type and name of the reference variable, “=” is the assignment operator, “new” asks for the required amount of space from the system. The constructor to the right of keyword new which creates the object is called implicitly by the keyword new. Address of the created object(result of right value, which is an expression called &quot;class instance creation expression&quot;) is assigned to the left value (which is a reference variable with a name and a type specified) using the assign operator.\r\n\r\nAlthough an object’s reference is passed by value, a method can still interact with the referenced object by calling its public methods using the copy of the object’s reference. Since the reference stored in the parameter is a copy of the reference that was passed as an argument, the parameter in the called method and the argument in the calling method refer to the same object in memory.\r\n\r\nPassing references to arrays, instead of the array objects themselves, makes sense for performance reasons. Because everything in Java is passed by value, if array objects were passed,\r\na copy of each element would be passed. For large arrays, this would waste time and consume\r\nconsiderable storage for the copies of the elements.\r\n\r\n\r\nIn the image below you can see we have two reference variables(These are called pointers in C/C++, and I think that term makes it easier to understand this feature.) in the main method. Primitive and reference variables are kept in stack memory(left side in images below). array1 and array2 reference variables &quot;point&quot; (as C/C++ programmers call it) or reference to a and b arrays respectively, which are objects (values these reference variables hold are addresses of objects) in heap memory (right side in images below).\r\n\r\n[![Pass by value example 1][1]][1]\r\n\r\n\r\nIf we pass the value of array1 reference variable as an argument to the reverseArray method, a reference variable is created in the method and that reference variable starts pointing to the same array (a). \r\n\r\n    public class Test\r\n    {\r\n        public static void reverseArray(int[] array1)\r\n        {\r\n            // ...\r\n        }\r\n\r\n        public static void main(String[] args)\r\n        {\r\n            int[] array1 = { 1, 10, -7 };\r\n            int[] array2 = { 5, -190, 0 };\r\n        \r\n            reverseArray(array1);\r\n        }\r\n    }\r\n\r\n[![Pass by value example 2][2]][2]\r\n\r\nSo, if we say \r\n\r\n    array1[0] = 5;\r\n\r\nin reverseArray method, it will make a change in array a.\r\n\r\nWe have another reference variable in reverseArray method (array2) that points to an array c. If we were to say \r\n\r\n    array1 = array2;\r\n\r\nin reverseArray method, then the reference variable array1 in method reverseArray would stop pointing to array a and start pointing to array c (Dotted line in second image).\r\n\r\nIf we return value of reference variable array2 as the return value of method reverseArray and assign this value to reference variable array1 in main method, array1 in main will start pointing to array c.\r\n\r\nSo let&#39;s write all the things we have done at once now.\r\n\r\n    public class Test\r\n    {\r\n        public static int[] reverseArray(int[] array1)\r\n        {\r\n            int[] array2 = { -7, 0, -1 };\r\n            \r\n            array1[0] = 5; // array a becomes 5, 10, -7\r\n            \r\n            array1 = array2; /* array1 of reverseArray starts\r\n              pointing to c instead of a (not shown in image below) */\r\n            return array2;\r\n        }\r\n\r\n        public static void main(String[] args)\r\n        {\r\n            int[] array1 = { 1, 10, -7 };\r\n            int[] array2 = { 5, -190, 0 };\r\n        \r\n            array1 = reverseArray(array1); /* array1 of \r\n             main starts pointing to c instead of a */\r\n        }\r\n    }\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAnd now that reverseArray method is over, its reference variables(array1 and array2) are gone. Which means we now only have the two reference variables in main method array1 and array2 which point to c and b arrays respectively. No reference variable is pointing to object (array) a. So it is eligible for garbage collection.\r\n\r\nYou could also assign value of array2 in main to array1. array1 would start pointing to b.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sF7QZ.png\r\n  [2]: https://i.stack.imgur.com/W1wgZ.png\r\n  [3]: https://i.stack.imgur.com/5hRyX.png","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Unlike some other languages, Java does not allow you to choose between pass-by-value and pass-by-reference—all arguments are passed by value. A method call can pass two types of values to a method—copies of primitive values (e.g., values of int and double) and copies of references to objects.</p>\n\n<p>When a method modifies a primitive-type parameter, changes to the parameter have no effect on the original argument value in the calling method.</p>\n\n<p>When it comes to objects, objects themselves cannot be passed to methods. So we pass the reference(address) of the object. We can manipulate the original object using this reference.</p>\n\n<p><strong>How Java creates and stores objects:</strong> When we create an object we store the object’s address in a reference variable. Let's analyze the following statement.</p>\n\n<pre><code>Account account1 = new Account();\n</code></pre>\n\n<p>“Account account1” is the type and name of the reference variable, “=” is the assignment operator, “new” asks for the required amount of space from the system. The constructor to the right of keyword new which creates the object is called implicitly by the keyword new. Address of the created object(result of right value, which is an expression called \"class instance creation expression\") is assigned to the left value (which is a reference variable with a name and a type specified) using the assign operator.</p>\n\n<p>Although an object’s reference is passed by value, a method can still interact with the referenced object by calling its public methods using the copy of the object’s reference. Since the reference stored in the parameter is a copy of the reference that was passed as an argument, the parameter in the called method and the argument in the calling method refer to the same object in memory.</p>\n\n<p>Passing references to arrays, instead of the array objects themselves, makes sense for performance reasons. Because everything in Java is passed by value, if array objects were passed,\na copy of each element would be passed. For large arrays, this would waste time and consume\nconsiderable storage for the copies of the elements.</p>\n\n<p>In the image below you can see we have two reference variables(These are called pointers in C/C++, and I think that term makes it easier to understand this feature.) in the main method. Primitive and reference variables are kept in stack memory(left side in images below). array1 and array2 reference variables \"point\" (as C/C++ programmers call it) or reference to a and b arrays respectively, which are objects (values these reference variables hold are addresses of objects) in heap memory (right side in images below).</p>\n\n<p><a href=\"https://i.stack.imgur.com/sF7QZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sF7QZ.png\" alt=\"Pass by value example 1\"></a></p>\n\n<p>If we pass the value of array1 reference variable as an argument to the reverseArray method, a reference variable is created in the method and that reference variable starts pointing to the same array (a). </p>\n\n<pre><code>public class Test\n{\n    public static void reverseArray(int[] array1)\n    {\n        // ...\n    }\n\n    public static void main(String[] args)\n    {\n        int[] array1 = { 1, 10, -7 };\n        int[] array2 = { 5, -190, 0 };\n\n        reverseArray(array1);\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/W1wgZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/W1wgZ.png\" alt=\"Pass by value example 2\"></a></p>\n\n<p>So, if we say </p>\n\n<pre><code>array1[0] = 5;\n</code></pre>\n\n<p>in reverseArray method, it will make a change in array a.</p>\n\n<p>We have another reference variable in reverseArray method (array2) that points to an array c. If we were to say </p>\n\n<pre><code>array1 = array2;\n</code></pre>\n\n<p>in reverseArray method, then the reference variable array1 in method reverseArray would stop pointing to array a and start pointing to array c (Dotted line in second image).</p>\n\n<p>If we return value of reference variable array2 as the return value of method reverseArray and assign this value to reference variable array1 in main method, array1 in main will start pointing to array c.</p>\n\n<p>So let's write all the things we have done at once now.</p>\n\n<pre><code>public class Test\n{\n    public static int[] reverseArray(int[] array1)\n    {\n        int[] array2 = { -7, 0, -1 };\n\n        array1[0] = 5; // array a becomes 5, 10, -7\n\n        array1 = array2; /* array1 of reverseArray starts\n          pointing to c instead of a (not shown in image below) */\n        return array2;\n    }\n\n    public static void main(String[] args)\n    {\n        int[] array1 = { 1, 10, -7 };\n        int[] array2 = { 5, -190, 0 };\n\n        array1 = reverseArray(array1); /* array1 of \n         main starts pointing to c instead of a */\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/5hRyX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5hRyX.png\" alt=\"enter image description here\"></a></p>\n\n<p>And now that reverseArray method is over, its reference variables(array1 and array2) are gone. Which means we now only have the two reference variables in main method array1 and array2 which point to c and b arrays respectively. No reference variable is pointing to object (array) a. So it is eligible for garbage collection.</p>\n\n<p>You could also assign value of array2 in main to array1. array1 would start pointing to b.</p>\n"},{"comments":[{"owner":{"account_id":143589,"reputation":1483,"user_id":352035,"display_name":"AutomatedMike"},"score":0,"creation_date":1556885886,"post_id":50391764,"comment_id":98589903,"body_markdown":"Describing java as &quot;pass-by-value&quot; is highly misleading.  For non-primitive types Java uses &quot;pass by value of the reference&quot;.  &quot;Pass by value&quot; implies the value is copied when passed to a method.  It is not, the reference is copied.","body":"Describing java as &quot;pass-by-value&quot; is highly misleading.  For non-primitive types Java uses &quot;pass by value of the reference&quot;.  &quot;Pass by value&quot; implies the value is copied when passed to a method.  It is not, the reference is copied."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1630847714,"post_id":50391764,"comment_id":122061754,"body_markdown":"Not half the answer.","body":"Not half the answer."}],"tags":[],"owner":{"account_id":6590996,"reputation":141,"user_id":5092157,"display_name":"asok"},"comment_count":2,"down_vote_count":4,"up_vote_count":12,"is_accepted":false,"score":8,"last_activity_date":1556155173,"creation_date":1526560906,"answer_id":50391764,"question_id":40480,"body_markdown":"Java is only passed by value. there is no pass by reference, for example, you can see the following example.\r\n\r\n\r\n\r\n\r\n\r\n    package com.asok.cop.example.task;\r\n    public class Example {\r\n    \tint data = 50;\r\n    \r\n    \tvoid change(int data) {\r\n    \t\tdata = data + 100;// changes will be in the local variable \r\n    \t\tSystem.out.println(&quot;after add &quot; + data);\r\n    \t\t}\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tExample op = new Example();\r\n    \t\tSystem.out.println(&quot;before change &quot; + op.data);\r\n    \t\top.change(500);\r\n    \t\tSystem.out.println(&quot;after change &quot; + op.data);\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n    before change 50\r\n    after add 600\r\n    after change 50\r\n\r\nas Michael says in the comments:\r\n\r\n&gt; objects are still passed by value even though operations on them behave like pass-by-reference. Consider `void changePerson(Person person){ person = new Person(); }` the callers reference to the person object will remain unchanged. Objects themselves are passed by value but their members can be affected by changes. To be true pass-by-reference, we would have to be able to reassign the argument to a new object and have the change be reflected in the caller.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java is only passed by value. there is no pass by reference, for example, you can see the following example.</p>\n\n<pre><code>package com.asok.cop.example.task;\npublic class Example {\n    int data = 50;\n\n    void change(int data) {\n        data = data + 100;// changes will be in the local variable \n        System.out.println(\"after add \" + data);\n        }\n\n    public static void main(String args[]) {\n        Example op = new Example();\n        System.out.println(\"before change \" + op.data);\n        op.change(500);\n        System.out.println(\"after change \" + op.data);\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>before change 50\nafter add 600\nafter change 50\n</code></pre>\n\n<p>as Michael says in the comments:</p>\n\n<blockquote>\n  <p>objects are still passed by value even though operations on them behave like pass-by-reference. Consider <code>void changePerson(Person person){ person = new Person(); }</code> the callers reference to the person object will remain unchanged. Objects themselves are passed by value but their members can be affected by changes. To be true pass-by-reference, we would have to be able to reassign the argument to a new object and have the change be reflected in the caller.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":186504,"reputation":794,"user_id":423941,"display_name":"Dennis"},"score":0,"creation_date":1535231314,"post_id":51522896,"comment_id":90992877,"body_markdown":"I&#39;m not sure it&#39;s technically correct to mention that copies are made for primitive types. Primitive types are immutable which is why they cannot be modified inside a method they are passed to.\n\nThe difference is negligible for things like numbers, but there is an important difference for potentially large strings.","body":"I&#39;m not sure it&#39;s technically correct to mention that copies are made for primitive types. Primitive types are immutable which is why they cannot be modified inside a method they are passed to.  The difference is negligible for things like numbers, but there is an important difference for potentially large strings."},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":14,"creation_date":1538541621,"post_id":51522896,"comment_id":92173453,"body_markdown":"This answer is completely incorrect and only creates confusion. Java is a pure pass-by-value language. What confuses you is that the value can be a pointer to an object. Pass-by-reference means one would be able to change the identity of an object at the caller&#39;s side. E.g. assigning a new object to a method parameter would also affect the pointer that was passed in the code that called the method.","body":"This answer is completely incorrect and only creates confusion. Java is a pure pass-by-value language. What confuses you is that the value can be a pointer to an object. Pass-by-reference means one would be able to change the identity of an object at the caller&#39;s side. E.g. assigning a new object to a method parameter would also affect the pointer that was passed in the code that called the method."},{"owner":{"account_id":4015385,"reputation":5418,"user_id":3307720,"accept_rate":51,"display_name":"nasch"},"score":2,"creation_date":1545936578,"post_id":51522896,"comment_id":94737569,"body_markdown":"@Dennis Strings are not primitives, they&#39;re objects.","body":"@Dennis Strings are not primitives, they&#39;re objects."},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":2,"creation_date":1548201716,"post_id":51522896,"comment_id":95456216,"body_markdown":"It&#39;s not about what&#39;s &quot;In your book.&quot;  &quot;Pass by reference&quot; and &quot;Pass by value&quot; are industry standard terms which have very specific definitions. By those definitions Java is &quot;Pass by value&quot; without exceptions.","body":"It&#39;s not about what&#39;s &quot;In your book.&quot;  &quot;Pass by reference&quot; and &quot;Pass by value&quot; are industry standard terms which have very specific definitions. By those definitions Java is &quot;Pass by value&quot; without exceptions."},{"owner":{"account_id":723954,"reputation":1847,"user_id":666583,"display_name":"AndrewF"},"score":0,"creation_date":1577232047,"post_id":51522896,"comment_id":105126760,"body_markdown":"&quot;Passing an object&quot; is not a valid operation in Java. You pass a reference to an object. Doing so is _not_ called &quot;passing by reference&quot;. It is called &quot;passing by value&quot;. The reference passed is a _value_, which is _copied_ to a new place on the stack for the method to use, just like any primitive value.","body":"&quot;Passing an object&quot; is not a valid operation in Java. You pass a reference to an object. Doing so is <i>not</i> called &quot;passing by reference&quot;. It is called &quot;passing by value&quot;. The reference passed is a <i>value</i>, which is <i>copied</i> to a new place on the stack for the method to use, just like any primitive value."},{"owner":{"account_id":1630934,"reputation":3623,"user_id":1505487,"accept_rate":40,"display_name":"Solubris"},"score":2,"creation_date":1606346708,"post_id":51522896,"comment_id":114940516,"body_markdown":"C++ has true pass by value where it copies all the fields of the object onto the stack. Java doesn&#39;t do this so its not pass by value..","body":"C++ has true pass by value where it copies all the fields of the object onto the stack. Java doesn&#39;t do this so its not pass by value.."},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":1,"creation_date":1682529096,"post_id":51522896,"comment_id":134232057,"body_markdown":"@Solubris It&#39;s true that Java does not allow passing entire objects to a method, but when you pass primitives or references (i.e. pointers) you are passing them by value. And importantly, you never pass anything by reference.","body":"@Solubris It&#39;s true that Java does not allow passing entire objects to a method, but when you pass primitives or references (i.e. pointers) you are passing them by value. And importantly, you never pass anything by reference."},{"owner":{"account_id":248321,"reputation":62658,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1694585696,"post_id":51522896,"comment_id":135908828,"body_markdown":"&quot;C++ has true pass by value where it copies all the fields of the object onto the stack.&quot; - no; the definition has **nothing to do with** &quot;fields of the object&quot;. It has to do with the memory used **by the variable itself**, which for class and array types in Java is a pointer to the underlying &quot;real&quot; storage. In Java, *those types* have *reference semantics*, but the parameter passing is still by value. It is **essential** to the definition of &quot;pass by reference&quot; that you can write a function that swaps the caller&#39;s (same-type) variables, and that is **not** possible in Java.","body":"&quot;C++ has true pass by value where it copies all the fields of the object onto the stack.&quot; - no; the definition has <b>nothing to do with</b> &quot;fields of the object&quot;. It has to do with the memory used <b>by the variable itself</b>, which for class and array types in Java is a pointer to the underlying &quot;real&quot; storage. In Java, <i>those types</i> have <i>reference semantics</i>, but the parameter passing is still by value. It is <b>essential</b> to the definition of &quot;pass by reference&quot; that you can write a function that swaps the caller&#39;s (same-type) variables, and that is <b>not</b> possible in Java."}],"tags":[],"owner":{"account_id":7256929,"reputation":48698,"user_id":5535245,"display_name":"georgeawg"},"comment_count":8,"down_vote_count":15,"up_vote_count":27,"is_accepted":false,"score":12,"last_activity_date":1534546478,"creation_date":1532533246,"answer_id":51522896,"question_id":40480,"body_markdown":"##Java passes primitive types by value and class types by reference\r\n\r\nNow, people like to bicker endlessly about whether &quot;pass by reference&quot; is the correct way to describe what Java et al. actually do. The point is this:\r\n\r\n0. Passing an object does not copy the object.\r\n0. An object passed to a function can have its members modified by the function.\r\n0. A primitive value passed to a function cannot be modified by the function. A copy is made.\r\n\r\nIn my book that&#39;s called passing by reference.\r\n\r\n&amp;#8212; [Brian Bi](https://www.quora.com/profile/Brian-Bi) - [Which programming languages are pass by reference?](https://www.quora.com/Which-programming-languages-are-pass-by-reference#)","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<h2>Java passes primitive types by value and class types by reference</h2>\n\n<p>Now, people like to bicker endlessly about whether \"pass by reference\" is the correct way to describe what Java et al. actually do. The point is this:</p>\n\n<ol>\n<li>Passing an object does not copy the object.</li>\n<li>An object passed to a function can have its members modified by the function.</li>\n<li>A primitive value passed to a function cannot be modified by the function. A copy is made.</li>\n</ol>\n\n<p>In my book that's called passing by reference.</p>\n\n<p>&#8212; <a href=\"https://www.quora.com/profile/Brian-Bi\" rel=\"noreferrer\">Brian Bi</a> - <a href=\"https://www.quora.com/Which-programming-languages-are-pass-by-reference#\" rel=\"noreferrer\">Which programming languages are pass by reference?</a></p>\n"},{"comments":[{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1644970949,"post_id":54373107,"comment_id":125745669,"body_markdown":"&quot;The Java programming language does not pass objects by reference; it passes object references by value.&quot; I think this statement as a whole is wrong. Assume, you want to pass an object to a method ...","body":"&quot;The Java programming language does not pass objects by reference; it passes object references by value.&quot; I think this statement as a whole is wrong. Assume, you want to pass an object to a method ..."},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":2,"creation_date":1645112438,"post_id":54373107,"comment_id":125789286,"body_markdown":"@SamGinrich, in this case you are passing a reference to that object. The object exists somewhere in memory. The reference (otherwise known as a pointer) is like a primitive (like a long) which holds the memory address of the object. What&#39;s passed into the method is actually a copy of the reference. Since you&#39;re passing a COPY of the reference, this is pass by value (i.e. you&#39;re passing the reference by value). If you were to set the copy to null inside the method, it would have no affect on the original. If this was pass by reference setting the copy to null would also set the original to nul","body":"@SamGinrich, in this case you are passing a reference to that object. The object exists somewhere in memory. The reference (otherwise known as a pointer) is like a primitive (like a long) which holds the memory address of the object. What&#39;s passed into the method is actually a copy of the reference. Since you&#39;re passing a COPY of the reference, this is pass by value (i.e. you&#39;re passing the reference by value). If you were to set the copy to null inside the method, it would have no affect on the original. If this was pass by reference setting the copy to null would also set the original to nul"},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":1,"creation_date":1645112463,"post_id":54373107,"comment_id":125789299,"body_markdown":"@SamGinrich Have a look at my code example and the two diagrams I posted.","body":"@SamGinrich Have a look at my code example and the two diagrams I posted."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1645115657,"post_id":54373107,"comment_id":125790760,"body_markdown":"Totally agree with your presentation. I doubt that Ken Arnold et al. are qualified to rename long time established concepts, where &quot;passing an object reference&quot; had been equivalent to &quot;passing an object by reference&quot;, as you obviously work on shared objects and references for this purpose are invariant, in analogy to pointers. That&#39;s how I learned it at university. Now, in the use case &quot;passing an object to some method&quot; focusing on the technical aspect of the reference appears as artificial narrowing, not catching up on: &quot;Does the called method work on the original object or a copy?&quot;","body":"Totally agree with your presentation. I doubt that Ken Arnold et al. are qualified to rename long time established concepts, where &quot;passing an object reference&quot; had been equivalent to &quot;passing an object by reference&quot;, as you obviously work on shared objects and references for this purpose are invariant, in analogy to pointers. That&#39;s how I learned it at university. Now, in the use case &quot;passing an object to some method&quot; focusing on the technical aspect of the reference appears as artificial narrowing, not catching up on: &quot;Does the called method work on the original object or a copy?&quot;"},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":2,"creation_date":1645200116,"post_id":54373107,"comment_id":125815650,"body_markdown":"@SamGinrich If you look at the definition of pass-by-value, that&#39;s exactly what it boils down to - PBV = passing a copy. And if you look at the Java language definition, that&#39;s exactly what Java does. I&#39;ve included excerpts from both &quot;The dragon book&quot; and the Java language specification (Edit 4). Also, Arnold and Gosling are both highly regarded computer scientists and the creators of Java. They are actually NOT renaming established concepts. If you look at the excerpts form their book (Edit 2), they are saying exactly the same as my post and it&#39;s consistent with established Computer Science.","body":"@SamGinrich If you look at the definition of pass-by-value, that&#39;s exactly what it boils down to - PBV = passing a copy. And if you look at the Java language definition, that&#39;s exactly what Java does. I&#39;ve included excerpts from both &quot;The dragon book&quot; and the Java language specification (Edit 4). Also, Arnold and Gosling are both highly regarded computer scientists and the creators of Java. They are actually NOT renaming established concepts. If you look at the excerpts form their book (Edit 2), they are saying exactly the same as my post and it&#39;s consistent with established Computer Science."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1645445172,"post_id":54373107,"comment_id":125865487,"body_markdown":"Sure, and I explained, why I&#39;m qualified to reject all of these, according to established Computer Science. And I well understand, that Java wants to have its island, probably driven by testosterone. ;)\nTerms were well defined and understood before Java, when there was no &quot;look at the definition of some Java-Guru&quot;.  https://www.tutorialspoint.com/cprogramming/c_function_call_by_reference.htm","body":"Sure, and I explained, why I&#39;m qualified to reject all of these, according to established Computer Science. And I well understand, that Java wants to have its island, probably driven by testosterone. ;) Terms were well defined and understood before Java, when there was no &quot;look at the definition of some Java-Guru&quot;.  <a href=\"https://www.tutorialspoint.com/cprogramming/c_function_call_by_reference.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/cprogramming/&hellip;</a>"},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":1,"creation_date":1645464359,"post_id":54373107,"comment_id":125873234,"body_markdown":"@SamGinrich These definitions existed BEFORE Java. They are not the definitions of &quot;some Java-Guru&quot;. The &quot;Dragon Book&quot; existed BEFORE Java. Computer Science existed BEFORE Java. The link you posted completely missed the point of a swap test. In order for it to be valid you would need to swap the actual pointers, not what they point to. It&#39;s silly the take the word of some random guy who wrote a tutorial on the internet over people like Sethi, Ullman, Lam, and Aho. Also, Gosling is no just a &quot;Guru&quot;. He&#39;s the creator of Java. I&#39;m sure he&#39;s more qualified than anyone to comment on Java.","body":"@SamGinrich These definitions existed BEFORE Java. They are not the definitions of &quot;some Java-Guru&quot;. The &quot;Dragon Book&quot; existed BEFORE Java. Computer Science existed BEFORE Java. The link you posted completely missed the point of a swap test. In order for it to be valid you would need to swap the actual pointers, not what they point to. It&#39;s silly the take the word of some random guy who wrote a tutorial on the internet over people like Sethi, Ullman, Lam, and Aho. Also, Gosling is no just a &quot;Guru&quot;. He&#39;s the creator of Java. I&#39;m sure he&#39;s more qualified than anyone to comment on Java."},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":0,"creation_date":1645464997,"post_id":54373107,"comment_id":125873455,"body_markdown":"@SamGinrich I don&#39;t doubt your qualification. But I have sourced six famous computer scientists with PhDs who are widely published to make my point. And not just any computer scientists. Gosling created Java. Sethi, Ullman, Lam, and Aho are the gods of compilers. They wrote the most widely used text book on compilers. You should look at the list of publications, accomplishments, and awards for these people. In response to that you have to give me something better than a nameless guy with a laptop who writes tutorials for a website.","body":"@SamGinrich I don&#39;t doubt your qualification. But I have sourced six famous computer scientists with PhDs who are widely published to make my point. And not just any computer scientists. Gosling created Java. Sethi, Ullman, Lam, and Aho are the gods of compilers. They wrote the most widely used text book on compilers. You should look at the list of publications, accomplishments, and awards for these people. In response to that you have to give me something better than a nameless guy with a laptop who writes tutorials for a website."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1645467438,"post_id":54373107,"comment_id":125874288,"body_markdown":"Think a Guru is someone who creates own rules. Now claiming these rules to be world formula, while the rest of the computer science community does not agree, leads to discussions like the one we have. What have you achieved, if for every statement of mine you refer precisely to the same people, which have called out for their arbitrary change of terms.","body":"Think a Guru is someone who creates own rules. Now claiming these rules to be world formula, while the rest of the computer science community does not agree, leads to discussions like the one we have. What have you achieved, if for every statement of mine you refer precisely to the same people, which have called out for their arbitrary change of terms."},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":0,"creation_date":1645471740,"post_id":54373107,"comment_id":125875706,"body_markdown":"@SamGinrich Here is the definition of Guru according to Merriam-Webster : https://www.merriam-webster.com/dictionary/guru. The assertion, &quot;the rest of the computer science community does not agree&quot;, can you site any sources for this? As for, &quot;the same people&quot;, if I really tried, I could get you more sources, but I&#39;d have to go digging through text books. Can you at least supply one decent source? Until then here is IBMs documentation on C and C++ which show how of the two only C++ an accomplish this : https://www.ibm.com/docs/en/zos/2.4.0?topic=calls-pass-by-reference-c-only. . .","body":"@SamGinrich Here is the definition of Guru according to Merriam-Webster : <a href=\"https://www.merriam-webster.com/dictionary/guru\" rel=\"nofollow noreferrer\">merriam-webster.com/dictionary/guru</a>. The assertion, &quot;the rest of the computer science community does not agree&quot;, can you site any sources for this? As for, &quot;the same people&quot;, if I really tried, I could get you more sources, but I&#39;d have to go digging through text books. Can you at least supply one decent source? Until then here is IBMs documentation on C and C++ which show how of the two only C++ an accomplish this : <a href=\"https://www.ibm.com/docs/en/zos/2.4.0?topic=calls-pass-by-reference-c-only\" rel=\"nofollow noreferrer\">ibm.com/docs/en/zos/2.4.0?topic=calls-pass-by-reference-c-on&zwnj;&#8203;ly</a>. . ."},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":0,"creation_date":1645471895,"post_id":54373107,"comment_id":125875758,"body_markdown":"@SamGinrich . . . also here is a really good article by Scott Stanchfield of  on why Java is pass-by-value only. It does a better job than me. https://www.javadude.com/articles/passbyvalue.htm","body":"@SamGinrich . . . also here is a really good article by Scott Stanchfield of  on why Java is pass-by-value only. It does a better job than me. <a href=\"https://www.javadude.com/articles/passbyvalue.htm\" rel=\"nofollow noreferrer\">javadude.com/articles/passbyvalue.htm</a>"},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":1,"creation_date":1645552500,"post_id":54373107,"comment_id":125900072,"body_markdown":"Oops, think I totally agreed with your answer above, though not with citing definitions, which are neither from you nor from me.","body":"Oops, think I totally agreed with your answer above, though not with citing definitions, which are neither from you nor from me."},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":0,"creation_date":1645572080,"post_id":54373107,"comment_id":125906427,"body_markdown":"@SamGinrich, you&#39;re right about citing definitions.","body":"@SamGinrich, you&#39;re right about citing definitions."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1645725572,"post_id":54373107,"comment_id":125953812,"body_markdown":":) As stated above I reject them. The original semantics of &quot;passing-by-reference&quot; is that an instance is shared among caller and called method. Whoever came later to define for himself something else, cannot allocate computer science as a whole.","body":":) As stated above I reject them. The original semantics of &quot;passing-by-reference&quot; is that an instance is shared among caller and called method. Whoever came later to define for himself something else, cannot allocate computer science as a whole."},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":1,"creation_date":1645726077,"post_id":54373107,"comment_id":125953956,"body_markdown":"@SamGinrich again, nobody has changed the definition. I worked hard to compile all the information in this post, which shows exactly that. If you think someone is trying to changed the definition, please share some evidence of that.","body":"@SamGinrich again, nobody has changed the definition. I worked hard to compile all the information in this post, which shows exactly that. If you think someone is trying to changed the definition, please share some evidence of that."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1645726660,"post_id":54373107,"comment_id":125954183,"body_markdown":"As stated above, the main post above is an island, even if it&#39;s a huge one. I&#39;m still wondering, how someone with IQ&gt;=85% can put out a sentence of shape &quot;Java is &lt;a parameter passing mode&gt;&quot;.","body":"As stated above, the main post above is an island, even if it&#39;s a huge one. I&#39;m still wondering, how someone with IQ&gt;=85% can put out a sentence of shape &quot;Java is &lt;a parameter passing mode&gt;&quot;."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1645731139,"post_id":54373107,"comment_id":125955640,"body_markdown":"Indirect evidence, that other definitions exist is here https://stackoverflow.com/questions/2229498/passing-by-reference-in-c","body":"Indirect evidence, that other definitions exist is here <a href=\"https://stackoverflow.com/questions/2229498/passing-by-reference-in-c\" title=\"passing by reference in c\">stackoverflow.com/questions/2229498/passing-by-reference-in-&zwnj;&#8203;c</a>"},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":1,"creation_date":1645810561,"post_id":54373107,"comment_id":125977180,"body_markdown":"A) that is not evidence of &quot;Established Computer Science&quot; disagreeing with Gosling, it&#39;s someone asking a question on stack overflow. B) Thats an example of a pointer being passed by value, not pass-by-reference. C) my post explains this. Have you read it carefully?","body":"A) that is not evidence of &quot;Established Computer Science&quot; disagreeing with Gosling, it&#39;s someone asking a question on stack overflow. B) Thats an example of a pointer being passed by value, not pass-by-reference. C) my post explains this. Have you read it carefully?"},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1645816116,"post_id":54373107,"comment_id":125979121,"body_markdown":"Established Computer science is here https://learn.microsoft.com/en-us/dotnet/visual-basic/programming-guide/language-features/procedures/passing-arguments-by-value-and-by-reference","body":"Established Computer science is here <a href=\"https://learn.microsoft.com/en-us/dotnet/visual-basic/programming-guide/language-features/procedures/passing-arguments-by-value-and-by-reference\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/dotnet/visual-basic/programming-gu&zwnj;&#8203;ide/&hellip;</a>"},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":1,"creation_date":1645816309,"post_id":54373107,"comment_id":125979201,"body_markdown":"@SamGinrich VB ALLOWS pass-by-reference. Java and C do not!! Am I just wasting my time?","body":"@SamGinrich VB ALLOWS pass-by-reference. Java and C do not!! Am I just wasting my time?"},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1645816397,"post_id":54373107,"comment_id":125979228,"body_markdown":"If you say so and loud enough, Established Computer Science will comply. The expectation of a unique terminology on your base - yes, a waste of time!","body":"If you say so and loud enough, Established Computer Science will comply. The expectation of a unique terminology on your base - yes, a waste of time!"},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":0,"creation_date":1645816959,"post_id":54373107,"comment_id":125979386,"body_markdown":"@SamGinrich please read the Microsfoft documentation which you yourself posted. Microsoft does not disagree with Gosling. You haven&#39;t posted anything that shows this. And please stop speaking for &quot;Established Computer Science&quot;. Majority of the people around the world who design languages and write compilers studied from The Dragon Book. THAT is established computer science. Not me, not you.","body":"@SamGinrich please read the Microsfoft documentation which you yourself posted. Microsoft does not disagree with Gosling. You haven&#39;t posted anything that shows this. And please stop speaking for &quot;Established Computer Science&quot;. Majority of the people around the world who design languages and write compilers studied from The Dragon Book. THAT is established computer science. Not me, not you."},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":0,"creation_date":1645817532,"post_id":54373107,"comment_id":125979554,"body_markdown":"@SamGinrich here is my reply to the post you posted https://stackoverflow.com/a/71270573/1028560","body":"@SamGinrich here is my reply to the post you posted <a href=\"https://stackoverflow.com/a/71270573/1028560\">stackoverflow.com/a/71270573/1028560</a>"},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":1,"creation_date":1645817883,"post_id":54373107,"comment_id":125979644,"body_markdown":"@SamGinrich saw your post here https://stackoverflow.com/a/70586240/1028560. I think I know the source of the confusion. I think you have a misunderstanding of what pass-by-value is. Please have a look at this link https://blog.penjee.com/passing-by-value-vs-by-reference-java-graphical/. This does a great job of explaining the difference and shows why Java is Pass-By-Value.","body":"@SamGinrich saw your post here <a href=\"https://stackoverflow.com/a/70586240/1028560\">stackoverflow.com/a/70586240/1028560</a>. I think I know the source of the confusion. I think you have a misunderstanding of what pass-by-value is. Please have a look at this link <a href=\"https://blog.penjee.com/passing-by-value-vs-by-reference-java-graphical/\" rel=\"nofollow noreferrer\">blog.penjee.com/passing-by-value-vs-by-reference-java-graphi&zwnj;&#8203;cal</a>. This does a great job of explaining the difference and shows why Java is Pass-By-Value."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1645818043,"post_id":54373107,"comment_id":125979686,"body_markdown":"I won&#39;t. You do not belong to the generation, that grew up with these things and you don&#39;t listen anyway, violating the golden rule. https://stackoverflow.com/a/2229516/9437799","body":"I won&#39;t. You do not belong to the generation, that grew up with these things and you don&#39;t listen anyway, violating the golden rule. <a href=\"https://stackoverflow.com/a/2229516/9437799\">stackoverflow.com/a/2229516/9437799</a>"},{"owner":{"account_id":18094497,"reputation":702,"user_id":13153117,"display_name":"Stan"},"score":0,"creation_date":1674251620,"post_id":54373107,"comment_id":132682651,"body_markdown":"HI @Sanjeev I think you might be able to help me with this question based on your good answer here: https://stackoverflow.com/questions/75185425/what-is-value-reference-vs-pointer? Thanks","body":"HI @Sanjeev I think you might be able to help me with this question based on your good answer here: <a href=\"https://stackoverflow.com/questions/75185425/what-is-value-reference-vs-pointer\" title=\"what is value reference vs pointer\">stackoverflow.com/questions/75185425/&hellip;</a>? Thanks"}],"tags":[],"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"comment_count":26,"down_vote_count":1,"up_vote_count":112,"is_accepted":false,"score":111,"last_activity_date":1663706576,"creation_date":1548452250,"answer_id":54373107,"question_id":40480,"body_markdown":"There are already great answers that cover this. I wanted to make a small contribution by sharing a **very simple example** (which will compile) contrasting the behaviors between Pass-by-reference in c++ and Pass-by-value in Java.\r\n\r\nA few points:\r\n\r\n 1. The term &quot;reference&quot; is a overloaded with two separate meanings. In Java it simply means a pointer, but in the context of &quot;Pass-by-reference&quot; it means a handle to the original variable which was passed in.\r\n 2. **Java is Pass-by-value**. Java is a descendent of C (among other languages). Before C, several (but not all) earlier languages like FORTRAN and COBOL supported PBR, but C did not. PBR allowed these other languages to make changes to the passed variables inside sub-routines. In order to accomplish the same thing (i.e. change the values of variables inside functions), C programmers passed pointers to variables into functions. Languages inspired by C, such as Java, borrowed this idea and continue to pass pointer to methods as C did, except that Java calls its pointers References. Again, this is a different use of the word &quot;Reference&quot; than in &quot;Pass-By-Reference&quot;.\r\n 3. **C++ allows Pass-by-reference** by declaring a reference parameter using the &quot;&amp;&quot; character (which happens to be the same character used to indicate &quot;the address of a variable&quot; in both C and C++). For example, if we pass in a pointer by reference, the parameter and the argument are not just pointing to the same object. Rather, they are the same variable. If one gets set to a different address or to null, so does the other.\r\n 4. In the C++ example below I&#39;m passing a **pointer** to a null terminated string **by reference**. And in the Java example below I&#39;m passing a Java reference to a String (again, the same as a pointer to a String) by value. Notice the output in the comments.\r\n\r\nC++ pass by reference example:\r\n\r\n    using namespace std;\r\n    #include &lt;iostream&gt;\r\n    \r\n    void change (char *&amp;str){   // the &#39;&amp;&#39; makes this a reference parameter\r\n        str = NULL;\r\n    }\r\n    \r\n    int main()\r\n    {\r\n        char *str = &quot;not Null&quot;;\r\n        change(str);\r\n        cout&lt;&lt;&quot;str is &quot; &lt;&lt; str;      // ==&gt;str is &lt;null&gt;\r\n    }\r\n\r\nJava pass &quot;a Java reference&quot; by value example\r\n\r\n    public class ValueDemo{\r\n        \r\n        public void change (String str){\r\n            str = null;\r\n        }\r\n    \r\n         public static void main(String []args){\r\n            ValueDemo vd = new ValueDemo();\r\n            String str = &quot;not null&quot;;\r\n            vd.change(str);\r\n            System.out.println(&quot;str is &quot; + str);    // ==&gt; str is not null!!\r\n                                                    // Note that if &quot;str&quot; was\r\n                                                    // passed-by-reference, it\r\n                                                    // WOULD BE NULL after the\r\n                                                    // call to change().\r\n         }\r\n    }\r\n\r\n\r\n**EDIT**\r\n\r\nSeveral people have written comments which seem to indicate that either they are not looking at my examples or they don&#39;t get the c++ example. Not sure where the disconnect is, but guessing the c++ example is not clear. I&#39;m posting the same example in pascal because I think pass-by-reference looks cleaner in pascal, but I could be wrong. I might just be confusing people more; I hope not.\r\n\r\nIn pascal, parameters passed-by-reference are called &quot;var parameters&quot;. In the procedure setToNil below, please note the keyword &#39;var&#39; which precedes the parameter &#39;ptr&#39;. When a pointer is passed to this procedure, it will be passed **by reference**. Note the behavior: when this procedure sets ptr to nil (that&#39;s pascal speak for NULL), it will set the argument to nil--you can&#39;t do that in Java.\r\n\r\n    program passByRefDemo;\r\n    type \r\n       iptr = ^integer;\r\n    var\r\n       ptr: iptr;\r\n       \r\n       procedure setToNil(var ptr : iptr);\r\n       begin\r\n           ptr := nil;\r\n       end;\r\n    \r\n    begin\r\n       new(ptr);\r\n       ptr^ := 10;\r\n       setToNil(ptr);\r\n       if (ptr = nil) then\r\n           writeln(&#39;ptr seems to be nil&#39;);     { ptr should be nil, so this line will run. }\r\n    end.\r\n\r\n **EDIT 2**\r\n\r\nSome excerpts from **&quot;THE Java Programming Language&quot;** by Ken Arnold, **James Gosling (the guy who invented Java)**, and David Holmes, chapter 2, section 2.6.5\r\n\r\n&gt; **All parameters to methods are passed &quot;by value&quot;**. In other words,\r\n&gt; values of parameter variables in a method are copies of the invoker\r\n&gt; specified as arguments.\r\n\r\nHe goes on to make the same point regarding objects . . . \r\n\r\n&gt; You should note that when the parameter is an object reference, it is\r\n&gt; the object reference-not the object itself-that is **passed &quot;by value&quot;**.\r\n\r\nAnd towards the end of the same section he makes a broader statement about java being only pass by value and never pass by reference.\r\n\r\n&gt; The Java programming language **does not pass objects by reference; it**\r\n&gt; **passes object references by value**. Because two copies of the same\r\n&gt; reference refer to the same actual object, changes made through one\r\n&gt; reference variable are visible through the other. There is exactly one\r\n&gt; parameter passing mode-**pass by value**-and that helps keep things\r\n&gt; simple.\r\n\r\nThis section of the book has a great explanation of parameter passing in Java and of the distinction between pass-by-reference and pass-by-value and it&#39;s by the creator of Java. I would encourage anyone to read it, especially if you&#39;re still not convinced.\r\n\r\nI think the difference between the two models is very subtle and unless you&#39;ve done programming where you actually used pass-by-reference, it&#39;s easy to miss where two models differ.\r\n\r\nI hope this settles the debate, but probably won&#39;t.\r\n\r\n**EDIT 3**\r\n\r\nI might be a little obsessed with this post. Probably because I feel that the makers of Java inadvertently spread misinformation. If instead of using the word &quot;reference&quot; for pointers they had used something else, say \r\ndingleberry, there would&#39;ve been no problem. You could say, &quot;Java passes dingleberries by value and not by reference&quot;, and nobody would be confused.\r\n\r\nThat&#39;s the reason only Java developers have issue with this. They look at the word &quot;reference&quot; and think they know exactly what that means, so they don&#39;t even bother to consider the opposing argument.\r\n\r\nAnyway, I noticed a comment in an older post, which made a balloon analogy which I really liked. So much so that I decided to glue together some clip-art to make a set of cartoons to illustrate the point.\r\n\r\n**Passing a reference by value**--Changes to the reference are not reflected in the caller&#39;s scope, but the changes to the object are. This is because the reference is copied, but the both the original and the copy refer to the same object.\r\n[![Passing Object references By Value][2]][2]\r\n\r\n**Pass by reference**--There is no copy of the reference. Single reference is shared by both the caller and the function being called. Any changes to the reference or the Object&#39;s data are reflected in the caller&#39;s scope.\r\n[![Pass by reference][3]][3]\r\n\r\n**EDIT 4**\r\n\r\nI have seen posts on this topic which describe the low level implementation of parameter passing in Java, which I think is great and very helpful because it makes an abstract idea concrete. However, to me the question is more about **the behavior described in the language specification** than about the technical implementation of the behavior. This is an exerpt from the [Java Language Specification, section 8.4.1][4] :\r\n\r\n&gt; When the method or constructor is invoked (&#167;15.12), **the values of the\r\n&gt; actual argument expressions initialize newly created parameter\r\n&gt; variables, each of the declared type, before execution of the body of\r\n&gt; the method or constructor.** The Identifier that appears in the\r\n&gt; DeclaratorId may be used as a simple name in the body of the method or\r\n&gt; constructor to refer to the formal parameter.\r\n\r\nWhich means, java creates a copy of the passed parameters before executing a method. Like most people who studied compilers in college, I used [&quot;The Dragon Book&quot;][5] which is **THE** compilers book. It has a good description of &quot;Call-by-value&quot; and &quot;Call-by-Reference&quot; in Chapter 1. The Call-by-value description matches up with Java Specs exactly.\r\n\r\nBack when I studied compilers-in the 90&#39;s, I used the first edition of the book from 1986 which pre-dated Java by about 9 or 10 years. However, I just ran across a copy of the [2nd Eddition][6] from 2007 **which actually mentions Java!** Section 1.6.6 labeled &quot;Parameter Passing Mechanisms&quot; describes parameter passing pretty nicely. Here is an excerpt under the heading &quot;Call-by-value&quot; which mentions Java:\r\n\r\n&gt; In call-by-value, the actual parameter is evaluated (if it is an\r\n&gt; expression) or copied (if it is a variable). The value is placed in\r\n&gt; the location belonging to the corresponding formal parameter of the\r\n&gt; called procedure. **This method is used in C and Java, and is a common\r\n&gt; option in C++ , as well as in most other languages.**\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/208457/dhackner\r\n  [2]: https://i.stack.imgur.com/RvkqU.png\r\n  [3]: https://i.stack.imgur.com/SHXkC.png\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.4.1\r\n  [5]: https://www.amazon.com/Compilers-Principles-Techniques-Alfred-Aho/dp/0201100886/ref=sr_1_fkmr0_2?keywords=Compilers%3A%20Principles%2C%20Techniques%2C%20and%20Tools%201st%20Edition&amp;qid=1567178930&amp;s=digital-text&amp;sr=8-2-fkmr0\r\n  [6]: https://www.amazon.com/Compilers-Principles-Techniques-Alfred-Aho-ebook/dp/B009TGD06W","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>There are already great answers that cover this. I wanted to make a small contribution by sharing a <strong>very simple example</strong> (which will compile) contrasting the behaviors between Pass-by-reference in c++ and Pass-by-value in Java.</p>\n<p>A few points:</p>\n<ol>\n<li>The term &quot;reference&quot; is a overloaded with two separate meanings. In Java it simply means a pointer, but in the context of &quot;Pass-by-reference&quot; it means a handle to the original variable which was passed in.</li>\n<li><strong>Java is Pass-by-value</strong>. Java is a descendent of C (among other languages). Before C, several (but not all) earlier languages like FORTRAN and COBOL supported PBR, but C did not. PBR allowed these other languages to make changes to the passed variables inside sub-routines. In order to accomplish the same thing (i.e. change the values of variables inside functions), C programmers passed pointers to variables into functions. Languages inspired by C, such as Java, borrowed this idea and continue to pass pointer to methods as C did, except that Java calls its pointers References. Again, this is a different use of the word &quot;Reference&quot; than in &quot;Pass-By-Reference&quot;.</li>\n<li><strong>C++ allows Pass-by-reference</strong> by declaring a reference parameter using the &quot;&amp;&quot; character (which happens to be the same character used to indicate &quot;the address of a variable&quot; in both C and C++). For example, if we pass in a pointer by reference, the parameter and the argument are not just pointing to the same object. Rather, they are the same variable. If one gets set to a different address or to null, so does the other.</li>\n<li>In the C++ example below I'm passing a <strong>pointer</strong> to a null terminated string <strong>by reference</strong>. And in the Java example below I'm passing a Java reference to a String (again, the same as a pointer to a String) by value. Notice the output in the comments.</li>\n</ol>\n<p>C++ pass by reference example:</p>\n<pre><code>using namespace std;\n#include &lt;iostream&gt;\n\nvoid change (char *&amp;str){   // the '&amp;' makes this a reference parameter\n    str = NULL;\n}\n\nint main()\n{\n    char *str = &quot;not Null&quot;;\n    change(str);\n    cout&lt;&lt;&quot;str is &quot; &lt;&lt; str;      // ==&gt;str is &lt;null&gt;\n}\n</code></pre>\n<p>Java pass &quot;a Java reference&quot; by value example</p>\n<pre><code>public class ValueDemo{\n    \n    public void change (String str){\n        str = null;\n    }\n\n     public static void main(String []args){\n        ValueDemo vd = new ValueDemo();\n        String str = &quot;not null&quot;;\n        vd.change(str);\n        System.out.println(&quot;str is &quot; + str);    // ==&gt; str is not null!!\n                                                // Note that if &quot;str&quot; was\n                                                // passed-by-reference, it\n                                                // WOULD BE NULL after the\n                                                // call to change().\n     }\n}\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>Several people have written comments which seem to indicate that either they are not looking at my examples or they don't get the c++ example. Not sure where the disconnect is, but guessing the c++ example is not clear. I'm posting the same example in pascal because I think pass-by-reference looks cleaner in pascal, but I could be wrong. I might just be confusing people more; I hope not.</p>\n<p>In pascal, parameters passed-by-reference are called &quot;var parameters&quot;. In the procedure setToNil below, please note the keyword 'var' which precedes the parameter 'ptr'. When a pointer is passed to this procedure, it will be passed <strong>by reference</strong>. Note the behavior: when this procedure sets ptr to nil (that's pascal speak for NULL), it will set the argument to nil--you can't do that in Java.</p>\n<pre><code>program passByRefDemo;\ntype \n   iptr = ^integer;\nvar\n   ptr: iptr;\n   \n   procedure setToNil(var ptr : iptr);\n   begin\n       ptr := nil;\n   end;\n\nbegin\n   new(ptr);\n   ptr^ := 10;\n   setToNil(ptr);\n   if (ptr = nil) then\n       writeln('ptr seems to be nil');     { ptr should be nil, so this line will run. }\nend.\n</code></pre>\n<p><strong>EDIT 2</strong></p>\n<p>Some excerpts from <strong>&quot;THE Java Programming Language&quot;</strong> by Ken Arnold, <strong>James Gosling (the guy who invented Java)</strong>, and David Holmes, chapter 2, section 2.6.5</p>\n<blockquote>\n<p><strong>All parameters to methods are passed &quot;by value&quot;</strong>. In other words,\nvalues of parameter variables in a method are copies of the invoker\nspecified as arguments.</p>\n</blockquote>\n<p>He goes on to make the same point regarding objects . . .</p>\n<blockquote>\n<p>You should note that when the parameter is an object reference, it is\nthe object reference-not the object itself-that is <strong>passed &quot;by value&quot;</strong>.</p>\n</blockquote>\n<p>And towards the end of the same section he makes a broader statement about java being only pass by value and never pass by reference.</p>\n<blockquote>\n<p>The Java programming language <strong>does not pass objects by reference; it</strong>\n<strong>passes object references by value</strong>. Because two copies of the same\nreference refer to the same actual object, changes made through one\nreference variable are visible through the other. There is exactly one\nparameter passing mode-<strong>pass by value</strong>-and that helps keep things\nsimple.</p>\n</blockquote>\n<p>This section of the book has a great explanation of parameter passing in Java and of the distinction between pass-by-reference and pass-by-value and it's by the creator of Java. I would encourage anyone to read it, especially if you're still not convinced.</p>\n<p>I think the difference between the two models is very subtle and unless you've done programming where you actually used pass-by-reference, it's easy to miss where two models differ.</p>\n<p>I hope this settles the debate, but probably won't.</p>\n<p><strong>EDIT 3</strong></p>\n<p>I might be a little obsessed with this post. Probably because I feel that the makers of Java inadvertently spread misinformation. If instead of using the word &quot;reference&quot; for pointers they had used something else, say\ndingleberry, there would've been no problem. You could say, &quot;Java passes dingleberries by value and not by reference&quot;, and nobody would be confused.</p>\n<p>That's the reason only Java developers have issue with this. They look at the word &quot;reference&quot; and think they know exactly what that means, so they don't even bother to consider the opposing argument.</p>\n<p>Anyway, I noticed a comment in an older post, which made a balloon analogy which I really liked. So much so that I decided to glue together some clip-art to make a set of cartoons to illustrate the point.</p>\n<p><strong>Passing a reference by value</strong>--Changes to the reference are not reflected in the caller's scope, but the changes to the object are. This is because the reference is copied, but the both the original and the copy refer to the same object.\n<a href=\"https://i.stack.imgur.com/RvkqU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RvkqU.png\" alt=\"Passing Object references By Value\" /></a></p>\n<p><strong>Pass by reference</strong>--There is no copy of the reference. Single reference is shared by both the caller and the function being called. Any changes to the reference or the Object's data are reflected in the caller's scope.\n<a href=\"https://i.stack.imgur.com/SHXkC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SHXkC.png\" alt=\"Pass by reference\" /></a></p>\n<p><strong>EDIT 4</strong></p>\n<p>I have seen posts on this topic which describe the low level implementation of parameter passing in Java, which I think is great and very helpful because it makes an abstract idea concrete. However, to me the question is more about <strong>the behavior described in the language specification</strong> than about the technical implementation of the behavior. This is an exerpt from the <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.4.1\" rel=\"noreferrer\">Java Language Specification, section 8.4.1</a> :</p>\n<blockquote>\n<p>When the method or constructor is invoked (§15.12), <strong>the values of the\nactual argument expressions initialize newly created parameter\nvariables, each of the declared type, before execution of the body of\nthe method or constructor.</strong> The Identifier that appears in the\nDeclaratorId may be used as a simple name in the body of the method or\nconstructor to refer to the formal parameter.</p>\n</blockquote>\n<p>Which means, java creates a copy of the passed parameters before executing a method. Like most people who studied compilers in college, I used <a href=\"https://rads.stackoverflow.com/amzn/click/com/0201100886\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">&quot;The Dragon Book&quot;</a> which is <strong>THE</strong> compilers book. It has a good description of &quot;Call-by-value&quot; and &quot;Call-by-Reference&quot; in Chapter 1. The Call-by-value description matches up with Java Specs exactly.</p>\n<p>Back when I studied compilers-in the 90's, I used the first edition of the book from 1986 which pre-dated Java by about 9 or 10 years. However, I just ran across a copy of the <a href=\"https://rads.stackoverflow.com/amzn/click/com/B009TGD06W\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">2nd Eddition</a> from 2007 <strong>which actually mentions Java!</strong> Section 1.6.6 labeled &quot;Parameter Passing Mechanisms&quot; describes parameter passing pretty nicely. Here is an excerpt under the heading &quot;Call-by-value&quot; which mentions Java:</p>\n<blockquote>\n<p>In call-by-value, the actual parameter is evaluated (if it is an\nexpression) or copied (if it is a variable). The value is placed in\nthe location belonging to the corresponding formal parameter of the\ncalled procedure. <strong>This method is used in C and Java, and is a common\noption in C++ , as well as in most other languages.</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":929792,"reputation":3142,"user_id":959876,"display_name":"moldovean"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1556635845,"creation_date":1556635845,"answer_id":55923549,"question_id":40480,"body_markdown":"Long story short: \r\n\r\n1. Non-primitives: Java passes the *Value of the Reference*.  \r\n2. Primitives: just value. \r\n\r\nThe End.\r\n\r\n(2) is too easy. Now if you want to think of what (1) implies, imagine you have a class Apple:\r\n    \r\n    class Apple {\r\n        private double weight;\r\n        public Apple(double weight) {\r\n            this.weight = weight;\r\n        }\r\n        // getters and setters ...\r\n        \r\n    }\r\n\r\n\r\nthen when you pass an instance of this class to the main method:\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            Apple apple = new Apple(3.14);\r\n            transmogrify(apple);\r\n            System.out.println(apple.getWeight()+ &quot; the goose drank wine...&quot;;\r\n        \r\n        }\r\n\r\n        private static void transmogrify(Apple apple) {\r\n            // does something with apple ...\r\n            apple.setWeight(apple.getWeight()+0.55);\r\n        }\r\n    }\r\n\r\n\r\noh.. but you probably know that, you&#39;re interested in what happens when you do something like this:\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            Apple apple = new Apple(3.14);\r\n            transmogrify(apple);\r\n            System.out.println(&quot;Who ate my: &quot;+apple.getWeight()); // will it still be 3.14? \r\n        \r\n        }\r\n\r\n        private static void transmogrify(Apple apple) {\r\n            // assign a new apple to the reference passed...\r\n            apple = new Apple(2.71);\r\n        }\r\n\r\n\r\n    }","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Long story short: </p>\n\n<ol>\n<li>Non-primitives: Java passes the <em>Value of the Reference</em>.  </li>\n<li>Primitives: just value. </li>\n</ol>\n\n<p>The End.</p>\n\n<p>(2) is too easy. Now if you want to think of what (1) implies, imagine you have a class Apple:</p>\n\n<pre><code>class Apple {\n    private double weight;\n    public Apple(double weight) {\n        this.weight = weight;\n    }\n    // getters and setters ...\n\n}\n</code></pre>\n\n<p>then when you pass an instance of this class to the main method:</p>\n\n<pre><code>class Main {\n    public static void main(String[] args) {\n        Apple apple = new Apple(3.14);\n        transmogrify(apple);\n        System.out.println(apple.getWeight()+ \" the goose drank wine...\";\n\n    }\n\n    private static void transmogrify(Apple apple) {\n        // does something with apple ...\n        apple.setWeight(apple.getWeight()+0.55);\n    }\n}\n</code></pre>\n\n<p>oh.. but you probably know that, you're interested in what happens when you do something like this:</p>\n\n<pre><code>class Main {\n    public static void main(String[] args) {\n        Apple apple = new Apple(3.14);\n        transmogrify(apple);\n        System.out.println(\"Who ate my: \"+apple.getWeight()); // will it still be 3.14? \n\n    }\n\n    private static void transmogrify(Apple apple) {\n        // assign a new apple to the reference passed...\n        apple = new Apple(2.71);\n    }\n\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":1,"creation_date":1638817291,"post_id":57068881,"comment_id":124183774,"body_markdown":"Every time you pas an object, it is passed by reference, cause that is what you find on the stack: a Reference","body":"Every time you pas an object, it is passed by reference, cause that is what you find on the stack: a Reference"}],"tags":[],"owner":{"account_id":10944401,"reputation":189,"user_id":9892438,"display_name":"Amit Sharma"},"comment_count":1,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1563340243,"creation_date":1563340243,"answer_id":57068881,"question_id":40480,"body_markdown":"**Java passes parameters by value, There is no option of passing a reference in Java.**\r\n\r\nBut at the complier binding level layer, It uses reference internally not exposed to the user.\r\n\r\nIt is essential as it saves a lot of memory and improves speed.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p><strong>Java passes parameters by value, There is no option of passing a reference in Java.</strong></p>\n\n<p>But at the complier binding level layer, It uses reference internally not exposed to the user.</p>\n\n<p>It is essential as it saves a lot of memory and improves speed.</p>\n"},{"tags":[],"owner":{"account_id":4912431,"reputation":51,"user_id":3957354,"display_name":"natwar kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1567798215,"creation_date":1564199762,"answer_id":57229012,"question_id":40480,"body_markdown":"    public class Test {\r\n    \t\r\n    \tstatic class Dog {\r\n    \t\tString name;\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int hashCode() {\r\n    \t\t\tfinal int prime = 31;\r\n    \t\t\tint result = 1;\r\n    \t\t\tresult = prime * result + ((name == null) ? 0 : name.hashCode());\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean equals(Object obj) {\r\n    \t\t\tif (this == obj)\r\n    \t\t\t\treturn true;\r\n    \t\t\tif (obj == null)\r\n    \t\t\t\treturn false;\r\n    \t\t\tif (getClass() != obj.getClass())\r\n    \t\t\t\treturn false;\r\n    \t\t\tDog other = (Dog) obj;\r\n    \t\t\tif (name == null) {\r\n    \t\t\t\tif (other.name != null)\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t} else if (!name.equals(other.name))\r\n    \t\t\t\treturn false;\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getName() {\r\n    \t\t\treturn name;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setName(String nb) {\r\n    \t\t\tthis.name = nb;\r\n    \t\t}\r\n    \r\n    \t\tDog(String sd) {\r\n    \t\t\tthis.name = sd;\r\n    \t\t}\r\n    \t}\r\n        /**\r\n         * \r\n         * @param args\r\n         */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDog aDog = new Dog(&quot;Max&quot;);\r\n    \r\n    \t\t// we pass the object to foo\r\n    \t\tfoo(aDog);\r\n    \t\tDog oldDog = aDog;\r\n    \r\n    \t\tSystem.out.println(&quot; 1: &quot; + aDog.getName().equals(&quot;Max&quot;)); // false\r\n    \t\tSystem.out.println(&quot; 2 &quot; + aDog.getName().equals(&quot;huahua&quot;)); // false\r\n    \t\tSystem.out.println(&quot; 3 &quot; + aDog.getName().equals(&quot;moron&quot;)); // true\r\n    \t\tSystem.out.println(&quot; 4 &quot; + &quot; &quot; + (aDog == oldDog)); // true\r\n    \r\n    \t\t// part2\r\n    \t\tDog aDog1 = new Dog(&quot;Max&quot;);\r\n    \r\n    \t\tfoo(aDog1, 5);\r\n    \t\tDog oldDog1 = aDog;\r\n    \r\n    \t\tSystem.out.println(&quot; 5 : &quot; + aDog1.getName().equals(&quot;huahua&quot;)); // true\r\n    \t\tSystem.out.println(&quot; part2 : &quot; + (aDog1 == oldDog1)); // false\r\n    \r\n    \t\tDog oldDog2 = foo(aDog1, 5, 6);\r\n    \t\tSystem.out.println(&quot; 6 &quot; + (aDog1 == oldDog2)); // true\r\n    \t\tSystem.out.println(&quot; 7 &quot; + (aDog1 == oldDog)); // false\r\n    \t\tSystem.out.println(&quot; 8 &quot; + (aDog == oldDog2)); // false\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * \r\n    \t * @param d\r\n    \t */\r\n    \tpublic static void foo(Dog d) {\r\n    \t\tSystem.out.println(d.getName().equals(&quot;Max&quot;)); // true\r\n    \r\n    \t\td.setName(&quot;moron&quot;);\r\n    \r\n    \t\td = new Dog(&quot;huahua&quot;);\r\n    \t\tSystem.out.println(&quot; -:-  &quot; + d.getName().equals(&quot;huahua&quot;)); // true\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * \r\n    \t * @param d\r\n    \t * @param a\r\n    \t */\r\n    \tpublic static void foo(Dog d, int a) {\r\n    \t\td.getName().equals(&quot;Max&quot;); // true\r\n    \r\n    \t\td.setName(&quot;huahua&quot;);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * \r\n    \t * @param d\r\n    \t * @param a\r\n    \t * @param b\r\n    \t * @return\r\n    \t */\r\n    \tpublic static Dog foo(Dog d, int a, int b) {\r\n    \t\td.getName().equals(&quot;Max&quot;); // true\r\n    \t\td.setName(&quot;huahua&quot;);\r\n    \t\treturn d;\r\n    \t}\r\n    }\r\n\r\nThe sample code to demonstrate the impact of changes to the  object at different functions . ","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<pre><code>public class Test {\n\n    static class Dog {\n        String name;\n\n        @Override\n        public int hashCode() {\n            final int prime = 31;\n            int result = 1;\n            result = prime * result + ((name == null) ? 0 : name.hashCode());\n            return result;\n        }\n\n        @Override\n        public boolean equals(Object obj) {\n            if (this == obj)\n                return true;\n            if (obj == null)\n                return false;\n            if (getClass() != obj.getClass())\n                return false;\n            Dog other = (Dog) obj;\n            if (name == null) {\n                if (other.name != null)\n                    return false;\n            } else if (!name.equals(other.name))\n                return false;\n            return true;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String nb) {\n            this.name = nb;\n        }\n\n        Dog(String sd) {\n            this.name = sd;\n        }\n    }\n    /**\n     * \n     * @param args\n     */\n    public static void main(String[] args) {\n        Dog aDog = new Dog(\"Max\");\n\n        // we pass the object to foo\n        foo(aDog);\n        Dog oldDog = aDog;\n\n        System.out.println(\" 1: \" + aDog.getName().equals(\"Max\")); // false\n        System.out.println(\" 2 \" + aDog.getName().equals(\"huahua\")); // false\n        System.out.println(\" 3 \" + aDog.getName().equals(\"moron\")); // true\n        System.out.println(\" 4 \" + \" \" + (aDog == oldDog)); // true\n\n        // part2\n        Dog aDog1 = new Dog(\"Max\");\n\n        foo(aDog1, 5);\n        Dog oldDog1 = aDog;\n\n        System.out.println(\" 5 : \" + aDog1.getName().equals(\"huahua\")); // true\n        System.out.println(\" part2 : \" + (aDog1 == oldDog1)); // false\n\n        Dog oldDog2 = foo(aDog1, 5, 6);\n        System.out.println(\" 6 \" + (aDog1 == oldDog2)); // true\n        System.out.println(\" 7 \" + (aDog1 == oldDog)); // false\n        System.out.println(\" 8 \" + (aDog == oldDog2)); // false\n    }\n\n    /**\n     * \n     * @param d\n     */\n    public static void foo(Dog d) {\n        System.out.println(d.getName().equals(\"Max\")); // true\n\n        d.setName(\"moron\");\n\n        d = new Dog(\"huahua\");\n        System.out.println(\" -:-  \" + d.getName().equals(\"huahua\")); // true\n    }\n\n    /**\n     * \n     * @param d\n     * @param a\n     */\n    public static void foo(Dog d, int a) {\n        d.getName().equals(\"Max\"); // true\n\n        d.setName(\"huahua\");\n    }\n\n    /**\n     * \n     * @param d\n     * @param a\n     * @param b\n     * @return\n     */\n    public static Dog foo(Dog d, int a, int b) {\n        d.getName().equals(\"Max\"); // true\n        d.setName(\"huahua\");\n        return d;\n    }\n}\n</code></pre>\n\n<p>The sample code to demonstrate the impact of changes to the  object at different functions . </p>\n"},{"tags":[],"owner":{"account_id":14174665,"reputation":323,"user_id":10240338,"display_name":"grindlewald"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1566505055,"creation_date":1566503229,"answer_id":57616177,"question_id":40480,"body_markdown":"First let&#39;s understand Memory allocation in Java:\r\nStack and Heap are part of Memory that JVM allocates for different purposes. The stack memory is pre-allocated to thread, when it is created, therefore, a thread cannot access the Stack of other thread. But Heap is available to all threads in a program.\r\n\r\nFor a thread, Stack stores all local data, metadata of program, primitive type data and object reference. And, Heap is responsible for storage of actual object.\r\n\r\n    Book book = new Book(&quot;Effective Java&quot;);\r\n\r\nIn the above example, the reference variable is &quot;book&quot; which is stored in stack. The instance created by new operator -&gt; new Book(&quot;Effective Java&quot;) is stored in Heap. The ref variable &quot;book&quot; has address of the object allocated in Heap. Let&#39;s say the address is 1001.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nConsider passing a primitive data type i.e. int, float, double etc.\r\n\r\n    public class PrimitiveTypeExample { \r\n        public static void main(string[] args) {\r\n           int num = 10;\r\n           System.out.println(&quot;Value before calling method: &quot; + num);\r\n           printNum(num);\r\n           System.out.println(&quot;Value after calling method: &quot; + num);\r\n        }\r\n        public static void printNum(int num){\r\n           num = num + 10;\r\n           System.out.println(&quot;Value inside printNum method: &quot; + num);\r\n        }\r\n    }\r\n\r\nOutput is:\r\nValue before calling method: 10\r\nValue inside printNum method: 20\r\nValue after calling method: 10\r\n\r\nint num =10; -&gt; this allocates the memory for &quot;int&quot; in Stack of the running thread, because, it is a primitive type.  Now when printNum(..) is called, a private stack is created within the same thread. When &quot;num&quot; is passed to this method, a copy of &quot;num&quot; is created in the method stack frame.\r\nnum = num+10; -&gt; this adds 10 and modifies the the int variable within the method stack frame.\r\nTherefore, the original num outside the method stack frame remains unchanged.\r\n\r\nConsider, the example of passing the object of a custom class as an argument.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIn the above example, ref variable &quot;book&quot; resides in stack of thread executing the program, and the object of class Book is created in Heap space when program executes new Book(). This memory location in Heap is referred by &quot;book&quot;. When &quot;book&quot; is passed as method argument, a copy  of &quot;book&quot; is created in  private stack frame of method within the same stack of thread. Therefore, the copied reference variable points to the same object of class &quot;Book&quot; in the Heap.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThe reference variable within method stack frame sets a new value to same object. Therefore, it is reflected when original ref variable &quot;book&quot; gets its value.\r\nNote that in case of passing reference variable, if it is initialized again in called method, it then points to new memory location and any operation does not affect the previous object in the Heap.\r\n\r\nTherefore, when anything is passed as method argument, it is always the Stack entity - either primitive or reference variable. We never pass something that is stored in Heap. Hence, in Java, we always pass the value in the stack, and it is pass by value.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uw7tE.png\r\n  [2]: https://i.stack.imgur.com/J1XRW.png\r\n  [3]: https://i.stack.imgur.com/ggqd5.png","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>First let's understand Memory allocation in Java:\nStack and Heap are part of Memory that JVM allocates for different purposes. The stack memory is pre-allocated to thread, when it is created, therefore, a thread cannot access the Stack of other thread. But Heap is available to all threads in a program.</p>\n\n<p>For a thread, Stack stores all local data, metadata of program, primitive type data and object reference. And, Heap is responsible for storage of actual object.</p>\n\n<pre><code>Book book = new Book(\"Effective Java\");\n</code></pre>\n\n<p>In the above example, the reference variable is \"book\" which is stored in stack. The instance created by new operator -> new Book(\"Effective Java\") is stored in Heap. The ref variable \"book\" has address of the object allocated in Heap. Let's say the address is 1001.</p>\n\n<p><a href=\"https://i.stack.imgur.com/uw7tE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uw7tE.png\" alt=\"enter image description here\"></a></p>\n\n<p>Consider passing a primitive data type i.e. int, float, double etc.</p>\n\n<pre><code>public class PrimitiveTypeExample { \n    public static void main(string[] args) {\n       int num = 10;\n       System.out.println(\"Value before calling method: \" + num);\n       printNum(num);\n       System.out.println(\"Value after calling method: \" + num);\n    }\n    public static void printNum(int num){\n       num = num + 10;\n       System.out.println(\"Value inside printNum method: \" + num);\n    }\n}\n</code></pre>\n\n<p>Output is:\nValue before calling method: 10\nValue inside printNum method: 20\nValue after calling method: 10</p>\n\n<p>int num =10; -> this allocates the memory for \"int\" in Stack of the running thread, because, it is a primitive type.  Now when printNum(..) is called, a private stack is created within the same thread. When \"num\" is passed to this method, a copy of \"num\" is created in the method stack frame.\nnum = num+10; -> this adds 10 and modifies the the int variable within the method stack frame.\nTherefore, the original num outside the method stack frame remains unchanged.</p>\n\n<p>Consider, the example of passing the object of a custom class as an argument.</p>\n\n<p><a href=\"https://i.stack.imgur.com/J1XRW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/J1XRW.png\" alt=\"enter image description here\"></a></p>\n\n<p>In the above example, ref variable \"book\" resides in stack of thread executing the program, and the object of class Book is created in Heap space when program executes new Book(). This memory location in Heap is referred by \"book\". When \"book\" is passed as method argument, a copy  of \"book\" is created in  private stack frame of method within the same stack of thread. Therefore, the copied reference variable points to the same object of class \"Book\" in the Heap.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ggqd5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ggqd5.png\" alt=\"enter image description here\"></a></p>\n\n<p>The reference variable within method stack frame sets a new value to same object. Therefore, it is reflected when original ref variable \"book\" gets its value.\nNote that in case of passing reference variable, if it is initialized again in called method, it then points to new memory location and any operation does not affect the previous object in the Heap.</p>\n\n<p>Therefore, when anything is passed as method argument, it is always the Stack entity - either primitive or reference variable. We never pass something that is stored in Heap. Hence, in Java, we always pass the value in the stack, and it is pass by value.</p>\n"},{"tags":[],"owner":{"account_id":16238087,"reputation":59,"user_id":11725130,"display_name":"Rose"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1569053347,"creation_date":1569053347,"answer_id":58038425,"question_id":40480,"body_markdown":"I think this simple explanation might help you understand as I wanted to understand this same thing when I was struggling through this.\r\n\r\nWhen you pass a primitive data to a function call it&#39;s content is being copied to the function&#39;s argument and when you pass an object it&#39;s reference is being copied to the function&#39;s argument. Speaking of object, you can&#39;t change the copied reference-*the argument variable is referencing to* in the calling function.\r\n\r\nConsider this simple example, String is an object in java and when you change the content of a string the reference variable will now point to some new reference as String objects are immutable in java.\r\n```java\r\nString name=&quot;Mehrose&quot;;  // name referencing to 100\r\n\r\nChangeContenet(String name){\r\n name=&quot;Michael&quot;; // refernce has changed to 1001\r\n\r\n} \r\nSystem.out.print(name);  //displays Mehrose\r\n```\r\nFairly simple because as I mentioned you are not allowed to change the copied reference in the calling function. But the problem is with the array when you pass an array of String/Object. Let us see.\r\n```java\r\nString names[]={&quot;Mehrose&quot;,&quot;Michael&quot;};\r\n\r\nchangeContent(String[] names){\r\n  names[0]=&quot;Rose&quot;;\r\n  names[1]=&quot;Janet&quot;\r\n\r\n}\r\n\r\nSystem.out.println(Arrays.toString(names)); //displays [Rose,Janet]\r\n```\r\nAs we said that we can&#39;t change the copied reference in the function call and we also have seen in the case of a single String object. The reason is names[] variable referencing to let&#39;s say 200 and names[0] referencing to 205 and so on. You see we didn&#39;t change the names[] reference it still points to the old same reference still after the function call but now names[0] and names[1] reference has been changed. We Still stand on our definition that we can&#39;t change the reference variable&#39;s reference so we didn&#39;t.\r\n\r\nThe same thing happens when you pass a Student object to a method and you are still able to change the Student name or other attributes, the point is we are not changing the actual Student object rather we are changing the contents of it\r\n\r\nYou can&#39;t do this\r\n```java\r\nStudent student1= new Student(&quot;Mehrose&quot;);\r\n\r\nchangeContent(Student Obj){\r\n obj= new Student(&quot;Michael&quot;) //invalid\r\n obj.setName(&quot;Michael&quot;)  //valid\r\n\r\n}\r\n```","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I think this simple explanation might help you understand as I wanted to understand this same thing when I was struggling through this.</p>\n\n<p>When you pass a primitive data to a function call it's content is being copied to the function's argument and when you pass an object it's reference is being copied to the function's argument. Speaking of object, you can't change the copied reference-<em>the argument variable is referencing to</em> in the calling function.</p>\n\n<p>Consider this simple example, String is an object in java and when you change the content of a string the reference variable will now point to some new reference as String objects are immutable in java.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String name=\"Mehrose\";  // name referencing to 100\n\nChangeContenet(String name){\n name=\"Michael\"; // refernce has changed to 1001\n\n} \nSystem.out.print(name);  //displays Mehrose\n</code></pre>\n\n<p>Fairly simple because as I mentioned you are not allowed to change the copied reference in the calling function. But the problem is with the array when you pass an array of String/Object. Let us see.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String names[]={\"Mehrose\",\"Michael\"};\n\nchangeContent(String[] names){\n  names[0]=\"Rose\";\n  names[1]=\"Janet\"\n\n}\n\nSystem.out.println(Arrays.toString(names)); //displays [Rose,Janet]\n</code></pre>\n\n<p>As we said that we can't change the copied reference in the function call and we also have seen in the case of a single String object. The reason is names[] variable referencing to let's say 200 and names[0] referencing to 205 and so on. You see we didn't change the names[] reference it still points to the old same reference still after the function call but now names[0] and names[1] reference has been changed. We Still stand on our definition that we can't change the reference variable's reference so we didn't.</p>\n\n<p>The same thing happens when you pass a Student object to a method and you are still able to change the Student name or other attributes, the point is we are not changing the actual Student object rather we are changing the contents of it</p>\n\n<p>You can't do this</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Student student1= new Student(\"Mehrose\");\n\nchangeContent(Student Obj){\n obj= new Student(\"Michael\") //invalid\n obj.setName(\"Michael\")  //valid\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10719390,"reputation":2300,"user_id":7888956,"display_name":"Chathuran D"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1578034062,"creation_date":1572924323,"answer_id":58704042,"question_id":40480,"body_markdown":"A: Java does manipulate objects by reference, and all object variables are references. However, Java doesn&#39;t pass method arguments by reference; it passes them by value.\r\n\r\nTake the badSwap() method for example:\r\n\r\n    public void badSwap(int var1, int var2)\r\n    {\r\n      int temp = var1;\r\n      var1 = var2;\r\n      var2 = temp;\r\n    }\r\n\r\nWhen badSwap() returns, the variables passed as arguments will still hold their original values. The method will also fail if we change the arguments type from int to Object, since Java passes object references by value as well. Now, here is where it gets tricky:\r\n\r\n    public void tricky(Point arg1, Point arg2)\r\n    {\r\n      arg1.x = 100;\r\n      arg1.y = 100;\r\n      Point temp = arg1;\r\n      arg1 = arg2;\r\n      arg2 = temp;\r\n    }\r\n    public static void main(String [] args)\r\n    {\r\n      Point pnt1 = new Point(0,0);\r\n      Point pnt2 = new Point(0,0);\r\n      System.out.println(&quot;X: &quot; + pnt1.x + &quot; Y: &quot; +pnt1.y); \r\n      System.out.println(&quot;X: &quot; + pnt2.x + &quot; Y: &quot; +pnt2.y);\r\n      System.out.println(&quot; &quot;);\r\n      tricky(pnt1,pnt2);\r\n      System.out.println(&quot;X: &quot; + pnt1.x + &quot; Y:&quot; + pnt1.y); \r\n      System.out.println(&quot;X: &quot; + pnt2.x + &quot; Y: &quot; +pnt2.y);  \r\n    }\r\n\r\nIf we execute this main() method, we see the following output:\r\n\r\n    X: 0 Y: 0\r\n    X: 0 Y: 0\r\n    X: 100 Y: 100\r\n    X: 0 Y: 0\r\n\r\nThe method successfully alters the value of pnt1, even though it is passed by value; however, a swap of pnt1 and pnt2 fails! This is the major source of confusion. In the main() method, pnt1 and pnt2 are nothing more than object references. When you pass pnt1 and pnt2 to the tricky() method, Java passes the references by value just like any other parameter. This means the references passed to the method are actually copies of the original references. Figure 1 below shows two references pointing to the same object after Java passes an object to a method.\r\n\r\n[![enter image description here][1]][1]  \r\nFigure 1. After being passed to a method, an object will have at least two references\r\n\r\nJava copies and passes the reference by value, not the object. Thus, method manipulation will alter the objects, since the references point to the original objects. But since the references are copies, swaps will fail.The method references swap, but not the original references. Unfortunately, after a method call, you are left with only the unswapped original references. For a swap to succeed outside of the method call, we need to swap the original references, not the copies.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wLEj7.png","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>A: Java does manipulate objects by reference, and all object variables are references. However, Java doesn't pass method arguments by reference; it passes them by value.</p>\n\n<p>Take the badSwap() method for example:</p>\n\n<pre><code>public void badSwap(int var1, int var2)\n{\n  int temp = var1;\n  var1 = var2;\n  var2 = temp;\n}\n</code></pre>\n\n<p>When badSwap() returns, the variables passed as arguments will still hold their original values. The method will also fail if we change the arguments type from int to Object, since Java passes object references by value as well. Now, here is where it gets tricky:</p>\n\n<pre><code>public void tricky(Point arg1, Point arg2)\n{\n  arg1.x = 100;\n  arg1.y = 100;\n  Point temp = arg1;\n  arg1 = arg2;\n  arg2 = temp;\n}\npublic static void main(String [] args)\n{\n  Point pnt1 = new Point(0,0);\n  Point pnt2 = new Point(0,0);\n  System.out.println(\"X: \" + pnt1.x + \" Y: \" +pnt1.y); \n  System.out.println(\"X: \" + pnt2.x + \" Y: \" +pnt2.y);\n  System.out.println(\" \");\n  tricky(pnt1,pnt2);\n  System.out.println(\"X: \" + pnt1.x + \" Y:\" + pnt1.y); \n  System.out.println(\"X: \" + pnt2.x + \" Y: \" +pnt2.y);  \n}\n</code></pre>\n\n<p>If we execute this main() method, we see the following output:</p>\n\n<pre><code>X: 0 Y: 0\nX: 0 Y: 0\nX: 100 Y: 100\nX: 0 Y: 0\n</code></pre>\n\n<p>The method successfully alters the value of pnt1, even though it is passed by value; however, a swap of pnt1 and pnt2 fails! This is the major source of confusion. In the main() method, pnt1 and pnt2 are nothing more than object references. When you pass pnt1 and pnt2 to the tricky() method, Java passes the references by value just like any other parameter. This means the references passed to the method are actually copies of the original references. Figure 1 below shows two references pointing to the same object after Java passes an object to a method.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wLEj7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wLEj7.png\" alt=\"enter image description here\"></a><br>\nFigure 1. After being passed to a method, an object will have at least two references</p>\n\n<p>Java copies and passes the reference by value, not the object. Thus, method manipulation will alter the objects, since the references point to the original objects. But since the references are copies, swaps will fail.The method references swap, but not the original references. Unfortunately, after a method call, you are left with only the unswapped original references. For a swap to succeed outside of the method call, we need to swap the original references, not the copies.</p>\n"},{"comments":[{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":6,"creation_date":1582237478,"post_id":60141523,"comment_id":106718686,"body_markdown":"Object references (i.e. pointers) are passed by value and primitives are also passed by value. Meaning everything is always passed by value. I think the operative term here is Pass-by-value.","body":"Object references (i.e. pointers) are passed by value and primitives are also passed by value. Meaning everything is always passed by value. I think the operative term here is Pass-by-value."},{"owner":{"account_id":7183993,"reputation":407,"user_id":5486740,"accept_rate":80,"display_name":"Mr.Robot"},"score":3,"creation_date":1585844885,"post_id":60141523,"comment_id":107913149,"body_markdown":"I think Java Language Architect, who is leading Project Amber and Project Valhalla is a credible source to claim that it is not pass by value.","body":"I think Java Language Architect, who is leading Project Amber and Project Valhalla is a credible source to claim that it is not pass by value."},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":0,"creation_date":1585851478,"post_id":60141523,"comment_id":107916806,"body_markdown":"First, I don&#39;t think he&#39;s more credible than James Gosling, the creator of Java who clearly state in his book, &quot;THE Java Programming Language&quot;, that Java is indeed Pass-by-value (Chapter 2, section 2.6.5).  Second, although Goetz says it&#39;s neither PBV or PBR, he then goes on to say that references are PASSED BY VALUE, thereby contradicting himself. If you know Java, you also know that primitives are also PASSED BY VALUE. Since everything in Java is passed by value, Java is a PASS BY VALUE language.","body":"First, I don&#39;t think he&#39;s more credible than James Gosling, the creator of Java who clearly state in his book, &quot;THE Java Programming Language&quot;, that Java is indeed Pass-by-value (Chapter 2, section 2.6.5).  Second, although Goetz says it&#39;s neither PBV or PBR, he then goes on to say that references are PASSED BY VALUE, thereby contradicting himself. If you know Java, you also know that primitives are also PASSED BY VALUE. Since everything in Java is passed by value, Java is a PASS BY VALUE language."},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":0,"creation_date":1585853392,"post_id":60141523,"comment_id":107917786,"body_markdown":"Other sources who are way more credible than Goetz are Aho, Lam, Sethi, and Ullman who are well known for their book &quot;Compilers: Principles, Techniques, and Tools&quot;, the standard college text book for compiler construction. The 2nd eddition section 1.6.6 of this book also states that Java is Pass-by-value.","body":"Other sources who are way more credible than Goetz are Aho, Lam, Sethi, and Ullman who are well known for their book &quot;Compilers: Principles, Techniques, and Tools&quot;, the standard college text book for compiler construction. The 2nd eddition section 1.6.6 of this book also states that Java is Pass-by-value."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1586086851,"post_id":60141523,"comment_id":107990767,"body_markdown":"And the most relevant reference of all is the Java Language Specification which states *&quot;The effect of this is to assign the argument values to corresponding freshly created parameter variables of the method&quot;*.  (15.12.4.5).  Note that it is avoiding the terminological confusion by not saying &quot;pass by ...&quot; at all. (FWIW, I disagree with the Goetz&#39;s characterization of &quot;pass by value&quot; and &quot;pass references by value&quot; as being semantically different.  And I agree that he is contradicting himself.)","body":"And the most relevant reference of all is the Java Language Specification which states <i>&quot;The effect of this is to assign the argument values to corresponding freshly created parameter variables of the method&quot;</i>.  (15.12.4.5).  Note that it is avoiding the terminological confusion by not saying &quot;pass by ...&quot; at all. (FWIW, I disagree with the Goetz&#39;s characterization of &quot;pass by value&quot; and &quot;pass references by value&quot; as being semantically different.  And I agree that he is contradicting himself.)"},{"owner":{"account_id":3000070,"reputation":2420,"user_id":2545722,"accept_rate":69,"display_name":"AFP_555"},"score":0,"creation_date":1605615088,"post_id":60141523,"comment_id":114699016,"body_markdown":"This is the only answer that made sense so far. The objects are not passed as pure values because they aren&#39;t copied like in the C++ pass-by-value way.","body":"This is the only answer that made sense so far. The objects are not passed as pure values because they aren&#39;t copied like in the C++ pass-by-value way."}],"tags":[],"owner":{"account_id":7183993,"reputation":407,"user_id":5486740,"accept_rate":80,"display_name":"Mr.Robot"},"comment_count":6,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1607379643,"creation_date":1581283803,"answer_id":60141523,"question_id":40480,"body_markdown":"I see that all answers contain the same: pass by value. However, a recent Brian Goetz update on project Valhalla actually answers it differently:\r\n&gt; Indeed, it is a common “gotcha” question about whether Java objects are passed by value or by reference, and **the answer is “neither”: object references are passed by value.**\r\n\r\nYou can read more here: [State of Valhalla. Section 2: Language Model][1]\r\n\r\n\r\n  [1]: http://cr.openjdk.java.net/~briangoetz/valhalla/sov/02-object-model.html\r\n\r\n**Edit:** Brian Goetz is Java Language Architect, leading such projects as Project Valhalla and Project Amber.\r\n\r\n**Edit-2020-12-08**: Updated [State of Valhalla](https://github.com/openjdk/valhalla-docs/blob/main/site/design-notes/state-of-valhalla/02-object-model.md)","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I see that all answers contain the same: pass by value. However, a recent Brian Goetz update on project Valhalla actually answers it differently:</p>\n<blockquote>\n<p>Indeed, it is a common “gotcha” question about whether Java objects are passed by value or by reference, and <strong>the answer is “neither”: object references are passed by value.</strong></p>\n</blockquote>\n<p>You can read more here: <a href=\"http://cr.openjdk.java.net/%7Ebriangoetz/valhalla/sov/02-object-model.html\" rel=\"noreferrer\">State of Valhalla. Section 2: Language Model</a></p>\n<p><strong>Edit:</strong> Brian Goetz is Java Language Architect, leading such projects as Project Valhalla and Project Amber.</p>\n<p><strong>Edit-2020-12-08</strong>: Updated <a href=\"https://github.com/openjdk/valhalla-docs/blob/main/site/design-notes/state-of-valhalla/02-object-model.md\" rel=\"noreferrer\">State of Valhalla</a></p>\n"},{"tags":[],"owner":{"account_id":241158,"reputation":9333,"user_id":511804,"accept_rate":56,"display_name":"Alexandr"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1608653158,"creation_date":1602296852,"answer_id":64289407,"question_id":40480,"body_markdown":"I&#39;d say it in another way:\r\n\r\nIn java references are passed (but not objects) and these references are passed-by-value  (the reference itself is copied and you have 2 references as a result and you have no control under the 1st reference in the method). \r\n\r\nJust saying: pass-by-value might be not clear enough for beginners. For instance in Python the same situation but there are articles, which describe that they call it `pass-by-reference`, only cause references are used.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I'd say it in another way:</p>\n<p>In java references are passed (but not objects) and these references are passed-by-value  (the reference itself is copied and you have 2 references as a result and you have no control under the 1st reference in the method).</p>\n<p>Just saying: pass-by-value might be not clear enough for beginners. For instance in Python the same situation but there are articles, which describe that they call it <code>pass-by-reference</code>, only cause references are used.</p>\n"},{"comments":[{"owner":{"account_id":11283083,"reputation":1312,"user_id":8439576,"display_name":"Mohith7548"},"score":0,"creation_date":1604399215,"post_id":64409378,"comment_id":114329702,"body_markdown":"Running this program should help anyone understand this concept. https://pastebin.com/VEc8NQcX","body":"Running this program should help anyone understand this concept. <a href=\"https://pastebin.com/VEc8NQcX\" rel=\"nofollow noreferrer\">pastebin.com/VEc8NQcX</a>"},{"owner":{"account_id":7108037,"reputation":373,"user_id":5437033,"display_name":"Chrispher"},"score":0,"creation_date":1605355076,"post_id":64409378,"comment_id":114627853,"body_markdown":"In this example you&#39;ve not copied the Student object, so I think saying &quot;passing a copy of the value also changes the real value of the object&quot; is misleading.\n\nThe thing that you are copying, and passing-by-value, is the *reference* to the object. The object stays living on the heap, and there&#39;s just one of them. That&#39;s why when you use the new reference to mutate the object, you&#39;re mutating it for everyone else that has a reference to the object. There&#39;s only one object.\n\nWhen the argument of the function is a primitive type, not a reference to an object, it is also copied.","body":"In this example you&#39;ve not copied the Student object, so I think saying &quot;passing a copy of the value also changes the real value of the object&quot; is misleading.  The thing that you are copying, and passing-by-value, is the <i>reference</i> to the object. The object stays living on the heap, and there&#39;s just one of them. That&#39;s why when you use the new reference to mutate the object, you&#39;re mutating it for everyone else that has a reference to the object. There&#39;s only one object.  When the argument of the function is a primitive type, not a reference to an object, it is also copied."}],"tags":[],"owner":{"account_id":8808403,"reputation":290,"user_id":6582191,"display_name":"Duleepa Wickramasinghe"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1603002530,"creation_date":1602990961,"answer_id":64409378,"question_id":40480,"body_markdown":"**Java always passes parameters by value.** \r\n&lt;br&gt;All object references in Java are passed by value. This means that a copy of the value will be passed to a method. But the trick is that passing a copy of the value also changes the real value of the object.\r\n\r\nPlease refer to the below example,\r\n\r\n    public class ObjectReferenceExample {\r\n    \r\n    \tpublic static void main(String... doYourBest) {\r\n        \t    Student student = new Student();\r\n        \t    transformIntoHomer(student);\r\n        \t    System.out.println(student.name);\r\n    \t}\r\n    \r\n    \tstatic void transformIntoDuleepa(Student student) {\r\n        \t    student.name = &quot;Duleepa&quot;;\r\n    \t}\r\n    }\r\n    class Student {\r\n    \tString name;\r\n    }\r\n\r\nIn this case, it will be Duleepa! \r\n&lt;br&gt;The reason is that Java object variables are simply references that point to real objects in the memory heap.\r\nTherefore, even though Java passes parameters to methods by value, if the variable points to an object reference, the real object will also be changed.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p><strong>Java always passes parameters by value.</strong>\n<br>All object references in Java are passed by value. This means that a copy of the value will be passed to a method. But the trick is that passing a copy of the value also changes the real value of the object.</p>\n<p>Please refer to the below example,</p>\n<pre><code>public class ObjectReferenceExample {\n\n    public static void main(String... doYourBest) {\n            Student student = new Student();\n            transformIntoHomer(student);\n            System.out.println(student.name);\n    }\n\n    static void transformIntoDuleepa(Student student) {\n            student.name = &quot;Duleepa&quot;;\n    }\n}\nclass Student {\n    String name;\n}\n</code></pre>\n<p>In this case, it will be Duleepa!\n<br>The reason is that Java object variables are simply references that point to real objects in the memory heap.\nTherefore, even though Java passes parameters to methods by value, if the variable points to an object reference, the real object will also be changed.</p>\n"},{"comments":[{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":1,"creation_date":1634660728,"post_id":64946506,"comment_id":123083185,"body_markdown":"&quot;Since we said the value of t was 0x100234, both t and f will have the same value and hence they will point to the same object.&quot; - That doesn&#39;t sound right. Creating a copy of an object should not mean the copy and the original both point to the same object. This smells like pass-by-reference, or minimally, pass-by-object-reference","body":"&quot;Since we said the value of t was 0x100234, both t and f will have the same value and hence they will point to the same object.&quot; - That doesn&#39;t sound right. Creating a copy of an object should not mean the copy and the original both point to the same object. This smells like pass-by-reference, or minimally, pass-by-object-reference"}],"tags":[],"owner":{"account_id":16488689,"reputation":481,"user_id":11913248,"display_name":"Pallav Khare"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1681585326,"creation_date":1605982662,"answer_id":64946506,"question_id":40480,"body_markdown":"Java is always pass by value, not pass by reference\r\n\r\nFirst of all, we need to understand what pass by value and pass by reference are.\r\n\r\n**Pass by value** means that you are making a copy in memory of the actual parameter&#39;s value that is passed in. This is a copy of the contents of the actual parameter.\r\n\r\n**Pass by reference** (also called pass by address) means that a copy of the address of the actual parameter is stored.\r\n\r\nSometimes Java can give the illusion of pass by reference. Let&#39;s see how it works by using the example below:\r\n\r\n    public class PassByValue {\r\n        public static void main(String[] args) {\r\n            Test t = new Test();\r\n            t.name = &quot;initialvalue&quot;;\r\n            new PassByValue().changeValue(t);\r\n            System.out.println(t.name);\r\n        }\r\n        \r\n        public void changeValue(Test f) {\r\n            f.name = &quot;changevalue&quot;;\r\n        }\r\n    }\r\n    \r\n    class Test {\r\n        String name;\r\n    }\r\n\r\nThe output of this program is:\r\n\r\n```\r\nchangevalue\r\n```\r\nLet&#39;s understand step by step:\r\n\r\n\r\n    Test t = new Test();\r\n\r\nAs we all know it will create an object in the heap and return the reference value back to t. For example, suppose the value of t is 0x100234 (we don&#39;t know the actual JVM internal value, this is just an example) .\r\n\r\nfirst illustration\r\n\r\n    new PassByValue().changeValue(t);\r\n\r\nWhen passing reference t to the function it will not directly pass the actual reference value of object test, but it will create a copy of t and then pass it to the function. Since it is passing by value, it passes a copy of the variable rather than the actual reference of it. Since we said the value of t was 0x100234, both t and f will have the same value and hence they will point to the same object.\r\n\r\nsecond illustration\r\n\r\nIf you change anything in the function using reference f it will modify the existing contents of the object. That is why we got the output changevalue, which is updated in the function.\r\n\r\nTo understand this more clearly, consider the following example:\r\n\r\n    public class PassByValue {\r\n        public static void main(String[] args) {\r\n            Test t = new Test();\r\n            t.name = &quot;initialvalue&quot;;\r\n            new PassByValue().changeRefence(t);\r\n            System.out.println(t.name);\r\n        }\r\n        \r\n        public void changeRefence(Test f) {\r\n            f = null;\r\n        }\r\n    }\r\n    \r\n    class Test {\r\n        String name;\r\n    }\r\n\r\nWill this throw a NullPointerException? No, because it only passes a copy of the reference. In the case of passing by reference, it could have thrown a NullPointerException, as seen below:\r\n\r\nthird illustration\r\n\r\nHopefully this will help.\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java is always pass by value, not pass by reference</p>\n<p>First of all, we need to understand what pass by value and pass by reference are.</p>\n<p><strong>Pass by value</strong> means that you are making a copy in memory of the actual parameter's value that is passed in. This is a copy of the contents of the actual parameter.</p>\n<p><strong>Pass by reference</strong> (also called pass by address) means that a copy of the address of the actual parameter is stored.</p>\n<p>Sometimes Java can give the illusion of pass by reference. Let's see how it works by using the example below:</p>\n<pre><code>public class PassByValue {\n    public static void main(String[] args) {\n        Test t = new Test();\n        t.name = &quot;initialvalue&quot;;\n        new PassByValue().changeValue(t);\n        System.out.println(t.name);\n    }\n    \n    public void changeValue(Test f) {\n        f.name = &quot;changevalue&quot;;\n    }\n}\n\nclass Test {\n    String name;\n}\n</code></pre>\n<p>The output of this program is:</p>\n<pre><code>changevalue\n</code></pre>\n<p>Let's understand step by step:</p>\n<pre><code>Test t = new Test();\n</code></pre>\n<p>As we all know it will create an object in the heap and return the reference value back to t. For example, suppose the value of t is 0x100234 (we don't know the actual JVM internal value, this is just an example) .</p>\n<p>first illustration</p>\n<pre><code>new PassByValue().changeValue(t);\n</code></pre>\n<p>When passing reference t to the function it will not directly pass the actual reference value of object test, but it will create a copy of t and then pass it to the function. Since it is passing by value, it passes a copy of the variable rather than the actual reference of it. Since we said the value of t was 0x100234, both t and f will have the same value and hence they will point to the same object.</p>\n<p>second illustration</p>\n<p>If you change anything in the function using reference f it will modify the existing contents of the object. That is why we got the output changevalue, which is updated in the function.</p>\n<p>To understand this more clearly, consider the following example:</p>\n<pre><code>public class PassByValue {\n    public static void main(String[] args) {\n        Test t = new Test();\n        t.name = &quot;initialvalue&quot;;\n        new PassByValue().changeRefence(t);\n        System.out.println(t.name);\n    }\n    \n    public void changeRefence(Test f) {\n        f = null;\n    }\n}\n\nclass Test {\n    String name;\n}\n</code></pre>\n<p>Will this throw a NullPointerException? No, because it only passes a copy of the reference. In the case of passing by reference, it could have thrown a NullPointerException, as seen below:</p>\n<p>third illustration</p>\n<p>Hopefully this will help.</p>\n"},{"comments":[{"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"score":1,"creation_date":1617061055,"post_id":65460603,"comment_id":118191909,"body_markdown":"In both languages, &quot;pass by value&quot; means passing the value of the object if it&#39;s an object. In no case does it mean passing the address of the value. There is no difference in terminology. There is no case where we call something pass by value and changing the value in the function called changes the value in the caller. If you call a function like this `foo(bar)` in java, the value of `bar` never changes -- if `bar` is a reference to an object, its value is the identity of the object it references and no matter what the function does, it still references the same object in the caller.","body":"In both languages, &quot;pass by value&quot; means passing the value of the object if it&#39;s an object. In no case does it mean passing the address of the value. There is no difference in terminology. There is no case where we call something pass by value and changing the value in the function called changes the value in the caller. If you call a function like this <code>foo(bar)</code> in java, the value of <code>bar</code> never changes -- if <code>bar</code> is a reference to an object, its value is the identity of the object it references and no matter what the function does, it still references the same object in the caller."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1619017706,"post_id":65460603,"comment_id":118779057,"body_markdown":"I agree with David Schwartz: there is actually no difference in terminology. The big difference between Java and C++ is that in Java a &quot;value&quot; can **never** be a whole object. It&#39;s always either a reference or a primitive value. You simply can&#39;t pass a whole object in Java at all.","body":"I agree with David Schwartz: there is actually no difference in terminology. The big difference between Java and C++ is that in Java a &quot;value&quot; can <b>never</b> be a whole object. It&#39;s always either a reference or a primitive value. You simply can&#39;t pass a whole object in Java at all."},{"owner":{"account_id":1630934,"reputation":3623,"user_id":1505487,"accept_rate":40,"display_name":"Solubris"},"score":0,"creation_date":1696488022,"post_id":65460603,"comment_id":136159728,"body_markdown":"&quot;pass by value&quot; is not meant to mean different things in different languages.  &quot;pass by value&quot; is a fact, and can be asked of a language or a method etc.","body":"&quot;pass by value&quot; is not meant to mean different things in different languages.  &quot;pass by value&quot; is a fact, and can be asked of a language or a method etc."}],"tags":[],"owner":{"account_id":12239426,"reputation":1851,"user_id":8932910,"display_name":"jack"},"comment_count":3,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1609016307,"creation_date":1609015769,"answer_id":65460603,"question_id":40480,"body_markdown":"Not to repeat, but one point to those who might still be confused after reading many answers:\r\n\r\n- `pass by value` in Java is **NOT EQUAL** to `pass by value` in C++, though it sounds like that, which is probably why there&#39;s confusion\r\n\r\nBreaking it down:\r\n- `pass by value` in C++ means passing the value of the object (if object), literarily the copy of the object\r\n- `pass by value` in Java means passing the address value of the object (if object), not really the &quot;value&quot; (a copy) of the object like C++\r\n- By `pass by value` in Java, operating on an object (e.g. `myObj.setName(&quot;new&quot;)`) inside a function **has effects** on the object outside the function; by `pass by value` in C++, it has **NO** effects on the one outside.\r\n- However, by `pass by reference` in C++, operating on an object in a function **DOES** have effects on the one outside! Similar (_just similar, not the same_) to `pass by value` in Java, no?.. and people always repeat &quot;_there&#39;s no pass by reference in Java_&quot;, =&gt; **BOOM, confusion starts...**\r\n\r\nSo, friends, all is just about the **difference** of terminology definition (across languages), you just need to know how it works and that&#39;s it (_though sometimes a bit confusing how it&#39;s called I admit_)!","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Not to repeat, but one point to those who might still be confused after reading many answers:</p>\n<ul>\n<li><code>pass by value</code> in Java is <strong>NOT EQUAL</strong> to <code>pass by value</code> in C++, though it sounds like that, which is probably why there's confusion</li>\n</ul>\n<p>Breaking it down:</p>\n<ul>\n<li><code>pass by value</code> in C++ means passing the value of the object (if object), literarily the copy of the object</li>\n<li><code>pass by value</code> in Java means passing the address value of the object (if object), not really the &quot;value&quot; (a copy) of the object like C++</li>\n<li>By <code>pass by value</code> in Java, operating on an object (e.g. <code>myObj.setName(&quot;new&quot;)</code>) inside a function <strong>has effects</strong> on the object outside the function; by <code>pass by value</code> in C++, it has <strong>NO</strong> effects on the one outside.</li>\n<li>However, by <code>pass by reference</code> in C++, operating on an object in a function <strong>DOES</strong> have effects on the one outside! Similar (<em>just similar, not the same</em>) to <code>pass by value</code> in Java, no?.. and people always repeat &quot;<em>there's no pass by reference in Java</em>&quot;, =&gt; <strong>BOOM, confusion starts...</strong></li>\n</ul>\n<p>So, friends, all is just about the <strong>difference</strong> of terminology definition (across languages), you just need to know how it works and that's it (<em>though sometimes a bit confusing how it's called I admit</em>)!</p>\n"},{"comments":[{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1638817700,"post_id":66506089,"comment_id":124183903,"body_markdown":"The object can be modified because it is passed by it&#39;s reference ;)","body":"The object can be modified because it is passed by it&#39;s reference ;)"}],"tags":[],"owner":{"account_id":6458850,"reputation":115,"user_id":5003351,"display_name":"&#246;mer.bozkurt"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1615036933,"creation_date":1615036933,"answer_id":66506089,"question_id":40480,"body_markdown":"If you want it to put into a single sentence to understand and remember easily, simplest answer:\r\n\r\nJava is always **pass the value with a new reference**\r\n\r\n(So you can modify the original object but can not access the original reference) ","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>If you want it to put into a single sentence to understand and remember easily, simplest answer:</p>\n<p>Java is always <strong>pass the value with a new reference</strong></p>\n<p>(So you can modify the original object but can not access the original reference)</p>\n"},{"tags":[],"owner":{"account_id":5095326,"reputation":262,"user_id":4086871,"display_name":"charles"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1615903798,"creation_date":1615170277,"answer_id":66523582,"question_id":40480,"body_markdown":"Here a more precise definition:\r\n\r\n - **Pass/call by value:** Formal parameter is like a local variable in\r\n   scope of function, it evaluates to actual parameter at the moment of\r\n   function call.\r\n - **Pass/call by reference:** Formal parameter is just a alias for the real\r\n   value, any change of it in the scope of function can have side\r\n   effects outside in any other part of code.\r\n\r\nSo in C/C++ you can create a function that swaps two values passed using the references:\r\n\r\n    void swap(int&amp; a, int&amp; b) \r\n    {\r\n        int tmp = a; \r\n        a = b; \r\n        b = tmp; \r\n    }\r\n\r\nYou can see it has a unique reference to a and b, so we do not have a copy, tmp just hold unique references.\r\n\r\nThe same function in java does not have side effects, the parameter passing is just like the code above without references.\r\n\r\nAlthough java work with pointers/references, the parameters are not unique pointers, in each attribution, they are copied instead just assigned like C/C++","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Here a more precise definition:</p>\n<ul>\n<li><strong>Pass/call by value:</strong> Formal parameter is like a local variable in\nscope of function, it evaluates to actual parameter at the moment of\nfunction call.</li>\n<li><strong>Pass/call by reference:</strong> Formal parameter is just a alias for the real\nvalue, any change of it in the scope of function can have side\neffects outside in any other part of code.</li>\n</ul>\n<p>So in C/C++ you can create a function that swaps two values passed using the references:</p>\n<pre><code>void swap(int&amp; a, int&amp; b) \n{\n    int tmp = a; \n    a = b; \n    b = tmp; \n}\n</code></pre>\n<p>You can see it has a unique reference to a and b, so we do not have a copy, tmp just hold unique references.</p>\n<p>The same function in java does not have side effects, the parameter passing is just like the code above without references.</p>\n<p>Although java work with pointers/references, the parameters are not unique pointers, in each attribution, they are copied instead just assigned like C/C++</p>\n"},{"comments":[{"owner":{"account_id":3454738,"reputation":5356,"user_id":2893496,"accept_rate":85,"display_name":"v010dya"},"score":0,"creation_date":1619013086,"post_id":66649532,"comment_id":118776719,"body_markdown":"One of the most complete answers is bumped to the bottom. Your #3 describes the situation in Java the best.","body":"One of the most complete answers is bumped to the bottom. Your #3 describes the situation in Java the best."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1639140816,"post_id":66649532,"comment_id":124278741,"body_markdown":"Not relevant for the semantics: Guess, all Java implementations use two levels of indirection, i.e. a reference is a kind of handle, not yet the object address, which may change by garbage collection.","body":"Not relevant for the semantics: Guess, all Java implementations use two levels of indirection, i.e. a reference is a kind of handle, not yet the object address, which may change by garbage collection."}],"tags":[],"owner":{"account_id":17244505,"reputation":235,"user_id":12486085,"display_name":"Alex de Kruijff"},"comment_count":2,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1615875128,"creation_date":1615872298,"answer_id":66649532,"question_id":40480,"body_markdown":"There are only two versions:\r\n- You can pass the value i.e. (4,5)\r\n- You can pass an address i.e. 0xF43A\r\n\r\nJava passes primivates as values and objects as addresses. Those who say, &quot;address are values too&quot;, do not make a distinction between the two. Those who focus on the effect of the swap functions focus on what happens after the passing is done.\r\n\r\nIn C++ you can do the following:\r\n\r\n    Point p = Point(4,5);\r\n\r\nThis reserves 8 bytes on the stack and stores (4,5) in it.\r\n\r\n    Point *x = &amp;p;\r\n\r\nThis reserves 4 bytes on the stack and stores 0xF43A in it.\r\n\r\n    Point &amp;y = p;\r\n\r\nThis reserves 4 bytes on the stack and stores 0xF43A in it.\r\n\r\n1. I think everyone will agree that a call to f(p) is a pass-by-value if the definition of f is f(Point p). In this case an additional 8 bytes being reserved and (4,5) being copied into it. When f changes p the the the original is guarantieed to be unchanged when f returns.\r\n\r\n2. I think that everyone will agree that a call to f(p) is a pass-by-reference if the definition of f is f(Point &amp;p). In this case an additional 4 bytes being reserved and 0xF43A being copied into it. When f changes p the the original is guarantieed to be changed when f returns.\r\n\r\n3. A call to f(&amp;p) is also pass-by-reference if the definition of f is f(Point *p). In this case an additional 4 bytes being reserved and 0xF43A being copied into it. When f changes *p the the original is guarantieed to be changed when f returns.\r\n\r\n4. A call to f(x) is also pass-by-reference if the definition of f is f(Point *p). In this case an additional 4 bytes being reserved and 0xF43A being copied into it. When f changes *p the the original is guarantieed to be changed when f returns.\r\n\r\n5. A call to f(y) is also pass-by-reference if the definition of f is f(Point &amp;p). In this case an additional 4 bytes being reserved and 0xF43A being copied into it. When f changes p the the original is guarantieed to be changed when f returns.\r\n\r\nSure what happens after the passing is done differs, but that is only a language construct. In the case of pointer you have to use -&gt; to access the members and in the case of references you have to use .. If you want to swap the values of the original then you can do tmp=a; a=b; b=tmp; in the case of references and tmp=*a; *b=tmp; *a=tmp for pointers. And in Java you would have do: tmp.set(a); a.set(b); b.set(tmp). Focussing on the assignment statement statement is silly. You can do the exact same thing in Java if you write a little bit of code.\r\n\r\nSo Java passes primivates by values and objects by references. And Java copy values to achieve that, but so does C++.\r\n\r\nFor completeness:\r\n\r\n    Point p = new Point(4,5);\r\n\r\nThis reserves 4 bytes on the stack and stores 0xF43A in it and reserves 8 bytes on the heap and stores (4,5) in it.\r\n\r\nIf you want to swap the memory locations like so\r\n\r\n    void swap(int&amp; a, int&amp; b) {\r\n        int *tmp = &amp;a;\r\n        &amp;a = &amp;b;\r\n        &amp;b = tmp;\r\n    }\r\n\r\nThen you will find that you run into the limitations of your hardware.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>There are only two versions:</p>\n<ul>\n<li>You can pass the value i.e. (4,5)</li>\n<li>You can pass an address i.e. 0xF43A</li>\n</ul>\n<p>Java passes primivates as values and objects as addresses. Those who say, &quot;address are values too&quot;, do not make a distinction between the two. Those who focus on the effect of the swap functions focus on what happens after the passing is done.</p>\n<p>In C++ you can do the following:</p>\n<pre><code>Point p = Point(4,5);\n</code></pre>\n<p>This reserves 8 bytes on the stack and stores (4,5) in it.</p>\n<pre><code>Point *x = &amp;p;\n</code></pre>\n<p>This reserves 4 bytes on the stack and stores 0xF43A in it.</p>\n<pre><code>Point &amp;y = p;\n</code></pre>\n<p>This reserves 4 bytes on the stack and stores 0xF43A in it.</p>\n<ol>\n<li><p>I think everyone will agree that a call to f(p) is a pass-by-value if the definition of f is f(Point p). In this case an additional 8 bytes being reserved and (4,5) being copied into it. When f changes p the the the original is guarantieed to be unchanged when f returns.</p>\n</li>\n<li><p>I think that everyone will agree that a call to f(p) is a pass-by-reference if the definition of f is f(Point &amp;p). In this case an additional 4 bytes being reserved and 0xF43A being copied into it. When f changes p the the original is guarantieed to be changed when f returns.</p>\n</li>\n<li><p>A call to f(&amp;p) is also pass-by-reference if the definition of f is f(Point *p). In this case an additional 4 bytes being reserved and 0xF43A being copied into it. When f changes *p the the original is guarantieed to be changed when f returns.</p>\n</li>\n<li><p>A call to f(x) is also pass-by-reference if the definition of f is f(Point *p). In this case an additional 4 bytes being reserved and 0xF43A being copied into it. When f changes *p the the original is guarantieed to be changed when f returns.</p>\n</li>\n<li><p>A call to f(y) is also pass-by-reference if the definition of f is f(Point &amp;p). In this case an additional 4 bytes being reserved and 0xF43A being copied into it. When f changes p the the original is guarantieed to be changed when f returns.</p>\n</li>\n</ol>\n<p>Sure what happens after the passing is done differs, but that is only a language construct. In the case of pointer you have to use -&gt; to access the members and in the case of references you have to use .. If you want to swap the values of the original then you can do tmp=a; a=b; b=tmp; in the case of references and tmp=*a; *b=tmp; *a=tmp for pointers. And in Java you would have do: tmp.set(a); a.set(b); b.set(tmp). Focussing on the assignment statement statement is silly. You can do the exact same thing in Java if you write a little bit of code.</p>\n<p>So Java passes primivates by values and objects by references. And Java copy values to achieve that, but so does C++.</p>\n<p>For completeness:</p>\n<pre><code>Point p = new Point(4,5);\n</code></pre>\n<p>This reserves 4 bytes on the stack and stores 0xF43A in it and reserves 8 bytes on the heap and stores (4,5) in it.</p>\n<p>If you want to swap the memory locations like so</p>\n<pre><code>void swap(int&amp; a, int&amp; b) {\n    int *tmp = &amp;a;\n    &amp;a = &amp;b;\n    &amp;b = tmp;\n}\n</code></pre>\n<p>Then you will find that you run into the limitations of your hardware.</p>\n"},{"comments":[{"owner":{"account_id":1423961,"reputation":5726,"user_id":1347968,"accept_rate":50,"display_name":"siegi"},"score":3,"creation_date":1619240340,"post_id":67232841,"comment_id":118850803,"body_markdown":"Note: The _safely_ in &quot;now we can edit internalObject safely&quot; depends on the implementation of the `clone()` method (i.e. &quot;deep&quot; or &quot;shallow&quot;) and how far down the object tree your edits have an impact. For this simple example it is correct though.","body":"Note: The <i>safely</i> in &quot;now we can edit internalObject safely&quot; depends on the implementation of the <code>clone()</code> method (i.e. &quot;deep&quot; or &quot;shallow&quot;) and how far down the object tree your edits have an impact. For this simple example it is correct though."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":1,"creation_date":1641372794,"post_id":67232841,"comment_id":124785094,"body_markdown":"Guess, you are the first human being, who ever managed to &quot;pass an object by value&quot; in Java, tend to call you the &quot;Neil Armstrong of Java&quot;, henceforth  ;)","body":"Guess, you are the first human being, who ever managed to &quot;pass an object by value&quot; in Java, tend to call you the &quot;Neil Armstrong of Java&quot;, henceforth  ;)"}],"tags":[],"owner":{"account_id":3454738,"reputation":5356,"user_id":2893496,"accept_rate":85,"display_name":"v010dya"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1619191948,"creation_date":1619191948,"answer_id":67232841,"question_id":40480,"body_markdown":"Every single answer here is tying to take pass pointer by reference from other languages and show how it is impossible to do in Java. For whatever reason nobody is attempting to show how to implement pass-object-by-value from other languages.\r\n\r\nThis code shows how something like this can be done:\r\n\r\n    public class Test\r\n    {\r\n    \tprivate static void needValue(SomeObject so) throws CloneNotSupportedException\r\n    \t{\r\n    \t\tSomeObject internalObject = so.clone();\r\n    \t\tso=null;\r\n    \t\t\r\n    \t\t// now we can edit internalObject safely.\r\n    \t\tinternalObject.set(999);\r\n    \t}\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tSomeObject o = new SomeObject(5);\r\n    \t\tSystem.out.println(o);\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tneedValue(o);\r\n    \t\t}\r\n    \t\tcatch(CloneNotSupportedException e)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Apparently we cannot clone this&quot;);\r\n    \t\t}\r\n    \t\tSystem.out.println(o);\r\n    \t}\r\n    }\r\n    \r\n    public class SomeObject implements Cloneable\r\n    {\r\n    \tprivate int val;\r\n    \tpublic SomeObject(int val)\r\n    \t{\r\n    \t\tthis.val = val;\r\n    \t}\r\n    \tpublic void set(int val)\r\n    \t{\r\n    \t\tthis.val = val;\r\n    \t}\r\n    \tpublic SomeObject clone()\r\n    \t{\r\n    \t\treturn new SomeObject(val);\r\n    \t}\r\n    \tpublic String toString()\r\n    \t{\r\n    \t\treturn Integer.toString(val);\r\n    \t}\r\n    }\r\n\r\nHere we have a function `needValue` and what it does is right away create a clone of the object, which needs be implemented in the class of the object itself and the class needs to be marked as `Cloneable`. It is not essential to set `so` to `null` after that, but i have done so here to show that we are not going to be using that reference after that.\r\n\r\nIt may well be that Java does not have pass-by-reference semantics, but to call the language &quot;pass-by-value&quot; is along the lines of wishful thinking.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Every single answer here is tying to take pass pointer by reference from other languages and show how it is impossible to do in Java. For whatever reason nobody is attempting to show how to implement pass-object-by-value from other languages.</p>\n<p>This code shows how something like this can be done:</p>\n<pre><code>public class Test\n{\n    private static void needValue(SomeObject so) throws CloneNotSupportedException\n    {\n        SomeObject internalObject = so.clone();\n        so=null;\n        \n        // now we can edit internalObject safely.\n        internalObject.set(999);\n    }\n    public static void main(String[] args)\n    {\n        SomeObject o = new SomeObject(5);\n        System.out.println(o);\n        try\n        {\n            needValue(o);\n        }\n        catch(CloneNotSupportedException e)\n        {\n            System.out.println(&quot;Apparently we cannot clone this&quot;);\n        }\n        System.out.println(o);\n    }\n}\n\npublic class SomeObject implements Cloneable\n{\n    private int val;\n    public SomeObject(int val)\n    {\n        this.val = val;\n    }\n    public void set(int val)\n    {\n        this.val = val;\n    }\n    public SomeObject clone()\n    {\n        return new SomeObject(val);\n    }\n    public String toString()\n    {\n        return Integer.toString(val);\n    }\n}\n</code></pre>\n<p>Here we have a function <code>needValue</code> and what it does is right away create a clone of the object, which needs be implemented in the class of the object itself and the class needs to be marked as <code>Cloneable</code>. It is not essential to set <code>so</code> to <code>null</code> after that, but i have done so here to show that we are not going to be using that reference after that.</p>\n<p>It may well be that Java does not have pass-by-reference semantics, but to call the language &quot;pass-by-value&quot; is along the lines of wishful thinking.</p>\n"},{"comments":[{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1638817198,"post_id":67294696,"comment_id":124183741,"body_markdown":"Sure, the confusion comes from the fact, that outside the Java community there is other semantics and verbose &quot;Java is not God&quot;","body":"Sure, the confusion comes from the fact, that outside the Java community there is other semantics and verbose &quot;Java is not God&quot;"}],"tags":[],"owner":{"account_id":1015802,"reputation":353,"user_id":1027385,"display_name":"frostcs"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1619590671,"creation_date":1619590671,"answer_id":67294696,"question_id":40480,"body_markdown":"**For simplicity and verbosity**\r\nIts `pass reference by value`:\r\n\r\n    public static void main(String[] args) {\r\n        Dog aDog = new Dog(&quot;Max&quot;);\r\n        Dog oldDog = aDog;\r\n    \r\n        // we pass the object to foo\r\n        foo(aDog);\r\n        // aDog variable is still pointing to the &quot;Max&quot; dog when foo(...) returns\r\n        aDog.getName().equals(&quot;Max&quot;); // true\r\n        aDog.getName().equals(&quot;Fifi&quot;); // false\r\n        aDog == oldDog; // true\r\n    }\r\n    \r\n    public static void foo(Dog d) {\r\n        d.getName().equals(&quot;Max&quot;); // true\r\n        // change d inside of foo() to point to a new Dog instance &quot;Fifi&quot;\r\n        d = new Dog(&quot;Fifi&quot;);\r\n        d.getName().equals(&quot;Fifi&quot;); // true\r\n    }\r\n\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p><strong>For simplicity and verbosity</strong>\nIts <code>pass reference by value</code>:</p>\n<pre><code>public static void main(String[] args) {\n    Dog aDog = new Dog(&quot;Max&quot;);\n    Dog oldDog = aDog;\n\n    // we pass the object to foo\n    foo(aDog);\n    // aDog variable is still pointing to the &quot;Max&quot; dog when foo(...) returns\n    aDog.getName().equals(&quot;Max&quot;); // true\n    aDog.getName().equals(&quot;Fifi&quot;); // false\n    aDog == oldDog; // true\n}\n\npublic static void foo(Dog d) {\n    d.getName().equals(&quot;Max&quot;); // true\n    // change d inside of foo() to point to a new Dog instance &quot;Fifi&quot;\n    d = new Dog(&quot;Fifi&quot;);\n    d.getName().equals(&quot;Fifi&quot;); // true\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11716557,"reputation":72,"user_id":8576876,"display_name":"Wellington Costa"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1628782189,"creation_date":1628782189,"answer_id":68760297,"question_id":40480,"body_markdown":"Java uses pass-by-value, but the effects differ whether you are using primitive or a reference type.\r\n\r\nWhen you pass a primitive type as an argument to a method, it&#39;s getting a copy of the primitive and any changes inside the block of the method won&#39;t change the original variable.\r\n\r\nWhen you pass a reference type as an argument to a method, it&#39;s still getting a copy but it&#39;s a copy of the reference to the object **(in other words, you are getting a copy of the memory address in the heap where the object is located)**, so any changes in the object inside the block of the method will affect the original object outside the block.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java uses pass-by-value, but the effects differ whether you are using primitive or a reference type.</p>\n<p>When you pass a primitive type as an argument to a method, it's getting a copy of the primitive and any changes inside the block of the method won't change the original variable.</p>\n<p>When you pass a reference type as an argument to a method, it's still getting a copy but it's a copy of the reference to the object <strong>(in other words, you are getting a copy of the memory address in the heap where the object is located)</strong>, so any changes in the object inside the block of the method will affect the original object outside the block.</p>\n"},{"comments":[{"owner":{"account_id":7501162,"reputation":820,"user_id":5699459,"accept_rate":50,"display_name":"Michael"},"score":4,"creation_date":1632199828,"post_id":69063599,"comment_id":122421631,"body_markdown":"It&#39;s still pass-by-value even if the value itself is a reference. The argument is copied and reassigning it doesn&#39;t affect anything outside the called function - this is the key difference between pass-by-value/reference.","body":"It&#39;s still pass-by-value even if the value itself is a reference. The argument is copied and reassigning it doesn&#39;t affect anything outside the called function - this is the key difference between pass-by-value/reference."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1632568133,"post_id":69063599,"comment_id":122531294,"body_markdown":"We agree, that references and objects are two pairs of shoes","body":"We agree, that references and objects are two pairs of shoes"},{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":2,"creation_date":1634659753,"post_id":69063599,"comment_id":123082772,"body_markdown":"This seems like the correct answer to me. Why are people so caught up on the technicalities of pass-by-object-reference versus pass-by-reference? If you pass a non-primitive variable to a function, modifications to that variable within the function affect the variable outside of the function. That is pretty much the same behavior as pass-by-reference. &quot;It&#39;s still pass-by-value even if the value itself is a reference&quot; - umm, okay, but if the value is a reference then you are passing a reference. Terminology aside, passing objects as arguments can affect the object outside of the function.","body":"This seems like the correct answer to me. Why are people so caught up on the technicalities of pass-by-object-reference versus pass-by-reference? If you pass a non-primitive variable to a function, modifications to that variable within the function affect the variable outside of the function. That is pretty much the same behavior as pass-by-reference. &quot;It&#39;s still pass-by-value even if the value itself is a reference&quot; - umm, okay, but if the value is a reference then you are passing a reference. Terminology aside, passing objects as arguments can affect the object outside of the function."},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":2,"creation_date":1645290515,"post_id":69063599,"comment_id":125833920,"body_markdown":"@h0r53 Why are people so caught up? Consistent definitions are import for effective communication. What C does, IS ALSO PASS BY VALUE. It&#39;s just the java calls its pointers &quot;References&quot;. And that&#39;s where the confusion comes from. It&#39;s a different use of the word reference than in &quot;pass-by-reference&quot;. Under the hood a &quot;reference&quot; in java is just a pointer, meaning it&#39;s a primitive which holds an address to the object in memory. Yes, you change the object in memory, but not the reference itself. So if you assign a different object or set it to null, the reference outside the function wont change","body":"@h0r53 Why are people so caught up? Consistent definitions are import for effective communication. What C does, IS ALSO PASS BY VALUE. It&#39;s just the java calls its pointers &quot;References&quot;. And that&#39;s where the confusion comes from. It&#39;s a different use of the word reference than in &quot;pass-by-reference&quot;. Under the hood a &quot;reference&quot; in java is just a pointer, meaning it&#39;s a primitive which holds an address to the object in memory. Yes, you change the object in memory, but not the reference itself. So if you assign a different object or set it to null, the reference outside the function wont change"},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":1,"creation_date":1645291440,"post_id":69063599,"comment_id":125834169,"body_markdown":"@h0r53, I can see from your posts (which are great, btw) that you know C and C++. C does not offer Pass by Reference, but C++ actually does by way of allowing &quot;reference parameters&quot;. When you declare a function with a header like , void foo(TreeClass&amp; maple), the ampersand makes this a reference parameter (can&#39;t do that in C). Now, if you set maple to null inside the function, the change will also be reflected outside the method. Please see my post for details https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value/54373107#54373107","body":"@h0r53, I can see from your posts (which are great, btw) that you know C and C++. C does not offer Pass by Reference, but C++ actually does by way of allowing &quot;reference parameters&quot;. When you declare a function with a header like , void foo(TreeClass&amp; maple), the ampersand makes this a reference parameter (can&#39;t do that in C). Now, if you set maple to null inside the function, the change will also be reflected outside the method. Please see my post for details <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value/54373107#54373107\" title=\"is java pass by reference or pass by value\">stackoverflow.com/questions/40480/&hellip;</a>"},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1645293745,"post_id":69063599,"comment_id":125834766,"body_markdown":"@Sanjeev For that matter, in C++ we have equivalence of parameters of type T&amp; and T const* for some type variable T, which differs in the syntactic dereferentiation level, not in the use cases or requirements for associated objects in calling or called context. Also there is no need to twist these and everyone is able to understand this, if he is willing.","body":"@Sanjeev For that matter, in C++ we have equivalence of parameters of type T&amp; and T const* for some type variable T, which differs in the syntactic dereferentiation level, not in the use cases or requirements for associated objects in calling or called context. Also there is no need to twist these and everyone is able to understand this, if he is willing."},{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":1,"creation_date":1645546433,"post_id":69063599,"comment_id":125897527,"body_markdown":"@Sanjeev I see your point and the subtle differences in reference v. object-reference are more clear to me. I was admittedly a bit frustrated when writing the prior response because it seemed like the issue was being unnecessarily convoluted with terminology. I just wanted a quick answer - &quot;If I pass an object to a function, and change that object within the function, is it reflected in the caller?&quot; My background causes me to think of everything in terms of pointers, so when I think of pass-by-reference or pass-by-object-reference, I think of pass-by-pointer, which isn&#39;t technically correct.","body":"@Sanjeev I see your point and the subtle differences in reference v. object-reference are more clear to me. I was admittedly a bit frustrated when writing the prior response because it seemed like the issue was being unnecessarily convoluted with terminology. I just wanted a quick answer - &quot;If I pass an object to a function, and change that object within the function, is it reflected in the caller?&quot; My background causes me to think of everything in terms of pointers, so when I think of pass-by-reference or pass-by-object-reference, I think of pass-by-pointer, which isn&#39;t technically correct."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1647963806,"post_id":69063599,"comment_id":126500851,"body_markdown":"&quot;Consistent definitions are import for effective communication.&quot; Indeed, Java wanted to be an object-oriented language, until it came to &#180;passing objects&#180;, then it died from inconsistency. Suddenly references were values and objects did not exists, at all. Living with a lie and forcing everyone not to reference Niklaus Wirth, who got the terms straight.","body":"&quot;Consistent definitions are import for effective communication.&quot; Indeed, Java wanted to be an object-oriented language, until it came to &#180;passing objects&#180;, then it died from inconsistency. Suddenly references were values and objects did not exists, at all. Living with a lie and forcing everyone not to reference Niklaus Wirth, who got the terms straight."}],"tags":[],"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"comment_count":8,"down_vote_count":5,"up_vote_count":7,"is_accepted":false,"score":2,"last_activity_date":1630847354,"creation_date":1630846627,"answer_id":69063599,"question_id":40480,"body_markdown":"**Guess, the common canon is wrong based on inaccurate language**\r\n\r\nAuthors of a programming language do not have the authority to rename established programming concept.\r\n\r\nPrimitive Java types &lt;code&gt;byte, char, short, int, long float, double&lt;/code&gt; are definitely passed by value.\r\n\r\nAll other types are &lt;code&gt;Objects&lt;/code&gt;: Object members and parameters technically **are  references**. \r\n\r\nSo these &quot;references&quot; are passed &quot;by value&quot;, but there occurs no object construction on the stack. Any change of object members (or elements in case of an array) apply to the same original Object; such reference precisely meets the logic of pointer of an instance passed to some function in any C-dialect, where we used to call this **passing an object by reference**\r\n\r\nEspecially we do have this thing **java.lang.NullPointerException**, which makes no sense in a pure by-value-concept ","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p><strong>Guess, the common canon is wrong based on inaccurate language</strong></p>\n<p>Authors of a programming language do not have the authority to rename established programming concept.</p>\n<p>Primitive Java types <code>byte, char, short, int, long float, double</code> are definitely passed by value.</p>\n<p>All other types are <code>Objects</code>: Object members and parameters technically <strong>are  references</strong>.</p>\n<p>So these &quot;references&quot; are passed &quot;by value&quot;, but there occurs no object construction on the stack. Any change of object members (or elements in case of an array) apply to the same original Object; such reference precisely meets the logic of pointer of an instance passed to some function in any C-dialect, where we used to call this <strong>passing an object by reference</strong></p>\n<p>Especially we do have this thing <strong>java.lang.NullPointerException</strong>, which makes no sense in a pure by-value-concept</p>\n"},{"comments":[{"owner":{"account_id":5353945,"reputation":27602,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":0,"creation_date":1678964829,"post_id":75754745,"comment_id":133636651,"body_markdown":"Parts of this answer that are correct don&#39;t add anything new that other answers haven&#39;t covered yet, so at best it is just a redundant answer. However, criticism of answers using word pointer is completely wrong as top voted answers that use that phrase clearly explain context in which phrase is used and what it means. Basic definition of pointer is value that points (is a reference, address) to other memory location that holds actual data.  In other words, Number of indirections, nor what that value actually represents in JVM implementation is not relevant for this particular question.","body":"Parts of this answer that are correct don&#39;t add anything new that other answers haven&#39;t covered yet, so at best it is just a redundant answer. However, criticism of answers using word pointer is completely wrong as top voted answers that use that phrase clearly explain context in which phrase is used and what it means. Basic definition of pointer is value that points (is a reference, address) to other memory location that holds actual data.  In other words, Number of indirections, nor what that value actually represents in JVM implementation is not relevant for this particular question."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1678990022,"post_id":75754745,"comment_id":133644596,"body_markdown":"@DalijaPrasnikar That is totally incorrect. There is no such thing as a pointer in Java. That&#39;s the whole point of why Java was developed. (In addition to GC.)","body":"@DalijaPrasnikar That is totally incorrect. There is no such thing as a pointer in Java. That&#39;s the whole point of why Java was developed. (In addition to GC.)"},{"owner":{"account_id":5353945,"reputation":27602,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":0,"creation_date":1678998082,"post_id":75754745,"comment_id":133646621,"body_markdown":"There is no such thing as pointer in language definition. But when you are explaining implementation details then you can use pointer as a term that explains what object variable is - a pointer or reference in sense that it does not hold the content of the object directly but indirectly. In this case using term pointer is warranted as term &quot;reference&quot; is used in two different contexts in this question pass-by-reference and reference type and you need some other terminology to clear the confusion. And at least one of the top answers uses the term pointer rather clearly.","body":"There is no such thing as pointer in language definition. But when you are explaining implementation details then you can use pointer as a term that explains what object variable is - a pointer or reference in sense that it does not hold the content of the object directly but indirectly. In this case using term pointer is warranted as term &quot;reference&quot; is used in two different contexts in this question pass-by-reference and reference type and you need some other terminology to clear the confusion. And at least one of the top answers uses the term pointer rather clearly."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1679043829,"post_id":75754745,"comment_id":133653663,"body_markdown":"@DalijaPrasnikar No, the correct term is reference, not pointer, because you have a reference, not a pointer. It is not even correct to say &quot;pointer&quot; when talking about implementation details, here&#39;s why: Unless you are an Oracle developer, or work on one of the other Java compilers, who are you to say what the implementation is? You are speculating that a pointer might be used in the implementation, at best.","body":"@DalijaPrasnikar No, the correct term is reference, not pointer, because you have a reference, not a pointer. It is not even correct to say &quot;pointer&quot; when talking about implementation details, here&#39;s why: Unless you are an Oracle developer, or work on one of the other Java compilers, who are you to say what the implementation is? You are speculating that a pointer might be used in the implementation, at best."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1679043907,"post_id":75754745,"comment_id":133653683,"body_markdown":"The point about software languages is that they define a specification for abstraction. They do not (generally) specify implementation details, because this will vary depending on hardware, and potentially also Operating Systems (if there is one, some environments do not have an OS such as embedded systems).","body":"The point about software languages is that they define a specification for abstraction. They do not (generally) specify implementation details, because this will vary depending on hardware, and potentially also Operating Systems (if there is one, some environments do not have an OS such as embedded systems)."},{"owner":{"account_id":5353945,"reputation":27602,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":0,"creation_date":1679048509,"post_id":75754745,"comment_id":133654917,"body_markdown":"In this particular context term reference is source of confusion because term reference is used in two different contexts with very different meaning. Term pointer has broader meaning and references are just special kind of pointers and using the term pointer to explain how passing of reference types (including objects) in Java works is perfectly fine. Java does not have raw pointer types, but nobody claims is has. You cannot explain what is reference by using a word &quot;reference&quot;.","body":"In this particular context term reference is source of confusion because term reference is used in two different contexts with very different meaning. Term pointer has broader meaning and references are just special kind of pointers and using the term pointer to explain how passing of reference types (including objects) in Java works is perfectly fine. Java does not have raw pointer types, but nobody claims is has. You cannot explain what is reference by using a word &quot;reference&quot;."},{"owner":{"account_id":5353945,"reputation":27602,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":0,"creation_date":1679048759,"post_id":75754745,"comment_id":133654969,"body_markdown":"If you want to criticize particular answer, then post a comment under that answer.","body":"If you want to criticize particular answer, then post a comment under that answer."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1679084316,"post_id":75754745,"comment_id":133664012,"body_markdown":"@DalijaPrasnikar Your comment doesn&#39;t make any sense. Pointer does not have broader meaning than reference. A pointer is a literal memory address. A reference is a broader concept than a pointer, if anything. Sorry but your comment is not just wrong, it doesn&#39;t make any sense and strongly suggests you have little understanding of the matter.","body":"@DalijaPrasnikar Your comment doesn&#39;t make any sense. Pointer does not have broader meaning than reference. A pointer is a literal memory address. A reference is a broader concept than a pointer, if anything. Sorry but your comment is not just wrong, it doesn&#39;t make any sense and strongly suggests you have little understanding of the matter."}],"tags":[],"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"comment_count":8,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1678961477,"creation_date":1678961477,"answer_id":75754745,"question_id":40480,"body_markdown":"There are already many answers to this question, and many of them are misleading.\r\n\r\n**There are two simple statements which explain how Java behaves in all cases:**\r\n\r\n1. Java is a pass by value language\r\n2. Fundamental types are direct values, Java Objects are indirect values\r\n\r\nWhat does this mean?\r\n\r\n- If you have a fundamental type like an `int`, you literally are holding a value. A variable when initialized to an int value &quot;contains&quot; that value directly. If you pass it to a function, a copy of the value is made in the variable which holds the argument to the function. This variable is called a &quot;parameter&quot;. *Hence Java is a pass-by-Value language*.\r\n- A variable initialized to be a Java Object (recall everything else in the language inherits from `Object`) holds an indirect reference to a structure of data containing the Objects data. The variable is a *label*, rather than holding the value directly, it contains a label which is used to reference or lookup an objects data.\r\n\r\nNote I am not describing implementation details above. The implementation details could be anything. I am simply describing the *behaviour* of the language.\r\n\r\n----\r\n\r\nSome further explanation as to why I think other answers are confusing or misleading.\r\n\r\n- Some answers mention the word &quot;pointers&quot;. This means the answer is fundamentally wrong because Java was **deliberatly designed to not have pointer semantics**. *There are no pointers in Java, they fundamentally do not exist, hence there is no concept of them.*\r\n\r\nTherefore to even mention pointers is wrong. The implementation details of the JVM might use data which is akin to virtual memory addresses, **but this is totally hidden from the user of the Java language**. That is the point of programming languages, to abstract the programmer away from hardware details. With languages like C and C++, pointers are a key focus of the language because it was designed for systems engineering where detailed control over memory is required.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>There are already many answers to this question, and many of them are misleading.</p>\n<p><strong>There are two simple statements which explain how Java behaves in all cases:</strong></p>\n<ol>\n<li>Java is a pass by value language</li>\n<li>Fundamental types are direct values, Java Objects are indirect values</li>\n</ol>\n<p>What does this mean?</p>\n<ul>\n<li>If you have a fundamental type like an <code>int</code>, you literally are holding a value. A variable when initialized to an int value &quot;contains&quot; that value directly. If you pass it to a function, a copy of the value is made in the variable which holds the argument to the function. This variable is called a &quot;parameter&quot;. <em>Hence Java is a pass-by-Value language</em>.</li>\n<li>A variable initialized to be a Java Object (recall everything else in the language inherits from <code>Object</code>) holds an indirect reference to a structure of data containing the Objects data. The variable is a <em>label</em>, rather than holding the value directly, it contains a label which is used to reference or lookup an objects data.</li>\n</ul>\n<p>Note I am not describing implementation details above. The implementation details could be anything. I am simply describing the <em>behaviour</em> of the language.</p>\n<hr />\n<p>Some further explanation as to why I think other answers are confusing or misleading.</p>\n<ul>\n<li>Some answers mention the word &quot;pointers&quot;. This means the answer is fundamentally wrong because Java was <strong>deliberatly designed to not have pointer semantics</strong>. <em>There are no pointers in Java, they fundamentally do not exist, hence there is no concept of them.</em></li>\n</ul>\n<p>Therefore to even mention pointers is wrong. The implementation details of the JVM might use data which is akin to virtual memory addresses, <strong>but this is totally hidden from the user of the Java language</strong>. That is the point of programming languages, to abstract the programmer away from hardware details. With languages like C and C++, pointers are a key focus of the language because it was designed for systems engineering where detailed control over memory is required.</p>\n"},{"tags":[],"owner":{"account_id":2016836,"reputation":155,"user_id":3521337,"display_name":"Fuad Efendi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689686295,"creation_date":1688316721,"answer_id":76599916,"question_id":40480,"body_markdown":"&quot;Functional&quot; Definitions:\r\n\r\n - **pas-by-value** - reassigning of a method argument is not visible to the caller\r\n - **pass-by-reference** - reassigning of a method argument is visible to the caller\r\n\r\nJava is always **pass-by-value**.\r\n\r\nhttps://www.linkedin.com/pulse/java-pass-by-value-pass-by-reference-fuad-efendi/\r\n\r\n\r\nP.S. \r\nWe just need to improve slightly our intuitive &quot;definitions&quot; of &quot;address of an object&quot; vs. &quot;an object&quot; and focus more on functionality. I hope provided definitions are applicable not only to Java.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>&quot;Functional&quot; Definitions:</p>\n<ul>\n<li><strong>pas-by-value</strong> - reassigning of a method argument is not visible to the caller</li>\n<li><strong>pass-by-reference</strong> - reassigning of a method argument is visible to the caller</li>\n</ul>\n<p>Java is always <strong>pass-by-value</strong>.</p>\n<p><a href=\"https://www.linkedin.com/pulse/java-pass-by-value-pass-by-reference-fuad-efendi/\" rel=\"nofollow noreferrer\">https://www.linkedin.com/pulse/java-pass-by-value-pass-by-reference-fuad-efendi/</a></p>\n<p>P.S.\nWe just need to improve slightly our intuitive &quot;definitions&quot; of &quot;address of an object&quot; vs. &quot;an object&quot; and focus more on functionality. I hope provided definitions are applicable not only to Java.</p>\n"}],"owner":{"account_id":3050,"reputation":4775,"user_id":4315,"display_name":"user4315"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2669486,"favorite_count":0,"down_vote_count":29,"up_vote_count":7786,"answer_count":91,"score":7757,"last_activity_date":1700819158,"creation_date":1220386469,"question_id":40480,"body_markdown":"I always thought Java uses **pass-by-reference**. However, I read [a blog post][1] which claims that Java uses **pass-by-value**. I don&#39;t think I understand the distinction the author is making.\r\n\r\nWhat is the explanation?\r\n\r\n  [1]: http://javadude.com/articles/passbyvalue.htm\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I always thought Java uses <strong>pass-by-reference</strong>. However, I read <a href=\"http://javadude.com/articles/passbyvalue.htm\" rel=\"noreferrer\">a blog post</a> which claims that Java uses <strong>pass-by-value</strong>. I don't think I understand the distinction the author is making.</p>\n<p>What is the explanation?</p>\n"},{"tags":["java","spring-boot","ssl","resttemplate","mutual-authentication"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1700762731,"post_id":77537332,"comment_id":136696886,"body_markdown":"Postman (normally) ignores server cert errors so the fact you can do a request in postman doesn&#39;t mean it&#39;s correct. Try `keytool -list -keystore serverCA.p12` and see if it _shows_ the correct cert(s). If not make sure the p12 is created using Java (usually keytool) -- Java uses a special bag attribute for trusted certs that other software doesn&#39;t support.","body":"Postman (normally) ignores server cert errors so the fact you can do a request in postman doesn&#39;t mean it&#39;s correct. Try <code>keytool -list -keystore serverCA.p12</code> and see if it <i>shows</i> the correct cert(s). If not make sure the p12 is created using Java (usually keytool) -- Java uses a special bag attribute for trusted certs that other software doesn&#39;t support."},{"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"score":0,"creation_date":1700814737,"post_id":77537332,"comment_id":136701682,"body_markdown":"Postman let you choose in the settings if the server cert should be validated or not. In my case I activated the validation. But you may have a point with the p12 file. In Postman i loaded the server cert as .pem. In my SpringBoot app, i had to convert the .pem into a .p12. with openssl, so that i can have the client cert and the server cert in the same sslBundle. Maybe something wrent wrong in this process.","body":"Postman let you choose in the settings if the server cert should be validated or not. In my case I activated the validation. But you may have a point with the p12 file. In Postman i loaded the server cert as .pem. In my SpringBoot app, i had to convert the .pem into a .p12. with openssl, so that i can have the client cert and the server cert in the same sslBundle. Maybe something wrent wrong in this process."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1701040431,"post_id":77537332,"comment_id":136722426,"body_markdown":"If you mean something like `openssl pkcs12 -export -in cert(s).pem -nokeys -out some.p12` that does not create the bag attribute I described and thus will not be treated by Java as a trustedcert.","body":"If you mean something like <code>openssl pkcs12 -export -in cert(s).pem -nokeys -out some.p12</code> that does not create the bag attribute I described and thus will not be treated by Java as a trustedcert."}],"answers":[{"tags":[],"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700819006,"creation_date":1700819006,"answer_id":77542138,"question_id":77537332,"body_markdown":"as it was suggested in the comments, using keytool instead of openssl for the conversion of the .crt server cert into a .p12 solved my problem.\r\n\r\nSo, yes it is ok to pack keystore and trustore in the same bundle as i did, and we should use keytool if a conversion is needed to produce the .p12 file. \r\n\r\n","title":"mutualTLS with SpringBoot SslBundles and RestTemplate","body":"<p>as it was suggested in the comments, using keytool instead of openssl for the conversion of the .crt server cert into a .p12 solved my problem.</p>\n<p>So, yes it is ok to pack keystore and trustore in the same bundle as i did, and we should use keytool if a conversion is needed to produce the .p12 file.</p>\n"}],"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700819006,"creation_date":1700746721,"question_id":77537332,"body_markdown":"I have a SpringBoot Application (client) that makes REST calls to an external service (server). The communication between client and server should be secured with mutual TLS. So in this setting we need a client certificate in our keystore and a CA certificate for the server in our truststore.  \r\n\r\nWhen I importe this certificate material in Postman, i can successfully make requests. Meaning: the certificates are valid.\r\n\r\nNevertheless so far, I couldn&#39;t make it work in SpringBoot. I&#39;d like to take advantage of the SslBundles introduced by SpringBoot 3.1\r\n\r\nI defined a bundle with both keystore and truststore: \r\n\r\n````yml\r\nspring:\r\n  ssl:\r\n    bundle:\r\n      jks:\r\n        mySslBundle:\r\n          keystore:\r\n            location: &quot;classpath:path/to/clientCert.p12&quot;\r\n            password: &quot;PW&quot;\r\n            type: &quot;PKCS12&quot;\r\n          truststore:\r\n            location: &quot;classpath:path/to/serverCA.p12&quot;\r\n            password: &quot;PW&quot;\r\n            type: &quot;PKCS12&quot;\r\n````\r\n\r\nthen I can bind this bundle to the RestTemplate:\r\n\r\n````java\r\n@Configuration\r\npublic class RestTemplateConfig {\r\n\r\n  @Bean(name = &quot;fooRestTemplate&quot;)\r\n  public RestTemplate createFooRestTemplate(RestTemplateBuilder restTemplateBuilder,\r\n      SslBundles sslBundles) {\r\n    return restTemplateBuilder\r\n        .setSslBundle(sslBundles.getBundle(&quot;mySslBundle&quot;))\r\n        .build();\r\n  }\r\n\r\n}\r\n````\r\n\r\nWhen the client sends request to the server within the application, I get following error:\r\n\r\n    Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\r\n\r\nIn Postman, i had to load the server cert as .pem file. \r\nIn my SpringBoot app, i converted the .pem file into a .p12 with openssl. I did that so that both client cert and server cert are p12 file and can be imported in the same sslBunde. Is this the right approach to import keystore and trustore in the same bundle ? \r\n\r\nAny clue appreciated. \r\n\r\n","title":"mutualTLS with SpringBoot SslBundles and RestTemplate","body":"<p>I have a SpringBoot Application (client) that makes REST calls to an external service (server). The communication between client and server should be secured with mutual TLS. So in this setting we need a client certificate in our keystore and a CA certificate for the server in our truststore.</p>\n<p>When I importe this certificate material in Postman, i can successfully make requests. Meaning: the certificates are valid.</p>\n<p>Nevertheless so far, I couldn't make it work in SpringBoot. I'd like to take advantage of the SslBundles introduced by SpringBoot 3.1</p>\n<p>I defined a bundle with both keystore and truststore:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  ssl:\n    bundle:\n      jks:\n        mySslBundle:\n          keystore:\n            location: &quot;classpath:path/to/clientCert.p12&quot;\n            password: &quot;PW&quot;\n            type: &quot;PKCS12&quot;\n          truststore:\n            location: &quot;classpath:path/to/serverCA.p12&quot;\n            password: &quot;PW&quot;\n            type: &quot;PKCS12&quot;\n</code></pre>\n<p>then I can bind this bundle to the RestTemplate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class RestTemplateConfig {\n\n  @Bean(name = &quot;fooRestTemplate&quot;)\n  public RestTemplate createFooRestTemplate(RestTemplateBuilder restTemplateBuilder,\n      SslBundles sslBundles) {\n    return restTemplateBuilder\n        .setSslBundle(sslBundles.getBundle(&quot;mySslBundle&quot;))\n        .build();\n  }\n\n}\n</code></pre>\n<p>When the client sends request to the server within the application, I get following error:</p>\n<pre><code>Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\n</code></pre>\n<p>In Postman, i had to load the server cert as .pem file.\nIn my SpringBoot app, i converted the .pem file into a .p12 with openssl. I did that so that both client cert and server cert are p12 file and can be imported in the same sslBunde. Is this the right approach to import keystore and trustore in the same bundle ?</p>\n<p>Any clue appreciated.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-jdbc"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1660174849,"post_id":73312803,"comment_id":129473643,"body_markdown":"Error likely has you looking in the wrong spots. Your entity def won’t be the problem, it will be somewhere else referencing a com.lms.entity.Role. The exception mentions a basic collection mapping, so check your other entities and class’ mappings","body":"Error likely has you looking in the wrong spots. Your entity def won’t be the problem, it will be somewhere else referencing a com.lms.entity.Role. The exception mentions a basic collection mapping, so check your other entities and class’ mappings"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1660193988,"post_id":73312803,"comment_id":129476232,"body_markdown":"Hibernate 6.1 doesn&#39;t work with Spring Boot 2.7. Imho you are managing too much, you probably have Spring Data Jpa as a dependency (which already pulls in hibernate). Remove your explicit management for the hibernate dependencies.","body":"Hibernate 6.1 doesn&#39;t work with Spring Boot 2.7. Imho you are managing too much, you probably have Spring Data Jpa as a dependency (which already pulls in hibernate). Remove your explicit management for the hibernate dependencies."},{"owner":{"account_id":8932542,"reputation":101,"user_id":6664626,"display_name":"Bryce"},"score":0,"creation_date":1660238077,"post_id":73312803,"comment_id":129491487,"body_markdown":"@Chris: That was another thought of mine because I literally copied and pasted another entity in this class file and it wasn&#39;t working either. I tried looking around to other class mappings but didn&#39;t see anything wrong with it.","body":"@Chris: That was another thought of mine because I literally copied and pasted another entity in this class file and it wasn&#39;t working either. I tried looking around to other class mappings but didn&#39;t see anything wrong with it."},{"owner":{"account_id":8932542,"reputation":101,"user_id":6664626,"display_name":"Bryce"},"score":0,"creation_date":1660238097,"post_id":73312803,"comment_id":129491494,"body_markdown":"@M.Deinum: You&#39;re right that I did have Spring Data JPA as a dependency. I didn&#39;t know it pulled in hibernate, so thank you. I removed the hibernate dependency and receive the error of &quot;A component required a bean named &#39;entityManagerFactory&#39; that could not be found.&quot;","body":"@M.Deinum: You&#39;re right that I did have Spring Data JPA as a dependency. I didn&#39;t know it pulled in hibernate, so thank you. I removed the hibernate dependency and receive the error of &quot;A component required a bean named &#39;entityManagerFactory&#39; that could not be found.&quot;"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1660285375,"post_id":73312803,"comment_id":129500791,"body_markdown":"That would be strange, could you ask that in a new question and provide the stacktrace as well as a list of your dependencies (i.e. add your `pom.xml`).","body":"That would be strange, could you ask that in a new question and provide the stacktrace as well as a list of your dependencies (i.e. add your <code>pom.xml</code>)."},{"owner":{"account_id":8932542,"reputation":101,"user_id":6664626,"display_name":"Bryce"},"score":0,"creation_date":1660857299,"post_id":73312803,"comment_id":129639305,"body_markdown":"Sorry, I was on vacation @M.Deinum.\n\nWhat I ended up doing was refactor my code and commented my RoleEnum class out. I had previously a class within a public class within my other public class for the filterChain that I since refactored to not be a subclass (again inexperience with Spring, this is why I&#39;m learning!)\n\nWhen I did some other refactors, I uncommented the RoleEnum and RoleRepository classes and the error was not thrown. Unfortunately, I won&#39;t be able to recreate the error. If I do run across it, I will make sure to create a new post! Thanks for y&#39;all&#39;s help!","body":"Sorry, I was on vacation @M.Deinum.  What I ended up doing was refactor my code and commented my RoleEnum class out. I had previously a class within a public class within my other public class for the filterChain that I since refactored to not be a subclass (again inexperience with Spring, this is why I&#39;m learning!)  When I did some other refactors, I uncommented the RoleEnum and RoleRepository classes and the error was not thrown. Unfortunately, I won&#39;t be able to recreate the error. If I do run across it, I will make sure to create a new post! Thanks for y&#39;all&#39;s help!"}],"answers":[{"tags":[],"owner":{"account_id":19129071,"reputation":101,"user_id":13971407,"display_name":"jayson mulwa"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1667819952,"creation_date":1667819952,"answer_id":74345747,"question_id":73312803,"body_markdown":"I had a similar error. Not really a dependency issue.\r\n```\r\norg.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for com.payment.Payment\r\n```\r\n\r\nIn my case, I found that Payment entity has a relationship with other entities, and was in fact used elsewhere.\r\n\r\nThe Error was fixed by removing this instances of the entity used in other entities, hence not &quot;confusing&quot; Hibernate on how to create Payment entity.","title":"Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>I had a similar error. Not really a dependency issue.</p>\n<pre><code>org.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for com.payment.Payment\n</code></pre>\n<p>In my case, I found that Payment entity has a relationship with other entities, and was in fact used elsewhere.</p>\n<p>The Error was fixed by removing this instances of the entity used in other entities, hence not &quot;confusing&quot; Hibernate on how to create Payment entity.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1671014272,"post_id":74754612,"comment_id":132003844,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74754612/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":16620351,"reputation":98,"user_id":12010891,"display_name":"lennart"},"score":1,"creation_date":1687534802,"post_id":74754612,"comment_id":134955429,"body_markdown":"yeah but what annotations do you mean?????-","body":"yeah but what annotations do you mean?????-"}],"tags":[],"owner":{"account_id":22769808,"reputation":31,"user_id":16927406,"display_name":"Gustavo Junkes"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670689685,"creation_date":1670689149,"answer_id":74754612,"question_id":73312803,"body_markdown":"This error has many causes, but in your case seems to be a relation between `Role` entity and another one that is using it in a relation. The most common reason for this error is reference this entity in another, and do not set the proper annotations. \r\n\r\nIn my case, I had the entity `MealFood` (which the error log was pointing to), and it was used in `Meal` entity. (One to Many starting from `MealFood`). The problem was that I hadn&#39;t mapped it properly in the `Meal` entity, so hibernate didn&#39;t know exactly what to do with it. \r\n\r\nPlease check if, as mentioned in jayson mulwa answer, the `Role` entity is used in another class, and add the proper annotations.\r\n\r\nHope it helps.","title":"Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>This error has many causes, but in your case seems to be a relation between <code>Role</code> entity and another one that is using it in a relation. The most common reason for this error is reference this entity in another, and do not set the proper annotations.</p>\n<p>In my case, I had the entity <code>MealFood</code> (which the error log was pointing to), and it was used in <code>Meal</code> entity. (One to Many starting from <code>MealFood</code>). The problem was that I hadn't mapped it properly in the <code>Meal</code> entity, so hibernate didn't know exactly what to do with it.</p>\n<p>Please check if, as mentioned in jayson mulwa answer, the <code>Role</code> entity is used in another class, and add the proper annotations.</p>\n<p>Hope it helps.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1671445848,"post_id":74806447,"comment_id":132093402,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74806447/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27257150,"reputation":61,"user_id":20780518,"display_name":"Paimon"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1671073949,"creation_date":1671073949,"answer_id":74806447,"question_id":73312803,"body_markdown":"I had the same problem, I solve it by adding the `@ManyToOne` annotation.\r\nI guess in your case it would be in the `RoleEnum` field.\r\nWell at least that&#39;s how it worked for me.","title":"Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>I had the same problem, I solve it by adding the <code>@ManyToOne</code> annotation.\nI guess in your case it would be in the <code>RoleEnum</code> field.\nWell at least that's how it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":23693974,"reputation":1,"user_id":17717966,"display_name":"Yagnesh Prajapati"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681302492,"creation_date":1680772876,"answer_id":75947850,"question_id":73312803,"body_markdown":"This is because you change is remain in `hibernate.cfg.xml` - please check your `hibernate.cfg.xml` file you made some changes - so correct it \r\nin my problem i change the class name by mistake","title":"Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>This is because you change is remain in <code>hibernate.cfg.xml</code> - please check your <code>hibernate.cfg.xml</code> file you made some changes - so correct it\nin my problem i change the class name by mistake</p>\n"},{"tags":[],"owner":{"account_id":24923661,"reputation":11,"user_id":18791692,"display_name":"SamCurteis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681253309,"creation_date":1681253309,"answer_id":75990634,"question_id":73312803,"body_markdown":"I struggled with this for a very long time and couldn&#39;t find a solution anywhere. I found the cause which was in a different entity where I was calling the entity mentioned in the error message with @ManyToOne (for me it was the user entity, it seems like for OP it was roles). The error only went away once I added `@JdbcTypeCode(SqlTypes.JSON)` where it was called, so it looked like this:\r\n\r\n    @JdbcTypeCode(SqlTypes.JSON)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;SUBMITTED_BY&quot;)\r\n    private User user;\r\n\r\nI ofc also had to import:\r\n\r\n    import org.hibernate.annotations.JdbcTypeCode;\r\n    import org.hibernate.type.SqlTypes;\r\n\r\nI don&#39;t know if this fix just causes another problem down the line or I&#39;m missing something else cus I can&#39;t even find where I got the original solution but fingers crossed it&#39;s fine.","title":"Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>I struggled with this for a very long time and couldn't find a solution anywhere. I found the cause which was in a different entity where I was calling the entity mentioned in the error message with @ManyToOne (for me it was the user entity, it seems like for OP it was roles). The error only went away once I added <code>@JdbcTypeCode(SqlTypes.JSON)</code> where it was called, so it looked like this:</p>\n<pre><code>@JdbcTypeCode(SqlTypes.JSON)\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;SUBMITTED_BY&quot;)\nprivate User user;\n</code></pre>\n<p>I ofc also had to import:</p>\n<pre><code>import org.hibernate.annotations.JdbcTypeCode;\nimport org.hibernate.type.SqlTypes;\n</code></pre>\n<p>I don't know if this fix just causes another problem down the line or I'm missing something else cus I can't even find where I got the original solution but fingers crossed it's fine.</p>\n"},{"tags":[],"owner":{"account_id":9472885,"reputation":83,"user_id":7043197,"display_name":"Eric S."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695471165,"creation_date":1695471165,"answer_id":77162971,"question_id":73312803,"body_markdown":"Although brief the solution proposed by [Gustavo Junkes][1] and the explanation of [Paimon][2] helped me with a similar case I have during a migration from javax.persistence to jakarta.persistence. Here is how I solved a similar issue in order to make work a @OnetoMany relation between 2 entities:\r\n\r\nI had to add a @ManyToOne relation on the child entity (ITEM).  I insist that it wasn&#39;t necessary before with javax.persitence (although the cause may be something else as other dependencies have been changed).  Anyway, before it worked fine without that.  So here is what I have now which works:\r\nIn the Item entity (child):\r\n\r\n    @Column(name = &quot;BRAND_ID&quot;, nullable = false, insertable = false, updatable = false)\r\n    private long brandId;\r\n\r\n    @JoinColumn(name = &quot;BRAND_ID&quot;, nullable = false)\r\n    @ManyToOne(targetEntity=Brand.class, fetch=FetchType.LAZY)\r\n    private Brand brand;\r\n\r\nIn the Brand entity (parent):\r\n\r\n       @Column(name=&quot;BRAND_ID&quot;)\r\n       private long id;\r\n\r\n       @OneToMany(targetEntity= Item.class, cascade=ALL, mappedBy=&quot;brand&quot;, fetch=FetchType.LAZY)\r\n       private List&lt;Item&gt; items = new ArrayList&lt;&gt;();\r\n\r\nNotice that before the migration to jakarta.persistence the @OneToMany annotation referred to the &quot;brandId&quot; property in the child entity.  Now it refers to the new &quot;brand&quot; property in the child entity.  Here is how it was before.  Moreover there was no need to specify the @ManyToOne annotation in the child entity:\r\n\r\n\r\n    @OneToMany(targetEntity=Item.class, cascade=ALL, mappedBy=&quot;brandId&quot;, fetch=FetchType.LAZY)\r\n    private List&lt;Item&gt; items = new ArrayList&lt;&gt;();\r\n\r\n  [1]: https://stackoverflow.com/users/16927406/gustavo-junkes\r\n  [2]: https://stackoverflow.com/users/20780518/paimon","title":"Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>Although brief the solution proposed by <a href=\"https://stackoverflow.com/users/16927406/gustavo-junkes\">Gustavo Junkes</a> and the explanation of <a href=\"https://stackoverflow.com/users/20780518/paimon\">Paimon</a> helped me with a similar case I have during a migration from javax.persistence to jakarta.persistence. Here is how I solved a similar issue in order to make work a @OnetoMany relation between 2 entities:</p>\n<p>I had to add a @ManyToOne relation on the child entity (ITEM).  I insist that it wasn't necessary before with javax.persitence (although the cause may be something else as other dependencies have been changed).  Anyway, before it worked fine without that.  So here is what I have now which works:\nIn the Item entity (child):</p>\n<pre><code>@Column(name = &quot;BRAND_ID&quot;, nullable = false, insertable = false, updatable = false)\nprivate long brandId;\n\n@JoinColumn(name = &quot;BRAND_ID&quot;, nullable = false)\n@ManyToOne(targetEntity=Brand.class, fetch=FetchType.LAZY)\nprivate Brand brand;\n</code></pre>\n<p>In the Brand entity (parent):</p>\n<pre><code>   @Column(name=&quot;BRAND_ID&quot;)\n   private long id;\n\n   @OneToMany(targetEntity= Item.class, cascade=ALL, mappedBy=&quot;brand&quot;, fetch=FetchType.LAZY)\n   private List&lt;Item&gt; items = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Notice that before the migration to jakarta.persistence the @OneToMany annotation referred to the &quot;brandId&quot; property in the child entity.  Now it refers to the new &quot;brand&quot; property in the child entity.  Here is how it was before.  Moreover there was no need to specify the @ManyToOne annotation in the child entity:</p>\n<pre><code>@OneToMany(targetEntity=Item.class, cascade=ALL, mappedBy=&quot;brandId&quot;, fetch=FetchType.LAZY)\nprivate List&lt;Item&gt; items = new ArrayList&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":275846,"reputation":2344,"user_id":2968699,"display_name":"Tudor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700818358,"creation_date":1700746013,"answer_id":77537257,"question_id":73312803,"body_markdown":"In my case I missed an @Id on a related @ManyToOne class. The class mentioned in the error was ok.\r\n\r\nThe @Id goes on the getter, not on the field, although it&#39;s allowed.","title":"Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>In my case I missed an @Id on a related @ManyToOne class. The class mentioned in the error was ok.</p>\n<p>The @Id goes on the getter, not on the field, although it's allowed.</p>\n"}],"owner":{"account_id":8932542,"reputation":101,"user_id":6664626,"display_name":"Bryce"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46480,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":7,"score":9,"last_activity_date":1700818358,"creation_date":1660166076,"question_id":73312803,"body_markdown":"I&#39;ve been searching around and potentially the closest I&#39;ve found something is this [Stack Overflow thread][1], but it still doesn&#39;t answer my question. Even with the latest copy of spring (as of writing) frameworks (2.7.2), and `hibernate` (6.1.2.Final), and `hibernate-entitymanager` (5.6.10.Final), I&#39;m still having troubles. My full error stack is as follows: \r\n\r\n    INFO &lt;PID&gt; --- [main] com.lms.controller.SpringBootController  : Starting SpringBootController using Java 17.0.4 on &lt;OS&gt; with PID &lt;PID&gt; &lt;FILEPATH&gt; started by &lt;USER&gt; in &lt;FILEPATH&gt;)\r\n    INFO &lt;PID&gt; --- [main] com.lms.controller.SpringBootController  : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    INFO &lt;PID&gt; --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    INFO &lt;PID&gt; --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.\r\n    INFO &lt;PID&gt; --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    INFO &lt;PID&gt; --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    INFO &lt;PID&gt; --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/10.0.22]\r\n    INFO &lt;PID&gt; --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    INFO &lt;PID&gt; --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 944 ms\r\n    INFO &lt;PID&gt; --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    INFO &lt;PID&gt; --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.2.Final\r\n    WARN &lt;PID&gt; --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\r\n    INFO &lt;PID&gt; --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n    ERROR &lt;PID&gt; --- [main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Could not determine recommended JdbcType for `com.lms.entity.Role`\r\n    WARN &lt;PID&gt; --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `com.lms.entity.Role`\r\n    INFO &lt;PID&gt; --- [main] com.lms.controller.SpringBootController  : Starting SpringBootController using Java 17.0.4 on &lt;OS&gt; with PID &lt;PID&gt; &lt;FILEPATH&gt; started by &lt;USER&gt; in &lt;FILEPATH&gt;)\r\n    INFO &lt;PID&gt; --- [main] com.lms.controller.SpringBootController  : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    INFO &lt;PID&gt; --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    INFO &lt;PID&gt; --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.\r\n    INFO &lt;PID&gt; --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    INFO &lt;PID&gt; --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    INFO &lt;PID&gt; --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/10.0.22]\r\n    INFO &lt;PID&gt; --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    INFO &lt;PID&gt; --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 944 ms\r\n    INFO &lt;PID&gt; --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    INFO &lt;PID&gt; --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.2.Final\r\n    WARN &lt;PID&gt; --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\r\n    INFO &lt;PID&gt; --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n    ERROR &lt;PID&gt; --- [main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Could not determine recommended JdbcType for `com.lms.entity.Role`\r\n    WARN &lt;PID&gt; --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `com.lms.entity.Role`\r\n    INFO &lt;PID&gt; --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    INFO &lt;PID&gt; --- [main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n      ERROR &lt;PID&gt; --- [main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `com.lms.entity.Role`\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1753) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:604) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:526) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1141) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:916) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:592) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n    \t\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n    \t\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:430) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n    \t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n    \t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n    \t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n    \t\tat com.lms.controller.SpringBootController.main(SpringBootController.java:30) ~[classes/:na]\r\n    Caused by: org.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for `com.lms.entity.Role`\r\n    \t\tat org.hibernate.type.descriptor.java.spi.UnknownBasicJavaType.getRecommendedJdbcType(UnknownBasicJavaType.java:37) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.hibernate.type.descriptor.java.spi.BasicCollectionJavaType.getRecommendedJdbcType(BasicCollectionJavaType.java:70) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.hibernate.boot.model.process.internal.InferredBasicValueResolver.from(InferredBasicValueResolver.java:222) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.hibernate.mapping.BasicValue.buildResolution(BasicValue.java:507) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.hibernate.mapping.BasicValue.resolve(BasicValue.java:315) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.hibernate.mapping.BasicValue.resolve(BasicValue.java:305) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.lambda$processValueResolvers$4(InFlightMetadataCollectorImpl.java:1766) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat java.base/java.util.ArrayList.removeIf(ArrayList.java:1682) ~[na:na]\r\n    \t\tat java.base/java.util.ArrayList.removeIf(ArrayList.java:1660) ~[na:na]\r\n    \t\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processValueResolvers(InFlightMetadataCollectorImpl.java:1765) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1751) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:300) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1350) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1421) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:362) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:338) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1799) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1749) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\t... 16 common frames omitted\r\n\r\n   \r\nHere&#39;s my `Role.java` file:\r\n\r\n    package com.lms.entity;\r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.Enumerated;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.Table;\r\n    import jakarta.persistence.EnumType;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;roles&quot;)\r\n    public class Role {\r\n        @Id\r\n        @Column(name = &quot;roleID&quot;, nullable = false)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int roleID;\r\n        \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(name = &quot;roleName&quot;, nullable = false)\r\n        private RoleEnum roleName;\r\n    \r\n        public int getRoleID(){\r\n            return this.roleID;\r\n        }\r\n        public void setRoleID(int roleid){\r\n            this.roleID = roleid;\r\n        }\r\n        public RoleEnum getRoleName(){\r\n            return this.roleName;\r\n        }\r\n        public void setRoleName(RoleEnum rolename){\r\n            this.roleName = rolename;\r\n        }\r\n    \r\n        @Override\r\n        public String toString(){\r\n            return &quot;The role&#39;s id is: &quot; + this.roleID + &quot;\\nThe role&#39;s name is: &quot; + this.roleName.toString();\r\n        }\r\n    }\r\n\r\nEven if my `Role.java` contains only the roleID value, I get the same error which isn&#39;t thrown on my other Entity classes which are basically the same thing. The only unique thing about this class is the `RoleEnum` type which is based on this Enum class: `RoleEnum.java`\r\n\r\n    public enum RoleEnum {\r\n        SUPER_ADMIN,\r\n        FORUM_ADMIN,\r\n        ACCOUNTANT,\r\n        LIBRARIAN,\r\n        NORMAL_USER,\r\n        FORUM_USER\r\n    }\r\n\r\nI came across this error when I was trying to replicate [this person&#39;s guide][2] of implementing a JWT in Java Spring and works, but they are using `2.2.11.RELEASE` instead of `3.0.0-M4` which is what I&#39;m using. \r\n\r\nMy likely candidates are there is something funky with `jakarta.*` instead of `javax.*` which I don&#39;t fully understand the differences between. The other candidate I&#39;m thinking could be problematic is that something with EntityManager is causing a problem, but I can&#39;t find anything about it. My error is `Could not determine recommended JdbcType for com.lms.entity.Role`, is there something I can do to fix this?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71963578/couldnt-determine-jdbctype-for-class-spring-data-jdbc\r\n  [2]: https://www.bezkoder.com/spring-boot-security-postgresql-jwt-authentication/","title":"Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>I've been searching around and potentially the closest I've found something is this <a href=\"https://stackoverflow.com/questions/71963578/couldnt-determine-jdbctype-for-class-spring-data-jdbc\">Stack Overflow thread</a>, but it still doesn't answer my question. Even with the latest copy of spring (as of writing) frameworks (2.7.2), and <code>hibernate</code> (6.1.2.Final), and <code>hibernate-entitymanager</code> (5.6.10.Final), I'm still having troubles. My full error stack is as follows:</p>\n<pre><code>INFO &lt;PID&gt; --- [main] com.lms.controller.SpringBootController  : Starting SpringBootController using Java 17.0.4 on &lt;OS&gt; with PID &lt;PID&gt; &lt;FILEPATH&gt; started by &lt;USER&gt; in &lt;FILEPATH&gt;)\nINFO &lt;PID&gt; --- [main] com.lms.controller.SpringBootController  : No active profile set, falling back to 1 default profile: &quot;default&quot;\nINFO &lt;PID&gt; --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\nINFO &lt;PID&gt; --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.\nINFO &lt;PID&gt; --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\nINFO &lt;PID&gt; --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\nINFO &lt;PID&gt; --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/10.0.22]\nINFO &lt;PID&gt; --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\nINFO &lt;PID&gt; --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 944 ms\nINFO &lt;PID&gt; --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\nINFO &lt;PID&gt; --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.2.Final\nWARN &lt;PID&gt; --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\nINFO &lt;PID&gt; --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\nERROR &lt;PID&gt; --- [main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Could not determine recommended JdbcType for `com.lms.entity.Role`\nWARN &lt;PID&gt; --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `com.lms.entity.Role`\nINFO &lt;PID&gt; --- [main] com.lms.controller.SpringBootController  : Starting SpringBootController using Java 17.0.4 on &lt;OS&gt; with PID &lt;PID&gt; &lt;FILEPATH&gt; started by &lt;USER&gt; in &lt;FILEPATH&gt;)\nINFO &lt;PID&gt; --- [main] com.lms.controller.SpringBootController  : No active profile set, falling back to 1 default profile: &quot;default&quot;\nINFO &lt;PID&gt; --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\nINFO &lt;PID&gt; --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.\nINFO &lt;PID&gt; --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\nINFO &lt;PID&gt; --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\nINFO &lt;PID&gt; --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/10.0.22]\nINFO &lt;PID&gt; --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\nINFO &lt;PID&gt; --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 944 ms\nINFO &lt;PID&gt; --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\nINFO &lt;PID&gt; --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.2.Final\nWARN &lt;PID&gt; --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\nINFO &lt;PID&gt; --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\nERROR &lt;PID&gt; --- [main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Could not determine recommended JdbcType for `com.lms.entity.Role`\nWARN &lt;PID&gt; --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `com.lms.entity.Role`\nINFO &lt;PID&gt; --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\nINFO &lt;PID&gt; --- [main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n  ERROR &lt;PID&gt; --- [main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `com.lms.entity.Role`\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1753) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:604) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:526) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1141) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:916) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:592) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:430) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\n        at com.lms.controller.SpringBootController.main(SpringBootController.java:30) ~[classes/:na]\nCaused by: org.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for `com.lms.entity.Role`\n        at org.hibernate.type.descriptor.java.spi.UnknownBasicJavaType.getRecommendedJdbcType(UnknownBasicJavaType.java:37) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.hibernate.type.descriptor.java.spi.BasicCollectionJavaType.getRecommendedJdbcType(BasicCollectionJavaType.java:70) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.hibernate.boot.model.process.internal.InferredBasicValueResolver.from(InferredBasicValueResolver.java:222) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.hibernate.mapping.BasicValue.buildResolution(BasicValue.java:507) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:315) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:305) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.lambda$processValueResolvers$4(InFlightMetadataCollectorImpl.java:1766) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at java.base/java.util.ArrayList.removeIf(ArrayList.java:1682) ~[na:na]\n        at java.base/java.util.ArrayList.removeIf(ArrayList.java:1660) ~[na:na]\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processValueResolvers(InFlightMetadataCollectorImpl.java:1765) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1751) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:300) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1350) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1421) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:362) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:338) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1799) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1749) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\n        ... 16 common frames omitted\n</code></pre>\n<p>Here's my <code>Role.java</code> file:</p>\n<pre><code>package com.lms.entity;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Enumerated;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport jakarta.persistence.EnumType;\n\n@Entity\n@Table(name = &quot;roles&quot;)\npublic class Role {\n    @Id\n    @Column(name = &quot;roleID&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int roleID;\n    \n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;roleName&quot;, nullable = false)\n    private RoleEnum roleName;\n\n    public int getRoleID(){\n        return this.roleID;\n    }\n    public void setRoleID(int roleid){\n        this.roleID = roleid;\n    }\n    public RoleEnum getRoleName(){\n        return this.roleName;\n    }\n    public void setRoleName(RoleEnum rolename){\n        this.roleName = rolename;\n    }\n\n    @Override\n    public String toString(){\n        return &quot;The role's id is: &quot; + this.roleID + &quot;\\nThe role's name is: &quot; + this.roleName.toString();\n    }\n}\n</code></pre>\n<p>Even if my <code>Role.java</code> contains only the roleID value, I get the same error which isn't thrown on my other Entity classes which are basically the same thing. The only unique thing about this class is the <code>RoleEnum</code> type which is based on this Enum class: <code>RoleEnum.java</code></p>\n<pre><code>public enum RoleEnum {\n    SUPER_ADMIN,\n    FORUM_ADMIN,\n    ACCOUNTANT,\n    LIBRARIAN,\n    NORMAL_USER,\n    FORUM_USER\n}\n</code></pre>\n<p>I came across this error when I was trying to replicate <a href=\"https://www.bezkoder.com/spring-boot-security-postgresql-jwt-authentication/\" rel=\"noreferrer\">this person's guide</a> of implementing a JWT in Java Spring and works, but they are using <code>2.2.11.RELEASE</code> instead of <code>3.0.0-M4</code> which is what I'm using.</p>\n<p>My likely candidates are there is something funky with <code>jakarta.*</code> instead of <code>javax.*</code> which I don't fully understand the differences between. The other candidate I'm thinking could be problematic is that something with EntityManager is causing a problem, but I can't find anything about it. My error is <code>Could not determine recommended JdbcType for com.lms.entity.Role</code>, is there something I can do to fix this?</p>\n"},{"tags":["java","spring-boot","kotlin","spring-autoconfiguration"],"comments":[{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700462406,"post_id":77426246,"comment_id":136653010,"body_markdown":"After running TestBootstrap class, Getting errors from `InMemoryEventStoreTest` and `CustomTypeMapperTest` classes.","body":"After running TestBootstrap class, Getting errors from <code>InMemoryEventStoreTest</code> and <code>CustomTypeMapperTest</code> classes."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700462464,"post_id":77426246,"comment_id":136653020,"body_markdown":"I&#39;m in the decider-web branch only.","body":"I&#39;m in the decider-web branch only."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700462599,"post_id":77426246,"comment_id":136653035,"body_markdown":"Unable to run TestBootstrap code. Can you please help?","body":"Unable to run TestBootstrap code. Can you please help?"},{"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"score":0,"creation_date":1700566395,"post_id":77426246,"comment_id":136667889,"body_markdown":"@AnishB. I just tried it again, and it works for me. I&#39;m running it from Intellij.","body":"@AnishB. I just tried it again, and it works for me. I&#39;m running it from Intellij."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700566440,"post_id":77426246,"comment_id":136667899,"body_markdown":"Anything am I doing wrong? Suprising","body":"Anything am I doing wrong? Suprising"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700566505,"post_id":77426246,"comment_id":136667908,"body_markdown":"When I&#39;m running the main, why it&#39;s calling those two classes.","body":"When I&#39;m running the main, why it&#39;s calling those two classes."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700566561,"post_id":77426246,"comment_id":136667918,"body_markdown":"I can fix but I need the code running on my system :)","body":"I can fix but I need the code running on my system :)"},{"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"score":0,"creation_date":1700569084,"post_id":77426246,"comment_id":136668378,"body_markdown":"@AnishB. I&#39;m sorry, but I don&#39;t know what&#39;s wrong. I just run the main method in &quot;org.occurrent.example.domain.rps.decidermodel.TestBoostrap&quot; from intellij and I get the error mentioned above.","body":"@AnishB. I&#39;m sorry, but I don&#39;t know what&#39;s wrong. I just run the main method in &quot;org.occurrent.example.domain.rps.decidermodel.TestBoostrap&quot; from intellij and I get the error mentioned above."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700571755,"post_id":77426246,"comment_id":136668872,"body_markdown":"No worries... I&#39;m checking","body":"No worries... I&#39;m checking"}],"answers":[{"comments":[{"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"score":0,"creation_date":1700566332,"post_id":77516025,"comment_id":136667878,"body_markdown":"It still doesn&#39;t work, I get the same error:\n\nParameter 2 of method occurrentCloudEventConverter in org.occurrent.springboot.mongo.blocking.OccurrentMongoAutoConfiguration required a bean of type &#39;org.occurrent.application.converter.typemapper.CloudEventTypeMapper&#39; that could not be found.\n\nI think it happens _before_ the occurrentCloudEventConverter is even called, it&#39;s like it&#39;s not finding the CloudEventTypeMapper&lt;?&gt; instance.","body":"It still doesn&#39;t work, I get the same error:  Parameter 2 of method occurrentCloudEventConverter in org.occurrent.springboot.mongo.blocking.OccurrentMongoAutoCo&zwnj;&#8203;nfiguration required a bean of type &#39;org.occurrent.application.converter.typemapper.CloudEventTy&zwnj;&#8203;peMapper&#39; that could not be found.  I think it happens <i>before</i> the occurrentCloudEventConverter is even called, it&#39;s like it&#39;s not finding the CloudEventTypeMapper&lt;?&gt; instance."},{"owner":{"account_id":8928773,"reputation":213,"user_id":6662076,"display_name":"Alireza Nazari"},"score":0,"creation_date":1700575878,"post_id":77516025,"comment_id":136669752,"body_markdown":"If you have multiple auto-configuration classes, ensure that the order of their execution is appropriate. You can set the order explicitly using the @AutoConfigureOrder annotation, or Explicitly Declare the Bean in a Configuration Class","body":"If you have multiple auto-configuration classes, ensure that the order of their execution is appropriate. You can set the order explicitly using the @AutoConfigureOrder annotation, or Explicitly Declare the Bean in a Configuration Class"},{"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"score":0,"creation_date":1700719725,"post_id":77516025,"comment_id":136689496,"body_markdown":"I don&#39;t have multiple auto-configuration classes, I only have the one mentioned above (see code).","body":"I don&#39;t have multiple auto-configuration classes, I only have the one mentioned above (see code)."}],"tags":[],"owner":{"account_id":8928773,"reputation":213,"user_id":6662076,"display_name":"Alireza Nazari"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700484657,"creation_date":1700484657,"answer_id":77516025,"question_id":77426246,"body_markdown":"The issue comes up because Spring has a tough time figuring out the generic type for CloudEventTypeMapper.\r\n\r\nTo fix this, you can use a nifty class called ResolvableType from Spring:\r\n\r\n    public abstract class OccurrentMongoAutoConfiguration {\r\n    \r\n        @Bean\r\n        @ConditionalOnMissingBean(CloudEventTypeMapper.class)\r\n        public CloudEventTypeMapper&lt;?&gt; occurrentTypeMapper() {\r\n            return ReflectionCloudEventTypeMapper.qualified();\r\n        }\r\n    \r\n        @Bean\r\n        @ConditionalOnMissingBean(CloudEventConverter.class)\r\n        public CloudEventConverter&lt;?&gt; occurrentCloudEventConverter(\r\n                Optional&lt;ObjectMapper&gt; objectMapper,\r\n                OccurrentProperties occurrentProperties,\r\n                CloudEventTypeMapper&lt;?&gt; cloudEventTypeMapper) {\r\n            \r\n            ResolvableType resolvableType = ResolvableType.forClassWithGenerics(CloudEventConverter.class, cloudEventTypeMapper.getClass());\r\n    \r\n            ObjectMapper mapper = objectMapper.orElseGet(ObjectMapper::new);\r\n            return new JacksonCloudEventConverter.Builder&lt;&gt;(mapper, occurrentProperties.getCloudEventConverter().getCloudEventSource())\r\n                    .typeMapper((CloudEventTypeMapper) resolvableType.resolveGeneric())\r\n                    .build();\r\n        }\r\n    }\r\n\r\nWith this change, Spring should now be able to figure out the generic type for CloudEventTypeMapper and create the occurrentCloudEventConverter bean smoothly. \r\nGive it a try and see if it solves your issue!","title":"Spring auto configuration doesn&#39;t find generic classes","body":"<p>The issue comes up because Spring has a tough time figuring out the generic type for CloudEventTypeMapper.</p>\n<p>To fix this, you can use a nifty class called ResolvableType from Spring:</p>\n<pre><code>public abstract class OccurrentMongoAutoConfiguration {\n\n    @Bean\n    @ConditionalOnMissingBean(CloudEventTypeMapper.class)\n    public CloudEventTypeMapper&lt;?&gt; occurrentTypeMapper() {\n        return ReflectionCloudEventTypeMapper.qualified();\n    }\n\n    @Bean\n    @ConditionalOnMissingBean(CloudEventConverter.class)\n    public CloudEventConverter&lt;?&gt; occurrentCloudEventConverter(\n            Optional&lt;ObjectMapper&gt; objectMapper,\n            OccurrentProperties occurrentProperties,\n            CloudEventTypeMapper&lt;?&gt; cloudEventTypeMapper) {\n        \n        ResolvableType resolvableType = ResolvableType.forClassWithGenerics(CloudEventConverter.class, cloudEventTypeMapper.getClass());\n\n        ObjectMapper mapper = objectMapper.orElseGet(ObjectMapper::new);\n        return new JacksonCloudEventConverter.Builder&lt;&gt;(mapper, occurrentProperties.getCloudEventConverter().getCloudEventSource())\n                .typeMapper((CloudEventTypeMapper) resolvableType.resolveGeneric())\n                .build();\n    }\n}\n</code></pre>\n<p>With this change, Spring should now be able to figure out the generic type for CloudEventTypeMapper and create the occurrentCloudEventConverter bean smoothly.\nGive it a try and see if it solves your issue!</p>\n"},{"comments":[{"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"score":0,"creation_date":1701417467,"post_id":77542059,"comment_id":136775434,"body_markdown":"While I could remove the ConditionalOnMissingBean annotation, I want to create a default if the user has not specified one, regardless of generic type.","body":"While I could remove the ConditionalOnMissingBean annotation, I want to create a default if the user has not specified one, regardless of generic type."},{"owner":{"account_id":7902590,"reputation":311,"user_id":5969163,"accept_rate":100,"display_name":"peacetrue"},"score":0,"creation_date":1701590854,"post_id":77542059,"comment_id":136793133,"body_markdown":"@Johan You need to remove  `fun rpsTypeMapper(): CloudEventTypeMapper&lt;GameEvent&gt; = ReflectionCloudEventTypeMapper.simple(GameEvent::class.java)\n`. This will be the default one.","body":"@Johan You need to remove  <code>fun rpsTypeMapper(): CloudEventTypeMapper&lt;GameEvent&gt; = ReflectionCloudEventTypeMapper.simple(GameEvent::class.java) </code>. This will be the default one."}],"tags":[],"owner":{"account_id":7902590,"reputation":311,"user_id":5969163,"accept_rate":100,"display_name":"peacetrue"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700818277,"creation_date":1700818277,"answer_id":77542059,"question_id":77426246,"body_markdown":"I modified the code for testing:\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean(CloudEventConverter.class)\r\n    public &lt;T&gt; CloudEventConverter&lt;?&gt; occurrentCloudEventConverter(Optional&lt;ObjectMapper&gt; objectMapper, OccurrentProperties occurrentProperties,\r\n                                                                   @Autowired(required = false) CloudEventTypeMapper&lt;T&gt; cloudEventTypeMapper) {\r\n        cloudEventTypeMapper = ReflectionCloudEventTypeMapper.qualified();\r\n        ObjectMapper mapper = objectMapper.orElseGet(ObjectMapper::new);\r\n        return new JacksonCloudEventConverter.Builder&lt;T&gt;(mapper, occurrentProperties.getCloudEventConverter().getCloudEventSource())\r\n                .typeMapper(cloudEventTypeMapper)\r\n                .build();\r\n    }\r\n\r\nPrompt following questions:\r\n\r\n      OccurrentMongoAutoConfiguration#occurrentTypeMapper:\r\n      Did not match:\r\n         - @ConditionalOnMissingBean (types: org.occurrent.application.converter.typemapper.CloudEventTypeMapper; SearchStrategy: all) found beans of type &#39;org.occurrent.application.converter.typemapper.CloudEventTypeMapper&#39; rpsTypeMapper (OnBeanCondition)\r\n\r\nAt Bootstrap.java, exists follow code:\r\n\r\n    @Bean\r\n    fun rpsTypeMapper(): CloudEventTypeMapper&lt;GameEvent&gt; = ReflectionCloudEventTypeMapper.simple(GameEvent::class.java)\r\n\r\ncaused occurrentTypeMapper in OccurrentMongoAutoConfiguration.java not invoked:\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean(CloudEventTypeMapper.class)\r\n    public CloudEventTypeMapper&lt;?&gt; occurrentTypeMapper() {\r\n        return ReflectionCloudEventTypeMapper.qualified();\r\n    }\r\n\r\nBut the type `CloudEventTypeMapper&lt;GameEvent&gt;` not matched `occurrentCloudEventConverter`.\r\n\r\nOtherwise remove `@ConditionalOnMissingBean(CloudEventTypeMapper.class)` will be ok.\r\n\r\n    @Bean\r\n    public CloudEventTypeMapper&lt;?&gt; occurrentTypeMapper() {\r\n        return ReflectionCloudEventTypeMapper.qualified();\r\n    }\r\n\r\n\r\n","title":"Spring auto configuration doesn&#39;t find generic classes","body":"<p>I modified the code for testing:</p>\n<pre><code>@Bean\n@ConditionalOnMissingBean(CloudEventConverter.class)\npublic &lt;T&gt; CloudEventConverter&lt;?&gt; occurrentCloudEventConverter(Optional&lt;ObjectMapper&gt; objectMapper, OccurrentProperties occurrentProperties,\n                                                               @Autowired(required = false) CloudEventTypeMapper&lt;T&gt; cloudEventTypeMapper) {\n    cloudEventTypeMapper = ReflectionCloudEventTypeMapper.qualified();\n    ObjectMapper mapper = objectMapper.orElseGet(ObjectMapper::new);\n    return new JacksonCloudEventConverter.Builder&lt;T&gt;(mapper, occurrentProperties.getCloudEventConverter().getCloudEventSource())\n            .typeMapper(cloudEventTypeMapper)\n            .build();\n}\n</code></pre>\n<p>Prompt following questions:</p>\n<pre><code>  OccurrentMongoAutoConfiguration#occurrentTypeMapper:\n  Did not match:\n     - @ConditionalOnMissingBean (types: org.occurrent.application.converter.typemapper.CloudEventTypeMapper; SearchStrategy: all) found beans of type 'org.occurrent.application.converter.typemapper.CloudEventTypeMapper' rpsTypeMapper (OnBeanCondition)\n</code></pre>\n<p>At Bootstrap.java, exists follow code:</p>\n<pre><code>@Bean\nfun rpsTypeMapper(): CloudEventTypeMapper&lt;GameEvent&gt; = ReflectionCloudEventTypeMapper.simple(GameEvent::class.java)\n</code></pre>\n<p>caused occurrentTypeMapper in OccurrentMongoAutoConfiguration.java not invoked:</p>\n<pre><code>@Bean\n@ConditionalOnMissingBean(CloudEventTypeMapper.class)\npublic CloudEventTypeMapper&lt;?&gt; occurrentTypeMapper() {\n    return ReflectionCloudEventTypeMapper.qualified();\n}\n</code></pre>\n<p>But the type <code>CloudEventTypeMapper&lt;GameEvent&gt;</code> not matched <code>occurrentCloudEventConverter</code>.</p>\n<p>Otherwise remove <code>@ConditionalOnMissingBean(CloudEventTypeMapper.class)</code> will be ok.</p>\n<pre><code>@Bean\npublic CloudEventTypeMapper&lt;?&gt; occurrentTypeMapper() {\n    return ReflectionCloudEventTypeMapper.qualified();\n}\n</code></pre>\n"}],"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1700818277,"creation_date":1699193570,"question_id":77426246,"body_markdown":"I&#39;m using Spring Boot 3.1.5 and I&#39;m trying to implement an auto-configuration class (called `OccurrentMongoAutoConfiguration`) for one of my open-source projects. In this project, I have a generic interface defined like this:\r\n\r\n```\r\npublic interface CloudEventConverter&lt;T&gt; {\r\n        ... \r\n}\r\n```\r\n\r\nI&#39;d like the auto-configuration to create a default bean of such as interface, unless it already exists. Here&#39;s the code that I have in my auto-configuration class:\r\n\r\n```\r\n@Bean\r\n@ConditionalOnMissingBean(CloudEventTypeMapper.class)\r\npublic CloudEventTypeMapper&lt;?&gt; occurrentTypeMapper() {\r\n    return ReflectionCloudEventTypeMapper.qualified();\r\n}\r\n```\r\n\r\nNow, this `CloudEventTypeMapper` is used in this method:\r\n\r\n```\r\n@Bean\r\n@ConditionalOnMissingBean(CloudEventConverter.class)\r\npublic &lt;T&gt; CloudEventConverter&lt;?&gt; occurrentCloudEventConverter(Optional&lt;ObjectMapper&gt; objectMapper, OccurrentProperties occurrentProperties, CloudEventTypeMapper&lt;T&gt; cloudEventTypeMapper) {\r\n    ObjectMapper mapper = objectMapper.orElseGet(ObjectMapper::new);\r\n    return new JacksonCloudEventConverter.Builder&lt;T&gt;(mapper, occurrentProperties.getCloudEventConverter().getCloudEventSource())\r\n            .typeMapper(cloudEventTypeMapper)\r\n            .build();\r\n}\r\n```\r\n\r\nHowever, when I try to bootstrap an application that loads my auto-configuration, I get this error:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 2 of method occurrentCloudEventConverter in org.occurrent.springboot.mongo.blocking.OccurrentMongoAutoConfiguration required a bean of type &#39;org.occurrent.application.converter.typemapper.CloudEventTypeMapper&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.occurrent.application.converter.typemapper.CloudEventTypeMapper&#39; in your configuration.\r\n```\r\n\r\nThis is even the case if I try to add such a bean manually:\r\n\r\n```kotlin\r\n@Bean\r\nfun rpsTypeMapper(): CloudEventTypeMapper&lt;GameEvent&gt; = ReflectionCloudEventTypeMapper. qualified(GameEvent::class.java)\r\n```\r\n\r\nIf I debug the code, I can see that it goes into the `rpsTypeMapper`, but it doesn&#39;t seem to be injected to `occurrentCloudEventConverter` (and neither is the default `occurrentTypeMapper` bean).  \r\n\r\nI&#39;ve tried removing the generics (`&lt;T&gt;`) in the `OccurrentMongoAutoConfiguration` as well as replacing them with `&lt;?&gt;`, but it doesn&#39;t help.\r\n\r\nWhat&#39;s wrong and how can I fix it?\r\n\r\nPS: Here&#39;s the code for the [OccurrentMongoAutoConfiguration](https://github.com/johanhaleby/occurrent/blob/decider-web/framework/spring-boot-starter-mongodb/src/main/java/org/occurrent/springboot/mongo/blocking/OccurrentMongoAutoConfiguration.java), and here&#39;s the [bootstrap code](https://github.com/johanhaleby/occurrent/blob/decider-web/example/domain/rps/decider-model-web/src/main/kotlin/org/occurrent/example/domain/rps/decidermodel/web/Bootstrap.kt). It&#39;s also possible to start the app using test containers, by running [TestBootstrap](https://github.com/johanhaleby/occurrent/blob/decider-web/example/domain/rps/decider-model-web/src/test/kotlin/org/occurrent/example/domain/rps/decidermodel/TestBoostrap.kt).\r\n\r\nTo reproduce you can clone the repository from here: `git@github.com:johanhaleby/occurrent.git`, then switch branch to `decider-web` and run the main method in `org.occurrent.example.domain.rps.decidermodel.TestBoostrap`.\r\n","title":"Spring auto configuration doesn&#39;t find generic classes","body":"<p>I'm using Spring Boot 3.1.5 and I'm trying to implement an auto-configuration class (called <code>OccurrentMongoAutoConfiguration</code>) for one of my open-source projects. In this project, I have a generic interface defined like this:</p>\n<pre><code>public interface CloudEventConverter&lt;T&gt; {\n        ... \n}\n</code></pre>\n<p>I'd like the auto-configuration to create a default bean of such as interface, unless it already exists. Here's the code that I have in my auto-configuration class:</p>\n<pre><code>@Bean\n@ConditionalOnMissingBean(CloudEventTypeMapper.class)\npublic CloudEventTypeMapper&lt;?&gt; occurrentTypeMapper() {\n    return ReflectionCloudEventTypeMapper.qualified();\n}\n</code></pre>\n<p>Now, this <code>CloudEventTypeMapper</code> is used in this method:</p>\n<pre><code>@Bean\n@ConditionalOnMissingBean(CloudEventConverter.class)\npublic &lt;T&gt; CloudEventConverter&lt;?&gt; occurrentCloudEventConverter(Optional&lt;ObjectMapper&gt; objectMapper, OccurrentProperties occurrentProperties, CloudEventTypeMapper&lt;T&gt; cloudEventTypeMapper) {\n    ObjectMapper mapper = objectMapper.orElseGet(ObjectMapper::new);\n    return new JacksonCloudEventConverter.Builder&lt;T&gt;(mapper, occurrentProperties.getCloudEventConverter().getCloudEventSource())\n            .typeMapper(cloudEventTypeMapper)\n            .build();\n}\n</code></pre>\n<p>However, when I try to bootstrap an application that loads my auto-configuration, I get this error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 2 of method occurrentCloudEventConverter in org.occurrent.springboot.mongo.blocking.OccurrentMongoAutoConfiguration required a bean of type 'org.occurrent.application.converter.typemapper.CloudEventTypeMapper' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.occurrent.application.converter.typemapper.CloudEventTypeMapper' in your configuration.\n</code></pre>\n<p>This is even the case if I try to add such a bean manually:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Bean\nfun rpsTypeMapper(): CloudEventTypeMapper&lt;GameEvent&gt; = ReflectionCloudEventTypeMapper. qualified(GameEvent::class.java)\n</code></pre>\n<p>If I debug the code, I can see that it goes into the <code>rpsTypeMapper</code>, but it doesn't seem to be injected to <code>occurrentCloudEventConverter</code> (and neither is the default <code>occurrentTypeMapper</code> bean).</p>\n<p>I've tried removing the generics (<code>&lt;T&gt;</code>) in the <code>OccurrentMongoAutoConfiguration</code> as well as replacing them with <code>&lt;?&gt;</code>, but it doesn't help.</p>\n<p>What's wrong and how can I fix it?</p>\n<p>PS: Here's the code for the <a href=\"https://github.com/johanhaleby/occurrent/blob/decider-web/framework/spring-boot-starter-mongodb/src/main/java/org/occurrent/springboot/mongo/blocking/OccurrentMongoAutoConfiguration.java\" rel=\"nofollow noreferrer\">OccurrentMongoAutoConfiguration</a>, and here's the <a href=\"https://github.com/johanhaleby/occurrent/blob/decider-web/example/domain/rps/decider-model-web/src/main/kotlin/org/occurrent/example/domain/rps/decidermodel/web/Bootstrap.kt\" rel=\"nofollow noreferrer\">bootstrap code</a>. It's also possible to start the app using test containers, by running <a href=\"https://github.com/johanhaleby/occurrent/blob/decider-web/example/domain/rps/decider-model-web/src/test/kotlin/org/occurrent/example/domain/rps/decidermodel/TestBoostrap.kt\" rel=\"nofollow noreferrer\">TestBootstrap</a>.</p>\n<p>To reproduce you can clone the repository from here: <code>git@github.com:johanhaleby/occurrent.git</code>, then switch branch to <code>decider-web</code> and run the main method in <code>org.occurrent.example.domain.rps.decidermodel.TestBoostrap</code>.</p>\n"},{"tags":["java","sorting","java-stream"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700809344,"post_id":77541186,"comment_id":136700869,"body_markdown":"I don&#39;t see where your IDE gets that idea. Nothing can possibly go into `allMatch()` until after the sort completes, so of course if depends on the sort order.","body":"I don&#39;t see where your IDE gets that idea. Nothing can possibly go into <code>allMatch()</code> until after the sort completes, so of course if depends on the sort order."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1700809925,"post_id":77541186,"comment_id":136700939,"body_markdown":"&quot;Nothing can possibly go into allMatch() until after the sort completes&quot; this isn&#39;t true. allMatch needs to check (up to) all elements, so the order it does that in isn&#39;t relevant for correctness of the result; and sorting doesn&#39;t add our remove elements; hence the sorting _could_ be optimized away.","body":"&quot;Nothing can possibly go into allMatch() until after the sort completes&quot; this isn&#39;t true. allMatch needs to check (up to) all elements, so the order it does that in isn&#39;t relevant for correctness of the result; and sorting doesn&#39;t add our remove elements; hence the sorting <i>could</i> be optimized away."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700810252,"post_id":77541186,"comment_id":136700987,"body_markdown":"@AndyTurner That doesn&#39;t make sense. Nothing can come *out* of the sort until it has seen all the elements in the stream: then the leastmost element becomes available to the next step in the pipeline.","body":"@AndyTurner That doesn&#39;t make sense. Nothing can come <i>out</i> of the sort until it has seen all the elements in the stream: then the leastmost element becomes available to the next step in the pipeline."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1700810382,"post_id":77541186,"comment_id":136701003,"body_markdown":"@user207421 can you give an example where the ordering of a stream affects the value of an allMatch operation?","body":"@user207421 can you give an example where the ordering of a stream affects the value of an allMatch operation?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700810620,"post_id":77541186,"comment_id":136701040,"body_markdown":"@AndyTurner Can you give me an example of a sort algorithm that can produce the leastmost element before it&#39;s seen all the input?","body":"@AndyTurner Can you give me an example of a sort algorithm that can produce the leastmost element before it&#39;s seen all the input?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1700810727,"post_id":77541186,"comment_id":136701056,"body_markdown":"No, but that&#39;s not what we are doing here: we are checking if a predicate matches everything in the stream, not looking for the minimal element.","body":"No, but that&#39;s not what we are doing here: we are checking if a predicate matches everything in the stream, not looking for the minimal element."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700811076,"post_id":77541186,"comment_id":136701102,"body_markdown":"@AndyTurner 1. You claimed that &#39;nothing can go into the `allMatch()` until after the sort completes&#39; is untrue. It isn&#39;t untrue, and you are now evading that issue. 2. The question is about performance. If the predicate is `x -&gt; x &gt; 10` and the sort produces a least element of `x == 1`, the `allMatch()` can fail immediately, instead of whenever `x == 1` turns up in the unsorted stream.","body":"@AndyTurner 1. You claimed that &#39;nothing can go into the <code>allMatch()</code> until after the sort completes&#39; is untrue. It isn&#39;t untrue, and you are now evading that issue. 2. The question is about performance. If the predicate is <code>x -&gt; x &gt; 10</code> and the sort produces a least element of <code>x == 1</code>, the <code>allMatch()</code> can fail immediately, instead of whenever <code>x == 1</code> turns up in the unsorted stream."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1700811378,"post_id":77541186,"comment_id":136701162,"body_markdown":"@user207421 no evasion here. I&#39;m saying that `stream.sort(...).allMatch(...)` has the same result as `stream.allMatch(...)`, i.e. the sort can be elided without affecting the result. In the worst case, the first is O(n log n) + O(n) = O(n log n); the second is O(n). Therefore it is better performance (in the worst case).","body":"@user207421 no evasion here. I&#39;m saying that <code>stream.sort(...).allMatch(...)</code> has the same result as <code>stream.allMatch(...)</code>, i.e. the sort can be elided without affecting the result. In the worst case, the first is O(n log n) + O(n) = O(n log n); the second is O(n). Therefore it is better performance (in the worst case)."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1700811487,"post_id":77541186,"comment_id":136701173,"body_markdown":"@user207 There&#39;s nothing that stops the compiler/runtime from encoding certain information such as &quot;if an operation that produces an unordered sequence is preceded by a sort then eliminate the sort&quot;. As a matter of fact other languages that implement something similar to the stream API do this for certain implementations and certain circumstances.","body":"@user207 There&#39;s nothing that stops the compiler/runtime from encoding certain information such as &quot;if an operation that produces an unordered sequence is preceded by a sort then eliminate the sort&quot;. As a matter of fact other languages that implement something similar to the stream API do this for certain implementations and certain circumstances."},{"owner":{"account_id":3239497,"reputation":145,"user_id":2732883,"display_name":"melix"},"score":0,"creation_date":1700812122,"post_id":77541186,"comment_id":136701278,"body_markdown":"@AndyTurner from a pure complexy theory point of view, you are absolutely right. But the worst case is not the most likely case. To what my question may boil down: Does the stream *firstly* sort *everything* and than apply the predicate? Or does it &quot;bypass&quot; somehow?","body":"@AndyTurner from a pure complexy theory point of view, you are absolutely right. But the worst case is not the most likely case. To what my question may boil down: Does the stream <i>firstly</i> sort <i>everything</i> and than apply the predicate? Or does it &quot;bypass&quot; somehow?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700814905,"post_id":77541186,"comment_id":136701713,"body_markdown":"@AndyTurner *Of course* it has the same *result:* but that&#39;s not the question. The question is about *performance.* If the sort can present a predicate-failing case sooner to `allMatch()`, that means that `allMatch()` gets called fewer times: and if the cost of the sort is less than the cost of whatever the `allMatch()` has to do over the entire stream, the OP is ahead.","body":"@AndyTurner <i>Of course</i> it has the same <i>result:</i> but that&#39;s not the question. The question is about <i>performance.</i> If the sort can present a predicate-failing case sooner to <code>allMatch()</code>, that means that <code>allMatch()</code> gets called fewer times: and if the cost of the sort is less than the cost of whatever the <code>allMatch()</code> has to do over the entire stream, the OP is ahead."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700905834,"post_id":77541186,"comment_id":136711362,"body_markdown":"@melix It sorts everything first.","body":"@melix It sorts everything first."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700905885,"post_id":77541186,"comment_id":136711367,"body_markdown":"@Voo There is nothing that gives either the compiler or the runtime system enough information to do any such thing, given that database operations are involved.","body":"@Voo There is nothing that gives either the compiler or the runtime system enough information to do any such thing, given that database operations are involved."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701098199,"post_id":77541186,"comment_id":136729588,"body_markdown":"@user207421 your explanation is completely off, `sorted` does not do anything except storing the information that sorted processing has been requested and `allMatch` is only invoked a single time. It’s one operation and the implementation of that operation decides whether to perform the previous steps or skip them. For example, `count()` does already skip a preceding sorting step in some cases. This has been added in Java&#160;9 though the possibility existed in Java&#160;8 too. Likewise, an `allMatch` implementation of a future Java version may skip the sorting even if the current version does not.","body":"@user207421 your explanation is completely off, <code>sorted</code> does not do anything except storing the information that sorted processing has been requested and <code>allMatch</code> is only invoked a single time. It’s one operation and the implementation of that operation decides whether to perform the previous steps or skip them. For example, <code>count()</code> does already skip a preceding sorting step in some cases. This has been added in Java 9 though the possibility existed in Java 8 too. Likewise, an <code>allMatch</code> implementation of a future Java version may skip the sorting even if the current version does not."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701098523,"post_id":77541643,"comment_id":136729686,"body_markdown":"The “good reason why someone would implement it that way” is the same reason as to why `findAny` or `forEach` are specified as unordered: because sorting is not short-circuiting and can be expensive. Though, at the moment, `count()` is the only terminal operation actually skipping a sorting step in the reference implementation.","body":"The “good reason why someone would implement it that way” is the same reason as to why <code>findAny</code> or <code>forEach</code> are specified as unordered: because sorting is not short-circuiting and can be expensive. Though, at the moment, <code>count()</code> is the only terminal operation actually skipping a sorting step in the reference implementation."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1700814301,"creation_date":1700814301,"answer_id":77541643,"question_id":77541186,"body_markdown":"&gt; So my question is: Does `allMatch()` consider the sort order imposed beforehand? Or does it ignore it?\r\n\r\nI found no guarantees in the JavaDoc that `allMatch` will respect the encounter order. It *might* be implemented to respect the encounter order anyway.\r\n\r\nRelevant sections of the [documentation][1] are (emphasis mine):\r\n\r\n&gt; Streams may or may not have a defined encounter order. [...] Some intermediate operations, such as `sorted()`, may impose an encounter order on an otherwise unordered stream. Further, ***some terminal operations may ignore encounter order***, such as `forEach()`.\r\n\r\n&gt; If a stream is ordered, ***most*** operations are constrained to operate on the elements in their encounter order.\r\n\r\nSo `allMatch` could very well be implemented so that it does not process elements in the sorted order, similar to `findAny` and `forEach`. I can&#39;t think of a good reason why someone would implement it that way, but nevertheless, the documentation does not guarantee.\r\n\r\nAs always with performance, the best thing to do is to [race your horses][2]. Actually write benchmarks on some real data to see which one is faster. The performance depends on many more factors than just &quot;does `allMatch` respect the order&quot;. \r\n\r\nIf you have a large number of `items`, for example, it might not be worth the effort to sort all of them, regardless of whether `allMatch` respects the order.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Ordering\r\n  [2]: https://ericlippert.com/2012/12/17/performance-rant/","title":"Does sorting a Java stream before calling allMatch with a predicate that has different costs gain any benefits?","body":"<blockquote>\n<p>So my question is: Does <code>allMatch()</code> consider the sort order imposed beforehand? Or does it ignore it?</p>\n</blockquote>\n<p>I found no guarantees in the JavaDoc that <code>allMatch</code> will respect the encounter order. It <em>might</em> be implemented to respect the encounter order anyway.</p>\n<p>Relevant sections of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Ordering\" rel=\"nofollow noreferrer\">documentation</a> are (emphasis mine):</p>\n<blockquote>\n<p>Streams may or may not have a defined encounter order. [...] Some intermediate operations, such as <code>sorted()</code>, may impose an encounter order on an otherwise unordered stream. Further, <em><strong>some terminal operations may ignore encounter order</strong></em>, such as <code>forEach()</code>.</p>\n</blockquote>\n<blockquote>\n<p>If a stream is ordered, <em><strong>most</strong></em> operations are constrained to operate on the elements in their encounter order.</p>\n</blockquote>\n<p>So <code>allMatch</code> could very well be implemented so that it does not process elements in the sorted order, similar to <code>findAny</code> and <code>forEach</code>. I can't think of a good reason why someone would implement it that way, but nevertheless, the documentation does not guarantee.</p>\n<p>As always with performance, the best thing to do is to <a href=\"https://ericlippert.com/2012/12/17/performance-rant/\" rel=\"nofollow noreferrer\">race your horses</a>. Actually write benchmarks on some real data to see which one is faster. The performance depends on many more factors than just &quot;does <code>allMatch</code> respect the order&quot;.</p>\n<p>If you have a large number of <code>items</code>, for example, it might not be worth the effort to sort all of them, regardless of whether <code>allMatch</code> respects the order.</p>\n"},{"comments":[{"owner":{"account_id":3239497,"reputation":145,"user_id":2732883,"display_name":"melix"},"score":0,"creation_date":1700823269,"post_id":77541713,"comment_id":136703110,"body_markdown":"Interesting idea! But unfortunately, there is no way to know beforehand if any validations may fail.","body":"Interesting idea! But unfortunately, there is no way to know beforehand if any validations may fail."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1700824884,"post_id":77541713,"comment_id":136703358,"body_markdown":"I said *probability* ... not certainty.","body":"I said <i>probability</i> ... not certainty."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1700818233,"creation_date":1700814933,"answer_id":77541713,"question_id":77541186,"body_markdown":"&gt; Does `allMatch()` consider the sort order imposed beforehand? Or does it ignore it?\r\n\r\nIf you are asking ... does `allMatch()` have to wait until the stream contents are sorted, the answer is going to be yes, for a sensible implementation of `sorted()`&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nIf you are asking if `allMatch()` *could* benefit from the stream being sorted, then the answer is yes, because of *possible* short-circuiting in `allMatch` when it encounters an element for which the predicate returns `false`.  (The javadocs don&#39;t say that short-circuiting *will* happpen&lt;sup&gt;2&lt;/sup&gt;, but that would be a legitimate implementation approach.) But could also go the other way.  It depends ...\r\n\r\n-----------------------\r\n\r\nThe question of whether it is more efficient to sort first will depend on the relative costs of `equals` vs `validate`, AND on the probability that elements will fail to validate.  There will be a point where you spend more time sorting than you will gain *on average* by reducing the `allMatch()` cost.\r\n\r\nUnfortunately ... the mathematics of this will be complicated&lt;sup&gt;3&lt;/sup&gt;, and will require accurate cost *functions* and probability distributions to provide an valid answer.\r\n\r\nMy advice would be make sure you are not doing premature optimization.  And when you do optimize, make sure that your trial datasets are representative.  My intuition says that the optimal algorithm is likely to be very data dependent, and that can makes optimization problematic.\r\n\r\n-----------------------\r\n\r\nBut here&#39;s a thought.  Rather than sorting in ascending order of cost of validation, how about sorting in descending order of probability of validation failure?\r\n\r\n-----------------------\r\n\r\n&lt;sup&gt;1 - In theory, `sorted` could deliver the first (smallest) element in the stream in O(N).  However, optimizing it to do that would most likely be an anti-optimization overall.&lt;br&gt;\r\n2 - The javadoc says *&quot;[may not evaluate the predicate on all elements if not necessary for determining the result.&quot;*.  It does not say **will not** or **shall not**.&lt;br&gt;\r\n3 - ... and way beyond my ability.&lt;/sup&gt;\r\n","title":"Does sorting a Java stream before calling allMatch with a predicate that has different costs gain any benefits?","body":"<blockquote>\n<p>Does <code>allMatch()</code> consider the sort order imposed beforehand? Or does it ignore it?</p>\n</blockquote>\n<p>If you are asking ... does <code>allMatch()</code> have to wait until the stream contents are sorted, the answer is going to be yes, for a sensible implementation of <code>sorted()</code><sup>1</sup>.</p>\n<p>If you are asking if <code>allMatch()</code> <em>could</em> benefit from the stream being sorted, then the answer is yes, because of <em>possible</em> short-circuiting in <code>allMatch</code> when it encounters an element for which the predicate returns <code>false</code>.  (The javadocs don't say that short-circuiting <em>will</em> happpen<sup>2</sup>, but that would be a legitimate implementation approach.) But could also go the other way.  It depends ...</p>\n<hr />\n<p>The question of whether it is more efficient to sort first will depend on the relative costs of <code>equals</code> vs <code>validate</code>, AND on the probability that elements will fail to validate.  There will be a point where you spend more time sorting than you will gain <em>on average</em> by reducing the <code>allMatch()</code> cost.</p>\n<p>Unfortunately ... the mathematics of this will be complicated<sup>3</sup>, and will require accurate cost <em>functions</em> and probability distributions to provide an valid answer.</p>\n<p>My advice would be make sure you are not doing premature optimization.  And when you do optimize, make sure that your trial datasets are representative.  My intuition says that the optimal algorithm is likely to be very data dependent, and that can makes optimization problematic.</p>\n<hr />\n<p>But here's a thought.  Rather than sorting in ascending order of cost of validation, how about sorting in descending order of probability of validation failure?</p>\n<hr />\n<p><sup>1 - In theory, <code>sorted</code> could deliver the first (smallest) element in the stream in O(N).  However, optimizing it to do that would most likely be an anti-optimization overall.<br>\n2 - The javadoc says <em>&quot;[may not evaluate the predicate on all elements if not necessary for determining the result.&quot;</em>.  It does not say <strong>will not</strong> or <strong>shall not</strong>.<br>\n3 - ... and way beyond my ability.</sup></p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701098943,"post_id":77541928,"comment_id":136729804,"body_markdown":"This tests just one particular implementation. There is no guaranty that `allMatch` will respect the `sorted` request. You could build an ordered solution around `findFirst()` but even then, it’s not guaranteed that the processing order matches the encounter order.","body":"This tests just one particular implementation. There is no guaranty that <code>allMatch</code> will respect the <code>sorted</code> request. You could build an ordered solution around <code>findFirst()</code> but even then, it’s not guaranteed that the processing order matches the encounter order."}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700816944,"creation_date":1700816944,"answer_id":77541928,"question_id":77541186,"body_markdown":"From your description\r\n\r\n&gt; The validation by the predicate differentiates in costs. Some of the elements just need to check an attribute, for some of them I have to fetch potentially many elements from a database and evaluate them, too.\r\n\r\nI created a simple test case. The class `Waiter` has a single `int` property that defines the sort order and also how long it takes to evaluate the predicate:\r\n\r\n    public class Waiter implements Comparable&lt;Waiter&gt; {\r\n        private final int time;\r\n    \r\n        public Waiter(int time) {\r\n            this.time = time;\r\n        }\r\n    \r\n        public boolean isValid() {\r\n            try {\r\n                Thread.sleep(time);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            return time &gt; 10;\r\n        }\r\n    \r\n        @Override\r\n        public int compareTo(Waiter o) {\r\n            return Integer.compare(time, o.time);\r\n        }\r\n    }\r\n\r\nThe class `Sorter` creates a few `Waiter`s and outputs the time for `allMatch()` on either the unsorted or the sorted list of waiters:\r\n\r\n    import java.util.List;\r\n    \r\n    public class Sorter {\r\n        public static void main(String[] args) {\r\n            var data = List.of(\r\n                    new Waiter(500),\r\n                    new Waiter(500),\r\n                    new Waiter(500),\r\n                    new Waiter(500),\r\n                    new Waiter(1)\r\n            );\r\n            System.out.printf(&quot;Duration sorted: %d ms%n&quot;, time(() -&gt; data.stream().sorted().allMatch(Waiter::isValid)));\r\n            System.out.printf(&quot;Duration unsorted: %d ms%n&quot;, time(() -&gt; data.stream().allMatch(Waiter::isValid)));\r\n            System.out.printf(&quot;Duration sorted: %d ms%n&quot;, time(() -&gt; data.stream().sorted().allMatch(Waiter::isValid)));\r\n            System.out.printf(&quot;Duration unsorted: %d ms%n&quot;, time(() -&gt; data.stream().allMatch(Waiter::isValid)));\r\n        }\r\n    \r\n        private static long time(Runnable r) {\r\n            long start = System.currentTimeMillis();\r\n            r.run();\r\n            return System.currentTimeMillis() - start;\r\n        }\r\n    }\r\n\r\nAnd the result is as expected: if the `Waiter` that whos predicate evaluates to false is the first (i.e. the data is sorted) the `allMatch()` is evaluated faster:\r\n\r\n&gt;     Duration sorted: 6 ms\r\n&gt;     Duration unsorted: 2021 ms\r\n&gt;     Duration sorted: 3 ms\r\n&gt;     Duration unsorted: 2030 ms\r\n\r\nNote that if I change the last `Waiter` to also wait 500ms the unsorted variant is always faster (because sorting takes time and doesn&#39;t change the output for the case where all predicates match)\r\n\r\n---\r\nPlease remember that this is a very simplistic test and may be skewed by various factors:\r\n\r\n* this is not a proper microbenchmark. There is no warmup and only a two runs of both tests. The numbers might look different after a proper warmup.\r\n\r\n* sorting itself takes time. In this simple case the time to sort the data is small, but your data may differ\r\n\r\n  * sorting pays off only if `allMatch()` can short-circuit (i.e. at least one predicate fails)\r\n\r\n  * on the other hand, for the case where all predicates return true you **have a performance penalty** due to the sorting\r\n\r\n----\r\nConclusion: \r\n\r\n* sorting the stream offers benefits if some predicates fail and sorting has the effects that the predicates that fail are moved to the beginning of the sorted stream.\r\n\r\n* for the case where all predicates match there is a penalty for the sorting\r\n\r\nYou need to find out which of those two cases better describes your problem.","title":"Does sorting a Java stream before calling allMatch with a predicate that has different costs gain any benefits?","body":"<p>From your description</p>\n<blockquote>\n<p>The validation by the predicate differentiates in costs. Some of the elements just need to check an attribute, for some of them I have to fetch potentially many elements from a database and evaluate them, too.</p>\n</blockquote>\n<p>I created a simple test case. The class <code>Waiter</code> has a single <code>int</code> property that defines the sort order and also how long it takes to evaluate the predicate:</p>\n<pre><code>public class Waiter implements Comparable&lt;Waiter&gt; {\n    private final int time;\n\n    public Waiter(int time) {\n        this.time = time;\n    }\n\n    public boolean isValid() {\n        try {\n            Thread.sleep(time);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        return time &gt; 10;\n    }\n\n    @Override\n    public int compareTo(Waiter o) {\n        return Integer.compare(time, o.time);\n    }\n}\n</code></pre>\n<p>The class <code>Sorter</code> creates a few <code>Waiter</code>s and outputs the time for <code>allMatch()</code> on either the unsorted or the sorted list of waiters:</p>\n<pre><code>import java.util.List;\n\npublic class Sorter {\n    public static void main(String[] args) {\n        var data = List.of(\n                new Waiter(500),\n                new Waiter(500),\n                new Waiter(500),\n                new Waiter(500),\n                new Waiter(1)\n        );\n        System.out.printf(&quot;Duration sorted: %d ms%n&quot;, time(() -&gt; data.stream().sorted().allMatch(Waiter::isValid)));\n        System.out.printf(&quot;Duration unsorted: %d ms%n&quot;, time(() -&gt; data.stream().allMatch(Waiter::isValid)));\n        System.out.printf(&quot;Duration sorted: %d ms%n&quot;, time(() -&gt; data.stream().sorted().allMatch(Waiter::isValid)));\n        System.out.printf(&quot;Duration unsorted: %d ms%n&quot;, time(() -&gt; data.stream().allMatch(Waiter::isValid)));\n    }\n\n    private static long time(Runnable r) {\n        long start = System.currentTimeMillis();\n        r.run();\n        return System.currentTimeMillis() - start;\n    }\n}\n</code></pre>\n<p>And the result is as expected: if the <code>Waiter</code> that whos predicate evaluates to false is the first (i.e. the data is sorted) the <code>allMatch()</code> is evaluated faster:</p>\n<blockquote>\n<pre><code>Duration sorted: 6 ms\nDuration unsorted: 2021 ms\nDuration sorted: 3 ms\nDuration unsorted: 2030 ms\n</code></pre>\n</blockquote>\n<p>Note that if I change the last <code>Waiter</code> to also wait 500ms the unsorted variant is always faster (because sorting takes time and doesn't change the output for the case where all predicates match)</p>\n<hr />\n<p>Please remember that this is a very simplistic test and may be skewed by various factors:</p>\n<ul>\n<li><p>this is not a proper microbenchmark. There is no warmup and only a two runs of both tests. The numbers might look different after a proper warmup.</p>\n</li>\n<li><p>sorting itself takes time. In this simple case the time to sort the data is small, but your data may differ</p>\n<ul>\n<li><p>sorting pays off only if <code>allMatch()</code> can short-circuit (i.e. at least one predicate fails)</p>\n</li>\n<li><p>on the other hand, for the case where all predicates return true you <strong>have a performance penalty</strong> due to the sorting</p>\n</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p>Conclusion:</p>\n<ul>\n<li><p>sorting the stream offers benefits if some predicates fail and sorting has the effects that the predicates that fail are moved to the beginning of the sorted stream.</p>\n</li>\n<li><p>for the case where all predicates match there is a penalty for the sorting</p>\n</li>\n</ul>\n<p>You need to find out which of those two cases better describes your problem.</p>\n"}],"owner":{"account_id":3239497,"reputation":145,"user_id":2732883,"display_name":"melix"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":77541928,"answer_count":3,"score":6,"last_activity_date":1700818233,"creation_date":1700808461,"question_id":77541186,"body_markdown":"I have implemented a Java stream pipeline where some elements are sorted and checked if all of them fulfill a predicate. The pipeline looks like this:\r\n\r\n```\r\nitems.stream()\r\n     .sorted(this::sortByType)\r\n     .allMatch(this::isCompliant);\r\n```\r\n\r\nThe validation by the predicate differentiates in costs. Some of the elements just need to check an attribute, for some of them I have to fetch potentially many elements from a database and evaluate them, too.\r\n\r\nAs I need to know that **all** of them are true, knowing that **at least one** is false, is equivalent. If I correctly understand the JavaDoc of the allMatch() operation, it should short curcuit as soon as one element is false.\r\n\r\nSo, in order to potentially improve the execution speed, I order the elements so that all of the very easy validations are executed first and only if they all succeed, I execute the more costly validations.\r\n\r\nThat is at least what I think happens. However, my IDE tells me, that sorting before calling allMatch() is redundant, because it does not depend on the sort order.\r\n\r\nI wrote some tests which seem to indicate that the sort order *is in fact* regarded when traversing the pipeline, but maybe my test case is just to small or it just happened to be called correctly.\r\n\r\nSo my question is: Does allMatch() consider the sort order imposed beforehand? Or does it ignore it?","title":"Does sorting a Java stream before calling allMatch with a predicate that has different costs gain any benefits?","body":"<p>I have implemented a Java stream pipeline where some elements are sorted and checked if all of them fulfill a predicate. The pipeline looks like this:</p>\n<pre><code>items.stream()\n     .sorted(this::sortByType)\n     .allMatch(this::isCompliant);\n</code></pre>\n<p>The validation by the predicate differentiates in costs. Some of the elements just need to check an attribute, for some of them I have to fetch potentially many elements from a database and evaluate them, too.</p>\n<p>As I need to know that <strong>all</strong> of them are true, knowing that <strong>at least one</strong> is false, is equivalent. If I correctly understand the JavaDoc of the allMatch() operation, it should short curcuit as soon as one element is false.</p>\n<p>So, in order to potentially improve the execution speed, I order the elements so that all of the very easy validations are executed first and only if they all succeed, I execute the more costly validations.</p>\n<p>That is at least what I think happens. However, my IDE tells me, that sorting before calling allMatch() is redundant, because it does not depend on the sort order.</p>\n<p>I wrote some tests which seem to indicate that the sort order <em>is in fact</em> regarded when traversing the pipeline, but maybe my test case is just to small or it just happened to be called correctly.</p>\n<p>So my question is: Does allMatch() consider the sort order imposed beforehand? Or does it ignore it?</p>\n"},{"tags":["java","spring-boot","saml"],"owner":{"account_id":6003905,"reputation":85,"user_id":4716376,"display_name":"miguel lopez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700817523,"creation_date":1700814671,"question_id":77541682,"body_markdown":"I want to add a SAML signature in the simplest way possible to a SOAP service call that is made through Feign.  I have the certificate to sign which is:\r\n\r\n     -----BEGIN CERTIFICATE-----\r\n    MIIC4jCCAcoCCQC33wnybT5QZDANBgkqhkiG9w0BAQsFADAyMQswCQYDVQQQGEwJV\r\n    SzEPMA0GA1UECgwGQm94eUhRMRIwEAYDVQQQDDAlNb2NrIFNBTUwwIBcNMjIwMjI4\r\n    MjE0NjM4WhgPMzAyMTA3MDEyMTQ2MzhaMDIxCzAJBgNVVBAYTAlVLMQ8wDQYDVQQQK\r\n    DAZCb3h5SFExEjAQBgNVBAMMCU1vY2sgU0FNTDCCASIwDQYJKoZIhvcNAQEBBQAD\r\n    ggEPADCCAQoCggEBALGfYettMsct1T6tVUwTudNJH5Pnb9GGnkXi9Zw/e6x45DDD0\r\n    RuRONbFlJ2T4RjAE/uG+AjXxXQ8o2SZfb9+GgmCHuTJFNgHoZ1nFVXCmb/Hg8Hpd\r\n    4vOAGXndixaReOiq3EH5XvpMjMkJ3+8+9VYMzMZOjkgQtAqO36eAFFfNKX7dTj3V\r\n    pwLkvz6/KFCq8OAwY+AUi4eZm5J57D31GzjHwfjH9WTeX0MyndmnNB1qV75qQR3b\r\n    2/W5sGHRv+9AarggJkF+ptUkXoLtVA51wcfYm6hILptpde5FQC8RWY1YrswBWAEZ\r\n    NfyrR4JeSweElNHg4NVOs4TwGjOPwWGqzTfgTlECAwEAATANBgkqhkiG9w0BAQsF\r\n    AAOCAQEAAYRlYflSXAWoZpFfwNiCQVE5d9zZZ0DPzNdWhAybXcTyMf0z5mDf6FWBW\r\n    5Gyoi9u3EMEDnzLcJNkwJAAc39Apa4I2/tml+Jy29dk8bTyX6m93ngmCgdLh5Za4\r\n    khuU3AM3L63g7VexCuO7kwkjh/+LqdcIXsVGO6XDfu2QOs1Xpe9zIzLpwm/RNYeX\r\n    UjbSj5ce/jekpAw7qyVVL4xOyh8AtUW1ek3wIw1MJvEgEPt0d16oshWJJpoS1OT8L\r\n    r/22SvYEo3EmSGdTVGgk3x3s+A0qWAqTcyjr7Q4s/GKYRFfomGwz0TZ4Iw1ZN99M\r\n    m0eo2USlSRTVl7QHRTuiuSThHpLKQQQ==\r\n    -----END CERTIFICATE-----\r\n\r\n  The url to check SAML is: https://mocksaml.com/api/saml/sso and I have the entity id: **https://saml.example.com/entityid** . The version that we use is 1.0.10.RELEASE for spring-security-saml2-core with spring boot 3, java 17 and Feign to do the soap calls. &#191;Can anybody do an example?","title":"Add SAML Sign method in spring boot","body":"<p>I want to add a SAML signature in the simplest way possible to a SOAP service call that is made through Feign.  I have the certificate to sign which is:</p>\n<pre><code> -----BEGIN CERTIFICATE-----\nMIIC4jCCAcoCCQC33wnybT5QZDANBgkqhkiG9w0BAQsFADAyMQswCQYDVQQQGEwJV\nSzEPMA0GA1UECgwGQm94eUhRMRIwEAYDVQQQDDAlNb2NrIFNBTUwwIBcNMjIwMjI4\nMjE0NjM4WhgPMzAyMTA3MDEyMTQ2MzhaMDIxCzAJBgNVVBAYTAlVLMQ8wDQYDVQQQK\nDAZCb3h5SFExEjAQBgNVBAMMCU1vY2sgU0FNTDCCASIwDQYJKoZIhvcNAQEBBQAD\nggEPADCCAQoCggEBALGfYettMsct1T6tVUwTudNJH5Pnb9GGnkXi9Zw/e6x45DDD0\nRuRONbFlJ2T4RjAE/uG+AjXxXQ8o2SZfb9+GgmCHuTJFNgHoZ1nFVXCmb/Hg8Hpd\n4vOAGXndixaReOiq3EH5XvpMjMkJ3+8+9VYMzMZOjkgQtAqO36eAFFfNKX7dTj3V\npwLkvz6/KFCq8OAwY+AUi4eZm5J57D31GzjHwfjH9WTeX0MyndmnNB1qV75qQR3b\n2/W5sGHRv+9AarggJkF+ptUkXoLtVA51wcfYm6hILptpde5FQC8RWY1YrswBWAEZ\nNfyrR4JeSweElNHg4NVOs4TwGjOPwWGqzTfgTlECAwEAATANBgkqhkiG9w0BAQsF\nAAOCAQEAAYRlYflSXAWoZpFfwNiCQVE5d9zZZ0DPzNdWhAybXcTyMf0z5mDf6FWBW\n5Gyoi9u3EMEDnzLcJNkwJAAc39Apa4I2/tml+Jy29dk8bTyX6m93ngmCgdLh5Za4\nkhuU3AM3L63g7VexCuO7kwkjh/+LqdcIXsVGO6XDfu2QOs1Xpe9zIzLpwm/RNYeX\nUjbSj5ce/jekpAw7qyVVL4xOyh8AtUW1ek3wIw1MJvEgEPt0d16oshWJJpoS1OT8L\nr/22SvYEo3EmSGdTVGgk3x3s+A0qWAqTcyjr7Q4s/GKYRFfomGwz0TZ4Iw1ZN99M\nm0eo2USlSRTVl7QHRTuiuSThHpLKQQQ==\n-----END CERTIFICATE-----\n</code></pre>\n<p>The url to check SAML is: <a href=\"https://mocksaml.com/api/saml/sso\" rel=\"nofollow noreferrer\">https://mocksaml.com/api/saml/sso</a> and I have the entity id: <strong><a href=\"https://saml.example.com/entityid\" rel=\"nofollow noreferrer\">https://saml.example.com/entityid</a></strong> . The version that we use is 1.0.10.RELEASE for spring-security-saml2-core with spring boot 3, java 17 and Feign to do the soap calls. ¿Can anybody do an example?</p>\n"},{"tags":["java","html","forms","sockets","http-status-code-303"],"answers":[{"comments":[{"owner":{"account_id":19172440,"reputation":13,"user_id":14005892,"display_name":"KotekBehemotek"},"score":0,"creation_date":1700820310,"post_id":77541952,"comment_id":136702650,"body_markdown":"Thank You for responding!\n1. Checked. It works well\n2. URL is good and works if reached directly\n3. There&#39;s no redirection loop. Refresh just doesn&#39;t end and takes forever until I stop it manually\n4. Browser shows that is awaits the file but never gets it\n5. No response body on response for POST request\n6. Cleared but with no result\n7. It works well","body":"Thank You for responding! 1. Checked. It works well 2. URL is good and works if reached directly 3. There&#39;s no redirection loop. Refresh just doesn&#39;t end and takes forever until I stop it manually 4. Browser shows that is awaits the file but never gets it 5. No response body on response for POST request 6. Cleared but with no result 7. It works well"}],"tags":[],"owner":{"account_id":25971394,"reputation":1,"user_id":19686512,"display_name":"Timsterhipster"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700817139,"creation_date":1700817139,"answer_id":77541952,"question_id":77541711,"body_markdown":"It seems that the issue might lie in the way your server handles the redirection after receiving the POST request. The 303 status code indicates that the response to the request can be found at the specified location and the browser should issue a GET request to that location.\r\n\r\nHowever, in your case, the browser seems to be stuck in a loop or not handling the redirection properly. One potential reason could be that the server might not be handling the redirection correctly or there might be an issue with the way the subsequent request is being processed.\r\n\r\nHere are a few suggestions to troubleshoot and potentially resolve the issue:\r\n\r\n    Check the Server Implementation: Ensure that the server is properly handling the redirection. The server should receive the POST request, process it, and then send a 303 response with the Location header set to /html/configPositive.html.\r\n\r\n    Verify the Redirection URL: Make sure that the redirection URL (/html/configPositive.html) is correct and points to the intended success or failure notification page.\r\n\r\n    Check for Infinite Redirection Loop: Ensure that the redirection is not causing an infinite loop. If the /html/configPositive.html page is being redirected back to the same page or there&#39;s an issue in handling this URL, it might cause continuous redirection.\r\n\r\n    Inspect Browser Developer Tools: Use browser developer tools (Network tab) to inspect the responses and requests. Check if there are multiple consecutive redirections or any errors related to these requests.\r\n\r\n    Debug Server Code: Review the server-side code that handles this redirection. Ensure that it&#39;s correctly processing the POST request, setting the appropriate headers (including Location), and not inadvertently including a response body.\r\n\r\n    Clear Browser Cache: Sometimes, caching issues can cause unexpected behavior. Clear your browser cache and try again.\r\n\r\n    Handle GET Request for Redirection Page: Ensure that when the browser follows the redirection and sends a GET request to /html/configPositive.html, the server responds correctly to this GET request and serves the appropriate content without any issues.\r\n\r\nBy investigating these areas, you might be able to identify the root cause of the redirection problem and resolve it accordingly. Additionally, inspecting the server-side code responsible for handling this redirection will likely provide insights into why the browser is not following the redirection as expected.","title":"Browser not redirecting after form submission Java Socket server","body":"<p>It seems that the issue might lie in the way your server handles the redirection after receiving the POST request. The 303 status code indicates that the response to the request can be found at the specified location and the browser should issue a GET request to that location.</p>\n<p>However, in your case, the browser seems to be stuck in a loop or not handling the redirection properly. One potential reason could be that the server might not be handling the redirection correctly or there might be an issue with the way the subsequent request is being processed.</p>\n<p>Here are a few suggestions to troubleshoot and potentially resolve the issue:</p>\n<pre><code>Check the Server Implementation: Ensure that the server is properly handling the redirection. The server should receive the POST request, process it, and then send a 303 response with the Location header set to /html/configPositive.html.\n\nVerify the Redirection URL: Make sure that the redirection URL (/html/configPositive.html) is correct and points to the intended success or failure notification page.\n\nCheck for Infinite Redirection Loop: Ensure that the redirection is not causing an infinite loop. If the /html/configPositive.html page is being redirected back to the same page or there's an issue in handling this URL, it might cause continuous redirection.\n\nInspect Browser Developer Tools: Use browser developer tools (Network tab) to inspect the responses and requests. Check if there are multiple consecutive redirections or any errors related to these requests.\n\nDebug Server Code: Review the server-side code that handles this redirection. Ensure that it's correctly processing the POST request, setting the appropriate headers (including Location), and not inadvertently including a response body.\n\nClear Browser Cache: Sometimes, caching issues can cause unexpected behavior. Clear your browser cache and try again.\n\nHandle GET Request for Redirection Page: Ensure that when the browser follows the redirection and sends a GET request to /html/configPositive.html, the server responds correctly to this GET request and serves the appropriate content without any issues.\n</code></pre>\n<p>By investigating these areas, you might be able to identify the root cause of the redirection problem and resolve it accordingly. Additionally, inspecting the server-side code responsible for handling this redirection will likely provide insights into why the browser is not following the redirection as expected.</p>\n"}],"owner":{"account_id":19172440,"reputation":13,"user_id":14005892,"display_name":"KotekBehemotek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700817139,"creation_date":1700814915,"question_id":77541711,"body_markdown":"I came with issues with my custom server built on Java Socket.\r\nServer works great and transmits data properly with exception of when after HTML form submission I want to redirect browser to success or failure notification address.\r\nI send 303 See Other in response to POST sent from mentioned form and page starts refreshing but never ends. It also looks like there is still body on the new request seeking the redirection page.\r\n\r\nHere are form request and my 303 response:\r\n\r\nPOST /html/configPositive.html HTTP/1.1&lt;br/&gt;\r\nHost: localhost:8080&lt;br/&gt;\r\nConnection: keep-alive&lt;br/&gt;\r\nContent-Length: 27&lt;br/&gt;\r\nCache-Control: max-age=0&lt;br/&gt;\r\nsec-ch-ua: &quot;Google Chrome&quot;;v=&quot;119&quot;, &quot;Chromium&quot;;v=&quot;119&quot;, &quot;Not?A_Brand&quot;;v=&quot;24&quot;&lt;br/&gt;\r\nsec-ch-ua-mobile: ?0&lt;br/&gt;\r\nsec-ch-ua-platform: &quot;macOS&quot;&lt;br/&gt;\r\nUpgrade-Insecure-Requests: 1&lt;br/&gt;\r\nOrigin: http://localhost:8080&lt;br/&gt;\r\nContent-Type: application/x-www-form-urlencoded&lt;br/&gt;\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36&lt;br/&gt;\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7&lt;br/&gt;\r\nSec-Fetch-Site: same-origin&lt;br/&gt;\r\nSec-Fetch-Mode: navigate&lt;br/&gt;\r\nSec-Fetch-User: ?1&lt;br/&gt;\r\nSec-Fetch-Dest: document&lt;br/&gt;\r\nReferer: http://localhost:8080/html/configIndexAbout.html&lt;br/&gt;\r\nAccept-Encoding: gzip, deflate, br&lt;br/&gt;\r\nAccept-Language: pl-PL,pl;q=0.9,en-US;q=0.8,en;q=0.7&lt;br/&gt;\r\nCookie: Idea-93a338da=1106edad-21ca-4e1f-a631-c60429549309; playername=kotek behemotek; recordblocks=245; recordrows=86&lt;br/&gt;\r\n\r\nHTTP/1.1 303 See Other&lt;br/&gt;\r\nLocation: /html/configPositive.html\r\n\r\nHere is the HTML form:\r\n```\r\n&lt;form action=&quot;/html/configPositive.html&quot; method=&quot;post&quot; enctype=&quot;application/x-www-form-urlencoded&quot;&gt;\r\n    &lt;h3&gt;Tutaj wpisz tekst widoczny w About&lt;/h3&gt;\r\n    &lt;label&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;/text/about/index&quot;&gt;\r\n    &lt;/label&gt;\r\n    &lt;h3&gt;Kiedy skończysz kliknij przycisk. Inaczej zmiany nie zostaną zapisane&lt;/h3&gt;\r\n    &lt;input type=&quot;submit&quot;&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\nThank You in advance","title":"Browser not redirecting after form submission Java Socket server","body":"<p>I came with issues with my custom server built on Java Socket.\nServer works great and transmits data properly with exception of when after HTML form submission I want to redirect browser to success or failure notification address.\nI send 303 See Other in response to POST sent from mentioned form and page starts refreshing but never ends. It also looks like there is still body on the new request seeking the redirection page.</p>\n<p>Here are form request and my 303 response:</p>\n<p>POST /html/configPositive.html HTTP/1.1<br/>\nHost: localhost:8080<br/>\nConnection: keep-alive<br/>\nContent-Length: 27<br/>\nCache-Control: max-age=0<br/>\nsec-ch-ua: &quot;Google Chrome&quot;;v=&quot;119&quot;, &quot;Chromium&quot;;v=&quot;119&quot;, &quot;Not?A_Brand&quot;;v=&quot;24&quot;<br/>\nsec-ch-ua-mobile: ?0<br/>\nsec-ch-ua-platform: &quot;macOS&quot;<br/>\nUpgrade-Insecure-Requests: 1<br/>\nOrigin: http://localhost:8080<br/>\nContent-Type: application/x-www-form-urlencoded<br/>\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36<br/>\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,<em>/</em>;q=0.8,application/signed-exchange;v=b3;q=0.7<br/>\nSec-Fetch-Site: same-origin<br/>\nSec-Fetch-Mode: navigate<br/>\nSec-Fetch-User: ?1<br/>\nSec-Fetch-Dest: document<br/>\nReferer: http://localhost:8080/html/configIndexAbout.html<br/>\nAccept-Encoding: gzip, deflate, br<br/>\nAccept-Language: pl-PL,pl;q=0.9,en-US;q=0.8,en;q=0.7<br/>\nCookie: Idea-93a338da=1106edad-21ca-4e1f-a631-c60429549309; playername=kotek behemotek; recordblocks=245; recordrows=86<br/></p>\n<p>HTTP/1.1 303 See Other<br/>\nLocation: /html/configPositive.html</p>\n<p>Here is the HTML form:</p>\n<pre><code>&lt;form action=&quot;/html/configPositive.html&quot; method=&quot;post&quot; enctype=&quot;application/x-www-form-urlencoded&quot;&gt;\n    &lt;h3&gt;Tutaj wpisz tekst widoczny w About&lt;/h3&gt;\n    &lt;label&gt;\n        &lt;input type=&quot;text&quot; name=&quot;/text/about/index&quot;&gt;\n    &lt;/label&gt;\n    &lt;h3&gt;Kiedy skończysz kliknij przycisk. Inaczej zmiany nie zostaną zapisane&lt;/h3&gt;\n    &lt;input type=&quot;submit&quot;&gt;\n&lt;/form&gt;\n</code></pre>\n<p>Thank You in advance</p>\n"},{"tags":["java","azure","cloud","project-reactor","reactive"],"owner":{"account_id":29980937,"reputation":1,"user_id":22975951,"display_name":"Krzysztof Czaiński"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700817098,"creation_date":1700814478,"question_id":77541657,"body_markdown":"Currently i have bunch of Azure app function using java 11 and azure runtime 3 and I want to migrate them to runtime 4, so I thought I will also upgrade the java and other libs. But it tured out to be problematic to stay reactive approach. So now most of the functions are triggered with org.springframework.cloud.function.adapter.azure.FunctionInvoker&lt;?,?&gt; which looks like this: \r\n\r\n\r\n```\r\npublic class SomeFunction extends FunctionInvoker&lt;String, String&gt;\r\n{\r\n    @FunctionName(&quot;someFuction&quot;)\r\n    public HttpResponseMessage execute(\r\n            @HttpTrigger(\r\n                    name = &quot;someFunction&quot;,\r\n                    methods = {HttpMethod.POST},\r\n                    authLevel = AuthorizationLevel.FUNCTION,\r\n                    route = &quot;someFunction&quot;)\r\n                    HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\r\n            final ExecutionContext context)\r\n    {\r\n        Object body;\r\n        HttpStatus status;\r\n\r\n        try\r\n        {\r\n            var requestBody = request.getBody().orElseThrow(() -&gt; new MessagingException(EMPTY_BODY));\r\n\r\n            var result = ofNullable(handleRequest(requestBody, context))\r\n                    .orElseThrow(() -&gt; new RuntimeException(UNEXPECTED_ERROR));\r\n\r\n            return request\r\n                    .createResponseBuilder(HttpStatus.OK)\r\n                    .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                    .body(result)\r\n                    .build();\r\n        }\r\n        catch (MessagingException e)\r\n        {\r\n            status = BAD_REQUEST;\r\n            body = createErrorResponseBody(getPath(request), status.value(), e.getMessage());\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            status = INTERNAL_SERVER_ERROR;\r\n            body = createErrorResponseBody(getPath(request), status.value(), e.getMessage());\r\n        }\r\n\r\n        return request\r\n                .createResponseBuilder(status)\r\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .body(body)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nWith new versions the FunctionInvoker is deprecated and should be replaced with  AzureFunctionInstanceInjector so I&#39;ve tried to modify the example from [here](https://github.com/Azure/azure-functions-java-worker/tree/dev/samples/spring-cloud-example) to work with reactor as all my functions look like this Function&lt;Mono&lt;InputObject&gt;, Mono&lt;OutputObject&gt;&gt; but it looks like the function is not automaticly subscibed on and returns the Mono object as response to API call. And if function returns CompletableFuture intead of Mono it fails with Gson [ref](https://stackoverflow.com/questions/76060705/azure-function-convert-synchronous-to-asynchronous)\r\n\r\nNew Impl I came up with looks like this: \r\n```\r\n@Component\r\npublic class UppercaseHandlerMono {\r\n\r\n\t@Autowired\r\n\tprivate Function&lt;Mono&lt;String&gt;, Mono&lt;String&gt;&gt; uppercaseMono;\r\n\r\n\t@FunctionName(&quot;uppercaseMono&quot;)\r\n\tpublic Mono&lt;String&gt; execute(\r\n\t\t@HttpTrigger(\r\n\t\t\tname = &quot;req&quot;,\r\n\t\t\tmethods = {HttpMethod.GET, HttpMethod.POST},\r\n\t\t\tauthLevel = AuthorizationLevel.ANONYMOUS) HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\r\n\t\tExecutionContext context\r\n\t) {\r\n\t\tcontext.getLogger().warning(&quot;Using Java (&quot; + System.getProperty(&quot;java.version&quot;) + &quot;)&quot;);\r\n\t\treturn Mono.just(request)\r\n\t\t\t\t.map(r -&gt; r.getBody().orElse(&quot;&quot;))\r\n\t\t\t\t.flatMap(r -&gt; uppercaseMono.apply(Mono.just(r)));\r\n\t}\r\n}\r\n```\r\nHere is the reproduced [code](https://github.com/durtrim/azure-example).\r\n\r\nAny ideas what I&#39;m doing wrong? I don&#39;t want to use .block in the invoker ;/\r\n\r\nSample response when function returns Mono&lt;String&gt;:\r\n\r\n```\r\n{\r\n  &quot;mapper&quot;: {},\r\n  &quot;optimizableOperator&quot;: {},\r\n  &quot;source&quot;: {}\r\n}\r\n```\r\n\r\nSample Gson error when function returns CompletableFuture&lt;String&gt;:\r\n\r\n\r\n```\r\nSystem.Private.CoreLib: Exception while executing function: Functions.uppercase. System.Private.CoreLib: Result: Failure\r\nException: InaccessibleObjectException: Unable to make field volatile java.lang.Object java.util.concurrent.CompletableFuture.result accessible: module java.base does not &quot;opens java.util.concurrent&quot; to unnamed module @17d10166\r\nStack: com.google.gson.JsonIOException: Failed making field &#39;java.util.concurrent.CompletableFuture#result&#39; accessible; either change its visibility or write a custom TypeAdapter for its declaring type\r\n```\r\n\r\nKey points from pom:\r\n\r\n```\r\n        &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.5&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-function-adapter-azure&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\n\r\nTLDR: I want to create reactive azure app function with reactor so i can return Mono&lt;?&gt; without blocking.\r\n","title":"How do You create reactive Azure app function with java 17 &amp; spring-cloud-function-adapter-azure 4.x.x?","body":"<p>Currently i have bunch of Azure app function using java 11 and azure runtime 3 and I want to migrate them to runtime 4, so I thought I will also upgrade the java and other libs. But it tured out to be problematic to stay reactive approach. So now most of the functions are triggered with org.springframework.cloud.function.adapter.azure.FunctionInvoker which looks like this:</p>\n<pre><code>public class SomeFunction extends FunctionInvoker&lt;String, String&gt;\n{\n    @FunctionName(&quot;someFuction&quot;)\n    public HttpResponseMessage execute(\n            @HttpTrigger(\n                    name = &quot;someFunction&quot;,\n                    methods = {HttpMethod.POST},\n                    authLevel = AuthorizationLevel.FUNCTION,\n                    route = &quot;someFunction&quot;)\n                    HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\n            final ExecutionContext context)\n    {\n        Object body;\n        HttpStatus status;\n\n        try\n        {\n            var requestBody = request.getBody().orElseThrow(() -&gt; new MessagingException(EMPTY_BODY));\n\n            var result = ofNullable(handleRequest(requestBody, context))\n                    .orElseThrow(() -&gt; new RuntimeException(UNEXPECTED_ERROR));\n\n            return request\n                    .createResponseBuilder(HttpStatus.OK)\n                    .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                    .body(result)\n                    .build();\n        }\n        catch (MessagingException e)\n        {\n            status = BAD_REQUEST;\n            body = createErrorResponseBody(getPath(request), status.value(), e.getMessage());\n        }\n        catch (Exception e)\n        {\n            status = INTERNAL_SERVER_ERROR;\n            body = createErrorResponseBody(getPath(request), status.value(), e.getMessage());\n        }\n\n        return request\n                .createResponseBuilder(status)\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .body(body)\n                .build();\n    }\n}\n</code></pre>\n<p>With new versions the FunctionInvoker is deprecated and should be replaced with  AzureFunctionInstanceInjector so I've tried to modify the example from <a href=\"https://github.com/Azure/azure-functions-java-worker/tree/dev/samples/spring-cloud-example\" rel=\"nofollow noreferrer\">here</a> to work with reactor as all my functions look like this Function&lt;Mono, Mono&gt; but it looks like the function is not automaticly subscibed on and returns the Mono object as response to API call. And if function returns CompletableFuture intead of Mono it fails with Gson <a href=\"https://stackoverflow.com/questions/76060705/azure-function-convert-synchronous-to-asynchronous\">ref</a></p>\n<p>New Impl I came up with looks like this:</p>\n<pre><code>@Component\npublic class UppercaseHandlerMono {\n\n    @Autowired\n    private Function&lt;Mono&lt;String&gt;, Mono&lt;String&gt;&gt; uppercaseMono;\n\n    @FunctionName(&quot;uppercaseMono&quot;)\n    public Mono&lt;String&gt; execute(\n        @HttpTrigger(\n            name = &quot;req&quot;,\n            methods = {HttpMethod.GET, HttpMethod.POST},\n            authLevel = AuthorizationLevel.ANONYMOUS) HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\n        ExecutionContext context\n    ) {\n        context.getLogger().warning(&quot;Using Java (&quot; + System.getProperty(&quot;java.version&quot;) + &quot;)&quot;);\n        return Mono.just(request)\n                .map(r -&gt; r.getBody().orElse(&quot;&quot;))\n                .flatMap(r -&gt; uppercaseMono.apply(Mono.just(r)));\n    }\n}\n</code></pre>\n<p>Here is the reproduced <a href=\"https://github.com/durtrim/azure-example\" rel=\"nofollow noreferrer\">code</a>.</p>\n<p>Any ideas what I'm doing wrong? I don't want to use .block in the invoker ;/</p>\n<p>Sample response when function returns Mono:</p>\n<pre><code>{\n  &quot;mapper&quot;: {},\n  &quot;optimizableOperator&quot;: {},\n  &quot;source&quot;: {}\n}\n</code></pre>\n<p>Sample Gson error when function returns CompletableFuture:</p>\n<pre><code>System.Private.CoreLib: Exception while executing function: Functions.uppercase. System.Private.CoreLib: Result: Failure\nException: InaccessibleObjectException: Unable to make field volatile java.lang.Object java.util.concurrent.CompletableFuture.result accessible: module java.base does not &quot;opens java.util.concurrent&quot; to unnamed module @17d10166\nStack: com.google.gson.JsonIOException: Failed making field 'java.util.concurrent.CompletableFuture#result' accessible; either change its visibility or write a custom TypeAdapter for its declaring type\n</code></pre>\n<p>Key points from pom:</p>\n<pre><code>        &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.5&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-function-adapter-azure&lt;/artifactId&gt;\n            &lt;version&gt;4.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>TLDR: I want to create reactive azure app function with reactor so i can return Mono&lt;?&gt; without blocking.</p>\n"},{"tags":["java","spring","spring-mvc","spring-data-jpa","thymeleaf"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700757358,"post_id":77538370,"comment_id":136696082,"body_markdown":"AFAIK, Thymeleaf is only involved in rendering the HTML, it is not involved in processing the POST call from the form to your Spring app. Please provide a [mre], which includes your controller.","body":"AFAIK, Thymeleaf is only involved in rendering the HTML, it is not involved in processing the POST call from the form to your Spring app. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which includes your controller."},{"owner":{"account_id":29976356,"reputation":3,"user_id":22972472,"display_name":"Cl&#233;ment Cadieux"},"score":0,"creation_date":1700760853,"post_id":77538370,"comment_id":136696626,"body_markdown":"Hi! Thanks for the edits and reply! I&#39;m not sure how much I should provide for a minimal reproducible example of a spring project. Would a github repo link to the minimum I had to build to reproduce the issue suffice? If so, here it is: https://github.com/ClementCadieux/stackOverflowMRC. Otherwise, I&#39;d be happy to provide more.","body":"Hi! Thanks for the edits and reply! I&#39;m not sure how much I should provide for a minimal reproducible example of a spring project. Would a github repo link to the minimum I had to build to reproduce the issue suffice? If so, here it is: <a href=\"https://github.com/ClementCadieux/stackOverflowMRC\" rel=\"nofollow noreferrer\">github.com/ClementCadieux/stackOverflowMRC</a>. Otherwise, I&#39;d be happy to provide more."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700812184,"post_id":77538370,"comment_id":136701286,"body_markdown":"Questions need to be self-contained, which means relevant code must be in the question itself, but I think your current update should be good enough.","body":"Questions need to be self-contained, which means relevant code must be in the question itself, but I think your current update should be good enough."}],"answers":[{"comments":[{"owner":{"account_id":29976356,"reputation":3,"user_id":22972472,"display_name":"Cl&#233;ment Cadieux"},"score":0,"creation_date":1700834637,"post_id":77541914,"comment_id":136704962,"body_markdown":"So essentially making a Data Transfer object for ContactInfo that wouldn&#39;t have an ID?","body":"So essentially making a Data Transfer object for ContactInfo that wouldn&#39;t have an ID?"}],"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700816824,"creation_date":1700816824,"answer_id":77541914,"question_id":77538370,"body_markdown":"I would suggest to separate the entity from the form data object.\r\n\r\nSo create a `AddContactInfoFormData` object that represents the fields you have in your Thymeleaf form.\r\n\r\nIn your POST mapping, you would do something like this:\r\n\r\n```\r\n@PostMapping(&quot;/add-new-contact-info/{id}&quot;)\r\npublic String makeNewContactInfo(@Valid @ModelAttribute(&quot;formData&quot;) AddContactInfoFormData formData, BindingResult bindingResult, @PathVariable long id, Model model,\r\n        RedirectAttributes redirectAttributes) {\r\n\r\n  if (bindingResult.hasErrors()) {\r\n    return &quot;contacts/edit&quot; // This should be the name of your Thymeleaf template so it is re-rendered with the errors\r\n  }\r\n\r\n\r\n    Optional&lt;Contact&gt; optRes = contactService.readById(id);\r\n    if (optRes.isPresent()) {\r\n        Contact contact = optRes.get();\r\n        contact.replaceInfo(formData.toContactInfo());      \r\n        return this.updateContact(contact);\r\n    }\r\n    String message = &quot;Contact doesn&#39;t exist&quot;;\r\n    redirectAttributes.addFlashAttribute(&quot;message&quot;, message);\r\n    return &quot;redirect:/&quot;;\r\n}\r\n\r\n```\r\n\r\n`AddContactInfoFormData` would have a `toContactInfo()` method that creates a new instance of `ContactInfo` based on the form data info received.\r\n\r\nSee [Form Handling with Thymeleaf][1] for more info.\r\n\r\n\r\n  [1]: https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/","title":"Form with post request assigns request parameter to object bound to form","body":"<p>I would suggest to separate the entity from the form data object.</p>\n<p>So create a <code>AddContactInfoFormData</code> object that represents the fields you have in your Thymeleaf form.</p>\n<p>In your POST mapping, you would do something like this:</p>\n<pre><code>@PostMapping(&quot;/add-new-contact-info/{id}&quot;)\npublic String makeNewContactInfo(@Valid @ModelAttribute(&quot;formData&quot;) AddContactInfoFormData formData, BindingResult bindingResult, @PathVariable long id, Model model,\n        RedirectAttributes redirectAttributes) {\n\n  if (bindingResult.hasErrors()) {\n    return &quot;contacts/edit&quot; // This should be the name of your Thymeleaf template so it is re-rendered with the errors\n  }\n\n\n    Optional&lt;Contact&gt; optRes = contactService.readById(id);\n    if (optRes.isPresent()) {\n        Contact contact = optRes.get();\n        contact.replaceInfo(formData.toContactInfo());      \n        return this.updateContact(contact);\n    }\n    String message = &quot;Contact doesn't exist&quot;;\n    redirectAttributes.addFlashAttribute(&quot;message&quot;, message);\n    return &quot;redirect:/&quot;;\n}\n\n</code></pre>\n<p><code>AddContactInfoFormData</code> would have a <code>toContactInfo()</code> method that creates a new instance of <code>ContactInfo</code> based on the form data info received.</p>\n<p>See <a href=\"https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/\" rel=\"nofollow noreferrer\">Form Handling with Thymeleaf</a> for more info.</p>\n"}],"owner":{"account_id":29976356,"reputation":3,"user_id":22972472,"display_name":"Cl&#233;ment Cadieux"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77541914,"answer_count":1,"score":0,"last_activity_date":1700816824,"creation_date":1700756579,"question_id":77538370,"body_markdown":"I&#39;m working with Thymeleaf and Spring and I had something unexpected happen.\r\n\r\nI have this Contact class:\r\n\r\n```java\r\n@Entity\r\npublic class Contact {\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;CONTACT_ID_GEN&quot;)\r\n    @SequenceGenerator(name=&quot;CONTACT_ID_GEN&quot;, sequenceName = &quot;CONTACT_ID_GEN&quot;)\r\n    private long id;\r\n    @NotBlank\r\n    private String name;\r\n    @NotNull\r\n    @OneToMany(mappedBy = &quot;contact&quot;, fetch=FetchType.EAGER, cascade = CascadeType.ALL)\r\n    private List&lt;ContactInfo&gt; info;\r\n\r\n    //Constructors getter setters etc.\r\n}\r\n```\r\n\r\nWith a nested list of this Contact Info class:\r\n\r\n```java\r\n@Entity\r\npublic class ContactInfo {\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;CONTACT_INFO_ID_GEN&quot;)\r\n    @SequenceGenerator(name=&quot;CONTACT_INFO_ID_GEN&quot;, sequenceName = &quot;CONTACT_INFO_ID_GEN&quot;)\r\n    private long id;\r\n    @Column(name = &quot;INFO_VALUE&quot;)\r\n    private String infoValue;\r\n    private InfoType infoType;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;FK_CONTACT_ID&quot;)\r\n    private Contact contact;\r\n\r\n    //Constructors getter setters etc.\r\n}\r\n```\r\n\r\nMy challenge was to make a form that would add a new Contact Info object, but it all has to go through Contact.\r\n\r\nUsing Thymeleaf and Spring, this is the form declaration I came up with\r\n\r\n```html\r\n&lt;form th:action=&quot;&#39;/add-new-contact-info/&#39; + ${contact.id}&quot; method=&quot;post&quot; th:object=&quot;${newContactInfo}&quot;&gt;\r\n```\r\n\r\nHere, newContactInfo is an empty object of type contactInfo and contact.id is the id of the parent Contact Object.\r\n\r\nThe idea is that if I want to add a contactInfo object for Cpntact with id 1, it would go to /add-new-contact-info/1\r\n\r\nNow my form only had inputs for infoValue and infoType. There was no input field for id.\r\n\r\nI expected the ID to be 0 as a default value and then once I call the save method of my repository, it would use the sequence to generate a new one.\r\n\r\nBut instead, Thymeleaf always gave the id the value that&#39;s in the path. So for /add-new-contact-info/{id}, the id of the received ContactInfo object would be {id}.\r\n\r\nI&#39;ve worked with Spring before but not Thyemleaf and I&#39;ve never seen anything work like that. Usually the value of the bodyResponse object would be consisting only of values in the form, the values in the path should be separate no?\r\n\r\nI found a fix where I just manually set the id to 0 immediately in my code and it works fine. Someone else who did the same thing as me simply changed the name of id to contactInfoId and that also worked.\r\n\r\nHere is the method where I fixed it by setting the id to 0 in my controller with the &quot;contactInfo.setId(0);&quot; line:\r\n\r\n    @PostMapping(&quot;/add-new-contact-info/{id}&quot;)\r\n    public String makeNewContactInfo(ContactInfo contactInfo, @PathVariable long id, Model model,\r\n            RedirectAttributes redirectAttributes) {\r\n        contactInfo.setId(0);\r\n        Optional&lt;Contact&gt; optRes = contactService.readById(id);\r\n        if (optRes.isPresent()) {\r\n            Contact contact = optRes.get();\r\n            contact.getInfo().clear();\r\n            contact.getInfo().add(contactInfo);\r\n            return this.updateContact(contact);\r\n        }\r\n        String message = &quot;Contact doesn&#39;t exist&quot;;\r\n        redirectAttributes.addFlashAttribute(&quot;message&quot;, message);\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n\r\nCan anyone clarify for me why it works this way? And can it be avoided in a different way?","title":"Form with post request assigns request parameter to object bound to form","body":"<p>I'm working with Thymeleaf and Spring and I had something unexpected happen.</p>\n<p>I have this Contact class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Contact {\n    @Id\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;CONTACT_ID_GEN&quot;)\n    @SequenceGenerator(name=&quot;CONTACT_ID_GEN&quot;, sequenceName = &quot;CONTACT_ID_GEN&quot;)\n    private long id;\n    @NotBlank\n    private String name;\n    @NotNull\n    @OneToMany(mappedBy = &quot;contact&quot;, fetch=FetchType.EAGER, cascade = CascadeType.ALL)\n    private List&lt;ContactInfo&gt; info;\n\n    //Constructors getter setters etc.\n}\n</code></pre>\n<p>With a nested list of this Contact Info class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class ContactInfo {\n    @Id\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;CONTACT_INFO_ID_GEN&quot;)\n    @SequenceGenerator(name=&quot;CONTACT_INFO_ID_GEN&quot;, sequenceName = &quot;CONTACT_INFO_ID_GEN&quot;)\n    private long id;\n    @Column(name = &quot;INFO_VALUE&quot;)\n    private String infoValue;\n    private InfoType infoType;\n    @ManyToOne\n    @JoinColumn(name = &quot;FK_CONTACT_ID&quot;)\n    private Contact contact;\n\n    //Constructors getter setters etc.\n}\n</code></pre>\n<p>My challenge was to make a form that would add a new Contact Info object, but it all has to go through Contact.</p>\n<p>Using Thymeleaf and Spring, this is the form declaration I came up with</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form th:action=&quot;'/add-new-contact-info/' + ${contact.id}&quot; method=&quot;post&quot; th:object=&quot;${newContactInfo}&quot;&gt;\n</code></pre>\n<p>Here, newContactInfo is an empty object of type contactInfo and contact.id is the id of the parent Contact Object.</p>\n<p>The idea is that if I want to add a contactInfo object for Cpntact with id 1, it would go to /add-new-contact-info/1</p>\n<p>Now my form only had inputs for infoValue and infoType. There was no input field for id.</p>\n<p>I expected the ID to be 0 as a default value and then once I call the save method of my repository, it would use the sequence to generate a new one.</p>\n<p>But instead, Thymeleaf always gave the id the value that's in the path. So for /add-new-contact-info/{id}, the id of the received ContactInfo object would be {id}.</p>\n<p>I've worked with Spring before but not Thyemleaf and I've never seen anything work like that. Usually the value of the bodyResponse object would be consisting only of values in the form, the values in the path should be separate no?</p>\n<p>I found a fix where I just manually set the id to 0 immediately in my code and it works fine. Someone else who did the same thing as me simply changed the name of id to contactInfoId and that also worked.</p>\n<p>Here is the method where I fixed it by setting the id to 0 in my controller with the &quot;contactInfo.setId(0);&quot; line:</p>\n<pre><code>@PostMapping(&quot;/add-new-contact-info/{id}&quot;)\npublic String makeNewContactInfo(ContactInfo contactInfo, @PathVariable long id, Model model,\n        RedirectAttributes redirectAttributes) {\n    contactInfo.setId(0);\n    Optional&lt;Contact&gt; optRes = contactService.readById(id);\n    if (optRes.isPresent()) {\n        Contact contact = optRes.get();\n        contact.getInfo().clear();\n        contact.getInfo().add(contactInfo);\n        return this.updateContact(contact);\n    }\n    String message = &quot;Contact doesn't exist&quot;;\n    redirectAttributes.addFlashAttribute(&quot;message&quot;, message);\n    return &quot;redirect:/&quot;;\n}\n</code></pre>\n<p>Can anyone clarify for me why it works this way? And can it be avoided in a different way?</p>\n"},{"tags":["java","css","vaadin"],"answers":[{"comments":[{"owner":{"account_id":2497210,"reputation":1189,"user_id":2173320,"accept_rate":65,"display_name":"padmalcom"},"score":1,"creation_date":1700773040,"post_id":77538319,"comment_id":136698165,"body_markdown":"Hi JPA, thanks for your answer. I tried to add the class to the component. Then I found out that the parent element does not have a border but a div beneath this element. Hope my edit and the attached picture makes it clear.","body":"Hi JPA, thanks for your answer. I tried to add the class to the component. Then I found out that the parent element does not have a border but a div beneath this element. Hope my edit and the attached picture makes it clear."}],"tags":[],"owner":{"account_id":3619515,"reputation":497,"user_id":3018638,"display_name":"JPA"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700756179,"creation_date":1700756179,"answer_id":77538319,"question_id":77537865,"body_markdown":"I don&#39;t know very much about VAADIN but I suspect that the line \r\n\r\n    informationTypes.addClassName(LumoUtility.Border.NONE);\r\nis not correct.\r\n\r\nYou should use a CSS classname to add to the object, like so:\r\n\r\n    informationTypes.addClassName(&quot;borderless&quot;);\r\nand the CSS for this should be like so:\r\n\r\n    .borderless {\r\n      border-width: 0;\r\n    }\r\n\r\nIf you also want to remove the outline (when a user selects the search box) you can change the CSS to:\r\n\r\n    .borderless {\r\n      border-width: 0;\r\n      outline-width: 0;\r\n    }\r\n\r\n\r\n","title":"Remove border from component","body":"<p>I don't know very much about VAADIN but I suspect that the line</p>\n<pre><code>informationTypes.addClassName(LumoUtility.Border.NONE);\n</code></pre>\n<p>is not correct.</p>\n<p>You should use a CSS classname to add to the object, like so:</p>\n<pre><code>informationTypes.addClassName(&quot;borderless&quot;);\n</code></pre>\n<p>and the CSS for this should be like so:</p>\n<pre><code>.borderless {\n  border-width: 0;\n}\n</code></pre>\n<p>If you also want to remove the outline (when a user selects the search box) you can change the CSS to:</p>\n<pre><code>.borderless {\n  border-width: 0;\n  outline-width: 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2497210,"reputation":1189,"user_id":2173320,"accept_rate":65,"display_name":"padmalcom"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700816408,"creation_date":1700816408,"answer_id":77541871,"question_id":77537865,"body_markdown":"Okay, I found a solution. Create a css file with this content:\r\n\r\n&gt; vaadin-combo-box::part(input-field) { \tborder: 0; \toutline-width: 0; }\r\n&gt; \r\n&gt; vaadin-text-field::part(input-field) { \tborder: 0; \toutline-width: 0;\r\n&gt; }\r\n\r\n... and import the css file in your java class:\r\n\r\n&gt; @CssImport(&quot;./styles/search.css&quot;)\r\n\r\nOR use this css:\r\n\r\n&gt; :host([theme~=&quot;search-theme&quot;]) [part=&quot;input-field&quot;] { \tborder: 0;\r\n&gt; \toutline-width: 0; }\r\n\r\n... import the css as shown above and attach the theme to each component that should use it:\r\n\r\n&gt; myinput.addThemeName(&quot;search-theme&quot;);","title":"Remove border from component","body":"<p>Okay, I found a solution. Create a css file with this content:</p>\n<blockquote>\n<p>vaadin-combo-box::part(input-field) {     border: 0;  outline-width: 0; }</p>\n<p>vaadin-text-field::part(input-field) {    border: 0;  outline-width: 0;\n}</p>\n</blockquote>\n<p>... and import the css file in your java class:</p>\n<blockquote>\n<p>@CssImport(&quot;./styles/search.css&quot;)</p>\n</blockquote>\n<p>OR use this css:</p>\n<blockquote>\n<p>:host([theme~=&quot;search-theme&quot;]) [part=&quot;input-field&quot;] {     border: 0;\noutline-width: 0; }</p>\n</blockquote>\n<p>... import the css as shown above and attach the theme to each component that should use it:</p>\n<blockquote>\n<p>myinput.addThemeName(&quot;search-theme&quot;);</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":2497210,"reputation":1189,"user_id":2173320,"accept_rate":65,"display_name":"padmalcom"},"score":0,"creation_date":1700858030,"post_id":77541911,"comment_id":136708164,"body_markdown":"Thanks @kscherrer, that seems to be the way to implement it.","body":"Thanks @kscherrer, that seems to be the way to implement it."}],"tags":[],"owner":{"account_id":4201504,"reputation":5591,"user_id":3441504,"accept_rate":100,"display_name":"kscherrer"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700816801,"creation_date":1700816801,"answer_id":77541911,"question_id":77537865,"body_markdown":"Since the border that you&#39;d like to remove is on a subcomponent within the **shadow-dom** of the `vaadin-combo-box`, you cannot edit that css via the java instance of `ComboBox&lt;InformationType&gt; informationTypes`.  \r\nHowever there is another way. You can read more details [here][1]\r\n\r\nstep 1: create a .css file where you declare no border for `vaadin-combo-box-container`. Make sure this css only applies to subcontainers of comboboxes that have the class `addlater` so all your other comboboxes in your view stay unaffected by this.\r\n\r\n```\r\n/* borderless-combobox-container.css */\r\n\r\n:host(.addlater) vaadin-combo-box-container {\r\n    border: none;\r\n}\r\n```\r\n\r\nstep 2: include this css in your view. I use `@CssImport` for this in Vaadin 14, however the above-linked docs mention **this may have changed for vaadin 24** while still being supported. You may want to read more into that.\r\n\r\n```\r\n// this annotation can be on your routed view, or main/base view, \r\n// or if you have your own component class for your custom search field, you could add it there\r\n@CssImport(value = &quot;./styles/components/borderless-combobox-container.css&quot;, themeFor = &quot;vaadin-combo-box&quot;)\r\npublic class MyView extends VerticalLayout {\r\n    ...\r\n}\r\n```\r\n\r\n\r\n  [1]: https://vaadin.com/docs/latest/styling/styling-components","title":"Remove border from component","body":"<p>Since the border that you'd like to remove is on a subcomponent within the <strong>shadow-dom</strong> of the <code>vaadin-combo-box</code>, you cannot edit that css via the java instance of <code>ComboBox&lt;InformationType&gt; informationTypes</code>.<br />\nHowever there is another way. You can read more details <a href=\"https://vaadin.com/docs/latest/styling/styling-components\" rel=\"nofollow noreferrer\">here</a></p>\n<p>step 1: create a .css file where you declare no border for <code>vaadin-combo-box-container</code>. Make sure this css only applies to subcontainers of comboboxes that have the class <code>addlater</code> so all your other comboboxes in your view stay unaffected by this.</p>\n<pre><code>/* borderless-combobox-container.css */\n\n:host(.addlater) vaadin-combo-box-container {\n    border: none;\n}\n</code></pre>\n<p>step 2: include this css in your view. I use <code>@CssImport</code> for this in Vaadin 14, however the above-linked docs mention <strong>this may have changed for vaadin 24</strong> while still being supported. You may want to read more into that.</p>\n<pre><code>// this annotation can be on your routed view, or main/base view, \n// or if you have your own component class for your custom search field, you could add it there\n@CssImport(value = &quot;./styles/components/borderless-combobox-container.css&quot;, themeFor = &quot;vaadin-combo-box&quot;)\npublic class MyView extends VerticalLayout {\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":2497210,"reputation":1189,"user_id":2173320,"accept_rate":65,"display_name":"padmalcom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77541911,"answer_count":3,"score":0,"last_activity_date":1700816801,"creation_date":1700751721,"question_id":77537865,"body_markdown":"I want to create a search field with a combobox as prefix component so that the user can specify the entity type that he wants to search for.\r\n\r\nTo make it look nice, I want to remove the border from the combobox (and maybe from the textfield as well).\r\n\r\nI thought that this code might do it, but unfortunately not. Result looks as shown below.\r\n\r\n\tComboBox&lt;InformationType&gt; informationTypes = new ComboBox&lt;&gt;();\r\n\tinformationTypes.setItems(InformationType.values());\r\n\tinformationTypes.addClassName(LumoUtility.Border.NONE);\r\n\r\n[![enter image description here][1]][1]\r\n\r\nEdit: The combobox informationTypes does not seem to be the element that owns the border. The border belongs to the div with the class vaadin-combo-box-container. And this element can not be styled according to https://vaadin.com/docs/v23/upgrading/essential-steps. So I guess the must be another way.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FfXyK.png\r\n  [2]: https://i.stack.imgur.com/B1ouv.png","title":"Remove border from component","body":"<p>I want to create a search field with a combobox as prefix component so that the user can specify the entity type that he wants to search for.</p>\n<p>To make it look nice, I want to remove the border from the combobox (and maybe from the textfield as well).</p>\n<p>I thought that this code might do it, but unfortunately not. Result looks as shown below.</p>\n<pre><code>ComboBox&lt;InformationType&gt; informationTypes = new ComboBox&lt;&gt;();\ninformationTypes.setItems(InformationType.values());\ninformationTypes.addClassName(LumoUtility.Border.NONE);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/FfXyK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FfXyK.png\" alt=\"enter image description here\" /></a></p>\n<p>Edit: The combobox informationTypes does not seem to be the element that owns the border. The border belongs to the div with the class vaadin-combo-box-container. And this element can not be styled according to <a href=\"https://vaadin.com/docs/v23/upgrading/essential-steps\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/v23/upgrading/essential-steps</a>. So I guess the must be another way.</p>\n<p><a href=\"https://i.stack.imgur.com/B1ouv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B1ouv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","design-patterns","solid-principles","interface-segregation-principle"],"comments":[{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":2,"creation_date":1700436605,"post_id":77512520,"comment_id":136651013,"body_markdown":"The Interface Segregation Principle is not concerned with subclasses. It&#39;s the Liskov Substitution Principle which governs inheritance. [The difference between liskov substitution principle and interface segregation principle](https://stackoverflow.com/a/65499896/1371329)?","body":"The Interface Segregation Principle is not concerned with subclasses. It&#39;s the Liskov Substitution Principle which governs inheritance. <a href=\"https://stackoverflow.com/a/65499896/1371329\">The difference between liskov substitution principle and interface segregation principle</a>?"},{"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"score":1,"creation_date":1700471261,"post_id":77512520,"comment_id":136654156,"body_markdown":"I would say the issue he is encountering has nothing to do with Liskov Substitution Principle since the issue is more focused around `performValidations` having an empty implementation body rather than using derivatives of the abstract class.","body":"I would say the issue he is encountering has nothing to do with Liskov Substitution Principle since the issue is more focused around <code>performValidations</code> having an empty implementation body rather than using derivatives of the abstract class."},{"owner":{"account_id":10674408,"reputation":43,"user_id":7858441,"display_name":"Jose Robles Villares"},"score":0,"creation_date":1700561053,"post_id":77512520,"comment_id":136666930,"body_markdown":"Yes, my question was more around what @atish.s mentions, having an empty implementation body when implementing the Template method design pattern","body":"Yes, my question was more around what @atish.s mentions, having an empty implementation body when implementing the Template method design pattern"}],"answers":[{"comments":[{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1700436896,"post_id":77512843,"comment_id":136651029,"body_markdown":"The Interface Segregation Principle is not concerned with subclasses. It&#39;s the Liskov Substitution Principle which governs inheritance.","body":"The Interface Segregation Principle is not concerned with subclasses. It&#39;s the Liskov Substitution Principle which governs inheritance."},{"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"score":0,"creation_date":1700470577,"post_id":77512843,"comment_id":136654053,"body_markdown":"true, I mistyped that.","body":"true, I mistyped that."},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1701098872,"post_id":77512843,"comment_id":136729788,"body_markdown":"The ISP is concerned with the [clients](https://stackoverflow.com/a/72148597/1371329) of an interface. It has nothing whatsoever to do with implementations or concrete classes.","body":"The ISP is concerned with the <a href=\"https://stackoverflow.com/a/72148597/1371329\">clients</a> of an interface. It has nothing whatsoever to do with implementations or concrete classes."}],"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1700470333,"creation_date":1700435488,"answer_id":77512843,"question_id":77512520,"body_markdown":"The basic idea of Interface Segregation Principle is that the concrete classes implementing the interface/extending an abstract class must not be forced to proivde an implementation for methods that are not relevant to them. In your case, `performValidations` is not exactly relevant for all the subclasses but yet they need to provide an implementation for it; so it is indeed violating that principle.\r\n\r\nWithout having much context on the use case of your domain, this would be my recommendation.\r\n\r\nYou could promote `performValidations` to be implemented with an empty implementation body in the abstract class itself. Whoever needs to do some validation just overrides the method `performValidations` and provide their own implementation.\r\n\r\nMaybe a neater solution would be to have an interface `Task` as such which defines the basic idea of a `Task`.\r\n\r\n    public interface Task {\r\n        /**\r\n         * Perform steps required to create a task\r\n         * @return true if all the steps have executed successfully.\r\n         */\r\n        boolean createTask();\r\n    \r\n        /**\r\n         * Perform validations required for a task.\r\n         * @return true if validations are successful.\r\n         */\r\n        default boolean validateTask(){\r\n          return true;   \r\n        }\r\n    \r\n        /**\r\n         * Perform steps required to complete a task\r\n         * @return true if all the steps have executed successfully.\r\n         */\r\n        boolean completeTask();\r\n    }\r\n\r\nIntroducing a method `executeTask` would make sense as well.","title":"Is this UML diagram violating the Interface Segregation Principle?","body":"<p>The basic idea of Interface Segregation Principle is that the concrete classes implementing the interface/extending an abstract class must not be forced to proivde an implementation for methods that are not relevant to them. In your case, <code>performValidations</code> is not exactly relevant for all the subclasses but yet they need to provide an implementation for it; so it is indeed violating that principle.</p>\n<p>Without having much context on the use case of your domain, this would be my recommendation.</p>\n<p>You could promote <code>performValidations</code> to be implemented with an empty implementation body in the abstract class itself. Whoever needs to do some validation just overrides the method <code>performValidations</code> and provide their own implementation.</p>\n<p>Maybe a neater solution would be to have an interface <code>Task</code> as such which defines the basic idea of a <code>Task</code>.</p>\n<pre><code>public interface Task {\n    /**\n     * Perform steps required to create a task\n     * @return true if all the steps have executed successfully.\n     */\n    boolean createTask();\n\n    /**\n     * Perform validations required for a task.\n     * @return true if validations are successful.\n     */\n    default boolean validateTask(){\n      return true;   \n    }\n\n    /**\n     * Perform steps required to complete a task\n     * @return true if all the steps have executed successfully.\n     */\n    boolean completeTask();\n}\n</code></pre>\n<p>Introducing a method <code>executeTask</code> would make sense as well.</p>\n"},{"comments":[{"owner":{"account_id":10674408,"reputation":43,"user_id":7858441,"display_name":"Jose Robles Villares"},"score":1,"creation_date":1701682140,"post_id":77541905,"comment_id":136801491,"body_markdown":"Thanks for your answer. I&#39;ve read about hooks now and what I understand is that it is declared in the abstract class and given an empty implementation, then only overridden when necessary. Should I change it to declare performValidations() in the abstract class, and only override it in the class that actually performs validations?","body":"Thanks for your answer. I&#39;ve read about hooks now and what I understand is that it is declared in the abstract class and given an empty implementation, then only overridden when necessary. Should I change it to declare performValidations() in the abstract class, and only override it in the class that actually performs validations?"},{"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"score":0,"creation_date":1701682988,"post_id":77541905,"comment_id":136801613,"body_markdown":"@JoseRoblesVillares yeah, you are right. It is necessary to move your hook to an abstract class. Having known whether you have a shared logic among derived classes, you can populate with shared logic your hook or make it empty in order to be overridden in derived classes","body":"@JoseRoblesVillares yeah, you are right. It is necessary to move your hook to an abstract class. Having known whether you have a shared logic among derived classes, you can populate with shared logic your hook or make it empty in order to be overridden in derived classes"}],"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700816759,"creation_date":1700816759,"answer_id":77541905,"question_id":77512520,"body_markdown":"&gt; Is this violating the Interface Segregation Principle? Or would it be OK in this situation to leave the implementation of this abstract method in the concrete class empty?\r\n\r\nNo, it is not the violation of the Interface Segregation Principle. What you have implemented is also known as `hook` in `Template Method` design pattern. \r\n\r\n[Hook][1] is:\r\n&gt; A hook is an optional step with an empty body. A template method would work even if a hook isn’t overridden. \r\n&gt; Usually, hooks are placed before and after crucial steps of algorithms, providing subclasses with additional \r\n&gt; extension points for an algorithm\r\n\r\n\r\n  [1]: https://refactoring.guru/design-patterns/template-method","title":"Is this UML diagram violating the Interface Segregation Principle?","body":"<blockquote>\n<p>Is this violating the Interface Segregation Principle? Or would it be OK in this situation to leave the implementation of this abstract method in the concrete class empty?</p>\n</blockquote>\n<p>No, it is not the violation of the Interface Segregation Principle. What you have implemented is also known as <code>hook</code> in <code>Template Method</code> design pattern.</p>\n<p><a href=\"https://refactoring.guru/design-patterns/template-method\" rel=\"nofollow noreferrer\">Hook</a> is:</p>\n<blockquote>\n<p>A hook is an optional step with an empty body. A template method would work even if a hook isn’t overridden.\nUsually, hooks are placed before and after crucial steps of algorithms, providing subclasses with additional\nextension points for an algorithm</p>\n</blockquote>\n"}],"owner":{"account_id":10674408,"reputation":43,"user_id":7858441,"display_name":"Jose Robles Villares"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700816759,"creation_date":1700428047,"question_id":77512520,"body_markdown":"I have created this UML diagram which applies the Template method design pattern:\r\n[![UML diagram][1]][1]\r\n\r\nBoth concrete classes share a lot of the logic whithin the template methods createTask and completeTask, with small variations for each concrete implementation, so I went for the [Template method design pattern][2]. However, one of the concrete classes does not need validation, so it implements the abstract method performValidations as an empty void method.\r\n\r\nIs this violating the Interface Segregation Principle? Or would it be OK in this situation to leave the implementation of this abstract method in the concrete class empty? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Uibqi.png\r\n  [2]: https://en.wikipedia.org/wiki/Template_method_pattern","title":"Is this UML diagram violating the Interface Segregation Principle?","body":"<p>I have created this UML diagram which applies the Template method design pattern:\n<a href=\"https://i.stack.imgur.com/Uibqi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uibqi.png\" alt=\"UML diagram\" /></a></p>\n<p>Both concrete classes share a lot of the logic whithin the template methods createTask and completeTask, with small variations for each concrete implementation, so I went for the <a href=\"https://en.wikipedia.org/wiki/Template_method_pattern\" rel=\"nofollow noreferrer\">Template method design pattern</a>. However, one of the concrete classes does not need validation, so it implements the abstract method performValidations as an empty void method.</p>\n<p>Is this violating the Interface Segregation Principle? Or would it be OK in this situation to leave the implementation of this abstract method in the concrete class empty?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4608728,"reputation":1184,"user_id":3737468,"accept_rate":100,"display_name":"devssh"},"score":3,"creation_date":1522682641,"post_id":39860739,"comment_id":86234420,"body_markdown":"The problem with most of the answers using the .length to get array size is that you have to create a variable for the list to get its size. Check https://stackoverflow.com/questions/21426843/get-last-element-of-stream-list-in-a-one-liner","body":"The problem with most of the answers using the .length to get array size is that you have to create a variable for the list to get its size. Check <a href=\"https://stackoverflow.com/questions/21426843/get-last-element-of-stream-list-in-a-one-liner\" title=\"get last element of stream list in a one liner\">stackoverflow.com/questions/21426843/&hellip;</a>"},{"owner":{"account_id":10648383,"reputation":526,"user_id":7845354,"display_name":"Yo Apps"},"score":0,"creation_date":1571653956,"post_id":39860739,"comment_id":103299920,"body_markdown":"Thats right you might have declared an array to hold 25 items, But you may have filled only 10. so (array.length-1) will still give you the index of the 25th item, not the last item you filled in i.e actually in the 10th position or 9th index!","body":"Thats right you might have declared an array to hold 25 items, But you may have filled only 10. so (array.length-1) will still give you the index of the 25th item, not the last item you filled in i.e actually in the 10th position or 9th index!"}],"answers":[{"comments":[{"owner":{"account_id":1047745,"reputation":1559,"user_id":1052403,"display_name":"acoelhosantos"},"score":4,"creation_date":1500457261,"post_id":39860808,"comment_id":77340773,"body_markdown":"Adding a documentation reference to make the answer more complete: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html","body":"Adding a documentation reference to make the answer more complete: <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.htm&zwnj;&#8203;l</a>"}],"tags":[],"owner":{"account_id":7124249,"reputation":1650,"user_id":6899868,"display_name":"K Richardson"},"comment_count":1,"down_vote_count":0,"up_vote_count":115,"is_accepted":false,"score":115,"last_activity_date":1582480348,"creation_date":1475611256,"answer_id":39860808,"question_id":39860739,"body_markdown":"If you have a double array named  `numbers`, you can use:\r\n\r\n    firstNum = numbers[0];\r\n    lastNum = numbers[numbers.length-1];\r\n\r\nor with `ArrayList`\r\n\r\n    firstNum = numbers.get(0);\r\n    lastNum = numbers.get(numbers.size() - 1); ","title":"How to get first and last element in an array in java?","body":"<p>If you have a double array named  <code>numbers</code>, you can use:</p>\n\n<pre><code>firstNum = numbers[0];\nlastNum = numbers[numbers.length-1];\n</code></pre>\n\n<p>or with <code>ArrayList</code></p>\n\n<pre><code>firstNum = numbers.get(0);\nlastNum = numbers.get(numbers.size() - 1); \n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user5522551"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1475611345,"creation_date":1475611345,"answer_id":39860831,"question_id":39860739,"body_markdown":"\r\n    // Array of doubles\r\n    double[] array_doubles = {2.5, 6.2, 8.2, 4846.354, 9.6};\r\n    \r\n    // First position\r\n    double firstNum = array_doubles[0]; // 2.5\r\n    \r\n    // Last position\r\n    double lastNum = array_doubles[array_doubles.length - 1]; // 9.6\r\n\r\nThis is the same in any array.","title":"How to get first and last element in an array in java?","body":"<pre><code>// Array of doubles\ndouble[] array_doubles = {2.5, 6.2, 8.2, 4846.354, 9.6};\n\n// First position\ndouble firstNum = array_doubles[0]; // 2.5\n\n// Last position\ndouble lastNum = array_doubles[array_doubles.length - 1]; // 9.6\n</code></pre>\n\n<p>This is the same in any array.</p>\n"},{"tags":[],"owner":{"account_id":3830354,"reputation":442,"user_id":3176050,"display_name":"fsalazar_sch"},"comment_count":0,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1475611478,"creation_date":1475611478,"answer_id":39860854,"question_id":39860739,"body_markdown":"Check this\r\n\r\n    double[] myarray = ...;\r\n    System.out.println(myarray[myarray.length-1]); //last\r\n    System.out.println(myarray[0]); //first\r\n\r\n","title":"How to get first and last element in an array in java?","body":"<p>Check this</p>\n\n<pre><code>double[] myarray = ...;\nSystem.out.println(myarray[myarray.length-1]); //last\nSystem.out.println(myarray[0]); //first\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7515300,"reputation":374,"user_id":5708952,"display_name":"Alexander Grass"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531914713,"creation_date":1531914713,"answer_id":51401326,"question_id":39860739,"body_markdown":"I think there is only one intuitive solution and it is:\r\n\r\n    int[] someArray = {1,2,3,4,5};\r\n    int first = someArray[0];\r\n    int last = someArray[someArray.length - 1];\r\n    System.out.println(&quot;First: &quot; + first + &quot;\\n&quot; + &quot;Last: &quot; + last);\r\n    \r\nOutput:\r\n\r\n    First: 1\r\n    Last: 5","title":"How to get first and last element in an array in java?","body":"<p>I think there is only one intuitive solution and it is:</p>\n\n<pre><code>int[] someArray = {1,2,3,4,5};\nint first = someArray[0];\nint last = someArray[someArray.length - 1];\nSystem.out.println(\"First: \" + first + \"\\n\" + \"Last: \" + last);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>First: 1\nLast: 5\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14272149,"reputation":3575,"user_id":10309342,"display_name":"gehbiszumeis"},"score":9,"creation_date":1548057952,"post_id":54285567,"comment_id":95392332,"body_markdown":"Please put your answer in some context and do not just paset code. See [here](https://stackoverflow.com/help/how-to-answer) for further info","body":"Please put your answer in some context and do not just paset code. See <a href=\"https://stackoverflow.com/help/how-to-answer\">here</a> for further info"}],"tags":[],"owner":{"account_id":15156369,"reputation":287,"user_id":10937031,"display_name":"Yagmur SAHIN"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1685875510,"creation_date":1548057587,"answer_id":54285567,"question_id":39860739,"body_markdown":"In Java, you can get the first and last elements of an array using the following approaches:\r\n\r\n**1. Using Array Indexing:**\r\n\r\nTo get the first element, you can access it using index 0.\r\nTo get the last element, you can access it using the index array.length - 1.\r\nHere&#39;s an example:\r\n\r\n    int[] array = {1, 2, 3, 4, 5};\r\n    \r\n    int firstElement = array[0];\r\n    int lastElement = array[array.length - 1];\r\n    \r\n    System.out.println(&quot;First Element: &quot; + firstElement);\r\n    System.out.println(&quot;Last Element: &quot; + lastElement);\r\n\r\n**2. Using ArrayList (if the array is converted to ArrayList):**\r\n\r\nIf you have converted the array to an ArrayList, you can use the get() method to access the first and last elements.\r\nTo get the first element, use arrayList.get(0).\r\nTo get the last element, use arrayList.get(arrayList.size() - 1).\r\nHere&#39;s an example:\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    int[] array = {1, 2, 3, 4, 5};\r\n    ArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;();\r\n    \r\n    // Convert the array to ArrayList\r\n    for (int i : array) {\r\n        arrayList.add(i);\r\n    }\r\n    \r\n    int firstElement = arrayList.get(0);\r\n    int lastElement = arrayList.get(arrayList.size() - 1);\r\n    \r\n    System.out.println(&quot;First Element: &quot; + firstElement);\r\n    System.out.println(&quot;Last Element: &quot; + lastElement);\r\n\r\n**Both approaches allow you to retrieve the first and last elements of an array in Java. Choose the one that best fits your needs and the type of data structure you are working with.**","title":"How to get first and last element in an array in java?","body":"<p>In Java, you can get the first and last elements of an array using the following approaches:</p>\n<p><strong>1. Using Array Indexing:</strong></p>\n<p>To get the first element, you can access it using index 0.\nTo get the last element, you can access it using the index array.length - 1.\nHere's an example:</p>\n<pre><code>int[] array = {1, 2, 3, 4, 5};\n\nint firstElement = array[0];\nint lastElement = array[array.length - 1];\n\nSystem.out.println(&quot;First Element: &quot; + firstElement);\nSystem.out.println(&quot;Last Element: &quot; + lastElement);\n</code></pre>\n<p><strong>2. Using ArrayList (if the array is converted to ArrayList):</strong></p>\n<p>If you have converted the array to an ArrayList, you can use the get() method to access the first and last elements.\nTo get the first element, use arrayList.get(0).\nTo get the last element, use arrayList.get(arrayList.size() - 1).\nHere's an example:</p>\n<pre><code>import java.util.ArrayList;\n\nint[] array = {1, 2, 3, 4, 5};\nArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;();\n\n// Convert the array to ArrayList\nfor (int i : array) {\n    arrayList.add(i);\n}\n\nint firstElement = arrayList.get(0);\nint lastElement = arrayList.get(arrayList.size() - 1);\n\nSystem.out.println(&quot;First Element: &quot; + firstElement);\nSystem.out.println(&quot;Last Element: &quot; + lastElement);\n</code></pre>\n<p><strong>Both approaches allow you to retrieve the first and last elements of an array in Java. Choose the one that best fits your needs and the type of data structure you are working with.</strong></p>\n"},{"tags":[],"owner":{"account_id":18558577,"reputation":29,"user_id":13523067,"display_name":"TEJVEER SINGH"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1589907673,"creation_date":1589907673,"answer_id":61896695,"question_id":39860739,"body_markdown":"**This is the given array.**        \r\n\r\n        int myIntegerNumbers[] = {1,2,3,4,5,6,7,8,9,10};\r\n\r\n// If you want print the last element in the array.\r\n\r\n        int lastNumerOfArray= myIntegerNumbers[9];\r\n        Log.i(&quot;MyTag&quot;, lastNumerOfArray + &quot;&quot;);\r\n\r\n// If you want to print the number of element in the array.\r\n\r\n        Log.i(&quot;MyTag&quot;, &quot;The number of elements inside&quot; +\r\n                &quot;the array &quot; +myIntegerNumbers.length);\r\n\r\n// Second method to print the last element inside the array.\r\n\r\n        Log.i(&quot;MyTag&quot;, &quot;The last elements inside &quot; +\r\n                &quot;the array &quot; + myIntegerNumbers[myIntegerNumbers.length-1]);\r\n    ","title":"How to get first and last element in an array in java?","body":"<p><strong>This is the given array.</strong>        </p>\n\n<pre><code>    int myIntegerNumbers[] = {1,2,3,4,5,6,7,8,9,10};\n</code></pre>\n\n<p>// If you want print the last element in the array.</p>\n\n<pre><code>    int lastNumerOfArray= myIntegerNumbers[9];\n    Log.i(\"MyTag\", lastNumerOfArray + \"\");\n</code></pre>\n\n<p>// If you want to print the number of element in the array.</p>\n\n<pre><code>    Log.i(\"MyTag\", \"The number of elements inside\" +\n            \"the array \" +myIntegerNumbers.length);\n</code></pre>\n\n<p>// Second method to print the last element inside the array.</p>\n\n<pre><code>    Log.i(\"MyTag\", \"The last elements inside \" +\n            \"the array \" + myIntegerNumbers[myIntegerNumbers.length-1]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23720983,"reputation":21,"user_id":17741538,"display_name":"Serhat Ture"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640185051,"creation_date":1640185051,"answer_id":70450992,"question_id":39860739,"body_markdown":"# getting first and last element in an array in java #\r\n\r\n    double[] numbers = {10.2, 20, 11.1, 21, 31, 12, \r\n    22.5, 32, 42, 13.6, 23, 32, 43.3, 53, 14, 24, 34,\r\n    44, 54, 64, 15.1, 25, 35, 45, 55, 65.3, 75.4, 16, 26, 17.5,};\r\n    \r\n\r\n    double firstNumber= numbers[0];\r\n\r\n    double lastNumber = numbers[numbers.length-1];\r\n\r\n    System.out.println(&quot;firstNum = &quot;+ firstNumber);\r\n\r\n    System.out.println(&quot;lastNum = &quot;+ lastNumber);","title":"How to get first and last element in an array in java?","body":"<h1>getting first and last element in an array in java</h1>\n<pre><code>double[] numbers = {10.2, 20, 11.1, 21, 31, 12, \n22.5, 32, 42, 13.6, 23, 32, 43.3, 53, 14, 24, 34,\n44, 54, 64, 15.1, 25, 35, 45, 55, 65.3, 75.4, 16, 26, 17.5,};\n\n\ndouble firstNumber= numbers[0];\n\ndouble lastNumber = numbers[numbers.length-1];\n\nSystem.out.println(&quot;firstNum = &quot;+ firstNumber);\n\nSystem.out.println(&quot;lastNum = &quot;+ lastNumber);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13846532,"reputation":319,"user_id":9995556,"display_name":"pbthorste"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700816359,"creation_date":1700815979,"answer_id":77541827,"question_id":39860739,"body_markdown":"Using java 8+ streams:\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.Optional;\r\n\r\n\r\nString[] items = {&quot;one&quot;, &quot;two&quot;, &quot;three&quot;};\r\n\r\nOptional&lt;String&gt; first = Arrays.stream(items).findFirst();\r\nOptional&lt;String&gt; last = Arrays.stream(items).reduce((x, y) -&gt; y);\r\n```\r\n\r\nThis benefit of this method is that you do not need to check the array length beforehand. For example if you have a zero length array and you call `items[0]`, you will get an `ArrayIndexOutOfBoundsException`.","title":"How to get first and last element in an array in java?","body":"<p>Using java 8+ streams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Optional;\n\n\nString[] items = {&quot;one&quot;, &quot;two&quot;, &quot;three&quot;};\n\nOptional&lt;String&gt; first = Arrays.stream(items).findFirst();\nOptional&lt;String&gt; last = Arrays.stream(items).reduce((x, y) -&gt; y);\n</code></pre>\n<p>This benefit of this method is that you do not need to check the array length beforehand. For example if you have a zero length array and you call <code>items[0]</code>, you will get an <code>ArrayIndexOutOfBoundsException</code>.</p>\n"}],"owner":{"account_id":8244700,"reputation":717,"user_id":6201218,"accept_rate":0,"display_name":"Jotaro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414571,"favorite_count":0,"down_vote_count":6,"up_vote_count":69,"answer_count":8,"score":63,"last_activity_date":1700816359,"creation_date":1475611011,"question_id":39860739,"body_markdown":"If I have an array of doubles: \r\n\r\n    [10.2, 20, 11.1, 21, 31, 12, 22.5, 32, 42, 13.6, 23, 32, 43.3, 53, 14, 24, 34, 44, 54, 64, 15.1, 25, 35, 45, 55, 65.3, 75.4, 16, 26, 17.5,]\r\n\r\nand I want to get the first element and last element so that\r\n\r\n    firstNum = 10.2\r\n    \r\n    lastNum = 17.5\r\n\r\nhow would I do this?","title":"How to get first and last element in an array in java?","body":"<p>If I have an array of doubles: </p>\n\n<pre><code>[10.2, 20, 11.1, 21, 31, 12, 22.5, 32, 42, 13.6, 23, 32, 43.3, 53, 14, 24, 34, 44, 54, 64, 15.1, 25, 35, 45, 55, 65.3, 75.4, 16, 26, 17.5,]\n</code></pre>\n\n<p>and I want to get the first element and last element so that</p>\n\n<pre><code>firstNum = 10.2\n\nlastNum = 17.5\n</code></pre>\n\n<p>how would I do this?</p>\n"},{"tags":["java","haskell","algebraic-data-types"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":4,"creation_date":1515375914,"post_id":48143268,"comment_id":83264756,"body_markdown":"Scala uses inheritance to emulate sum types. You can&#39;t force Java to make a type &quot;sealed&quot; (that is, someone else could come along and write something foolish like `class Apollo11 extends Either&lt;Integer, Integer&gt;`), but you can simply not write any more subclasses yourself and hope for the best. &quot;Safely&quot; doing this is outside of the abilities of Java&#39;s type system, but doing it is possible with inheritance.","body":"Scala uses inheritance to emulate sum types. You can&#39;t force Java to make a type &quot;sealed&quot; (that is, someone else could come along and write something foolish like <code>class Apollo11 extends Either&lt;Integer, Integer&gt;</code>), but you can simply not write any more subclasses yourself and hope for the best. &quot;Safely&quot; doing this is outside of the abilities of Java&#39;s type system, but doing it is possible with inheritance."},{"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"score":2,"creation_date":1515375963,"post_id":48143268,"comment_id":83264765,"body_markdown":"Looking at the signature of [`Collections.newSetFromMap()`](https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#newSetFromMap(java.util.Map)) I think it should be perfectly ok to just define an arbitrary generic type, such as `class Left&lt;L&gt; extends Either&lt;L, Object&gt;`.","body":"Looking at the signature of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#newSetFromMap(java.util.Map)\" rel=\"nofollow noreferrer\"><code>Collections.newSetFromMap()</code></a> I think it should be perfectly ok to just define an arbitrary generic type, such as <code>class Left&lt;L&gt; extends Either&lt;L, Object&gt;</code>."},{"owner":{"account_id":10121872,"reputation":2186,"user_id":7478530,"display_name":"Dragonthoughts"},"score":0,"creation_date":1515376120,"post_id":48143268,"comment_id":83264792,"body_markdown":"@silvio a `final` class cannot be extended in Java.","body":"@silvio a <code>final</code> class cannot be extended in Java."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1515376197,"post_id":48143268,"comment_id":83264807,"body_markdown":"@Dragonthoughts Yes, but we want to extend it a limited number of times and then lock it. Scala has this in the form of the `sealed` keyword, but in Java, you either leave a class open to everyone or make it `final` and block even yourself from inheriting.","body":"@Dragonthoughts Yes, but we want to extend it a limited number of times and then lock it. Scala has this in the form of the <code>sealed</code> keyword, but in Java, you either leave a class open to everyone or make it <code>final</code> and block even yourself from inheriting."},{"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"score":2,"creation_date":1515376333,"post_id":48143268,"comment_id":83264827,"body_markdown":"By making all constructors `package-private`, inheritance can be limited to the enclosing package though. Instantiation must then be performed through static factory, as it is already done here.","body":"By making all constructors <code>package-private</code>, inheritance can be limited to the enclosing package though. Instantiation must then be performed through static factory, as it is already done here."},{"owner":{"account_id":8113042,"reputation":4975,"user_id":6112457,"accept_rate":75,"display_name":"Zoey Hewll"},"score":0,"creation_date":1515376398,"post_id":48143268,"comment_id":83264838,"body_markdown":"@Izruo Hmm, your solution seems right, but I&#39;ve had trouble putting Functional Interface types into `Object`. Eg `Object a = () -&gt; {};` doesn&#39;t compile. Is `Object` still the base of every concrete type?","body":"@Izruo Hmm, your solution seems right, but I&#39;ve had trouble putting Functional Interface types into <code>Object</code>. Eg <code>Object a = () -&gt; {};</code> doesn&#39;t compile. Is <code>Object</code> still the base of every concrete type?"},{"owner":{"account_id":10121872,"reputation":2186,"user_id":7478530,"display_name":"Dragonthoughts"},"score":2,"creation_date":1515376440,"post_id":48143268,"comment_id":83264842,"body_markdown":"You could have a base that is package visible only but have the derived classes final and public.","body":"You could have a base that is package visible only but have the derived classes final and public."},{"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"score":1,"creation_date":1515376692,"post_id":48143268,"comment_id":83264879,"body_markdown":"As the point of that &#39;wildcard&#39; is, that the `right` member of an instance of type `Left` is never assigned, this won&#39;t matter. By the way, the compiler error is probably because it cannot determine the type of functional interface. It should therefore work with an explicit cast: `Object a = (Runnable) () -&gt; {}`, although I don&#39;t see a point in this.","body":"As the point of that &#39;wildcard&#39; is, that the <code>right</code> member of an instance of type <code>Left</code> is never assigned, this won&#39;t matter. By the way, the compiler error is probably because it cannot determine the type of functional interface. It should therefore work with an explicit cast: <code>Object a = (Runnable) () -&gt; {}</code>, although I don&#39;t see a point in this."},{"owner":{"account_id":304966,"reputation":12275,"user_id":614800,"accept_rate":88,"display_name":"beluchin"},"score":0,"creation_date":1568762165,"post_id":48143268,"comment_id":102375265,"body_markdown":"check out https://github.com/pakoito/JavaSealedUnions","body":"check out <a href=\"https://github.com/pakoito/JavaSealedUnions\" rel=\"nofollow noreferrer\">github.com/pakoito/JavaSealedUnions</a>"}],"answers":[{"comments":[{"owner":{"account_id":8113042,"reputation":4975,"user_id":6112457,"accept_rate":75,"display_name":"Zoey Hewll"},"score":0,"creation_date":1515377000,"post_id":48143341,"comment_id":83264926,"body_markdown":"What is the role of the enclosing `EitherTest` type?","body":"What is the role of the enclosing <code>EitherTest</code> type?"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1515377104,"post_id":48143341,"comment_id":83264942,"body_markdown":"Nothing in particular. Just wrapping it all in one file so all the classes can be public. Java requires that each file have at most one public class. If you implement this solution in your project, there&#39;s no reason to have `EitherTest`.","body":"Nothing in particular. Just wrapping it all in one file so all the classes can be public. Java requires that each file have at most one public class. If you implement this solution in your project, there&#39;s no reason to have <code>EitherTest</code>."}],"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1515376980,"creation_date":1515376557,"answer_id":48143341,"question_id":48143268,"body_markdown":"Alright, so the inheritance solution is definitely the most promising. The thing we would like to do is `class Left&lt;L&gt; extends Either&lt;L, ?&gt;`, which we unfortunately cannot do because of Java&#39;s generic rules. However, if we make the concessions that the type of `Left` or `Right` must encode the &quot;alternate&quot; possibility, we can do this.\r\n\r\n    public class Left&lt;L, R&gt; extends Either&lt;L, R&gt;`\r\n\r\nNow, we would like to be able to convert `Left&lt;Integer, A&gt;` to `Left&lt;Integer, B&gt;`, since it doesn&#39;t actually *use* that second type parameter. We can define a method to do this conversion internally, thus encoding that freedom into the type system.\r\n\r\n    public &lt;R1&gt; Left&lt;L, R1&gt; phantom() {\r\n      return new Left&lt;L, R1&gt;(contents);\r\n    }\r\n\r\nComplete example:\r\n\r\n    public class EitherTest {\r\n    \r\n      public abstract static class Either&lt;L, R&gt; {}\r\n    \r\n      public static class Left&lt;L, R&gt; extends Either&lt;L, R&gt; {\r\n    \r\n        private L contents;\r\n    \r\n        public Left(L x) {\r\n          contents = x;\r\n        }\r\n    \r\n        public &lt;R1&gt; Left&lt;L, R1&gt; phantom() {\r\n          return new Left&lt;L, R1&gt;(contents);\r\n        }\r\n    \r\n      }\r\n    \r\n      public static class Right&lt;L, R&gt; extends Either&lt;L, R&gt; {\r\n    \r\n        private R contents;\r\n    \r\n        public Right(R x) {\r\n          contents = x;\r\n        }\r\n    \r\n        public &lt;L1&gt; Right&lt;L1, R&gt; phantom() {\r\n          return new Right&lt;L1, R&gt;(contents);\r\n        }\r\n    \r\n      }\r\n    \r\n    }\r\n\r\nOf course, you&#39;ll want to add some functions for actually accessing the contents, and for checking whether a value is `Left` or `Right` so you don&#39;t have to sprinkle `instanceof` and explicit casts everywhere, but this should be enough to get started, at the very least.","title":"Java tagged union / sum types","body":"<p>Alright, so the inheritance solution is definitely the most promising. The thing we would like to do is <code>class Left&lt;L&gt; extends Either&lt;L, ?&gt;</code>, which we unfortunately cannot do because of Java's generic rules. However, if we make the concessions that the type of <code>Left</code> or <code>Right</code> must encode the \"alternate\" possibility, we can do this.</p>\n\n<pre><code>public class Left&lt;L, R&gt; extends Either&lt;L, R&gt;`\n</code></pre>\n\n<p>Now, we would like to be able to convert <code>Left&lt;Integer, A&gt;</code> to <code>Left&lt;Integer, B&gt;</code>, since it doesn't actually <em>use</em> that second type parameter. We can define a method to do this conversion internally, thus encoding that freedom into the type system.</p>\n\n<pre><code>public &lt;R1&gt; Left&lt;L, R1&gt; phantom() {\n  return new Left&lt;L, R1&gt;(contents);\n}\n</code></pre>\n\n<p>Complete example:</p>\n\n<pre><code>public class EitherTest {\n\n  public abstract static class Either&lt;L, R&gt; {}\n\n  public static class Left&lt;L, R&gt; extends Either&lt;L, R&gt; {\n\n    private L contents;\n\n    public Left(L x) {\n      contents = x;\n    }\n\n    public &lt;R1&gt; Left&lt;L, R1&gt; phantom() {\n      return new Left&lt;L, R1&gt;(contents);\n    }\n\n  }\n\n  public static class Right&lt;L, R&gt; extends Either&lt;L, R&gt; {\n\n    private R contents;\n\n    public Right(R x) {\n      contents = x;\n    }\n\n    public &lt;L1&gt; Right&lt;L1, R&gt; phantom() {\n      return new Right&lt;L1, R&gt;(contents);\n    }\n\n  }\n\n}\n</code></pre>\n\n<p>Of course, you'll want to add some functions for actually accessing the contents, and for checking whether a value is <code>Left</code> or <code>Right</code> so you don't have to sprinkle <code>instanceof</code> and explicit casts everywhere, but this should be enough to get started, at the very least.</p>\n"},{"comments":[{"owner":{"account_id":8113042,"reputation":4975,"user_id":6112457,"accept_rate":75,"display_name":"Zoey Hewll"},"score":0,"creation_date":1515381252,"post_id":48143514,"comment_id":83265681,"body_markdown":"This already mirrors the remainder of my implementation what I&#39;d hidden in the `...`, as it&#39;s adjacent to the actual issue of implementing the sum type, but it is definitely an important part of the Either type&#39;s implementation","body":"This already mirrors the remainder of my implementation what I&#39;d hidden in the <code>...</code>, as it&#39;s adjacent to the actual issue of implementing the sum type, but it is definitely an important part of the Either type&#39;s implementation"},{"owner":{"account_id":3909123,"reputation":112933,"user_id":3234959,"display_name":"chi"},"score":6,"creation_date":1515422969,"post_id":48143514,"comment_id":83283856,"body_markdown":"A main selling point of this approach is that there is no need to use type casts (nor `instanceof`) to eliminate the sum type. In other words, this would also work in a fragment of Java where potentially dangerous constructs such as type casts are forbidden.","body":"A main selling point of this approach is that there is no need to use type casts (nor <code>instanceof</code>) to eliminate the sum type. In other words, this would also work in a fragment of Java where potentially dangerous constructs such as type casts are forbidden."},{"owner":{"account_id":303309,"reputation":1000,"user_id":612169,"display_name":"Gabriel Garcia"},"score":0,"creation_date":1590502837,"post_id":48143514,"comment_id":109699692,"body_markdown":"FWIW, I have explored a similar ADT encoding in Java in my blog: https://garciat.com/2020/05/07/java-adt/","body":"FWIW, I have explored a similar ADT encoding in Java in my blog: <a href=\"https://garciat.com/2020/05/07/java-adt/\" rel=\"nofollow noreferrer\">garciat.com/2020/05/07/java-adt</a>"}],"tags":[],"owner":{"account_id":89496,"reputation":53675,"user_id":246886,"accept_rate":94,"display_name":"Jon Purdy"},"comment_count":3,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1541120156,"creation_date":1515378338,"answer_id":48143514,"question_id":48143268,"body_markdown":"A standard way of encoding sum types is Boehm–Berarducci encoding (often referred to by the name of its cousin, Church encoding) which represents an algebraic data type as its *eliminator*, i.e., a function that does pattern-matching. In Haskell:\r\n\r\n&lt;!-- language: haskell --&gt;\r\n\r\n    left :: a -&gt; (a -&gt; r) -&gt; (b -&gt; r) -&gt; r\r\n    left x l _ = l x\r\n\r\n    right :: b -&gt; (a -&gt; r) -&gt; (b -&gt; r) -&gt; r\r\n    right x _ r = r x\r\n\r\n    match :: (a -&gt; r) -&gt; (b -&gt; r) -&gt; ((a -&gt; r) -&gt; (b -&gt; r) -&gt; r) -&gt; r\r\n    match l r k = k l r\r\n\r\n    -- Or, with a type synonym for convenience:\r\n\r\n    type Either a b r = (a -&gt; r) -&gt; (b -&gt; r) -&gt; r\r\n\r\n    left :: a -&gt; Either a b r\r\n    right :: b -&gt; Either a b r\r\n    match :: (a -&gt; r) -&gt; (b -&gt; r) -&gt; Either a b r -&gt; r\r\n\r\nIn Java this would look like a visitor:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public interface Either&lt;A, B&gt; {\r\n        &lt;R&gt; R match(Function&lt;A, R&gt; left, Function&lt;B, R&gt; right);\r\n    }\r\n\r\n    public final class Left&lt;A, B&gt; implements Either&lt;A, B&gt; {\r\n\r\n        private final A value;\r\n\r\n        public Left(A value) {\r\n            this.value = value;\r\n        }\r\n\r\n        public &lt;R&gt; R match(Function&lt;A, R&gt; left, Function&lt;B, R&gt; right) {\r\n            return left.apply(value);\r\n        }\r\n\r\n    }\r\n\r\n    public final class Right&lt;A, B&gt; implements Either&lt;A, B&gt; {\r\n\r\n        private final B value;\r\n\r\n        public Right(B value) {\r\n            this.value = value;\r\n        }\r\n\r\n        public &lt;R&gt; R match(Function&lt;A, R&gt; left, Function&lt;B, R&gt; right) {\r\n            return right.apply(value);\r\n        }\r\n\r\n    }\r\n\r\nExample usage:\r\n\r\n    Either&lt;Integer, String&gt; result = new Left&lt;Integer, String&gt;(42);\r\n    String message = result.match(\r\n      errorCode -&gt; &quot;Error: &quot; + errorCode.toString(),\r\n      successMessage -&gt; successMessage);\r\n\r\nFor convenience, you can make a factory for creating `Left` and `Right` values without having to mention the type parameters each time; you can also add a version of `match` that accepts `Consumer&lt;A&gt; left, Consumer&lt;B&gt; right` instead of `Function&lt;A, R&gt; left, Function&lt;B, R&gt; right` if you want the option of pattern-matching without producing a result.\r\n","title":"Java tagged union / sum types","body":"<p>A standard way of encoding sum types is Boehm–Berarducci encoding (often referred to by the name of its cousin, Church encoding) which represents an algebraic data type as its <em>eliminator</em>, i.e., a function that does pattern-matching. In Haskell:</p>\n\n<pre class=\"lang-hs prettyprint-override\"><code>left :: a -&gt; (a -&gt; r) -&gt; (b -&gt; r) -&gt; r\nleft x l _ = l x\n\nright :: b -&gt; (a -&gt; r) -&gt; (b -&gt; r) -&gt; r\nright x _ r = r x\n\nmatch :: (a -&gt; r) -&gt; (b -&gt; r) -&gt; ((a -&gt; r) -&gt; (b -&gt; r) -&gt; r) -&gt; r\nmatch l r k = k l r\n\n-- Or, with a type synonym for convenience:\n\ntype Either a b r = (a -&gt; r) -&gt; (b -&gt; r) -&gt; r\n\nleft :: a -&gt; Either a b r\nright :: b -&gt; Either a b r\nmatch :: (a -&gt; r) -&gt; (b -&gt; r) -&gt; Either a b r -&gt; r\n</code></pre>\n\n<p>In Java this would look like a visitor:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface Either&lt;A, B&gt; {\n    &lt;R&gt; R match(Function&lt;A, R&gt; left, Function&lt;B, R&gt; right);\n}\n\npublic final class Left&lt;A, B&gt; implements Either&lt;A, B&gt; {\n\n    private final A value;\n\n    public Left(A value) {\n        this.value = value;\n    }\n\n    public &lt;R&gt; R match(Function&lt;A, R&gt; left, Function&lt;B, R&gt; right) {\n        return left.apply(value);\n    }\n\n}\n\npublic final class Right&lt;A, B&gt; implements Either&lt;A, B&gt; {\n\n    private final B value;\n\n    public Right(B value) {\n        this.value = value;\n    }\n\n    public &lt;R&gt; R match(Function&lt;A, R&gt; left, Function&lt;B, R&gt; right) {\n        return right.apply(value);\n    }\n\n}\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>Either&lt;Integer, String&gt; result = new Left&lt;Integer, String&gt;(42);\nString message = result.match(\n  errorCode -&gt; \"Error: \" + errorCode.toString(),\n  successMessage -&gt; successMessage);\n</code></pre>\n\n<p>For convenience, you can make a factory for creating <code>Left</code> and <code>Right</code> values without having to mention the type parameters each time; you can also add a version of <code>match</code> that accepts <code>Consumer&lt;A&gt; left, Consumer&lt;B&gt; right</code> instead of <code>Function&lt;A, R&gt; left, Function&lt;B, R&gt; right</code> if you want the option of pattern-matching without producing a result.</p>\n"},{"comments":[{"owner":{"account_id":523757,"reputation":60391,"user_id":3141234,"accept_rate":76,"display_name":"Alexander"},"score":0,"creation_date":1515439483,"post_id":48143584,"comment_id":83292655,"body_markdown":"I would introduce an enum into this, to give a way to exhaustively match against the cases","body":"I would introduce an enum into this, to give a way to exhaustively match against the cases"},{"owner":{"account_id":1486150,"reputation":28763,"user_id":1394393,"accept_rate":83,"display_name":"jpmc26"},"score":0,"creation_date":1515456104,"post_id":48143584,"comment_id":83299014,"body_markdown":"It might be wise to name the method generics differently from the class&#39; generics. E.g., maybe `AL`, `BL`, `AR`, and `BR` so that it&#39;s easy to distinguish which ones are being used where.","body":"It might be wise to name the method generics differently from the class&#39; generics. E.g., maybe <code>AL</code>, <code>BL</code>, <code>AR</code>, and <code>BR</code> so that it&#39;s easy to distinguish which ones are being used where."},{"owner":{"account_id":5778025,"reputation":197,"user_id":4559558,"display_name":"JbGi"},"score":1,"creation_date":1515496218,"post_id":48143584,"comment_id":83312777,"body_markdown":"note this approach can be industrialised with a JSR269 annotation processor to generate the boilerplate (the static left and right methods and others, like hashCode/equals). See my project [Derive4J](https://github.com/derive4j/derive4j#derive4j-java-8-annotation-processor-for-deriving-algebraic-data-types-constructors-pattern-matching-and-more).","body":"note this approach can be industrialised with a JSR269 annotation processor to generate the boilerplate (the static left and right methods and others, like hashCode/equals). See my project <a href=\"https://github.com/derive4j/derive4j#derive4j-java-8-annotation-processor-for-deriving-algebraic-data-types-constructors-pattern-matching-and-more\" rel=\"nofollow noreferrer\">Derive4J</a>."},{"owner":{"account_id":211872,"reputation":7501,"user_id":464306,"accept_rate":92,"display_name":"gdejohn"},"score":1,"creation_date":1575998616,"post_id":48143584,"comment_id":104752102,"body_markdown":"@vtosh that was because I was using anonymous-class type-argument inference, which was added in Java 9, but I&#39;ve edited it to make the type arguments explicit so that now it will compile on Java 8","body":"@vtosh that was because I was using anonymous-class type-argument inference, which was added in Java 9, but I&#39;ve edited it to make the type arguments explicit so that now it will compile on Java 8"}],"tags":[],"owner":{"account_id":211872,"reputation":7501,"user_id":464306,"accept_rate":92,"display_name":"gdejohn"},"comment_count":4,"down_vote_count":0,"up_vote_count":74,"is_accepted":true,"score":74,"last_activity_date":1575997862,"creation_date":1515379096,"answer_id":48143584,"question_id":48143268,"body_markdown":"Make `Either` an abstract class with no fields and only one constructor (private, no-args, empty) and nest your &quot;data constructors&quot; (`left` and `right` static factory methods) inside the class so that they can see the private constructor but nothing else can, effectively sealing the type.\r\n\r\nUse an abstract method [`either`](http://hackage.haskell.org/package/base-4.10.1.0/docs/Data-Either.html#v:either) to simulate exhaustive pattern matching, overriding appropriately in the concrete types returned by the static factory methods. Implement convenience methods (like [`fromLeft`](http://hackage.haskell.org/package/base-4.10.1.0/docs/Data-Either.html#v:fromLeft), [`fromRight`](http://hackage.haskell.org/package/base-4.10.1.0/docs/Data-Either.html#v:fromRight), [`bimap`](https://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bifunctor.html#v:bimap), [`first`](https://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bifunctor.html#v:first), [`second`](https://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bifunctor.html#v:second)) in terms of `either`.\r\n\r\n    import java.util.Optional;\r\n    import java.util.function.Function;\r\n    \r\n    public abstract class Either&lt;A, B&gt; {\r\n        private Either() {}\r\n    \r\n        public abstract &lt;C&gt; C either(Function&lt;? super A, ? extends C&gt; left,\r\n                                     Function&lt;? super B, ? extends C&gt; right);\r\n    \r\n        public static &lt;A, B&gt; Either&lt;A, B&gt; left(A value) {\r\n            return new Either&lt;A, B&gt;() {\r\n                @Override\r\n                public &lt;C&gt; C either(Function&lt;? super A, ? extends C&gt; left,\r\n                                    Function&lt;? super B, ? extends C&gt; right) {\r\n                    return left.apply(value);\r\n                }\r\n            };\r\n        }\r\n    \r\n        public static &lt;A, B&gt; Either&lt;A, B&gt; right(B value) {\r\n            return new Either&lt;A, B&gt;() {\r\n                @Override\r\n                public &lt;C&gt; C either(Function&lt;? super A, ? extends C&gt; left,\r\n                                    Function&lt;? super B, ? extends C&gt; right) {\r\n                    return right.apply(value);\r\n                }\r\n            };\r\n        }\r\n    \r\n        public Optional&lt;A&gt; fromLeft() {\r\n            return this.either(Optional::of, value -&gt; Optional.empty());\r\n        }\r\n    }\r\n\r\nPleasant and safe! No way to screw it up. Because the type is effectively sealed, you can rest assured that there will only ever be two cases, and every operation ultimately must be defined in terms of the `either` method, which forces the caller to handle both of those cases.\r\n\r\nRegarding the problem you had trying to do `class Left&lt;L&gt; extends Either&lt;L,?&gt;`, consider the signature `&lt;A, B&gt; Either&lt;A, B&gt; left(A value)`. The type parameter `B` doesn&#39;t appear in the parameter list. So, given a value of some type `A`, you can get an `Either&lt;A, B&gt;` for *any* type `B`.","title":"Java tagged union / sum types","body":"<p>Make <code>Either</code> an abstract class with no fields and only one constructor (private, no-args, empty) and nest your \"data constructors\" (<code>left</code> and <code>right</code> static factory methods) inside the class so that they can see the private constructor but nothing else can, effectively sealing the type.</p>\n\n<p>Use an abstract method <a href=\"http://hackage.haskell.org/package/base-4.10.1.0/docs/Data-Either.html#v:either\" rel=\"noreferrer\"><code>either</code></a> to simulate exhaustive pattern matching, overriding appropriately in the concrete types returned by the static factory methods. Implement convenience methods (like <a href=\"http://hackage.haskell.org/package/base-4.10.1.0/docs/Data-Either.html#v:fromLeft\" rel=\"noreferrer\"><code>fromLeft</code></a>, <a href=\"http://hackage.haskell.org/package/base-4.10.1.0/docs/Data-Either.html#v:fromRight\" rel=\"noreferrer\"><code>fromRight</code></a>, <a href=\"https://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bifunctor.html#v:bimap\" rel=\"noreferrer\"><code>bimap</code></a>, <a href=\"https://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bifunctor.html#v:first\" rel=\"noreferrer\"><code>first</code></a>, <a href=\"https://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bifunctor.html#v:second\" rel=\"noreferrer\"><code>second</code></a>) in terms of <code>either</code>.</p>\n\n<pre><code>import java.util.Optional;\nimport java.util.function.Function;\n\npublic abstract class Either&lt;A, B&gt; {\n    private Either() {}\n\n    public abstract &lt;C&gt; C either(Function&lt;? super A, ? extends C&gt; left,\n                                 Function&lt;? super B, ? extends C&gt; right);\n\n    public static &lt;A, B&gt; Either&lt;A, B&gt; left(A value) {\n        return new Either&lt;A, B&gt;() {\n            @Override\n            public &lt;C&gt; C either(Function&lt;? super A, ? extends C&gt; left,\n                                Function&lt;? super B, ? extends C&gt; right) {\n                return left.apply(value);\n            }\n        };\n    }\n\n    public static &lt;A, B&gt; Either&lt;A, B&gt; right(B value) {\n        return new Either&lt;A, B&gt;() {\n            @Override\n            public &lt;C&gt; C either(Function&lt;? super A, ? extends C&gt; left,\n                                Function&lt;? super B, ? extends C&gt; right) {\n                return right.apply(value);\n            }\n        };\n    }\n\n    public Optional&lt;A&gt; fromLeft() {\n        return this.either(Optional::of, value -&gt; Optional.empty());\n    }\n}\n</code></pre>\n\n<p>Pleasant and safe! No way to screw it up. Because the type is effectively sealed, you can rest assured that there will only ever be two cases, and every operation ultimately must be defined in terms of the <code>either</code> method, which forces the caller to handle both of those cases.</p>\n\n<p>Regarding the problem you had trying to do <code>class Left&lt;L&gt; extends Either&lt;L,?&gt;</code>, consider the signature <code>&lt;A, B&gt; Either&lt;A, B&gt; left(A value)</code>. The type parameter <code>B</code> doesn't appear in the parameter list. So, given a value of some type <code>A</code>, you can get an <code>Either&lt;A, B&gt;</code> for <em>any</em> type <code>B</code>.</p>\n"},{"comments":[{"owner":{"account_id":8113042,"reputation":4975,"user_id":6112457,"accept_rate":75,"display_name":"Zoey Hewll"},"score":0,"creation_date":1515459816,"post_id":48156368,"comment_id":83299790,"body_markdown":"You missed a third case, where the common API provides only the `switch`, which unwraps the structure for you and provides control flow, like Haskell&#39;s pattern match. I doubt there would be a situation where you need to decide control flow based on the type, but then use the whole object, instead of just the contained value.","body":"You missed a third case, where the common API provides only the <code>switch</code>, which unwraps the structure for you and provides control flow, like Haskell&#39;s pattern match. I doubt there would be a situation where you need to decide control flow based on the type, but then use the whole object, instead of just the contained value."},{"owner":{"account_id":8113042,"reputation":4975,"user_id":6112457,"accept_rate":75,"display_name":"Zoey Hewll"},"score":0,"creation_date":1515459891,"post_id":48156368,"comment_id":83299802,"body_markdown":"See [Jon Purdy&#39;s answer](https://stackoverflow.com/a/48143514/6112457) for something similar to my implementation","body":"See <a href=\"https://stackoverflow.com/a/48143514/6112457\">Jon Purdy&#39;s answer</a> for something similar to my implementation"},{"owner":{"account_id":523757,"reputation":60391,"user_id":3141234,"accept_rate":76,"display_name":"Alexander"},"score":0,"creation_date":1515460079,"post_id":48156368,"comment_id":83299830,"body_markdown":"@ZoeyHewll Yeah. One of the issues though, is that different cases can have can different numbers of values, with different types. Java doesn&#39;t give you a way to deal with that","body":"@ZoeyHewll Yeah. One of the issues though, is that different cases can have can different numbers of values, with different types. Java doesn&#39;t give you a way to deal with that"},{"owner":{"account_id":8113042,"reputation":4975,"user_id":6112457,"accept_rate":75,"display_name":"Zoey Hewll"},"score":0,"creation_date":1515460751,"post_id":48156368,"comment_id":83299954,"body_markdown":"[It definitely does](https://gist.github.com/anonymous/0eea8d3768c571a9230f54fd31d43ba0)","body":"<a href=\"https://gist.github.com/anonymous/0eea8d3768c571a9230f54fd31d43ba0\" rel=\"nofollow noreferrer\">It definitely does</a>"},{"owner":{"account_id":8113042,"reputation":4975,"user_id":6112457,"accept_rate":75,"display_name":"Zoey Hewll"},"score":0,"creation_date":1515460878,"post_id":48156368,"comment_id":83299990,"body_markdown":"By passing in the functions to be called in each case, you can have the enclosed values passed to a function that expects exactly that number of values, of the required types","body":"By passing in the functions to be called in each case, you can have the enclosed values passed to a function that expects exactly that number of values, of the required types"},{"owner":{"account_id":523757,"reputation":60391,"user_id":3141234,"accept_rate":76,"display_name":"Alexander"},"score":0,"creation_date":1515461840,"post_id":48156368,"comment_id":83300206,"body_markdown":"@ZoeyHewll I&#39;m not quite getting it, could you show me an example of the usage?","body":"@ZoeyHewll I&#39;m not quite getting it, could you show me an example of the usage?"},{"owner":{"account_id":8113042,"reputation":4975,"user_id":6112457,"accept_rate":75,"display_name":"Zoey Hewll"},"score":0,"creation_date":1515462299,"post_id":48156368,"comment_id":83300302,"body_markdown":"See my comment on the gist for a better formatted example, but:\n`Maybe&lt;Integer&gt; m = someOperation();\nm.match(\n      (Integer value) -&gt; System.out.println(&quot;value = &quot; + value),\n      () -&gt; System.out.println(&quot;there is no value&quot;)\n);`","body":"See my comment on the gist for a better formatted example, but: <code>Maybe&lt;Integer&gt; m = someOperation(); m.match(       (Integer value) -&gt; System.out.println(&quot;value = &quot; + value),       () -&gt; System.out.println(&quot;there is no value&quot;) );</code>"},{"owner":{"account_id":523757,"reputation":60391,"user_id":3141234,"accept_rate":76,"display_name":"Alexander"},"score":1,"creation_date":1515462628,"post_id":48156368,"comment_id":83300378,"body_markdown":"@ZoeyHewll I see, so the super class declares an abstract match method that takes `n` functions for each of the `n` cases, each taking as parameters the values associated with that case. Then each subclass calls one of of those `n` functions, passing it members (associated values) as arguments. Correct?","body":"@ZoeyHewll I see, so the super class declares an abstract match method that takes <code>n</code> functions for each of the <code>n</code> cases, each taking as parameters the values associated with that case. Then each subclass calls one of of those <code>n</code> functions, passing it members (associated values) as arguments. Correct?"},{"owner":{"account_id":8113042,"reputation":4975,"user_id":6112457,"accept_rate":75,"display_name":"Zoey Hewll"},"score":0,"creation_date":1515463089,"post_id":48156368,"comment_id":83300471,"body_markdown":"Yes. The `match` function directly mirrors Haskell&#39;s `case` expression in this regard","body":"Yes. The <code>match</code> function directly mirrors Haskell&#39;s <code>case</code> expression in this regard"},{"owner":{"account_id":523757,"reputation":60391,"user_id":3141234,"accept_rate":76,"display_name":"Alexander"},"score":0,"creation_date":1515463804,"post_id":48156368,"comment_id":83300602,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/162777/discussion-between-alexander-and-zoey-hewll).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/162777/discussion-between-alexander-and-zoey-hewll\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":523757,"reputation":60391,"user_id":3141234,"accept_rate":76,"display_name":"Alexander"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1515465666,"creation_date":1515437327,"answer_id":48156368,"question_id":48143268,"body_markdown":"Inheritance *can* be used to emulate sum types (Disjoint unions), but there are a few issues you need to deal with:\r\n\r\n1. You need to take care to keep others from adding new cases to your type. This is especially important if you want to exhaustively handle every case you might encounter. It&#39;s possible with a non-final super class, and package-private constructor.\r\n2. The lack of pattern patching makes it quite difficult to consume a value of this type. If you want compiler-checked way to guarantee that you&#39;ve exhaustively handled all cases, you need to implement a match function yourself.\r\n3. You&#39;re forced into one of two styles of API, neither of which are ideal:\r\n * All cases implement a common API, throwing errors on API they don&#39;t support themselves. Consider [`Optional.get()`][1]. Ideally, this method would only be available on a disjoint type who&#39;s value is known to be `some` rather than `none`. But there&#39;s no way to do that, so it&#39;s an instance member of a general `Optional` type. It throws `NoSuchElementException` if you call it on an optional whose &quot;case&quot; is &quot;none&quot;.\r\n * Each case has a unique API that tells you exactly what it&#39;s capable of, but that requires a manual type check and cast every time you wish to call one of these subclass-specific methods.\r\n4. Changing &quot;cases&quot; requires new object allocation (and adds pressure on the GC if done often).\r\n\r\nTL;DR: Functional programming in Java is not a pleasant experience.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#get--","title":"Java tagged union / sum types","body":"<p>Inheritance <em>can</em> be used to emulate sum types (Disjoint unions), but there are a few issues you need to deal with:</p>\n\n<ol>\n<li>You need to take care to keep others from adding new cases to your type. This is especially important if you want to exhaustively handle every case you might encounter. It's possible with a non-final super class, and package-private constructor.</li>\n<li>The lack of pattern patching makes it quite difficult to consume a value of this type. If you want compiler-checked way to guarantee that you've exhaustively handled all cases, you need to implement a match function yourself.</li>\n<li>You're forced into one of two styles of API, neither of which are ideal:\n\n<ul>\n<li>All cases implement a common API, throwing errors on API they don't support themselves. Consider <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#get--\" rel=\"nofollow noreferrer\"><code>Optional.get()</code></a>. Ideally, this method would only be available on a disjoint type who's value is known to be <code>some</code> rather than <code>none</code>. But there's no way to do that, so it's an instance member of a general <code>Optional</code> type. It throws <code>NoSuchElementException</code> if you call it on an optional whose \"case\" is \"none\".</li>\n<li>Each case has a unique API that tells you exactly what it's capable of, but that requires a manual type check and cast every time you wish to call one of these subclass-specific methods.</li>\n</ul></li>\n<li>Changing \"cases\" requires new object allocation (and adds pressure on the GC if done often).</li>\n</ol>\n\n<p>TL;DR: Functional programming in Java is not a pleasant experience.</p>\n"},{"tags":[],"owner":{"account_id":5343521,"reputation":1,"user_id":4259722,"display_name":"Anno Langen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660497072,"creation_date":1660497072,"answer_id":73353578,"question_id":48143268,"body_markdown":"How about\r\n\r\n```\r\nimport java.util.Optional;\r\n\r\npublic interface Either&lt;L, R&gt; {\r\n  default Optional&lt;L&gt; left() { return Optional.empty();}\r\n  default Optional&lt;R&gt; right() { return Optional.empty();}\r\n\r\n  static &lt;L, R&gt; Either&lt;L, R&gt; fromLeft(L left) {\r\n    return new Either&lt;L, R&gt;() {\r\n      @Override public Optional&lt;L&gt; left() { return Optional.of(left); }\r\n    };\r\n  }\r\n\r\n  static &lt;L, R&gt; Either&lt;L, R&gt; fromRight(R right) {\r\n    return new Either&lt;L, R&gt;() {\r\n      @Override public Optional&lt;R&gt; right() { return Optional.of(right); }\r\n    };\r\n  }\r\n}\r\n```\r\nThe difference to other solutions proposed here is not deep, but stylistic.","title":"Java tagged union / sum types","body":"<p>How about</p>\n<pre><code>import java.util.Optional;\n\npublic interface Either&lt;L, R&gt; {\n  default Optional&lt;L&gt; left() { return Optional.empty();}\n  default Optional&lt;R&gt; right() { return Optional.empty();}\n\n  static &lt;L, R&gt; Either&lt;L, R&gt; fromLeft(L left) {\n    return new Either&lt;L, R&gt;() {\n      @Override public Optional&lt;L&gt; left() { return Optional.of(left); }\n    };\n  }\n\n  static &lt;L, R&gt; Either&lt;L, R&gt; fromRight(R right) {\n    return new Either&lt;L, R&gt;() {\n      @Override public Optional&lt;R&gt; right() { return Optional.of(right); }\n    };\n  }\n}\n</code></pre>\n<p>The difference to other solutions proposed here is not deep, but stylistic.</p>\n"},{"tags":[],"owner":{"account_id":13783233,"reputation":121,"user_id":9947864,"display_name":"Argemione"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663925413,"creation_date":1663925413,"answer_id":73825698,"question_id":48143268,"body_markdown":"Let me suggest a very different solution, that does not make use of inheritance / abstract classes / interfaces. On the downside, it requires some effort for each new &quot;sum type&quot; defined. However, I think it has many advantages : it is safe, it only uses basic concepts, it feels natural to use, and allows for more than 2 &quot;subtypes&quot;.\r\n\r\nHere is a proof of concept for binary trees because it&#39;s more practical than &quot;Either&quot;, but you can just use the comments as the guideline to build your own sum type.\r\n\r\n    public class Tree {\r\n\t\r\n\t// 1) Create an enum listing all &quot;subtypes&quot; (there may be more than 2)\r\n\tenum Type { Node, Leaf }\r\n\t\r\n\t// 2) Create a static class for each subtype (with the same name for clarity)\r\n\tpublic static class Node {\r\n\t\t\r\n\t\tTree l,r;\r\n\t\t\r\n\t\tpublic Node(Tree l, Tree r) {\r\n\t\t\t\r\n\t\t\tthis.l = l;\r\n\t\t\tthis.r = r;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static class Leaf {\r\n\t\t\r\n\t\tint label;\r\n\t\t\r\n\t\tpublic Leaf(int label) {\r\n\t\t\tthis.label = label;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t// 3) Each instance must have:\r\n\t// One variable to indicate which subtype it corresponds to\r\n\tType type;\r\n\t\r\n\t// One variable for each of the subtypes (only one will be different from null)\r\n\tLeaf leaf;\r\n\tNode node;\r\n\t\r\n\t// 4) Create one constructor for each subtype (it could even be private)\r\n\tpublic Tree(Node node) {\r\n\t\t\r\n\t\tthis.type = Type.Node;\r\n\t\tthis.node = node;\r\n\t\t\r\n\t}\r\n\t\r\n\t// 5) Create one &quot;factory&quot; method for each subtype (not mandatory but quite convenient)\r\n\tpublic static Tree newNode(Tree l, Tree r) {\r\n\t\treturn new Tree(new Node(l,r));\r\n\t}\r\n\t\r\n\tpublic Tree(Leaf leaf) {\r\n\t\t\r\n\t\tthis.type = Type.Leaf;\r\n\t\tthis.leaf = leaf;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static  Tree newLeaf(int label) {\r\n\t\treturn new Tree(new Leaf(label));\r\n\t}\r\n\t\r\n\t// 6) Create a generic &quot;matching&quot; function with one argument for each subtype\r\n    // (the constructors ensure that no &quot;null pointer exception&quot; can be raised)\r\n\tpublic &lt;T&gt; T match(Function&lt;Node,T&gt; matchNode, Function&lt;Leaf,T&gt; matchLeaf) {\r\n\t\t\r\n\t\tswitch (type) {\r\n\t\tcase Node:\r\n\t\t\treturn matchNode.apply(node);\r\n\t\tcase Leaf:\r\n\t\t\treturn matchLeaf.apply(leaf);\r\n\t\t}\r\n\t\treturn null;\r\n\t\t\r\n\t}\r\n\t\r\n\t// 7) Have fun !\r\n\t// Note that matchings are quite natural to write.\r\n\tpublic int size() {\r\n\t\t\r\n\t\treturn match(\r\n\t\t\t\tnode -&gt; 1 + node.l.size() + node.r.size(),\r\n\t\t\t\tleaf -&gt; 1\r\n\t\t);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\t\r\n\t\treturn match(\r\n\t\t\t\tnode -&gt; {\r\n\t\t\t\t\tString sl = node.l.toString();\r\n\t\t\t\t\tString sr = node.r.toString();\r\n\t\t\t\t\treturn &quot;Node { &quot;+sl+&quot; , &quot;+sr+&quot; }&quot;;\r\n\t\t\t\t},\r\n\t\t\t\tleaf -&gt; &quot;Leaf: &quot;+leaf.label\r\n\t\t);\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void main(String [] args) {\r\n\t\t\r\n\t\tTree node1 = Tree.newNode(Tree.newLeaf(1),Tree.newLeaf(2));\r\n\t\tTree node2 = Tree.newNode(node1,Tree.newLeaf(3));\r\n\t\t\r\n\t\tSystem.out.println(node2.size());\r\n\t\tSystem.out.println(node2);\r\n\t\t\r\n\t}\r\n\t}\r\n\r\nFeel free to express criticism, I&#39;m genuinely interested in this topic and will be happy to learn more.","title":"Java tagged union / sum types","body":"<p>Let me suggest a very different solution, that does not make use of inheritance / abstract classes / interfaces. On the downside, it requires some effort for each new &quot;sum type&quot; defined. However, I think it has many advantages : it is safe, it only uses basic concepts, it feels natural to use, and allows for more than 2 &quot;subtypes&quot;.</p>\n<p>Here is a proof of concept for binary trees because it's more practical than &quot;Either&quot;, but you can just use the comments as the guideline to build your own sum type.</p>\n<pre><code>public class Tree {\n\n// 1) Create an enum listing all &quot;subtypes&quot; (there may be more than 2)\nenum Type { Node, Leaf }\n\n// 2) Create a static class for each subtype (with the same name for clarity)\npublic static class Node {\n    \n    Tree l,r;\n    \n    public Node(Tree l, Tree r) {\n        \n        this.l = l;\n        this.r = r;\n    }\n    \n}\n\npublic static class Leaf {\n    \n    int label;\n    \n    public Leaf(int label) {\n        this.label = label;\n    }\n    \n}\n\n// 3) Each instance must have:\n// One variable to indicate which subtype it corresponds to\nType type;\n\n// One variable for each of the subtypes (only one will be different from null)\nLeaf leaf;\nNode node;\n\n// 4) Create one constructor for each subtype (it could even be private)\npublic Tree(Node node) {\n    \n    this.type = Type.Node;\n    this.node = node;\n    \n}\n\n// 5) Create one &quot;factory&quot; method for each subtype (not mandatory but quite convenient)\npublic static Tree newNode(Tree l, Tree r) {\n    return new Tree(new Node(l,r));\n}\n\npublic Tree(Leaf leaf) {\n    \n    this.type = Type.Leaf;\n    this.leaf = leaf;\n    \n}\n\npublic static  Tree newLeaf(int label) {\n    return new Tree(new Leaf(label));\n}\n\n// 6) Create a generic &quot;matching&quot; function with one argument for each subtype\n// (the constructors ensure that no &quot;null pointer exception&quot; can be raised)\npublic &lt;T&gt; T match(Function&lt;Node,T&gt; matchNode, Function&lt;Leaf,T&gt; matchLeaf) {\n    \n    switch (type) {\n    case Node:\n        return matchNode.apply(node);\n    case Leaf:\n        return matchLeaf.apply(leaf);\n    }\n    return null;\n    \n}\n\n// 7) Have fun !\n// Note that matchings are quite natural to write.\npublic int size() {\n    \n    return match(\n            node -&gt; 1 + node.l.size() + node.r.size(),\n            leaf -&gt; 1\n    );\n    \n}\n\npublic String toString() {\n    \n    return match(\n            node -&gt; {\n                String sl = node.l.toString();\n                String sr = node.r.toString();\n                return &quot;Node { &quot;+sl+&quot; , &quot;+sr+&quot; }&quot;;\n            },\n            leaf -&gt; &quot;Leaf: &quot;+leaf.label\n    );\n    \n}\n\n\npublic static void main(String [] args) {\n    \n    Tree node1 = Tree.newNode(Tree.newLeaf(1),Tree.newLeaf(2));\n    Tree node2 = Tree.newNode(node1,Tree.newLeaf(3));\n    \n    System.out.println(node2.size());\n    System.out.println(node2);\n    \n}\n}\n</code></pre>\n<p>Feel free to express criticism, I'm genuinely interested in this topic and will be happy to learn more.</p>\n"},{"comments":[{"owner":{"account_id":9842376,"reputation":537,"user_id":7465516,"display_name":"julaine"},"score":0,"creation_date":1700811622,"post_id":77013628,"comment_id":136701195,"body_markdown":"I don&#39;t see too much benefit in implementing the Either&lt;L,R&gt;-type when you can just do `abstract sealed class LR permits L,R` and switch-pattern-match on LR with compiletime safety. The goal of this question as I originally read it was to have ADTs in Java. Now, java has ADTs, but the syntax is different from what OP imagined.","body":"I don&#39;t see too much benefit in implementing the Either&lt;L,R&gt;-type when you can just do <code>abstract sealed class LR permits L,R</code> and switch-pattern-match on LR with compiletime safety. The goal of this question as I originally read it was to have ADTs in Java. Now, java has ADTs, but the syntax is different from what OP imagined."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1700814312,"post_id":77013628,"comment_id":136701601,"body_markdown":"You might not always have control over `L` and `R`;.","body":"You might not always have control over <code>L</code> and <code>R</code>;."},{"owner":{"account_id":9842376,"reputation":537,"user_id":7465516,"display_name":"julaine"},"score":0,"creation_date":1700815225,"post_id":77013628,"comment_id":136701761,"body_markdown":"that is true, I imagined the common use case where you have some known classes L and R and want to take the sum type, while your question works with generic L,R as well. Now that I see the value of `Either` even with new java, I believe it is the best answer here.","body":"that is true, I imagined the common use case where you have some known classes L and R and want to take the sum type, while your question works with generic L,R as well. Now that I see the value of <code>Either</code> even with new java, I believe it is the best answer here."}],"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700815973,"creation_date":1693466609,"answer_id":77013628,"question_id":48143268,"body_markdown":"## TL;DR\r\nWith Java 21, you can do\r\n```java\r\npublic sealed interface Either&lt;A, B&gt; permits Left, Right {}\r\npublic record Left&lt;A, B&gt;(A value) implements Either&lt;A, B&gt; {}\r\npublic record Right&lt;A, B&gt;(B value) implements Either&lt;A, B&gt; {}\r\n```\r\n```java\r\npublic &lt;A,B,R&gt; R match(Either&lt;A,B&gt; a, Function&lt;A,R&gt; left, Function&lt;B,R&gt; right){\r\n    return switch(a){\r\n        case Left&lt;A,B&gt;(A value) -&gt; left.apply(value);\r\n        case Right&lt;A,B&gt;(B value) -&gt; right.apply(value);\r\n    };\r\n}\r\n```\r\n## Long version\r\nIn recent Java versions, there have been a lot of additions to the Java language due to [project Amber](https://openjdk.org/projects/amber/) which are useful for that kind of problem.  \r\nNamely, Java added [Records](https://openjdk.org/jeps/395), [sealed classes](https://openjdk.org/jeps/409), [record patterns](https://openjdk.org/jeps/440), [switch patternmatching](https://openjdk.org/jeps/441) and [switch expressions](https://openjdk.org/jeps/361).\r\n\r\nSince [Sealed classes have been introduced in Java 17](https://openjdk.org/jeps/409), you can now use these to make an `Either` type. Sealed classes ensure there cannot be any other subclasses.  \r\nIn your case, the type system guarantees that your `Either` objects are either `Left` or a `Right` objects but not anything else.\r\n\r\nI will adapt [Jon Purdy&#39;s answer](https://stackoverflow.com/a/48143514/10871900) with sealed classes.\r\n```java\r\npublic sealed interface Either&lt;A, B&gt; permits Left, Right{\r\n    &lt;R&gt; R match(Function&lt;A, R&gt; left, Function&lt;B, R&gt; right);\r\n    static &lt;A, B&gt; Left&lt;A, B&gt; left(A value){\r\n        return new Left&lt;&gt;(value);\r\n    }\r\n    static &lt;A, B&gt; Right&lt;A, B&gt; right(B value){\r\n        return new Right&lt;&gt;(value);\r\n    } \r\n}\r\n\r\npublic record Left&lt;A, B&gt;(A value) implements Either&lt;A, B&gt; {\r\n\r\n    @Override\r\n    public &lt;R&gt; R match(Function&lt;A, R&gt; left, Function&lt;B, R&gt; right) {\r\n        return left.apply(value());\r\n    }\r\n}\r\n\r\npublic record Right&lt;A, B&gt;(B value) implements Either&lt;A, B&gt; {\r\n\r\n    @Override\r\n    public &lt;R&gt; R match(Function&lt;A, R&gt; left, Function&lt;B, R&gt; right) {\r\n        return right.apply(value());\r\n    }\r\n}\r\n```\r\n\r\nI have also added two things for convenience:\r\n- `static` factory methods which can be used for instantiating `Either` objects without the `Left`/`Right` classes\r\n- I have converted `Left`/`Right` classes to [records (available since Java 16)](https://openjdk.org/jeps/395) which are essentially immutable data classes.\r\n\r\nThese changes allow accessing the value once you know whether it is a `Left` or `Right` object.\r\nWith [switch patternmatching](https://openjdk.org/jeps/441) and [record patterns](https://openjdk.org/jeps/440) which will both be finalized in Java 21, you can conveniently `switch` between the `Left` and `Right` type:\r\n```java\r\nEither&lt;L, R&gt; a= ...;\r\nswitch(a){\r\n    case Left&lt;L,R&gt;(L value) -&gt; doLeft(value);\r\n    case Right&lt;L,R&gt;(R value) -&gt; doRight(value);\r\n}\r\n```\r\nYou can also use [switch expressions](https://openjdk.org/jeps/361) for making this `switch` statement an expression:\r\n```java\r\nEither&lt;L, R&gt; a= ...;\r\nResultType result = switch(a){\r\n    case Left&lt;L,R&gt;(L value) -&gt; computeLeftResult(value);\r\n    case Right&lt;L,R&gt;(R value) -&gt; computeRightResult(value);\r\n}\r\n```\r\nThis is essentially equivalent to the `match` method.\r\n\r\nIf you prefer that to the `match` method, you can simplify the code:\r\n```java\r\npublic sealed interface Either&lt;A, B&gt; permits Left, Right {}\r\n\r\npublic record Left&lt;A, B&gt;(A value) implements Either&lt;A, B&gt; {}\r\n\r\npublic record Right&lt;A, B&gt;(B value) implements Either&lt;A, B&gt; {}\r\n```\r\nand you can still match using the `switch` construct as mentioned before:\r\n```java\r\nEither&lt;L, R&gt; a= ...;\r\nResultType result = switch(a){\r\n    case Left&lt;L,R&gt;(L value) -&gt; computeLeftResult(value);\r\n    case Right&lt;L,R&gt;(R value) -&gt; computeRightResult(value);\r\n}\r\n```\r\n\r\n## Alternative: common supertype\r\n\r\nIf the types naturally belong together can add an interface to both types, you can make that sealed as well:\r\n```java\r\n//please use a better name for your specific use-case\r\npublic interface AOrB permits A, B {\r\n    //possible common functionality\r\n}\r\n\r\npublic class A implements AOrB{\r\n    //specific functionality for A\r\n}\r\n\r\npublic class B implements AOrB{\r\n    //specific functionality for B\r\n}\r\n```\r\n\r\nYou can then switch over them like:\r\n```java\r\npublic &lt;R&gt; R matchAB(AOrB aOrB, Function&lt;A,R&gt; left, Function&lt;B,R&gt; right){\r\n    return switch(aOrB){\r\n        case A a -&gt; left.apply(a);\r\n        case B b -&gt; right.apply(b);\r\n    };\r\n}\r\n```\r\n\r\nIn many cases, you might also want to use records for `A` and `B`.","title":"Java tagged union / sum types","body":"<h2>TL;DR</h2>\n<p>With Java 21, you can do</p>\n<pre class=\"lang-java prettyprint-override\"><code>public sealed interface Either&lt;A, B&gt; permits Left, Right {}\npublic record Left&lt;A, B&gt;(A value) implements Either&lt;A, B&gt; {}\npublic record Right&lt;A, B&gt;(B value) implements Either&lt;A, B&gt; {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;A,B,R&gt; R match(Either&lt;A,B&gt; a, Function&lt;A,R&gt; left, Function&lt;B,R&gt; right){\n    return switch(a){\n        case Left&lt;A,B&gt;(A value) -&gt; left.apply(value);\n        case Right&lt;A,B&gt;(B value) -&gt; right.apply(value);\n    };\n}\n</code></pre>\n<h2>Long version</h2>\n<p>In recent Java versions, there have been a lot of additions to the Java language due to <a href=\"https://openjdk.org/projects/amber/\" rel=\"nofollow noreferrer\">project Amber</a> which are useful for that kind of problem.<br />\nNamely, Java added <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">Records</a>, <a href=\"https://openjdk.org/jeps/409\" rel=\"nofollow noreferrer\">sealed classes</a>, <a href=\"https://openjdk.org/jeps/440\" rel=\"nofollow noreferrer\">record patterns</a>, <a href=\"https://openjdk.org/jeps/441\" rel=\"nofollow noreferrer\">switch patternmatching</a> and <a href=\"https://openjdk.org/jeps/361\" rel=\"nofollow noreferrer\">switch expressions</a>.</p>\n<p>Since <a href=\"https://openjdk.org/jeps/409\" rel=\"nofollow noreferrer\">Sealed classes have been introduced in Java 17</a>, you can now use these to make an <code>Either</code> type. Sealed classes ensure there cannot be any other subclasses.<br />\nIn your case, the type system guarantees that your <code>Either</code> objects are either <code>Left</code> or a <code>Right</code> objects but not anything else.</p>\n<p>I will adapt <a href=\"https://stackoverflow.com/a/48143514/10871900\">Jon Purdy's answer</a> with sealed classes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public sealed interface Either&lt;A, B&gt; permits Left, Right{\n    &lt;R&gt; R match(Function&lt;A, R&gt; left, Function&lt;B, R&gt; right);\n    static &lt;A, B&gt; Left&lt;A, B&gt; left(A value){\n        return new Left&lt;&gt;(value);\n    }\n    static &lt;A, B&gt; Right&lt;A, B&gt; right(B value){\n        return new Right&lt;&gt;(value);\n    } \n}\n\npublic record Left&lt;A, B&gt;(A value) implements Either&lt;A, B&gt; {\n\n    @Override\n    public &lt;R&gt; R match(Function&lt;A, R&gt; left, Function&lt;B, R&gt; right) {\n        return left.apply(value());\n    }\n}\n\npublic record Right&lt;A, B&gt;(B value) implements Either&lt;A, B&gt; {\n\n    @Override\n    public &lt;R&gt; R match(Function&lt;A, R&gt; left, Function&lt;B, R&gt; right) {\n        return right.apply(value());\n    }\n}\n</code></pre>\n<p>I have also added two things for convenience:</p>\n<ul>\n<li><code>static</code> factory methods which can be used for instantiating <code>Either</code> objects without the <code>Left</code>/<code>Right</code> classes</li>\n<li>I have converted <code>Left</code>/<code>Right</code> classes to <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">records (available since Java 16)</a> which are essentially immutable data classes.</li>\n</ul>\n<p>These changes allow accessing the value once you know whether it is a <code>Left</code> or <code>Right</code> object.\nWith <a href=\"https://openjdk.org/jeps/441\" rel=\"nofollow noreferrer\">switch patternmatching</a> and <a href=\"https://openjdk.org/jeps/440\" rel=\"nofollow noreferrer\">record patterns</a> which will both be finalized in Java 21, you can conveniently <code>switch</code> between the <code>Left</code> and <code>Right</code> type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Either&lt;L, R&gt; a= ...;\nswitch(a){\n    case Left&lt;L,R&gt;(L value) -&gt; doLeft(value);\n    case Right&lt;L,R&gt;(R value) -&gt; doRight(value);\n}\n</code></pre>\n<p>You can also use <a href=\"https://openjdk.org/jeps/361\" rel=\"nofollow noreferrer\">switch expressions</a> for making this <code>switch</code> statement an expression:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Either&lt;L, R&gt; a= ...;\nResultType result = switch(a){\n    case Left&lt;L,R&gt;(L value) -&gt; computeLeftResult(value);\n    case Right&lt;L,R&gt;(R value) -&gt; computeRightResult(value);\n}\n</code></pre>\n<p>This is essentially equivalent to the <code>match</code> method.</p>\n<p>If you prefer that to the <code>match</code> method, you can simplify the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public sealed interface Either&lt;A, B&gt; permits Left, Right {}\n\npublic record Left&lt;A, B&gt;(A value) implements Either&lt;A, B&gt; {}\n\npublic record Right&lt;A, B&gt;(B value) implements Either&lt;A, B&gt; {}\n</code></pre>\n<p>and you can still match using the <code>switch</code> construct as mentioned before:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Either&lt;L, R&gt; a= ...;\nResultType result = switch(a){\n    case Left&lt;L,R&gt;(L value) -&gt; computeLeftResult(value);\n    case Right&lt;L,R&gt;(R value) -&gt; computeRightResult(value);\n}\n</code></pre>\n<h2>Alternative: common supertype</h2>\n<p>If the types naturally belong together can add an interface to both types, you can make that sealed as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//please use a better name for your specific use-case\npublic interface AOrB permits A, B {\n    //possible common functionality\n}\n\npublic class A implements AOrB{\n    //specific functionality for A\n}\n\npublic class B implements AOrB{\n    //specific functionality for B\n}\n</code></pre>\n<p>You can then switch over them like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;R&gt; R matchAB(AOrB aOrB, Function&lt;A,R&gt; left, Function&lt;B,R&gt; right){\n    return switch(aOrB){\n        case A a -&gt; left.apply(a);\n        case B b -&gt; right.apply(b);\n    };\n}\n</code></pre>\n<p>In many cases, you might also want to use records for <code>A</code> and <code>B</code>.</p>\n"}],"owner":{"account_id":8113042,"reputation":4975,"user_id":6112457,"accept_rate":75,"display_name":"Zoey Hewll"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18461,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":48143584,"answer_count":7,"score":63,"last_activity_date":1700815973,"creation_date":1515375718,"question_id":48143268,"body_markdown":"Is there any way to define a sum type in Java? Java seems to naturally support product types directly, and I thought enums might allow it to support sum types, and inheritance looks like maybe it could do it, but there is at least one case I can&#39;t resolve.\r\nTo elaborate, a sum type is a type which can have exactly one of a set of different types, like a tagged union in C.\r\nIn my case, I&#39;m trying to implement haskell&#39;s Either type in Java:\r\n\r\n    data Either a b = Left a | Right b\r\n\r\nbut at the base level I&#39;m having to implement it as a product type, and just ignore one of its fields:\r\n\r\n    public class Either&lt;L,R&gt;\r\n    {\r\n        private L left = null;\r\n        private R right = null;\r\n\r\n        public static &lt;L,R&gt; Either&lt;L,R&gt; right(R right)\r\n        {\r\n            return new Either&lt;&gt;(null, right);\r\n        }\r\n\r\n        public static &lt;L,R&gt; Either&lt;L,R&gt; left(L left)\r\n        {\r\n            return new Either&lt;&gt;(left, null);\r\n        }\r\n\r\n        private Either(L left, R right) throws IllegalArgumentException\r\n        {\r\n            this.left = left;\r\n            this.right = right;\r\n            if (left != null &amp;&amp; right != null)\r\n            {\r\n                throw new IllegalArgumentException(&quot;An Either cannot be created with two values&quot;);\r\n            }\r\n            if (left == right)\r\n            {\r\n                throw new IllegalArgumentException(&quot;An Either cannot be created without a value&quot;);\r\n            }\r\n        }\r\n\r\n        .\r\n        .\r\n        .\r\n    }\r\n\r\nI tried implementing this with inheritance, but I have to use a wildcard type parameter, or equivalent, which Java generics won&#39;t allow:\r\n\r\n    public class Left&lt;L&gt; extends Either&lt;L,?&gt;\r\n\r\nI haven&#39;t used Java&#39;s Enums much, but while they seem the next best candidate, I&#39;m not hopeful.  \r\nAt this point, I think this might only be possible by type-casting `Object` values, which I would hope to avoid entirely, unless there&#39;s a way to do it once, safely, and be able to use that for all sum types.","title":"Java tagged union / sum types","body":"<p>Is there any way to define a sum type in Java? Java seems to naturally support product types directly, and I thought enums might allow it to support sum types, and inheritance looks like maybe it could do it, but there is at least one case I can't resolve.\nTo elaborate, a sum type is a type which can have exactly one of a set of different types, like a tagged union in C.\nIn my case, I'm trying to implement haskell's Either type in Java:</p>\n\n<pre><code>data Either a b = Left a | Right b\n</code></pre>\n\n<p>but at the base level I'm having to implement it as a product type, and just ignore one of its fields:</p>\n\n<pre><code>public class Either&lt;L,R&gt;\n{\n    private L left = null;\n    private R right = null;\n\n    public static &lt;L,R&gt; Either&lt;L,R&gt; right(R right)\n    {\n        return new Either&lt;&gt;(null, right);\n    }\n\n    public static &lt;L,R&gt; Either&lt;L,R&gt; left(L left)\n    {\n        return new Either&lt;&gt;(left, null);\n    }\n\n    private Either(L left, R right) throws IllegalArgumentException\n    {\n        this.left = left;\n        this.right = right;\n        if (left != null &amp;&amp; right != null)\n        {\n            throw new IllegalArgumentException(\"An Either cannot be created with two values\");\n        }\n        if (left == right)\n        {\n            throw new IllegalArgumentException(\"An Either cannot be created without a value\");\n        }\n    }\n\n    .\n    .\n    .\n}\n</code></pre>\n\n<p>I tried implementing this with inheritance, but I have to use a wildcard type parameter, or equivalent, which Java generics won't allow:</p>\n\n<pre><code>public class Left&lt;L&gt; extends Either&lt;L,?&gt;\n</code></pre>\n\n<p>I haven't used Java's Enums much, but while they seem the next best candidate, I'm not hopeful.<br>\nAt this point, I think this might only be possible by type-casting <code>Object</code> values, which I would hope to avoid entirely, unless there's a way to do it once, safely, and be able to use that for all sum types.</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"owner":{"account_id":23651590,"reputation":23,"user_id":17683553,"display_name":"Charismatic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700815523,"creation_date":1700815523,"question_id":77541775,"body_markdown":"So I get such error - \r\n\r\n    org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:570) ~[spring-orm-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n    Caused by: jakarta.persistence.RollbackException: Error while committing the transaction\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:65) ~[hibernate-core-6.2.4.Final.jar:6.2.4.Final]\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104) ~[hibernate-core-6.2.4.Final.jar:6.2.4.Final]\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:561) ~[spring-orm-6.0.13.jar:6.0.13]\r\n    \t... 144 common frames omitted\r\n    Caused by: java.lang.ClassCastException: class io.hypersistence.utils.hibernate.type.range.Range cannot be cast to class java.lang.Comparable (io.hypersistence.utils.hibernate.type.range.Range is in unnamed module of loader &#39;app&#39;; java.lang.Comparable is in module java.base of loader &#39;bootstrap&#39;)\r\n    \tat org.hibernate.type.AbstractType.compare(AbstractType.java:49) ~[hibernate-core-6.2.4.Final.jar:6.2.4.Final]\r\n\r\nIn this code - \r\n\r\n    @Override\r\n        @Transactional\r\n        public void setPriceCorrections(UUID versionId, UUID constructionObjectId,\r\n                                        List&lt;PriceCorrectionSetRequest&gt; corrections) {\r\n            List&lt;PriceCorrectionEntity&gt; entities = new ArrayList&lt;&gt;();\r\n    \r\n            VersionEntity version = parametersVersionService.findByIdWithException(versionId);\r\n            SaleableObjectEntity saleableObjectEntity = saleableObjectService\r\n                    .findByIdWithException(constructionObjectId, versionId);\r\n    \r\n            for (PriceCorrectionSetRequest correction : corrections) {\r\n                PriceCorrectionEntity entity = priceCorrectionRepository.findById(\r\n                        new PriceCorrectionEntity.Pk(\r\n                                versionId,\r\n                                constructionObjectId,\r\n                                correction.premiseKind()\r\n                        )\r\n                ).orElse(\r\n                        PriceCorrectionEntity.builder()\r\n                                .version(version)\r\n                                .constructionObject(saleableObjectEntity)\r\n                                .premiseKind(correction.premiseKind())\r\n                                .build()\r\n                );\r\n    \r\n                if (Objects.isNull(correction.proportion())\r\n                        &amp;&amp; Objects.isNull(correction.amountPerM2())) {\r\n                    \r\n                    if (entity.isNew()) {\r\n                        continue;\r\n                    }\r\n    \r\n                   \r\n                    entityManager.remove(entity);\r\n                    continue;\r\n                }\r\n    \r\n                if (Objects.nonNull(correction.proportion())) {\r\n                    entity.setProportion(correction.proportion());\r\n                }\r\n                if (Objects.nonNull(correction.amountPerM2())) {\r\n                    entity.setAmountPerM2(correction.amountPerM2());\r\n                }\r\n    \r\n                entities.add(entity);\r\n            }\r\n    \r\n            entities.forEach(entityManager::persist);\r\n            entityManager.flush();\r\n    \r\n            priceCalculationService.recalculateCorrections(versionId, constructionObjectId);\r\n    \r\n            premisePriceHistoryService.saveHistory(\r\n                    premiseService.findAllByConstructionObjectStream(\r\n                            versionId,\r\n                            constructionObjectId)\r\n            );\r\n    }\r\nThis is Entity - \r\n\r\n    @Entity\r\n    @Table(name = &quot;premise_price_history&quot;, schema = &quot;product&quot;)\r\n    @IdClass(PremisePriceHistoryEntity.Pk.class)\r\n    public class PremisePriceHistoryEntity implements Serializable, Persistable&lt;PremisePriceHistoryEntity.Pk&gt; {\r\n    \r\n        @Transient\r\n        private boolean isNew = true;\r\n    \r\n        @Id\r\n        @Column(name = &quot;version_id&quot;, nullable = false)\r\n        private UUID versionId;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;version_id&quot;, nullable = false, updatable = false, insertable = false)\r\n        private VersionEntity version;\r\n    \r\n        @Id\r\n        @Column(name = &quot;premise_id&quot;, nullable = false)\r\n        private UUID premiseId;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumns({\r\n                @JoinColumn(name = &quot;premise_id&quot;, insertable = false, updatable = false),\r\n                @JoinColumn(name = &quot;version_id&quot;, insertable = false, updatable = false)\r\n        })\r\n        private PremiseEntity premise;\r\n    \r\n        @Id\r\n        @Column(name = &quot;period&quot;, nullable = false, columnDefinition = &quot;tstzrange&quot;)\r\n        @Type(PostgreSQLRangeType.class)\r\n        private Range&lt;ZonedDateTime&gt; period;\r\n    \r\n        @Column(name = &quot;price&quot;, nullable = false)\r\n        private BigDecimal price;\r\n    \r\n        @Column(name = &quot;common_space&quot;, nullable = false)\r\n        private Boolean commonSpace;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(name = &quot;premise_kind&quot;, columnDefinition = &quot;premise_kind_enum&quot;, nullable = false)\r\n        @Type(PostgreSQLEnumType.class)\r\n        private PremiseKind premiseKind;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;premise_type_id&quot;, nullable = false)\r\n        private PremiseTypeEntity premiseType;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;object_type_id&quot;, nullable = false)\r\n        private ObjectTypeEntity objectType;\r\n    \r\n        @Column(name = &quot;object_kind&quot;, nullable = false)\r\n        @Enumerated(EnumType.STRING)\r\n        private ObjectKind objectKind;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;grade_id&quot;, nullable = false)\r\n        private GradeEntity grade;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;morphotype_id&quot;, nullable = false)\r\n        private MorphotypeEntity morphotype;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;contour_id&quot;, nullable = false)\r\n        private ContourEntity contour;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumnsOrFormulas(value = {\r\n                @JoinColumnOrFormula(column = @JoinColumn(name = &quot;construction_project_id&quot;,\r\n                        referencedColumnName = &quot;construction_project_id&quot;)),\r\n                @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;version_id&quot;, referencedColumnName = &quot;version_id&quot;))\r\n        })\r\n        private ConstructionProjectEntity constructionProject;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumnsOrFormulas(value = {\r\n                @JoinColumnOrFormula(column = @JoinColumn(name = &quot;site_id&quot;,\r\n                        referencedColumnName = &quot;site_id&quot;)),\r\n                @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;version_id&quot;, referencedColumnName = &quot;version_id&quot;))\r\n        })\r\n        private SiteEntity site;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumnsOrFormulas(value = {\r\n                @JoinColumnOrFormula(column = @JoinColumn(name = &quot;parcel_id&quot;,\r\n                        referencedColumnName = &quot;parcel_id&quot;)),\r\n                @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;version_id&quot;, referencedColumnName = &quot;version_id&quot;))\r\n        })\r\n        private ParcelEntity parcel;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumnsOrFormulas(value = {\r\n                @JoinColumnOrFormula(column = @JoinColumn(name = &quot;construction_object_id&quot;,\r\n                        referencedColumnName = &quot;construction_object_id&quot;)),\r\n                @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;version_id&quot;, referencedColumnName = &quot;version_id&quot;))\r\n        })\r\n        private SaleableObjectEntity constructionObject;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumnsOrFormulas(value = {\r\n                @JoinColumnOrFormula(column = @JoinColumn(name = &quot;section_id&quot;,\r\n                        referencedColumnName = &quot;section_id&quot;)),\r\n                @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;version_id&quot;, referencedColumnName = &quot;version_id&quot;))\r\n        })\r\n        private SectionEntity section;\r\n\r\nI understand that problem in hypersistence.Range, cuz it in PK, but I really don&#39;t understand which mechanism try to compare PK with Comparable. I have many entities where hypersistence.Range is used as part of composite PK, but error I get only here. Explain me this pls.","title":"jakarta.persistence.RollbackException: Error while committing the transaction","body":"<p>So I get such error -</p>\n<pre><code>org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:570) ~[spring-orm-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-6.0.13.jar:6.0.13]\n\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: jakarta.persistence.RollbackException: Error while committing the transaction\n    at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:65) ~[hibernate-core-6.2.4.Final.jar:6.2.4.Final]\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104) ~[hibernate-core-6.2.4.Final.jar:6.2.4.Final]\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:561) ~[spring-orm-6.0.13.jar:6.0.13]\n    ... 144 common frames omitted\nCaused by: java.lang.ClassCastException: class io.hypersistence.utils.hibernate.type.range.Range cannot be cast to class java.lang.Comparable (io.hypersistence.utils.hibernate.type.range.Range is in unnamed module of loader 'app'; java.lang.Comparable is in module java.base of loader 'bootstrap')\n    at org.hibernate.type.AbstractType.compare(AbstractType.java:49) ~[hibernate-core-6.2.4.Final.jar:6.2.4.Final]\n</code></pre>\n<p>In this code -</p>\n<pre><code>@Override\n    @Transactional\n    public void setPriceCorrections(UUID versionId, UUID constructionObjectId,\n                                    List&lt;PriceCorrectionSetRequest&gt; corrections) {\n        List&lt;PriceCorrectionEntity&gt; entities = new ArrayList&lt;&gt;();\n\n        VersionEntity version = parametersVersionService.findByIdWithException(versionId);\n        SaleableObjectEntity saleableObjectEntity = saleableObjectService\n                .findByIdWithException(constructionObjectId, versionId);\n\n        for (PriceCorrectionSetRequest correction : corrections) {\n            PriceCorrectionEntity entity = priceCorrectionRepository.findById(\n                    new PriceCorrectionEntity.Pk(\n                            versionId,\n                            constructionObjectId,\n                            correction.premiseKind()\n                    )\n            ).orElse(\n                    PriceCorrectionEntity.builder()\n                            .version(version)\n                            .constructionObject(saleableObjectEntity)\n                            .premiseKind(correction.premiseKind())\n                            .build()\n            );\n\n            if (Objects.isNull(correction.proportion())\n                    &amp;&amp; Objects.isNull(correction.amountPerM2())) {\n                \n                if (entity.isNew()) {\n                    continue;\n                }\n\n               \n                entityManager.remove(entity);\n                continue;\n            }\n\n            if (Objects.nonNull(correction.proportion())) {\n                entity.setProportion(correction.proportion());\n            }\n            if (Objects.nonNull(correction.amountPerM2())) {\n                entity.setAmountPerM2(correction.amountPerM2());\n            }\n\n            entities.add(entity);\n        }\n\n        entities.forEach(entityManager::persist);\n        entityManager.flush();\n\n        priceCalculationService.recalculateCorrections(versionId, constructionObjectId);\n\n        premisePriceHistoryService.saveHistory(\n                premiseService.findAllByConstructionObjectStream(\n                        versionId,\n                        constructionObjectId)\n        );\n}\n</code></pre>\n<p>This is Entity -</p>\n<pre><code>@Entity\n@Table(name = &quot;premise_price_history&quot;, schema = &quot;product&quot;)\n@IdClass(PremisePriceHistoryEntity.Pk.class)\npublic class PremisePriceHistoryEntity implements Serializable, Persistable&lt;PremisePriceHistoryEntity.Pk&gt; {\n\n    @Transient\n    private boolean isNew = true;\n\n    @Id\n    @Column(name = &quot;version_id&quot;, nullable = false)\n    private UUID versionId;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;version_id&quot;, nullable = false, updatable = false, insertable = false)\n    private VersionEntity version;\n\n    @Id\n    @Column(name = &quot;premise_id&quot;, nullable = false)\n    private UUID premiseId;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumns({\n            @JoinColumn(name = &quot;premise_id&quot;, insertable = false, updatable = false),\n            @JoinColumn(name = &quot;version_id&quot;, insertable = false, updatable = false)\n    })\n    private PremiseEntity premise;\n\n    @Id\n    @Column(name = &quot;period&quot;, nullable = false, columnDefinition = &quot;tstzrange&quot;)\n    @Type(PostgreSQLRangeType.class)\n    private Range&lt;ZonedDateTime&gt; period;\n\n    @Column(name = &quot;price&quot;, nullable = false)\n    private BigDecimal price;\n\n    @Column(name = &quot;common_space&quot;, nullable = false)\n    private Boolean commonSpace;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;premise_kind&quot;, columnDefinition = &quot;premise_kind_enum&quot;, nullable = false)\n    @Type(PostgreSQLEnumType.class)\n    private PremiseKind premiseKind;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;premise_type_id&quot;, nullable = false)\n    private PremiseTypeEntity premiseType;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;object_type_id&quot;, nullable = false)\n    private ObjectTypeEntity objectType;\n\n    @Column(name = &quot;object_kind&quot;, nullable = false)\n    @Enumerated(EnumType.STRING)\n    private ObjectKind objectKind;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;grade_id&quot;, nullable = false)\n    private GradeEntity grade;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;morphotype_id&quot;, nullable = false)\n    private MorphotypeEntity morphotype;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;contour_id&quot;, nullable = false)\n    private ContourEntity contour;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumnsOrFormulas(value = {\n            @JoinColumnOrFormula(column = @JoinColumn(name = &quot;construction_project_id&quot;,\n                    referencedColumnName = &quot;construction_project_id&quot;)),\n            @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;version_id&quot;, referencedColumnName = &quot;version_id&quot;))\n    })\n    private ConstructionProjectEntity constructionProject;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumnsOrFormulas(value = {\n            @JoinColumnOrFormula(column = @JoinColumn(name = &quot;site_id&quot;,\n                    referencedColumnName = &quot;site_id&quot;)),\n            @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;version_id&quot;, referencedColumnName = &quot;version_id&quot;))\n    })\n    private SiteEntity site;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumnsOrFormulas(value = {\n            @JoinColumnOrFormula(column = @JoinColumn(name = &quot;parcel_id&quot;,\n                    referencedColumnName = &quot;parcel_id&quot;)),\n            @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;version_id&quot;, referencedColumnName = &quot;version_id&quot;))\n    })\n    private ParcelEntity parcel;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumnsOrFormulas(value = {\n            @JoinColumnOrFormula(column = @JoinColumn(name = &quot;construction_object_id&quot;,\n                    referencedColumnName = &quot;construction_object_id&quot;)),\n            @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;version_id&quot;, referencedColumnName = &quot;version_id&quot;))\n    })\n    private SaleableObjectEntity constructionObject;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumnsOrFormulas(value = {\n            @JoinColumnOrFormula(column = @JoinColumn(name = &quot;section_id&quot;,\n                    referencedColumnName = &quot;section_id&quot;)),\n            @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;version_id&quot;, referencedColumnName = &quot;version_id&quot;))\n    })\n    private SectionEntity section;\n</code></pre>\n<p>I understand that problem in hypersistence.Range, cuz it in PK, but I really don't understand which mechanism try to compare PK with Comparable. I have many entities where hypersistence.Range is used as part of composite PK, but error I get only here. Explain me this pls.</p>\n"},{"tags":["java","xjc","maven-jaxb2-plugin","jaxb2-basics"],"answers":[{"comments":[{"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1700561899,"post_id":77504860,"comment_id":136667084,"body_markdown":"PR created : https://github.com/highsource/jaxb-tools/pull/455","body":"PR created : <a href=\"https://github.com/highsource/jaxb-tools/pull/455\" rel=\"nofollow noreferrer\">github.com/highsource/jaxb-tools/pull/455</a>"}],"tags":[],"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700814909,"creation_date":1700258836,"answer_id":77504860,"question_id":72382188,"body_markdown":"New issue created in jaxb-tools repository since jaxb2-basics has been merged there now : https://github.com/highsource/jaxb-tools/issues/453\r\n\r\nI&#39;ve seen that property created by the simplify plugin are not wrapped like xjc properties and this wrap done is responsible of customizations like the isSet methods.\r\n\r\nI&#39;ll update the answer with PR when provided and then with release when done if possible\r\n\r\n**EDIT 21/11/2023** : PR created : https://github.com/highsource/jaxb-tools/pull/455\r\n\r\n**EDIT 24/11/2023** : PR merged, will be available in 4.0.1 release","title":"isSet methods not generated using jaxb2-basics simplify plugin","body":"<p>New issue created in jaxb-tools repository since jaxb2-basics has been merged there now : <a href=\"https://github.com/highsource/jaxb-tools/issues/453\" rel=\"nofollow noreferrer\">https://github.com/highsource/jaxb-tools/issues/453</a></p>\n<p>I've seen that property created by the simplify plugin are not wrapped like xjc properties and this wrap done is responsible of customizations like the isSet methods.</p>\n<p>I'll update the answer with PR when provided and then with release when done if possible</p>\n<p><strong>EDIT 21/11/2023</strong> : PR created : <a href=\"https://github.com/highsource/jaxb-tools/pull/455\" rel=\"nofollow noreferrer\">https://github.com/highsource/jaxb-tools/pull/455</a></p>\n<p><strong>EDIT 24/11/2023</strong> : PR merged, will be available in 4.0.1 release</p>\n"}],"owner":{"account_id":5679859,"reputation":77,"user_id":4491468,"display_name":"pcesarperez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700814909,"creation_date":1653501023,"question_id":72382188,"body_markdown":"I have a schema with two elements within a `&lt;xs:choice/&gt;` block, as per the following fragment:\r\n\r\n```xml\r\n&lt;xs:complexType name=&quot;POCD_MT000040.Component2&quot;&gt;\r\n    &lt;xs:sequence&gt;\r\n        &lt;xs:element name=&quot;realmCode&quot; type=&quot;CS&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n        &lt;xs:element name=&quot;typeId&quot; type=&quot;POCD_MT000040.InfrastructureRoot.typeId&quot; minOccurs=&quot;0&quot;/&gt;\r\n        &lt;xs:element name=&quot;templateId&quot; type=&quot;II&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n        &lt;xs:choice&gt;\r\n            &lt;xs:element name=&quot;nonXMLBody&quot; type=&quot;POCD_MT000040.NonXMLBody&quot;/&gt;\r\n            &lt;xs:element name=&quot;structuredBody&quot; type=&quot;POCD_MT000040.StructuredBody&quot;/&gt;\r\n        &lt;/xs:choice&gt;\r\n    &lt;/xs:sequence&gt;\r\n    &lt;xs:attribute name=&quot;nullFlavor&quot; type=&quot;NullFlavor&quot; use=&quot;optional&quot;/&gt;\r\n    &lt;xs:attribute name=&quot;typeCode&quot; type=&quot;ActRelationshipHasComponent&quot; use=&quot;optional&quot; fixed=&quot;COMP&quot;/&gt;\r\n    &lt;xs:attribute name=&quot;contextConductionInd&quot; type=&quot;bl&quot; use=&quot;optional&quot; fixed=&quot;true&quot;/&gt;\r\n&lt;/xs:complexType&gt;\r\n```\r\n\r\nThis is part of the HL7/CDA specification schemas, by the way.\r\n\r\nWell, I am using `maven-jaxb2-plugin` to generate the Java classes, with a touch of the `jaxb2-basics` plugin to simplify complex elements, like `nonXMLBody` and `structuredBody`. Let&#39;s say I have a bindings file with the following contents:\r\n\r\n```xml\r\n&lt;jxb:bindings\r\n    xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n    xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\r\n    xmlns:simplify=&quot;http://jaxb2-commons.dev.java.net/basic/simplify&quot;\r\n    jxb:extensionBindingPrefixes=&quot;xjc simplify&quot;\r\n    version=&quot;2.1&quot;&gt;\r\n\r\n    &lt;jxb:globalBindings\r\n        typesafeEnumMaxMembers=&quot;1000&quot;\r\n        generateMixedExtensions=&quot;true&quot;\r\n        generateIsSetMethod=&quot;true&quot;\r\n        choiceContentProperty=&quot;true&quot;&gt;\r\n\r\n        &lt;xjc:serializable uid=&quot;1&quot; /&gt;\r\n    &lt;/jxb:globalBindings&gt;\r\n\r\n    &lt;jxb:bindings schemaLocation=&quot;xsd/POCD_MT000040.xsd&quot;&gt;\r\n        &lt;jxb:bindings node=&quot;xs:complexType[@name=&#39;POCD_MT000040.Component2&#39;]//xs:choice&quot;&gt;\r\n            &lt;simplify:as-element-property /&gt;\r\n        &lt;/jxb:bindings&gt;\r\n    &lt;/jxb:bindings&gt;\r\n&lt;/jxb:bindings&gt;\r\n```\r\n\r\n\r\n The attributes are generated as expected:\r\n\r\n```java\r\nprotected POCDMT000040NonXMLBody nonXMLBody;\r\nprotected POCDMT000040StructuredBody structuredBody;\r\n```\r\n\r\nHowever, although I am using `generateIsSetMethod=&quot;true&quot;` in the global bindings, the methods `isSetNonXMLBody ( )` and `isSetStructuredBody ( )` are not being generated at all. The equivalent methods for the rest of the attributes are present, though, like `isSetTypeId ( )`.\r\n\r\nAm I missing any option I should know of to generate these methods in the aforementioned elements?","title":"isSet methods not generated using jaxb2-basics simplify plugin","body":"<p>I have a schema with two elements within a <code>&lt;xs:choice/&gt;</code> block, as per the following fragment:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xs:complexType name=&quot;POCD_MT000040.Component2&quot;&gt;\n    &lt;xs:sequence&gt;\n        &lt;xs:element name=&quot;realmCode&quot; type=&quot;CS&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n        &lt;xs:element name=&quot;typeId&quot; type=&quot;POCD_MT000040.InfrastructureRoot.typeId&quot; minOccurs=&quot;0&quot;/&gt;\n        &lt;xs:element name=&quot;templateId&quot; type=&quot;II&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n        &lt;xs:choice&gt;\n            &lt;xs:element name=&quot;nonXMLBody&quot; type=&quot;POCD_MT000040.NonXMLBody&quot;/&gt;\n            &lt;xs:element name=&quot;structuredBody&quot; type=&quot;POCD_MT000040.StructuredBody&quot;/&gt;\n        &lt;/xs:choice&gt;\n    &lt;/xs:sequence&gt;\n    &lt;xs:attribute name=&quot;nullFlavor&quot; type=&quot;NullFlavor&quot; use=&quot;optional&quot;/&gt;\n    &lt;xs:attribute name=&quot;typeCode&quot; type=&quot;ActRelationshipHasComponent&quot; use=&quot;optional&quot; fixed=&quot;COMP&quot;/&gt;\n    &lt;xs:attribute name=&quot;contextConductionInd&quot; type=&quot;bl&quot; use=&quot;optional&quot; fixed=&quot;true&quot;/&gt;\n&lt;/xs:complexType&gt;\n</code></pre>\n<p>This is part of the HL7/CDA specification schemas, by the way.</p>\n<p>Well, I am using <code>maven-jaxb2-plugin</code> to generate the Java classes, with a touch of the <code>jaxb2-basics</code> plugin to simplify complex elements, like <code>nonXMLBody</code> and <code>structuredBody</code>. Let's say I have a bindings file with the following contents:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jxb:bindings\n    xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\n    xmlns:simplify=&quot;http://jaxb2-commons.dev.java.net/basic/simplify&quot;\n    jxb:extensionBindingPrefixes=&quot;xjc simplify&quot;\n    version=&quot;2.1&quot;&gt;\n\n    &lt;jxb:globalBindings\n        typesafeEnumMaxMembers=&quot;1000&quot;\n        generateMixedExtensions=&quot;true&quot;\n        generateIsSetMethod=&quot;true&quot;\n        choiceContentProperty=&quot;true&quot;&gt;\n\n        &lt;xjc:serializable uid=&quot;1&quot; /&gt;\n    &lt;/jxb:globalBindings&gt;\n\n    &lt;jxb:bindings schemaLocation=&quot;xsd/POCD_MT000040.xsd&quot;&gt;\n        &lt;jxb:bindings node=&quot;xs:complexType[@name='POCD_MT000040.Component2']//xs:choice&quot;&gt;\n            &lt;simplify:as-element-property /&gt;\n        &lt;/jxb:bindings&gt;\n    &lt;/jxb:bindings&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n<p>The attributes are generated as expected:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected POCDMT000040NonXMLBody nonXMLBody;\nprotected POCDMT000040StructuredBody structuredBody;\n</code></pre>\n<p>However, although I am using <code>generateIsSetMethod=&quot;true&quot;</code> in the global bindings, the methods <code>isSetNonXMLBody ( )</code> and <code>isSetStructuredBody ( )</code> are not being generated at all. The equivalent methods for the rest of the attributes are present, though, like <code>isSetTypeId ( )</code>.</p>\n<p>Am I missing any option I should know of to generate these methods in the aforementioned elements?</p>\n"},{"tags":["java","localization","internationalization","antlr"],"comments":[{"owner":{"account_id":1156784,"reputation":50192,"user_id":1137174,"accept_rate":78,"display_name":"Mike Lischke"},"score":1,"creation_date":1700814351,"post_id":77538820,"comment_id":136701608,"body_markdown":"You shouldn&#39;t use programming language parsers for natural language. Instead explore the field of NLP (natural language processing) for your task.","body":"You shouldn&#39;t use programming language parsers for natural language. Instead explore the field of NLP (natural language processing) for your task."},{"owner":{"account_id":8291385,"reputation":21,"user_id":6232897,"display_name":"Rick Noel"},"score":0,"creation_date":1700930037,"post_id":77538820,"comment_id":136713395,"body_markdown":"I agree with you, Mike. With my simpler requirements than the above example and some knowledge of ANTRL, I chose an expedient solution. I guess it&#39;s time look into NLP implementations. Thanks for your input.","body":"I agree with you, Mike. With my simpler requirements than the above example and some knowledge of ANTRL, I chose an expedient solution. I guess it&#39;s time look into NLP implementations. Thanks for your input."}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700814702,"creation_date":1700813006,"answer_id":77541506,"question_id":77538820,"body_markdown":"No, there is nothing in the ANTLR API that makes internationalization easier. I&#39;d just create multiple grammars. And I agree with Mike: ANTLR isn&#39;t well suited to parse natural (human) languages.","title":"What is the best way to support parsing multiple languages in ANTLR?","body":"<p>No, there is nothing in the ANTLR API that makes internationalization easier. I'd just create multiple grammars. And I agree with Mike: ANTLR isn't well suited to parse natural (human) languages.</p>\n"}],"owner":{"account_id":8291385,"reputation":21,"user_id":6232897,"display_name":"Rick Noel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700814702,"creation_date":1700761391,"question_id":77538820,"body_markdown":"I have written an application in Java that allows the user to enter a statement like:\r\n\r\n**show photos with tag &quot;...&quot;**\r\n\r\nI use ANTLR to write a lexer/parser to parse the above input which is in English, obviously. I want to allow the user to enter the same statement in their native language (for example German). Is there a best practice for doing this in ANTLR?\r\n\r\n\r\nMy first thought was to write a lexer/parser for each supported language and name the generated classes with locale-specific suffixes and load the appropriate class based on the user&#39;s locale. However, before I recreate the ResourceBundle&#39;s loading algorithm, I wondered if there were some ANTLR features and best practices to make this easier.","title":"What is the best way to support parsing multiple languages in ANTLR?","body":"<p>I have written an application in Java that allows the user to enter a statement like:</p>\n<p><strong>show photos with tag &quot;...&quot;</strong></p>\n<p>I use ANTLR to write a lexer/parser to parse the above input which is in English, obviously. I want to allow the user to enter the same statement in their native language (for example German). Is there a best practice for doing this in ANTLR?</p>\n<p>My first thought was to write a lexer/parser for each supported language and name the generated classes with locale-specific suffixes and load the appropriate class based on the user's locale. However, before I recreate the ResourceBundle's loading algorithm, I wondered if there were some ANTLR features and best practices to make this easier.</p>\n"},{"tags":["java","set","minimum-spanning-tree","kruskals-algorithm"],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1700714787,"post_id":77531425,"comment_id":136689089,"body_markdown":"I understand that this is pseudo code (because it doesn&#39;t compile). Is that correct?","body":"I understand that this is pseudo code (because it doesn&#39;t compile). Is that correct?"}],"tags":[],"owner":{"account_id":28659256,"reputation":1,"user_id":21944516,"display_name":"Golibjon Odinaev"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1700714815,"creation_date":1700668653,"answer_id":77531425,"question_id":77530221,"body_markdown":"Here you must use from interfaces, befor create \r\n```java\r\ninterface A {\r\n    int set1 {\r\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n        set.add(i);\r\n        return set;\r\n    }\r\n}\r\n\r\ninterface B extends A {\r\n    Set&lt;Integer&gt; connectedComponents = new HashSet&lt;&gt;();\r\n    for (Integer i : graph.vertexSet()) {\r\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n        set.add(i);\r\n        connectedComponents.add(set);\r\n    }\r\n```\r\n...etc. So you can solve problem step by step.","title":"Problem removing from Java-HashSet while implementing Kruskal&#39;s algorithm","body":"<p>Here you must use from interfaces, befor create</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface A {\n    int set1 {\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n        set.add(i);\n        return set;\n    }\n}\n\ninterface B extends A {\n    Set&lt;Integer&gt; connectedComponents = new HashSet&lt;&gt;();\n    for (Integer i : graph.vertexSet()) {\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n        set.add(i);\n        connectedComponents.add(set);\n    }\n</code></pre>\n<p>...etc. So you can solve problem step by step.</p>\n"},{"comments":[{"owner":{"account_id":20645428,"reputation":131,"user_id":15186520,"display_name":"sorry"},"score":0,"creation_date":1700679994,"post_id":77531691,"comment_id":136685565,"body_markdown":"Hi, thank you very much for your answer. It helped a lot. However, I do not yet understand exactly what you mean by &quot;modifying the elements of connectedComponents without &quot;notifying&quot; the container&quot;. Why does the container need to be notified (especially since mutable set suggests that it would be apt to cope with changes to it)","body":"Hi, thank you very much for your answer. It helped a lot. However, I do not yet understand exactly what you mean by &quot;modifying the elements of connectedComponents without &quot;notifying&quot; the container&quot;. Why does the container need to be notified (especially since mutable set suggests that it would be apt to cope with changes to it)"}],"tags":[],"owner":{"account_id":47598,"reputation":30707,"user_id":141081,"display_name":"Dirk"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700814577,"creation_date":1700670851,"answer_id":77531691,"question_id":77530221,"body_markdown":"The value of `connectedComponents` is a mutable set, whose elements are also mutable sets. The problem is, that by destructively modifying the elements of `connectedComponents` without &quot;notifying&quot; the container, the container&#39;s data structures are silently corrupted.\r\n\r\nHash sets are managed data structures, that use an integer value (the `hashCode`) derived from the contents of their elements to guide where they put the object internally in their private data structures. This mechanism gives fast insertion and retrieval (usually in the order of `O(1)`). However, for this to work, the `hashCode` must not change while the object is present in the container. \r\n\r\nIn your code, the container is a `HashSet&lt;HashSet&lt;Integer&gt;&gt;` and the elements are `HashSet&lt;Integer&gt;` instances. For Java&#39;s sets, the hash code is computed based on the what the set currently contains. So, when you do \r\n\r\n```java\r\nSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\nset.add(i);\r\nconnectedComponents.add(set);\r\n```\r\n\r\nthe `connectedComponents` container computes a hash code from `set` and uses that to determine a place to put the object into in its internal data structures. However, when you do\r\n\r\n```java\r\nstartSet.addAll(endSet);\r\n```\r\n\r\nyou **mutate** the contents of `startSet` which in turn causes its hash code to change. From `connectedComponent`&#39;s perspective, the object is now &quot;in the wrong place&quot; in its internal data structures, and hence it is likely, that it will not be found again. The important thing here is, that data structure like `HashSet` are based on `equals` and `hashCode`, and for many data structures (including `HashSet`) those are based on the actual contents, not merely on object identity.\r\n\r\nTo address this problem, try removing the element set from `connectedComponents` before mutating it, and then add it back afterward:\r\n\r\n```java\r\nif(!startSet.equals(endSet)){\r\n    connectedComponents.remove(startSet);  // Added back below ...\r\n    connectedComponents.remove(endSet);\r\n    startSet.addAll(endSet);\r\n    connectedComponents.add(startSet);     // ... right here\r\n    tree.addEdge(start, end, edge);\r\n}\r\n```\r\n\r\nAlternatively, it might help to keep track of the element sets using a different container, like an `IdentityHashMap` (use whatever you like as the value). This would work here, since you do not need the container to track the element sets by their content (as `HashSet` implicitly does).\r\n\r\nFor example:\r\n\r\n```java\r\nIdentityHashMap&lt;Set&lt;Integer&gt;, Object&gt; connectedComponents = new IdentityHashMap&lt;&gt;();\r\n\r\n...\r\n\r\nfor(Integer i : graph.vertexSet()){\r\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n    set.add(i);\r\n    connectedComponents.put(set, set);\r\n}\r\n\r\n...\r\n\r\nfor(Set&lt;Integer&gt; set: connectedComponents.keySet()) {\r\n    ...\r\n    if(set.contains(start)){\r\n        startSet = set;\r\n    }\r\n    if(set.contains(end)){\r\n        endSet = set;\r\n    }\r\n}\r\n\r\nif(!startSet.equals(endSet)) {\r\n    connectedComponents.remove(endSet);\r\n    startSet.addAll(endSet);\r\n    tree.addEdge(start, end, edge);\r\n}\r\n```\r\n\r\nI am not sure right now, whether it should remain `!startSet.equals(endSet)` or whether you might want to use `startSet != endSet` with the modified code, though. The former version uses &quot;deep equality&quot; for the test (i.e., considers the actual contents the the sets involved) whereas the latter version works by object identity only, which I think would be more appropriate if you consider the `IdentityHashMap` route.","title":"Problem removing from Java-HashSet while implementing Kruskal&#39;s algorithm","body":"<p>The value of <code>connectedComponents</code> is a mutable set, whose elements are also mutable sets. The problem is, that by destructively modifying the elements of <code>connectedComponents</code> without &quot;notifying&quot; the container, the container's data structures are silently corrupted.</p>\n<p>Hash sets are managed data structures, that use an integer value (the <code>hashCode</code>) derived from the contents of their elements to guide where they put the object internally in their private data structures. This mechanism gives fast insertion and retrieval (usually in the order of <code>O(1)</code>). However, for this to work, the <code>hashCode</code> must not change while the object is present in the container.</p>\n<p>In your code, the container is a <code>HashSet&lt;HashSet&lt;Integer&gt;&gt;</code> and the elements are <code>HashSet&lt;Integer&gt;</code> instances. For Java's sets, the hash code is computed based on the what the set currently contains. So, when you do</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\nset.add(i);\nconnectedComponents.add(set);\n</code></pre>\n<p>the <code>connectedComponents</code> container computes a hash code from <code>set</code> and uses that to determine a place to put the object into in its internal data structures. However, when you do</p>\n<pre class=\"lang-java prettyprint-override\"><code>startSet.addAll(endSet);\n</code></pre>\n<p>you <strong>mutate</strong> the contents of <code>startSet</code> which in turn causes its hash code to change. From <code>connectedComponent</code>'s perspective, the object is now &quot;in the wrong place&quot; in its internal data structures, and hence it is likely, that it will not be found again. The important thing here is, that data structure like <code>HashSet</code> are based on <code>equals</code> and <code>hashCode</code>, and for many data structures (including <code>HashSet</code>) those are based on the actual contents, not merely on object identity.</p>\n<p>To address this problem, try removing the element set from <code>connectedComponents</code> before mutating it, and then add it back afterward:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(!startSet.equals(endSet)){\n    connectedComponents.remove(startSet);  // Added back below ...\n    connectedComponents.remove(endSet);\n    startSet.addAll(endSet);\n    connectedComponents.add(startSet);     // ... right here\n    tree.addEdge(start, end, edge);\n}\n</code></pre>\n<p>Alternatively, it might help to keep track of the element sets using a different container, like an <code>IdentityHashMap</code> (use whatever you like as the value). This would work here, since you do not need the container to track the element sets by their content (as <code>HashSet</code> implicitly does).</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IdentityHashMap&lt;Set&lt;Integer&gt;, Object&gt; connectedComponents = new IdentityHashMap&lt;&gt;();\n\n...\n\nfor(Integer i : graph.vertexSet()){\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n    set.add(i);\n    connectedComponents.put(set, set);\n}\n\n...\n\nfor(Set&lt;Integer&gt; set: connectedComponents.keySet()) {\n    ...\n    if(set.contains(start)){\n        startSet = set;\n    }\n    if(set.contains(end)){\n        endSet = set;\n    }\n}\n\nif(!startSet.equals(endSet)) {\n    connectedComponents.remove(endSet);\n    startSet.addAll(endSet);\n    tree.addEdge(start, end, edge);\n}\n</code></pre>\n<p>I am not sure right now, whether it should remain <code>!startSet.equals(endSet)</code> or whether you might want to use <code>startSet != endSet</code> with the modified code, though. The former version uses &quot;deep equality&quot; for the test (i.e., considers the actual contents the the sets involved) whereas the latter version works by object identity only, which I think would be more appropriate if you consider the <code>IdentityHashMap</code> route.</p>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1700714628,"post_id":77532171,"comment_id":136689067,"body_markdown":"I would appreciate it if you could explain why your answer is **not** a link-only answer and why it is **not** more suitable as a comment (rather than an answer). I see that you have the _Informed_ badge and that you also have enough reputation to post comments.","body":"I would appreciate it if you could explain why your answer is <b>not</b> a link-only answer and why it is <b>not</b> more suitable as a comment (rather than an answer). I see that you have the <i>Informed</i> badge and that you also have enough reputation to post comments."},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1700734297,"post_id":77532171,"comment_id":136691845,"body_markdown":"Because if you aim to implement the state-of-the-art Kruskal&#39;s algorithm, this is the best answer.\n\nBut I will consider adding code, thanks for pointing out.","body":"Because if you aim to implement the state-of-the-art Kruskal&#39;s algorithm, this is the best answer.  But I will consider adding code, thanks for pointing out."}],"tags":[],"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700746516,"creation_date":1700675429,"answer_id":77532171,"question_id":77530221,"body_markdown":"A typical implementation of Kruskal&#39;s algorithm uses [disjoint-set data structure](https://en.wikipedia.org/wiki/Disjoint-set_data_structure) for this. With this data structure your code simplifies to the following:\r\n\r\n```java\r\n// Receives a graph and computes a minimum spanning tree\r\npublic static AsSubgraph&lt;Integer, DefaultWeightedEdge&gt; computeMST(Graph&lt;Integer, DefaultWeightedEdge&gt; graph) {\r\n    var tree = new AsSubgraph&lt;&gt;(graph, graph.vertexSet(), new HashSet&lt;&gt;());\r\n    var edgeQueue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble(graph::getEdgeWeight));\r\n    edgeQueue.addAll(graph.edgeSet());\r\n    DisjointSet connectedComponents = new DisjointSet(graph.vertexSet());\r\n    int n = tree.vertexSet().size() - 1;\r\n    \r\n    while (!edgeQueue.isEmpty() &amp;&amp; tree.edgeSet().size() &lt; n) {\r\n        DefaultWeightedEdge edge = edgeQueue.poll();\r\n        Integer start = graph.getEdgeSource(edge);\r\n        Integer end = graph.getEdgeTarget(edge);\r\n\r\n        if (connectedComponents.findSet(start) != connectedComponents.findSet(end)) {\r\n        \tconnectedComponents.union(start, end);\r\n            tree.addEdge(start, end, edge);\r\n        }\r\n    }\r\n    \r\n    return tree;\r\n}\r\n```\r\n\r\n[_Introduction to Algorithms_, 3rd edition](https://www.amazon.com/Introduction-Algorithms-3rd-MIT-Press/dp/0262033844) by Thomas H. Cormen et al. devotes the whole Chapter 21 to the disjoint-set data structure. For a given set of elements, the data structure holds its subsets such that\r\n\r\n1. every elements belongs to a subset held in the data structure and\r\n2. subsets in the data structure do not intersect (i.e., disjoint).\r\n\r\nInitially, all elements belong to its own, singleton, subset. The data structure allows to check if two elements belong to the same subset and to join subsets. This makes it ideal for graph algorithms: elements are vertices and subsets are connected components of the graph.\r\n\r\n```java\r\npublic class DisjointSet {\r\n\tprivate Map&lt;Integer, Entry&gt; setEntries;\r\n\t\r\n\tprivate static class Entry {\r\n\t\tprivate Integer parent;\r\n\t\tprivate int rank;\r\n\t}\r\n\t\r\n\t// Creates a collection of singleton sets.\r\n\tpublic DisjointSet(Set&lt;Integer&gt; vertices) {\r\n\t\tsetEntries = new HashMap&lt;&gt;();\r\n\t\t\r\n\t\tfor (Integer vertex: vertices) {\r\n\t\t\tEntry r = new Entry();\r\n\t\t\tr.parent = vertex;\r\n\t\t\tr.rank = 0;\r\n\t\t\tsetEntries.put(vertex, r);\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Find the representative member of the subset containing the given element.\r\n\tpublic Integer findSet(Integer x) {\r\n\t\tEntry r = setEntries.get(x);\r\n\t\t\r\n\t\tif (r.parent != x) {\r\n\t\t\tr.parent = findSet(r.parent);\r\n\t\t}\r\n\t\t\r\n\t\treturn r.parent;\r\n\t}\r\n\t\r\n\t// Joins two subsets containing the given elements.\r\n\tpublic void union(Integer x, Integer y) {\r\n\t\tlink(findSet(x), findSet(y));\r\n\t}\r\n\t\r\n\tprivate void link(Integer x, Integer y) {\r\n\t\tEntry rx = setEntries.get(x);\r\n\t\tEntry ry = setEntries.get(y);\r\n\t\t\r\n\t\tif (rx.rank &gt; ry.rank) {\r\n\t\t\try.parent = x;\r\n\t\t} else {\r\n\t\t\trx.parent = y;\r\n\t\t\t\r\n\t\t\tif (rx.rank == ry.rank) {\r\n\t\t\t\try.rank++;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Problem removing from Java-HashSet while implementing Kruskal&#39;s algorithm","body":"<p>A typical implementation of Kruskal's algorithm uses <a href=\"https://en.wikipedia.org/wiki/Disjoint-set_data_structure\" rel=\"nofollow noreferrer\">disjoint-set data structure</a> for this. With this data structure your code simplifies to the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Receives a graph and computes a minimum spanning tree\npublic static AsSubgraph&lt;Integer, DefaultWeightedEdge&gt; computeMST(Graph&lt;Integer, DefaultWeightedEdge&gt; graph) {\n    var tree = new AsSubgraph&lt;&gt;(graph, graph.vertexSet(), new HashSet&lt;&gt;());\n    var edgeQueue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble(graph::getEdgeWeight));\n    edgeQueue.addAll(graph.edgeSet());\n    DisjointSet connectedComponents = new DisjointSet(graph.vertexSet());\n    int n = tree.vertexSet().size() - 1;\n    \n    while (!edgeQueue.isEmpty() &amp;&amp; tree.edgeSet().size() &lt; n) {\n        DefaultWeightedEdge edge = edgeQueue.poll();\n        Integer start = graph.getEdgeSource(edge);\n        Integer end = graph.getEdgeTarget(edge);\n\n        if (connectedComponents.findSet(start) != connectedComponents.findSet(end)) {\n            connectedComponents.union(start, end);\n            tree.addEdge(start, end, edge);\n        }\n    }\n    \n    return tree;\n}\n</code></pre>\n<p><a href=\"https://rads.stackoverflow.com/amzn/click/com/0262033844\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\"><em>Introduction to Algorithms</em>, 3rd edition</a> by Thomas H. Cormen et al. devotes the whole Chapter 21 to the disjoint-set data structure. For a given set of elements, the data structure holds its subsets such that</p>\n<ol>\n<li>every elements belongs to a subset held in the data structure and</li>\n<li>subsets in the data structure do not intersect (i.e., disjoint).</li>\n</ol>\n<p>Initially, all elements belong to its own, singleton, subset. The data structure allows to check if two elements belong to the same subset and to join subsets. This makes it ideal for graph algorithms: elements are vertices and subsets are connected components of the graph.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DisjointSet {\n    private Map&lt;Integer, Entry&gt; setEntries;\n    \n    private static class Entry {\n        private Integer parent;\n        private int rank;\n    }\n    \n    // Creates a collection of singleton sets.\n    public DisjointSet(Set&lt;Integer&gt; vertices) {\n        setEntries = new HashMap&lt;&gt;();\n        \n        for (Integer vertex: vertices) {\n            Entry r = new Entry();\n            r.parent = vertex;\n            r.rank = 0;\n            setEntries.put(vertex, r);\n        }\n    }\n    \n    // Find the representative member of the subset containing the given element.\n    public Integer findSet(Integer x) {\n        Entry r = setEntries.get(x);\n        \n        if (r.parent != x) {\n            r.parent = findSet(r.parent);\n        }\n        \n        return r.parent;\n    }\n    \n    // Joins two subsets containing the given elements.\n    public void union(Integer x, Integer y) {\n        link(findSet(x), findSet(y));\n    }\n    \n    private void link(Integer x, Integer y) {\n        Entry rx = setEntries.get(x);\n        Entry ry = setEntries.get(y);\n        \n        if (rx.rank &gt; ry.rank) {\n            ry.parent = x;\n        } else {\n            rx.parent = y;\n            \n            if (rx.rank == ry.rank) {\n                ry.rank++;\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20645428,"reputation":131,"user_id":15186520,"display_name":"sorry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77531691,"answer_count":3,"score":0,"last_activity_date":1700814577,"creation_date":1700658590,"question_id":77530221,"body_markdown":"in the following code I am trying to implement Kruskal&#39;s algorithm to compute the minimal spanning tree of a graph.\r\n\r\nThe problem is that removing sets from the connected components does not work properly and that the case if(!startSet.equals(endSet)) always seems to be executed.\r\n\r\nNow the code:\r\n\r\n        import java.util.ArrayList;\r\n    import java.util.Comparator;\r\n    import java.util.HashMap;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    import org.jgrapht.Graph;\r\n    import org.jgrapht.graph.AsSubgraph;\r\n    import org.jgrapht.graph.DefaultWeightedEdge;\r\n    import java.util.PriorityQueue;\r\n    \r\n    public class mySpanningTree {\r\n    \t\r\n    \t//Receives a graph and computes a minimum spanning tree\r\n    \tpublic static AsSubgraph&lt;Integer, DefaultWeightedEdge&gt; computeMST(Graph&lt;Integer, DefaultWeightedEdge&gt; graph) {\r\n    \t\tAsSubgraph&lt;Integer, DefaultWeightedEdge&gt; tree = new AsSubgraph&lt;Integer, DefaultWeightedEdge&gt;(graph, graph.vertexSet(), new HashSet&lt;DefaultWeightedEdge&gt;());\r\n    \r\n            PriorityQueue&lt;DefaultWeightedEdge&gt; edgeQueue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble(graph::getEdgeWeight));\r\n            edgeQueue.addAll(graph.edgeSet());\r\n            Set&lt;Set&lt;Integer&gt;&gt; connectedComponents = new HashSet&lt;&gt;();\r\n            for(Integer i : graph.vertexSet()){\r\n                Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n                set.add(i);\r\n                connectedComponents.add(set);\r\n            }\r\n            int n = tree.vertexSet().size() - 1;\r\n    \t\twhile (!edgeQueue.isEmpty() &amp;&amp; tree.edgeSet().size() &lt; n) {\r\n                DefaultWeightedEdge edge = edgeQueue.poll();\r\n                Integer start = graph.getEdgeSource(edge);\r\n                Integer end = graph.getEdgeTarget(edge);\r\n                Set&lt;Integer&gt; startSet =  null;\r\n                Set&lt;Integer&gt; endSet = null;\r\n                for(Set&lt;Integer&gt; set: connectedComponents){\r\n                    if(set.contains(start)){\r\n                        startSet = set;\r\n                    }\r\n                    if(set.contains(end)){\r\n                        endSet = set;\r\n                    }\r\n                }\r\n                if(!startSet.equals(endSet)){\r\n                    startSet.addAll(endSet);\r\n                    connectedComponents.remove(endSet);\r\n                    tree.addEdge(start, end, edge);\r\n                }\r\n                else{\r\n                }\r\n    \t\t}\r\n    \t\treturn tree;\r\n    \t}\r\n\r\nThe idea of the code is to keep track of the connected components in a set. Whenever an edge connects two nodes from different connected components, I want to union the two connected components and store the result inside the set instead of the two components from before. Furthermore, the edge shall be added.\r\nWhenever an edge has two endpoints in one and the same set, it shall not be added (since adding it would create a cycle).\r\n\r\nAny help is appreciated!","title":"Problem removing from Java-HashSet while implementing Kruskal&#39;s algorithm","body":"<p>in the following code I am trying to implement Kruskal's algorithm to compute the minimal spanning tree of a graph.</p>\n<p>The problem is that removing sets from the connected components does not work properly and that the case if(!startSet.equals(endSet)) always seems to be executed.</p>\n<p>Now the code:</p>\n<pre><code>    import java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport org.jgrapht.Graph;\nimport org.jgrapht.graph.AsSubgraph;\nimport org.jgrapht.graph.DefaultWeightedEdge;\nimport java.util.PriorityQueue;\n\npublic class mySpanningTree {\n    \n    //Receives a graph and computes a minimum spanning tree\n    public static AsSubgraph&lt;Integer, DefaultWeightedEdge&gt; computeMST(Graph&lt;Integer, DefaultWeightedEdge&gt; graph) {\n        AsSubgraph&lt;Integer, DefaultWeightedEdge&gt; tree = new AsSubgraph&lt;Integer, DefaultWeightedEdge&gt;(graph, graph.vertexSet(), new HashSet&lt;DefaultWeightedEdge&gt;());\n\n        PriorityQueue&lt;DefaultWeightedEdge&gt; edgeQueue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble(graph::getEdgeWeight));\n        edgeQueue.addAll(graph.edgeSet());\n        Set&lt;Set&lt;Integer&gt;&gt; connectedComponents = new HashSet&lt;&gt;();\n        for(Integer i : graph.vertexSet()){\n            Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n            set.add(i);\n            connectedComponents.add(set);\n        }\n        int n = tree.vertexSet().size() - 1;\n        while (!edgeQueue.isEmpty() &amp;&amp; tree.edgeSet().size() &lt; n) {\n            DefaultWeightedEdge edge = edgeQueue.poll();\n            Integer start = graph.getEdgeSource(edge);\n            Integer end = graph.getEdgeTarget(edge);\n            Set&lt;Integer&gt; startSet =  null;\n            Set&lt;Integer&gt; endSet = null;\n            for(Set&lt;Integer&gt; set: connectedComponents){\n                if(set.contains(start)){\n                    startSet = set;\n                }\n                if(set.contains(end)){\n                    endSet = set;\n                }\n            }\n            if(!startSet.equals(endSet)){\n                startSet.addAll(endSet);\n                connectedComponents.remove(endSet);\n                tree.addEdge(start, end, edge);\n            }\n            else{\n            }\n        }\n        return tree;\n    }\n</code></pre>\n<p>The idea of the code is to keep track of the connected components in a set. Whenever an edge connects two nodes from different connected components, I want to union the two connected components and store the result inside the set instead of the two components from before. Furthermore, the edge shall be added.\nWhenever an edge has two endpoints in one and the same set, it shall not be added (since adding it would create a cycle).</p>\n<p>Any help is appreciated!</p>\n"},{"tags":["java","sql","mysql","swing","stringtokenizer"],"comments":[{"owner":{"account_id":3661889,"reputation":5731,"user_id":3098087,"display_name":"Umesh Singh Kushwaha"},"score":2,"creation_date":1700815832,"post_id":77541641,"comment_id":136701857,"body_markdown":"You should use filter results instead of string token search. Providing all information separated by space is a bad UX for the end user. Provide drop-down for all categories and it will add look and feel to UX. If you want to provide full-text search, use elastic search as a database instead of MYSQL.","body":"You should use filter results instead of string token search. Providing all information separated by space is a bad UX for the end user. Provide drop-down for all categories and it will add look and feel to UX. If you want to provide full-text search, use elastic search as a database instead of MYSQL."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1700822335,"post_id":77541641,"comment_id":136702962,"body_markdown":"The general form for such SQL queries is `SELECT * FROM TABLE WHERE 1 = 1 AND ...`, where multiple AND clauses contain each search term.","body":"The general form for such SQL queries is <code>SELECT * FROM TABLE WHERE 1 = 1 AND ...</code>, where multiple AND clauses contain each search term."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700845538,"post_id":77541641,"comment_id":136706668,"body_markdown":"You&#39;ll first need to define a syntax.  I recommend using _[BNF](https://en.wikipedia.org/wiki/Backus%E2%80%93Naur_form)_, or _[ABNF](https://en.wikipedia.org/wiki/Augmented_Backus%E2%80%93Naur_form)_.","body":"You&#39;ll first need to define a syntax.  I recommend using <i><a href=\"https://en.wikipedia.org/wiki/Backus%E2%80%93Naur_form\" rel=\"nofollow noreferrer\">BNF</a></i>, or <i><a href=\"https://en.wikipedia.org/wiki/Augmented_Backus%E2%80%93Naur_form\" rel=\"nofollow noreferrer\">ABNF</a></i>."}],"owner":{"account_id":21636597,"reputation":383,"user_id":15959434,"display_name":"TIMBLOCKER"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700814272,"creation_date":1700814272,"question_id":77541641,"body_markdown":"I want to create an application, where there is a searchbar similar to Stack Overflow. You can type in different tokens like `category:[category] color:red difficulty:easy` and the String will be tokenized and &quot;translated&quot; into a SQL Query to lookup in a database. \r\n\r\nI have done the following:\r\nI created a SWING GUI and made a JTextFiled where I get the String from. Then I have a StringTokenizer that splits the Strings assuming that people **always** type in Search filters separated by SPACE and the Tokens are Split by &quot;:&quot;. Then I would have to translate this information to a Query.\r\n\r\nMy problem is that I would have to dynamically create a Query.\r\nHow would be the best way to achieve this?\r\n\r\n\r\nThis is the beginning of the code:\r\n\r\n    String searchString = textField1.getText();\r\n    StringTokenizer st = new StringTokenizer(searchString, &quot; &quot;);\r\n\r\n                for (int i = 0; i &lt; st.countTokens(); i++) {\r\n                    String token = st.nextToken();\r\n                    StringTokenizer st2 = new StringTokenizer(token, &quot;:&quot;);\r\n                    for (int j = 0; j &lt; st2.countTokens(); j++) {\r\n                      if (j == 0){\r\n                          //For Every Filter there is one type like category, color, difficulty\r\n                      } else if (j == 1){\r\n                          //Here would be the Value of this filter\r\n                      }else{\r\n                          System.out.println(&quot;Error&quot;);\r\n                      }\r\n                    }\r\n                }\r\n\r\n    //In the End I Would Like to make a String Query\r\n    String sql = &quot;&quot;; //Here would be the Query","title":"How to create a tokenized filter search in Java?","body":"<p>I want to create an application, where there is a searchbar similar to Stack Overflow. You can type in different tokens like <code>category:[category] color:red difficulty:easy</code> and the String will be tokenized and &quot;translated&quot; into a SQL Query to lookup in a database.</p>\n<p>I have done the following:\nI created a SWING GUI and made a JTextFiled where I get the String from. Then I have a StringTokenizer that splits the Strings assuming that people <strong>always</strong> type in Search filters separated by SPACE and the Tokens are Split by &quot;:&quot;. Then I would have to translate this information to a Query.</p>\n<p>My problem is that I would have to dynamically create a Query.\nHow would be the best way to achieve this?</p>\n<p>This is the beginning of the code:</p>\n<pre><code>String searchString = textField1.getText();\nStringTokenizer st = new StringTokenizer(searchString, &quot; &quot;);\n\n            for (int i = 0; i &lt; st.countTokens(); i++) {\n                String token = st.nextToken();\n                StringTokenizer st2 = new StringTokenizer(token, &quot;:&quot;);\n                for (int j = 0; j &lt; st2.countTokens(); j++) {\n                  if (j == 0){\n                      //For Every Filter there is one type like category, color, difficulty\n                  } else if (j == 1){\n                      //Here would be the Value of this filter\n                  }else{\n                      System.out.println(&quot;Error&quot;);\n                  }\n                }\n            }\n\n//In the End I Would Like to make a String Query\nString sql = &quot;&quot;; //Here would be the Query\n</code></pre>\n"},{"tags":["java","webview","sandbox","file-access"],"owner":{"account_id":6795423,"reputation":383,"user_id":5230928,"accept_rate":83,"display_name":"JustMe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700814072,"creation_date":1700814072,"question_id":77541626,"body_markdown":"I am planning to setup a pure offline App for Windows and Android in Html/Javascript. \r\n\r\nThe problem is, that Browsers do not allow to integrate local stored Javascript files. Either I have to include all scripts in the main html (No good idea) or use for installation purposes a progressiv webapp.\r\n\r\nBut I would prefer to stay completly offline. \r\n\r\nTherefore, is it possible to configure the Java Webview on Android/Windows(and Linux) to disable these Sandboxing rules?","title":"Does Java Webview (Windows/Android) allow local file access","body":"<p>I am planning to setup a pure offline App for Windows and Android in Html/Javascript.</p>\n<p>The problem is, that Browsers do not allow to integrate local stored Javascript files. Either I have to include all scripts in the main html (No good idea) or use for installation purposes a progressiv webapp.</p>\n<p>But I would prefer to stay completly offline.</p>\n<p>Therefore, is it possible to configure the Java Webview on Android/Windows(and Linux) to disable these Sandboxing rules?</p>\n"},{"tags":["java","macos","sockets"],"comments":[{"owner":{"account_id":4720651,"reputation":1578,"user_id":3818605,"accept_rate":57,"display_name":"Ker p pag"},"score":0,"creation_date":1409216869,"post_id":25544849,"comment_id":39885287,"body_markdown":"what version of jdk are you using","body":"what version of jdk are you using"},{"owner":{"display_name":"user3398633"},"score":1,"creation_date":1409216887,"post_id":25544849,"comment_id":39885299,"body_markdown":"Without the code you are using it will be much harder.","body":"Without the code you are using it will be much harder."},{"owner":{"account_id":3223020,"reputation":1760,"user_id":2719960,"accept_rate":75,"display_name":"DonyorM"},"score":0,"creation_date":1409217147,"post_id":25544849,"comment_id":39885476,"body_markdown":"We don&#39;t know enough to properly answer the question. What is the code? What JDK are you using?","body":"We don&#39;t know enough to properly answer the question. What is the code? What JDK are you using?"},{"owner":{"account_id":3979234,"reputation":341,"user_id":3281613,"accept_rate":33,"display_name":"Kevbear"},"score":0,"creation_date":1409217400,"post_id":25544849,"comment_id":39885645,"body_markdown":"I&#39;m using jdk 1.6 and the code for MessageServer.java","body":"I&#39;m using jdk 1.6 and the code for MessageServer.java"},{"owner":{"account_id":3979234,"reputation":341,"user_id":3281613,"accept_rate":33,"display_name":"Kevbear"},"score":0,"creation_date":1409217479,"post_id":25544849,"comment_id":39885701,"body_markdown":"package server;\n\n//ChatServer\n\nimport java.io.*;\nimport java.net.*;\n\npublic class MessageServer {\n\tpublic static void main (String args[]) throws IOException {\n\t\tint port = 100;\n\t\tServerSocket server = new ServerSocket (port);\n\t\tSystem.out.println(&quot;Server is started!&quot;);\n\t\t\n\t\twhile (true) {\n\t\t\tSocket client = server.accept ();\n\t\t\tSystem.out.println (&quot;Accepted from &quot; + client.getInetAddress ());\n\t\t\tMessageHandler handler = new MessageHandler (client);\n\t\t\thandler.start();\n\t\t}\n\n\t}\n}","body":"package server;  //ChatServer  import java.io.*; import java.net.*;  public class MessageServer { \tpublic static void main (String args[]) throws IOException { \t\tint port = 100; \t\tServerSocket server = new ServerSocket (port); \t\tSystem.out.println(&quot;Server is started!&quot;); \t\t \t\twhile (true) { \t\t\tSocket client = server.accept (); \t\t\tSystem.out.println (&quot;Accepted from &quot; + client.getInetAddress ()); \t\t\tMessageHandler handler = new MessageHandler (client); \t\t\thandler.start(); \t\t}  \t} }"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1409219008,"post_id":25544849,"comment_id":39886563,"body_markdown":"@Kevbear You can see for yourself that posting code in comments is utterly illegible, i.e. a complete waste of time. Edit it into your question.","body":"@Kevbear You can see for yourself that posting code in comments is utterly illegible, i.e. a complete waste of time. Edit it into your question."},{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":1,"creation_date":1421094688,"post_id":25544849,"comment_id":44219897,"body_markdown":"@Kevbear: When you ask a question and somebody replies, the polite thing to do would be to accept an answer.","body":"@Kevbear: When you ask a question and somebody replies, the polite thing to do would be to accept an answer."}],"answers":[{"comments":[{"owner":{"account_id":7523424,"reputation":2645,"user_id":5714544,"accept_rate":90,"display_name":"kurumkan"},"score":0,"creation_date":1460794028,"post_id":25545007,"comment_id":60915881,"body_markdown":"is it possible to run it with root privileges?","body":"is it possible to run it with root privileges?"},{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":1,"creation_date":1461068373,"post_id":25545007,"comment_id":61021495,"body_markdown":"Yes, that should make it work but it also means that the whole application now has root access. So you need to be much more careful what the code could possibly do if someone was evil.","body":"Yes, that should make it work but it also means that the whole application now has root access. So you need to be much more careful what the code could possibly do if someone was evil."},{"owner":{"account_id":7523424,"reputation":2645,"user_id":5714544,"accept_rate":90,"display_name":"kurumkan"},"score":0,"creation_date":1461072591,"post_id":25545007,"comment_id":61024872,"body_markdown":"Thank you Aaron. So I decided to use only over 1024 ports","body":"Thank you Aaron. So I decided to use only over 1024 ports"},{"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"score":1,"creation_date":1509052578,"post_id":25545007,"comment_id":80875667,"body_markdown":"Is this unix-based design level decision as ridiculous as Billion Dollar Mistake? If it was made based on scary assumption: what if someone was scary in deed, then how that guy got the access credentials? Otherwise: now there is a caste of exclusive ports up to 1023.","body":"Is this unix-based design level decision as ridiculous as Billion Dollar Mistake? If it was made based on scary assumption: what if someone was scary in deed, then how that guy got the access credentials? Otherwise: now there is a caste of exclusive ports up to 1023."}],"tags":[],"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":4,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1409217074,"creation_date":1409217074,"answer_id":25545007,"question_id":25544849,"body_markdown":"[Unix-based systems declare ports &lt; 1024][1] as &quot;privileged&quot; and you need admin rights to start a server.\r\n\r\nFor testing, use a port number &gt;= 1024.\r\n\r\nWhen deploying the server in production, run it with admin rights.\r\n\r\n  [1]: https://stackoverflow.com/questions/10182798/why-are-ports-below-1024-privileged","title":"java.net.BindException: Permission denied when creating a ServerSocket on Mac OSX","body":"<p><a href=\"https://stackoverflow.com/questions/10182798/why-are-ports-below-1024-privileged\">Unix-based systems declare ports &lt; 1024</a> as \"privileged\" and you need admin rights to start a server.</p>\n\n<p>For testing, use a port number >= 1024.</p>\n\n<p>When deploying the server in production, run it with admin rights.</p>\n"},{"comments":[{"owner":{"account_id":7523424,"reputation":2645,"user_id":5714544,"accept_rate":90,"display_name":"kurumkan"},"score":2,"creation_date":1460794021,"post_id":25545052,"comment_id":60915876,"body_markdown":"is it possible to run it with root privileges?","body":"is it possible to run it with root privileges?"},{"owner":{"account_id":1765805,"reputation":5354,"user_id":1611714,"display_name":"Binita Bharati"},"score":1,"creation_date":1468735739,"post_id":25545052,"comment_id":64243604,"body_markdown":"Yes, such a program must be run as root user, if the binding port is below 1024.","body":"Yes, such a program must be run as root user, if the binding port is below 1024."}],"tags":[],"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"comment_count":2,"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1409223491,"creation_date":1409217224,"answer_id":25545052,"question_id":25544849,"body_markdown":"You can&#39;t open a port below 1024, if you don&#39;t have root privileges and from the code you posted in your comment, you seem to be trying to open port `100` which confirms my theory.\r\n\r\nYou need to use a port which is higher than 1024, if you&#39;re running the code under a non-root user.","title":"java.net.BindException: Permission denied when creating a ServerSocket on Mac OSX","body":"<p>You can't open a port below 1024, if you don't have root privileges and from the code you posted in your comment, you seem to be trying to open port <code>100</code> which confirms my theory.</p>\n\n<p>You need to use a port which is higher than 1024, if you're running the code under a non-root user.</p>\n"},{"tags":[],"owner":{"account_id":5980197,"reputation":31,"user_id":4699536,"display_name":"JVD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515841820,"creation_date":1515841820,"answer_id":48239289,"question_id":25544849,"body_markdown":"MyServer.java\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    public class MyServer\r\n    {\r\n    \tServerSocket ss;\r\n    \tSocket s;\r\n    \tDataOutputStream dos;\r\n    \tDataInputStream dis;\r\n    \tpublic MyServer()\r\n    \t{\r\n    \t\ttry \r\n    \t\t{\r\n    \t\tSystem.out.println(&quot;Server Started &quot;);\r\n    \t\tss=new ServerSocket(4444);\r\n    \t\ts=ss.accept();\r\n    \t\tSystem.out.println(s);\r\n    \t\tSystem.out.println(&quot;Client Connected&quot;);\r\n    \t\tdis=new DataInputStream(s.getInputStream());\r\n    \t\tdos=new DataOutputStream(s.getOutputStream());\r\n    \t\tServerChat();\r\n    \t\t}\r\n    \t\tcatch(Exception e)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(e);\r\n    \t\t}\r\n    \t}\t\r\n    \tpublic static void main(String arg[])\r\n    \t{\r\n    \t\tnew MyServer();\r\n    \t}\r\n    \tpublic void ServerChat()throws IOException\r\n    \t{\r\n    \r\n    \t\tString str;\r\n    \t\tdo\r\n    \t\t{\r\n    \t\tstr=dis.readUTF();\r\n    \t\tSystem.out.println(&quot;Client msg : &quot;+str);\r\n    \t\tdos.writeUTF(&quot;Hello &quot;+str);\r\n    \t\tdos.flush();\r\n    \t\t}while(!str.equals(&quot;stop&quot;));\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nMyClient.java\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    public class MyClient\r\n    {\r\n    \tSocket s;\r\n    \tDataInputStream din;\r\n    \tDataOutputStream dout;\r\n    \tpublic MyClient()\r\n    \t{\r\n    \ttry\r\n    \t{\r\n    \t\ts=new Socket(&quot;localhost&quot;,4444);\r\n    \t\tSystem.out.println(s);\r\n    \t\tdin = new DataInputStream(s.getInputStream());\r\n    \t\tdout = new DataOutputStream(s.getOutputStream());\r\n    \t\tClientChat();\r\n    \t}\r\n    \tcatch(Exception e)\r\n    \t{\r\n    \tSystem.out.println(e);\t\r\n    \t}\t\r\n    \t}\r\n    \tpublic void ClientChat() throws IOException\r\n    \t{\r\n    \tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    \tString s1;\r\n    \tdo\r\n    \t{\r\n    \ts1=br.readLine();\r\n    \tdout.writeUTF(s1);\r\n    \tdout.flush();\r\n    \tSystem.out.println(&quot;Server Msg : &quot;+din.readUTF());\r\n    \t}while(!s1.equals(&quot;stop&quot;));\r\n    \t}\r\n    \tpublic static void main(String arg[])\r\n    \t{\r\n    \tnew MyClient();\r\n    \t}\r\n    \r\n    }","title":"java.net.BindException: Permission denied when creating a ServerSocket on Mac OSX","body":"<p>MyServer.java</p>\n\n<pre><code>import java.io.*;\nimport java.net.*;\npublic class MyServer\n{\n    ServerSocket ss;\n    Socket s;\n    DataOutputStream dos;\n    DataInputStream dis;\n    public MyServer()\n    {\n        try \n        {\n        System.out.println(\"Server Started \");\n        ss=new ServerSocket(4444);\n        s=ss.accept();\n        System.out.println(s);\n        System.out.println(\"Client Connected\");\n        dis=new DataInputStream(s.getInputStream());\n        dos=new DataOutputStream(s.getOutputStream());\n        ServerChat();\n        }\n        catch(Exception e)\n        {\n            System.out.println(e);\n        }\n    }   \n    public static void main(String arg[])\n    {\n        new MyServer();\n    }\n    public void ServerChat()throws IOException\n    {\n\n        String str;\n        do\n        {\n        str=dis.readUTF();\n        System.out.println(\"Client msg : \"+str);\n        dos.writeUTF(\"Hello \"+str);\n        dos.flush();\n        }while(!str.equals(\"stop\"));\n\n    }\n\n}\n</code></pre>\n\n<p>MyClient.java</p>\n\n<pre><code>import java.io.*;\nimport java.net.*;\npublic class MyClient\n{\n    Socket s;\n    DataInputStream din;\n    DataOutputStream dout;\n    public MyClient()\n    {\n    try\n    {\n        s=new Socket(\"localhost\",4444);\n        System.out.println(s);\n        din = new DataInputStream(s.getInputStream());\n        dout = new DataOutputStream(s.getOutputStream());\n        ClientChat();\n    }\n    catch(Exception e)\n    {\n    System.out.println(e);  \n    }   \n    }\n    public void ClientChat() throws IOException\n    {\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n    String s1;\n    do\n    {\n    s1=br.readLine();\n    dout.writeUTF(s1);\n    dout.flush();\n    System.out.println(\"Server Msg : \"+din.readUTF());\n    }while(!s1.equals(\"stop\"));\n    }\n    public static void main(String arg[])\n    {\n    new MyClient();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10544009,"reputation":151,"user_id":7768922,"display_name":"confused"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1529571140,"creation_date":1529571140,"answer_id":50964324,"question_id":25544849,"body_markdown":"I had the same issue and my port numbers were below 1024 changing port number to above 1024 solved my problem. Ports below 1024 are called Privileged Ports and in Linux (and most UNIX flavors and UNIX-like systems), they are not allowed to be opened by any non-root user.","title":"java.net.BindException: Permission denied when creating a ServerSocket on Mac OSX","body":"<p>I had the same issue and my port numbers were below 1024 changing port number to above 1024 solved my problem. Ports below 1024 are called Privileged Ports and in Linux (and most UNIX flavors and UNIX-like systems), they are not allowed to be opened by any non-root user.</p>\n"},{"tags":[],"owner":{"account_id":17211718,"reputation":41,"user_id":12460865,"display_name":"Cats4Life"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1582590722,"creation_date":1582590722,"answer_id":60385948,"question_id":25544849,"body_markdown":"Many systems declare ports that are less than 1024 as &quot;admin rights&quot; ports. Meaning, if you&#39;re only using this for basic testing use a higher port such as 2000. This will clear the exception that you&#39;re getting by running your current program.\r\n```  \r\n    int port = 100; \r\n    ServerSocket server = new ServerSocket (port); \r\n```\r\n\r\nChange that to something such as:\r\n\r\n``` \r\n    int port = 2000; \r\n    ServerSocket server = new ServerSocket (port); ","title":"java.net.BindException: Permission denied when creating a ServerSocket on Mac OSX","body":"<p>Many systems declare ports that are less than 1024 as \"admin rights\" ports. Meaning, if you're only using this for basic testing use a higher port such as 2000. This will clear the exception that you're getting by running your current program.</p>\n\n<pre><code>    int port = 100; \n    ServerSocket server = new ServerSocket (port); \n</code></pre>\n\n<p>Change that to something such as:</p>\n\n<pre><code>    int port = 2000; \n    ServerSocket server = new ServerSocket (port); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":15053576,"reputation":37,"user_id":10864593,"display_name":"Huỳnh Tấn Lực"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633180422,"creation_date":1633180422,"answer_id":69417246,"question_id":25544849,"body_markdown":"Run Server program with root (Administrator).\r\n\r\n - Windows: Run as Administrator the IDE/Editor.\r\n - Ubuntu/macOS: sudo java...\r\n\r\n","title":"java.net.BindException: Permission denied when creating a ServerSocket on Mac OSX","body":"<p>Run Server program with root (Administrator).</p>\n<ul>\n<li>Windows: Run as Administrator the IDE/Editor.</li>\n<li>Ubuntu/macOS: sudo java...</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6112437,"reputation":1,"user_id":4768441,"display_name":"user4768441"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646286928,"creation_date":1646286928,"answer_id":71332679,"question_id":25544849,"body_markdown":"This is an old question, and I might be replying too late, but I would like to anyways share my experience in case anyone hits the issue.\r\n\r\nI was using port# 8000, but still unable to bind to the port from a java program. It was network filter running as part of eset endpoint security that was blocking the connection.\r\nI added a rule in eset firewall to allow port 8000, and it started working.","title":"java.net.BindException: Permission denied when creating a ServerSocket on Mac OSX","body":"<p>This is an old question, and I might be replying too late, but I would like to anyways share my experience in case anyone hits the issue.</p>\n<p>I was using port# 8000, but still unable to bind to the port from a java program. It was network filter running as part of eset endpoint security that was blocking the connection.\nI added a rule in eset firewall to allow port 8000, and it started working.</p>\n"},{"comments":[{"owner":{"account_id":23004535,"reputation":1381,"user_id":17128041,"display_name":"sidharth vijayakumar"},"score":1,"creation_date":1700834199,"post_id":77541604,"comment_id":136704880,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77541604/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":21686919,"reputation":1,"user_id":16002218,"display_name":"Rahul Jha"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700813811,"creation_date":1700813811,"answer_id":77541604,"question_id":25544849,"body_markdown":"Apache Tomcat: java.net.BindException: Permission denied (Bind failed) :443\r\n\r\nI was struggling with this error and after hours figured out that root user was not logged in and the user was restarting tomcat without sudo.\r\n\r\nif you face this issue, try logging as root and then restart tomcat.","title":"java.net.BindException: Permission denied when creating a ServerSocket on Mac OSX","body":"<p>Apache Tomcat: java.net.BindException: Permission denied (Bind failed) :443</p>\n<p>I was struggling with this error and after hours figured out that root user was not logged in and the user was restarting tomcat without sudo.</p>\n<p>if you face this issue, try logging as root and then restart tomcat.</p>\n"}],"owner":{"account_id":3979234,"reputation":341,"user_id":3281613,"accept_rate":33,"display_name":"Kevbear"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55042,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"answer_count":8,"score":32,"last_activity_date":1700813811,"creation_date":1409216648,"question_id":25544849,"body_markdown":"I Tried to run a Java socket in mac with eclipse but it doesn&#39;t work. I got this error: \r\n\r\n    Exception in thread &quot;main&quot; java.net.BindException: Permission denied\r\n    \r\n    \tat java.net.PlainSocketImpl.socketBind(Native Method)\r\n    \tat java.net.PlainSocketImpl.socketBind(PlainSocketImpl.java:521)\r\n    \tat java.net.PlainSocketImpl.bind(PlainSocketImpl.java:414)\r\n    \tat java.net.ServerSocket.bind(ServerSocket.java:326)\r\n    \tat java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:192)\r\n    \tat java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:104)\r\n    \tat server.MessageServer.main(MessageServer.java:11)\r\n\r\nHow can i make it to run?\r\n\r\n\r\n    package server; //ChatServer \r\n    import java.io.*; \r\n    import java.net.*; \r\n\r\n    public class MessageServer { \r\n\t\r\n\tpublic static void main (String args[]) throws IOException { \r\n\t\tint port = 100; \r\n\t\tServerSocket server = new ServerSocket (port); \r\n\t\tSystem.out.println(&quot;Server is started!&quot;); \r\n\t\t\r\n\t\twhile (true) { \r\n\t\t\tSocket client = server.accept (); \r\n\t\t\tSystem.out.println (&quot;Accepted from &quot; + client.getInetAddress ()); \r\n\t\t\tMessageHandler handler = new MessageHandler (client); \r\n\t\t\thandler.start(); \r\n\t\t\t} \r\n\t\t} \r\n\t}","title":"java.net.BindException: Permission denied when creating a ServerSocket on Mac OSX","body":"<p>I Tried to run a Java socket in mac with eclipse but it doesn't work. I got this error: </p>\n\n<pre><code>Exception in thread \"main\" java.net.BindException: Permission denied\n\n    at java.net.PlainSocketImpl.socketBind(Native Method)\n    at java.net.PlainSocketImpl.socketBind(PlainSocketImpl.java:521)\n    at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:414)\n    at java.net.ServerSocket.bind(ServerSocket.java:326)\n    at java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:192)\n    at java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:104)\n    at server.MessageServer.main(MessageServer.java:11)\n</code></pre>\n\n<p>How can i make it to run?</p>\n\n<pre><code>package server; //ChatServer \nimport java.io.*; \nimport java.net.*; \n\npublic class MessageServer { \n\npublic static void main (String args[]) throws IOException { \n    int port = 100; \n    ServerSocket server = new ServerSocket (port); \n    System.out.println(\"Server is started!\"); \n\n    while (true) { \n        Socket client = server.accept (); \n        System.out.println (\"Accepted from \" + client.getInetAddress ()); \n        MessageHandler handler = new MessageHandler (client); \n        handler.start(); \n        } \n    } \n}\n</code></pre>\n"},{"tags":["java","c","java-8","jvm","jvm-hotspot"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1700813545,"post_id":77541533,"comment_id":136701501,"body_markdown":"Likely via platform-dependent makefiles, or whatever is used to compile the source code. TL;DR, when you compile the source code, the build system detects which OS you&#39;re running (or accepts a command line argument for cross-compilation) and either builds one version or the other.","body":"Likely via platform-dependent makefiles, or whatever is used to compile the source code. TL;DR, when you compile the source code, the build system detects which OS you&#39;re running (or accepts a command line argument for cross-compilation) and either builds one version or the other."}],"owner":{"account_id":29980469,"reputation":11,"user_id":22975592,"display_name":"HeGotIt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700813371,"creation_date":1700813265,"question_id":77541533,"body_markdown":"What puzzles me is how it determines which to call when entering the function *JVMInit*(as well as *LoadJavaVM*) in *jdk/src/share/bin/java.c* since there are three function implementations in different files, namely *jdk/src/windows/bin/java_md.c*, \r\n*jdk/src/solaris/ bin/java_md_solinux.c*,\r\n*jdk/src/macosx/bin/java_md_macosx.c*\r\n\r\nPart code in java.c:\r\n```\r\nint\r\nJLI_Launch(int argc, char ** argv,              /* main argc, argc */\r\n        int jargc, const char** jargv,          /* java args */\r\n        int appclassc, const char** appclassv,  /* app classpath */\r\n        const char* fullversion,                /* full version defined */\r\n        const char* dotversion,                 /* dot version defined */\r\n        const char* pname,                      /* program name */\r\n        const char* lname,                      /* launcher name */\r\n        jboolean javaargs,                      /* JAVA_ARGS */\r\n        jboolean cpwildcard,                    /* classpath wildcard*/\r\n        jboolean javaw,                         /* windows-only javaw */\r\n        jint ergo                               /* ergonomics class policy */\r\n)\r\n{\r\n    int mode = LM_UNKNOWN;\r\n    char *what = NULL;\r\n    char *cpath = 0;\r\n    char *main_class = NULL;\r\n    int ret;\r\n    InvocationFunctions ifn;\r\n    jlong start = 0, end = 0;\r\n    char jvmpath[MAXPATHLEN];\r\n    char jrepath[MAXPATHLEN];\r\n    char jvmcfg[MAXPATHLEN];\r\n\r\n    ...\r\n\r\n    if (!LoadJavaVM(jvmpath, &amp;ifn)) {\r\n        return(6);\r\n    }\r\n\r\n    ...\r\n\r\n    return JVMInit(&amp;ifn, threadStackSize, argc, argv, mode, what, ret);\r\n}\r\n```\r\n\r\nI was only able to find the corresponding function implementations in the three files, and due to my unfamiliarity with C/C++, I was unable to find how it determines which one to enter in the jdk8 source code.\r\n\r\nI hope someone can help point out how it works.\r\n\r\nP.S. The jdk8 source code I&#39;ve been reading comes from https://github.com/openjdk/jdk8u/releases/tag/jdk8u392-ga.zip","title":"How does java.c determine which to call since there are three function implementations for different systems in Jdk8?","body":"<p>What puzzles me is how it determines which to call when entering the function <em>JVMInit</em>(as well as <em>LoadJavaVM</em>) in <em>jdk/src/share/bin/java.c</em> since there are three function implementations in different files, namely <em>jdk/src/windows/bin/java_md.c</em>,\n<em>jdk/src/solaris/ bin/java_md_solinux.c</em>,\n<em>jdk/src/macosx/bin/java_md_macosx.c</em></p>\n<p>Part code in java.c:</p>\n<pre><code>int\nJLI_Launch(int argc, char ** argv,              /* main argc, argc */\n        int jargc, const char** jargv,          /* java args */\n        int appclassc, const char** appclassv,  /* app classpath */\n        const char* fullversion,                /* full version defined */\n        const char* dotversion,                 /* dot version defined */\n        const char* pname,                      /* program name */\n        const char* lname,                      /* launcher name */\n        jboolean javaargs,                      /* JAVA_ARGS */\n        jboolean cpwildcard,                    /* classpath wildcard*/\n        jboolean javaw,                         /* windows-only javaw */\n        jint ergo                               /* ergonomics class policy */\n)\n{\n    int mode = LM_UNKNOWN;\n    char *what = NULL;\n    char *cpath = 0;\n    char *main_class = NULL;\n    int ret;\n    InvocationFunctions ifn;\n    jlong start = 0, end = 0;\n    char jvmpath[MAXPATHLEN];\n    char jrepath[MAXPATHLEN];\n    char jvmcfg[MAXPATHLEN];\n\n    ...\n\n    if (!LoadJavaVM(jvmpath, &amp;ifn)) {\n        return(6);\n    }\n\n    ...\n\n    return JVMInit(&amp;ifn, threadStackSize, argc, argv, mode, what, ret);\n}\n</code></pre>\n<p>I was only able to find the corresponding function implementations in the three files, and due to my unfamiliarity with C/C++, I was unable to find how it determines which one to enter in the jdk8 source code.</p>\n<p>I hope someone can help point out how it works.</p>\n<p>P.S. The jdk8 source code I've been reading comes from <a href=\"https://github.com/openjdk/jdk8u/releases/tag/jdk8u392-ga.zip\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk8u/releases/tag/jdk8u392-ga.zip</a></p>\n"},{"tags":["java","metrics","spring-boot-actuator","spring-boot-test","spring-micrometer"],"answers":[{"tags":[],"owner":{"account_id":2827979,"reputation":391,"user_id":2430184,"display_name":"vvalenciacruz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608829987,"creation_date":1608829987,"answer_id":65441333,"question_id":65360650,"body_markdown":"It&#39;s happening to me too, with Spring Boot 2.4.1\r\n\r\nThe only thing that I can think of, is that the endpoints that are included in @SpringBootTest are using the @Endpoint annotation.\r\n\r\nFor example:\r\n\r\n```java\r\n@Endpoint(id = &quot;metrics&quot;)\r\npublic class MetricsEndpoint {}\r\n\r\n@Endpoint(id = &quot;loggers&quot;)\r\npublic class LoggersEndpoint {}\r\n```\r\n\r\nAnd the prometheus endpoint is using the @WebEndpoint annotation\r\n\r\n```java\r\n@WebEndpoint(id = &quot;prometheus&quot;)\r\npublic class PrometheusScrapeEndpoint {}\r\n```\r\n\r\nI didn&#39;t find if this is how it should work, or is a probable bug","title":"/actuator/prometheus missing in @SpringbootTest","body":"<p>It's happening to me too, with Spring Boot 2.4.1</p>\n<p>The only thing that I can think of, is that the endpoints that are included in @SpringBootTest are using the @Endpoint annotation.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Endpoint(id = &quot;metrics&quot;)\npublic class MetricsEndpoint {}\n\n@Endpoint(id = &quot;loggers&quot;)\npublic class LoggersEndpoint {}\n</code></pre>\n<p>And the prometheus endpoint is using the @WebEndpoint annotation</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebEndpoint(id = &quot;prometheus&quot;)\npublic class PrometheusScrapeEndpoint {}\n</code></pre>\n<p>I didn't find if this is how it should work, or is a probable bug</p>\n"},{"comments":[{"owner":{"account_id":2356224,"reputation":705,"user_id":2634294,"accept_rate":50,"display_name":"barfoos"},"score":0,"creation_date":1700723832,"post_id":65560631,"comment_id":136689906,"body_markdown":"Thank you, as @Thierry mentioned `@AutoConfigureMetrics` is deprecated and one needs to use the `@AutoConfigureObservability` annotation instead.","body":"Thank you, as @Thierry mentioned <code>@AutoConfigureMetrics</code> is deprecated and one needs to use the <code>@AutoConfigureObservability</code> annotation instead."},{"owner":{"account_id":14663900,"reputation":1055,"user_id":10590290,"display_name":"Johannes Klug"},"score":1,"creation_date":1700813206,"post_id":65560631,"comment_id":136701452,"body_markdown":"@barfoos Thanks for mentioning! I edited my post","body":"@barfoos Thanks for mentioning! I edited my post"}],"tags":[],"owner":{"account_id":14663900,"reputation":1055,"user_id":10590290,"display_name":"Johannes Klug"},"comment_count":2,"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1700813135,"creation_date":1609753945,"answer_id":65560631,"question_id":65360650,"body_markdown":"Update: @Thierry mentioned @AutoConfigureMetrics is deprecated and one needs to use the @AutoConfigureObservability annotation instead. See his post!\r\n\r\nOriginal post:\r\nI faced the same issue. After some tracing through spring-context ConditionEvaluator, I found that the newly introduced `@ConditionalOnEnabledMetricsExport(&quot;prometheus&quot;)` condition on `PrometheusMetricsExportAutoConfiguration` prevented the endpoint from loading.\r\n\r\nThis is intended behavior due to https://github.com/spring-projects/spring-boot/pull/21658 and impacts spring-boot 2.4.x\r\n\r\nFix:\r\nadd @AutoConfigureMetrics to your test\r\n\r\n    @AutoConfigureMetrics\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public class IntegrationTest {","title":"/actuator/prometheus missing in @SpringbootTest","body":"<p>Update: @Thierry mentioned @AutoConfigureMetrics is deprecated and one needs to use the @AutoConfigureObservability annotation instead. See his post!</p>\n<p>Original post:\nI faced the same issue. After some tracing through spring-context ConditionEvaluator, I found that the newly introduced <code>@ConditionalOnEnabledMetricsExport(&quot;prometheus&quot;)</code> condition on <code>PrometheusMetricsExportAutoConfiguration</code> prevented the endpoint from loading.</p>\n<p>This is intended behavior due to <a href=\"https://github.com/spring-projects/spring-boot/pull/21658\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/pull/21658</a> and impacts spring-boot 2.4.x</p>\n<p>Fix:\nadd @AutoConfigureMetrics to your test</p>\n<pre><code>@AutoConfigureMetrics\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class IntegrationTest {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6089340,"reputation":138,"user_id":4752210,"display_name":"nakul shukla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609851525,"creation_date":1609851525,"answer_id":65579398,"question_id":65360650,"body_markdown":"I see in your test, you are appending &quot;demo&quot; before actual actuator path.\r\n\r\n    given().when().get(baseUrl + &quot;/demo/actuator/prometheus&quot;)\r\n            .then()\r\n            .statusCode(200);\r\n\r\nThe correct url should be baseUrl+&quot;/actuator/prometheus&quot;.","title":"/actuator/prometheus missing in @SpringbootTest","body":"<p>I see in your test, you are appending &quot;demo&quot; before actual actuator path.</p>\n<pre><code>given().when().get(baseUrl + &quot;/demo/actuator/prometheus&quot;)\n        .then()\n        .statusCode(200);\n</code></pre>\n<p>The correct url should be baseUrl+&quot;/actuator/prometheus&quot;.</p>\n"},{"tags":[],"owner":{"account_id":18508585,"reputation":61,"user_id":20459213,"display_name":"Thierry"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1675861602,"creation_date":1675861602,"answer_id":75386254,"question_id":65360650,"body_markdown":"Since Spring Boot 3.0.0 [@AutoConfigureMetrics][1] has been deprecated and will be removed in 3.2.0, it is recommended to use [@AutoConfigureObservability][2] instead\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/3.0.2/api/org/springframework/boot/test/autoconfigure/actuate/metrics/AutoConfigureMetrics.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/actuate/observability/AutoConfigureObservability.html","title":"/actuator/prometheus missing in @SpringbootTest","body":"<p>Since Spring Boot 3.0.0 <a href=\"https://docs.spring.io/spring-boot/docs/3.0.2/api/org/springframework/boot/test/autoconfigure/actuate/metrics/AutoConfigureMetrics.html\" rel=\"noreferrer\">@AutoConfigureMetrics</a> has been deprecated and will be removed in 3.2.0, it is recommended to use <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/actuate/observability/AutoConfigureObservability.html\" rel=\"noreferrer\">@AutoConfigureObservability</a> instead</p>\n"}],"owner":{"account_id":17850429,"reputation":401,"user_id":12966300,"display_name":"Massimo Basile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7632,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":4,"score":34,"last_activity_date":1700813135,"creation_date":1608309257,"question_id":65360650,"body_markdown":"I&#39;m using springbooot 2.4.0 and I added the following dependencies for enabling prometheus metrics:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nthen in my application.properties I have the following properties\r\n\r\n    management.endpoints.web.exposure.include=*\r\n    management.metrics.enable.all=true\r\n\r\nI&#39;m trying to run a simple integration test to see my custom metrics appearing at /actuator/prometheus endpoint. Below the code\r\n\r\n\r\n    package com.example.demo;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.boot.web.server.LocalServerPort;\r\n    import static io.restassured.RestAssured.given;\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public class IntegrationTest {\r\n\r\n      @LocalServerPort\r\n      private int port;\r\n\r\n      private String baseUrl;\r\n\r\n      @BeforeEach\r\n      public void setup() {\r\n          baseUrl = &quot;http://localhost:&quot; + port;\r\n      }\r\n\r\n      @Test\r\n      public void metricsEndpoint() throws Exception {\r\n\r\n        given().when().get(baseUrl + &quot;/demo/actuator/prometheus&quot;)\r\n                .then()\r\n                .statusCode(200);\r\n        }\r\n    }\r\n    \r\nThe error I get here is \r\n\r\n    java.lang.AssertionError: 1 expectation failed.\r\n    Expected status code &lt;200&gt; but was &lt;404&gt;.\r\n\r\nwhile if I repeat the same request for any other endpoint provided by springboot actuator I correctly geth the response, for example I tried /actuator/health, /actuator/info, /actuator/metrics etc..\r\n\r\n\r\nThis happens only during integration tests with @Springboot annotation and this is strange because if I run my application and make a request with postman to the address localhost:8080/actuator/prometheus I correctly get a response. \r\n\r\nIt is like the prometheus registry is not loaded during tests.\r\n\r\nCan anyone help? \r\n\r\nThanks in advance.\r\n\r\nEDIT: the solution is the one suggested by Johannes Klug. Adding the annotation @AutoConfigureMetrics solved my problem\r\n","title":"/actuator/prometheus missing in @SpringbootTest","body":"<p>I'm using springbooot 2.4.0 and I added the following dependencies for enabling prometheus metrics:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>then in my application.properties I have the following properties</p>\n<pre><code>management.endpoints.web.exposure.include=*\nmanagement.metrics.enable.all=true\n</code></pre>\n<p>I'm trying to run a simple integration test to see my custom metrics appearing at /actuator/prometheus endpoint. Below the code</p>\n<pre><code>package com.example.demo;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.web.server.LocalServerPort;\nimport static io.restassured.RestAssured.given;\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class IntegrationTest {\n\n  @LocalServerPort\n  private int port;\n\n  private String baseUrl;\n\n  @BeforeEach\n  public void setup() {\n      baseUrl = &quot;http://localhost:&quot; + port;\n  }\n\n  @Test\n  public void metricsEndpoint() throws Exception {\n\n    given().when().get(baseUrl + &quot;/demo/actuator/prometheus&quot;)\n            .then()\n            .statusCode(200);\n    }\n}\n</code></pre>\n<p>The error I get here is</p>\n<pre><code>java.lang.AssertionError: 1 expectation failed.\nExpected status code &lt;200&gt; but was &lt;404&gt;.\n</code></pre>\n<p>while if I repeat the same request for any other endpoint provided by springboot actuator I correctly geth the response, for example I tried /actuator/health, /actuator/info, /actuator/metrics etc..</p>\n<p>This happens only during integration tests with @Springboot annotation and this is strange because if I run my application and make a request with postman to the address localhost:8080/actuator/prometheus I correctly get a response.</p>\n<p>It is like the prometheus registry is not loaded during tests.</p>\n<p>Can anyone help?</p>\n<p>Thanks in advance.</p>\n<p>EDIT: the solution is the one suggested by Johannes Klug. Adding the annotation @AutoConfigureMetrics solved my problem</p>\n"},{"tags":["java","eclipse","tomcat","deployment","classnotfoundexception"],"answers":[{"tags":[],"owner":{"account_id":880433,"reputation":2228,"user_id":1151902,"accept_rate":30,"display_name":"Tej Kiran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369289967,"creation_date":1369289967,"answer_id":16706845,"question_id":16706535,"body_markdown":"Did you have jar in your lib - faces-sources-1.2.0.09.jar ?\r\n\r\nif not then add it to your project. you can download it from here - http://www.java2s.com/Code/Jar/c/Downloadcomspringsourcecomsunfacessources12009jar.htm","title":"ClassNotFoundException: com.sun.faces.config.ConfigureListener - Deployment of jars to Tomcat configured under Eclipse","body":"<p>Did you have jar in your lib - faces-sources-1.2.0.09.jar ?</p>\n\n<p>if not then add it to your project. you can download it from here - <a href=\"http://www.java2s.com/Code/Jar/c/Downloadcomspringsourcecomsunfacessources12009jar.htm\" rel=\"nofollow\">http://www.java2s.com/Code/Jar/c/Downloadcomspringsourcecomsunfacessources12009jar.htm</a></p>\n"}],"owner":{"account_id":2795237,"reputation":11,"user_id":2404576,"display_name":"Adrian A."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8944,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700812855,"creation_date":1369288641,"question_id":16706535,"body_markdown":"I have a problem very similar to these:\r\n\r\n 1. https://stackoverflow.com/questions/11777844/java-lang-classnotfoundexception-com-sun-faces-config-configurelistener-when-us\r\n 2. https://stackoverflow.com/questions/10848341/classnotfoundexception-com-sun-faces-config-configurelistener-for-jsf-project-u\r\n 3. https://stackoverflow.com/questions/5967905/error-with-jboss-while-deploying-a-jsp-servlet-web-app-com-sun-faces-config-con\r\n\r\nI&#39;ve managed to find a workaround but still not solved the issue.\r\n\r\nWhen I deploy my application to Tomcat 7.0.34 which is configured in Eclipse Juno Service Release 1 (Build id: 20120920-0800) I get:\r\n\r\n    INFO: Starting Servlet Engine: Apache Tomcat/7.0.34\r\n    maj 22, 2013 5:10:34 PM org.apache.catalina.loader.WebappClassLoader validateJarFile\r\n    INFO: validateJarFile(C:\\ProjName\\Workspaces\\projname-eclipse-ws\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\4.0.1\\WEB-INF\\lib\\javaee-api-6.0.jar) - jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending class: javax/servlet/Servlet.class\r\n    maj 22, 2013 5:10:34 PM org.apache.catalina.loader.WebappClassLoader validateJarFile\r\n    INFO: validateJarFile(C:\\ProjName\\Workspaces\\projname-eclipse-ws\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\4.0.1\\WEB-INF\\lib\\javax.servlet-3.2-b05.jar) - jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending class: javax/servlet/Servlet.class\r\n    maj 22, 2013 5:10:36 PM org.apache.catalina.core.StandardContext listenerStart\r\n    SEVERE: Error configuring application listener of class com.sun.faces.config.ConfigureListener\r\n    java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:532)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:514)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:133)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4727)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:166)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n\tat java.lang.Thread.run(Thread.java:722)\r\n\r\nI&#39;ve checked my web.xml and I don&#39;t have any entries related to *ConfigureListener*.\r\n\r\nI have both javaee-api-6.0.jar and javax.servlet-3.2-b05.jar set to *provided*. The workaround is that I&#39;m deleting both jars from *C:\\ProjName\\Workspaces\\projname-eclipse-ws\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\4.0.1\\WEB-INF\\lib* after deploying application via Eclipse.\r\n\r\nMy question is why is Eclipse deploying these jars to Tomcat regardless setting their scope to *provided*? Is there any other place that controls jars deployment?\r\n\r\n","title":"ClassNotFoundException: com.sun.faces.config.ConfigureListener - Deployment of jars to Tomcat configured under Eclipse","body":"<p>I have a problem very similar to these:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/11777844/java-lang-classnotfoundexception-com-sun-faces-config-configurelistener-when-us\">java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener when using MyFaces with WASCE/Geronimo</a></li>\n<li><a href=\"https://stackoverflow.com/questions/10848341/classnotfoundexception-com-sun-faces-config-configurelistener-for-jsf-project-u\">java.lang.ClassNotFoundException : com.sun.faces.config.ConfigureListener</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5967905/error-with-jboss-while-deploying-a-jsp-servlet-web-app-com-sun-faces-config-con\">Error with Jboss while deploying a jsp/servlet web app &quot;com.sun.faces.config.ConfigureListener&quot; Error</a></li>\n</ol>\n\n<p>I've managed to find a workaround but still not solved the issue.</p>\n\n<p>When I deploy my application to Tomcat 7.0.34 which is configured in Eclipse Juno Service Release 1 (Build id: 20120920-0800) I get:</p>\n\n<pre><code>INFO: Starting Servlet Engine: Apache Tomcat/7.0.34\nmaj 22, 2013 5:10:34 PM org.apache.catalina.loader.WebappClassLoader validateJarFile\nINFO: validateJarFile(C:\\ProjName\\Workspaces\\projname-eclipse-ws\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\4.0.1\\WEB-INF\\lib\\javaee-api-6.0.jar) - jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending class: javax/servlet/Servlet.class\nmaj 22, 2013 5:10:34 PM org.apache.catalina.loader.WebappClassLoader validateJarFile\nINFO: validateJarFile(C:\\ProjName\\Workspaces\\projname-eclipse-ws\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\4.0.1\\WEB-INF\\lib\\javax.servlet-3.2-b05.jar) - jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending class: javax/servlet/Servlet.class\nmaj 22, 2013 5:10:36 PM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Error configuring application listener of class com.sun.faces.config.ConfigureListener\njava.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\nat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:532)\nat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:514)\nat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:133)\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4727)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\nat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\nat java.util.concurrent.FutureTask.run(FutureTask.java:166)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\nat java.lang.Thread.run(Thread.java:722)\n</code></pre>\n\n<p>I've checked my web.xml and I don't have any entries related to <em>ConfigureListener</em>.</p>\n\n<p>I have both javaee-api-6.0.jar and javax.servlet-3.2-b05.jar set to <em>provided</em>. The workaround is that I'm deleting both jars from <em>C:\\ProjName\\Workspaces\\projname-eclipse-ws.metadata.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\4.0.1\\WEB-INF\\lib</em> after deploying application via Eclipse.</p>\n\n<p>My question is why is Eclipse deploying these jars to Tomcat regardless setting their scope to <em>provided</em>? Is there any other place that controls jars deployment?</p>\n"},{"tags":["java","xsd","jaxb","mapstruct","xjc"],"comments":[{"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":1,"creation_date":1700771525,"post_id":77539451,"comment_id":136698014,"body_markdown":"Do the &quot;same&quot; types you refer to have different namespaces? In that case they&#39;re not the same types.","body":"Do the &quot;same&quot; types you refer to have different namespaces? In that case they&#39;re not the same types."},{"owner":{"account_id":6780624,"reputation":23,"user_id":5221017,"display_name":"condiorno"},"score":0,"creation_date":1700774906,"post_id":77539451,"comment_id":136698337,"body_markdown":"Yes, they have different namespaces @forty-two. Sorry, I forgot to mention that.","body":"Yes, they have different namespaces @forty-two. Sorry, I forgot to mention that."},{"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":0,"creation_date":1700879702,"post_id":77539451,"comment_id":136709801,"body_markdown":"Well, one option is of course to devise some common &quot;interface&quot; that your business code can work against and that&#39;s explicitly implemented by your XML classes or indirectly via some adapter thingys. Fighting  namespaces is a loosing battle.","body":"Well, one option is of course to devise some common &quot;interface&quot; that your business code can work against and that&#39;s explicitly implemented by your XML classes or indirectly via some adapter thingys. Fighting  namespaces is a loosing battle."}],"answers":[{"comments":[{"owner":{"account_id":6780624,"reputation":23,"user_id":5221017,"display_name":"condiorno"},"score":0,"creation_date":1700780581,"post_id":77539919,"comment_id":136698838,"body_markdown":"Thank you for the answer @LaurentSchoelens. My issue is that the XSD files could be 15000 lines of code, where almost all models would need to be represented in the bindings file. So it&#39;s going to be a lot of work I suppose =( because I need to write up this bindings file manually right, there is no way to generate it?","body":"Thank you for the answer @LaurentSchoelens. My issue is that the XSD files could be 15000 lines of code, where almost all models would need to be represented in the bindings file. So it&#39;s going to be a lot of work I suppose =( because I need to write up this bindings file manually right, there is no way to generate it?"},{"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1700808042,"post_id":77539919,"comment_id":136700734,"body_markdown":"The binding file itself is quite simple but needs to be generated manually, and the interface definition too in order to get it working. That&#39;s why I mentioned the option where the provider would get all common structure in a `common.xsd` file, with it&#39;s own namespace, and import it in other XSD definitions. If not possible and if you find this too much of work, maybe you could find a mapper solution to go from one type to another. Since you&#39;re under java, I&#39;d suggest looking at [selma](https://www.selma-java.org/)","body":"The binding file itself is quite simple but needs to be generated manually, and the interface definition too in order to get it working. That&#39;s why I mentioned the option where the provider would get all common structure in a <code>common.xsd</code> file, with it&#39;s own namespace, and import it in other XSD definitions. If not possible and if you find this too much of work, maybe you could find a mapper solution to go from one type to another. Since you&#39;re under java, I&#39;d suggest looking at <a href=\"https://www.selma-java.org/\" rel=\"nofollow noreferrer\">selma</a>"},{"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1700812760,"post_id":77539919,"comment_id":136701382,"body_markdown":"I&#39;ve updated my answer to point out the selma option. But my preference, if possible with your provider would go to solution 2.","body":"I&#39;ve updated my answer to point out the selma option. But my preference, if possible with your provider would go to solution 2."},{"owner":{"account_id":6780624,"reputation":23,"user_id":5221017,"display_name":"condiorno"},"score":0,"creation_date":1700815561,"post_id":77539919,"comment_id":136701814,"body_markdown":"Unfortunately my provider won&#39;t be able to provide it for me. I&#39;ve been looking into mappers but with no success (have tried MapStruct &amp; ModelMapper). I will give Selma a try today.","body":"Unfortunately my provider won&#39;t be able to provide it for me. I&#39;ve been looking into mappers but with no success (have tried MapStruct &amp; ModelMapper). I will give Selma a try today."},{"owner":{"account_id":6780624,"reputation":23,"user_id":5221017,"display_name":"condiorno"},"score":0,"creation_date":1700815678,"post_id":77539919,"comment_id":136701831,"body_markdown":"Looks like the last update the Selma repo was 6 years ago =( we would need something that is actively maintained I think.","body":"Looks like the last update the Selma repo was 6 years ago =( we would need something that is actively maintained I think."},{"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1700815728,"post_id":77539919,"comment_id":136701836,"body_markdown":"I&#39;m still using `Selma` and working well, and JDK17 compatible","body":"I&#39;m still using <code>Selma</code> and working well, and JDK17 compatible"}],"tags":[],"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700812724,"creation_date":1700779132,"answer_id":77539919,"question_id":77539451,"body_markdown":"**Solution 1 :**\r\n\r\nI think the best option for you is to use the [jaxb-tools inheritance plugin (link to the wiki)][1]. You could define your own interface (in your java code) and, with bindings file, say that the common classes are implementing the same interface. That way, you could create your unique handle java method and respect JAXB namespaces without any change to the XSD.\r\n\r\nYou would have something like that :\r\n\r\n```xml\r\n&lt;jaxb:bindings\r\n\txmlns:jaxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n\txmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n\txmlns:inheritance=&quot;urn:jaxb.jvnet.org:plugin:inheritance&quot;\r\n\tjaxb:extensionBindingPrefixes=&quot;inheritance&quot;\r\n\tjaxb:version=&quot;3.0&quot;&gt;\r\n\r\n  &lt;jaxb:bindings schemaLocation=&quot;schema1.xsd&quot; node=&quot;/xsd:schema&quot;&gt;\r\n    &lt;jaxb:bindings node=&quot;xsd:simpleType[@name=&#39;MyCommonType&#39;]&quot;&gt;\r\n      &lt;inheritance:implements&gt;my.internalpackage.CommonTypeInterface&lt;/inheritance:implements&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n  &lt;/jaxb:bindings&gt;\r\n  &lt;jaxb:bindings schemaLocation=&quot;schema2.xsd&quot; node=&quot;/xsd:schema&quot;&gt;\r\n    &lt;jaxb:bindings node=&quot;xsd:simpleType[@name=&#39;MyCommonType&#39;]&quot;&gt;\r\n      &lt;inheritance:implements&gt;my.internalpackage.CommonTypeInterface&lt;/inheritance:implements&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n  &lt;/jaxb:bindings&gt;\r\n&lt;/jaxb:bindings&gt;\r\n```\r\n\r\nYou can also check the [migration guide][2] if looking for new artifacts / groupId names since a lot changed this year in jaxb-tools repository.\r\n\r\nFeel free to create an issue if you got any problem with that plugin or if the wiki is uncomplete / unclear about certain points. I&#39;d be glad to enhance it.\r\n\r\n**Solution 2 :**\r\n\r\nAnother option would be to ask the provider to create a common.xsd which would contains the common XSD types that will be used in others XSD structure. That way, you&#39;ll be able to handle it correctly with JAXB and only have one handling method without having this `inheritance` plugin.\r\n\r\n**Solution 3 :** \r\nIf you can&#39;t get your XSD provider change it&#39;s XSD and don&#39;t want to get into `inheritance` plugin, I&#39;d suggest you to look at some automatic mapper framework. [Selma][3] is a pretty good one I use sometimes to do automatic conversion on similar classes. It generates by itself a mapper that will do a deep-map field-by-field from one type to another.\r\n\r\nFor example, by defining the following methods in the selma class\r\n\r\n```java\r\npublic abstract my.choosen.type.MyCommonType asCommonType(another.type type);\r\n\r\npublic abstract my.choosen.type.MyCommonType asCommonType(yet.another.type type);\r\n```\r\n\r\nYou&#39;ll get the following in the Selma Generated Class :\r\n\r\n```java\r\n  public final my.choosen.type.MyCommonType asCommonType(another.type inType) {\r\n    my.choosen.type.MyCommonType out = null;\r\n    if (inType != null) {\r\n      out = new my.choosen.type.MyCommonType();\r\n      out.setA(inType.getA());\r\n      out.setB(inType.getB());\r\n    }\r\n    return out;\r\n  }\r\n\r\n\r\n  public final my.choosen.type.MyCommonType asCommonType(yet.another.type inType) {\r\n    my.choosen.type.MyCommonType out = null;\r\n    if (inType != null) {\r\n      out = new my.choosen.type.MyCommonType();\r\n      out.setA(inType.getA());\r\n      out.setB(inType.getB());\r\n    }\r\n    return out;\r\n  }\r\n```\r\n\r\nAnd then work only with the `my.choosen.type.MyCommonType` in your code.\r\n\r\n\r\n  [1]: https://github.com/highsource/jaxb-tools/wiki/JAXB2-Inheritance-Plugin\r\n  [2]: https://github.com/highsource/jaxb-tools/wiki/JAXB-Tools-Migration-Guide\r\n  [3]: https://www.selma-java.org/","title":"Best way to handle identical data within two different Java types generated from XSD files","body":"<p><strong>Solution 1 :</strong></p>\n<p>I think the best option for you is to use the <a href=\"https://github.com/highsource/jaxb-tools/wiki/JAXB2-Inheritance-Plugin\" rel=\"nofollow noreferrer\">jaxb-tools inheritance plugin (link to the wiki)</a>. You could define your own interface (in your java code) and, with bindings file, say that the common classes are implementing the same interface. That way, you could create your unique handle java method and respect JAXB namespaces without any change to the XSD.</p>\n<p>You would have something like that :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jaxb:bindings\n    xmlns:jaxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n    xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    xmlns:inheritance=&quot;urn:jaxb.jvnet.org:plugin:inheritance&quot;\n    jaxb:extensionBindingPrefixes=&quot;inheritance&quot;\n    jaxb:version=&quot;3.0&quot;&gt;\n\n  &lt;jaxb:bindings schemaLocation=&quot;schema1.xsd&quot; node=&quot;/xsd:schema&quot;&gt;\n    &lt;jaxb:bindings node=&quot;xsd:simpleType[@name='MyCommonType']&quot;&gt;\n      &lt;inheritance:implements&gt;my.internalpackage.CommonTypeInterface&lt;/inheritance:implements&gt;\n    &lt;/jaxb:bindings&gt;\n  &lt;/jaxb:bindings&gt;\n  &lt;jaxb:bindings schemaLocation=&quot;schema2.xsd&quot; node=&quot;/xsd:schema&quot;&gt;\n    &lt;jaxb:bindings node=&quot;xsd:simpleType[@name='MyCommonType']&quot;&gt;\n      &lt;inheritance:implements&gt;my.internalpackage.CommonTypeInterface&lt;/inheritance:implements&gt;\n    &lt;/jaxb:bindings&gt;\n  &lt;/jaxb:bindings&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>You can also check the <a href=\"https://github.com/highsource/jaxb-tools/wiki/JAXB-Tools-Migration-Guide\" rel=\"nofollow noreferrer\">migration guide</a> if looking for new artifacts / groupId names since a lot changed this year in jaxb-tools repository.</p>\n<p>Feel free to create an issue if you got any problem with that plugin or if the wiki is uncomplete / unclear about certain points. I'd be glad to enhance it.</p>\n<p><strong>Solution 2 :</strong></p>\n<p>Another option would be to ask the provider to create a common.xsd which would contains the common XSD types that will be used in others XSD structure. That way, you'll be able to handle it correctly with JAXB and only have one handling method without having this <code>inheritance</code> plugin.</p>\n<p><strong>Solution 3 :</strong>\nIf you can't get your XSD provider change it's XSD and don't want to get into <code>inheritance</code> plugin, I'd suggest you to look at some automatic mapper framework. <a href=\"https://www.selma-java.org/\" rel=\"nofollow noreferrer\">Selma</a> is a pretty good one I use sometimes to do automatic conversion on similar classes. It generates by itself a mapper that will do a deep-map field-by-field from one type to another.</p>\n<p>For example, by defining the following methods in the selma class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract my.choosen.type.MyCommonType asCommonType(another.type type);\n\npublic abstract my.choosen.type.MyCommonType asCommonType(yet.another.type type);\n</code></pre>\n<p>You'll get the following in the Selma Generated Class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public final my.choosen.type.MyCommonType asCommonType(another.type inType) {\n    my.choosen.type.MyCommonType out = null;\n    if (inType != null) {\n      out = new my.choosen.type.MyCommonType();\n      out.setA(inType.getA());\n      out.setB(inType.getB());\n    }\n    return out;\n  }\n\n\n  public final my.choosen.type.MyCommonType asCommonType(yet.another.type inType) {\n    my.choosen.type.MyCommonType out = null;\n    if (inType != null) {\n      out = new my.choosen.type.MyCommonType();\n      out.setA(inType.getA());\n      out.setB(inType.getB());\n    }\n    return out;\n  }\n</code></pre>\n<p>And then work only with the <code>my.choosen.type.MyCommonType</code> in your code.</p>\n"}],"owner":{"account_id":6780624,"reputation":23,"user_id":5221017,"display_name":"condiorno"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700812724,"creation_date":1700770704,"question_id":77539451,"body_markdown":"I am pretty much stuck finding the best way to solve this.\r\n\r\nMy case is that I have a provider which gives me XSD files to generate the types I will use to call their SOAP api. Those XSD files sometimes contain the exact same data structure. However as they reside in different XSD files they will generate their own types, even if the fields of those types have the exact same name.\r\n\r\nThe end goal is to be able to handle one type, so that I can write reusable logic for them.\r\n\r\nI am using the `com.helger.maven` `jaxb40-maven-plugin` (fork from `highsource` `jaxb-tools`) along with Java 17 to generate Java classes from these XSD files which I am then building up, marshalling and sending as payload to their SOAP API as well as using to map the response from them.\r\n\r\nI have been looking into:\r\n\r\n1. Episodes, but I am not getting that to work. My understanding, and I can be wrong, is that I need to modify these XSD files &amp; creating a new XSD file with all the common types &amp; reference those instead. However I don&#39;t want to mess with these XSD files because I think it&#39;s error prone, also they are like 15.000 lines long with loads of type so it&#39;s not feasible (if this is the case).\r\n\r\n2. Mapping from one type to the other using a mapping library like MapStruct/ModelMapper. I am struggling to make this work too. The Java classes I am generating I have configured to have optional getters &amp; builders. This seems to make things a lot harder.\r\n\r\n3. Marshalling my class to XML, modyfing the namespace &amp; root element name to be able to unmarshal it into my other class. However this feels like a hack, and again I am messing with the XML structure.\r\n\r\nAt this point I am not sure what is the best solution for my problem, hence I am reaching out here for some advice.\r\n\r\nIf it makes any difference I am using Spring Boot.\r\n\r\nThanks in advance,\r\n\r\nBR","title":"Best way to handle identical data within two different Java types generated from XSD files","body":"<p>I am pretty much stuck finding the best way to solve this.</p>\n<p>My case is that I have a provider which gives me XSD files to generate the types I will use to call their SOAP api. Those XSD files sometimes contain the exact same data structure. However as they reside in different XSD files they will generate their own types, even if the fields of those types have the exact same name.</p>\n<p>The end goal is to be able to handle one type, so that I can write reusable logic for them.</p>\n<p>I am using the <code>com.helger.maven</code> <code>jaxb40-maven-plugin</code> (fork from <code>highsource</code> <code>jaxb-tools</code>) along with Java 17 to generate Java classes from these XSD files which I am then building up, marshalling and sending as payload to their SOAP API as well as using to map the response from them.</p>\n<p>I have been looking into:</p>\n<ol>\n<li><p>Episodes, but I am not getting that to work. My understanding, and I can be wrong, is that I need to modify these XSD files &amp; creating a new XSD file with all the common types &amp; reference those instead. However I don't want to mess with these XSD files because I think it's error prone, also they are like 15.000 lines long with loads of type so it's not feasible (if this is the case).</p>\n</li>\n<li><p>Mapping from one type to the other using a mapping library like MapStruct/ModelMapper. I am struggling to make this work too. The Java classes I am generating I have configured to have optional getters &amp; builders. This seems to make things a lot harder.</p>\n</li>\n<li><p>Marshalling my class to XML, modyfing the namespace &amp; root element name to be able to unmarshal it into my other class. However this feels like a hack, and again I am messing with the XML structure.</p>\n</li>\n</ol>\n<p>At this point I am not sure what is the best solution for my problem, hence I am reaching out here for some advice.</p>\n<p>If it makes any difference I am using Spring Boot.</p>\n<p>Thanks in advance,</p>\n<p>BR</p>\n"},{"tags":["java","apache-camel","netty4"],"owner":{"account_id":12358827,"reputation":61,"user_id":9013764,"display_name":"007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700812463,"creation_date":1686295785,"question_id":76438102,"body_markdown":"I&#39;m trying to send request to wrong IP and want to catch request time-out exception. Even though I sent request to wrong IP, it is ended normally.\r\n\r\nSource is like below.\r\n\r\n```java\r\ntry {\r\n  FluentProducerTemplate fluentProducerTemplate = exchange.getContext().createFluentProducerTemplate();\r\n\r\n  log.debug(&quot;START&quot;);\r\n\r\n// 111.111.111.111:1111 is wrong IP sample\r\n  Message message = fluentProducerTemplate.to(&quot;netty-http:http://111.111.111.111:1111/?clientMode=true&amp;connectTimeout=5000&quot;).request(Message.class);\r\n\r\n  log.debug(&quot;DONE&quot;);\r\n\r\n} catch ( Exception e ) {\r\n  log.debug(&quot;FAIL&quot;);\r\n}\r\n```\r\n\r\nI think it should be ended with &quot;FAIL&quot;, but it&#39;s not. Log message &quot;DONE&quot; is printed after 5 seconds from &quot;START&quot;. And response message is null.\r\n\r\nIs there any way to make exception if connection time-out?","title":"FluentProducerTemplate with netty-http component. Request method with timeout is not working","body":"<p>I'm trying to send request to wrong IP and want to catch request time-out exception. Even though I sent request to wrong IP, it is ended normally.</p>\n<p>Source is like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n  FluentProducerTemplate fluentProducerTemplate = exchange.getContext().createFluentProducerTemplate();\n\n  log.debug(&quot;START&quot;);\n\n// 111.111.111.111:1111 is wrong IP sample\n  Message message = fluentProducerTemplate.to(&quot;netty-http:http://111.111.111.111:1111/?clientMode=true&amp;connectTimeout=5000&quot;).request(Message.class);\n\n  log.debug(&quot;DONE&quot;);\n\n} catch ( Exception e ) {\n  log.debug(&quot;FAIL&quot;);\n}\n</code></pre>\n<p>I think it should be ended with &quot;FAIL&quot;, but it's not. Log message &quot;DONE&quot; is printed after 5 seconds from &quot;START&quot;. And response message is null.</p>\n<p>Is there any way to make exception if connection time-out?</p>\n"},{"tags":["java","websocket","jetty"],"comments":[{"owner":{"account_id":1507086,"reputation":1685,"user_id":1410225,"accept_rate":69,"display_name":"zuckermanori"},"score":0,"creation_date":1530507263,"post_id":51129012,"comment_id":89243316,"body_markdown":"Can you paste the exception and stacktrace?","body":"Can you paste the exception and stacktrace?"},{"owner":{"account_id":2241049,"reputation":689,"user_id":1975301,"accept_rate":60,"display_name":"Kirk Sefchik"},"score":0,"creation_date":1530540228,"post_id":51129012,"comment_id":89260004,"body_markdown":"@zuckermanori I have edited the question to include the stack trace. The only data it seems to contain is `0 null`","body":"@zuckermanori I have edited the question to include the stack trace. The only data it seems to contain is <code>0 null</code>"},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1530540913,"post_id":51129012,"comment_id":89260389,"body_markdown":"With `Received fatal alert: handshake_failure` you now have to identify where it failed in your handshake.  Such as: (a) Incompatible cipher suites between server and client.  (b) Incompatible SSL/TLS between server and client.  (c) Incomplete trust path for server certificate.  (d) Server certificate is for different domain.","body":"With <code>Received fatal alert: handshake_failure</code> you now have to identify where it failed in your handshake.  Such as: (a) Incompatible cipher suites between server and client.  (b) Incompatible SSL/TLS between server and client.  (c) Incomplete trust path for server certificate.  (d) Server certificate is for different domain."},{"owner":{"account_id":2241049,"reputation":689,"user_id":1975301,"accept_rate":60,"display_name":"Kirk Sefchik"},"score":0,"creation_date":1530541028,"post_id":51129012,"comment_id":89260457,"body_markdown":"I am very new at Java. How would I go about determining what needs to be done?","body":"I am very new at Java. How would I go about determining what needs to be done?"}],"answers":[{"comments":[{"owner":{"account_id":2241049,"reputation":689,"user_id":1975301,"accept_rate":60,"display_name":"Kirk Sefchik"},"score":0,"creation_date":1530540176,"post_id":51133885,"comment_id":89259979,"body_markdown":"This did not work. It still renders the same error. :O","body":"This did not work. It still renders the same error. :O"},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":2,"creation_date":1572010036,"post_id":51133885,"comment_id":103437909,"body_markdown":"Updated the answer a great deal.","body":"Updated the answer a great deal."}],"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1572010012,"creation_date":1530526684,"answer_id":51133885,"question_id":51129012,"body_markdown":"A TLS/SSL handshake error is rather generic.\r\n\r\nYou don&#39;t know what part of the TLS/SSL handshake the issue occurred in.\r\n\r\n&gt; You can use `-Djavax.net.debug=all` command line option on Java to see the raw details of the TLS/SSL handshake, and this might be a good place to start troubleshooting your issues with.\r\n\r\nSome options ...\r\n\r\n---\r\n## For certificate name issues\r\n\r\nIf you connect to a server and the provided certificate does not\r\nmatch the hostname you used in the URI to connect, this is a violation of\r\nthe endpoint identification algorithm present in Java itself.\r\n\r\nExample Scenario:  \r\n\r\n 1. You connect to `wss://192.168.1.0:8443/chat`\r\n 2. The certificate reports itself as `chatserver.acme.com`\r\n\r\nThis is a violation, as the hostname in the URI `192.168.1.0` does not match the certificate `chatserver.acme.com`\r\n\r\nThis is especially common when testing with `wss://localhost` or `wss://127.0.0.1`\r\n\r\nYou can tell Java to not perform the Endpoint Identification check like this ...\r\n\r\n``` java\r\nSslContextFactory.Client ssl = new SslContextFactory.Client(); // ssl config\r\nssl.setEndpointIdentificationAlgorithm(null); // disable endpoint identification algorithm.\r\nWebSocketClient client = new WebSocketClient(ssl); // give ssl config to client\r\n```\r\n\r\n**⚠️ WARNING: This is not recommended, and can easily allow for man-in-the-middle attacks!**\r\n\r\n---\r\n## For a certificate trust issues\r\n\r\nTry enabling trust for all certificates.\r\n\r\n1. Enable SSL/TLS for WebSocket Client\r\n2. Trust All Certificates on the SSL/TLS Configuration\r\n\r\nExample (assuming Jetty 9.4.19.v20190610 or newer):\r\n\r\n``` java\r\nSslContextFactory.Client ssl = new SslContextFactory.Client(); // ssl config\r\nssl.setTrustAll(true); // trust all certificates\r\nWebSocketClient client = new WebSocketClient(ssl); // give ssl config to client\r\n```\r\n\r\n**⚠️ WARNING: This is not recommended, and can easily allow for man-in-the-middle attacks!**\r\n\r\n---\r\n## For certificate algorithm issues\r\n\r\nThe algorithm used to create the certificate will limit the available Cipher Suites made available during the TLS/SSL handshake.\r\n\r\nFor example, If the server only had a DSA certificate (known vulnerable), then none of the RSA or ECDSA certificates would be available.\r\n\r\nThe number of bits used to create the certificate is also relevant, as if the server certificate had too few, then Java itself will reject it.\r\n\r\nIf you are in control of the server certificate, make sure you have generated a certificate that contains both a RSA and ECDSA certificate, with at least 2048 bits for RSA (or more), and 256 bits for ECDSA.\r\n\r\n\r\n---\r\n## For a cipher suite issues\r\n\r\nTry an empty Cipher Suite exclusion list on the Jetty side.\r\n\r\n**⚠️ WARNING: This lets you use KNOWN vulnerable Cipher Suites!**\r\n\r\n1. Enable SSL/TLS for WebSocket Client\r\n2. Blank out the Cipher Suite Exclusion List\r\n\r\nExample (assuming Jetty 9.4.19.v20190610 or newer):\r\n\r\n``` java\r\nSslContextFactory.Client ssl = new SslContextFactory.Client(); // ssl config\r\nssl.setExcludeCipherSuites(); // blank out the default excluded cipher suites\r\nWebSocketClient client = new WebSocketClient(ssl); // give ssl config to client\r\n```\r\n\r\n**⚠️ WARNING: This is not recommended, and any modern computer (even cell phones) can easily read your encrypted traffic**\r\n","title":"Connect to websocket with self-signed certificate in java","body":"<p>A TLS/SSL handshake error is rather generic.</p>\n\n<p>You don't know what part of the TLS/SSL handshake the issue occurred in.</p>\n\n<blockquote>\n  <p>You can use <code>-Djavax.net.debug=all</code> command line option on Java to see the raw details of the TLS/SSL handshake, and this might be a good place to start troubleshooting your issues with.</p>\n</blockquote>\n\n<p>Some options ...</p>\n\n<hr>\n\n<h2>For certificate name issues</h2>\n\n<p>If you connect to a server and the provided certificate does not\nmatch the hostname you used in the URI to connect, this is a violation of\nthe endpoint identification algorithm present in Java itself.</p>\n\n<p>Example Scenario:  </p>\n\n<ol>\n<li>You connect to <code>wss://192.168.1.0:8443/chat</code></li>\n<li>The certificate reports itself as <code>chatserver.acme.com</code></li>\n</ol>\n\n<p>This is a violation, as the hostname in the URI <code>192.168.1.0</code> does not match the certificate <code>chatserver.acme.com</code></p>\n\n<p>This is especially common when testing with <code>wss://localhost</code> or <code>wss://127.0.0.1</code></p>\n\n<p>You can tell Java to not perform the Endpoint Identification check like this ...</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>SslContextFactory.Client ssl = new SslContextFactory.Client(); // ssl config\nssl.setEndpointIdentificationAlgorithm(null); // disable endpoint identification algorithm.\nWebSocketClient client = new WebSocketClient(ssl); // give ssl config to client\n</code></pre>\n\n<p><strong>⚠️ WARNING: This is not recommended, and can easily allow for man-in-the-middle attacks!</strong></p>\n\n<hr>\n\n<h2>For a certificate trust issues</h2>\n\n<p>Try enabling trust for all certificates.</p>\n\n<ol>\n<li>Enable SSL/TLS for WebSocket Client</li>\n<li>Trust All Certificates on the SSL/TLS Configuration</li>\n</ol>\n\n<p>Example (assuming Jetty 9.4.19.v20190610 or newer):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>SslContextFactory.Client ssl = new SslContextFactory.Client(); // ssl config\nssl.setTrustAll(true); // trust all certificates\nWebSocketClient client = new WebSocketClient(ssl); // give ssl config to client\n</code></pre>\n\n<p><strong>⚠️ WARNING: This is not recommended, and can easily allow for man-in-the-middle attacks!</strong></p>\n\n<hr>\n\n<h2>For certificate algorithm issues</h2>\n\n<p>The algorithm used to create the certificate will limit the available Cipher Suites made available during the TLS/SSL handshake.</p>\n\n<p>For example, If the server only had a DSA certificate (known vulnerable), then none of the RSA or ECDSA certificates would be available.</p>\n\n<p>The number of bits used to create the certificate is also relevant, as if the server certificate had too few, then Java itself will reject it.</p>\n\n<p>If you are in control of the server certificate, make sure you have generated a certificate that contains both a RSA and ECDSA certificate, with at least 2048 bits for RSA (or more), and 256 bits for ECDSA.</p>\n\n<hr>\n\n<h2>For a cipher suite issues</h2>\n\n<p>Try an empty Cipher Suite exclusion list on the Jetty side.</p>\n\n<p><strong>⚠️ WARNING: This lets you use KNOWN vulnerable Cipher Suites!</strong></p>\n\n<ol>\n<li>Enable SSL/TLS for WebSocket Client</li>\n<li>Blank out the Cipher Suite Exclusion List</li>\n</ol>\n\n<p>Example (assuming Jetty 9.4.19.v20190610 or newer):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>SslContextFactory.Client ssl = new SslContextFactory.Client(); // ssl config\nssl.setExcludeCipherSuites(); // blank out the default excluded cipher suites\nWebSocketClient client = new WebSocketClient(ssl); // give ssl config to client\n</code></pre>\n\n<p><strong>⚠️ WARNING: This is not recommended, and any modern computer (even cell phones) can easily read your encrypted traffic</strong></p>\n"},{"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700811702,"creation_date":1700811397,"answer_id":77541394,"question_id":51129012,"body_markdown":"&gt; ```java\r\n&gt; // ...\r\n&gt; new WebSocketClient(ssl);\r\n&gt; ```\r\n\r\nStarting with Jetty 10, this syntax no longer works.\r\n\r\nFor Jetty 10, courtesy of the Jetty 10 [`WebSocketClientServlet.java` test](https://github.com/jetty/jetty.project/blob/f82844e2a256c3426df029f028bf0fee8cd4879b/tests/test-webapps/test-websocket-client-webapp/src/main/java/org/eclipse/jetty/tests/webapp/websocket/WebSocketClientServlet.java#L48-L53):\r\n\r\n```java\r\nSslContextFactory.Client ssl = new SslContextFactory.Client(true);\r\nClientConnector connector = new ClientConnector();\r\nclientConnector.setSslContextFactory(ssl);\r\nHttpClient http = new HttpClient(new HttpClientTransportOverHTTP(connector));\r\nWebSocketClient client = new WebSocketClient(http);\r\n```","title":"Connect to websocket with self-signed certificate in java","body":"<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>// ...\nnew WebSocketClient(ssl);\n</code></pre>\n</blockquote>\n<p>Starting with Jetty 10, this syntax no longer works.</p>\n<p>For Jetty 10, courtesy of the Jetty 10 <a href=\"https://github.com/jetty/jetty.project/blob/f82844e2a256c3426df029f028bf0fee8cd4879b/tests/test-webapps/test-websocket-client-webapp/src/main/java/org/eclipse/jetty/tests/webapp/websocket/WebSocketClientServlet.java#L48-L53\" rel=\"nofollow noreferrer\"><code>WebSocketClientServlet.java</code> test</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SslContextFactory.Client ssl = new SslContextFactory.Client(true);\nClientConnector connector = new ClientConnector();\nclientConnector.setSslContextFactory(ssl);\nHttpClient http = new HttpClient(new HttpClientTransportOverHTTP(connector));\nWebSocketClient client = new WebSocketClient(http);\n</code></pre>\n"}],"owner":{"account_id":2241049,"reputation":689,"user_id":1975301,"accept_rate":60,"display_name":"Kirk Sefchik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4410,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51133885,"answer_count":2,"score":2,"last_activity_date":1700811702,"creation_date":1530504548,"question_id":51129012,"body_markdown":"I need to use Java to connect to a WebSocket server that is using a self-signed certificate. I&#39;m trying to use the Jetty library and am pretty new at Java but I am finding it very difficult to figure out what needs to be done. I can connect using NodeJS very simply:\r\n\r\n    const WebSocket = require(&#39;ws&#39;);\r\n    const ws = new WebSocket(&#39;wss://192.168.100.220:9000/&#39;, [&#39;ws-valence&#39;], {\r\n      rejectUnauthorized: false,\r\n    });\r\n\r\nHowever, modifying the example I found on the [Jetty docs][1] doesn&#39;t get me very far. \r\n\r\nI implemented a basic client that works well with an echo test server, like in the example linked above. Then I went on to configure it with my own protocol and IP Address:\r\n\r\n      private static void connectToBasestation() {\r\n        \r\n    //    String destUri = &quot;ws://echo.websocket.org&quot;;\r\n        String basestationUri = &quot;wss://192.168.100.220:9000/&quot;;\r\n        SslContextFactory ssl = new SslContextFactory(); // ssl config\r\n        ssl.setTrustAll(true); // trust all certificates\r\n        WebSocketClient client = new WebSocketClient(ssl); // give ssl config to client\r\n        BasestationSocket socket = new BasestationSocket();\r\n        ArrayList&lt;String&gt; protocols = new ArrayList&lt;String&gt;();\r\n        protocols.add(&quot;ws-valence&quot;);\r\n        \r\n        try\r\n        {\r\n            client.start();\r\n            URI bsUri = new URI(basestationUri);\r\n            ClientUpgradeRequest request = new ClientUpgradeRequest();\r\n            request.setSubProtocols(protocols);\r\n            client.connect(socket, bsUri, request);\r\n            System.out.printf(&quot;Connecting to : %s%n&quot;, bsUri);\r\n    \r\n            // wait for closed socket connection.\r\n            socket.awaitClose(5,TimeUnit.SECONDS);\r\n        }\r\n        catch (Throwable t)\r\n        {\r\n            t.printStackTrace();\r\n        }\r\n        finally\r\n        {\r\n            try\r\n            {\r\n                client.stop();\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            \r\n            }\r\n        }\r\n      }\r\n\r\nHowever, I&#39;m getting an `UpgradeException` with `0 null` as the values and my `onConnect` method is never getting called. I&#39;m guessing this is a security issue, but I can&#39;t be certain since the server is an old machine -- a bit of a black box. But I&#39;m thinking maybe something is wrong with my approach? Can anyone lend any advice here?\r\n\r\nEdit 1: Included trustful SSL factory as suggested. It did not change anything, including the stack trace from below.\r\n\r\nEdit 3: There is a similar question listed above, but this is different since 1) I&#39;m getting a different error code and 2) Adding a trustful SSL factory does not solve the issue.\r\n\r\nEdit 2: Here is the stack trace I am getting from my OnError below:\r\n\r\n    Caused by: javax.net.ssl.SSLException: Received fatal alert: handshake_failure\r\n    \tat sun.security.ssl.Alerts.getSSLException(Alerts.java:208)\r\n    \tat sun.security.ssl.SSLEngineImpl.fatal(SSLEngineImpl.java:1666)\r\n    \tat sun.security.ssl.SSLEngineImpl.fatal(SSLEngineImpl.java:1634)\r\n    \tat sun.security.ssl.SSLEngineImpl.recvAlert(SSLEngineImpl.java:1800)\r\n    \tat sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:1083)\r\n    \tat sun.security.ssl.SSLEngineImpl.readNetRecord(SSLEngineImpl.java:907)\r\n    \tat sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:781)\r\n    \tat javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:624)\r\n    \tat org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.fill(SslConnection.java:681)\r\n    \tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:128)\r\n    \tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:73)\r\n    \tat org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:133)\r\n    \tat org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:155)\r\n    \tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:281)\r\n    \tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\r\n    \tat org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:291)\r\n    \tat org.eclipse.jetty.io.ssl.SslConnection$3.succeeded(SslConnection.java:151)\r\n    \tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\r\n    \tat org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)\r\n    \t... 3 more\r\n    org.eclipse.jetty.websocket.api.UpgradeException: 0 null\r\n    \tat org.eclipse.jetty.websocket.client.WebSocketUpgradeRequest.onComplete(WebSocketUpgradeRequest.java:522)\r\n    \tat org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:216)\r\n    \tat org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:208)\r\n    \tat org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:470)\r\n    \tat org.eclipse.jetty.client.HttpReceiver.abort(HttpReceiver.java:552)\r\n    \tat org.eclipse.jetty.client.HttpChannel.abortResponse(HttpChannel.java:156)\r\n    \tat org.eclipse.jetty.client.HttpSender.terminateRequest(HttpSender.java:381)\r\n    \tat org.eclipse.jetty.client.HttpSender.abort(HttpSender.java:566)\r\n    \tat org.eclipse.jetty.client.HttpSender.anyToFailure(HttpSender.java:350)\r\n    \tat org.eclipse.jetty.client.HttpSender$CommitCallback.failed(HttpSender.java:717)\r\n    \tat org.eclipse.jetty.client.http.HttpSenderOverHTTP$HeadersCallback.failed(HttpSenderOverHTTP.java:310)\r\n    \tat org.eclipse.jetty.io.WriteFlusher$PendingState.fail(WriteFlusher.java:263)\r\n    \tat org.eclipse.jetty.io.WriteFlusher.onFail(WriteFlusher.java:516)\r\n    \tat org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint$FailWrite.run(SslConnection.java:1251)\r\n    \tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:762)\r\n    \tat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:680)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\n  [1]: http://www.eclipse.org/jetty/documentation/current/jetty-websocket-client-api.html\r\n","title":"Connect to websocket with self-signed certificate in java","body":"<p>I need to use Java to connect to a WebSocket server that is using a self-signed certificate. I'm trying to use the Jetty library and am pretty new at Java but I am finding it very difficult to figure out what needs to be done. I can connect using NodeJS very simply:</p>\n\n<pre><code>const WebSocket = require('ws');\nconst ws = new WebSocket('wss://192.168.100.220:9000/', ['ws-valence'], {\n  rejectUnauthorized: false,\n});\n</code></pre>\n\n<p>However, modifying the example I found on the <a href=\"http://www.eclipse.org/jetty/documentation/current/jetty-websocket-client-api.html\" rel=\"nofollow noreferrer\">Jetty docs</a> doesn't get me very far. </p>\n\n<p>I implemented a basic client that works well with an echo test server, like in the example linked above. Then I went on to configure it with my own protocol and IP Address:</p>\n\n<pre><code>  private static void connectToBasestation() {\n\n//    String destUri = \"ws://echo.websocket.org\";\n    String basestationUri = \"wss://192.168.100.220:9000/\";\n    SslContextFactory ssl = new SslContextFactory(); // ssl config\n    ssl.setTrustAll(true); // trust all certificates\n    WebSocketClient client = new WebSocketClient(ssl); // give ssl config to client\n    BasestationSocket socket = new BasestationSocket();\n    ArrayList&lt;String&gt; protocols = new ArrayList&lt;String&gt;();\n    protocols.add(\"ws-valence\");\n\n    try\n    {\n        client.start();\n        URI bsUri = new URI(basestationUri);\n        ClientUpgradeRequest request = new ClientUpgradeRequest();\n        request.setSubProtocols(protocols);\n        client.connect(socket, bsUri, request);\n        System.out.printf(\"Connecting to : %s%n\", bsUri);\n\n        // wait for closed socket connection.\n        socket.awaitClose(5,TimeUnit.SECONDS);\n    }\n    catch (Throwable t)\n    {\n        t.printStackTrace();\n    }\n    finally\n    {\n        try\n        {\n            client.stop();\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n\n        }\n    }\n  }\n</code></pre>\n\n<p>However, I'm getting an <code>UpgradeException</code> with <code>0 null</code> as the values and my <code>onConnect</code> method is never getting called. I'm guessing this is a security issue, but I can't be certain since the server is an old machine -- a bit of a black box. But I'm thinking maybe something is wrong with my approach? Can anyone lend any advice here?</p>\n\n<p>Edit 1: Included trustful SSL factory as suggested. It did not change anything, including the stack trace from below.</p>\n\n<p>Edit 3: There is a similar question listed above, but this is different since 1) I'm getting a different error code and 2) Adding a trustful SSL factory does not solve the issue.</p>\n\n<p>Edit 2: Here is the stack trace I am getting from my OnError below:</p>\n\n<pre><code>Caused by: javax.net.ssl.SSLException: Received fatal alert: handshake_failure\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:208)\n    at sun.security.ssl.SSLEngineImpl.fatal(SSLEngineImpl.java:1666)\n    at sun.security.ssl.SSLEngineImpl.fatal(SSLEngineImpl.java:1634)\n    at sun.security.ssl.SSLEngineImpl.recvAlert(SSLEngineImpl.java:1800)\n    at sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:1083)\n    at sun.security.ssl.SSLEngineImpl.readNetRecord(SSLEngineImpl.java:907)\n    at sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:781)\n    at javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:624)\n    at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.fill(SslConnection.java:681)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:128)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:73)\n    at org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:133)\n    at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:155)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:281)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\n    at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:291)\n    at org.eclipse.jetty.io.ssl.SslConnection$3.succeeded(SslConnection.java:151)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\n    at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)\n    ... 3 more\norg.eclipse.jetty.websocket.api.UpgradeException: 0 null\n    at org.eclipse.jetty.websocket.client.WebSocketUpgradeRequest.onComplete(WebSocketUpgradeRequest.java:522)\n    at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:216)\n    at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:208)\n    at org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:470)\n    at org.eclipse.jetty.client.HttpReceiver.abort(HttpReceiver.java:552)\n    at org.eclipse.jetty.client.HttpChannel.abortResponse(HttpChannel.java:156)\n    at org.eclipse.jetty.client.HttpSender.terminateRequest(HttpSender.java:381)\n    at org.eclipse.jetty.client.HttpSender.abort(HttpSender.java:566)\n    at org.eclipse.jetty.client.HttpSender.anyToFailure(HttpSender.java:350)\n    at org.eclipse.jetty.client.HttpSender$CommitCallback.failed(HttpSender.java:717)\n    at org.eclipse.jetty.client.http.HttpSenderOverHTTP$HeadersCallback.failed(HttpSenderOverHTTP.java:310)\n    at org.eclipse.jetty.io.WriteFlusher$PendingState.fail(WriteFlusher.java:263)\n    at org.eclipse.jetty.io.WriteFlusher.onFail(WriteFlusher.java:516)\n    at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint$FailWrite.run(SslConnection.java:1251)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:762)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:680)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","vaadin"],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700811153,"creation_date":1700770383,"answer_id":77539418,"question_id":77538473,"body_markdown":"Using `grid.setAllRowsVisible(true)` will disable lazy loading feature, that exactly the point of this API. It is also stated in the documentation. If you indeed need lazy loading and especially callback fetches, you should not use it.\r\n\r\n    /**\r\n     * If &lt;code&gt;true&lt;/code&gt;, the grid&#39;s height is defined by its rows. All items\r\n     * are fetched from the {@link DataProvider}, and the Grid shows no vertical\r\n     * scroll bar.\r\n     * &lt;p&gt;\r\n     * Note: &lt;code&gt;setAllRowsVisible&lt;/code&gt; disables the grid&#39;s virtual\r\n     * scrolling so that all the rows are rendered in the DOM at once. If the\r\n     * grid has a large number of items, using the feature is discouraged to\r\n     * avoid performance issues.\r\n     *\r\n     * @param allRowsVisible\r\n     *            &lt;code&gt;true&lt;/code&gt; to make Grid compute its height by the\r\n     *            number of rows, &lt;code&gt;false&lt;/code&gt; for the default behavior\r\n     */\r\n    public void setAllRowsVisible(boolean allRowsVisible)","title":"Vaading setAllRowsVisible, lazy loading grid","body":"<p>Using <code>grid.setAllRowsVisible(true)</code> will disable lazy loading feature, that exactly the point of this API. It is also stated in the documentation. If you indeed need lazy loading and especially callback fetches, you should not use it.</p>\n<pre><code>/**\n * If &lt;code&gt;true&lt;/code&gt;, the grid's height is defined by its rows. All items\n * are fetched from the {@link DataProvider}, and the Grid shows no vertical\n * scroll bar.\n * &lt;p&gt;\n * Note: &lt;code&gt;setAllRowsVisible&lt;/code&gt; disables the grid's virtual\n * scrolling so that all the rows are rendered in the DOM at once. If the\n * grid has a large number of items, using the feature is discouraged to\n * avoid performance issues.\n *\n * @param allRowsVisible\n *            &lt;code&gt;true&lt;/code&gt; to make Grid compute its height by the\n *            number of rows, &lt;code&gt;false&lt;/code&gt; for the default behavior\n */\npublic void setAllRowsVisible(boolean allRowsVisible)\n</code></pre>\n"}],"owner":{"account_id":29976848,"reputation":1,"user_id":22972850,"display_name":"impi1111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700811153,"creation_date":1700757583,"question_id":77538473,"body_markdown":"Im using Vaadin 24. \r\nCurrently I have grid which is using CallbackDataProvider to lazy load the data from database, but problem is that I want this grid on whole page not just as a seperate table, so I used grid.setAllRowsVisible(true) to put it directly on the page with all rows, and until I used lazy loading everything worked fine, but now I implemented mentioned above CallbackDataProvider, and seems like grid.setAllRowsVisible is taking amount of rows from CountCallback&lt;T, F&gt; countCallback and base on that is creating one big Grid instead of lazy generating it.\r\n\r\nIs there a way to say to grid to take data from FetchCallback&lt;T, F&gt; fetchCallback instead? Or maybe there is a different option for handling this.\r\n \r\n\r\nEverything explained above.","title":"Vaading setAllRowsVisible, lazy loading grid","body":"<p>Im using Vaadin 24.\nCurrently I have grid which is using CallbackDataProvider to lazy load the data from database, but problem is that I want this grid on whole page not just as a seperate table, so I used grid.setAllRowsVisible(true) to put it directly on the page with all rows, and until I used lazy loading everything worked fine, but now I implemented mentioned above CallbackDataProvider, and seems like grid.setAllRowsVisible is taking amount of rows from CountCallback&lt;T, F&gt; countCallback and base on that is creating one big Grid instead of lazy generating it.</p>\n<p>Is there a way to say to grid to take data from FetchCallback&lt;T, F&gt; fetchCallback instead? Or maybe there is a different option for handling this.</p>\n<p>Everything explained above.</p>\n"},{"tags":["java","spring","properties"],"comments":[{"owner":{"account_id":3661889,"reputation":5731,"user_id":3098087,"display_name":"Umesh Singh Kushwaha"},"score":0,"creation_date":1700816888,"post_id":77541345,"comment_id":136702036,"body_markdown":"Go through this link https://docs.spring.io/spring-boot/docs/1.1.7.RELEASE/reference/html/boot-features-external-config.html","body":"Go through this link <a href=\"https://docs.spring.io/spring-boot/docs/1.1.7.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/1.1.7.RELEASE/reference/html&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":3661889,"reputation":5731,"user_id":3098087,"display_name":"Umesh Singh Kushwaha"},"score":0,"creation_date":1700818249,"post_id":77541345,"comment_id":136702271,"body_markdown":"Remove hardcoded value from property source. Use application-erp.properties as file name. Provide the profile name in command line. For example - java -jar myproject.jar -Dspring.profiles.active=erp --spring.config.additional-location=/absoulte/path/","body":"Remove hardcoded value from property source. Use application-erp.properties as file name. Provide the profile name in command line. For example - java -jar myproject.jar -Dspring.profiles.active=erp --spring.config.additional-location=/absoulte/path/"}],"owner":{"account_id":12616725,"reputation":1228,"user_id":9614332,"display_name":"Stefano Bossi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700810655,"creation_date":1700810655,"question_id":77541345,"body_markdown":"I am confused about the possibility of using different configuration parameters for devel and for production.\r\nLet&#39;s make an example, I have a file with a lot of properties for devel and I use it in a Spring configuration bean like this:\r\n\r\n```java\r\n@Configuration\r\n@EnableTransactionManagement\r\n@PropertySource({&quot;classpath:persistance-erp.properties&quot;})\r\n@EnableJpaRepositories(basePackages = &quot;it.fox.dafne.db.erp.dao&quot;, \r\n                       entityManagerFactoryRef = &quot;erpEntityManager&quot;, \r\n                       transactionManagerRef = &quot;erpTransactionManager&quot;)\r\npublic class PersistenceErpConfiguration {\r\n\r\n// lot of code\r\n\r\n}\r\n```\r\n\r\nthe file `persistance-erp.properties` is in the resources directory in my IDE. When I package the code for production and I install the App in the server I would like to instantiate the same bean but with a file from `/etc/myApp/persistance-erp.properties` and not use any more the one in the classpath.\r\n\r\nWhich is the proper way to have a bean that in devel use the file in the resource directory and on production use the one in `/etc` ?\r\n\r\nI have tried to add\r\n\r\n```\r\n@PropertySource(value = &quot;file:/etc/dafne/persistance-erp.properties&quot;, ignoreResourceNotFound = true)\r\n```\r\n\r\nbut the property are summed up, I would like to use one file OR the other not to sum up the properties.\r\n\r\nThanks,\r\nS.","title":"Spring @PropertySource for devel and for production","body":"<p>I am confused about the possibility of using different configuration parameters for devel and for production.\nLet's make an example, I have a file with a lot of properties for devel and I use it in a Spring configuration bean like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableTransactionManagement\n@PropertySource({&quot;classpath:persistance-erp.properties&quot;})\n@EnableJpaRepositories(basePackages = &quot;it.fox.dafne.db.erp.dao&quot;, \n                       entityManagerFactoryRef = &quot;erpEntityManager&quot;, \n                       transactionManagerRef = &quot;erpTransactionManager&quot;)\npublic class PersistenceErpConfiguration {\n\n// lot of code\n\n}\n</code></pre>\n<p>the file <code>persistance-erp.properties</code> is in the resources directory in my IDE. When I package the code for production and I install the App in the server I would like to instantiate the same bean but with a file from <code>/etc/myApp/persistance-erp.properties</code> and not use any more the one in the classpath.</p>\n<p>Which is the proper way to have a bean that in devel use the file in the resource directory and on production use the one in <code>/etc</code> ?</p>\n<p>I have tried to add</p>\n<pre><code>@PropertySource(value = &quot;file:/etc/dafne/persistance-erp.properties&quot;, ignoreResourceNotFound = true)\n</code></pre>\n<p>but the property are summed up, I would like to use one file OR the other not to sum up the properties.</p>\n<p>Thanks,\nS.</p>\n"},{"tags":["python","java","python-3.x","pdfbox"],"comments":[{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":0,"creation_date":1700808055,"post_id":77541121,"comment_id":136700736,"body_markdown":"Welcome to Stack Overflow.  Have you tried updating to 2.0.29 for pdfbox-app.jar?","body":"Welcome to Stack Overflow.  Have you tried updating to 2.0.29 for pdfbox-app.jar?"},{"owner":{"account_id":15379316,"reputation":1,"user_id":11095160,"display_name":"Abhisek Khuntia"},"score":0,"creation_date":1700808211,"post_id":77541121,"comment_id":136700748,"body_markdown":"I tried with pdfbox-app-2.0.21.jar, pdfbox-app-2.0.28.jar and pdfbox-app-3.0.0.jar but no luck.","body":"I tried with pdfbox-app-2.0.21.jar, pdfbox-app-2.0.28.jar and pdfbox-app-3.0.0.jar but no luck."},{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":0,"creation_date":1700808811,"post_id":77541121,"comment_id":136700796,"body_markdown":"What about a different jdk version?","body":"What about a different jdk version?"},{"owner":{"account_id":15379316,"reputation":1,"user_id":11095160,"display_name":"Abhisek Khuntia"},"score":0,"creation_date":1700811271,"post_id":77541121,"comment_id":136701137,"body_markdown":"I tried jdk-17.0.5 and jre1.8.0_321 but no luck. Are you suggesting any version?","body":"I tried jdk-17.0.5 and jre1.8.0_321 but no luck. Are you suggesting any version?"},{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":0,"creation_date":1700811989,"post_id":77541121,"comment_id":136701256,"body_markdown":"Unfortunately, that&#39;s the limit of my understanding of the problem.  Perhaps filing an issue with pdfbox&#39;s github page?","body":"Unfortunately, that&#39;s the limit of my understanding of the problem.  Perhaps filing an issue with pdfbox&#39;s github page?"}],"owner":{"account_id":15379316,"reputation":1,"user_id":11095160,"display_name":"Abhisek Khuntia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700810335,"creation_date":1700807393,"question_id":77541121,"body_markdown":"I used Pip to install `pdfbox`. When I try to `import` it at the REPL, it quits the interpreter:\r\n\r\n```\r\nPS D:\\AssetExtraction&gt; python\r\nPython 3.8.5 (tags/v3.8.5:580fbb0, Jul 20 2020, 15:57:54) [MSC v.1924 64 bit (AMD64)] on win32\r\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\r\n&gt;&gt;&gt; import pdfbox\r\n&gt;&gt;&gt; p = pdfbox.PDFBox()\r\nPS D:\\AssetExtraction&gt;\r\n```\r\nThe relevant environment variables look OK:\r\n```\r\nJAVA_HOME    D:\\Python_385\\jre\\jdk-17.0.5\r\nPDFBOX       D:\\Python_385\\pdfbox\\pdfbox-app-2.0.21.jar\r\n```\r\nI have PDFBox working on other systems with the same setup but can&#39;t get it to work on this machine.","title":"Initializing python package pdfbox throws me out of python","body":"<p>I used Pip to install <code>pdfbox</code>. When I try to <code>import</code> it at the REPL, it quits the interpreter:</p>\n<pre><code>PS D:\\AssetExtraction&gt; python\nPython 3.8.5 (tags/v3.8.5:580fbb0, Jul 20 2020, 15:57:54) [MSC v.1924 64 bit (AMD64)] on win32\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\n&gt;&gt;&gt; import pdfbox\n&gt;&gt;&gt; p = pdfbox.PDFBox()\nPS D:\\AssetExtraction&gt;\n</code></pre>\n<p>The relevant environment variables look OK:</p>\n<pre><code>JAVA_HOME    D:\\Python_385\\jre\\jdk-17.0.5\nPDFBOX       D:\\Python_385\\pdfbox\\pdfbox-app-2.0.21.jar\n</code></pre>\n<p>I have PDFBox working on other systems with the same setup but can't get it to work on this machine.</p>\n"},{"tags":["java","spring-boot","caching","service"],"answers":[{"tags":[],"owner":{"account_id":26632317,"reputation":61,"user_id":20249327,"display_name":"soonhankwon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700809477,"creation_date":1700807392,"answer_id":77541120,"question_id":77539823,"body_markdown":"I&#39;m not sure because I haven&#39;t seen the entire code, but I think it&#39;s because the first caching is always null, but this value isn&#39;t updated properly.\r\n\r\nFirst, since the return value from loadCachedCustomerDailyData() is null, it will always return the cached null value.\r\nTherefore, dailyCustomerLoadInfo in the processLoad method will perform logic with a null value.\r\n\r\nI don&#39;t know what processLoad&#39;s isValidLoad() and assignCustomerLoad() do, but I predict that the logic is not working as expected because the first caching is always null.\r\n\r\nTry logging for each condition and debug methods that are executed with null values. Hope this helps!\r\n\r\nI have commented the code below.\r\n```java\r\n@Service\r\npublic class UpdateCacheService {\r\n\r\n    @Cacheable(value = DAILY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\r\n    public DailyLoadInfo loadCachedCustomerDailyData(Load load) {\r\n\t\t// null value caching!\r\n        return null;\r\n    }\r\n\r\n    @Cacheable(value = WEEKLY_LOADS_CACHE, key = &quot;#load.customer_id&quot;)\r\n    public BigDecimal loadCachedCustomerWeeklyTotal(Load load) {\r\n        return new BigDecimal(0);\r\n    }\r\n\r\n    @CachePut(value = DAILY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\r\n    public DailyLoadInfo insertRecordIntoCache(DailyLoadInfo dailyCustomerLoadInfo) {\r\n\r\n        return dailyCustomerLoadInfo;\r\n    }\r\n\r\n    @CachePut(value = WEEKLY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\r\n    public BigDecimal updateWeeklyCache(BigDecimal total) {\r\n        return total;\r\n    }\r\n\r\n    @CacheEvict(value = &quot;#cacheName&quot;, allEntries = true)\r\n    public void clearCache(String cacheName) {\r\n    }\r\n}\r\n```\r\n```java\r\npublic Boolean processLoad(Load load) {\r\n        if (this.lastSeenDate != null) {\r\n            syncCacheCalendar(this.lastSeenDate, load.getTransactionDate());\r\n        }\r\n\r\n        //Read value in from cache if available\r\n\t\t//First, cached null values!\r\n        DailyLoadInfo dailyCustomerLoadInfo = this.updateCacheService.loadCachedCustomerDailyData(load);\r\n        BigDecimal weeklyLoadAmount = this.updateCacheService.loadCachedCustomerWeeklyTotal(load);\r\n        //It will always go into the dailyCustomerLoadInfo == null conditional branch below.\r\n        Boolean isValidInput = this.validateLoadService.isValidLoad(load, dailyCustomerLoadInfo, weeklyLoadAmount);\r\n        if (isValidInput == null) {\r\n            return null; // Duplicate load_id for unique user\r\n        } else if (!isValidInput) {\r\n            return false;\r\n        }\r\n\r\n        //TODO: Write to DB Service\r\n\t\t//It will always go into the null conditional branch below.\r\n        if (dailyCustomerLoadInfo == null) {\r\n\t\t\t// I don&#39;t know assignCustomerLoad method...\r\n            dailyCustomerLoadInfo = assignCustomerLoad(load);\r\n        } else {\r\n            adjustDailyCustomerLoad(load, dailyCustomerLoadInfo);\r\n        }\r\n\r\n        boolean isDatabaseSuccess = true;\r\n\t\t\t\t\r\n\t\t// The null update is interesting for caching updates under the conditions below..\r\n        if (isDatabaseSuccess) {\r\n            this.lastSeenDate = this.updateCacheService.insertRecordIntoCache(dailyCustomerLoadInfo).getTransactionDate();\r\n            this.updateCacheService.updateWeeklyCache(load.getLoadAmount().add(weeklyLoadAmount));\r\n        }\r\n        return true;\r\n    }\r\n```","title":"Facing issues with Spring Boot&#39;s @Cacheable and @CachePut - cache is always empty","body":"<p>I'm not sure because I haven't seen the entire code, but I think it's because the first caching is always null, but this value isn't updated properly.</p>\n<p>First, since the return value from loadCachedCustomerDailyData() is null, it will always return the cached null value.\nTherefore, dailyCustomerLoadInfo in the processLoad method will perform logic with a null value.</p>\n<p>I don't know what processLoad's isValidLoad() and assignCustomerLoad() do, but I predict that the logic is not working as expected because the first caching is always null.</p>\n<p>Try logging for each condition and debug methods that are executed with null values. Hope this helps!</p>\n<p>I have commented the code below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UpdateCacheService {\n\n    @Cacheable(value = DAILY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\n    public DailyLoadInfo loadCachedCustomerDailyData(Load load) {\n        // null value caching!\n        return null;\n    }\n\n    @Cacheable(value = WEEKLY_LOADS_CACHE, key = &quot;#load.customer_id&quot;)\n    public BigDecimal loadCachedCustomerWeeklyTotal(Load load) {\n        return new BigDecimal(0);\n    }\n\n    @CachePut(value = DAILY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\n    public DailyLoadInfo insertRecordIntoCache(DailyLoadInfo dailyCustomerLoadInfo) {\n\n        return dailyCustomerLoadInfo;\n    }\n\n    @CachePut(value = WEEKLY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\n    public BigDecimal updateWeeklyCache(BigDecimal total) {\n        return total;\n    }\n\n    @CacheEvict(value = &quot;#cacheName&quot;, allEntries = true)\n    public void clearCache(String cacheName) {\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public Boolean processLoad(Load load) {\n        if (this.lastSeenDate != null) {\n            syncCacheCalendar(this.lastSeenDate, load.getTransactionDate());\n        }\n\n        //Read value in from cache if available\n        //First, cached null values!\n        DailyLoadInfo dailyCustomerLoadInfo = this.updateCacheService.loadCachedCustomerDailyData(load);\n        BigDecimal weeklyLoadAmount = this.updateCacheService.loadCachedCustomerWeeklyTotal(load);\n        //It will always go into the dailyCustomerLoadInfo == null conditional branch below.\n        Boolean isValidInput = this.validateLoadService.isValidLoad(load, dailyCustomerLoadInfo, weeklyLoadAmount);\n        if (isValidInput == null) {\n            return null; // Duplicate load_id for unique user\n        } else if (!isValidInput) {\n            return false;\n        }\n\n        //TODO: Write to DB Service\n        //It will always go into the null conditional branch below.\n        if (dailyCustomerLoadInfo == null) {\n            // I don't know assignCustomerLoad method...\n            dailyCustomerLoadInfo = assignCustomerLoad(load);\n        } else {\n            adjustDailyCustomerLoad(load, dailyCustomerLoadInfo);\n        }\n\n        boolean isDatabaseSuccess = true;\n                \n        // The null update is interesting for caching updates under the conditions below..\n        if (isDatabaseSuccess) {\n            this.lastSeenDate = this.updateCacheService.insertRecordIntoCache(dailyCustomerLoadInfo).getTransactionDate();\n            this.updateCacheService.updateWeeklyCache(load.getLoadAmount().add(weeklyLoadAmount));\n        }\n        return true;\n    }\n</code></pre>\n"}],"owner":{"account_id":17830573,"reputation":21,"user_id":12950680,"display_name":"Brandon Yip"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700809477,"creation_date":1700777149,"question_id":77539823,"body_markdown":"I&#39;m trying to build a simple Java SB application that reads a text file with lines of data such as:\r\n\r\n```{&quot;id&quot;:&quot;15887&quot;,&quot;customer_id&quot;:&quot;528&quot;,&quot;load_amount&quot;:&quot;$3318.47&quot;,&quot;time&quot;:&quot;2000-01-01T00:00:00Z&quot;}```\r\n\r\nI am struggling to understand why my cache continues to be empty even though I explicitly call methods within my UpdateCacheService (annotated with either @Cacheable or @Cacheput). I have abstracted methods that interacting with the Cache into the UpdateCacheService, although I&#39;m unsure as to whether my various annotations and general setup are correct.\r\n\r\nI tried creating a service named UpdateCacheService that contains various methods annotated with @Cacheable and @Cacheput. To my understanding, @Cacheable will check the cache for any corresponding values based on the provided key, and if something&#39;s found then the function thereafter won&#39;t be invoked. @Cacheput is quite the contrary in which the function is invoked, and the return value of the function will be stored as a value to the provided key as a key:value pair in the cache. I&#39;ve created a service to house all of my various cache operations:\r\n\r\n```\r\npackage com.example.fundloader.service;\r\n\r\nimport com.example.fundloader.model.DailyLoadInfo;\r\nimport com.example.fundloader.model.Load;\r\nimport org.springframework.cache.annotation.CacheEvict;\r\nimport org.springframework.cache.annotation.CachePut;\r\nimport org.springframework.cache.annotation.Cacheable;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.math.BigDecimal;\r\n\r\nimport static com.example.fundloader.constants.ApplicationConstants.DAILY_LOADS_CACHE;\r\nimport static com.example.fundloader.constants.ApplicationConstants.WEEKLY_LOADS_CACHE;\r\n\r\n@Service\r\npublic class UpdateCacheService {\r\n    @Cacheable(value = DAILY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\r\n    public DailyLoadInfo loadCachedCustomerDailyData(Load load) {\r\n        return null;\r\n    }\r\n\r\n    @Cacheable(value = WEEKLY_LOADS_CACHE, key = &quot;#load.customer_id&quot;)\r\n    public BigDecimal loadCachedCustomerWeeklyTotal(Load load) {\r\n        return new BigDecimal(0);\r\n    }\r\n\r\n    @CachePut(value = DAILY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\r\n    public DailyLoadInfo insertRecordIntoCache(DailyLoadInfo dailyCustomerLoadInfo) {\r\n\r\n        return dailyCustomerLoadInfo;\r\n    }\r\n\r\n    @CachePut(value = WEEKLY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\r\n    public BigDecimal updateWeeklyCache(BigDecimal total) {\r\n        return total;\r\n    }\r\n\r\n    @CacheEvict(value = &quot;#cacheName&quot;, allEntries = true)\r\n    public void clearCache(String cacheName) {\r\n    }\r\n}\r\n```\r\n\r\nAlong with another Service thats sole purpose is to accept lines of input from the text file that I&#39;m reading off from and invoke both the UpdateCacheService and another ValidateLoadService, which essentially just checks the current input against certain constraints that I&#39;ve imposed on myself (i.e if a given *customer_id* has made more than 3 deposits in a single day, deny them, or if they&#39;ve deposited \\&gt;$5,000/day).\r\n\r\nCacheManagementService.java\r\n\r\n```\r\nimport static com.example.fundloader.constants.ApplicationConstants.DAILY_LOADS_CACHE;\r\nimport static com.example.fundloader.constants.ApplicationConstants.WEEKLY_LOADS_CACHE;\r\n\r\n@Service\r\npublic class CacheManagementService {\r\n    private final CacheManager cacheManager;\r\n    private final UpdateCacheService updateCacheService;\r\n    private final ValidateLoadService validateLoadService;\r\n    private Instant lastSeenDate;\r\n\r\n    @Autowired\r\n    public CacheManagementService(CacheManager cacheManager, UpdateCacheService updateCacheService, ValidateLoadService validateLoadService) {\r\n        this.cacheManager = cacheManager;\r\n        this.updateCacheService = updateCacheService;\r\n        this.validateLoadService = validateLoadService;\r\n    }\r\n\r\n\r\n    public Boolean processLoad(Load load) {\r\n        if (this.lastSeenDate != null) {\r\n            syncCacheCalendar(this.lastSeenDate, load.getTransactionDate());\r\n        }\r\n\r\n        //Read value in from cache if available\r\n        DailyLoadInfo dailyCustomerLoadInfo = this.updateCacheService.loadCachedCustomerDailyData(load);\r\n        BigDecimal weeklyLoadAmount = this.updateCacheService.loadCachedCustomerWeeklyTotal(load);\r\n\r\n        Boolean isValidInput = this.validateLoadService.isValidLoad(load, dailyCustomerLoadInfo, weeklyLoadAmount);\r\n        if (isValidInput == null) {\r\n            return null; // Duplicate load_id for unique user\r\n        } else if (!isValidInput) {\r\n            return false;\r\n        }\r\n\r\n        //TODO: Write to DB Service\r\n\r\n        if (dailyCustomerLoadInfo == null) {\r\n            dailyCustomerLoadInfo = assignCustomerLoad(load);\r\n        } else {\r\n            adjustDailyCustomerLoad(load, dailyCustomerLoadInfo);\r\n        }\r\n\r\n        boolean isDatabaseSuccess = true;\r\n\r\n        if (isDatabaseSuccess) {\r\n            this.lastSeenDate = this.updateCacheService.insertRecordIntoCache(dailyCustomerLoadInfo).getTransactionDate();\r\n            this.updateCacheService.updateWeeklyCache(load.getLoadAmount().add(weeklyLoadAmount));\r\n        }\r\n        return true;\r\n    }\r\n```\r\n\r\nWithin my processLoad() function in CacheManagementService.java, I invoke\r\n\r\n```DailyLoadInfo dailyCustomerLoadInfo = this.updateCacheService.loadCachdCustomerDailyData(load);```\r\n\r\nand my expectation was that on the first hit, it would be a cache miss since the cache is empty. Given that my text file contains a fair amount of duplicates with respect to *customer_id*&#39;s, I know there are cases where I provide a key:value pair where the key has been seen before. With that being said, I don&#39;t know why my cache continues to be empty even after processing \\&gt;1000 lines of my text file. I&#39;ve tried accessing the cache directly by doing ```cacheManager.get(&lt;cacheName&gt;).get(&lt;key&gt;)```, all to no avail (all return null). I can only assume that I&#39;ve either set my dependency injections up incorrectly, or that I&#39;ve missed and/or missed certain annotations such as @EnableCaching in vital places.\r\n\r\nMain.java\r\n\r\n```\r\npackage com.example.fundloader;\r\n\r\nimport com.example.fundloader.utils.FileIO;\r\nimport com.example.fundloader.model.Load;\r\nimport jakarta.annotation.PostConstruct;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\n\r\n@EnableCaching\r\n@SpringBootApplication\r\npublic class FundLoaderApplication {\r\n\r\n    private final FileIO&lt;Load&gt; loadsFileProcessor;\r\n\r\n    @Autowired\r\n    public FundLoaderApplication(FileIO&lt;Load&gt; loadsFileProcessor) {\r\n        this.loadsFileProcessor = loadsFileProcessor;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(FundLoaderApplication.class, args);\r\n    }\r\n\r\n    @PostConstruct\r\n    public void processFiles() {\r\n        loadsFileProcessor.processFile(&quot;src/main/resources/&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nCacheConfig.java\r\n```\r\npackage com.example.fundloader.config;\r\n\r\nimport org.springframework.cache.CacheManager;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.cache.concurrent.ConcurrentMapCacheManager;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport static com.example.fundloader.constants.ApplicationConstants.DAILY_LOADS_CACHE;\r\nimport static com.example.fundloader.constants.ApplicationConstants.WEEKLY_LOADS_CACHE;\r\n\r\n@Configuration\r\n@EnableCaching\r\npublic class LoadCacheConfig {\r\n\r\n    @Bean\r\n    public CacheManager cacheManager() {\r\n        return new ConcurrentMapCacheManager(DAILY_LOADS_CACHE, WEEKLY_LOADS_CACHE);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;d greatly appreciate any help, I&#39;ve been stuck for a few days now and I&#39;m unsure on how to tackle this issue.","title":"Facing issues with Spring Boot&#39;s @Cacheable and @CachePut - cache is always empty","body":"<p>I'm trying to build a simple Java SB application that reads a text file with lines of data such as:</p>\n<p><code>{&quot;id&quot;:&quot;15887&quot;,&quot;customer_id&quot;:&quot;528&quot;,&quot;load_amount&quot;:&quot;$3318.47&quot;,&quot;time&quot;:&quot;2000-01-01T00:00:00Z&quot;}</code></p>\n<p>I am struggling to understand why my cache continues to be empty even though I explicitly call methods within my UpdateCacheService (annotated with either @Cacheable or @Cacheput). I have abstracted methods that interacting with the Cache into the UpdateCacheService, although I'm unsure as to whether my various annotations and general setup are correct.</p>\n<p>I tried creating a service named UpdateCacheService that contains various methods annotated with @Cacheable and @Cacheput. To my understanding, @Cacheable will check the cache for any corresponding values based on the provided key, and if something's found then the function thereafter won't be invoked. @Cacheput is quite the contrary in which the function is invoked, and the return value of the function will be stored as a value to the provided key as a key:value pair in the cache. I've created a service to house all of my various cache operations:</p>\n<pre><code>package com.example.fundloader.service;\n\nimport com.example.fundloader.model.DailyLoadInfo;\nimport com.example.fundloader.model.Load;\nimport org.springframework.cache.annotation.CacheEvict;\nimport org.springframework.cache.annotation.CachePut;\nimport org.springframework.cache.annotation.Cacheable;\nimport org.springframework.stereotype.Service;\n\nimport java.math.BigDecimal;\n\nimport static com.example.fundloader.constants.ApplicationConstants.DAILY_LOADS_CACHE;\nimport static com.example.fundloader.constants.ApplicationConstants.WEEKLY_LOADS_CACHE;\n\n@Service\npublic class UpdateCacheService {\n    @Cacheable(value = DAILY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\n    public DailyLoadInfo loadCachedCustomerDailyData(Load load) {\n        return null;\n    }\n\n    @Cacheable(value = WEEKLY_LOADS_CACHE, key = &quot;#load.customer_id&quot;)\n    public BigDecimal loadCachedCustomerWeeklyTotal(Load load) {\n        return new BigDecimal(0);\n    }\n\n    @CachePut(value = DAILY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\n    public DailyLoadInfo insertRecordIntoCache(DailyLoadInfo dailyCustomerLoadInfo) {\n\n        return dailyCustomerLoadInfo;\n    }\n\n    @CachePut(value = WEEKLY_LOADS_CACHE, key = &quot;#load.customerId&quot;)\n    public BigDecimal updateWeeklyCache(BigDecimal total) {\n        return total;\n    }\n\n    @CacheEvict(value = &quot;#cacheName&quot;, allEntries = true)\n    public void clearCache(String cacheName) {\n    }\n}\n</code></pre>\n<p>Along with another Service thats sole purpose is to accept lines of input from the text file that I'm reading off from and invoke both the UpdateCacheService and another ValidateLoadService, which essentially just checks the current input against certain constraints that I've imposed on myself (i.e if a given <em>customer_id</em> has made more than 3 deposits in a single day, deny them, or if they've deposited &gt;$5,000/day).</p>\n<p>CacheManagementService.java</p>\n<pre><code>import static com.example.fundloader.constants.ApplicationConstants.DAILY_LOADS_CACHE;\nimport static com.example.fundloader.constants.ApplicationConstants.WEEKLY_LOADS_CACHE;\n\n@Service\npublic class CacheManagementService {\n    private final CacheManager cacheManager;\n    private final UpdateCacheService updateCacheService;\n    private final ValidateLoadService validateLoadService;\n    private Instant lastSeenDate;\n\n    @Autowired\n    public CacheManagementService(CacheManager cacheManager, UpdateCacheService updateCacheService, ValidateLoadService validateLoadService) {\n        this.cacheManager = cacheManager;\n        this.updateCacheService = updateCacheService;\n        this.validateLoadService = validateLoadService;\n    }\n\n\n    public Boolean processLoad(Load load) {\n        if (this.lastSeenDate != null) {\n            syncCacheCalendar(this.lastSeenDate, load.getTransactionDate());\n        }\n\n        //Read value in from cache if available\n        DailyLoadInfo dailyCustomerLoadInfo = this.updateCacheService.loadCachedCustomerDailyData(load);\n        BigDecimal weeklyLoadAmount = this.updateCacheService.loadCachedCustomerWeeklyTotal(load);\n\n        Boolean isValidInput = this.validateLoadService.isValidLoad(load, dailyCustomerLoadInfo, weeklyLoadAmount);\n        if (isValidInput == null) {\n            return null; // Duplicate load_id for unique user\n        } else if (!isValidInput) {\n            return false;\n        }\n\n        //TODO: Write to DB Service\n\n        if (dailyCustomerLoadInfo == null) {\n            dailyCustomerLoadInfo = assignCustomerLoad(load);\n        } else {\n            adjustDailyCustomerLoad(load, dailyCustomerLoadInfo);\n        }\n\n        boolean isDatabaseSuccess = true;\n\n        if (isDatabaseSuccess) {\n            this.lastSeenDate = this.updateCacheService.insertRecordIntoCache(dailyCustomerLoadInfo).getTransactionDate();\n            this.updateCacheService.updateWeeklyCache(load.getLoadAmount().add(weeklyLoadAmount));\n        }\n        return true;\n    }\n</code></pre>\n<p>Within my processLoad() function in CacheManagementService.java, I invoke</p>\n<p><code>DailyLoadInfo dailyCustomerLoadInfo = this.updateCacheService.loadCachdCustomerDailyData(load);</code></p>\n<p>and my expectation was that on the first hit, it would be a cache miss since the cache is empty. Given that my text file contains a fair amount of duplicates with respect to <em>customer_id</em>'s, I know there are cases where I provide a key:value pair where the key has been seen before. With that being said, I don't know why my cache continues to be empty even after processing &gt;1000 lines of my text file. I've tried accessing the cache directly by doing <code>cacheManager.get(&lt;cacheName&gt;).get(&lt;key&gt;)</code>, all to no avail (all return null). I can only assume that I've either set my dependency injections up incorrectly, or that I've missed and/or missed certain annotations such as @EnableCaching in vital places.</p>\n<p>Main.java</p>\n<pre><code>package com.example.fundloader;\n\nimport com.example.fundloader.utils.FileIO;\nimport com.example.fundloader.model.Load;\nimport jakarta.annotation.PostConstruct;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cache.annotation.EnableCaching;\n\n@EnableCaching\n@SpringBootApplication\npublic class FundLoaderApplication {\n\n    private final FileIO&lt;Load&gt; loadsFileProcessor;\n\n    @Autowired\n    public FundLoaderApplication(FileIO&lt;Load&gt; loadsFileProcessor) {\n        this.loadsFileProcessor = loadsFileProcessor;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(FundLoaderApplication.class, args);\n    }\n\n    @PostConstruct\n    public void processFiles() {\n        loadsFileProcessor.processFile(&quot;src/main/resources/&quot;);\n    }\n}\n</code></pre>\n<p>CacheConfig.java</p>\n<pre><code>package com.example.fundloader.config;\n\nimport org.springframework.cache.CacheManager;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.cache.concurrent.ConcurrentMapCacheManager;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport static com.example.fundloader.constants.ApplicationConstants.DAILY_LOADS_CACHE;\nimport static com.example.fundloader.constants.ApplicationConstants.WEEKLY_LOADS_CACHE;\n\n@Configuration\n@EnableCaching\npublic class LoadCacheConfig {\n\n    @Bean\n    public CacheManager cacheManager() {\n        return new ConcurrentMapCacheManager(DAILY_LOADS_CACHE, WEEKLY_LOADS_CACHE);\n    }\n}\n</code></pre>\n<p>I'd greatly appreciate any help, I've been stuck for a few days now and I'm unsure on how to tackle this issue.</p>\n"},{"tags":["java","tomcat","cxf"],"comments":[{"owner":{"account_id":2005127,"reputation":3161,"user_id":1795230,"display_name":"Brian Henry"},"score":2,"creation_date":1352301984,"post_id":13268550,"comment_id":18091619,"body_markdown":"can you be more clear: what are you trying to change?","body":"can you be more clear: what are you trying to change?"}],"answers":[{"comments":[{"owner":{"account_id":1101839,"reputation":59,"user_id":1094084,"accept_rate":22,"display_name":"George Krause"},"score":0,"creation_date":1352287827,"post_id":13268743,"comment_id":18085063,"body_markdown":"I dont have an web.xml i try to hardcode any stuff. I also set loadonstartup on 1 ;-) Here is my EmbeddedTomcat: http://pastebin.com/HAziS0T4","body":"I dont have an web.xml i try to hardcode any stuff. I also set loadonstartup on 1 ;-) Here is my EmbeddedTomcat: <a href=\"http://pastebin.com/HAziS0T4\" rel=\"nofollow noreferrer\">pastebin.com/HAziS0T4</a>"},{"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"score":0,"creation_date":1352485520,"post_id":13268743,"comment_id":18159725,"body_markdown":"so, is it still loading your servlet on access instead of loading on startup?","body":"so, is it still loading your servlet on access instead of loading on startup?"},{"owner":{"account_id":1101839,"reputation":59,"user_id":1094084,"accept_rate":22,"display_name":"George Krause"},"score":0,"creation_date":1353358598,"post_id":13268743,"comment_id":18412766,"body_markdown":"Yes...when i access my servlet, my application will be deployed complete.","body":"Yes...when i access my servlet, my application will be deployed complete."},{"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"score":0,"creation_date":1353361572,"post_id":13268743,"comment_id":18414172,"body_markdown":"Tomcat should load servlets on access only when load-on-startup is negative: http://tomcat.apache.org/tomcat-7.0-doc/api/org/apache/catalina/Wrapper.html#setLoadOnStartup(int)","body":"Tomcat should load servlets on access only when load-on-startup is negative: <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/api/org/apache/catalina/Wrapper.html#setLoadOnStartup(int)\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-7.0-doc/api/org/apache/catalina/&hellip;</a>"}],"tags":[],"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700809371,"creation_date":1352287356,"answer_id":13268743,"question_id":13268550,"body_markdown":"Use `&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;` in web.xml:\r\n\r\n```xml\r\n&lt;servlet&gt;\r\n    &lt;servlet-name&gt;cxf&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;org.apache.cxf.transport.servlet.CXFServlet&lt;/servlet-class&gt;\r\n    &lt;init-param&gt;\r\n        &lt;param-name&gt;config-location&lt;/param-name&gt;\r\n        &lt;param-value&gt;classpath:cxf-context.xml&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n&lt;/servlet&gt;\r\n```","title":"CXF-Servlet initial startup","body":"<p>Use <code>&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;</code> in web.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;cxf&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.apache.cxf.transport.servlet.CXFServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;config-location&lt;/param-name&gt;\n        &lt;param-value&gt;classpath:cxf-context.xml&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre>\n"}],"owner":{"account_id":1101839,"reputation":59,"user_id":1094084,"accept_rate":22,"display_name":"George Krause"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700809371,"creation_date":1352286788,"question_id":13268550,"body_markdown":"I have got a really basic and important question to you: My CXFServlet which is controlled by an EmbeddedTomcat deploys the webservices, when I call the url to my servlet.\r\n\r\nHow can I change that? Are there any solutions?","title":"CXF-Servlet initial startup","body":"<p>I have got a really basic and important question to you: My CXFServlet which is controlled by an EmbeddedTomcat deploys the webservices, when I call the url to my servlet.</p>\n\n<p>How can I change that? Are there any solutions?</p>\n"},{"tags":["java","spring-boot","cucumber","integration-testing","wiremock-standalone"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1700167577,"post_id":77497739,"comment_id":136624723,"body_markdown":"You should focus on the observable effects of the system. Not the internal workings. So in essence very the calls made to the mock server. https://wiremock.org/docs/verifying/","body":"You should focus on the observable effects of the system. Not the internal workings. So in essence very the calls made to the mock server. <a href=\"https://wiremock.org/docs/verifying/\" rel=\"nofollow noreferrer\">wiremock.org/docs/verifying</a>"},{"owner":{"account_id":13822754,"reputation":392,"user_id":9977815,"display_name":"mnagdev"},"score":0,"creation_date":1701257998,"post_id":77497739,"comment_id":136752644,"body_markdown":"I have the same issue, did you find a solution yet?","body":"I have the same issue, did you find a solution yet?"}],"owner":{"account_id":24260049,"reputation":17,"user_id":18209752,"display_name":"sejo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700808566,"creation_date":1700165057,"question_id":77497739,"body_markdown":"How do I write integration test for Spring Boot `@Retryable` in cucumber? I have a service method annotated with `@Retryable. MaxAttempt` is set to 3 and delay is 1. To mock the server, I am going to use wiremock. \r\n\r\nI want to assert that the retry function is working correctly; meaning I want to write test scenario when the certain exception is thrown, the retry will be happened. and if it fails all the time then it will throw exception eventually else if it&#39;s successful during the retrials, then it should assert that the http status code is 200 OK. \r\n\r\nI want to assert that retry is triggered for 3 times as its max attempt is set to 3 and http status code and maybe thrown exception? I&#39;ve thought about some ideas to do this.. First one is to have `RetryableContext` class which have `int retryCount` varible. And each time retry is invoked then increase its value. --&gt; honestly I don&#39;t think it&#39;s good idea.. Second one is to leverage spring AOP..? Not not really sure how to actually achieve it. I mean I am not confident with coding it out with this approach.","title":"How to test Spring Boot @Retryable in cucumber?","body":"<p>How do I write integration test for Spring Boot <code>@Retryable</code> in cucumber? I have a service method annotated with <code>@Retryable. MaxAttempt</code> is set to 3 and delay is 1. To mock the server, I am going to use wiremock.</p>\n<p>I want to assert that the retry function is working correctly; meaning I want to write test scenario when the certain exception is thrown, the retry will be happened. and if it fails all the time then it will throw exception eventually else if it's successful during the retrials, then it should assert that the http status code is 200 OK.</p>\n<p>I want to assert that retry is triggered for 3 times as its max attempt is set to 3 and http status code and maybe thrown exception? I've thought about some ideas to do this.. First one is to have <code>RetryableContext</code> class which have <code>int retryCount</code> varible. And each time retry is invoked then increase its value. --&gt; honestly I don't think it's good idea.. Second one is to leverage spring AOP..? Not not really sure how to actually achieve it. I mean I am not confident with coding it out with this approach.</p>\n"},{"tags":["java","xml","soap","java-8","ssl-certificate"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1700808779,"post_id":77541190,"comment_id":136700792,"body_markdown":"Sounds like a proxy issue","body":"Sounds like a proxy issue"},{"owner":{"account_id":15683420,"reputation":1,"user_id":12445617,"display_name":"Jesus"},"score":0,"creation_date":1700809829,"post_id":77541190,"comment_id":136700923,"body_markdown":"solution for this?","body":"solution for this?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1700818863,"post_id":77541190,"comment_id":136702377,"body_markdown":"set the correct proxy entries","body":"set the correct proxy entries"},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1700821173,"post_id":77541190,"comment_id":136702789,"body_markdown":"Connection did not complete.  You may have a TLS issue making a connection with HTTPS.  A certificate for TLS may be missing or expired.  The certificate has an encryption mode and old OS may not support the excryption.","body":"Connection did not complete.  You may have a TLS issue making a connection with HTTPS.  A certificate for TLS may be missing or expired.  The certificate has an encryption mode and old OS may not support the excryption."},{"owner":{"account_id":15683420,"reputation":1,"user_id":12445617,"display_name":"Jesus"},"score":0,"creation_date":1700822687,"post_id":77541190,"comment_id":136703018,"body_markdown":"I have two certificates: one public (.cer) and another private (.p12) with its password. How should I use them?","body":"I have two certificates: one public (.cer) and another private (.p12) with its password. How should I use them?"}],"owner":{"account_id":15683420,"reputation":1,"user_id":12445617,"display_name":"Jesus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700808538,"creation_date":1700808538,"question_id":77541190,"body_markdown":"I am trying to call a Soap Webservice from my Java application as follows:\r\n\r\n```\r\n@Override\r\n\tpublic String getLoginServiciosGeneral() throws Exception {\r\n\t\tString idSesion = &quot;&quot;;\r\n\t\ttry{\r\n\t\t\t\t\t\t\r\n\t\t\tLoginServiciosGeneralService service = new LoginServiciosGeneralService();\r\n\t\t\t\r\n\t\t\tLoginServiciosGeneralPortType port = service.getLoginServiciosGeneral();\r\n\t\t\t\r\n\t\t\tidSesion = port.loginServiciosGeneral(&quot;prueba&quot;);\r\n\t\t\tSystem.out.println(&quot;hasta aca&quot;);\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Exception. Problemas en la llamada al servicio loginServiciosGeneral, motivo: &quot; + e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\treturn idSesion;\r\n\t}\r\n\r\n```\r\n\r\nWhere **LoginServiciosGeneralService** is a class of type *@WebServiceCliente* and **LoginServiciosGeneralPortType** is of *@WebService*\r\n\r\nIn *Sessionid = port.loginServiciosGeneral(&quot;prueba&quot;);* the following occurs:\r\n\r\n&gt; [24/11/23 7:41:44:298 CET] 000000c4 SystemErr     R javax.xml.ws.soap.SOAPFaultException: java.net.ConnectException: Connection timed out: no further information\r\n&gt; [24/11/23 7:41:44:299 CET] 000000c4 SystemErr     R \tat org.apache.axis2.jaxws.marshaller.impl.alt.MethodMarshallerUtils.createSystemException(MethodMarshallerUtils.java:1363)\r\n&gt; [24/11/23 7:41:44:299 CET] 000000c4 SystemErr     R \tat org.apache.axis2.jaxws.marshaller.impl.alt.MethodMarshallerUtils.demarshalFaultResponse(MethodMarshallerUtils.java:1089)\r\n&gt; [24/11/23 7:41:44:299 CET] 000000c4 SystemErr     R \tat org.apache.axis2.jaxws.marshaller.impl.alt.DocLitBareMethodMarshaller.demarshalFaultResponse(DocLitBareMethodMarshaller.java:417)\r\n&gt; [24/11/23 7:41:44:299 CET] 000000c4 SystemErr     R \tat org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.getFaultResponse(JAXWSProxyHandler.java:632)\r\n&gt; [24/11/23 7:41:44:300 CET] 000000c4 SystemErr     R \tat org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.createResponse(JAXWSProxyHandler.java:566)\r\n&gt; [24/11/23 7:41:44:300 CET] 000000c4 SystemErr     R \tat org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.invokeSEIMethod(JAXWSProxyHandler.java:432)\r\n&gt; [24/11/23 7:41:44:300 CET] 000000c4 SystemErr     R \tat org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.invoke(JAXWSProxyHandler.java:213)\r\n&gt; [24/11/23 7:41:44:301 CET] 000000c4 SystemErr     R \tat com.sun.proxy.$Proxy138.loginServiciosGeneral(Unknown Source)\r\n&gt; [24/11/23 7:41:44:302 CET] 000000c4 SystemErr     R \tat es.seguridadsocial.palexws.descargarmensajes.LoginServiciosGeneralImpl.getLoginServiciosGeneral(LoginServiciosGeneralImpl.java:25)\r\n\r\n\r\n\r\nIn the Soap tool I access it without problems, but not in Java. The access URL belongs to a Ministry which contains a signed certificate with its two files: a public one with a .cer extension and a private one with a .p12 extension and its password to access.\r\n\r\nI would like to know how to use the certificate in Java to be able to access the URL and have it return data. I would also like to know if the timeout that is returned has to do with Proxy.\r\n\r\nThese are the input parameters in SOAP:\r\n\r\n```\r\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\nxmlns:ent=&quot;https://loginserviciosgeneral.servicio.wslexnet.webservices.lexnet&quot;&gt;\r\n  &lt;soapenv:Header/&gt;\r\n  &lt;soapenv:Body&gt;\r\n      &lt;ent:LoginServiciosGeneralIn&gt;\r\n        prueba\r\n      &lt;/ent:LoginServiciosGeneralIn&gt;\r\n  &lt;/soapenv:Body&gt;\r\n&lt;/soapenv:Envelope&gt;\r\n\r\n```\r\n\r\nI use Java version 8, I&#39;m not allowed to use a higher version.\r\n\r\nIf you need more information, don&#39;t hesitate to ask me.\r\n\r\nThank you very much.\r\n\r\n\r\n\r\nsoap webservice return data","title":"Java-SOAP:java.net.ConnectException: Connection timed out: no further information","body":"<p>I am trying to call a Soap Webservice from my Java application as follows:</p>\n<pre><code>@Override\n    public String getLoginServiciosGeneral() throws Exception {\n        String idSesion = &quot;&quot;;\n        try{\n                        \n            LoginServiciosGeneralService service = new LoginServiciosGeneralService();\n            \n            LoginServiciosGeneralPortType port = service.getLoginServiciosGeneral();\n            \n            idSesion = port.loginServiciosGeneral(&quot;prueba&quot;);\n            System.out.println(&quot;hasta aca&quot;);\n            \n            \n        } catch (Exception e) {\n            System.out.println(&quot;Exception. Problemas en la llamada al servicio loginServiciosGeneral, motivo: &quot; + e.getMessage());\n            e.printStackTrace();\n        }\n        \n    return idSesion;\n    }\n\n</code></pre>\n<p>Where <strong>LoginServiciosGeneralService</strong> is a class of type <em>@WebServiceCliente</em> and <strong>LoginServiciosGeneralPortType</strong> is of <em>@WebService</em></p>\n<p>In <em>Sessionid = port.loginServiciosGeneral(&quot;prueba&quot;);</em> the following occurs:</p>\n<blockquote>\n<p>[24/11/23 7:41:44:298 CET] 000000c4 SystemErr     R javax.xml.ws.soap.SOAPFaultException: java.net.ConnectException: Connection timed out: no further information\n[24/11/23 7:41:44:299 CET] 000000c4 SystemErr     R   at org.apache.axis2.jaxws.marshaller.impl.alt.MethodMarshallerUtils.createSystemException(MethodMarshallerUtils.java:1363)\n[24/11/23 7:41:44:299 CET] 000000c4 SystemErr     R   at org.apache.axis2.jaxws.marshaller.impl.alt.MethodMarshallerUtils.demarshalFaultResponse(MethodMarshallerUtils.java:1089)\n[24/11/23 7:41:44:299 CET] 000000c4 SystemErr     R   at org.apache.axis2.jaxws.marshaller.impl.alt.DocLitBareMethodMarshaller.demarshalFaultResponse(DocLitBareMethodMarshaller.java:417)\n[24/11/23 7:41:44:299 CET] 000000c4 SystemErr     R   at org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.getFaultResponse(JAXWSProxyHandler.java:632)\n[24/11/23 7:41:44:300 CET] 000000c4 SystemErr     R   at org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.createResponse(JAXWSProxyHandler.java:566)\n[24/11/23 7:41:44:300 CET] 000000c4 SystemErr     R   at org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.invokeSEIMethod(JAXWSProxyHandler.java:432)\n[24/11/23 7:41:44:300 CET] 000000c4 SystemErr     R   at org.apache.axis2.jaxws.client.proxy.JAXWSProxyHandler.invoke(JAXWSProxyHandler.java:213)\n[24/11/23 7:41:44:301 CET] 000000c4 SystemErr     R   at com.sun.proxy.$Proxy138.loginServiciosGeneral(Unknown Source)\n[24/11/23 7:41:44:302 CET] 000000c4 SystemErr     R   at es.seguridadsocial.palexws.descargarmensajes.LoginServiciosGeneralImpl.getLoginServiciosGeneral(LoginServiciosGeneralImpl.java:25)</p>\n</blockquote>\n<p>In the Soap tool I access it without problems, but not in Java. The access URL belongs to a Ministry which contains a signed certificate with its two files: a public one with a .cer extension and a private one with a .p12 extension and its password to access.</p>\n<p>I would like to know how to use the certificate in Java to be able to access the URL and have it return data. I would also like to know if the timeout that is returned has to do with Proxy.</p>\n<p>These are the input parameters in SOAP:</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\nxmlns:ent=&quot;https://loginserviciosgeneral.servicio.wslexnet.webservices.lexnet&quot;&gt;\n  &lt;soapenv:Header/&gt;\n  &lt;soapenv:Body&gt;\n      &lt;ent:LoginServiciosGeneralIn&gt;\n        prueba\n      &lt;/ent:LoginServiciosGeneralIn&gt;\n  &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n\n</code></pre>\n<p>I use Java version 8, I'm not allowed to use a higher version.</p>\n<p>If you need more information, don't hesitate to ask me.</p>\n<p>Thank you very much.</p>\n<p>soap webservice return data</p>\n"},{"tags":["java","quarkus","payment-gateway"],"owner":{"account_id":29189198,"reputation":1,"user_id":22361640,"display_name":"swaroop c"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700808530,"creation_date":1700808259,"question_id":77541169,"body_markdown":"```\r\npublic PaymentMethod createPaymentMethod(PaymentMethod paymentMethodCreate)\r\n```\r\n\r\nthis is method signature I can&#39;t change the method signature\r\ninside it I am trying to access stripe library class \r\n\r\n```\r\nPaymentMethod resource = PaymentMethod.retrieve();\r\n```\r\n\r\n\r\nmethod is taking my custom PaymentMethod instead I want stripe library PaymentMethod class need to be used inside that method \r\n\r\nchecking for better idea to handle","title":"custom class and stripe library class name are same,thats confusing IDE","body":"<pre><code>public PaymentMethod createPaymentMethod(PaymentMethod paymentMethodCreate)\n</code></pre>\n<p>this is method signature I can't change the method signature\ninside it I am trying to access stripe library class</p>\n<pre><code>PaymentMethod resource = PaymentMethod.retrieve();\n</code></pre>\n<p>method is taking my custom PaymentMethod instead I want stripe library PaymentMethod class need to be used inside that method</p>\n<p>checking for better idea to handle</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692713497,"post_id":76954038,"comment_id":135659964,"body_markdown":"Why both [tag:python] and [tag:java]? Please add only the relevant tag","body":"Why both <a href=\"https://stackoverflow.com/questions/tagged/python\">python</a> and <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a>? Please add only the relevant tag"},{"owner":{"account_id":18084751,"reputation":3774,"user_id":13145954,"display_name":"Seon"},"score":0,"creation_date":1692714642,"post_id":76954038,"comment_id":135660252,"body_markdown":"You might find [this article](https://www.codingninjas.com/studio/library/count-of-subarrays-starting-or-ending-at-an-index-i-such-that-arr-i-is-maximum-in-a-subarray) helpful.","body":"You might find <a href=\"https://www.codingninjas.com/studio/library/count-of-subarrays-starting-or-ending-at-an-index-i-such-that-arr-i-is-maximum-in-a-subarray\" rel=\"nofollow noreferrer\">this article</a> helpful."}],"answers":[{"comments":[{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1692716068,"post_id":76954318,"comment_id":135660580,"body_markdown":"So do you just determine a count for each index i separately, and then add up those counts?","body":"So do you just determine a count for each index i separately, and then add up those counts?"},{"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"score":0,"creation_date":1692716136,"post_id":76954318,"comment_id":135660598,"body_markdown":"@KellyBundy yes, that&#39;s right.","body":"@KellyBundy yes, that&#39;s right."},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1692716182,"post_id":76954318,"comment_id":135660608,"body_markdown":"What are those separate counts for example for input [1,1,1,1]?","body":"What are those separate counts for example for input [1,1,1,1]?"},{"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"score":0,"creation_date":1692720290,"post_id":76954318,"comment_id":135661605,"body_markdown":"The counts would be `[1,1,1,1]`.","body":"The counts would be <code>[1,1,1,1]</code>."},{"owner":{"account_id":20090406,"reputation":415,"user_id":14731030,"display_name":"pensee"},"score":0,"creation_date":1692721793,"post_id":76954318,"comment_id":135661901,"body_markdown":"@AbhinavMathur Could you give an example of an array and the left[] and right[] . I am a little confused about the definition of them. Could you please try rephrasing it? Thanks","body":"@AbhinavMathur Could you give an example of an array and the left[] and right[] . I am a little confused about the definition of them. Could you please try rephrasing it? Thanks"},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":1,"creation_date":1692722188,"post_id":76954318,"comment_id":135661976,"body_markdown":"But that adds up to only 4 instead of the correct 10.","body":"But that adds up to only 4 instead of the correct 10."}],"tags":[],"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692720404,"creation_date":1692714650,"answer_id":76954318,"question_id":76954038,"body_markdown":"#### Pre-computation\r\n\r\nCreate two arrays `left` and `right`. For index `i`, `left[i]` would indicate the index of the next greatest element to the left of `arr[i]`. Similarly, `right[i]` would indicate the index of the next greatest element to the right of `arr[i]`. If no such element exists, we can use `inf`.\r\n\r\n#### Solution\r\nFor each index `i` in range `[0, length of array]`:\r\n- let `l = min(0, left[i]) and r = min(len(arr)-1, right[i])`. \r\n- Any subarray that starts between `[l+1, i]` and ends at `i` will have the last element as its max.\r\n- Any subarray that starts at `i` and ends between `[i+1, r)` will have the first element as its max.\r\n- Calculating the number of subarrays for each case becomes a trivial problem (left as an exercise for the reader).\r\n\r\n","title":"Find number of subarrays (contiguous) with max(subarray) = first or last element of the subarray","body":"<h4>Pre-computation</h4>\n<p>Create two arrays <code>left</code> and <code>right</code>. For index <code>i</code>, <code>left[i]</code> would indicate the index of the next greatest element to the left of <code>arr[i]</code>. Similarly, <code>right[i]</code> would indicate the index of the next greatest element to the right of <code>arr[i]</code>. If no such element exists, we can use <code>inf</code>.</p>\n<h4>Solution</h4>\n<p>For each index <code>i</code> in range <code>[0, length of array]</code>:</p>\n<ul>\n<li>let <code>l = min(0, left[i]) and r = min(len(arr)-1, right[i])</code>.</li>\n<li>Any subarray that starts between <code>[l+1, i]</code> and ends at <code>i</code> will have the last element as its max.</li>\n<li>Any subarray that starts at <code>i</code> and ends between <code>[i+1, r)</code> will have the first element as its max.</li>\n<li>Calculating the number of subarrays for each case becomes a trivial problem (left as an exercise for the reader).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692975195,"creation_date":1692975195,"answer_id":76978312,"question_id":76954038,"body_markdown":"This is a tricky one, but there is indeed an *O*(*n*) solution: it&#39;s possible to make a single pass through the array, with appropriate bookkeeping, to count all such subarrays.\r\n\r\n---\r\n\r\nTo start with, let&#39;s pretend that we only want to count subarrays that *start* with their maximum value. We could do that by keeping a stack containing all values that we&#39;ve encountered that haven&#39;t yet been exceeded by later values. For example, if so far we&#39;ve processed [10, 5, 8, 4, 2, 4, 3, 1], then the stack would contain [10, 8, 4, 4, 3, 1]: the 5 was exceeded by the 8, and the 2 was exceeded by the second 4, but all the other values are still in the stack. If the next value in the array is another 8, then we update the stack (to [10, 8, 8]), and the size of the stack (3) is the number of subarrays that *end* with the new 8 and *start* with their maximum value. (Do you see why?) So we have something like this:\r\n\r\n```\r\npublic int countSubarraysThatStartAtMax(final int[] array) {\r\n    final List&lt;Integer&gt; stack = new ArrayList&lt;&gt;();\r\n    int result = 0;\r\n    for (final int element : array) {\r\n        // update stack:\r\n        while (stack.size() &gt; 0 &amp;&amp; stack.get(stack.size() - 1) &lt; element) {\r\n            stack.remove(stack.size() - 1);\r\n        }\r\n        stack.add(element);\r\n        // use updated stack:\r\n        result += stack.size();\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\n(Note: You may notice that this involves two nested loops, where the outer loop has *n* iterations and each occurrence of the inner loop has potentially up to *n* iterations; so you might think that the total cost is in *&amp;Theta;*(*n*&lt;sup&gt;2&lt;/sup&gt;) time. However, the *total* number of iterations of the inner loop, across *all* occurrences, adds up to at most *n*, because each iteration removes an element from the stack, and we only add a total of *n* elements to the stack. So the total cost is in *O*(*n*) time. The same logic applies to all of the below as well.)\r\n\r\n---\r\n\r\nNext, let&#39;s pretend that we only want to count subarrays that *end* with their maximum value. Of course, we could do this the same way as the above, but going right-to-left instead of left-to-right; but let&#39;s imagine that we specifically need to do this with a left-to-right pass. (We&#39;ll ultimately need to combine this with the above, into a single more-complicated pass, so they need to go in the same direction.) For this, we keep a stack containing all values *and corresponding indices* that we&#39;ve encountered that haven&#39;t yet been exceeded *or matched* by later values. For example, if so far we&#39;ve processed [10, 5, 8, 4, 2, 4, 3, 1], then the stack would contain [(10, 0), (8, 2), (4, 5), (3, 6), (1, 7)]: this time we&#39;ve included the indices, and we&#39;ve discarded the first occurrence of 4 because there was a later one. If the next value in the array (at index&amp;nbsp;=&amp;nbsp;8) is another 4, then we pare the stack down to just [(10, 0), (8, 2)], and the number of subarrays that end at that 4 and have max&amp;nbsp;=&amp;nbsp;4 is 8&amp;nbsp;−&amp;nbsp;2. (Do you see why?) Then we add that 4 to the stack. So we have something like this:\r\n\r\n```\r\nprivate static final class StackElement {\r\n    public final int value;\r\n    public final int index;\r\n\r\n    public StackElement(final int value, final int index) {\r\n        this.value = value;\r\n        this.index = index;\r\n    }\r\n}\r\n\r\npublic int countSubarraysThatEndAtMax(final int[] array) {\r\n    final List&lt;StackElement&gt; stack = new ArrayList&lt;&gt;();\r\n    int result = 0;\r\n    for (int index = 0; index &lt; array.length; ++index) {\r\n        final int element = array[index];\r\n        // remove obsolete elements from stack:\r\n        while (stack.size() &gt; 0\r\n               &amp;&amp; stack.get(stack.size() - 1).value &lt;= element\r\n        ) {\r\n            stack.remove(stack.size() - 1);\r\n        }\r\n        // use updated stack:\r\n        final int indexOfLastGreaterElement =\r\n            stack.size() == 0\r\n                ? -1\r\n                : stack.get(stack.size() - 1).index;\r\n        result += index - indexOfLastGreaterElement;\r\n        // add new element to stack:\r\n        stack.add(new StackElement(element, index));\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\n---\r\n\r\nNow, we need to combine the above, while not double-counting subarrays that both start and end with their maximum value. The not&amp;ndash;double-counting might seem simple; at first glance, it seems that that we can change `countSubarraysThatStartAtMax` from considering &quot;values that we&#39;ve encountered that haven&#39;t yet been exceeded by later values&quot; to only considering &quot;values that we&#39;ve encountered that haven&#39;t yet been exceeded *or matched* by later values&quot;, so that it only counts arrays that start with their maximum value *and don&#39;t end with that value*. The problem, though, is that if we remove old values from the stack as soon as they&#39;re matched by a later value, then we won&#39;t count a subarray like [4, 2, 4, 3]: we&#39;ll remove the first 4 as soon as we see the second 4 even though there may be more subarrays that continue past the second 4. And we might think that we can remove the first 4 and then immediately re-add it, but in a case like [4, 2, 4, 2, 4, 2, 4, 2, 4], we&#39;d have to remove and re-add multiple 4s at once, such that the algorithm as a whole would require worst-case *&amp;Theta;*(*n*&lt;sup&gt;2&lt;/sup&gt;) time.\r\n\r\nThe solution to this is to change `countSubarraysThatStartAtMax` so that instead of using the literal size of the stack, it stores a `stackSize` field on stack elements, so that it doesn&#39;t need to store multiple copies of the same element:\r\n\r\n```\r\nprivate static final class StackElement {\r\n    public final int value;\r\n    public final int stackSize;\r\n\r\n    public StackElement(final int value, final int stackSize) {\r\n        this.value = value;\r\n        this.stackSize = stackSize;\r\n    }\r\n}\r\n\r\npublic int countSubarraysThatStartButDontEndAtMax(final int[] array) {\r\n    final List&lt;StackElement&gt; stack = new ArrayList&lt;&gt;();\r\n    int result = 0;\r\n    for (final int element : array) {\r\n        // remove obsolete elements from stack:\r\n        StackElement popped = null;\r\n        while (stack.size() &gt; 0\r\n               &amp;&amp; stack.get(stack.size() - 1).value &lt;= element\r\n        ) {\r\n            popped = stack.remove(stack.size() - 1);\r\n        }\r\n        // use updated stack:\r\n        final int stackSize =\r\n            stack.size() == 0\r\n                ? 0\r\n                : stack.get(stack.size() - 1).stackSize;\r\n        result += stackSize;\r\n        // add new element to stack:\r\n        if (popped == null || popped.value &lt; element) {\r\n            stack.add(new StackElement(element, stackSize + 1));\r\n        } else {\r\n            stack.add(new StackElement(element, popped.stackSize + 1));\r\n        }\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\nAnd now it&#39;s reasonably straightforward to combine them:\r\n\r\n```\r\nprivate static final class StackElement {\r\n    public final int value;\r\n    public final int lastIndex;\r\n    public final int stackSize;\r\n\r\n    public StackElement(\r\n        final int value,\r\n        final int lastIndex,\r\n        final int stackSize\r\n    ) {\r\n        this.value = value;\r\n        this.lastIndex = lastIndex;\r\n        this.stackSize = stackSize;\r\n    }\r\n}\r\n\r\npublic int countSubarraysThatStartOrEndAtMax(final int[] array) {\r\n    final List&lt;StackElement&gt; stack = new ArrayList&lt;&gt;();\r\n    int result = 0;\r\n    for (int index = 0; index &lt; array.length; ++index) {\r\n        final int element = array[index];\r\n        // remove obsolete elements from stack:\r\n        StackElement popped = null;\r\n        while (stack.size() &gt; 0\r\n               &amp;&amp; stack.get(stack.size() - 1).value &lt;= element\r\n        ) {\r\n            popped = stack.remove(stack.size() - 1);\r\n        }\r\n        // use updated stack:\r\n        final int stackSize =\r\n            stack.size() == 0\r\n                ? 0\r\n                : stack.get(stack.size() - 1).stackSize;\r\n        result += stackSize;\r\n        final int indexOfLastGreaterElement =\r\n            stack.size() == 0\r\n                ? -1\r\n                : stack.get(stack.size() - 1).lastIndex;\r\n        result += index - indexOfLastGreaterElement;\r\n        // add new element to stack:\r\n        if (popped == null || popped.value &lt; element) {\r\n            stack.add(new StackElement(element, index, stackSize + 1));\r\n        } else {\r\n            stack.add(new StackElement(element, index, popped.stackSize + 1));\r\n        }\r\n    }\r\n    return result;\r\n}\r\n```","title":"Find number of subarrays (contiguous) with max(subarray) = first or last element of the subarray","body":"<p>This is a tricky one, but there is indeed an <em>O</em>(<em>n</em>) solution: it's possible to make a single pass through the array, with appropriate bookkeeping, to count all such subarrays.</p>\n<hr />\n<p>To start with, let's pretend that we only want to count subarrays that <em>start</em> with their maximum value. We could do that by keeping a stack containing all values that we've encountered that haven't yet been exceeded by later values. For example, if so far we've processed [10, 5, 8, 4, 2, 4, 3, 1], then the stack would contain [10, 8, 4, 4, 3, 1]: the 5 was exceeded by the 8, and the 2 was exceeded by the second 4, but all the other values are still in the stack. If the next value in the array is another 8, then we update the stack (to [10, 8, 8]), and the size of the stack (3) is the number of subarrays that <em>end</em> with the new 8 and <em>start</em> with their maximum value. (Do you see why?) So we have something like this:</p>\n<pre><code>public int countSubarraysThatStartAtMax(final int[] array) {\n    final List&lt;Integer&gt; stack = new ArrayList&lt;&gt;();\n    int result = 0;\n    for (final int element : array) {\n        // update stack:\n        while (stack.size() &gt; 0 &amp;&amp; stack.get(stack.size() - 1) &lt; element) {\n            stack.remove(stack.size() - 1);\n        }\n        stack.add(element);\n        // use updated stack:\n        result += stack.size();\n    }\n    return result;\n}\n</code></pre>\n<p>(Note: You may notice that this involves two nested loops, where the outer loop has <em>n</em> iterations and each occurrence of the inner loop has potentially up to <em>n</em> iterations; so you might think that the total cost is in <em>Θ</em>(<em>n</em><sup>2</sup>) time. However, the <em>total</em> number of iterations of the inner loop, across <em>all</em> occurrences, adds up to at most <em>n</em>, because each iteration removes an element from the stack, and we only add a total of <em>n</em> elements to the stack. So the total cost is in <em>O</em>(<em>n</em>) time. The same logic applies to all of the below as well.)</p>\n<hr />\n<p>Next, let's pretend that we only want to count subarrays that <em>end</em> with their maximum value. Of course, we could do this the same way as the above, but going right-to-left instead of left-to-right; but let's imagine that we specifically need to do this with a left-to-right pass. (We'll ultimately need to combine this with the above, into a single more-complicated pass, so they need to go in the same direction.) For this, we keep a stack containing all values <em>and corresponding indices</em> that we've encountered that haven't yet been exceeded <em>or matched</em> by later values. For example, if so far we've processed [10, 5, 8, 4, 2, 4, 3, 1], then the stack would contain [(10, 0), (8, 2), (4, 5), (3, 6), (1, 7)]: this time we've included the indices, and we've discarded the first occurrence of 4 because there was a later one. If the next value in the array (at index = 8) is another 4, then we pare the stack down to just [(10, 0), (8, 2)], and the number of subarrays that end at that 4 and have max = 4 is 8 − 2. (Do you see why?) Then we add that 4 to the stack. So we have something like this:</p>\n<pre><code>private static final class StackElement {\n    public final int value;\n    public final int index;\n\n    public StackElement(final int value, final int index) {\n        this.value = value;\n        this.index = index;\n    }\n}\n\npublic int countSubarraysThatEndAtMax(final int[] array) {\n    final List&lt;StackElement&gt; stack = new ArrayList&lt;&gt;();\n    int result = 0;\n    for (int index = 0; index &lt; array.length; ++index) {\n        final int element = array[index];\n        // remove obsolete elements from stack:\n        while (stack.size() &gt; 0\n               &amp;&amp; stack.get(stack.size() - 1).value &lt;= element\n        ) {\n            stack.remove(stack.size() - 1);\n        }\n        // use updated stack:\n        final int indexOfLastGreaterElement =\n            stack.size() == 0\n                ? -1\n                : stack.get(stack.size() - 1).index;\n        result += index - indexOfLastGreaterElement;\n        // add new element to stack:\n        stack.add(new StackElement(element, index));\n    }\n    return result;\n}\n</code></pre>\n<hr />\n<p>Now, we need to combine the above, while not double-counting subarrays that both start and end with their maximum value. The not–double-counting might seem simple; at first glance, it seems that that we can change <code>countSubarraysThatStartAtMax</code> from considering &quot;values that we've encountered that haven't yet been exceeded by later values&quot; to only considering &quot;values that we've encountered that haven't yet been exceeded <em>or matched</em> by later values&quot;, so that it only counts arrays that start with their maximum value <em>and don't end with that value</em>. The problem, though, is that if we remove old values from the stack as soon as they're matched by a later value, then we won't count a subarray like [4, 2, 4, 3]: we'll remove the first 4 as soon as we see the second 4 even though there may be more subarrays that continue past the second 4. And we might think that we can remove the first 4 and then immediately re-add it, but in a case like [4, 2, 4, 2, 4, 2, 4, 2, 4], we'd have to remove and re-add multiple 4s at once, such that the algorithm as a whole would require worst-case <em>Θ</em>(<em>n</em><sup>2</sup>) time.</p>\n<p>The solution to this is to change <code>countSubarraysThatStartAtMax</code> so that instead of using the literal size of the stack, it stores a <code>stackSize</code> field on stack elements, so that it doesn't need to store multiple copies of the same element:</p>\n<pre><code>private static final class StackElement {\n    public final int value;\n    public final int stackSize;\n\n    public StackElement(final int value, final int stackSize) {\n        this.value = value;\n        this.stackSize = stackSize;\n    }\n}\n\npublic int countSubarraysThatStartButDontEndAtMax(final int[] array) {\n    final List&lt;StackElement&gt; stack = new ArrayList&lt;&gt;();\n    int result = 0;\n    for (final int element : array) {\n        // remove obsolete elements from stack:\n        StackElement popped = null;\n        while (stack.size() &gt; 0\n               &amp;&amp; stack.get(stack.size() - 1).value &lt;= element\n        ) {\n            popped = stack.remove(stack.size() - 1);\n        }\n        // use updated stack:\n        final int stackSize =\n            stack.size() == 0\n                ? 0\n                : stack.get(stack.size() - 1).stackSize;\n        result += stackSize;\n        // add new element to stack:\n        if (popped == null || popped.value &lt; element) {\n            stack.add(new StackElement(element, stackSize + 1));\n        } else {\n            stack.add(new StackElement(element, popped.stackSize + 1));\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>And now it's reasonably straightforward to combine them:</p>\n<pre><code>private static final class StackElement {\n    public final int value;\n    public final int lastIndex;\n    public final int stackSize;\n\n    public StackElement(\n        final int value,\n        final int lastIndex,\n        final int stackSize\n    ) {\n        this.value = value;\n        this.lastIndex = lastIndex;\n        this.stackSize = stackSize;\n    }\n}\n\npublic int countSubarraysThatStartOrEndAtMax(final int[] array) {\n    final List&lt;StackElement&gt; stack = new ArrayList&lt;&gt;();\n    int result = 0;\n    for (int index = 0; index &lt; array.length; ++index) {\n        final int element = array[index];\n        // remove obsolete elements from stack:\n        StackElement popped = null;\n        while (stack.size() &gt; 0\n               &amp;&amp; stack.get(stack.size() - 1).value &lt;= element\n        ) {\n            popped = stack.remove(stack.size() - 1);\n        }\n        // use updated stack:\n        final int stackSize =\n            stack.size() == 0\n                ? 0\n                : stack.get(stack.size() - 1).stackSize;\n        result += stackSize;\n        final int indexOfLastGreaterElement =\n            stack.size() == 0\n                ? -1\n                : stack.get(stack.size() - 1).lastIndex;\n        result += index - indexOfLastGreaterElement;\n        // add new element to stack:\n        if (popped == null || popped.value &lt; element) {\n            stack.add(new StackElement(element, index, stackSize + 1));\n        } else {\n            stack.add(new StackElement(element, index, popped.stackSize + 1));\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29467201,"reputation":1,"user_id":22580572,"display_name":"Poorn Pragya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695213085,"creation_date":1694971078,"answer_id":77122894,"question_id":76954038,"body_markdown":"The idea is to find left greater and right greater element for each element A[i] and then traverse from i to len(A) and count number of subarrays that can be formed by including leftGreaterIndex(i)...i and i...rightGreaterIndex(i). The leftGreaterIndex and rightGreaterIndex can be found using monotonic stack. So the count of such subarrays can be calculated as res += (r - i + 1) + (i - l + 1) - 1; // -1 in the end because subarray at l...r will be counted twice.\r\n\r\nTime complexity : O(n), where n = len(A)\r\nSpace complexity : O(n)\r\n\r\nHere is my implementation:\r\n\r\n    public static long count(List&lt;Integer&gt; A) {\r\n        int n = A.size();\r\n        int[] left = leftGreater(A);\r\n        int[] right = rightGreater(A);\r\n        long res = 0;\r\n        for (int i = 0; i &lt; n; i++) {\r\n            int l = left[i];\r\n            int r = right[i];\r\n            res += (r - i + 1) + (i - l + 1) - 1; // -1 because subarray at l...r will be counted twice\r\n        }\r\n        return res;\r\n    }\r\n\r\n    private static int[] leftGreater(List&lt;Integer&gt; A) {\r\n        int n = A.size();\r\n        int[] res = new int[n];\r\n        Stack&lt;Integer&gt; st = new Stack&lt;&gt;();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            while (!st.isEmpty() &amp;&amp; A.get(st.peek()) &lt;= A.get(i)) {\r\n                st.pop();\r\n            }\r\n            res[i] = st.isEmpty() ? i : st.peek();\r\n            st.push(i);\r\n        }\r\n        return res;\r\n    }\r\n\r\n    private static int[] rightGreater(List&lt;Integer&gt; A) {\r\n        int n = A.size();\r\n        int[] res = new int[n];\r\n        Stack&lt;Integer&gt; st = new Stack&lt;&gt;();\r\n        for (int i = n - 1; i &gt;= 0; i--) {\r\n            while (!st.isEmpty() &amp;&amp; A.get(st.peek()) &lt;= A.get(i)) {\r\n                st.pop();\r\n            }\r\n            res[i] = st.isEmpty() ? i : st.peek();\r\n            st.push(i);\r\n        }\r\n        return res;\r\n    }\r\n\r\n","title":"Find number of subarrays (contiguous) with max(subarray) = first or last element of the subarray","body":"<p>The idea is to find left greater and right greater element for each element A[i] and then traverse from i to len(A) and count number of subarrays that can be formed by including leftGreaterIndex(i)...i and i...rightGreaterIndex(i). The leftGreaterIndex and rightGreaterIndex can be found using monotonic stack. So the count of such subarrays can be calculated as res += (r - i + 1) + (i - l + 1) - 1; // -1 in the end because subarray at l...r will be counted twice.</p>\n<p>Time complexity : O(n), where n = len(A)\nSpace complexity : O(n)</p>\n<p>Here is my implementation:</p>\n<pre><code>public static long count(List&lt;Integer&gt; A) {\n    int n = A.size();\n    int[] left = leftGreater(A);\n    int[] right = rightGreater(A);\n    long res = 0;\n    for (int i = 0; i &lt; n; i++) {\n        int l = left[i];\n        int r = right[i];\n        res += (r - i + 1) + (i - l + 1) - 1; // -1 because subarray at l...r will be counted twice\n    }\n    return res;\n}\n\nprivate static int[] leftGreater(List&lt;Integer&gt; A) {\n    int n = A.size();\n    int[] res = new int[n];\n    Stack&lt;Integer&gt; st = new Stack&lt;&gt;();\n    for (int i = 0; i &lt; n; i++) {\n        while (!st.isEmpty() &amp;&amp; A.get(st.peek()) &lt;= A.get(i)) {\n            st.pop();\n        }\n        res[i] = st.isEmpty() ? i : st.peek();\n        st.push(i);\n    }\n    return res;\n}\n\nprivate static int[] rightGreater(List&lt;Integer&gt; A) {\n    int n = A.size();\n    int[] res = new int[n];\n    Stack&lt;Integer&gt; st = new Stack&lt;&gt;();\n    for (int i = n - 1; i &gt;= 0; i--) {\n        while (!st.isEmpty() &amp;&amp; A.get(st.peek()) &lt;= A.get(i)) {\n            st.pop();\n        }\n        res[i] = st.isEmpty() ? i : st.peek();\n        st.push(i);\n    }\n    return res;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12868757,"reputation":1,"user_id":9308016,"display_name":"Hari Haran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700808395,"creation_date":1700724104,"answer_id":77534988,"question_id":76954038,"body_markdown":"**Works with duplicate values**\r\n\r\nThe crux of the idea is based on pre-computing the array of Next Greater Element(NGE) and Previous Greater than or Equal Element(PGEE). You can compute both these arrays by using a monotonic stack in O(N) time. For a detailed explanation of monotonic stack and its application in finding NGE refer to [this article.][1] We will focus on the other important aspects of the problem here. Once we have both these arrays computed we will loop through them and compute result by adding all the sub arrays starting or ending at that element, of which the element will be maximum. If there is no greater element to the right we will take nge[i] as len(nums) and if there is no greater or equal element to the left we will take pgee[i] as -1. For each index i the number of sub-arrays ending at i with nums[i] as maximum is i - pgee[i]. The number of sub-arrays starting at i with nums[i] as maximum is nge[i] - i. By adding these two we can arrive at the total number of sub-arrays, there is one caveat though we will be counting the sub-array that starts at i and ends at i twice. Hence we arrive at:\r\n\r\n&gt; num sub-arrays for i = i - pgee[i] + nge[i] - i - 1 = nge[i] - pgee[i] - 1\r\n\r\nIt is necessary to take the greater element for next and greater than or equal element for previous. If you take greater element on both sides it will lead to duplicate counting. Take the example [3,1,3,5], if we take greater element on both sides the sub-array [3,1,3] will get counted twice at its first index and last index. Below is a implementation of the solution in python.\r\n\r\n    from typing import List\r\n\r\n    class Solution:\r\n    def numSubArrays(self, nums: List[int]) -&gt; int:\r\n        res = 0\r\n        nge = []\r\n        pgee = []\r\n\r\n        stack = []\r\n        for i in range(len(nums) - 1, -1, -1):\r\n            while stack and nums[stack[-1]] &lt;= nums[i]:\r\n                stack.pop()\r\n\r\n            if not stack:\r\n                nge.append(len(nums))\r\n            else:\r\n                nge.append(stack[-1])\r\n\r\n            stack.append(i)\r\n\r\n        nge.reverse()\r\n\r\n        stack = []\r\n        for i in range(len(nums)):\r\n            while stack and nums[stack[-1]] &lt; nums[i]:\r\n                stack.pop()\r\n\r\n            if not stack:\r\n                pgee.append(-1)\r\n            else:\r\n                pgee.append(stack[-1])\r\n\r\n            stack.append(i)\r\n\r\n        # print(nge, pgee)\r\n        for i in range(len(nums)):\r\n            res += nge[i] - pgee[i] - 1\r\n\r\n        return res\r\n\r\n    if __name__ == &#39;__main__&#39;:\r\n        sol = Solution()\r\n        print(sol.numSubArrays([3,1,3,5]))\r\n        print(sol.numSubArrays([3,4,1,6,5,2]))\r\n        print(sol.numSubArrays([1,1,1,1]))\r\n\r\n&gt; 10\r\n14\r\n10\r\n\r\nThe overall time-complexity is O(N) because we loop through the array 3 times. The space complexity is also O(N).\r\n\r\n  [1]: https://www.geeksforgeeks.org/introduction-to-monotonic-stack-data-structure-and-algorithm-tutorials/","title":"Find number of subarrays (contiguous) with max(subarray) = first or last element of the subarray","body":"<p><strong>Works with duplicate values</strong></p>\n<p>The crux of the idea is based on pre-computing the array of Next Greater Element(NGE) and Previous Greater than or Equal Element(PGEE). You can compute both these arrays by using a monotonic stack in O(N) time. For a detailed explanation of monotonic stack and its application in finding NGE refer to <a href=\"https://www.geeksforgeeks.org/introduction-to-monotonic-stack-data-structure-and-algorithm-tutorials/\" rel=\"nofollow noreferrer\">this article.</a> We will focus on the other important aspects of the problem here. Once we have both these arrays computed we will loop through them and compute result by adding all the sub arrays starting or ending at that element, of which the element will be maximum. If there is no greater element to the right we will take nge[i] as len(nums) and if there is no greater or equal element to the left we will take pgee[i] as -1. For each index i the number of sub-arrays ending at i with nums[i] as maximum is i - pgee[i]. The number of sub-arrays starting at i with nums[i] as maximum is nge[i] - i. By adding these two we can arrive at the total number of sub-arrays, there is one caveat though we will be counting the sub-array that starts at i and ends at i twice. Hence we arrive at:</p>\n<blockquote>\n<p>num sub-arrays for i = i - pgee[i] + nge[i] - i - 1 = nge[i] - pgee[i] - 1</p>\n</blockquote>\n<p>It is necessary to take the greater element for next and greater than or equal element for previous. If you take greater element on both sides it will lead to duplicate counting. Take the example [3,1,3,5], if we take greater element on both sides the sub-array [3,1,3] will get counted twice at its first index and last index. Below is a implementation of the solution in python.</p>\n<pre><code>from typing import List\n\nclass Solution:\ndef numSubArrays(self, nums: List[int]) -&gt; int:\n    res = 0\n    nge = []\n    pgee = []\n\n    stack = []\n    for i in range(len(nums) - 1, -1, -1):\n        while stack and nums[stack[-1]] &lt;= nums[i]:\n            stack.pop()\n\n        if not stack:\n            nge.append(len(nums))\n        else:\n            nge.append(stack[-1])\n\n        stack.append(i)\n\n    nge.reverse()\n\n    stack = []\n    for i in range(len(nums)):\n        while stack and nums[stack[-1]] &lt; nums[i]:\n            stack.pop()\n\n        if not stack:\n            pgee.append(-1)\n        else:\n            pgee.append(stack[-1])\n\n        stack.append(i)\n\n    # print(nge, pgee)\n    for i in range(len(nums)):\n        res += nge[i] - pgee[i] - 1\n\n    return res\n\nif __name__ == '__main__':\n    sol = Solution()\n    print(sol.numSubArrays([3,1,3,5]))\n    print(sol.numSubArrays([3,4,1,6,5,2]))\n    print(sol.numSubArrays([1,1,1,1]))\n</code></pre>\n<blockquote>\n<p>10\n14\n10</p>\n</blockquote>\n<p>The overall time-complexity is O(N) because we loop through the array 3 times. The space complexity is also O(N).</p>\n"}],"owner":{"account_id":20090406,"reputation":415,"user_id":14731030,"display_name":"pensee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":784,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1700808395,"creation_date":1692712629,"question_id":76954038,"body_markdown":"Given a list of numbers like [2,3,2] I want to find the number of subarrays such that the max(subarray) = first or last element of the subarray. In this example, there are 6 subarrays and those matching the condition are 5.  \r\n\r\n**My Thoughts:**\r\nI was able to solve this in O(n^2). Maintained an array d[i][j] = max of subarray from i to j and updated it length-wise. with each update, I could increment the counter if the subarray satisfies the condition.  \r\n  \r\nI am unable to come up with something of lower complexity.  \r\nOne could although lower the Memory Usage if one uses a single dimension d array instead of two. The logic remains same, single dimension works because we only need to reference the previous array.","title":"Find number of subarrays (contiguous) with max(subarray) = first or last element of the subarray","body":"<p>Given a list of numbers like [2,3,2] I want to find the number of subarrays such that the max(subarray) = first or last element of the subarray. In this example, there are 6 subarrays and those matching the condition are 5.</p>\n<p><strong>My Thoughts:</strong>\nI was able to solve this in O(n^2). Maintained an array d[i][j] = max of subarray from i to j and updated it length-wise. with each update, I could increment the counter if the subarray satisfies the condition.</p>\n<p>I am unable to come up with something of lower complexity.<br />\nOne could although lower the Memory Usage if one uses a single dimension d array instead of two. The logic remains same, single dimension works because we only need to reference the previous array.</p>\n"},{"tags":["java","c#","unity-game-engine"],"comments":[{"owner":{"account_id":9842376,"reputation":537,"user_id":7465516,"display_name":"julaine"},"score":0,"creation_date":1700837118,"post_id":77541092,"comment_id":136705401,"body_markdown":"Please do not show us screenshots of errors, but post the errors directly as text.\nAlso, please create a minimal reproducible example and be more clear about what happens and what you expect to happen.","body":"Please do not show us screenshots of errors, but post the errors directly as text. Also, please create a minimal reproducible example and be more clear about what happens and what you expect to happen."}],"owner":{"account_id":29980529,"reputation":1,"user_id":22975639,"display_name":"Vivek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700808185,"creation_date":1700807010,"question_id":77541092,"body_markdown":"this function for calling **startActivity** and **startActivityForResult** from unity(c#) side.\r\n```\r\n        public bool openUrl(string packageName, string url)\r\n        {\r\n            \r\n#if UNITY_ANDROID\r\n            AndroidJavaClass unityPlayer = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);\r\n            AndroidJavaObject unityActivity = unityPlayer.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\r\n            AndroidJavaObject pManager = unityActivity.Call&lt;AndroidJavaObject&gt;(&quot;getPackageManager&quot;);\r\n\r\n            //For accessing static strings(ACTION_VIEW) from android.content.Intent\r\n            AndroidJavaClass intentStaticClass = new AndroidJavaClass(&quot;android.content.Intent&quot;);\r\n            string actionView = intentStaticClass.GetStatic&lt;string&gt;(&quot;ACTION_VIEW&quot;);\r\n\r\n            //Create Uri\r\n            AndroidJavaClass uriClass = new AndroidJavaClass(&quot;android.net.Uri&quot;);\r\n            AndroidJavaObject uriObject = uriClass.CallStatic&lt;AndroidJavaObject&gt;(&quot;parse&quot;, url);\r\n\r\n            //Psss ACTION_VIEW and Uri.parse to the intent\r\n            AndroidJavaObject intent = new AndroidJavaObject(&quot;android.content.Intent&quot;, actionView, uriObject);\r\n\r\n            try\r\n            {\r\n                if (pManager.Call&lt;AndroidJavaObject&gt;(&quot;getPackageInfo&quot;, packageName, 0) != null)\r\n                {\r\n                    intent.Call&lt;AndroidJavaObject&gt;(&quot;setPackage&quot;, packageName);\r\n                }\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                Debug.LogWarning(&quot;Failed to Open App 1: &quot; + e.Message);\r\n                return false;\r\n            }\r\n\r\n            try\r\n            {\r\n               //unityActivity.Call(&quot;startActivity&quot;, intent);        // this is working\r\n                unityActivity.Call(&quot;startActivityForResult&quot;, intent);  // BUT this is not working\r\n                return true;\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                Debug.LogWarning(&quot;Failed to Open App 2: &quot; + e.Message);\r\n                //Open with Browser\r\n                string link = &quot;https://play.google.com/store/apps/details?id=&quot; + packageName + &quot;&amp;hl=en&quot;;\r\n\r\n                Application.OpenURL(link);\r\n                return false;\r\n            }\r\n\r\n#endif\r\n            return false;\r\n        }\r\n```\r\n\r\n\r\nand code below is in my UnityPlayerActivity.java\r\n```\r\n@Override public void onActivityResult(int requestCode, int resultCode, Intent data) \r\n    {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == 0) {\r\n            switch (resultCode) {\r\n                case Activity.RESULT_OK:\r\n                    //do something\r\n                    break;\r\n                case Activity.RESULT_CANCELED:\r\n                    //do something\r\n                    //Toast.makeText(getApplicationContext(),&quot;Payment Canceled by user.&quot;,Toast.LENGTH_SHORT).show(); \r\n                    mUnityPlayer.UnitySendMessage(&quot;Canvas_Pay_Notification&quot;, &quot;CallFromAndroidOverride&quot;, &quot;true&quot;);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n```\r\n[SCREENSHOT for showing startActivityForResult NOT FOUND][1]\r\n\r\n\r\nI wanted, when user press back on overlay opened, then condition of Activity.RESULT_CANCELED should run, in onActivityResult() in the UnityPlayerActivity.java\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZYyTF.jpg","title":"when calling startActivityForResult funtion from the unity c# giving non-static method NOT FOUND, BUT working for startActivity funtion","body":"<p>this function for calling <strong>startActivity</strong> and <strong>startActivityForResult</strong> from unity(c#) side.</p>\n<pre><code>        public bool openUrl(string packageName, string url)\n        {\n            \n#if UNITY_ANDROID\n            AndroidJavaClass unityPlayer = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);\n            AndroidJavaObject unityActivity = unityPlayer.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\n            AndroidJavaObject pManager = unityActivity.Call&lt;AndroidJavaObject&gt;(&quot;getPackageManager&quot;);\n\n            //For accessing static strings(ACTION_VIEW) from android.content.Intent\n            AndroidJavaClass intentStaticClass = new AndroidJavaClass(&quot;android.content.Intent&quot;);\n            string actionView = intentStaticClass.GetStatic&lt;string&gt;(&quot;ACTION_VIEW&quot;);\n\n            //Create Uri\n            AndroidJavaClass uriClass = new AndroidJavaClass(&quot;android.net.Uri&quot;);\n            AndroidJavaObject uriObject = uriClass.CallStatic&lt;AndroidJavaObject&gt;(&quot;parse&quot;, url);\n\n            //Psss ACTION_VIEW and Uri.parse to the intent\n            AndroidJavaObject intent = new AndroidJavaObject(&quot;android.content.Intent&quot;, actionView, uriObject);\n\n            try\n            {\n                if (pManager.Call&lt;AndroidJavaObject&gt;(&quot;getPackageInfo&quot;, packageName, 0) != null)\n                {\n                    intent.Call&lt;AndroidJavaObject&gt;(&quot;setPackage&quot;, packageName);\n                }\n            }\n            catch (Exception e)\n            {\n                Debug.LogWarning(&quot;Failed to Open App 1: &quot; + e.Message);\n                return false;\n            }\n\n            try\n            {\n               //unityActivity.Call(&quot;startActivity&quot;, intent);        // this is working\n                unityActivity.Call(&quot;startActivityForResult&quot;, intent);  // BUT this is not working\n                return true;\n            }\n            catch (Exception e)\n            {\n                Debug.LogWarning(&quot;Failed to Open App 2: &quot; + e.Message);\n                //Open with Browser\n                string link = &quot;https://play.google.com/store/apps/details?id=&quot; + packageName + &quot;&amp;hl=en&quot;;\n\n                Application.OpenURL(link);\n                return false;\n            }\n\n#endif\n            return false;\n        }\n</code></pre>\n<p>and code below is in my UnityPlayerActivity.java</p>\n<pre><code>@Override public void onActivityResult(int requestCode, int resultCode, Intent data) \n    {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == 0) {\n            switch (resultCode) {\n                case Activity.RESULT_OK:\n                    //do something\n                    break;\n                case Activity.RESULT_CANCELED:\n                    //do something\n                    //Toast.makeText(getApplicationContext(),&quot;Payment Canceled by user.&quot;,Toast.LENGTH_SHORT).show(); \n                    mUnityPlayer.UnitySendMessage(&quot;Canvas_Pay_Notification&quot;, &quot;CallFromAndroidOverride&quot;, &quot;true&quot;);\n                    break;\n            }\n        }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZYyTF.jpg\" rel=\"nofollow noreferrer\">SCREENSHOT for showing startActivityForResult NOT FOUND</a></p>\n<p>I wanted, when user press back on overlay opened, then condition of Activity.RESULT_CANCELED should run, in onActivityResult() in the UnityPlayerActivity.java</p>\n"},{"tags":["java","android","xml","parsing"],"comments":[{"owner":{"account_id":29815737,"reputation":37,"user_id":22850056,"display_name":"rv_5143"},"score":1,"creation_date":1701062317,"post_id":77541152,"comment_id":136723853,"body_markdown":"@404NotFound yes got it thank you so much !!","body":"@404NotFound yes got it thank you so much !!"}],"owner":{"account_id":29815737,"reputation":37,"user_id":22850056,"display_name":"rv_5143"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701062335,"answer_count":0,"score":0,"last_activity_date":1700807952,"creation_date":1700807952,"question_id":77541152,"body_markdown":"```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;root xmlns=&quot;urn:schemas-upnp-org:device-1-0&quot;&gt;\r\n    &lt;specVersion&gt;\r\n        &lt;major&gt;1&lt;/major&gt;\r\n        &lt;minor&gt;0&lt;/minor&gt;\r\n    &lt;/specVersion&gt;\r\n    &lt;device&gt;\r\n        &lt;deviceType&gt;urn:roku-com:device:player:1-0&lt;/deviceType&gt;\r\n        &lt;friendlyName&gt;Roku Streaming Stick 4K+&lt;/friendlyName&gt;\r\n```\r\n\r\n\r\nHere is the code snippet where i want to get value of tag  friendlyName please help i am to android development... ","title":"How can i get XML tag value?","body":"<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;root xmlns=&quot;urn:schemas-upnp-org:device-1-0&quot;&gt;\n    &lt;specVersion&gt;\n        &lt;major&gt;1&lt;/major&gt;\n        &lt;minor&gt;0&lt;/minor&gt;\n    &lt;/specVersion&gt;\n    &lt;device&gt;\n        &lt;deviceType&gt;urn:roku-com:device:player:1-0&lt;/deviceType&gt;\n        &lt;friendlyName&gt;Roku Streaming Stick 4K+&lt;/friendlyName&gt;\n</code></pre>\n<p>Here is the code snippet where i want to get value of tag  friendlyName please help i am to android development...</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1700810737,"post_id":77541056,"comment_id":136701058,"body_markdown":"what a title! a description of your problem would have been better","body":"what a title! a description of your problem would have been better"}],"owner":{"account_id":21970129,"reputation":11,"user_id":16246763,"display_name":"Maja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700806521,"creation_date":1700806521,"question_id":77541056,"body_markdown":"Hey I have a problem with generics in Java. \r\n\r\nI need to create an XList class, providing additional capabilities for creating lists and operating on them.\r\nThe class should contain appropriate constructors and static of methods, allowing you to create XList objects from other collections, arrays and comma-delimited arguments.\r\nIn addition, auxiliary methods for creating xlists from subtitles:\r\nofChars(subtitle) - returns an x-list of subtitle characters,\r\nofTokens(subtitle, [ sep ]) - returns an x-list of subtitle symbols, separated by separators with sep (if none - then by whitespace characters).\r\nIn addition, provide methods:\r\nunion(any_collection) - returns a new x-list with the contents of the collection appended to this x-list,\r\ndiff(any_collection) - returns an x-list containing those elements of this x-list that do not appear in the collection,\r\nunique() - returns a new x-list that contains all non-repeating elements of this x-list\r\ncombine() - returns an x-list of combinations of elements from each collection that are elements of this x-list\r\ncollect(Function) - returns a new x-list, the elements of which are the results of a function applied to the elements of this x-list,\r\njoin([sep]) - returns a caption, which is a combination of the elements of this x-list, with possibly a separator inserted between them,\r\nforEachWithIndex(consumer_with_two arguments: element, index) - to iterate through the list with access to both the elements and their indexes.\r\n\r\n\r\nThis is my Main.java and XList.java files, there is problem with combine (I know it needs to be done in a tree style but honestly no idea how to make it work)\r\n, collect and join it needs to print to ouput:  \r\n\r\n\r\n    [1, 3, 9, 11]\r\n    [5, 6, 9]\r\n    [100, 200, 300]\r\n    [100, 200, 300]\r\n    [3, 4, 5]\r\n    [3, 4, 5]\r\n    [a, l, a,  , m, a,  , k, o, t, a]\r\n    [ala, ma, kota]\r\n    [A, B, C]\r\n    [1, 3, 9, 11, 5, 6, 9]\r\n    [1, 3, 9, 11, 5, 6, 9, 11]\r\n    [1, 3, 9, 11, 5, 6, 9, 11]\r\n    [1, 3, 9, 11, 5, 6, 9, 11, 100, 200, 300, 4, 4]\r\n    [1, 3, 9, 11, 5, 6, 9, 11, 100, 200, 300, 4, 4, 3, 4, 5]\r\n    [1, 9, 11, 6, 9, 11, 100, 200, 300]\r\n    []\r\n    [1, 3, 9, 11, 5, 6, 100, 200, 300, 4]\r\n    [[a, b], [X, Y, Z], [1, 2]]\r\n    [[a, X, 1], [b, X, 1], [a, Y, 1], [b, Y, 1], [a, Z, 1], [b, Z, 1], [a, X, 2], [b, X, 2], [a, Y, 2], [b, Y, 2], [a, Z, 2], [b, Z, 2]]\r\n    aX1 bX1 aY1 bY1 aZ1 bZ1 aX2 bX2 aY2 bY2 aZ2 bZ2\r\n    a-X-1 b-X-1 a-Y-1 b-Y-1 a-Z-1 b-Z-1 a-X-2 b-X-2 a-Y-2 b-Y-2 a-Z-2 b-Z-2\r\n    [2, 4, 16, 20, 22, 60, 6, 8]\r\n    [4, 16, 22, 60, 8]\r\n    [16, 22, 60, 8] \r\n\r\nbut it prints now instead this:  \r\n\r\n    [1, 3, 9, 11]\r\n    [5, 6, 9]\r\n    [100, 200, 300]\r\n    [100, 200, 300]\r\n    [3, 4, 5]\r\n    [3, 4, 5]\r\n    [a, l, a,  , m, a,  , k, o, t, a]\r\n    [ala, ma, kota]\r\n    [A, B, C]\r\n    [1, 3, 9, 11, 5, 6, 9]\r\n    [1, 3, 9, 11, 5, 6, 9, 11]\r\n    [1, 3, 9, 11, 5, 6, 9, 11]\r\n    [1, 3, 9, 11, 5, 6, 9, 11, 100, 200, 300, 4, 4]\r\n    [1, 3, 9, 11, 5, 6, 9, 11, 100, 200, 300, 4, 4, 3, 4, 5]\r\n    [1, 9, 11, 6, 9, 11, 100, 200, 300]\r\n    []\r\n    [1, 3, 100, 4, 5, 6, 200, 9, 11, 300]\r\n    [[a, b], [X, Y, Z], [1, 2]]\r\n    [[], [], [], []]\r\n       \r\n       \r\n    [2, 4, 16, 20, 22, 60, 6, 8]\r\n    [4, 16, 22, 60, 8]\r\n    [16, 22, 60, 8]  \r\n\r\nthis is my Main.java: \r\n\r\n    import java.util.*;\r\n    \r\n    // Plik Main.java może być dowolnie modyfikowany,\r\n    // ale punkty uzyskuje się za właściwe dzialanie poszczeg&#243;lnych pokazanych tu metod klasy XList.\r\n    \r\n    // Jeżeli nie oprogramujemy wszystkich metod, to z klasy Main nalezy usunąć te fragmenty,\r\n    // kt&#243;re powodują błędy w kompilacji - w przeciwnym razie nie uzyskamy punkt&#243;w.\r\n    \r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        // Pewne dodatkowe zestawy danych\r\n        Integer[] ints = { 100, 200, 300 };\r\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;(Arrays.asList(3, 4, 5));\r\n       \r\n        // Sposoby tworzenia\r\n        XList&lt;Integer&gt; list1 = new XList&lt;&gt;(1, 3, 9, 11);\r\n        XList&lt;Integer&gt; list2 = XList.of(5, 6, 9);\r\n        XList&lt;Integer&gt; list3 = new XList(ints);\r\n        XList&lt;Integer&gt; list4 = XList.of(ints);\r\n        XList&lt;Integer&gt; list5 = new XList(set);\r\n        XList&lt;Integer&gt; list6 = XList.of(set);\r\n    \r\n        System.out.println(list1);\r\n        System.out.println(list2);\r\n        System.out.println(list3);\r\n        System.out.println(list4);\r\n        System.out.println(list5);\r\n        System.out.println(list6);\r\n       \r\n        // --- i pomocnicze metody do tworzenia z napis&#243;w\r\n        XList&lt;String&gt; slist1 = XList.charsOf(&quot;ala ma kota&quot;);\r\n        XList&lt;String&gt; slist2 = XList.tokensOf(&quot;ala ma kota&quot;);\r\n        XList&lt;String&gt; slist3 = XList.tokensOf(&quot;A-B-C&quot;, &quot;-&quot;);\r\n    \r\n        System.out.println(slist1);\r\n        System.out.println(slist2);\r\n        System.out.println(slist3);\r\n    \r\n        // Metoda union - suma element&#243;w\r\n        List&lt;Integer&gt; m1 = list1.union(list2);  // oczywiście, można podstawiać na List\r\n        System.out.println(m1);\r\n        // można wykonywać wszystkie operacje z interfejsu List, np:\r\n        m1.add(11);\r\n        System.out.println(m1);\r\n        XList&lt;Integer&gt; m2 = (XList&lt;Integer&gt;) m1;\r\n        XList&lt;Integer&gt; m3 = m2.union(ints).union(XList.of(4, 4));\r\n        System.out.println(m2); // m2 się nie zmienia\r\n        System.out.println(m3); // wynik jest w m3\r\n        m3 = m3.union(set);\r\n        System.out.println(m3);\r\n       \r\n        // Widzieliśmy metode union\r\n        // Teraz metoda diff(dowolna kolekcja)\r\n        System.out.println(m3.diff(set));  // wszystko z m3, co nie jest w set\r\n        System.out.println(XList.of(set).diff(m3)); // co jest w set, czego nie ma w m3\r\n       \r\n        // Metoda unique -zwraca nową Xlist bez duplikatow  \r\n        XList&lt;Integer&gt; uniq = m3.unique(); // lista, nie Set\r\n        System.out.println(uniq);    \r\n       \r\n        // kombinacje (kolejność jest istotna)\r\n        List&lt;String&gt; sa = Arrays.asList( &quot;a&quot;, &quot;b&quot;);\r\n        List&lt;String&gt; sb = Arrays.asList( &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot; );\r\n        XList&lt;String&gt; sc = XList.charsOf( &quot;12&quot; );\r\n        XList toCombine = XList.of(sa, sb, sc);  // czy można tu uniknąć użycia typu surowego?\r\n        System.out.println(toCombine);\r\n        XList&lt;XList&lt;String&gt;&gt; cres = toCombine.combine();\r\n        System.out.println(cres);\r\n    \r\n        // collect i join\r\n        XList&lt;String&gt; j1 = cres.collect( list -&gt; list.join());\r\n        System.out.println(j1.join(&quot; &quot;));\r\n        XList&lt;String&gt; j2 =cres.collect( list -&gt; list.join(&quot;-&quot;));\r\n        System.out.println(j2.join(&quot; &quot;));\r\n       \r\n        // forEachWithIndex\r\n        XList&lt;Integer&gt; lmod = XList.of(1,2,8, 10, 11, 30, 3, 4);  \r\n        lmod.forEachWithIndex( (e, i) -&gt; lmod.set(i, e*2));\r\n        System.out.println(lmod);\r\n        lmod.forEachWithIndex( (e, i) -&gt; { if (i % 2 == 0) lmod.remove(e); } );\r\n        System.out.println(lmod);\r\n        lmod.forEachWithIndex( (e, i) -&gt; { if (i % 2 == 0) lmod.remove(i); } );\r\n        System.out.println(lmod); // Pytanie: dlaczego mamy taki efekt?\r\n    \r\n      }\r\n    }\r\n\r\nand XList.java: \r\n\r\n    import java.util.*;\r\n    import java.util.function.BiConsumer;\r\n    import java.util.function.Function;\r\n    \r\n    public class XList &lt;T&gt; extends ArrayList&lt;T&gt; {\r\n        \r\n        public  XList(T... t) {\r\n    \r\n            for(T wrt : t){\r\n                if (wrt instanceof Set&lt;?&gt;) {\r\n                    this.addAll((Set&lt;T&gt;) wrt);\r\n                } else\r\n                    this.add(wrt);\r\n            }\r\n        }\r\n    \r\n        public static &lt;T&gt; XList&lt;T&gt; of(Object... ts) {\r\n    \r\n            XList&lt;T&gt; xList = new XList&lt;&gt;();\r\n    \r\n            for (Object wrt : ts) {\r\n    \r\n                if (wrt instanceof Set&lt;?&gt;) {\r\n                    xList.addAll((Set&lt;T&gt;) wrt);\r\n                } else\r\n                    xList.add((T) wrt);\r\n            }\r\n    \r\n            return xList;\r\n        }\r\n    \r\n        public static XList&lt;String&gt; charsOf(String string) {\r\n    \r\n            char[] tab = string.toCharArray();\r\n            XList&lt;String&gt; xList = new XList&lt;&gt;();\r\n    \r\n            for (int i = 0; i &lt; tab.length; i++) {\r\n                xList.add(String.valueOf(tab[i]));\r\n            }\r\n    \r\n            return xList ;\r\n        }\r\n    \r\n        public static XList&lt;String&gt; tokensOf(String s, String sep) {\r\n    \r\n            String[] tab = s.split(sep);\r\n            XList&lt;String&gt; l;\r\n    \r\n            return l = new XList&lt;&gt;(tab);\r\n        }\r\n    \r\n        public static XList&lt;String&gt; tokensOf(String s) {\r\n    \r\n            return tokensOf(s, &quot; &quot;);\r\n        }\r\n    \r\n    \r\n        public XList&lt;T&gt; union(Collection&lt;T&gt; lista) {\r\n    \r\n            XList&lt;T&gt; xlist = new XList&lt;&gt;();\r\n            Iterator&lt;T&gt; it = this.iterator();\r\n    \r\n            while (it.hasNext()){\r\n                xlist.add(it.next());\r\n            }\r\n    \r\n            it = lista.iterator();\r\n    \r\n            while (it.hasNext()){\r\n                xlist.add(it.next());\r\n            }\r\n    \r\n            return xlist;\r\n        }\r\n    \r\n        public XList&lt;T&gt; union(T[] lista) {\r\n    \r\n            XList&lt;T&gt; xlist = new XList&lt;&gt;();\r\n            Iterator&lt;T&gt; it = this.iterator();\r\n    \r\n            while (it.hasNext()){\r\n                xlist.add(it.next());\r\n            }\r\n    \r\n            for (int i = 0; i &lt; lista.length; i++) {\r\n                xlist.add(lista[i]);\r\n            }\r\n    \r\n            return xlist;\r\n        }\r\n    \r\n    \r\n        public XList&lt;T&gt; diff(Collection obj) {\r\n    \r\n            Set&lt;T&gt; s = new HashSet&lt;&gt;(obj);\r\n            int size;\r\n            Iterator&lt;T&gt; iterator = this.iterator();\r\n            XList&lt;T&gt; xList = new XList&lt;&gt;();\r\n    \r\n            while (iterator.hasNext()){\r\n                xList.add(iterator.next());\r\n            }\r\n            Iterator&lt;T&gt; it;\r\n    \r\n            do{\r\n                it = s.iterator();\r\n                size = xList.size();\r\n    \r\n                while (it.hasNext()) {\r\n                    xList.remove(it.next());\r\n                }\r\n            }while (size != xList.size());\r\n    \r\n            return xList;\r\n        }\r\n    \r\n    \r\n        public XList&lt;T&gt; unique() {\r\n    \r\n            Set&lt;T&gt; s = new HashSet&lt;&gt;(this);\r\n            this.clear();\r\n            Iterator&lt;T&gt; it = s.iterator();\r\n    \r\n            while (it.hasNext()){\r\n                this.add(it.next());\r\n            }\r\n    \r\n            return this;\r\n        }\r\n    \r\n    \r\n        void sout(){\r\n    \r\n            Iterator&lt;T&gt; it = this.iterator();\r\n    \r\n            while (it.hasNext()){\r\n                System.out.println(it.next());\r\n            }\r\n        }\r\n    \r\n    \r\n        public XList&lt;XList&lt;T&gt;&gt; combine() {\r\n            XList&lt;XList&lt;T&gt;&gt; result = new XList&lt;&gt;();\r\n            kombinacjeRekurencyjne(new XList&lt;&gt;(this), result, new XList&lt;T&gt;(), 0);\r\n            return result;\r\n        }\r\n    \r\n        private static &lt;T&gt; void kombinacjeRekurencyjne(XList&lt;XList&lt;T&gt;&gt; listaList, XList&lt;XList&lt;T&gt;&gt; wynik, XList&lt;T&gt; aktualna, int indeks) {\r\n            if (indeks == listaList.size()) {\r\n                wynik.add(aktualna);\r\n                return;\r\n            }\r\n    \r\n            for (T element : listaList.get(indeks)) {\r\n                aktualna.add(element);\r\n                kombinacjeRekurencyjne(listaList, wynik, aktualna, indeks + 1);\r\n                aktualna.remove(aktualna.size() - 1);  // Usuwamy ostatni element, aby wr&#243;cić do poprzedniego stanu\r\n            }\r\n            kombinacjeRekurencyjne(listaList, wynik, aktualna, indeks + 1);\r\n        }\r\n    \r\n    \r\n        public void forEachWithIndex(BiConsumer&lt;T, Integer&gt; consumer) {\r\n    \r\n            for (int i = 0; i &lt; this.size(); i++) {\r\n                consumer.accept(this.get(i), i);\r\n            }\r\n        }\r\n    \r\n        public &lt;R&gt; XList&lt;R&gt; collect(Function&lt;T, R&gt; mapper) {\r\n    \r\n            XList&lt;R&gt; result = new XList&lt;&gt;();\r\n    \r\n            for (T element : this) {\r\n                result.add(mapper.apply(element));\r\n            }\r\n    \r\n            return result;\r\n        }\r\n    \r\n        public String join(){\r\n    \r\n            return join(&quot;&quot;);\r\n        }\r\n    \r\n    \r\n        public String join(String separator) {\r\n    \r\n            StringBuilder result = new StringBuilder();\r\n    \r\n            for (T element : this) {\r\n                result.append(element).append(separator);\r\n            }\r\n            if (result.length() &gt; 0) {\r\n                result.setLength(result.length() - separator.length());\r\n            }\r\n    \r\n            return result.toString();\r\n        }\r\n    }","title":"Hard problem with generics in Java Generics extremly hard problem, nearly unsolvable, 3 problems","body":"<p>Hey I have a problem with generics in Java.</p>\n<p>I need to create an XList class, providing additional capabilities for creating lists and operating on them.\nThe class should contain appropriate constructors and static of methods, allowing you to create XList objects from other collections, arrays and comma-delimited arguments.\nIn addition, auxiliary methods for creating xlists from subtitles:\nofChars(subtitle) - returns an x-list of subtitle characters,\nofTokens(subtitle, [ sep ]) - returns an x-list of subtitle symbols, separated by separators with sep (if none - then by whitespace characters).\nIn addition, provide methods:\nunion(any_collection) - returns a new x-list with the contents of the collection appended to this x-list,\ndiff(any_collection) - returns an x-list containing those elements of this x-list that do not appear in the collection,\nunique() - returns a new x-list that contains all non-repeating elements of this x-list\ncombine() - returns an x-list of combinations of elements from each collection that are elements of this x-list\ncollect(Function) - returns a new x-list, the elements of which are the results of a function applied to the elements of this x-list,\njoin([sep]) - returns a caption, which is a combination of the elements of this x-list, with possibly a separator inserted between them,\nforEachWithIndex(consumer_with_two arguments: element, index) - to iterate through the list with access to both the elements and their indexes.</p>\n<p>This is my Main.java and XList.java files, there is problem with combine (I know it needs to be done in a tree style but honestly no idea how to make it work)\n, collect and join it needs to print to ouput:</p>\n<pre><code>[1, 3, 9, 11]\n[5, 6, 9]\n[100, 200, 300]\n[100, 200, 300]\n[3, 4, 5]\n[3, 4, 5]\n[a, l, a,  , m, a,  , k, o, t, a]\n[ala, ma, kota]\n[A, B, C]\n[1, 3, 9, 11, 5, 6, 9]\n[1, 3, 9, 11, 5, 6, 9, 11]\n[1, 3, 9, 11, 5, 6, 9, 11]\n[1, 3, 9, 11, 5, 6, 9, 11, 100, 200, 300, 4, 4]\n[1, 3, 9, 11, 5, 6, 9, 11, 100, 200, 300, 4, 4, 3, 4, 5]\n[1, 9, 11, 6, 9, 11, 100, 200, 300]\n[]\n[1, 3, 9, 11, 5, 6, 100, 200, 300, 4]\n[[a, b], [X, Y, Z], [1, 2]]\n[[a, X, 1], [b, X, 1], [a, Y, 1], [b, Y, 1], [a, Z, 1], [b, Z, 1], [a, X, 2], [b, X, 2], [a, Y, 2], [b, Y, 2], [a, Z, 2], [b, Z, 2]]\naX1 bX1 aY1 bY1 aZ1 bZ1 aX2 bX2 aY2 bY2 aZ2 bZ2\na-X-1 b-X-1 a-Y-1 b-Y-1 a-Z-1 b-Z-1 a-X-2 b-X-2 a-Y-2 b-Y-2 a-Z-2 b-Z-2\n[2, 4, 16, 20, 22, 60, 6, 8]\n[4, 16, 22, 60, 8]\n[16, 22, 60, 8] \n</code></pre>\n<p>but it prints now instead this:</p>\n<pre><code>[1, 3, 9, 11]\n[5, 6, 9]\n[100, 200, 300]\n[100, 200, 300]\n[3, 4, 5]\n[3, 4, 5]\n[a, l, a,  , m, a,  , k, o, t, a]\n[ala, ma, kota]\n[A, B, C]\n[1, 3, 9, 11, 5, 6, 9]\n[1, 3, 9, 11, 5, 6, 9, 11]\n[1, 3, 9, 11, 5, 6, 9, 11]\n[1, 3, 9, 11, 5, 6, 9, 11, 100, 200, 300, 4, 4]\n[1, 3, 9, 11, 5, 6, 9, 11, 100, 200, 300, 4, 4, 3, 4, 5]\n[1, 9, 11, 6, 9, 11, 100, 200, 300]\n[]\n[1, 3, 100, 4, 5, 6, 200, 9, 11, 300]\n[[a, b], [X, Y, Z], [1, 2]]\n[[], [], [], []]\n   \n   \n[2, 4, 16, 20, 22, 60, 6, 8]\n[4, 16, 22, 60, 8]\n[16, 22, 60, 8]  \n</code></pre>\n<p>this is my Main.java:</p>\n<pre><code>import java.util.*;\n\n// Plik Main.java może być dowolnie modyfikowany,\n// ale punkty uzyskuje się za właściwe dzialanie poszczególnych pokazanych tu metod klasy XList.\n\n// Jeżeli nie oprogramujemy wszystkich metod, to z klasy Main nalezy usunąć te fragmenty,\n// które powodują błędy w kompilacji - w przeciwnym razie nie uzyskamy punktów.\n\npublic class Main {\n  public static void main(String[] args) {\n    // Pewne dodatkowe zestawy danych\n    Integer[] ints = { 100, 200, 300 };\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;(Arrays.asList(3, 4, 5));\n   \n    // Sposoby tworzenia\n    XList&lt;Integer&gt; list1 = new XList&lt;&gt;(1, 3, 9, 11);\n    XList&lt;Integer&gt; list2 = XList.of(5, 6, 9);\n    XList&lt;Integer&gt; list3 = new XList(ints);\n    XList&lt;Integer&gt; list4 = XList.of(ints);\n    XList&lt;Integer&gt; list5 = new XList(set);\n    XList&lt;Integer&gt; list6 = XList.of(set);\n\n    System.out.println(list1);\n    System.out.println(list2);\n    System.out.println(list3);\n    System.out.println(list4);\n    System.out.println(list5);\n    System.out.println(list6);\n   \n    // --- i pomocnicze metody do tworzenia z napisów\n    XList&lt;String&gt; slist1 = XList.charsOf(&quot;ala ma kota&quot;);\n    XList&lt;String&gt; slist2 = XList.tokensOf(&quot;ala ma kota&quot;);\n    XList&lt;String&gt; slist3 = XList.tokensOf(&quot;A-B-C&quot;, &quot;-&quot;);\n\n    System.out.println(slist1);\n    System.out.println(slist2);\n    System.out.println(slist3);\n\n    // Metoda union - suma elementów\n    List&lt;Integer&gt; m1 = list1.union(list2);  // oczywiście, można podstawiać na List\n    System.out.println(m1);\n    // można wykonywać wszystkie operacje z interfejsu List, np:\n    m1.add(11);\n    System.out.println(m1);\n    XList&lt;Integer&gt; m2 = (XList&lt;Integer&gt;) m1;\n    XList&lt;Integer&gt; m3 = m2.union(ints).union(XList.of(4, 4));\n    System.out.println(m2); // m2 się nie zmienia\n    System.out.println(m3); // wynik jest w m3\n    m3 = m3.union(set);\n    System.out.println(m3);\n   \n    // Widzieliśmy metode union\n    // Teraz metoda diff(dowolna kolekcja)\n    System.out.println(m3.diff(set));  // wszystko z m3, co nie jest w set\n    System.out.println(XList.of(set).diff(m3)); // co jest w set, czego nie ma w m3\n   \n    // Metoda unique -zwraca nową Xlist bez duplikatow  \n    XList&lt;Integer&gt; uniq = m3.unique(); // lista, nie Set\n    System.out.println(uniq);    \n   \n    // kombinacje (kolejność jest istotna)\n    List&lt;String&gt; sa = Arrays.asList( &quot;a&quot;, &quot;b&quot;);\n    List&lt;String&gt; sb = Arrays.asList( &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot; );\n    XList&lt;String&gt; sc = XList.charsOf( &quot;12&quot; );\n    XList toCombine = XList.of(sa, sb, sc);  // czy można tu uniknąć użycia typu surowego?\n    System.out.println(toCombine);\n    XList&lt;XList&lt;String&gt;&gt; cres = toCombine.combine();\n    System.out.println(cres);\n\n    // collect i join\n    XList&lt;String&gt; j1 = cres.collect( list -&gt; list.join());\n    System.out.println(j1.join(&quot; &quot;));\n    XList&lt;String&gt; j2 =cres.collect( list -&gt; list.join(&quot;-&quot;));\n    System.out.println(j2.join(&quot; &quot;));\n   \n    // forEachWithIndex\n    XList&lt;Integer&gt; lmod = XList.of(1,2,8, 10, 11, 30, 3, 4);  \n    lmod.forEachWithIndex( (e, i) -&gt; lmod.set(i, e*2));\n    System.out.println(lmod);\n    lmod.forEachWithIndex( (e, i) -&gt; { if (i % 2 == 0) lmod.remove(e); } );\n    System.out.println(lmod);\n    lmod.forEachWithIndex( (e, i) -&gt; { if (i % 2 == 0) lmod.remove(i); } );\n    System.out.println(lmod); // Pytanie: dlaczego mamy taki efekt?\n\n  }\n}\n</code></pre>\n<p>and XList.java:</p>\n<pre><code>import java.util.*;\nimport java.util.function.BiConsumer;\nimport java.util.function.Function;\n\npublic class XList &lt;T&gt; extends ArrayList&lt;T&gt; {\n    \n    public  XList(T... t) {\n\n        for(T wrt : t){\n            if (wrt instanceof Set&lt;?&gt;) {\n                this.addAll((Set&lt;T&gt;) wrt);\n            } else\n                this.add(wrt);\n        }\n    }\n\n    public static &lt;T&gt; XList&lt;T&gt; of(Object... ts) {\n\n        XList&lt;T&gt; xList = new XList&lt;&gt;();\n\n        for (Object wrt : ts) {\n\n            if (wrt instanceof Set&lt;?&gt;) {\n                xList.addAll((Set&lt;T&gt;) wrt);\n            } else\n                xList.add((T) wrt);\n        }\n\n        return xList;\n    }\n\n    public static XList&lt;String&gt; charsOf(String string) {\n\n        char[] tab = string.toCharArray();\n        XList&lt;String&gt; xList = new XList&lt;&gt;();\n\n        for (int i = 0; i &lt; tab.length; i++) {\n            xList.add(String.valueOf(tab[i]));\n        }\n\n        return xList ;\n    }\n\n    public static XList&lt;String&gt; tokensOf(String s, String sep) {\n\n        String[] tab = s.split(sep);\n        XList&lt;String&gt; l;\n\n        return l = new XList&lt;&gt;(tab);\n    }\n\n    public static XList&lt;String&gt; tokensOf(String s) {\n\n        return tokensOf(s, &quot; &quot;);\n    }\n\n\n    public XList&lt;T&gt; union(Collection&lt;T&gt; lista) {\n\n        XList&lt;T&gt; xlist = new XList&lt;&gt;();\n        Iterator&lt;T&gt; it = this.iterator();\n\n        while (it.hasNext()){\n            xlist.add(it.next());\n        }\n\n        it = lista.iterator();\n\n        while (it.hasNext()){\n            xlist.add(it.next());\n        }\n\n        return xlist;\n    }\n\n    public XList&lt;T&gt; union(T[] lista) {\n\n        XList&lt;T&gt; xlist = new XList&lt;&gt;();\n        Iterator&lt;T&gt; it = this.iterator();\n\n        while (it.hasNext()){\n            xlist.add(it.next());\n        }\n\n        for (int i = 0; i &lt; lista.length; i++) {\n            xlist.add(lista[i]);\n        }\n\n        return xlist;\n    }\n\n\n    public XList&lt;T&gt; diff(Collection obj) {\n\n        Set&lt;T&gt; s = new HashSet&lt;&gt;(obj);\n        int size;\n        Iterator&lt;T&gt; iterator = this.iterator();\n        XList&lt;T&gt; xList = new XList&lt;&gt;();\n\n        while (iterator.hasNext()){\n            xList.add(iterator.next());\n        }\n        Iterator&lt;T&gt; it;\n\n        do{\n            it = s.iterator();\n            size = xList.size();\n\n            while (it.hasNext()) {\n                xList.remove(it.next());\n            }\n        }while (size != xList.size());\n\n        return xList;\n    }\n\n\n    public XList&lt;T&gt; unique() {\n\n        Set&lt;T&gt; s = new HashSet&lt;&gt;(this);\n        this.clear();\n        Iterator&lt;T&gt; it = s.iterator();\n\n        while (it.hasNext()){\n            this.add(it.next());\n        }\n\n        return this;\n    }\n\n\n    void sout(){\n\n        Iterator&lt;T&gt; it = this.iterator();\n\n        while (it.hasNext()){\n            System.out.println(it.next());\n        }\n    }\n\n\n    public XList&lt;XList&lt;T&gt;&gt; combine() {\n        XList&lt;XList&lt;T&gt;&gt; result = new XList&lt;&gt;();\n        kombinacjeRekurencyjne(new XList&lt;&gt;(this), result, new XList&lt;T&gt;(), 0);\n        return result;\n    }\n\n    private static &lt;T&gt; void kombinacjeRekurencyjne(XList&lt;XList&lt;T&gt;&gt; listaList, XList&lt;XList&lt;T&gt;&gt; wynik, XList&lt;T&gt; aktualna, int indeks) {\n        if (indeks == listaList.size()) {\n            wynik.add(aktualna);\n            return;\n        }\n\n        for (T element : listaList.get(indeks)) {\n            aktualna.add(element);\n            kombinacjeRekurencyjne(listaList, wynik, aktualna, indeks + 1);\n            aktualna.remove(aktualna.size() - 1);  // Usuwamy ostatni element, aby wrócić do poprzedniego stanu\n        }\n        kombinacjeRekurencyjne(listaList, wynik, aktualna, indeks + 1);\n    }\n\n\n    public void forEachWithIndex(BiConsumer&lt;T, Integer&gt; consumer) {\n\n        for (int i = 0; i &lt; this.size(); i++) {\n            consumer.accept(this.get(i), i);\n        }\n    }\n\n    public &lt;R&gt; XList&lt;R&gt; collect(Function&lt;T, R&gt; mapper) {\n\n        XList&lt;R&gt; result = new XList&lt;&gt;();\n\n        for (T element : this) {\n            result.add(mapper.apply(element));\n        }\n\n        return result;\n    }\n\n    public String join(){\n\n        return join(&quot;&quot;);\n    }\n\n\n    public String join(String separator) {\n\n        StringBuilder result = new StringBuilder();\n\n        for (T element : this) {\n            result.append(element).append(separator);\n        }\n        if (result.length() &gt; 0) {\n            result.setLength(result.length() - separator.length());\n        }\n\n        return result.toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jdbc","atomikos"],"owner":{"account_id":230866,"reputation":653,"user_id":494724,"accept_rate":26,"display_name":"unknown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700806340,"creation_date":1700635417,"question_id":77527804,"body_markdown":"We are currently managing a Spring Hibernate web application operating on Tomcat 8.x, with Atomikos 4.0.4 serving as the transaction manager. The backend database is SQL Server.\r\n\r\nWe have encountered an issue during write operations under high loads, where the system occasionally throws an error stating, &quot;Cannot invoke a rollback operation when the AutoCommit mode is set to &#39;true&#39;.&quot; This occurrence is primarily observed when executing transactions with elevated workloads.\r\n\r\nTo provide additional context, our application utilizes a JNDI connection configured as follows:\r\n\r\n    &lt;Resource name=&quot;JDBC/test&quot; auth=&quot;Container&quot; type=&quot;com.atomikos.jdbc.nonxa.AtomikosNonXADataSourceBean&quot; factory=&quot;com.atomikos.tomcat.EnhancedTomcatAtomikosBeanFactory&quot; driverClassName=&quot;com.microsoft.sqlserver.jdbc.SQLServerDrive/&gt;\r\n\r\nThe error trace associated with this issue is as follows:\r\n\r\n    om.microsoft.sqlserver.jdbc.SQLServerException: Cannot invoke a rollback operation when the AutoCommit mode is set to &quot;true&quot;.\r\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:234)\r\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.rollback(SQLServerConnection.java:3198)\r\n    at com.atomikos.jdbc.nonxa.AtomikosThreadLocalConnection.transactionTerminated(AtomikosThreadLocalConnection.java:382)\r\n    at com.atomikos.jdbc.nonxa.AtomikosNonXAParticipant.rollback(AtomikosNonXAParticipant.java:146)\r\n    at com.atomikos.icatch.imp.TxRollbackOnlyStateHandler.addParticipant(TxRollbackOnlyStateHandler.java:39)\r\n    at com.atomikos.icatch.imp.CompositeTransactionImp.addParticipant(CompositeTransactionImp.java:162)\r\n    at com.atomikos.jdbc.nonxa.AtomikosThreadLocalConnection.updateInTransaction(AtomikosThreadLocalConnection.java:196)\r\n    at com.atomikos.jdbc.nonxa.AtomikosThreadLocalConnection.invoke(AtomikosThreadLocalConnection.java:276)\r\n    at com.sun.proxy.$Proxy120.prepareStatement(Unknown Source)\r\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:146)\r\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:172)\r\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:148)\r\n    at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1940)\r\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1909)\r\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1887)\r\n    at org.hibernate.loader.hql.QueryLoader.iterate(QueryLoader.java:525)\r\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.iterate(QueryTranslatorImpl.java:416)\r\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performIterate(HQLQueryPlan.java:317)\r\n    at org.hibernate.internal.SessionImpl.iterate(SessionImpl.java:1553)\r\n    at org.hibernate.query.internal.AbstractProducedQuery.doIterate(AbstractProducedQuery.java:1352)\r\n    at org.hibernate.query.internal.AbstractProducedQuery.iterate(AbstractProducedQuery.java:1340)\r\n\r\nAny assistance or guidance you could provide on resolving this issue would be greatly appreciated.\r\n\r\nThank you for your time and consideration.\r\n","title":"Cannot invoke a rollback operation when the AutoCommit mode is set to &quot;true&quot; in tomcat-8.5.14 using Atomikos astranscationMaanger","body":"<p>We are currently managing a Spring Hibernate web application operating on Tomcat 8.x, with Atomikos 4.0.4 serving as the transaction manager. The backend database is SQL Server.</p>\n<p>We have encountered an issue during write operations under high loads, where the system occasionally throws an error stating, &quot;Cannot invoke a rollback operation when the AutoCommit mode is set to 'true'.&quot; This occurrence is primarily observed when executing transactions with elevated workloads.</p>\n<p>To provide additional context, our application utilizes a JNDI connection configured as follows:</p>\n<pre><code>&lt;Resource name=&quot;JDBC/test&quot; auth=&quot;Container&quot; type=&quot;com.atomikos.jdbc.nonxa.AtomikosNonXADataSourceBean&quot; factory=&quot;com.atomikos.tomcat.EnhancedTomcatAtomikosBeanFactory&quot; driverClassName=&quot;com.microsoft.sqlserver.jdbc.SQLServerDrive/&gt;\n</code></pre>\n<p>The error trace associated with this issue is as follows:</p>\n<pre><code>om.microsoft.sqlserver.jdbc.SQLServerException: Cannot invoke a rollback operation when the AutoCommit mode is set to &quot;true&quot;.\nat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:234)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.rollback(SQLServerConnection.java:3198)\nat com.atomikos.jdbc.nonxa.AtomikosThreadLocalConnection.transactionTerminated(AtomikosThreadLocalConnection.java:382)\nat com.atomikos.jdbc.nonxa.AtomikosNonXAParticipant.rollback(AtomikosNonXAParticipant.java:146)\nat com.atomikos.icatch.imp.TxRollbackOnlyStateHandler.addParticipant(TxRollbackOnlyStateHandler.java:39)\nat com.atomikos.icatch.imp.CompositeTransactionImp.addParticipant(CompositeTransactionImp.java:162)\nat com.atomikos.jdbc.nonxa.AtomikosThreadLocalConnection.updateInTransaction(AtomikosThreadLocalConnection.java:196)\nat com.atomikos.jdbc.nonxa.AtomikosThreadLocalConnection.invoke(AtomikosThreadLocalConnection.java:276)\nat com.sun.proxy.$Proxy120.prepareStatement(Unknown Source)\nat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:146)\nat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:172)\nat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:148)\nat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1940)\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1909)\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1887)\nat org.hibernate.loader.hql.QueryLoader.iterate(QueryLoader.java:525)\nat org.hibernate.hql.internal.ast.QueryTranslatorImpl.iterate(QueryTranslatorImpl.java:416)\nat org.hibernate.engine.query.spi.HQLQueryPlan.performIterate(HQLQueryPlan.java:317)\nat org.hibernate.internal.SessionImpl.iterate(SessionImpl.java:1553)\nat org.hibernate.query.internal.AbstractProducedQuery.doIterate(AbstractProducedQuery.java:1352)\nat org.hibernate.query.internal.AbstractProducedQuery.iterate(AbstractProducedQuery.java:1340)\n</code></pre>\n<p>Any assistance or guidance you could provide on resolving this issue would be greatly appreciated.</p>\n<p>Thank you for your time and consideration.</p>\n"},{"tags":["java","spring","spring-boot","swagger-ui","spring-kafka"],"answers":[{"comments":[{"owner":{"account_id":4429392,"reputation":1360,"user_id":3606872,"accept_rate":76,"display_name":"Viraj"},"score":0,"creation_date":1683867572,"post_id":75732877,"comment_id":134435219,"body_markdown":"You are right, I have avro dependency and faced similar issue, by forcing above swagger version, issue resolved for me.","body":"You are right, I have avro dependency and faced similar issue, by forcing above swagger version, issue resolved for me."}],"tags":[],"owner":{"account_id":28013930,"reputation":111,"user_id":21395991,"display_name":"clever-developer"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1678795233,"creation_date":1678795233,"answer_id":75732877,"question_id":75732794,"body_markdown":"If you are upgrading from spring 2 to 3 you have to use:\r\n\r\n    implementation &#39;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.3&#39;// swagger ui / openapi 3.0\r\n\r\ninstead of: `implementation &#39;org.springdoc:springdoc-openapi-ui:1.5.8&#39;`\r\n\r\nIf the swagger-ui gives you an error with /v3/api-docs/, maybe is because a dependency conflict, so I was able to solve it by forcing a dependency:\r\n\r\nError:\r\n\r\n    Caused by: java.lang.NoSuchMethodError: &#39;io.swagger.v3.oas.annotations.media.Schema$AdditionalPropertiesValue io.swagger.v3.oas.annotations.media.Schema.additionalProperties()&#39;\r\n            at io.swagger.v3.core.util.AnnotationsUtils.getSchemaFromAnnotation(AnnotationsUtils.java:552) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\r\n            at io.swagger.v3.core.util.AnnotationsUtils.getSchema(AnnotationsUtils.java:1170) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\r\n            at org.springdoc.core.service.GenericParameterService.setSchema(GenericParameterService.java:323) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n            at org.springdoc.core.service.GenericParameterService.buildParameterFromDoc(GenericParameterService.java:299) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n            at org.springdoc.core.service.AbstractRequestService.build(AbstractRequestService.java:321) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n            at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:472) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n            at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:652) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n            at org.springdoc.webmvc.api.OpenApiResource.lambda$calculatePath$11(OpenApiResource.java:219) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\r\n\r\nDependency resolution with gradle:\r\n \r\n    configurations.all {\r\n    resolutionStrategy {\r\n        eachDependency { details -&gt;\r\n            if (details.requested.group == &#39;io.swagger.core.v3&#39;) {\r\n                details.useVersion(&quot;2.2.8&quot;)\r\n                details.because(&#39;Swagger ui and Kafka Avro serializer incoptable dependency io.swagger.core.v3:swagger-annotations&#39;)\r\n            }\r\n\r\n\r\n\r\n","title":"Spring boot 3 and Swagger ui java.lang.NoSuchMethodError: &#39;io.swagger.v3.oas.annotations.media.Schema$AdditionalPropertiesValue additionalProperties()","body":"<p>If you are upgrading from spring 2 to 3 you have to use:</p>\n<pre><code>implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.3'// swagger ui / openapi 3.0\n</code></pre>\n<p>instead of: <code>implementation 'org.springdoc:springdoc-openapi-ui:1.5.8'</code></p>\n<p>If the swagger-ui gives you an error with /v3/api-docs/, maybe is because a dependency conflict, so I was able to solve it by forcing a dependency:</p>\n<p>Error:</p>\n<pre><code>Caused by: java.lang.NoSuchMethodError: 'io.swagger.v3.oas.annotations.media.Schema$AdditionalPropertiesValue io.swagger.v3.oas.annotations.media.Schema.additionalProperties()'\n        at io.swagger.v3.core.util.AnnotationsUtils.getSchemaFromAnnotation(AnnotationsUtils.java:552) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\n        at io.swagger.v3.core.util.AnnotationsUtils.getSchema(AnnotationsUtils.java:1170) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\n        at org.springdoc.core.service.GenericParameterService.setSchema(GenericParameterService.java:323) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n        at org.springdoc.core.service.GenericParameterService.buildParameterFromDoc(GenericParameterService.java:299) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n        at org.springdoc.core.service.AbstractRequestService.build(AbstractRequestService.java:321) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n        at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:472) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n        at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:652) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n        at org.springdoc.webmvc.api.OpenApiResource.lambda$calculatePath$11(OpenApiResource.java:219) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\n</code></pre>\n<p>Dependency resolution with gradle:</p>\n<pre><code>configurations.all {\nresolutionStrategy {\n    eachDependency { details -&gt;\n        if (details.requested.group == 'io.swagger.core.v3') {\n            details.useVersion(&quot;2.2.8&quot;)\n            details.because('Swagger ui and Kafka Avro serializer incoptable dependency io.swagger.core.v3:swagger-annotations')\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1690229388,"post_id":76719942,"comment_id":135321483,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76719942/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27351491,"reputation":1,"user_id":21186346,"display_name":"Sanjivani Shinde"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689759904,"creation_date":1689759800,"answer_id":76719942,"question_id":75732794,"body_markdown":"For the above error just ensure that all your dependencies are compatible by using the command `mvn dependency:tree` \r\nIn my case `io.swagger.core.v3:swagger-models` and `io.swagger.core.v3:swagger-annotations` dependencies version are not compatible with springdoc-openapi-starter-webmvc-ui dependency so after changing the version error got resolved","title":"Spring boot 3 and Swagger ui java.lang.NoSuchMethodError: &#39;io.swagger.v3.oas.annotations.media.Schema$AdditionalPropertiesValue additionalProperties()","body":"<p>For the above error just ensure that all your dependencies are compatible by using the command <code>mvn dependency:tree</code>\nIn my case <code>io.swagger.core.v3:swagger-models</code> and <code>io.swagger.core.v3:swagger-annotations</code> dependencies version are not compatible with springdoc-openapi-starter-webmvc-ui dependency so after changing the version error got resolved</p>\n"},{"tags":[],"owner":{"account_id":3601961,"reputation":1282,"user_id":3005093,"accept_rate":70,"display_name":"DCO"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695133563,"creation_date":1695133563,"answer_id":77135448,"question_id":75732794,"body_markdown":"Another solution could be to exclude the swagger-annotations dependency from springdoc-openapi and include a newer version manually\r\n\r\n    //swagger\r\n    // exclude swagger annotation and use newer version due conflicts with avro serializer\r\n    implementation(&quot;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.2.0&quot;){\r\n        exclude group: &quot;io.swagger.core.v3&quot;, module:&quot;swagger-annotations&quot;\r\n    }\r\n    // https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-annotations\r\n    implementation &#39;io.swagger.core.v3:swagger-annotations:2.2.15&#39;","title":"Spring boot 3 and Swagger ui java.lang.NoSuchMethodError: &#39;io.swagger.v3.oas.annotations.media.Schema$AdditionalPropertiesValue additionalProperties()","body":"<p>Another solution could be to exclude the swagger-annotations dependency from springdoc-openapi and include a newer version manually</p>\n<pre><code>//swagger\n// exclude swagger annotation and use newer version due conflicts with avro serializer\nimplementation(&quot;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.2.0&quot;){\n    exclude group: &quot;io.swagger.core.v3&quot;, module:&quot;swagger-annotations&quot;\n}\n// https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-annotations\nimplementation 'io.swagger.core.v3:swagger-annotations:2.2.15'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695815876,"creation_date":1695815876,"answer_id":77187302,"question_id":75732794,"body_markdown":"in my case, even though I have springdoc-openapi-starter-webmvc-ui i also had to add this dependency \r\n\r\nmvn\r\n\r\n           &lt;dependency&gt;\r\n                &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n                &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.16&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"Spring boot 3 and Swagger ui java.lang.NoSuchMethodError: &#39;io.swagger.v3.oas.annotations.media.Schema$AdditionalPropertiesValue additionalProperties()","body":"<p>in my case, even though I have springdoc-openapi-starter-webmvc-ui i also had to add this dependency</p>\n<p>mvn</p>\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.2.16&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19168283,"reputation":7,"user_id":14002558,"display_name":"Mohammed Masood Ansari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700804903,"creation_date":1700804903,"answer_id":77540966,"question_id":75732794,"body_markdown":"    Please add these two dependency in pom.xml file it worked for me.\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-starter-webmvc-ui --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n                &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.16&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"Spring boot 3 and Swagger ui java.lang.NoSuchMethodError: &#39;io.swagger.v3.oas.annotations.media.Schema$AdditionalPropertiesValue additionalProperties()","body":"<pre><code>Please add these two dependency in pom.xml file it worked for me.\n\n&lt;!-- https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-starter-webmvc-ui --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.2.16&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":28013930,"reputation":111,"user_id":21395991,"display_name":"clever-developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8916,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1700804903,"creation_date":1678794756,"question_id":75732794,"body_markdown":"Hi I&#39;a having and issue with swagger ui after upgrading to spring boot 3. The swagger-ui doesnt work anymore and I got and 404 and &quot;White Label&quot; page as response. \r\n\r\nAfter taking a closer look I need to change \r\nfrom: implementation(group: &#39;org.springdoc&#39;, name: &#39;springdoc-openapi-ui&#39;, version: &#39;1.5.8&#39;)\r\n\r\nto: implementation(group: &#39;org.springdoc&#39;, name: &#39;springdoc-openapi-starter-webmvc-ui&#39;, version: &#39;2.0.3&#39;)\r\n\r\nAfter that it did work, however in one of my other projects we had an issue with a dependency conflict, so the swagger-ui was throwing a 500 where trying to the fetch the /v3/api-docs/:\r\nbetween: io.confluent:kafka-avro-serializer:7.3.1 and springdoc-openapi-starter-webmvc-ui:2.0.3\r\nThose 2 dependencies need to use io.swagger.core.v3:swagger-annotations-jakarta, but with different versions\r\n\r\nSo in gradle I hat to resolve the conflict to force io.swagger.core.v3:swagger-annotations-jakarta:2.2.8.","title":"Spring boot 3 and Swagger ui java.lang.NoSuchMethodError: &#39;io.swagger.v3.oas.annotations.media.Schema$AdditionalPropertiesValue additionalProperties()","body":"<p>Hi I'a having and issue with swagger ui after upgrading to spring boot 3. The swagger-ui doesnt work anymore and I got and 404 and &quot;White Label&quot; page as response.</p>\n<p>After taking a closer look I need to change\nfrom: implementation(group: 'org.springdoc', name: 'springdoc-openapi-ui', version: '1.5.8')</p>\n<p>to: implementation(group: 'org.springdoc', name: 'springdoc-openapi-starter-webmvc-ui', version: '2.0.3')</p>\n<p>After that it did work, however in one of my other projects we had an issue with a dependency conflict, so the swagger-ui was throwing a 500 where trying to the fetch the /v3/api-docs/:\nbetween: io.confluent:kafka-avro-serializer:7.3.1 and springdoc-openapi-starter-webmvc-ui:2.0.3\nThose 2 dependencies need to use io.swagger.core.v3:swagger-annotations-jakarta, but with different versions</p>\n<p>So in gradle I hat to resolve the conflict to force io.swagger.core.v3:swagger-annotations-jakarta:2.2.8.</p>\n"},{"tags":["java","algorithm","hash","set"],"comments":[{"owner":{"account_id":4962911,"reputation":1972,"user_id":3993371,"accept_rate":81,"display_name":"Anindya Dutta"},"score":0,"creation_date":1433860128,"post_id":30734848,"comment_id":49526126,"body_markdown":"How about a pair (sum,product) of the terms in the set? Both of them together would not be common for different sets of numbers (as far as I have seen).","body":"How about a pair (sum,product) of the terms in the set? Both of them together would not be common for different sets of numbers (as far as I have seen)."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1433860212,"post_id":30734848,"comment_id":49526200,"body_markdown":"For example something like `(e1.hashCode() + e2.hashCode() + ... + en.hashCode()) ^ (e1.hashCode() * e2.hashCode() * ... * en.hashCode())`?","body":"For example something like <code>(e1.hashCode() + e2.hashCode() + ... + en.hashCode()) ^ (e1.hashCode() * e2.hashCode() * ... * en.hashCode())</code>?"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1433860263,"post_id":30734848,"comment_id":49526244,"body_markdown":"Did you try to have a look at how Java implements this?","body":"Did you try to have a look at how Java implements this?"},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1433860328,"post_id":30734848,"comment_id":49526296,"body_markdown":"Just did, it sums the `hashCode` of the elements","body":"Just did, it sums the <code>hashCode</code> of the elements"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1433860435,"post_id":30734848,"comment_id":49526380,"body_markdown":"...and for `equals` uses size checking followed by a call to `containsAll()`. Do you have an issue with this sort of implementation?","body":"...and for <code>equals</code> uses size checking followed by a call to <code>containsAll()</code>. Do you have an issue with this sort of implementation?"},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1433860530,"post_id":30734848,"comment_id":49526460,"body_markdown":"Nope, but I wanted to know if there is a better solution, since this collides pretty easily. `[1, 1].hashCode == [2].hashCode`.","body":"Nope, but I wanted to know if there is a better solution, since this collides pretty easily. <code>[1, 1].hashCode == [2].hashCode</code>."},{"owner":{"account_id":3974723,"reputation":2691,"user_id":3278176,"accept_rate":74,"display_name":"Ian2thedv"},"score":0,"creation_date":1433860589,"post_id":30734848,"comment_id":49526505,"body_markdown":"Can you not use the size of the collection as a salt? To avoid above mentioned collisions I mean.","body":"Can you not use the size of the collection as a salt? To avoid above mentioned collisions I mean."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1433860698,"post_id":30734848,"comment_id":49526618,"body_markdown":"Yes, but then `[1, 3].hashCode == [2, 2].hashCode`. Since when is summing a good way to generate a hash code?","body":"Yes, but then <code>[1, 3].hashCode == [2, 2].hashCode</code>. Since when is summing a good way to generate a hash code?"},{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":0,"creation_date":1433861035,"post_id":30734848,"comment_id":49526925,"body_markdown":"@Clashsoft: Wait... you allow duplicate elements in the arrays? Seems to be a easy way to complicate hashcode calculation. Otherwise you could use any operation that is both commutative and associative to combine the hash codes of the individual elements.","body":"@Clashsoft: Wait... you allow duplicate elements in the arrays? Seems to be a easy way to complicate hashcode calculation. Otherwise you could use any operation that is both commutative and associative to combine the hash codes of the individual elements."},{"owner":{"account_id":5051719,"reputation":4603,"user_id":4056099,"accept_rate":89,"display_name":"NoseKnowsAll"},"score":0,"creation_date":1433861046,"post_id":30734848,"comment_id":49526938,"body_markdown":"Seeing as a Set is order independent, you&#39;re going to have to use binary operations that are commutative. I would suggest something like what you said above, except perhaps mod the answer by a non-changing large prime number so as to avoid incredibly large values.","body":"Seeing as a Set is order independent, you&#39;re going to have to use binary operations that are commutative. I would suggest something like what you said above, except perhaps mod the answer by a non-changing large prime number so as to avoid incredibly large values."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1433861181,"post_id":30734848,"comment_id":49527031,"body_markdown":"@fabian no, I don&#39;t o.O. That was just a bad example. But it makes no difference. A proper example would be `[1, 4].hashCode == [2, 3].hashCode`","body":"@fabian no, I don&#39;t o.O. That was just a bad example. But it makes no difference. A proper example would be <code>[1, 4].hashCode == [2, 3].hashCode</code>"},{"owner":{"account_id":383172,"reputation":4337,"user_id":738851,"accept_rate":63,"display_name":"Rob"},"score":0,"creation_date":1433862532,"post_id":30734848,"comment_id":49528072,"body_markdown":"Must your mutable collections implement a hashcode by default? Seems like you&#39;d generally want a hashcode to be constant for any given object. Some interesting reading here: https://www.artima.com/lejava/articles/equality.html","body":"Must your mutable collections implement a hashcode by default? Seems like you&#39;d generally want a hashcode to be constant for any given object. Some interesting reading here: <a href=\"https://www.artima.com/lejava/articles/equality.html\" rel=\"nofollow noreferrer\">artima.com/lejava/articles/equality.html</a>"},{"owner":{"account_id":1707439,"reputation":236126,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":2,"creation_date":1433866727,"post_id":30734848,"comment_id":49531160,"body_markdown":"There is a big difference between &quot;hash of the sum&quot; and &quot;sum of the hashes&quot;. The former, as your examples indicate, is problematic. The latter has fewer problems provided the individual hashes are well-distributed over a large range.","body":"There is a big difference between &quot;hash of the sum&quot; and &quot;sum of the hashes&quot;. The former, as your examples indicate, is problematic. The latter has fewer problems provided the individual hashes are well-distributed over a large range."},{"owner":{"account_id":4611389,"reputation":7253,"user_id":3739391,"accept_rate":100,"display_name":"John Smith"},"score":0,"creation_date":1567010784,"post_id":30734848,"comment_id":101837932,"body_markdown":"run the same sort on both lists, then hash them.","body":"run the same sort on both lists, then hash them."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1567030775,"post_id":30734848,"comment_id":101845288,"body_markdown":"@iliketocode you’d have to make a copy and sorting would also increase time complexity from O(n) to O(n log n)","body":"@iliketocode you’d have to make a copy and sorting would also increase time complexity from O(n) to O(n log n)"}],"answers":[{"comments":[{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":1,"creation_date":1433861289,"post_id":30735365,"comment_id":49527121,"body_markdown":"But what would I do with a `String` when I need an `int` hashCode? This seems like a very resourceful solution.","body":"But what would I do with a <code>String</code> when I need an <code>int</code> hashCode? This seems like a very resourceful solution."},{"owner":{"account_id":239150,"reputation":8342,"user_id":508537,"accept_rate":60,"display_name":"Briguy37"},"score":0,"creation_date":1433861455,"post_id":30735365,"comment_id":49527253,"body_markdown":"@Clashsoft I wasn&#39;t sure if you wanted an `int` or a `String`.  If it&#39;s just an int, then taking the sum of the hashCodes of the individual elements will get you what you need, as long as overflows wrap around instead of causing errors.  If overflows cause errors, then you&#39;ll need to handle that case explicitly and wrap manually.  Same concept though.","body":"@Clashsoft I wasn&#39;t sure if you wanted an <code>int</code> or a <code>String</code>.  If it&#39;s just an int, then taking the sum of the hashCodes of the individual elements will get you what you need, as long as overflows wrap around instead of causing errors.  If overflows cause errors, then you&#39;ll need to handle that case explicitly and wrap manually.  Same concept though."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1433861524,"post_id":30735365,"comment_id":49527309,"body_markdown":"Thanks for the answer, but I want to find a different solution other than summing the hash codes of the elements (see comments).","body":"Thanks for the answer, but I want to find a different solution other than summing the hash codes of the elements (see comments)."},{"owner":{"account_id":239150,"reputation":8342,"user_id":508537,"accept_rate":60,"display_name":"Briguy37"},"score":0,"creation_date":1433861914,"post_id":30735365,"comment_id":49527621,"body_markdown":"@Clashsoft - Note that it really depends on your implementation of hashing numbers whether [1,4] will collide with [2,3].  Remember, you are summing the hash of the number and not the number.  Also, though the string implementation is more resource intensive, that also means it will have more bits in the hash and thus less of a chance for collisions.","body":"@Clashsoft - Note that it really depends on your implementation of hashing numbers whether [1,4] will collide with [2,3].  Remember, you are summing the hash of the number and not the number.  Also, though the string implementation is more resource intensive, that also means it will have more bits in the hash and thus less of a chance for collisions."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1433862195,"post_id":30735365,"comment_id":49527809,"body_markdown":"Typically, the hash code of an integer (if you are not going super-security) is the integer itself. So `1 .hashCode == 1`. Also, since `hashCode` is enforced to be an `int`, I have to use `string.hashCode` in the end anyway.","body":"Typically, the hash code of an integer (if you are not going super-security) is the integer itself. So <code>1 .hashCode == 1</code>. Also, since <code>hashCode</code> is enforced to be an <code>int</code>, I have to use <code>string.hashCode</code> in the end anyway."}],"tags":[],"owner":{"account_id":239150,"reputation":8342,"user_id":508537,"accept_rate":60,"display_name":"Briguy37"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433861027,"creation_date":1433861027,"answer_id":30735365,"question_id":30734848,"body_markdown":"Here&#39;s the pseudocode for a possible implementation:\r\n\r\n    String hashCode = null;\r\n    for(element : elements){\r\n        hashCode = xor(hashCode, getHashCode(element));\r\n    }\r\n    return hashCode;\r\n\r\nThe `xor` function should return a string that is as long as the longest of the two arguments.  It will XOR the bits in each until it gets to the end of one of the arguments.  It will then take the remaining bits from the longer string and append those on.\r\n\r\nThis implementation will mean that the hashCode of a set will be as long as the hashCode of its longest element.  Because you are XORing the bits, at the end the hashcode will be the same regardless of the order of your elements.  However, as with any hashing implementation, there will be the chance for collisions.","title":"Order-independent Hash Algorithm","body":"<p>Here's the pseudocode for a possible implementation:</p>\n\n<pre><code>String hashCode = null;\nfor(element : elements){\n    hashCode = xor(hashCode, getHashCode(element));\n}\nreturn hashCode;\n</code></pre>\n\n<p>The <code>xor</code> function should return a string that is as long as the longest of the two arguments.  It will XOR the bits in each until it gets to the end of one of the arguments.  It will then take the remaining bits from the longer string and append those on.</p>\n\n<p>This implementation will mean that the hashCode of a set will be as long as the hashCode of its longest element.  Because you are XORing the bits, at the end the hashcode will be the same regardless of the order of your elements.  However, as with any hashing implementation, there will be the chance for collisions.</p>\n"},{"comments":[{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1433861376,"post_id":30735385,"comment_id":49527197,"body_markdown":"As I stated in the comments, I already found the JDK solution for this problem, but I want to know about more useful unordered collection hash algorithms with less collision potential.","body":"As I stated in the comments, I already found the JDK solution for this problem, but I want to know about more useful unordered collection hash algorithms with less collision potential."},{"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1433862910,"post_id":30735385,"comment_id":49528330,"body_markdown":"@Clashsoft What collision potential?  If just one of the individual hash codes works well, the entire hash algorithm will be evenly distributed.","body":"@Clashsoft What collision potential?  If just one of the individual hash codes works well, the entire hash algorithm will be evenly distributed."},{"owner":{"account_id":3011136,"reputation":12331,"user_id":2572431,"accept_rate":71,"display_name":"augurar"},"score":1,"creation_date":1499989167,"post_id":30735385,"comment_id":77157623,"body_markdown":"@btilly The [distribution of a sum of uniform random variables](https://en.wikipedia.org/wiki/Irwin%E2%80%93Hall_distribution) is not uniform!","body":"@btilly The <a href=\"https://en.wikipedia.org/wiki/Irwin%E2%80%93Hall_distribution\" rel=\"nofollow noreferrer\">distribution of a sum of uniform random variables</a> is not uniform!"},{"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1500013933,"post_id":30735385,"comment_id":77164421,"body_markdown":"@augurar There are very important differences between real numbers and 32-bit signed integers.  This is one of them.  The people writing `java.set.Util` knew what they were doing and came up with a good strategy here.","body":"@augurar There are very important differences between real numbers and 32-bit signed integers.  This is one of them.  The people writing <code>java.set.Util</code> knew what they were doing and came up with a good strategy here."},{"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1545932092,"post_id":30735385,"comment_id":94736016,"body_markdown":"Scala&#39;s ordering-invariant hash is only based on the sum, product (excluding zeros), count, and XOR of the element hashes, though, so it&#39;s not as collision-resistant as &quot;ordering-invariant version of the Murmurhash algorithm&quot; makes it sound. It&#39;s better than just summing the hashes, but still not that great.","body":"Scala&#39;s ordering-invariant hash is only based on the sum, product (excluding zeros), count, and XOR of the element hashes, though, so it&#39;s not as collision-resistant as &quot;ordering-invariant version of the Murmurhash algorithm&quot; makes it sound. It&#39;s better than just summing the hashes, but still not that great."}],"tags":[],"owner":{"account_id":47598,"reputation":30707,"user_id":141081,"display_name":"Dirk"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1433862466,"creation_date":1433861073,"answer_id":30735385,"question_id":30734848,"body_markdown":"The JDK itself proposes the following solution to this problem. The contract of the [java.util.Set][1] interface states:\r\n\r\n&gt; Returns the hash code value for this set. The hash code of a set is defined to be the sum of the hash codes of the elements in the set, where the hash code of a null element is defined to be zero. This ensures that s1.equals(s2) implies that s1.hashCode()==s2.hashCode() for any two sets s1 and s2, as required by the general contract of Object.hashCode().\r\n\r\nAn alternative to using the sum of the entries&#39; hash codes would be to use, for example, the `^` (XOR) operator.\r\n\r\nThe Scala language uses an ordering-invariant version of the [Murmurhash][2] algorithm (cf. the private [`scala.util.hashing.MurmurHash3`][3] class) to implement the `hashCode` (or `##`) method of its [immutable sets][4] and similar collections.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Set.html#hashCode()\r\n  [2]: http://en.wikipedia.org/wiki/MurmurHash\r\n  [3]: https://github.com/scala/scala/blob/2.11.x/src/library/scala/util/hashing/MurmurHash3.scala\r\n  [4]: https://github.com/scala/scala/blob/2.11.x/src/library/scala/collection/GenSetLike.scala","title":"Order-independent Hash Algorithm","body":"<p>The JDK itself proposes the following solution to this problem. The contract of the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Set.html#hashCode()\" rel=\"noreferrer\">java.util.Set</a> interface states:</p>\n\n<blockquote>\n  <p>Returns the hash code value for this set. The hash code of a set is defined to be the sum of the hash codes of the elements in the set, where the hash code of a null element is defined to be zero. This ensures that s1.equals(s2) implies that s1.hashCode()==s2.hashCode() for any two sets s1 and s2, as required by the general contract of Object.hashCode().</p>\n</blockquote>\n\n<p>An alternative to using the sum of the entries' hash codes would be to use, for example, the <code>^</code> (XOR) operator.</p>\n\n<p>The Scala language uses an ordering-invariant version of the <a href=\"http://en.wikipedia.org/wiki/MurmurHash\" rel=\"noreferrer\">Murmurhash</a> algorithm (cf. the private <a href=\"https://github.com/scala/scala/blob/2.11.x/src/library/scala/util/hashing/MurmurHash3.scala\" rel=\"noreferrer\"><code>scala.util.hashing.MurmurHash3</code></a> class) to implement the <code>hashCode</code> (or <code>##</code>) method of its <a href=\"https://github.com/scala/scala/blob/2.11.x/src/library/scala/collection/GenSetLike.scala\" rel=\"noreferrer\">immutable sets</a> and similar collections.</p>\n"},{"tags":[],"owner":{"account_id":4704818,"reputation":19,"user_id":3807316,"display_name":"Dimitri Sorokin"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1508843708,"creation_date":1508843708,"answer_id":46909096,"question_id":30734848,"body_markdown":"You can calculate the hash sum sorting your collection in alphabetical order.\r\n\r\nThere is the C# sample - I hope you can translate it in Java :)\r\n\r\n    static String GetHash(List&lt;String&gt; l)\r\n    {\r\n        using (System.Security.Cryptography.MD5 md5 = System.Security.Cryptography.MD5.Create())\r\n        {\r\n            return BitConverter.ToString(md5.ComputeHash(l.OrderBy(p =&gt; p).SelectMany(s =&gt; System.Text.Encoding.ASCII.GetBytes(s + (char)0)).ToArray())).Replace(&quot;-&quot;, &quot;&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Order-independent Hash Algorithm","body":"<p>You can calculate the hash sum sorting your collection in alphabetical order.</p>\n\n<p>There is the C# sample - I hope you can translate it in Java :)</p>\n\n<pre><code>static String GetHash(List&lt;String&gt; l)\n{\n    using (System.Security.Cryptography.MD5 md5 = System.Security.Cryptography.MD5.Create())\n    {\n        return BitConverter.ToString(md5.ComputeHash(l.OrderBy(p =&gt; p).SelectMany(s =&gt; System.Text.Encoding.ASCII.GetBytes(s + (char)0)).ToArray())).Replace(\"-\", \"\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1796915,"reputation":380,"user_id":1636137,"display_name":"DanyloStackylo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700803868,"creation_date":1700803868,"answer_id":77540905,"question_id":30734848,"body_markdown":"If you&#39;re looking for an out-of-the box solution, [Guava][1] could be utilized:\r\n\r\n    import java.util.Set;\r\n\r\n    import com.google.common.base.Charsets;\r\n    import com.google.common.hash.HashCode;\r\n    import com.google.common.hash.HashFunction;\r\n    import com.google.common.hash.Hashing;\r\n\r\n    ...\r\n\r\n    public String hash(final Set&lt;String&gt; strings) {\r\n        final HashFunction function = Hashing.murmur3_128();\r\n\r\n        // Hashing.combineUnordered will throw an exception if input is empty.\r\n        if (strings.isEmpty()) {\r\n            return function.newHasher()\r\n                .hash()\r\n                .toString();\r\n        }\r\n\r\n        final List&lt;HashCode&gt; stringsHashes = strings.stream()\r\n                .map(string -&gt; function.newHasher()\r\n                        .putString(string, Charsets.UTF_8)\r\n                        .hash())\r\n                .toList();\r\n\r\n        return Hashing.combineUnordered(stringsHashes).toString();\r\n    }\r\n\r\nTo address authors concern:\r\n\r\n&gt; ... hash algorithms with less collision potential.\r\n\r\n[sha256][2] could be used instead of `murmur3_128`.\r\n\r\nAlso, you can adapt it to any input type, not just strings, using [Funnels][3].\r\n\r\n\r\n  [1]: https://github.com/google/guava/wiki/HashingExplained\r\n  [2]: https://guava.dev/releases/snapshot/api/docs/com/google/common/hash/Hashing.html#sha256--\r\n  [3]: https://github.com/google/guava/wiki/HashingExplained#funnel","title":"Order-independent Hash Algorithm","body":"<p>If you're looking for an out-of-the box solution, <a href=\"https://github.com/google/guava/wiki/HashingExplained\" rel=\"nofollow noreferrer\">Guava</a> could be utilized:</p>\n<pre><code>import java.util.Set;\n\nimport com.google.common.base.Charsets;\nimport com.google.common.hash.HashCode;\nimport com.google.common.hash.HashFunction;\nimport com.google.common.hash.Hashing;\n\n...\n\npublic String hash(final Set&lt;String&gt; strings) {\n    final HashFunction function = Hashing.murmur3_128();\n\n    // Hashing.combineUnordered will throw an exception if input is empty.\n    if (strings.isEmpty()) {\n        return function.newHasher()\n            .hash()\n            .toString();\n    }\n\n    final List&lt;HashCode&gt; stringsHashes = strings.stream()\n            .map(string -&gt; function.newHasher()\n                    .putString(string, Charsets.UTF_8)\n                    .hash())\n            .toList();\n\n    return Hashing.combineUnordered(stringsHashes).toString();\n}\n</code></pre>\n<p>To address authors concern:</p>\n<blockquote>\n<p>... hash algorithms with less collision potential.</p>\n</blockquote>\n<p><a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/hash/Hashing.html#sha256--\" rel=\"nofollow noreferrer\">sha256</a> could be used instead of <code>murmur3_128</code>.</p>\n<p>Also, you can adapt it to any input type, not just strings, using <a href=\"https://github.com/google/guava/wiki/HashingExplained#funnel\" rel=\"nofollow noreferrer\">Funnels</a>.</p>\n"}],"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9248,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":30735385,"answer_count":4,"score":20,"last_activity_date":1700803868,"creation_date":1433859783,"question_id":30734848,"body_markdown":"I am currently working on a collection library for my custom programming language. I already have several data types (Collection, List, Map, Set) and implementations for them (mutable and immutable), but what I was missing so far was `hashCode` and `equals`. While these are no problem for Lists as they are ordered collections, the play a special role for Sets and Maps. Two Sets are considered equal if they have the same size and the same elements, and the order in which the Sets maintain them should not make a difference in their equality. Because of the equals-hashCode-contract, the `hashCode` implementation also has to reflect this behavior, meaning that two sets with the same elements but different ordering should have the same hash code. (The same applies for Maps, which are technically a Set of Key-Value-Pairs)\r\n\r\n**Example** (Pseudocode):\r\n\r\n    let&#160;set1: Set&lt;String&gt; = [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]\r\n    let set2: Set&lt;String&gt; = [ &quot;b&quot;, &quot;c&quot;, &quot;a&quot; ]\r\n    set1 == set2       // should return true\r\n    set1.hashCode == set2.hashCode // should also return true\r\n\r\nHow would I implement a reasonably good hash algorithm for which the `hashCode`s in the above example return the same value?","title":"Order-independent Hash Algorithm","body":"<p>I am currently working on a collection library for my custom programming language. I already have several data types (Collection, List, Map, Set) and implementations for them (mutable and immutable), but what I was missing so far was <code>hashCode</code> and <code>equals</code>. While these are no problem for Lists as they are ordered collections, the play a special role for Sets and Maps. Two Sets are considered equal if they have the same size and the same elements, and the order in which the Sets maintain them should not make a difference in their equality. Because of the equals-hashCode-contract, the <code>hashCode</code> implementation also has to reflect this behavior, meaning that two sets with the same elements but different ordering should have the same hash code. (The same applies for Maps, which are technically a Set of Key-Value-Pairs)</p>\n\n<p><strong>Example</strong> (Pseudocode):</p>\n\n<pre><code>let set1: Set&lt;String&gt; = [ \"a\", \"b\", \"c\" ]\nlet set2: Set&lt;String&gt; = [ \"b\", \"c\", \"a\" ]\nset1 == set2       // should return true\nset1.hashCode == set2.hashCode // should also return true\n</code></pre>\n\n<p>How would I implement a reasonably good hash algorithm for which the <code>hashCode</code>s in the above example return the same value?</p>\n"},{"tags":["java","maven","liferay","liferay-7","wab"],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700803623,"creation_date":1700680338,"answer_id":77532565,"question_id":77529611,"body_markdown":"There&#39;s no need for the 6.x style hooks. You can implement a servlet filter following [this example][1]:\r\n\r\n    @Component(\r\n    \t\timmediate = true,\r\n    \t\tproperty = {\r\n    \r\n    // To figure out valid values for before-filter, look up Liferay&#39;s\r\n    // WEB-INF/liferay-web.xml\r\n    \r\n    \t\t\t\t&quot;before-filter=Auto Login Filter&quot;,\r\n    \t\t\t\t&quot;dispatcher=REQUEST&quot;,\r\n    //\t\t\t\t&quot;dispatcher=FORWARD&quot;,\r\n    //\t\t\t\t&quot;dispatcher=ASYNC&quot;,\r\n    //\t\t\t\t&quot;dispatcher=ERROR&quot;,\r\n    //\t\t\t\t&quot;dispatcher=INCLUDE&quot;,\r\n    \t\t\t\t&quot;servlet-context-name=&quot;,\r\n    \r\n    \t\t\t\t// Pick your own unique filter name! Make sure to pick a\r\n    \t\t\t\t// different one for every filter you write - see LPS-107575\r\n    \r\n    \t\t\t\t&quot;servlet-filter-name=Blade Servlet Filter&quot;,\r\n    \t\t\t\t&quot;url-pattern=/web/*&quot;,\r\n    \t\t\t\t&quot;url-pattern=/change/me&quot;\r\n    \t\t},\r\n    \t\tservice = Filter.class\r\n    )\r\n    public class BladeServletFilter extends BaseFilter {\r\n    \r\n    \t@Override\r\n    \tprotected Log getLog() {\r\n    \t\treturn _log;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void processFilter(\r\n    \t\t\tHttpServletRequest httpServletRequest,\r\n    \t\t\tHttpServletResponse httpServletResponse, FilterChain filterChain)\r\n    \t\tthrows Exception {\r\n    \r\n    \t\t// implement your own logic here\r\n    \t\t// determine if you shortcut, or continue in the filter chain\r\n    \r\n    \t\thttpServletResponse.addHeader(\r\n    \t\t\t&quot;X-Blade-Servlet-Filter&quot;, httpServletRequest.getRequestURI());\r\n    \r\n    \t\tprocessFilter(\r\n    \t\t\tBladeServletFilter.class.getName(), httpServletRequest,\r\n    \t\t\thttpServletResponse, filterChain);\r\n    \t}\r\n    \r\n    \tprivate static final Log _log = LogFactoryUtil.getLog(\r\n    \t\tBladeServletFilter.class);\r\n    \r\n    }\r\n\r\n  [1]: https://github.com/liferay/liferay-blade-samples/blob/master/liferay-workspace/extensions/servlet-filter/src/main/java/com/liferay/blade/samples/servletfilter/BladeServletFilter.java\r\n","title":"Compiling a OSGi bundle with registered hook for Liferay","body":"<p>There's no need for the 6.x style hooks. You can implement a servlet filter following <a href=\"https://github.com/liferay/liferay-blade-samples/blob/master/liferay-workspace/extensions/servlet-filter/src/main/java/com/liferay/blade/samples/servletfilter/BladeServletFilter.java\" rel=\"nofollow noreferrer\">this example</a>:</p>\n<pre><code>@Component(\n        immediate = true,\n        property = {\n\n// To figure out valid values for before-filter, look up Liferay's\n// WEB-INF/liferay-web.xml\n\n                &quot;before-filter=Auto Login Filter&quot;,\n                &quot;dispatcher=REQUEST&quot;,\n//              &quot;dispatcher=FORWARD&quot;,\n//              &quot;dispatcher=ASYNC&quot;,\n//              &quot;dispatcher=ERROR&quot;,\n//              &quot;dispatcher=INCLUDE&quot;,\n                &quot;servlet-context-name=&quot;,\n\n                // Pick your own unique filter name! Make sure to pick a\n                // different one for every filter you write - see LPS-107575\n\n                &quot;servlet-filter-name=Blade Servlet Filter&quot;,\n                &quot;url-pattern=/web/*&quot;,\n                &quot;url-pattern=/change/me&quot;\n        },\n        service = Filter.class\n)\npublic class BladeServletFilter extends BaseFilter {\n\n    @Override\n    protected Log getLog() {\n        return _log;\n    }\n\n    @Override\n    protected void processFilter(\n            HttpServletRequest httpServletRequest,\n            HttpServletResponse httpServletResponse, FilterChain filterChain)\n        throws Exception {\n\n        // implement your own logic here\n        // determine if you shortcut, or continue in the filter chain\n\n        httpServletResponse.addHeader(\n            &quot;X-Blade-Servlet-Filter&quot;, httpServletRequest.getRequestURI());\n\n        processFilter(\n            BladeServletFilter.class.getName(), httpServletRequest,\n            httpServletResponse, filterChain);\n    }\n\n    private static final Log _log = LogFactoryUtil.getLog(\n        BladeServletFilter.class);\n\n}\n</code></pre>\n"}],"owner":{"account_id":29964765,"reputation":3,"user_id":22963599,"display_name":"Dalimil Rozpr&#253;m"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77532565,"answer_count":1,"score":0,"last_activity_date":1700803623,"creation_date":1700653070,"question_id":77529611,"body_markdown":"I am trying to make configurable logging application for Liferay 7.4.3 with Apache Maven. I have no problem making the app configurable using [this approach](https://learn.liferay.com/w/dxp/building-applications/core-frameworks/configuration-framework/setting-and-accessing-configurations), when compiling the project as a OSGi bundle (using bnd-maven-plugin).\r\n\r\nHowever I need to register the hook in the webapp/WEB-INF/liferay-hook.xml such as:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;!DOCTYPE hook PUBLIC &quot;-//Liferay//DTD Hook 7.1.0//EN&quot; &quot;http://www.liferay.com/dtd/liferay-hook_7_1_0.dtd&quot;&gt;\r\n\r\n&lt;hook&gt;\r\n\t&lt;servlet-filter&gt;\r\n\t\t&lt;servlet-filter-name&gt;My Hook&lt;/servlet-filter-name&gt;\r\n\t\t&lt;servlet-filter-impl&gt;MyHook&lt;/servlet-filter-impl&gt;\r\n\t&lt;/servlet-filter&gt;\r\n\t&lt;servlet-filter-mapping&gt;\r\n\t\t&lt;servlet-filter-name&gt;My Hook&lt;/servlet-filter-name&gt;\r\n\t\t&lt;before-filter&gt;SSO Open SSO Filter&lt;/before-filter&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-filter-mapping&gt;\r\n&lt;/hook&gt;\r\n```\r\n\r\nIs there a way to combine both hook and a configurable app into single application? i.e. Compiling a OSGi bundle in such a way that would contain hook registration in webapp/WEB-INF/liferay-hook.xml?\r\n\r\nI have a working implementation of application with hook using that approach, however it is compiled as a WAR to include the WEB-INF folder.\r\n\r\nI tried compiling the app as a WAB using both bnd-maven-plugin and maven-bundle-plugin to no avail.","title":"Compiling a OSGi bundle with registered hook for Liferay","body":"<p>I am trying to make configurable logging application for Liferay 7.4.3 with Apache Maven. I have no problem making the app configurable using <a href=\"https://learn.liferay.com/w/dxp/building-applications/core-frameworks/configuration-framework/setting-and-accessing-configurations\" rel=\"nofollow noreferrer\">this approach</a>, when compiling the project as a OSGi bundle (using bnd-maven-plugin).</p>\n<p>However I need to register the hook in the webapp/WEB-INF/liferay-hook.xml such as:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!DOCTYPE hook PUBLIC &quot;-//Liferay//DTD Hook 7.1.0//EN&quot; &quot;http://www.liferay.com/dtd/liferay-hook_7_1_0.dtd&quot;&gt;\n\n&lt;hook&gt;\n    &lt;servlet-filter&gt;\n        &lt;servlet-filter-name&gt;My Hook&lt;/servlet-filter-name&gt;\n        &lt;servlet-filter-impl&gt;MyHook&lt;/servlet-filter-impl&gt;\n    &lt;/servlet-filter&gt;\n    &lt;servlet-filter-mapping&gt;\n        &lt;servlet-filter-name&gt;My Hook&lt;/servlet-filter-name&gt;\n        &lt;before-filter&gt;SSO Open SSO Filter&lt;/before-filter&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-filter-mapping&gt;\n&lt;/hook&gt;\n</code></pre>\n<p>Is there a way to combine both hook and a configurable app into single application? i.e. Compiling a OSGi bundle in such a way that would contain hook registration in webapp/WEB-INF/liferay-hook.xml?</p>\n<p>I have a working implementation of application with hook using that approach, however it is compiled as a WAR to include the WEB-INF folder.</p>\n<p>I tried compiling the app as a WAB using both bnd-maven-plugin and maven-bundle-plugin to no avail.</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1700724769,"post_id":77534706,"comment_id":136690024,"body_markdown":"You should be able to do this using a **single** `for` loop *and* match your exact pattern.","body":"You should be able to do this using a <b>single</b> <code>for</code> loop <i>and</i> match your exact pattern."}],"answers":[{"tags":[],"owner":{"account_id":7718592,"reputation":119,"user_id":5845487,"display_name":"Hassan Golshani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700722698,"creation_date":1700722698,"answer_id":77534869,"question_id":77534706,"body_markdown":"Try this one:\r\n\r\n        for (int i = num; i &gt;= 1; i--) {\r\n            System.out.println(i);\r\n            for (int j = i - 1; j &gt;= 1; j--) {\r\n                for (int k = i; k &gt;= j; k--) {\r\n                    System.out.print(k);\r\n                    if (k &gt; j) {\r\n                        System.out.print(&quot;-&quot;);\r\n                    }\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n\r\n","title":"Java for loop decrementing","body":"<p>Try this one:</p>\n<pre><code>    for (int i = num; i &gt;= 1; i--) {\n        System.out.println(i);\n        for (int j = i - 1; j &gt;= 1; j--) {\n            for (int k = i; k &gt;= j; k--) {\n                System.out.print(k);\n                if (k &gt; j) {\n                    System.out.print(&quot;-&quot;);\n                }\n            }\n            System.out.println();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4983788,"reputation":16,"user_id":4008000,"display_name":"Bryanayrb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700773845,"creation_date":1700728809,"answer_id":77535400,"question_id":77534706,"body_markdown":"Just use loop and recursion, like in the sample below:\r\n\r\n```\r\npublic static void doDecrement(int n)\r\n  {\r\n    String a = &quot;&quot;;\r\n    for (int i = n; i &gt;= 1; i--)\r\n    {\r\n\r\n      a += i;\r\n      System.out.println(a + (n == 1 ? &quot;-&quot; + n : &quot;&quot;));\r\n      a += &quot;-&quot;;\r\n\r\n    }\r\n    --n;\r\n    if (n != 0)\r\n      doDecrement(n);\r\n  }\r\n```\r\n","title":"Java for loop decrementing","body":"<p>Just use loop and recursion, like in the sample below:</p>\n<pre><code>public static void doDecrement(int n)\n  {\n    String a = &quot;&quot;;\n    for (int i = n; i &gt;= 1; i--)\n    {\n\n      a += i;\n      System.out.println(a + (n == 1 ? &quot;-&quot; + n : &quot;&quot;));\n      a += &quot;-&quot;;\n\n    }\n    --n;\n    if (n != 0)\n      doDecrement(n);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700803518,"creation_date":1700803518,"answer_id":77540888,"question_id":77534706,"body_markdown":"Here is an example.\r\n\r\n```java\r\nStringBuilder s = new StringBuilder();\r\nint i, j, n, x = n = 4;\r\nString[] a = new String[x];\r\nfor (i = x; i &gt;= 1; i--) a[n - i] = String.valueOf(i);\r\nfor (i = n; i &gt;= 1; i--, n = a.length) {\r\n    for (j = 0; j &lt; n; j++) {\r\n        s.append(String.join(&quot;-&quot;, Arrays.copyOfRange(a, 0, j + 1)));\r\n        s.append(&#39;\\n&#39;);\r\n    }\r\n    a = Arrays.copyOfRange(a, 1, a.length);\r\n}\r\n```\r\n\r\n```none\r\n4\r\n4-3\r\n4-3-2\r\n4-3-2-1\r\n3\r\n3-2\r\n3-2-1\r\n2\r\n2-1\r\n1\r\n```","title":"Java for loop decrementing","body":"<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder s = new StringBuilder();\nint i, j, n, x = n = 4;\nString[] a = new String[x];\nfor (i = x; i &gt;= 1; i--) a[n - i] = String.valueOf(i);\nfor (i = n; i &gt;= 1; i--, n = a.length) {\n    for (j = 0; j &lt; n; j++) {\n        s.append(String.join(&quot;-&quot;, Arrays.copyOfRange(a, 0, j + 1)));\n        s.append('\\n');\n    }\n    a = Arrays.copyOfRange(a, 1, a.length);\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>4\n4-3\n4-3-2\n4-3-2-1\n3\n3-2\n3-2-1\n2\n2-1\n1\n</code></pre>\n"}],"owner":{"account_id":29972411,"reputation":1,"user_id":22969378,"display_name":"yiyiyiy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77535400,"answer_count":3,"score":-1,"last_activity_date":1700803518,"creation_date":1700720476,"question_id":77534706,"body_markdown":"can you guys pls help me\r\n\r\ni want to code where the user will enter a number and then using for loop it will display the number in decrement for example:\r\n\r\nEnter a number: 4\r\n\r\nOUTPUT:  \r\n4      \r\n4-3  \r\n4-3-2   \r\n4-3-2-1    \r\n3  \r\n3-2   \r\n3-2-1    \r\n2       \r\n2-1   \r\n1-1\r\n\r\n\r\ncode it using for loop\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xkl4n.png\r\n\r\n\r\n\r\n\r\n\r\n\r\nthis is my attempt code i&#39;m getting confused:\r\n\r\n      for (int i = num; i &gt;= 1; i--) {\r\n          for (int j = 1; j &lt;= i; j++)\r\n             {\r\n                   System.out.print(i+ &quot;-&quot; );\r\n              for (int k = num; k&gt;=i; k--)\r\n                 {\r\n                    System.out.print(k);\r\n                }\r\n                System.out.println();\r\n            }","title":"Java for loop decrementing","body":"<p>can you guys pls help me</p>\n<p>i want to code where the user will enter a number and then using for loop it will display the number in decrement for example:</p>\n<p>Enter a number: 4</p>\n<p>OUTPUT:<br />\n4<br />\n4-3<br />\n4-3-2<br />\n4-3-2-1<br />\n3<br />\n3-2<br />\n3-2-1<br />\n2<br />\n2-1<br />\n1-1</p>\n<p>code it using for loop</p>\n<p>this is my attempt code i'm getting confused:</p>\n<pre><code>  for (int i = num; i &gt;= 1; i--) {\n      for (int j = 1; j &lt;= i; j++)\n         {\n               System.out.print(i+ &quot;-&quot; );\n          for (int k = num; k&gt;=i; k--)\n             {\n                System.out.print(k);\n            }\n            System.out.println();\n        }\n</code></pre>\n"},{"tags":["java","hash","set","unordered"],"comments":[{"owner":{"account_id":2076216,"reputation":520,"user_id":1849492,"display_name":"Szigy&#225;rt&#243; Mih&#225;ly"},"score":0,"creation_date":1510520834,"post_id":47253864,"comment_id":81458293,"body_markdown":"Why do youneed to overwrite the hash algorithm of the set?","body":"Why do youneed to overwrite the hash algorithm of the set?"},{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":0,"creation_date":1510521294,"post_id":47253864,"comment_id":81458459,"body_markdown":"@Szigy&#225;rt&#243;Mih&#225;ly no need to overwrite, I&#39;m looking for an simple example. I know MD5, which is order sensitive and MurmurHash which shouldn&#39;t, but I could not find an example of using it.","body":"@Szigy&#225;rt&#243;Mih&#225;ly no need to overwrite, I&#39;m looking for an simple example. I know MD5, which is order sensitive and MurmurHash which shouldn&#39;t, but I could not find an example of using it."},{"owner":{"account_id":2076216,"reputation":520,"user_id":1849492,"display_name":"Szigy&#225;rt&#243; Mih&#225;ly"},"score":0,"creation_date":1510642518,"post_id":47253864,"comment_id":81509273,"body_markdown":"The set uses the sum of items&#39; hashes, which is not depending on the order.","body":"The set uses the sum of items&#39; hashes, which is not depending on the order."}],"answers":[{"comments":[{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":0,"creation_date":1510521486,"post_id":47254051,"comment_id":81458524,"body_markdown":"Yes, thank you; the background of the question (though downwoted) was if I should go this way or use some alternative hash algorithm that can combine unsorted and possible receive less collisions.","body":"Yes, thank you; the background of the question (though downwoted) was if I should go this way or use some alternative hash algorithm that can combine unsorted and possible receive less collisions."},{"owner":{"account_id":2119697,"reputation":998,"user_id":1883236,"display_name":"Elyor Murodov"},"score":0,"creation_date":1510522994,"post_id":47254051,"comment_id":81459020,"body_markdown":"@MarmiteBomber, added an example.","body":"@MarmiteBomber, added an example."}],"tags":[],"owner":{"account_id":2119697,"reputation":998,"user_id":1883236,"display_name":"Elyor Murodov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510522838,"creation_date":1510521291,"answer_id":47254051,"question_id":47253864,"body_markdown":"You can calculate the MD5 hash of each string individually, and then, add them all to get a single hash. That will be order independent. Because addition operation is commutative.\r\n\r\nHere is an example (assuming we have a method **md5Hex(String str)** that calculates md5 hash for a given string and returns the results in hexadecimal format):\r\n\r\n    String[] strings = {&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot;, ...};\r\n\r\n    BigInteger hashSum = BigInteger.ZERO;\r\n    for(String s : strings) {\r\n        String hexHash = md5Hex(s);\r\n        hashSum = hashSum.add(new BigInteger(hexHash, 16));\r\n    }\r\n\r\n    String finalHash = hashSum.toString(16);\r\n\r\n","title":"Order Independent Hash in Java","body":"<p>You can calculate the MD5 hash of each string individually, and then, add them all to get a single hash. That will be order independent. Because addition operation is commutative.</p>\n\n<p>Here is an example (assuming we have a method <strong>md5Hex(String str)</strong> that calculates md5 hash for a given string and returns the results in hexadecimal format):</p>\n\n<pre><code>String[] strings = {\"str1\", \"str2\", \"str3\", ...};\n\nBigInteger hashSum = BigInteger.ZERO;\nfor(String s : strings) {\n    String hexHash = md5Hex(s);\n    hashSum = hashSum.add(new BigInteger(hexHash, 16));\n}\n\nString finalHash = hashSum.toString(16);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1903131,"reputation":9607,"user_id":1718554,"accept_rate":85,"display_name":"Luke Joshua Park"},"score":0,"creation_date":1510525251,"post_id":47254553,"comment_id":81459795,"body_markdown":"This is the preferred method.  XORing the hashes is better than adding them.","body":"This is the preferred method.  XORing the hashes is better than adding them."},{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":2,"creation_date":1638797031,"post_id":47254553,"comment_id":124175742,"body_markdown":"Yes, this is true for *sets*, but for *bags* that can contains duplicates `XOR` is not applicable as the duplicates will reset it to *zero* @LukeJoshuaPark, so some `SUM` (wrapped) must be used.","body":"Yes, this is true for <i>sets</i>, but for <i>bags</i> that can contains duplicates <code>XOR</code> is not applicable as the duplicates will reset it to <i>zero</i> @LukeJoshuaPark, so some <code>SUM</code> (wrapped) must be used."}],"tags":[],"owner":{"account_id":1680363,"reputation":7992,"user_id":1544715,"accept_rate":71,"display_name":"Magnus"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1510524443,"creation_date":1510524443,"answer_id":47254553,"question_id":47253864,"body_markdown":"Just XOR each hash and the order wont matter, plus the hash size will be fixed rather than grow with the size of the collection.\r\n\r\n**Hashcode using built in java string hashcode:**\r\n\r\n    int hashcode = strings.stream()\r\n            .mapToInt(Object::hashCode)\r\n            .reduce(0, (left, right) -&gt; left ^ right);\r\n\r\n**Hashcode using guava and MD5 like the question asked:**\r\n\r\n    Optional&lt;byte[]&gt; hash = strings.stream()\r\n            .map(s -&gt; Hashing.md5().hashString(s, Charset.defaultCharset()))\r\n            .map(HashCode::asBytes)\r\n            .reduce((left, right) -&gt; xor(left, right));\r\n\r\n\r\n    static byte[] xor(byte[] left, byte[] right) {\r\n        if(left.length != right.length) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        byte[] result = new byte[left.length];\r\n        for(int i=0; i &lt; result.length; i++) {\r\n            result[i] = (byte) (left[i] ^ right[i]);\r\n        }\r\n        return result;\r\n    }","title":"Order Independent Hash in Java","body":"<p>Just XOR each hash and the order wont matter, plus the hash size will be fixed rather than grow with the size of the collection.</p>\n\n<p><strong>Hashcode using built in java string hashcode:</strong></p>\n\n<pre><code>int hashcode = strings.stream()\n        .mapToInt(Object::hashCode)\n        .reduce(0, (left, right) -&gt; left ^ right);\n</code></pre>\n\n<p><strong>Hashcode using guava and MD5 like the question asked:</strong></p>\n\n<pre><code>Optional&lt;byte[]&gt; hash = strings.stream()\n        .map(s -&gt; Hashing.md5().hashString(s, Charset.defaultCharset()))\n        .map(HashCode::asBytes)\n        .reduce((left, right) -&gt; xor(left, right));\n\n\nstatic byte[] xor(byte[] left, byte[] right) {\n    if(left.length != right.length) {\n        throw new IllegalArgumentException();\n    }\n    byte[] result = new byte[left.length];\n    for(int i=0; i &lt; result.length; i++) {\n        result[i] = (byte) (left[i] ^ right[i]);\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1796915,"reputation":380,"user_id":1636137,"display_name":"DanyloStackylo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700803263,"creation_date":1700803263,"answer_id":77540878,"question_id":47253864,"body_markdown":"Here&#39;s an example using Guava to calculate order-independent hash of a set of strings:\r\n\r\n    import java.util.Set;\r\n\r\n    import com.google.common.base.Charsets;\r\n    import com.google.common.hash.HashCode;\r\n    import com.google.common.hash.HashFunction;\r\n    import com.google.common.hash.Hashing;\r\n\r\n    ...\r\n\r\n    public String hash(final Set&lt;String&gt; strings) {\r\n        final HashFunction function = Hashing.murmur3_128();\r\n\r\n        // Hashing.combineUnordered will throw an exception if input is empty.\r\n        if (strings.isEmpty()) {\r\n            return function.newHasher()\r\n                .hash()\r\n                .toString();\r\n        }\r\n\r\n        final List&lt;HashCode&gt; stringsHashes = strings.stream()\r\n                .map(string -&gt; function.newHasher()\r\n                        .putString(string, Charsets.UTF_8)\r\n                        .hash())\r\n                .toList();\r\n\r\n        return Hashing.combineUnordered(stringsHashes).toString();\r\n    }","title":"Order Independent Hash in Java","body":"<p>Here's an example using Guava to calculate order-independent hash of a set of strings:</p>\n<pre><code>import java.util.Set;\n\nimport com.google.common.base.Charsets;\nimport com.google.common.hash.HashCode;\nimport com.google.common.hash.HashFunction;\nimport com.google.common.hash.Hashing;\n\n...\n\npublic String hash(final Set&lt;String&gt; strings) {\n    final HashFunction function = Hashing.murmur3_128();\n\n    // Hashing.combineUnordered will throw an exception if input is empty.\n    if (strings.isEmpty()) {\n        return function.newHasher()\n            .hash()\n            .toString();\n    }\n\n    final List&lt;HashCode&gt; stringsHashes = strings.stream()\n            .map(string -&gt; function.newHasher()\n                    .putString(string, Charsets.UTF_8)\n                    .hash())\n            .toList();\n\n    return Hashing.combineUnordered(stringsHashes).toString();\n}\n</code></pre>\n"}],"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2825,"favorite_count":0,"down_vote_count":2,"up_vote_count":9,"accepted_answer_id":47254553,"answer_count":3,"score":7,"last_activity_date":1700803263,"creation_date":1510520068,"question_id":47253864,"body_markdown":"I&#39;d like to calculate  a hash of a set of strings in Java. Yes I can sort the strings and calculate the\r\nMD5 hash iterative using `digest.update`.\r\nBut I&#39;d prefer to omit the sort and use something like `combineUnordered` https://github.com/google/guava/wiki/HashingExplained\r\nThere is a lot of similar question asking the same such as https://stackoverflow.com/questions/30734848/order-independant-hash-algorithm\r\nbut non of them provides a simple example showing how to calculate iterative an order independent hash in Java.","title":"Order Independent Hash in Java","body":"<p>I'd like to calculate  a hash of a set of strings in Java. Yes I can sort the strings and calculate the\nMD5 hash iterative using <code>digest.update</code>.\nBut I'd prefer to omit the sort and use something like <code>combineUnordered</code> <a href=\"https://github.com/google/guava/wiki/HashingExplained\" rel=\"noreferrer\">https://github.com/google/guava/wiki/HashingExplained</a>\nThere is a lot of similar question asking the same such as <a href=\"https://stackoverflow.com/questions/30734848/order-independant-hash-algorithm\">Order-independant Hash Algorithm</a>\nbut non of them provides a simple example showing how to calculate iterative an order independent hash in Java.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700813158,"post_id":77540862,"comment_id":136701442,"body_markdown":"What database engine?","body":"What database engine?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700813193,"post_id":77540862,"comment_id":136701450,"body_markdown":"Why not use the appropriate date-time type?","body":"Why not use the appropriate date-time type?"},{"owner":{"account_id":19688119,"reputation":61,"user_id":14413687,"display_name":"spyder"},"score":0,"creation_date":1700817605,"post_id":77540862,"comment_id":136702158,"body_markdown":"I am asking for recommendation as well","body":"I am asking for recommendation as well"},{"owner":{"account_id":19688119,"reputation":61,"user_id":14413687,"display_name":"spyder"},"score":0,"creation_date":1700817623,"post_id":77540862,"comment_id":136702161,"body_markdown":"MySQL  &amp; Postgres","body":"MySQL  &amp; Postgres"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700844718,"post_id":77540862,"comment_id":136706550,"body_markdown":"Post details as edits to your Question, not as Comments.","body":"Post details as edits to your Question, not as Comments."}],"owner":{"account_id":19688119,"reputation":61,"user_id":14413687,"display_name":"spyder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700802908,"creation_date":1700802908,"question_id":77540862,"body_markdown":"Instead of storing the timestamp in Date/Timestamp format, I want to store it as milliseconds i.e. System.currentMillis();\r\nAlso, what is the recommended format while dealing with timestamps/dates with database.\r\n\r\nBelow is my auditing class\r\n\r\n    @MappedSuperclass\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public abstract class Auditable {\r\n    \r\n    \t@CreatedDate\r\n    \t@Temporal(TemporalType.TIMESTAMP)\r\n    \t@Column(name = &quot;crt_date&quot;)\r\n    \tDate createdDate;\r\n    \r\n    \t@LastModifiedDate\r\n    \t@Temporal(TemporalType.TIMESTAMP)\r\n    \t@Column(name = &quot;upd_date&quot;)\r\n    \tDate updatedDate;\r\n    \r\n    \tpublic Date getCreatedDate() {\r\n    \t\treturn createdDate;\r\n    \t}\r\n    \r\n    \tpublic void setCreatedDate(Date createdDate) {\r\n    \t\tthis.createdDate = createdDate;\r\n    \t}\r\n    \r\n    \tpublic Date getUpdatedDate() {\r\n    \t\treturn updatedDate;\r\n    \t}\r\n    \r\n    \tpublic void setUpdatedDate(Date updatedDate) {\r\n    \t\tthis.updatedDate = updatedDate;\r\n    \t}\r\n    \r\n    }","title":"Store JPA auditing timestamp in milliseconds","body":"<p>Instead of storing the timestamp in Date/Timestamp format, I want to store it as milliseconds i.e. System.currentMillis();\nAlso, what is the recommended format while dealing with timestamps/dates with database.</p>\n<p>Below is my auditing class</p>\n<pre><code>@MappedSuperclass\n@EntityListeners(AuditingEntityListener.class)\npublic abstract class Auditable {\n\n    @CreatedDate\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;crt_date&quot;)\n    Date createdDate;\n\n    @LastModifiedDate\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;upd_date&quot;)\n    Date updatedDate;\n\n    public Date getCreatedDate() {\n        return createdDate;\n    }\n\n    public void setCreatedDate(Date createdDate) {\n        this.createdDate = createdDate;\n    }\n\n    public Date getUpdatedDate() {\n        return updatedDate;\n    }\n\n    public void setUpdatedDate(Date updatedDate) {\n        this.updatedDate = updatedDate;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jackson"],"comments":[{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1606914279,"post_id":35086902,"comment_id":115106382,"body_markdown":"Take a look at: [Jackson/Hibernate, meta get methods and serialization](https://stackoverflow.com/questions/55383889/jackson-hibernate-meta-get-methods-and-serialization). Probably, you need to use [Hibernate module](https://github.com/FasterXML/jackson-datatype-hibernate)","body":"Take a look at: <a href=\"https://stackoverflow.com/questions/55383889/jackson-hibernate-meta-get-methods-and-serialization\">Jackson/Hibernate, meta get methods and serialization</a>. Probably, you need to use <a href=\"https://github.com/FasterXML/jackson-datatype-hibernate\" rel=\"nofollow noreferrer\">Hibernate module</a>"}],"answers":[{"comments":[{"owner":{"account_id":6469926,"reputation":7512,"user_id":5010413,"accept_rate":86,"display_name":"Edgaras Karka"},"score":0,"creation_date":1454324950,"post_id":35087838,"comment_id":57977780,"body_markdown":"What is diference between  @JsonIgnoreProperties(value = &quot;models&quot;) and @JsonIgnore?","body":"What is diference between  @JsonIgnoreProperties(value = &quot;models&quot;) and @JsonIgnore?"},{"owner":{"account_id":4425571,"reputation":636,"user_id":3604140,"accept_rate":100,"display_name":"Nebras"},"score":0,"creation_date":1454325852,"post_id":35087838,"comment_id":57978323,"body_markdown":"**Jackson** has two different annotations to use when you want to exclude some class members from the JSON serialization and deserialization processes. These two annotations are `@JsonIgnore` and `@JsonIgnoreProperties`. \n`@JsonIgnoreProperties` is an annotation at the class level and it expects that the properties to be excluded would be explicitly indicated in the form of a list of strings.\n`@JsonIgnore` instead is a member-level or method-level annotation, which expects that the properties to be excluded are marked one by one.","body":"<b>Jackson</b> has two different annotations to use when you want to exclude some class members from the JSON serialization and deserialization processes. These two annotations are <code>@JsonIgnore</code> and <code>@JsonIgnoreProperties</code>.  <code>@JsonIgnoreProperties</code> is an annotation at the class level and it expects that the properties to be excluded would be explicitly indicated in the form of a list of strings. <code>@JsonIgnore</code> instead is a member-level or method-level annotation, which expects that the properties to be excluded are marked one by one."}],"tags":[],"owner":{"account_id":4425571,"reputation":636,"user_id":3604140,"accept_rate":100,"display_name":"Nebras"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454080513,"creation_date":1454080513,"answer_id":35087838,"question_id":35086902,"body_markdown":"to tell jackson to ignore a property while parsing an entity to Json you can use `@JsonIgnore` annotation:\r\n\r\n    @JsonIgnore\r\n    private PropertyClass property;\r\n\r\non the other hand, all Entities classes have to implements `java.io.Serializable`","title":"Java Spring HttpMessageNotWritableException/JsonMappingException with Hibernate FetchType.LAZY in Jackson serialization process","body":"<p>to tell jackson to ignore a property while parsing an entity to Json you can use <code>@JsonIgnore</code> annotation:</p>\n\n<pre><code>@JsonIgnore\nprivate PropertyClass property;\n</code></pre>\n\n<p>on the other hand, all Entities classes have to implements <code>java.io.Serializable</code></p>\n"}],"owner":{"account_id":6469926,"reputation":7512,"user_id":5010413,"accept_rate":86,"display_name":"Edgaras Karka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13910,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1700802460,"creation_date":1454077652,"question_id":35086902,"body_markdown":"I use `Java` `Spring` web controller And `jackson` for parsing  responses. Also I have four `Java` `Hibernate` entities: `User` `Filter` `Make` `Model`, with bidirectional relation in Make -&gt; Model(s): \r\n\r\n&gt; GeUser.getFilters().get(0).getModel().getMake().getModels().get(0).getMake()...\r\n\r\nI tried add `@JsonIgnoreProperties(value = &quot;models&quot;)` in `Model` class but still get exception:\r\n\r\n    WARNING: Failed to write HTTP message: org.springframework.http.converter.HttpMessageNotWritableException: Could not write content: No serializer found for class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) ) (through reference chain: com.gecars.objects.GeUser[&quot;filters&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;com.gecars.objects.Filter[&quot;model&quot;]-&gt;com.gecars.objects.models.Model_$$_jvste81_2[&quot;handler&quot;]); nested exception is com.fasterxml.jackson.databind.JsonMappingException: No serializer found for class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) ) (through reference chain: com.gecars.objects.GeUser[&quot;filters&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;com.gecars.objects.Filter[&quot;model&quot;]-&gt;com.gecars.objects.models.Model_$$_jvste81_2[&quot;handler&quot;])\r\n\r\nEntities GeUser:\r\n\r\n    @Entity\r\n    @Table(name=&quot;users&quot;)\r\n    public class GeUser {\r\n\t...\r\n\t  @OneToMany(fetch = FetchType.LAZY)\r\n\t  private Set&lt;Filter&gt; filters = new HashSet&lt;Filter&gt;(0);\r\n    ..\r\nFilter:\r\n\r\n    @Entity\r\n    @Table(name=&quot;filters&quot;)\r\n    public class Filter {\r\n\t...\r\n\t  @ManyToOne(fetch = FetchType.LAZY)\r\n\t  @JoinColumn(name = &quot;fk_model&quot;) \r\n\t  private Model model;\r\n    ..\r\n\r\nModel:\r\n\r\n    @Entity\r\n    @Table(name=&quot;models&quot;)\r\n    public class Model {\r\n\t...\r\n\t  @ManyToOne(fetch = FetchType.LAZY)\r\n\t  @JoinColumn(name = &quot;fk_make&quot;) \r\n\t  @JsonIgnoreProperties(value = &quot;models&quot;) //Not working (if I correct understand it should tell jackson to skip models from Make class )\r\n\t  private Make make;\r\n    ... \r\n\r\nMake:\r\n\r\n    @Entity\r\n    @Table(name=&quot;auto&quot;)\r\n    public class Make {\r\n\t....\r\n\t   @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;make&quot;)\r\n\t   @JsonIgnoreProperties(value = &quot;make&quot;)\r\n\t   private List&lt;Model&gt; models = new ArrayList&lt;Model&gt;(0);\r\n    ...\r\n\t\r\n","title":"Java Spring HttpMessageNotWritableException/JsonMappingException with Hibernate FetchType.LAZY in Jackson serialization process","body":"<p>I use <code>Java</code> <code>Spring</code> web controller And <code>jackson</code> for parsing  responses. Also I have four <code>Java</code> <code>Hibernate</code> entities: <code>User</code> <code>Filter</code> <code>Make</code> <code>Model</code>, with bidirectional relation in Make -> Model(s): </p>\n\n<blockquote>\n  <p>GeUser.getFilters().get(0).getModel().getMake().getModels().get(0).getMake()...</p>\n</blockquote>\n\n<p>I tried add <code>@JsonIgnoreProperties(value = \"models\")</code> in <code>Model</code> class but still get exception:</p>\n\n<pre><code>WARNING: Failed to write HTTP message: org.springframework.http.converter.HttpMessageNotWritableException: Could not write content: No serializer found for class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) ) (through reference chain: com.gecars.objects.GeUser[\"filters\"]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;com.gecars.objects.Filter[\"model\"]-&gt;com.gecars.objects.models.Model_$$_jvste81_2[\"handler\"]); nested exception is com.fasterxml.jackson.databind.JsonMappingException: No serializer found for class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) ) (through reference chain: com.gecars.objects.GeUser[\"filters\"]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;com.gecars.objects.Filter[\"model\"]-&gt;com.gecars.objects.models.Model_$$_jvste81_2[\"handler\"])\n</code></pre>\n\n<p>Entities GeUser:</p>\n\n<pre><code>@Entity\n@Table(name=\"users\")\npublic class GeUser {\n...\n  @OneToMany(fetch = FetchType.LAZY)\n  private Set&lt;Filter&gt; filters = new HashSet&lt;Filter&gt;(0);\n..\n</code></pre>\n\n<p>Filter:</p>\n\n<pre><code>@Entity\n@Table(name=\"filters\")\npublic class Filter {\n...\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = \"fk_model\") \n  private Model model;\n..\n</code></pre>\n\n<p>Model:</p>\n\n<pre><code>@Entity\n@Table(name=\"models\")\npublic class Model {\n...\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = \"fk_make\") \n  @JsonIgnoreProperties(value = \"models\") //Not working (if I correct understand it should tell jackson to skip models from Make class )\n  private Make make;\n... \n</code></pre>\n\n<p>Make:</p>\n\n<pre><code>@Entity\n@Table(name=\"auto\")\npublic class Make {\n....\n   @OneToMany(fetch = FetchType.LAZY, mappedBy = \"make\")\n   @JsonIgnoreProperties(value = \"make\")\n   private List&lt;Model&gt; models = new ArrayList&lt;Model&gt;(0);\n...\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1422727447,"post_id":28254648,"comment_id":44868022,"body_markdown":"&quot;How can I add the javax package to my Android project with Gradle?&quot; -- generally, you can&#39;t. Android&#39;s build tools do not support adding classes in the `java` and `javax` packages from the JDK into Android apps.","body":"&quot;How can I add the javax package to my Android project with Gradle?&quot; -- generally, you can&#39;t. Android&#39;s build tools do not support adding classes in the <code>java</code> and <code>javax</code> packages from the JDK into Android apps."},{"owner":{"account_id":2228932,"reputation":1610,"user_id":3209693,"accept_rate":86,"display_name":"inimene"},"score":1,"creation_date":1422727609,"post_id":28254648,"comment_id":44868062,"body_markdown":"But I was able to add different stuff like `compile group: &#39;javax.persistence&#39;, name: &#39;persistence-api&#39;, version: &#39;1.0&#39;` So why not script package too.","body":"But I was able to add different stuff like <code>compile group: &#39;javax.persistence&#39;, name: &#39;persistence-api&#39;, version: &#39;1.0&#39;</code> So why not script package too."}],"answers":[{"tags":[],"owner":{"account_id":9074842,"reputation":988,"user_id":6756805,"accept_rate":78,"display_name":"Hema"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1519734726,"creation_date":1519734649,"answer_id":49008779,"question_id":28254648,"body_markdown":"Add this in your **build.gradle** file\r\n\r\n\r\n    compile group: &#39;javax.persistence&#39;, name: &#39;persistence-api&#39;, version: &#39;1.0&#39;\r\n","title":"How to include javax package with Gradle","body":"<p>Add this in your <strong>build.gradle</strong> file</p>\n\n<pre><code>compile group: 'javax.persistence', name: 'persistence-api', version: '1.0'\n</code></pre>\n"}],"owner":{"account_id":2228932,"reputation":1610,"user_id":3209693,"accept_rate":86,"display_name":"inimene"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10373,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1700802460,"creation_date":1422726524,"question_id":28254648,"body_markdown":"How can I add the `javax` package to my Android project with Gradle?\r\nI have no idea where to even look for the link to that package.\r\n\r\nBasically I am trying to get the script package from `javax` to my Android project.\r\n\r\nCurrently I am trying to do something like this: `compile group: &#39;javax.script&#39;, name: &#39;javax.script-api&#39;`\r\n\r\nBut Gradle is unable to find that package for me.","title":"How to include javax package with Gradle","body":"<p>How can I add the <code>javax</code> package to my Android project with Gradle?\nI have no idea where to even look for the link to that package.</p>\n\n<p>Basically I am trying to get the script package from <code>javax</code> to my Android project.</p>\n\n<p>Currently I am trying to do something like this: <code>compile group: 'javax.script', name: 'javax.script-api'</code></p>\n\n<p>But Gradle is unable to find that package for me.</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":16048418,"reputation":250,"user_id":11582987,"display_name":"Abhinav manthri"},"score":0,"creation_date":1701236893,"post_id":77534926,"comment_id":136749243,"body_markdown":"It helped but, any other cleaner way? I need to extract these capture groups and set to a pojo","body":"It helped but, any other cleaner way? I need to extract these capture groups and set to a pojo"}],"tags":[],"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700725221,"creation_date":1700723445,"answer_id":77534926,"question_id":77534843,"body_markdown":"You can not get separate repeated capture group values in Java repeating the capture group itself. That will only capture the value of the last iteration.\r\n\r\nWhat you might do is make use of the `\\G` anchor, and get capture group 1, capture group 2, and then all the letters a, b, c, d etc... in capture group 3.\r\n\r\n    (?:https://(\\S*?)/v(\\S*?)/|\\G(?!^))([^/\\s]+)/?\r\n\r\nThe pattern matches:\r\n\r\n- `(?:` Non capture group for the alternatives\r\n  - `https://` Match literally\r\n  - `(\\S*?)` Capture **group 1**, match optional non whitespace chars\r\n  - `/v` Match literally\r\n  - `(\\S*?)` Capture **group 2**, match optional non whitespace chars\r\n  - `/` Match literally\r\n  - `|` Or\r\n  - `\\G(?!^)` Assert the current position at the end of the previous match, not at the start\r\n- `)` Close the non capture group\r\n- `([^/\\s]+)` Capture **group 3**, match 1+ characters other than `/` or a whitespace char\r\n- `/?` Match an optional `/`\r\n\r\n\r\n[Regex demo](https://regex101.com/r/GmHRKP/1) | [Java demo](https://ideone.com/DIl7hF)\r\n\r\nExample\r\n\r\n\tString regex = &quot;(?:https:\\\\/\\\\/(\\\\S*?)\\\\/v(\\\\S*?)\\\\/|\\\\G(?!^))([^/\\\\s])(?:/|$)&quot;;\r\n    String string = &quot;https://123/v1/a/b/&quot;;\r\n    \r\n    Pattern pattern = Pattern.compile(regex);\r\n    Matcher matcher = pattern.matcher(string);\r\n    \r\n    while (matcher.find()) {\r\n        for (int i = 1; i &lt;= matcher.groupCount(); i++) {\r\n        \tString grp = matcher.group(i);\r\n        \tif (grp != null) {\r\n        \t\tSystem.out.println(&quot;Group &quot; + i + &quot;: &quot; + grp);\t\r\n        \t}\r\n        }\r\n    }\r\n\r\nOutput\r\n\r\n    Group 1: 123\r\n    Group 2: 1\r\n    Group 3: a\r\n    Group 3: b\r\n\r\n&lt;hr&gt;\r\n\r\nOr a bit more precise match:\r\n\r\n    (?:https://(\\d+)/v[a-z]*(\\d+)/|\\G(?!^))([a-z]+)/?\r\n\r\n[Regex demo](https://regex101.com/r/hqGuyt/1)\r\n","title":"How to fetch pattern matcher groups for repetitive regex pattern in Java","body":"<p>You can not get separate repeated capture group values in Java repeating the capture group itself. That will only capture the value of the last iteration.</p>\n<p>What you might do is make use of the <code>\\G</code> anchor, and get capture group 1, capture group 2, and then all the letters a, b, c, d etc... in capture group 3.</p>\n<pre><code>(?:https://(\\S*?)/v(\\S*?)/|\\G(?!^))([^/\\s]+)/?\n</code></pre>\n<p>The pattern matches:</p>\n<ul>\n<li><code>(?:</code> Non capture group for the alternatives\n<ul>\n<li><code>https://</code> Match literally</li>\n<li><code>(\\S*?)</code> Capture <strong>group 1</strong>, match optional non whitespace chars</li>\n<li><code>/v</code> Match literally</li>\n<li><code>(\\S*?)</code> Capture <strong>group 2</strong>, match optional non whitespace chars</li>\n<li><code>/</code> Match literally</li>\n<li><code>|</code> Or</li>\n<li><code>\\G(?!^)</code> Assert the current position at the end of the previous match, not at the start</li>\n</ul>\n</li>\n<li><code>)</code> Close the non capture group</li>\n<li><code>([^/\\s]+)</code> Capture <strong>group 3</strong>, match 1+ characters other than <code>/</code> or a whitespace char</li>\n<li><code>/?</code> Match an optional <code>/</code></li>\n</ul>\n<p><a href=\"https://regex101.com/r/GmHRKP/1\" rel=\"nofollow noreferrer\">Regex demo</a> | <a href=\"https://ideone.com/DIl7hF\" rel=\"nofollow noreferrer\">Java demo</a></p>\n<p>Example</p>\n<pre><code>String regex = &quot;(?:https:\\\\/\\\\/(\\\\S*?)\\\\/v(\\\\S*?)\\\\/|\\\\G(?!^))([^/\\\\s])(?:/|$)&quot;;\nString string = &quot;https://123/v1/a/b/&quot;;\n\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(string);\n\nwhile (matcher.find()) {\n    for (int i = 1; i &lt;= matcher.groupCount(); i++) {\n        String grp = matcher.group(i);\n        if (grp != null) {\n            System.out.println(&quot;Group &quot; + i + &quot;: &quot; + grp);  \n        }\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>Group 1: 123\nGroup 2: 1\nGroup 3: a\nGroup 3: b\n</code></pre>\n<hr>\n<p>Or a bit more precise match:</p>\n<pre><code>(?:https://(\\d+)/v[a-z]*(\\d+)/|\\G(?!^))([a-z]+)/?\n</code></pre>\n<p><a href=\"https://regex101.com/r/hqGuyt/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"},{"tags":[],"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700727425,"creation_date":1700727425,"answer_id":77535280,"question_id":77534843,"body_markdown":"You could use [`java.net.URI`](https://docs.oracle.com/javase/6/docs/api/java/net/URI.html) which has getters for various URI-components.\r\n\r\n```java\r\nvar uri = new URI(&quot;https://123/v1/a/b/&quot;);\r\n\r\nString authority = uri.getAuthority(); // returns 123 \r\nSystem.out.println(authority);\r\n\r\nString path = uri.getPath(); // returns /v1/a/b/\r\nString pathTrimmed = path.replaceAll(&quot;^/&quot;, &quot;&quot;).replaceAll(&quot;/$&quot;, &quot;&quot;);  // trim leading and trailing slashes: v1/a/b\r\nString[] segments = pathTrimmed.split(&quot;/&quot;);\r\n\r\nif (segments.length &lt; 1) return;\r\nSystem.out.println(segments[0].replaceAll(&quot;^v&quot;, &quot;&quot;));  // version truncated to number: 1\r\nfor (int i=1; i &lt; segments.length; i++) {\r\n  System.out.println(segments[i]);  // remainig segments: a, b, ..\r\n}\r\n```\r\nRun a [demo of this on IDEone](https://ideone.com/eeJ9ny).\r\n\r\nSee also: https://stackoverflow.com/questions/4050087/how-to-obtain-the-last-path-segment-of-a-uri","title":"How to fetch pattern matcher groups for repetitive regex pattern in Java","body":"<p>You could use <a href=\"https://docs.oracle.com/javase/6/docs/api/java/net/URI.html\" rel=\"nofollow noreferrer\"><code>java.net.URI</code></a> which has getters for various URI-components.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var uri = new URI(&quot;https://123/v1/a/b/&quot;);\n\nString authority = uri.getAuthority(); // returns 123 \nSystem.out.println(authority);\n\nString path = uri.getPath(); // returns /v1/a/b/\nString pathTrimmed = path.replaceAll(&quot;^/&quot;, &quot;&quot;).replaceAll(&quot;/$&quot;, &quot;&quot;);  // trim leading and trailing slashes: v1/a/b\nString[] segments = pathTrimmed.split(&quot;/&quot;);\n\nif (segments.length &lt; 1) return;\nSystem.out.println(segments[0].replaceAll(&quot;^v&quot;, &quot;&quot;));  // version truncated to number: 1\nfor (int i=1; i &lt; segments.length; i++) {\n  System.out.println(segments[i]);  // remainig segments: a, b, ..\n}\n</code></pre>\n<p>Run a <a href=\"https://ideone.com/eeJ9ny\" rel=\"nofollow noreferrer\">demo of this on IDEone</a>.</p>\n<p>See also: <a href=\"https://stackoverflow.com/questions/4050087/how-to-obtain-the-last-path-segment-of-a-uri\">How to obtain the last path segment of a URI</a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700802297,"creation_date":1700789206,"answer_id":77540270,"question_id":77534843,"body_markdown":"&gt; _&quot;... how can i fetch matcher groups for below strings ...&quot;_\r\n\r\nHere is the _RFC_ for a _URI_, which defines the _HTTPS scheme_, path syntax.\\\r\n_[RFC 3986 &amp;ndash; Uniform Resource Identifier (URI): Generic Syntax &amp;ndash; 3.3.  Path](https://datatracker.ietf.org/doc/html/rfc3986#section-3.3)_.\r\n\r\nAnd, here is the related _[ABNF](https://en.wikipedia.org/wiki/Augmented_Backus%E2%80%93Naur_form)_.\r\n\r\n```none\r\npath-absolute = &quot;/&quot; [ segment-nz *( &quot;/&quot; segment ) ]\r\nsegment-nz    = 1*pchar\r\nsegment       = *pchar\r\npchar         = unreserved / pct-encoded / sub-delims / &quot;:&quot; / &quot;@&quot;\r\nunreserved    = ALPHA / DIGIT / &quot;-&quot; / &quot;.&quot; / &quot;_&quot; / &quot;~&quot;\r\npct-encoded   = &quot;%&quot; HEXDIG HEXDIG\r\nsub-delims    = &quot;!&quot; / &quot;$&quot; / &quot;&amp;&quot; / &quot;&#39;&quot; / &quot;(&quot; / &quot;)&quot; / &quot;*&quot; / &quot;+&quot; / &quot;,&quot; / &quot;;&quot; / &quot;=&quot;\r\n```\r\n\r\nWith that, just split the value.\\\r\nHere is an example.\r\n\r\n```java\r\nString[] s = &quot;https://123343/v1/a/b/c/d&quot;.substring(8).split(&quot;/&quot;);\r\n```\r\n\r\nIf you wanted to use a _regex_, try the following.\\\r\nYou&#39;ll need to remove the _scheme_, and `://`, values.\r\n\r\n```none\r\n[^/]+(?=/|$)\r\n```\r\n\r\n```java\r\nString s = &quot;https://123343/v1/a/b/c/d&quot;.substring(8);\r\nList&lt;String&gt; l = new ArrayList&lt;&gt;();\r\nPattern p = Pattern.compile(&quot;[^/]+(?=/|$)&quot;);\r\nMatcher m = p.matcher(s);\r\nwhile (m.find()) l.add(m.group());\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[123343, v1, a, b]\r\n```\r\n\r\n```none\r\n[123343, v1, a, b, c, d]\r\n```","title":"How to fetch pattern matcher groups for repetitive regex pattern in Java","body":"<blockquote>\n<p><em>&quot;... how can i fetch matcher groups for below strings ...&quot;</em></p>\n</blockquote>\n<p>Here is the <em>RFC</em> for a <em>URI</em>, which defines the <em>HTTPS scheme</em>, path syntax.<br />\n<em><a href=\"https://datatracker.ietf.org/doc/html/rfc3986#section-3.3\" rel=\"nofollow noreferrer\">RFC 3986 – Uniform Resource Identifier (URI): Generic Syntax – 3.3.  Path</a></em>.</p>\n<p>And, here is the related <em><a href=\"https://en.wikipedia.org/wiki/Augmented_Backus%E2%80%93Naur_form\" rel=\"nofollow noreferrer\">ABNF</a></em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>path-absolute = &quot;/&quot; [ segment-nz *( &quot;/&quot; segment ) ]\nsegment-nz    = 1*pchar\nsegment       = *pchar\npchar         = unreserved / pct-encoded / sub-delims / &quot;:&quot; / &quot;@&quot;\nunreserved    = ALPHA / DIGIT / &quot;-&quot; / &quot;.&quot; / &quot;_&quot; / &quot;~&quot;\npct-encoded   = &quot;%&quot; HEXDIG HEXDIG\nsub-delims    = &quot;!&quot; / &quot;$&quot; / &quot;&amp;&quot; / &quot;'&quot; / &quot;(&quot; / &quot;)&quot; / &quot;*&quot; / &quot;+&quot; / &quot;,&quot; / &quot;;&quot; / &quot;=&quot;\n</code></pre>\n<p>With that, just split the value.<br />\nHere is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] s = &quot;https://123343/v1/a/b/c/d&quot;.substring(8).split(&quot;/&quot;);\n</code></pre>\n<p>If you wanted to use a <em>regex</em>, try the following.<br />\nYou'll need to remove the <em>scheme</em>, and <code>://</code>, values.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[^/]+(?=/|$)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;https://123343/v1/a/b/c/d&quot;.substring(8);\nList&lt;String&gt; l = new ArrayList&lt;&gt;();\nPattern p = Pattern.compile(&quot;[^/]+(?=/|$)&quot;);\nMatcher m = p.matcher(s);\nwhile (m.find()) l.add(m.group());\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[123343, v1, a, b]\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>[123343, v1, a, b, c, d]\n</code></pre>\n"}],"owner":{"account_id":16048418,"reputation":250,"user_id":11582987,"display_name":"Abhinav manthri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1700802297,"creation_date":1700722392,"question_id":77534843,"body_markdown":"Using java how can i fetch matcher groups for below strings\r\n1. &quot;https://123343/v1/a/b/&quot;\r\n2. &quot;https://123343/v1/a/b/c/d&quot;\r\n\r\nRegex pattern that i used, but didn&#39;t work\r\n```\r\nString s = &quot;https://123/v1/a/b/&quot;\r\nMatcher matcher = Pattern.compile(&quot;https:\\/\\/(.*?)\\/v(.*?)\\/((?:([^\\/]+))\\/)+&quot;).matcher(s);\r\nmatcher.find();\r\nmatcher.groupCount() --&gt; gives 4 which is correct\r\nmatcher.group(1) --&gt; 123 correct\r\nmatcher.group(2) --&gt; 1 correct\r\nmatcher.group(3) --&gt; b\\ wrong, need &#39;a&#39;\r\nmatcher.group(4) --&gt; b correct\r\n```\r\n\r\nSimilarly for 2nd string groupcount should be 6 and matcher.group(5)=c and matcher.group(6)=d\r\n\r\nAny suggestions?","title":"How to fetch pattern matcher groups for repetitive regex pattern in Java","body":"<p>Using java how can i fetch matcher groups for below strings</p>\n<ol>\n<li>&quot;https://123343/v1/a/b/&quot;</li>\n<li>&quot;https://123343/v1/a/b/c/d&quot;</li>\n</ol>\n<p>Regex pattern that i used, but didn't work</p>\n<pre><code>String s = &quot;https://123/v1/a/b/&quot;\nMatcher matcher = Pattern.compile(&quot;https:\\/\\/(.*?)\\/v(.*?)\\/((?:([^\\/]+))\\/)+&quot;).matcher(s);\nmatcher.find();\nmatcher.groupCount() --&gt; gives 4 which is correct\nmatcher.group(1) --&gt; 123 correct\nmatcher.group(2) --&gt; 1 correct\nmatcher.group(3) --&gt; b\\ wrong, need 'a'\nmatcher.group(4) --&gt; b correct\n</code></pre>\n<p>Similarly for 2nd string groupcount should be 6 and matcher.group(5)=c and matcher.group(6)=d</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","solr","solrj","solr-9.3.0"],"owner":{"account_id":29974478,"reputation":21,"user_id":22971042,"display_name":"Lalit Dashora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1700801381,"creation_date":1700737872,"question_id":77536407,"body_markdown":"I&#39;m working on a project where I need to secure a specific content field in Apache Solr by encrypting the data during indexing and decrypting it during search. \r\n\r\nFirst approach: I&#39;ve already attempted to implement a custom UpdateRequestProcessorFactory and a search component, but I&#39;m facing challenges in achieving the desired encryption and decryption.\r\n\r\n\r\nSecond approach: I have also tried with another approach i.e https://stackoverflow.com/questions/53494765/how-to-create-a-custom-search-component-in-solr\r\nIn second approach, solr is not storing the content in encrypted form. Also when I pass the keyword in analysis section (UI), it properly encrypts and decrypts the data.\r\n\r\nIs there any tried and tested way to implement such scenario. \r\n\r\n\r\n\r\nFor the first approach I tried following code:\r\nHere encryption is working fine but not decryption. responseBuilder.getResponseDocs() returns null.\r\n\r\n```\r\npackage com.emorphis.solr.search.component;\r\n\r\nimport com.emorphis.solr.encrypt.util.EncryptUtil;\r\nimport org.apache.solr.common.SolrDocument;\r\nimport org.apache.solr.common.SolrDocumentList;\r\nimport org.apache.solr.handler.component.ResponseBuilder;\r\nimport org.apache.solr.handler.component.SearchComponent;\r\nimport org.apache.solr.search.DocIterator;\r\nimport org.apache.solr.search.DocList;\r\nimport org.apache.solr.search.SolrIndexSearcher;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class MyDecryptionSearchComponent extends SearchComponent {\r\n    @Override\r\n    public void prepare(ResponseBuilder responseBuilder) throws IOException {\r\n        // Implement decryption logic\r\n        // ...\r\n        System.out.println(&quot;Executing MyDecryptionSearchComponent - prepare&quot;);\r\n        executeDecryptionLogic(responseBuilder);\r\n    }\r\n\r\n    @Override\r\n    public void process(ResponseBuilder responseBuilder) throws IOException {\r\n        // Implement decryption logic\r\n        // ...\r\n        System.out.println(&quot;Executing MyDecryptionSearchComponent - process&quot;);\r\n        executeDecryptionLogic(responseBuilder);\r\n    }\r\n\r\n    @Override\r\n    public void finishStage(ResponseBuilder rb) {\r\n        System.out.println(&quot;Executing MyDecryptionSearchComponent - finishStage&quot;);\r\n        executeDecryptionLogic(rb);\r\n        super.finishStage(rb);\r\n    }\r\n\r\n    @Override\r\n    public String getDescription() {\r\n        return &quot;MyDecryptionSearchComponent&quot;;\r\n    }\r\n    private static void executeDecryptionLogic(ResponseBuilder responseBuilder) {\r\n        System.out.println(&quot;=======responseBuilder===========&quot;+responseBuilder.getResults().docList);\r\n        SolrDocumentList results = responseBuilder.getResponseDocs();\r\n        if (results == null) {\r\n            System.out.println(&quot;No documents found for decryption.&quot;);\r\n            return;\r\n        } else {\r\n            System.out.println(&quot;Document found for decryption.&quot; + results.size());\r\n        }\r\n\r\n        for (SolrDocument document : results) {\r\n            Object fieldValue = document.getFieldValue(&quot;content&quot;);\r\n            System.out.println(&quot;======fieldValue====&quot;+fieldValue);\r\n\r\n            if (fieldValue != null &amp;&amp; fieldValue instanceof String) {\r\n                String encryptedContent = (String) fieldValue;\r\n                System.out.println(&quot;==========encryptedContent============&quot;+encryptedContent);\r\n\r\n                // Decrypt the content\r\n                String decryptedContent = EncryptUtil.decrypt(encryptedContent);\r\n                System.out.println(&quot;============decryptedContent===============&quot;+decryptedContent);\r\n\r\n                // Replace the encrypted content with the decrypted content\r\n                document.setField(&quot;content&quot;, decryptedContent);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nIn second approach I have added fieldType and custom classes. The problem with second approach is the logs are printed for encryption but encrypted data is not stored. And when I search the data using /select it does not call decryption logic.\r\n\r\n```\r\n+  &lt;fieldType name=&quot;encrypted_content_text&quot; class=&quot;solr.TextField&quot; positionIncrementGap=&quot;100&quot; multiValued=&quot;false&quot;&gt;\r\n+    &lt;analyzer type=&quot;index&quot;&gt;\r\n+      &lt;tokenizer name=&quot;standard&quot;/&gt;\r\n+\t  &lt;filter name=&quot;stop&quot; words=&quot;stopwords.txt&quot; ignoreCase=&quot;true&quot;/&gt;\r\n+\t  &lt;filter name=&quot;lowercase&quot;/&gt;\r\n+\t  &lt;filter class=&quot;com.emorphis.solr.filter.EncryptionFilterFactory&quot; /&gt;\r\n+    &lt;/analyzer&gt;\r\n+    &lt;analyzer type=&quot;query&quot;&gt;\r\n+      &lt;tokenizer name=&quot;whitespace&quot;/&gt;\r\n+\t  &lt;filter class=&quot;com.emorphis.solr.filter.DecryptionFilterFactory&quot; /&gt;\r\n+      &lt;filter name=&quot;stop&quot; words=&quot;stopwords.txt&quot; ignoreCase=&quot;true&quot;/&gt;\r\n+      &lt;filter expand=&quot;true&quot; name=&quot;synonymGraph&quot; synonyms=&quot;synonyms.txt&quot; ignoreCase=&quot;true&quot;/&gt;\r\n+      &lt;filter name=&quot;lowercase&quot;/&gt;\r\n+    &lt;/analyzer&gt;\r\n+  &lt;/fieldType&gt;\r\n+\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Encrypt and Decrypt specific field in Apache Solr","body":"<p>I'm working on a project where I need to secure a specific content field in Apache Solr by encrypting the data during indexing and decrypting it during search.</p>\n<p>First approach: I've already attempted to implement a custom UpdateRequestProcessorFactory and a search component, but I'm facing challenges in achieving the desired encryption and decryption.</p>\n<p>Second approach: I have also tried with another approach i.e <a href=\"https://stackoverflow.com/questions/53494765/how-to-create-a-custom-search-component-in-solr\">How to create a custom search component in solr</a>\nIn second approach, solr is not storing the content in encrypted form. Also when I pass the keyword in analysis section (UI), it properly encrypts and decrypts the data.</p>\n<p>Is there any tried and tested way to implement such scenario.</p>\n<p>For the first approach I tried following code:\nHere encryption is working fine but not decryption. responseBuilder.getResponseDocs() returns null.</p>\n<pre><code>package com.emorphis.solr.search.component;\n\nimport com.emorphis.solr.encrypt.util.EncryptUtil;\nimport org.apache.solr.common.SolrDocument;\nimport org.apache.solr.common.SolrDocumentList;\nimport org.apache.solr.handler.component.ResponseBuilder;\nimport org.apache.solr.handler.component.SearchComponent;\nimport org.apache.solr.search.DocIterator;\nimport org.apache.solr.search.DocList;\nimport org.apache.solr.search.SolrIndexSearcher;\n\nimport java.io.IOException;\n\npublic class MyDecryptionSearchComponent extends SearchComponent {\n    @Override\n    public void prepare(ResponseBuilder responseBuilder) throws IOException {\n        // Implement decryption logic\n        // ...\n        System.out.println(&quot;Executing MyDecryptionSearchComponent - prepare&quot;);\n        executeDecryptionLogic(responseBuilder);\n    }\n\n    @Override\n    public void process(ResponseBuilder responseBuilder) throws IOException {\n        // Implement decryption logic\n        // ...\n        System.out.println(&quot;Executing MyDecryptionSearchComponent - process&quot;);\n        executeDecryptionLogic(responseBuilder);\n    }\n\n    @Override\n    public void finishStage(ResponseBuilder rb) {\n        System.out.println(&quot;Executing MyDecryptionSearchComponent - finishStage&quot;);\n        executeDecryptionLogic(rb);\n        super.finishStage(rb);\n    }\n\n    @Override\n    public String getDescription() {\n        return &quot;MyDecryptionSearchComponent&quot;;\n    }\n    private static void executeDecryptionLogic(ResponseBuilder responseBuilder) {\n        System.out.println(&quot;=======responseBuilder===========&quot;+responseBuilder.getResults().docList);\n        SolrDocumentList results = responseBuilder.getResponseDocs();\n        if (results == null) {\n            System.out.println(&quot;No documents found for decryption.&quot;);\n            return;\n        } else {\n            System.out.println(&quot;Document found for decryption.&quot; + results.size());\n        }\n\n        for (SolrDocument document : results) {\n            Object fieldValue = document.getFieldValue(&quot;content&quot;);\n            System.out.println(&quot;======fieldValue====&quot;+fieldValue);\n\n            if (fieldValue != null &amp;&amp; fieldValue instanceof String) {\n                String encryptedContent = (String) fieldValue;\n                System.out.println(&quot;==========encryptedContent============&quot;+encryptedContent);\n\n                // Decrypt the content\n                String decryptedContent = EncryptUtil.decrypt(encryptedContent);\n                System.out.println(&quot;============decryptedContent===============&quot;+decryptedContent);\n\n                // Replace the encrypted content with the decrypted content\n                document.setField(&quot;content&quot;, decryptedContent);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>In second approach I have added fieldType and custom classes. The problem with second approach is the logs are printed for encryption but encrypted data is not stored. And when I search the data using /select it does not call decryption logic.</p>\n<pre><code>+  &lt;fieldType name=&quot;encrypted_content_text&quot; class=&quot;solr.TextField&quot; positionIncrementGap=&quot;100&quot; multiValued=&quot;false&quot;&gt;\n+    &lt;analyzer type=&quot;index&quot;&gt;\n+      &lt;tokenizer name=&quot;standard&quot;/&gt;\n+     &lt;filter name=&quot;stop&quot; words=&quot;stopwords.txt&quot; ignoreCase=&quot;true&quot;/&gt;\n+     &lt;filter name=&quot;lowercase&quot;/&gt;\n+     &lt;filter class=&quot;com.emorphis.solr.filter.EncryptionFilterFactory&quot; /&gt;\n+    &lt;/analyzer&gt;\n+    &lt;analyzer type=&quot;query&quot;&gt;\n+      &lt;tokenizer name=&quot;whitespace&quot;/&gt;\n+     &lt;filter class=&quot;com.emorphis.solr.filter.DecryptionFilterFactory&quot; /&gt;\n+      &lt;filter name=&quot;stop&quot; words=&quot;stopwords.txt&quot; ignoreCase=&quot;true&quot;/&gt;\n+      &lt;filter expand=&quot;true&quot; name=&quot;synonymGraph&quot; synonyms=&quot;synonyms.txt&quot; ignoreCase=&quot;true&quot;/&gt;\n+      &lt;filter name=&quot;lowercase&quot;/&gt;\n+    &lt;/analyzer&gt;\n+  &lt;/fieldType&gt;\n+\n</code></pre>\n"},{"tags":["java","android","xml","android-layout","rotation"],"comments":[{"owner":{"account_id":19293500,"reputation":95,"user_id":14102903,"display_name":"dev.tejasb"},"score":2,"creation_date":1700674878,"post_id":77531770,"comment_id":136684725,"body_markdown":"can you try `android:translationX` with a negative `dp` value?","body":"can you try <code>android:translationX</code> with a negative <code>dp</code> value?"},{"owner":{"account_id":20373,"reputation":5888,"user_id":48648,"accept_rate":95,"display_name":"Jordi"},"score":0,"creation_date":1700737460,"post_id":77531770,"comment_id":136692512,"body_markdown":"Yep, that did it. The amount by which to translate seems to be `-width/2+height/2-insetBottom`, which is a bit annoying when I&#39;m not setting the width, height and inset explicitly, but this does work.","body":"Yep, that did it. The amount by which to translate seems to be <code>-width&#47;2+height&#47;2-insetBottom</code>, which is a bit annoying when I&#39;m not setting the width, height and inset explicitly, but this does work."}],"answers":[{"comments":[{"owner":{"account_id":20373,"reputation":5888,"user_id":48648,"accept_rate":95,"display_name":"Jordi"},"score":1,"creation_date":1700751340,"post_id":77531931,"comment_id":136694968,"body_markdown":"Thanks for your answer! A variation of this worked, although it seems I should set pivotX to 0, pivotY to some other number related to the button&#39;s height, and then I still have to do something to translate the button in order to vertically center it again. So just using translateX without the pivot stuff is simpler.","body":"Thanks for your answer! A variation of this worked, although it seems I should set pivotX to 0, pivotY to some other number related to the button&#39;s height, and then I still have to do something to translate the button in order to vertically center it again. So just using translateX without the pivot stuff is simpler."}],"tags":[],"owner":{"account_id":17973935,"reputation":185,"user_id":13062000,"display_name":"404NotFound"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700673173,"creation_date":1700673173,"answer_id":77531931,"question_id":77531770,"body_markdown":"try this:\r\n```\r\n        val button: Button = findViewById(R.id.button)\r\n        button.pivotX = 125f\r\n        button.rotation = 90f\r\n        val params = button.layoutParams as ConstraintLayout.LayoutParams\r\n        params.startToStart = ConstraintLayout.LayoutParams.PARENT_ID\r\n        params.topToTop = ConstraintLayout.LayoutParams.PARENT_ID\r\n        button.layoutParams = params\r\n```\r\nSet pivot before rotation. The pivot point defines the point around which the view is rotated. I have written in kotlin. ","title":"How to constrain a rotated View/Button to the left side of ConstraintLayout on Android?","body":"<p>try this:</p>\n<pre><code>        val button: Button = findViewById(R.id.button)\n        button.pivotX = 125f\n        button.rotation = 90f\n        val params = button.layoutParams as ConstraintLayout.LayoutParams\n        params.startToStart = ConstraintLayout.LayoutParams.PARENT_ID\n        params.topToTop = ConstraintLayout.LayoutParams.PARENT_ID\n        button.layoutParams = params\n</code></pre>\n<p>Set pivot before rotation. The pivot point defines the point around which the view is rotated. I have written in kotlin.</p>\n"},{"comments":[{"owner":{"account_id":20373,"reputation":5888,"user_id":48648,"accept_rate":95,"display_name":"Jordi"},"score":0,"creation_date":1700735973,"post_id":77533071,"comment_id":136692205,"body_markdown":"Thank you for your answer! Negative margins are not working in my project, probably because I&#39;m using some old versions of libraries. I started a new sample project with newer libraries and then the negative margins do work.","body":"Thank you for your answer! Negative margins are not working in my project, probably because I&#39;m using some old versions of libraries. I started a new sample project with newer libraries and then the negative margins do work."},{"owner":{"account_id":20373,"reputation":5888,"user_id":48648,"accept_rate":95,"display_name":"Jordi"},"score":0,"creation_date":1700737375,"post_id":77533071,"comment_id":136692500,"body_markdown":"I don&#39;t know why I didn&#39;t think of setting the translationX, but that is the solution I will now go with. It&#39;s not totally ideal, because it seems we need to translate by `-width/2+height/2-insetBottom`, and these are not easy to obtain when set implicitly through wrap_content, the width of the text, and the style of the button.","body":"I don&#39;t know why I didn&#39;t think of setting the translationX, but that is the solution I will now go with. It&#39;s not totally ideal, because it seems we need to translate by <code>-width&#47;2+height&#47;2-insetBottom</code>, and these are not easy to obtain when set implicitly through wrap_content, the width of the text, and the style of the button."},{"owner":{"account_id":29776118,"reputation":269,"user_id":22820043,"display_name":"Cloverleaf"},"score":0,"creation_date":1700738125,"post_id":77533071,"comment_id":136692633,"body_markdown":"Yes, you are right, you have to do some calculations (by the way, also with the other two solutions). But you can calculate the width of the (original horizontal) button using `button.getPaint().measureText(...)`, even if the text changes. Good luck.","body":"Yes, you are right, you have to do some calculations (by the way, also with the other two solutions). But you can calculate the width of the (original horizontal) button using <code>button.getPaint().measureText(...)</code>, even if the text changes. Good luck."},{"owner":{"account_id":29776118,"reputation":269,"user_id":22820043,"display_name":"Cloverleaf"},"score":0,"creation_date":1700753402,"post_id":77533071,"comment_id":136695372,"body_markdown":"Maybe [this](https://github.com/rongi/rotate-layout) can help (I didn&#39;t try).","body":"Maybe <a href=\"https://github.com/rongi/rotate-layout\" rel=\"nofollow noreferrer\">this</a> can help (I didn&#39;t try)."},{"owner":{"account_id":29776118,"reputation":269,"user_id":22820043,"display_name":"Cloverleaf"},"score":0,"creation_date":1700753980,"post_id":77533071,"comment_id":136695471,"body_markdown":"... or [this](https://stackoverflow.com/a/41526595/22820043)","body":"... or <a href=\"https://stackoverflow.com/a/41526595/22820043\">this</a>"}],"tags":[],"owner":{"account_id":29776118,"reputation":269,"user_id":22820043,"display_name":"Cloverleaf"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700687829,"creation_date":1700686663,"answer_id":77533071,"question_id":77531770,"body_markdown":"Contrary to your statement, `margin` works for me: \r\n\r\n    &lt;button\r\n          android:id=&quot;@+id/button&quot;\r\n          android:layout_width=&quot;wrap_content&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:layout_marginLeft=&quot;-65dp&quot;\r\n          android:rotation=&quot;90&quot;\r\n          android:text=&quot;My example button&quot;\r\n          app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n          app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n          app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\nIf you want to make the shift programmatically, the following solution also works for me:\r\n\r\n    button.setTranslationX(-195f);  // in pixels\r\n\r\nThird possibility: See [this][1] older solution.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1930963/rotating-a-view-in-android/64806125#64806125","title":"How to constrain a rotated View/Button to the left side of ConstraintLayout on Android?","body":"<p>Contrary to your statement, <code>margin</code> works for me:</p>\n<pre><code>&lt;button\n      android:id=&quot;@+id/button&quot;\n      android:layout_width=&quot;wrap_content&quot;\n      android:layout_height=&quot;wrap_content&quot;\n      android:layout_marginLeft=&quot;-65dp&quot;\n      android:rotation=&quot;90&quot;\n      android:text=&quot;My example button&quot;\n      app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n      app:layout_constraintStart_toStartOf=&quot;parent&quot;\n      app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>If you want to make the shift programmatically, the following solution also works for me:</p>\n<pre><code>button.setTranslationX(-195f);  // in pixels\n</code></pre>\n<p>Third possibility: See <a href=\"https://stackoverflow.com/questions/1930963/rotating-a-view-in-android/64806125#64806125\">this</a> older solution.</p>\n"},{"tags":[],"owner":{"account_id":19293500,"reputation":95,"user_id":14102903,"display_name":"dev.tejasb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700801088,"creation_date":1700801088,"answer_id":77540779,"question_id":77531770,"body_markdown":"I had commented before about using translate X property. Now I&#39;m posting Java code for the same.\r\n``` Java\r\nbutton.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\r\n  @Override\r\n  public void onGlobalLayout() {\r\n    int buttonWidth = button.getWidth();\r\n    button.setTranslationX(-buttonWidth); \r\n    button.getViewTreeObserver().removeOnGlobalLayoutListener(this);\r\n  }\r\n});\r\n```\r\nHope this helps.","title":"How to constrain a rotated View/Button to the left side of ConstraintLayout on Android?","body":"<p>I had commented before about using translate X property. Now I'm posting Java code for the same.</p>\n<pre><code>button.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\n  @Override\n  public void onGlobalLayout() {\n    int buttonWidth = button.getWidth();\n    button.setTranslationX(-buttonWidth); \n    button.getViewTreeObserver().removeOnGlobalLayoutListener(this);\n  }\n});\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":20373,"reputation":5888,"user_id":48648,"accept_rate":95,"display_name":"Jordi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77533071,"answer_count":3,"score":0,"last_activity_date":1700801088,"creation_date":1700671551,"question_id":77531770,"body_markdown":"*Edit: it is possible to just to use `translateX` (see comments and accepted answer). I don&#39;t know how I missed that.*\r\n\r\nOn Android, I want to rotate a simple button 90 degrees and have it stick against the left side of my ConstraintLayout. However, when I try this, there remains significant space between the left side of the screen and the button. This is what it should look like:\r\n\r\n[![desired outcome][1]][1]\r\n\r\nThis is my XML layout file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:rotation=&quot;90&quot;\r\n            android:text=&quot;My example button&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nAnd here is the Android Studio design view of what it actually looks like:\r\n\r\n[![wrong outcome][2]][2]\r\n\r\nThis seems to be because the constraints to the left/start (and top and bottom) are applied first, and the rotation second. I have tried programmatically to fix this problem to no avail in Java:\r\n\r\n    Button button = view.findViewById(R.id.button);\r\n    button.setRotation(90); // already done, but doesn&#39;t matter\r\n    \r\n    // constrain to left side after after rotation (doesn&#39;t help)\r\n    ConstraintSet constraintSet = new ConstraintSet();\r\n    constraintSet.clone((ConstraintLayout) view);\r\n    constraintSet.connect(button.getId(), ConstraintSet.START, ConstraintSet.PARENT_ID, ConstraintSet.START);\r\n    constraintSet.applyTo((ConstraintLayout) view);\r\n    \r\n    // attempt to fix positioning with margins (doesn&#39;t move anything at all)\r\n    ViewGroup.MarginLayoutParams params = (ViewGroup.MarginLayoutParams) btnTest.getLayoutParams();\r\n    params.setMargins(-100, 0, 0, -100); // left, top, right, bottom\r\n    btnTest.setLayoutParams(params);\r\n\r\nI also tried changing the margins in the XML layout file, which similarly has absolutely no effect. *Edit: it seems like using negative margins didn&#39;t work in my original project, but it does in a newer test project. I suspect this is caused by using old versions of some libraries (probably the material library which I&#39;m implicitly using through appcompat 1.1.0).*\r\n\r\nDoes anyone know how to achieve the result I want?\r\n\r\nThanks for your help!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZP4Y7.png\r\n  [2]: https://i.stack.imgur.com/USPBj.png","title":"How to constrain a rotated View/Button to the left side of ConstraintLayout on Android?","body":"<p><em>Edit: it is possible to just to use <code>translateX</code> (see comments and accepted answer). I don't know how I missed that.</em></p>\n<p>On Android, I want to rotate a simple button 90 degrees and have it stick against the left side of my ConstraintLayout. However, when I try this, there remains significant space between the left side of the screen and the button. This is what it should look like:</p>\n<p><a href=\"https://i.stack.imgur.com/ZP4Y7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZP4Y7.png\" alt=\"desired outcome\" /></a></p>\n<p>This is my XML layout file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:rotation=&quot;90&quot;\n        android:text=&quot;My example button&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>And here is the Android Studio design view of what it actually looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/USPBj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/USPBj.png\" alt=\"wrong outcome\" /></a></p>\n<p>This seems to be because the constraints to the left/start (and top and bottom) are applied first, and the rotation second. I have tried programmatically to fix this problem to no avail in Java:</p>\n<pre><code>Button button = view.findViewById(R.id.button);\nbutton.setRotation(90); // already done, but doesn't matter\n\n// constrain to left side after after rotation (doesn't help)\nConstraintSet constraintSet = new ConstraintSet();\nconstraintSet.clone((ConstraintLayout) view);\nconstraintSet.connect(button.getId(), ConstraintSet.START, ConstraintSet.PARENT_ID, ConstraintSet.START);\nconstraintSet.applyTo((ConstraintLayout) view);\n\n// attempt to fix positioning with margins (doesn't move anything at all)\nViewGroup.MarginLayoutParams params = (ViewGroup.MarginLayoutParams) btnTest.getLayoutParams();\nparams.setMargins(-100, 0, 0, -100); // left, top, right, bottom\nbtnTest.setLayoutParams(params);\n</code></pre>\n<p>I also tried changing the margins in the XML layout file, which similarly has absolutely no effect. <em>Edit: it seems like using negative margins didn't work in my original project, but it does in a newer test project. I suspect this is caused by using old versions of some libraries (probably the material library which I'm implicitly using through appcompat 1.1.0).</em></p>\n<p>Does anyone know how to achieve the result I want?</p>\n<p>Thanks for your help!</p>\n"},{"tags":["java","selenium","webdriver"],"answers":[{"comments":[{"owner":{"account_id":1831013,"reputation":1513,"user_id":1662411,"accept_rate":47,"display_name":"Akbar"},"score":0,"creation_date":1380201488,"post_id":19024417,"comment_id":28118373,"body_markdown":"If you are not sure about which handle corresponds to which window, then you enhance the above code and do a find for a particular element in the window and if it is valid then switch to that window.","body":"If you are not sure about which handle corresponds to which window, then you enhance the above code and do a find for a particular element in the window and if it is valid then switch to that window."}],"tags":[],"owner":{"account_id":2464420,"reputation":658,"user_id":2147846,"display_name":"Vinay"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380187835,"creation_date":1380187835,"answer_id":19024417,"question_id":19023833,"body_markdown":"You are almost there. If you want to switch to a window first store the window id&#39;s in an array and switch to some specific window. Some thing like below. Let me know if you want more help. Happy coding.\r\n\r\n    Set handles = driver.getWindowHandles();\r\n    \t\tString[] individualHandle = new String[handles.size()];\r\n    \t\tIterator it = handles.iterator();\r\n    \t\tint i =0;\r\n    \t\twhile(it.hasNext())\r\n    \t\t{\r\n    \t\t\tindividualHandle[i] = (String) it.next();\r\n    \t\t\ti++;\r\n    \t\t}\r\n    \t\t\r\n    driver.switchTo().window(individualHandle[1]);","title":"Webdriver : How to switch to a specific window?","body":"<p>You are almost there. If you want to switch to a window first store the window id's in an array and switch to some specific window. Some thing like below. Let me know if you want more help. Happy coding.</p>\n\n<pre><code>Set handles = driver.getWindowHandles();\n        String[] individualHandle = new String[handles.size()];\n        Iterator it = handles.iterator();\n        int i =0;\n        while(it.hasNext())\n        {\n            individualHandle[i] = (String) it.next();\n            i++;\n        }\n\ndriver.switchTo().window(individualHandle[1]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3327555,"reputation":421,"user_id":2797230,"display_name":"NaviSaysListen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380212937,"creation_date":1380212937,"answer_id":19033688,"question_id":19023833,"body_markdown":"    public static void switchWindow(String text) {\r\n        WebDriver popup = null;\r\n        Iterator&lt;String&gt; windowIterator = driver.getWindowHandles()\r\n                .iterator();\r\n        while (windowIterator.hasNext()) {\r\n            String windowHandle = windowIterator.next();\r\n            popup = driver.switchTo().window(windowHandle);\r\n            String title = popup.getTitle();\r\n            if (title.contains(text)) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\nThis will get you any window that contains certain text, you don&#39;t have to be specific.","title":"Webdriver : How to switch to a specific window?","body":"<pre><code>public static void switchWindow(String text) {\n    WebDriver popup = null;\n    Iterator&lt;String&gt; windowIterator = driver.getWindowHandles()\n            .iterator();\n    while (windowIterator.hasNext()) {\n        String windowHandle = windowIterator.next();\n        popup = driver.switchTo().window(windowHandle);\n        String title = popup.getTitle();\n        if (title.contains(text)) {\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>This will get you any window that contains certain text, you don't have to be specific.</p>\n"},{"tags":[],"owner":{"account_id":18218514,"reputation":11,"user_id":13259760,"display_name":"Rahul Pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611738570,"creation_date":1611735378,"answer_id":65915212,"question_id":19023833,"body_markdown":"The below method will navigate to a particular window \r\n\r\n    public static void switchToParticularWindow(WebDriver driver, int index) throws InterruptedException {\r\n            ArrayList&lt;String&gt; tabs = new ArrayList(driver.getWindowHandles());\r\n            driver.switchTo().window(tabs.get(index));\r\n            Thread.sleep(2000);\r\n            logger.info(&quot;Switched to new tab&quot;);\r\n        }","title":"Webdriver : How to switch to a specific window?","body":"<p>The below method will navigate to a particular window</p>\n<pre><code>public static void switchToParticularWindow(WebDriver driver, int index) throws InterruptedException {\n        ArrayList&lt;String&gt; tabs = new ArrayList(driver.getWindowHandles());\n        driver.switchTo().window(tabs.get(index));\n        Thread.sleep(2000);\n        logger.info(&quot;Switched to new tab&quot;);\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1633943689,"post_id":69522519,"comment_id":122885593,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/69522519/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":10298903,"reputation":1,"user_id":7598180,"display_name":"sai ram"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633937536,"creation_date":1633937536,"answer_id":69522519,"question_id":19023833,"body_markdown":"public class WindowHandles {\r\n\t\r\n\tpublic static WebDriver driver;\r\n\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tWebDriverManager.chromedriver().setup();\r\n\t\tdriver = new ChromeDriver();\r\n\t\tdriver.get(&quot;https://www.way2automation.com/lifetime-membership-club/&quot;);\r\n\t\tdriver.manage().window().maximize();\r\n\t\r\n\t\t\r\n\t\tdriver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\r\n\t\t\r\n\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;menu-item-25089\\&quot;]/a/span[2]&quot;)).click();\r\n\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;ast-desktop-header\\&quot;]/div[1]/div/div/div/div[2]/div/div/div/a[1]&quot;)).click();\r\n\t\t\r\n\t\tSet&lt;String&gt; window = driver.getWindowHandles();\r\n\t\tIterator&lt;String&gt; it =window.iterator();\r\n\t\t\t\t\r\n\t\twhile(it.hasNext())\r\n\t\t{\r\n\t\t\tString childWindow = it.next();\r\n\t\t\tString windowTitle = driver.switchTo().window(childWindow).getTitle();\r\n\t\t\t\r\n\t\t   \r\n\t\t   \r\n\t\t\t if(windowTitle.contains(&quot;Way2Automation&quot;))\r\n\t\t\t    {\r\n\t\t\t    \tbreak;\r\n\t\t\t    \t\r\n\t\t\t    }\t\t\r\n\t\t}\r\n\t    \t\t\r\n\t\tSystem.out.println(driver.getTitle());\r\n\t\t\r\n\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;blueBarDOMInspector\\&quot;]/div/div/div/div[1]/a&quot;)).click();\r\n\t\t\r\n\t\tSystem.out.println(driver.getTitle());\r\n\r\n\t}\r\n\r\n}","title":"Webdriver : How to switch to a specific window?","body":"<p>public class WindowHandles {</p>\n<pre><code>public static WebDriver driver;\n\n\npublic static void main(String[] args) throws InterruptedException {\n    // TODO Auto-generated method stub\n    WebDriverManager.chromedriver().setup();\n    driver = new ChromeDriver();\n    driver.get(&quot;https://www.way2automation.com/lifetime-membership-club/&quot;);\n    driver.manage().window().maximize();\n\n    \n    driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\n    \n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;menu-item-25089\\&quot;]/a/span[2]&quot;)).click();\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;ast-desktop-header\\&quot;]/div[1]/div/div/div/div[2]/div/div/div/a[1]&quot;)).click();\n    \n    Set&lt;String&gt; window = driver.getWindowHandles();\n    Iterator&lt;String&gt; it =window.iterator();\n            \n    while(it.hasNext())\n    {\n        String childWindow = it.next();\n        String windowTitle = driver.switchTo().window(childWindow).getTitle();\n        \n       \n       \n         if(windowTitle.contains(&quot;Way2Automation&quot;))\n            {\n                break;\n                \n            }       \n    }\n            \n    System.out.println(driver.getTitle());\n    \n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;blueBarDOMInspector\\&quot;]/div/div/div/div[1]/a&quot;)).click();\n    \n    System.out.println(driver.getTitle());\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":10785233,"reputation":3,"user_id":7934438,"display_name":"Dhanaprabhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700800034,"creation_date":1700800034,"answer_id":77540730,"question_id":19023833,"body_markdown":"You can use the following code to switch to a Specific window by Index.\r\n \r\n\r\n    // Get all window handles\r\n            Set&lt;String&gt; windowHandles = driver.getWindowHandles();\r\n    \r\n    // Switch to the nth window (assuming n is the index of the window you want to switch to)\r\n            int n = 1;  // Replace with the desired window index\r\n            String[] handles = windowHandles.toArray(new String[0]);\r\n            driver.switchTo().window(handles[n]);","title":"Webdriver : How to switch to a specific window?","body":"<p>You can use the following code to switch to a Specific window by Index.</p>\n<pre><code>// Get all window handles\n        Set&lt;String&gt; windowHandles = driver.getWindowHandles();\n\n// Switch to the nth window (assuming n is the index of the window you want to switch to)\n        int n = 1;  // Replace with the desired window index\n        String[] handles = windowHandles.toArray(new String[0]);\n        driver.switchTo().window(handles[n]);\n</code></pre>\n"}],"owner":{"account_id":1646795,"reputation":57,"user_id":1518196,"accept_rate":25,"display_name":"MCKiran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1700800034,"creation_date":1380186296,"question_id":19023833,"body_markdown":"I came across many solutions for switching between windows, one of them is:\r\n\r\n    Set&lt;String&gt; allWindows = driver.getWindowHandles();\r\n    for(String currentWindow : allWindows){\r\n       driver.switchTo().window(currentWindow);\r\n    }\r\n\r\nBut, I am unable to go to a particular window. Can someone tell me how to switch to 3rd window from parent window (using java client library)?","title":"Webdriver : How to switch to a specific window?","body":"<p>I came across many solutions for switching between windows, one of them is:</p>\n\n<pre><code>Set&lt;String&gt; allWindows = driver.getWindowHandles();\nfor(String currentWindow : allWindows){\n   driver.switchTo().window(currentWindow);\n}\n</code></pre>\n\n<p>But, I am unable to go to a particular window. Can someone tell me how to switch to 3rd window from parent window (using java client library)?</p>\n"},{"tags":["java","arrays","instance"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1700802803,"post_id":77535824,"comment_id":136700278,"body_markdown":"`d` is a two dimensional array. What happens when any object (or array) is stored in a two dimensional array as its element?","body":"<code>d</code> is a two dimensional array. What happens when any object (or array) is stored in a two dimensional array as its element?"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1700802905,"post_id":77535824,"comment_id":136700286,"body_markdown":"`a` is _not_ an instance member. It is called as class or static member.","body":"<code>a</code> is <i>not</i> an instance member. It is called as class or static member."},{"owner":{"account_id":5939812,"reputation":1,"user_id":4671498,"display_name":"Quest"},"score":0,"creation_date":1700808850,"post_id":77535824,"comment_id":136700803,"body_markdown":"Hi prasad_,  ok, makes sense with the two dimensional array.  So &#39;b&#39; is the first array in the &#39;d&#39; two dimensional array.  That&#39;s why I get the output one in the &#39;Main&#39; class. I am wondering how is it possible in opening the &#39;d&#39; array in the &#39;Main&#39; class to find out what&#39;s inside &#39;b&#39; array?","body":"Hi prasad_,  ok, makes sense with the two dimensional array.  So &#39;b&#39; is the first array in the &#39;d&#39; two dimensional array.  That&#39;s why I get the output one in the &#39;Main&#39; class. I am wondering how is it possible in opening the &#39;d&#39; array in the &#39;Main&#39; class to find out what&#39;s inside &#39;b&#39; array?"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1700811337,"post_id":77535824,"comment_id":136701154,"body_markdown":"See if this helps [https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html).","body":"See if this helps <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/ar&zwnj;&#8203;rays.html</a>."},{"owner":{"account_id":5939812,"reputation":1,"user_id":4671498,"display_name":"Quest"},"score":0,"creation_date":1700819256,"post_id":77535824,"comment_id":136702441,"body_markdown":"@prasad_ I looked at the web you sent me. It was ok, but no way of passing the static member.  So I searched some more info on passing 2D arrays.  I stumbled upon one web but would not work well,  unless I did not see the code well.  I will check it once more.  https://stackoverflow.com/questions/11205901/passing-a-2d-array-into-another-class-java","body":"@prasad_ I looked at the web you sent me. It was ok, but no way of passing the static member.  So I searched some more info on passing 2D arrays.  I stumbled upon one web but would not work well,  unless I did not see the code well.  I will check it once more.  <a href=\"https://stackoverflow.com/questions/11205901/passing-a-2d-array-into-another-class-java\" title=\"passing a 2d array into another class java\">stackoverflow.com/questions/11205901/&hellip;</a>"}],"owner":{"account_id":5939812,"reputation":1,"user_id":4671498,"display_name":"Quest"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700800009,"creation_date":1700732816,"question_id":77535824,"body_markdown":"I created two classes. They both work together.  Simply, once you execute the &#39;Main&#39; class, one global array (instance member) called &#39;public static int[] a = {1, 2, 3, 4, 5};&#39; from the &#39;NewClass1&#39; class, passes over to the &#39;Main&#39; class.  In the &#39;Main&#39; class, it outputs the number five. This specifies that there are five numbers from the &#39;a&#39; array (NewClass1). \r\n\r\nThe issue is that once you alter the int array from the &#39;Main&#39; class, using the &#39;int e = NewClass1.d.length;&#39; instead of the other array, &#39;int e = NewClass1.a.length;&#39; it outputs the number one. That is where I get lost.  I would say that the answer should be five, similar to the original answer. The only understanding I get would be that all the global arrays in the NewClass1 class get executed first, meaning passing the arrays from the beginning of the program to the other class. This does not have enough time to store anything from the calculations in the main program below. \r\n\r\nWould that be right? If so, would there be a way to make the global array  &#39;public static int[] d[] = {b};&#39; to be calculated before being passed over to the other class &#39;Main&#39;?  \r\n\r\n\r\n\r\n```\r\n    import java.util.*;\r\n    public class Main\r\n    {\r\n        public static void main (String[]args)\r\n        {\r\n        int e = NewClass1.a.length;\r\n        //int e = NewClass1.d.length;\r\n        System.out.println (e);\r\n        }\r\n    }\r\n\r\n\r\n    import java.util.*;\r\n    public class NewClass1 \r\n    {\r\n        public static int[] a = { 1, 2, 3, 4, 5 };\r\n        public static int[] b = new int[5];\r\n        public static int[] d[] = { b };\r\n\r\n        public static void main (String[]args)\r\n        {\r\n            System.out.println (&quot;TEST&quot;);\r\n            for (int c = 0; c &lt; a.length; c++)\r\n            {\r\n\t        b[c] = a[c] + 7;\r\n            }\r\n            System.out.println (&quot;New numbers: &quot; + Arrays.toString (b));\r\n\r\n        }\r\n    }\r\n\r\n```\r\n\r\n","title":"Can you calculate a global array (instance member) before passing it to another class?","body":"<p>I created two classes. They both work together.  Simply, once you execute the 'Main' class, one global array (instance member) called 'public static int[] a = {1, 2, 3, 4, 5};' from the 'NewClass1' class, passes over to the 'Main' class.  In the 'Main' class, it outputs the number five. This specifies that there are five numbers from the 'a' array (NewClass1).</p>\n<p>The issue is that once you alter the int array from the 'Main' class, using the 'int e = NewClass1.d.length;' instead of the other array, 'int e = NewClass1.a.length;' it outputs the number one. That is where I get lost.  I would say that the answer should be five, similar to the original answer. The only understanding I get would be that all the global arrays in the NewClass1 class get executed first, meaning passing the arrays from the beginning of the program to the other class. This does not have enough time to store anything from the calculations in the main program below.</p>\n<p>Would that be right? If so, would there be a way to make the global array  'public static int[] d[] = {b};' to be calculated before being passed over to the other class 'Main'?</p>\n<pre><code>    import java.util.*;\n    public class Main\n    {\n        public static void main (String[]args)\n        {\n        int e = NewClass1.a.length;\n        //int e = NewClass1.d.length;\n        System.out.println (e);\n        }\n    }\n\n\n    import java.util.*;\n    public class NewClass1 \n    {\n        public static int[] a = { 1, 2, 3, 4, 5 };\n        public static int[] b = new int[5];\n        public static int[] d[] = { b };\n\n        public static void main (String[]args)\n        {\n            System.out.println (&quot;TEST&quot;);\n            for (int c = 0; c &lt; a.length; c++)\n            {\n            b[c] = a[c] + 7;\n            }\n            System.out.println (&quot;New numbers: &quot; + Arrays.toString (b));\n\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","if-statement","branch"],"comments":[{"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"score":0,"creation_date":1700802742,"post_id":77540712,"comment_id":136700271,"body_markdown":"If the code block after ‘if’ is bigger than 3-4 lines,consider refactoring it to method ‘validateIfPresent’ followed by ‘executeIfAbsent’ …. with if check inside it","body":"If the code block after ‘if’ is bigger than 3-4 lines,consider refactoring it to method ‘validateIfPresent’ followed by ‘executeIfAbsent’ …. with if check inside it"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1700810476,"post_id":77540712,"comment_id":136701011,"body_markdown":"Nested `if` blocks, for example: `if (condition1IsTrue) { /* do whatever... */ if (condition2IsTrue) { /* do whatever... */ if (condition3IsTrue) { /* do whatever... */ if (condition4IsTrue) { /* do whatever... */ } } } }`.","body":"Nested <code>if</code> blocks, for example: <code>if (condition1IsTrue) { &#47;* do whatever... *&#47; if (condition2IsTrue) { &#47;* do whatever... *&#47; if (condition3IsTrue) { &#47;* do whatever... *&#47; if (condition4IsTrue) { &#47;* do whatever... *&#47; } } } }</code>."}],"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1700802524,"answer_count":0,"score":1,"last_activity_date":1700799757,"creation_date":1700799757,"question_id":77540712,"body_markdown":"Suppose you have 4 conditions exclusive from each other and you want to execute every branch if the corresponding condition is met.How do you do this?","title":"Exclusive conditions and execution of branches","body":"<p>Suppose you have 4 conditions exclusive from each other and you want to execute every branch if the corresponding condition is met.How do you do this?</p>\n"},{"tags":["java","multithreading","jvm","tomcat7","tomcat8"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1700764922,"post_id":77538847,"comment_id":136697213,"body_markdown":"The message “has been interrupted because it was active for     129,456,677 milliseconds” suggests that the assumption that the thread hangs is just a guess because whoever implemented this check could not imagine that an operation takes that long. However, this is not a proof that the thread truly hangs. And if it it doesn’t hang, finding it in the method `getCallerClass` when peeking into the stack trace after 129,456,677 milliseconds might be mere coincidence.","body":"The message “has been interrupted because it was active for     129,456,677 milliseconds” suggests that the assumption that the thread hangs is just a guess because whoever implemented this check could not imagine that an operation takes that long. However, this is not a proof that the thread truly hangs. And if it it doesn’t hang, finding it in the method <code>getCallerClass</code> when peeking into the stack trace after 129,456,677 milliseconds might be mere coincidence."},{"owner":{"account_id":29925833,"reputation":11,"user_id":22933891,"display_name":"Nurzamat"},"score":0,"creation_date":1700803859,"post_id":77538847,"comment_id":136700354,"body_markdown":"Usually we don&#39;t see such logs, this is unusual case. I want to understand what was a reason of long running or stucked thread","body":"Usually we don&#39;t see such logs, this is unusual case. I want to understand what was a reason of long running or stucked thread"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1700814884,"post_id":77538847,"comment_id":136701709,"body_markdown":"That’s the wrong question. As said, we don’t know whether the thread is really stuck or whether it is extraordinarily long running. How long do these threads run normally? What part of the software implemented this check &amp; warning and what heuristic does it use? Why is running for a day and 11 hours (apparently) fine but running for a day, 11 hours, and 57&#189; minutes considered a problem? There should be a documentation about this warning and its rationale somewhere.","body":"That’s the wrong question. As said, we don’t know whether the thread is really stuck or whether it is extraordinarily long running. How long do these threads run normally? What part of the software implemented this check &amp; warning and what heuristic does it use? Why is running for a day and 11 hours (apparently) fine but running for a day, 11 hours, and 57&#189; minutes considered a problem? There should be a documentation about this warning and its rationale somewhere."},{"owner":{"account_id":29925833,"reputation":11,"user_id":22933891,"display_name":"Nurzamat"},"score":0,"creation_date":1700838591,"post_id":77538847,"comment_id":136705650,"body_markdown":"In tomcat there is settings StuckThreadDetectionValve in server.xml and it is set to 4 second. So if the thread takes longer than 4 sec happening interruption by tomcat. In our case interruption happened after long time. What was a reason for that?","body":"In tomcat there is settings StuckThreadDetectionValve in server.xml and it is set to 4 second. So if the thread takes longer than 4 sec happening interruption by tomcat. In our case interruption happened after long time. What was a reason for that?"}],"owner":{"account_id":29925833,"reputation":11,"user_id":22933891,"display_name":"Nurzamat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700799419,"creation_date":1700761699,"question_id":77538847,"body_markdown":"I encountered stucked threads in tomcat logs.\r\nWe use java version 7.\r\n\r\nThe last 2 lines of stacktrace:\r\n\r\n```\r\nAug 30, 2023 8:09:59 PM org.apache.catalina.valves.StuckThreadDetectionValve$MonitoredThread     interruptIfStuck\r\nARNING: Thread &quot;ajp-apr-8280-exec-33&quot; (id=990) has been interrupted because it was active for     129,456,677 milliseconds ...\r\n    java.lang.Throwable\r\n         at sun.reflect.Reflection.getCallerClass(Native Method)\r\n         at java.lang.Class.getMethods(Class.java:1479)\r\n          ...\r\n```\r\n     \r\n\r\nWhy did the threads stuck?\r\n\r\nRestarting tomcat helped.","title":"Threads hang on getCallerClass (Native method)","body":"<p>I encountered stucked threads in tomcat logs.\nWe use java version 7.</p>\n<p>The last 2 lines of stacktrace:</p>\n<pre><code>Aug 30, 2023 8:09:59 PM org.apache.catalina.valves.StuckThreadDetectionValve$MonitoredThread     interruptIfStuck\nARNING: Thread &quot;ajp-apr-8280-exec-33&quot; (id=990) has been interrupted because it was active for     129,456,677 milliseconds ...\n    java.lang.Throwable\n         at sun.reflect.Reflection.getCallerClass(Native Method)\n         at java.lang.Class.getMethods(Class.java:1479)\n          ...\n</code></pre>\n<p>Why did the threads stuck?</p>\n<p>Restarting tomcat helped.</p>\n"},{"tags":["java","jfr"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1700754987,"post_id":77538181,"comment_id":136695672,"body_markdown":"`certain long running jobs` Normally this would be a task, not a thread.  Tasks are run by generic threads (as in &quot;any old thread,&quot; like from a thread pool), so it shouldn&#39;t be bound to a specific thread.  So do you actually need to trigger on a specific task, then record that thread?  I&#39;m not an expert on JFR, but that does strike me as potentially important.","body":"<code>certain long running jobs</code> Normally this would be a task, not a thread.  Tasks are run by generic threads (as in &quot;any old thread,&quot; like from a thread pool), so it shouldn&#39;t be bound to a specific thread.  So do you actually need to trigger on a specific task, then record that thread?  I&#39;m not an expert on JFR, but that does strike me as potentially important."}],"answers":[{"tags":[],"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700799250,"creation_date":1700759230,"answer_id":77538642,"question_id":77538181,"body_markdown":"It&#39;s not possible to prefilter JDK/JVM events per thread. The best you can do is filter it afterwards, for example:\r\n\r\n    $ jfr scrub --include-threads main recording.jfr\r\n\r\nThat way you can keep down the file size, but it won&#39;t reduce the overhead. You can also do it programmatically using the [RecordingFile.write][1] method.\r\n\r\nFiltering can be done on recordings from JDK 11, or later, even though the API and scrub command only exist in JDK 19+.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/jdk.jfr/jdk/jfr/consumer/RecordingFile.html#write(java.nio.file.Path,java.util.function.Predicate)","title":"Record only a single thread in JDK Flight Recorder","body":"<p>It's not possible to prefilter JDK/JVM events per thread. The best you can do is filter it afterwards, for example:</p>\n<pre><code>$ jfr scrub --include-threads main recording.jfr\n</code></pre>\n<p>That way you can keep down the file size, but it won't reduce the overhead. You can also do it programmatically using the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/jdk.jfr/jdk/jfr/consumer/RecordingFile.html#write(java.nio.file.Path,java.util.function.Predicate)\" rel=\"nofollow noreferrer\">RecordingFile.write</a> method.</p>\n<p>Filtering can be done on recordings from JDK 11, or later, even though the API and scrub command only exist in JDK 19+.</p>\n"}],"owner":{"account_id":1426258,"reputation":4514,"user_id":1349691,"accept_rate":72,"display_name":"Philippe Marschall"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77538642,"answer_count":1,"score":3,"last_activity_date":1700799250,"creation_date":1700754738,"question_id":77538181,"body_markdown":"I&#39;m looking for a way to record only a single thread in a JDK Flight Recording. I&#39;m using the [jdk.jfr.Recording](https://docs.oracle.com/en/java/javase/21/docs/api/jdk.jfr/jdk/jfr/Recording.html) API to create a flight recording but do not find a way to limit the events only to a single thread.\r\n\r\nI know I can restrict to a single thread afterwards in JMC but I would like to configure this before hand to keep the file size to a minimum and make analysis easier.\r\n\r\nThe use case I have for this is:\r\n\r\nI&#39;m dealing with a multi threaded system where multiple jobs run in parallel. For certain long running jobs I would like to create a flight recording on demand. To make analysis easier and keep the file size to a minimum I would like only one single thread to be recorded.","title":"Record only a single thread in JDK Flight Recorder","body":"<p>I'm looking for a way to record only a single thread in a JDK Flight Recording. I'm using the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/jdk.jfr/jdk/jfr/Recording.html\" rel=\"nofollow noreferrer\">jdk.jfr.Recording</a> API to create a flight recording but do not find a way to limit the events only to a single thread.</p>\n<p>I know I can restrict to a single thread afterwards in JMC but I would like to configure this before hand to keep the file size to a minimum and make analysis easier.</p>\n<p>The use case I have for this is:</p>\n<p>I'm dealing with a multi threaded system where multiple jobs run in parallel. For certain long running jobs I would like to create a flight recording on demand. To make analysis easier and keep the file size to a minimum I would like only one single thread to be recorded.</p>\n"},{"tags":["java","sonarqube","code-duplication"],"answers":[{"comments":[{"owner":{"account_id":172136,"reputation":639,"user_id":399971,"accept_rate":41,"display_name":"Fischer Ludrian"},"score":0,"creation_date":1536916240,"post_id":52328566,"comment_id":91604029,"body_markdown":"Thanks. Two questions: 1) Will this still be marked as false positives if I rerun the sonarqube analysis? 2) If there is duplicated code from other source files in the future, won&#39;t this duplication be ignored?","body":"Thanks. Two questions: 1) Will this still be marked as false positives if I rerun the sonarqube analysis? 2) If there is duplicated code from other source files in the future, won&#39;t this duplication be ignored?"},{"owner":{"account_id":8347952,"reputation":5186,"user_id":6271180,"display_name":"Benoit"},"score":0,"creation_date":1536916532,"post_id":52328566,"comment_id":91604209,"body_markdown":"@FischerLudrian 1) No the same issue will be ignored in subsequent rerun, you won&#39;t have to resolve as false positive again and again.\n2) No only the specific duplication you resolved is ignored, not the whole rule.","body":"@FischerLudrian 1) No the same issue will be ignored in subsequent rerun, you won&#39;t have to resolve as false positive again and again. 2) No only the specific duplication you resolved is ignored, not the whole rule."}],"tags":[],"owner":{"account_id":8347952,"reputation":5186,"user_id":6271180,"display_name":"Benoit"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1536915981,"creation_date":1536915981,"answer_id":52328566,"question_id":52328023,"body_markdown":"You can **resolve** the issue **as false positive**. This will make this issue disappear from your dashboard:\r\n\r\n - Select the issue\r\n - Click on Bulk change &gt; Selected issue(s)\r\n - Choose Transition, Resolve as false positive\r\n - Apply\r\n\r\nThat&#39;s it.\r\n\r\n","title":"Exclude Sonarqube&#39;s duplicate code check between two specific classes","body":"<p>You can <strong>resolve</strong> the issue <strong>as false positive</strong>. This will make this issue disappear from your dashboard:</p>\n\n<ul>\n<li>Select the issue</li>\n<li>Click on Bulk change > Selected issue(s)</li>\n<li>Choose Transition, Resolve as false positive</li>\n<li>Apply</li>\n</ul>\n\n<p>That's it.</p>\n"}],"owner":{"account_id":172136,"reputation":639,"user_id":399971,"accept_rate":41,"display_name":"Fischer Ludrian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11260,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1700798680,"creation_date":1536914181,"question_id":52328023,"body_markdown":"I use Sonarqube with Jenkins to check various violations. There are two classes, `A` and `B`, that have a lot of duplicated code. I know that and accept that. Therefore, I&#39;d like to ignore these violations. However, I still want to be informed about the duplicated code from other classes, like C. I just want to ignore the duplicated code between `A` and `B`. How can I do that?","title":"Exclude Sonarqube&#39;s duplicate code check between two specific classes","body":"<p>I use Sonarqube with Jenkins to check various violations. There are two classes, <code>A</code> and <code>B</code>, that have a lot of duplicated code. I know that and accept that. Therefore, I'd like to ignore these violations. However, I still want to be informed about the duplicated code from other classes, like C. I just want to ignore the duplicated code between <code>A</code> and <code>B</code>. How can I do that?</p>\n"},{"tags":["java","jaxb"],"owner":{"account_id":29608449,"reputation":1,"user_id":22692291,"display_name":"Patrick Starfish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700798050,"creation_date":1700798050,"question_id":77540627,"body_markdown":"I want to modify jmeter script which is an xml file via java application. so it has large amount of properties that could be configured but I only want to modify some parts of it.\r\n\r\nI use JAXB and I created a model that only map 1 property that i&#39;m interested which is `variableThroughputTimer`.\r\n\r\n```\r\n@Data\r\n@XmlRootElement(name = &quot;hashTree&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class JmeterConfig {\r\n\r\n    @XmlElement(name = &quot;kg.apc.jmeter.timers.VariableThroughputTimer&quot;)\r\n    private VariableThroughputTimer variableThroughputTimer;\r\n\r\n}\r\n```\r\n\r\nthe actual xml file\r\n```\r\n&lt;hashTree&gt;\r\n    &lt;kg.apc.jmeter.timers.VariableThroughputTimer guiclass=&quot;kg.apc.jmeter.timers.VariableThroughputTimerGui&quot; testclass=&quot;kg.apc.jmeter.timers.VariableThroughputTimer&quot; testname=&quot;throughput-shaping-timer-1&quot; enabled=&quot;true&quot;&gt;\r\n        &lt;collectionProp name=&quot;load_profile&quot;&gt;\r\n            &lt;collectionProp name=&quot;912502873&quot;&gt;\r\n                &lt;stringProp name=&quot;1&quot;&gt;1&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;-1887941201&quot;&gt;10&lt;/stringProp&gt;\r\n            &lt;/collectionProp&gt;\r\n            &lt;collectionProp name=&quot;311615172&quot;&gt;\r\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;78419694&quot;&gt;10&lt;/stringProp&gt;\r\n            &lt;/collectionProp&gt;\r\n            &lt;collectionProp name=&quot;-2065473974&quot;&gt;\r\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;49&quot;&gt;1&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;1722&quot;&gt;60&lt;/stringProp&gt;\r\n            &lt;/collectionProp&gt;\r\n        &lt;/collectionProp&gt;\r\n    &lt;/kg.apc.jmeter.timers.VariableThroughputTimer&gt;\r\n    &lt;HTTPSamplerProxy guiclass=&quot;HttpTestSampleGui&quot; testclass=&quot;HTTPSamplerProxy&quot; testname=&quot;1. test something&quot; enabled=&quot;true&quot;&gt;\r\n        &lt;boolProp name=&quot;HTTPSampler.postBodyRaw&quot;&gt;true&lt;/boolProp&gt;\r\n        &lt;stringProp name=&quot;HTTPSampler.domain&quot;&gt;&lt;/stringProp&gt;\r\n        &lt;stringProp name=&quot;HTTPSampler.port&quot;&gt;&lt;/stringProp&gt;\r\n        &lt;stringProp name=&quot;HTTPSampler.protocol&quot;&gt;&lt;/stringProp&gt;\r\n        &lt;stringProp name=&quot;HTTPSampler.contentEncoding&quot;&gt;&lt;/stringProp&gt;\r\n        &lt;stringProp name=&quot;HTTPSampler.path&quot;&gt;/some-api&lt;/stringProp&gt;\r\n        &lt;stringProp name=&quot;HTTPSampler.method&quot;&gt;POST&lt;/stringProp&gt;\r\n        &lt;boolProp name=&quot;HTTPSampler.follow_redirects&quot;&gt;true&lt;/boolProp&gt;\r\n        &lt;boolProp name=&quot;HTTPSampler.auto_redirects&quot;&gt;false&lt;/boolProp&gt;\r\n        &lt;boolProp name=&quot;HTTPSampler.use_keepalive&quot;&gt;true&lt;/boolProp&gt;\r\n        &lt;boolProp name=&quot;HTTPSampler.DO_MULTIPART_POST&quot;&gt;false&lt;/boolProp&gt;\r\n        &lt;stringProp name=&quot;HTTPSampler.embedded_url_re&quot;&gt;&lt;/stringProp&gt;\r\n        &lt;stringProp name=&quot;HTTPSampler.connect_timeout&quot;&gt;&lt;/stringProp&gt;\r\n        &lt;stringProp name=&quot;HTTPSampler.response_timeout&quot;&gt;&lt;/stringProp&gt;\r\n    &lt;/HTTPSamplerProxy&gt;\r\n&lt;/hashTree&gt;\r\n```\r\n\r\nEveything works fine until I saved the file back to the xml. Now since it doesnt have `HTTPSamplerProxy` property so it writes the file with `VariableThroughputTimer` only.\r\n\r\nThe result\r\n\r\n```\r\n&lt;hashTree&gt;\r\n    &lt;kg.apc.jmeter.timers.VariableThroughputTimer guiclass=&quot;kg.apc.jmeter.timers.VariableThroughputTimerGui&quot; testclass=&quot;kg.apc.jmeter.timers.VariableThroughputTimer&quot; testname=&quot;throughput-shaping-timer-1&quot; enabled=&quot;true&quot;&gt;\r\n        &lt;collectionProp name=&quot;load_profile&quot;&gt;\r\n            &lt;collectionProp name=&quot;912502873&quot;&gt;\r\n                &lt;stringProp name=&quot;1&quot;&gt;1&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;-1887941201&quot;&gt;10&lt;/stringProp&gt;\r\n            &lt;/collectionProp&gt;\r\n            &lt;collectionProp name=&quot;311615172&quot;&gt;\r\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;78419694&quot;&gt;10&lt;/stringProp&gt;\r\n            &lt;/collectionProp&gt;\r\n            &lt;collectionProp name=&quot;-2065473974&quot;&gt;\r\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;49&quot;&gt;1&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;1722&quot;&gt;60&lt;/stringProp&gt;\r\n            &lt;/collectionProp&gt;\r\n        &lt;/collectionProp&gt;\r\n    &lt;/kg.apc.jmeter.timers.VariableThroughputTimer&gt;\r\n&lt;/hashTree&gt;\r\n```\r\n\r\nso is it possible to read some part of an xml file, modify it and save it back without touching the existing property. one solution that I can think of is to create a model that cover the whole properties of xml file but that&#39;s a lot of work to do.\r\n\r\nthis is my service for reading and writing xml.\r\n```\r\n\r\n@Component\r\npublic class JmeterConfigurationConverter {\r\n    public JmeterConfig read() throws JAXBException, FileNotFoundException {\r\n        JAXBContext jaxbContext = JAXBContext.newInstance(JmeterConfig.class);\r\n        Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n        File file = ResourceUtils.getFile(&quot;classpath:sample.xml&quot;);\r\n        return (JmeterConfig) jaxbUnmarshaller.unmarshal(file);\r\n    }\r\n\r\n    public void save(JmeterConfig jmeterConfig) throws JAXBException, IOException {\r\n        JAXBContext jaxbContext = JAXBContext.newInstance(JmeterConfig.class);\r\n        Marshaller jaxbUnmarshaller = jaxbContext.createMarshaller();\r\n        File file = ResourceUtils.getFile(&quot;classpath:sample.xml&quot;);\r\n        FileOutputStream opt = new FileOutputStream(file);\r\n        jaxbUnmarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n        jaxbUnmarshaller.marshal(jmeterConfig, opt);\r\n        opt.close();\r\n    }\r\n}\r\n```\r\n","title":"How to read some part of an xml, and update to the actual xml file","body":"<p>I want to modify jmeter script which is an xml file via java application. so it has large amount of properties that could be configured but I only want to modify some parts of it.</p>\n<p>I use JAXB and I created a model that only map 1 property that i'm interested which is <code>variableThroughputTimer</code>.</p>\n<pre><code>@Data\n@XmlRootElement(name = &quot;hashTree&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class JmeterConfig {\n\n    @XmlElement(name = &quot;kg.apc.jmeter.timers.VariableThroughputTimer&quot;)\n    private VariableThroughputTimer variableThroughputTimer;\n\n}\n</code></pre>\n<p>the actual xml file</p>\n<pre><code>&lt;hashTree&gt;\n    &lt;kg.apc.jmeter.timers.VariableThroughputTimer guiclass=&quot;kg.apc.jmeter.timers.VariableThroughputTimerGui&quot; testclass=&quot;kg.apc.jmeter.timers.VariableThroughputTimer&quot; testname=&quot;throughput-shaping-timer-1&quot; enabled=&quot;true&quot;&gt;\n        &lt;collectionProp name=&quot;load_profile&quot;&gt;\n            &lt;collectionProp name=&quot;912502873&quot;&gt;\n                &lt;stringProp name=&quot;1&quot;&gt;1&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;-1887941201&quot;&gt;10&lt;/stringProp&gt;\n            &lt;/collectionProp&gt;\n            &lt;collectionProp name=&quot;311615172&quot;&gt;\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;78419694&quot;&gt;10&lt;/stringProp&gt;\n            &lt;/collectionProp&gt;\n            &lt;collectionProp name=&quot;-2065473974&quot;&gt;\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;49&quot;&gt;1&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;1722&quot;&gt;60&lt;/stringProp&gt;\n            &lt;/collectionProp&gt;\n        &lt;/collectionProp&gt;\n    &lt;/kg.apc.jmeter.timers.VariableThroughputTimer&gt;\n    &lt;HTTPSamplerProxy guiclass=&quot;HttpTestSampleGui&quot; testclass=&quot;HTTPSamplerProxy&quot; testname=&quot;1. test something&quot; enabled=&quot;true&quot;&gt;\n        &lt;boolProp name=&quot;HTTPSampler.postBodyRaw&quot;&gt;true&lt;/boolProp&gt;\n        &lt;stringProp name=&quot;HTTPSampler.domain&quot;&gt;&lt;/stringProp&gt;\n        &lt;stringProp name=&quot;HTTPSampler.port&quot;&gt;&lt;/stringProp&gt;\n        &lt;stringProp name=&quot;HTTPSampler.protocol&quot;&gt;&lt;/stringProp&gt;\n        &lt;stringProp name=&quot;HTTPSampler.contentEncoding&quot;&gt;&lt;/stringProp&gt;\n        &lt;stringProp name=&quot;HTTPSampler.path&quot;&gt;/some-api&lt;/stringProp&gt;\n        &lt;stringProp name=&quot;HTTPSampler.method&quot;&gt;POST&lt;/stringProp&gt;\n        &lt;boolProp name=&quot;HTTPSampler.follow_redirects&quot;&gt;true&lt;/boolProp&gt;\n        &lt;boolProp name=&quot;HTTPSampler.auto_redirects&quot;&gt;false&lt;/boolProp&gt;\n        &lt;boolProp name=&quot;HTTPSampler.use_keepalive&quot;&gt;true&lt;/boolProp&gt;\n        &lt;boolProp name=&quot;HTTPSampler.DO_MULTIPART_POST&quot;&gt;false&lt;/boolProp&gt;\n        &lt;stringProp name=&quot;HTTPSampler.embedded_url_re&quot;&gt;&lt;/stringProp&gt;\n        &lt;stringProp name=&quot;HTTPSampler.connect_timeout&quot;&gt;&lt;/stringProp&gt;\n        &lt;stringProp name=&quot;HTTPSampler.response_timeout&quot;&gt;&lt;/stringProp&gt;\n    &lt;/HTTPSamplerProxy&gt;\n&lt;/hashTree&gt;\n</code></pre>\n<p>Eveything works fine until I saved the file back to the xml. Now since it doesnt have <code>HTTPSamplerProxy</code> property so it writes the file with <code>VariableThroughputTimer</code> only.</p>\n<p>The result</p>\n<pre><code>&lt;hashTree&gt;\n    &lt;kg.apc.jmeter.timers.VariableThroughputTimer guiclass=&quot;kg.apc.jmeter.timers.VariableThroughputTimerGui&quot; testclass=&quot;kg.apc.jmeter.timers.VariableThroughputTimer&quot; testname=&quot;throughput-shaping-timer-1&quot; enabled=&quot;true&quot;&gt;\n        &lt;collectionProp name=&quot;load_profile&quot;&gt;\n            &lt;collectionProp name=&quot;912502873&quot;&gt;\n                &lt;stringProp name=&quot;1&quot;&gt;1&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;-1887941201&quot;&gt;10&lt;/stringProp&gt;\n            &lt;/collectionProp&gt;\n            &lt;collectionProp name=&quot;311615172&quot;&gt;\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;78419694&quot;&gt;10&lt;/stringProp&gt;\n            &lt;/collectionProp&gt;\n            &lt;collectionProp name=&quot;-2065473974&quot;&gt;\n                &lt;stringProp name=&quot;1512450&quot;&gt;10&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;49&quot;&gt;1&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;1722&quot;&gt;60&lt;/stringProp&gt;\n            &lt;/collectionProp&gt;\n        &lt;/collectionProp&gt;\n    &lt;/kg.apc.jmeter.timers.VariableThroughputTimer&gt;\n&lt;/hashTree&gt;\n</code></pre>\n<p>so is it possible to read some part of an xml file, modify it and save it back without touching the existing property. one solution that I can think of is to create a model that cover the whole properties of xml file but that's a lot of work to do.</p>\n<p>this is my service for reading and writing xml.</p>\n<pre><code>\n@Component\npublic class JmeterConfigurationConverter {\n    public JmeterConfig read() throws JAXBException, FileNotFoundException {\n        JAXBContext jaxbContext = JAXBContext.newInstance(JmeterConfig.class);\n        Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\n        File file = ResourceUtils.getFile(&quot;classpath:sample.xml&quot;);\n        return (JmeterConfig) jaxbUnmarshaller.unmarshal(file);\n    }\n\n    public void save(JmeterConfig jmeterConfig) throws JAXBException, IOException {\n        JAXBContext jaxbContext = JAXBContext.newInstance(JmeterConfig.class);\n        Marshaller jaxbUnmarshaller = jaxbContext.createMarshaller();\n        File file = ResourceUtils.getFile(&quot;classpath:sample.xml&quot;);\n        FileOutputStream opt = new FileOutputStream(file);\n        jaxbUnmarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n        jaxbUnmarshaller.marshal(jmeterConfig, opt);\n        opt.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","imageicon"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1700804703,"post_id":77540592,"comment_id":136700436,"body_markdown":"Are you running on Windows with a monitor resolution &gt; 100%?","body":"Are you running on Windows with a monitor resolution &gt; 100%?"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1700804884,"post_id":77540592,"comment_id":136700456,"body_markdown":"This could be issues with your image itself","body":"This could be issues with your image itself"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1700804930,"post_id":77540592,"comment_id":136700461,"body_markdown":"[Here&#39;s a similar question](https://stackoverflow.com/questions/69285911/low-quality-image-icon).","body":"<a href=\"https://stackoverflow.com/questions/69285911/low-quality-image-icon\">Here&#39;s a similar question</a>."}],"owner":{"account_id":29979800,"reputation":1,"user_id":22975064,"display_name":"Louis Vincent"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700797276,"creation_date":1700797276,"question_id":77540592,"body_markdown":"In java, why is it that when I import an image and convert it to ImageIcon and display it using JLabel or JButton, it results to a low definition image where I can see the pixels at the edges of my images\r\n\r\nTo solve the low definition display of ImageIcon","title":"Java ImageIcon Low Definition Display","body":"<p>In java, why is it that when I import an image and convert it to ImageIcon and display it using JLabel or JButton, it results to a low definition image where I can see the pixels at the edges of my images</p>\n<p>To solve the low definition display of ImageIcon</p>\n"},{"tags":["java","android","kotlin","parcel"],"answers":[{"tags":[],"owner":{"account_id":51942,"reputation":40143,"user_id":155213,"accept_rate":83,"display_name":"miensol"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1463909922,"creation_date":1463909475,"answer_id":37372606,"question_id":37372435,"body_markdown":"In Kotlin [classes and members are final by default](https://kotlinlang.org/docs/reference/classes.html#wait-how-will-i-hack-my-libraries-now). In other words the following declarations have the same bytecode:\r\n\r\n    @JvmField final val CREATOR: Parcelable.Creator&lt;Person&gt; = PersonCreator()\r\n    @JvmField val CREATOR: Parcelable.Creator&lt;Person&gt; = PersonCreator()\r\n\r\nSo while the generated code has `final` keyword and it is not an error it is redundant.\r\n\r\nEven though classes and members are final by default there are still a need for `final` modifier in Kotlin. One example would be to mark `open` method as `final` in derived class:\r\n\r\n    open class Base {\r\n        open fun test(){}\r\n    }\r\n    \r\n    open class DerivedA : Base(){\r\n        final override fun test(){}\r\n    }\r\n    \r\n    class DerivedB : DerivedA() {\r\n        override fun test(){} //error: &#39;test&#39; in &#39;DerivedA&#39; is final and cannot be overriden\r\n    }\r\n\r\nWhile it&#39;s a good practice to make `public static` field `final` in java there&#39;s [no strict requirement for the `Parccelable.Creator` field](https://developer.android.com/reference/android/os/Parcelable.html) to be marked as such:\r\n\r\n&gt; Classes implementing the Parcelable interface must also have a\r\n&gt; non-null static field called CREATOR of a type that implements the\r\n&gt; Parcelable.Creator interface.","title":"Kotlin android parcelable","body":"<p>In Kotlin <a href=\"https://kotlinlang.org/docs/reference/classes.html#wait-how-will-i-hack-my-libraries-now\" rel=\"noreferrer\">classes and members are final by default</a>. In other words the following declarations have the same bytecode:</p>\n\n<pre><code>@JvmField final val CREATOR: Parcelable.Creator&lt;Person&gt; = PersonCreator()\n@JvmField val CREATOR: Parcelable.Creator&lt;Person&gt; = PersonCreator()\n</code></pre>\n\n<p>So while the generated code has <code>final</code> keyword and it is not an error it is redundant.</p>\n\n<p>Even though classes and members are final by default there are still a need for <code>final</code> modifier in Kotlin. One example would be to mark <code>open</code> method as <code>final</code> in derived class:</p>\n\n<pre><code>open class Base {\n    open fun test(){}\n}\n\nopen class DerivedA : Base(){\n    final override fun test(){}\n}\n\nclass DerivedB : DerivedA() {\n    override fun test(){} //error: 'test' in 'DerivedA' is final and cannot be overriden\n}\n</code></pre>\n\n<p>While it's a good practice to make <code>public static</code> field <code>final</code> in java there's <a href=\"https://developer.android.com/reference/android/os/Parcelable.html\" rel=\"noreferrer\">no strict requirement for the <code>Parccelable.Creator</code> field</a> to be marked as such:</p>\n\n<blockquote>\n  <p>Classes implementing the Parcelable interface must also have a\n  non-null static field called CREATOR of a type that implements the\n  Parcelable.Creator interface.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4394677,"reputation":15428,"user_id":4034572,"display_name":"Albert Vila Calvo"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1591026498,"creation_date":1556886089,"answer_id":55969730,"question_id":37372435,"body_markdown":"In Kotlin you can use the `@Parcelize` Kotlin Android Extension:\r\n\r\n\r\n```\r\n@Parcelize\r\ndata class User(val id: String, val name: String) : Parcelable\r\n```\r\n\r\nThis is a compiler plugin that automatically generates the [Parcelable](https://developer.android.com/reference/android/os/Parcelable) implementation for you.\r\n\r\n[This page](https://kotlinlang.org/docs/reference/compiler-plugins.html#parcelable-implementations-generator) on the Kotlin docs gives more details about it, including requirements, [supported types](https://kotlinlang.org/docs/reference/compiler-plugins.html#supported-types) and how to create [custom parcelers](https://kotlinlang.org/docs/reference/compiler-plugins.html#custom-parcelers) for unsupported types. \r\n\r\n---\r\n\r\nIf you are curious and you want dive into the technical details of the implementation, see the Kotlin Evolution and Enhancement Process [_Compiler Extension to Support `android.os.Parcelable`_](https://github.com/Kotlin/KEEP/blob/master/proposals/extensions/android-parcelable.md). \r\n\r\n---\r\n\r\nThis feature was [experimental until Kotlin 1.3.40](https://github.com/JetBrains/kotlin/blob/1.3.40/ChangeLog.md#tools-android-extensions). If you are still using a Kotlin version earlier than 1.3.40, you need to enable the experimental features to use this:\r\n\r\n```\r\nandroid {\r\n    // Enable @Parcelize\r\n    // You only need this for Kotlin &lt; 1.3.40\r\n    androidExtensions {\r\n        experimental = true\r\n    }\r\n    ...\r\n}\r\n```","title":"Kotlin android parcelable","body":"<p>In Kotlin you can use the <code>@Parcelize</code> Kotlin Android Extension:</p>\n\n<pre><code>@Parcelize\ndata class User(val id: String, val name: String) : Parcelable\n</code></pre>\n\n<p>This is a compiler plugin that automatically generates the <a href=\"https://developer.android.com/reference/android/os/Parcelable\" rel=\"nofollow noreferrer\">Parcelable</a> implementation for you.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#parcelable-implementations-generator\" rel=\"nofollow noreferrer\">This page</a> on the Kotlin docs gives more details about it, including requirements, <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#supported-types\" rel=\"nofollow noreferrer\">supported types</a> and how to create <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#custom-parcelers\" rel=\"nofollow noreferrer\">custom parcelers</a> for unsupported types. </p>\n\n<hr>\n\n<p>If you are curious and you want dive into the technical details of the implementation, see the Kotlin Evolution and Enhancement Process <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/extensions/android-parcelable.md\" rel=\"nofollow noreferrer\"><em>Compiler Extension to Support <code>android.os.Parcelable</code></em></a>. </p>\n\n<hr>\n\n<p>This feature was <a href=\"https://github.com/JetBrains/kotlin/blob/1.3.40/ChangeLog.md#tools-android-extensions\" rel=\"nofollow noreferrer\">experimental until Kotlin 1.3.40</a>. If you are still using a Kotlin version earlier than 1.3.40, you need to enable the experimental features to use this:</p>\n\n<pre><code>android {\n    // Enable @Parcelize\n    // You only need this for Kotlin &lt; 1.3.40\n    androidExtensions {\n        experimental = true\n    }\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":155220,"reputation":6787,"user_id":371720,"accept_rate":58,"display_name":"Shihab Uddin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583925405,"creation_date":1583923353,"answer_id":60634148,"question_id":37372435,"body_markdown":"Use @Parcelize annotation to data class and extends Parcelable. Kotlin automatically do the rest for you. Example- Person data class.\r\n\r\n    \r\n    @Parcelize\r\n    data class Person(val name: String, val age: Int, val email: String) : Parcelable\r\n\r\nYou can send value lets press on a button click like below from an activity.\r\n\r\n       private val PERSON = &quot;person&quot;\r\n    \r\n       // first ensure a person object with data\r\n       val person = Person(&quot;Shihab Uddin&quot;, 30, &quot;shihab.mi7@gmai.com&quot;)\r\n        \r\n       binding.buttonSend.setOnClickListener {\r\n\r\n            val intent = Intent(this, ReceiveParcelableAcitivty::class.java)\r\n            //then put an parcelable extra to intent \r\n            intent.putExtra(PERSON, person)\r\n            startActivity(intent)\r\n\r\n        }\r\n\r\nReceivers activity will get the data like \r\n\r\n        private val PERSON = &quot;person&quot;\r\n        intent?.let {\r\n            var person = intent.extras.getParcelable(PERSON) as Person\r\n            bind.textViewData.text = &quot; Data Receive: $person&quot;\r\n        }\r\n\r\n**androidExtensions** attribute is no more necessary &lt; kotlin 1.3.40 \r\n\r\n    android {\r\n     \r\n        // You only need this for Kotlin &lt; 1.3.40\r\n        androidExtensions {\r\n            experimental = true\r\n        }\r\n        ...\r\n    }","title":"Kotlin android parcelable","body":"<p>Use @Parcelize annotation to data class and extends Parcelable. Kotlin automatically do the rest for you. Example- Person data class.</p>\n\n<pre><code>@Parcelize\ndata class Person(val name: String, val age: Int, val email: String) : Parcelable\n</code></pre>\n\n<p>You can send value lets press on a button click like below from an activity.</p>\n\n<pre><code>   private val PERSON = \"person\"\n\n   // first ensure a person object with data\n   val person = Person(\"Shihab Uddin\", 30, \"shihab.mi7@gmai.com\")\n\n   binding.buttonSend.setOnClickListener {\n\n        val intent = Intent(this, ReceiveParcelableAcitivty::class.java)\n        //then put an parcelable extra to intent \n        intent.putExtra(PERSON, person)\n        startActivity(intent)\n\n    }\n</code></pre>\n\n<p>Receivers activity will get the data like </p>\n\n<pre><code>    private val PERSON = \"person\"\n    intent?.let {\n        var person = intent.extras.getParcelable(PERSON) as Person\n        bind.textViewData.text = \" Data Receive: $person\"\n    }\n</code></pre>\n\n<p><strong>androidExtensions</strong> attribute is no more necessary &lt; kotlin 1.3.40 </p>\n\n<pre><code>android {\n\n    // You only need this for Kotlin &lt; 1.3.40\n    androidExtensions {\n        experimental = true\n    }\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8882163,"reputation":31,"user_id":6631835,"display_name":"tf z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700795430,"creation_date":1700795089,"answer_id":77540515,"question_id":37372435,"body_markdown":"In the latest kotlin and gradle versions (sorry ,i forgot the version number), you need add  \r\n\r\n```\r\nplugins {\r\n     id(&quot;kotlin-parcelize&quot;)\r\n}\r\n```\r\nin this file `build.gradle.kts`( Depends on whether your gradle is kotlin or other)\r\n\r\n now , you can use it.\r\n\r\n```\r\nimport kotlinx.parcelize.Parcelize\r\n\r\n@Parcelize\r\ndata class User(val id: String, val name: String) : Parcelable\r\n```\r\n\r\n\r\n","title":"Kotlin android parcelable","body":"<p>In the latest kotlin and gradle versions (sorry ,i forgot the version number), you need add</p>\n<pre><code>plugins {\n     id(&quot;kotlin-parcelize&quot;)\n}\n</code></pre>\n<p>in this file <code>build.gradle.kts</code>( Depends on whether your gradle is kotlin or other)</p>\n<p>now , you can use it.</p>\n<pre><code>import kotlinx.parcelize.Parcelize\n\n@Parcelize\ndata class User(val id: String, val name: String) : Parcelable\n</code></pre>\n"}],"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9479,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":37372606,"answer_count":4,"score":9,"last_activity_date":1700795430,"creation_date":1463908025,"question_id":37372435,"body_markdown":"I&#39;ve used auto generated feature of android plugin for android studio and it generated me the following code, but I can&#39;t understand why is there need for `final val` for `CREATOR` field ? I see `final` keyword for the first time in kotlin.\r\n\r\n    data class Person(\r\n            val name: String,\r\n            val surname: String\r\n    ) : Parcelable {\r\n        constructor(source: Parcel): this(source.readString(), source.readString())\r\n    \r\n        override fun describeContents(): Int {\r\n            return 0\r\n        }\r\n    \r\n        override fun writeToParcel(dest: Parcel?, flags: Int) {\r\n            dest?.writeString(name)\r\n            dest?.writeString(surname)\r\n        }\r\n    \r\n        companion object {\r\n            @JvmField final val CREATOR: Parcelable.Creator&lt;Person&gt; = object : Parcelable.Creator&lt;Person&gt; {\r\n                override fun createFromParcel(source: Parcel): Person {\r\n                    return Person(source)\r\n                }\r\n    \r\n                override fun newArray(size: Int): Array&lt;Person?&gt; {\r\n                    return arrayOfNulls(size)\r\n                }\r\n            }\r\n        }\r\n    }","title":"Kotlin android parcelable","body":"<p>I've used auto generated feature of android plugin for android studio and it generated me the following code, but I can't understand why is there need for <code>final val</code> for <code>CREATOR</code> field ? I see <code>final</code> keyword for the first time in kotlin.</p>\n\n<pre><code>data class Person(\n        val name: String,\n        val surname: String\n) : Parcelable {\n    constructor(source: Parcel): this(source.readString(), source.readString())\n\n    override fun describeContents(): Int {\n        return 0\n    }\n\n    override fun writeToParcel(dest: Parcel?, flags: Int) {\n        dest?.writeString(name)\n        dest?.writeString(surname)\n    }\n\n    companion object {\n        @JvmField final val CREATOR: Parcelable.Creator&lt;Person&gt; = object : Parcelable.Creator&lt;Person&gt; {\n            override fun createFromParcel(source: Parcel): Person {\n                return Person(source)\n            }\n\n            override fun newArray(size: Int): Array&lt;Person?&gt; {\n                return arrayOfNulls(size)\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1700779411,"post_id":77539893,"comment_id":136698742,"body_markdown":"`dognames` is an array. `&quot;quit&quot;.equals(dognames)` can never be true. And you negate that. So it&#39;ll loop forever.  Perhaps you wanted `!&quot;quit&quot;.equals(dognames[i])` **note** that then `length` is not `dogweights.length`. It&#39;s `i` where `i` has already gone out of scope.","body":"<code>dognames</code> is an array. <code>&quot;quit&quot;.equals(dognames)</code> can never be true. And you negate that. So it&#39;ll loop forever.  Perhaps you wanted <code>!&quot;quit&quot;.equals(dognames[i])</code> <b>note</b> that then <code>length</code> is not <code>dogweights.length</code>. It&#39;s <code>i</code> where <code>i</code> has already gone out of scope."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700779865,"post_id":77539893,"comment_id":136698781,"body_markdown":"The `.equals` method overridden `.equals (Object o)` in `class Object`. That means the argument passed to `.equals` can be *any* reference type. And an array qualifies as a reference type. This returns `false` because the overridden method of `String` asks if the argument passed is an `instanceof String`. An array of `String` is not a `String`, so the `instanceof` test fails.","body":"The <code>.equals</code> method overridden <code>.equals (Object o)</code> in <code>class Object</code>. That means the argument passed to <code>.equals</code> can be <i>any</i> reference type. And an array qualifies as a reference type. This returns <code>false</code> because the overridden method of <code>String</code> asks if the argument passed is an <code>instanceof String</code>. An array of <code>String</code> is not a <code>String</code>, so the <code>instanceof</code> test fails."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700780555,"post_id":77539893,"comment_id":136698837,"body_markdown":"Even after you fix the problem with comparing a single `String` to an array, you have another problem: Your `for` loop is in a `do ... while` loop. So, you iterate the `for` loop `dogs` number of times. Then, if the last dog name isn&#39;t `quit`, the `do ... while` starts  next iteration, and the `for` loop begins over again. Each iteration of the `for` loop overwrites a `dogNames [i]` and a `dogWeights[i]` from the previous iteration. Use the `for` loop when you know in advance the number of dogs that will have data entered. Use the `while` loop when you don&#39;t know in advance the number of dogs","body":"Even after you fix the problem with comparing a single <code>String</code> to an array, you have another problem: Your <code>for</code> loop is in a <code>do ... while</code> loop. So, you iterate the <code>for</code> loop <code>dogs</code> number of times. Then, if the last dog name isn&#39;t <code>quit</code>, the <code>do ... while</code> starts  next iteration, and the <code>for</code> loop begins over again. Each iteration of the <code>for</code> loop overwrites a <code>dogNames [i]</code> and a <code>dogWeights[i]</code> from the previous iteration. Use the <code>for</code> loop when you know in advance the number of dogs that will have data entered. Use the <code>while</code> loop when you don&#39;t know in advance the number of dogs"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700780912,"post_id":77539893,"comment_id":136698863,"body_markdown":"Off-topic: You don&#39;t need a 2nd `for` loop to calculate average. You can calculate `sum` in the same loop where the dogs&#39; weights are entered.","body":"Off-topic: You don&#39;t need a 2nd <code>for</code> loop to calculate average. You can calculate <code>sum</code> in the same loop where the dogs&#39; weights are entered."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700779877,"creation_date":1700779877,"answer_id":77539954,"question_id":77539893,"body_markdown":"Your exit condition needs adjusting to check *the last* added name, which requires the condition to be with the *scope* of that info - ie *outside* the loop.\r\n\r\nTry this: \r\n\r\n```\r\nString dogname = null;\r\ndo {\r\n    for (int i = 0; i &lt; dogs; i++) {\r\n        System.out.println(&quot;Enter dog name and weight: &quot;);\r\n        dogname = dognames[i] = input.next();\r\n        dogweights[i]=input.nextDouble();\r\n    }\r\n} while(!&quot;quit&quot;.equals(dogname));\r\n```\r\n\r\nNote that you&#39;ll then have to ignore the &quot;quit&quot; name in your array. Consider not using a `do while` and just `break` out on &quot;quit&quot; *before* adding it to the array:\r\n\r\n```\r\nfor (int i = 0; i &lt; dogs; i++) {\r\n    System.out.println(&quot;Enter dog name and weight: &quot;);\r\n    String dogname = input.next();\r\n    if (&quot;quit&quot;.equals(dogname)) {\r\n        break;\r\n    }\r\n    dognames[i] = dogname;\r\n    dogweights[i]=input.nextDouble();\r\n}\r\n``` \r\nWhich also narrows the scope of `dogname`.\r\n","title":"How to end a do while loop with string user input for an array","body":"<p>Your exit condition needs adjusting to check <em>the last</em> added name, which requires the condition to be with the <em>scope</em> of that info - ie <em>outside</em> the loop.</p>\n<p>Try this:</p>\n<pre><code>String dogname = null;\ndo {\n    for (int i = 0; i &lt; dogs; i++) {\n        System.out.println(&quot;Enter dog name and weight: &quot;);\n        dogname = dognames[i] = input.next();\n        dogweights[i]=input.nextDouble();\n    }\n} while(!&quot;quit&quot;.equals(dogname));\n</code></pre>\n<p>Note that you'll then have to ignore the &quot;quit&quot; name in your array. Consider not using a <code>do while</code> and just <code>break</code> out on &quot;quit&quot; <em>before</em> adding it to the array:</p>\n<pre><code>for (int i = 0; i &lt; dogs; i++) {\n    System.out.println(&quot;Enter dog name and weight: &quot;);\n    String dogname = input.next();\n    if (&quot;quit&quot;.equals(dogname)) {\n        break;\n    }\n    dognames[i] = dogname;\n    dogweights[i]=input.nextDouble();\n}\n</code></pre>\n<p>Which also narrows the scope of <code>dogname</code>.</p>\n"},{"tags":[],"owner":{"account_id":2509519,"reputation":9629,"user_id":2182349,"accept_rate":89,"display_name":"user2182349"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700791992,"creation_date":1700791992,"answer_id":77540389,"question_id":77539893,"body_markdown":"Another approach is to use a while loop, like so:\r\n\r\n    int i = 0;\r\n    \r\n    System.out.println(&quot;Enter dog name and weight: &quot;);\r\n    String dogname = input.next();\r\n    while (i &lt; dogs &amp;&amp; !dogname.equals(&quot;quit&quot;)) {\r\n        dognames[i] = dogname;\r\n        dogweights[i]=input.nextDouble();\r\n        System.out.println(&quot;Enter dog name and weight: &quot;);\r\n        dogname = input.next();\r\n        i++;\r\n    }","title":"How to end a do while loop with string user input for an array","body":"<p>Another approach is to use a while loop, like so:</p>\n<pre><code>int i = 0;\n\nSystem.out.println(&quot;Enter dog name and weight: &quot;);\nString dogname = input.next();\nwhile (i &lt; dogs &amp;&amp; !dogname.equals(&quot;quit&quot;)) {\n    dognames[i] = dogname;\n    dogweights[i]=input.nextDouble();\n    System.out.println(&quot;Enter dog name and weight: &quot;);\n    dogname = input.next();\n    i++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700794384,"creation_date":1700794384,"answer_id":77540493,"question_id":77539893,"body_markdown":"First of all it is better to encapsulate all dog&#39;s data within one class:\r\n```java\r\n@Getter\r\n@RequiredArgsConstructor\r\nprivate static final class Dog {\r\n    private final String name;\r\n    private final double weight;\r\n}\r\n```\r\n\r\nThen you should use `for...loop` to iterate over an array and fill it with data from the console.\r\n\r\n```java\r\npublic static void main(String... args) {\r\n    Scanner scan = new Scanner(System.in);\r\n    scan.useLocale(Locale.US);  // read double correctly\r\n\r\n    System.out.print(&quot;How many dogs: &quot;);\r\n    Dog[] dogs = readDogs(scan.nextInt(), scan);\r\n\r\n    System.out.println();\r\n\r\n    double avgWeight = getAverageWeight(dogs);\r\n    System.out.format(Locale.US, &quot;Average weight: %.2f\\n&quot;, avgWeight);\r\n}\r\n\r\nprivate static Dog[] readDogs(int total, Scanner scan) {\r\n    Dog[] dogs = new Dog[total];\r\n\r\n    for (int i = 0; i &lt; dogs.length; i++) {\r\n        System.out.format(&quot;Dog %d name: &quot;, i + 1);\r\n        scan.nextLine();    // feature of Scanner\r\n        String name = scan.nextLine();\r\n\r\n        System.out.format(&quot;Dog %d weight: &quot;, i + 1);\r\n        double weight = scan.nextDouble();\r\n\r\n        dogs[i] = new Dog(name, weight);\r\n    }\r\n\r\n    return dogs;\r\n}\r\n\r\nprivate static double getAverageWeight(Dog... dogs) {\r\n    return Arrays.stream(dogs)\r\n                 .mapToDouble(Dog::getWeight)\r\n                 .average().orElse(Double.NaN);\r\n}\r\n```","title":"How to end a do while loop with string user input for an array","body":"<p>First of all it is better to encapsulate all dog's data within one class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@RequiredArgsConstructor\nprivate static final class Dog {\n    private final String name;\n    private final double weight;\n}\n</code></pre>\n<p>Then you should use <code>for...loop</code> to iterate over an array and fill it with data from the console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n    Scanner scan = new Scanner(System.in);\n    scan.useLocale(Locale.US);  // read double correctly\n\n    System.out.print(&quot;How many dogs: &quot;);\n    Dog[] dogs = readDogs(scan.nextInt(), scan);\n\n    System.out.println();\n\n    double avgWeight = getAverageWeight(dogs);\n    System.out.format(Locale.US, &quot;Average weight: %.2f\\n&quot;, avgWeight);\n}\n\nprivate static Dog[] readDogs(int total, Scanner scan) {\n    Dog[] dogs = new Dog[total];\n\n    for (int i = 0; i &lt; dogs.length; i++) {\n        System.out.format(&quot;Dog %d name: &quot;, i + 1);\n        scan.nextLine();    // feature of Scanner\n        String name = scan.nextLine();\n\n        System.out.format(&quot;Dog %d weight: &quot;, i + 1);\n        double weight = scan.nextDouble();\n\n        dogs[i] = new Dog(name, weight);\n    }\n\n    return dogs;\n}\n\nprivate static double getAverageWeight(Dog... dogs) {\n    return Arrays.stream(dogs)\n                 .mapToDouble(Dog::getWeight)\n                 .average().orElse(Double.NaN);\n}\n</code></pre>\n"}],"owner":{"account_id":23854145,"reputation":19,"user_id":17857789,"display_name":"Osprey"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1700794384,"creation_date":1700778690,"question_id":77539893,"body_markdown":"I am trying to get my do-while loop to end, and I can&#39;t figure out how. The print statement has stopped, but the code after the do-while loop isn&#39;t running.\r\n\r\n```java\r\npublic static void main(String... args) {\r\n    Scanner input = new Scanner(System.in);\r\n    int dogs;\r\n\r\n    System.out.println(&quot;How many dogs?&quot;);\r\n    dogs = input.nextInt();\r\n\r\n\r\n    String[] dognames = new String[dogs];\r\n    Double[] dogweights = new Double[dogs];\r\n\r\n    do {\r\n        for (int i = 0; i &lt; dogs; i++) {\r\n            System.out.println(&quot;Enter dog name and weight: &quot;);\r\n            dognames[i] = input.next();\r\n            dogweights[i] = input.nextDouble();\r\n        }\r\n    } while ((!&quot;quit&quot;.equals(dognames)));\r\n\r\n\r\n    double length = dogweights.length;\r\n\r\n\r\n    double sum = 0;\r\n\r\n\r\n    for (int i = 0; i &lt; dogweights.length; i++) {\r\n        sum += dogweights[i];\r\n    }\r\n\r\n    double dogweightsaverage = sum / length;\r\n\r\n    System.out.print(&quot;test&quot;);\r\n}\r\n```\r\n\r\nThe loop isn&#39;t finishing, the print statement stopped but the code after the loop isn&#39;t printing","title":"How to end a do while loop with string user input for an array","body":"<p>I am trying to get my do-while loop to end, and I can't figure out how. The print statement has stopped, but the code after the do-while loop isn't running.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n    Scanner input = new Scanner(System.in);\n    int dogs;\n\n    System.out.println(&quot;How many dogs?&quot;);\n    dogs = input.nextInt();\n\n\n    String[] dognames = new String[dogs];\n    Double[] dogweights = new Double[dogs];\n\n    do {\n        for (int i = 0; i &lt; dogs; i++) {\n            System.out.println(&quot;Enter dog name and weight: &quot;);\n            dognames[i] = input.next();\n            dogweights[i] = input.nextDouble();\n        }\n    } while ((!&quot;quit&quot;.equals(dognames)));\n\n\n    double length = dogweights.length;\n\n\n    double sum = 0;\n\n\n    for (int i = 0; i &lt; dogweights.length; i++) {\n        sum += dogweights[i];\n    }\n\n    double dogweightsaverage = sum / length;\n\n    System.out.print(&quot;test&quot;);\n}\n</code></pre>\n<p>The loop isn't finishing, the print statement stopped but the code after the loop isn't printing</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1700793845,"post_id":77540466,"comment_id":136699727,"body_markdown":"Does this answer your question? [&quot;Expected BEGIN\\_OBJECT but was STRING at line 1 column 1&quot;](https://stackoverflow.com/questions/28418662/expected-begin-object-but-was-string-at-line-1-column-1)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28418662/expected-begin-object-but-was-string-at-line-1-column-1\">&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;</a>"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1700850702,"post_id":77540466,"comment_id":136707291,"body_markdown":"Does this answer your question? [How to serialize Optional&lt;T&gt; classes with Gson?](https://stackoverflow.com/questions/12161366/how-to-serialize-optionalt-classes-with-gson)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12161366/how-to-serialize-optionalt-classes-with-gson\">How to serialize Optional&lt;T&gt; classes with Gson?</a>"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1700850799,"post_id":77540466,"comment_id":136707306,"body_markdown":"This is effectively a duplicate; the underlying issue is that Gson has no built-in adapter for `java.util.Optional` yet so it tries to deserialize it as JSON object instead of just deserializing the wrapped type (`String` in your case).","body":"This is effectively a duplicate; the underlying issue is that Gson has no built-in adapter for <code>java.util.Optional</code> yet so it tries to deserialize it as JSON object instead of just deserializing the wrapped type (<code>String</code> in your case)."}],"owner":{"account_id":26376707,"reputation":11,"user_id":20030539,"display_name":"topinfx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1700794072,"creation_date":1700793743,"question_id":77540466,"body_markdown":"This is the error log I&#39;ve gotten when i tried to do `gson.fromJson(bodyString, output);`\r\n\r\n```\r\njava.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 203 path $.pending[1].date\r\n```\r\n\r\nThe json `body` in question is the following:\r\n\r\n```\r\n{\r\n    &quot;id&quot;: &quot;OOOO1234&quot;,\r\n    &quot;pending&quot;: [\r\n        {\r\n            &quot;req_id&quot;: &quot;ABCDF173821-399&quot;,\r\n            &quot;status&quot;: &quot;1&quot;,\r\n            &quot;date&quot;: &quot;2023-11-24&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n`bodyString` is:\r\n```\r\n{\\&quot;id\\&quot;:\\&quot;OOOO1234\\&quot;,\\&quot;pending\\&quot;:[{\\&quot;req_id\\&quot;:\\&quot;ABCDF173821-399\\&quot;,\\&quot;status\\&quot;:\\&quot;1\\&quot;,\\&quot;date\\&quot;:\\&quot;2023-11-24\\&quot;}]}\r\n```\r\n\r\n\r\nAnd here are the `output` java classes:\r\n\r\n```\r\n@Builder\r\n  class Output {\r\n    @SerializedName(&quot;id&quot;)\r\n    @NonNull\r\n    public final String id;\r\n  \r\n    @SerializedName(&quot;pending&quot;)\r\n    public final List&lt;Pending&gt; pending;\r\n  }\r\n    \r\n@Builder\r\n  class Pending {\r\n    @SerializedName(&quot;req_id&quot;)\r\n    public final String reqId;\r\n  \r\n    @SerializedName(&quot;status&quot;)\r\n    public final String status;\r\n  \r\n    @SerializedName(&quot;date&quot;)\r\n    @Builder.Default\r\n    public final Optional&lt;String&gt; date = Optional.empty();\r\n  }\r\n```\r\n\r\nI&#39;m expecting no errors thrown when converting my json body string to my data class.","title":"Why does GSON expect BEGIN_OBJECT when I&#39;ve explicitly defined my variable as STRING?","body":"<p>This is the error log I've gotten when i tried to do <code>gson.fromJson(bodyString, output);</code></p>\n<pre><code>java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 203 path $.pending[1].date\n</code></pre>\n<p>The json <code>body</code> in question is the following:</p>\n<pre><code>{\n    &quot;id&quot;: &quot;OOOO1234&quot;,\n    &quot;pending&quot;: [\n        {\n            &quot;req_id&quot;: &quot;ABCDF173821-399&quot;,\n            &quot;status&quot;: &quot;1&quot;,\n            &quot;date&quot;: &quot;2023-11-24&quot;\n        }\n    ]\n}\n</code></pre>\n<p><code>bodyString</code> is:</p>\n<pre><code>{\\&quot;id\\&quot;:\\&quot;OOOO1234\\&quot;,\\&quot;pending\\&quot;:[{\\&quot;req_id\\&quot;:\\&quot;ABCDF173821-399\\&quot;,\\&quot;status\\&quot;:\\&quot;1\\&quot;,\\&quot;date\\&quot;:\\&quot;2023-11-24\\&quot;}]}\n</code></pre>\n<p>And here are the <code>output</code> java classes:</p>\n<pre><code>@Builder\n  class Output {\n    @SerializedName(&quot;id&quot;)\n    @NonNull\n    public final String id;\n  \n    @SerializedName(&quot;pending&quot;)\n    public final List&lt;Pending&gt; pending;\n  }\n    \n@Builder\n  class Pending {\n    @SerializedName(&quot;req_id&quot;)\n    public final String reqId;\n  \n    @SerializedName(&quot;status&quot;)\n    public final String status;\n  \n    @SerializedName(&quot;date&quot;)\n    @Builder.Default\n    public final Optional&lt;String&gt; date = Optional.empty();\n  }\n</code></pre>\n<p>I'm expecting no errors thrown when converting my json body string to my data class.</p>\n"},{"tags":["java","network-programming","datainputstream","dataoutputstream"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700543848,"post_id":77520133,"comment_id":136664473,"body_markdown":"Which line of code got the exception? NB I would certainly use `BufferedInput/OutputStreams` around those socket streams underneath the `DataInput/OutputStreams`.","body":"Which line of code got the exception? NB I would certainly use <code>BufferedInput&#47;OutputStreams</code> around those socket streams underneath the <code>DataInput&#47;OutputStreams</code>."},{"owner":{"account_id":277973,"reputation":653,"user_id":572286,"accept_rate":98,"display_name":"KisnardOnline"},"score":0,"creation_date":1700546851,"post_id":77520133,"comment_id":136664737,"body_markdown":"It&#39;s not showing me which line which is weird.  No stack trace.  Can you expand more on your idea or link sample code?","body":"It&#39;s not showing me which line which is weird.  No stack trace.  Can you expand more on your idea or link sample code?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700550126,"post_id":77520133,"comment_id":136665122,"body_markdown":"Err, `new DataInputStream(new BufferedInputStream(socket.getInputStream()))`? and `new DataOutputStream(new BufferedOutputStream(socket.getOutputStream()))`? and *why* is there no stack trace? Can&#39;t you fix that? It&#39;s your code.","body":"Err, <code>new DataInputStream(new BufferedInputStream(socket.getInputStream()))</code>? and <code>new DataOutputStream(new BufferedOutputStream(socket.getOutputStream()))</code>? and <i>why</i> is there no stack trace? Can&#39;t you fix that? It&#39;s your code."},{"owner":{"account_id":277973,"reputation":653,"user_id":572286,"accept_rate":98,"display_name":"KisnardOnline"},"score":0,"creation_date":1700615389,"post_id":77520133,"comment_id":136675724,"body_markdown":"Yeah was too tired.  Messing with stack trace now.  How does wrapping buffered streams help?  Would love to understand.  Thanks.","body":"Yeah was too tired.  Messing with stack trace now.  How does wrapping buffered streams help?  Would love to understand.  Thanks."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700636454,"post_id":77520133,"comment_id":136677528,"body_markdown":"It helps with performance, as you are making fewer system calls. Impossible to help you further without a stack trace. However I will (1) ask whether you are doing any other I/O with these streams other than as shown above, and if so (2) have you checked it for symmetry; and (3) I will suggest that you could try using `ObjectInput/OutputStream` and `read/writeObject()` instead of `DataInput/OutputStream` and `read/writeUTF()`. That way you still have single-line sends and receives and it will handle small or large strings automatically.","body":"It helps with performance, as you are making fewer system calls. Impossible to help you further without a stack trace. However I will (1) ask whether you are doing any other I/O with these streams other than as shown above, and if so (2) have you checked it for symmetry; and (3) I will suggest that you could try using <code>ObjectInput&#47;OutputStream</code> and <code>read&#47;writeObject()</code> instead of <code>DataInput&#47;OutputStream</code> and <code>read&#47;writeUTF()</code>. That way you still have single-line sends and receives and it will handle small or large strings automatically."},{"owner":{"account_id":277973,"reputation":653,"user_id":572286,"accept_rate":98,"display_name":"KisnardOnline"},"score":0,"creation_date":1700755388,"post_id":77520133,"comment_id":136695758,"body_markdown":"I added a stack trace.  I changed to Object as you recommended and now my login isnt working.  It just sits stuck at this line (on server side).  \n\n\t\t\t\t\t\t//v1./v2. unable to do longer strings, 65535 length limit &amp;&amp; getting random disconnects - java.io.EOFException\n\t\t\t\t\t\t//DataInputStream commandIn = new DataInputStream(sslSocket.getInputStream()); //create input-stream for a command socket\n\t\t\t\t\t\t//v3. use object intput/output stream\n\t\t\t\t\t\tObjectInputStream commandIn = new ObjectInputStream(sslSocket.getInputStream()); //create input-stream for a command socket","body":"I added a stack trace.  I changed to Object as you recommended and now my login isnt working.  It just sits stuck at this line (on server side).    \t\t\t\t\t\t//v1./v2. unable to do longer strings, 65535 length limit &amp;&amp; getting random disconnects - java.io.EOFException \t\t\t\t\t\t//DataInputStream commandIn = new DataInputStream(sslSocket.getInputStream()); //create input-stream for a command socket \t\t\t\t\t\t//v3. use object intput/output stream \t\t\t\t\t\tObjectInputStream commandIn = new ObjectInputStream(sslSocket.getInputStream()); //create input-stream for a command socket"},{"owner":{"account_id":277973,"reputation":653,"user_id":572286,"accept_rate":98,"display_name":"KisnardOnline"},"score":0,"creation_date":1700756621,"post_id":77520133,"comment_id":136695950,"body_markdown":"Flipped the order of the ObjectOutputStream and ObjectInputStream and now it works.  Seems like a deadlock maybe per this post (https://stackoverflow.com/questions/21075453/objectinputstream-from-socket-getinputstream)... will do some testing and see if it stops the random disconnects","body":"Flipped the order of the ObjectOutputStream and ObjectInputStream and now it works.  Seems like a deadlock maybe per this post (<a href=\"https://stackoverflow.com/questions/21075453/objectinputstream-from-socket-getinputstream\" title=\"objectinputstream from socket getinputstream\">stackoverflow.com/questions/21075453/&hellip;</a>)... will do some testing and see if it stops the random disconnects"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700766496,"post_id":77520133,"comment_id":136697410,"body_markdown":"Get rid of the Data streams. You don’t need them both.","body":"Get rid of the Data streams. You don’t need them both."},{"owner":{"account_id":277973,"reputation":653,"user_id":572286,"accept_rate":98,"display_name":"KisnardOnline"},"score":0,"creation_date":1700798825,"post_id":77520133,"comment_id":136700020,"body_markdown":"Added a stack trace.  I don&#39;t have the DataInput/OutputStreams.  I changed them to ObjectInput/OutputStreams.","body":"Added a stack trace.  I don&#39;t have the DataInput/OutputStreams.  I changed them to ObjectInput/OutputStreams."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700801463,"post_id":77520133,"comment_id":136700172,"body_markdown":"`java.io.EOFException` is normal with these `readXXX()` methods. It happens when the peer closes the connection. You should catch it separately and proceed accordingly, not logging it as an error to be investigated. I don&#39;t understand how you can be logging an exception in `readObject()` from a method named `commandOut.write`. NB You don&#39;t need `String.valueof()`, just a cast to `(String)`. NB (2) We can do without the pictures of text. Post the text: in this case, the code.","body":"<code>java.io.EOFException</code> is normal with these <code>readXXX()</code> methods. It happens when the peer closes the connection. You should catch it separately and proceed accordingly, not logging it as an error to be investigated. I don&#39;t understand how you can be logging an exception in <code>readObject()</code> from a method named <code>commandOut.write</code>. NB You don&#39;t need <code>String.valueof()</code>, just a cast to <code>(String)</code>. NB (2) We can do without the pictures of text. Post the text: in this case, the code."}],"owner":{"account_id":277973,"reputation":653,"user_id":572286,"accept_rate":98,"display_name":"KisnardOnline"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700792691,"creation_date":1700537067,"question_id":77520133,"body_markdown":"My mmorpg game server has a feature that has finally surpassed the 65535 length limit of sending &quot;string updates&quot; to the client.  I was using the readUTF() and writeUTF() methods.  I have since replaced them with:\r\n\r\nCLIENT reading:\r\n\r\n    //incommingReply = GameActivity.commandIn.readUTF();  //65535 length limit\r\n    int length = GameActivity.commandIn.readInt();\r\n    byte[] data = new byte[length];\r\n    GameActivity.commandIn.readFully(data);\r\n    incommingReply = new String(data,&quot;UTF-8&quot;);\r\n\r\nSERVER writing:\r\n \r\n    //commandOut.writeUTF(request);  //65535 length limit\r\n    byte[] b = request.getBytes(&quot;UTF-8&quot;);\r\n    commandOut.writeInt(b.length);\r\n    commandOut.write(b);\r\n    commandOut.flush();\r\n\r\nEver since changing, players are experiencing more disconnections due to &quot;java.net.SocketException: Software caused connection abort&quot;.  I am struggling to troubleshoot this.  Is there a better way to send long Strings back and forth?\r\n\r\nExample error:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAddendum (other pertinent code):\r\n\r\n    GameActivity.sC = (SSLSocket) factory.createSocket();\r\n    GameActivity.sC.setSoTimeout(connectTimeout);\r\n    GameActivity.sC.connect(new InetSocketAddress(GameActivity.PROD_IP, GameActivity.PROD_PORT), connectTimeout);\r\n    ...\r\n    GameActivity.commandIn = new DataInputStream(GameActivity.sC.getInputStream()); //create input-stream for a command socket\r\n    GameActivity.commandOut = new DataOutputStream(GameActivity.sC.getOutputStream()); //create output-stream for a command socket\r\n\r\nStack Trace:\r\n\r\n    E  MCR Exception\r\n    E  Exception: java.io.EOFException\r\n    E  stack trace: \r\n       java.io.DataInputStream.readFully(DataInputStream.java:205)\r\n       java.io.DataInputStream.readInt(DataInputStream.java:394)\r\n       com.kisnardonline.kisnardonline.MyCommandReceiver.run(MyCommandReceiver.java:251)\r\n       java.lang.Thread.run(Thread.java:1012)\r\n\r\n\r\n*edit2* - changing to readObject() has not solved the problem\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wGBK5.png\r\n  [2]: https://i.stack.imgur.com/ruQuy.png","title":"readUTF and writeUTF greater than 65535","body":"<p>My mmorpg game server has a feature that has finally surpassed the 65535 length limit of sending &quot;string updates&quot; to the client.  I was using the readUTF() and writeUTF() methods.  I have since replaced them with:</p>\n<p>CLIENT reading:</p>\n<pre><code>//incommingReply = GameActivity.commandIn.readUTF();  //65535 length limit\nint length = GameActivity.commandIn.readInt();\nbyte[] data = new byte[length];\nGameActivity.commandIn.readFully(data);\nincommingReply = new String(data,&quot;UTF-8&quot;);\n</code></pre>\n<p>SERVER writing:</p>\n<pre><code>//commandOut.writeUTF(request);  //65535 length limit\nbyte[] b = request.getBytes(&quot;UTF-8&quot;);\ncommandOut.writeInt(b.length);\ncommandOut.write(b);\ncommandOut.flush();\n</code></pre>\n<p>Ever since changing, players are experiencing more disconnections due to &quot;java.net.SocketException: Software caused connection abort&quot;.  I am struggling to troubleshoot this.  Is there a better way to send long Strings back and forth?</p>\n<p>Example error:\n<a href=\"https://i.stack.imgur.com/wGBK5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wGBK5.png\" alt=\"enter image description here\" /></a></p>\n<p>Addendum (other pertinent code):</p>\n<pre><code>GameActivity.sC = (SSLSocket) factory.createSocket();\nGameActivity.sC.setSoTimeout(connectTimeout);\nGameActivity.sC.connect(new InetSocketAddress(GameActivity.PROD_IP, GameActivity.PROD_PORT), connectTimeout);\n...\nGameActivity.commandIn = new DataInputStream(GameActivity.sC.getInputStream()); //create input-stream for a command socket\nGameActivity.commandOut = new DataOutputStream(GameActivity.sC.getOutputStream()); //create output-stream for a command socket\n</code></pre>\n<p>Stack Trace:</p>\n<pre><code>E  MCR Exception\nE  Exception: java.io.EOFException\nE  stack trace: \n   java.io.DataInputStream.readFully(DataInputStream.java:205)\n   java.io.DataInputStream.readInt(DataInputStream.java:394)\n   com.kisnardonline.kisnardonline.MyCommandReceiver.run(MyCommandReceiver.java:251)\n   java.lang.Thread.run(Thread.java:1012)\n</code></pre>\n<p><em>edit2</em> - changing to readObject() has not solved the problem</p>\n<p><a href=\"https://i.stack.imgur.com/ruQuy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ruQuy.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","bouncycastle","deprecated"],"comments":[{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":0,"creation_date":1700236732,"post_id":77502943,"comment_id":136633393,"body_markdown":"Can you write a minimal example so that folks can see what you are trying to do? Tongue in cheek, `ASN1OctetString url = null;` will compile without warnings...","body":"Can you write a minimal example so that folks can see what you are trying to do? Tongue in cheek, <code>ASN1OctetString url = null;</code> will compile without warnings..."},{"owner":{"account_id":1482613,"reputation":103,"user_id":1391606,"display_name":"user1391606"},"score":0,"creation_date":1700558742,"post_id":77502943,"comment_id":136666456,"body_markdown":"Thx for the feedback, I added the location instantiation line (see post).","body":"Thx for the feedback, I added the location instantiation line (see post)."}],"answers":[{"tags":[],"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700792085,"creation_date":1700458919,"answer_id":77513719,"question_id":77502943,"body_markdown":"When asking for how to parse some ASN.1 structure, you would ideally give the ASN.1 definitions involved. In this case it&#39;s especially important since correctly parsing a tagged object requires knowing the tag definition (as well as whether implicit tagging is enabled in the relevant ASN.1 module).\r\n\r\nThe old `getObject` assumed you had already checked the tag number (`getTagNo`) and it also only worked for CONTEXT_SPECIFIC tags using explicit tagging.\r\n\r\nA reasonable guess at a replacement would be:\r\n\r\n    ASN1Util.getContextBaseUniversal(location, tagNo, true, BERTags.OCTET_STRING)\r\n\r\nwhere &#39;tagNo&#39; is the tag number, which ought to be known at the call site, and &#39;true&#39; indicates the field is using explicit tagging.\r\n\r\n-----\r\n\r\nFrom your example code we can see that the overall extension being parsed here is an Authority Information Access (read about the extension [here][1]); technically the ASN.1 type is `AuthorityInfoAccessSyntax`. It&#39;s worth reading that section to understand in particular that the &#39;accessLocation&#39; (being a GeneralName) can take several forms (though I assume it&#39;s OK to only process the URI one if you can&#39;t make use of the others).\r\n\r\nBouncyCastle already has a class for parsing these:\r\n\r\n    org.bouncycastle.asn1.x509.AuthorityInformationAccess\r\n\r\nSo you could rewrite your method something like this:\r\n\r\n    protected static void getAuthorityInfoExtensionValue(byte[] extensionValue,\r\n        CertSignatureInformation certInfo) throws IOException\r\n    {\r\n        AuthorityInformationAccess authInfo = AuthorityInformationAccess.getInstance(\r\n            JcaX509ExtensionUtils.parseExtensionValue(extensionValue));\r\n\r\n        for (AccessDescription accessDescription : authInfo.getAccessDescriptions())\r\n        {\r\n            ASN1ObjectIdentifier accessMethod = accessDescription.getAccessMethod();\r\n            GeneralName accessLocation = accessDescription.getAccessLocation();\r\n\r\n            if (X509ObjectIdentifiers.id_ad_ocsp.equals(accessMethod))\r\n            {\r\n                if (GeneralName.uniformResourceIdentifier == accessLocation.getTagNo())\r\n                {\r\n                    ASN1IA5String uri = ASN1IA5String.getInstance(accessLocation.getName());\r\n                    certInfo.setOcspUrl(uri.getString());\r\n                }\r\n            }\r\n            else if (X509ObjectIdentifiers.id_ad_caIssuers.equals(accessMethod))\r\n            {\r\n                if (GeneralName.uniformResourceIdentifier == accessLocation.getTagNo())\r\n                {\r\n                    ASN1IA5String uri = ASN1IA5String.getInstance(accessLocation.getName());\r\n                    certInfo.setIssuerUrl(uri.getString());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nYou should probably also deal with the possibility of there being multiple access descriptions for a given access method (so potentially multiple URIs).\r\n\r\n-----\r\n\r\nFor your second example (`getCrlUrlFromExtensionValue`), BC has this ASN.1 type (refer also to [RFC 5280 4.2.1.13][2]):\r\n\r\n    org.bouncycastle.asn1.x509.CRLDistPoint\r\n\r\nExample code:\r\n\r\n        CRLDistPoint crlDistPoint = CRLDistPoint.getInstance(\r\n            JcaX509ExtensionUtils.parseExtensionValue(extensionValue));\r\n        for (DistributionPoint distPoint : crlDistPoint.getDistributionPoints())\r\n        {\r\n            GeneralNames crlIssuer = distPoint.getCRLIssuer();\r\n            if (crlIssuer != null)\r\n            {\r\n                for (GeneralName name : crlIssuer.getNames())\r\n                {\r\n                    // Look for URI as in first example\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc5280#section-4.2.2.1\r\n  [2]: https://datatracker.ietf.org/doc/html/rfc5280#section-4.2.1.13","title":"Java BouncyCastle getObject() in ASN1TaggedObject has been deprecated how to replace?","body":"<p>When asking for how to parse some ASN.1 structure, you would ideally give the ASN.1 definitions involved. In this case it's especially important since correctly parsing a tagged object requires knowing the tag definition (as well as whether implicit tagging is enabled in the relevant ASN.1 module).</p>\n<p>The old <code>getObject</code> assumed you had already checked the tag number (<code>getTagNo</code>) and it also only worked for CONTEXT_SPECIFIC tags using explicit tagging.</p>\n<p>A reasonable guess at a replacement would be:</p>\n<pre><code>ASN1Util.getContextBaseUniversal(location, tagNo, true, BERTags.OCTET_STRING)\n</code></pre>\n<p>where 'tagNo' is the tag number, which ought to be known at the call site, and 'true' indicates the field is using explicit tagging.</p>\n<hr />\n<p>From your example code we can see that the overall extension being parsed here is an Authority Information Access (read about the extension <a href=\"https://datatracker.ietf.org/doc/html/rfc5280#section-4.2.2.1\" rel=\"nofollow noreferrer\">here</a>); technically the ASN.1 type is <code>AuthorityInfoAccessSyntax</code>. It's worth reading that section to understand in particular that the 'accessLocation' (being a GeneralName) can take several forms (though I assume it's OK to only process the URI one if you can't make use of the others).</p>\n<p>BouncyCastle already has a class for parsing these:</p>\n<pre><code>org.bouncycastle.asn1.x509.AuthorityInformationAccess\n</code></pre>\n<p>So you could rewrite your method something like this:</p>\n<pre><code>protected static void getAuthorityInfoExtensionValue(byte[] extensionValue,\n    CertSignatureInformation certInfo) throws IOException\n{\n    AuthorityInformationAccess authInfo = AuthorityInformationAccess.getInstance(\n        JcaX509ExtensionUtils.parseExtensionValue(extensionValue));\n\n    for (AccessDescription accessDescription : authInfo.getAccessDescriptions())\n    {\n        ASN1ObjectIdentifier accessMethod = accessDescription.getAccessMethod();\n        GeneralName accessLocation = accessDescription.getAccessLocation();\n\n        if (X509ObjectIdentifiers.id_ad_ocsp.equals(accessMethod))\n        {\n            if (GeneralName.uniformResourceIdentifier == accessLocation.getTagNo())\n            {\n                ASN1IA5String uri = ASN1IA5String.getInstance(accessLocation.getName());\n                certInfo.setOcspUrl(uri.getString());\n            }\n        }\n        else if (X509ObjectIdentifiers.id_ad_caIssuers.equals(accessMethod))\n        {\n            if (GeneralName.uniformResourceIdentifier == accessLocation.getTagNo())\n            {\n                ASN1IA5String uri = ASN1IA5String.getInstance(accessLocation.getName());\n                certInfo.setIssuerUrl(uri.getString());\n            }\n        }\n    }\n}\n</code></pre>\n<p>You should probably also deal with the possibility of there being multiple access descriptions for a given access method (so potentially multiple URIs).</p>\n<hr />\n<p>For your second example (<code>getCrlUrlFromExtensionValue</code>), BC has this ASN.1 type (refer also to <a href=\"https://datatracker.ietf.org/doc/html/rfc5280#section-4.2.1.13\" rel=\"nofollow noreferrer\">RFC 5280 4.2.1.13</a>):</p>\n<pre><code>org.bouncycastle.asn1.x509.CRLDistPoint\n</code></pre>\n<p>Example code:</p>\n<pre><code>    CRLDistPoint crlDistPoint = CRLDistPoint.getInstance(\n        JcaX509ExtensionUtils.parseExtensionValue(extensionValue));\n    for (DistributionPoint distPoint : crlDistPoint.getDistributionPoints())\n    {\n        GeneralNames crlIssuer = distPoint.getCRLIssuer();\n        if (crlIssuer != null)\n        {\n            for (GeneralName name : crlIssuer.getNames())\n            {\n                // Look for URI as in first example\n            }\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"score":0,"creation_date":1700573753,"post_id":77521649,"comment_id":136669267,"body_markdown":"That doesn&#39;t perform any validation at all as to whether the tag has the correct class and tag number, or is implicitly tagged. Please include the actual ASN.1 type you are trying to parse so we can give a correct solution.","body":"That doesn&#39;t perform any validation at all as to whether the tag has the correct class and tag number, or is implicitly tagged. Please include the actual ASN.1 type you are trying to parse so we can give a correct solution."},{"owner":{"account_id":1482613,"reputation":103,"user_id":1391606,"display_name":"user1391606"},"score":0,"creation_date":1700584399,"post_id":77521649,"comment_id":136671439,"body_markdown":"Hi, thx for the feedback. I updated my original post. Seems that this code is derived from the PDFBox examples. See https://svn.apache.org/viewvc/pdfbox/trunk/examples/src/main/java/org/apache/pdfbox/examples/signature/validation/CertInformationHelper.java?view=log . In this class the getObject() is replaced with getBaseObject(). CHeers.","body":"Hi, thx for the feedback. I updated my original post. Seems that this code is derived from the PDFBox examples. See <a href=\"https://svn.apache.org/viewvc/pdfbox/trunk/examples/src/main/java/org/apache/pdfbox/examples/signature/validation/CertInformationHelper.java?view=log\" rel=\"nofollow noreferrer\">svn.apache.org/viewvc/pdfbox/trunk/examples/src/main/java/or&zwnj;&#8203;g/&hellip;</a> . In this class the getObject() is replaced with getBaseObject(). CHeers."},{"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"score":0,"creation_date":1700589260,"post_id":77521649,"comment_id":136672344,"body_markdown":"I&#39;ve updated my answer with suggested replacement code.","body":"I&#39;ve updated my answer with suggested replacement code."},{"owner":{"account_id":1482613,"reputation":103,"user_id":1391606,"display_name":"user1391606"},"score":0,"creation_date":1700750883,"post_id":77521649,"comment_id":136694886,"body_markdown":"Hi Peter, th x for the update. I&#39;ll  try in the next days. I updated my post with a 2nd method that also uses getObject(). I tried to rewrite it based on your code but unfortunately my ASN knowledge is very limited. Could you have a look and point me in the right dirction what /how  to rewrite ? Cheers.","body":"Hi Peter, th x for the update. I&#39;ll  try in the next days. I updated my post with a 2nd method that also uses getObject(). I tried to rewrite it based on your code but unfortunately my ASN knowledge is very limited. Could you have a look and point me in the right dirction what /how  to rewrite ? Cheers."},{"owner":{"account_id":1482613,"reputation":103,"user_id":1391606,"display_name":"user1391606"},"score":0,"creation_date":1700822645,"post_id":77521649,"comment_id":136703014,"body_markdown":"Hi PEter, we tested your rewrite of the getAuthorityInfoExtensionValue function and this does indeed work as expected. I&#39;ll accept your answer. Cheers.","body":"Hi PEter, we tested your rewrite of the getAuthorityInfoExtensionValue function and this does indeed work as expected. I&#39;ll accept your answer. Cheers."}],"tags":[],"owner":{"account_id":1482613,"reputation":103,"user_id":1391606,"display_name":"user1391606"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700565688,"creation_date":1700558698,"answer_id":77521649,"question_id":77502943,"body_markdown":"After some reading this is the solution:\r\n\r\n    ASN1TaggedObject location = (ASN1TaggedObject) obj.getObjectAt(1);\r\n    ASN1OctetString uri = (ASN1OctetString) location.getBaseObject();\r\n    \r\n\r\nSo replacing `getObject()` with `getBaseObject()`\r\n","title":"Java BouncyCastle getObject() in ASN1TaggedObject has been deprecated how to replace?","body":"<p>After some reading this is the solution:</p>\n<pre><code>ASN1TaggedObject location = (ASN1TaggedObject) obj.getObjectAt(1);\nASN1OctetString uri = (ASN1OctetString) location.getBaseObject();\n</code></pre>\n<p>So replacing <code>getObject()</code> with <code>getBaseObject()</code></p>\n"}],"owner":{"account_id":1482613,"reputation":103,"user_id":1391606,"display_name":"user1391606"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77513719,"answer_count":2,"score":1,"last_activity_date":1700792085,"creation_date":1700236130,"question_id":77502943,"body_markdown":"When upgrading to version 1.71 of BouncyCastle we get following warning when compiling:\r\n\r\n`warning: [deprecation] getObject() in ASN1TaggedObject has been deprecated  ASN1OctetString url = (ASN1OctetString) location.getObject();`\r\n\r\nI can see from:\r\n\r\nhttps://javadoc.io/doc/org.bouncycastle/bcprov-jdk15on/latest/org/bouncycastle/asn1/ASN1TaggedObject.html#getTagClass--\r\n\r\nfollowing description:\r\n\r\n`getObject()\r\nDeprecated. \r\nTagged objects now include the tag class. This method will raise an exception if it is not BERTags.CONTEXT_SPECIFIC. Use getBaseUniversal(boolean, int) only after confirming the expected tag class.`\r\n\r\nI have no clue how to rewrite the getObject()\r\n\r\n        protected static void getAuthorityInfoExtensionValue(byte[] extensionValue,\r\n            CertSignatureInformation certInfo) throws IOException\r\n    {\r\n        ASN1Sequence asn1Seq = (ASN1Sequence) JcaX509ExtensionUtils.parseExtensionValue(extensionValue);\r\n        Enumeration&lt;?&gt; objects = asn1Seq.getObjects();\r\n        while (objects.hasMoreElements())\r\n        {\r\n            // AccessDescription\r\n            ASN1Sequence obj = (ASN1Sequence) objects.nextElement();\r\n            ASN1Encodable oid = obj.getObjectAt(0);\r\n            // accessLocation\r\n            ASN1TaggedObject location = (ASN1TaggedObject) obj.getObjectAt(1);\r\n\r\n            if (X509ObjectIdentifiers.id_ad_ocsp.equals(oid)\r\n                    &amp;&amp; location.getTagNo() == GeneralName.uniformResourceIdentifier)\r\n            {\r\n                ASN1OctetString url = (ASN1OctetString) location.getObject();\r\n                certInfo.setOcspUrl(new String(url.getOctets()));  \r\n            }\r\n            else if (X509ObjectIdentifiers.id_ad_caIssuers.equals(oid))\r\n            {\r\n                ASN1OctetString uri = (ASN1OctetString) location.getObject();\r\n                certInfo.setIssuerUrl(new String(uri.getOctets()));\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nor this\r\n\r\n        /**\r\n     * Gets the first CRL URL from given extension value. Structure has to be\r\n     * built as in 4.2.1.14 CRL Distribution Points of RFC 2459.\r\n     *\r\n     * @param extensionValue to get the extension value from\r\n     * @return first CRL- URL or null\r\n     * @throws IOException when there is a problem with the extensionValue\r\n     */\r\n    protected static String getCrlUrlFromExtensionValue(byte[] extensionValue) throws IOException\r\n    {\r\n        ASN1Sequence asn1Seq = (ASN1Sequence) JcaX509ExtensionUtils.parseExtensionValue(extensionValue);\r\n        Enumeration&lt;?&gt; objects = asn1Seq.getObjects();\r\n\r\n        while (objects.hasMoreElements())\r\n        {\r\n            Object obj = objects.nextElement();\r\n            if (obj instanceof ASN1Sequence)\r\n            {\r\n                String url = extractCrlUrlFromSequence((ASN1Sequence) obj);\r\n                if (url != null)\r\n                {\r\n                    return url;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private static String extractCrlUrlFromSequence(ASN1Sequence sequence)\r\n    {\r\n        ASN1TaggedObject taggedObject = (ASN1TaggedObject) sequence.getObjectAt(0);\r\n        taggedObject = (ASN1TaggedObject) taggedObject.getObject();\r\n        if (taggedObject.getObject() instanceof ASN1TaggedObject)\r\n        {\r\n            taggedObject = (ASN1TaggedObject) taggedObject.getObject();\r\n        }\r\n        else if (taggedObject.getObject() instanceof ASN1Sequence)\r\n        {\r\n            // multiple URLs (we take the first)\r\n            ASN1Sequence seq = (ASN1Sequence) taggedObject.getObject();\r\n            if (seq.getObjectAt(0) instanceof ASN1TaggedObject)\r\n            {\r\n                taggedObject = (ASN1TaggedObject) seq.getObjectAt(0);\r\n            }\r\n            else\r\n            {\r\n                return null;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            return null;\r\n        }\r\n        if (taggedObject.getObject() instanceof ASN1OctetString)\r\n        {\r\n            ASN1OctetString uri = (ASN1OctetString) taggedObject.getObject();\r\n            String url = new String(uri.getOctets());\r\n\r\n            // return first http(s)-Url for crl\r\n            if (url.startsWith(&quot;http&quot;))\r\n            {\r\n                return url;\r\n            }\r\n        }\r\n        // else happens with http://blogs.adobe.com/security/SampleSignedPDFDocument.pdf\r\n        return null;\r\n    }\r\n\r\nso this warning disappears.\r\n\r\nAny help much appreciated.\r\n\r\n","title":"Java BouncyCastle getObject() in ASN1TaggedObject has been deprecated how to replace?","body":"<p>When upgrading to version 1.71 of BouncyCastle we get following warning when compiling:</p>\n<p><code>warning: [deprecation] getObject() in ASN1TaggedObject has been deprecated  ASN1OctetString url = (ASN1OctetString) location.getObject();</code></p>\n<p>I can see from:</p>\n<p><a href=\"https://javadoc.io/doc/org.bouncycastle/bcprov-jdk15on/latest/org/bouncycastle/asn1/ASN1TaggedObject.html#getTagClass--\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.bouncycastle/bcprov-jdk15on/latest/org/bouncycastle/asn1/ASN1TaggedObject.html#getTagClass--</a></p>\n<p>following description:</p>\n<p><code>getObject() Deprecated.  Tagged objects now include the tag class. This method will raise an exception if it is not BERTags.CONTEXT_SPECIFIC. Use getBaseUniversal(boolean, int) only after confirming the expected tag class.</code></p>\n<p>I have no clue how to rewrite the getObject()</p>\n<pre><code>    protected static void getAuthorityInfoExtensionValue(byte[] extensionValue,\n        CertSignatureInformation certInfo) throws IOException\n{\n    ASN1Sequence asn1Seq = (ASN1Sequence) JcaX509ExtensionUtils.parseExtensionValue(extensionValue);\n    Enumeration&lt;?&gt; objects = asn1Seq.getObjects();\n    while (objects.hasMoreElements())\n    {\n        // AccessDescription\n        ASN1Sequence obj = (ASN1Sequence) objects.nextElement();\n        ASN1Encodable oid = obj.getObjectAt(0);\n        // accessLocation\n        ASN1TaggedObject location = (ASN1TaggedObject) obj.getObjectAt(1);\n\n        if (X509ObjectIdentifiers.id_ad_ocsp.equals(oid)\n                &amp;&amp; location.getTagNo() == GeneralName.uniformResourceIdentifier)\n        {\n            ASN1OctetString url = (ASN1OctetString) location.getObject();\n            certInfo.setOcspUrl(new String(url.getOctets()));  \n        }\n        else if (X509ObjectIdentifiers.id_ad_caIssuers.equals(oid))\n        {\n            ASN1OctetString uri = (ASN1OctetString) location.getObject();\n            certInfo.setIssuerUrl(new String(uri.getOctets()));\n        }\n    }\n}\n</code></pre>\n<p>or this</p>\n<pre><code>    /**\n * Gets the first CRL URL from given extension value. Structure has to be\n * built as in 4.2.1.14 CRL Distribution Points of RFC 2459.\n *\n * @param extensionValue to get the extension value from\n * @return first CRL- URL or null\n * @throws IOException when there is a problem with the extensionValue\n */\nprotected static String getCrlUrlFromExtensionValue(byte[] extensionValue) throws IOException\n{\n    ASN1Sequence asn1Seq = (ASN1Sequence) JcaX509ExtensionUtils.parseExtensionValue(extensionValue);\n    Enumeration&lt;?&gt; objects = asn1Seq.getObjects();\n\n    while (objects.hasMoreElements())\n    {\n        Object obj = objects.nextElement();\n        if (obj instanceof ASN1Sequence)\n        {\n            String url = extractCrlUrlFromSequence((ASN1Sequence) obj);\n            if (url != null)\n            {\n                return url;\n            }\n        }\n    }\n    return null;\n}\n\nprivate static String extractCrlUrlFromSequence(ASN1Sequence sequence)\n{\n    ASN1TaggedObject taggedObject = (ASN1TaggedObject) sequence.getObjectAt(0);\n    taggedObject = (ASN1TaggedObject) taggedObject.getObject();\n    if (taggedObject.getObject() instanceof ASN1TaggedObject)\n    {\n        taggedObject = (ASN1TaggedObject) taggedObject.getObject();\n    }\n    else if (taggedObject.getObject() instanceof ASN1Sequence)\n    {\n        // multiple URLs (we take the first)\n        ASN1Sequence seq = (ASN1Sequence) taggedObject.getObject();\n        if (seq.getObjectAt(0) instanceof ASN1TaggedObject)\n        {\n            taggedObject = (ASN1TaggedObject) seq.getObjectAt(0);\n        }\n        else\n        {\n            return null;\n        }\n    }\n    else\n    {\n        return null;\n    }\n    if (taggedObject.getObject() instanceof ASN1OctetString)\n    {\n        ASN1OctetString uri = (ASN1OctetString) taggedObject.getObject();\n        String url = new String(uri.getOctets());\n\n        // return first http(s)-Url for crl\n        if (url.startsWith(&quot;http&quot;))\n        {\n            return url;\n        }\n    }\n    // else happens with http://blogs.adobe.com/security/SampleSignedPDFDocument.pdf\n    return null;\n}\n</code></pre>\n<p>so this warning disappears.</p>\n<p>Any help much appreciated.</p>\n"},{"tags":["java","enums","variadic-functions"],"answers":[{"comments":[{"owner":{"account_id":1027813,"reputation":19711,"user_id":1036728,"accept_rate":53,"display_name":"antak"},"score":1,"creation_date":1470990855,"post_id":38910556,"comment_id":65184115,"body_markdown":"Thanks!  I was able to use your example to create a polluted array by making `foo()` and `someMethod()` return `E[]` with the latter merely returning the argument it receives.  Then accessing `foo(Foo.A)[0]` results in `java.lang.ClassCastException` just on the virtue of the array actually being an `Enum[]` that is being cast to an incompatible `Foo[]`.","body":"Thanks!  I was able to use your example to create a polluted array by making <code>foo()</code> and <code>someMethod()</code> return <code>E[]</code> with the latter merely returning the argument it receives.  Then accessing <code>foo(Foo.A)[0]</code> results in <code>java.lang.ClassCastException</code> just on the virtue of the array actually being an <code>Enum[]</code> that is being cast to an incompatible <code>Foo[]</code>."},{"owner":{"account_id":4527239,"reputation":330,"user_id":3678694,"display_name":"cupiqi09"},"score":2,"creation_date":1611226866,"post_id":38910556,"comment_id":116384908,"body_markdown":"Wow first time I feel like I understood that message, very well explained! Thank you!","body":"Wow first time I feel like I understood that message, very well explained! Thank you!"}],"tags":[],"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1700791416,"creation_date":1470979636,"answer_id":38910556,"question_id":38781226,"body_markdown":"There is a warning for the varargs method because varargs methods can cause implicit array creation at the calling site, whereas the version that takes an array parameter doesn&#39;t. The way that varargs works is that it causes the compiler to create an array at the call site filled with the variable arguments, which is then passed to the method as a single array parameter. The parameter would have type `E[]`, so the array created should be an `E[]`.\r\n\r\nFirst, in the call site in your example, you are not using the variable arguments functionality at all. You are passing the array of variable arguments directly. So there is no implicit array creation in this case.\r\n\r\nEven if you had used the variable arguments functionality, e.g. with `someMethod(Foo.A);`, the implicit array creation would be creating an array with a reifiable type, i.e. the variable argument type is known at the call site to be `Foo` which is a concrete type known at compile-time, so array creation is fine.\r\n\r\nThe problem is only if the variable argument type at the call site is also a generic type or type parameter. For example, something like:\r\n\r\n    public static &lt;E extends Enum&lt;E&gt;&gt; void foo(E obj) {\r\n        someMethod(obj);\r\n    }\r\n\r\nThen the compiler would need to create an array of this generic type or type parameter (it needs to create an `E[]`), but as you know generic array creation is not allowed in Java. It would instead create an array with the component type being the erasure of the generic type (in this example it would be `Enum`), so it would pass an array of the wrong type (in this example, the passed array should be an `E[]`, but the array&#39;s actual runtime class would be `Enum[]` which is not a subtype of `E[]`).\r\n\r\nThis potentially wrong type of array is not always a problem. Most of the time, a varargs method will simply iterate over the array and get elements out of it. In this case, the runtime class of the array is irrelevant; all that matters is that the elements are type `E` (which indeed they are). If this is the case, you can declare your method `@SafeVarargs`. However, if your method actually uses the runtime class of the passed array (for example, if you return the varargs array as type `E[]`, or you use something like `Arrays.copyOf()` to create an array with the same runtime class), then a wrong runtime class of the array will lead to problems and you cannot use `@SafeVarargs`.\r\n\r\nYour example is a bit weird because, well, you are not even using the fact that the elements are of type `E`, let alone the fact that the array is `E[]`. So you could use `@SafeVarargs`, and not only that, you could simply declare the array as taking `Object[]` in the first place:\r\n\r\n    private static void someMethod(Object... objects)","title":"&quot;Potential heap pollution via varargs parameter&quot; for Enum&lt;E&gt;... why?","body":"<p>There is a warning for the varargs method because varargs methods can cause implicit array creation at the calling site, whereas the version that takes an array parameter doesn't. The way that varargs works is that it causes the compiler to create an array at the call site filled with the variable arguments, which is then passed to the method as a single array parameter. The parameter would have type <code>E[]</code>, so the array created should be an <code>E[]</code>.</p>\n<p>First, in the call site in your example, you are not using the variable arguments functionality at all. You are passing the array of variable arguments directly. So there is no implicit array creation in this case.</p>\n<p>Even if you had used the variable arguments functionality, e.g. with <code>someMethod(Foo.A);</code>, the implicit array creation would be creating an array with a reifiable type, i.e. the variable argument type is known at the call site to be <code>Foo</code> which is a concrete type known at compile-time, so array creation is fine.</p>\n<p>The problem is only if the variable argument type at the call site is also a generic type or type parameter. For example, something like:</p>\n<pre><code>public static &lt;E extends Enum&lt;E&gt;&gt; void foo(E obj) {\n    someMethod(obj);\n}\n</code></pre>\n<p>Then the compiler would need to create an array of this generic type or type parameter (it needs to create an <code>E[]</code>), but as you know generic array creation is not allowed in Java. It would instead create an array with the component type being the erasure of the generic type (in this example it would be <code>Enum</code>), so it would pass an array of the wrong type (in this example, the passed array should be an <code>E[]</code>, but the array's actual runtime class would be <code>Enum[]</code> which is not a subtype of <code>E[]</code>).</p>\n<p>This potentially wrong type of array is not always a problem. Most of the time, a varargs method will simply iterate over the array and get elements out of it. In this case, the runtime class of the array is irrelevant; all that matters is that the elements are type <code>E</code> (which indeed they are). If this is the case, you can declare your method <code>@SafeVarargs</code>. However, if your method actually uses the runtime class of the passed array (for example, if you return the varargs array as type <code>E[]</code>, or you use something like <code>Arrays.copyOf()</code> to create an array with the same runtime class), then a wrong runtime class of the array will lead to problems and you cannot use <code>@SafeVarargs</code>.</p>\n<p>Your example is a bit weird because, well, you are not even using the fact that the elements are of type <code>E</code>, let alone the fact that the array is <code>E[]</code>. So you could use <code>@SafeVarargs</code>, and not only that, you could simply declare the array as taking <code>Object[]</code> in the first place:</p>\n<pre><code>private static void someMethod(Object... objects)\n</code></pre>\n"}],"owner":{"account_id":1027813,"reputation":19711,"user_id":1036728,"accept_rate":53,"display_name":"antak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8030,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":38910556,"answer_count":1,"score":12,"last_activity_date":1700791416,"creation_date":1470371868,"question_id":38781226,"body_markdown":"**This question is specific to using varargs with generic-fied `Enum&lt;E&gt;`s:**\r\n\r\nWhy do I get this warning `Type safety: Potential heap pollution via varargs parameter elements` if I define the method the like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    &lt;E extends Enum&lt;E&gt;&gt; void someMethod(E... elements)\r\n\r\nAs opposed to this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    &lt;E extends Enum&lt;E&gt;&gt; void someMethod(E[] elements)\r\n\r\nAccordingly, what should I look out for before declaring the method `@SafeVarargs`?\r\n\r\n## Similar questions\r\n\r\nThis question is similar to these questions regarding `Collection&lt;T&gt;...` but the scenarios shown in those answers do not seem to apply with `Enum&lt;E&gt;...`:\r\n\r\n* https://stackoverflow.com/questions/12462079/potential-heap-pollution-via-varargs-parameter\r\n* https://stackoverflow.com/questions/31357422/type-safety-potential-heap-pollution-via-varargs-parameter-subtrees\r\n* https://stackoverflow.com/questions/12462079/potential-heap-pollution-via-varargs-parameter\r\n* https://stackoverflow.com/questions/23443493/eclipse-different-behaviour-for-unchecked-warning-due-to-potential-heap-pollu\r\n\r\nIt is the reverse of this question which questions why there are no warning:\r\n\r\n* https://stackoverflow.com/questions/32246208/why-doesnt-the-following-method-produce-potential-heap-pollution\r\n\r\n## Sample code\r\n\r\nThis is what I tried to pollute the heap, but each bad attempt results in `java.lang.ArrayStoreException` and not a polluted array.\r\n\r\nI am using *Eclipse 4.6.0* and *Java JDK 8u74*.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static void main(String[] args) {\r\n        Foo[] x = { Foo.A };\r\n        someMethod(x);\r\n\r\n        Foo y = x[0];  // How does one get a ClassCastException here?\r\n    }\r\n\r\n\tprivate static enum Foo {\r\n\t\tA, B, C,\r\n\t}\r\n\r\n\tprivate static enum Bar {\r\n\t\tX, Y, Z,\r\n\t}\r\n\r\n    // This produces a &quot;Type safety&quot; warning on &#39;elements&#39;\r\n    private static &lt;E extends Enum&lt;E&gt;&gt; void someMethod(E... elements) {\r\n        Object[] objects = elements;\r\n\r\n        // Test case 1: This line throws java.lang.ArrayStoreException\r\n        objects[0] = &quot;&quot;;\r\n\r\n        // Test case 2: Program terminates without errors\r\n        objects[0] = Foo.A;\r\n\r\n        // Test case 3: This line throws java.lang.ArrayStoreException\r\n        objects[0] = Bar.X;\r\n    }\r\n","title":"&quot;Potential heap pollution via varargs parameter&quot; for Enum&lt;E&gt;... why?","body":"<p><strong>This question is specific to using varargs with generic-fied <code>Enum&lt;E&gt;</code>s:</strong></p>\n\n<p>Why do I get this warning <code>Type safety: Potential heap pollution via varargs parameter elements</code> if I define the method the like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>&lt;E extends Enum&lt;E&gt;&gt; void someMethod(E... elements)\n</code></pre>\n\n<p>As opposed to this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>&lt;E extends Enum&lt;E&gt;&gt; void someMethod(E[] elements)\n</code></pre>\n\n<p>Accordingly, what should I look out for before declaring the method <code>@SafeVarargs</code>?</p>\n\n<h2>Similar questions</h2>\n\n<p>This question is similar to these questions regarding <code>Collection&lt;T&gt;...</code> but the scenarios shown in those answers do not seem to apply with <code>Enum&lt;E&gt;...</code>:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/12462079/potential-heap-pollution-via-varargs-parameter\">Potential heap pollution via varargs parameter</a></li>\n<li><a href=\"https://stackoverflow.com/questions/31357422/type-safety-potential-heap-pollution-via-varargs-parameter-subtrees\">Type safety: Potential heap pollution via varargs parameter subtrees</a></li>\n<li><a href=\"https://stackoverflow.com/questions/12462079/potential-heap-pollution-via-varargs-parameter\">Potential heap pollution via varargs parameter</a></li>\n<li><a href=\"https://stackoverflow.com/questions/23443493/eclipse-different-behaviour-for-unchecked-warning-due-to-potential-heap-pollu\">Eclipse different behaviour for &quot;Unchecked&quot; warning due to &quot;Potential heap pollution via varargs parameter&quot;. How to fix?</a></li>\n</ul>\n\n<p>It is the reverse of this question which questions why there are no warning:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/32246208/why-doesnt-the-following-method-produce-potential-heap-pollution\">Why doesn&#39;t the following method produce potential heap pollution?</a></li>\n</ul>\n\n<h2>Sample code</h2>\n\n<p>This is what I tried to pollute the heap, but each bad attempt results in <code>java.lang.ArrayStoreException</code> and not a polluted array.</p>\n\n<p>I am using <em>Eclipse 4.6.0</em> and <em>Java JDK 8u74</em>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Foo[] x = { Foo.A };\n    someMethod(x);\n\n    Foo y = x[0];  // How does one get a ClassCastException here?\n}\n\nprivate static enum Foo {\n    A, B, C,\n}\n\nprivate static enum Bar {\n    X, Y, Z,\n}\n\n// This produces a \"Type safety\" warning on 'elements'\nprivate static &lt;E extends Enum&lt;E&gt;&gt; void someMethod(E... elements) {\n    Object[] objects = elements;\n\n    // Test case 1: This line throws java.lang.ArrayStoreException\n    objects[0] = \"\";\n\n    // Test case 2: Program terminates without errors\n    objects[0] = Foo.A;\n\n    // Test case 3: This line throws java.lang.ArrayStoreException\n    objects[0] = Bar.X;\n}\n</code></pre>\n"},{"tags":["java","arrays","loops","if-statement","user-input"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1700789563,"post_id":77540277,"comment_id":136699454,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1700789896,"post_id":77540277,"comment_id":136699485,"body_markdown":"What this means is that you are going beyond the index of an array at the location specified by the exception&#39;s stack trace and by the amount specified in the stack trace. To fix it, you will want to debug your code.","body":"What this means is that you are going beyond the index of an array at the location specified by the exception&#39;s stack trace and by the amount specified in the stack trace. To fix it, you will want to debug your code."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1700789916,"post_id":77540277,"comment_id":136699487,"body_markdown":"If you&#39;re not sure how to debug, then please check out [What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/q/25385173/)  and [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/). The links won&#39;t solve your direct problem, but they will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer.","body":"If you&#39;re not sure how to debug, then please check out <a href=\"https://stackoverflow.com/q/25385173/\">What is a debugger and how can it help me diagnose problems?</a>  and <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>. The links won&#39;t solve your direct problem, but they will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1700790841,"post_id":77540277,"comment_id":136699545,"body_markdown":"When you do walk through the code, note that this, `index&lt;=size;`, might be a problem. The debugging will show you why.","body":"When you do walk through the code, note that this, <code>index&lt;=size;</code>, might be a problem. The debugging will show you why."},{"owner":{"account_id":19800924,"reputation":1,"user_id":14501963,"display_name":"Klxnt"},"score":0,"creation_date":1700791686,"post_id":77540277,"comment_id":136699600,"body_markdown":"thanks i already know why it&#39;s in the parameters if &lt;=","body":"thanks i already know why it&#39;s in the parameters if &lt;="}],"owner":{"account_id":19800924,"reputation":1,"user_id":14501963,"display_name":"Klxnt"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1700789840,"answer_count":0,"score":-3,"last_activity_date":1700789954,"creation_date":1700789522,"question_id":77540277,"body_markdown":"\r\n\r\n[As you can see I get an error in line 30, I don&#39;t get what&#39;s wrong since it only prints the array with corresponds to variable i that increments each loop. I already get the concept of loop and if statements and now I&#39;m moving forward learning inputs and array. I just want some clarification why I get an error.  ]\r\n\r\n(https://i.stack.imgur.com/JiXQd.png)\r\n\r\n        int [] inputs = new int [size];\r\n        System.out.println(&quot;Enter nums&quot;);\r\n        \r\n        for(int index = 0; index&lt;=size; index++){\r\n            \r\n        if (index!=size){\r\n        inputs[index] = scanner.nextInt();}\r\n         \r\n        else if (index==size){\r\n            System.out.println(&quot;Here is the list: &quot;);\r\n        for(int i = 0; i&lt;=size; i++){\r\n        System.out.println(inputs[i]);\r\n        }\r\n        }\r\n        }           \r\n        scanner.close();\r\n    }\r\n        \r\n    }","title":"i want to create an array that stores user input","body":"<p>[As you can see I get an error in line 30, I don't get what's wrong since it only prints the array with corresponds to variable i that increments each loop. I already get the concept of loop and if statements and now I'm moving forward learning inputs and array. I just want some clarification why I get an error.  ]</p>\n<p>(<a href=\"https://i.stack.imgur.com/JiXQd.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/JiXQd.png</a>)</p>\n<pre><code>    int [] inputs = new int [size];\n    System.out.println(&quot;Enter nums&quot;);\n    \n    for(int index = 0; index&lt;=size; index++){\n        \n    if (index!=size){\n    inputs[index] = scanner.nextInt();}\n     \n    else if (index==size){\n        System.out.println(&quot;Here is the list: &quot;);\n    for(int i = 0; i&lt;=size; i++){\n    System.out.println(inputs[i]);\n    }\n    }\n    }           \n    scanner.close();\n}\n    \n}\n</code></pre>\n"},{"tags":["java","mysql","maven","sqlexception"],"comments":[{"owner":{"account_id":2782706,"reputation":11516,"user_id":2548147,"display_name":"Raymond Nijland"},"score":0,"creation_date":1531311153,"post_id":51283759,"comment_id":89547584,"body_markdown":"Upgrade your J  connector https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-whats-new.html","body":"Upgrade your J  connector <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-whats-new.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/connector-j/8.0/en/connector-j-whats-new.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":3160267,"reputation":633,"user_id":2671590,"display_name":"DoesEatOats"},"score":0,"creation_date":1533576586,"post_id":51283759,"comment_id":90387033,"body_markdown":"I ended up just creating the database first which resolved the error.","body":"I ended up just creating the database first which resolved the error."}],"answers":[{"tags":[],"owner":{"account_id":1448682,"reputation":355,"user_id":1366329,"display_name":"Winter MC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581369749,"creation_date":1581369749,"answer_id":60158622,"question_id":51283759,"body_markdown":"As a result of the java mysql connector driver being incompartible with the installed version of MYSQL DB.\r\n\r\nKindly check answer posted by @P Satish Patro on this post:\r\nhttps://stackoverflow.com/questions/53192560/spring-boot-client-plugin-auth-is-required","title":"MySQL 8.0.11 is throwing CLIENT_PLUGIN_AUTH is required","body":"<p>As a result of the java mysql connector driver being incompartible with the installed version of MYSQL DB.</p>\n\n<p>Kindly check answer posted by @P Satish Patro on this post:\n<a href=\"https://stackoverflow.com/questions/53192560/spring-boot-client-plugin-auth-is-required\">Spring boot CLIENT_PLUGIN_AUTH is required</a></p>\n"}],"owner":{"account_id":2594734,"reputation":1690,"user_id":2248676,"accept_rate":57,"display_name":"Anjali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10121,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1700787770,"creation_date":1531306690,"question_id":51283759,"body_markdown":"I am new to Java. I created Java Maven project and am getting the below error while connecting to MySQL. I am posting my code below.\r\n\r\nIn pom.xml,\r\n\r\n    &lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;8.0.11&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n\r\nIn class,\r\n\r\n     private void connection() {\r\n\t\t try {\r\n\t\t\t    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;).newInstance();\r\n\t\t\t\tconnect = DriverManager.getConnection(&quot;jdbc:mysql://10.100.00.00:3305/dbname&quot; , \r\n\t\t\t\t\t\t\t\t\t\t&quot;username&quot;,&quot;password&quot;);\t\t\r\n\t\t }\r\n\t\t catch(SQLException ex) {\t\t\r\n\t\t\t System.out.println(ex.getMessage());\r\n\t\t\t \r\n\t\t }\r\n\t\t catch(Exception ex) {\t\t\r\n\t\t\t System.out.println(ex.getMessage());\r\n\t\t }\r\n\t }\r\n\r\nIt was throwing **java.sql.SQLNonTransientConnectionException: CLIENT_PLUGIN_AUTH is required** from SQLException.","title":"MySQL 8.0.11 is throwing CLIENT_PLUGIN_AUTH is required","body":"<p>I am new to Java. I created Java Maven project and am getting the below error while connecting to MySQL. I am posting my code below.</p>\n\n<p>In pom.xml,</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>In class,</p>\n\n<pre><code> private void connection() {\n     try {\n            Class.forName(\"com.mysql.cj.jdbc.Driver\").newInstance();\n            connect = DriverManager.getConnection(\"jdbc:mysql://10.100.00.00:3305/dbname\" , \n                                    \"username\",\"password\");     \n     }\n     catch(SQLException ex) {       \n         System.out.println(ex.getMessage());\n\n     }\n     catch(Exception ex) {      \n         System.out.println(ex.getMessage());\n     }\n }\n</code></pre>\n\n<p>It was throwing <strong>java.sql.SQLNonTransientConnectionException: CLIENT_PLUGIN_AUTH is required</strong> from SQLException.</p>\n"},{"tags":["java","joptionpane"],"comments":[{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1700739833,"post_id":77536566,"comment_id":136692895,"body_markdown":"use `inputAns.equalsIgnoreCase(&quot;yes&quot;)` and `inputAns.equalsIgnoreCase(&quot;no&quot;)` instead ;)","body":"use <code>inputAns.equalsIgnoreCase(&quot;yes&quot;)</code> and <code>inputAns.equalsIgnoreCase(&quot;no&quot;)</code> instead ;)"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":1,"creation_date":1700740049,"post_id":77536566,"comment_id":136692925,"body_markdown":"also remember [naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html)!","body":"also remember <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">naming conventions</a>!"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1700740274,"post_id":77536566,"comment_id":136692972,"body_markdown":"Maybe instead of resetting the value in the game method, do it separately (in the try again method before running the game method) make count a field.","body":"Maybe instead of resetting the value in the game method, do it separately (in the try again method before running the game method) make count a field."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700754134,"post_id":77536566,"comment_id":136695500,"body_markdown":"Consider reviewing the topic of, _&quot;exception handling&quot;_.  Here is the _Java_ tutorial, _[Lesson: Exceptions (The Java™ Tutorials &gt; Essential Java Classes)](https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html)_.","body":"Consider reviewing the topic of, <i>&quot;exception handling&quot;</i>.  Here is the <i>Java</i> tutorial, <i><a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html\" rel=\"nofollow noreferrer\">Lesson: Exceptions (The Java™ Tutorials &gt; Essential Java Classes)</a></i>."}],"answers":[{"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700741467,"creation_date":1700740753,"answer_id":77536693,"question_id":77536566,"body_markdown":"Here&#39;s your code doing what you want (probably not the most efficient way)\r\n```\r\npublic class NumberGame {\r\n\r\n    static int scoreOfWins = 0; \r\n    static int numberOfAttempt = 0;\r\n    \r\n    public static void main(String[] args) {\r\n        game();\r\n    }\r\n    \r\n    static int num = new Random().nextInt(100) + 1;\r\n    static int count = 10;\r\n\r\n    static void game() {\r\n        try {\r\n            while(count &gt; 0) {\r\n                String inputTitle = &quot;Guess the number between 1 to 100&quot;;\r\n                String input = JOptionPane.showInputDialog(inputTitle, &quot;Enter your answer here...&quot;);\r\n                if (input == null) {\r\n                    System.exit(0);\r\n                }\r\n                int intInput = Integer.parseInt(input);\r\n                System.out.println(intInput);\r\n                if (intInput == num) {\r\n                    numberOfAttempt = 11 - count;\r\n                    JOptionPane.showMessageDialog(null, &quot;You win! Your guess was right after &quot; + numberOfAttempt + &quot; attempts&quot;);\r\n                    scoreOfWins++;\r\n                    tryAgain();\r\n                    return;\r\n                } else if (intInput &gt; num) {\r\n                    String numberOfTimes = &quot; You can try &quot; + (count - 1) + &quot; times&quot;;\r\n                    JOptionPane.showMessageDialog(null, &quot;Your guess was not right! Please try Again with a lower value.&quot; + numberOfTimes);\r\n                    count--;\r\n                } else if (intInput &lt; num){\r\n                    String numberOfTimes = &quot; You can try &quot; + (count - 1) + &quot; times&quot;;\r\n                    JOptionPane.showMessageDialog(null, &quot;Your guess was not right! Please try Again with a higher value.&quot; + numberOfTimes);\r\n                    count--;\r\n                }\r\n            }\r\n            JOptionPane.showMessageDialog(null, &quot;You Lost the game!&quot;);\r\n            tryAgain();\r\n        } catch (Exception e) {\r\n        \t\r\n        \tif(e instanceof NumberFormatException) {\r\n        \t\tJOptionPane.showMessageDialog(null, &quot;Number format exception detected, Please only input numbers!&quot;);\r\n                game();\r\n        \t}\r\n        \t\r\n        \t// Other exception handling here\r\n        }\r\n    }\r\n    \r\n    static void restart() {\r\n    \tcount = 10;\r\n        game();\r\n    }\r\n    \r\n    static void tryAgain() {\r\n        while (true) {\r\n            String inputAns = JOptionPane.showInputDialog(&quot;Type yes if you want to containue!&quot;\r\n                    + &quot; Type No if you want to give up!&quot;, &quot;you won &quot; + scoreOfWins + &quot; times do you want to continue?&quot;);\r\n            if (inputAns == null) {\r\n                System.exit(0);\r\n            }\r\n            inputAns = inputAns.toUpperCase();\r\n            if (inputAns.equalsIgnoreCase(&quot;y&quot;) | inputAns.equalsIgnoreCase(&quot;yes&quot;)) {\r\n            \trestart();\r\n            } else if (inputAns.equalsIgnoreCase(&quot;n&quot;) |inputAns.equalsIgnoreCase(&quot;no&quot;)) {\r\n                JOptionPane.showMessageDialog(null, &quot;OKAY you won &quot; + scoreOfWins + &quot; times today, see you later!&quot;);\r\n                return;\r\n            } else {\r\n                JOptionPane.showMessageDialog(null, &quot;Please provide a good valid identifier like Yes or NO&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n• So first thing I fixed in your code was a small but good thing to practice and that is the [naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html). It&#39;s pretty self explanatory.\r\n\r\n• Secondly I switched out `inputAns.equals(&quot;Yes&quot;)` and `inputAns.equals(&quot;NO&quot;)` with `inputAns.equalsIgnoreCase(&quot;yes&quot;)` and `inputAns.equalsIgnoreCase(&quot;no&quot;)` which allows the user to type &quot;yes&quot; in anyway they want even &quot;YeS&quot;.\r\n\r\n• Next I implemented `new Random().nextInt(100) + 1` which is probably a better way to generate random numbers. [Here&#39;s a cool little question](https://stackoverflow.com/q/738629/17820402) you might want to consider checking out if you wanna know more about this.\r\n\r\n• I also checked what exception is thrown using `instanceof` so this allows you to manage more exceptions which you may find helpful later on.\r\n\r\nI haven&#39;t in general changed a lot of your code except for removing `num` and `count` from your game method and making it a field. Now everytime you run the game method the count does not change it does only when you restart the game.\r\n","title":"How to start a Java program from where it was left after an error","body":"<p>Here's your code doing what you want (probably not the most efficient way)</p>\n<pre><code>public class NumberGame {\n\n    static int scoreOfWins = 0; \n    static int numberOfAttempt = 0;\n    \n    public static void main(String[] args) {\n        game();\n    }\n    \n    static int num = new Random().nextInt(100) + 1;\n    static int count = 10;\n\n    static void game() {\n        try {\n            while(count &gt; 0) {\n                String inputTitle = &quot;Guess the number between 1 to 100&quot;;\n                String input = JOptionPane.showInputDialog(inputTitle, &quot;Enter your answer here...&quot;);\n                if (input == null) {\n                    System.exit(0);\n                }\n                int intInput = Integer.parseInt(input);\n                System.out.println(intInput);\n                if (intInput == num) {\n                    numberOfAttempt = 11 - count;\n                    JOptionPane.showMessageDialog(null, &quot;You win! Your guess was right after &quot; + numberOfAttempt + &quot; attempts&quot;);\n                    scoreOfWins++;\n                    tryAgain();\n                    return;\n                } else if (intInput &gt; num) {\n                    String numberOfTimes = &quot; You can try &quot; + (count - 1) + &quot; times&quot;;\n                    JOptionPane.showMessageDialog(null, &quot;Your guess was not right! Please try Again with a lower value.&quot; + numberOfTimes);\n                    count--;\n                } else if (intInput &lt; num){\n                    String numberOfTimes = &quot; You can try &quot; + (count - 1) + &quot; times&quot;;\n                    JOptionPane.showMessageDialog(null, &quot;Your guess was not right! Please try Again with a higher value.&quot; + numberOfTimes);\n                    count--;\n                }\n            }\n            JOptionPane.showMessageDialog(null, &quot;You Lost the game!&quot;);\n            tryAgain();\n        } catch (Exception e) {\n            \n            if(e instanceof NumberFormatException) {\n                JOptionPane.showMessageDialog(null, &quot;Number format exception detected, Please only input numbers!&quot;);\n                game();\n            }\n            \n            // Other exception handling here\n        }\n    }\n    \n    static void restart() {\n        count = 10;\n        game();\n    }\n    \n    static void tryAgain() {\n        while (true) {\n            String inputAns = JOptionPane.showInputDialog(&quot;Type yes if you want to containue!&quot;\n                    + &quot; Type No if you want to give up!&quot;, &quot;you won &quot; + scoreOfWins + &quot; times do you want to continue?&quot;);\n            if (inputAns == null) {\n                System.exit(0);\n            }\n            inputAns = inputAns.toUpperCase();\n            if (inputAns.equalsIgnoreCase(&quot;y&quot;) | inputAns.equalsIgnoreCase(&quot;yes&quot;)) {\n                restart();\n            } else if (inputAns.equalsIgnoreCase(&quot;n&quot;) |inputAns.equalsIgnoreCase(&quot;no&quot;)) {\n                JOptionPane.showMessageDialog(null, &quot;OKAY you won &quot; + scoreOfWins + &quot; times today, see you later!&quot;);\n                return;\n            } else {\n                JOptionPane.showMessageDialog(null, &quot;Please provide a good valid identifier like Yes or NO&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>• So first thing I fixed in your code was a small but good thing to practice and that is the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">naming conventions</a>. It's pretty self explanatory.</p>\n<p>• Secondly I switched out <code>inputAns.equals(&quot;Yes&quot;)</code> and <code>inputAns.equals(&quot;NO&quot;)</code> with <code>inputAns.equalsIgnoreCase(&quot;yes&quot;)</code> and <code>inputAns.equalsIgnoreCase(&quot;no&quot;)</code> which allows the user to type &quot;yes&quot; in anyway they want even &quot;YeS&quot;.</p>\n<p>• Next I implemented <code>new Random().nextInt(100) + 1</code> which is probably a better way to generate random numbers. <a href=\"https://stackoverflow.com/q/738629/17820402\">Here's a cool little question</a> you might want to consider checking out if you wanna know more about this.</p>\n<p>• I also checked what exception is thrown using <code>instanceof</code> so this allows you to manage more exceptions which you may find helpful later on.</p>\n<p>I haven't in general changed a lot of your code except for removing <code>num</code> and <code>count</code> from your game method and making it a field. Now everytime you run the game method the count does not change it does only when you restart the game.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700785948,"creation_date":1700785948,"answer_id":77540166,"question_id":77536566,"body_markdown":"&gt; _&quot;... how to restart the program from the same number of attempts after I accidentally press a button with a string text. ...&quot;_\r\n\r\nHere is an example.\r\n\r\n```java\r\nimport static java.lang.System.out;\r\n```\r\n\r\n```java\r\nRandom r = new Random();\r\nScanner in = new Scanner(System.in);\r\nString s;\r\nint v = r.nextInt(1, 101), g, t = 0;\r\nboolean exit = false;\r\ndo {\r\n    out.print(&quot;guess:  &quot;);\r\n    s = in.nextLine();\r\n    try {\r\n        if (s.isBlank()) throw new Exception();\r\n        g = Integer.parseInt(s);\r\n        if (g != v) {\r\n            out.print(&quot;wrong&quot;);\r\n            if (++t != 10) out.printf(&quot;, %s tries remaining%n&quot;, 10 - t);\r\n            else exit = true;\r\n        }\r\n        else {\r\n            out.println(&quot;correct&quot;);\r\n            exit = true;\r\n        }\r\n    } catch (Exception e) {\r\n        out.printf(&quot;invalid input &#39;%s&#39;, try again%n&quot;, s);\r\n    }\r\n} while (!exit);\r\n```","title":"How to start a Java program from where it was left after an error","body":"<blockquote>\n<p><em>&quot;... how to restart the program from the same number of attempts after I accidentally press a button with a string text. ...&quot;</em></p>\n</blockquote>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.lang.System.out;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Random r = new Random();\nScanner in = new Scanner(System.in);\nString s;\nint v = r.nextInt(1, 101), g, t = 0;\nboolean exit = false;\ndo {\n    out.print(&quot;guess:  &quot;);\n    s = in.nextLine();\n    try {\n        if (s.isBlank()) throw new Exception();\n        g = Integer.parseInt(s);\n        if (g != v) {\n            out.print(&quot;wrong&quot;);\n            if (++t != 10) out.printf(&quot;, %s tries remaining%n&quot;, 10 - t);\n            else exit = true;\n        }\n        else {\n            out.println(&quot;correct&quot;);\n            exit = true;\n        }\n    } catch (Exception e) {\n        out.printf(&quot;invalid input '%s', try again%n&quot;, s);\n    }\n} while (!exit);\n</code></pre>\n"}],"owner":{"account_id":23794349,"reputation":5,"user_id":17805418,"display_name":"Wahid Ahmad Rustaqi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700785948,"creation_date":1700739576,"question_id":77536566,"body_markdown":"In the program below, I created a simple number game that chooses a number between 1 and 100 and asks the user to guess the number. The user can continue guessing until they have made 10 attempts.\r\n\r\nWhen I run the program and input a string, the program throws a NumberFormatException. After clicking ‘OK’, I couldn’t find a way to handle this, so I called the ‘TryAgain’ method. What I want to know is how to restart the program from the same number of attempts after I accidentally press a button with a string text.\r\n\r\n```\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class NumberGame {\r\n\tstatic int scoreOfWins = 0; \r\n\tstatic int numberOfAttempt = 0;\r\n\tpublic static void main(String[] args) {\r\n\t\tGame();\r\n\t}\r\n\r\n\tstatic void Game() {\r\n\t\ttry {\r\n\t\t\tint num = (int) (Math.random() * 100);\r\n\t\t\tint count = 10;\r\n\t\t\twhile(count &gt; 0) {\r\n//\t\t\t\tSystem.out.println(num);\r\n\t\t\t\tString inputTitle = &quot;Guess the number between 1 to 100&quot;;\r\n\t\t\t\tString input = JOptionPane.showInputDialog(inputTitle, &quot;Enter your answer here...&quot;);\r\n\t\t\t\tif (input == null) {\r\n\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t}\r\n\t\t\t\tint intInput = Integer.parseInt(input);\r\n\t\t\t\tSystem.out.println(intInput);\r\n\t\t\t\tif (intInput == num) {\r\n\t\t\t\t\tnumberOfAttempt = 11 - count;\r\n\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;You win! Your guess was right after &quot; + numberOfAttempt + &quot; attempts&quot;);\r\n\t\t\t\t\tscoreOfWins++;\r\n\t\t\t\t\tTryAgain();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else if (intInput &gt; num) {\r\n\t\t\t\t\tString numberOfTimes = &quot; You can try &quot; + (count - 1) + &quot; times&quot;;\r\n\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Your guess was not right! Please try Again with a lower value.&quot; + numberOfTimes);\r\n\t\t\t\t\tcount--;\r\n\t\t\t\t} else if (intInput &lt; num){\r\n\t\t\t\t\tString numberOfTimes = &quot; You can try &quot; + (count - 1) + &quot; times&quot;;\r\n\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Your guess was not right! Please try Again with a higher value.&quot; + numberOfTimes);\r\n\t\t\t\t\tcount--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;You Lost the game!&quot;);\r\n\t\t\tTryAgain();\r\n\t\t} catch (Exception E) {\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;Number format exception detected, Please only input numbers!&quot;);\r\n\t\t\tTryAgain();\r\n\t\t}\r\n\t}\r\n\tstatic void TryAgain() {\r\n\t\twhile (true) {\r\n\t\t\tString inputAns = JOptionPane.showInputDialog(&quot;Type yes if you want to containue!&quot;\r\n\t\t\t\t\t+ &quot; Type No if you want to give up!&quot;, &quot;you won &quot; + scoreOfWins + &quot; times do you want to continue?&quot;);\r\n\t\t\tif (inputAns == null) {\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}\r\n\t\t\tinputAns = inputAns.toUpperCase();\r\n\t\t\tif (inputAns.equals(&quot;Y&quot;) | inputAns.equals(&quot;Yes&quot;)) {\r\n\t\t\t\tGame();\r\n\t\t\t} else if (inputAns.equals(&quot;N&quot;) |inputAns.equals(&quot;NO&quot;)) {\r\n\t\t\t\tJOptionPane.showMessageDialog(null, &quot;OKAY you won &quot; + scoreOfWins + &quot; times today, see you later!&quot;);\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Please provide a good valid identifier like Yes or NO&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How to start a Java program from where it was left after an error","body":"<p>In the program below, I created a simple number game that chooses a number between 1 and 100 and asks the user to guess the number. The user can continue guessing until they have made 10 attempts.</p>\n<p>When I run the program and input a string, the program throws a NumberFormatException. After clicking ‘OK’, I couldn’t find a way to handle this, so I called the ‘TryAgain’ method. What I want to know is how to restart the program from the same number of attempts after I accidentally press a button with a string text.</p>\n<pre><code>import javax.swing.JOptionPane;\n\npublic class NumberGame {\n    static int scoreOfWins = 0; \n    static int numberOfAttempt = 0;\n    public static void main(String[] args) {\n        Game();\n    }\n\n    static void Game() {\n        try {\n            int num = (int) (Math.random() * 100);\n            int count = 10;\n            while(count &gt; 0) {\n//              System.out.println(num);\n                String inputTitle = &quot;Guess the number between 1 to 100&quot;;\n                String input = JOptionPane.showInputDialog(inputTitle, &quot;Enter your answer here...&quot;);\n                if (input == null) {\n                    System.exit(0);\n                }\n                int intInput = Integer.parseInt(input);\n                System.out.println(intInput);\n                if (intInput == num) {\n                    numberOfAttempt = 11 - count;\n                    JOptionPane.showMessageDialog(null, &quot;You win! Your guess was right after &quot; + numberOfAttempt + &quot; attempts&quot;);\n                    scoreOfWins++;\n                    TryAgain();\n                    return;\n                } else if (intInput &gt; num) {\n                    String numberOfTimes = &quot; You can try &quot; + (count - 1) + &quot; times&quot;;\n                    JOptionPane.showMessageDialog(null, &quot;Your guess was not right! Please try Again with a lower value.&quot; + numberOfTimes);\n                    count--;\n                } else if (intInput &lt; num){\n                    String numberOfTimes = &quot; You can try &quot; + (count - 1) + &quot; times&quot;;\n                    JOptionPane.showMessageDialog(null, &quot;Your guess was not right! Please try Again with a higher value.&quot; + numberOfTimes);\n                    count--;\n                }\n            }\n            JOptionPane.showMessageDialog(null, &quot;You Lost the game!&quot;);\n            TryAgain();\n        } catch (Exception E) {\n            JOptionPane.showMessageDialog(null, &quot;Number format exception detected, Please only input numbers!&quot;);\n            TryAgain();\n        }\n    }\n    static void TryAgain() {\n        while (true) {\n            String inputAns = JOptionPane.showInputDialog(&quot;Type yes if you want to containue!&quot;\n                    + &quot; Type No if you want to give up!&quot;, &quot;you won &quot; + scoreOfWins + &quot; times do you want to continue?&quot;);\n            if (inputAns == null) {\n                System.exit(0);\n            }\n            inputAns = inputAns.toUpperCase();\n            if (inputAns.equals(&quot;Y&quot;) | inputAns.equals(&quot;Yes&quot;)) {\n                Game();\n            } else if (inputAns.equals(&quot;N&quot;) |inputAns.equals(&quot;NO&quot;)) {\n                JOptionPane.showMessageDialog(null, &quot;OKAY you won &quot; + scoreOfWins + &quot; times today, see you later!&quot;);\n                return;\n            } else {\n                JOptionPane.showMessageDialog(null, &quot;Please provide a good valid identifier like Yes or NO&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","enums","java-stream"],"answers":[{"tags":[],"owner":{"account_id":2334779,"reputation":2501,"user_id":4782919,"display_name":"RPresle"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1700770435,"creation_date":1700770435,"answer_id":77539423,"question_id":77539372,"body_markdown":"You can either add a method to your enum\r\n\r\n    public List&lt;String&gt; getValues() {\r\n        return values().map(service -&gt; service.value);\r\n    }\r\n    \r\nAnd then use `allMatch` like this\r\n\r\n    boolean b = listOfService.stream()\r\n        .allMatch(service -&gt; Service.getValues().contains(service))\r\n    \r\nsee [allMatch doc][1]\r\n\r\nYou can probably optimize the enum method by storing the list or using another comparison\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/stream-allmatch-java-examples/","title":"use java stream to validate if values ​in a list are found within an enum class","body":"<p>You can either add a method to your enum</p>\n<pre><code>public List&lt;String&gt; getValues() {\n    return values().map(service -&gt; service.value);\n}\n</code></pre>\n<p>And then use <code>allMatch</code> like this</p>\n<pre><code>boolean b = listOfService.stream()\n    .allMatch(service -&gt; Service.getValues().contains(service))\n</code></pre>\n<p>see <a href=\"https://www.geeksforgeeks.org/stream-allmatch-java-examples/\" rel=\"nofollow noreferrer\">allMatch doc</a></p>\n<p>You can probably optimize the enum method by storing the list or using another comparison</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700784404,"creation_date":1700780259,"answer_id":77539972,"question_id":77539372,"body_markdown":"&gt; _&quot;... I require a method that passes an arrayList of values, it is necessary to compare it with an enum and in case some of the values ​​in the list are not found in the enum, it returns false, ... I would like to do it via stream but I can&#39;t think of any ideas. ...&quot;_\r\n\r\nHere is an example, using a _[for-loop](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html)_.\r\n\r\n```java\r\nboolean validate(List&lt;String&gt; list) {\r\n    Service[] array = Service.values();\r\n    boolean b;\r\n    for (String x : list) {\r\n        b = false;\r\n        for (Service y : array)\r\n            if (x.equals(y.value)) {\r\n                b = true;\r\n                break;\r\n            }\r\n        if (!b) return false;\r\n    }\r\n    return true;\r\n}\r\n```\r\n\r\nAnd, here is an example, using an _[aggregate](https://docs.oracle.com/javase/tutorial/collections/streams/index.html)_.\r\n\r\n```java\r\nboolean validate(List&lt;String&gt; list) {\r\n    Service[] array = Service.values();\r\n    return list.stream()\r\n               .noneMatch(\r\n                   x -&gt; {\r\n                       for (Service y : array)\r\n                           if (x.equals(y.value)) return false;\r\n                       return true;\r\n                   });\r\n}\r\n```\r\n\r\nIt&#39;s worth noting, you&#39;re _enum_ _value_ is the same as the _[name](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Enum.html#name())_.\\\r\nIt might be easier, to simply use this value.\r\n\r\n```java\r\nif (x.equalsIgnoreCase(y.name()))\r\n```","title":"use java stream to validate if values ​in a list are found within an enum class","body":"<blockquote>\n<p><em>&quot;... I require a method that passes an arrayList of values, it is necessary to compare it with an enum and in case some of the values ​​in the list are not found in the enum, it returns false, ... I would like to do it via stream but I can't think of any ideas. ...&quot;</em></p>\n</blockquote>\n<p>Here is an example, using a <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">for-loop</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean validate(List&lt;String&gt; list) {\n    Service[] array = Service.values();\n    boolean b;\n    for (String x : list) {\n        b = false;\n        for (Service y : array)\n            if (x.equals(y.value)) {\n                b = true;\n                break;\n            }\n        if (!b) return false;\n    }\n    return true;\n}\n</code></pre>\n<p>And, here is an example, using an <em><a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/index.html\" rel=\"nofollow noreferrer\">aggregate</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean validate(List&lt;String&gt; list) {\n    Service[] array = Service.values();\n    return list.stream()\n               .noneMatch(\n                   x -&gt; {\n                       for (Service y : array)\n                           if (x.equals(y.value)) return false;\n                       return true;\n                   });\n}\n</code></pre>\n<p>It's worth noting, you're <em>enum</em> <em>value</em> is the same as the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Enum.html#name()\" rel=\"nofollow noreferrer\">name</a></em>.<br />\nIt might be easier, to simply use this value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (x.equalsIgnoreCase(y.name()))\n</code></pre>\n"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77539423,"answer_count":2,"score":-1,"last_activity_date":1700784404,"creation_date":1700769592,"question_id":77539372,"body_markdown":"Good afternoon\r\n\r\nI have a question, currently I require a method that passes an arrayList of values, it is necessary to compare it with an enum and in case some of the values ​​in the list are not found in the enum, it returns false, this as a validation method, I&#39;m thinking about how to do it, I would like to do it via stream but I can&#39;t think of any ideas.\r\n\r\n\r\nMy ArrayList is like the following:\r\n\r\n    List&lt;String&gt; listOfService = new ArrayList&lt;&gt;(Arrays.asList(&quot;mobile_postpaid&quot;, &quot;mobile_internet&quot;, &quot;sam&quot;));\r\n\r\nMy EnumClass\r\n\r\n    package org.tmve.customer.ms.beans.response;\r\n    import lombok.Getter;\r\n    @Getter\r\n    public enum Service {\r\n    \r\n        MOBILE_PREPAID(&quot;mobile_prepaid&quot;), MOBILE_POSTPAID(&quot;mobile_postpaid&quot;), VALUE_ADDED_SERVICE(&quot;value_added_service&quot;), MOBILE_INTERNET(&quot;mobile_internet&quot;), DTH(&quot;dth&quot;), LANDLINE(&quot;landline&quot;), AUTHENTICATION(&quot;authentication&quot;);\r\n    \r\n        private String value;\r\n    \r\n        Service(String value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n\r\nAs we can see in ListOfService comes the value of sam, which is not within the ENUM, so I would like a comparison method and in this case where sam is not found within the values ​​of enum Service, return false\r\n\r\n","title":"use java stream to validate if values ​in a list are found within an enum class","body":"<p>Good afternoon</p>\n<p>I have a question, currently I require a method that passes an arrayList of values, it is necessary to compare it with an enum and in case some of the values ​​in the list are not found in the enum, it returns false, this as a validation method, I'm thinking about how to do it, I would like to do it via stream but I can't think of any ideas.</p>\n<p>My ArrayList is like the following:</p>\n<pre><code>List&lt;String&gt; listOfService = new ArrayList&lt;&gt;(Arrays.asList(&quot;mobile_postpaid&quot;, &quot;mobile_internet&quot;, &quot;sam&quot;));\n</code></pre>\n<p>My EnumClass</p>\n<pre><code>package org.tmve.customer.ms.beans.response;\nimport lombok.Getter;\n@Getter\npublic enum Service {\n\n    MOBILE_PREPAID(&quot;mobile_prepaid&quot;), MOBILE_POSTPAID(&quot;mobile_postpaid&quot;), VALUE_ADDED_SERVICE(&quot;value_added_service&quot;), MOBILE_INTERNET(&quot;mobile_internet&quot;), DTH(&quot;dth&quot;), LANDLINE(&quot;landline&quot;), AUTHENTICATION(&quot;authentication&quot;);\n\n    private String value;\n\n    Service(String value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<p>As we can see in ListOfService comes the value of sam, which is not within the ENUM, so I would like a comparison method and in this case where sam is not found within the values ​​of enum Service, return false</p>\n"},{"tags":["java","spring","spring-boot","asynchronous"],"comments":[{"owner":{"account_id":1487895,"reputation":1115,"user_id":1395722,"accept_rate":90,"display_name":"a.l."},"score":0,"creation_date":1547475792,"post_id":54183189,"comment_id":95194950,"body_markdown":"Do you mind to post your source repo?","body":"Do you mind to post your source repo?"},{"owner":{"account_id":6300117,"reputation":1389,"user_id":4895033,"accept_rate":50,"display_name":"chaos"},"score":0,"creation_date":1547475952,"post_id":54183189,"comment_id":95195052,"body_markdown":"Sorry the code is not allowed to expose.","body":"Sorry the code is not allowed to expose."},{"owner":{"account_id":368650,"reputation":3742,"user_id":715592,"accept_rate":71,"display_name":"NullPointerException"},"score":1,"creation_date":1547475962,"post_id":54183189,"comment_id":95195058,"body_markdown":"You need to either change the name of the method which registers the bean as  `public Executor taskExecutor()` from `public Executor getAsyncExecutor()` or  name your bean as &quot;taskExecutor&quot; e.g. `@Bean(name = &quot;taskExecutor&quot;) public Executor getAsyncExecutor()`","body":"You need to either change the name of the method which registers the bean as  <code>public Executor taskExecutor()</code> from <code>public Executor getAsyncExecutor()</code> or  name your bean as &quot;taskExecutor&quot; e.g. <code>@Bean(name = &quot;taskExecutor&quot;) public Executor getAsyncExecutor()</code>"}],"answers":[{"tags":[],"owner":{"account_id":10849649,"reputation":34,"user_id":7977870,"display_name":"Ivan Jadric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547476418,"creation_date":1547476418,"answer_id":54183464,"question_id":54183189,"body_markdown":"Add a name to your bean annotation,  like `@Bean(name=&quot;taskExecutor&quot;)`. That should make your bean available under the name taskExecutor. By default it register a bean with name *methodName*. See here for reference [Spring Bean][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html","title":"Can&#39;t use @Async in spring boot","body":"<p>Add a name to your bean annotation,  like <code>@Bean(name=\"taskExecutor\")</code>. That should make your bean available under the name taskExecutor. By default it register a bean with name <em>methodName</em>. See here for reference <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html\" rel=\"nofollow noreferrer\">Spring Bean</a></p>\n"},{"comments":[{"owner":{"account_id":6300117,"reputation":1389,"user_id":4895033,"accept_rate":50,"display_name":"chaos"},"score":0,"creation_date":1547519491,"post_id":54184211,"comment_id":95211644,"body_markdown":"I made the AsyncConfigurer implements ApplicationContextAware interface. And use `Object getAsyncExecutor = applicationContext.getBean(&quot;getAsyncExecutor&quot;);` in the `setApplicationContext` method, but get no bean named getAsyncExecutor exception. And when I changed to use `String[] beanNamesForType = applicationContext.getBeanNamesForType(Executor.class);` but found the `beanNamesForType` is empty.","body":"I made the AsyncConfigurer implements ApplicationContextAware interface. And use <code>Object getAsyncExecutor = applicationContext.getBean(&quot;getAsyncExecutor&quot;);</code> in the <code>setApplicationContext</code> method, but get no bean named getAsyncExecutor exception. And when I changed to use <code>String[] beanNamesForType = applicationContext.getBeanNamesForType(Executor.class);</code> but found the <code>beanNamesForType</code> is empty."}],"tags":[],"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547478996,"creation_date":1547478996,"answer_id":54184211,"question_id":54183189,"body_markdown":"While the JavaBeans specification uses `get` (or `is`) prefixed to the name of a property for the getter method, Spring `@Bean` methods don&#39;t use that &quot;translation&quot; convention. The name of your executor bean is literally `getAsyncExecutor`; rename it to `taskExecutor`.","title":"Can&#39;t use @Async in spring boot","body":"<p>While the JavaBeans specification uses <code>get</code> (or <code>is</code>) prefixed to the name of a property for the getter method, Spring <code>@Bean</code> methods don't use that \"translation\" convention. The name of your executor bean is literally <code>getAsyncExecutor</code>; rename it to <code>taskExecutor</code>.</p>\n"},{"comments":[{"owner":{"account_id":6300117,"reputation":1389,"user_id":4895033,"accept_rate":50,"display_name":"chaos"},"score":0,"creation_date":1547519247,"post_id":54184663,"comment_id":95211599,"body_markdown":"I changed my code by refer to https://docs.spring.io/spring-framework/docs/5.1.4.RELEASE/javadoc-api/org/springframework/scheduling/annotation/EnableAsync.html. I&#39;ve edited my question and my code, but still don&#39;t work.","body":"I changed my code by refer to <a href=\"https://docs.spring.io/spring-framework/docs/5.1.4.RELEASE/javadoc-api/org/springframework/scheduling/annotation/EnableAsync.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/5.1.4.RELEASE/javadoc-a&zwnj;&#8203;pi/&hellip;</a>. I&#39;ve edited my question and my code, but still don&#39;t work."}],"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547480615,"creation_date":1547480615,"answer_id":54184663,"question_id":54183189,"body_markdown":"It appears that your `Application` is not a configuration class.\r\n\r\nPut the `@EnableAsync` either on the class that has the\r\n`@SpringBootApplciation` or on a class that is annotated with `@Configuration`.","title":"Can&#39;t use @Async in spring boot","body":"<p>It appears that your <code>Application</code> is not a configuration class.</p>\n\n<p>Put the <code>@EnableAsync</code> either on the class that has the\n<code>@SpringBootApplciation</code> or on a class that is annotated with <code>@Configuration</code>.</p>\n"}],"owner":{"account_id":6300117,"reputation":1389,"user_id":4895033,"accept_rate":50,"display_name":"chaos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9520,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1700784095,"creation_date":1547475277,"question_id":54183189,"body_markdown":"I want to use spring boot&#39;s Asynchronous mechanism, here is my code.\r\n\r\n    @Slf4j\r\n    @Configuration\r\n    @EnableAsync\r\n    public class AsyncConfig implements AsyncConfigurer {\r\n    \r\n        private static final int MAX_POOL_SIZE = 50;\r\n    \r\n        private static final int CORE_POOL_SIZE = 20;\r\n    \r\n        @Override\r\n        public Executor getAsyncExecutor() {\r\n            ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n            taskExecutor.setBeanName(&quot;taskExecutor&quot;);\r\n            taskExecutor.setMaxPoolSize(MAX_POOL_SIZE);\r\n            taskExecutor.setCorePoolSize(CORE_POOL_SIZE);\r\n            taskExecutor.setThreadNamePrefix(&quot;async-task-thread-pool&quot;);\r\n            taskExecutor.setWaitForTasksToCompleteOnShutdown(true);\r\n            taskExecutor.setAwaitTerminationSeconds(60 * 10);\r\n            taskExecutor.setRejectedExecutionHandler(\r\n                (r, executor) -&gt; log.warn(&quot;current thread pool is full, reject to invoke.&quot;));\r\n            taskExecutor.initialize();\r\n            return taskExecutor;\r\n        }\r\n    \r\n        @Override\r\n        public AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {\r\n            return (ex, method, params) -&gt;\r\n            {\r\n                log.error(&quot;invoke async method occurs error. method: {}, params: {}&quot;,\r\n                    method.getName(), JSON.toJSONString(params), ex);\r\n                throw new RuntimeException();\r\n            };\r\n        }\r\n    \r\n    }\r\n \r\nAnd I add the @Async annotation on another class&#39; method.\r\n\r\n```@Async(&quot;taskExecutor&quot;)\r\n@Override\r\npublic Future&lt;Result&gt; getResult(String name); \r\n```\r\nBut when I call the `getResult()` method, it report `No bean named &#39;taskExecutor&#39; available: No matching Executor bean found for qualifier &#39;taskExecutor&#39; - neither qualifier match nor bean name match!`.\r\n\r\nAnd then I find this page:[https://www.baeldung.com/spring-async][1]. I follow this page&#39;s guide - remove the `@EnableAsync` annotation on `Application.class` and add to the `AsyncConfig.class`. But still got the same error message.It seems that `setBeanName()` method doesn&#39;t effect. Is my usage wrong?\r\n\r\nBy the way, I&#39;ve read the api doc of `EnableAsync`, it writes \r\n\r\n&gt; &lt;p&gt;Note: In the above example the {@code ThreadPoolTaskExecutor} is not a fully managed Spring bean. Add the {@code @Bean} annotation to the {@code getAsyncExecutor()} method\r\n \r\n&gt; if you want a fully managed bean. In such circumstances it is no longer necessary to\r\nmanually call the {@code executor.initialize()} method as this will be invoked\r\nautomatically when the bean is initialized.\r\n\r\nWhat does the `not a fully managed Spring bean` mean? Which part of the bean not managed by Spring?\r\n  [1]: https://www.baeldung.com/spring-async","title":"Can&#39;t use @Async in spring boot","body":"<p>I want to use spring boot's Asynchronous mechanism, here is my code.</p>\n\n<pre><code>@Slf4j\n@Configuration\n@EnableAsync\npublic class AsyncConfig implements AsyncConfigurer {\n\n    private static final int MAX_POOL_SIZE = 50;\n\n    private static final int CORE_POOL_SIZE = 20;\n\n    @Override\n    public Executor getAsyncExecutor() {\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n        taskExecutor.setBeanName(\"taskExecutor\");\n        taskExecutor.setMaxPoolSize(MAX_POOL_SIZE);\n        taskExecutor.setCorePoolSize(CORE_POOL_SIZE);\n        taskExecutor.setThreadNamePrefix(\"async-task-thread-pool\");\n        taskExecutor.setWaitForTasksToCompleteOnShutdown(true);\n        taskExecutor.setAwaitTerminationSeconds(60 * 10);\n        taskExecutor.setRejectedExecutionHandler(\n            (r, executor) -&gt; log.warn(\"current thread pool is full, reject to invoke.\"));\n        taskExecutor.initialize();\n        return taskExecutor;\n    }\n\n    @Override\n    public AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {\n        return (ex, method, params) -&gt;\n        {\n            log.error(\"invoke async method occurs error. method: {}, params: {}\",\n                method.getName(), JSON.toJSONString(params), ex);\n            throw new RuntimeException();\n        };\n    }\n\n}\n</code></pre>\n\n<p>And I add the @Async annotation on another class' method.</p>\n\n<pre><code>@Override\npublic Future&lt;Result&gt; getResult(String name); \n</code></pre>\n\n<p>But when I call the <code>getResult()</code> method, it report <code>No bean named 'taskExecutor' available: No matching Executor bean found for qualifier 'taskExecutor' - neither qualifier match nor bean name match!</code>.</p>\n\n<p>And then I find this page:<a href=\"https://www.baeldung.com/spring-async\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-async</a>. I follow this page's guide - remove the <code>@EnableAsync</code> annotation on <code>Application.class</code> and add to the <code>AsyncConfig.class</code>. But still got the same error message.It seems that <code>setBeanName()</code> method doesn't effect. Is my usage wrong?</p>\n\n<p>By the way, I've read the api doc of <code>EnableAsync</code>, it writes </p>\n\n<blockquote>\n  <p><p>Note: In the above example the {@code ThreadPoolTaskExecutor} is not a fully managed Spring bean. Add the {@code @Bean} annotation to the {@code getAsyncExecutor()} method</p>\n  \n  <p>if you want a fully managed bean. In such circumstances it is no longer necessary to\n  manually call the {@code executor.initialize()} method as this will be invoked\n  automatically when the bean is initialized.</p>\n</blockquote>\n\n<p>What does the <code>not a fully managed Spring bean</code> mean? Which part of the bean not managed by Spring?</p>\n"},{"tags":["java","http","tomcat","ipc"],"comments":[{"owner":{"account_id":5403869,"reputation":451,"user_id":4302932,"display_name":"Secondo"},"score":0,"creation_date":1418693633,"post_id":27496096,"comment_id":43423954,"body_markdown":"Have you heard about JMS ? im not sure if jms is necessary tho.","body":"Have you heard about JMS ? im not sure if jms is necessary tho."},{"owner":{"account_id":4654175,"reputation":1091,"user_id":3770161,"display_name":"Fumu 7"},"score":0,"creation_date":1418694539,"post_id":27496096,"comment_id":43424149,"body_markdown":"What web-server program is running for third application? That is a web application, so it must have some server app. Why second application can not communicate with that web server of third application?","body":"What web-server program is running for third application? That is a web application, so it must have some server app. Why second application can not communicate with that web server of third application?"},{"owner":{"account_id":5211707,"reputation":21,"user_id":4167915,"display_name":"Sarah"},"score":0,"creation_date":1418713266,"post_id":27496096,"comment_id":43429234,"body_markdown":"The 3rd application is not hosted on any web server. It is a static application. We have a bunch of static HTML5 web pages, which use some Angular JS features.","body":"The 3rd application is not hosted on any web server. It is a static application. We have a bunch of static HTML5 web pages, which use some Angular JS features."},{"owner":{"account_id":5211707,"reputation":21,"user_id":4167915,"display_name":"Sarah"},"score":0,"creation_date":1418713572,"post_id":27496096,"comment_id":43429346,"body_markdown":"We dont need JMS, as we are not sending multiple messages one after another asynchronously. When we communicate, we send 1 message at a time.","body":"We dont need JMS, as we are not sending multiple messages one after another asynchronously. When we communicate, we send 1 message at a time."}],"owner":{"account_id":5211707,"reputation":21,"user_id":4167915,"display_name":"Sarah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1700784022,"creation_date":1418693256,"question_id":27496096,"body_markdown":"I am working on a task, that requires me to communicate with another applications on the same machine.\r\nthe machine is a Windows 7 laptop.\r\n\r\nThere are in total 3 applications on the laptop. Their specifications are given below:\r\n\r\n1. First application is coded in java and runs on a local Tomcat at port 6060\r\n\r\n2. Second application is coded in java and runs on Tomcat at port 8080\r\n\r\n3. Third application is coded in java and does not have Tomcat. It is a static web application.\r\n\r\nSince application 1 and 2 are running on Tomcat, I have used HTTP to communicate with each other. However, since they are on the same machine, is there any other way for them to communicate with each other?\r\n\r\nApplication 2 needs to communicate with application 3. What is the best way for this communication.\r\n\r\nPlease let me know if you require any further information to answer my queries.","title":"Communicate with another applications on the same machine","body":"<p>I am working on a task, that requires me to communicate with another applications on the same machine.\nthe machine is a Windows 7 laptop.</p>\n<p>There are in total 3 applications on the laptop. Their specifications are given below:</p>\n<ol>\n<li><p>First application is coded in java and runs on a local Tomcat at port 6060</p>\n</li>\n<li><p>Second application is coded in java and runs on Tomcat at port 8080</p>\n</li>\n<li><p>Third application is coded in java and does not have Tomcat. It is a static web application.</p>\n</li>\n</ol>\n<p>Since application 1 and 2 are running on Tomcat, I have used HTTP to communicate with each other. However, since they are on the same machine, is there any other way for them to communicate with each other?</p>\n<p>Application 2 needs to communicate with application 3. What is the best way for this communication.</p>\n<p>Please let me know if you require any further information to answer my queries.</p>\n"},{"tags":["java","c#","ipc"],"comments":[{"owner":{"account_id":66767,"reputation":7216,"user_id":195711,"accept_rate":47,"display_name":"kubal5003"},"score":0,"creation_date":1320450177,"post_id":8016964,"comment_id":9811442,"body_markdown":"Possible duplicate of:\nhttp://stackoverflow.com/questions/468198/consuming-a-net-library-via-com-or-direct-integration-in-java","body":"Possible duplicate of: <a href=\"http://stackoverflow.com/questions/468198/consuming-a-net-library-via-com-or-direct-integration-in-java\" title=\"consuming a net library via com or direct integration in java\">stackoverflow.com/questions/468198/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1019877,"reputation":41,"user_id":1030534,"display_name":"Patrick Toy"},"score":0,"creation_date":1320594676,"post_id":8016999,"comment_id":9827487,"body_markdown":"Thanks for the tips. The one i found most usable, among those which you listed, were the Named Pipes. Though, would it be an issue that the processes are in different computers? And as far as I read, there are no flow control protocols in it, are there?","body":"Thanks for the tips. The one i found most usable, among those which you listed, were the Named Pipes. Though, would it be an issue that the processes are in different computers? And as far as I read, there are no flow control protocols in it, are there?"}],"tags":[],"owner":{"account_id":25204,"reputation":22119,"user_id":64644,"accept_rate":100,"display_name":"Dylan Smith"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1320450067,"creation_date":1320450067,"answer_id":8016999,"question_id":8016964,"body_markdown":"One way to approach this is to look at it as a problem of interprocess communication.  There are a bunch of options (assuming Java has access to the necessary Windows API&#39;s which I&#39;m assuming it does, but I&#39;m not really a Java dev).\r\n\r\nNamed Pipes, TCP/IP, Filesystem, Mailslots, etc.\r\n\r\nHere&#39;s a good article on some options: [http://msdn.microsoft.com/en-us/library/windows/desktop/aa365574(v=vs.85).aspx][1]\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/windows/desktop/aa365574%28v=vs.85%29.aspx\r\n\r\nAnother option, which I don&#39;t know enough to speak about, is trying to load a .Net library into your java process.","title":"Communicate Java and C#","body":"<p>One way to approach this is to look at it as a problem of interprocess communication.  There are a bunch of options (assuming Java has access to the necessary Windows API's which I'm assuming it does, but I'm not really a Java dev).</p>\n\n<p>Named Pipes, TCP/IP, Filesystem, Mailslots, etc.</p>\n\n<p>Here's a good article on some options: <a href=\"http://msdn.microsoft.com/en-us/library/windows/desktop/aa365574%28v=vs.85%29.aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/windows/desktop/aa365574(v=vs.85).aspx</a></p>\n\n<p>Another option, which I don't know enough to speak about, is trying to load a .Net library into your java process.</p>\n"},{"tags":[],"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1330515964,"creation_date":1325499964,"answer_id":8699728,"question_id":8016964,"body_markdown":"Couldn&#39;t you use sockets?\r\nThey both do support it, but I never tried to do it between different languages.&lt;BR /&gt;\r\nGood luck.","title":"Communicate Java and C#","body":"<p>Couldn't you use sockets?\nThey both do support it, but I never tried to do it between different languages.<BR />\nGood luck.</p>\n"},{"tags":[],"owner":{"account_id":8509,"reputation":36469,"user_id":15393,"accept_rate":63,"display_name":"RB."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325500461,"creation_date":1325500461,"answer_id":8699805,"question_id":8016964,"body_markdown":"If you don&#39;t mind delving too deep you could use the Java Native Interface to generate code to marshall calls from Java to C# and back again. You&#39;d need to build a &quot;bridge&quot; in c/c++ (c++ is generally slightly easier). \r\n\r\nThis way you get in-process communication, which is the fastest way to work :-)","title":"Communicate Java and C#","body":"<p>If you don't mind delving too deep you could use the Java Native Interface to generate code to marshall calls from Java to C# and back again. You'd need to build a \"bridge\" in c/c++ (c++ is generally slightly easier). </p>\n\n<p>This way you get in-process communication, which is the fastest way to work :-)</p>\n"}],"owner":{"account_id":1019877,"reputation":41,"user_id":1030534,"display_name":"Patrick Toy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1546,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1700783293,"creation_date":1320449761,"question_id":8016964,"body_markdown":"I&#39;m working on a project that uses an RFID reader, which only works with a library in C#. The thing is I&#39;d really like to work with Java (develop the rest of the program, GUI, etc), and use the C# program just to ask the reader to read the information and return a string to the Java program.\r\n\r\nSo, is there a way I could do this?","title":"Communicate Java and C#","body":"<p>I'm working on a project that uses an RFID reader, which only works with a library in C#. The thing is I'd really like to work with Java (develop the rest of the program, GUI, etc), and use the C# program just to ask the reader to read the information and return a string to the Java program.</p>\n<p>So, is there a way I could do this?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":4,"creation_date":1312308384,"post_id":6916398,"comment_id":8238345,"body_markdown":"In Java you usually don&#39;t send messages between threads, but you use synchronized objects to pass values between threads.","body":"In Java you usually don&#39;t send messages between threads, but you use synchronized objects to pass values between threads."},{"owner":{"account_id":768412,"reputation":5255,"user_id":802778,"accept_rate":63,"display_name":"akshay"},"score":0,"creation_date":1312309236,"post_id":6916398,"comment_id":8238589,"body_markdown":"I synchronized instance variables as methoied in my new edit, will it work?","body":"I synchronized instance variables as methoied in my new edit, will it work?"},{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":1,"creation_date":1312310613,"post_id":6916398,"comment_id":8239021,"body_markdown":"@akshay You edit looks OK (except you meant `if (getFlag() == true)`).","body":"@akshay You edit looks OK (except you meant <code>if (getFlag() == true)</code>)."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1700783966,"post_id":6916398,"comment_id":136699064,"body_markdown":"Or better still `if (getFlag())`.  Using `flag == true` or `flag == false` to test a boolean is bad style, and it opens you up to the `if (flag = true)` mistake ..","body":"Or better still <code>if (getFlag())</code>.  Using <code>flag == true</code> or <code>flag == false</code> to test a boolean is bad style, and it opens you up to the <code>if (flag = true)</code> mistake .."}],"answers":[{"comments":[{"owner":{"account_id":768412,"reputation":5255,"user_id":802778,"accept_rate":63,"display_name":"akshay"},"score":0,"creation_date":1312308858,"post_id":6916488,"comment_id":8238481,"body_markdown":"queue is a instance variable of thread A.Now if Thread B will add some values in it at the time when thread A is retrieving it.will it  not be a problem?","body":"queue is a instance variable of thread A.Now if Thread B will add some values in it at the time when thread A is retrieving it.will it  not be a problem?"},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":1,"creation_date":1312309002,"post_id":6916488,"comment_id":8238518,"body_markdown":"@akshay: (1) `queue` doesn&#39;t have to be a member of `A` (I made it so simply as an illustration); (2) `BlockingQueue` is thread-safe, so either way there won&#39;t be a problem.","body":"@akshay: (1) <code>queue</code> doesn&#39;t have to be a member of <code>A</code> (I made it so simply as an illustration); (2) <code>BlockingQueue</code> is thread-safe, so either way there won&#39;t be a problem."},{"owner":{"account_id":2119556,"reputation":1809,"user_id":3187921,"display_name":"abalcerek"},"score":0,"creation_date":1487715459,"post_id":6916488,"comment_id":71907383,"body_markdown":"@NPE Should `queue` variable be marked as `volatile` as it is updated from other threads?","body":"@NPE Should <code>queue</code> variable be marked as <code>volatile</code> as it is updated from other threads?"},{"owner":{"account_id":1051720,"reputation":1538,"user_id":1055489,"accept_rate":40,"display_name":"Theodore Murdock"},"score":0,"creation_date":1501203695,"post_id":6916488,"comment_id":77687586,"body_markdown":"@abalcerek I would say `queue` should probably be final but definitely not volatile. The queue itself is not being regularly replaced, and it is not a primitive value that is being regularly changed. It is always a reference to the same object, so there&#39;s no need to load that reference from main memory every time it&#39;s needed.","body":"@abalcerek I would say <code>queue</code> should probably be final but definitely not volatile. The queue itself is not being regularly replaced, and it is not a primitive value that is being regularly changed. It is always a reference to the same object, so there&#39;s no need to load that reference from main memory every time it&#39;s needed."},{"owner":{"account_id":76898,"reputation":2279,"user_id":219843,"accept_rate":93,"display_name":"Ring"},"score":0,"creation_date":1555987342,"post_id":6916488,"comment_id":98275404,"body_markdown":"Can you explain why its important that this queue need to be blocking?","body":"Can you explain why its important that this queue need to be blocking?"},{"owner":{"account_id":1458162,"reputation":848,"user_id":1373232,"accept_rate":53,"display_name":"Nom1fan"},"score":0,"creation_date":1580545860,"post_id":6916488,"comment_id":106139510,"body_markdown":"Isn&#39;t `take()` more suited to this use case than `poll()`? Since `take()` is blocking, you don&#39;t need the `null` check.","body":"Isn&#39;t <code>take()</code> more suited to this use case than <code>poll()</code>? Since <code>take()</code> is blocking, you don&#39;t need the <code>null</code> check."},{"owner":{"account_id":153021,"reputation":8348,"user_id":367988,"accept_rate":71,"display_name":"Basil Musa"},"score":0,"creation_date":1595534396,"post_id":6916488,"comment_id":111516979,"body_markdown":"What&#39;s being done is achievable using a thread pool with a single thread configured (using newSingleThreadExecutor ). However, the queue is passed Runnable objects and not some MessageType instance, but this can be handled by having the Runnable object hold the variable to be processed.","body":"What&#39;s being done is achievable using a thread pool with a single thread configured (using newSingleThreadExecutor ). However, the queue is passed Runnable objects and not some MessageType instance, but this can be handled by having the Runnable object hold the variable to be processed."}],"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"comment_count":7,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1312308180,"creation_date":1312308180,"answer_id":6916488,"question_id":6916398,"body_markdown":"You could have a [`BlockingQueue`][1] of message objects. Other threads would place messages onto the queue. As part of the `while(true)` loop, thread `A` would [`poll`][2] the queue and process any messages that have arrived.\r\n\r\nIn code:\r\n\r\n    class A extends Thread{\r\n     List&lt;Object&gt;  objs = something ;//init it\r\n     BlockingQueue&lt;Message&gt; queue = new LinkedBlockingQueue&lt;Message&gt;();\r\n     void run(){\r\n         while(true){\r\n           Message msg;\r\n           while ((msg = queue.poll()) != null) {\r\n             // process msg\r\n           }\r\n           // do other stuff\r\n         }\r\n       }\r\n    }\r\n\r\nOther threads can now call `queue.put()` to send messages to thread `A`.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1,5.0/docs/api/java/util/concurrent/BlockingQueue.html\r\n  [2]: http://download.oracle.com/javase/1,5.0/docs/api/java/util/concurrent/LinkedBlockingQueue.html#poll()\r\n","title":"Communicating between two threads","body":"<p>You could have a <a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/util/concurrent/BlockingQueue.html\" rel=\"noreferrer\"><code>BlockingQueue</code></a> of message objects. Other threads would place messages onto the queue. As part of the <code>while(true)</code> loop, thread <code>A</code> would <a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/util/concurrent/LinkedBlockingQueue.html#poll()\" rel=\"noreferrer\"><code>poll</code></a> the queue and process any messages that have arrived.</p>\n\n<p>In code:</p>\n\n<pre><code>class A extends Thread{\n List&lt;Object&gt;  objs = something ;//init it\n BlockingQueue&lt;Message&gt; queue = new LinkedBlockingQueue&lt;Message&gt;();\n void run(){\n     while(true){\n       Message msg;\n       while ((msg = queue.poll()) != null) {\n         // process msg\n       }\n       // do other stuff\n     }\n   }\n}\n</code></pre>\n\n<p>Other threads can now call <code>queue.put()</code> to send messages to thread <code>A</code>.</p>\n"},{"tags":[],"owner":{"account_id":371054,"reputation":24474,"user_id":719363,"accept_rate":75,"display_name":"Alex Gitelman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1312308355,"creation_date":1312308355,"answer_id":6916518,"question_id":6916398,"body_markdown":"In a simplistic case you can add some instance variable to thread A class and have thread B set its value to indicate that thread A must clear its&#39; queues. In more advanced case you can use some queue of messages that both threads A and B can access. B would place a message there and A would read and act on it.\r\n\r\nIn all cases, access to variable or queue must be properly guarded for multiple threads access.  ","title":"Communicating between two threads","body":"<p>In a simplistic case you can add some instance variable to thread A class and have thread B set its value to indicate that thread A must clear its' queues. In more advanced case you can use some queue of messages that both threads A and B can access. B would place a message there and A would read and act on it.</p>\n\n<p>In all cases, access to variable or queue must be properly guarded for multiple threads access.  </p>\n"},{"comments":[{"owner":{"account_id":768412,"reputation":5255,"user_id":802778,"accept_rate":63,"display_name":"akshay"},"score":0,"creation_date":1312309405,"post_id":6916588,"comment_id":8238648,"body_markdown":"Will cause problem.As my for loop heavily uses objs , if its cleared suddently it will cause problem","body":"Will cause problem.As my for loop heavily uses objs , if its cleared suddently it will cause problem"},{"owner":{"account_id":334517,"reputation":487,"user_id":661020,"display_name":"Garvin"},"score":2,"creation_date":1312310176,"post_id":6916588,"comment_id":8238891,"body_markdown":"Your question had to do with how do you send a message to thread A so it can perform a desired action. My response was targeted directly at that. Did not go into thread safety as I assume you would be doing the appropriate checks (synchronization) in your code before clearing or reading anything.","body":"Your question had to do with how do you send a message to thread A so it can perform a desired action. My response was targeted directly at that. Did not go into thread safety as I assume you would be doing the appropriate checks (synchronization) in your code before clearing or reading anything."}],"tags":[],"owner":{"account_id":334517,"reputation":487,"user_id":661020,"display_name":"Garvin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1312308750,"creation_date":1312308750,"answer_id":6916588,"question_id":6916398,"body_markdown":"You should be able to add a method to class &quot;A&quot; that can be called elsewhere in your code. Just keep the reference to your instance of class &quot;A&quot; in an accessible place.\r\n\r\n    class A extends Thread{\r\n     List&lt;Object&gt;  objs = something ;//init it\r\n     void run(){\r\n       while(true){\r\n           //body which works on objs\r\n           //open receiving external message A should perform some action ie empty objs\r\n         }\r\n       }\r\n      void ChangeState()\r\n      {\r\n         //clear objs\r\n      } \r\n    }\r\n","title":"Communicating between two threads","body":"<p>You should be able to add a method to class \"A\" that can be called elsewhere in your code. Just keep the reference to your instance of class \"A\" in an accessible place.</p>\n\n<pre><code>class A extends Thread{\n List&lt;Object&gt;  objs = something ;//init it\n void run(){\n   while(true){\n       //body which works on objs\n       //open receiving external message A should perform some action ie empty objs\n     }\n   }\n  void ChangeState()\n  {\n     //clear objs\n  } \n}\n</code></pre>\n"}],"owner":{"account_id":768412,"reputation":5255,"user_id":802778,"accept_rate":63,"display_name":"akshay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49458,"favorite_count":0,"down_vote_count":1,"up_vote_count":26,"answer_count":3,"score":25,"last_activity_date":1700783011,"creation_date":1312307756,"question_id":6916398,"body_markdown":"I have a thread, `A` which has a list. List holds some objects. Now I want to design a mechanisim by which I can send some message to thread `A`.\r\n\r\n`Thread A` runs in a loop (it does not wait or sleep).\r\nSome other thread, `B`, sends some message to thread `A` and thread `A` empties all its queues.\r\n\r\nHow can I send messages between threads?\r\n\r\n    class A extends Thread {\r\n        List&lt;Object&gt; objs = something; //Init it\r\n        void run() {\r\n            while(true) {\r\n                //Body which works on objects.\r\n                //After receiving an external message, &quot;A&quot; should perform some action, for example, empty objects.\r\n            }\r\n        }\r\n    }\r\n\r\nEDIT:\r\nCan I do it like this?\r\n\r\n    class A extends Thread {\r\n        List&lt;Object&gt; objs = something; //Init it\r\n        Boolean flag = false;\r\n\r\n        public void setFlag(boolean value) {\r\n            synchronized(flag) {\r\n                this.flag = value;\r\n            }\r\n        }\r\n\r\n        public void getFlag() {\r\n            synchronized(flag) {\r\n                return this.flag;\r\n            }\r\n        }\r\n\r\n        void run() {\r\n            while(true) {\r\n                //Body which works on objects.\r\n                //After receiving an external message, A should perform some action, for example, empty objects.\r\n                if (getFlag == true)\r\n                    //Empty list\r\n            }\r\n        }\r\n    }\r\n","title":"Communicating between two threads","body":"<p>I have a thread, <code>A</code> which has a list. List holds some objects. Now I want to design a mechanisim by which I can send some message to thread <code>A</code>.</p>\n\n<p><code>Thread A</code> runs in a loop (it does not wait or sleep).\nSome other thread, <code>B</code>, sends some message to thread <code>A</code> and thread <code>A</code> empties all its queues.</p>\n\n<p>How can I send messages between threads?</p>\n\n<pre><code>class A extends Thread {\n    List&lt;Object&gt; objs = something; //Init it\n    void run() {\n        while(true) {\n            //Body which works on objects.\n            //After receiving an external message, \"A\" should perform some action, for example, empty objects.\n        }\n    }\n}\n</code></pre>\n\n<p>EDIT:\nCan I do it like this?</p>\n\n<pre><code>class A extends Thread {\n    List&lt;Object&gt; objs = something; //Init it\n    Boolean flag = false;\n\n    public void setFlag(boolean value) {\n        synchronized(flag) {\n            this.flag = value;\n        }\n    }\n\n    public void getFlag() {\n        synchronized(flag) {\n            return this.flag;\n        }\n    }\n\n    void run() {\n        while(true) {\n            //Body which works on objects.\n            //After receiving an external message, A should perform some action, for example, empty objects.\n            if (getFlag == true)\n                //Empty list\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","php","communication"],"comments":[{"owner":{"account_id":322149,"reputation":3217,"user_id":641418,"accept_rate":86,"display_name":"k to the z"},"score":0,"creation_date":1301681634,"post_id":5517156,"comment_id":6265236,"body_markdown":"Are you saying you want to use the same database with a php program and a java program?","body":"Are you saying you want to use the same database with a php program and a java program?"},{"owner":{"account_id":75273,"reputation":60170,"user_id":215966,"accept_rate":83,"display_name":"prodigitalson"},"score":0,"creation_date":1301681996,"post_id":5517156,"comment_id":6265311,"body_markdown":"If youre using the db essentially as a message transport layer then there isnt much of a sampel we can give you... you jsut need to access the database in each application and do whatever you need to do with the data. If you&#39;re having a specific problem edit the question with details about that problem.","body":"If youre using the db essentially as a message transport layer then there isnt much of a sampel we can give you... you jsut need to access the database in each application and do whatever you need to do with the data. If you&#39;re having a specific problem edit the question with details about that problem."},{"owner":{"account_id":110165,"reputation":1395,"user_id":291640,"display_name":"whoughton"},"score":0,"creation_date":1301682107,"post_id":5517156,"comment_id":6265346,"body_markdown":"Or if you&#39;re really just looking for a message queue, you could just use a message queueing system like activemq.","body":"Or if you&#39;re really just looking for a message queue, you could just use a message queueing system like activemq."}],"answers":[{"tags":[],"owner":{"account_id":204593,"reputation":5848,"user_id":452902,"accept_rate":100,"display_name":"devasia2112"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301683301,"creation_date":1301683301,"answer_id":5517479,"question_id":5517156,"body_markdown":"For sure.\r\nTake a look this, will help you:\r\n\r\nhttp://php-java-bridge.sourceforge.net/pjb/","title":"PHP to Java communication","body":"<p>For sure.\nTake a look this, will help you:</p>\n\n<p><a href=\"http://php-java-bridge.sourceforge.net/pjb/\" rel=\"nofollow\">http://php-java-bridge.sourceforge.net/pjb/</a></p>\n"},{"tags":[],"owner":{"account_id":292820,"reputation":594,"user_id":595810,"accept_rate":100,"display_name":"Daniel Cannon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301685958,"creation_date":1301685958,"answer_id":5517907,"question_id":5517156,"body_markdown":"Facebook developed [Thrift][1] for doing exactly what you are looking for.\r\n\r\nHope this helps\r\nDaniel\r\n\r\n  [1]: http://incubator.apache.org/thrift/","title":"PHP to Java communication","body":"<p>Facebook developed <a href=\"http://incubator.apache.org/thrift/\" rel=\"nofollow\">Thrift</a> for doing exactly what you are looking for.</p>\n\n<p>Hope this helps\nDaniel</p>\n"}],"owner":{"account_id":731489,"reputation":61,"user_id":686604,"display_name":"John"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1795,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1301690955,"answer_count":2,"score":5,"last_activity_date":1700782760,"creation_date":1301681471,"question_id":5517156,"body_markdown":"I want to use PHP to communicate with a java using shared database to communicate, please help me with sample code or logic.\r\n\r\nThank you.\r\n\r\nEDIT:\r\n\r\nI appreciate your suggestions, Yes I will be using both php and java to connect to thesame database.\r\n\r\nThe issue I&#39;m faced with is that I want to know, do I have to create generic command that will be used for the communication? I&#39;m trying to avoid dirty codes and ensure good programming techniques.","title":"PHP to Java communication","body":"<p>I want to use PHP to communicate with a java using shared database to communicate, please help me with sample code or logic.</p>\n\n<p>Thank you.</p>\n\n<p>EDIT:</p>\n\n<p>I appreciate your suggestions, Yes I will be using both php and java to connect to thesame database.</p>\n\n<p>The issue I'm faced with is that I want to know, do I have to create generic command that will be used for the communication? I'm trying to avoid dirty codes and ensure good programming techniques.</p>\n"},{"tags":["java","logging"],"comments":[{"owner":{"account_id":1765312,"reputation":463,"user_id":2335486,"accept_rate":29,"display_name":"Diablo"},"score":0,"creation_date":1482930996,"post_id":6889057,"comment_id":69926993,"body_markdown":"I believe, using log4j or slf4j will be cleaner than the suggested solutions in the answers. :)","body":"I believe, using log4j or slf4j will be cleaner than the suggested solutions in the answers. :)"}],"answers":[{"tags":[],"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1312110762,"creation_date":1312110762,"answer_id":6889095,"question_id":6889057,"body_markdown":"Some application servers implicitly log the thread ID (I know of WebSphere). You can create your own [LogFormatter][1]. The records passed to the formatter contain the Thread ID, see [here][2]. I implemented that approach for Tomcat several times, but it&#39;ll work in Java SE environments as well.\r\n\r\nBTW: The Thread name is not available to LogRecord.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/util/logging/Formatter.html\r\n  [2]: http://download.oracle.com/javase/1.4.2/docs/api/java/util/logging/LogRecord.html#getThreadID%28%29","title":"Printing thread name using java.util.logging","body":"<p>Some application servers implicitly log the thread ID (I know of WebSphere). You can create your own <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/util/logging/Formatter.html\" rel=\"nofollow\">LogFormatter</a>. The records passed to the formatter contain the Thread ID, see <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/util/logging/LogRecord.html#getThreadID%28%29\" rel=\"nofollow\">here</a>. I implemented that approach for Tomcat several times, but it'll work in Java SE environments as well.</p>\n\n<p>BTW: The Thread name is not available to LogRecord.</p>\n"},{"comments":[{"owner":{"account_id":406441,"reputation":32619,"user_id":775954,"accept_rate":85,"display_name":"Matthias Braun"},"score":0,"creation_date":1556370095,"post_id":6889151,"comment_id":98420307,"body_markdown":"It&#39;s true that `SimpleFormatter` does not use the thread ID. But [it&#39;s easy to define](https://stackoverflow.com/questions/6889057/printing-thread-name-using-java-util-logging/55880722#55880722) a custom formatter and get the thread name via the thread ID. No need for embarrassment :-)","body":"It&#39;s true that <code>SimpleFormatter</code> does not use the thread ID. But <a href=\"https://stackoverflow.com/questions/6889057/printing-thread-name-using-java-util-logging/55880722#55880722\">it&#39;s easy to define</a> a custom formatter and get the thread name via the thread ID. No need for embarrassment :-)"}],"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1312111344,"creation_date":1312111344,"answer_id":6889151,"question_id":6889057,"body_markdown":"Embarrassingly, but looks like `java.util.logging` can&#39;t do this...\r\n\r\nThe default `java.util.logging.SimpleFormatter` doesn&#39;t have the ability to log thread name at all. The `java.util.logging.FileHandler` supports few template placeholders, none of them is thread name.\r\n\r\n`java.util.logging.XMLFormatter` is the closest one, but only logs thread id:\r\n\r\n\t&lt;record&gt;\r\n\t  &lt;date&gt;2011-07-31T13:15:32&lt;/date&gt;\r\n\t  &lt;millis&gt;1312110932680&lt;/millis&gt;\r\n\t  &lt;sequence&gt;0&lt;/sequence&gt;\r\n\t  &lt;logger&gt;&lt;/logger&gt;\r\n\t  &lt;level&gt;INFO&lt;/level&gt;\r\n\t  &lt;class&gt;java.util.logging.LogManager$RootLogger&lt;/class&gt;\r\n\t  &lt;method&gt;log&lt;/method&gt;\r\n\t  &lt;thread&gt;10&lt;/thread&gt;\r\n\t  &lt;message&gt;Test&lt;/message&gt;\r\n\t&lt;/record&gt;\r\n\r\nIf you think we&#39;re getting close - we&#39;re not. `LogRecord` class only holds the thread ID, not its name - not very useful. ","title":"Printing thread name using java.util.logging","body":"<p>Embarrassingly, but looks like <code>java.util.logging</code> can't do this...</p>\n\n<p>The default <code>java.util.logging.SimpleFormatter</code> doesn't have the ability to log thread name at all. The <code>java.util.logging.FileHandler</code> supports few template placeholders, none of them is thread name.</p>\n\n<p><code>java.util.logging.XMLFormatter</code> is the closest one, but only logs thread id:</p>\n\n<pre><code>&lt;record&gt;\n  &lt;date&gt;2011-07-31T13:15:32&lt;/date&gt;\n  &lt;millis&gt;1312110932680&lt;/millis&gt;\n  &lt;sequence&gt;0&lt;/sequence&gt;\n  &lt;logger&gt;&lt;/logger&gt;\n  &lt;level&gt;INFO&lt;/level&gt;\n  &lt;class&gt;java.util.logging.LogManager$RootLogger&lt;/class&gt;\n  &lt;method&gt;log&lt;/method&gt;\n  &lt;thread&gt;10&lt;/thread&gt;\n  &lt;message&gt;Test&lt;/message&gt;\n&lt;/record&gt;\n</code></pre>\n\n<p>If you think we're getting close - we're not. <code>LogRecord</code> class only holds the thread ID, not its name - not very useful. </p>\n"},{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1312117499,"creation_date":1312117499,"answer_id":6889643,"question_id":6889057,"body_markdown":"java.util.logging has many curious peculiarities. you can add a facade API to tweak its behaviors\r\n\r\n    public class Log\r\n\r\n        Logger logger;\r\n\r\n        static public Log of(Class clazz)\r\n            return new Log( Logger.getLogger( clazz.getName() ));\r\n\r\n        public void error(Throwable thrown, String msg, Object... params)\r\n        {\r\n            log(ERROR, thrown, msg, params);\r\n        }\r\n\r\n        void log(Level level, Throwable thrown, String msg, Object... params)\r\n        {\r\n            if( !logger.isLoggable(level) ) return;\r\n\r\n            // bolt on thread name somewhere\r\n            LogRecord record = new LogRecord(...);\r\n            record.setXxx(...);\r\n            ...\r\n            logger.log(record);\r\n        }\r\n        \r\n    ----\r\n\r\n    static final Log log = Log.of(Foo.class);\r\n    ....\r\n    log.error(...);\r\n\r\nPeople use java&#39;s logging mostly because they don&#39;t want to have 3rd party dependencies. That&#39;s also why they can&#39;t depend on existing logging facades like apache&#39;s or slf4j.","title":"Printing thread name using java.util.logging","body":"<p>java.util.logging has many curious peculiarities. you can add a facade API to tweak its behaviors</p>\n\n<pre><code>public class Log\n\n    Logger logger;\n\n    static public Log of(Class clazz)\n        return new Log( Logger.getLogger( clazz.getName() ));\n\n    public void error(Throwable thrown, String msg, Object... params)\n    {\n        log(ERROR, thrown, msg, params);\n    }\n\n    void log(Level level, Throwable thrown, String msg, Object... params)\n    {\n        if( !logger.isLoggable(level) ) return;\n\n        // bolt on thread name somewhere\n        LogRecord record = new LogRecord(...);\n        record.setXxx(...);\n        ...\n        logger.log(record);\n    }\n\n----\n\nstatic final Log log = Log.of(Foo.class);\n....\nlog.error(...);\n</code></pre>\n\n<p>People use java's logging mostly because they don't want to have 3rd party dependencies. That's also why they can't depend on existing logging facades like apache's or slf4j.</p>\n"},{"comments":[{"owner":{"account_id":72987,"reputation":3238,"user_id":210445,"accept_rate":70,"display_name":"pillingworth"},"score":12,"creation_date":1358503319,"post_id":7354800,"comment_id":20028786,"body_markdown":"Won&#39;t this put in the thread name of the thread calling the formatter and not the thread name of the thread that created the log entry? I guess they could be the same in some situations but there&#39;s no guarantee.","body":"Won&#39;t this put in the thread name of the thread calling the formatter and not the thread name of the thread that created the log entry? I guess they could be the same in some situations but there&#39;s no guarantee."}],"tags":[],"owner":{"account_id":84219,"reputation":4145,"user_id":235585,"accept_rate":68,"display_name":"l245c4l"},"comment_count":1,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1315517726,"creation_date":1315517726,"answer_id":7354800,"question_id":6889057,"body_markdown":"I had similar problem. As answered here https://stackoverflow.com/questions/5862077/how-to-align-log-messages-using-java-util-logging/5863139#5863139 you can extend `java.util.logging.Formatter` but instead getting `LogRecord#getThreadID()` you can get thread name by invoking `Thread.currentThread().getName()` like this:\r\n\r\n    public class MyLogFormatter extends Formatter\r\n    {\r\n\r\n\t    private static final MessageFormat messageFormat = new MessageFormat(&quot;[{3,date,hh:mm:ss} {2} {0} {5}]{4} \\n&quot;);\r\n\r\n\t    public MyLogFormatter()\r\n\t    {\r\n\t    \tsuper();\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public String format(LogRecord record)\r\n\t    {\r\n\t    \tObject[] arguments = new Object[6];\r\n\t    \targuments[0] = record.getLoggerName();\r\n\t    \targuments[1] = record.getLevel();\r\n\t    \targuments[2] = Thread.currentThread().getName();\r\n\t    \targuments[3] = new Date(record.getMillis());\r\n\t    \targuments[4] = record.getMessage();\r\n\t    \targuments[5] = record.getSourceMethodName();\r\n\t    \treturn messageFormat.format(arguments);\r\n\t    }\r\n\r\n    }\r\n","title":"Printing thread name using java.util.logging","body":"<p>I had similar problem. As answered here <a href=\"https://stackoverflow.com/questions/5862077/how-to-align-log-messages-using-java-util-logging/5863139#5863139\">How to align log messages using java.util.logging</a> you can extend <code>java.util.logging.Formatter</code> but instead getting <code>LogRecord#getThreadID()</code> you can get thread name by invoking <code>Thread.currentThread().getName()</code> like this:</p>\n\n<pre><code>public class MyLogFormatter extends Formatter\n{\n\n    private static final MessageFormat messageFormat = new MessageFormat(\"[{3,date,hh:mm:ss} {2} {0} {5}]{4} \\n\");\n\n    public MyLogFormatter()\n    {\n        super();\n    }\n\n    @Override\n    public String format(LogRecord record)\n    {\n        Object[] arguments = new Object[6];\n        arguments[0] = record.getLoggerName();\n        arguments[1] = record.getLevel();\n        arguments[2] = Thread.currentThread().getName();\n        arguments[3] = new Date(record.getMillis());\n        arguments[4] = record.getMessage();\n        arguments[5] = record.getSourceMethodName();\n        return messageFormat.format(arguments);\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":406441,"reputation":32619,"user_id":775954,"accept_rate":85,"display_name":"Matthias Braun"},"score":0,"creation_date":1556528899,"post_id":16739340,"comment_id":98456348,"body_markdown":"`LogRecord.getThreadID()` **does** return a meaningful thread ID. You can correlate the ID with the `Thread` object using, for example, [`Thread.getAllStackTraces`](https://stackoverflow.com/questions/6889057/printing-thread-name-using-java-util-logging/55880722#55880722).","body":"<code>LogRecord.getThreadID()</code> <b>does</b> return a meaningful thread ID. You can correlate the ID with the <code>Thread</code> object using, for example, <a href=\"https://stackoverflow.com/questions/6889057/printing-thread-name-using-java-util-logging/55880722#55880722\"><code>Thread.getAllStackTraces</code></a>."}],"tags":[],"owner":{"account_id":2812245,"reputation":3,"user_id":2418246,"display_name":"Johann Tienhaara"},"comment_count":1,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1369411958,"creation_date":1369411958,"answer_id":16739340,"question_id":6889057,"body_markdown":"A couple of the answers above suggest that LogRecord.getThreadId() returns a meaningful thread ID, and all we&#39;re missing is a way to correlate that to the thread&#39;s name.\r\n\r\nUnfortunately LogRecord.getThreadId() returns an int value which does not correspond to the long id of the thread which induced the log message.\r\n\r\nSo we cannot just use ManagementFactory.getThreadMXBean() to resolve the thread name.  It results in random thread names.\r\n\r\nIf you are certain that your Logging facility always formats in the same thread as the caller, then you can create a custom Formatter as proposed above, and call Thread.currentThread().getName().\r\n\r\nIt seems that a Logging facade or a third party library are the only completely safe options.\r\n","title":"Printing thread name using java.util.logging","body":"<p>A couple of the answers above suggest that LogRecord.getThreadId() returns a meaningful thread ID, and all we're missing is a way to correlate that to the thread's name.</p>\n\n<p>Unfortunately LogRecord.getThreadId() returns an int value which does not correspond to the long id of the thread which induced the log message.</p>\n\n<p>So we cannot just use ManagementFactory.getThreadMXBean() to resolve the thread name.  It results in random thread names.</p>\n\n<p>If you are certain that your Logging facility always formats in the same thread as the caller, then you can create a custom Formatter as proposed above, and call Thread.currentThread().getName().</p>\n\n<p>It seems that a Logging facade or a third party library are the only completely safe options.</p>\n"},{"comments":[{"owner":{"account_id":406441,"reputation":32619,"user_id":775954,"accept_rate":85,"display_name":"Matthias Braun"},"score":1,"creation_date":1556365484,"post_id":33386375,"comment_id":98419118,"body_markdown":"`Thread.currentThread()` is not necessarily the same thread as the one where the log message originated.","body":"<code>Thread.currentThread()</code> is not necessarily the same thread as the one where the log message originated."}],"tags":[],"owner":{"account_id":1834694,"reputation":1597,"user_id":1665301,"display_name":"Pedro Reis"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1446021804,"creation_date":1446021804,"answer_id":33386375,"question_id":6889057,"body_markdown":"To complement @l245c4l answer: Instead of using SimpleFormatter() use:\r\n\r\n    //fileHandler.setFormatter(new SimpleFormatter());\r\n    \r\n    class MyFormatter extends Formatter {\r\n        private final MessageFormat messageFormat = new MessageFormat(&quot;{0,date}, {0,time} {1} {2}: {3} [T:{4}] {5}\\n&quot;);\r\n                    \r\n        public String format(LogRecord record)\r\n        {\r\n            Object[] arguments = new Object[6];\r\n            arguments[0] = new Date( record.getMillis() );\r\n            arguments[1] = record.getSourceClassName();\r\n            arguments[2] = record.getSourceMethodName();\r\n            arguments[3] = record.getLevel();\r\n            arguments[4] = Long.toString( Thread.currentThread().getId() );\r\n            arguments[5] = record.getMessage();\r\n                        \r\n            return messageFormat.format(arguments);\r\n        }\r\n    }\r\n                \r\n    fileHandler.setFormatter( new MyFormatter() ); \r\n                \r\n    Logger myLogger = Logger.getLogger(&quot;&lt;LOGGER_NAME&gt;&quot;);\r\n    myLogger.addHandler(fileHandler);\r\n\r\nwhere `T:{4}` is the thread id (argument 4).","title":"Printing thread name using java.util.logging","body":"<p>To complement @l245c4l answer: Instead of using SimpleFormatter() use:</p>\n\n<pre><code>//fileHandler.setFormatter(new SimpleFormatter());\n\nclass MyFormatter extends Formatter {\n    private final MessageFormat messageFormat = new MessageFormat(\"{0,date}, {0,time} {1} {2}: {3} [T:{4}] {5}\\n\");\n\n    public String format(LogRecord record)\n    {\n        Object[] arguments = new Object[6];\n        arguments[0] = new Date( record.getMillis() );\n        arguments[1] = record.getSourceClassName();\n        arguments[2] = record.getSourceMethodName();\n        arguments[3] = record.getLevel();\n        arguments[4] = Long.toString( Thread.currentThread().getId() );\n        arguments[5] = record.getMessage();\n\n        return messageFormat.format(arguments);\n    }\n}\n\nfileHandler.setFormatter( new MyFormatter() ); \n\nLogger myLogger = Logger.getLogger(\"&lt;LOGGER_NAME&gt;\");\nmyLogger.addHandler(fileHandler);\n</code></pre>\n\n<p>where <code>T:{4}</code> is the thread id (argument 4).</p>\n"},{"tags":[],"owner":{"account_id":406441,"reputation":32619,"user_id":775954,"accept_rate":85,"display_name":"Matthias Braun"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1700782135,"creation_date":1556369524,"answer_id":55880722,"question_id":6889057,"body_markdown":"# With a custom [`Formatter`](https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/Formatter.html)\r\n\r\nLuckily, [`LogRecord`](https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogRecord.html) contains the ID of the thread that produced the log message. We can get hold of this `LogRecord` when writing a custom `Formatter`. Once we have that, we only need to get the thread name via its ID.\r\n\r\nThere are [a couple of ways](https://stackoverflow.com/questions/1323408/get-a-list-of-all-threads-currently-running-in-java/3018672) to get the [`Thread`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html) object corresponding to that ID, here&#39;s mine:\r\n\r\n\r\n    static Optional&lt;Thread&gt; getThread(long threadId) {\r\n        return Thread.getAllStackTraces().keySet().stream()\r\n                .filter(t -&gt; t.getId() == threadId)\r\n                .findFirst();\r\n    }\r\n\r\nThe following is a minimal `Formatter` that only prints the thread name and the log message:\r\n\r\n    private static Formatter getMinimalFormatter() {\r\n        return new Formatter() {\r\n\r\n            @Override\r\n            public String format(LogRecord record) {\r\n\r\n                int threadId = record.getThreadID();\r\n                String threadName = getThread(threadId)\r\n                        .map(Thread::getName)\r\n                        .orElseGet(() -&gt; &quot;Thread with ID &quot; + threadId);\r\n\r\n                return threadName + &quot;: &quot; + record.getMessage() + &quot;\\n&quot;;\r\n            }\r\n        };\r\n    }\r\n\r\nTo use your custom formatter, there are again [different options](https://www.logicbig.com/tutorials/core-java-tutorial/logging/customizing-default-format.html), one way is to modify the default `ConsoleHandler`:\r\n\r\n    public static void main(final String... args) {\r\n\r\n        getDefaultConsoleHandler().ifPresentOrElse(\r\n                consoleHandler -&gt; consoleHandler.setFormatter(getMinimalFormatter()),\r\n                () -&gt; System.err.println(&quot;Could not get default ConsoleHandler&quot;));\r\n\r\n        Logger log = Logger.getLogger(MyClass.class.getName());\r\n        log.info(&quot;Hello from the main thread&quot;);\r\n        SwingUtilities.invokeLater(() -&gt; log.info(&quot;Hello from the event dispatch thread&quot;));\r\n    }\r\n\r\n    static Optional&lt;Handler&gt; getDefaultConsoleHandler() {\r\n        // All the loggers inherit configuration from the root logger. See:\r\n        // https://docs.oracle.com/javase/8/docs/technotes/guides/logging/overview.html#a1.3\r\n        var rootLogger = Logger.getLogger(&quot;&quot;)\r\n        // The root logger&#39;s first handler is the default ConsoleHandler\r\n        return first(Arrays.asList(rootLogger.getHandlers()));\r\n    }\r\n\r\n    static &lt;T&gt; Optional&lt;T&gt; first(List&lt;T&gt; list) {\r\n        return list.isEmpty() ?\r\n                Optional.empty() :\r\n                Optional.ofNullable(list.get(0));\r\n    }\r\n\r\nYour minimal `Formatter` should then produce the following log messages containing the thread name:\r\n\r\n&gt; main: Hello from the main thread\r\n\r\nand\r\n\r\n&gt; AWT-EventQueue-0: Hello from the event dispatch thread\r\n\r\n---\r\n\r\nThis is a `Formatter` that shows how to log more than thread name and log message:\r\n\r\n    private static Formatter getCustomFormatter() {\r\n        return new Formatter() {\r\n\r\n            @Override\r\n            public String format(LogRecord record) {\r\n\r\n                var dateTime = ZonedDateTime.ofInstant(record.getInstant(), ZoneId.systemDefault());\r\n\r\n                int threadId = record.getThreadID();\r\n                String threadName = getThread(threadId)\r\n                        .map(Thread::getName)\r\n                        .orElse(&quot;Thread with ID &quot; + threadId);\r\n\r\n                // See also: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html\r\n                var formatString = &quot;%1$tF %1$tT %2$-7s [%3$s] %4$s.%5$s: %6$s %n%7$s&quot;;\r\n\r\n                return String.format(\r\n                        formatString,\r\n                        dateTime,\r\n                        record.getLevel().getName(),\r\n                        threadName,\r\n                        record.getSourceClassName(),\r\n                        record.getSourceMethodName(),\r\n                        record.getMessage(),\r\n                        stackTraceToString(record)\r\n                );\r\n            }\r\n        };\r\n    }\r\n\r\n    private static String stackTraceToString(LogRecord record) {\r\n        final String throwableAsString;\r\n        if (record.getThrown() != null) {\r\n            var stringWriter = new StringWriter();\r\n            var printWriter = new PrintWriter(stringWriter);\r\n            printWriter.println();\r\n            record.getThrown().printStackTrace(printWriter);\r\n            printWriter.close();\r\n            throwableAsString = stringWriter.toString();\r\n        } else {\r\n            throwableAsString = &quot;&quot;;\r\n        }\r\n        return throwableAsString;\r\n    }\r\n\r\n\r\nThat `Formatter` produces log messages like these:\r\n\r\n&gt;2019-04-27 13:21:01 INFO    [AWT-EventQueue-0] package.ClassName.method: The log message\r\n\r\n","title":"Printing thread name using java.util.logging","body":"<h1>With a custom <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/Formatter.html\" rel=\"nofollow noreferrer\"><code>Formatter</code></a></h1>\n<p>Luckily, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogRecord.html\" rel=\"nofollow noreferrer\"><code>LogRecord</code></a> contains the ID of the thread that produced the log message. We can get hold of this <code>LogRecord</code> when writing a custom <code>Formatter</code>. Once we have that, we only need to get the thread name via its ID.</p>\n<p>There are <a href=\"https://stackoverflow.com/questions/1323408/get-a-list-of-all-threads-currently-running-in-java/3018672\">a couple of ways</a> to get the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html\" rel=\"nofollow noreferrer\"><code>Thread</code></a> object corresponding to that ID, here's mine:</p>\n<pre><code>static Optional&lt;Thread&gt; getThread(long threadId) {\n    return Thread.getAllStackTraces().keySet().stream()\n            .filter(t -&gt; t.getId() == threadId)\n            .findFirst();\n}\n</code></pre>\n<p>The following is a minimal <code>Formatter</code> that only prints the thread name and the log message:</p>\n<pre><code>private static Formatter getMinimalFormatter() {\n    return new Formatter() {\n\n        @Override\n        public String format(LogRecord record) {\n\n            int threadId = record.getThreadID();\n            String threadName = getThread(threadId)\n                    .map(Thread::getName)\n                    .orElseGet(() -&gt; &quot;Thread with ID &quot; + threadId);\n\n            return threadName + &quot;: &quot; + record.getMessage() + &quot;\\n&quot;;\n        }\n    };\n}\n</code></pre>\n<p>To use your custom formatter, there are again <a href=\"https://www.logicbig.com/tutorials/core-java-tutorial/logging/customizing-default-format.html\" rel=\"nofollow noreferrer\">different options</a>, one way is to modify the default <code>ConsoleHandler</code>:</p>\n<pre><code>public static void main(final String... args) {\n\n    getDefaultConsoleHandler().ifPresentOrElse(\n            consoleHandler -&gt; consoleHandler.setFormatter(getMinimalFormatter()),\n            () -&gt; System.err.println(&quot;Could not get default ConsoleHandler&quot;));\n\n    Logger log = Logger.getLogger(MyClass.class.getName());\n    log.info(&quot;Hello from the main thread&quot;);\n    SwingUtilities.invokeLater(() -&gt; log.info(&quot;Hello from the event dispatch thread&quot;));\n}\n\nstatic Optional&lt;Handler&gt; getDefaultConsoleHandler() {\n    // All the loggers inherit configuration from the root logger. See:\n    // https://docs.oracle.com/javase/8/docs/technotes/guides/logging/overview.html#a1.3\n    var rootLogger = Logger.getLogger(&quot;&quot;)\n    // The root logger's first handler is the default ConsoleHandler\n    return first(Arrays.asList(rootLogger.getHandlers()));\n}\n\nstatic &lt;T&gt; Optional&lt;T&gt; first(List&lt;T&gt; list) {\n    return list.isEmpty() ?\n            Optional.empty() :\n            Optional.ofNullable(list.get(0));\n}\n</code></pre>\n<p>Your minimal <code>Formatter</code> should then produce the following log messages containing the thread name:</p>\n<blockquote>\n<p>main: Hello from the main thread</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>AWT-EventQueue-0: Hello from the event dispatch thread</p>\n</blockquote>\n<hr />\n<p>This is a <code>Formatter</code> that shows how to log more than thread name and log message:</p>\n<pre><code>private static Formatter getCustomFormatter() {\n    return new Formatter() {\n\n        @Override\n        public String format(LogRecord record) {\n\n            var dateTime = ZonedDateTime.ofInstant(record.getInstant(), ZoneId.systemDefault());\n\n            int threadId = record.getThreadID();\n            String threadName = getThread(threadId)\n                    .map(Thread::getName)\n                    .orElse(&quot;Thread with ID &quot; + threadId);\n\n            // See also: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html\n            var formatString = &quot;%1$tF %1$tT %2$-7s [%3$s] %4$s.%5$s: %6$s %n%7$s&quot;;\n\n            return String.format(\n                    formatString,\n                    dateTime,\n                    record.getLevel().getName(),\n                    threadName,\n                    record.getSourceClassName(),\n                    record.getSourceMethodName(),\n                    record.getMessage(),\n                    stackTraceToString(record)\n            );\n        }\n    };\n}\n\nprivate static String stackTraceToString(LogRecord record) {\n    final String throwableAsString;\n    if (record.getThrown() != null) {\n        var stringWriter = new StringWriter();\n        var printWriter = new PrintWriter(stringWriter);\n        printWriter.println();\n        record.getThrown().printStackTrace(printWriter);\n        printWriter.close();\n        throwableAsString = stringWriter.toString();\n    } else {\n        throwableAsString = &quot;&quot;;\n    }\n    return throwableAsString;\n}\n</code></pre>\n<p>That <code>Formatter</code> produces log messages like these:</p>\n<blockquote>\n<p>2019-04-27 13:21:01 INFO    [AWT-EventQueue-0] package.ClassName.method: The log message</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":17505775,"reputation":3076,"user_id":12695027,"display_name":"Scratte"},"score":1,"creation_date":1594884347,"post_id":62929324,"comment_id":111284044,"body_markdown":"I was under the impression that it was best to not let constructors throw exceptions, as per [Be wary of letting constructors throw exceptions](https://wiki.sei.cmu.edu/confluence/display/java/OBJ11-J.+Be+wary+of+letting+constructors+throw+exceptions)","body":"I was under the impression that it was best to not let constructors throw exceptions, as per <a href=\"https://wiki.sei.cmu.edu/confluence/display/java/OBJ11-J.+Be+wary+of+letting+constructors+throw+exceptions\" rel=\"nofollow noreferrer\">Be wary of letting constructors throw exceptions</a>"},{"owner":{"account_id":19089494,"reputation":1,"user_id":13940058,"display_name":"Shanmugavel"},"score":0,"creation_date":1594885989,"post_id":62929324,"comment_id":111284933,"body_markdown":"I do agree on that. Thanks for pointing it out @Scratte","body":"I do agree on that. Thanks for pointing it out @Scratte"}],"tags":[],"owner":{"account_id":19089494,"reputation":1,"user_id":13940058,"display_name":"Shanmugavel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594885847,"creation_date":1594883231,"answer_id":62929324,"question_id":6889057,"body_markdown":"As mentioned in the previous answers, LogRecord only has the ThreadID information and you have to iterate over the thread list to get the thread name.\r\nSuprisingly enough, the thread might not be alive at the time the Logger logs the message in some cases.\r\n\r\nWhat i suggest is to write a Wrapper which will allow you to send the thread name along with the message itself.\r\n\r\n    package com.sun.experiments.java.logging;\r\n    \r\n        import java.util.logging.Level;\r\n        \r\n        public class ThreadLogger {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\tLogger log = Logger.getLogger(ThreadLogger.class.getName());//Invokes the static method of the below Logger class\r\n        \t\tlog.log(Level.INFO, &quot;Logging main message&quot;);\r\n        \t\tnew Thread(()-&gt; {Logger.getLogger(ThreadLogger.class.getName());log.log(Level.INFO, &quot;Logging thread message&quot;);}).start();\r\n        \t}\r\n        \r\n        \tpublic static class Logger{\r\n        \t\tprivate final java.util.logging.Logger log;\r\n        \t\tprivate Logger() {\tlog = null;}//Shouldn&#39;t use this. The log is initialized to null and thus it will generate Null Pointer exception when accessing methods using it.\r\n        \t\tprivate Logger(String name) {\r\n        \t\t\tlog = java.util.logging.Logger.getLogger(name);\r\n        \t\t}\t\r\n        \t\tprivate static Logger getLogger(String name) {\r\n        \t\t\treturn new Logger(name);\r\n        \t\t}\r\n        \t\tpublic void log(Level level,String message)\r\n        \t\t{\r\n        \t\t\tmessage = &quot;[&quot;+Thread.currentThread().getName()+&quot;]: &quot;+message;\r\n        \t\t\tlog.log(level,message);\r\n        \t\t}\r\n        \t\tpublic void log(Level level,String message,Throwable e)\r\n        \t\t{\r\n        \t\t\tmessage = &quot;[&quot;+Thread.currentThread().getName()+&quot;]: &quot;+message;\r\n        \t\t\tlog.log(level,message,e);\r\n        \t\t}\r\n        \t}\r\n        }\r\n\r\n\r\nAnd the output will be :\r\n\r\n    Jul 16, 2020 12:06:24 PM com.sun.experiments.java.logging.ThreadLogger$Logger log\r\n    INFO: [main]:     Logging main message\r\n    Jul 16, 2020 12:06:24 PM com.sun.experiments.java.logging.ThreadLogger$Logger log\r\n    INFO: [Thread-1]: Logging thread message\r\n\r\nInstead of extending the entire Logger class i went for wrapping it, as i don&#39;t want to override all the methods. I only require a few methods.","title":"Printing thread name using java.util.logging","body":"<p>As mentioned in the previous answers, LogRecord only has the ThreadID information and you have to iterate over the thread list to get the thread name.\nSuprisingly enough, the thread might not be alive at the time the Logger logs the message in some cases.</p>\n<p>What i suggest is to write a Wrapper which will allow you to send the thread name along with the message itself.</p>\n<pre><code>package com.sun.experiments.java.logging;\n\n    import java.util.logging.Level;\n    \n    public class ThreadLogger {\n    \n        public static void main(String[] args) {\n            Logger log = Logger.getLogger(ThreadLogger.class.getName());//Invokes the static method of the below Logger class\n            log.log(Level.INFO, &quot;Logging main message&quot;);\n            new Thread(()-&gt; {Logger.getLogger(ThreadLogger.class.getName());log.log(Level.INFO, &quot;Logging thread message&quot;);}).start();\n        }\n    \n        public static class Logger{\n            private final java.util.logging.Logger log;\n            private Logger() {  log = null;}//Shouldn't use this. The log is initialized to null and thus it will generate Null Pointer exception when accessing methods using it.\n            private Logger(String name) {\n                log = java.util.logging.Logger.getLogger(name);\n            }   \n            private static Logger getLogger(String name) {\n                return new Logger(name);\n            }\n            public void log(Level level,String message)\n            {\n                message = &quot;[&quot;+Thread.currentThread().getName()+&quot;]: &quot;+message;\n                log.log(level,message);\n            }\n            public void log(Level level,String message,Throwable e)\n            {\n                message = &quot;[&quot;+Thread.currentThread().getName()+&quot;]: &quot;+message;\n                log.log(level,message,e);\n            }\n        }\n    }\n</code></pre>\n<p>And the output will be :</p>\n<pre><code>Jul 16, 2020 12:06:24 PM com.sun.experiments.java.logging.ThreadLogger$Logger log\nINFO: [main]:     Logging main message\nJul 16, 2020 12:06:24 PM com.sun.experiments.java.logging.ThreadLogger$Logger log\nINFO: [Thread-1]: Logging thread message\n</code></pre>\n<p>Instead of extending the entire Logger class i went for wrapping it, as i don't want to override all the methods. I only require a few methods.</p>\n"}],"owner":{"account_id":124368,"reputation":568,"user_id":319413,"accept_rate":88,"display_name":"Majid Alfifi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25785,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":6889151,"answer_count":8,"score":19,"last_activity_date":1700782135,"creation_date":1312110252,"question_id":6889057,"body_markdown":"Is it possible to print the thread name in the log statements generated by `java.util.logging.Logger`?\r\n\r\nOne alternative is to do something like the following:\r\n\r\n    logger.info(thread.getName() + &quot; some useful info&quot;);\r\n\r\nbut it&#39;s repetitive and the logging framework should handle it.\r\n\r\n","title":"Printing thread name using java.util.logging","body":"<p>Is it possible to print the thread name in the log statements generated by <code>java.util.logging.Logger</code>?</p>\n\n<p>One alternative is to do something like the following:</p>\n\n<pre><code>logger.info(thread.getName() + \" some useful info\");\n</code></pre>\n\n<p>but it's repetitive and the logging framework should handle it.</p>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"answers":[{"comments":[{"owner":{"display_name":"anon"},"score":0,"creation_date":1700816689,"post_id":77540012,"comment_id":136702006,"body_markdown":"Thanks Tyutyutyu for the answer. I added your component to my codebase. But when I go to `/`, it redirects me to `/login` with a white screen on Chrome, and it downloads an empty file on Safari. Instead of letting me go to `/` with `dev-user`.","body":"Thanks Tyutyutyu for the answer. I added your component to my codebase. But when I go to <code>&#47;</code>, it redirects me to <code>&#47;login</code> with a white screen on Chrome, and it downloads an empty file on Safari. Instead of letting me go to <code>&#47;</code> with <code>dev-user</code>."}],"tags":[],"owner":{"account_id":451021,"reputation":181,"user_id":846668,"display_name":"Tyutyutyu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700781170,"creation_date":1700781170,"answer_id":77540012,"question_id":77536279,"body_markdown":"This is just a minimal example:\r\n\r\n```java\r\npackage com.stackoverflow.question77536279;\r\n\r\nimport jakarta.servlet.Filter;\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletRequest;\r\nimport jakarta.servlet.ServletResponse;\r\nimport org.springframework.context.annotation.Profile;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.Set;\r\n\r\n@Component\r\n@Profile(&quot;dev&quot;)\r\npublic class AutoLoginFilter implements Filter {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) {\r\n\r\n        var securityContext = SecurityContextHolder.getContext();\r\n        if (securityContext.getAuthentication() != null &amp;&amp; !securityContext.getAuthentication().isAuthenticated()) {\r\n            securityContext.setAuthentication(\r\n                    new UsernamePasswordAuthenticationToken(\r\n                            &quot;dev-user&quot;,\r\n                            &quot;dev-password&quot;,\r\n                            Set.of(new SimpleGrantedAuthority(&quot;ADMIN&quot;))\r\n                    )\r\n            );\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis can do the trick, but if you will not exclude this class from your production build, anyone who can modify the starup parameters can activate this component which is a big security hole.\r\n","title":"Authenticate users automatically without asking credential in development mode","body":"<p>This is just a minimal example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverflow.question77536279;\n\nimport jakarta.servlet.Filter;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletRequest;\nimport jakarta.servlet.ServletResponse;\nimport org.springframework.context.annotation.Profile;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.stereotype.Component;\n\nimport java.util.Set;\n\n@Component\n@Profile(&quot;dev&quot;)\npublic class AutoLoginFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) {\n\n        var securityContext = SecurityContextHolder.getContext();\n        if (securityContext.getAuthentication() != null &amp;&amp; !securityContext.getAuthentication().isAuthenticated()) {\n            securityContext.setAuthentication(\n                    new UsernamePasswordAuthenticationToken(\n                            &quot;dev-user&quot;,\n                            &quot;dev-password&quot;,\n                            Set.of(new SimpleGrantedAuthority(&quot;ADMIN&quot;))\n                    )\n            );\n        }\n    }\n\n}\n</code></pre>\n<p>This can do the trick, but if you will not exclude this class from your production build, anyone who can modify the starup parameters can activate this component which is a big security hole.</p>\n"}],"owner":{"display_name":"anon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1700781170,"creation_date":1700736635,"question_id":77536279,"body_markdown":"I have a Spring REST API (which I simplified to a minimal reproducible example) secured with Spring Security as follows.\r\n\r\nSecurity config:\r\n```java\r\npackage com.example.demo;\r\n\r\n// Imports...\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .formLogin((form) -&gt; form\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .permitAll()\r\n                )\r\n                .logout((logout) -&gt; logout.permitAll());\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        UserDetails user =\r\n                User.withDefaultPasswordEncoder()\r\n                        .username(&quot;user&quot;)\r\n                        .password(&quot;password&quot;)\r\n                        .roles(&quot;USER&quot;)\r\n                        .build();\r\n\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n}\r\n```\r\nMVC config:\r\n```java\r\npackage com.example.demo;\r\n\r\n// Imports ...\r\n\r\n@Configuration\r\npublic class MvcConfig implements WebMvcConfigurer {\r\n\r\n    public void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addViewController(&quot;/login&quot;).setViewName(&quot;login&quot;);\r\n    }\r\n\r\n}\r\n```\r\nThe controller code:\r\n```java\r\n@RestController\r\npublic class DemoController {\r\n    @GetMapping(&quot;/&quot;)\r\n    public String home (Authentication auth){\r\n        return &quot;Hello &quot; + auth.getName();\r\n    }\r\n}\r\n```\r\nLogin page:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Spring Security Example &lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div th:if=&quot;${param.error}&quot;&gt;\r\n    Invalid username and password.\r\n&lt;/div&gt;\r\n&lt;div th:if=&quot;${param.logout}&quot;&gt;\r\n    You have been logged out.\r\n&lt;/div&gt;\r\n&lt;form th:action=&quot;@{/login}&quot; method=&quot;post&quot;&gt;\r\n    &lt;div&gt;&lt;label&gt; User Name : &lt;input type=&quot;text&quot; name=&quot;username&quot;/&gt; &lt;/label&gt;&lt;/div&gt;\r\n    &lt;div&gt;&lt;label&gt; Password: &lt;input type=&quot;password&quot; name=&quot;password&quot;/&gt; &lt;/label&gt;&lt;/div&gt;\r\n    &lt;div&gt;&lt;input type=&quot;submit&quot; value=&quot;Sign In&quot;/&gt;&lt;/div&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nMy `build.gradle.kts`:\r\n\r\n```\r\nplugins {\r\n\tjava\r\n\tid(&quot;org.springframework.boot&quot;) version &quot;3.1.5&quot;\r\n\tid(&quot;io.spring.dependency-management&quot;) version &quot;1.1.3&quot;\r\n}\r\n\r\ngroup = &quot;com.example&quot;\r\nversion = &quot;0.0.1-SNAPSHOT&quot;\r\n\r\njava {\r\n\tsourceCompatibility = JavaVersion.VERSION_17\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation (&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n\timplementation (&quot;org.springframework.boot:spring-boot-starter-thymeleaf&quot;)\r\n\timplementation (&quot;org.springframework.boot:spring-boot-starter-security&quot;)\r\n\timplementation (&quot;org.thymeleaf.extras:thymeleaf-extras-springsecurity6:3.1.1.RELEASE&quot;)\r\n\timplementation (&quot;org.springframework.security:spring-security-test&quot;)\r\n\ttestImplementation (&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n}\r\n\r\n\r\ntasks.withType&lt;Test&gt; {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\ntasks.bootBuildImage {\r\n\tbuilder.set(&quot;paketobuildpacks/builder-jammy-base:latest&quot;)\r\n}\r\n```\r\n\r\nWhat I want to achieve is to authenticate users in development mode without having to go to the login page (provide a user with code in some `@Profile(&quot;dev&quot;)` marked component). In a way that my Controller code does not have to change. Is that possible?","title":"Authenticate users automatically without asking credential in development mode","body":"<p>I have a Spring REST API (which I simplified to a minimal reproducible example) secured with Spring Security as follows.</p>\n<p>Security config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\n// Imports...\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((requests) -&gt; requests\n                        .anyRequest().authenticated()\n                )\n                .formLogin((form) -&gt; form\n                        .loginPage(&quot;/login&quot;)\n                        .permitAll()\n                )\n                .logout((logout) -&gt; logout.permitAll());\n\n        return http.build();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        UserDetails user =\n                User.withDefaultPasswordEncoder()\n                        .username(&quot;user&quot;)\n                        .password(&quot;password&quot;)\n                        .roles(&quot;USER&quot;)\n                        .build();\n\n        return new InMemoryUserDetailsManager(user);\n    }\n}\n</code></pre>\n<p>MVC config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\n// Imports ...\n\n@Configuration\npublic class MvcConfig implements WebMvcConfigurer {\n\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(&quot;/login&quot;).setViewName(&quot;login&quot;);\n    }\n\n}\n</code></pre>\n<p>The controller code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class DemoController {\n    @GetMapping(&quot;/&quot;)\n    public String home (Authentication auth){\n        return &quot;Hello &quot; + auth.getName();\n    }\n}\n</code></pre>\n<p>Login page:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Spring Security Example &lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div th:if=&quot;${param.error}&quot;&gt;\n    Invalid username and password.\n&lt;/div&gt;\n&lt;div th:if=&quot;${param.logout}&quot;&gt;\n    You have been logged out.\n&lt;/div&gt;\n&lt;form th:action=&quot;@{/login}&quot; method=&quot;post&quot;&gt;\n    &lt;div&gt;&lt;label&gt; User Name : &lt;input type=&quot;text&quot; name=&quot;username&quot;/&gt; &lt;/label&gt;&lt;/div&gt;\n    &lt;div&gt;&lt;label&gt; Password: &lt;input type=&quot;password&quot; name=&quot;password&quot;/&gt; &lt;/label&gt;&lt;/div&gt;\n    &lt;div&gt;&lt;input type=&quot;submit&quot; value=&quot;Sign In&quot;/&gt;&lt;/div&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>My <code>build.gradle.kts</code>:</p>\n<pre><code>plugins {\n    java\n    id(&quot;org.springframework.boot&quot;) version &quot;3.1.5&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.3&quot;\n}\n\ngroup = &quot;com.example&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_17\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation (&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation (&quot;org.springframework.boot:spring-boot-starter-thymeleaf&quot;)\n    implementation (&quot;org.springframework.boot:spring-boot-starter-security&quot;)\n    implementation (&quot;org.thymeleaf.extras:thymeleaf-extras-springsecurity6:3.1.1.RELEASE&quot;)\n    implementation (&quot;org.springframework.security:spring-security-test&quot;)\n    testImplementation (&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n}\n\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n\ntasks.bootBuildImage {\n    builder.set(&quot;paketobuildpacks/builder-jammy-base:latest&quot;)\n}\n</code></pre>\n<p>What I want to achieve is to authenticate users in development mode without having to go to the login page (provide a user with code in some <code>@Profile(&quot;dev&quot;)</code> marked component). In a way that my Controller code does not have to change. Is that possible?</p>\n"},{"tags":["java","android","wear-os","watch","samsung-mobile"],"answers":[{"tags":[],"owner":{"account_id":29978598,"reputation":1,"user_id":22974163,"display_name":"morgan smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700781106,"creation_date":1700781106,"answer_id":77540008,"question_id":77234571,"body_markdown":"One of the way to do is to use the Health Connect described at : https://developer.android.com/health-and-fitness/guides/health-connect/develop/get-started\r\nThis way you can retrieve the health data. \r\nI am looking for an alternate option of retrieving the heart rate data using Health services on wear os. Stuck at transferring the data from wear os to mobile app.","title":"How to retrieve the health data from samsung watch via mobile application?","body":"<p>One of the way to do is to use the Health Connect described at : <a href=\"https://developer.android.com/health-and-fitness/guides/health-connect/develop/get-started\" rel=\"nofollow noreferrer\">https://developer.android.com/health-and-fitness/guides/health-connect/develop/get-started</a>\nThis way you can retrieve the health data.\nI am looking for an alternate option of retrieving the heart rate data using Health services on wear os. Stuck at transferring the data from wear os to mobile app.</p>\n"}],"owner":{"account_id":29433973,"reputation":1,"user_id":22553152,"display_name":"Toni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700781106,"creation_date":1696485878,"question_id":77234571,"body_markdown":"I have to work on a task in which i have to retrieve the health data from the samsung watch, but i don&#39;t know from where i can start. I have a lot of questions;\r\n1. Can i directly fetch the data from the samsung watch with a custom application?\r\n2. I need to create two applications, one for the watch and second for the mobile?\r\n3. From where i can get the samsung sdk?\r\n\r\n\r\n\r\n```\r\nimplementation &#39;com.google.android.libraries.healthdata:health-data-api:1.1.0-alpha01&#39;\r\nimplementation group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;30.1.1-jre&#39;\r\nimplementation &#39;com.google.android.gms:play-services-wearable:17.1.0&#39;\r\nimplementation files(&#39;libs/samsung-health-service-v1.4.0.jar&#39;)\r\nimplementation files(&#39;libs/sdk-v1.0.0.jar&#39;)\r\n```\r\nbut when i am trying below dependency to implement getting error \r\nimplementation &#39;com.samsung.android.sdk.healthdata: 1.0.5&#39;\r\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:app:debugCompileClasspath&#39;.\r\n\r\n","title":"How to retrieve the health data from samsung watch via mobile application?","body":"<p>I have to work on a task in which i have to retrieve the health data from the samsung watch, but i don't know from where i can start. I have a lot of questions;</p>\n<ol>\n<li>Can i directly fetch the data from the samsung watch with a custom application?</li>\n<li>I need to create two applications, one for the watch and second for the mobile?</li>\n<li>From where i can get the samsung sdk?</li>\n</ol>\n<pre><code>implementation 'com.google.android.libraries.healthdata:health-data-api:1.1.0-alpha01'\nimplementation group: 'com.google.guava', name: 'guava', version: '30.1.1-jre'\nimplementation 'com.google.android.gms:play-services-wearable:17.1.0'\nimplementation files('libs/samsung-health-service-v1.4.0.jar')\nimplementation files('libs/sdk-v1.0.0.jar')\n</code></pre>\n<p>but when i am trying below dependency to implement getting error\nimplementation 'com.samsung.android.sdk.healthdata: 1.0.5'\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':app:debugCompileClasspath'.</p>\n"},{"tags":["java","apache-flink","apache-beam","flink-streaming"],"owner":{"account_id":3506256,"reputation":1117,"user_id":2931745,"display_name":"Raman Yelianevich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700781104,"creation_date":1700781104,"question_id":77540007,"body_markdown":"We are using **Flink runner** **1.15** to launch streaming pipelines written using **Apache Beam 2.45**.\r\n\r\nFor the state backend we use `HashMapStateBackend` and checkpoints are saved to HDFS.\r\nUnaligned checkpoints are disabled and the pipeline checkpoints every 15 minutes.\r\n\r\nThe topology uses quite a lot of side inputs to enrich the main source - Kafka topic.\r\nEach side input is configured in a similar way. The side input reads the state once\r\non the initial startup into a default global window and never updates it.\r\n\r\nHere is code to create a view from files on HDFS\r\n```java\r\nPipeline pipeline = ...;\r\n\r\nPCollectionView&lt;LookupState&gt; view = pipeline\r\n        .apply(new ReadAvroFileFromHdfs(pipeline.getOptions()))\r\n        .apply(View.asSingleton());\r\n```\r\n\r\nWe create many views and perform lookups in a single transform.\r\n\r\nThe problematic part of the pipeline is on the picture below. There are 6 side inputs - with a broadcast title on the arrow.\r\nOn the top left side there is a Kafka source (KafkaIO) that is forwarding records\r\nto the enrichment operator (bottom-left square), which has 1 main input from Kafka and 6 side inputs.\r\n![flink-topology](https://i.stack.imgur.com/YFmLp.png)\r\n\r\nInitial launch of the pipeline checkpoints state of a constant size that never increases.\r\nIn case of a failure or a graceful restart, the pipeline starts from the last valid checkpoint.\r\nAfter a restart we observe growth of checkpoint size.\r\nThe enrichment operator state randomly multiplies 2x or 3x or 4x from the one in checkpoint, while the others don&#39;t. This issue is triggered, when parallelism is greater than 1, in this example it&#39;s 4.\r\n\r\nOn the graph below you can see change of the checkpoint size. Each change corresponds to a restart.\r\nWhen the size decreases, it means that the pipeline was started without initial state, because the pipeline fails with OOM error and cannot recover.[![checkpoint-size](https://i.stack.imgur.com/CIgzt.png)](https://i.stack.imgur.com/CIgzt.png)\r\n\r\nI checked the heap dump and I can see that the side input state has the same lookup object, produced by the view, multiple times, even though the side input is not read again on the startup.\r\n\r\n1. Is it a known bug in Flink/Beam?\r\n\r\n2. Does anyone know how this problem could investigated further?\r\n\r\nAs an experiment I changed the code to refresh side inputs according to the [Slowly updating global window side input pattern](https://beam.apache.org/documentation/patterns/side-inputs/#slowly-updating-global-window-side-inputs) and I observed that the refresh resets the state to the initial size, however, it&#39;s not feasible to refresh state often and it could not be used as a solution to the problem.\r\n\r\nI expect that after a restore from a checkpoint, next checkpoints won&#39;t multiply their size, assuming there is no any load on the pipeline.","title":"Apache Beam pipeline with FlinkRunner grow side input size when recovering from a checkpoint/savepoint untill OOM","body":"<p>We are using <strong>Flink runner</strong> <strong>1.15</strong> to launch streaming pipelines written using <strong>Apache Beam 2.45</strong>.</p>\n<p>For the state backend we use <code>HashMapStateBackend</code> and checkpoints are saved to HDFS.\nUnaligned checkpoints are disabled and the pipeline checkpoints every 15 minutes.</p>\n<p>The topology uses quite a lot of side inputs to enrich the main source - Kafka topic.\nEach side input is configured in a similar way. The side input reads the state once\non the initial startup into a default global window and never updates it.</p>\n<p>Here is code to create a view from files on HDFS</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pipeline pipeline = ...;\n\nPCollectionView&lt;LookupState&gt; view = pipeline\n        .apply(new ReadAvroFileFromHdfs(pipeline.getOptions()))\n        .apply(View.asSingleton());\n</code></pre>\n<p>We create many views and perform lookups in a single transform.</p>\n<p>The problematic part of the pipeline is on the picture below. There are 6 side inputs - with a broadcast title on the arrow.\nOn the top left side there is a Kafka source (KafkaIO) that is forwarding records\nto the enrichment operator (bottom-left square), which has 1 main input from Kafka and 6 side inputs.\n<img src=\"https://i.stack.imgur.com/YFmLp.png\" alt=\"flink-topology\" /></p>\n<p>Initial launch of the pipeline checkpoints state of a constant size that never increases.\nIn case of a failure or a graceful restart, the pipeline starts from the last valid checkpoint.\nAfter a restart we observe growth of checkpoint size.\nThe enrichment operator state randomly multiplies 2x or 3x or 4x from the one in checkpoint, while the others don't. This issue is triggered, when parallelism is greater than 1, in this example it's 4.</p>\n<p>On the graph below you can see change of the checkpoint size. Each change corresponds to a restart.\nWhen the size decreases, it means that the pipeline was started without initial state, because the pipeline fails with OOM error and cannot recover.<a href=\"https://i.stack.imgur.com/CIgzt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CIgzt.png\" alt=\"checkpoint-size\" /></a></p>\n<p>I checked the heap dump and I can see that the side input state has the same lookup object, produced by the view, multiple times, even though the side input is not read again on the startup.</p>\n<ol>\n<li><p>Is it a known bug in Flink/Beam?</p>\n</li>\n<li><p>Does anyone know how this problem could investigated further?</p>\n</li>\n</ol>\n<p>As an experiment I changed the code to refresh side inputs according to the <a href=\"https://beam.apache.org/documentation/patterns/side-inputs/#slowly-updating-global-window-side-inputs\" rel=\"nofollow noreferrer\">Slowly updating global window side input pattern</a> and I observed that the refresh resets the state to the initial size, however, it's not feasible to refresh state often and it could not be used as a solution to the problem.</p>\n<p>I expect that after a restore from a checkpoint, next checkpoints won't multiply their size, assuming there is no any load on the pipeline.</p>\n"},{"tags":["java","communication"],"comments":[{"owner":{"account_id":14611,"reputation":64769,"user_id":30225,"accept_rate":77,"display_name":"Preet Sangha"},"score":1,"creation_date":1325501065,"post_id":8699873,"comment_id":10823633,"body_markdown":"Please give details otherwise the question will be closed as vague. What you do you mean &#39;not on the same network? Why would you use sockets? What kind of communication two way - one way, reliable, secures etc etc? What is your aim? Details details details please","body":"Please give details otherwise the question will be closed as vague. What you do you mean &#39;not on the same network? Why would you use sockets? What kind of communication two way - one way, reliable, secures etc etc? What is your aim? Details details details please"},{"owner":{"account_id":439254,"reputation":10081,"user_id":828077,"accept_rate":62,"display_name":"Rajesh Pantula"},"score":0,"creation_date":1325501348,"post_id":8699873,"comment_id":10823706,"body_markdown":"please provide more specific problem and more details of the problem which you are having?","body":"please provide more specific problem and more details of the problem which you are having?"}],"answers":[{"comments":[{"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"score":0,"creation_date":1325501730,"post_id":8699977,"comment_id":10823805,"body_markdown":"Can&#39;t computers have the same names then (sockets are connected by hostname?)?\nOr can you use an IP-adress to?","body":"Can&#39;t computers have the same names then (sockets are connected by hostname?)? Or can you use an IP-adress to?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1325501899,"post_id":8699977,"comment_id":10823841,"body_markdown":"This is not what I was talking about, however computers can have the same names provided they have different domain names and different external IP addresses.  If you have two computers with the same addresses on the same local network, this is a mis-configured network.","body":"This is not what I was talking about, however computers can have the same names provided they have different domain names and different external IP addresses.  If you have two computers with the same addresses on the same local network, this is a mis-configured network."},{"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"score":0,"creation_date":1325502184,"post_id":8699977,"comment_id":10823892,"body_markdown":"&quot;You can use sockets to communicate with any other machine with an Internet connection&quot;\nSo you say that you can connect with Sockets by using an IP-adress to a computer that doesn&#39;t need to be in the same network?","body":"&quot;You can use sockets to communicate with any other machine with an Internet connection&quot; So you say that you can connect with Sockets by using an IP-adress to a computer that doesn&#39;t need to be in the same network?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1325502356,"post_id":8699977,"comment_id":10823925,"body_markdown":"If both computers can connect to the internet, they are on the same network (called the internet)","body":"If both computers can connect to the internet, they are on the same network (called the internet)"},{"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"score":0,"creation_date":1325529427,"post_id":8699977,"comment_id":10830527,"body_markdown":"oh, thx. But what constructor do I have to use? new Socket(ip, port) or are there no same names so I can use a host name?","body":"oh, thx. But what constructor do I have to use? new Socket(ip, port) or are there no same names so I can use a host name?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1325529624,"post_id":8699977,"comment_id":10830573,"body_markdown":"I would use `Socket(String hostOrIp, int port)` as you can use either a hostname or an IP address.","body":"I would use <code>Socket(String hostOrIp, int port)</code> as you can use either a hostname or an IP address."},{"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"score":0,"creation_date":1325592916,"post_id":8699977,"comment_id":10843038,"body_markdown":"Thanks for your help, I would never have thought the internet itself was a network","body":"Thanks for your help, I would never have thought the internet itself was a network"}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1325502047,"creation_date":1325501589,"answer_id":8699977,"question_id":8699873,"body_markdown":"To communicate between two machines, they have to be on the same extended network.  The only other option is to save data to external drives, e.g. USB drives, and you can attach to the second machine and up load.\r\n\r\nYou can use sockets to communicate with any other machine with an Internet connection, provided your firewall(s) and configured to allow the connection. The whole point of a firewall is to prevent unauthorised access.  I suspect this is your real problem. If your firewalls prevent access, you should not be able to get around this using Java (google network hacking for alternatives ;) \r\n\r\nAnother option is to use a service such as email if the two computers cannot talk to each other directly (they still have to be connected to the same network)  This is much more complex than using a direct connection but it can be done.\r\n\r\nI suggest instead you configure your firewall(s) correctly and you will be able to use plain Sockets.","title":"communicate with computer that isn&#39;t on the same network","body":"<p>To communicate between two machines, they have to be on the same extended network.  The only other option is to save data to external drives, e.g. USB drives, and you can attach to the second machine and up load.</p>\n\n<p>You can use sockets to communicate with any other machine with an Internet connection, provided your firewall(s) and configured to allow the connection. The whole point of a firewall is to prevent unauthorised access.  I suspect this is your real problem. If your firewalls prevent access, you should not be able to get around this using Java (google network hacking for alternatives ;) </p>\n\n<p>Another option is to use a service such as email if the two computers cannot talk to each other directly (they still have to be connected to the same network)  This is much more complex than using a direct connection but it can be done.</p>\n\n<p>I suggest instead you configure your firewall(s) correctly and you will be able to use plain Sockets.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325501717,"creation_date":1325501717,"answer_id":8699999,"question_id":8699873,"body_markdown":"You have to get the external IPs (there are sites which while visiting give you this IP), and hope that the firewall allows communication. Typically one should use a port above 1000.\r\nThere should be peer-to-peer libraries.\r\n\r\nAnother way is via SSH on one computer (JSch is one java library for SSH).\r\n\r\nThe easiest way is email exchange: the javax.mail API is compact but not the easiest. (Especially you could easily delete all mails, as I did once.)\r\n","title":"communicate with computer that isn&#39;t on the same network","body":"<p>You have to get the external IPs (there are sites which while visiting give you this IP), and hope that the firewall allows communication. Typically one should use a port above 1000.\nThere should be peer-to-peer libraries.</p>\n\n<p>Another way is via SSH on one computer (JSch is one java library for SSH).</p>\n\n<p>The easiest way is email exchange: the javax.mail API is compact but not the easiest. (Especially you could easily delete all mails, as I did once.)</p>\n"}],"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":8699977,"answer_count":2,"score":0,"last_activity_date":1700780747,"creation_date":1325500888,"question_id":8699873,"body_markdown":"&lt;BR /&gt;\r\nI want to communicate between two computers that aren&#39;t on the same network, i tried to use sockets, but I only found tutorials and examples for communicating in the same network.  \r\nI tried to search on stackoverflow, but I had no clear idea of what to search for.  \r\nI want to send text two-way (chat).  \r\n \r\n-edit- The thing is, it is to me vague what I have to use or do, so I can&#39;t be much clearer then to say I want to send two way text (perhaps date) for a chatapp, just to learn from.\r\n-edit-","title":"communicate with computer that isn&#39;t on the same network","body":"<p><BR />\nI want to communicate between two computers that aren't on the same network, i tried to use sockets, but I only found tutorials and examples for communicating in the same network.<br>\nI tried to search on stackoverflow, but I had no clear idea of what to search for.<br>\nI want to send text two-way (chat).  </p>\n\n<p>-edit- The thing is, it is to me vague what I have to use or do, so I can't be much clearer then to say I want to send two way text (perhaps date) for a chatapp, just to learn from.\n-edit-</p>\n"},{"tags":["java","database","swing","cloud","communication"],"answers":[{"comments":[{"owner":{"account_id":236549,"reputation":2564,"user_id":504112,"accept_rate":55,"display_name":"gumuruh"},"score":0,"creation_date":1326962158,"post_id":8889647,"comment_id":11164272,"body_markdown":"ya @Param, i think i should make this one. The Web Service API, isn&#39;t? \nBUt.... wouldn&#39;t dangerous? passing a series of Http Calls....","body":"ya @Param, i think i should make this one. The Web Service API, isn&#39;t?  BUt.... wouldn&#39;t dangerous? passing a series of Http Calls...."},{"owner":{"account_id":377095,"reputation":2440,"user_id":728971,"display_name":"Param"},"score":0,"creation_date":1326971475,"post_id":8889647,"comment_id":11167007,"body_markdown":"No, REST API is commonly used by many websites. E.g. twitter clients (desktop/mobile applications) interact with Twitter using REST API. However, you will have to add authentication to your web services. OAuth is commonly used to add authentication to REST services.","body":"No, REST API is commonly used by many websites. E.g. twitter clients (desktop/mobile applications) interact with Twitter using REST API. However, you will have to add authentication to your web services. OAuth is commonly used to add authentication to REST services."}],"tags":[],"owner":{"account_id":377095,"reputation":2440,"user_id":728971,"display_name":"Param"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1326774499,"creation_date":1326774499,"answer_id":8889647,"question_id":8889594,"body_markdown":"One way to implement this will be to have REST based API at the backend and your swing GUI interacting with that API using HTTP calls. You can use Apache&#39;s HTTPClient library for making HTTP calls.","title":"What and How the Java Swing concept related to Cloud?","body":"<p>One way to implement this will be to have REST based API at the backend and your swing GUI interacting with that API using HTTP calls. You can use Apache's HTTPClient library for making HTTP calls.</p>\n"},{"comments":[{"owner":{"account_id":236549,"reputation":2564,"user_id":504112,"accept_rate":55,"display_name":"gumuruh"},"score":0,"creation_date":1326962220,"post_id":8889688,"comment_id":11164281,"body_markdown":"hmmm... @trashgod, never tried that one. Is that more shorter time than making our own API for RestFul type of Web Service as mentioned below?","body":"hmmm... @trashgod, never tried that one. Is that more shorter time than making our own API for RestFul type of Web Service as mentioned below?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1326967462,"post_id":8889688,"comment_id":11165788,"body_markdown":"@gumuruh: JWS is a deployment strategy that complements REST. Note that a `PersistenceService` is available even in a restricted execution environment (sandbox).","body":"@gumuruh: JWS is a deployment strategy that complements REST. Note that a <code>PersistenceService</code> is available even in a restricted execution environment (sandbox)."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1326774786,"creation_date":1326774786,"answer_id":8889688,"question_id":8889594,"body_markdown":"Deploy your Swing application via [Java Web Start][1]. Running in a sandbox, &quot;the application may only connect to the host on which it resides.&quot;—[faq][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/tags/java-web-start/info\r\n  [2]: http://docs.oracle.com/javase/7/docs/technotes/guides/javaws/developersguide/faq.html#113","title":"What and How the Java Swing concept related to Cloud?","body":"<p>Deploy your Swing application via <a href=\"https://stackoverflow.com/tags/java-web-start/info\">Java Web Start</a>. Running in a sandbox, \"the application may only connect to the host on which it resides.\"—<a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/javaws/developersguide/faq.html#113\" rel=\"nofollow noreferrer\">faq</a>.</p>\n"},{"tags":[],"owner":{"account_id":1450812,"reputation":21,"user_id":1367814,"display_name":"user1367814"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345170177,"creation_date":1345170177,"answer_id":11999021,"question_id":8889594,"body_markdown":"If you application runs via Java WebStart, you can simply run a webserver on the cloud and deploy it there like you would on any other web server. The users of course would need to hava a JRE in order to be able to run it.\r\n\r\nAnother option, if you are looking for a truly thin HTML/JavaScript cloud based delivery, is AjaxSwing. It would [run your Swing application on the cloud][1] and convert the UI it at runtime to HTML/JavaScript, making it indistinguishable from any other cloud based software as a service.\r\n\r\n\r\n\r\n  [1]: http://www.creamtec.com/products/ajaxswing/solutions/deploy_desktop_applications_to_cloud.html","title":"What and How the Java Swing concept related to Cloud?","body":"<p>If you application runs via Java WebStart, you can simply run a webserver on the cloud and deploy it there like you would on any other web server. The users of course would need to hava a JRE in order to be able to run it.</p>\n\n<p>Another option, if you are looking for a truly thin HTML/JavaScript cloud based delivery, is AjaxSwing. It would <a href=\"http://www.creamtec.com/products/ajaxswing/solutions/deploy_desktop_applications_to_cloud.html\" rel=\"nofollow\">run your Swing application on the cloud</a> and convert the UI it at runtime to HTML/JavaScript, making it indistinguishable from any other cloud based software as a service.</p>\n"}],"owner":{"account_id":236549,"reputation":2564,"user_id":504112,"accept_rate":55,"display_name":"gumuruh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":725,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8889647,"answer_count":3,"score":1,"last_activity_date":1700780677,"creation_date":1326774044,"question_id":8889594,"body_markdown":"\r\nOne of my friend asking me something related to Client Software and Cloud.\r\nJava Desktop Swing as Client and Web as Data Resource (Database -1 single hosting). \r\nThat&#39;s the main thing I&#39;ve heard.\r\n\r\nIf there&#39;s a common java app used as a client how do the app communicate to the data resource (on the web)...? \r\n\r\nI answered with &quot;passing database Query&quot;, *Database Query* from Client to Web (Data Resource).\r\nBut, after I recalled it back, my method is dangerous. What is the safer thing to be done? Is it needed to create another app on the Web used as a bridge (API)?\r\n\r\n\r\nNeed advice on this matter.","title":"What and How the Java Swing concept related to Cloud?","body":"<p>One of my friend asking me something related to Client Software and Cloud.\nJava Desktop Swing as Client and Web as Data Resource (Database -1 single hosting). \nThat's the main thing I've heard.</p>\n\n<p>If there's a common java app used as a client how do the app communicate to the data resource (on the web)...? </p>\n\n<p>I answered with \"passing database Query\", <em>Database Query</em> from Client to Web (Data Resource).\nBut, after I recalled it back, my method is dangerous. What is the safer thing to be done? Is it needed to create another app on the Web used as a bridge (API)?</p>\n\n<p>Need advice on this matter.</p>\n"},{"tags":["java","swing","jfreechart"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1700904571,"post_id":77539988,"comment_id":136711272,"body_markdown":"This question contains too much code and too much reliance on third-party libraries for anyone to answer.  All I can say is be sure all of your Swing code is created and executed on the [Event Dispatch Thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html).  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"This question contains too much code and too much reliance on third-party libraries for anyone to answer.  All I can say is be sure all of your Swing code is created and executed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."}],"owner":{"account_id":12593361,"reputation":427,"user_id":9159094,"display_name":"NECben067"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700780583,"creation_date":1700780583,"question_id":77539988,"body_markdown":"I implemented a Java application (for learning purposes) that should visualize the scheduling of some employees doing tasks for customers. I have a starting JFrame that is my main Frame with 1) buttons that open new JFrames and 2) visualizes the tasks of the current day with a Jfreechart:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe first button is to manage employees (inserting new employees or deleting employees)\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe second button is to manage tasks (Assign new tasks to employees):\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThe next one is to search for tasks and the last one is to visualize the task of one day (a new Frame where you pick the date you want to visualize and after that open a new Frame that visualizes this day&#39;s tasks:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\nI have a MySQL Database where all the employee and task information are stored and fetched. Everything works fine, just some visualisation problems that I don&#39;t know how to fix. Now my problems: \r\n\r\n1) After I clicked a button on the main Frame, do my work and close the frame to get to my main frame again, the button I first clicked stays clicked. But not only that, after I hover over the other buttons they also look as if they are clicked:\r\n[![enter image description here][6]][6]\r\n\r\n2) On my gantt chart I configured Tooltips that sometimes are shown and sometimes not. I don&#39;t understand when it shows and why this is happening.\r\n\r\nHere are some of my classes. I assume that it has to do with the way I have implemented everything. I also don&#39;t know if it is right to do so much stuff in a button clicked event and if maybe this is causing it. I am waiting for your suggestions:\r\n\r\nmain Frame class:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.sql.*;\r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import javax.swing.*;\r\n    \r\n    import info.clearthought.layout.TableLayout;\r\n    import org.jfree.chart.ChartFactory;\r\n    import org.jfree.chart.ChartPanel;\r\n    import org.jfree.chart.JFreeChart;\r\n    import org.jfree.chart.labels.CategoryItemLabelGenerator;\r\n    import org.jfree.chart.labels.IntervalCategoryItemLabelGenerator;\r\n    import org.jfree.chart.labels.ItemLabelAnchor;\r\n    import org.jfree.chart.labels.ItemLabelPosition;\r\n    import org.jfree.chart.plot.CategoryPlot;\r\n    import org.jfree.chart.renderer.category.CategoryItemRenderer;\r\n    import org.jfree.data.category.CategoryDataset;\r\n    import org.jfree.data.category.IntervalCategoryDataset;\r\n    import org.jfree.data.gantt.Task;\r\n    import org.jfree.data.gantt.TaskSeries;\r\n    import org.jfree.data.gantt.TaskSeriesCollection;\r\n    import org.jfree.ui.TextAnchor;\r\n    \r\n    public class Schichtplanner extends JFrame {\r\n        private static final long serialVersionUID = 1L;\r\n        double busX[] = new double[]{SchichtplannerConstants.GUI_BORDER, 250, TableLayout.FILL};\r\n        double busY[] = new double[]{SchichtplannerConstants.GUI_BORDER, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, TableLayout.FILL};\r\n    \r\n        ArrayList&lt;Calendar&gt; auftragsBeginn, auftragsEnde;\r\n        ArrayList&lt;String&gt; auftragsAdresse, auftragsPLZ, mitarbeiterVorname, mitarbeiterNachname;\r\n        ArrayList&lt;Integer&gt; liegenschaftsnummer;\r\n    \r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    //System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1&quot;);\r\n                    try {\r\n                        Schichtplanner frame = new Schichtplanner();\r\n                        frame.setVisible(true);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        public Schichtplanner() throws ParseException {\r\n            //JFrame frame = new JFrame(&quot;Schichtplanner&quot;);\r\n            this.setTitle(&quot;Schichtplanungs-App&quot;);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n    \r\n            JPanel panelMain = new JPanel();\r\n            add(panelMain);\r\n    \r\n            panelMain.setLayout(new TableLayout(new double[][]{busX, busY}));\r\n    \r\n            JButton buttonMitarbeiterVerwalten = new JButton(&quot;Mitarbeiter verwalten&quot;);\r\n            panelMain.add(buttonMitarbeiterVerwalten, &quot;1,1,1,1&quot;); // Adds Button to content pane of frame\r\n            buttonMitarbeiterVerwalten.addActionListener( new ActionListener()\r\n            {\r\n                public void actionPerformed(ActionEvent e)\r\n                {\r\n                    MitarbeiterVerwalten mitarbeiterVerwaltenFrame = new MitarbeiterVerwalten();\r\n                }\r\n            });\r\n    \r\n            JButton buttonAuftragVerwalten = new JButton(&quot;Auftrag verwalten&quot;);\r\n            panelMain.add(buttonAuftragVerwalten, &quot;1,3,1,3&quot;); // Adds Button to content pane of frame\r\n            buttonAuftragVerwalten.addActionListener( new ActionListener()\r\n            {\r\n                public void actionPerformed(ActionEvent e)\r\n                {\r\n                    AuftragVerwalten auftragVerwaltenFrame = new AuftragVerwalten();\r\n                }\r\n            });\r\n    \r\n            JButton buttonSucheAuftrag = new JButton(&quot;Auftrag suchen&quot;);\r\n            panelMain.add(buttonSucheAuftrag, &quot;1,5,1,5&quot;); // Adds Button to content pane of frame\r\n            buttonSucheAuftrag.addActionListener( new ActionListener()\r\n            {\r\n                public void actionPerformed(ActionEvent e)\r\n                {\r\n                    SucheAuftrag SucheAuftragFrame = new SucheAuftrag();\r\n                }\r\n            });\r\n    \r\n            JButton buttonKalenderAnsicht = new JButton(&quot;Kalenderansicht&quot;);\r\n            panelMain.add(buttonKalenderAnsicht, &quot;1,7,1,7&quot;); // Adds Button to content pane of frame\r\n            buttonKalenderAnsicht.addActionListener( new ActionListener()\r\n            {\r\n                public void actionPerformed(ActionEvent e)\r\n                {\r\n                    KalenderAnsicht kalenderAnsichtFrame = new KalenderAnsicht();\r\n                }\r\n            });\r\n    \r\n            auftragsBeginn = new ArrayList&lt;&gt;();\r\n            auftragsEnde = new ArrayList&lt;&gt;();\r\n            auftragsAdresse = new ArrayList&lt;&gt;();\r\n            auftragsPLZ = new ArrayList&lt;&gt;();\r\n            mitarbeiterVorname = new ArrayList&lt;&gt;();\r\n            mitarbeiterNachname = new ArrayList&lt;&gt;();\r\n            liegenschaftsnummer = new ArrayList&lt;&gt;();\r\n    \r\n            DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            String dateToday = dateFormat.format(new Date());\r\n    \r\n            IntervalCategoryDataset dataset = getCategoryDataset(dateToday);\r\n    \r\n            // Create chart\r\n            JFreeChart chart = ChartFactory.createGanttChart(dateToday, &quot;Mitarbeiter&quot;, &quot;Zeitachse&quot;, dataset, false, true, false);\r\n            chart.setBackgroundPaint(Color.white);\r\n    \r\n            //chart.setBorderVisible(false);\r\n            CategoryPlot plot = (CategoryPlot) chart.getPlot();\r\n            plot.setDomainGridlinePaint(Color.white);\r\n            plot.setOutlinePaint(Color.white);\r\n            plot.setBackgroundPaint(Color.white);\r\n            //plot.setOutlineVisible(false);\r\n    \r\n            CategoryItemRenderer renderer = plot.getRenderer();\r\n            renderer.setBaseItemLabelGenerator( new IntervalCategoryItemLabelGenerator());\r\n            renderer.setBaseItemLabelsVisible(true);\r\n            renderer.setBaseItemLabelPaint(Color.BLACK);\r\n            renderer.setBasePositiveItemLabelPosition(new ItemLabelPosition(ItemLabelAnchor.CENTER, TextAnchor.CENTER));\r\n            renderer.setBaseItemLabelGenerator( new CategoryItemLabelGenerator(){\r\n    \r\n                @Override\r\n                public String generateRowLabel(CategoryDataset dataset, int row) {\r\n                    return &quot;Your Row Text  &quot; + row;\r\n                }\r\n    \r\n                @Override\r\n                public String generateColumnLabel(CategoryDataset dataset, int column) {\r\n                    return &quot;Your Column Text  &quot; + column;\r\n                }\r\n    \r\n                @Override\r\n                public String generateLabel(CategoryDataset dataset, int row, int column) {\r\n                    if(row == 0 &amp;&amp; column == 0){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(0) + &quot;, &quot; + getAuftragsPLZList().get(0) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(0);\r\n                    }else if(row == 0 &amp;&amp; column == 1){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(1) + &quot;, &quot; + getAuftragsPLZList().get(1) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(1);\r\n                    }else if(row == 0 &amp;&amp; column == 2){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(2) + &quot;, &quot; + getAuftragsPLZList().get(2) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(2);\r\n                    }else if(row == 0 &amp;&amp; column == 3){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(3) + &quot;, &quot; + getAuftragsPLZList().get(3) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(3);\r\n                    }else if(row == 0 &amp;&amp; column == 4){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(4) + &quot;, &quot; + getAuftragsPLZList().get(4) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(4);\r\n                    }else if(row == 0 &amp;&amp; column == 5){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(5) + &quot;, &quot; + getAuftragsPLZList().get(5) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(5);\r\n                    }else if(row == 0 &amp;&amp; column == 6){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(6) + &quot;, &quot; + getAuftragsPLZList().get(6) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(6);\r\n                    }else{\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(0);\r\n                    }\r\n                }\r\n            });\r\n            renderer.setSeriesPaint(0, Color.GREEN);\r\n    \r\n            ChartPanel chartPanel = new ChartPanel(chart);\r\n            panelMain.add(chartPanel, &quot;2,2,2,8&quot;);\r\n            panelMain.validate();\r\n    \r\n            setVisible(true);\r\n            panelMain.setVisible(true);\r\n        }\r\n    \r\n        private IntervalCategoryDataset getCategoryDataset(String date) throws ParseException {\r\n            date = date + &quot; 00:00:00.00000&quot;;\r\n            Timestamp timestamp = Timestamp.valueOf(date);\r\n            Timestamp timestamp2 = addDays(timestamp,1);\r\n    \r\n            getDBData(timestamp, timestamp2);\r\n    \r\n            TaskSeries series1 = new TaskSeries(&quot;Auftr&#228;ge&quot;);\r\n            for (int i = 0; i &lt; auftragsAdresse.size(); i++) {\r\n                series1.add(new Task(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i), getAuftragsBeginnList().get(i).getTime(), getAuftragsEndeList().get(i).getTime()));\r\n                System.out.println(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i) + &quot; BeginnZeit: &quot; + getAuftragsBeginnList().get(i).getTime() + &quot; EndeZeit: &quot; + getAuftragsEndeList().get(i).getTime());\r\n            }\r\n    \r\n            TaskSeriesCollection dataset = new TaskSeriesCollection();\r\n            dataset.add(series1);\r\n            return dataset;\r\n        }\r\n    \r\n        public Timestamp addDays(Timestamp date, int days) {\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTime(date);// w ww.  j ava  2  s  .co m\r\n            cal.add(Calendar.DATE, days); //minus number would decrement the days\r\n            return new Timestamp(cal.getTime().getTime());\r\n        }\r\n    \r\n        public ArrayList&lt;Calendar&gt; getAuftragsBeginnList() {\r\n            return auftragsBeginn;\r\n        }\r\n    \r\n        public ArrayList&lt;Calendar&gt; getAuftragsEndeList() {\r\n            return auftragsEnde;\r\n        }\r\n    \r\n        public ArrayList&lt;String&gt; getAuftragsAdresseList() {\r\n            return auftragsAdresse;\r\n        }\r\n    \r\n        public ArrayList&lt;String&gt; getAuftragsPLZList() {\r\n            return auftragsPLZ;\r\n        }\r\n    \r\n        public ArrayList&lt;String&gt; getMitarbeiterVornameList() {\r\n            return mitarbeiterVorname;\r\n        }\r\n    \r\n        public ArrayList&lt;String&gt; getMitarbeiterNachnameList() {\r\n            return mitarbeiterNachname;\r\n        }\r\n    \r\n        public ArrayList&lt;Integer&gt; getLiegenschaftsnummerList() {\r\n            return liegenschaftsnummer;\r\n        }\r\n    \r\n        public void getDBData(Timestamp timestamp, Timestamp timestamp2){\r\n            try {\r\n                Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3307/schichtplanung&quot;, &quot;root&quot;, &quot;admin&quot;);\r\n    \r\n                PreparedStatement st = (PreparedStatement) connection.prepareStatement(&quot;SELECT schichtplanung.auftrag.auftragsbeginn, schichtplanung.auftrag.auftragsende, schichtplanung.auftrag.auftragsadresse, schichtplanung.auftrag.auftragsplz, schichtplanung.auftrag.liegenschaftsnummer, schichtplanung.mitarbeiter.vorname, schichtplanung.mitarbeiter.nachname FROM schichtplanung.auftrag INNER JOIN schichtplanung.mitarbeiter ON schichtplanung.auftrag.mitarbeiterid=schichtplanung.mitarbeiter.mitarbeiterid WHERE schichtplanung.auftrag.auftragsbeginn &gt;= ? AND schichtplanung.auftrag.auftragsbeginn &lt; ?&quot;);\r\n                st.setTimestamp(1, timestamp);\r\n                st.setTimestamp(2, timestamp2);\r\n                ResultSet rs = st.executeQuery();\r\n                while (rs.next()) {\r\n                    Calendar calendar1 = Calendar.getInstance();\r\n                    calendar1.setTimeInMillis(rs.getTimestamp(1).getTime());\r\n                    getAuftragsBeginnList().add(calendar1);\r\n    \r\n                    Calendar calendar2 = Calendar.getInstance();\r\n                    calendar2.setTimeInMillis(rs.getTimestamp(2).getTime());\r\n                    getAuftragsEndeList().add(calendar2);\r\n    \r\n                    getAuftragsAdresseList().add(rs.getString(3));\r\n                    getAuftragsPLZList().add(rs.getString(4));\r\n                    getLiegenschaftsnummerList().add(rs.getInt(5));\r\n                    getMitarbeiterVornameList().add(rs.getString(6));\r\n                    getMitarbeiterNachnameList().add(rs.getString(7));\r\n                }\r\n                rs.close();\r\n                st.close();\r\n            } catch (SQLException sqlException) {\r\n                sqlException.printStackTrace();\r\n            }\r\n        }\r\n    }  \r\n\r\nthis is from the last with the jfreechart:\r\n\r\n    import com.github.lgooddatepicker.components.DatePicker;\r\n    import info.clearthought.layout.TableLayout;\r\n    import org.jfree.chart.ChartFactory;\r\n    import org.jfree.chart.ChartPanel;\r\n    import org.jfree.chart.JFreeChart;\r\n    import org.jfree.chart.block.BlockBorder;\r\n    import org.jfree.chart.labels.*;\r\n    import org.jfree.chart.plot.CategoryPlot;\r\n    import org.jfree.chart.renderer.category.CategoryItemRenderer;\r\n    import org.jfree.chart.renderer.category.StandardBarPainter;\r\n    import org.jfree.data.category.CategoryDataset;\r\n    import org.jfree.data.category.IntervalCategoryDataset;\r\n    import org.jfree.data.gantt.Task;\r\n    import org.jfree.data.gantt.TaskSeries;\r\n    import org.jfree.data.gantt.TaskSeriesCollection;\r\n    import org.jfree.ui.RectangleInsets;\r\n    import org.jfree.ui.TextAnchor;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.sql.*;\r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.*;\r\n    import java.util.List;\r\n    \r\n    import org.jfree.chart.renderer.category.StandardBarPainter;\r\n    \r\n    public class Auftrags&#220;bersicht extends JFrame {\r\n    \r\n        private ArrayList&lt;Calendar&gt; auftragsBeginn, auftragsEnde;\r\n        private ArrayList&lt;String&gt; auftragsAdresse, auftragsPLZ, mitarbeiterVorname, mitarbeiterNachname;\r\n        private ArrayList&lt;Integer&gt; liegenschaftsnummer;\r\n    \r\n        public Auftrags&#220;bersicht(String date) throws ParseException {\r\n            double busX[] = new double[]{SchichtplannerConstants.GUI_BORDER, 250, TableLayout.FILL, TableLayout.FILL, SchichtplannerConstants.GUI_BORDER};\r\n            double busY[] = new double[]{SchichtplannerConstants.GUI_BORDER, 35, 40, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, 35};\r\n            auftragsBeginn = new ArrayList&lt;&gt;();\r\n            auftragsEnde = new ArrayList&lt;&gt;();\r\n            auftragsAdresse = new ArrayList&lt;&gt;();\r\n            auftragsPLZ = new ArrayList&lt;&gt;();\r\n            mitarbeiterVorname = new ArrayList&lt;&gt;();\r\n            mitarbeiterNachname = new ArrayList&lt;&gt;();\r\n            liegenschaftsnummer = new ArrayList&lt;&gt;();\r\n    \r\n            this.setTitle(&quot;Tages&#252;bersicht Auftr&#228;ge&quot;);\r\n            Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n            this.setSize(screenSize.width, screenSize.height);\r\n            setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n    \r\n            try\r\n            {\r\n                UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            /********************************/\r\n            // Create dataset\r\n            IntervalCategoryDataset dataset = getCategoryDataset(date);\r\n    \r\n            // Create chart\r\n            JFreeChart chart = ChartFactory.createGanttChart(date, &quot;Mitarbeiter&quot;, &quot;Zeitachse&quot;, dataset, false, true, false);\r\n            chart.setBackgroundPaint(Color.white);\r\n    \r\n            //chart.setBorderVisible(false);\r\n            CategoryPlot plot = (CategoryPlot) chart.getPlot();\r\n            plot.setDomainGridlinePaint(Color.white);\r\n            plot.setOutlinePaint(Color.white);\r\n            plot.setBackgroundPaint(Color.white);\r\n            //plot.setOutlineVisible(false);\r\n    \r\n            CategoryItemRenderer renderer = plot.getRenderer();\r\n            renderer.setBaseItemLabelGenerator( new IntervalCategoryItemLabelGenerator());\r\n            renderer.setBaseItemLabelsVisible(true);\r\n            renderer.setBaseItemLabelPaint(Color.BLACK);\r\n            renderer.setBasePositiveItemLabelPosition(new ItemLabelPosition(ItemLabelAnchor.CENTER, TextAnchor.CENTER));\r\n            renderer.setBaseItemLabelGenerator( new CategoryItemLabelGenerator(){\r\n    \r\n                @Override\r\n                public String generateRowLabel(CategoryDataset dataset, int row) {\r\n                    return &quot;Your Row Text  &quot; + row;\r\n                }\r\n    \r\n                @Override\r\n                public String generateColumnLabel(CategoryDataset dataset, int column) {\r\n                    return &quot;Your Column Text  &quot; + column;\r\n                }\r\n    \r\n                @Override\r\n                public String generateLabel(CategoryDataset dataset, int row, int column) {\r\n                    if(row == 0 &amp;&amp; column == 0){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(0) + &quot;, &quot; + getAuftragsPLZList().get(0) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(0);\r\n                    }else if(row == 0 &amp;&amp; column == 1){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(1) + &quot;, &quot; + getAuftragsPLZList().get(1) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(1);\r\n                    }else if(row == 0 &amp;&amp; column == 2){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(2) + &quot;, &quot; + getAuftragsPLZList().get(2) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(2);\r\n                    }else if(row == 0 &amp;&amp; column == 3){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(3) + &quot;, &quot; + getAuftragsPLZList().get(3) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(3);\r\n                    }else if(row == 0 &amp;&amp; column == 4){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(4) + &quot;, &quot; + getAuftragsPLZList().get(4) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(4);\r\n                    }else if(row == 0 &amp;&amp; column == 5){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(5) + &quot;, &quot; + getAuftragsPLZList().get(5) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(5);\r\n                    }else if(row == 0 &amp;&amp; column == 6){\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(6) + &quot;, &quot; + getAuftragsPLZList().get(6) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(6);\r\n                    }else{\r\n                        return &quot;&quot; + getAuftragsAdresseList().get(0);\r\n                    }\r\n                }\r\n            });\r\n    \r\n            renderer.setBaseToolTipGenerator((CategoryDataset categoryDataset, int row, int column) -&gt; {\r\n                TaskSeriesCollection taskCollection = (TaskSeriesCollection) categoryDataset;\r\n                TaskSeries series = taskCollection.getSeries(row);\r\n                Task task = series.get(column);\r\n                return &quot;Task: &quot; + task.getDescription() + &quot;\\nStart: &quot; + task.getDuration().getStart() +\r\n                        &quot;\\nEnd: &quot; + task.getDuration().getEnd();\r\n            });\r\n            renderer.setSeriesPaint(0, Color.GREEN);\r\n    \r\n            ChartPanel panel = new ChartPanel(chart);\r\n            setContentPane(panel);\r\n            setVisible(true);\r\n    \r\n            /*******************************/\r\n            setResizable(false);\r\n        }\r\n    \r\n        private IntervalCategoryDataset getCategoryDataset(String date) throws ParseException {\r\n            date = date + &quot; 00:00:00.00000&quot;;\r\n            Timestamp timestamp = Timestamp.valueOf(date);\r\n            Timestamp timestamp2 = addDays(timestamp,1);\r\n    \r\n            try {\r\n                Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3307/schichtplanung&quot;, &quot;root&quot;, &quot;admin&quot;);\r\n    \r\n                PreparedStatement st = (PreparedStatement) connection.prepareStatement(&quot;SELECT schichtplanung.auftrag.auftragsbeginn, schichtplanung.auftrag.auftragsende, schichtplanung.auftrag.auftragsadresse, schichtplanung.auftrag.auftragsplz, schichtplanung.auftrag.liegenschaftsnummer, schichtplanung.mitarbeiter.vorname, schichtplanung.mitarbeiter.nachname FROM schichtplanung.auftrag INNER JOIN schichtplanung.mitarbeiter ON schichtplanung.auftrag.mitarbeiterid=schichtplanung.mitarbeiter.mitarbeiterid WHERE schichtplanung.auftrag.auftragsbeginn &gt;= ? AND schichtplanung.auftrag.auftragsbeginn &lt; ?&quot;);\r\n                st.setTimestamp(1, timestamp);\r\n                st.setTimestamp(2, timestamp2);\r\n                ResultSet rs = st.executeQuery();\r\n                while (rs.next()) {\r\n                    Calendar calendar1 = Calendar.getInstance();\r\n                    calendar1.setTimeInMillis(rs.getTimestamp(1).getTime());\r\n                    getAuftragsBeginnList().add(calendar1);\r\n    \r\n                    Calendar calendar2 = Calendar.getInstance();\r\n                    calendar2.setTimeInMillis(rs.getTimestamp(2).getTime());\r\n                    getAuftragsEndeList().add(calendar2);\r\n    \r\n                    getAuftragsAdresseList().add(rs.getString(3));\r\n                    getAuftragsPLZList().add(rs.getString(4));\r\n                    getLiegenschaftsnummerList().add(rs.getInt(5));\r\n                    getMitarbeiterVornameList().add(rs.getString(6));\r\n                    getMitarbeiterNachnameList().add(rs.getString(7));\r\n                }\r\n                rs.close();\r\n                st.close();\r\n            } catch (SQLException sqlException) {\r\n                sqlException.printStackTrace();\r\n            }\r\n    \r\n            TaskSeries series1 = new TaskSeries(&quot;Auftr&#228;ge&quot;);\r\n            for (int i = 0; i &lt; auftragsAdresse.size(); i++) {\r\n                series1.add(new Task(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i), getAuftragsBeginnList().get(i).getTime(), getAuftragsEndeList().get(i).getTime()));\r\n                System.out.println(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i) + &quot; BeginnZeit: &quot; + getAuftragsBeginnList().get(i).getTime() + &quot; EndeZeit: &quot; + getAuftragsEndeList().get(i).getTime());\r\n            }\r\n    \r\n            TaskSeriesCollection dataset = new TaskSeriesCollection();\r\n            dataset.add(series1);\r\n            return dataset;\r\n        }\r\n    \r\n        public ArrayList&lt;Calendar&gt; getAuftragsBeginnList() {\r\n            return auftragsBeginn;\r\n        }\r\n    \r\n        public ArrayList&lt;Calendar&gt; getAuftragsEndeList() {\r\n            return auftragsEnde;\r\n        }\r\n    \r\n        public ArrayList&lt;String&gt; getAuftragsAdresseList() {\r\n            return auftragsAdresse;\r\n        }\r\n    \r\n        public ArrayList&lt;String&gt; getAuftragsPLZList() {\r\n            return auftragsPLZ;\r\n        }\r\n    \r\n        public ArrayList&lt;String&gt; getMitarbeiterVornameList() {\r\n            return mitarbeiterVorname;\r\n        }\r\n    \r\n        public ArrayList&lt;String&gt; getMitarbeiterNachnameList() {\r\n            return mitarbeiterNachname;\r\n        }\r\n    \r\n        public ArrayList&lt;Integer&gt; getLiegenschaftsnummerList() {\r\n            return liegenschaftsnummer;\r\n        }\r\n    \r\n        public Timestamp addDays(Timestamp date, int days) {\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTime(date);// w ww.  j ava  2  s  .co m\r\n            cal.add(Calendar.DATE, days); //minus number would decrement the days\r\n            return new Timestamp(cal.getTime().getTime());\r\n    \r\n        }\r\n    }\r\n    \r\n    class MyToolTipGenerator extends IntervalCategoryToolTipGenerator {\r\n    \r\n        DateFormat format;\r\n    \r\n        public MyToolTipGenerator(String value, DateFormat format) {\r\n            super(value, format);\r\n            this.format = format;\r\n        }\r\n    \r\n        @Override\r\n        public String generateToolTip(CategoryDataset cds, int row, int col) {\r\n            final String s = super.generateToolTip(cds, row, col);\r\n            TaskSeriesCollection tsc = (TaskSeriesCollection) cds;\r\n            StringBuilder sb = new StringBuilder(s);\r\n            for (int i = 0; i &lt; tsc.getSubIntervalCount(row, col); i++) {\r\n                sb.append(format.format(tsc.getStartValue(row, col, i)));\r\n                sb.append(&quot;-&quot;);\r\n                sb.append(format.format(tsc.getEndValue(row, col, i)));\r\n                sb.append(&quot;,&quot;);\r\n            }\r\n            sb.deleteCharAt(sb.length() - 1);\r\n            return sb.toString();\r\n        }\r\n    }\r\n\r\nthe other classes look similar from the structure.\r\n\r\n  [1]: https://i.stack.imgur.com/RUQsz.png\r\n  [2]: https://i.stack.imgur.com/3oWAY.png\r\n  [3]: https://i.stack.imgur.com/fwh6G.png\r\n  [4]: https://i.stack.imgur.com/ckx93.png\r\n  [5]: https://i.stack.imgur.com/U3lyB.png\r\n  [6]: https://i.stack.imgur.com/1RydN.png\r\n","title":"Problems with some visualisations in Java GUI Database Application","body":"<p>I implemented a Java application (for learning purposes) that should visualize the scheduling of some employees doing tasks for customers. I have a starting JFrame that is my main Frame with 1) buttons that open new JFrames and 2) visualizes the tasks of the current day with a Jfreechart:</p>\n<p><a href=\"https://i.stack.imgur.com/RUQsz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RUQsz.png\" alt=\"enter image description here\" /></a></p>\n<p>The first button is to manage employees (inserting new employees or deleting employees)</p>\n<p><a href=\"https://i.stack.imgur.com/3oWAY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3oWAY.png\" alt=\"enter image description here\" /></a></p>\n<p>The second button is to manage tasks (Assign new tasks to employees):</p>\n<p><a href=\"https://i.stack.imgur.com/fwh6G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fwh6G.png\" alt=\"enter image description here\" /></a></p>\n<p>The next one is to search for tasks and the last one is to visualize the task of one day (a new Frame where you pick the date you want to visualize and after that open a new Frame that visualizes this day's tasks:</p>\n<p><a href=\"https://i.stack.imgur.com/ckx93.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ckx93.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/U3lyB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U3lyB.png\" alt=\"enter image description here\" /></a></p>\n<p>I have a MySQL Database where all the employee and task information are stored and fetched. Everything works fine, just some visualisation problems that I don't know how to fix. Now my problems:</p>\n<ol>\n<li><p>After I clicked a button on the main Frame, do my work and close the frame to get to my main frame again, the button I first clicked stays clicked. But not only that, after I hover over the other buttons they also look as if they are clicked:\n<a href=\"https://i.stack.imgur.com/1RydN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1RydN.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>On my gantt chart I configured Tooltips that sometimes are shown and sometimes not. I don't understand when it shows and why this is happening.</p>\n</li>\n</ol>\n<p>Here are some of my classes. I assume that it has to do with the way I have implemented everything. I also don't know if it is right to do so much stuff in a button clicked event and if maybe this is causing it. I am waiting for your suggestions:</p>\n<p>main Frame class:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.sql.*;\nimport java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.Date;\nimport javax.swing.*;\n\nimport info.clearthought.layout.TableLayout;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.labels.CategoryItemLabelGenerator;\nimport org.jfree.chart.labels.IntervalCategoryItemLabelGenerator;\nimport org.jfree.chart.labels.ItemLabelAnchor;\nimport org.jfree.chart.labels.ItemLabelPosition;\nimport org.jfree.chart.plot.CategoryPlot;\nimport org.jfree.chart.renderer.category.CategoryItemRenderer;\nimport org.jfree.data.category.CategoryDataset;\nimport org.jfree.data.category.IntervalCategoryDataset;\nimport org.jfree.data.gantt.Task;\nimport org.jfree.data.gantt.TaskSeries;\nimport org.jfree.data.gantt.TaskSeriesCollection;\nimport org.jfree.ui.TextAnchor;\n\npublic class Schichtplanner extends JFrame {\n    private static final long serialVersionUID = 1L;\n    double busX[] = new double[]{SchichtplannerConstants.GUI_BORDER, 250, TableLayout.FILL};\n    double busY[] = new double[]{SchichtplannerConstants.GUI_BORDER, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, TableLayout.FILL};\n\n    ArrayList&lt;Calendar&gt; auftragsBeginn, auftragsEnde;\n    ArrayList&lt;String&gt; auftragsAdresse, auftragsPLZ, mitarbeiterVorname, mitarbeiterNachname;\n    ArrayList&lt;Integer&gt; liegenschaftsnummer;\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                //System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1&quot;);\n                try {\n                    Schichtplanner frame = new Schichtplanner();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    public Schichtplanner() throws ParseException {\n        //JFrame frame = new JFrame(&quot;Schichtplanner&quot;);\n        this.setTitle(&quot;Schichtplanungs-App&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setExtendedState(JFrame.MAXIMIZED_BOTH);\n\n        JPanel panelMain = new JPanel();\n        add(panelMain);\n\n        panelMain.setLayout(new TableLayout(new double[][]{busX, busY}));\n\n        JButton buttonMitarbeiterVerwalten = new JButton(&quot;Mitarbeiter verwalten&quot;);\n        panelMain.add(buttonMitarbeiterVerwalten, &quot;1,1,1,1&quot;); // Adds Button to content pane of frame\n        buttonMitarbeiterVerwalten.addActionListener( new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e)\n            {\n                MitarbeiterVerwalten mitarbeiterVerwaltenFrame = new MitarbeiterVerwalten();\n            }\n        });\n\n        JButton buttonAuftragVerwalten = new JButton(&quot;Auftrag verwalten&quot;);\n        panelMain.add(buttonAuftragVerwalten, &quot;1,3,1,3&quot;); // Adds Button to content pane of frame\n        buttonAuftragVerwalten.addActionListener( new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e)\n            {\n                AuftragVerwalten auftragVerwaltenFrame = new AuftragVerwalten();\n            }\n        });\n\n        JButton buttonSucheAuftrag = new JButton(&quot;Auftrag suchen&quot;);\n        panelMain.add(buttonSucheAuftrag, &quot;1,5,1,5&quot;); // Adds Button to content pane of frame\n        buttonSucheAuftrag.addActionListener( new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e)\n            {\n                SucheAuftrag SucheAuftragFrame = new SucheAuftrag();\n            }\n        });\n\n        JButton buttonKalenderAnsicht = new JButton(&quot;Kalenderansicht&quot;);\n        panelMain.add(buttonKalenderAnsicht, &quot;1,7,1,7&quot;); // Adds Button to content pane of frame\n        buttonKalenderAnsicht.addActionListener( new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e)\n            {\n                KalenderAnsicht kalenderAnsichtFrame = new KalenderAnsicht();\n            }\n        });\n\n        auftragsBeginn = new ArrayList&lt;&gt;();\n        auftragsEnde = new ArrayList&lt;&gt;();\n        auftragsAdresse = new ArrayList&lt;&gt;();\n        auftragsPLZ = new ArrayList&lt;&gt;();\n        mitarbeiterVorname = new ArrayList&lt;&gt;();\n        mitarbeiterNachname = new ArrayList&lt;&gt;();\n        liegenschaftsnummer = new ArrayList&lt;&gt;();\n\n        DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        String dateToday = dateFormat.format(new Date());\n\n        IntervalCategoryDataset dataset = getCategoryDataset(dateToday);\n\n        // Create chart\n        JFreeChart chart = ChartFactory.createGanttChart(dateToday, &quot;Mitarbeiter&quot;, &quot;Zeitachse&quot;, dataset, false, true, false);\n        chart.setBackgroundPaint(Color.white);\n\n        //chart.setBorderVisible(false);\n        CategoryPlot plot = (CategoryPlot) chart.getPlot();\n        plot.setDomainGridlinePaint(Color.white);\n        plot.setOutlinePaint(Color.white);\n        plot.setBackgroundPaint(Color.white);\n        //plot.setOutlineVisible(false);\n\n        CategoryItemRenderer renderer = plot.getRenderer();\n        renderer.setBaseItemLabelGenerator( new IntervalCategoryItemLabelGenerator());\n        renderer.setBaseItemLabelsVisible(true);\n        renderer.setBaseItemLabelPaint(Color.BLACK);\n        renderer.setBasePositiveItemLabelPosition(new ItemLabelPosition(ItemLabelAnchor.CENTER, TextAnchor.CENTER));\n        renderer.setBaseItemLabelGenerator( new CategoryItemLabelGenerator(){\n\n            @Override\n            public String generateRowLabel(CategoryDataset dataset, int row) {\n                return &quot;Your Row Text  &quot; + row;\n            }\n\n            @Override\n            public String generateColumnLabel(CategoryDataset dataset, int column) {\n                return &quot;Your Column Text  &quot; + column;\n            }\n\n            @Override\n            public String generateLabel(CategoryDataset dataset, int row, int column) {\n                if(row == 0 &amp;&amp; column == 0){\n                    return &quot;&quot; + getAuftragsAdresseList().get(0) + &quot;, &quot; + getAuftragsPLZList().get(0) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(0);\n                }else if(row == 0 &amp;&amp; column == 1){\n                    return &quot;&quot; + getAuftragsAdresseList().get(1) + &quot;, &quot; + getAuftragsPLZList().get(1) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(1);\n                }else if(row == 0 &amp;&amp; column == 2){\n                    return &quot;&quot; + getAuftragsAdresseList().get(2) + &quot;, &quot; + getAuftragsPLZList().get(2) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(2);\n                }else if(row == 0 &amp;&amp; column == 3){\n                    return &quot;&quot; + getAuftragsAdresseList().get(3) + &quot;, &quot; + getAuftragsPLZList().get(3) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(3);\n                }else if(row == 0 &amp;&amp; column == 4){\n                    return &quot;&quot; + getAuftragsAdresseList().get(4) + &quot;, &quot; + getAuftragsPLZList().get(4) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(4);\n                }else if(row == 0 &amp;&amp; column == 5){\n                    return &quot;&quot; + getAuftragsAdresseList().get(5) + &quot;, &quot; + getAuftragsPLZList().get(5) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(5);\n                }else if(row == 0 &amp;&amp; column == 6){\n                    return &quot;&quot; + getAuftragsAdresseList().get(6) + &quot;, &quot; + getAuftragsPLZList().get(6) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(6);\n                }else{\n                    return &quot;&quot; + getAuftragsAdresseList().get(0);\n                }\n            }\n        });\n        renderer.setSeriesPaint(0, Color.GREEN);\n\n        ChartPanel chartPanel = new ChartPanel(chart);\n        panelMain.add(chartPanel, &quot;2,2,2,8&quot;);\n        panelMain.validate();\n\n        setVisible(true);\n        panelMain.setVisible(true);\n    }\n\n    private IntervalCategoryDataset getCategoryDataset(String date) throws ParseException {\n        date = date + &quot; 00:00:00.00000&quot;;\n        Timestamp timestamp = Timestamp.valueOf(date);\n        Timestamp timestamp2 = addDays(timestamp,1);\n\n        getDBData(timestamp, timestamp2);\n\n        TaskSeries series1 = new TaskSeries(&quot;Aufträge&quot;);\n        for (int i = 0; i &lt; auftragsAdresse.size(); i++) {\n            series1.add(new Task(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i), getAuftragsBeginnList().get(i).getTime(), getAuftragsEndeList().get(i).getTime()));\n            System.out.println(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i) + &quot; BeginnZeit: &quot; + getAuftragsBeginnList().get(i).getTime() + &quot; EndeZeit: &quot; + getAuftragsEndeList().get(i).getTime());\n        }\n\n        TaskSeriesCollection dataset = new TaskSeriesCollection();\n        dataset.add(series1);\n        return dataset;\n    }\n\n    public Timestamp addDays(Timestamp date, int days) {\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(date);// w ww.  j ava  2  s  .co m\n        cal.add(Calendar.DATE, days); //minus number would decrement the days\n        return new Timestamp(cal.getTime().getTime());\n    }\n\n    public ArrayList&lt;Calendar&gt; getAuftragsBeginnList() {\n        return auftragsBeginn;\n    }\n\n    public ArrayList&lt;Calendar&gt; getAuftragsEndeList() {\n        return auftragsEnde;\n    }\n\n    public ArrayList&lt;String&gt; getAuftragsAdresseList() {\n        return auftragsAdresse;\n    }\n\n    public ArrayList&lt;String&gt; getAuftragsPLZList() {\n        return auftragsPLZ;\n    }\n\n    public ArrayList&lt;String&gt; getMitarbeiterVornameList() {\n        return mitarbeiterVorname;\n    }\n\n    public ArrayList&lt;String&gt; getMitarbeiterNachnameList() {\n        return mitarbeiterNachname;\n    }\n\n    public ArrayList&lt;Integer&gt; getLiegenschaftsnummerList() {\n        return liegenschaftsnummer;\n    }\n\n    public void getDBData(Timestamp timestamp, Timestamp timestamp2){\n        try {\n            Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3307/schichtplanung&quot;, &quot;root&quot;, &quot;admin&quot;);\n\n            PreparedStatement st = (PreparedStatement) connection.prepareStatement(&quot;SELECT schichtplanung.auftrag.auftragsbeginn, schichtplanung.auftrag.auftragsende, schichtplanung.auftrag.auftragsadresse, schichtplanung.auftrag.auftragsplz, schichtplanung.auftrag.liegenschaftsnummer, schichtplanung.mitarbeiter.vorname, schichtplanung.mitarbeiter.nachname FROM schichtplanung.auftrag INNER JOIN schichtplanung.mitarbeiter ON schichtplanung.auftrag.mitarbeiterid=schichtplanung.mitarbeiter.mitarbeiterid WHERE schichtplanung.auftrag.auftragsbeginn &gt;= ? AND schichtplanung.auftrag.auftragsbeginn &lt; ?&quot;);\n            st.setTimestamp(1, timestamp);\n            st.setTimestamp(2, timestamp2);\n            ResultSet rs = st.executeQuery();\n            while (rs.next()) {\n                Calendar calendar1 = Calendar.getInstance();\n                calendar1.setTimeInMillis(rs.getTimestamp(1).getTime());\n                getAuftragsBeginnList().add(calendar1);\n\n                Calendar calendar2 = Calendar.getInstance();\n                calendar2.setTimeInMillis(rs.getTimestamp(2).getTime());\n                getAuftragsEndeList().add(calendar2);\n\n                getAuftragsAdresseList().add(rs.getString(3));\n                getAuftragsPLZList().add(rs.getString(4));\n                getLiegenschaftsnummerList().add(rs.getInt(5));\n                getMitarbeiterVornameList().add(rs.getString(6));\n                getMitarbeiterNachnameList().add(rs.getString(7));\n            }\n            rs.close();\n            st.close();\n        } catch (SQLException sqlException) {\n            sqlException.printStackTrace();\n        }\n    }\n}  \n</code></pre>\n<p>this is from the last with the jfreechart:</p>\n<pre><code>import com.github.lgooddatepicker.components.DatePicker;\nimport info.clearthought.layout.TableLayout;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.block.BlockBorder;\nimport org.jfree.chart.labels.*;\nimport org.jfree.chart.plot.CategoryPlot;\nimport org.jfree.chart.renderer.category.CategoryItemRenderer;\nimport org.jfree.chart.renderer.category.StandardBarPainter;\nimport org.jfree.data.category.CategoryDataset;\nimport org.jfree.data.category.IntervalCategoryDataset;\nimport org.jfree.data.gantt.Task;\nimport org.jfree.data.gantt.TaskSeries;\nimport org.jfree.data.gantt.TaskSeriesCollection;\nimport org.jfree.ui.RectangleInsets;\nimport org.jfree.ui.TextAnchor;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.sql.*;\nimport java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.time.format.DateTimeFormatter;\nimport java.util.*;\nimport java.util.List;\n\nimport org.jfree.chart.renderer.category.StandardBarPainter;\n\npublic class AuftragsÜbersicht extends JFrame {\n\n    private ArrayList&lt;Calendar&gt; auftragsBeginn, auftragsEnde;\n    private ArrayList&lt;String&gt; auftragsAdresse, auftragsPLZ, mitarbeiterVorname, mitarbeiterNachname;\n    private ArrayList&lt;Integer&gt; liegenschaftsnummer;\n\n    public AuftragsÜbersicht(String date) throws ParseException {\n        double busX[] = new double[]{SchichtplannerConstants.GUI_BORDER, 250, TableLayout.FILL, TableLayout.FILL, SchichtplannerConstants.GUI_BORDER};\n        double busY[] = new double[]{SchichtplannerConstants.GUI_BORDER, 35, 40, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, 35};\n        auftragsBeginn = new ArrayList&lt;&gt;();\n        auftragsEnde = new ArrayList&lt;&gt;();\n        auftragsAdresse = new ArrayList&lt;&gt;();\n        auftragsPLZ = new ArrayList&lt;&gt;();\n        mitarbeiterVorname = new ArrayList&lt;&gt;();\n        mitarbeiterNachname = new ArrayList&lt;&gt;();\n        liegenschaftsnummer = new ArrayList&lt;&gt;();\n\n        this.setTitle(&quot;Tagesübersicht Aufträge&quot;);\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n        this.setSize(screenSize.width, screenSize.height);\n        setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n\n        try\n        {\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        /********************************/\n        // Create dataset\n        IntervalCategoryDataset dataset = getCategoryDataset(date);\n\n        // Create chart\n        JFreeChart chart = ChartFactory.createGanttChart(date, &quot;Mitarbeiter&quot;, &quot;Zeitachse&quot;, dataset, false, true, false);\n        chart.setBackgroundPaint(Color.white);\n\n        //chart.setBorderVisible(false);\n        CategoryPlot plot = (CategoryPlot) chart.getPlot();\n        plot.setDomainGridlinePaint(Color.white);\n        plot.setOutlinePaint(Color.white);\n        plot.setBackgroundPaint(Color.white);\n        //plot.setOutlineVisible(false);\n\n        CategoryItemRenderer renderer = plot.getRenderer();\n        renderer.setBaseItemLabelGenerator( new IntervalCategoryItemLabelGenerator());\n        renderer.setBaseItemLabelsVisible(true);\n        renderer.setBaseItemLabelPaint(Color.BLACK);\n        renderer.setBasePositiveItemLabelPosition(new ItemLabelPosition(ItemLabelAnchor.CENTER, TextAnchor.CENTER));\n        renderer.setBaseItemLabelGenerator( new CategoryItemLabelGenerator(){\n\n            @Override\n            public String generateRowLabel(CategoryDataset dataset, int row) {\n                return &quot;Your Row Text  &quot; + row;\n            }\n\n            @Override\n            public String generateColumnLabel(CategoryDataset dataset, int column) {\n                return &quot;Your Column Text  &quot; + column;\n            }\n\n            @Override\n            public String generateLabel(CategoryDataset dataset, int row, int column) {\n                if(row == 0 &amp;&amp; column == 0){\n                    return &quot;&quot; + getAuftragsAdresseList().get(0) + &quot;, &quot; + getAuftragsPLZList().get(0) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(0);\n                }else if(row == 0 &amp;&amp; column == 1){\n                    return &quot;&quot; + getAuftragsAdresseList().get(1) + &quot;, &quot; + getAuftragsPLZList().get(1) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(1);\n                }else if(row == 0 &amp;&amp; column == 2){\n                    return &quot;&quot; + getAuftragsAdresseList().get(2) + &quot;, &quot; + getAuftragsPLZList().get(2) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(2);\n                }else if(row == 0 &amp;&amp; column == 3){\n                    return &quot;&quot; + getAuftragsAdresseList().get(3) + &quot;, &quot; + getAuftragsPLZList().get(3) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(3);\n                }else if(row == 0 &amp;&amp; column == 4){\n                    return &quot;&quot; + getAuftragsAdresseList().get(4) + &quot;, &quot; + getAuftragsPLZList().get(4) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(4);\n                }else if(row == 0 &amp;&amp; column == 5){\n                    return &quot;&quot; + getAuftragsAdresseList().get(5) + &quot;, &quot; + getAuftragsPLZList().get(5) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(5);\n                }else if(row == 0 &amp;&amp; column == 6){\n                    return &quot;&quot; + getAuftragsAdresseList().get(6) + &quot;, &quot; + getAuftragsPLZList().get(6) + &quot;, LiegenschaftsNr: &quot; + getLiegenschaftsnummerList().get(6);\n                }else{\n                    return &quot;&quot; + getAuftragsAdresseList().get(0);\n                }\n            }\n        });\n\n        renderer.setBaseToolTipGenerator((CategoryDataset categoryDataset, int row, int column) -&gt; {\n            TaskSeriesCollection taskCollection = (TaskSeriesCollection) categoryDataset;\n            TaskSeries series = taskCollection.getSeries(row);\n            Task task = series.get(column);\n            return &quot;Task: &quot; + task.getDescription() + &quot;\\nStart: &quot; + task.getDuration().getStart() +\n                    &quot;\\nEnd: &quot; + task.getDuration().getEnd();\n        });\n        renderer.setSeriesPaint(0, Color.GREEN);\n\n        ChartPanel panel = new ChartPanel(chart);\n        setContentPane(panel);\n        setVisible(true);\n\n        /*******************************/\n        setResizable(false);\n    }\n\n    private IntervalCategoryDataset getCategoryDataset(String date) throws ParseException {\n        date = date + &quot; 00:00:00.00000&quot;;\n        Timestamp timestamp = Timestamp.valueOf(date);\n        Timestamp timestamp2 = addDays(timestamp,1);\n\n        try {\n            Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3307/schichtplanung&quot;, &quot;root&quot;, &quot;admin&quot;);\n\n            PreparedStatement st = (PreparedStatement) connection.prepareStatement(&quot;SELECT schichtplanung.auftrag.auftragsbeginn, schichtplanung.auftrag.auftragsende, schichtplanung.auftrag.auftragsadresse, schichtplanung.auftrag.auftragsplz, schichtplanung.auftrag.liegenschaftsnummer, schichtplanung.mitarbeiter.vorname, schichtplanung.mitarbeiter.nachname FROM schichtplanung.auftrag INNER JOIN schichtplanung.mitarbeiter ON schichtplanung.auftrag.mitarbeiterid=schichtplanung.mitarbeiter.mitarbeiterid WHERE schichtplanung.auftrag.auftragsbeginn &gt;= ? AND schichtplanung.auftrag.auftragsbeginn &lt; ?&quot;);\n            st.setTimestamp(1, timestamp);\n            st.setTimestamp(2, timestamp2);\n            ResultSet rs = st.executeQuery();\n            while (rs.next()) {\n                Calendar calendar1 = Calendar.getInstance();\n                calendar1.setTimeInMillis(rs.getTimestamp(1).getTime());\n                getAuftragsBeginnList().add(calendar1);\n\n                Calendar calendar2 = Calendar.getInstance();\n                calendar2.setTimeInMillis(rs.getTimestamp(2).getTime());\n                getAuftragsEndeList().add(calendar2);\n\n                getAuftragsAdresseList().add(rs.getString(3));\n                getAuftragsPLZList().add(rs.getString(4));\n                getLiegenschaftsnummerList().add(rs.getInt(5));\n                getMitarbeiterVornameList().add(rs.getString(6));\n                getMitarbeiterNachnameList().add(rs.getString(7));\n            }\n            rs.close();\n            st.close();\n        } catch (SQLException sqlException) {\n            sqlException.printStackTrace();\n        }\n\n        TaskSeries series1 = new TaskSeries(&quot;Aufträge&quot;);\n        for (int i = 0; i &lt; auftragsAdresse.size(); i++) {\n            series1.add(new Task(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i), getAuftragsBeginnList().get(i).getTime(), getAuftragsEndeList().get(i).getTime()));\n            System.out.println(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i) + &quot; BeginnZeit: &quot; + getAuftragsBeginnList().get(i).getTime() + &quot; EndeZeit: &quot; + getAuftragsEndeList().get(i).getTime());\n        }\n\n        TaskSeriesCollection dataset = new TaskSeriesCollection();\n        dataset.add(series1);\n        return dataset;\n    }\n\n    public ArrayList&lt;Calendar&gt; getAuftragsBeginnList() {\n        return auftragsBeginn;\n    }\n\n    public ArrayList&lt;Calendar&gt; getAuftragsEndeList() {\n        return auftragsEnde;\n    }\n\n    public ArrayList&lt;String&gt; getAuftragsAdresseList() {\n        return auftragsAdresse;\n    }\n\n    public ArrayList&lt;String&gt; getAuftragsPLZList() {\n        return auftragsPLZ;\n    }\n\n    public ArrayList&lt;String&gt; getMitarbeiterVornameList() {\n        return mitarbeiterVorname;\n    }\n\n    public ArrayList&lt;String&gt; getMitarbeiterNachnameList() {\n        return mitarbeiterNachname;\n    }\n\n    public ArrayList&lt;Integer&gt; getLiegenschaftsnummerList() {\n        return liegenschaftsnummer;\n    }\n\n    public Timestamp addDays(Timestamp date, int days) {\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(date);// w ww.  j ava  2  s  .co m\n        cal.add(Calendar.DATE, days); //minus number would decrement the days\n        return new Timestamp(cal.getTime().getTime());\n\n    }\n}\n\nclass MyToolTipGenerator extends IntervalCategoryToolTipGenerator {\n\n    DateFormat format;\n\n    public MyToolTipGenerator(String value, DateFormat format) {\n        super(value, format);\n        this.format = format;\n    }\n\n    @Override\n    public String generateToolTip(CategoryDataset cds, int row, int col) {\n        final String s = super.generateToolTip(cds, row, col);\n        TaskSeriesCollection tsc = (TaskSeriesCollection) cds;\n        StringBuilder sb = new StringBuilder(s);\n        for (int i = 0; i &lt; tsc.getSubIntervalCount(row, col); i++) {\n            sb.append(format.format(tsc.getStartValue(row, col, i)));\n            sb.append(&quot;-&quot;);\n            sb.append(format.format(tsc.getEndValue(row, col, i)));\n            sb.append(&quot;,&quot;);\n        }\n        sb.deleteCharAt(sb.length() - 1);\n        return sb.toString();\n    }\n}\n</code></pre>\n<p>the other classes look similar from the structure.</p>\n"},{"tags":["java","android","webdriver","appium"],"answers":[{"tags":[],"owner":{"account_id":7835470,"reputation":143,"user_id":20977270,"display_name":"TAEFED"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700780261,"creation_date":1700780261,"answer_id":77539974,"question_id":77483309,"body_markdown":"I think there&#39;s you should collect logs of when these errors happen, or give steps to reproduce this error so people can try to figure out why exactly this error happens in your situation.","title":"How can I avoid org.openqa.selenium.WebDriverException: Original error: socket hang up?","body":"<p>I think there's you should collect logs of when these errors happen, or give steps to reproduce this error so people can try to figure out why exactly this error happens in your situation.</p>\n"}],"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700780261,"creation_date":1699989686,"question_id":77483309,"body_markdown":"I am running a test automation suite using Appium 2.2.1, Java 11, TestNG, and Cucumber.\r\nI keep running into a problem where I get `org.openqa.selenium.WebDriverException: org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. Original error: Could not proxy command to the remote server. Original error: socket hang up` in the middle of a test execution. This usual also fouls up the next couple of scenarios.\r\n\r\nI know the usual way to solve this is to run `adb uninstall io.appium.uiautomator2.server.test` and `adb uninstall io.appium.uiautomator2.server`, but how can I set up my code to avoid this error all together. \r\n\r\nHere is how I am running my tests on real devices. Note: The above error throws even when I am just running a single Thread, on one device.\r\n\r\nRunParallelTest.java\r\n```java\r\n@CucumberOptions(\r\n        features = &quot;classpath:features&quot;,\r\n        glue = {&quot;stepdefs&quot;}\r\n)\r\npublic class RunParallelTests extends AbstractTestNGCucumberTests {\r\n\r\n    private final DesiredCapabilitiesUtil desiredCapabilitiesUtil = new DesiredCapabilitiesUtil();\r\n    private final AppiumServiceBuilderUtil appiumServiceBuilderUtil = new AppiumServiceBuilderUtil();\r\n    protected AppiumDriverLocalService service;\r\n\r\n    @BeforeTest(alwaysRun = true)\r\n    public void startAppiumServer(){\r\n        //System.out.println(&quot;Building Appium Server&quot;);\r\n        service = appiumServiceBuilderUtil.buildAppiumService();\r\n        System.out.println(&quot;Starting Appium Server&quot;);\r\n        service.clearOutPutStreams();\r\n        service.start();\r\n    }\r\n\r\n    @BeforeMethod\r\n    @Parameters({&quot;deviceOS&quot;})\r\n    public void setup(String deviceOS){\r\n        service.isRunning();\r\n        URL serviceURL = service.getUrl();\r\n        switch (deviceOS) {\r\n            case &quot;iOS&quot;:\r\n                //System.out.println(&quot;Initializing iOS Driver&quot;);\r\n                DesiredCapabilities iosCaps = desiredCapabilitiesUtil.getDesiredCapabilities(deviceOS);\r\n                ThreadLocalDriver.setTLDriver(new IOSDriver(serviceURL, iosCaps));\r\n                break;\r\n            case &quot;Android&quot;:\r\n                //System.out.println(&quot;Initializing Android Driver&quot;);\r\n                DesiredCapabilities androidCaps = desiredCapabilitiesUtil.getDesiredCapabilities(deviceOS);\r\n                ThreadLocalDriver.setTLDriver(new AndroidDriver(serviceURL, androidCaps));\r\n                if (((AndroidDriver)ThreadLocalDriver.getTLDriver()).isDeviceLocked()){\r\n                    ((AndroidDriver)ThreadLocalDriver.getTLDriver()).unlockDevice();\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    @AfterMethod\r\n    public synchronized void teardown() {\r\n        ThreadLocalDriver.getTLDriver().quit();\r\n    }\r\n\r\n    @AfterTest(alwaysRun = true)\r\n    public synchronized void stopAppiumServer(){\r\n        if(service.isRunning()) {\r\n            System.out.println(&quot;Stopping Appium Server&quot;);\r\n            service.stop();\r\n        }\r\n        else {\r\n            System.out.println(&quot;Appium Server Already Closed&quot;);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nAppiumServiceBuilderUtil.java\r\n```java\r\npublic class AppiumServiceBuilderUtil {\r\n\r\n    public AppiumServiceBuilderUtil(){}\r\n\r\n    private static final ThreadLocal&lt;AppiumDriverLocalService&gt; tlService = new ThreadLocal&lt;&gt;();\r\n    public static synchronized void setTLService(AppiumDriverLocalService service) { tlService.set(service); }\r\n    public static synchronized AppiumDriverLocalService getTLService() {\r\n        return tlService.get();\r\n    }\r\n\r\n    public AppiumDriverLocalService buildAppiumService(){\r\n        String serverOS = Reporter.getCurrentTestResult().getTestContext().getCurrentXmlTest().getParameter(&quot;deviceOS&quot;);\r\n        AppiumServiceBuilder builder = new AppiumServiceBuilder();\r\n\r\n/* Deprecated, Now uses default values\r\n        builder.withIPAddress(&quot;0.0.0.0&quot;);\r\n        builder.usingPort(4723);\r\n*/\r\n        builder.usingAnyFreePort();\r\n        builder.withArgument(GeneralServerFlag.USE_PLUGINS, &quot;relaxed-caps&quot;);\r\n        builder.withArgument(GeneralServerFlag.ALLOW_INSECURE, &quot;chromedriver_autodownload&quot;);\r\n        \r\n        builder.usingDriverExecutable(new File(&quot;/opt/homebrew/bin/node&quot;));\r\n\r\n        builder.withLogFile(new File(String.format(&quot;logs/appium_server_log_%s.log&quot;, serverOS)));\r\n        setTLService(AppiumDriverLocalService.buildService(builder));\r\n        return getTLService();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nDesiredCapabilitiesUtil.java\r\n```java\r\npublic class DesiredCapabilitiesUtil {\r\n    private static final ThreadLocal&lt;DesiredCapabilities&gt; tlCaps = new ThreadLocal&lt;&gt;();\r\n    static Properties props = new Properties();\r\n\r\n    public DesiredCapabilitiesUtil(){}\r\n\r\n    public static synchronized void setTlCaps(DesiredCapabilities caps){tlCaps.set(caps);}\r\n\r\n    public static synchronized DesiredCapabilities getTLCaps() {\r\n        return tlCaps.get();\r\n    }\r\n\r\n    public DesiredCapabilities getDesiredCapabilities(String deviceOS){\r\n        boolean localRun = Boolean.parseBoolean(System.getProperty(&quot;localRun&quot;, &quot;false&quot;));\r\n        String capFile;\r\n        if(localRun){\r\n            capFile = &quot;local-decivecapabilities.properties&quot;;}\r\n        else {\r\n            capFile = &quot;decivecapabilities.properties&quot;;}\r\n\r\n        try (InputStream inputStream = ClassLoader.getSystemResourceAsStream(capFile)){\r\n            props.load(inputStream);\r\n        } catch (Exception e) {e.printStackTrace();}\r\n        setTlCaps(new DesiredCapabilities());\r\n        tlCaps.get().setCapability(&quot;newCommandTimeout&quot;, 300);\r\n        switch (deviceOS) {\r\n            case &quot;iOS&quot;:\r\n                tlCaps.get().setCapability(&quot;deviceName&quot;, props.getProperty(&quot;ios.capability.deviceName&quot;));\r\n                tlCaps.get().setCapability(&quot;udid&quot;, props.getProperty(&quot;ios.capability.udid&quot;));\r\n                tlCaps.get().setCapability(&quot;platformName&quot;, props.getProperty(&quot;ios.capability.platformName&quot;));\r\n                tlCaps.get().setCapability(&quot;platformVersion&quot;, props.getProperty(&quot;ios.capability.platformVersion&quot;));\r\n                tlCaps.get().setCapability(&quot;automationName&quot;, props.getProperty(&quot;ios.capability.automationName&quot;));\r\n                \r\n                tlCaps.get().setCapability(&quot;app&quot;, props.getProperty(&quot;ios.capability.app&quot;));\r\n                tlCaps.get().setCapability(&quot;autoAcceptAlerts&quot;, true);\r\n                tlCaps.get().setCapability(&quot;includeSafariInWebviews&quot;, true);\r\n                tlCaps.get().setCapability(&quot;webviewConnectTimeout&quot;, 20000);\r\n                break;\r\n\r\n            case &quot;Android&quot;:\r\n                tlCaps.get().setCapability(&quot;deviceName&quot;, props.getProperty(&quot;android.capability.deviceName&quot;));\r\n                tlCaps.get().setCapability(&quot;udid&quot;, props.getProperty(&quot;android.capability.udid&quot;));\r\n                tlCaps.get().setCapability(&quot;platformName&quot;, props.getProperty(&quot;android.capability.platformName&quot;));\r\n                tlCaps.get().setCapability(&quot;platformVersion&quot;, props.getProperty(&quot;android.capability.platformVersion&quot;));\r\n                tlCaps.get().setCapability(&quot;automationName&quot;, props.getProperty(&quot;android.capability.automationName&quot;));\r\n                tlCaps.get().setCapability(&quot;unlockType&quot;, props.getProperty(&quot;android.capability.unlockType&quot;));\r\n                tlCaps.get().setCapability(&quot;unlockKey&quot;, props.getProperty(&quot;android.capability.unlockKey&quot;));\r\n\r\n                tlCaps.get().setCapability(&quot;app&quot;, props.getProperty(&quot;android.capability.app&quot;));\r\n                tlCaps.get().setCapability(&quot;autoGrantPermissions&quot;, true);\r\n                break;\r\n\r\n            default:\r\n                throw new RuntimeException(&quot;No or invalid device OS given&quot;);\r\n        }\r\n\r\n        return getTLCaps();\r\n    }\r\n}\r\n```\r\n\r\nThreadLocalDriver.java\r\n```java\r\npublic class ThreadLocalDriver {\r\n\r\n    private static final ThreadLocal&lt;AppiumDriver&gt; tlDriver = new ThreadLocal&lt;&gt;();\r\n    public static synchronized void setTLDriver(AppiumDriver driver) { tlDriver.set(driver); }\r\n    public static synchronized AppiumDriver getTLDriver() {\r\n        return tlDriver.get();\r\n    }\r\n}\r\n```\r\n\r\ntestng.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n\r\n&lt;suite name=&quot;Automation Test&quot; parallel=&quot;tests&quot; thread-count=&quot;2&quot;&gt;\r\n\r\n    &lt;test name=&quot;iOS&quot;&gt;\r\n        &lt;parameter name=&quot;deviceOS&quot; value=&quot;iOS&quot;/&gt;\r\n        &lt;parameter name=&quot;cucumber.filter.tags&quot; value=&quot;(@ios or not @android) and not (@skip or @demo)&quot;/&gt;\r\n        &lt;parameter name=&quot;cucumber.plugin&quot; value=&quot;pretty, json:target/cucumber-reports_ios/test_results.json,\r\n        junit:target/cucumber-reports_ios/test_results.xml,\r\n        html:target/cucumber-reports_ios/test_results.html&quot;/&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;runner.RunParallelTests&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n\r\n    &lt;test name=&quot;Android&quot;&gt;\r\n        &lt;parameter name=&quot;deviceOS&quot; value=&quot;Android&quot;/&gt;\r\n        &lt;parameter name=&quot;cucumber.filter.tags&quot; value=&quot;(@android or not @ios) and not (@skip or @demo)&quot;/&gt;\r\n        &lt;parameter name=&quot;cucumber.plugin&quot; value=&quot;pretty, json:target/cucumber-reports_android/test_results.json,\r\n        junit:target/cucumber-reports_android/test_results.xml,\r\n        html:target/cucumber-reports_android/test_results.html&quot;/&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;runner.RunParallelTests&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n    \r\n&lt;/suite&gt;\r\n```\r\n\r\nFrom there it is your basic POM cucumber step up. I do initialize all my Page Objects at the top of my `StepDefs.java` file `protected PageObject pageObject = new PageObject(ThreadLocalDriver.getTLDriver())` but I plan to move them into a thread safe factory class eventually.","title":"How can I avoid org.openqa.selenium.WebDriverException: Original error: socket hang up?","body":"<p>I am running a test automation suite using Appium 2.2.1, Java 11, TestNG, and Cucumber.\nI keep running into a problem where I get <code>org.openqa.selenium.WebDriverException: org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. Original error: Could not proxy command to the remote server. Original error: socket hang up</code> in the middle of a test execution. This usual also fouls up the next couple of scenarios.</p>\n<p>I know the usual way to solve this is to run <code>adb uninstall io.appium.uiautomator2.server.test</code> and <code>adb uninstall io.appium.uiautomator2.server</code>, but how can I set up my code to avoid this error all together.</p>\n<p>Here is how I am running my tests on real devices. Note: The above error throws even when I am just running a single Thread, on one device.</p>\n<p>RunParallelTest.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CucumberOptions(\n        features = &quot;classpath:features&quot;,\n        glue = {&quot;stepdefs&quot;}\n)\npublic class RunParallelTests extends AbstractTestNGCucumberTests {\n\n    private final DesiredCapabilitiesUtil desiredCapabilitiesUtil = new DesiredCapabilitiesUtil();\n    private final AppiumServiceBuilderUtil appiumServiceBuilderUtil = new AppiumServiceBuilderUtil();\n    protected AppiumDriverLocalService service;\n\n    @BeforeTest(alwaysRun = true)\n    public void startAppiumServer(){\n        //System.out.println(&quot;Building Appium Server&quot;);\n        service = appiumServiceBuilderUtil.buildAppiumService();\n        System.out.println(&quot;Starting Appium Server&quot;);\n        service.clearOutPutStreams();\n        service.start();\n    }\n\n    @BeforeMethod\n    @Parameters({&quot;deviceOS&quot;})\n    public void setup(String deviceOS){\n        service.isRunning();\n        URL serviceURL = service.getUrl();\n        switch (deviceOS) {\n            case &quot;iOS&quot;:\n                //System.out.println(&quot;Initializing iOS Driver&quot;);\n                DesiredCapabilities iosCaps = desiredCapabilitiesUtil.getDesiredCapabilities(deviceOS);\n                ThreadLocalDriver.setTLDriver(new IOSDriver(serviceURL, iosCaps));\n                break;\n            case &quot;Android&quot;:\n                //System.out.println(&quot;Initializing Android Driver&quot;);\n                DesiredCapabilities androidCaps = desiredCapabilitiesUtil.getDesiredCapabilities(deviceOS);\n                ThreadLocalDriver.setTLDriver(new AndroidDriver(serviceURL, androidCaps));\n                if (((AndroidDriver)ThreadLocalDriver.getTLDriver()).isDeviceLocked()){\n                    ((AndroidDriver)ThreadLocalDriver.getTLDriver()).unlockDevice();\n                }\n                break;\n        }\n    }\n\n    @AfterMethod\n    public synchronized void teardown() {\n        ThreadLocalDriver.getTLDriver().quit();\n    }\n\n    @AfterTest(alwaysRun = true)\n    public synchronized void stopAppiumServer(){\n        if(service.isRunning()) {\n            System.out.println(&quot;Stopping Appium Server&quot;);\n            service.stop();\n        }\n        else {\n            System.out.println(&quot;Appium Server Already Closed&quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>AppiumServiceBuilderUtil.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AppiumServiceBuilderUtil {\n\n    public AppiumServiceBuilderUtil(){}\n\n    private static final ThreadLocal&lt;AppiumDriverLocalService&gt; tlService = new ThreadLocal&lt;&gt;();\n    public static synchronized void setTLService(AppiumDriverLocalService service) { tlService.set(service); }\n    public static synchronized AppiumDriverLocalService getTLService() {\n        return tlService.get();\n    }\n\n    public AppiumDriverLocalService buildAppiumService(){\n        String serverOS = Reporter.getCurrentTestResult().getTestContext().getCurrentXmlTest().getParameter(&quot;deviceOS&quot;);\n        AppiumServiceBuilder builder = new AppiumServiceBuilder();\n\n/* Deprecated, Now uses default values\n        builder.withIPAddress(&quot;0.0.0.0&quot;);\n        builder.usingPort(4723);\n*/\n        builder.usingAnyFreePort();\n        builder.withArgument(GeneralServerFlag.USE_PLUGINS, &quot;relaxed-caps&quot;);\n        builder.withArgument(GeneralServerFlag.ALLOW_INSECURE, &quot;chromedriver_autodownload&quot;);\n        \n        builder.usingDriverExecutable(new File(&quot;/opt/homebrew/bin/node&quot;));\n\n        builder.withLogFile(new File(String.format(&quot;logs/appium_server_log_%s.log&quot;, serverOS)));\n        setTLService(AppiumDriverLocalService.buildService(builder));\n        return getTLService();\n\n    }\n\n}\n</code></pre>\n<p>DesiredCapabilitiesUtil.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DesiredCapabilitiesUtil {\n    private static final ThreadLocal&lt;DesiredCapabilities&gt; tlCaps = new ThreadLocal&lt;&gt;();\n    static Properties props = new Properties();\n\n    public DesiredCapabilitiesUtil(){}\n\n    public static synchronized void setTlCaps(DesiredCapabilities caps){tlCaps.set(caps);}\n\n    public static synchronized DesiredCapabilities getTLCaps() {\n        return tlCaps.get();\n    }\n\n    public DesiredCapabilities getDesiredCapabilities(String deviceOS){\n        boolean localRun = Boolean.parseBoolean(System.getProperty(&quot;localRun&quot;, &quot;false&quot;));\n        String capFile;\n        if(localRun){\n            capFile = &quot;local-decivecapabilities.properties&quot;;}\n        else {\n            capFile = &quot;decivecapabilities.properties&quot;;}\n\n        try (InputStream inputStream = ClassLoader.getSystemResourceAsStream(capFile)){\n            props.load(inputStream);\n        } catch (Exception e) {e.printStackTrace();}\n        setTlCaps(new DesiredCapabilities());\n        tlCaps.get().setCapability(&quot;newCommandTimeout&quot;, 300);\n        switch (deviceOS) {\n            case &quot;iOS&quot;:\n                tlCaps.get().setCapability(&quot;deviceName&quot;, props.getProperty(&quot;ios.capability.deviceName&quot;));\n                tlCaps.get().setCapability(&quot;udid&quot;, props.getProperty(&quot;ios.capability.udid&quot;));\n                tlCaps.get().setCapability(&quot;platformName&quot;, props.getProperty(&quot;ios.capability.platformName&quot;));\n                tlCaps.get().setCapability(&quot;platformVersion&quot;, props.getProperty(&quot;ios.capability.platformVersion&quot;));\n                tlCaps.get().setCapability(&quot;automationName&quot;, props.getProperty(&quot;ios.capability.automationName&quot;));\n                \n                tlCaps.get().setCapability(&quot;app&quot;, props.getProperty(&quot;ios.capability.app&quot;));\n                tlCaps.get().setCapability(&quot;autoAcceptAlerts&quot;, true);\n                tlCaps.get().setCapability(&quot;includeSafariInWebviews&quot;, true);\n                tlCaps.get().setCapability(&quot;webviewConnectTimeout&quot;, 20000);\n                break;\n\n            case &quot;Android&quot;:\n                tlCaps.get().setCapability(&quot;deviceName&quot;, props.getProperty(&quot;android.capability.deviceName&quot;));\n                tlCaps.get().setCapability(&quot;udid&quot;, props.getProperty(&quot;android.capability.udid&quot;));\n                tlCaps.get().setCapability(&quot;platformName&quot;, props.getProperty(&quot;android.capability.platformName&quot;));\n                tlCaps.get().setCapability(&quot;platformVersion&quot;, props.getProperty(&quot;android.capability.platformVersion&quot;));\n                tlCaps.get().setCapability(&quot;automationName&quot;, props.getProperty(&quot;android.capability.automationName&quot;));\n                tlCaps.get().setCapability(&quot;unlockType&quot;, props.getProperty(&quot;android.capability.unlockType&quot;));\n                tlCaps.get().setCapability(&quot;unlockKey&quot;, props.getProperty(&quot;android.capability.unlockKey&quot;));\n\n                tlCaps.get().setCapability(&quot;app&quot;, props.getProperty(&quot;android.capability.app&quot;));\n                tlCaps.get().setCapability(&quot;autoGrantPermissions&quot;, true);\n                break;\n\n            default:\n                throw new RuntimeException(&quot;No or invalid device OS given&quot;);\n        }\n\n        return getTLCaps();\n    }\n}\n</code></pre>\n<p>ThreadLocalDriver.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ThreadLocalDriver {\n\n    private static final ThreadLocal&lt;AppiumDriver&gt; tlDriver = new ThreadLocal&lt;&gt;();\n    public static synchronized void setTLDriver(AppiumDriver driver) { tlDriver.set(driver); }\n    public static synchronized AppiumDriver getTLDriver() {\n        return tlDriver.get();\n    }\n}\n</code></pre>\n<p>testng.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n\n&lt;suite name=&quot;Automation Test&quot; parallel=&quot;tests&quot; thread-count=&quot;2&quot;&gt;\n\n    &lt;test name=&quot;iOS&quot;&gt;\n        &lt;parameter name=&quot;deviceOS&quot; value=&quot;iOS&quot;/&gt;\n        &lt;parameter name=&quot;cucumber.filter.tags&quot; value=&quot;(@ios or not @android) and not (@skip or @demo)&quot;/&gt;\n        &lt;parameter name=&quot;cucumber.plugin&quot; value=&quot;pretty, json:target/cucumber-reports_ios/test_results.json,\n        junit:target/cucumber-reports_ios/test_results.xml,\n        html:target/cucumber-reports_ios/test_results.html&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;runner.RunParallelTests&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n\n    &lt;test name=&quot;Android&quot;&gt;\n        &lt;parameter name=&quot;deviceOS&quot; value=&quot;Android&quot;/&gt;\n        &lt;parameter name=&quot;cucumber.filter.tags&quot; value=&quot;(@android or not @ios) and not (@skip or @demo)&quot;/&gt;\n        &lt;parameter name=&quot;cucumber.plugin&quot; value=&quot;pretty, json:target/cucumber-reports_android/test_results.json,\n        junit:target/cucumber-reports_android/test_results.xml,\n        html:target/cucumber-reports_android/test_results.html&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;runner.RunParallelTests&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n    \n&lt;/suite&gt;\n</code></pre>\n<p>From there it is your basic POM cucumber step up. I do initialize all my Page Objects at the top of my <code>StepDefs.java</code> file <code>protected PageObject pageObject = new PageObject(ThreadLocalDriver.getTLDriver())</code> but I plan to move them into a thread safe factory class eventually.</p>\n"},{"tags":["java","swing","intellij-idea","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1700779566,"post_id":77539932,"comment_id":136698759,"body_markdown":"`WindowAdapter#windowClosing` is an empty convenience implementation of the `WindowListener` interface, so in this case, there is no need to call the `super` method","body":"<code>WindowAdapter#windowClosing</code> is an empty convenience implementation of the <code>WindowListener</code> interface, so in this case, there is no need to call the <code>super</code> method"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1700779629,"post_id":77539932,"comment_id":136698763,"body_markdown":"And `super.windowClosing(e)  /\\* ; \\*/ {` should be `super.windowClosing(e);` (and also remove the trailing `}`) but as I stated, the call isn&#39;t required","body":"And <code>super.windowClosing(e)  &#47;\\* ; \\*&#47; {</code> should be <code>super.windowClosing(e);</code> (and also remove the trailing <code>}</code>) but as I stated, the call isn&#39;t required"},{"owner":{"account_id":29978399,"reputation":3,"user_id":22974031,"display_name":"person"},"score":0,"creation_date":1700779686,"post_id":77539932,"comment_id":136698769,"body_markdown":"If i remove it, Intellij says, &quot; Cannot resolve method &#39;add(WindowAdapter)&#39; &quot;","body":"If i remove it, Intellij says, &quot; Cannot resolve method &#39;add(WindowAdapter)&#39; &quot;"},{"owner":{"account_id":29978399,"reputation":3,"user_id":22974031,"display_name":"person"},"score":0,"creation_date":1700779775,"post_id":77539932,"comment_id":136698775,"body_markdown":"those comments were just supposed to demonstrate where the semicolon is supposed to go according to intellij","body":"those comments were just supposed to demonstrate where the semicolon is supposed to go according to intellij"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1700779943,"post_id":77539932,"comment_id":136698787,"body_markdown":"Let&#39;s also point out that Swing is NOT thread safe, so `new Thread(() -&gt; frame.add(new WindowAdapter() {` is a bad idea","body":"Let&#39;s also point out that Swing is NOT thread safe, so <code>new Thread(() -&gt; frame.add(new WindowAdapter() {</code> is a bad idea"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700781886,"post_id":77539932,"comment_id":136698928,"body_markdown":"In digression, when _over-riding_ a method, make a call to the _super_ implementation of, to apply any pertinent, associated, processes.  Optional, of course, considering.  Here is the _Java_ tutorial, on _over-riding methods_, _[Overriding and Hiding Methods (The Java™ Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)](https://docs.oracle.com/javase/tutorial/java/IandI/override.html)_.","body":"In digression, when <i>over-riding</i> a method, make a call to the <i>super</i> implementation of, to apply any pertinent, associated, processes.  Optional, of course, considering.  Here is the <i>Java</i> tutorial, on <i>over-riding methods</i>, <i><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/override.html\" rel=\"nofollow noreferrer\">Overriding and Hiding Methods (The Java™ Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)</a></i>."}],"answers":[{"comments":[{"owner":{"account_id":29978399,"reputation":3,"user_id":22974031,"display_name":"person"},"score":0,"creation_date":1700780501,"post_id":77539963,"comment_id":136698835,"body_markdown":"Thank you so much, that really helped. The first part helped the error, then it ran but wouldn&#39;t close. But removing the thread fixed that up.","body":"Thank you so much, that really helped. The first part helped the error, then it ran but wouldn&#39;t close. But removing the thread fixed that up."}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700780096,"creation_date":1700780096,"answer_id":77539963,"question_id":77539932,"body_markdown":"`frame.add(new WindowAdapter()` is an invalid call, as `JFrame` does not have a `add(WindowListener)` method and instead, you should be using the `JFrame#addWindowListener` method, for example...\r\n\r\n    frame.addWindowListener(new WindowAdapter() {\r\n        @Override\r\n        public void windowClosing(WindowEvent e) {\r\n            System.out.println(&quot;Window is closing&quot;);\r\n        }\r\n    });\r\n\r\nSwing is also NOT thread safe.\r\n\r\n    Thread t4 = new Thread(() -&gt; frame.add(new WindowAdapter() { ... })\r\n\r\nis violating this rule and doesn&#39;t make a lot of sense.\r\n\r\nThis will cause the `Thread` to call the `add` method of the `JFrame`, but the call to `windowClosing` will be executed within the context of the Event Dispatching Thread ... so it just seems completely pointless.\r\n\r\n\r\nYou should take a closer look at [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)\r\n","title":"Code won&#39;t run if super.windowClosing(e) doesn&#39;t exist, and it requires a &quot;;&quot;, which causes the IDE to treat it as if it was not there","body":"<p><code>frame.add(new WindowAdapter()</code> is an invalid call, as <code>JFrame</code> does not have a <code>add(WindowListener)</code> method and instead, you should be using the <code>JFrame#addWindowListener</code> method, for example...</p>\n<pre><code>frame.addWindowListener(new WindowAdapter() {\n    @Override\n    public void windowClosing(WindowEvent e) {\n        System.out.println(&quot;Window is closing&quot;);\n    }\n});\n</code></pre>\n<p>Swing is also NOT thread safe.</p>\n<pre><code>Thread t4 = new Thread(() -&gt; frame.add(new WindowAdapter() { ... })\n</code></pre>\n<p>is violating this rule and doesn't make a lot of sense.</p>\n<p>This will cause the <code>Thread</code> to call the <code>add</code> method of the <code>JFrame</code>, but the call to <code>windowClosing</code> will be executed within the context of the Event Dispatching Thread ... so it just seems completely pointless.</p>\n<p>You should take a closer look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a></p>\n"}],"owner":{"account_id":29978399,"reputation":3,"user_id":22974031,"display_name":"person"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77539963,"answer_count":1,"score":0,"last_activity_date":1700780132,"creation_date":1700779422,"question_id":77539932,"body_markdown":"This is my first question on here, so any feedback about the way I asked this question would be helpful.\r\n\r\n I am writing code that will save information to a text file when the JFrame gets closed. When I initially wrote the listener, Intellij put in that extra line of code (super.windowClosing(e)) because there was an error initially (Cannot resolve method &#39;add(WindowAdapter)&#39;), so I had pressed the fix button which put in that line, but it also caused an error to pop up saying that it was missing a semicolon.\r\n\r\n//Thread 4\r\n\r\n   \r\n\r\n \r\n\r\n    Thread t4 = new Thread(() -&gt; frame.add(new WindowAdapter() {\r\n    \r\n                @Override\r\n                public void windowClosing(WindowEvent e) {\r\n                    super.windowClosing(e)  \\* ; */ {\r\n    \r\n                        try {\r\n                            FileWriter writer = new FileWriter(&quot;Registry.txt&quot;);\r\n    \r\n                            for (String key : loginRegistry.keySet()) {\r\n                                //write key to file\r\n                                for (String innerKey : loginRegistry.get(key).keySet()) {\r\n                                    //write innerKey to file\r\n                                    //write get(innerKey) to file\r\n                                }\r\n                            }\r\n                            writer.close();\r\n                            frame.dispose();\r\n                            System.exit(0);\r\n    \r\n                        }catch(IOException x){x.printStackTrace();}\r\n    \r\n                        }\r\n                    }\r\n    \r\n            }));\r\n\r\n\r\nThis code segment is supposed to write down a map (containing strings and maps(containing a string and a char array)) into a file, so that when the program is run again it can read the information that was saved. But the program won&#39;t run do to the error.\r\n","title":"Code won&#39;t run if super.windowClosing(e) doesn&#39;t exist, and it requires a &quot;;&quot;, which causes the IDE to treat it as if it was not there","body":"<p>This is my first question on here, so any feedback about the way I asked this question would be helpful.</p>\n<p>I am writing code that will save information to a text file when the JFrame gets closed. When I initially wrote the listener, Intellij put in that extra line of code (super.windowClosing(e)) because there was an error initially (Cannot resolve method 'add(WindowAdapter)'), so I had pressed the fix button which put in that line, but it also caused an error to pop up saying that it was missing a semicolon.</p>\n<p>//Thread 4</p>\n<pre><code>Thread t4 = new Thread(() -&gt; frame.add(new WindowAdapter() {\n\n            @Override\n            public void windowClosing(WindowEvent e) {\n                super.windowClosing(e)  \\* ; */ {\n\n                    try {\n                        FileWriter writer = new FileWriter(&quot;Registry.txt&quot;);\n\n                        for (String key : loginRegistry.keySet()) {\n                            //write key to file\n                            for (String innerKey : loginRegistry.get(key).keySet()) {\n                                //write innerKey to file\n                                //write get(innerKey) to file\n                            }\n                        }\n                        writer.close();\n                        frame.dispose();\n                        System.exit(0);\n\n                    }catch(IOException x){x.printStackTrace();}\n\n                    }\n                }\n\n        }));\n</code></pre>\n<p>This code segment is supposed to write down a map (containing strings and maps(containing a string and a char array)) into a file, so that when the program is run again it can read the information that was saved. But the program won't run do to the error.</p>\n"},{"tags":["java","spring","rest","heroku","http-status-code-503"],"comments":[{"owner":{"account_id":451021,"reputation":181,"user_id":846668,"display_name":"Tyutyutyu"},"score":0,"creation_date":1700777640,"post_id":77539827,"comment_id":136698588,"body_markdown":"Can you share the full stacktrace from the log?","body":"Can you share the full stacktrace from the log?"},{"owner":{"account_id":25893692,"reputation":9,"user_id":19620670,"display_name":"Maria"},"score":0,"creation_date":1700779776,"post_id":77539827,"comment_id":136698776,"body_markdown":"at the moment that was the full log. If I try to perform a POST request you can see the log at the end.","body":"at the moment that was the full log. If I try to perform a POST request you can see the log at the end."},{"owner":{"account_id":451021,"reputation":181,"user_id":846668,"display_name":"Tyutyutyu"},"score":0,"creation_date":1700790445,"post_id":77539827,"comment_id":136699523,"body_markdown":"This is not the full log, this is the last x lines of it. Read the Heroku docs how to view the full log and post a full stacktrace.","body":"This is not the full log, this is the last x lines of it. Read the Heroku docs how to view the full log and post a full stacktrace."}],"owner":{"account_id":25893692,"reputation":9,"user_id":19620670,"display_name":"Maria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700779817,"creation_date":1700777242,"question_id":77539827,"body_markdown":"I managed to deploy my Java Spring application using Heroku, but none of the Requests work. When I click on inspect element, I see in the console the following error: Failed to load resource: the server responded with a status of 503 (Service Unavailable)\r\n\r\nThe application worked perfectly when I ran it as localhost:8080 \r\n\r\nI don&#39;t know if this is important but the app is using basic dynes in Heroku. \r\nHere is my **pom** file: \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;TaskManager&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;TaskManager&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;21&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;image&gt;\r\n\t\t\t\t\t\t&lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;\r\n\t\t\t\t\t&lt;/image&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nThese are the **Heroku logs:** \r\n\r\n```\r\n2023-11-23T21:25:46.935729+00:00 app[web.1]: \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T21:25:46.935729+00:00 app[web.1]: \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T21:25:46.935730+00:00 app[web.1]: \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T21:25:46.935730+00:00 app[web.1]: \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T21:25:46.935730+00:00 app[web.1]: \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T21:25:46.935730+00:00 app[web.1]: \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T21:25:46.935730+00:00 app[web.1]: \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T21:25:46.935730+00:00 app[web.1]: \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T21:25:46.935730+00:00 app[web.1]: \tat java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]\r\n2023-11-23T21:25:46.935731+00:00 app[web.1]: \r\n```\r\n\r\nAfter reading other questions with the same issue I followed some suggestions and added a system.properties file where I added the java version and a Procfile but this didn&#39;t fix the issue. \r\n**system.properties** \r\n``` \r\njava.runtime.version=21 \r\n```\r\n**Procfile** \r\n``` \r\nweb: java -Dserver.port=$PORT -jar target/TaskManager-0.0.1-SNAPSHOT.jar\r\n``` \r\nIn addition to this, I am using Mongodb as a database and I made sure to add **0.0.0.0/0** as an IP address so the data should be accessible. \r\n\r\nWhat else can I try to fix the issue?\r\n\r\nThank you in advance.\r\n\r\nFULL LOG from Heroku \r\n2023-11-23T22:11:30.324316+00:00 app[web.1]: \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T22:11:30.324320+00:00 app[web.1]: \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T22:11:30.324320+00:00 app[web.1]: \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T22:11:30.324320+00:00 app[web.1]: \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T22:11:30.324321+00:00 app[web.1]: \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T22:11:30.324321+00:00 app[web.1]: \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T22:11:30.324321+00:00 app[web.1]: \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T22:11:30.324321+00:00 app[web.1]: \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]\r\n2023-11-23T22:11:30.324322+00:00 app[web.1]: \tat java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]\r\n2023-11-23T22:11:30.324322+00:00 app[web.1]: \r\n2023-11-23T22:34:21.814117+00:00 heroku[router]: at=info method=GET path=&quot;/index.html?continue&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=1717a89b-d210-4dd0-a69a-22be61029186 fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=4ms status=302 bytes=477 protocol=https\r\n2023-11-23T22:34:21.886741+00:00 heroku[router]: at=info method=GET path=&quot;/login&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=998b0560-241c-4d94-bae8-dbd23f21f098 fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=2ms status=200 bytes=1864 protocol=https\r\n2023-11-23T22:34:28.969493+00:00 heroku[router]: at=info method=GET path=&quot;/oauth2/authorization/google&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=43aac0a6-8835-484d-8766-909b3e5d65ae fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=3ms status=302 bytes=707 protocol=https\r\n2023-11-23T22:34:31.787418+00:00 heroku[router]: at=info method=GET path=&quot;/index.html?continue&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=99a74459-3524-48f6-8484-4e6c78af68de fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=4ms status=200 bytes=1942 protocol=https\r\n2023-11-23T22:34:31.712544+00:00 heroku[router]: at=info method=GET path=&quot;/login/oauth2/code/google?state=n4j5_YRUk1VSD4Tub0C0pREQVymtToughfFX04gJLJM%3D&amp;code=4%2F0AfJohXmBRqTmfrPeGrWnUuoTMPU326Vnwv2gFX_yyFqXDirHjorcVeqPlFM-DQp3N3IiIA&amp;scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&amp;authuser=0&amp;prompt=none&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=56468518-3b56-479b-aa03-86d20bc4a07d fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=113ms status=302 bytes=491 protocol=https\r\n2023-11-23T22:34:31.867520+00:00 heroku[router]: at=info method=GET path=&quot;/style.css&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=a9c2813a-3d4a-4ed5-bd05-8e9b0ce26aff fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=3ms status=200 bytes=1667 protocol=https\r\n2023-11-23T22:34:32.050348+00:00 heroku[router]: at=info method=GET path=&quot;/script.js&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=c804842b-9734-4f8d-b58b-21b5fbae7ed7 fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=3ms status=200 bytes=2665 protocol=https\r\n2023-11-23T22:34:32.156045+00:00 app[web.1]: *myemailhere*\r\n2023-11-23T22:34:32.156057+00:00 app[web.1]: 2023-11-23T22:34:32.155Z  INFO 2 --- [io-32250-exec-3] org.mongodb.driver.cluster               : Cluster description not yet available. Waiting for 30000 ms before timing out\r\n2023-11-23T22:34:32.160169+00:00 app[web.1]: *myemailhere*\r\n2023-11-23T22:34:32.160170+00:00 app[web.1]: 2023-11-23T22:34:32.156Z  INFO 2 --- [io-32250-exec-1] org.mongodb.driver.cluster               : Cluster description not yet available. Waiting for 30000 ms before timing out","title":"503 error on GET/POST requests in a Heroku Java Spring application","body":"<p>I managed to deploy my Java Spring application using Heroku, but none of the Requests work. When I click on inspect element, I see in the console the following error: Failed to load resource: the server responded with a status of 503 (Service Unavailable)</p>\n<p>The application worked perfectly when I ran it as localhost:8080</p>\n<p>I don't know if this is important but the app is using basic dynes in Heroku.\nHere is my <strong>pom</strong> file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;TaskManager&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;TaskManager&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;21&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;image&gt;\n                        &lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;\n                    &lt;/image&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>These are the <strong>Heroku logs:</strong></p>\n<pre><code>2023-11-23T21:25:46.935729+00:00 app[web.1]:    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T21:25:46.935729+00:00 app[web.1]:    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T21:25:46.935730+00:00 app[web.1]:    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T21:25:46.935730+00:00 app[web.1]:    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T21:25:46.935730+00:00 app[web.1]:    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T21:25:46.935730+00:00 app[web.1]:    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T21:25:46.935730+00:00 app[web.1]:    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T21:25:46.935730+00:00 app[web.1]:    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T21:25:46.935730+00:00 app[web.1]:    at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]\n2023-11-23T21:25:46.935731+00:00 app[web.1]: \n</code></pre>\n<p>After reading other questions with the same issue I followed some suggestions and added a system.properties file where I added the java version and a Procfile but this didn't fix the issue.\n<strong>system.properties</strong></p>\n<pre><code>java.runtime.version=21 \n</code></pre>\n<p><strong>Procfile</strong></p>\n<pre><code>web: java -Dserver.port=$PORT -jar target/TaskManager-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>In addition to this, I am using Mongodb as a database and I made sure to add <strong>0.0.0.0/0</strong> as an IP address so the data should be accessible.</p>\n<p>What else can I try to fix the issue?</p>\n<p>Thank you in advance.</p>\n<p>FULL LOG from Heroku\n2023-11-23T22:11:30.324316+00:00 app[web.1]:    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T22:11:30.324320+00:00 app[web.1]:    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T22:11:30.324320+00:00 app[web.1]:    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T22:11:30.324320+00:00 app[web.1]:    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T22:11:30.324321+00:00 app[web.1]:    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T22:11:30.324321+00:00 app[web.1]:    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T22:11:30.324321+00:00 app[web.1]:    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T22:11:30.324321+00:00 app[web.1]:    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar!/:na]\n2023-11-23T22:11:30.324322+00:00 app[web.1]:    at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]\n2023-11-23T22:11:30.324322+00:00 app[web.1]:\n2023-11-23T22:34:21.814117+00:00 heroku[router]: at=info method=GET path=&quot;/index.html?continue&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=1717a89b-d210-4dd0-a69a-22be61029186 fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=4ms status=302 bytes=477 protocol=https\n2023-11-23T22:34:21.886741+00:00 heroku[router]: at=info method=GET path=&quot;/login&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=998b0560-241c-4d94-bae8-dbd23f21f098 fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=2ms status=200 bytes=1864 protocol=https\n2023-11-23T22:34:28.969493+00:00 heroku[router]: at=info method=GET path=&quot;/oauth2/authorization/google&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=43aac0a6-8835-484d-8766-909b3e5d65ae fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=3ms status=302 bytes=707 protocol=https\n2023-11-23T22:34:31.787418+00:00 heroku[router]: at=info method=GET path=&quot;/index.html?continue&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=99a74459-3524-48f6-8484-4e6c78af68de fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=4ms status=200 bytes=1942 protocol=https\n2023-11-23T22:34:31.712544+00:00 heroku[router]: at=info method=GET path=&quot;/login/oauth2/code/google?state=n4j5_YRUk1VSD4Tub0C0pREQVymtToughfFX04gJLJM%3D&amp;code=4%2F0AfJohXmBRqTmfrPeGrWnUuoTMPU326Vnwv2gFX_yyFqXDirHjorcVeqPlFM-DQp3N3IiIA&amp;scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&amp;authuser=0&amp;prompt=none&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=56468518-3b56-479b-aa03-86d20bc4a07d fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=113ms status=302 bytes=491 protocol=https\n2023-11-23T22:34:31.867520+00:00 heroku[router]: at=info method=GET path=&quot;/style.css&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=a9c2813a-3d4a-4ed5-bd05-8e9b0ce26aff fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=3ms status=200 bytes=1667 protocol=https\n2023-11-23T22:34:32.050348+00:00 heroku[router]: at=info method=GET path=&quot;/script.js&quot; host=taskmanager-ms-459fc6f5414e.herokuapp.com request_id=c804842b-9734-4f8d-b58b-21b5fbae7ed7 fwd=&quot;88.18.92.143&quot; dyno=web.1 connect=0ms service=3ms status=200 bytes=2665 protocol=https\n2023-11-23T22:34:32.156045+00:00 app[web.1]: <em>myemailhere</em>\n2023-11-23T22:34:32.156057+00:00 app[web.1]: 2023-11-23T22:34:32.155Z  INFO 2 --- [io-32250-exec-3] org.mongodb.driver.cluster               : Cluster description not yet available. Waiting for 30000 ms before timing out\n2023-11-23T22:34:32.160169+00:00 app[web.1]: <em>myemailhere</em>\n2023-11-23T22:34:32.160170+00:00 app[web.1]: 2023-11-23T22:34:32.156Z  INFO 2 --- [io-32250-exec-1] org.mongodb.driver.cluster               : Cluster description not yet available. Waiting for 30000 ms before timing out</p>\n"},{"tags":["java","spring-boot","validation","annotations"],"owner":{"account_id":25749908,"reputation":1,"user_id":19502622,"display_name":"urmila teke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700778988,"creation_date":1700759676,"question_id":77538679,"body_markdown":"In my spring boot project I applied validation on same field name merchantReferenceID one is `c@NotBlank` and another is pattern please find below code for your reference when both the validation failed then the message is not consistent sometimes it shows &quot;Merchant Reference Id cannot be blank or null, Invalid Merchant Reference Id&quot;, and sometime &quot;Invalid Merchant Reference Id, Merchant Reference Id cannot be blank or null&quot;, \r\n\r\nMy requirement is the message should be consistent it should show same message sequence in each request without any custom validation please find below request class.\r\n\r\n```\r\n@ApiModel\r\npublic class SanctionCheckStatus {\r\n    @Schema(required = true, description = &quot;Merchant Reference Id&quot;, example = &quot;343403938493&quot;, minLength = 1, maxLength = 100)\r\n    @NotBlank(message = &quot;Merchant Reference Id cannot be blank or null&quot;)\r\n    @Pattern(regexp = &quot;^[a-zA-Z0-9-]{32,36}$&quot;, message = &quot;Invalid Merchant Reference Id&quot;)\r\n    private String merchantReferenceID;\r\n\r\n//getter and setter\r\n}\r\n```\r\n\r\nI tried change the sequence and not blank to not empty but still same issue.","title":"I applied two validation on same field in spring boot application but when both the validation failed the sequence of message always chaange","body":"<p>In my spring boot project I applied validation on same field name merchantReferenceID one is <code>c@NotBlank</code> and another is pattern please find below code for your reference when both the validation failed then the message is not consistent sometimes it shows &quot;Merchant Reference Id cannot be blank or null, Invalid Merchant Reference Id&quot;, and sometime &quot;Invalid Merchant Reference Id, Merchant Reference Id cannot be blank or null&quot;,</p>\n<p>My requirement is the message should be consistent it should show same message sequence in each request without any custom validation please find below request class.</p>\n<pre><code>@ApiModel\npublic class SanctionCheckStatus {\n    @Schema(required = true, description = &quot;Merchant Reference Id&quot;, example = &quot;343403938493&quot;, minLength = 1, maxLength = 100)\n    @NotBlank(message = &quot;Merchant Reference Id cannot be blank or null&quot;)\n    @Pattern(regexp = &quot;^[a-zA-Z0-9-]{32,36}$&quot;, message = &quot;Invalid Merchant Reference Id&quot;)\n    private String merchantReferenceID;\n\n//getter and setter\n}\n</code></pre>\n<p>I tried change the sequence and not blank to not empty but still same issue.</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1700861405,"post_id":77539883,"comment_id":136708541,"body_markdown":"In general it runs them in parallel (i.e., subscribe to all at the same time), but you may use `subscribeOn` to make sure it doesn&#39;t do everything in the current subscription thread. `boundedElastic` is a right choice for IO","body":"In general it runs them in parallel (i.e., subscribe to all at the same time), but you may use <code>subscribeOn</code> to make sure it doesn&#39;t do everything in the current subscription thread. <code>boundedElastic</code> is a right choice for IO"},{"owner":{"account_id":4552102,"reputation":175,"user_id":3696953,"display_name":"duppydodah"},"score":0,"creation_date":1700890665,"post_id":77539883,"comment_id":136710348,"body_markdown":"@IgorArtamonov If I am wanting to run them in parallel then, there is no need to use `subscribeOn` since, that would more so be if I want certain calls to be subscribed at different points in time correct ?","body":"@IgorArtamonov If I am wanting to run them in parallel then, there is no need to use <code>subscribeOn</code> since, that would more so be if I want certain calls to be subscribed at different points in time correct ?"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":1,"creation_date":1700926722,"post_id":77539883,"comment_id":136713025,"body_markdown":"Some _Publishers_ may execute too many operations, if not everything, during the subscription itself. I.e., it takes a bit longer to subscribe. So without `subscribeOn` you will subscribe to them one by one in the same thread. Not a big problem maybe if the publishers are actually use their own thread for publishing. Latter is not always the case, and some may continue the processing in the same thread as they received the subscription command, which forces the following _subscription_ calls to wait for the current one. With `subscribeOn` you always switch to a new thread to avoid that","body":"Some <i>Publishers</i> may execute too many operations, if not everything, during the subscription itself. I.e., it takes a bit longer to subscribe. So without <code>subscribeOn</code> you will subscribe to them one by one in the same thread. Not a big problem maybe if the publishers are actually use their own thread for publishing. Latter is not always the case, and some may continue the processing in the same thread as they received the subscription command, which forces the following <i>subscription</i> calls to wait for the current one. With <code>subscribeOn</code> you always switch to a new thread to avoid that"}],"owner":{"account_id":4552102,"reputation":175,"user_id":3696953,"display_name":"duppydodah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700778552,"creation_date":1700778552,"question_id":77539883,"body_markdown":"I am trying to confirm 2 things.\r\n\r\nOne, that zipping a collection of Monos or Fluxes will in fact run blocking-type calls such as hitting API endpoints, DB calls, or other network-related calls in a non-blocking context in parallel.\r\n\r\n```\r\nMono&lt;A&gt; a = myDatabaseCall();\r\nMono&lt;B&gt; b = myAPICall();\r\nMono&lt;C&gt; c = myBlockingCall();\r\n\r\n// Code I would like to be executed in parallel (at the same time)\r\nMono.zip(a, b, c)\r\n```\r\n\r\nTwo, how to run a parallel call when the return type of 1 call is `Mono&lt;Void&gt;` &amp; for the other calls are non-void.\r\n\r\n```\r\nMono&lt;A&gt; a = myDatabaseCall();\r\nMono&lt;Void&gt; b = notifySystem();\r\n\r\n// How would you run in parallel since, Mono.zip doesn&#39;t support Void? Use Flux.zip?\r\nMono.zip(a, b)\r\n```\r\n\r\nAlso, I am not super familiar the methods `fromCallable()` or `subscribeOn` &amp; I was curious to know if anyone knew if this scenario would be a use case for them?\r\n\r\n```\r\nMono.fromCallable(() -&gt; myDatabaseCall())\r\n    .subscribeOn(Schedulers.boundedElastic());  // or Schedulers.parallel() ?\r\n```","title":"Project Reactor - Does Mono/Flux Zip method run code in parallel &amp; how to handle Void return type?","body":"<p>I am trying to confirm 2 things.</p>\n<p>One, that zipping a collection of Monos or Fluxes will in fact run blocking-type calls such as hitting API endpoints, DB calls, or other network-related calls in a non-blocking context in parallel.</p>\n<pre><code>Mono&lt;A&gt; a = myDatabaseCall();\nMono&lt;B&gt; b = myAPICall();\nMono&lt;C&gt; c = myBlockingCall();\n\n// Code I would like to be executed in parallel (at the same time)\nMono.zip(a, b, c)\n</code></pre>\n<p>Two, how to run a parallel call when the return type of 1 call is <code>Mono&lt;Void&gt;</code> &amp; for the other calls are non-void.</p>\n<pre><code>Mono&lt;A&gt; a = myDatabaseCall();\nMono&lt;Void&gt; b = notifySystem();\n\n// How would you run in parallel since, Mono.zip doesn't support Void? Use Flux.zip?\nMono.zip(a, b)\n</code></pre>\n<p>Also, I am not super familiar the methods <code>fromCallable()</code> or <code>subscribeOn</code> &amp; I was curious to know if anyone knew if this scenario would be a use case for them?</p>\n<pre><code>Mono.fromCallable(() -&gt; myDatabaseCall())\n    .subscribeOn(Schedulers.boundedElastic());  // or Schedulers.parallel() ?\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","aws-lambda","spring-cloud"],"owner":{"account_id":22346686,"reputation":1,"user_id":16565559,"display_name":"Kofi Boateng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700778440,"creation_date":1700778440,"question_id":77539876,"body_markdown":"In the past I have created AWS Lambdas using Spring Cloud Function and everything worked fine. I believe I used Spring Boot 3.0.0 and used Java 11. Now I am currently using Spring 3.1.6 and Java 17 to create a sample function and I cannot seem to get it to work like before. Below, I will show what my Pom file looks like as well. I even added a MANIFEST.MF in the correct file structure, and I am still not getting the function to be called. Since the last time I created the working function, it has only been roughly 8 months. Has there been any significant changes In how to invoke the function?\r\n\r\n\r\n\r\n\r\n\r\n\r\nAWS Handler portion (How you used to invoke the function within AWS)\r\norg.springframework.cloud.function.adapter.aws.FunctionInvoker::handleRequest\r\n\r\nFile Structure\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\nimport java.util.function.Function;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Function&lt;String,String&gt; capitalize(){return String::toUpperCase;}\r\n\r\n}\r\n```\r\n\r\nPOM\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-function-context&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-function-adapter-aws&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;com.example.demo.DemoApplication&lt;/mainClass&gt;\r\n\t\t\t\t\t&lt;image&gt;\r\n\t\t\t\t\t\t&lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;\r\n\t\t\t\t\t&lt;/image&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.5.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n\t\t\t\t\t&lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n\t\t\t\t\t&lt;shadedClassifierName&gt;aws&lt;/shadedClassifierName&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n","title":"Spring Cloud and AWS Lambda: Issue with MAIN_CLASS not being found","body":"<p>In the past I have created AWS Lambdas using Spring Cloud Function and everything worked fine. I believe I used Spring Boot 3.0.0 and used Java 11. Now I am currently using Spring 3.1.6 and Java 17 to create a sample function and I cannot seem to get it to work like before. Below, I will show what my Pom file looks like as well. I even added a MANIFEST.MF in the correct file structure, and I am still not getting the function to be called. Since the last time I created the working function, it has only been roughly 8 months. Has there been any significant changes In how to invoke the function?</p>\n<p>AWS Handler portion (How you used to invoke the function within AWS)\norg.springframework.cloud.function.adapter.aws.FunctionInvoker::handleRequest</p>\n<p>File Structure</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\nimport java.util.function.Function;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Bean\n    public Function&lt;String,String&gt; capitalize(){return String::toUpperCase;}\n\n}\n</code></pre>\n<p>POM</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-function-context&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-function-adapter-aws&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.example.demo.DemoApplication&lt;/mainClass&gt;\n                    &lt;image&gt;\n                        &lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;\n                    &lt;/image&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                    &lt;shadedClassifierName&gt;aws&lt;/shadedClassifierName&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9877,"page":40,"page_size":100}
