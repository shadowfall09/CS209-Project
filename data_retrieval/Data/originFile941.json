{"items":[{"tags":["java","arrays","sorting","oop"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1666493489,"post_id":74168347,"comment_id":130949247,"body_markdown":"What value does `min` start with? Given that, when is `nums[i]&lt; min` true? What&#39;s a more suitable starting number for `min`?","body":"What value does <code>min</code> start with? Given that, when is <code>nums[i]&lt; min</code> true? What&#39;s a more suitable starting number for <code>min</code>?"},{"owner":{"account_id":25325886,"reputation":9,"user_id":19146556,"display_name":"yury ting"},"score":1,"creation_date":1666493831,"post_id":74168347,"comment_id":130949281,"body_markdown":"So i can do int min = nums[0]; Thanks","body":"So i can do int min = nums[0]; Thanks"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1666494132,"post_id":74168347,"comment_id":130949316,"body_markdown":"You can&#39;t really delete anything from an array.  You can emulate deletion by creating a shorter array without the value you want to remove.  Then assign the new array to your variable.  Have you learned about methods?  That would help a little.","body":"You can&#39;t really delete anything from an array.  You can emulate deletion by creating a shorter array without the value you want to remove.  Then assign the new array to your variable.  Have you learned about methods?  That would help a little."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1666495048,"post_id":74168347,"comment_id":130949418,"body_markdown":"Streams are very nice for problems like this. `int min = Arrays.stream(nums).min(Integer::compare).orElse(0); int max = Arrays.stream(nums).max(Integer::compare).orElse(0); int result = Arrays.stream(nums).filter(x -&gt; x != min &amp;&amp; x != max).toArray(int[]::new);`. This creates the new array `result`. As others have said, you can&#39;t shorten a Java array.","body":"Streams are very nice for problems like this. <code>int min = Arrays.stream(nums).min(Integer::compare).orElse(0); int max = Arrays.stream(nums).max(Integer::compare).orElse(0); int result = Arrays.stream(nums).filter(x -&gt; x != min &amp;&amp; x != max).toArray(int[]::new);</code>. This creates the new array <code>result</code>. As others have said, you can&#39;t shorten a Java array."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1666503297,"post_id":74168347,"comment_id":130950079,"body_markdown":"Also consider what you want to do if the maximum comes twice in the array and what to do if the array is empty (has length 0).","body":"Also consider what you want to do if the maximum comes twice in the array and what to do if the array is empty (has length 0)."}],"answers":[{"comments":[{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":2,"creation_date":1666494684,"post_id":74168425,"comment_id":130949392,"body_markdown":"This only works if the min and max aren&#39;t repeated.","body":"This only works if the min and max aren&#39;t repeated."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1666494983,"post_id":74168425,"comment_id":130949413,"body_markdown":"@Gene **And** if there are more than 2 numbers. Actually works fine to remove the first occurence of each. Further corner cases left as an exercise for the reader.","body":"@Gene <b>And</b> if there are more than 2 numbers. Actually works fine to remove the first occurence of each. Further corner cases left as an exercise for the reader."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":1,"creation_date":1666495191,"post_id":74168425,"comment_id":130949426,"body_markdown":"You can modify it to work with multiple values of min and max.  Use the value of min or max plus a count of min or max to do the deletion.","body":"You can modify it to work with multiple values of min and max.  Use the value of min or max plus a count of min or max to do the deletion."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666494485,"creation_date":1666494485,"answer_id":74168425,"question_id":74168347,"body_markdown":"You can&#39;t delete elements from an array, an array has a fixed length determined at creation time. You can instead create a new array with two fewer elements. You only need one loop to determine the `min` and `max`, but instead of doing so directly it&#39;s cleaner in my opinion to track the indices of the `min` and `max` elements. Then you can use a second loop to skip those elements when you copy `nums` to the new array. Like,\r\n\r\n\tint[] nums = { 10, 50, 20, 90, 22 };\r\n\tint mini = 0, maxi = 0;\r\n\tfor (int i = 1; i &lt; nums.length; i++) {\r\n\t\tif (nums[i] &lt; nums[mini]) {\r\n\t\t\tmini = i;\r\n\t\t}\r\n\t\tif (nums[i] &gt; nums[maxi]) {\r\n\t\t\tmaxi = i;\r\n\t\t}\r\n\t}\r\n\tSystem.out.printf(&quot;The min = %d, the max = %d%n&quot;, nums[mini], nums[maxi]);\r\n\tint[] newNums = new int[nums.length - 2]; // A new array, with two fewer elements\r\n\tint p = 0;\r\n\tfor (int i = 0; i &lt; nums.length; i++) {\r\n\t\tif (i != mini &amp;&amp; i != maxi) {\r\n\t\t\tnewNums[p++] = nums[i];\r\n\t\t}\r\n\t}\r\n\tSystem.out.println(Arrays.toString(newNums));\r\n\r\nWhich outputs\r\n\r\n    The min = 10, the max = 90\r\n    [50, 20, 22]\r\n\r\n","title":"How to delete minimum and maximum from array?","body":"<p>You can't delete elements from an array, an array has a fixed length determined at creation time. You can instead create a new array with two fewer elements. You only need one loop to determine the <code>min</code> and <code>max</code>, but instead of doing so directly it's cleaner in my opinion to track the indices of the <code>min</code> and <code>max</code> elements. Then you can use a second loop to skip those elements when you copy <code>nums</code> to the new array. Like,</p>\n<pre><code>int[] nums = { 10, 50, 20, 90, 22 };\nint mini = 0, maxi = 0;\nfor (int i = 1; i &lt; nums.length; i++) {\n    if (nums[i] &lt; nums[mini]) {\n        mini = i;\n    }\n    if (nums[i] &gt; nums[maxi]) {\n        maxi = i;\n    }\n}\nSystem.out.printf(&quot;The min = %d, the max = %d%n&quot;, nums[mini], nums[maxi]);\nint[] newNums = new int[nums.length - 2]; // A new array, with two fewer elements\nint p = 0;\nfor (int i = 0; i &lt; nums.length; i++) {\n    if (i != mini &amp;&amp; i != maxi) {\n        newNums[p++] = nums[i];\n    }\n}\nSystem.out.println(Arrays.toString(newNums));\n</code></pre>\n<p>Which outputs</p>\n<pre><code>The min = 10, the max = 90\n[50, 20, 22]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666499342,"creation_date":1666496708,"answer_id":74168521,"question_id":74168347,"body_markdown":"**Using Java 8**\r\n\r\n*You can try by using `streams` with the approach below:*\r\n\r\n***Approach Here:***\r\n\r\nI have converted the given array of Integers in the `sorted` list and then find the minimum and maximum integer from that list using any of the below method and then filtered the `nums` Array with these `min` and `max` integers and converted the filtered list back to *Array of Integers*.\r\n\r\n**To find the minimum and maximum integer in an array**\r\n\r\n*1) By using IntSummaryStatistics from stream*\r\n\r\n    IntSummaryStatistics statistics = Arrays.stream(nums).summaryStatistics();\r\n            int minNum = statistics.getMin();\r\n            int maxNum = statistics.getMax();\r\n\r\n*2) By Sorting the array*\r\n\r\n    List&lt;Integer&gt; mainList = Arrays.stream(nums).boxed().sorted()\r\n                                           .collect(Collectors.toList());\r\n            int minNum = mainList.get(0);\r\n            int maxNum = mainList.get(mainList.size()-1);\r\n\r\n**Note:** *It will remove all the occurrences of minimum and maximum integer from the given array.*\r\n\r\n    \r\n\r\n        public class Test {\r\n          public static void main(String[] args) {\r\n            int [] nums = {10,50,90,20,5,90,22,5};\r\n            \r\n            IntSummaryStatistics statistics = Arrays.stream(nums).summaryStatistics();\r\n            int minNum = statistics.getMin();\r\n            int maxNum = statistics.getMax();\r\n    \r\n            int[] num = Arrays.stream(nums)\r\n                               .filter(x -&gt; x != minNum &amp;&amp; x != maxNum).toArray();\r\n            for(int i:num){\r\n                System.out.print(i + &quot; &quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n**Testcases:**\r\n\r\n    Input: {10,50,90,20,5,90,22,5}\r\n    Output: 10 50 20 22\r\n    \r\n    Input: {10, 50, 20, 90, 22}\r\n    Output: 50 20 22","title":"How to delete minimum and maximum from array?","body":"<p><strong>Using Java 8</strong></p>\n<p><em>You can try by using <code>streams</code> with the approach below:</em></p>\n<p><em><strong>Approach Here:</strong></em></p>\n<p>I have converted the given array of Integers in the <code>sorted</code> list and then find the minimum and maximum integer from that list using any of the below method and then filtered the <code>nums</code> Array with these <code>min</code> and <code>max</code> integers and converted the filtered list back to <em>Array of Integers</em>.</p>\n<p><strong>To find the minimum and maximum integer in an array</strong></p>\n<p><em>1) By using IntSummaryStatistics from stream</em></p>\n<pre><code>IntSummaryStatistics statistics = Arrays.stream(nums).summaryStatistics();\n        int minNum = statistics.getMin();\n        int maxNum = statistics.getMax();\n</code></pre>\n<p><em>2) By Sorting the array</em></p>\n<pre><code>List&lt;Integer&gt; mainList = Arrays.stream(nums).boxed().sorted()\n                                       .collect(Collectors.toList());\n        int minNum = mainList.get(0);\n        int maxNum = mainList.get(mainList.size()-1);\n</code></pre>\n<p><strong>Note:</strong> <em>It will remove all the occurrences of minimum and maximum integer from the given array.</em></p>\n<pre><code>    public class Test {\n      public static void main(String[] args) {\n        int [] nums = {10,50,90,20,5,90,22,5};\n        \n        IntSummaryStatistics statistics = Arrays.stream(nums).summaryStatistics();\n        int minNum = statistics.getMin();\n        int maxNum = statistics.getMax();\n\n        int[] num = Arrays.stream(nums)\n                           .filter(x -&gt; x != minNum &amp;&amp; x != maxNum).toArray();\n        for(int i:num){\n            System.out.print(i + &quot; &quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>Testcases:</strong></p>\n<pre><code>Input: {10,50,90,20,5,90,22,5}\nOutput: 10 50 20 22\n\nInput: {10, 50, 20, 90, 22}\nOutput: 50 20 22\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24057171,"reputation":73,"user_id":18034851,"display_name":"GlidingSwords997"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666501800,"creation_date":1666501641,"answer_id":74168789,"question_id":74168347,"body_markdown":"Arrays are something whose length/size can&#39;t be changed. They are created with a fixed size which can&#39;t be modified. If you want to use the functionality you mentioned, it&#39;s better to go for a list, preferably ArrayList\r\n\r\n    List&lt;Integer&gt; list= new ArrayList&lt;Integer&gt;();\r\n\r\n\r\nYou can always return an ArrayList as an array if need be. You can search for functions like \r\n\r\n    list.toArray()","title":"How to delete minimum and maximum from array?","body":"<p>Arrays are something whose length/size can't be changed. They are created with a fixed size which can't be modified. If you want to use the functionality you mentioned, it's better to go for a list, preferably ArrayList</p>\n<pre><code>List&lt;Integer&gt; list= new ArrayList&lt;Integer&gt;();\n</code></pre>\n<p>You can always return an ArrayList as an array if need be. You can search for functions like</p>\n<pre><code>list.toArray()\n</code></pre>\n"}],"owner":{"account_id":25325886,"reputation":9,"user_id":19146556,"display_name":"yury ting"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":804,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1666501800,"creation_date":1666493135,"question_id":74168347,"body_markdown":"I&#39;m a newbie in java. I&#39;m trying to find minimum maximum element in array and then delete the minimum and maximum. This is the code I wrote, it&#39;s only working for maximum not for minimum. \r\n\r\n```java\r\npublic class delminmax {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint [] nums = {10,50,20,90,22};\r\n\t\tint max = 0;\r\n\t\tint min = 0;\r\n\t\tfor (int i=0; i&lt;nums.length; i++) {\r\n\t\t\tif (nums[i]&gt; max)\r\n\t\t\t\tmax = nums[i];\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;The max number is &quot;+ max);\r\n\r\n\t\tfor (int i=0;i&lt;nums.length;i++)\r\n\t\t\tif (max==nums[i]) {\r\n\t\t\t\tfor (int j=i; j&lt;nums.length-1;j++)\r\n\t\t\t\t\tnums[j]= nums[j+1];\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\tfor (int i=0;i&lt;nums.length-1;i++)\r\n\t\t\tSystem.out.print(nums[i]+ &quot; &quot; + &quot;\\n&quot;);\r\n\t\t\r\n\t\tfor (int i=0; i&lt;nums.length; i++) {\r\n\t\t\tif (nums[i]&lt; min)\r\n\t\t\t\tmin = nums[i];\r\n\t\t}\r\n\t\tSystem.out.println(&quot;The min number is &quot;+ min);\r\n\t\t\r\n\t\t\r\n\t\tfor (int i=0;i&lt;nums.length;i++)\r\n\t\t\tif (min==nums[i]) {\r\n\t\t\t\tfor (int j=i; j&lt;nums.length-1;j++)\r\n\t\t\t\t\tnums[j]= nums[j+1];\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\tfor (int i=0;i&lt;nums.length-1;i++)\r\n\t\t\tSystem.out.println(nums[i] + &quot; &quot;);\r\n\t}\r\n}\r\n```","title":"How to delete minimum and maximum from array?","body":"<p>I'm a newbie in java. I'm trying to find minimum maximum element in array and then delete the minimum and maximum. This is the code I wrote, it's only working for maximum not for minimum.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class delminmax {\n\n    public static void main(String[] args) {\n        int [] nums = {10,50,20,90,22};\n        int max = 0;\n        int min = 0;\n        for (int i=0; i&lt;nums.length; i++) {\n            if (nums[i]&gt; max)\n                max = nums[i];\n        }\n        \n        System.out.println(&quot;The max number is &quot;+ max);\n\n        for (int i=0;i&lt;nums.length;i++)\n            if (max==nums[i]) {\n                for (int j=i; j&lt;nums.length-1;j++)\n                    nums[j]= nums[j+1];\n                \n            }\n        for (int i=0;i&lt;nums.length-1;i++)\n            System.out.print(nums[i]+ &quot; &quot; + &quot;\\n&quot;);\n        \n        for (int i=0; i&lt;nums.length; i++) {\n            if (nums[i]&lt; min)\n                min = nums[i];\n        }\n        System.out.println(&quot;The min number is &quot;+ min);\n        \n        \n        for (int i=0;i&lt;nums.length;i++)\n            if (min==nums[i]) {\n                for (int j=i; j&lt;nums.length-1;j++)\n                    nums[j]= nums[j+1];\n                \n            }\n        for (int i=0;i&lt;nums.length-1;i++)\n            System.out.println(nums[i] + &quot; &quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","radix"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1666484681,"post_id":74167953,"comment_id":130948449,"body_markdown":"[Integer.parseInt(String, int)](https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt(java.lang.String,%20int)) and [Integer.toString(int, int)](https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#toString(int,%20int)) take any base from 2 to 36.  I&#39;m not sure how you expect base 40 to work, though...","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt(java.lang.String,%20int)\" rel=\"nofollow noreferrer\">Integer.parseInt(String, int)</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#toString(int,%20int)\" rel=\"nofollow noreferrer\">Integer.toString(int, int)</a> take any base from 2 to 36.  I&#39;m not sure how you expect base 40 to work, though..."},{"owner":{"account_id":21833637,"reputation":45,"user_id":16128260,"display_name":"404notfound"},"score":0,"creation_date":1666485723,"post_id":74167953,"comment_id":130948539,"body_markdown":"sorry i made a mistake~ the problem asked me from base 2 to 20 without using that method. Thanks for clarifying!  @LouisWasserman","body":"sorry i made a mistake~ the problem asked me from base 2 to 20 without using that method. Thanks for clarifying!  @LouisWasserman"},{"owner":{"account_id":1988337,"reputation":598,"user_id":1782997,"display_name":"Attila T"},"score":0,"creation_date":1666630436,"post_id":74167953,"comment_id":130977749,"body_markdown":"Does [Convert from one base to another in Java](https://stackoverflow.com/questions/15735079/convert-from-one-base-to-another-in-java/38734086#38734086) help?","body":"Does <a href=\"https://stackoverflow.com/questions/15735079/convert-from-one-base-to-another-in-java/38734086#38734086\">Convert from one base to another in Java</a> help?"}],"answers":[{"tags":[],"owner":{"account_id":20119723,"reputation":443,"user_id":14754410,"display_name":"BccHnw"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666499803,"creation_date":1666499803,"answer_id":74168674,"question_id":74167953,"body_markdown":"`Math.pow` isn&#39;t a good choice for this problem. It is better to use simple multiply /divide cycle.\r\n\r\n```\r\n    public static String convert(int base, int target, String number) {\r\n        if (base &lt; 2 || base &gt; 20)\r\n            throw new IllegalArgumentException(&quot;Invalid base &quot;+base);\r\n        if (target &lt; 2 || target &gt; 20)\r\n            throw new IllegalArgumentException(&quot;Invalid base &quot;+target);\r\n        int numberStrLen = number.length();\r\n        int numberValue = 0;\r\n        for (int i = 0; i &lt; numberStrLen; i++) {\r\n            char ch = Character.toLowerCase(number.charAt(i));\r\n            int digit;\r\n            if (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;)\r\n                digit = ch - &#39;0&#39;;\r\n            else if (ch &gt;= &#39;a&#39;)\r\n                digit = ch - &#39;a&#39; + 10;\r\n            else\r\n                throw new IllegalArgumentException(&quot;Invalid character &quot;+ch+&quot; for base &quot;+base);\r\n            if (digit &gt;= base)\r\n                throw new IllegalArgumentException(&quot;Invalid character &quot;+ch+&quot; for base &quot;+base);\r\n            numberValue = numberValue * base + digit; // &lt;= multiply cycle\r\n        }\r\n        if (numberValue &lt; 0)\r\n            throw new IllegalArgumentException(&quot;Signed value: &quot;+numberValue+&quot; for &quot;+number);\r\n        StringBuilder sb = new StringBuilder();\r\n        while (numberValue != 0) {\r\n            int digit = numberValue % target; \r\n            numberValue = numberValue / target; // &lt;= divide cycle\r\n            char ch;\r\n            if (digit &lt; 10)\r\n                ch = (char)(digit + &#39;0&#39;);\r\n            else\r\n                ch = (char)(digit - 10 + &#39;a&#39;);\r\n            sb.insert(0, ch);\r\n        }\r\n        if (sb.length() == 0)\r\n            return &quot;0&quot;;\r\n        else\r\n            return sb.toString();\r\n    }\r\n```\r\n\r\n\r\nAnd don&#39;t forget about `int` overflow (wraparound ). Maybe use `long` or even `BigInteger`?","title":"How to convert from base 10 to base x in java?","body":"<p><code>Math.pow</code> isn't a good choice for this problem. It is better to use simple multiply /divide cycle.</p>\n<pre><code>    public static String convert(int base, int target, String number) {\n        if (base &lt; 2 || base &gt; 20)\n            throw new IllegalArgumentException(&quot;Invalid base &quot;+base);\n        if (target &lt; 2 || target &gt; 20)\n            throw new IllegalArgumentException(&quot;Invalid base &quot;+target);\n        int numberStrLen = number.length();\n        int numberValue = 0;\n        for (int i = 0; i &lt; numberStrLen; i++) {\n            char ch = Character.toLowerCase(number.charAt(i));\n            int digit;\n            if (ch &gt;= '0' &amp;&amp; ch &lt;= '9')\n                digit = ch - '0';\n            else if (ch &gt;= 'a')\n                digit = ch - 'a' + 10;\n            else\n                throw new IllegalArgumentException(&quot;Invalid character &quot;+ch+&quot; for base &quot;+base);\n            if (digit &gt;= base)\n                throw new IllegalArgumentException(&quot;Invalid character &quot;+ch+&quot; for base &quot;+base);\n            numberValue = numberValue * base + digit; // &lt;= multiply cycle\n        }\n        if (numberValue &lt; 0)\n            throw new IllegalArgumentException(&quot;Signed value: &quot;+numberValue+&quot; for &quot;+number);\n        StringBuilder sb = new StringBuilder();\n        while (numberValue != 0) {\n            int digit = numberValue % target; \n            numberValue = numberValue / target; // &lt;= divide cycle\n            char ch;\n            if (digit &lt; 10)\n                ch = (char)(digit + '0');\n            else\n                ch = (char)(digit - 10 + 'a');\n            sb.insert(0, ch);\n        }\n        if (sb.length() == 0)\n            return &quot;0&quot;;\n        else\n            return sb.toString();\n    }\n</code></pre>\n<p>And don't forget about <code>int</code> overflow (wraparound ). Maybe use <code>long</code> or even <code>BigInteger</code>?</p>\n"}],"owner":{"account_id":21833637,"reputation":45,"user_id":16128260,"display_name":"404notfound"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74168674,"answer_count":1,"score":-1,"last_activity_date":1666499803,"creation_date":1666484459,"question_id":74167953,"body_markdown":"What i&#39;ve done so far:\r\n```\r\npublic static String convert(int base, int target , String number) {\r\n\t\tArrayList&lt;Integer&gt; numbers= new ArrayList&lt;Integer&gt;();\r\n\t\tfor(int i=0;i&lt;number.length();i++) {\r\n\t\t\tchar check=number.charAt(i);\r\n\t\t\tif(check&gt;=&#39;A&#39;) {\r\n\t\t\t\tnumbers.add(Character.getNumericValue(check-&#39;A&#39;+1));\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tnumbers.add(Character.getNumericValue(check));\r\n\t\t\t}\r\n\t\t}\r\n\t\tint answer_10 = 0;\r\n\t\tfor(int i=0;i&lt;number.length();i++) {\r\n\t\t\tanswer_10 += Math.pow(numbers.get(number.length()-i-1), base);\r\n\t\t}\r\n\t\tString answer_target =&quot;&quot;;\r\n\t\twhile(answer_10&gt;0) { // I need help on this part\r\n\t\t\tfor(int i=0;i&gt;0;i++) {\r\n\t\t\t\tif(9*Math.pow(target, i)-answer_10&lt;0) {\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tfor(int j=9;j&lt;=0;j--) {\r\n\t\t\t\t\t\tif(j*Math.pow(target, i)-answer_10&lt;0) {\r\n\t\t\t\t\t\t\tj-=1;\r\n\t\t\t\t\t\t\tif(j&lt;=10) {\r\n\t\t\t\t\t\t\t\tanswer_target += j*Math.pow(target, i);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tanswer_target += j-&#39;A&#39;+1 ;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tanswer_10 -= j*Math.pow(target, i);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn answer_target;\r\n\t}\r\n```\r\nI need help on the part that converts the number from base 10 to base x as a string.\r\nThe question limits 2&lt;=x&lt;=20.\r\nI couldn&#39;t use the built-in converting function by java, as the question asked not to. ","title":"How to convert from base 10 to base x in java?","body":"<p>What i've done so far:</p>\n<pre><code>public static String convert(int base, int target , String number) {\n        ArrayList&lt;Integer&gt; numbers= new ArrayList&lt;Integer&gt;();\n        for(int i=0;i&lt;number.length();i++) {\n            char check=number.charAt(i);\n            if(check&gt;='A') {\n                numbers.add(Character.getNumericValue(check-'A'+1));\n            }\n            else {\n                numbers.add(Character.getNumericValue(check));\n            }\n        }\n        int answer_10 = 0;\n        for(int i=0;i&lt;number.length();i++) {\n            answer_10 += Math.pow(numbers.get(number.length()-i-1), base);\n        }\n        String answer_target =&quot;&quot;;\n        while(answer_10&gt;0) { // I need help on this part\n            for(int i=0;i&gt;0;i++) {\n                if(9*Math.pow(target, i)-answer_10&lt;0) {\n                    i++;\n                }\n                else {\n                    for(int j=9;j&lt;=0;j--) {\n                        if(j*Math.pow(target, i)-answer_10&lt;0) {\n                            j-=1;\n                            if(j&lt;=10) {\n                                answer_target += j*Math.pow(target, i);\n                            }\n                            else {\n                                answer_target += j-'A'+1 ;\n                            }\n                            answer_10 -= j*Math.pow(target, i);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return answer_target;\n    }\n</code></pre>\n<p>I need help on the part that converts the number from base 10 to base x as a string.\nThe question limits 2&lt;=x&lt;=20.\nI couldn't use the built-in converting function by java, as the question asked not to.</p>\n"},{"tags":["java","jersey-2.0","java-17","azul-zulu"],"comments":[{"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"score":0,"creation_date":1666489430,"post_id":74167737,"comment_id":130948898,"body_markdown":"Is there any other stacktraces that showed up before this one? Also, try running with `-Dsun.reflect.debugModuleAccessChecks=true`","body":"Is there any other stacktraces that showed up before this one? Also, try running with <code>-Dsun.reflect.debugModuleAccessChecks=true</code>"},{"owner":{"account_id":6161926,"reputation":529,"user_id":4803237,"accept_rate":60,"display_name":"colossal"},"score":0,"creation_date":1666496235,"post_id":74167737,"comment_id":130949487,"body_markdown":"@ThiagoHenriqueHupner updated the stacktrace. Do you want me to run gradle build with above options Or run java application with that parameter ?","body":"@ThiagoHenriqueHupner updated the stacktrace. Do you want me to run gradle build with above options Or run java application with that parameter ?"},{"owner":{"account_id":6161926,"reputation":529,"user_id":4803237,"accept_rate":60,"display_name":"colossal"},"score":0,"creation_date":1666498034,"post_id":74167737,"comment_id":130949651,"body_markdown":"Ran the gradlew with `-Dsun.reflect.debugModuleAccessChecks=true` to build the jar but the same error persist.","body":"Ran the gradlew with <code>-Dsun.reflect.debugModuleAccessChecks=true</code> to build the jar but the same error persist."},{"owner":{"account_id":11106749,"reputation":3227,"user_id":8153713,"display_name":"Speakjava"},"score":0,"creation_date":1666532649,"post_id":74167737,"comment_id":130954701,"body_markdown":"Which update of JDK 8 were you using? Don&#39;t know if this is the solution, but after update 291 (April 2021), TLS 1.0 and 1.1 are disabled by default (as they are in JDK 17). I&#39;ve seen network errors like this caused by that. Change the JRE_HOME/lib/security/java.security file to re-enable.","body":"Which update of JDK 8 were you using? Don&#39;t know if this is the solution, but after update 291 (April 2021), TLS 1.0 and 1.1 are disabled by default (as they are in JDK 17). I&#39;ve seen network errors like this caused by that. Change the JRE_HOME/lib/security/java.security file to re-enable."},{"owner":{"account_id":6161926,"reputation":529,"user_id":4803237,"accept_rate":60,"display_name":"colossal"},"score":0,"creation_date":1666588314,"post_id":74167737,"comment_id":130964259,"body_markdown":"we were using `8_21_0_2`. Btw connection is made on http and not on https.","body":"we were using <code>8_21_0_2</code>. Btw connection is made on http and not on https."}],"owner":{"account_id":6161926,"reputation":529,"user_id":4803237,"accept_rate":60,"display_name":"colossal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666496185,"creation_date":1666480806,"question_id":74167737,"body_markdown":"Migrated application from `JRE-8` to `JRE-17`. Jar is build and ran on `JRE-17`. No code change was required. No clues why this exception occurs. \r\nJersey version is `2.35`. The same code works fine when build and ran on `JRE-8`\r\n\r\n    javax.ws.rs.ProcessingException: java.net.ConnectException: Connection refused\r\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:269) ~[jersey-client-2.35.jar!/:?]\r\n    at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:297) ~[jersey-client-2.35.jar!/:?]\r\n    at org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$0(JerseyInvocation.java:662) ~[jersey-client-2.35.jar!/:?]\r\n    at org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697) ~[jersey-client-2.35.jar!/:?]\r\n    at org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691) ~[jersey-client-2.35.jar!/:?]\r\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292) ~[jersey-common-2.35.jar!/:?]\r\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274) ~[jersey-common-2.35.jar!/:?]\r\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:205) ~[jersey-common-2.35.jar!/:?]\r\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:390) ~[jersey-common-2.35.jar!/:?]\r\n    at org.glassfish.jersey.client.JerseyInvocation.runInScope(JerseyInvocation.java:691) ~[jersey-client-2.35.jar!/:?]\r\n    at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:661) ~[jersey-client-2.35.jar!/:?]\r\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:439) ~[jersey-client-2.35.jar!/:?]\r\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:345) ~[jersey-client-2.35.jar!/:?]\r\n    //removed the calling code here\r\n    \r\n    Caused by: java.net.ConnectException: Connection refused\r\n    \tat sun.nio.ch.Net.connect0(Native Method) ~[?:?]\r\n    \tat sun.nio.ch.Net.connect(Unknown Source) ~[?:?]\r\n    \tat sun.nio.ch.Net.connect(Unknown Source) ~[?:?]\r\n    \tat sun.nio.ch.NioSocketImpl.connect(Unknown Source) ~[?:?]\r\n    \tat java.net.Socket.connect(Unknown Source) ~[?:?]\r\n    \tat sun.net.NetworkClient.doConnect(Unknown Source) ~[?:?]\r\n    \tat sun.net.www.http.HttpClient.openServer(Unknown Source) ~[?:?]\r\n    \tat sun.net.www.http.HttpClient$1.run(Unknown Source) ~[?:?]\r\n    \tat sun.net.www.http.HttpClient$1.run(Unknown Source) ~[?:?]\r\n    \tat java.security.AccessController.doPrivileged(Unknown Source) ~[?:?]\r\n    \tat sun.net.www.http.HttpClient.privilegedOpenServer(Unknown Source) ~[?:?]\r\n    \tat sun.net.www.http.HttpClient.openServer(Unknown Source) ~[?:?]\r\n    \tat sun.net.www.http.HttpClient.&lt;init&gt;(Unknown Source) ~[?:?]\r\n    \tat sun.net.www.http.HttpClient.New(Unknown Source) ~[?:?]\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(Unknown Source) ~[?:?]\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.plainConnect0(Unknown Source) ~[?:?]\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown Source) ~[?:?]\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.connect(Unknown Source) ~[?:?]\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown Source) ~[?:?]\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source) ~[?:?]\r\n    \tat java.net.HttpURLConnection.getResponseCode(Unknown Source) ~[?:?]\r\n    \tat org.glassfish.jersey.client.internal.HttpUrlConnector.handleException(HttpUrlConnector.java:549) ~[jersey-client-2.35.jar!/:?]\r\n    \tat org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:375) ~[jersey-client-2.35.jar!/:?]\r\n    \tat org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:267) ~[jersey-client-2.35.jar!/:?]\r\n    \t... 26 more\r\n\r\n\r\n","title":"Jersey throwing Connection refused error after building and running on JRE 17","body":"<p>Migrated application from <code>JRE-8</code> to <code>JRE-17</code>. Jar is build and ran on <code>JRE-17</code>. No code change was required. No clues why this exception occurs.\nJersey version is <code>2.35</code>. The same code works fine when build and ran on <code>JRE-8</code></p>\n<pre><code>javax.ws.rs.ProcessingException: java.net.ConnectException: Connection refused\nat org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:269) ~[jersey-client-2.35.jar!/:?]\nat org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:297) ~[jersey-client-2.35.jar!/:?]\nat org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$0(JerseyInvocation.java:662) ~[jersey-client-2.35.jar!/:?]\nat org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697) ~[jersey-client-2.35.jar!/:?]\nat org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691) ~[jersey-client-2.35.jar!/:?]\nat org.glassfish.jersey.internal.Errors.process(Errors.java:292) ~[jersey-common-2.35.jar!/:?]\nat org.glassfish.jersey.internal.Errors.process(Errors.java:274) ~[jersey-common-2.35.jar!/:?]\nat org.glassfish.jersey.internal.Errors.process(Errors.java:205) ~[jersey-common-2.35.jar!/:?]\nat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:390) ~[jersey-common-2.35.jar!/:?]\nat org.glassfish.jersey.client.JerseyInvocation.runInScope(JerseyInvocation.java:691) ~[jersey-client-2.35.jar!/:?]\nat org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:661) ~[jersey-client-2.35.jar!/:?]\nat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:439) ~[jersey-client-2.35.jar!/:?]\nat org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:345) ~[jersey-client-2.35.jar!/:?]\n//removed the calling code here\n\nCaused by: java.net.ConnectException: Connection refused\n    at sun.nio.ch.Net.connect0(Native Method) ~[?:?]\n    at sun.nio.ch.Net.connect(Unknown Source) ~[?:?]\n    at sun.nio.ch.Net.connect(Unknown Source) ~[?:?]\n    at sun.nio.ch.NioSocketImpl.connect(Unknown Source) ~[?:?]\n    at java.net.Socket.connect(Unknown Source) ~[?:?]\n    at sun.net.NetworkClient.doConnect(Unknown Source) ~[?:?]\n    at sun.net.www.http.HttpClient.openServer(Unknown Source) ~[?:?]\n    at sun.net.www.http.HttpClient$1.run(Unknown Source) ~[?:?]\n    at sun.net.www.http.HttpClient$1.run(Unknown Source) ~[?:?]\n    at java.security.AccessController.doPrivileged(Unknown Source) ~[?:?]\n    at sun.net.www.http.HttpClient.privilegedOpenServer(Unknown Source) ~[?:?]\n    at sun.net.www.http.HttpClient.openServer(Unknown Source) ~[?:?]\n    at sun.net.www.http.HttpClient.&lt;init&gt;(Unknown Source) ~[?:?]\n    at sun.net.www.http.HttpClient.New(Unknown Source) ~[?:?]\n    at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(Unknown Source) ~[?:?]\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(Unknown Source) ~[?:?]\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown Source) ~[?:?]\n    at sun.net.www.protocol.http.HttpURLConnection.connect(Unknown Source) ~[?:?]\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown Source) ~[?:?]\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source) ~[?:?]\n    at java.net.HttpURLConnection.getResponseCode(Unknown Source) ~[?:?]\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.handleException(HttpUrlConnector.java:549) ~[jersey-client-2.35.jar!/:?]\n    at org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:375) ~[jersey-client-2.35.jar!/:?]\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:267) ~[jersey-client-2.35.jar!/:?]\n    ... 26 more\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1666441191,"post_id":74163475,"comment_id":130940380,"body_markdown":"You could use `instanceof`.","body":"You could use <code>instanceof</code>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1666441857,"post_id":74163475,"comment_id":130940500,"body_markdown":"Note: `System.out.println(iterator);` will print the iterator object!","body":"Note: <code>System.out.println(iterator);</code> will print the iterator object!"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666443366,"creation_date":1666441638,"answer_id":74163551,"question_id":74163475,"body_markdown":"&gt; How to compare two data type in Java\r\nYou can get the type (a `java.lang.Class`) of an object using `object.getClass()`.  \r\n\r\nYou can compare two classes using `equals(...)`; e.g.\r\n\r\n    if (obj1.getClass().equals(obj2.getClass())\r\n\r\nYou can test if an object has a specific class in a couple of ways\r\n\r\n    if (obj.getClass().equals(Car.class)) \r\n\r\nor\r\n\r\n    if (obj instanceof Car)\r\n\r\n(They do slightly different things.  The latter tests if `obj` is a `Car` or a subclass of `Car` and will return `false` if `obj` is `null`.)\r\n\r\nThere are methods on the `Class` class that will give the classes simple name or its full name ... or you can just use the `Class.toString()` method.\r\n\r\n----------------\r\n\r\nJust for the record, another way to solve the problem that doesn&#39;t involve using the class names would be to define a second (abstract) method in the superclass that returns a String that denotes the kind of the vehicle; e.g.\r\n\r\n       public abstract class Vehicle {\r\n          ...\r\n          public abstract String getType();\r\n       }\r\n    \r\n       public class Car extends Vehicle {\r\n          \r\n          @Override\r\n          public String getType() {\r\n              return &quot;Car&quot;;\r\n          }\r\n       }","title":"How to compare two data types in Java","body":"<blockquote>\n<p>How to compare two data type in Java\nYou can get the type (a <code>java.lang.Class</code>) of an object using <code>object.getClass()</code>.</p>\n</blockquote>\n<p>You can compare two classes using <code>equals(...)</code>; e.g.</p>\n<pre><code>if (obj1.getClass().equals(obj2.getClass())\n</code></pre>\n<p>You can test if an object has a specific class in a couple of ways</p>\n<pre><code>if (obj.getClass().equals(Car.class)) \n</code></pre>\n<p>or</p>\n<pre><code>if (obj instanceof Car)\n</code></pre>\n<p>(They do slightly different things.  The latter tests if <code>obj</code> is a <code>Car</code> or a subclass of <code>Car</code> and will return <code>false</code> if <code>obj</code> is <code>null</code>.)</p>\n<p>There are methods on the <code>Class</code> class that will give the classes simple name or its full name ... or you can just use the <code>Class.toString()</code> method.</p>\n<hr />\n<p>Just for the record, another way to solve the problem that doesn't involve using the class names would be to define a second (abstract) method in the superclass that returns a String that denotes the kind of the vehicle; e.g.</p>\n<pre><code>   public abstract class Vehicle {\n      ...\n      public abstract String getType();\n   }\n\n   public class Car extends Vehicle {\n      \n      @Override\n      public String getType() {\n          return &quot;Car&quot;;\n      }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5196039,"reputation":187,"user_id":4157304,"display_name":"Ankur Saxena"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666441852,"creation_date":1666441852,"answer_id":74163578,"question_id":74163475,"body_markdown":"Check this out, instanceof would help here :- \r\n```\r\nclass Vehicule {\r\n\r\n}\r\n\r\nclass Voiture extends Vehicule {\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Voiture&quot;;\r\n    }\r\n}\r\n\r\nclass Camion extends Vehicule {\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Camion&quot;;\r\n    }\r\n}\r\n\r\nclass Moto extends Vehicule {\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Moto&quot;;\r\n    }\r\n}\r\n\r\npublic class Operation {\r\n    \r\n    static List&lt;Vehicule&gt; vehicules = new ArrayList&lt;&gt;();\r\n    \r\n    public static void main(String[] args) {\r\n        vehicules.add(new Camion());\r\n        vehicules.add(new Moto());\r\n        vehicules.add(new Voiture());\r\n        //Prints all objects\r\n        getVehicules();\r\n        //Prints only voiture\r\n        getVoitures();\r\n\r\n    }\r\n\r\n    public static void getVehicules() {\r\n        vehicules.forEach(vehicule -&gt; {\r\n            System.out.println(vehicule);\r\n        });\r\n\r\n    }\r\n\r\n    public static void getVoitures() {\r\n        Iterator iterator = vehicules.iterator();\r\n        while (iterator.hasNext()) {\r\n            Object vehicule = iterator.next();\r\n            if (vehicule instanceof Voiture) {\r\n                System.out.println(vehicule);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n```","title":"How to compare two data types in Java","body":"<p>Check this out, instanceof would help here :-</p>\n<pre><code>class Vehicule {\n\n}\n\nclass Voiture extends Vehicule {\n\n    @Override\n    public String toString() {\n        return &quot;Voiture&quot;;\n    }\n}\n\nclass Camion extends Vehicule {\n\n    @Override\n    public String toString() {\n        return &quot;Camion&quot;;\n    }\n}\n\nclass Moto extends Vehicule {\n    @Override\n    public String toString() {\n        return &quot;Moto&quot;;\n    }\n}\n\npublic class Operation {\n    \n    static List&lt;Vehicule&gt; vehicules = new ArrayList&lt;&gt;();\n    \n    public static void main(String[] args) {\n        vehicules.add(new Camion());\n        vehicules.add(new Moto());\n        vehicules.add(new Voiture());\n        //Prints all objects\n        getVehicules();\n        //Prints only voiture\n        getVoitures();\n\n    }\n\n    public static void getVehicules() {\n        vehicules.forEach(vehicule -&gt; {\n            System.out.println(vehicule);\n        });\n\n    }\n\n    public static void getVoitures() {\n        Iterator iterator = vehicules.iterator();\n        while (iterator.hasNext()) {\n            Object vehicule = iterator.next();\n            if (vehicule instanceof Voiture) {\n                System.out.println(vehicule);\n            }\n        }\n    }\n\n\n}\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666495160,"creation_date":1666454921,"answer_id":74165102,"question_id":74163475,"body_markdown":"# Pattern matching with `switch`\r\n\r\nA new feature being previewed in [Java 20][1] enables using a `switch` statement to test for subclasses. See: [*JEP 433: Pattern Matching for switch (Fourth Preview)*][2].\r\n\r\n```java\r\nswitch ( v&#233;hicule )\r\n{\r\n    case Voiture v -&gt; System.out.println( &quot;Voici une voiture.&quot; );\r\n    case Camion c -&gt; System.out.println( &quot;Voici un camion.&quot; );\r\n    case Moto m -&gt; System.out.println( &quot;Voici une moto.&quot; );\r\n    default -&gt; System.out.println( &quot;Ooops! Il n&#39;y a pas de v&#233;hicule.&quot; );\r\n}\r\n```\r\n\r\nWrap that in a for-each loop. Here is a complete example `.java` file.\r\n\r\n```java\r\npackage work.basil.example.subs;\r\n\r\nimport java.util.List;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        List &lt; V&#233;hicule &gt; v&#233;hicules = List.of( new Voiture() , new Camion() , new Moto() );\r\n\r\n        for ( V&#233;hicule v&#233;hicule : v&#233;hicules )\r\n        {\r\n            switch ( v&#233;hicule )\r\n            {\r\n                case Voiture v -&gt; System.out.println( &quot;Voici une voiture.&quot; );\r\n                case Camion c -&gt; System.out.println( &quot;Voici un camion.&quot; );\r\n                case Moto m -&gt; System.out.println( &quot;Voici une moto.&quot; );\r\n                default -&gt; System.out.println( &quot;Ooops! Il n&#39;y a pas de v&#233;hicule.&quot; );\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nclass V&#233;hicule { }\r\n\r\nclass Voiture extends V&#233;hicule { }\r\n\r\nclass Camion extends V&#233;hicule { }\r\n\r\nclass Moto extends V&#233;hicule { }\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nVoici une voiture.\r\nVoici un camion.\r\nVoici une moto.\r\n```\r\n\r\n## `default` case\r\n\r\nNotice the `default` at the bottom of the `switch` to catch any other subclasses that may defined at the end. \r\n\r\nAnother new feature delivered in Java 17 can eliminate the need for that `default`, if we choose to disallow further direct subclasses. The new feature is *sealed classes*. See [*JEP 409: Sealed Classes*][3]. This feature defines a way to declare a list of known subclasses, and to declare that no more will be allowed. Therefore the compiler knows at compile-time all possible subclasses. The compiler can then check that your `switch` statement has covered all the possibilities. \r\n\r\n```java\r\nsealed class V&#233;hicule permits Voiture, Camion, Moto { }\r\n\r\nfinal class Voiture extends V&#233;hicule { }\r\n\r\nfinal class Camion extends V&#233;hicule { }\r\n\r\nfinal class Moto extends V&#233;hicule { }\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_20\r\n  [2]: https://openjdk.org/jeps/433\r\n  [3]: https://openjdk.org/jeps/409","title":"How to compare two data types in Java","body":"<h1>Pattern matching with <code>switch</code></h1>\n<p>A new feature being previewed in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_20\" rel=\"nofollow noreferrer\">Java 20</a> enables using a <code>switch</code> statement to test for subclasses. See: <a href=\"https://openjdk.org/jeps/433\" rel=\"nofollow noreferrer\"><em>JEP 433: Pattern Matching for switch (Fourth Preview)</em></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch ( véhicule )\n{\n    case Voiture v -&gt; System.out.println( &quot;Voici une voiture.&quot; );\n    case Camion c -&gt; System.out.println( &quot;Voici un camion.&quot; );\n    case Moto m -&gt; System.out.println( &quot;Voici une moto.&quot; );\n    default -&gt; System.out.println( &quot;Ooops! Il n'y a pas de véhicule.&quot; );\n}\n</code></pre>\n<p>Wrap that in a for-each loop. Here is a complete example <code>.java</code> file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.subs;\n\nimport java.util.List;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        List &lt; Véhicule &gt; véhicules = List.of( new Voiture() , new Camion() , new Moto() );\n\n        for ( Véhicule véhicule : véhicules )\n        {\n            switch ( véhicule )\n            {\n                case Voiture v -&gt; System.out.println( &quot;Voici une voiture.&quot; );\n                case Camion c -&gt; System.out.println( &quot;Voici un camion.&quot; );\n                case Moto m -&gt; System.out.println( &quot;Voici une moto.&quot; );\n                default -&gt; System.out.println( &quot;Ooops! Il n'y a pas de véhicule.&quot; );\n            }\n        }\n    }\n}\n\nclass Véhicule { }\n\nclass Voiture extends Véhicule { }\n\nclass Camion extends Véhicule { }\n\nclass Moto extends Véhicule { }\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Voici une voiture.\nVoici un camion.\nVoici une moto.\n</code></pre>\n<h2><code>default</code> case</h2>\n<p>Notice the <code>default</code> at the bottom of the <code>switch</code> to catch any other subclasses that may defined at the end.</p>\n<p>Another new feature delivered in Java 17 can eliminate the need for that <code>default</code>, if we choose to disallow further direct subclasses. The new feature is <em>sealed classes</em>. See <a href=\"https://openjdk.org/jeps/409\" rel=\"nofollow noreferrer\"><em>JEP 409: Sealed Classes</em></a>. This feature defines a way to declare a list of known subclasses, and to declare that no more will be allowed. Therefore the compiler knows at compile-time all possible subclasses. The compiler can then check that your <code>switch</code> statement has covered all the possibilities.</p>\n<pre class=\"lang-java prettyprint-override\"><code>sealed class Véhicule permits Voiture, Camion, Moto { }\n\nfinal class Voiture extends Véhicule { }\n\nfinal class Camion extends Véhicule { }\n\nfinal class Moto extends Véhicule { }\n</code></pre>\n"}],"owner":{"account_id":26570583,"reputation":1,"user_id":20196860,"display_name":"SayarS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666495160,"creation_date":1666441000,"question_id":74163475,"body_markdown":"I have a class `Vehicule` and 3 subclasses `Voiture`, `Camion` and `Moto`.\r\nI also have a method `getVehicules` for the all vehicules  (i.e. camion, voiture, moto) but I want to print\r\na specific type like Voiture.\r\n\r\nI don&#39;t know how to solve  it .\r\n\r\n   \r\n\r\n     List&lt;Vehicule&gt; vehicules = new ArrayList&lt;&gt;();\r\n    \r\n        public void getVehicules() {\r\n        \t\tvehicules.forEach(vehicule-&gt;{\r\n        \t\t\tSystem.out.println(vehicule);\r\n        \t\t});    \t\r\n    \r\n         }\r\n    \t\r\n    \tpublic void getVoitures() {\r\n    \t\tIterator iterator = vehicules.iterator();\r\n    \t\twhile(iterator.hasNext()) {\r\n    \r\n          //I want to do a condtion if vehicule is voiture it will disaplay\r\n    \r\n    \t\t    if(vehicules.equals(voiture)) {\r\n    \t\t    \tSystem.out.println(iterator);\r\n    \t\t    }\r\n    \t\t}\r\n    \t}\r\n\r\n","title":"How to compare two data types in Java","body":"<p>I have a class <code>Vehicule</code> and 3 subclasses <code>Voiture</code>, <code>Camion</code> and <code>Moto</code>.\nI also have a method <code>getVehicules</code> for the all vehicules  (i.e. camion, voiture, moto) but I want to print\na specific type like Voiture.</p>\n<p>I don't know how to solve  it .</p>\n<pre><code> List&lt;Vehicule&gt; vehicules = new ArrayList&lt;&gt;();\n\n    public void getVehicules() {\n            vehicules.forEach(vehicule-&gt;{\n                System.out.println(vehicule);\n            });     \n\n     }\n    \n    public void getVoitures() {\n        Iterator iterator = vehicules.iterator();\n        while(iterator.hasNext()) {\n\n      //I want to do a condtion if vehicule is voiture it will disaplay\n\n            if(vehicules.equals(voiture)) {\n                System.out.println(iterator);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","collections","set"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1666149213,"post_id":74119390,"comment_id":130864737,"body_markdown":"`HashSet` uses a hashing algorithm to store its elements internally.  So as long as the strings have the same hash value each time (and they do) you&#39;ll get the same order, at least for the same size of `HashSet` (because the hashing algorithm also takes into account how many slots it can fit an element into).","body":"<code>HashSet</code> uses a hashing algorithm to store its elements internally.  So as long as the strings have the same hash value each time (and they do) you&#39;ll get the same order, at least for the same size of <code>HashSet</code> (because the hashing algorithm also takes into account how many slots it can fit an element into)."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666149268,"post_id":74119390,"comment_id":130864747,"body_markdown":"But this is an implementation detail, and any given order is not guaranteed.","body":"But this is an implementation detail, and any given order is not guaranteed."},{"owner":{"account_id":3318823,"reputation":21,"user_id":2790466,"display_name":"AmanJ"},"score":0,"creation_date":1666164112,"post_id":74119390,"comment_id":130867721,"body_markdown":"Okay, but this came as a question in the mock Java SE Certification exam. They have multiple-choice questions with different sequences and only one correct value, so I was wondering if I am missing something.","body":"Okay, but this came as a question in the mock Java SE Certification exam. They have multiple-choice questions with different sequences and only one correct value, so I was wondering if I am missing something."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666173017,"post_id":74119390,"comment_id":130870954,"body_markdown":"Code is deterministic (unless explicitly programmed to be non-deterministic like when using `Set.of(…)`). So executing it multiple times with exactly the same starting point may exhibit the same behavior. Use `new HashSet&lt;&gt;(8)` or `new HashSet&lt;&gt;(18)` and you’ll get a different order.","body":"Code is deterministic (unless explicitly programmed to be non-deterministic like when using <code>Set.of(…)</code>). So executing it multiple times with exactly the same starting point may exhibit the same behavior. Use <code>new HashSet&lt;&gt;(8)</code> or <code>new HashSet&lt;&gt;(18)</code> and you’ll get a different order."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666186996,"post_id":74119390,"comment_id":130876307,"body_markdown":"@AmanJ I think the answer an exam would want is that HashSet order is not guaranteed and you as a programmer shouldn&#39;t rely on it.  As something like an interview question I think it would be OK to show you know something about its internal implementation and discuss how hashing works.","body":"@AmanJ I think the answer an exam would want is that HashSet order is not guaranteed and you as a programmer shouldn&#39;t rely on it.  As something like an interview question I think it would be OK to show you know something about its internal implementation and discuss how hashing works."},{"owner":{"account_id":3318823,"reputation":21,"user_id":2790466,"display_name":"AmanJ"},"score":0,"creation_date":1666493976,"post_id":74119390,"comment_id":130949298,"body_markdown":"Sorry, I think the question I posted is a little different from what I posted. I have updated the actual question in the post. Please check. @Holger","body":"Sorry, I think the question I posted is a little different from what I posted. I have updated the actual question in the post. Please check. @Holger"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1666498364,"post_id":74119390,"comment_id":130949674,"body_markdown":"@AmanJ: The answer is still undefined.  See the [Set.of](https://docs.oracle.com/javase/9/docs/api/java/util/Set.html) documentation: &quot;The iteration order of set elements is unspecified and is subject to change.&quot;  Also see [Collectors.toSet](https://docs.oracle.com/javase/9/docs/api/java/util/stream/Collectors.html#toSet--), which doesn&#39;t specify the order of the returned set either.  The people who asked you this question are still wrong.","body":"@AmanJ: The answer is still undefined.  See the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\">Set.of</a> documentation: &quot;The iteration order of set elements is unspecified and is subject to change.&quot;  Also see <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/Collectors.html#toSet--\" rel=\"nofollow noreferrer\">Collectors.toSet</a>, which doesn&#39;t specify the order of the returned set either.  The people who asked you this question are still wrong."}],"answers":[{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666152510,"creation_date":1666152510,"answer_id":74119756,"question_id":74119390,"body_markdown":"**HashSet does not preserve the order of insertion of elements**, as the order is maintained based on the *hashing mechanism* like Map **because the add() method internally inserts the element as a key in a Map.**\r\n\r\n**HashSet**\r\n\r\n    //add method implementation for HashSet\r\n     public boolean add(E e) {\r\n            return map.put(e, PRESENT)==null;\r\n        }\r\n    \r\n    here, map is a private transient HashMap&lt;E,Object&gt; map;\r\n          As the map is HashMap here, so no sorting will be done.\r\n\r\n**TreeSet**\r\n\r\n    //add method implementation for TreeSet\r\n     public boolean add(E e) {\r\n            return m.put(e, PRESENT)==null;\r\n        }\r\n    \r\n    here, map is a private transient NavigableMap&lt;E,Object&gt; m;\r\n          As the map is NavigableMap here, so sorting will be done.","title":"Is Set sorted in some manner by default?","body":"<p><strong>HashSet does not preserve the order of insertion of elements</strong>, as the order is maintained based on the <em>hashing mechanism</em> like Map <strong>because the add() method internally inserts the element as a key in a Map.</strong></p>\n<p><strong>HashSet</strong></p>\n<pre><code>//add method implementation for HashSet\n public boolean add(E e) {\n        return map.put(e, PRESENT)==null;\n    }\n\nhere, map is a private transient HashMap&lt;E,Object&gt; map;\n      As the map is HashMap here, so no sorting will be done.\n</code></pre>\n<p><strong>TreeSet</strong></p>\n<pre><code>//add method implementation for TreeSet\n public boolean add(E e) {\n        return m.put(e, PRESENT)==null;\n    }\n\nhere, map is a private transient NavigableMap&lt;E,Object&gt; m;\n      As the map is NavigableMap here, so sorting will be done.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3318823,"reputation":21,"user_id":2790466,"display_name":"AmanJ"},"score":0,"creation_date":1666164172,"post_id":74119801,"comment_id":130867742,"body_markdown":"Okay, but this came as a question in the mock Java SE Certification exam. They have multiple-choice questions with different sequences and only one correct value, so I was wondering if I am missing something. Thanks for the response.","body":"Okay, but this came as a question in the mock Java SE Certification exam. They have multiple-choice questions with different sequences and only one correct value, so I was wondering if I am missing something. Thanks for the response."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1666193405,"post_id":74119801,"comment_id":130879131,"body_markdown":"@AmanJ: Genuinely, in dead seriousness: the people who wrote that don&#39;t know what they&#39;re doing, if that&#39;s the exact wording of the question and it&#39;s exactly a `HashSet`.  Make of that what you will, but anyone who expects a single definite answer to that question for all time is wrong.","body":"@AmanJ: Genuinely, in dead seriousness: the people who wrote that don&#39;t know what they&#39;re doing, if that&#39;s the exact wording of the question and it&#39;s exactly a <code>HashSet</code>.  Make of that what you will, but anyone who expects a single definite answer to that question for all time is wrong."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666152864,"creation_date":1666152864,"answer_id":74119801,"question_id":74119390,"body_markdown":"`HashSet`&#39;s documentation says:\r\n\r\n&gt; It makes no guarantees as to the iteration order of the set.\r\n\r\nNo guarantees means no guarantees.  For example, it could be sorted order, reverse sorted order, random order, or sorted order except on Tuesdays when it&#39;s random.\r\n\r\n(In practice, the iteration order is usually always the same for the same Java version, or at least for the same run of the JVM, and that order is produced by a _deliberately_ convoluted algorithm based on the hash codes of the elements.  However, if you depend on that behavior, it will usually change at the worst possible time.)","title":"Is Set sorted in some manner by default?","body":"<p><code>HashSet</code>'s documentation says:</p>\n<blockquote>\n<p>It makes no guarantees as to the iteration order of the set.</p>\n</blockquote>\n<p>No guarantees means no guarantees.  For example, it could be sorted order, reverse sorted order, random order, or sorted order except on Tuesdays when it's random.</p>\n<p>(In practice, the iteration order is usually always the same for the same Java version, or at least for the same run of the JVM, and that order is produced by a <em>deliberately</em> convoluted algorithm based on the hash codes of the elements.  However, if you depend on that behavior, it will usually change at the worst possible time.)</p>\n"},{"comments":[{"owner":{"account_id":3318823,"reputation":21,"user_id":2790466,"display_name":"AmanJ"},"score":0,"creation_date":1666164150,"post_id":74120280,"comment_id":130867735,"body_markdown":"Okay, but this came as a question in the mock Java SE Certification exam. They have multiple-choice questions with different sequences and only one correct value, so I was wondering if I am missing something,","body":"Okay, but this came as a question in the mock Java SE Certification exam. They have multiple-choice questions with different sequences and only one correct value, so I was wondering if I am missing something,"},{"owner":{"account_id":23288659,"reputation":56,"user_id":17371071,"display_name":"Fabricio Entringer Moreira"},"score":0,"creation_date":1666165583,"post_id":74120280,"comment_id":130868221,"body_markdown":"Ok @AmanJ, as it came from an exam would be better if we have the complete question here. I initially understood you want to understand why HashSet has chosen this order and how to order It better.\nIn fact, HashSet uses the HashCode of each string element in your list and this hashcode is an `INT` type and hash order by this value.  You can find a complete explanation about hashcode in its use in Collection here: https://www.baeldung.com/java-hashcode\n\nI hope it helps you. :-)","body":"Ok @AmanJ, as it came from an exam would be better if we have the complete question here. I initially understood you want to understand why HashSet has chosen this order and how to order It better. In fact, HashSet uses the HashCode of each string element in your list and this hashcode is an <code>INT</code> type and hash order by this value.  You can find a complete explanation about hashcode in its use in Collection here: <a href=\"https://www.baeldung.com/java-hashcode\" rel=\"nofollow noreferrer\">baeldung.com/java-hashcode</a>  I hope it helps you. :-)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1666173787,"post_id":74120280,"comment_id":130871212,"body_markdown":"@AmanJ maybe the problem is that people who fail at building working software can still make exams for other people. This kind of exam is popping up from time to time here for years. Like [this one](https://stackoverflow.com/q/67212488/2711488) over a year ago. You can’t see the now-deleted older question which spelled out the long country names. The only change is that it is now “nations” instead of “island nations”, so India could get into the Set.","body":"@AmanJ maybe the problem is that people who fail at building working software can still make exams for other people. This kind of exam is popping up from time to time here for years. Like <a href=\"https://stackoverflow.com/q/67212488/2711488\">this one</a> over a year ago. You can’t see the now-deleted older question which spelled out the long country names. The only change is that it is now “nations” instead of “island nations”, so India could get into the Set."},{"owner":{"account_id":3318823,"reputation":21,"user_id":2790466,"display_name":"AmanJ"},"score":0,"creation_date":1666494406,"post_id":74120280,"comment_id":130949353,"body_markdown":"Haha. Actually, this https://stackoverflow.com/q/67212488/2711488 is the exact question that you referred to. @Holger","body":"Haha. Actually, this <a href=\"https://stackoverflow.com/q/67212488/2711488\">stackoverflow.com/q/67212488/2711488</a> is the exact question that you referred to. @Holger"}],"tags":[],"owner":{"account_id":23288659,"reputation":56,"user_id":17371071,"display_name":"Fabricio Entringer Moreira"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666157354,"creation_date":1666157354,"answer_id":74120280,"question_id":74119390,"body_markdown":"The HashSet uses the hash value of each element for storage. \r\n\r\nThe important points about Java HashSet class are:\r\n\r\n - HashSet stores the elements by using a mechanism called hashing.\r\n - HashSet contains unique elements only.\r\n - HashSet allows null value.\r\n - HashSet class is non-synchronized.\r\n - HashSet doesn&#39;t maintain the insertion order. Here, elements are inserted on the basis of their hashcode.\r\n - HashSet is the best approach for search operations.\r\n - The initial default capacity of HashSet is 16, and the load factor is 0.75.\r\n\r\nif you need to store (and display) in the order you can use the SortedSet interface, like this:\r\n\r\n    SortedSet&lt;String&gt; orderedList = new TreeSet&lt;String&gt;(); \r\n        orderedList.add(&quot;C&quot;); \r\n        orderedList.add(&quot;D&quot;); \r\n        orderedList.add(&quot;E&quot;); \r\n        orderedList.add(&quot;A&quot;); \r\n        orderedList.add(&quot;B&quot;); \r\n        orderedList.add(&quot;Z&quot;); \r\n   \r\n        for (String value : orderedList) \r\n            System.out.print(value + &quot;, &quot;); \r\n\r\n**Output:**\r\n   A, B, C, D, E, Z,\r\n\r\nRemembering: SortedSet uses the Comparable interface and the compareTo() method to sort the String values. If you have a customized class you should implement this interface/method to use in this approach. \r\n\r\nOr, you can define the comparator that must be used:\r\n\r\n    SortedSet&lt;Person&gt; persons = new TreeSet&lt;&gt;Comparator.comparing(Person::getName));","title":"Is Set sorted in some manner by default?","body":"<p>The HashSet uses the hash value of each element for storage.</p>\n<p>The important points about Java HashSet class are:</p>\n<ul>\n<li>HashSet stores the elements by using a mechanism called hashing.</li>\n<li>HashSet contains unique elements only.</li>\n<li>HashSet allows null value.</li>\n<li>HashSet class is non-synchronized.</li>\n<li>HashSet doesn't maintain the insertion order. Here, elements are inserted on the basis of their hashcode.</li>\n<li>HashSet is the best approach for search operations.</li>\n<li>The initial default capacity of HashSet is 16, and the load factor is 0.75.</li>\n</ul>\n<p>if you need to store (and display) in the order you can use the SortedSet interface, like this:</p>\n<pre><code>SortedSet&lt;String&gt; orderedList = new TreeSet&lt;String&gt;(); \n    orderedList.add(&quot;C&quot;); \n    orderedList.add(&quot;D&quot;); \n    orderedList.add(&quot;E&quot;); \n    orderedList.add(&quot;A&quot;); \n    orderedList.add(&quot;B&quot;); \n    orderedList.add(&quot;Z&quot;); \n\n    for (String value : orderedList) \n        System.out.print(value + &quot;, &quot;); \n</code></pre>\n<p><strong>Output:</strong>\nA, B, C, D, E, Z,</p>\n<p>Remembering: SortedSet uses the Comparable interface and the compareTo() method to sort the String values. If you have a customized class you should implement this interface/method to use in this approach.</p>\n<p>Or, you can define the comparator that must be used:</p>\n<pre><code>SortedSet&lt;Person&gt; persons = new TreeSet&lt;&gt;Comparator.comparing(Person::getName));\n</code></pre>\n"}],"owner":{"account_id":3318823,"reputation":21,"user_id":2790466,"display_name":"AmanJ"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666494208,"creation_date":1666148310,"question_id":74119390,"body_markdown":"I have this set with elements added in the given order.\r\n\r\n```\r\n        Set&lt;String&gt; nations = new HashSet&lt;String&gt;();\r\n        nations.add(&quot;Australia&quot;);\r\n        nations.add(&quot;Japan&quot;);\r\n        nations.add(&quot;Taiwan&quot;);\r\n        nations.add(&quot;Cyprus&quot;);\r\n        nations.add(&quot;Cuba&quot;);\r\n        nations.add(&quot;India&quot;);\r\n```\r\nWhen I print the record - \r\n```         \r\nfor (String s : nations) {\r\n    System.out.print(s + &quot; &quot;);\r\n}\r\n```\r\n\r\nIt always gives this output in the order\r\n```\r\nCuba Cyprus Japan Taiwan Australia India \r\n```\r\n\r\nAs far as I know a Set is not sorted by default, but why do I get the same result in a particular sorted manner?\r\n\r\n--------------------------------\r\nUpdate : Here is the actual question -\r\n```\r\npublic static Function&lt;String,String&gt; swap = s -&gt; {\r\n\tif(s.equals(&quot;Australia&quot;))\r\n\t\treturn &quot;New Zealand&quot;;\r\n\telse\r\n\t\treturn s;\r\n\t};\r\n\r\nSet&lt;String&gt; islandNations = Set.of(&quot;Australia&quot;, &quot;Japan&quot;, &quot;Taiwan&quot;, &quot;Cyprus&quot;, &quot;Cuba&quot;);\r\nislandNations = islandNations.stream()\r\n\t.map(swap)\r\n\t.map(n -&gt; n.substring(0, 1))\r\n\t.collect(Collectors.toSet());\r\nfor(String s : islandNations){\r\n\tSystem.out.print(s);\r\n}\r\n```\r\nand answers one of these \r\n\r\n - CTJN\r\n - TJNC\r\n - TCNJ\r\n\r\n","title":"Is Set sorted in some manner by default?","body":"<p>I have this set with elements added in the given order.</p>\n<pre><code>        Set&lt;String&gt; nations = new HashSet&lt;String&gt;();\n        nations.add(&quot;Australia&quot;);\n        nations.add(&quot;Japan&quot;);\n        nations.add(&quot;Taiwan&quot;);\n        nations.add(&quot;Cyprus&quot;);\n        nations.add(&quot;Cuba&quot;);\n        nations.add(&quot;India&quot;);\n</code></pre>\n<p>When I print the record -</p>\n<pre><code>for (String s : nations) {\n    System.out.print(s + &quot; &quot;);\n}\n</code></pre>\n<p>It always gives this output in the order</p>\n<pre><code>Cuba Cyprus Japan Taiwan Australia India \n</code></pre>\n<p>As far as I know a Set is not sorted by default, but why do I get the same result in a particular sorted manner?</p>\n<hr />\n<p>Update : Here is the actual question -</p>\n<pre><code>public static Function&lt;String,String&gt; swap = s -&gt; {\n    if(s.equals(&quot;Australia&quot;))\n        return &quot;New Zealand&quot;;\n    else\n        return s;\n    };\n\nSet&lt;String&gt; islandNations = Set.of(&quot;Australia&quot;, &quot;Japan&quot;, &quot;Taiwan&quot;, &quot;Cyprus&quot;, &quot;Cuba&quot;);\nislandNations = islandNations.stream()\n    .map(swap)\n    .map(n -&gt; n.substring(0, 1))\n    .collect(Collectors.toSet());\nfor(String s : islandNations){\n    System.out.print(s);\n}\n</code></pre>\n<p>and answers one of these</p>\n<ul>\n<li>CTJN</li>\n<li>TJNC</li>\n<li>TCNJ</li>\n</ul>\n"},{"tags":["java","android","kotlin","android-contentresolver"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1666448218,"post_id":74164284,"comment_id":130941795,"body_markdown":"&quot;I&#39;ve a Bitmap which converted into URI by doing something like this&quot; -- perhaps instead you should be using `FileProvider`. &quot;So I&#39;m deleting a file or better Image from URI like this&quot; -- you no longer have rights to the content identified by that `Uri`. You would not have this problem if you were using `FileProvider`. &quot;I&#39;ve also added file provider in Manifest&quot; -- you are not using it, though. Just having the manifest entry is insufficient.","body":"&quot;I&#39;ve a Bitmap which converted into URI by doing something like this&quot; -- perhaps instead you should be using <code>FileProvider</code>. &quot;So I&#39;m deleting a file or better Image from URI like this&quot; -- you no longer have rights to the content identified by that <code>Uri</code>. You would not have this problem if you were using <code>FileProvider</code>. &quot;I&#39;ve also added file provider in Manifest&quot; -- you are not using it, though. Just having the manifest entry is insufficient."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1666448318,"post_id":74164284,"comment_id":130941820,"body_markdown":"[The documentation](https://developer.android.com/reference/androidx/core/content/FileProvider) covers the use of `FileProvider`. FWIW, I also cover it in [this section](https://commonsware.com/Jetpack/pages/chap-files-005.html) of [this free book](https://commonsware.com/Jetpack).","body":"<a href=\"https://developer.android.com/reference/androidx/core/content/FileProvider\" rel=\"nofollow noreferrer\">The documentation</a> covers the use of <code>FileProvider</code>. FWIW, I also cover it in <a href=\"https://commonsware.com/Jetpack/pages/chap-files-005.html\" rel=\"nofollow noreferrer\">this section</a> of <a href=\"https://commonsware.com/Jetpack\" rel=\"nofollow noreferrer\">this free book</a>."},{"owner":{"account_id":26690144,"reputation":43,"user_id":20298837,"display_name":"Levi"},"score":0,"creation_date":1666448333,"post_id":74164284,"comment_id":130941824,"body_markdown":"@CommonsWare thanks for instant reply. I&#39;d like to know more can you please add code snippet","body":"@CommonsWare thanks for instant reply. I&#39;d like to know more can you please add code snippet"},{"owner":{"account_id":26690144,"reputation":43,"user_id":20298837,"display_name":"Levi"},"score":0,"creation_date":1666449336,"post_id":74164284,"comment_id":130942074,"body_markdown":"@CommonsWare how can I convert bitmap to uri using `FileProvider` any idea ?","body":"@CommonsWare how can I convert bitmap to uri using <code>FileProvider</code> any idea ?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1666449441,"post_id":74164284,"comment_id":130942107,"body_markdown":"Save the bitmap to a file, such as in `getFilesDir()` on `Context`. Use `FileProvider` to make it available to other apps, assuming that you need to do that for some reason.","body":"Save the bitmap to a file, such as in <code>getFilesDir()</code> on <code>Context</code>. Use <code>FileProvider</code> to make it available to other apps, assuming that you need to do that for some reason."},{"owner":{"account_id":26690144,"reputation":43,"user_id":20298837,"display_name":"Levi"},"score":0,"creation_date":1666449596,"post_id":74164284,"comment_id":130942149,"body_markdown":"@CommonsWare thank you I&#39;d like to implement this. Then Can I able to delete after that ?","body":"@CommonsWare thank you I&#39;d like to implement this. Then Can I able to delete after that ?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1666449891,"post_id":74164284,"comment_id":130942201,"body_markdown":"You have complete read/write/delete access to files in `getFilesDir()` on `Context`. You can delete them whenever you want.","body":"You have complete read/write/delete access to files in <code>getFilesDir()</code> on <code>Context</code>. You can delete them whenever you want."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666451256,"post_id":74164284,"comment_id":130942483,"body_markdown":"If you save something to the mediastore and you got an uri in return then of course you can use that uri to delete the file.","body":"If you save something to the mediastore and you got an uri in return then of course you can use that uri to delete the file."},{"owner":{"account_id":26690144,"reputation":43,"user_id":20298837,"display_name":"Levi"},"score":0,"creation_date":1666451674,"post_id":74164284,"comment_id":130942583,"body_markdown":"@blackapps Yeah I&#39;ve used `MediaStore` as you can see in question but still getting exception while deleting","body":"@blackapps Yeah I&#39;ve used <code>MediaStore</code> as you can see in question but still getting exception while deleting"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666451774,"post_id":74164284,"comment_id":130942599,"body_markdown":"We dont see you using the same uri. Please post better example code.","body":"We dont see you using the same uri. Please post better example code."},{"owner":{"account_id":26690144,"reputation":43,"user_id":20298837,"display_name":"Levi"},"score":0,"creation_date":1666492926,"post_id":74164284,"comment_id":130949195,"body_markdown":"@blackapps I&#39;m actually storing all created Uri in a list and then getting one of those","body":"@blackapps I&#39;m actually storing all created Uri in a list and then getting one of those"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666504124,"post_id":74164284,"comment_id":130950170,"body_markdown":"To demonstrate you problem here do away with the list and use one file one uri. Reproducable code is asked here.","body":"To demonstrate you problem here do away with the list and use one file one uri. Reproducable code is asked here."}],"owner":{"account_id":26690144,"reputation":43,"user_id":20298837,"display_name":"Levi"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666494165,"creation_date":1666447976,"question_id":74164284,"body_markdown":"I&#39;ve a `Bitmap` which converted into **URI** by doing something like this\r\n\r\n```\r\nfun bitmapToUri(ctx: Context, bitmap: Bitmap): Uri {\r\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, ByteArrayOutputStream())\r\n    val fileName = &quot;${ctx.getString(R.string.app_name)}-${System.currentTimeMillis()}&quot;\r\n    val path = MediaStore.Images.Media.insertImage(ctx.contentResolver, bitmap, fileName, &quot;blah blah&quot;)\r\n    return Uri.parse(path)\r\n}\r\n```\r\n\r\n&gt; So, somewhere I&#39;ve heard that If your application created some media in my case **IMAGE**.\r\nYou can delete without requiring any permission after API LEVEL - 30 ( Android 11 ). However I&#39;ve added permission in **Manifest**\r\n\r\nSo I&#39;m deleting a file or better **Image** from URI like this ( Let me know If I can also delete in other ways. Target SDK - 30) \r\n\r\n```\r\nfun deleteUri(context: Context, uri: Uri) {\r\n    val contentResolver = context.contentResolver\r\n    contentResolver.delete(uri, null, null)\r\n}\r\n```\r\n\r\nCalling this function in some secret place just kidding in **MainActivity** like this -\r\n\r\n```\r\nuri = bitmapToUri(this@MainActivity, bitmap)\r\n\r\n...\r\n// I assure you uri is not null\r\ncoroutineScope.launch {\r\n    deleteUri(this@MainActivity, uri)\r\n}\r\n...\r\n```\r\n\r\nI&#39;m getting a SecurityException :(\r\n\r\n```\r\nWriting exception to parcel\r\njava.lang.SecurityException: com.example.myapp has no access to content://media/external/images/media/1000000077\r\nat com.android.providers.media.MediaProvider.enforceCallingPermissionInternal(MediaProvider.java:9959)\r\nat com.android.providers.media.MediaProvider.enforceCallingPermission(MediaProvider.java:9856)\r\nat com.android.providers.media.MediaProvider.deleteInternal(MediaProvider.java:5878)\r\nat com.android.providers.media.MediaProvider.delete(MediaProvider.java:5767)\r\n.... and some more\r\n```\r\n\r\n&gt; I&#39;ve also added file provider in Manifest\r\n&gt; ```\r\n&gt; &lt;provider\r\n&gt;    android:name=&quot;androidx.core.content.FileProvider&quot;\r\n&gt;    android:authorities=&quot;${applicationId}.provider&quot;\r\n&gt;    android:exported=&quot;false&quot;\r\n&gt;    android:grantUriPermissions=&quot;true&quot;\r\n&gt;    tools:replace=&quot;android:authorities&quot;&gt;\r\n&gt;       &lt;meta-data\r\n&gt;           android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n&gt;           android:resource=&quot;@xml/provider_paths&quot;\r\n&gt;           tools:replace=&quot;android:resource&quot; /&gt;\r\n&gt;  &lt;/provider&gt;\r\n&gt;```\r\n\r\nP.S - I&#39;m testing in Emulator - Pixel 6 API 33, also new on on StackOverflow so please be easy\r\n\r\nIf you have any question don&#39;t hesitate to shoot comment :)","title":"Deleting own app&#39;s created Image throws SecurityException","body":"<p>I've a <code>Bitmap</code> which converted into <strong>URI</strong> by doing something like this</p>\n<pre><code>fun bitmapToUri(ctx: Context, bitmap: Bitmap): Uri {\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, ByteArrayOutputStream())\n    val fileName = &quot;${ctx.getString(R.string.app_name)}-${System.currentTimeMillis()}&quot;\n    val path = MediaStore.Images.Media.insertImage(ctx.contentResolver, bitmap, fileName, &quot;blah blah&quot;)\n    return Uri.parse(path)\n}\n</code></pre>\n<blockquote>\n<p>So, somewhere I've heard that If your application created some media in my case <strong>IMAGE</strong>.\nYou can delete without requiring any permission after API LEVEL - 30 ( Android 11 ). However I've added permission in <strong>Manifest</strong></p>\n</blockquote>\n<p>So I'm deleting a file or better <strong>Image</strong> from URI like this ( Let me know If I can also delete in other ways. Target SDK - 30)</p>\n<pre><code>fun deleteUri(context: Context, uri: Uri) {\n    val contentResolver = context.contentResolver\n    contentResolver.delete(uri, null, null)\n}\n</code></pre>\n<p>Calling this function in some secret place just kidding in <strong>MainActivity</strong> like this -</p>\n<pre><code>uri = bitmapToUri(this@MainActivity, bitmap)\n\n...\n// I assure you uri is not null\ncoroutineScope.launch {\n    deleteUri(this@MainActivity, uri)\n}\n...\n</code></pre>\n<p>I'm getting a SecurityException :(</p>\n<pre><code>Writing exception to parcel\njava.lang.SecurityException: com.example.myapp has no access to content://media/external/images/media/1000000077\nat com.android.providers.media.MediaProvider.enforceCallingPermissionInternal(MediaProvider.java:9959)\nat com.android.providers.media.MediaProvider.enforceCallingPermission(MediaProvider.java:9856)\nat com.android.providers.media.MediaProvider.deleteInternal(MediaProvider.java:5878)\nat com.android.providers.media.MediaProvider.delete(MediaProvider.java:5767)\n.... and some more\n</code></pre>\n<blockquote>\n<p>I've also added file provider in Manifest</p>\n<pre><code>&lt;provider\n   android:name=&quot;androidx.core.content.FileProvider&quot;\n   android:authorities=&quot;${applicationId}.provider&quot;\n   android:exported=&quot;false&quot;\n   android:grantUriPermissions=&quot;true&quot;\n   tools:replace=&quot;android:authorities&quot;&gt;\n      &lt;meta-data\n          android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n          android:resource=&quot;@xml/provider_paths&quot;\n          tools:replace=&quot;android:resource&quot; /&gt;\n &lt;/provider&gt;\n</code></pre>\n</blockquote>\n<p>P.S - I'm testing in Emulator - Pixel 6 API 33, also new on on StackOverflow so please be easy</p>\n<p>If you have any question don't hesitate to shoot comment :)</p>\n"},{"tags":["java","builder"],"answers":[{"comments":[{"owner":{"account_id":2655789,"reputation":677,"user_id":2296532,"accept_rate":80,"display_name":"raxell"},"score":0,"creation_date":1397914537,"post_id":23169913,"comment_id":35435116,"body_markdown":"So unless i don&#39;t have to set the properties in a specific order are both valid methods?\nThinking in this way (for the purpose of the builder pattern) the second option is always preferred to control the way in which the object is created.","body":"So unless i don&#39;t have to set the properties in a specific order are both valid methods? Thinking in this way (for the purpose of the builder pattern) the second option is always preferred to control the way in which the object is created."}],"tags":[],"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1397909573,"creation_date":1397909573,"answer_id":23169913,"question_id":23169505,"body_markdown":"The `Builder` pattern has been described in the Gang of Four “Design Patterns” book that says:\r\n\r\n&gt;The builder pattern is a design pattern that **allows for the step-by-step creation of complex objects using the correct sequence of actions**. The construction is controlled by a director object that only needs to know the type of object it is to create.\r\n\r\nIf there is a sequence of steps that needs to be followed while constructing the object then go for second option.\r\n\r\n**In your first option correct sequence of actions are not controlled.** You can go for either option if sequence of actions are not defined.\r\n","title":"Java best way to implement builder pattern","body":"<p>The <code>Builder</code> pattern has been described in the Gang of Four “Design Patterns” book that says:</p>\n\n<blockquote>\n  <p>The builder pattern is a design pattern that <strong>allows for the step-by-step creation of complex objects using the correct sequence of actions</strong>. The construction is controlled by a director object that only needs to know the type of object it is to create.</p>\n</blockquote>\n\n<p>If there is a sequence of steps that needs to be followed while constructing the object then go for second option.</p>\n\n<p><strong>In your first option correct sequence of actions are not controlled.</strong> You can go for either option if sequence of actions are not defined.</p>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1397912500,"post_id":23169986,"comment_id":35434530,"body_markdown":"+1 for showing the Pizza constructor, that may lead to an immutable object - at least until I get my teeth in it.","body":"+1 for showing the Pizza constructor, that may lead to an immutable object - at least until I get my teeth in it."}],"tags":[],"owner":{"account_id":1901898,"reputation":2064,"user_id":1717586,"accept_rate":64,"display_name":"Javaboy"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1397910468,"creation_date":1397909962,"answer_id":23169986,"question_id":23169505,"body_markdown":"Small Note : Yes the properties might be a repeat but they have advantages\r\n\r\nDetails below :\r\nIf you look at the details [here][1]. \r\n\r\n    Pizza pizza = new Pizza(12);\r\n    pizza.setCheese(true);\r\n    pizza.setPepperoni(true);\r\n    pizza.setBacon(true);\r\n\r\nThe problem here is that because the object is created over several calls it may be in an inconsistent state partway through its construction. This also requires a lot of extra effort to ensure thread safety.\r\n\r\nThe better alternative is to use the Builder Pattern.\r\n \r\n Notice below method in Builder and respective constructor or parent Pizza class - full code in link [here][2]\r\n\r\n     public static class Builder {\r\n            \r\n        public Pizza build() {    // Notice this method\r\n          return new Pizza(this);\r\n        }\r\n      }\r\n    \r\n      private Pizza(Builder builder) {  // Notice this Constructor\r\n        size = builder.size;\r\n        cheese = builder.cheese;\r\n        pepperoni = builder.pepperoni;\r\n        bacon = builder.bacon;\r\n      }\r\n\r\n  [1]: https://stackoverflow.com/questions/328496/when-would-you-use-the-builder-pattern\r\n  [2]: https://stackoverflow.com/questions/328496/when-would-you-use-the-builder-pattern","title":"Java best way to implement builder pattern","body":"<p>Small Note : Yes the properties might be a repeat but they have advantages</p>\n\n<p>Details below :\nIf you look at the details <a href=\"https://stackoverflow.com/questions/328496/when-would-you-use-the-builder-pattern\">here</a>. </p>\n\n<pre><code>Pizza pizza = new Pizza(12);\npizza.setCheese(true);\npizza.setPepperoni(true);\npizza.setBacon(true);\n</code></pre>\n\n<p>The problem here is that because the object is created over several calls it may be in an inconsistent state partway through its construction. This also requires a lot of extra effort to ensure thread safety.</p>\n\n<p>The better alternative is to use the Builder Pattern.</p>\n\n<p>Notice below method in Builder and respective constructor or parent Pizza class - full code in link <a href=\"https://stackoverflow.com/questions/328496/when-would-you-use-the-builder-pattern\">here</a></p>\n\n<pre><code> public static class Builder {\n\n    public Pizza build() {    // Notice this method\n      return new Pizza(this);\n    }\n  }\n\n  private Pizza(Builder builder) {  // Notice this Constructor\n    size = builder.size;\n    cheese = builder.cheese;\n    pepperoni = builder.pepperoni;\n    bacon = builder.bacon;\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2655789,"reputation":677,"user_id":2296532,"accept_rate":80,"display_name":"raxell"},"score":0,"creation_date":1397913989,"post_id":23170245,"comment_id":35434959,"body_markdown":"What mean: &quot;minimum difference in performance&quot;? Which one is better in performance?","body":"What mean: &quot;minimum difference in performance&quot;? Which one is better in performance?"},{"owner":{"account_id":224815,"reputation":4029,"user_id":484894,"accept_rate":84,"display_name":"Nailgun"},"score":0,"creation_date":1397982710,"post_id":23170245,"comment_id":35451681,"body_markdown":"In theory the first way should be a bit faster. But such things should always be proved with benchmarks.","body":"In theory the first way should be a bit faster. But such things should always be proved with benchmarks."}],"tags":[],"owner":{"account_id":224815,"reputation":4029,"user_id":484894,"accept_rate":84,"display_name":"Nailgun"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397911638,"creation_date":1397911638,"answer_id":23170245,"question_id":23169505,"body_markdown":"I think in your case there is no matter where to create the object. The builder would be used the same way in both cases with minimum difference in performance.\r\n\r\nBut if the object is immutable and it&#39;s field could be created with more than one step then I would certainly go with the second approach. For example you can check the source code of `java.lang.StringBuilder` and see that the `String` object is created in the last step:\r\n\r\n    public String toString() {\r\n        // Create a copy, don&#39;t share the array\r\n        return new String(value, 0, count);\r\n    }\r\n\r\nMoreover I prefer the Wizard pattern. It is an extension of the Builder pattern which protects you from getting IllegalStateException.\r\n\r\n    public class Person {\r\n        \r\n        private String firstName;\r\n        // other properties ...\r\n    \r\n        private Person() {}\r\n    \r\n        // getters ...\r\n    \r\n        public static class Builder {\r\n    \r\n            public Builder() {}\r\n    \r\n            public FirstStep setFirstName(String firstName) {\r\n                return new FirstStep(firstName);\r\n            }\r\n    \r\n            public static class FirstStep {\r\n    \r\n                private String firstName;\r\n    \r\n                private FirstStep(String firstName) {\r\n                    this.firstName = firstName;\r\n                }\r\n    \r\n                public Person build() {\r\n                    Person person = new Person();\r\n                    person.firstName = firstName;\r\n                    return person;\r\n                }\r\n            }\r\n        }\r\n    }","title":"Java best way to implement builder pattern","body":"<p>I think in your case there is no matter where to create the object. The builder would be used the same way in both cases with minimum difference in performance.</p>\n\n<p>But if the object is immutable and it's field could be created with more than one step then I would certainly go with the second approach. For example you can check the source code of <code>java.lang.StringBuilder</code> and see that the <code>String</code> object is created in the last step:</p>\n\n<pre><code>public String toString() {\n    // Create a copy, don't share the array\n    return new String(value, 0, count);\n}\n</code></pre>\n\n<p>Moreover I prefer the Wizard pattern. It is an extension of the Builder pattern which protects you from getting IllegalStateException.</p>\n\n<pre><code>public class Person {\n\n    private String firstName;\n    // other properties ...\n\n    private Person() {}\n\n    // getters ...\n\n    public static class Builder {\n\n        public Builder() {}\n\n        public FirstStep setFirstName(String firstName) {\n            return new FirstStep(firstName);\n        }\n\n        public static class FirstStep {\n\n            private String firstName;\n\n            private FirstStep(String firstName) {\n                this.firstName = firstName;\n            }\n\n            public Person build() {\n                Person person = new Person();\n                person.firstName = firstName;\n                return person;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666493218,"creation_date":1666493218,"answer_id":74168353,"question_id":23169505,"body_markdown":"You can use [lombok][1] builder annotation \r\n\r\nExample : \r\n\r\n    @Data\r\n    @Builder\r\n    public class Person{\r\n      private String name;\r\n      private String city;\r\n      private String job;\r\n    }\r\n\r\nUsage : \r\n\r\n    Person.builder()\r\n    .name(&quot;Adam Savage&quot;)\r\n    .city(&quot;San Francisco&quot;)\r\n    .job(&quot;Mythbusters&quot;)\r\n    .build();\r\n\r\n  [1]: https://projectlombok.org/features/Builder","title":"Java best way to implement builder pattern","body":"<p>You can use <a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\">lombok</a> builder annotation</p>\n<p>Example :</p>\n<pre><code>@Data\n@Builder\npublic class Person{\n  private String name;\n  private String city;\n  private String job;\n}\n</code></pre>\n<p>Usage :</p>\n<pre><code>Person.builder()\n.name(&quot;Adam Savage&quot;)\n.city(&quot;San Francisco&quot;)\n.job(&quot;Mythbusters&quot;)\n.build();\n</code></pre>\n"}],"owner":{"account_id":2655789,"reputation":677,"user_id":2296532,"accept_rate":80,"display_name":"raxell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5224,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":23169986,"answer_count":4,"score":15,"last_activity_date":1666493218,"creation_date":1397907218,"question_id":23169505,"body_markdown":"Which of the following is the better approach to implement the builder pattern?\r\n\r\n1) Using the object to build instead of all its properties in the builder (and create it in the builder constructor):\r\n\r\n    public class Person {\r\n        private String firstName;\r\n        // other properties ...\r\n\r\n        private Person() {}\r\n\r\n        // getters ...\r\n\r\n        public static class Builder {\r\n            // person object instead of all the person properties\r\n            private Person person;\r\n\r\n            public Builder() {\r\n                person = new Person();\r\n            }\r\n\r\n            public Builder setFirstName(String firstName) {\r\n                person.firstName = firstName;\r\n\r\n                return this;\r\n            }\r\n\r\n            // other setters ...\r\n\r\n            public Person build() {\r\n                if (null == person.firstName) {\r\n                    throw new IllegalStateException(&quot;Invalid data.&quot;);\r\n                }\r\n\r\n                return person;\r\n            }\r\n        }\r\n    }\r\n\r\n2) Using the properties of the object to build instead of the object directly in the builder (and create it in the build() method):\r\n\r\n    public class Person {\r\n        private String firstName;\r\n        // other properties ...\r\n\r\n        private Person() {}\r\n\r\n        // getters ...\r\n\r\n        public static class Builder {\r\n            // person properties instead of object\r\n            private String firstName;\r\n            // other properties ...\r\n\r\n            public Builder() {}\r\n\r\n            public Builder setFirstName(String firstName) {\r\n                this.firstName = firstName;\r\n\r\n                return this;\r\n            }\r\n\r\n            // other setters ...\r\n\r\n            public Person build() {\r\n                if (null == this.firstName) {\r\n                    throw new IllegalStateException(&quot;Invalid data.&quot;);\r\n                }\r\n\r\n                Person person = new Person();\r\n                person.firstName = firstName;\r\n\r\n                return person;\r\n            }\r\n        }\r\n    }\r\n\r\nI prefer the first way because i think that with lots of properties repeat them in the builder is redundant. Are there some disadvantages with the first approach?\r\n\r\nThanks in advance and sorry for my bad english.","title":"Java best way to implement builder pattern","body":"<p>Which of the following is the better approach to implement the builder pattern?</p>\n\n<p>1) Using the object to build instead of all its properties in the builder (and create it in the builder constructor):</p>\n\n<pre><code>public class Person {\n    private String firstName;\n    // other properties ...\n\n    private Person() {}\n\n    // getters ...\n\n    public static class Builder {\n        // person object instead of all the person properties\n        private Person person;\n\n        public Builder() {\n            person = new Person();\n        }\n\n        public Builder setFirstName(String firstName) {\n            person.firstName = firstName;\n\n            return this;\n        }\n\n        // other setters ...\n\n        public Person build() {\n            if (null == person.firstName) {\n                throw new IllegalStateException(\"Invalid data.\");\n            }\n\n            return person;\n        }\n    }\n}\n</code></pre>\n\n<p>2) Using the properties of the object to build instead of the object directly in the builder (and create it in the build() method):</p>\n\n<pre><code>public class Person {\n    private String firstName;\n    // other properties ...\n\n    private Person() {}\n\n    // getters ...\n\n    public static class Builder {\n        // person properties instead of object\n        private String firstName;\n        // other properties ...\n\n        public Builder() {}\n\n        public Builder setFirstName(String firstName) {\n            this.firstName = firstName;\n\n            return this;\n        }\n\n        // other setters ...\n\n        public Person build() {\n            if (null == this.firstName) {\n                throw new IllegalStateException(\"Invalid data.\");\n            }\n\n            Person person = new Person();\n            person.firstName = firstName;\n\n            return person;\n        }\n    }\n}\n</code></pre>\n\n<p>I prefer the first way because i think that with lots of properties repeat them in the builder is redundant. Are there some disadvantages with the first approach?</p>\n\n<p>Thanks in advance and sorry for my bad english.</p>\n"},{"tags":["java","selenium","xpath","javascriptexecutor"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1666738238,"post_id":74148018,"comment_id":131006542,"body_markdown":"are you using Selenium 3 or 4?  Which webdriver? (chrome96 forward changed things a bit and Selenium 4 has a built-in method...)  See here: https://groups.google.com/g/chromedriver-users/c/d1aexxUvQGk It&#39;s also worth noting that certain shadow dom nodes will return null if they are attached with mode: closed.... in which case you can try &quot;return arguments[0]._root&quot;.","body":"are you using Selenium 3 or 4?  Which webdriver? (chrome96 forward changed things a bit and Selenium 4 has a built-in method...)  See here: <a href=\"https://groups.google.com/g/chromedriver-users/c/d1aexxUvQGk\" rel=\"nofollow noreferrer\">groups.google.com/g/chromedriver-users/c/d1aexxUvQGk</a> It&#39;s also worth noting that certain shadow dom nodes will return null if they are attached with mode: closed.... in which case you can try &quot;return arguments[0]._root&quot;."},{"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"score":0,"creation_date":1666739419,"post_id":74148018,"comment_id":131006737,"body_markdown":"I am actually using geckodriver ( a firefox version) because I am using an m1 MacBook pro for development and chromedriver doesn&#39;t have an arm base build for their newest version of webdriver. @pcalkins","body":"I am actually using geckodriver ( a firefox version) because I am using an m1 MacBook pro for development and chromedriver doesn&#39;t have an arm base build for their newest version of webdriver. @pcalkins"},{"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"score":0,"creation_date":1666739494,"post_id":74148018,"comment_id":131006754,"body_markdown":"unless I am incorrect about that then I will try with the newest one, previous tries to use the current webdriver failed because my current version of chrome and current version of chromedriver are not the same on m1","body":"unless I am incorrect about that then I will try with the newest one, previous tries to use the current webdriver failed because my current version of chrome and current version of chromedriver are not the same on m1"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1666806919,"post_id":74148018,"comment_id":131025307,"body_markdown":"looks like they changed the naming from _m1, to _arm64... you can also set an environment var to disable version check:  &quot;webdriver.chrome.disableBuildCheck&quot;, &quot;true&quot;","body":"looks like they changed the naming from _m1, to _arm64... you can also set an environment var to disable version check:  &quot;webdriver.chrome.disableBuildCheck&quot;, &quot;true&quot;"},{"owner":{"account_id":17090872,"reputation":188,"user_id":12367059,"display_name":"Raven"},"score":0,"creation_date":1666969753,"post_id":74148018,"comment_id":131067216,"body_markdown":"in that link https://titusfortner.com/2021/11/22/shadow-dom-selenium.html it using &quot;return arguments[0].shadowRoot.children&quot; for firefox","body":"in that link <a href=\"https://titusfortner.com/2021/11/22/shadow-dom-selenium.html\" rel=\"nofollow noreferrer\">titusfortner.com/2021/11/22/shadow-dom-selenium.html</a> it using &quot;return arguments[0].shadowRoot.children&quot; for firefox"}],"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666492779,"creation_date":1666317785,"question_id":74148018,"body_markdown":"So I have attempted this already with some code I got online. I think it may have something to do with the previous implementation.\r\n\r\nThe idea of this app is to dynamically scrape any website, doing the hard work first by literally scraping every element on the page and indexing important information like buttons and there relative xpath\r\n\r\nI am having trouble detecting whether or not the element that I am currently iterating through is a shadow root element or not.\r\n\r\n\r\n    public void getListOfElements(List&lt;WebElement&gt; e, String previous) {\r\n\t\r\n\t\tif(e.size() == 0) {\r\n\t\t\t//exit\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t\r\n\t\t\r\n\t\tfor(WebElement elem: e) {\r\n            //checking whether or not the tag that is a shadow root is there\r\n\t\t\tif(elem.getAttribute(&quot;id&quot;).equals(&quot;wmHostPrimary&quot;)) {\r\n\t\t\t\tSystem.out.println(&quot;I FOUND THE WMHOSTPRIMARY&quot;);\r\n\t\t\t}\r\n\r\n            //above works and prints, so why does the below not work\r\n\t\t\tWebElement potShadowRoot = getShadowRoot(webDriver, elem);\r\n\t\t\tif(potShadowRoot != null) {\r\n                //the below never runs I am assuming that potShadowRoot is always null\r\n\t\t\t\tSystem.out.println(&quot;Shadow root element found\\n\\n&quot;);\r\n\t\t\t\tgetListOfElements(potShadowRoot.findElements(By.xpath(&quot;.//*&quot;)), elem.getTagName());\r\n\t\t\t} else {\r\n\t\t\t\tList&lt;WebElement&gt; webElems = webDriver.findElements(By.xpath(previous + &quot;/&quot; + elem.getTagName() + &quot;/*&quot;));\r\n\t\t\t\tgetListOfElements(webElems, previous + &quot;/&quot; + elem.getTagName());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\r\nthe below function always returns null even though there is a shadow root being found from above checking I have verified\r\n\r\n    private static WebElement getShadowRoot(WebDriver driver,WebElement shadowHost) {\r\n        JavascriptExecutor js = (JavascriptExecutor) driver;\r\n        try {\r\n    \t    return (WebElement) js.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\r\n        } catch(Exception e) {\r\n        \treturn null;\r\n        }\r\n    }\r\n\r\n\r\nwhen I call the function I am calling the children of the top layer of the HTML tag.\r\n\r\n    getListOfElements(webDriver.findElements(By.xpath(&quot;/html/*&quot;)), &quot;html&quot;);\r\n\r\nI think that is all you would need for a minimal example. I have WebDriver autowired and this is a springboot app.\r\n\r\nif you need more information please let me know appreciate the help.\r\n\r\n\r\nthe HTML may help as well here is a rough design:\r\n\r\n    &lt;html&gt;\r\n        &lt;body&gt;&lt;div id=&quot;wmHostPrimary&quot;&gt;#shadow-root (open)&lt;/div&gt;&lt;/body&gt;\r\n        ...othertags\r\n    &lt;/html&gt;\r\n\r\n\r\nit may also help to know that the following code works:\r\n\r\n    String str = &quot;return document.querySelector(&#39;#wmHostPrimary&#39;).shadowRoot.querySelector(&#39;body&#39;)&quot;;\r\n    WebElement element =  (WebElement) js.executeScript(str);\r\n\r\n","title":"Is there A function that exists that can check if an element is a shadow root element?","body":"<p>So I have attempted this already with some code I got online. I think it may have something to do with the previous implementation.</p>\n<p>The idea of this app is to dynamically scrape any website, doing the hard work first by literally scraping every element on the page and indexing important information like buttons and there relative xpath</p>\n<p>I am having trouble detecting whether or not the element that I am currently iterating through is a shadow root element or not.</p>\n<pre><code>public void getListOfElements(List&lt;WebElement&gt; e, String previous) {\n\n    if(e.size() == 0) {\n        //exit\n        return;\n    }\n\n    \n    \n    for(WebElement elem: e) {\n        //checking whether or not the tag that is a shadow root is there\n        if(elem.getAttribute(&quot;id&quot;).equals(&quot;wmHostPrimary&quot;)) {\n            System.out.println(&quot;I FOUND THE WMHOSTPRIMARY&quot;);\n        }\n\n        //above works and prints, so why does the below not work\n        WebElement potShadowRoot = getShadowRoot(webDriver, elem);\n        if(potShadowRoot != null) {\n            //the below never runs I am assuming that potShadowRoot is always null\n            System.out.println(&quot;Shadow root element found\\n\\n&quot;);\n            getListOfElements(potShadowRoot.findElements(By.xpath(&quot;.//*&quot;)), elem.getTagName());\n        } else {\n            List&lt;WebElement&gt; webElems = webDriver.findElements(By.xpath(previous + &quot;/&quot; + elem.getTagName() + &quot;/*&quot;));\n            getListOfElements(webElems, previous + &quot;/&quot; + elem.getTagName());\n        }\n        \n    }\n}\n</code></pre>\n<p>the below function always returns null even though there is a shadow root being found from above checking I have verified</p>\n<pre><code>private static WebElement getShadowRoot(WebDriver driver,WebElement shadowHost) {\n    JavascriptExecutor js = (JavascriptExecutor) driver;\n    try {\n        return (WebElement) js.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\n    } catch(Exception e) {\n        return null;\n    }\n}\n</code></pre>\n<p>when I call the function I am calling the children of the top layer of the HTML tag.</p>\n<pre><code>getListOfElements(webDriver.findElements(By.xpath(&quot;/html/*&quot;)), &quot;html&quot;);\n</code></pre>\n<p>I think that is all you would need for a minimal example. I have WebDriver autowired and this is a springboot app.</p>\n<p>if you need more information please let me know appreciate the help.</p>\n<p>the HTML may help as well here is a rough design:</p>\n<pre><code>&lt;html&gt;\n    &lt;body&gt;&lt;div id=&quot;wmHostPrimary&quot;&gt;#shadow-root (open)&lt;/div&gt;&lt;/body&gt;\n    ...othertags\n&lt;/html&gt;\n</code></pre>\n<p>it may also help to know that the following code works:</p>\n<pre><code>String str = &quot;return document.querySelector('#wmHostPrimary').shadowRoot.querySelector('body')&quot;;\nWebElement element =  (WebElement) js.executeScript(str);\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":24323906,"reputation":128,"user_id":18263761,"display_name":"ilia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666492425,"creation_date":1666492117,"answer_id":74168301,"question_id":74167501,"body_markdown":"You have declared @Data from Lombok already, Which has a getter and setter inside, so when you write them manually, it becomes a duplicate.\r\n\r\nYou can read from [here][1]: `@Data` annotation is equivalent to the combination of the following annotations:\r\n\r\n    @Getter\r\n    @Setter\r\n    @RequiredArgsConstructor\r\n    @ToString\r\n    @EqualsAndHashCode\r\n\r\n\r\n\r\nIf you want to use setter or getter from different place, just use as same you will use when you create manually, it will show up\r\n\r\nFor example:\r\n\r\n    public class Work{\r\n    public static void main(String[] args){\r\n       Employee emp = new Employee();\r\n        emp.setName(&quot;John&quot;);\r\n        String name = emp.getName(); // =&gt; John\r\n        \r\n      }\r\n    }\r\n\r\nAs you see from example, you don&#39;t need to set them manually, Lombok `@Data` will do for you\r\n\r\n  [1]: https://www.educative.io/answers/what-is-the-data-annotation-in-lombok","title":"org.springframework.http.converter.HttpMessageNotWritableException with custom getter","body":"<p>You have declared @Data from Lombok already, Which has a getter and setter inside, so when you write them manually, it becomes a duplicate.</p>\n<p>You can read from <a href=\"https://www.educative.io/answers/what-is-the-data-annotation-in-lombok\" rel=\"nofollow noreferrer\">here</a>: <code>@Data</code> annotation is equivalent to the combination of the following annotations:</p>\n<pre><code>@Getter\n@Setter\n@RequiredArgsConstructor\n@ToString\n@EqualsAndHashCode\n</code></pre>\n<p>If you want to use setter or getter from different place, just use as same you will use when you create manually, it will show up</p>\n<p>For example:</p>\n<pre><code>public class Work{\npublic static void main(String[] args){\n   Employee emp = new Employee();\n    emp.setName(&quot;John&quot;);\n    String name = emp.getName(); // =&gt; John\n    \n  }\n}\n</code></pre>\n<p>As you see from example, you don't need to set them manually, Lombok <code>@Data</code> will do for you</p>\n"}],"owner":{"account_id":5401151,"reputation":49,"user_id":4301034,"accept_rate":60,"display_name":"Shima Mahmoud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666492425,"creation_date":1666477537,"question_id":74167501,"body_markdown":"I am getting this exception when I enable the custom-getter.\r\nand when I comment it I don&#39;t get the exception.\r\n\r\nI need this getter to generate the transiaent value `&#39;state&#39;` that is calculated from another persisted value, it is the complete description of the other persisted version `&#39;stateId&#39;`\r\n\r\n\r\n    .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: 1; nested exception is com.fasterxml.jackson.databind.JsonMappingException: 1 (through reference chain: com.example.model.Employee[&quot;state&quot;])]\r\n\r\n\r\n\r\nthis is my entity class\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @Entity\r\n    public class Employee implements Serializable {\r\n        @Id\r\n        @GeneratedValue(generator = UUIDGenerator.UUID_GEN_STRATEGY ) //strategy = GenerationType.IDENTITY\r\n        UUID id ;\r\n        @Column\r\n        String name;\r\n        @Column\r\n        String telephone;\r\n        @Column\r\n        String address;\r\n    \r\n        @Enumerated\r\n        @JsonIgnore\r\n        @Column(name=&quot;state&quot;, nullable = false)\r\n        State stateId;\r\n    \r\n        @Transient\r\n        List&lt;String&gt; state;\r\n    \r\n        public Employee(BaseEmployeeRequest employee) {\r\n            stateId = State.ADDED;\r\n            this.name = employee.getName();\r\n            this.address = employee.getAddress();\r\n            this.telephone = employee.getTelephone();\r\n        }\r\n    \r\n        public void setState(List&lt;String&gt; state) {\r\n            this.state = state;\r\n        }\r\n    \r\n        public List&lt;String&gt; getState(){\r\n            List&lt;String&gt; state = new ArrayList&lt;String&gt;();\r\n            if(stateId !=null) {\r\n                String[] states = stateId.getId().split(&quot;_&quot;);\r\n                if(states[1] ==null || states[1].length()==0){\r\n                    state.add(states[0]);\r\n                    state.add(EventFullName.SECURITY.get(states[1]));\r\n                    state.add(EventFullName.SECURITY.get(states[2]));\r\n                }\r\n                return state;\r\n            }\r\n            return Collections.EMPTY_LIST;\r\n        }\r\n    }","title":"org.springframework.http.converter.HttpMessageNotWritableException with custom getter","body":"<p>I am getting this exception when I enable the custom-getter.\nand when I comment it I don't get the exception.</p>\n<p>I need this getter to generate the transiaent value <code>'state'</code> that is calculated from another persisted value, it is the complete description of the other persisted version <code>'stateId'</code></p>\n<pre><code>.w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: 1; nested exception is com.fasterxml.jackson.databind.JsonMappingException: 1 (through reference chain: com.example.model.Employee[&quot;state&quot;])]\n</code></pre>\n<p>this is my entity class</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Entity\npublic class Employee implements Serializable {\n    @Id\n    @GeneratedValue(generator = UUIDGenerator.UUID_GEN_STRATEGY ) //strategy = GenerationType.IDENTITY\n    UUID id ;\n    @Column\n    String name;\n    @Column\n    String telephone;\n    @Column\n    String address;\n\n    @Enumerated\n    @JsonIgnore\n    @Column(name=&quot;state&quot;, nullable = false)\n    State stateId;\n\n    @Transient\n    List&lt;String&gt; state;\n\n    public Employee(BaseEmployeeRequest employee) {\n        stateId = State.ADDED;\n        this.name = employee.getName();\n        this.address = employee.getAddress();\n        this.telephone = employee.getTelephone();\n    }\n\n    public void setState(List&lt;String&gt; state) {\n        this.state = state;\n    }\n\n    public List&lt;String&gt; getState(){\n        List&lt;String&gt; state = new ArrayList&lt;String&gt;();\n        if(stateId !=null) {\n            String[] states = stateId.getId().split(&quot;_&quot;);\n            if(states[1] ==null || states[1].length()==0){\n                state.add(states[0]);\n                state.add(EventFullName.SECURITY.get(states[1]));\n                state.add(EventFullName.SECURITY.get(states[2]));\n            }\n            return state;\n        }\n        return Collections.EMPTY_LIST;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":3,"creation_date":1666488693,"post_id":74168143,"comment_id":130948823,"body_markdown":"`yourHP &lt;= 0`  &quot;Hit Points&quot; is normally a positive number.  This will make the while loop run only while HP is negative.  Did you mean something like `yourHP &gt;= 0`?","body":"<code>yourHP &lt;= 0</code>  &quot;Hit Points&quot; is normally a positive number.  This will make the while loop run only while HP is negative.  Did you mean something like <code>yourHP &gt;= 0</code>?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1666491596,"post_id":74168143,"comment_id":130949094,"body_markdown":"Also you used `int coinFlip = ThreadLocalRandom.current().nextInt(1, 2 + 1);` which can generate only 1 or 2. But your `if`s are checking if `coinFlip` is either 1 or 0.","body":"Also you used <code>int coinFlip = ThreadLocalRandom.current().nextInt(1, 2 + 1);</code> which can generate only 1 or 2. But your <code>if</code>s are checking if <code>coinFlip</code> is either 1 or 0."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666488692,"creation_date":1666488692,"answer_id":74168158,"question_id":74168143,"body_markdown":"Your `while` loops will only be entered when the condition evaluates as `true`. I would assume both `yourHP` *and* `theirHP` start with values greater than `0` so\r\n\r\n    while (yourHP &lt;= 0 || theirHP &lt;= 0)\r\n\r\nevaluates as `false`. I believe you wanted\r\n\r\n    while (yourHP &gt; 0 &amp;&amp; theirHP &gt; 0)\r\n\r\nTo end when either values decrease to `0`.\r\n\r\nAlso, and not directly to your issue,\r\n\r\n    if (coinFlip == 1)\r\n\r\nshould logically be followed by an `else`. Not another test like `if (coinFlip == 0)`. But both bodies appear to do the same thing, so it isn&#39;t clear why you have `coinFlip` in the first place.","title":"Why while loop isn&#39;t running and I do not know why","body":"<p>Your <code>while</code> loops will only be entered when the condition evaluates as <code>true</code>. I would assume both <code>yourHP</code> <em>and</em> <code>theirHP</code> start with values greater than <code>0</code> so</p>\n<pre><code>while (yourHP &lt;= 0 || theirHP &lt;= 0)\n</code></pre>\n<p>evaluates as <code>false</code>. I believe you wanted</p>\n<pre><code>while (yourHP &gt; 0 &amp;&amp; theirHP &gt; 0)\n</code></pre>\n<p>To end when either values decrease to <code>0</code>.</p>\n<p>Also, and not directly to your issue,</p>\n<pre><code>if (coinFlip == 1)\n</code></pre>\n<p>should logically be followed by an <code>else</code>. Not another test like <code>if (coinFlip == 0)</code>. But both bodies appear to do the same thing, so it isn't clear why you have <code>coinFlip</code> in the first place.</p>\n"}],"owner":{"account_id":21292602,"reputation":31,"user_id":15669530,"display_name":"PotatoSlayer56"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74168158,"answer_count":1,"score":-1,"last_activity_date":1666488692,"creation_date":1666488409,"question_id":74168143,"body_markdown":"Whenever I run the code it just ends regardless of what coinFlip is.ㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤ\r\n```\r\npublic void fight(String person, int theirHP){\r\n    int yourHP = ThreadLocalRandom.current().nextInt(5, 30 + 1);\r\n    System.out.println(&quot;Your HP: &quot; + yourHP + &quot;\\nTheirHP: &quot; + theirHP);\r\n    int coinFlip = ThreadLocalRandom.current().nextInt(1, 2 + 1);\r\n    int damage;\r\n    System.out.println(coinFlip);\r\n    if (coinFlip == 1) {\r\n        while (yourHP &lt;= 0 || theirHP &lt;= 0) {\r\n            damage = ThreadLocalRandom.current().nextInt(1, 3 + 1);\r\n            theirHP -= damage;\r\n            System.out.println(&quot;Their HP: &quot; + theirHP + &quot;\\nYour HP: &quot; + yourHP);\r\n            damage = ThreadLocalRandom.current().nextInt(1, 3 + 1);\r\n            yourHP -= damage;\r\n            System.out.println(&quot;Their HP: &quot; + theirHP + &quot;\\nYour HP: &quot; + yourHP);\r\n        }\r\n    }\r\n    if (coinFlip == 0) {\r\n        while (yourHP &lt;= 0 || theirHP &lt;= 0) {\r\n            damage = ThreadLocalRandom.current().nextInt(1, 3 + 1);\r\n            yourHP -= damage;\r\n            System.out.println(&quot;Their HP: &quot; + theirHP + &quot;\\nYour HP: &quot; + yourHP);\r\n            damage = ThreadLocalRandom.current().nextInt(1, 3 + 1);\r\n            theirHP -= damage;\r\n            System.out.println(&quot;Their HP: &quot; + theirHP + &quot;\\nYour HP: &quot; + yourHP);\r\n        }\r\n    }\r\n}\r\n```\r\nㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤ","title":"Why while loop isn&#39;t running and I do not know why","body":"<p>Whenever I run the code it just ends regardless of what coinFlip is.ㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤ</p>\n<pre><code>public void fight(String person, int theirHP){\n    int yourHP = ThreadLocalRandom.current().nextInt(5, 30 + 1);\n    System.out.println(&quot;Your HP: &quot; + yourHP + &quot;\\nTheirHP: &quot; + theirHP);\n    int coinFlip = ThreadLocalRandom.current().nextInt(1, 2 + 1);\n    int damage;\n    System.out.println(coinFlip);\n    if (coinFlip == 1) {\n        while (yourHP &lt;= 0 || theirHP &lt;= 0) {\n            damage = ThreadLocalRandom.current().nextInt(1, 3 + 1);\n            theirHP -= damage;\n            System.out.println(&quot;Their HP: &quot; + theirHP + &quot;\\nYour HP: &quot; + yourHP);\n            damage = ThreadLocalRandom.current().nextInt(1, 3 + 1);\n            yourHP -= damage;\n            System.out.println(&quot;Their HP: &quot; + theirHP + &quot;\\nYour HP: &quot; + yourHP);\n        }\n    }\n    if (coinFlip == 0) {\n        while (yourHP &lt;= 0 || theirHP &lt;= 0) {\n            damage = ThreadLocalRandom.current().nextInt(1, 3 + 1);\n            yourHP -= damage;\n            System.out.println(&quot;Their HP: &quot; + theirHP + &quot;\\nYour HP: &quot; + yourHP);\n            damage = ThreadLocalRandom.current().nextInt(1, 3 + 1);\n            theirHP -= damage;\n            System.out.println(&quot;Their HP: &quot; + theirHP + &quot;\\nYour HP: &quot; + yourHP);\n        }\n    }\n}\n</code></pre>\n<p>ㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤ</p>\n"},{"tags":["java","maven","junit","code-coverage"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653208363,"post_id":72334808,"comment_id":127791266,"body_markdown":"Is the attribute `Person.age` accessible ? Is that attribute declared public?","body":"Is the attribute <code>Person.age</code> accessible ? Is that attribute declared public?"},{"owner":{"account_id":19796944,"reputation":51,"user_id":14498732,"display_name":"a stand-out flamingo"},"score":0,"creation_date":1653245536,"post_id":72334808,"comment_id":127798803,"body_markdown":"Yes, it is declared public.","body":"Yes, it is declared public."}],"answers":[{"comments":[{"owner":{"account_id":19796944,"reputation":51,"user_id":14498732,"display_name":"a stand-out flamingo"},"score":0,"creation_date":1653246558,"post_id":72335764,"comment_id":127799025,"body_markdown":"Hi, I appricate your help.  I followed the documentation, but it does not work. I guess it&#39;s because of the illegal character issue, but I do not know. I also tried Jacoco here; the problem is different. I updated my question.","body":"Hi, I appricate your help.  I followed the documentation, but it does not work. I guess it&#39;s because of the illegal character issue, but I do not know. I also tried Jacoco here; the problem is different. I updated my question."}],"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653206175,"creation_date":1653206175,"answer_id":72335764,"question_id":72334808,"body_markdown":"As exception suggests your attempt to run with coverage has leak of sufficient argument to be executed, namely \r\n\r\n - Directory to save test coverage result\r\n - Flag for identify the tracking per test\r\n - Flag to how calculate empty [classes][1] \r\n - Flag for how to use data files \r\n - Flag to indicate to run coverage in sampling (or tracing) mode\r\n\r\nYou can follow the official documentation for setting [coverages][2] in run configuration and passing required arguments regard to your case.\r\n\r\n\r\n  [1]: https://developer.salesforce.com/forums/?id=906F0000000B2UEIA0\r\n  [2]: https://www.jetbrains.com/help/idea/running-test-with-coverage.html#run-config-with-coverage","title":"Fail to collect coverage for java maven projects with Intellij IDE","body":"<p>As exception suggests your attempt to run with coverage has leak of sufficient argument to be executed, namely</p>\n<ul>\n<li>Directory to save test coverage result</li>\n<li>Flag for identify the tracking per test</li>\n<li>Flag to how calculate empty <a href=\"https://developer.salesforce.com/forums/?id=906F0000000B2UEIA0\" rel=\"nofollow noreferrer\">classes</a></li>\n<li>Flag for how to use data files</li>\n<li>Flag to indicate to run coverage in sampling (or tracing) mode</li>\n</ul>\n<p>You can follow the official documentation for setting <a href=\"https://www.jetbrains.com/help/idea/running-test-with-coverage.html#run-config-with-coverage\" rel=\"nofollow noreferrer\">coverages</a> in run configuration and passing required arguments regard to your case.</p>\n"},{"comments":[{"owner":{"account_id":19796944,"reputation":51,"user_id":14498732,"display_name":"a stand-out flamingo"},"score":0,"creation_date":1654888335,"post_id":72576279,"comment_id":128208383,"body_markdown":"Thanks very much, your answer is to the point and quite helpful.","body":"Thanks very much, your answer is to the point and quite helpful."}],"tags":[],"owner":{"account_id":25525773,"reputation":26,"user_id":19314875,"display_name":"Affid"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654872915,"creation_date":1654872915,"answer_id":72576279,"question_id":72334808,"body_markdown":"The only solution that I found is to rename windows user. It is a painful operation with modification of regisrty.\r\n\r\nHere is the instruction in Russian.\r\n\r\nhttps://zen.yandex.ru/media/tehnichka/kak-pereimenovat-papku-polzovatelia-v-windows-10-5ffc31e6fe4e686f6ab950f5\r\n\r\nMay be you will find the same in English.","title":"Fail to collect coverage for java maven projects with Intellij IDE","body":"<p>The only solution that I found is to rename windows user. It is a painful operation with modification of regisrty.</p>\n<p>Here is the instruction in Russian.</p>\n<p><a href=\"https://zen.yandex.ru/media/tehnichka/kak-pereimenovat-papku-polzovatelia-v-windows-10-5ffc31e6fe4e686f6ab950f5\" rel=\"nofollow noreferrer\">https://zen.yandex.ru/media/tehnichka/kak-pereimenovat-papku-polzovatelia-v-windows-10-5ffc31e6fe4e686f6ab950f5</a></p>\n<p>May be you will find the same in English.</p>\n"},{"tags":[],"owner":{"account_id":25378914,"reputation":21,"user_id":19191601,"display_name":"Pawel Forys"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665344372,"creation_date":1665344372,"answer_id":74007866,"question_id":72334808,"body_markdown":"Try path File -&gt; Invalidate Caches -&gt; clear file system cache and local history -&gt; invalidate and restart. Maybe it will work.","title":"Fail to collect coverage for java maven projects with Intellij IDE","body":"<p>Try path File -&gt; Invalidate Caches -&gt; clear file system cache and local history -&gt; invalidate and restart. Maybe it will work.</p>\n"},{"tags":[],"owner":{"account_id":17065625,"reputation":441,"user_id":12347889,"display_name":"Vitalii"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666488392,"creation_date":1666488392,"answer_id":74168140,"question_id":72334808,"body_markdown":"Non-ascii chars are exist in tmp path.\r\n\r\n1. Open the IDEA, click: `Help` -&gt; `Edit Custom VM Options`\r\n2. Insert a record `-Djava.io.tmpdir=C:\\\\tmp` or other path with ascii chars only.\r\n3. Restart IDEA.\r\n\r\nSolition is described [here][1].\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/4402863714066/comments/4408432573586","title":"Fail to collect coverage for java maven projects with Intellij IDE","body":"<p>Non-ascii chars are exist in tmp path.</p>\n<ol>\n<li>Open the IDEA, click: <code>Help</code> -&gt; <code>Edit Custom VM Options</code></li>\n<li>Insert a record <code>-Djava.io.tmpdir=C:\\\\tmp</code> or other path with ascii chars only.</li>\n<li>Restart IDEA.</li>\n</ol>\n<p>Solition is described <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/4402863714066/comments/4408432573586\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":19796944,"reputation":51,"user_id":14498732,"display_name":"a stand-out flamingo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72576279,"answer_count":4,"score":1,"last_activity_date":1666488392,"creation_date":1653193601,"question_id":72334808,"body_markdown":"I wanted to collect coverage info, but the error message is &quot;At least 5 arguments expected but 1 found.&quot;\r\nI&#39;m using IntelliJ IDE and maven projects and the Junit test framework. \r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAlso, I noticed that the path of the first argument includes illegal characters, which are not in English and are part of the user name of my computer.\r\n\r\nAlternatively, when I switched to Jacoco coverage tool instead of the tool provided by Intellij, the problem was &quot;File Not Found Exception&quot;, the path of the file contained illegal characters. \r\n\r\nI also tried uninstalling and reinstalling Intellij.\r\n\r\nI really do not know how to solve it; I would appreciate it if anyone could give me some help. \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KnCIp.png\r\n  [2]: https://i.stack.imgur.com/U2dox.png\r\n  [3]: https://i.stack.imgur.com/l6A5q.png\r\n\r\nNow I configured Jacoco in the POM file for my maven project and ran maven commands to collect code coverage. ","title":"Fail to collect coverage for java maven projects with Intellij IDE","body":"<p>I wanted to collect coverage info, but the error message is &quot;At least 5 arguments expected but 1 found.&quot;\nI'm using IntelliJ IDE and maven projects and the Junit test framework.\n<a href=\"https://i.stack.imgur.com/KnCIp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KnCIp.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/U2dox.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U2dox.png\" alt=\"enter image description here\" /></a></p>\n<p>Also, I noticed that the path of the first argument includes illegal characters, which are not in English and are part of the user name of my computer.</p>\n<p>Alternatively, when I switched to Jacoco coverage tool instead of the tool provided by Intellij, the problem was &quot;File Not Found Exception&quot;, the path of the file contained illegal characters.</p>\n<p>I also tried uninstalling and reinstalling Intellij.</p>\n<p>I really do not know how to solve it; I would appreciate it if anyone could give me some help.</p>\n<p><a href=\"https://i.stack.imgur.com/l6A5q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l6A5q.png\" alt=\"enter image description here\" /></a></p>\n<p>Now I configured Jacoco in the POM file for my maven project and ran maven commands to collect code coverage.</p>\n"},{"tags":["java","mongodb","performance","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1666487906,"post_id":74166439,"comment_id":130948734,"body_markdown":"Have you compared to using MongoDB sink connector?","body":"Have you compared to using MongoDB sink connector?"},{"owner":{"account_id":26703568,"reputation":1,"user_id":20310193,"display_name":"Suman"},"score":0,"creation_date":1666528053,"post_id":74166439,"comment_id":130953826,"body_markdown":"Can this be used in SpringBootKafka application ? Or it can be used only in cloudlfow , apache flink applications? Not sure about its implementation.","body":"Can this be used in SpringBootKafka application ? Or it can be used only in cloudlfow , apache flink applications? Not sure about its implementation."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1666537015,"post_id":74166439,"comment_id":130955637,"body_markdown":"[Kafka Connect](https://docs.confluent.io/platform/current/connect/concepts.html) is a standalone framework / executable - https://www.mongodb.com/docs/kafka-connector/v1.7/sink-connector/","body":"<a href=\"https://docs.confluent.io/platform/current/connect/concepts.html\" rel=\"nofollow noreferrer\">Kafka Connect</a> is a standalone framework / executable - <a href=\"https://www.mongodb.com/docs/kafka-connector/v1.7/sink-connector/\" rel=\"nofollow noreferrer\">mongodb.com/docs/kafka-connector/v1.7/sink-connector</a>"}],"owner":{"account_id":26703568,"reputation":1,"user_id":20310193,"display_name":"Suman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666487870,"creation_date":1666465979,"question_id":74166439,"body_markdown":"Arch of app--\r\n\r\nEvent sent to --&gt; [Consumer1 --&gt; ABCService --&gt; MongoRepos(Get,Post) --&gt; Producer ]\r\n                  [Consumer2 --&gt; XYZService --&gt; MongoRepos(Get,PUT) --&gt; Producer ]\r\n  Service layer has 2 service class --:\r\n 1. ABCService = Pulls the events coming to consumer1 and, perform save operation  \r\n 2. XYZService = Pulls the events coming to consumer2( which listens to 5 topics) and, perform update operation . So 5 update operation\r\n\r\nTotal MongoOperations in 1 flow= 2 Get,1 Save, 5 Put \r\n\r\nAverage time taken from consumer to producer in 1 flow is 1000ms\r\n\r\nHow can we improve the performance of the app, since its a major issue for us now?\r\n   \r\n\r\n ","title":"Perfromance optimization for SpringbootMongoDBKafka streaming application","body":"<p>Arch of app--</p>\n<p>Event sent to --&gt; [Consumer1 --&gt; ABCService --&gt; MongoRepos(Get,Post) --&gt; Producer ]\n[Consumer2 --&gt; XYZService --&gt; MongoRepos(Get,PUT) --&gt; Producer ]\nService layer has 2 service class --:</p>\n<ol>\n<li>ABCService = Pulls the events coming to consumer1 and, perform save operation</li>\n<li>XYZService = Pulls the events coming to consumer2( which listens to 5 topics) and, perform update operation . So 5 update operation</li>\n</ol>\n<p>Total MongoOperations in 1 flow= 2 Get,1 Save, 5 Put</p>\n<p>Average time taken from consumer to producer in 1 flow is 1000ms</p>\n<p>How can we improve the performance of the app, since its a major issue for us now?</p>\n"},{"tags":["java","rest"],"comments":[{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":2,"creation_date":1408518068,"post_id":25398469,"comment_id":39614379,"body_markdown":"URI should be, by definition, unique - and default values would contradict this paradigm because you could not distinctly say which resource answers which URI when omitting parts of the URI and replacing them with implicit default values.","body":"URI should be, by definition, unique - and default values would contradict this paradigm because you could not distinctly say which resource answers which URI when omitting parts of the URI and replacing them with implicit default values."},{"owner":{"account_id":2570508,"reputation":885,"user_id":2229375,"display_name":"neptune"},"score":0,"creation_date":1408518633,"post_id":25398469,"comment_id":39614627,"body_markdown":"Thanks Smutje for pointing out **URI should be, by definition, unique**","body":"Thanks Smutje for pointing out <b>URI should be, by definition, unique</b>"},{"owner":{"account_id":2570508,"reputation":885,"user_id":2229375,"display_name":"neptune"},"score":3,"creation_date":1408519284,"post_id":25398469,"comment_id":39614940,"body_markdown":"but the java doc for jax-rs also mention: it can defines the default value of request metadata that is bound using one of the following annotations: **PathParam**, QueryParam, MatrixParam, CookieParam, FormParam, or HeaderParam. The default value is used if the corresponding metadata is not present in the request. see [link](http://docs.jboss.org/resteasy/docs/2.3.1.GA/javadocs/javax/ws/rs/DefaultValue.html)","body":"but the java doc for jax-rs also mention: it can defines the default value of request metadata that is bound using one of the following annotations: <b>PathParam</b>, QueryParam, MatrixParam, CookieParam, FormParam, or HeaderParam. The default value is used if the corresponding metadata is not present in the request. see <a href=\"http://docs.jboss.org/resteasy/docs/2.3.1.GA/javadocs/javax/ws/rs/DefaultValue.html\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":5953361,"reputation":1150,"user_id":4776647,"display_name":"Laszlo Hirdi"},"score":1,"creation_date":1444922919,"post_id":25398469,"comment_id":54114500,"body_markdown":"Javadoc is buggy for that. Please see https://java.net/projects/jersey/lists/users/archive/2012-03/message/100 But the JAX-RS 1.1 specification (from JCP Appendix A) is correct: &#39;DefaultValue: Specifies a default value for a field, property or method\nparameter annotated with QueryParam,\nMatrixParam, CookieParam, FormParam or\nHeaderParam. The specified value will be used if the\ncorresponding query or matrix parameter is not present in\nthe request URI, if the corresponding form parameter is\nnot in the request entity body, or if the corresponding\nHTTP header is not included in the request.&#39;","body":"Javadoc is buggy for that. Please see <a href=\"https://java.net/projects/jersey/lists/users/archive/2012-03/message/100\" rel=\"nofollow noreferrer\">java.net/projects/jersey/lists/users/archive/2012-03/message&zwnj;&#8203;/&hellip;</a> But the JAX-RS 1.1 specification (from JCP Appendix A) is correct: &#39;DefaultValue: Specifies a default value for a field, property or method parameter annotated with QueryParam, MatrixParam, CookieParam, FormParam or HeaderParam. The specified value will be used if the corresponding query or matrix parameter is not present in the request URI, if the corresponding form parameter is not in the request entity body, or if the corresponding HTTP header is not included in the request.&#39;"}],"answers":[{"comments":[{"owner":{"account_id":2570508,"reputation":885,"user_id":2229375,"display_name":"neptune"},"score":0,"creation_date":1408518449,"post_id":25398547,"comment_id":39614545,"body_markdown":"but Path(&quot;/family&quot;) also in used for pointing to another resources, lets say the whole family member list.","body":"but Path(&quot;/family&quot;) also in used for pointing to another resources, lets say the whole family member list."},{"owner":{"account_id":4196978,"reputation":1458,"user_id":3438166,"display_name":"shlomi33"},"score":0,"creation_date":1408518624,"post_id":25398547,"comment_id":39614622,"body_markdown":"OK. So there is no solution for you problem as far as I can tell without changing the URLs scheme in your application","body":"OK. So there is no solution for you problem as far as I can tell without changing the URLs scheme in your application"}],"tags":[],"owner":{"account_id":4196978,"reputation":1458,"user_id":3438166,"display_name":"shlomi33"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666487409,"creation_date":1408517877,"answer_id":25398547,"question_id":25398469,"body_markdown":"I think that the best practice here will be to redirect from the method annotated with `@Path(&quot;/family/&quot;)` to the method you have shown with the desired default value:\r\n\r\n    @GET\r\n    @Path(&quot;/family&quot;)\r\n    public Response redirectingMethod() {\r\n        return responseMsg(&quot;Father&quot;);\r\n    }\r\n\r\n","title":"@DefaultValue is not compatible with @PathParameter in RESTful framework","body":"<p>I think that the best practice here will be to redirect from the method annotated with <code>@Path(&quot;/family/&quot;)</code> to the method you have shown with the desired default value:</p>\n<pre><code>@GET\n@Path(&quot;/family&quot;)\npublic Response redirectingMethod() {\n    return responseMsg(&quot;Father&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":2570508,"reputation":885,"user_id":2229375,"display_name":"neptune"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5737,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1666487409,"creation_date":1408517590,"question_id":25398469,"body_markdown":"I got a requirement that I need a default value for a `@PathParameter`.\r\n\r\nAnd this is how my code looks like:\r\n\r\n        @GET\r\n\t    @Path(&quot;/family/{member}&quot;)\r\n        public Response responseMsg( @DefaultValue(&quot;Father&quot;) @PathParam(&quot;member&quot;)  String pathParameter) {}\r\n\r\nThe compiler will not show any error, and also the application of course will not act the way like what I&#39;ve expected.\r\n\r\nbecause the uri &quot;/family/`null`&quot; will not match the Path &quot;`/family/{member}`&quot; but &quot;`/family/`&quot; \r\n\r\nMay I know if there is any way to assign a default value for a `@PathParam` and how?\r\nand also I want to know if  `@DefaultValue` only compatible with  `@QueryParameter`?","title":"@DefaultValue is not compatible with @PathParameter in RESTful framework","body":"<p>I got a requirement that I need a default value for a <code>@PathParameter</code>.</p>\n\n<p>And this is how my code looks like:</p>\n\n<pre><code>    @GET\n    @Path(\"/family/{member}\")\n    public Response responseMsg( @DefaultValue(\"Father\") @PathParam(\"member\")  String pathParameter) {}\n</code></pre>\n\n<p>The compiler will not show any error, and also the application of course will not act the way like what I've expected.</p>\n\n<p>because the uri \"/family/<code>null</code>\" will not match the Path \"<code>/family/{member}</code>\" but \"<code>/family/</code>\" </p>\n\n<p>May I know if there is any way to assign a default value for a <code>@PathParam</code> and how?\nand also I want to know if  <code>@DefaultValue</code> only compatible with  <code>@QueryParameter</code>?</p>\n"},{"tags":["java","android","android-studio","gridview","android-image"],"answers":[{"comments":[{"owner":{"account_id":14899762,"reputation":21,"user_id":10758940,"display_name":"nojDev"},"score":0,"creation_date":1608195055,"post_id":65332491,"comment_id":115510179,"body_markdown":"Thank you for your answer, I appreciate it. Yes, I am using Glide Library. But my concern is about the fetching or querying local images. Is there a way to fetch images with limited numbers when scrolling, instead of fetching all at once? For me to be able to load the images faster. Again thank you.","body":"Thank you for your answer, I appreciate it. Yes, I am using Glide Library. But my concern is about the fetching or querying local images. Is there a way to fetch images with limited numbers when scrolling, instead of fetching all at once? For me to be able to load the images faster. Again thank you."},{"owner":{"account_id":19480287,"reputation":125,"user_id":14250778,"display_name":"J El"},"score":0,"creation_date":1608219695,"post_id":65332491,"comment_id":115521616,"body_markdown":"r u using ArrayAdapter?","body":"r u using ArrayAdapter?"},{"owner":{"account_id":19480287,"reputation":125,"user_id":14250778,"display_name":"J El"},"score":0,"creation_date":1608220518,"post_id":65332491,"comment_id":115522137,"body_markdown":"if so you can load each image in the `getView` method,\nsee example here https://abhiandroid.com/ui/gridview","body":"if so you can load each image in the <code>getView</code> method, see example here <a href=\"https://abhiandroid.com/ui/gridview\" rel=\"nofollow noreferrer\">abhiandroid.com/ui/gridview</a>"}],"tags":[],"owner":{"account_id":19480287,"reputation":125,"user_id":14250778,"display_name":"J El"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666485908,"creation_date":1608160452,"answer_id":65332491,"question_id":65324640,"body_markdown":"Try with [Glide][1]\r\n```\r\nGlide.with(imageView)\r\n     .load(/*file.jpg/png, drawable, url*/)\r\n     .placeholder(R.drawable.placeholder)// you can remove this line\r\n     .dontAnimate()\r\n     .into(imageView);\r\n```\r\nin your gradle(Module: app) add this:\r\n```\r\ndependencies {\r\n  implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n  annotationProcessor &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/bumptech/glide","title":"Is there any other way to query / load local images in Android?","body":"<p>Try with <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">Glide</a></p>\n<pre><code>Glide.with(imageView)\n     .load(/*file.jpg/png, drawable, url*/)\n     .placeholder(R.drawable.placeholder)// you can remove this line\n     .dontAnimate()\n     .into(imageView);\n</code></pre>\n<p>in your gradle(Module: app) add this:</p>\n<pre><code>dependencies {\n  implementation 'com.github.bumptech.glide:glide:4.11.0'\n  annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'\n}\n</code></pre>\n"}],"owner":{"account_id":14899762,"reputation":21,"user_id":10758940,"display_name":"nojDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666485908,"creation_date":1608126828,"question_id":65324640,"body_markdown":"I&#39;m trying to display local images in grid view. And I want it to load faster. So instead of fetching images and load them at once, I want them to load by group.\r\n\r\nSo is there any other way to query/load local images in Android, aside from the code below?\r\n\r\n    Cursor cursor = context.getContentResolver()\r\n                           .query(MediaStore.Images.Media.EXTERNAL_CONTENT_URI,  \r\n                                  mProjection, null, null, \r\n                                  MediaStore.Images.Media.DATE_ADDED + &quot; DESC&quot;);","title":"Is there any other way to query / load local images in Android?","body":"<p>I'm trying to display local images in grid view. And I want it to load faster. So instead of fetching images and load them at once, I want them to load by group.</p>\n<p>So is there any other way to query/load local images in Android, aside from the code below?</p>\n<pre><code>Cursor cursor = context.getContentResolver()\n                       .query(MediaStore.Images.Media.EXTERNAL_CONTENT_URI,  \n                              mProjection, null, null, \n                              MediaStore.Images.Media.DATE_ADDED + &quot; DESC&quot;);\n</code></pre>\n"},{"tags":["java","singly-linked-list"],"answers":[{"tags":[],"owner":{"account_id":26530732,"reputation":16,"user_id":20162973,"display_name":"nabil afia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666482994,"creation_date":1666482994,"answer_id":74167875,"question_id":74167821,"body_markdown":"You should not use == (equality operator) to compare  strings because they compare the reference of the string, instead try to use `target.getStudent().getFirstName().equals(firstName)` this should compare the strings value for equality.","title":"Deleting a node in a linked list java","body":"<p>You should not use == (equality operator) to compare  strings because they compare the reference of the string, instead try to use <code>target.getStudent().getFirstName().equals(firstName)</code> this should compare the strings value for equality.</p>\n"}],"owner":{"account_id":24661635,"reputation":25,"user_id":18557786,"display_name":"Axe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666483234,"accepted_answer_id":74167875,"answer_count":1,"score":0,"last_activity_date":1666482994,"creation_date":1666482123,"question_id":74167821,"body_markdown":"I am trying to write a program that deletes a student from a singly linked list.\r\n\r\n    for (SNode ptr = studentsInLine; ptr.getNext() != null; ptr = ptr.getNext()){\r\n                    for (SNode target = studentsInLine.getNext(); target.getNext() != null; target = target.getNext()){\r\n                        if (target.getStudent().getFirstName() == firstName &amp;&amp; target.getStudent().getLastName() == lastName){\r\n                            ptr.setNext(target.getNext());;\r\n                        }\r\n                    }\r\n    \r\n                }\r\nI am trying to iterate through my linked list with ptr and target and if target ever equals first and last name then set the ptr.next to target.next. However when I run it there are no updates made to my linked list, and it remains the same as before after I run this code. What am I missing?","title":"Deleting a node in a linked list java","body":"<p>I am trying to write a program that deletes a student from a singly linked list.</p>\n<pre><code>for (SNode ptr = studentsInLine; ptr.getNext() != null; ptr = ptr.getNext()){\n                for (SNode target = studentsInLine.getNext(); target.getNext() != null; target = target.getNext()){\n                    if (target.getStudent().getFirstName() == firstName &amp;&amp; target.getStudent().getLastName() == lastName){\n                        ptr.setNext(target.getNext());;\n                    }\n                }\n\n            }\n</code></pre>\n<p>I am trying to iterate through my linked list with ptr and target and if target ever equals first and last name then set the ptr.next to target.next. However when I run it there are no updates made to my linked list, and it remains the same as before after I run this code. What am I missing?</p>\n"},{"tags":["java","mouseevent","awtrobot"],"owner":{"account_id":22724480,"reputation":33,"user_id":16888493,"display_name":"critiqalfish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666482638,"creation_date":1666482638,"question_id":74167850,"body_markdown":"So my problem is that i want to simulate mouse clicks while the mouse is held down. But the Robot library cant execute the click while the physical button is held down.\r\n\r\nThis is my code for the click:\r\n```\r\npublic static void click() {\r\n        Runnable runnable = () -&gt; {\r\n            try {\r\n                Robot robot = new Robot();\r\n                while (clicking) {\r\n                    System.out.println(&quot;Clicking! &quot; + System.currentTimeMillis());\r\n                    robot.mousePress(mouseButton ? InputEvent.BUTTON1_DOWN_MASK : InputEvent.BUTTON2_DOWN_MASK);\r\n                    Thread.sleep(300);\r\n                    robot.mouseRelease(mouseButton ? InputEvent.BUTTON1_DOWN_MASK : InputEvent.BUTTON2_DOWN_MASK);\r\n                }\r\n            } catch (Exception ignored) {\r\n                System.out.println(&quot;Couldn&#39;t click&quot;);\r\n            }\r\n        };\r\n        new Thread(runnable).start();\r\n    }\r\n```\r\n\r\nThis is my mouse event listener code:\r\n```\r\npublic class MouseListener implements NativeMouseInputListener {\r\n    public void nativeMousePressed(NativeMouseEvent e) {\r\n        if (active &amp;&amp; !focused &amp;&amp; !clicking &amp;&amp; e.getButton() == (mouseButton ? 1 : 2)) {\r\n            clicking = true;\r\n            click();\r\n        }\r\n    }\r\n\r\n    public void nativeMouseReleased(NativeMouseEvent e) {\r\n        if (active &amp;&amp; !focused &amp;&amp; e.getButton() == (mouseButton ? 1 : 2)) {\r\n            clicking = false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe print gets executed normally and if i switch the clicks so a left click gets executed when i do a rightclick and that also works but i want it with the same button.\r\nI appreciate your help.","title":"repeatedly simulating clicks while physically holding mouse button","body":"<p>So my problem is that i want to simulate mouse clicks while the mouse is held down. But the Robot library cant execute the click while the physical button is held down.</p>\n<p>This is my code for the click:</p>\n<pre><code>public static void click() {\n        Runnable runnable = () -&gt; {\n            try {\n                Robot robot = new Robot();\n                while (clicking) {\n                    System.out.println(&quot;Clicking! &quot; + System.currentTimeMillis());\n                    robot.mousePress(mouseButton ? InputEvent.BUTTON1_DOWN_MASK : InputEvent.BUTTON2_DOWN_MASK);\n                    Thread.sleep(300);\n                    robot.mouseRelease(mouseButton ? InputEvent.BUTTON1_DOWN_MASK : InputEvent.BUTTON2_DOWN_MASK);\n                }\n            } catch (Exception ignored) {\n                System.out.println(&quot;Couldn't click&quot;);\n            }\n        };\n        new Thread(runnable).start();\n    }\n</code></pre>\n<p>This is my mouse event listener code:</p>\n<pre><code>public class MouseListener implements NativeMouseInputListener {\n    public void nativeMousePressed(NativeMouseEvent e) {\n        if (active &amp;&amp; !focused &amp;&amp; !clicking &amp;&amp; e.getButton() == (mouseButton ? 1 : 2)) {\n            clicking = true;\n            click();\n        }\n    }\n\n    public void nativeMouseReleased(NativeMouseEvent e) {\n        if (active &amp;&amp; !focused &amp;&amp; e.getButton() == (mouseButton ? 1 : 2)) {\n            clicking = false;\n        }\n    }\n}\n</code></pre>\n<p>The print gets executed normally and if i switch the clicks so a left click gets executed when i do a rightclick and that also works but i want it with the same button.\nI appreciate your help.</p>\n"},{"tags":["java","graphql"],"answers":[{"tags":[],"owner":{"account_id":13193791,"reputation":629,"user_id":10172085,"display_name":"Gonzalo Guglielmo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666482438,"creation_date":1666482438,"answer_id":74167840,"question_id":73968425,"body_markdown":"You can get child arguments through the selectionSet:\r\n\r\nIn your particular case:\r\n\r\n```environment.getSelectionSet.getImmediateFields.get(2).getArguments``` will give you the arguments for `audience` field in `shows` data fetcher.\r\n\r\nThis functionality was added some years ago within this PR:\r\nhttps://github.com/graphql-java/graphql-java/pull/835/files","title":"GraphQL - How to get child&#39;s argument in parent using Java","body":"<p>You can get child arguments through the selectionSet:</p>\n<p>In your particular case:</p>\n<p><code>environment.getSelectionSet.getImmediateFields.get(2).getArguments</code> will give you the arguments for <code>audience</code> field in <code>shows</code> data fetcher.</p>\n<p>This functionality was added some years ago within this PR:\n<a href=\"https://github.com/graphql-java/graphql-java/pull/835/files\" rel=\"nofollow noreferrer\">https://github.com/graphql-java/graphql-java/pull/835/files</a></p>\n"}],"owner":{"account_id":23652212,"reputation":25,"user_id":17680942,"display_name":"Jumple"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74167840,"answer_count":1,"score":1,"last_activity_date":1666482438,"creation_date":1665027232,"question_id":73968425,"body_markdown":"I have a schema like this:\r\n```\r\ntype Query {\r\n    shows: [Show]\r\n}\r\n\r\ntype Show {\r\n    id: Int\r\n    title: String\r\n    audiences(userId: [Int]): [User]\r\n}\r\n\r\ntype User {\r\n    id: Int\r\n    name: String\r\n}\r\n```\r\nI think the `userId` will only appear in `User` resolver layer, and if there a way to get the `userId` in `Show` layer(`User`&#39;s parent layer)?\r\n\r\nI&#39;ve already read this post [Get child args in parent in GraphQL][1], but I have no idea how to achieve it by using Java.\r\n\r\nI&#39;m using `graphql-java` this library.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/64594382/get-child-args-in-parent-in-graphql","title":"GraphQL - How to get child&#39;s argument in parent using Java","body":"<p>I have a schema like this:</p>\n<pre><code>type Query {\n    shows: [Show]\n}\n\ntype Show {\n    id: Int\n    title: String\n    audiences(userId: [Int]): [User]\n}\n\ntype User {\n    id: Int\n    name: String\n}\n</code></pre>\n<p>I think the <code>userId</code> will only appear in <code>User</code> resolver layer, and if there a way to get the <code>userId</code> in <code>Show</code> layer(<code>User</code>'s parent layer)?</p>\n<p>I've already read this post <a href=\"https://stackoverflow.com/questions/64594382/get-child-args-in-parent-in-graphql\">Get child args in parent in GraphQL</a>, but I have no idea how to achieve it by using Java.</p>\n<p>I'm using <code>graphql-java</code> this library.</p>\n"},{"tags":["javascript","java","logic"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1666477181,"post_id":74167436,"comment_id":130947518,"body_markdown":"Java is to Javascript as Ham is to Hamster, or Car is to Carpet. They are almost entirely unrelated languages.","body":"Java is to Javascript as Ham is to Hamster, or Car is to Carpet. They are almost entirely unrelated languages."},{"owner":{"account_id":4846147,"reputation":6060,"user_id":16540390,"display_name":"jabaa"},"score":1,"creation_date":1666478255,"post_id":74167436,"comment_id":130947676,"body_markdown":"In JavaScript, functions are objects, even if it doesn&#39;t make sense to you. It would be technically wrong to say that functions aren&#39;t objects.","body":"In JavaScript, functions are objects, even if it doesn&#39;t make sense to you. It would be technically wrong to say that functions aren&#39;t objects."},{"owner":{"account_id":4273516,"reputation":10963,"user_id":3494774,"accept_rate":86,"display_name":"gog"},"score":0,"creation_date":1666479967,"post_id":74167436,"comment_id":130947867,"body_markdown":"natural language analogies rarely work in programming. Even in English, you can perfectly say something like &quot;I went for a run&quot;, and there are quite a few languages with little or no difference between verbs and nouns.","body":"natural language analogies rarely work in programming. Even in English, you can perfectly say something like &quot;I went for a run&quot;, and there are quite a few languages with little or no difference between verbs and nouns."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1666509238,"post_id":74167436,"comment_id":130950786,"body_markdown":"Having function available as objects is a thing that is so useful that even Java 8 kind of implemented this thing (using functional interfaces, lambda expressions and method refererences.) Simple example: you want to sort a `List&lt;Cat&gt;` either by weight or by age: wouldn&#39;t it be super useful if you could somehow create a generic `sort(List&lt;Cat&gt;, SomeComparatorFunction&lt;Cat&gt;)`? Actual Java has it: `java.util.Collections.sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)`","body":"Having function available as objects is a thing that is so useful that even Java 8 kind of implemented this thing (using functional interfaces, lambda expressions and method refererences.) Simple example: you want to sort a <code>List&lt;Cat&gt;</code> either by weight or by age: wouldn&#39;t it be super useful if you could somehow create a generic <code>sort(List&lt;Cat&gt;, SomeComparatorFunction&lt;Cat&gt;)</code>? Actual Java has it: <code>java.util.Collections.sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)</code>"},{"owner":{"account_id":3103874,"reputation":12028,"user_id":2627243,"display_name":"Peter Seliger"},"score":0,"creation_date":1667306847,"post_id":74167436,"comment_id":131132840,"body_markdown":"@BrianMoreira ... you might befriend yourself with the idea of functions as callable objects. Function objects are operated by the call operator `()` and they have methods too like `call`, `apply` and `bind`.","body":"@BrianMoreira ... you might befriend yourself with the idea of functions as callable objects. Function objects are operated by the call operator <code>()</code> and they have methods too like <code>call</code>, <code>apply</code> and <code>bind</code>."}],"answers":[{"comments":[{"owner":{"account_id":26704646,"reputation":1,"user_id":20311076,"display_name":"Brian Moreira"},"score":0,"creation_date":1666481454,"post_id":74167444,"comment_id":130948078,"body_markdown":"Does it man I can add properties to functions without even creating the property inside of the function? Like, I don&#39;t need to add inside of run() the &quot;x&quot; property, I just have to call it with the &quot;run&quot; object and add  a value? That&#39;s really nice.","body":"Does it man I can add properties to functions without even creating the property inside of the function? Like, I don&#39;t need to add inside of run() the &quot;x&quot; property, I just have to call it with the &quot;run&quot; object and add  a value? That&#39;s really nice."},{"owner":{"account_id":26704646,"reputation":1,"user_id":20311076,"display_name":"Brian Moreira"},"score":0,"creation_date":1666481748,"post_id":74167444,"comment_id":130948100,"body_markdown":"Because I remember, in Java, you must create all the functions of a object inside of the object itself. But this way JS does, makes things even faster.","body":"Because I remember, in Java, you must create all the functions of a object inside of the object itself. But this way JS does, makes things even faster."},{"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"score":0,"creation_date":1666482094,"post_id":74167444,"comment_id":130948139,"body_markdown":"JavaScript &#39;s objects are more like hash maps , you can add anything at any time. You don&#39;t have to declare a class to make an object","body":"JavaScript &#39;s objects are more like hash maps , you can add anything at any time. You don&#39;t have to declare a class to make an object"}],"tags":[],"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666476904,"creation_date":1666476904,"answer_id":74167444,"question_id":74167436,"body_markdown":"Yes, it doesn&#39;t make much sense, but that&#39;s how it&#39;s made in JavaScript\r\n\r\nExample:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    // create a function\r\n    function run() {\r\n      console.log(&#39;run&#39;)\r\n    }\r\n\r\n    // calls a function\r\n    run()\r\n\r\n    // adds a property to a function like to an object\r\n    run.x = 5\r\n    console.log(run.x)\r\n\r\n    // adds a functions to the function\r\n\r\n    run.another = () =&gt; console.log(&#39;another function&#39;)\r\n    run.another()\r\n\r\n    // checks if the functions is an instance of Object\r\n    console.log(run instanceof Object)\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Functions beeing called as different types of objects in Javascript. Is that make sense?","body":"<p>Yes, it doesn't make much sense, but that's how it's made in JavaScript</p>\n<p>Example:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// create a function\nfunction run() {\n  console.log('run')\n}\n\n// calls a function\nrun()\n\n// adds a property to a function like to an object\nrun.x = 5\nconsole.log(run.x)\n\n// adds a functions to the function\n\nrun.another = () =&gt; console.log('another function')\nrun.another()\n\n// checks if the functions is an instance of Object\nconsole.log(run instanceof Object)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1666509295,"post_id":74167512,"comment_id":130950796,"body_markdown":"And don&#39;t forget that using functional interfaces (since Java 8) even Java has a direct (even if limited) way of treating functions as objects.","body":"And don&#39;t forget that using functional interfaces (since Java 8) even Java has a direct (even if limited) way of treating functions as objects."}],"tags":[],"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666478373,"creation_date":1666477658,"answer_id":74167512,"question_id":74167436,"body_markdown":"Functions can *do* things, but they still **are** things. You, as a person, can do things, but you still **are** something. You can have attributes, things that describe you, while retaining your ability to take action. Functions are the same.\r\n\r\n&gt; Wouldn&#39;t it be better to explain to people that functions are not objects, but actions, rather than seeing that it&#39;s an object too?\r\n\r\nIn JavaScript&amp;nbsp;&amp;mdash; **and Java**&amp;nbsp;&amp;mdash; functions are actions that are also objects. In Java, you have to go through [reflection](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/reflect/Method.html); in JavaScript, it&#39;s more direct, the function is automatically an object. In Java, you have to go through reflection to get (for instance) the [parameter count][1]. In JavaScript, it&#39;s just the function&#39;s [`length`][2].\r\n\r\nIt&#39;s not &quot;better&quot; or &quot;worse,&quot; it just **is**. Programming languages involve hundreds if not thousands of choices about how things are organized. JavaScript is organized differently from Java in a **large** number of ways. Absent personal preference, it&#39;s not generally &quot;better&quot; or &quot;worse&quot; to do X or Y, it&#39;s just *different*.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/reflect/Method.html#getParameterCount()\r\n  [2]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/length","title":"Functions beeing called as different types of objects in Javascript. Is that make sense?","body":"<p>Functions can <em>do</em> things, but they still <strong>are</strong> things. You, as a person, can do things, but you still <strong>are</strong> something. You can have attributes, things that describe you, while retaining your ability to take action. Functions are the same.</p>\n<blockquote>\n<p>Wouldn't it be better to explain to people that functions are not objects, but actions, rather than seeing that it's an object too?</p>\n</blockquote>\n<p>In JavaScript — <strong>and Java</strong> — functions are actions that are also objects. In Java, you have to go through <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/reflect/Method.html\" rel=\"nofollow noreferrer\">reflection</a>; in JavaScript, it's more direct, the function is automatically an object. In Java, you have to go through reflection to get (for instance) the <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/reflect/Method.html#getParameterCount()\" rel=\"nofollow noreferrer\">parameter count</a>. In JavaScript, it's just the function's <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/length\" rel=\"nofollow noreferrer\"><code>length</code></a>.</p>\n<p>It's not &quot;better&quot; or &quot;worse,&quot; it just <strong>is</strong>. Programming languages involve hundreds if not thousands of choices about how things are organized. JavaScript is organized differently from Java in a <strong>large</strong> number of ways. Absent personal preference, it's not generally &quot;better&quot; or &quot;worse&quot; to do X or Y, it's just <em>different</em>.</p>\n"},{"comments":[{"owner":{"account_id":26704646,"reputation":1,"user_id":20311076,"display_name":"Brian Moreira"},"score":0,"creation_date":1666481065,"post_id":74167598,"comment_id":130948022,"body_markdown":"A wonderful explanation. Thanks. It made me smile while reading. What an interesting world of coding. Thanks. I will think of everything you just answered.","body":"A wonderful explanation. Thanks. It made me smile while reading. What an interesting world of coding. Thanks. I will think of everything you just answered."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666478860,"creation_date":1666478860,"answer_id":74167598,"question_id":74167436,"body_markdown":"Programming is complex and it&#39;s also unique. It&#39;s not truly _exactly_ like anything else. And yet, us humans need to try to come to grips with it.\r\n\r\nTherefore, a _lot_ of programming concepts use words that already existed in the english language. We call these things &#39;objects&#39;. We could have chosen to call them &#39;floobargles&#39; instead, or &#39;bultizats&#39; - pick a word with no inherent meaning to avoid confusion. But that also has downsides: If your first steps into learning a language involves learning 500 completely unique words first, you&#39;re going to get utterly lost.\r\n\r\nThus, a dilemma:\r\n\r\nUse words with an already established meaning, such as &#39;object&#39;, &#39;method&#39;, &#39;function&#39;, &#39;actor&#39;, &#39;language&#39;, &#39;line (of code)&#39;, &#39;reference&#39;, &#39;pointer&#39;, &#39;instantiating&#39; (we&#39;re teetering close to just making up entirely new words there perhaps), and so on: The meaning that these words already have helps; these aren&#39;t chosen arbitrarily, a _lot_ of what an object (in the Java Language Specification sense) is and does is a lot like an object (in the &#39;word in the english dictionary&#39; sense). But, inevitably, there are things where the simile falls down and in fact completely steers you wrong.\r\n\r\nBut, use newly minted words and the learning curve for those new to the language is off the scale.\r\n\r\nQuite the dilemma.\r\n\r\nI remember some very well meaning, but in the end completely wrong and highly misleading, post about why one should not use exceptions as control flow. The gist of it was something along the lines of:\r\n\r\n_Using exceptions for control flow is like having bowling-lane style bumpers next to the highway and driving down the road by haphazardly bouncing between the bumpers_.\r\n\r\nThe error being made here is that the word &#39;exception&#39; suggests error in the english sense of the word - a mistake, critically, _something to be avoided_. But that isn&#39;t in the language spec. Nowhere in the Java Lang Spec (or ECMAScript spec - that&#39;s the javascript equivalent of the JLS) does it say that exceptions &#39;should be avoided&#39;. Quite the opposite. Also, a human would not like being jostled about while their car smashes between bumpers. Code execution isn&#39;t a human, code doesn&#39;t have feelings. It wouldn&#39;t care. There are certainly arguments one can make about using the Exception mechanism to do control flow (or rather, arguments to suggest one should _not_ do that), but &#39;its like the bumpers on a bowling alley&#39; is not one of them.\r\n\r\nCorrect arguments would involve performance, or an explanation about how it leads to &#39;spaghetti&#39; (itself a slang term meaning: Code whose &#39;flow&#39; is hard for humans to intuit). Arguments that work just as well if exceptions were called &#39;whutsits&#39; instead.\r\n\r\n## On to your dilemma specifically\r\n\r\nIn javascript, functions are assignable to variables exactly like values are. This line:\r\n\r\n```\r\nvar x = 5;\r\n```\r\n\r\nis valid javascript _and also_ valid java. (Using the new `var` keyword which just types the declaration to the obvious thing; it is identical to the to you probably more familiar `int x = 5;` - java is still typed, the type of the `x` variable is `int` here, in java. Javascript is still untyped, you can assign a string to `x` later in javascript, not in java).\r\n\r\nHowever, this is valid javascript:\r\n\r\n```\r\nvar x = function(a, b) { return a + b; }\r\n```\r\n\r\n... but not valid java &lt;sup&gt;1&lt;/sup&gt;\r\nand, crucially, x acts exactly the same. You can pass `x` around (you are now passing _a function_ to _a function_ which if we stick to the purely english meaning of the word is starting to get truly mind bogglingly weird. But step away from that - use the plasticity of the brain to blur the lines between what these words mean in english vs. what they mean in the lang spec, and it&#39;s really not that hard to understand the idea of passing functions around to other functions). You can ask x what kind of object it is (and it will say: I am a function).\r\n\r\nIn other words, `x` is now pointing at a function... _which is also an object_. Like in physics, light is both a wave and a particle, and also is neither (there are ways in which light is NOT like waves at all, and ways in which light is NOT like particles at all) - and so are functions in javascript. They are like objects in some ways, and not like them in other ways.\r\n\r\nThe real problem is simply communication. The book / tutorial / person who is telling you &quot;functions are like objects&quot; is _actually_ trying to convey something that takes way more words to say. For example, their _intent_ is to communicate the idea: &quot;Functions in javascript can be written anywhere values can be, and can be stored in the same places values can be, and they even _are_ a dictionary (see below), and can be passed around just like values can be&quot;.\r\n\r\nIn _their head_, &#39;Functions are objects&#39; _exactly_ covers this, and thus to them it&#39;s simply an easier way to say the same thing.\r\n\r\nSo, their brain tells their mouth to make sounds, your ears hear these sounds and your brain... comes to a _completely different conclusion_.\r\n\r\nThat&#39;s simply failure of communication: Words were said, you understood the basic meaning (you didn&#39;t mishear them), and yet the point of using your words is to communicate and that emphatically did not happen here. They MEANT one thing, and you UNDERSTOOD a different thing.\r\n\r\nIt happens, all the time, in all sorts of different contexts. Programming is by no means unique in this.\r\n\r\nThe upshot is: So what, right? If you think &#39;functions are like objects&#39; is not correct at all, that doesn&#39;t mean that you are wrong, or that the person who says &#39;functions ARE like objects&#39; are wrong. It might merely mean that you have a pretty fundamental different idea about what these words mean. There generally is no dictator that decides what a given word is to mean, and who will decree anyone is to be killed who fails to use the word in precisely the determined fashion.\r\n\r\nThe one place you get into trouble is, again, communication. If everybody else on the entire planet conjures up X idea when they hear the word &#39;object&#39;, and you are the only one who conjures up opposite idea Y, then you live in your own little world, which is a bad thing: Programming is a team effort. Even if you write your code on your own, you read tutorials, books, use libraries, write documentation, and so on. It is _inevitable_ that shorthand, jargon, and slang drips into docs, and if you just aren&#39;t thinking of the same thing everybody else is thinking of, your docs are unreadable to others, and you are not capable of reading docs written by others.\r\n\r\nAnd therein lies a complication: Even though there is no dictatorial source of the true meaning of every bit of jargon, the opposite (everybody just gets to pick what they feel any bit of jargon means, it&#39;s all equally valid) leads to chaos. Everybody needs to make their own call on this.\r\n\r\nHowever, certain words are used and specifically defined in official specifications, or are above 99% agreement amongst all programmers in the entire community. Clearly for those words, it&#39;s best to just jump on the bandwagon.\r\n\r\nAnd &#39;object&#39;, for javascript, might be one of them. In javascript, objects have properties you can set and read:\r\n\r\n```\r\nvar x = {};\r\nx[&quot;hello&quot;] = &quot;goodbye&quot;;\r\nconsole.log(x.hello); // prints &#39;goodbye&#39;.\r\nx(); // fails; x is not a function.\r\n```\r\n\r\nWeirdly enough you can do that to functions:\r\n\r\n```\r\nvar x = function() {};\r\nx[&quot;hello&quot;] = &quot;goodbye&quot;;\r\nconsole.log(x.hello); // works\r\nx(); // works fine - x is a function that does nothing.\r\nconsole.log(x.hello); // still works, prints &#39;goodbye&#39;.\r\n```\r\n\r\nHence, &#39;functions are also objects&#39;. Yes, at this point the english underlying meaning of these words is starting to, if anything, be confusing. How can a thing be a verb but also be, more or less, a noun? In english, that&#39;s a stupid idea.\r\n\r\nIn javascript, well, that&#39;s just how it is. Whatever words or similes you need to conjure up so that your brain easily intuits the way of things (that is, you read some javascript code and correctly understand what it does nearly instantly), do that. Most people think saying &#39;functions are objects&#39; is how to get there. But maybe for you that&#39;s just confusing. That&#39;s fine.\r\n\r\n[1] Something like `Runnable r = () -&gt; {};` _is_ valid java, but something quite different is going on there: That function definition (`() -&gt; {}` - no arguments in, do nothing out) is being treated as an instance of a newly minted, anonymously named class that subtypes Runnable, and has an implementation of its only `abstract` method: `void run();`, and that function is it.","title":"Functions beeing called as different types of objects in Javascript. Is that make sense?","body":"<p>Programming is complex and it's also unique. It's not truly <em>exactly</em> like anything else. And yet, us humans need to try to come to grips with it.</p>\n<p>Therefore, a <em>lot</em> of programming concepts use words that already existed in the english language. We call these things 'objects'. We could have chosen to call them 'floobargles' instead, or 'bultizats' - pick a word with no inherent meaning to avoid confusion. But that also has downsides: If your first steps into learning a language involves learning 500 completely unique words first, you're going to get utterly lost.</p>\n<p>Thus, a dilemma:</p>\n<p>Use words with an already established meaning, such as 'object', 'method', 'function', 'actor', 'language', 'line (of code)', 'reference', 'pointer', 'instantiating' (we're teetering close to just making up entirely new words there perhaps), and so on: The meaning that these words already have helps; these aren't chosen arbitrarily, a <em>lot</em> of what an object (in the Java Language Specification sense) is and does is a lot like an object (in the 'word in the english dictionary' sense). But, inevitably, there are things where the simile falls down and in fact completely steers you wrong.</p>\n<p>But, use newly minted words and the learning curve for those new to the language is off the scale.</p>\n<p>Quite the dilemma.</p>\n<p>I remember some very well meaning, but in the end completely wrong and highly misleading, post about why one should not use exceptions as control flow. The gist of it was something along the lines of:</p>\n<p><em>Using exceptions for control flow is like having bowling-lane style bumpers next to the highway and driving down the road by haphazardly bouncing between the bumpers</em>.</p>\n<p>The error being made here is that the word 'exception' suggests error in the english sense of the word - a mistake, critically, <em>something to be avoided</em>. But that isn't in the language spec. Nowhere in the Java Lang Spec (or ECMAScript spec - that's the javascript equivalent of the JLS) does it say that exceptions 'should be avoided'. Quite the opposite. Also, a human would not like being jostled about while their car smashes between bumpers. Code execution isn't a human, code doesn't have feelings. It wouldn't care. There are certainly arguments one can make about using the Exception mechanism to do control flow (or rather, arguments to suggest one should <em>not</em> do that), but 'its like the bumpers on a bowling alley' is not one of them.</p>\n<p>Correct arguments would involve performance, or an explanation about how it leads to 'spaghetti' (itself a slang term meaning: Code whose 'flow' is hard for humans to intuit). Arguments that work just as well if exceptions were called 'whutsits' instead.</p>\n<h2>On to your dilemma specifically</h2>\n<p>In javascript, functions are assignable to variables exactly like values are. This line:</p>\n<pre><code>var x = 5;\n</code></pre>\n<p>is valid javascript <em>and also</em> valid java. (Using the new <code>var</code> keyword which just types the declaration to the obvious thing; it is identical to the to you probably more familiar <code>int x = 5;</code> - java is still typed, the type of the <code>x</code> variable is <code>int</code> here, in java. Javascript is still untyped, you can assign a string to <code>x</code> later in javascript, not in java).</p>\n<p>However, this is valid javascript:</p>\n<pre><code>var x = function(a, b) { return a + b; }\n</code></pre>\n<p>... but not valid java <sup>1</sup>\nand, crucially, x acts exactly the same. You can pass <code>x</code> around (you are now passing <em>a function</em> to <em>a function</em> which if we stick to the purely english meaning of the word is starting to get truly mind bogglingly weird. But step away from that - use the plasticity of the brain to blur the lines between what these words mean in english vs. what they mean in the lang spec, and it's really not that hard to understand the idea of passing functions around to other functions). You can ask x what kind of object it is (and it will say: I am a function).</p>\n<p>In other words, <code>x</code> is now pointing at a function... <em>which is also an object</em>. Like in physics, light is both a wave and a particle, and also is neither (there are ways in which light is NOT like waves at all, and ways in which light is NOT like particles at all) - and so are functions in javascript. They are like objects in some ways, and not like them in other ways.</p>\n<p>The real problem is simply communication. The book / tutorial / person who is telling you &quot;functions are like objects&quot; is <em>actually</em> trying to convey something that takes way more words to say. For example, their <em>intent</em> is to communicate the idea: &quot;Functions in javascript can be written anywhere values can be, and can be stored in the same places values can be, and they even <em>are</em> a dictionary (see below), and can be passed around just like values can be&quot;.</p>\n<p>In <em>their head</em>, 'Functions are objects' <em>exactly</em> covers this, and thus to them it's simply an easier way to say the same thing.</p>\n<p>So, their brain tells their mouth to make sounds, your ears hear these sounds and your brain... comes to a <em>completely different conclusion</em>.</p>\n<p>That's simply failure of communication: Words were said, you understood the basic meaning (you didn't mishear them), and yet the point of using your words is to communicate and that emphatically did not happen here. They MEANT one thing, and you UNDERSTOOD a different thing.</p>\n<p>It happens, all the time, in all sorts of different contexts. Programming is by no means unique in this.</p>\n<p>The upshot is: So what, right? If you think 'functions are like objects' is not correct at all, that doesn't mean that you are wrong, or that the person who says 'functions ARE like objects' are wrong. It might merely mean that you have a pretty fundamental different idea about what these words mean. There generally is no dictator that decides what a given word is to mean, and who will decree anyone is to be killed who fails to use the word in precisely the determined fashion.</p>\n<p>The one place you get into trouble is, again, communication. If everybody else on the entire planet conjures up X idea when they hear the word 'object', and you are the only one who conjures up opposite idea Y, then you live in your own little world, which is a bad thing: Programming is a team effort. Even if you write your code on your own, you read tutorials, books, use libraries, write documentation, and so on. It is <em>inevitable</em> that shorthand, jargon, and slang drips into docs, and if you just aren't thinking of the same thing everybody else is thinking of, your docs are unreadable to others, and you are not capable of reading docs written by others.</p>\n<p>And therein lies a complication: Even though there is no dictatorial source of the true meaning of every bit of jargon, the opposite (everybody just gets to pick what they feel any bit of jargon means, it's all equally valid) leads to chaos. Everybody needs to make their own call on this.</p>\n<p>However, certain words are used and specifically defined in official specifications, or are above 99% agreement amongst all programmers in the entire community. Clearly for those words, it's best to just jump on the bandwagon.</p>\n<p>And 'object', for javascript, might be one of them. In javascript, objects have properties you can set and read:</p>\n<pre><code>var x = {};\nx[&quot;hello&quot;] = &quot;goodbye&quot;;\nconsole.log(x.hello); // prints 'goodbye'.\nx(); // fails; x is not a function.\n</code></pre>\n<p>Weirdly enough you can do that to functions:</p>\n<pre><code>var x = function() {};\nx[&quot;hello&quot;] = &quot;goodbye&quot;;\nconsole.log(x.hello); // works\nx(); // works fine - x is a function that does nothing.\nconsole.log(x.hello); // still works, prints 'goodbye'.\n</code></pre>\n<p>Hence, 'functions are also objects'. Yes, at this point the english underlying meaning of these words is starting to, if anything, be confusing. How can a thing be a verb but also be, more or less, a noun? In english, that's a stupid idea.</p>\n<p>In javascript, well, that's just how it is. Whatever words or similes you need to conjure up so that your brain easily intuits the way of things (that is, you read some javascript code and correctly understand what it does nearly instantly), do that. Most people think saying 'functions are objects' is how to get there. But maybe for you that's just confusing. That's fine.</p>\n<p>[1] Something like <code>Runnable r = () -&gt; {};</code> <em>is</em> valid java, but something quite different is going on there: That function definition (<code>() -&gt; {}</code> - no arguments in, do nothing out) is being treated as an instance of a newly minted, anonymously named class that subtypes Runnable, and has an implementation of its only <code>abstract</code> method: <code>void run();</code>, and that function is it.</p>\n"}],"owner":{"account_id":26704646,"reputation":1,"user_id":20311076,"display_name":"Brian Moreira"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1666495109,"answer_count":3,"score":-2,"last_activity_date":1666482415,"creation_date":1666476657,"question_id":74167436,"body_markdown":"Hope you&#39;re well. I&#39;m studying Javascript after a few years without studying programming. The first thing I learned was Java and object-oriented programming. I remember the important parts like classes and methods. Studying Javascript on the Mozilla website with explanations, they say that a function is a different kind of object.\r\n\r\nTo me this doesn&#39;t make sense because an object is like something, like a cat. A function is more like a verb, an action that something or someone does, like the cat&#39;s leap. Wouldn&#39;t it be better to explain to people that functions are not objects, but actions, rather than seeing that it&#39;s an object too?\r\n\r\nObject for me is like the subject of a sentence. Like: You work&quot;. The object/subject of the sentence is &quot;You&quot; and the action/verb/function is &quot;work&quot;. We can&#39;t say, for example, &quot;Run dances&quot; because &quot;Run&quot; is a function, not an object Does that make sense, or am I just crazy? haha\r\n\r\nThank you friends.\r\n","title":"Functions beeing called as different types of objects in Javascript. Is that make sense?","body":"<p>Hope you're well. I'm studying Javascript after a few years without studying programming. The first thing I learned was Java and object-oriented programming. I remember the important parts like classes and methods. Studying Javascript on the Mozilla website with explanations, they say that a function is a different kind of object.</p>\n<p>To me this doesn't make sense because an object is like something, like a cat. A function is more like a verb, an action that something or someone does, like the cat's leap. Wouldn't it be better to explain to people that functions are not objects, but actions, rather than seeing that it's an object too?</p>\n<p>Object for me is like the subject of a sentence. Like: You work&quot;. The object/subject of the sentence is &quot;You&quot; and the action/verb/function is &quot;work&quot;. We can't say, for example, &quot;Run dances&quot; because &quot;Run&quot; is a function, not an object Does that make sense, or am I just crazy? haha</p>\n<p>Thank you friends.</p>\n"},{"tags":["java","spring-boot","gradle","groovy","spock"],"comments":[{"owner":{"account_id":22101947,"reputation":397,"user_id":16358266,"display_name":"user16358266"},"score":1,"creation_date":1666363112,"post_id":74154532,"comment_id":130926337,"body_markdown":"Please provide a https://stackoverflow.com/help/minimal-reproducible-example otherwise we can&#39;t really help you. Otherwise, use https://github.com/spockframework/spock-example/ as a starting point. Also, you should always post the full stacktrace not just the message, or even more helpful a Build Scan https://scans.gradle.com/","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> otherwise we can&#39;t really help you. Otherwise, use <a href=\"https://github.com/spockframework/spock-example/\" rel=\"nofollow noreferrer\">github.com/spockframework/spock-example</a> as a starting point. Also, you should always post the full stacktrace not just the message, or even more helpful a Build Scan <a href=\"https://scans.gradle.com/\" rel=\"nofollow noreferrer\">scans.gradle.com</a>"},{"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"score":0,"creation_date":1666373023,"post_id":74154532,"comment_id":130929760,"body_markdown":"I&#39;ve added stack trace and the class. There is really nothing to show, it is taken from Spock examples posted on StackOverflow all over the place.","body":"I&#39;ve added stack trace and the class. There is really nothing to show, it is taken from Spock examples posted on StackOverflow all over the place."},{"owner":{"account_id":8750712,"reputation":3863,"user_id":6544083,"display_name":"Mike W"},"score":1,"creation_date":1666425251,"post_id":74154532,"comment_id":130937894,"body_markdown":"The problem is `java.lang.NoClassDefFoundError: org.springframework.web.servlet.DispatcherServlet`, Is this a spring boot project?","body":"The problem is <code>java.lang.NoClassDefFoundError: org.springframework.web.servlet.DispatcherServlet</code>, Is this a spring boot project?"},{"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"score":0,"creation_date":1666426676,"post_id":74154532,"comment_id":130938044,"body_markdown":"Yes. It is a spring boot project","body":"Yes. It is a spring boot project"},{"owner":{"account_id":8750712,"reputation":3863,"user_id":6544083,"display_name":"Mike W"},"score":0,"creation_date":1666430484,"post_id":74154532,"comment_id":130938537,"body_markdown":"How are your dependencies setup? The DispatcherServlet is part of the spring-webmvc project. Are you pulling in dependencies individually or as part of starter project e.g. org.springframework.boot:spring-boot-starter-web","body":"How are your dependencies setup? The DispatcherServlet is part of the spring-webmvc project. Are you pulling in dependencies individually or as part of starter project e.g. org.springframework.boot:spring-boot-starter-web"},{"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"score":0,"creation_date":1666449787,"post_id":74154532,"comment_id":130942177,"body_markdown":"I am pulling spring-boot-starter-web. Entire project works like a charm. I have some integration tests working in java code with spring boot runner. Also Have a spock and groovy unit tests. Now I am trying to add some &quot;behavioral&quot; groovy tests and this is only when I get this issue.","body":"I am pulling spring-boot-starter-web. Entire project works like a charm. I have some integration tests working in java code with spring boot runner. Also Have a spock and groovy unit tests. Now I am trying to add some &quot;behavioral&quot; groovy tests and this is only when I get this issue."},{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":0,"creation_date":1666449865,"post_id":74154532,"comment_id":130942194,"body_markdown":"Can you share your dependency declarations, or better a Build Scan, just execute the gradle command and add `--scan`?","body":"Can you share your dependency declarations, or better a Build Scan, just execute the gradle command and add <code>--scan</code>?"},{"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"score":0,"creation_date":1666450524,"post_id":74154532,"comment_id":130942337,"body_markdown":"scan here (first time using it not sure if this is all) https://scans.gradle.com/s/zzpm2g7rkn2ys","body":"scan here (first time using it not sure if this is all) <a href=\"https://scans.gradle.com/s/zzpm2g7rkn2ys\" rel=\"nofollow noreferrer\">scans.gradle.com/s/zzpm2g7rkn2ys</a>"}],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666481615,"creation_date":1666481615,"answer_id":74167784,"question_id":74154532,"body_markdown":"Looking at the [Build Scan][1] you shared, it looks like you are actually building a webflux project. `@WebMvcTest` only works with `spring-mvc` style webapps. You should be using `@WebFluxTest` instead.\r\n\r\n\r\n  [1]: https://scans.gradle.com/s/zzpm2g7rkn2ys","title":"Execution failed for task &#39;:compileTestGroovy&#39; when I try to run a groovy spock tests","body":"<p>Looking at the <a href=\"https://scans.gradle.com/s/zzpm2g7rkn2ys\" rel=\"nofollow noreferrer\">Build Scan</a> you shared, it looks like you are actually building a webflux project. <code>@WebMvcTest</code> only works with <code>spring-mvc</code> style webapps. You should be using <code>@WebFluxTest</code> instead.</p>\n"}],"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":801,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74167784,"answer_count":1,"score":0,"last_activity_date":1666481646,"creation_date":1666359589,"question_id":74154532,"body_markdown":"I am getting an error when trying to run a groovy test with MockMvc\r\n\r\nMy test class looks like below:\r\n\r\n    @WebMvcTest\r\n    class BehavioralTest extends Specification{\r\n    \r\n      @Autowired\r\n      MockMvc mvc;\r\n    \r\n    // my test cases here\r\n\r\nstack trace here: \r\n\r\n        Execution failed for task &#39;:compileTestGroovy&#39;.\r\n    &gt; org.springframework.web.servlet.DispatcherServlet\r\n    \r\n    * Try:\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:compileTestGroovy&#39;.\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:147)\r\n    \tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:145)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\r\n    \tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n    \tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor.process(DefaultPlanExecutor.java:72)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.executeWithServices(DefaultTaskExecutionGraph.java:144)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.execute(DefaultTaskExecutionGraph.java:129)\r\n    \tat org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:42)\r\n    \tat org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:51)\r\n    \tat org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.call(BuildOperationFiringBuildWorkerExecutor.java:54)\r\n    \tat org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.call(BuildOperationFiringBuildWorkerExecutor.java:43)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    \tat org.gradle.execution.BuildOperationFiringBuildWorkerExecutor.execute(BuildOperationFiringBuildWorkerExecutor.java:40)\r\n    \tat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$executeTasks$7(DefaultBuildLifecycleController.java:165)\r\n    \tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\r\n    \tat org.gradle.internal.model.StateTransitionController.lambda$tryTransition$8(StateTransitionController.java:174)\r\n    \tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n    \tat org.gradle.internal.model.StateTransitionController.tryTransition(StateTransitionController.java:174)\r\n    \tat org.gradle.internal.build.DefaultBuildLifecycleController.executeTasks(DefaultBuildLifecycleController.java:165)\r\n    \tat org.gradle.internal.build.DefaultBuildWorkGraphController$DefaultBuildWorkGraph.runWork(DefaultBuildWorkGraphController.java:142)\r\n    \tat org.gradle.composite.internal.DefaultBuildController.doBuild(DefaultBuildController.java:231)\r\n    \tat org.gradle.internal.Factories$1.create(Factories.java:31)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:124)\r\n    \tat org.gradle.composite.internal.DefaultBuildController.doRun(DefaultBuildController.java:204)\r\n    \tat org.gradle.composite.internal.DefaultBuildController.access$000(DefaultBuildController.java:51)\r\n    \tat org.gradle.composite.internal.DefaultBuildController$BuildOpRunnable.run(DefaultBuildController.java:264)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    Caused by: java.lang.NoClassDefFoundError: org.springframework.web.servlet.DispatcherServlet\r\n    \tat org.spockframework.compiler.SpecialMethodCall.checkIsConditionBlock(SpecialMethodCall.java:269)\r\n    \tat org.spockframework.compiler.SpecialMethodCall.parse(SpecialMethodCall.java:172)\r\n    \tat org.spockframework.compiler.AbstractDeepBlockRewriter.visitMethodCallExpression(AbstractDeepBlockRewriter.java:123)\r\n    \tat org.spockframework.compiler.AbstractDeepBlockRewriter.doVisitMethodCallExpression(AbstractDeepBlockRewriter.java:170)\r\n    \tat org.spockframework.compiler.DeepBlockRewriter.doVisitMethodCallExpression(DeepBlockRewriter.java:148)\r\n    \tat org.spockframework.compiler.AbstractDeepBlockRewriter.visitMethodCallExpression(AbstractDeepBlockRewriter.java:132)\r\n    \tat org.spockframework.compiler.AbstractDeepBlockRewriter.doVisitMethodCallExpression(AbstractDeepBlockRewriter.java:170)\r\n    \tat org.spockframework.compiler.DeepBlockRewriter.doVisitMethodCallExpression(DeepBlockRewriter.java:148)\r\n    \tat org.spockframework.compiler.AbstractDeepBlockRewriter.visitMethodCallExpression(AbstractDeepBlockRewriter.java:132)\r\n    \tat org.spockframework.compiler.AbstractDeepBlockRewriter.doVisitExpressionStatement(AbstractDeepBlockRewriter.java:162)\r\n    \tat org.spockframework.compiler.DeepBlockRewriter.visitInteractionAwareExpressionStatement(DeepBlockRewriter.java:96)\r\n    \tat org.spockframework.compiler.DeepBlockRewriter.doVisitExpressionStatement(DeepBlockRewriter.java:78)\r\n    \tat org.spockframework.compiler.AbstractDeepBlockRewriter.visitExpressionStatement(AbstractDeepBlockRewriter.java:100)\r\n    \tat org.spockframework.compiler.StatementReplacingVisitorSupport.replace(StatementReplacingVisitorSupport.java:44)\r\n    \tat org.spockframework.compiler.AbstractDeepBlockRewriter.visit(AbstractDeepBlockRewriter.java:84)\r\n    \tat org.spockframework.compiler.DeepBlockRewriter.visit(DeepBlockRewriter.java:56)\r\n    \tat org.spockframework.compiler.SpecRewriter.visitAnyBlock(SpecRewriter.java:405)\r\n    \tat org.spockframework.compiler.model.WhenBlock.accept(WhenBlock.java:32)\r\n    \tat org.spockframework.compiler.model.Method.accept(Method.java:70)\r\n    \tat org.spockframework.compiler.model.Spec.accept(Spec.java:112)\r\n    \tat org.spockframework.compiler.SpockTransform$Impl.processSpec(SpockTransform.java:76)\r\n    \tat org.spockframework.compiler.SpockTransform$Impl.visit(SpockTransform.java:63)\r\n    \tat org.spockframework.compiler.SpockTransform.visit(SpockTransform.java:48)\r\n    \tat org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:270)\r\n    \tat org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:64)\r\n    \tat org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:97)\r\n    \tat org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:76)\r\n    \tat org.gradle.api.internal.tasks.compile.daemon.AbstractDaemonCompiler$CompilerWorkAction.execute(AbstractDaemonCompiler.java:135)\r\n    \tat org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\r\n    \tat org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:49)\r\n    \tat org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:43)\r\n    \tat org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)\r\n    \tat org.gradle.workers.internal.AbstractClassLoaderWorker.executeInClassLoader(AbstractClassLoaderWorker.java:43)\r\n    \tat org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:49)\r\n    \tat org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:30)\r\n    \tat org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:87)\r\n    \tat org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:56)\r\n    \tat org.gradle.process.internal.worker.request.WorkerAction$1.call(WorkerAction.java:138)\r\n    \tat org.gradle.process.internal.worker.child.WorkerLogEventListener.withWorkerLoggingProtocol(WorkerLogEventListener.java:41)\r\n    \tat org.gradle.process.internal.worker.request.WorkerAction.run(WorkerAction.java:135)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\r\n\r\nWhen adding compileTestGroovy.enabled = false in build.gradle as was proposed in another answer now I am getting this:\r\n\r\n\r\nExecution failed for task &#39;:test&#39;.\r\n\r\n    No tests found for given includes: [com.example.MyTestClass](--tests filter)\r\n\r\nInterestingly it also breaks all the other groovy tests in my application (not only on the annotated class).\r\n\r\nAny ideas how to make it work?","title":"Execution failed for task &#39;:compileTestGroovy&#39; when I try to run a groovy spock tests","body":"<p>I am getting an error when trying to run a groovy test with MockMvc</p>\n<p>My test class looks like below:</p>\n<pre><code>@WebMvcTest\nclass BehavioralTest extends Specification{\n\n  @Autowired\n  MockMvc mvc;\n\n// my test cases here\n</code></pre>\n<p>stack trace here:</p>\n<pre><code>    Execution failed for task ':compileTestGroovy'.\n&gt; org.springframework.web.servlet.DispatcherServlet\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':compileTestGroovy'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:147)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:145)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\n    at org.gradle.execution.plan.DefaultPlanExecutor.process(DefaultPlanExecutor.java:72)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.executeWithServices(DefaultTaskExecutionGraph.java:144)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.execute(DefaultTaskExecutionGraph.java:129)\n    at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:42)\n    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:51)\n    at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.call(BuildOperationFiringBuildWorkerExecutor.java:54)\n    at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.call(BuildOperationFiringBuildWorkerExecutor.java:43)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor.execute(BuildOperationFiringBuildWorkerExecutor.java:40)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$executeTasks$7(DefaultBuildLifecycleController.java:165)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\n    at org.gradle.internal.model.StateTransitionController.lambda$tryTransition$8(StateTransitionController.java:174)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.tryTransition(StateTransitionController.java:174)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.executeTasks(DefaultBuildLifecycleController.java:165)\n    at org.gradle.internal.build.DefaultBuildWorkGraphController$DefaultBuildWorkGraph.runWork(DefaultBuildWorkGraphController.java:142)\n    at org.gradle.composite.internal.DefaultBuildController.doBuild(DefaultBuildController.java:231)\n    at org.gradle.internal.Factories$1.create(Factories.java:31)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:124)\n    at org.gradle.composite.internal.DefaultBuildController.doRun(DefaultBuildController.java:204)\n    at org.gradle.composite.internal.DefaultBuildController.access$000(DefaultBuildController.java:51)\n    at org.gradle.composite.internal.DefaultBuildController$BuildOpRunnable.run(DefaultBuildController.java:264)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: java.lang.NoClassDefFoundError: org.springframework.web.servlet.DispatcherServlet\n    at org.spockframework.compiler.SpecialMethodCall.checkIsConditionBlock(SpecialMethodCall.java:269)\n    at org.spockframework.compiler.SpecialMethodCall.parse(SpecialMethodCall.java:172)\n    at org.spockframework.compiler.AbstractDeepBlockRewriter.visitMethodCallExpression(AbstractDeepBlockRewriter.java:123)\n    at org.spockframework.compiler.AbstractDeepBlockRewriter.doVisitMethodCallExpression(AbstractDeepBlockRewriter.java:170)\n    at org.spockframework.compiler.DeepBlockRewriter.doVisitMethodCallExpression(DeepBlockRewriter.java:148)\n    at org.spockframework.compiler.AbstractDeepBlockRewriter.visitMethodCallExpression(AbstractDeepBlockRewriter.java:132)\n    at org.spockframework.compiler.AbstractDeepBlockRewriter.doVisitMethodCallExpression(AbstractDeepBlockRewriter.java:170)\n    at org.spockframework.compiler.DeepBlockRewriter.doVisitMethodCallExpression(DeepBlockRewriter.java:148)\n    at org.spockframework.compiler.AbstractDeepBlockRewriter.visitMethodCallExpression(AbstractDeepBlockRewriter.java:132)\n    at org.spockframework.compiler.AbstractDeepBlockRewriter.doVisitExpressionStatement(AbstractDeepBlockRewriter.java:162)\n    at org.spockframework.compiler.DeepBlockRewriter.visitInteractionAwareExpressionStatement(DeepBlockRewriter.java:96)\n    at org.spockframework.compiler.DeepBlockRewriter.doVisitExpressionStatement(DeepBlockRewriter.java:78)\n    at org.spockframework.compiler.AbstractDeepBlockRewriter.visitExpressionStatement(AbstractDeepBlockRewriter.java:100)\n    at org.spockframework.compiler.StatementReplacingVisitorSupport.replace(StatementReplacingVisitorSupport.java:44)\n    at org.spockframework.compiler.AbstractDeepBlockRewriter.visit(AbstractDeepBlockRewriter.java:84)\n    at org.spockframework.compiler.DeepBlockRewriter.visit(DeepBlockRewriter.java:56)\n    at org.spockframework.compiler.SpecRewriter.visitAnyBlock(SpecRewriter.java:405)\n    at org.spockframework.compiler.model.WhenBlock.accept(WhenBlock.java:32)\n    at org.spockframework.compiler.model.Method.accept(Method.java:70)\n    at org.spockframework.compiler.model.Spec.accept(Spec.java:112)\n    at org.spockframework.compiler.SpockTransform$Impl.processSpec(SpockTransform.java:76)\n    at org.spockframework.compiler.SpockTransform$Impl.visit(SpockTransform.java:63)\n    at org.spockframework.compiler.SpockTransform.visit(SpockTransform.java:48)\n    at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:270)\n    at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:64)\n    at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:97)\n    at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:76)\n    at org.gradle.api.internal.tasks.compile.daemon.AbstractDaemonCompiler$CompilerWorkAction.execute(AbstractDaemonCompiler.java:135)\n    at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\n    at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:49)\n    at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:43)\n    at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)\n    at org.gradle.workers.internal.AbstractClassLoaderWorker.executeInClassLoader(AbstractClassLoaderWorker.java:43)\n    at org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:49)\n    at org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:30)\n    at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:87)\n    at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:56)\n    at org.gradle.process.internal.worker.request.WorkerAction$1.call(WorkerAction.java:138)\n    at org.gradle.process.internal.worker.child.WorkerLogEventListener.withWorkerLoggingProtocol(WorkerLogEventListener.java:41)\n    at org.gradle.process.internal.worker.request.WorkerAction.run(WorkerAction.java:135)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n</code></pre>\n<p>When adding compileTestGroovy.enabled = false in build.gradle as was proposed in another answer now I am getting this:</p>\n<p>Execution failed for task ':test'.</p>\n<pre><code>No tests found for given includes: [com.example.MyTestClass](--tests filter)\n</code></pre>\n<p>Interestingly it also breaks all the other groovy tests in my application (not only on the annotated class).</p>\n<p>Any ideas how to make it work?</p>\n"},{"tags":["java","reflection","field","getter-setter","member-variables"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":3,"creation_date":1534238087,"post_id":51837798,"comment_id":90628873,"body_markdown":"A getter for a field is based on **naming conventions** (standard or spec or whatever that can be called, JavaBeans in this specific case is just a convention). Even if you have a tool that gives a a direct `field -&gt; getter` link, it&#39;s just a shortcut around names","body":"A getter for a field is based on <b>naming conventions</b> (standard or spec or whatever that can be called, JavaBeans in this specific case is just a convention). Even if you have a tool that gives a a direct <code>field -&gt; getter</code> link, it&#39;s just a shortcut around names"},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":2,"creation_date":1534238154,"post_id":51837798,"comment_id":90628923,"body_markdown":"I very much doubt you can do this without relying on naming conventions (which are, after all, the only way **we** know they&#39;re getters/setters for a given field). You&#39;d have to introspect the **code** of every method in the class accepting a single argument of that field&#39;s type or returning that type. And even then, how could you know they were just setters/getters as opposed to having some other purpose? Validation code (in a setter) or lazy-initialization code (in a getter) looks a lot like code doing something else, after all...","body":"I very much doubt you can do this without relying on naming conventions (which are, after all, the only way <b>we</b> know they&#39;re getters/setters for a given field). You&#39;d have to introspect the <b>code</b> of every method in the class accepting a single argument of that field&#39;s type or returning that type. And even then, how could you know they were just setters/getters as opposed to having some other purpose? Validation code (in a setter) or lazy-initialization code (in a getter) looks a lot like code doing something else, after all..."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1534250510,"post_id":51837798,"comment_id":90636365,"body_markdown":"The idea is that getters and setters may not directly correspond to an actual field, they may be derived, calculated or stored elsewhere. In other words there will not necessarily be a direct correspondence, so Java doesn&#39;t have anything for that.","body":"The idea is that getters and setters may not directly correspond to an actual field, they may be derived, calculated or stored elsewhere. In other words there will not necessarily be a direct correspondence, so Java doesn&#39;t have anything for that."}],"answers":[{"tags":[],"owner":{"account_id":6950583,"reputation":2574,"user_id":5333340,"accept_rate":77,"display_name":"Kjara"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1534243720,"creation_date":1534240173,"answer_id":51838593,"question_id":51837798,"body_markdown":"Turned out that in Java, getters/setters are not just defined by their signature and behaviour (as I thought) but ALSO by following naming conventions.\r\n\r\nSo in order to get a getter/setter for a `Field` `myField` of object `myObject`, we need to create its corresponding getter/setter method name `methodName` (use `Field.getName()` then fiddle with `get`/`set` and camelCase), then call `myObject.getClass().getMethod(methodName, ...)`. The parameters (`...`) can be retrieved by using `Field.getType()` and must be different according to whether I want the getter or setter.\r\n\r\nProof that naming is important:\r\nFor this class\r\n\r\n\tpublic class ClassWithUnconventionalNaming {\r\n\t\r\n\t\tprivate int foo;\r\n\t\tpublic int myGetter() { return foo; }\r\n\t\tpublic void mySetter(int x) { this.foo = x; }\r\n\t\tpublic void setBaz(boolean x) { this.foo = 2; };\r\n\r\n\t\tprivate String bar;\r\n\t\tpublic String getBar() { return &quot;hello world&quot;; }\r\n\t\tpublic void setBar(String bar) { this.bar = bar; }\r\n\t\r\n\t\tprivate boolean baz;\r\n\t\tpublic boolean isBaz() { return baz; }\r\n\t}\r\n\r\nI ran the code\r\n\r\n\tClassWithUnconventionalNaming myClass = new ClassWithUnconventionalNaming();\r\n\tmyClass.mySetter(5);\r\n\t\r\n\tBeanInfo info = Introspector.getBeanInfo(ClassWithUnconventionalNaming.class);\r\n\tfor (PropertyDescriptor pd : info.getPropertyDescriptors()) {\r\n\t\tString propertyName = pd.getName();\r\n\t\tSystem.out.println(&quot;property name: &quot; + propertyName);\r\n\t\tMethod getter = pd.getReadMethod();\r\n\t\tSystem.out.println(&quot;    getter: &quot; + ((getter == null) ? &quot;&quot; : getter.getName()));\r\n\t\tMethod setter = pd.getWriteMethod();\r\n\t\tSystem.out.println(&quot;    setter: &quot; + ((setter == null) ? &quot;&quot; : setter.getName()));\r\n\t}\r\n\r\nand got the output\r\n\r\n    property name: bar\r\n        getter: getBar\r\n        setter: setBar\r\n    property name: baz\r\n        getter: isBaz\r\n        setter: setBaz\r\n    property name: class\r\n        getter: getClass\r\n        setter: ","title":"get associated getter/setter of field (member variable)","body":"<p>Turned out that in Java, getters/setters are not just defined by their signature and behaviour (as I thought) but ALSO by following naming conventions.</p>\n\n<p>So in order to get a getter/setter for a <code>Field</code> <code>myField</code> of object <code>myObject</code>, we need to create its corresponding getter/setter method name <code>methodName</code> (use <code>Field.getName()</code> then fiddle with <code>get</code>/<code>set</code> and camelCase), then call <code>myObject.getClass().getMethod(methodName, ...)</code>. The parameters (<code>...</code>) can be retrieved by using <code>Field.getType()</code> and must be different according to whether I want the getter or setter.</p>\n\n<p>Proof that naming is important:\nFor this class</p>\n\n<pre><code>public class ClassWithUnconventionalNaming {\n\n    private int foo;\n    public int myGetter() { return foo; }\n    public void mySetter(int x) { this.foo = x; }\n    public void setBaz(boolean x) { this.foo = 2; };\n\n    private String bar;\n    public String getBar() { return \"hello world\"; }\n    public void setBar(String bar) { this.bar = bar; }\n\n    private boolean baz;\n    public boolean isBaz() { return baz; }\n}\n</code></pre>\n\n<p>I ran the code</p>\n\n<pre><code>ClassWithUnconventionalNaming myClass = new ClassWithUnconventionalNaming();\nmyClass.mySetter(5);\n\nBeanInfo info = Introspector.getBeanInfo(ClassWithUnconventionalNaming.class);\nfor (PropertyDescriptor pd : info.getPropertyDescriptors()) {\n    String propertyName = pd.getName();\n    System.out.println(\"property name: \" + propertyName);\n    Method getter = pd.getReadMethod();\n    System.out.println(\"    getter: \" + ((getter == null) ? \"\" : getter.getName()));\n    Method setter = pd.getWriteMethod();\n    System.out.println(\"    setter: \" + ((setter == null) ? \"\" : setter.getName()));\n}\n</code></pre>\n\n<p>and got the output</p>\n\n<pre><code>property name: bar\n    getter: getBar\n    setter: setBar\nproperty name: baz\n    getter: isBaz\n    setter: setBaz\nproperty name: class\n    getter: getClass\n    setter: \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534241357,"creation_date":1534241357,"answer_id":51838939,"question_id":51837798,"body_markdown":"This is my idea, not totally correct though.\r\nCheck if the method name has the field name inside it, plus return type and parameter argument type. I feel if no rules about setter/getter method of field. It is almost impossible.\r\n\r\n        @Test\r\n        void test_fieldGetterSetter() throws NoSuchFieldException {\r\n        Field f = MyClass.class.getDeclaredField(&quot;name&quot;);\r\n        Class&lt;?&gt; declaringClass = f.getDeclaringClass();\r\n\r\n        Method[] declaredMethods = declaringClass.getDeclaredMethods();\r\n\r\n        for (Method declaredMethod : declaredMethods) {\r\n            String name = declaredMethod.getName();\r\n\r\n            // Can also check return type, argument type to increase the correctness\r\n            if (isFieldNameWithMethodName(f.getName(), name)) {\r\n                String format = String.format(&quot;Field name is %s and possible method name is %s&quot;, f.getName(), name);\r\n                System.out.println(format);\r\n            }\r\n        }\r\n    }\r\n\r\n    private boolean isFieldNameWithMethodName(String fieldName, String methodName) {\r\n        if (methodName.toLowerCase().contains(fieldName.toLowerCase())) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }","title":"get associated getter/setter of field (member variable)","body":"<p>This is my idea, not totally correct though.\nCheck if the method name has the field name inside it, plus return type and parameter argument type. I feel if no rules about setter/getter method of field. It is almost impossible.</p>\n\n<pre><code>    @Test\n    void test_fieldGetterSetter() throws NoSuchFieldException {\n    Field f = MyClass.class.getDeclaredField(\"name\");\n    Class&lt;?&gt; declaringClass = f.getDeclaringClass();\n\n    Method[] declaredMethods = declaringClass.getDeclaredMethods();\n\n    for (Method declaredMethod : declaredMethods) {\n        String name = declaredMethod.getName();\n\n        // Can also check return type, argument type to increase the correctness\n        if (isFieldNameWithMethodName(f.getName(), name)) {\n            String format = String.format(\"Field name is %s and possible method name is %s\", f.getName(), name);\n            System.out.println(format);\n        }\n    }\n}\n\nprivate boolean isFieldNameWithMethodName(String fieldName, String methodName) {\n    if (methodName.toLowerCase().contains(fieldName.toLowerCase())) {\n        return true;\n    }\n\n    return false;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1666382858,"post_id":74156346,"comment_id":130932459,"body_markdown":"Doesn&#39;t work: `this.getClass().getMethod(...)` will always fail.","body":"Doesn&#39;t work: <code>this.getClass().getMethod(...)</code> will always fail."},{"owner":{"account_id":1886834,"reputation":528,"user_id":1705880,"accept_rate":50,"display_name":"Sparm"},"score":0,"creation_date":1666604466,"post_id":74156346,"comment_id":130968372,"body_markdown":"Good spot. I have edited and fixed as it should have been ```field.getType()```","body":"Good spot. I have edited and fixed as it should have been <code>field.getType()</code>"}],"tags":[],"owner":{"account_id":1886834,"reputation":528,"user_id":1705880,"accept_rate":50,"display_name":"Sparm"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666478620,"creation_date":1666368303,"answer_id":74156346,"question_id":51837798,"body_markdown":"    import java.lang.reflect.Field;\r\n    import java.lang.reflect.Method;\r\n\r\n    public class ClassUtils {\r\n    /**\r\n     * Returns the corresponding getter method for a field from this object\r\n     *\r\n     * @param field\r\n     * @return\r\n     * @throws NoSuchMethodException\r\n     * @throws SecurityException\r\n     */\r\n    public static Method getGetterMethodForField(Field field) throws NoSuchMethodException, SecurityException {\r\n        String fieldName = field.getName();\r\n        String getterMethodName = &quot;get&quot; + fieldName.toUpperCase().charAt(0) + fieldName.substring(1);\r\n        try\r\n        {\r\n            return field.getType().getMethod(getterMethodName);\r\n        }catch( NoSuchMethodException e ) {\r\n            // If that fails try with &quot;is&quot; instead\r\n            getterMethodName = &quot;is&quot; + fieldName.toUpperCase().charAt(0) + fieldName.substring(1);\r\n            return field.getType().getMethod(getterMethodName);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Returns the corresponding getter method for a field from the specified object\r\n     *\r\n     * @param field\r\n     * @return\r\n     * @throws NoSuchMethodException\r\n     * @throws SecurityException\r\n     */\r\n    public static Method getGetterMethodForField(Field field, Object obj) throws NoSuchMethodException, SecurityException {\r\n        String fieldName = field.getName();\r\n        String getterMethodName = &quot;get&quot; + fieldName.toUpperCase().charAt(0) + fieldName.substring(1);\r\n        try\r\n        {\r\n            return obj.getClass().getMethod(getterMethodName);\r\n        }catch( NoSuchMethodException e ) {\r\n            // If that fails try with &quot;is&quot; instead\r\n            getterMethodName = &quot;is&quot; + fieldName.toUpperCase().charAt(0) + fieldName.substring(1);\r\n            return obj.getClass().getMethod(getterMethodName);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Returns the corresponding getter method for a field from the specified class\r\n     *\r\n     * @param field\r\n     * @return\r\n     * @throws NoSuchMethodException\r\n     * @throws SecurityException\r\n     */\r\n    public static Method getGetterMethodForField(Field field, Class clazz) throws NoSuchMethodException, SecurityException {\r\n        String fieldName = field.getName();\r\n        String getterMethodName = &quot;get&quot; + fieldName.toUpperCase().charAt(0) + fieldName.substring(1);\r\n        try\r\n        {\r\n            return clazz.getMethod(getterMethodName);\r\n        }catch( NoSuchMethodException e ) {\r\n            // If that fails try with &quot;is&quot; instead\r\n            getterMethodName = &quot;is&quot; + fieldName.toUpperCase().charAt(0) + fieldName.substring(1);\r\n            return clazz.getMethod(getterMethodName);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns the corresponding getter method for a field from this object\r\n     *\r\n     * @param field\r\n     * @return\r\n     * @throws NoSuchMethodException\r\n     * @throws SecurityException\r\n     */\r\n    public Method getSetterMethodForField(Field field, Class&lt;?&gt; argType) throws SecurityException, NoSuchMethodException {\r\n        String fieldName = field.getName();\r\n        String setterMethodName = &quot;set&quot; + fieldName.toUpperCase().charAt(0) + fieldName.substring(1);\r\n\r\n        do {\r\n            try {\r\n                Method method = this.getClass().getMethod(setterMethodName, argType);\r\n                return method;\r\n            } catch (NoSuchMethodException e) {\r\n\r\n                // Check if the argument is a primitive\r\n                if( org.apache.commons.lang3.ClassUtils.wrapperToPrimitive(argType) != null ) {\r\n                    argType = org.apache.commons.lang3.ClassUtils.wrapperToPrimitive(argType);\r\n                    try {\r\n                        Method method = this.getClass().getMethod(setterMethodName, argType);\r\n                        return method;\r\n                    } catch (NoSuchMethodException e2) {\r\n                        argType = argType.getSuperclass();\r\n                    }\r\n                }\r\n                else {\r\n                    // Check for interfaces\r\n                    for( Class&lt;?&gt; baseArgType : org.apache.commons.lang3.ClassUtils.getAllInterfaces(argType) ) {\r\n                        try {\r\n                            Method method = this.getClass().getMethod(setterMethodName, baseArgType);\r\n                            return method;\r\n                        } catch (NoSuchMethodException e2) {\r\n                        }\r\n                    }\r\n                    argType = null;\r\n                }\r\n\r\n            }\r\n        } while (argType != null);\r\n\r\n        throw new NoSuchMethodException(setterMethodName);\r\n    }\r\n}\r\n","title":"get associated getter/setter of field (member variable)","body":"<pre><code>import java.lang.reflect.Field;\nimport java.lang.reflect.Method;\n\npublic class ClassUtils {\n/**\n * Returns the corresponding getter method for a field from this object\n *\n * @param field\n * @return\n * @throws NoSuchMethodException\n * @throws SecurityException\n */\npublic static Method getGetterMethodForField(Field field) throws NoSuchMethodException, SecurityException {\n    String fieldName = field.getName();\n    String getterMethodName = &quot;get&quot; + fieldName.toUpperCase().charAt(0) + fieldName.substring(1);\n    try\n    {\n        return field.getType().getMethod(getterMethodName);\n    }catch( NoSuchMethodException e ) {\n        // If that fails try with &quot;is&quot; instead\n        getterMethodName = &quot;is&quot; + fieldName.toUpperCase().charAt(0) + fieldName.substring(1);\n        return field.getType().getMethod(getterMethodName);\n    }\n}\n\n/**\n * Returns the corresponding getter method for a field from the specified object\n *\n * @param field\n * @return\n * @throws NoSuchMethodException\n * @throws SecurityException\n */\npublic static Method getGetterMethodForField(Field field, Object obj) throws NoSuchMethodException, SecurityException {\n    String fieldName = field.getName();\n    String getterMethodName = &quot;get&quot; + fieldName.toUpperCase().charAt(0) + fieldName.substring(1);\n    try\n    {\n        return obj.getClass().getMethod(getterMethodName);\n    }catch( NoSuchMethodException e ) {\n        // If that fails try with &quot;is&quot; instead\n        getterMethodName = &quot;is&quot; + fieldName.toUpperCase().charAt(0) + fieldName.substring(1);\n        return obj.getClass().getMethod(getterMethodName);\n    }\n}\n\n/**\n * Returns the corresponding getter method for a field from the specified class\n *\n * @param field\n * @return\n * @throws NoSuchMethodException\n * @throws SecurityException\n */\npublic static Method getGetterMethodForField(Field field, Class clazz) throws NoSuchMethodException, SecurityException {\n    String fieldName = field.getName();\n    String getterMethodName = &quot;get&quot; + fieldName.toUpperCase().charAt(0) + fieldName.substring(1);\n    try\n    {\n        return clazz.getMethod(getterMethodName);\n    }catch( NoSuchMethodException e ) {\n        // If that fails try with &quot;is&quot; instead\n        getterMethodName = &quot;is&quot; + fieldName.toUpperCase().charAt(0) + fieldName.substring(1);\n        return clazz.getMethod(getterMethodName);\n    }\n}\n\n\n/**\n * Returns the corresponding getter method for a field from this object\n *\n * @param field\n * @return\n * @throws NoSuchMethodException\n * @throws SecurityException\n */\npublic Method getSetterMethodForField(Field field, Class&lt;?&gt; argType) throws SecurityException, NoSuchMethodException {\n    String fieldName = field.getName();\n    String setterMethodName = &quot;set&quot; + fieldName.toUpperCase().charAt(0) + fieldName.substring(1);\n\n    do {\n        try {\n            Method method = this.getClass().getMethod(setterMethodName, argType);\n            return method;\n        } catch (NoSuchMethodException e) {\n\n            // Check if the argument is a primitive\n            if( org.apache.commons.lang3.ClassUtils.wrapperToPrimitive(argType) != null ) {\n                argType = org.apache.commons.lang3.ClassUtils.wrapperToPrimitive(argType);\n                try {\n                    Method method = this.getClass().getMethod(setterMethodName, argType);\n                    return method;\n                } catch (NoSuchMethodException e2) {\n                    argType = argType.getSuperclass();\n                }\n            }\n            else {\n                // Check for interfaces\n                for( Class&lt;?&gt; baseArgType : org.apache.commons.lang3.ClassUtils.getAllInterfaces(argType) ) {\n                    try {\n                        Method method = this.getClass().getMethod(setterMethodName, baseArgType);\n                        return method;\n                    } catch (NoSuchMethodException e2) {\n                    }\n                }\n                argType = null;\n            }\n\n        }\n    } while (argType != null);\n\n    throw new NoSuchMethodException(setterMethodName);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":6950583,"reputation":2574,"user_id":5333340,"accept_rate":77,"display_name":"Kjara"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3630,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1666478620,"creation_date":1534237953,"question_id":51837798,"body_markdown":"I have a `Field` `f` of some class `MyClass` and I want to retrieve the associated getter/setter, if it exists. How do I do this?\r\n\r\n- I checked the methods of `Field`, but there is not even one that returns a `Method`.\r\n- I played around with `BeanInfo` retrieved by `Introspector.getBeanInfo(Class&lt;?&gt; beanClass)`. It has a method `getPropertyDescriptors()` which returns an array of `PropertyDescriptor`, and each `PropertyDescriptor` allows retrieving the getters and setters via `getReadMethod()` and `getWriteMethod()`. But there seems to be no connection to a `Field`. Also, it seems impossible to get a certain `PropertyDescriptor` (e.g. retrieved by giving a field name as argument); so even IF there is a way to get the `Field` from the `PropertyDescriptor`, I would need to loop through all `PropertyDescriptors`. This is not performant.\r\n\r\n*NOTE:* I do not want to rely on naming conventions, so please do not give anwers that fiddle with the field name. A getter of a field `myField` that does not have the name `getMyField` or `isMyField` is still a getter, after all.","title":"get associated getter/setter of field (member variable)","body":"<p>I have a <code>Field</code> <code>f</code> of some class <code>MyClass</code> and I want to retrieve the associated getter/setter, if it exists. How do I do this?</p>\n\n<ul>\n<li>I checked the methods of <code>Field</code>, but there is not even one that returns a <code>Method</code>.</li>\n<li>I played around with <code>BeanInfo</code> retrieved by <code>Introspector.getBeanInfo(Class&lt;?&gt; beanClass)</code>. It has a method <code>getPropertyDescriptors()</code> which returns an array of <code>PropertyDescriptor</code>, and each <code>PropertyDescriptor</code> allows retrieving the getters and setters via <code>getReadMethod()</code> and <code>getWriteMethod()</code>. But there seems to be no connection to a <code>Field</code>. Also, it seems impossible to get a certain <code>PropertyDescriptor</code> (e.g. retrieved by giving a field name as argument); so even IF there is a way to get the <code>Field</code> from the <code>PropertyDescriptor</code>, I would need to loop through all <code>PropertyDescriptors</code>. This is not performant.</li>\n</ul>\n\n<p><em>NOTE:</em> I do not want to rely on naming conventions, so please do not give anwers that fiddle with the field name. A getter of a field <code>myField</code> that does not have the name <code>getMyField</code> or <code>isMyField</code> is still a getter, after all.</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1665724978,"post_id":74064221,"comment_id":130769722,"body_markdown":"Please describe the expected behavior. What do you want to achieve exactly?","body":"Please describe the expected behavior. What do you want to achieve exactly?"},{"owner":{"account_id":24717121,"reputation":11,"user_id":18606704,"display_name":"Anmol Mahay"},"score":0,"creation_date":1665728289,"post_id":74064221,"comment_id":130770333,"body_markdown":"My app does not show data from WooCommerce.","body":"My app does not show data from WooCommerce."},{"owner":{"account_id":24717121,"reputation":11,"user_id":18606704,"display_name":"Anmol Mahay"},"score":0,"creation_date":1665737174,"post_id":74064221,"comment_id":130772681,"body_markdown":"https://digitaldecoders.in/furniture/wp-json/wc/v1/products when i run API on postman its returning list of all products but when i call this api in app it returns nothing","body":"<a href=\"https://digitaldecoders.in/furniture/wp-json/wc/v1/products\" rel=\"nofollow noreferrer\">digitaldecoders.in/furniture/wp-json/wc/v1/products</a> when i run API on postman its returning list of all products but when i call this api in app it returns nothing"}],"owner":{"account_id":24717121,"reputation":11,"user_id":18606704,"display_name":"Anmol Mahay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666477937,"creation_date":1665720597,"question_id":74064221,"body_markdown":"This is the first time when I use to work with WooCommerce for a mobile app. I already implement Base URL, Consumer Key, and Consumer Secret. It works well when I check this on postman but there is no data shown in the app after installation and there is no error while installing.\r\n","title":"WooCommerce API with Android Studio Java","body":"<p>This is the first time when I use to work with WooCommerce for a mobile app. I already implement Base URL, Consumer Key, and Consumer Secret. It works well when I check this on postman but there is no data shown in the app after installation and there is no error while installing.</p>\n"},{"tags":["java","arrays","max","average","minimum"],"comments":[{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1666116601,"post_id":74115526,"comment_id":130858077,"body_markdown":"You need to initialize min, max ,average for example: int min = 0; btw you should create at least 2 for loops first for initialize array and second for calculations","body":"You need to initialize min, max ,average for example: int min = 0; btw you should create at least 2 for loops first for initialize array and second for calculations"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1666132532,"post_id":74115526,"comment_id":130862417,"body_markdown":"By the way: `ThreadLocalRandom.current().ints( 0 , 99 ).limit( 1_000 ).summaryStatistics()` as seen on [Ideone.com](https://ideone.com/XSvowh): `IntSummaryStatistics{count=1000, sum=48008, min=0, average=48.008000, max=98}`","body":"By the way: <code>ThreadLocalRandom.current().ints( 0 , 99 ).limit( 1_000 ).summaryStatistics()</code> as seen on <a href=\"https://ideone.com/XSvowh\" rel=\"nofollow noreferrer\">Ideone.com</a>: <code>IntSummaryStatistics{count=1000, sum=48008, min=0, average=48.008000, max=98}</code>"}],"answers":[{"tags":[],"owner":{"account_id":23578189,"reputation":18,"user_id":17617576,"display_name":"Kai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666116749,"creation_date":1666116749,"answer_id":74115631,"question_id":74115526,"body_markdown":"Here is a link to look and checkout it should explain your current problem which is your Class Array is Public and you need to declare it. \r\n\r\n-&gt; https://learn.sourcegraph.com/how-to-troubleshoot-java-error-class-is-public-should-be-declared-in-its-own-file","title":"Find minimum, maximum and average of random number in java","body":"<p>Here is a link to look and checkout it should explain your current problem which is your Class Array is Public and you need to declare it.</p>\n<p>-&gt; <a href=\"https://learn.sourcegraph.com/how-to-troubleshoot-java-error-class-is-public-should-be-declared-in-its-own-file\" rel=\"nofollow noreferrer\">https://learn.sourcegraph.com/how-to-troubleshoot-java-error-class-is-public-should-be-declared-in-its-own-file</a></p>\n"},{"tags":[],"owner":{"account_id":18331003,"reputation":194,"user_id":13349539,"display_name":"Ahmet-Salman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666116831,"creation_date":1666116831,"answer_id":74115649,"question_id":74115526,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class Array1 {\r\n\r\npublic static void main(String[] args)\r\n{ \r\n  Scanner keyboard=new Scanner(System.in); \r\n  int sum=0;\r\n  int min = 0;\r\n  int max = 0;\r\n  double average = 0;\r\n  int number=0;\r\n  int[] A = new int[1000];\r\n  for(int i=0;i&lt;A.length;i++)\r\n  {\r\n      A[i]=(int)(Math.random()*100); // generates 1000 rand ints initially\r\n  }\r\n  min=A[0];\r\n  max=A[0];\r\n  for(int i=0;i&lt;A.length;i++)\r\n  {\r\n     System.out.print(A[i]+&quot; &quot;);\r\n     if(((i+1) % 10) == 0){\r\n        System.out.println();\r\n     }\r\n     sum=sum+A[i];  \r\n     \r\n     if (A[i]&lt;min){\r\n        min=A[i];\r\n     }\r\n     \r\n     if (A[i]&gt;max){\r\n        max=A[i];\r\n     }\r\n  }\r\n  average = sum / A.length;\r\n  \r\n \r\n  System.out.println(&quot;The average value is:&quot;+ average);\r\n  System.out.println(&quot;The minimum value is:&quot;+ min);\r\n  System.out.println(&quot;The maximum value is:&quot;+ max);\r\n\r\n\r\n  }\r\n  }\r\n```","title":"Find minimum, maximum and average of random number in java","body":"<pre><code>import java.util.Scanner;\n\npublic class Array1 {\n\npublic static void main(String[] args)\n{ \n  Scanner keyboard=new Scanner(System.in); \n  int sum=0;\n  int min = 0;\n  int max = 0;\n  double average = 0;\n  int number=0;\n  int[] A = new int[1000];\n  for(int i=0;i&lt;A.length;i++)\n  {\n      A[i]=(int)(Math.random()*100); // generates 1000 rand ints initially\n  }\n  min=A[0];\n  max=A[0];\n  for(int i=0;i&lt;A.length;i++)\n  {\n     System.out.print(A[i]+&quot; &quot;);\n     if(((i+1) % 10) == 0){\n        System.out.println();\n     }\n     sum=sum+A[i];  \n     \n     if (A[i]&lt;min){\n        min=A[i];\n     }\n     \n     if (A[i]&gt;max){\n        max=A[i];\n     }\n  }\n  average = sum / A.length;\n  \n \n  System.out.println(&quot;The average value is:&quot;+ average);\n  System.out.println(&quot;The minimum value is:&quot;+ min);\n  System.out.println(&quot;The maximum value is:&quot;+ max);\n\n\n  }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1988337,"reputation":598,"user_id":1782997,"display_name":"Attila T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666138285,"creation_date":1666138285,"answer_id":74118627,"question_id":74115526,"body_markdown":"This isn&#39;t actually fixing your code but if you&#39;re using Java 8+ the following would be more elegant:\r\n\r\n```lang-java\r\npublic class Statistics {\r\n\r\n  public static void main(String[] args) {\r\n    // implement user input if that&#39;s a requirement\r\n    IntStream input = new Random().ints(1000, 0, 1000000);\r\n\r\n    // statistics\r\n    IntSummaryStatistics statistics = input.summaryStatistics();\r\n\r\n    // avg, min, max\r\n    System.out.println(statistics.getAverage());\r\n    System.out.println(statistics.getMin());\r\n    System.out.println(statistics.getMax());\r\n  }\r\n\r\n}\r\n```","title":"Find minimum, maximum and average of random number in java","body":"<p>This isn't actually fixing your code but if you're using Java 8+ the following would be more elegant:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Statistics {\n\n  public static void main(String[] args) {\n    // implement user input if that's a requirement\n    IntStream input = new Random().ints(1000, 0, 1000000);\n\n    // statistics\n    IntSummaryStatistics statistics = input.summaryStatistics();\n\n    // avg, min, max\n    System.out.println(statistics.getAverage());\n    System.out.println(statistics.getMin());\n    System.out.println(statistics.getMax());\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26665245,"reputation":16,"user_id":20277437,"display_name":"Miguel Angel Mendez Esquivel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666141705,"creation_date":1666141705,"answer_id":74118878,"question_id":74115526,"body_markdown":"If you initilize your variables that you print with the results (min,max,average) the program has to work, but you have some mistakes in the code, if you change that, everything must to be ok :)\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Array1 {\r\n      public static void main(String[] args) {\r\n      Scanner keyboard=new Scanner(System.in); \r\n      int sum=0;\r\n      int min=0;\r\n      int max=0;\r\n      double average=0;\r\n      int[] A = new int[1000]; \r\n      for(int i=0;i&lt;A.length;i++)\r\n      {\r\n         A[i]=(int)(Math.random()*100);\r\n         }\r\n         min=A[0];\r\n         max=A[0];\r\n         for(int i=0;i&lt;A.length;i++){\r\n        System.out.print(A[i]+&quot; &quot;);\r\n        if(((i+1) % 10) == 0){\r\n            System.out.println();\r\n         }\r\n         sum=sum+A[i];  \r\n         if (A[i]&lt;min){\r\n            min=A[i];\r\n         }\r\n         if (A[i]&gt;max){\r\n            max=A[i];\r\n         }\r\n      }\r\n      average = sum / A.length;\r\n      \r\n      System.out.println(&quot;The average value is:&quot;+ average);\r\n      System.out.println(&quot;The minimum value is:&quot;+ min);\r\n      System.out.println(&quot;The maximum value is:&quot;+ max);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Find minimum, maximum and average of random number in java","body":"<p>If you initilize your variables that you print with the results (min,max,average) the program has to work, but you have some mistakes in the code, if you change that, everything must to be ok :)</p>\n<pre><code>import java.util.Scanner;\n\npublic class Array1 {\n  public static void main(String[] args) {\n  Scanner keyboard=new Scanner(System.in); \n  int sum=0;\n  int min=0;\n  int max=0;\n  double average=0;\n  int[] A = new int[1000]; \n  for(int i=0;i&lt;A.length;i++)\n  {\n     A[i]=(int)(Math.random()*100);\n     }\n     min=A[0];\n     max=A[0];\n     for(int i=0;i&lt;A.length;i++){\n    System.out.print(A[i]+&quot; &quot;);\n    if(((i+1) % 10) == 0){\n        System.out.println();\n     }\n     sum=sum+A[i];  \n     if (A[i]&lt;min){\n        min=A[i];\n     }\n     if (A[i]&gt;max){\n        max=A[i];\n     }\n  }\n  average = sum / A.length;\n  \n  System.out.println(&quot;The average value is:&quot;+ average);\n  System.out.println(&quot;The minimum value is:&quot;+ min);\n  System.out.println(&quot;The maximum value is:&quot;+ max);\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26592502,"reputation":1,"user_id":20215471,"display_name":"JFLeo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74118878,"answer_count":4,"score":-1,"last_activity_date":1666477884,"creation_date":1666116244,"question_id":74115526,"body_markdown":"I need to randomize 1000 numbers, and I want to find the average of all the numbers, the smallest and the largest number, but I can&#39;t output it. Here is my code:\r\n\r\n```lang-java\r\nimport java.util.Scanner;\r\n\r\npublic class Array1 {\r\n\r\n    public static void main(String[] args) { \r\n        Scanner keyboard = new Scanner(System.in); \r\n        int sum = 0;\r\n        int min;\r\n        int max;\r\n        double average;\r\n        int number = 0;\r\n        int[] A = new int[1000]; \r\n        for (int i = 0; i &lt; A.length; i++) {\r\n            A[i] = (int) (Math.random() * 100);\r\n            System.out.print(A[i] + &quot; &quot;);\r\n            if (((i + 1) % 10) == 0) {\r\n                System.out.println();\r\n            }\r\n            sum = sum + A[i];\r\n            average = sum / A.length;\r\n\r\n            min = A[0];\r\n            if (A[i] &lt; min) {\r\n                min = A[i];\r\n            }\r\n            max = A[0];\r\n            if (A[i] &gt; max) {\r\n                max = A[i];\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;The average value is:&quot; + average);\r\n        System.out.println(&quot;The minimum value is:&quot; + min);\r\n        System.out.println(&quot;The maximum value is:&quot; + max);\r\n    }\r\n}\r\n```\r\n\r\nI don&#39;t know how to fix it.","title":"Find minimum, maximum and average of random number in java","body":"<p>I need to randomize 1000 numbers, and I want to find the average of all the numbers, the smallest and the largest number, but I can't output it. Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Array1 {\n\n    public static void main(String[] args) { \n        Scanner keyboard = new Scanner(System.in); \n        int sum = 0;\n        int min;\n        int max;\n        double average;\n        int number = 0;\n        int[] A = new int[1000]; \n        for (int i = 0; i &lt; A.length; i++) {\n            A[i] = (int) (Math.random() * 100);\n            System.out.print(A[i] + &quot; &quot;);\n            if (((i + 1) % 10) == 0) {\n                System.out.println();\n            }\n            sum = sum + A[i];\n            average = sum / A.length;\n\n            min = A[0];\n            if (A[i] &lt; min) {\n                min = A[i];\n            }\n            max = A[0];\n            if (A[i] &gt; max) {\n                max = A[i];\n            }\n        }\n\n        System.out.println(&quot;The average value is:&quot; + average);\n        System.out.println(&quot;The minimum value is:&quot; + min);\n        System.out.println(&quot;The maximum value is:&quot; + max);\n    }\n}\n</code></pre>\n<p>I don't know how to fix it.</p>\n"},{"tags":["java","arraylist","collections","java-stream"],"comments":[{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":1,"creation_date":1645129856,"post_id":71164947,"comment_id":125795997,"body_markdown":"What do you mean by `order is important`?","body":"What do you mean by <code>order is important</code>?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1645130657,"post_id":71164947,"comment_id":125796274,"body_markdown":"You must have a for loop. Looking for `contains()` (which has the for loop)?","body":"You must have a for loop. Looking for <code>contains()</code> (which has the for loop)?"},{"owner":{"account_id":22027761,"reputation":186,"user_id":16295487,"display_name":"RafalLovesWorking"},"score":0,"creation_date":1645130683,"post_id":71164947,"comment_id":125796283,"body_markdown":"First email should contain first keyword, and so on, last email should contain last keyword","body":"First email should contain first keyword, and so on, last email should contain last keyword"},{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":0,"creation_date":1645131534,"post_id":71164947,"comment_id":125796557,"body_markdown":"Why do you not want to use a for-loop?","body":"Why do you not want to use a for-loop?"},{"owner":{"account_id":22027761,"reputation":186,"user_id":16295487,"display_name":"RafalLovesWorking"},"score":0,"creation_date":1645131891,"post_id":71164947,"comment_id":125796665,"body_markdown":"@MorganS42 \n`for (int i = 0; i &lt; substrings.size(); i++) {\n            strings.get(i).contains(substrings.get(i));\n        }`\nI wrote it like this, I am wondering if it can be done functional style","body":"@MorganS42  <code>for (int i = 0; i &lt; substrings.size(); i++) {             strings.get(i).contains(substrings.get(i));         }</code> I wrote it like this, I am wondering if it can be done functional style"},{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":0,"creation_date":1645131977,"post_id":71164947,"comment_id":125796683,"body_markdown":"Understood, you can use it with Java 8&#39;s streams, I will post an answer shortly.","body":"Understood, you can use it with Java 8&#39;s streams, I will post an answer shortly."},{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":1,"creation_date":1645132123,"post_id":71164947,"comment_id":125796731,"body_markdown":"@RafalLovesWorking do you want it to just return a boolean for whether all the emails contain their respective keyword, or do you want it to return what emails are missing their keyword?","body":"@RafalLovesWorking do you want it to just return a boolean for whether all the emails contain their respective keyword, or do you want it to return what emails are missing their keyword?"},{"owner":{"account_id":22027761,"reputation":186,"user_id":16295487,"display_name":"RafalLovesWorking"},"score":1,"creation_date":1645132284,"post_id":71164947,"comment_id":125796783,"body_markdown":"@MorganS42 I want it to return boolean","body":"@MorganS42 I want it to return boolean"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1645133394,"creation_date":1645132914,"answer_id":71165511,"question_id":71164947,"body_markdown":"First, it may be needed to check the size of both lists, then to compare corresponding list items, `IntStream` should be used:\r\n```java\r\npublic static boolean allKeywordsFound(List&lt;String&gt; emails, List&lt;String&gt; keywords) {\r\n    return emails.size() == keywords.size() &amp;&amp;\r\n        IntStream.range(0, emails.size())\r\n            .allMatch(i -&gt; emails.get(i).contains(keywords.get(i)));\r\n}\r\n```\r\n","title":"Check if one List&lt;String&gt; contains specific string from another list","body":"<p>First, it may be needed to check the size of both lists, then to compare corresponding list items, <code>IntStream</code> should be used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean allKeywordsFound(List&lt;String&gt; emails, List&lt;String&gt; keywords) {\n    return emails.size() == keywords.size() &amp;&amp;\n        IntStream.range(0, emails.size())\n            .allMatch(i -&gt; emails.get(i).contains(keywords.get(i)));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1645137127,"post_id":71165883,"comment_id":125798243,"body_markdown":"`forEach(Consumer)` is part of the `Iterable` interface and the default implementation is also just using a normal for-loop which calls the `Consumer`s `accept` method in each iteration. I&#39;m not saying your version is better or worse, but it is very close to a traditional loop and is not part of the `Stream API`.","body":"<code>forEach(Consumer)</code> is part of the <code>Iterable</code> interface and the default implementation is also just using a normal for-loop which calls the <code>Consumer</code>s <code>accept</code> method in each iteration. I&#39;m not saying your version is better or worse, but it is very close to a traditional loop and is not part of the <code>Stream API</code>."}],"tags":[],"owner":{"account_id":14402529,"reputation":911,"user_id":10403679,"display_name":"Amine"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645135074,"creation_date":1645135074,"answer_id":71165883,"question_id":71164947,"body_markdown":"I see that others correctly answered your question but here&#39;s my take on the issue.\r\nI presume you want the emails to be checked in order so here&#39;s a piece of code that uses `Stream API` instead of a `for` loop, I also put together the emails list and the result into a `Map` since you didn&#39;t specify whether you want the resulting `boolean` value to be for all the emails together or if you want a boolean value for each email containing the same-position keyword:\r\n\r\n    //mock data initialization\r\n    List&lt;String&gt; emails = new ArrayList&lt;&gt;();\r\n    List&lt;String&gt; keywords = new ArrayList&lt;&gt;();\r\n    \r\n    //mock data initialization\r\n    emails.add(&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua&quot;);\r\n    emails.add(&quot;eu lobortis elementum nibh tellus molestie nunc non blandit massa enim nec dui nunc mattis enim ut tellus elementum sagittis&quot;);\r\n    emails.add(&quot;Dignissim suspendisse in est ante in nibh mauris&quot;);\r\n    \r\n    //mock data initialization\r\n    keywords.add(&quot;consectetur&quot;);\r\n    keywords.add(&quot;Foo&quot;);\r\n    keywords.add(&quot;Dignissim&quot;);\r\n    \r\n    //initialized a list to contain whether a keyword exists for each email\r\n    List&lt;Boolean&gt; exists = new ArrayList&lt;&gt;();\r\n    \r\n    //loaded it with boolean values (the exists List has the same order as the emails list)\r\n    emails.forEach(email -&gt; exists.add(email\r\n                .contains(keywords\r\n                        .get(emails\r\n                                .indexOf(email)))));\r\n    \r\n    //since I don&#39;t know what you wanna do with the result, I decided to just put them together in a Map\r\n    //with the email string as the key and the existence variable as a value\r\n    LinkedHashMap mapOfTruth = new LinkedHashMap();\r\n    emails.forEach(email -&gt; mapOfTruth.put(email, exists.get(emails.indexOf(email))));\r\n\r\n**Output**\r\n\r\n    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua = true\r\n    eu lobortis elementum nibh tellus molestie nunc non blandit massa enim nec dui nunc mattis enim ut tellus elementum sagittis = false\r\n    Dignissim suspendisse in est ante in nibh mauris = true","title":"Check if one List&lt;String&gt; contains specific string from another list","body":"<p>I see that others correctly answered your question but here's my take on the issue.\nI presume you want the emails to be checked in order so here's a piece of code that uses <code>Stream API</code> instead of a <code>for</code> loop, I also put together the emails list and the result into a <code>Map</code> since you didn't specify whether you want the resulting <code>boolean</code> value to be for all the emails together or if you want a boolean value for each email containing the same-position keyword:</p>\n<pre><code>//mock data initialization\nList&lt;String&gt; emails = new ArrayList&lt;&gt;();\nList&lt;String&gt; keywords = new ArrayList&lt;&gt;();\n\n//mock data initialization\nemails.add(&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua&quot;);\nemails.add(&quot;eu lobortis elementum nibh tellus molestie nunc non blandit massa enim nec dui nunc mattis enim ut tellus elementum sagittis&quot;);\nemails.add(&quot;Dignissim suspendisse in est ante in nibh mauris&quot;);\n\n//mock data initialization\nkeywords.add(&quot;consectetur&quot;);\nkeywords.add(&quot;Foo&quot;);\nkeywords.add(&quot;Dignissim&quot;);\n\n//initialized a list to contain whether a keyword exists for each email\nList&lt;Boolean&gt; exists = new ArrayList&lt;&gt;();\n\n//loaded it with boolean values (the exists List has the same order as the emails list)\nemails.forEach(email -&gt; exists.add(email\n            .contains(keywords\n                    .get(emails\n                            .indexOf(email)))));\n\n//since I don't know what you wanna do with the result, I decided to just put them together in a Map\n//with the email string as the key and the existence variable as a value\nLinkedHashMap mapOfTruth = new LinkedHashMap();\nemails.forEach(email -&gt; mapOfTruth.put(email, exists.get(emails.indexOf(email))));\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua = true\neu lobortis elementum nibh tellus molestie nunc non blandit massa enim nec dui nunc mattis enim ut tellus elementum sagittis = false\nDignissim suspendisse in est ante in nibh mauris = true\n</code></pre>\n"}],"owner":{"account_id":22027761,"reputation":186,"user_id":16295487,"display_name":"RafalLovesWorking"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":938,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":71165511,"answer_count":2,"score":-2,"last_activity_date":1666477207,"creation_date":1645129639,"question_id":71164947,"body_markdown":"I have a `List&lt;String&gt; emails` containing emails, of length `n` , and another `List&lt;String&gt; keywords` for containing keywords, of the same length. These lists should meet following condition: For each index `i` `emails.get(i).contains(keywords.get(i))`\r\n\r\nSo, if `emails.get(0) == &quot;quick brown fox&quot;`, then `keywords.get(0) == &quot;fox&quot;`.\r\n\r\nif `emails.get(5) == &quot;foo bar&quot;`, then `keywords.get(5) == &quot;foo&quot;`.\r\n\r\nHow can I check (other than `for` loop) that each email contains a keyword?","title":"Check if one List&lt;String&gt; contains specific string from another list","body":"<p>I have a <code>List&lt;String&gt; emails</code> containing emails, of length <code>n</code> , and another <code>List&lt;String&gt; keywords</code> for containing keywords, of the same length. These lists should meet following condition: For each index <code>i</code> <code>emails.get(i).contains(keywords.get(i))</code></p>\n<p>So, if <code>emails.get(0) == &quot;quick brown fox&quot;</code>, then <code>keywords.get(0) == &quot;fox&quot;</code>.</p>\n<p>if <code>emails.get(5) == &quot;foo bar&quot;</code>, then <code>keywords.get(5) == &quot;foo&quot;</code>.</p>\n<p>How can I check (other than <code>for</code> loop) that each email contains a keyword?</p>\n"},{"tags":["java","hibernate"],"answers":[{"comments":[{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1374611023,"post_id":17820128,"comment_id":26005941,"body_markdown":"Thanks @Andre (+1) - 2 followups for you: (1) so it sounds like I can just throw `slf4j-api`, `log4j-over-slf4j` and `slf4j-mybinding` on the runtime classpath, and now all Hibernate logging statements will get sent to the `slf4j-mybinding` binding, yes? And (2) if I&#39;m running on Tomcat (which uses DBCP) and specify Hibernate to use a JNDI data source, wouldn&#39;t Hibernate just grab the data source from Tomcat&#39;s JNDI, which in turn would be a DBCP pooled data source? Why would I need to implement my own JTA data source or connection provider? Thanks again!","body":"Thanks @Andre (+1) - 2 followups for you: (1) so it sounds like I can just throw <code>slf4j-api</code>, <code>log4j-over-slf4j</code> and <code>slf4j-mybinding</code> on the runtime classpath, and now all Hibernate logging statements will get sent to the <code>slf4j-mybinding</code> binding, yes? And (2) if I&#39;m running on Tomcat (which uses DBCP) and specify Hibernate to use a JNDI data source, wouldn&#39;t Hibernate just grab the data source from Tomcat&#39;s JNDI, which in turn would be a DBCP pooled data source? Why would I need to implement my own JTA data source or connection provider? Thanks again!"},{"owner":{"account_id":1004882,"reputation":2184,"user_id":1018903,"display_name":"Andr&#233;"},"score":0,"creation_date":1374611742,"post_id":17820128,"comment_id":26006330,"body_markdown":"The the JTA one, that is what I mean. You can grab the data source from Tomcat&#39;s JNDI, which in turn would be a DBCP pooled data source. \nFor the logging, I believe so. :)","body":"The the JTA one, that is what I mean. You can grab the data source from Tomcat&#39;s JNDI, which in turn would be a DBCP pooled data source.  For the logging, I believe so. :)"}],"tags":[],"owner":{"account_id":1004882,"reputation":2184,"user_id":1018903,"display_name":"Andr&#233;"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1374610285,"creation_date":1374610285,"answer_id":17820128,"question_id":17819750,"body_markdown":"+ Hibernate now uses jboss-logging, refer to: https://stackoverflow.com/questions/11639997/how-do-you-configure-logging-in-hibernate-4\r\n\r\n+ I never heard of others, I&#39;m sure they are good for most of use cases. If you want to use Tomcat/DBCP you can use as a JTA datasource. I don&#39;t think there is a connection provider for hibernate 3 or 4. Source: http://wiki.apache.org/commons/DBCP/Hibernate\r\n\r\n+ If you want to use the HibernateEntityManager instead the javax.persistence.EntityManager, you can have the jar on your classpath and code with it.\r\n\r\n+ Envers is an &quot;automagical&quot; auditing/versioning extension, where you annotate the Entities with `@Audited` and during the transaction, the changes would be also persisted. There is more here http://www.jboss.org/envers.","title":"Hibernate optional dependencies","body":"<ul>\n<li><p>Hibernate now uses jboss-logging, refer to: <a href=\"https://stackoverflow.com/questions/11639997/how-do-you-configure-logging-in-hibernate-4\">How do you configure logging in Hibernate 4 to use SLF4J</a></p></li>\n<li><p>I never heard of others, I'm sure they are good for most of use cases. If you want to use Tomcat/DBCP you can use as a JTA datasource. I don't think there is a connection provider for hibernate 3 or 4. Source: <a href=\"http://wiki.apache.org/commons/DBCP/Hibernate\" rel=\"nofollow noreferrer\">http://wiki.apache.org/commons/DBCP/Hibernate</a></p></li>\n<li><p>If you want to use the HibernateEntityManager instead the javax.persistence.EntityManager, you can have the jar on your classpath and code with it.</p></li>\n<li><p>Envers is an \"automagical\" auditing/versioning extension, where you annotate the Entities with <code>@Audited</code> and during the transaction, the changes would be also persisted. There is more here <a href=\"http://www.jboss.org/envers\" rel=\"nofollow noreferrer\">http://www.jboss.org/envers</a>.</p></li>\n</ul>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":17820128,"answer_count":1,"score":0,"last_activity_date":1666476399,"creation_date":1374609095,"question_id":17819750,"body_markdown":"I just downloaded Hibernate 4.2.3 Final and see that it has several optional libraries, though I&#39;m not sure what it uses them for or under what circumstances they are needed/desired:\r\n\r\n * `jboss-logging-3.1.0.GA.jar` - is this a native SLF4J binding? Is there a way to have Hibernate *not* use this for logging, and instead use SLF4J and a different binding? If so, how?\r\n * C3P0 and Proxool JARs are also optionally included; are these the only two connection pool frameworks that Hibernate can be configured to use? What if I wanted to use, day, BoneCP? What if I wanted to let JNDI (Tomcat/DBCP) decide what connection pool to use?\r\n * What is `hibernate-entitymanager`?\r\n * What is `hibernate-envers`?\r\n","title":"Hibernate optional dependencies","body":"<p>I just downloaded Hibernate 4.2.3 Final and see that it has several optional libraries, though I'm not sure what it uses them for or under what circumstances they are needed/desired:</p>\n<ul>\n<li><code>jboss-logging-3.1.0.GA.jar</code> - is this a native SLF4J binding? Is there a way to have Hibernate <em>not</em> use this for logging, and instead use SLF4J and a different binding? If so, how?</li>\n<li>C3P0 and Proxool JARs are also optionally included; are these the only two connection pool frameworks that Hibernate can be configured to use? What if I wanted to use, day, BoneCP? What if I wanted to let JNDI (Tomcat/DBCP) decide what connection pool to use?</li>\n<li>What is <code>hibernate-entitymanager</code>?</li>\n<li>What is <code>hibernate-envers</code>?</li>\n</ul>\n"},{"tags":["java","hibernate","classpath","configuration-files"],"comments":[{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1374611269,"post_id":17819951,"comment_id":26006076,"body_markdown":"Thanks @shevchik (+1) - can you provide an answer that gives an example of such annotations? **Very interested!**","body":"Thanks @shevchik (+1) - can you provide an answer that gives an example of such annotations? <b>Very interested!</b>"},{"owner":{"account_id":912782,"reputation":38886,"user_id":946224,"accept_rate":88,"display_name":"Sergii Shevchyk"},"score":0,"creation_date":1374611448,"post_id":17819951,"comment_id":26006165,"body_markdown":"http://loianegroner.com/2010/06/hibernate-3-annotations-tutorial/","body":"<a href=\"http://loianegroner.com/2010/06/hibernate-3-annotations-tutorial/\" rel=\"nofollow noreferrer\">loianegroner.com/2010/06/hibernate-3-annotations-tutorial</a>"},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1374611527,"post_id":17819951,"comment_id":26006216,"body_markdown":"Thanks again @shevchik but in that article there are no annotations that help bind a POJO/entity to a specific mapping XML file...","body":"Thanks again @shevchik but in that article there are no annotations that help bind a POJO/entity to a specific mapping XML file..."},{"owner":{"account_id":912782,"reputation":38886,"user_id":946224,"accept_rate":88,"display_name":"Sergii Shevchyk"},"score":1,"creation_date":1374611708,"post_id":17819951,"comment_id":26006314,"body_markdown":"You don&#39;t need XML mapping. you just annotate pojo classes and mapping is ready","body":"You don&#39;t need XML mapping. you just annotate pojo classes and mapping is ready"},{"owner":{"account_id":912782,"reputation":38886,"user_id":946224,"accept_rate":88,"display_name":"Sergii Shevchyk"},"score":0,"creation_date":1374611812,"post_id":17819951,"comment_id":26006377,"body_markdown":"http://viralpatel.net/blogs/hibernate-hello-world-example-annotation/","body":"<a href=\"http://viralpatel.net/blogs/hibernate-hello-world-example-annotation/\" rel=\"nofollow noreferrer\">viralpatel.net/blogs/hibernate-hello-world-example-annotatio&zwnj;&#8203;n</a>"},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1374611927,"post_id":17819951,"comment_id":26006446,"body_markdown":"Thanks again @shevchik - if you include an answer for using annotations I&#39;ll happily give you the green check!","body":"Thanks again @shevchik - if you include an answer for using annotations I&#39;ll happily give you the green check!"}],"answers":[{"comments":[{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1374611591,"post_id":17820358,"comment_id":26006249,"body_markdown":"Thanks @Alexey (+1) - but let&#39;s say I&#39;m executing this `Configuration.addDirectory(...)` from inside a JAR, and let&#39;s say that the `src/main/config/hibernate/**/*.hbm.xml` files all get stored to that JAR&#39;s `com` directory (`somejar.jar/com`). **How would I reference a `File` from inside the same JAR that I&#39;m in?!?** Thanks again!","body":"Thanks @Alexey (+1) - but let&#39;s say I&#39;m executing this <code>Configuration.addDirectory(...)</code> from inside a JAR, and let&#39;s say that the <code>src&#47;main&#47;config&#47;hibernate&#47;**&#47;*.hbm.xml</code> files all get stored to that JAR&#39;s <code>com</code> directory (<code>somejar.jar&#47;com</code>). <b>How would I reference a <code>File</code> from inside the same JAR that I&#39;m in?!?</b> Thanks again!"}],"tags":[],"owner":{"display_name":"user1134181"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374611127,"creation_date":1374611127,"answer_id":17820358,"question_id":17819951,"body_markdown":"Use the `Configuration.addDirectory( )`.\r\n\r\nSee also [http://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/cfg/Configuration.html#addDirectory%28java.io.File%29][1]\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/cfg/Configuration.html#addDirectory%28java.io.File%29","title":"Alternative locations for Hibernate mapping files?","body":"<p>Use the <code>Configuration.addDirectory( )</code>.</p>\n\n<p>See also <a href=\"http://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/cfg/Configuration.html#addDirectory%28java.io.File%29\" rel=\"nofollow\">http://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/cfg/Configuration.html#addDirectory%28java.io.File%29</a></p>\n"},{"tags":[],"owner":{"account_id":912782,"reputation":38886,"user_id":946224,"accept_rate":88,"display_name":"Sergii Shevchyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1374612477,"creation_date":1374612477,"answer_id":17820771,"question_id":17819951,"body_markdown":"There are 2 ways to map Pojo class to hibernate entity:\r\n\r\n1. XML mapping\r\n2. Using annotations\r\n\r\nAnnotations becomes more prevalent last years.\r\nSome examples you could find here:\r\n\r\n [example1][1]\r\n\r\n[example2][2]\r\n\r\n\r\n  [1]: http://viralpatel.net/blogs/hibernate-hello-world-example-annotation/\r\n  [2]: http://loianegroner.com/2010/06/hibernate-3-annotations-tutorial/","title":"Alternative locations for Hibernate mapping files?","body":"<p>There are 2 ways to map Pojo class to hibernate entity:</p>\n\n<ol>\n<li>XML mapping</li>\n<li>Using annotations</li>\n</ol>\n\n<p>Annotations becomes more prevalent last years.\nSome examples you could find here:</p>\n\n<p><a href=\"http://viralpatel.net/blogs/hibernate-hello-world-example-annotation/\" rel=\"nofollow\">example1</a></p>\n\n<p><a href=\"http://loianegroner.com/2010/06/hibernate-3-annotations-tutorial/\" rel=\"nofollow\">example2</a></p>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":17820771,"answer_count":2,"score":0,"last_activity_date":1666476385,"creation_date":1374609703,"question_id":17819951,"body_markdown":"I just read an introductory tutorial on Hibernate that had all the mapping files inside the same source directory of the entities they represented:\r\n\r\n    TestProject/\r\n        src/main/java/\r\n            com.hibernate.tutorial.entities\r\n                Student.java\r\n                Student.hbm.xml\r\n\r\n                Course.java\r\n                Course.hbm.xml\r\n\r\netc. Normally, I like to place config files under `src/main/config`, and so ideally I&#39;d like to have the following project directory structure:\r\n\r\n    TestProject/\r\n        src/main/java/\r\n            com.hibernate.tutorial.entities\r\n                Student.java\r\n                Course.java\r\n        src/main/config\r\n            hibernate/\r\n                Student.hbm.xml\r\n                Course.hbm.xml\r\n\r\nIs there a way to do this, and if so, how?\r\n","title":"Alternative locations for Hibernate mapping files?","body":"<p>I just read an introductory tutorial on Hibernate that had all the mapping files inside the same source directory of the entities they represented:</p>\n<pre><code>TestProject/\n    src/main/java/\n        com.hibernate.tutorial.entities\n            Student.java\n            Student.hbm.xml\n\n            Course.java\n            Course.hbm.xml\n</code></pre>\n<p>etc. Normally, I like to place config files under <code>src/main/config</code>, and so ideally I'd like to have the following project directory structure:</p>\n<pre><code>TestProject/\n    src/main/java/\n        com.hibernate.tutorial.entities\n            Student.java\n            Course.java\n    src/main/config\n        hibernate/\n            Student.hbm.xml\n            Course.hbm.xml\n</code></pre>\n<p>Is there a way to do this, and if so, how?</p>\n"},{"tags":["java","hibernate","xsd","classpath","dtd"],"comments":[{"owner":{"account_id":2429541,"reputation":168,"user_id":2120773,"display_name":"J&#233;r&#233;my Buget"},"score":0,"creation_date":1374610899,"post_id":17820185,"comment_id":26005868,"body_markdown":"Does [this thread][1] help you ? ;-)\r\n\r\n\r\n  [1]: http://stackoverflow.com/a/11410346/2120773","body":"Does [this thread][1] help you ? ;-)        [1]: <a href=\"http://stackoverflow.com/a/11410346/2120773\">stackoverflow.com/a/11410346/2120773</a>"},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1374611336,"post_id":17820185,"comment_id":26006109,"body_markdown":"@J.Buget - that link is the same exact link as what I posted above in my original question.","body":"@J.Buget - that link is the same exact link as what I posted above in my original question."}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666476370,"creation_date":1374610496,"question_id":17820185,"body_markdown":"I just downloaded Hibernate 4.2.3, which allows you to use their 4.0 XSD Schema instead of the 3.0 DTD. This XSD schema is packaged inside Hibernate&#39;s core library.\r\n\r\nI happened to come across [this SO question](https://stackoverflow.com/questions/10886453/hibernate-issue-with-using-http-www-hibernate-org-dtd) where the user was having bizarre errors when using Hibernate. The root issue was that, periodically, the Hibernate site would go down, and so the DTD URL would fail and throw exceptions.\r\n\r\nThe accepted answer proposed in that question was to actually load the DTD from the classpath and **not** from the DTD URL, since the Hibernate core JAR contains the 3.0 DTD in it as well.\r\n\r\nI&#39;d like to do the same, but using the 4.0 XSD instead of the 3.0 DTD, and nowhere in the Hibernate docs do I see any mention or example of this `classpath://` protocol.\r\n\r\nSo I ask: how do I load the 4.0 XSD Schema from the classpath rather than from a URL, in a manner that is similar to what the linked question above proposed for the 3.0 DTD?\r\n","title":"Load Hibernate 4.0 Schema from classpath?","body":"<p>I just downloaded Hibernate 4.2.3, which allows you to use their 4.0 XSD Schema instead of the 3.0 DTD. This XSD schema is packaged inside Hibernate's core library.</p>\n<p>I happened to come across <a href=\"https://stackoverflow.com/questions/10886453/hibernate-issue-with-using-http-www-hibernate-org-dtd\">this SO question</a> where the user was having bizarre errors when using Hibernate. The root issue was that, periodically, the Hibernate site would go down, and so the DTD URL would fail and throw exceptions.</p>\n<p>The accepted answer proposed in that question was to actually load the DTD from the classpath and <strong>not</strong> from the DTD URL, since the Hibernate core JAR contains the 3.0 DTD in it as well.</p>\n<p>I'd like to do the same, but using the 4.0 XSD instead of the 3.0 DTD, and nowhere in the Hibernate docs do I see any mention or example of this <code>classpath://</code> protocol.</p>\n<p>So I ask: how do I load the 4.0 XSD Schema from the classpath rather than from a URL, in a manner that is similar to what the linked question above proposed for the 3.0 DTD?</p>\n"},{"tags":["java","hibernate","generics","jpa","entitymanager"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1374613244,"post_id":17820960,"comment_id":26007177,"body_markdown":"Those methods have completely different purposes.","body":"Those methods have completely different purposes."},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1374613443,"post_id":17820960,"comment_id":26007273,"body_markdown":"Thanks @SotiriosDelimanolis (+1) - so is it the case that Hibernate cannot be used with EntityManager? If so, why and what are the &quot;completely different purposes&quot;? Or, is it the case that it can be used with EntityManager, in which case, can you direct me to any documentation that explains how to use the two together? Thanks again!","body":"Thanks @SotiriosDelimanolis (+1) - so is it the case that Hibernate cannot be used with EntityManager? If so, why and what are the &quot;completely different purposes&quot;? Or, is it the case that it can be used with EntityManager, in which case, can you direct me to any documentation that explains how to use the two together? Thanks again!"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1374613536,"post_id":17820960,"comment_id":26007312,"body_markdown":"I think what you&#39;re looking for is Hibernate&#39;s `Session`. It serves the same purpose as an `EntityManager`. `Session` has a `createQuery` method that uses HQL to create a `Query` object. You can then call `list()` on that object.","body":"I think what you&#39;re looking for is Hibernate&#39;s <code>Session</code>. It serves the same purpose as an <code>EntityManager</code>. <code>Session</code> has a <code>createQuery</code> method that uses HQL to create a <code>Query</code> object. You can then call <code>list()</code> on that object."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1374613660,"post_id":17820960,"comment_id":26007366,"body_markdown":"Oh, it appears to me you already know all this.","body":"Oh, it appears to me you already know all this."},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1374613733,"post_id":17820960,"comment_id":26007419,"body_markdown":"Yep ;-) Thanks again @SotiriosDelimanolis - so any ideas as to how to link these 2 ideas together, so I don&#39;t have to keep adding `@SuppressWarnings` all over my code?","body":"Yep ;-) Thanks again @SotiriosDelimanolis - so any ideas as to how to link these 2 ideas together, so I don&#39;t have to keep adding <code>@SuppressWarnings</code> all over my code?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1374613880,"post_id":17820960,"comment_id":26007506,"body_markdown":"There&#39;s a `hibernate-entitymanager` project on [maven](http://mvnrepository.com/artifact/org.hibernate/hibernate-entitymanager). It might be Hibernate&#39;s implementation of that interface. Maybe that is what you&#39;re looking for.","body":"There&#39;s a <code>hibernate-entitymanager</code> project on <a href=\"http://mvnrepository.com/artifact/org.hibernate/hibernate-entitymanager\" rel=\"nofollow noreferrer\">maven</a>. It might be Hibernate&#39;s implementation of that interface. Maybe that is what you&#39;re looking for."},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1374614797,"post_id":17820960,"comment_id":26007987,"body_markdown":"Yes @SotiriosDelimanolis that&#39;s *exactly* what I&#39;m looking for. I&#39;m trying to figure out how to use the `EntityManager` API (at runtime I&#39;ll be using the `hibernate-entitymanager` JAR that you mentioned) and Hibernate to create a properly-genericized Query object.","body":"Yes @SotiriosDelimanolis that&#39;s <i>exactly</i> what I&#39;m looking for. I&#39;m trying to figure out how to use the <code>EntityManager</code> API (at runtime I&#39;ll be using the <code>hibernate-entitymanager</code> JAR that you mentioned) and Hibernate to create a properly-genericized Query object."}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666476354,"creation_date":1374613157,"question_id":17820960,"body_markdown":"I recently had a similar issue as [this SOer had](https://stackoverflow.com/questions/115692/how-to-avoid-type-safety-warnings-with-hibernate-hql-results), where I was using Hibernate&#39;s `Query#list` object and getting compiler warnings for type safety.\r\n\r\nSomeone pointed out to me that I could use [`EntityManager#createQuery(String,Class&lt;?&gt;)`](http://docs.oracle.com/javaee/6/api/javax/persistence/EntityManager.html#createQuery%28java.lang.String,%20java.lang.Class%29) instead of Query#list to accomplish the same thing but have everything genericized correctly.\r\n\r\nI&#39;ve been searching for examples of using Hibernate directly with `EntityManager` but so far no luck. So I ask: how can I use the `EntityManager#createQuery` method in lieu of the `Query#list` method when doing a SELECT from Hibernate?\r\n","title":"How to user Hibernate with EntityManager instead of Query?","body":"<p>I recently had a similar issue as <a href=\"https://stackoverflow.com/questions/115692/how-to-avoid-type-safety-warnings-with-hibernate-hql-results\">this SOer had</a>, where I was using Hibernate's <code>Query#list</code> object and getting compiler warnings for type safety.</p>\n<p>Someone pointed out to me that I could use <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/EntityManager.html#createQuery%28java.lang.String,%20java.lang.Class%29\" rel=\"nofollow noreferrer\"><code>EntityManager#createQuery(String,Class&lt;?&gt;)</code></a> instead of Query#list to accomplish the same thing but have everything genericized correctly.</p>\n<p>I've been searching for examples of using Hibernate directly with <code>EntityManager</code> but so far no luck. So I ask: how can I use the <code>EntityManager#createQuery</code> method in lieu of the <code>Query#list</code> method when doing a SELECT from Hibernate?</p>\n"},{"tags":["java","dependency-injection","inversion-of-control","guice"],"answers":[{"comments":[{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1378220982,"post_id":18595282,"comment_id":27367188,"body_markdown":"Thanks @Tavian Barnes (+1) - 1 followup question for you: regarding #5 (Provider methods), I&#39;m still not understanding a proper use case for them. Say I have a `RabbitMQConnection` class that can only be properly configured by calling its no-arg ctor and then setting a bunch of fields with various `setXXX(...)` calls. Why can&#39;t I just create this `RabbitMQConnection` instance and then use `toInstance()`? What benefit does a provider or `@Provides` method give me over `bind(RabbitMQConnection.class).toInstance(myRabbitMQConn)`?","body":"Thanks @Tavian Barnes (+1) - 1 followup question for you: regarding #5 (Provider methods), I&#39;m still not understanding a proper use case for them. Say I have a <code>RabbitMQConnection</code> class that can only be properly configured by calling its no-arg ctor and then setting a bunch of fields with various <code>setXXX(...)</code> calls. Why can&#39;t I just create this <code>RabbitMQConnection</code> instance and then use <code>toInstance()</code>? What benefit does a provider or <code>@Provides</code> method give me over <code>bind(RabbitMQConnection.class).toInstance(myRabbitMQConn)</code>?"},{"owner":{"account_id":235528,"reputation":12642,"user_id":502399,"accept_rate":67,"display_name":"Tavian Barnes"},"score":0,"creation_date":1378222251,"post_id":18595282,"comment_id":27367931,"body_markdown":"One main benefit would be lazy instantiation in `Stage.DEVELOPMENT`. Another benefit is that `toInstance` can&#39;t support non-singleton scopes.","body":"One main benefit would be lazy instantiation in <code>Stage.DEVELOPMENT</code>. Another benefit is that <code>toInstance</code> can&#39;t support non-singleton scopes."},{"owner":{"account_id":211270,"reputation":10872,"user_id":463324,"accept_rate":77,"display_name":"condit"},"score":0,"creation_date":1378235666,"post_id":18595282,"comment_id":27374670,"body_markdown":"@IAmYourFaja injecting `Providers` allows you to get multiple instances of Guice created classes (by calling `get` repeatedly). It will also allow you to mix scopes (ie getting session or request scoped objects inside a servlet)","body":"@IAmYourFaja injecting <code>Providers</code> allows you to get multiple instances of Guice created classes (by calling <code>get</code> repeatedly). It will also allow you to mix scopes (ie getting session or request scoped objects inside a servlet)"}],"tags":[],"owner":{"account_id":235528,"reputation":12642,"user_id":502399,"accept_rate":67,"display_name":"Tavian Barnes"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1378219693,"creation_date":1378219693,"answer_id":18595282,"question_id":18594189,"body_markdown":" 1. Either the public no-argument constructor is used, or an @Inject-annotated constructor (that would be recommended).  A new instance is returned every time, unless you specify a scope on ServiceImpl (either by a later `bind(ServiceImpl.class).in(...)` line or an `@Singleton` annotation on `ServiceImpl`.\r\n 2. In this case, the same `impl` instance is used for every injection of `Service`\r\n 3. That is a compile error, for good reason -- you can&#39;t specify a scope on a `toInstance` binding.\r\n 4. `bindConstant()` should be used for things like configuration parameters that are primitive or String types.  For more information, see [this answer][1].\r\n 5. `@Provides` methods are simply a shorter way of writing `Provider&lt;&gt;`s. If you don&#39;t have a need for them, don&#39;t use them. They should generally be used if creating an object is more complicated than a simple constructor call.\r\n\r\n[1]: https://stackoverflow.com/questions/4165506/guice-difference-between-binderbindconstant-and-binderbind-toinstance","title":"Guice Binding API by Example","body":"<ol>\n<li>Either the public no-argument constructor is used, or an @Inject-annotated constructor (that would be recommended).  A new instance is returned every time, unless you specify a scope on ServiceImpl (either by a later <code>bind(ServiceImpl.class).in(...)</code> line or an <code>@Singleton</code> annotation on <code>ServiceImpl</code>.</li>\n<li>In this case, the same <code>impl</code> instance is used for every injection of <code>Service</code></li>\n<li>That is a compile error, for good reason -- you can't specify a scope on a <code>toInstance</code> binding.</li>\n<li><code>bindConstant()</code> should be used for things like configuration parameters that are primitive or String types.  For more information, see <a href=\"https://stackoverflow.com/questions/4165506/guice-difference-between-binderbindconstant-and-binderbind-toinstance\">this answer</a>.</li>\n<li><code>@Provides</code> methods are simply a shorter way of writing <code>Provider&lt;&gt;</code>s. If you don't have a need for them, don't use them. They should generally be used if creating an object is more complicated than a simple constructor call.</li>\n</ol>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18595282,"answer_count":1,"score":1,"last_activity_date":1666476336,"creation_date":1378216589,"question_id":18594189,"body_markdown":"I have read several articles and tutorials on Guice (3.0), and now have a few lingering questions before I can &quot;tie it all together&quot;.\r\n\r\n    // 1. Binds via public, no-arg &quot;ServiceImpl()&quot; ctor?\r\n    bind(Service.class).to(ServiceImpl.class);\r\n\r\n    // 2. Every client-side request for a Service instance returns the same\r\n    //    ServiceImpl instance?\r\n    ServiceImpl impl = new ServiceImpl(...);\r\n    bind(Service.class).toInstance(impl);\r\n\r\n    // 3. Every client-side request for a Service instance returns the same\r\n    //    SINGLETON ServiceImpl instance?\r\n    ServiceImpl impl = new ServiceImpl(...);\r\n    bind(Service.class).in(Scopes.SINGLETON).toInstance(impl);\r\n\r\n    // 4. Should this be a call too bindConstant() instead of toInstance()\r\n    //    instead? If so, how/why?\r\n    Integer timeout = 1000 * 60;   // 60 seconds\r\n    bind(Integer.class).named(Names.named(&quot;TIMEOUT&quot;)).toInstance(timeout);\r\n\r\nSo my questions, as implied by the code snippet above:\r\n\r\n 1. When using `to(...)`, I assume the public no-arg ctor is used, and a new instance is returned every time?\r\n 2. Per #2 above, is the same `impl` instance used for ever `Service.class` request, or is a new one returned?\r\n 3. Same as #3 above, but now with `Scopes.SINGLETON` specified.\r\n 4. Is the above code OK or should I be using `bindConstant()`? If so, how/why?\r\n 5. Under what circumstances should I be using so-called [**provider methods**](http://code.google.com/p/google-guice/wiki/InjectingProviders)? I *sort of* understand the example on that page, but am now choking when it comes to finding a real-world use case for them in my code.\r\n","title":"Guice Binding API by Example","body":"<p>I have read several articles and tutorials on Guice (3.0), and now have a few lingering questions before I can &quot;tie it all together&quot;.</p>\n<pre><code>// 1. Binds via public, no-arg &quot;ServiceImpl()&quot; ctor?\nbind(Service.class).to(ServiceImpl.class);\n\n// 2. Every client-side request for a Service instance returns the same\n//    ServiceImpl instance?\nServiceImpl impl = new ServiceImpl(...);\nbind(Service.class).toInstance(impl);\n\n// 3. Every client-side request for a Service instance returns the same\n//    SINGLETON ServiceImpl instance?\nServiceImpl impl = new ServiceImpl(...);\nbind(Service.class).in(Scopes.SINGLETON).toInstance(impl);\n\n// 4. Should this be a call too bindConstant() instead of toInstance()\n//    instead? If so, how/why?\nInteger timeout = 1000 * 60;   // 60 seconds\nbind(Integer.class).named(Names.named(&quot;TIMEOUT&quot;)).toInstance(timeout);\n</code></pre>\n<p>So my questions, as implied by the code snippet above:</p>\n<ol>\n<li>When using <code>to(...)</code>, I assume the public no-arg ctor is used, and a new instance is returned every time?</li>\n<li>Per #2 above, is the same <code>impl</code> instance used for ever <code>Service.class</code> request, or is a new one returned?</li>\n<li>Same as #3 above, but now with <code>Scopes.SINGLETON</code> specified.</li>\n<li>Is the above code OK or should I be using <code>bindConstant()</code>? If so, how/why?</li>\n<li>Under what circumstances should I be using so-called <a href=\"http://code.google.com/p/google-guice/wiki/InjectingProviders\" rel=\"nofollow noreferrer\"><strong>provider methods</strong></a>? I <em>sort of</em> understand the example on that page, but am now choking when it comes to finding a real-world use case for them in my code.</li>\n</ol>\n"},{"tags":["java","dependency-injection","guice"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":1,"creation_date":1378241734,"post_id":18599564,"comment_id":27377747,"body_markdown":"Local variables can&#39;t receive parameters, so your `@Named(&quot;TIMEOUT&quot;) int t` variable in DefaultCacheAdaptor&#39;s constructor probably actually looks like `int t = injector.getInstance(Integer.class, Names.named(&quot;TIMEOUT&quot;));`.","body":"Local variables can&#39;t receive parameters, so your <code>@Named(&quot;TIMEOUT&quot;) int t</code> variable in DefaultCacheAdaptor&#39;s constructor probably actually looks like <code>int t = injector.getInstance(Integer.class, Names.named(&quot;TIMEOUT&quot;));</code>."},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1378242072,"post_id":18599564,"comment_id":27377909,"body_markdown":"Thanks @JeffBowman (+1) - I haven&#39;t actually ran this code yet. It may very well produce a runtime exception, but in Eclipse it does not produce a compile-time error. But that is *exactly* how I have it coded up (I&#39;m using Guice 3.0). Also, any ideas as to the question I&#39;m asking here? Thanks again!","body":"Thanks @JeffBowman (+1) - I haven&#39;t actually ran this code yet. It may very well produce a runtime exception, but in Eclipse it does not produce a compile-time error. But that is <i>exactly</i> how I have it coded up (I&#39;m using Guice 3.0). Also, any ideas as to the question I&#39;m asking here? Thanks again!"},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1378242831,"post_id":18599564,"comment_id":27378250,"body_markdown":"Clarification: &quot;An annotation on a local variable declaration is never retained in the binary representation.&quot; —[JLS 9.6.1.2](http://docs.oracle.com/javase/specs/jls/se5.0/html/interfaces.html#9.6.1.2) So the annotation isn&#39;t illegal, but it&#39;ll never stick around long enough for Guice to see it or use it.","body":"Clarification: &quot;An annotation on a local variable declaration is never retained in the binary representation.&quot; —<a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/interfaces.html#9.6.1.2\" rel=\"nofollow noreferrer\">JLS 9.6.1.2</a> So the annotation isn&#39;t illegal, but it&#39;ll never stick around long enough for Guice to see it or use it."}],"answers":[{"comments":[{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1378243256,"post_id":18601568,"comment_id":27378429,"body_markdown":"Thanks @Jeff Bowman (+1) - that said, the way that I have everything coded up right now, will the `CacheModule` be invoked and used to inject the `DefaultCacheAdaptor` when the `QueueModule` is used to create an `Injector`?","body":"Thanks @Jeff Bowman (+1) - that said, the way that I have everything coded up right now, will the <code>CacheModule</code> be invoked and used to inject the <code>DefaultCacheAdaptor</code> when the <code>QueueModule</code> is used to create an <code>Injector</code>?"},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1378243418,"post_id":18601568,"comment_id":27378488,"body_markdown":"@IAmYourFaja I don&#39;t see why it wouldn&#39;t, unless you somehow have another `@Inject` constructor that the `DefaultQueueAdaptor` injector would prefer over the no-arg constructor you wrote above.","body":"@IAmYourFaja I don&#39;t see why it wouldn&#39;t, unless you somehow have another <code>@Inject</code> constructor that the <code>DefaultQueueAdaptor</code> injector would prefer over the no-arg constructor you wrote above."}],"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1378242667,"creation_date":1378242667,"answer_id":18601568,"question_id":18599564,"body_markdown":"To be honest it sounds like this problem isn&#39;t actually one of Guice, but instead the standard problem across software engineering: ensuring your dependencies do what they claim to do. QueueModule shouldn&#39;t concern itself about whether DefaultCacheAdaptor holds up to its general contract. Instead, write a unit test for DefaultCacheAdaptor that guarantees that it bootstraps itself, then use it in QueueModule without a second thought.\r\n\r\nThis is especially true because DefaultCacheAdaptor has a completely unrelated injector tree. You should be able to use DefaultCacheAdaptor opaquely, and stop concerning QueueAdaptor with its implementation details. Its bootstrapping is part of its implementation, not its API.\r\n\r\nEven if you were to merge the two Injector graphs into one (by [injecting the Injector][injector] and calling [createChildInjector][], for instance), there&#39;s very little way to guarantee at compile time that bindings you need in other modules will exist, because `Module`s work at runtime. Your best bet is to write a unit test. You can fail a little faster by calling [`requireBinding`][requireBinding], which will fail at Injector creation if that particular dependency doesn&#39;t end up satisfied externally.\r\n\r\n[requireBinding]: http://google-guice.googlecode.com/git/javadoc/com/google/inject/AbstractModule.html#requireBinding(java.lang.Class%3C?%3E)\r\n[injector]: http://google-guice.googlecode.com/git/javadoc/com/google/inject/Injector.html &quot;Injectors inject themselves, as it mentions in the class-level Javadoc&quot;\r\n[createChildInjector]: http://google-guice.googlecode.com/git/javadoc/com/google/inject/Injector.html#createChildInjector(com.google.inject.Module...)","title":"Guice: Inject a class bound by another module?","body":"<p>To be honest it sounds like this problem isn't actually one of Guice, but instead the standard problem across software engineering: ensuring your dependencies do what they claim to do. QueueModule shouldn't concern itself about whether DefaultCacheAdaptor holds up to its general contract. Instead, write a unit test for DefaultCacheAdaptor that guarantees that it bootstraps itself, then use it in QueueModule without a second thought.</p>\n\n<p>This is especially true because DefaultCacheAdaptor has a completely unrelated injector tree. You should be able to use DefaultCacheAdaptor opaquely, and stop concerning QueueAdaptor with its implementation details. Its bootstrapping is part of its implementation, not its API.</p>\n\n<p>Even if you were to merge the two Injector graphs into one (by <a href=\"http://google-guice.googlecode.com/git/javadoc/com/google/inject/Injector.html\" rel=\"nofollow\" title=\"Injectors inject themselves, as it mentions in the class-level Javadoc\">injecting the Injector</a> and calling <a href=\"http://google-guice.googlecode.com/git/javadoc/com/google/inject/Injector.html#createChildInjector%28com.google.inject.Module...%29\" rel=\"nofollow\">createChildInjector</a>, for instance), there's very little way to guarantee at compile time that bindings you need in other modules will exist, because <code>Module</code>s work at runtime. Your best bet is to write a unit test. You can fail a little faster by calling <a href=\"http://google-guice.googlecode.com/git/javadoc/com/google/inject/AbstractModule.html#requireBinding%28java.lang.Class%3C?%3E%29\" rel=\"nofollow\"><code>requireBinding</code></a>, which will fail at Injector creation if that particular dependency doesn't end up satisfied externally.</p>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2610,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18601568,"answer_count":1,"score":0,"last_activity_date":1666476319,"creation_date":1378234767,"question_id":18599564,"body_markdown":"I have the following classes:\r\n\r\n    public class CacheModule extends AbstractModule {\r\n        @Override\r\n        protected void configure() {\r\n            bindConstant().annotatedWith(Names.named(TIMEOUT&quot;)).to(60);\r\n            // ...etc.\r\n        }\r\n    }\r\n\r\n    public class DefaultCacheAdaptor implements CacheAdaptor {\r\n        private CacheModule bootstrapper = new CacheModule();\r\n\r\n        @Named(&quot;TIMEOUT&quot;) private int timeout;\r\n\r\n        // other fields omitted for brevity\r\n\r\n        public DefaultCacheAdaptor() {\r\n            super();\r\n\r\n            Injector injector = Guice.createInjector(bootstrapper);\r\n\r\n            @Named(&quot;TIMEOUT&quot;) int t = injector.getInstance(Integer.class);\r\n            setTimeout(t);\r\n        }\r\n    }\r\n\r\n    public class QueueModule extennds AbstractModule {\r\n        @Override\r\n        public void configure() {\r\n            bind(CacheAdaptor.class).to(DefaultCacheAdaptor.class);\r\n        }\r\n    }\r\n\r\n    public class DefaultQueueAdaptor implements QueueAdaptor {\r\n        private QueueModule bootstrapper = new QueueModule();\r\n\r\n        private CacheAdaptor cacheAdaptor;\r\n\r\n        public DefaultQueueAdaptor() {\r\n            super();\r\n\r\n            Injector injector = Guice.createInjector(bootstrapper);\r\n\r\n            setCacheAdaptor(injector.getInstance(CacheAdaptor.class));\r\n        }\r\n    }\r\n\r\nThe `CacheModule`/`CacheAdaptor`/`DefaultCacheAdaptor` is located in a different JAR than `QueueModule`/`QueueAdaptor`/`DefaultQueueAdaptor`, and so the latter JAR depends on the former JAR at runtime (obviously).\r\n\r\nThe purpose of coding things this way is to allow the `CacheModule` to boostrap/inject the entire object graph under `DefaultCacheAdaptor` when the user writes:\r\n\r\n    CacheAdaptor cacheAdaptor = new DefaultCacheAdaptor();\r\n\r\nDitto for the `QueueAdaptor`.\r\n\r\nIt just so *happens* to be that the `QueueAdaptor` gets injected with a `CacheAdaptor`.\r\n\r\nHowever, `DefaultCacheAdaptor` is the &quot;root&quot; of its own object tree, and should **always** be injected by the `CacheModule`.\r\n\r\nSo I ask: **how can I bind `DefaultCacheAdaptor` to `CacheAdaptor` from inside `QueueModule`, but ensure that the `DefaultCacheAdaptor` is itself initialized/bootstrapped by the `CacheModule`?**\r\n","title":"Guice: Inject a class bound by another module?","body":"<p>I have the following classes:</p>\n<pre><code>public class CacheModule extends AbstractModule {\n    @Override\n    protected void configure() {\n        bindConstant().annotatedWith(Names.named(TIMEOUT&quot;)).to(60);\n        // ...etc.\n    }\n}\n\npublic class DefaultCacheAdaptor implements CacheAdaptor {\n    private CacheModule bootstrapper = new CacheModule();\n\n    @Named(&quot;TIMEOUT&quot;) private int timeout;\n\n    // other fields omitted for brevity\n\n    public DefaultCacheAdaptor() {\n        super();\n\n        Injector injector = Guice.createInjector(bootstrapper);\n\n        @Named(&quot;TIMEOUT&quot;) int t = injector.getInstance(Integer.class);\n        setTimeout(t);\n    }\n}\n\npublic class QueueModule extennds AbstractModule {\n    @Override\n    public void configure() {\n        bind(CacheAdaptor.class).to(DefaultCacheAdaptor.class);\n    }\n}\n\npublic class DefaultQueueAdaptor implements QueueAdaptor {\n    private QueueModule bootstrapper = new QueueModule();\n\n    private CacheAdaptor cacheAdaptor;\n\n    public DefaultQueueAdaptor() {\n        super();\n\n        Injector injector = Guice.createInjector(bootstrapper);\n\n        setCacheAdaptor(injector.getInstance(CacheAdaptor.class));\n    }\n}\n</code></pre>\n<p>The <code>CacheModule</code>/<code>CacheAdaptor</code>/<code>DefaultCacheAdaptor</code> is located in a different JAR than <code>QueueModule</code>/<code>QueueAdaptor</code>/<code>DefaultQueueAdaptor</code>, and so the latter JAR depends on the former JAR at runtime (obviously).</p>\n<p>The purpose of coding things this way is to allow the <code>CacheModule</code> to boostrap/inject the entire object graph under <code>DefaultCacheAdaptor</code> when the user writes:</p>\n<pre><code>CacheAdaptor cacheAdaptor = new DefaultCacheAdaptor();\n</code></pre>\n<p>Ditto for the <code>QueueAdaptor</code>.</p>\n<p>It just so <em>happens</em> to be that the <code>QueueAdaptor</code> gets injected with a <code>CacheAdaptor</code>.</p>\n<p>However, <code>DefaultCacheAdaptor</code> is the &quot;root&quot; of its own object tree, and should <strong>always</strong> be injected by the <code>CacheModule</code>.</p>\n<p>So I ask: <strong>how can I bind <code>DefaultCacheAdaptor</code> to <code>CacheAdaptor</code> from inside <code>QueueModule</code>, but ensure that the <code>DefaultCacheAdaptor</code> is itself initialized/bootstrapped by the <code>CacheModule</code>?</strong></p>\n"},{"tags":["java","dependency-injection","singleton","guice"],"comments":[{"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"score":0,"creation_date":1378236411,"post_id":18599871,"comment_id":27375077,"body_markdown":"you talk about singleton but i don&#39;t see any","body":"you talk about singleton but i don&#39;t see any"},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1378237189,"post_id":18599871,"comment_id":27375448,"body_markdown":"@PhilippSander - `bind(WidgetCache.class).toInstance(widgetCache)` creates a singleton `WidgetCache` instance and then reuses it no matter how many times a client requests it (via `Injector#getInstance(WidgetCache.class)`.","body":"@PhilippSander - <code>bind(WidgetCache.class).toInstance(widgetCache)</code> creates a singleton <code>WidgetCache</code> instance and then reuses it no matter how many times a client requests it (via <code>Injector#getInstance(WidgetCache.class)</code>."},{"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"score":0,"creation_date":1378237826,"post_id":18599871,"comment_id":27375758,"body_markdown":"well you just answered your question...","body":"well you just answered your question..."},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":1,"creation_date":1378238129,"post_id":18599871,"comment_id":27375912,"body_markdown":"Thanks again @PhilippSander - but **did you even read my question?** The question pertains to Guice&#39;s behavior across multiple threads. I *know* that, for a single-threaded app, `bind(WidgetCache.class).toInstance(widgetCache)` creates a singleton - **but is that singleton thread-confined or not?** It&#39;s very feasible that the `WidgetCache` instance obtained by the module in Thread #1 will be different than the one obtained in Thread #2.","body":"Thanks again @PhilippSander - but <b>did you even read my question?</b> The question pertains to Guice&#39;s behavior across multiple threads. I <i>know</i> that, for a single-threaded app, <code>bind(WidgetCache.class).toInstance(widgetCache)</code> creates a singleton - <b>but is that singleton thread-confined or not?</b> It&#39;s very feasible that the <code>WidgetCache</code> instance obtained by the module in Thread #1 will be different than the one obtained in Thread #2."},{"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"score":0,"creation_date":1378238266,"post_id":18599871,"comment_id":27375989,"body_markdown":"you were not asking that","body":"you were not asking that"},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":2,"creation_date":1378238497,"post_id":18599871,"comment_id":27376106,"body_markdown":"Yes I did - it actually appears in **bold** above, as follows: &quot;**What happens if new CacheAdaptor(); is called from inside multiple threads?**&quot;. I always appreciate all input @PhilippSander, but if you don&#39;t know the answer to this, I&#39;d ask that you kindly move on to another question.","body":"Yes I did - it actually appears in <b>bold</b> above, as follows: &quot;<b>What happens if new CacheAdaptor(); is called from inside multiple threads?</b>&quot;. I always appreciate all input @PhilippSander, but if you don&#39;t know the answer to this, I&#39;d ask that you kindly move on to another question."}],"answers":[{"comments":[{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1378243605,"post_id":18601217,"comment_id":27378547,"body_markdown":"Thanks @Jeff Bowman (+1) - I *think* I&#39;m starting to see the forest through the trees. I have one followup question for you: your second sentence states &quot;*Modules are evaluated once per injector, and you gave Guice one instance and no way to produce a second one.*&quot; **Can you elaborate by what you mean here?** I only gave Guice one instance of *what*? How would I produce a &quot;second one&quot; of it? If you can explain this to me, I should be able to connect all the dots. Thanks again!","body":"Thanks @Jeff Bowman (+1) - I <i>think</i> I&#39;m starting to see the forest through the trees. I have one followup question for you: your second sentence states &quot;<i>Modules are evaluated once per injector, and you gave Guice one instance and no way to produce a second one.</i>&quot; <b>Can you elaborate by what you mean here?</b> I only gave Guice one instance of <i>what</i>? How would I produce a &quot;second one&quot; of it? If you can explain this to me, I should be able to connect all the dots. Thanks again!"},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1378245888,"post_id":18601217,"comment_id":27379387,"body_markdown":"@IAmYourFaja I ended up refactoring my answer, including a way of doing it in a Provider method manually. Sorry it got much longer but I think it&#39;ll better-explain how Guice objects are created and scoped.","body":"@IAmYourFaja I ended up refactoring my answer, including a way of doing it in a Provider method manually. Sorry it got much longer but I think it&#39;ll better-explain how Guice objects are created and scoped."}],"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1378328994,"creation_date":1378241357,"answer_id":18601217,"question_id":18599871,"body_markdown":"It&#39;s not only that Guice _will_ provide the same singleton across threads for the same injector, but Guice _can only_ provide the same singleton across threads if you use `toInstance`. Modules are evaluated once per injector, and you gave Guice one instance and no way to produce a second one.\r\n\r\nGuice isn&#39;t magic. When trying to provide an instance of an Object, it either needs (1) a Guice-friendly no-arg or `@Inject`-annotated constructor; (2) a `Provider` or `@Provides` method, letting you create the instance yourself; or (3) an instance that you&#39;ve already created and bound with `toInstance`, which Guice reuses because it doesn&#39;t know how to create another. Note that option 2, with a `Provider`, doesn&#39;t need to guarantee that it creates a new instance every single time, and we can exploit that to write a `Provider` that has a ThreadLocal cache. It would look something like this:\r\n\r\n    public class CacheModule extends AbstractModule {\r\n        /** This isn&#39;t needed anymore; the @Provides method below is sufficient. */\r\n        @Override protected void configure() {}\r\n\r\n        /** This keeps a WidgetCache per thread and knows how to create a new one. */\r\n        private ThreadLocal&lt;WidgetCache&gt; threadWidgetCache = new ThreadLocal&lt;&gt;() {\r\n            @Override protected WidgetCache initialValue() {\r\n                return new WidgetCache(...lots of params);\r\n            }\r\n        };\r\n\r\n        /** Provide a single separate WidgetCache for each thread. */\r\n        @Provides WidgetCache provideWidgetCache() {\r\n            return threadWidgetCache.get();\r\n        }\r\n    }\r\n\r\nOf course, if you want to do that for more than one object, you&#39;d have to write a ThreadLocal for every single key you want to cache, and then create a provider for each. That seems a little excessive, and that&#39;s where custom scopes come in.\r\n\r\n### Creating your own ThreadLocal scope\r\n\r\nCheck out Scope&#39;s only meaningful method:\r\n\r\n    /**\r\n     * Scopes a provider. The returned provider returns objects from this scope.\r\n     * If an object does not exist in this scope, the provider can use the given\r\n     * unscoped provider to retrieve one.\r\n     *\r\n     * &lt;p&gt;Scope implementations are strongly encouraged to override\r\n     * {@link Object#toString} in the returned provider and include the backing\r\n     * provider&#39;s {@code toString()} output.\r\n     *\r\n     * @param key binding key\r\n     * @param unscoped locates an instance when one doesn&#39;t already exist in this\r\n     *  scope.\r\n     * @return a new provider which only delegates to the given unscoped provider\r\n     *  when an instance of the requested object doesn&#39;t already exist in this\r\n     *  scope\r\n     */\r\n    public &lt;T&gt; Provider&lt;T&gt; scope(Key&lt;T&gt; key, Provider&lt;T&gt; unscoped);\r\n\r\nAs you can see from the [Scope interface][scopeinterface], a scope is just a decorator for a `Provider`, and scoping something thread-local is tantamount to returning a `ThreadLocal`-cached copy if it exists or caching and returning from the passed `Provider` if it doesn&#39;t. So we can easily write a scope that does the same logic we did manually above.\r\n\r\nIn fact, the need to create a new FooObject per-thread (for any value of FooObject) is a common request—[too much of an &quot;advanced feature&quot; for the base library][bug], but common enough for it to be the [example about how to write a custom scope][custom]. To adjust that SimpleScope example to your needs, you can leave out the `scope.enter()` and `scope.exit()` calls, but keep the `ThreadLocal&lt;Map&lt;Key&lt;?&gt;, Object&gt;&gt;` to act as your thread-local cache of objects.\r\n\r\nAt that point, assuming you&#39;ve created your own `@ThreadScoped` annotation with a `ThreadScope` implementation you&#39;ve written, you can adjust your module to look like this:\r\n\r\n    public class CacheModule extends AbstractModule {\r\n        @Override\r\n        protected void configure() {\r\n            bindScope(ThreadScoped.class, new ThreadScope());\r\n        }\r\n\r\n        /** Provide a single separate WidgetCache for each thread. */\r\n        @Provides @ThreadScoped WidgetCache provideWidgetCache() {\r\n            return new WidgetCache(...lots of params);\r\n        }\r\n    }\r\n\r\nRemember, singleton behavior doesn&#39;t depend on which threads you create the modules in, but rather which injector you&#39;re asking. If you created five unrelated `Injector` instances, they would each have their own singleton. If you&#39;re merely trying to run a small algorithm in a multi-threaded way, you could create your own injector per thread, but that way you&#39;d lose the chance to make singleton objects that do span threads.\r\n\r\n[bug]: https://code.google.com/p/google-guice/issues/detail?id=114\r\n[custom]: https://code.google.com/p/google-guice/wiki/CustomScopes#Implementing_Scope\r\n[scopeinterface]: https://code.google.com/p/google-guice/source/browse/core/src/com/google/inject/Scope.java","title":"Do Guice singletons honor thread-confinement?","body":"<p>It's not only that Guice <em>will</em> provide the same singleton across threads for the same injector, but Guice <em>can only</em> provide the same singleton across threads if you use <code>toInstance</code>. Modules are evaluated once per injector, and you gave Guice one instance and no way to produce a second one.</p>\n\n<p>Guice isn't magic. When trying to provide an instance of an Object, it either needs (1) a Guice-friendly no-arg or <code>@Inject</code>-annotated constructor; (2) a <code>Provider</code> or <code>@Provides</code> method, letting you create the instance yourself; or (3) an instance that you've already created and bound with <code>toInstance</code>, which Guice reuses because it doesn't know how to create another. Note that option 2, with a <code>Provider</code>, doesn't need to guarantee that it creates a new instance every single time, and we can exploit that to write a <code>Provider</code> that has a ThreadLocal cache. It would look something like this:</p>\n\n<pre><code>public class CacheModule extends AbstractModule {\n    /** This isn't needed anymore; the @Provides method below is sufficient. */\n    @Override protected void configure() {}\n\n    /** This keeps a WidgetCache per thread and knows how to create a new one. */\n    private ThreadLocal&lt;WidgetCache&gt; threadWidgetCache = new ThreadLocal&lt;&gt;() {\n        @Override protected WidgetCache initialValue() {\n            return new WidgetCache(...lots of params);\n        }\n    };\n\n    /** Provide a single separate WidgetCache for each thread. */\n    @Provides WidgetCache provideWidgetCache() {\n        return threadWidgetCache.get();\n    }\n}\n</code></pre>\n\n<p>Of course, if you want to do that for more than one object, you'd have to write a ThreadLocal for every single key you want to cache, and then create a provider for each. That seems a little excessive, and that's where custom scopes come in.</p>\n\n<h3>Creating your own ThreadLocal scope</h3>\n\n<p>Check out Scope's only meaningful method:</p>\n\n<pre><code>/**\n * Scopes a provider. The returned provider returns objects from this scope.\n * If an object does not exist in this scope, the provider can use the given\n * unscoped provider to retrieve one.\n *\n * &lt;p&gt;Scope implementations are strongly encouraged to override\n * {@link Object#toString} in the returned provider and include the backing\n * provider's {@code toString()} output.\n *\n * @param key binding key\n * @param unscoped locates an instance when one doesn't already exist in this\n *  scope.\n * @return a new provider which only delegates to the given unscoped provider\n *  when an instance of the requested object doesn't already exist in this\n *  scope\n */\npublic &lt;T&gt; Provider&lt;T&gt; scope(Key&lt;T&gt; key, Provider&lt;T&gt; unscoped);\n</code></pre>\n\n<p>As you can see from the <a href=\"https://code.google.com/p/google-guice/source/browse/core/src/com/google/inject/Scope.java\" rel=\"noreferrer\">Scope interface</a>, a scope is just a decorator for a <code>Provider</code>, and scoping something thread-local is tantamount to returning a <code>ThreadLocal</code>-cached copy if it exists or caching and returning from the passed <code>Provider</code> if it doesn't. So we can easily write a scope that does the same logic we did manually above.</p>\n\n<p>In fact, the need to create a new FooObject per-thread (for any value of FooObject) is a common request—<a href=\"https://code.google.com/p/google-guice/issues/detail?id=114\" rel=\"noreferrer\">too much of an \"advanced feature\" for the base library</a>, but common enough for it to be the <a href=\"https://code.google.com/p/google-guice/wiki/CustomScopes#Implementing_Scope\" rel=\"noreferrer\">example about how to write a custom scope</a>. To adjust that SimpleScope example to your needs, you can leave out the <code>scope.enter()</code> and <code>scope.exit()</code> calls, but keep the <code>ThreadLocal&lt;Map&lt;Key&lt;?&gt;, Object&gt;&gt;</code> to act as your thread-local cache of objects.</p>\n\n<p>At that point, assuming you've created your own <code>@ThreadScoped</code> annotation with a <code>ThreadScope</code> implementation you've written, you can adjust your module to look like this:</p>\n\n<pre><code>public class CacheModule extends AbstractModule {\n    @Override\n    protected void configure() {\n        bindScope(ThreadScoped.class, new ThreadScope());\n    }\n\n    /** Provide a single separate WidgetCache for each thread. */\n    @Provides @ThreadScoped WidgetCache provideWidgetCache() {\n        return new WidgetCache(...lots of params);\n    }\n}\n</code></pre>\n\n<p>Remember, singleton behavior doesn't depend on which threads you create the modules in, but rather which injector you're asking. If you created five unrelated <code>Injector</code> instances, they would each have their own singleton. If you're merely trying to run a small algorithm in a multi-threaded way, you could create your own injector per thread, but that way you'd lose the chance to make singleton objects that do span threads.</p>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6851,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":18601217,"answer_count":1,"score":9,"last_activity_date":1666476300,"creation_date":1378236029,"question_id":18599871,"body_markdown":"I have a concern regarding Guice and whether or not its singletons will obey thread confinement that I may try to set up:\r\n\r\n    public class CacheModule extends AbstractModule {\r\n        @Override\r\n        protected void configure() {\r\n            // WidgetCache.class is located inside a 3rd party JAR that I\r\n            // don&#39;t have the ability to modify.\r\n            WidgetCache widgetCache = new WidgetCache(...lots of params);\r\n\r\n            // Guice will reuse the same WidgetCache instance over and over across\r\n            // multiple calls to Injector#getInstance(WidgetCache.class);\r\n            bind(WidgetCache.class).toInstance(widgetCache);\r\n        }\r\n    }\r\n\r\n    // CacheAdaptor is the &quot;root&quot; of my dependency tree. All other objects\r\n    // are created from it.\r\n    public class CacheAdaptor {\r\n        private CacheModule bootstrapper = new CacheModule();\r\n\r\n        private WidgetCache widgetCache;\r\n\r\n        public CacheAdaptor() {\r\n            super();\r\n\r\n            Injector injector = Guice.createInjector(bootstrapper);\r\n\r\n            setWidgetCache(injector.getInstance(WidgetCache.class));\r\n        }\r\n\r\n        // ...etc.\r\n    }\r\n\r\nSo as you can see, any time we create a new instance of `CacheAdaptor`, a `CacheModule` will be used to bootstrap the entire dependency tree underneath it.\r\n\r\n**What happens if `new CacheAdaptor();` is called from inside multiple threads?**\r\n\r\nFor example: Thread #1 creates a new `CacheAdaptor` via its no-arg constructor, and Thread #2 does the same thing. **Will Guice provide the same exact `WidgetCache` instance to each thread&#39;s `CacheAdaptor`, or will Guice provide 2 different instances to each thread?** Even though `toInstance(...)` is supposed to return the same singleton instance, I&#39;m hoping - since the modules are created inside 2 distinct threads - that each `CacheAdaptor` will receive a different `WidgetCache` instance.\r\n","title":"Do Guice singletons honor thread-confinement?","body":"<p>I have a concern regarding Guice and whether or not its singletons will obey thread confinement that I may try to set up:</p>\n<pre><code>public class CacheModule extends AbstractModule {\n    @Override\n    protected void configure() {\n        // WidgetCache.class is located inside a 3rd party JAR that I\n        // don't have the ability to modify.\n        WidgetCache widgetCache = new WidgetCache(...lots of params);\n\n        // Guice will reuse the same WidgetCache instance over and over across\n        // multiple calls to Injector#getInstance(WidgetCache.class);\n        bind(WidgetCache.class).toInstance(widgetCache);\n    }\n}\n\n// CacheAdaptor is the &quot;root&quot; of my dependency tree. All other objects\n// are created from it.\npublic class CacheAdaptor {\n    private CacheModule bootstrapper = new CacheModule();\n\n    private WidgetCache widgetCache;\n\n    public CacheAdaptor() {\n        super();\n\n        Injector injector = Guice.createInjector(bootstrapper);\n\n        setWidgetCache(injector.getInstance(WidgetCache.class));\n    }\n\n    // ...etc.\n}\n</code></pre>\n<p>So as you can see, any time we create a new instance of <code>CacheAdaptor</code>, a <code>CacheModule</code> will be used to bootstrap the entire dependency tree underneath it.</p>\n<p><strong>What happens if <code>new CacheAdaptor();</code> is called from inside multiple threads?</strong></p>\n<p>For example: Thread #1 creates a new <code>CacheAdaptor</code> via its no-arg constructor, and Thread #2 does the same thing. <strong>Will Guice provide the same exact <code>WidgetCache</code> instance to each thread's <code>CacheAdaptor</code>, or will Guice provide 2 different instances to each thread?</strong> Even though <code>toInstance(...)</code> is supposed to return the same singleton instance, I'm hoping - since the modules are created inside 2 distinct threads - that each <code>CacheAdaptor</code> will receive a different <code>WidgetCache</code> instance.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1666473657,"post_id":74167048,"comment_id":130946978,"body_markdown":"*&quot;I tried adding a default method interactWith(A other) in both the interface and the B class but it never gets called.&quot;* - Are you sure? Can you provide a [*Minimal reproducible example*](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"<i>&quot;I tried adding a default method interactWith(A other) in both the interface and the B class but it never gets called.&quot;</i> - Are you sure? Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\"><i>Minimal reproducible example</i></a>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666474274,"post_id":74167048,"comment_id":130947076,"body_markdown":"As @AlexanderIvanchenko says, you need to edit your question to include your actual code, not just a description of it.","body":"As @AlexanderIvanchenko says, you need to edit your question to include your actual code, not just a description of it."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666476603,"post_id":74167048,"comment_id":130947421,"body_markdown":"Sure thing, method expecting `A` would **not** be called because you&#39;re passing an argument of type `I` (because you can safely say that all elements  in the `List&lt;I&gt;` are of type `I`). The compiler never performs *down-casting* while resolving method-calls. Therefore, `interactWith(A other)` would **not** be even taken into account as potentially applicable method.","body":"Sure thing, method expecting <code>A</code> would <b>not</b> be called because you&#39;re passing an argument of type <code>I</code> (because you can safely say that all elements  in the <code>List&lt;I&gt;</code> are of type <code>I</code>). The compiler never performs <i>down-casting</i> while resolving method-calls. Therefore, <code>interactWith(A other)</code> would <b>not</b> be even taken into account as potentially applicable method."}],"answers":[{"comments":[{"owner":{"account_id":6956279,"reputation":468,"user_id":5337213,"accept_rate":80,"display_name":"Becks"},"score":0,"creation_date":1666474563,"post_id":74167205,"comment_id":130947118,"body_markdown":"Thanks, this is definitely the reason, where I call the method the static type is not known and so it chooses the interface one.\nI guess I can&#39;t avoid dynamic typechecking then, or is there a pattern for these situations?","body":"Thanks, this is definitely the reason, where I call the method the static type is not known and so it chooses the interface one. I guess I can&#39;t avoid dynamic typechecking then, or is there a pattern for these situations?"},{"owner":{"account_id":5306592,"reputation":810,"user_id":4234254,"display_name":"anqit"},"score":1,"creation_date":1666475233,"post_id":74167205,"comment_id":130947207,"body_markdown":"It depends on your situation, and any solution has pros and cons. If you define `interface I` in a library you write and can edit it, you can do something similar to the example in the Wikipedia article and have methods in `I` for each subclass of it that could default to the general version, but allow subclasses to specify behavior for particular cases. This wouldn&#39;t be ideal though if say you were publishing `I` in a library where others might also subclass it. Something like https://replit.com/@anqit/NimbleNeighboringDestination#Main.java","body":"It depends on your situation, and any solution has pros and cons. If you define <code>interface I</code> in a library you write and can edit it, you can do something similar to the example in the Wikipedia article and have methods in <code>I</code> for each subclass of it that could default to the general version, but allow subclasses to specify behavior for particular cases. This wouldn&#39;t be ideal though if say you were publishing <code>I</code> in a library where others might also subclass it. Something like <a href=\"https://replit.com/@anqit/NimbleNeighboringDestination#Main.java\" rel=\"nofollow noreferrer\">replit.com/@anqit/NimbleNeighboringDestination#Main.java</a>"},{"owner":{"account_id":5306592,"reputation":810,"user_id":4234254,"display_name":"anqit"},"score":0,"creation_date":1666475639,"post_id":74167205,"comment_id":130947269,"body_markdown":"That replit example isn&#39;t perfect, as the receiver still needs to be known. There is always `instanceOf`...","body":"That replit example isn&#39;t perfect, as the receiver still needs to be known. There is always <code>instanceOf</code>..."},{"owner":{"account_id":6956279,"reputation":468,"user_id":5337213,"accept_rate":80,"display_name":"Becks"},"score":0,"creation_date":1666475970,"post_id":74167205,"comment_id":130947314,"body_markdown":"It&#39;s not really a solution for me as the interface will be exported so it could potentially be extended/implemented but I understood the issue and I&#39;ll think of another solution, thanks","body":"It&#39;s not really a solution for me as the interface will be exported so it could potentially be extended/implemented but I understood the issue and I&#39;ll think of another solution, thanks"},{"owner":{"account_id":5306592,"reputation":810,"user_id":4234254,"display_name":"anqit"},"score":0,"creation_date":1666506421,"post_id":74167205,"comment_id":130950443,"body_markdown":"gotcha. curious what you come up with!","body":"gotcha. curious what you come up with!"}],"tags":[],"owner":{"account_id":5306592,"reputation":810,"user_id":4234254,"display_name":"anqit"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666473997,"creation_date":1666473997,"answer_id":74167205,"question_id":74167048,"body_markdown":"Without seeing your code, in particular how you are declaring variables and their types, I am guessing you are running into a common confusion with how Java does dispatch. You are probably expecting behavior that is known as multiple dispatch, while Java only supports single dispatch. Here&#39;s the wikipedia page about multiple dispatch, and how you can kind of emulate that behavior in Java: https://en.wikipedia.org/wiki/Multiple_dispatch#Java\r\n\r\nThe gist is that Java needs to know the static types of both the parameter and the receiver of the method call to be able to choose the more specific overload. For example:\r\n\r\n```java\r\nublic class Main {\r\n    public static void main(String[] args) {\r\n        I a = new A();  // runtime type is `A` but static type is `I`\r\n        A a2 = new A(); // both runtime and static types are `A`\r\n        I b = new B();  // runtime type is `B` but static type is `I`\r\n        B b2 = new B(); // both runtime and static types are `B`\r\n        C c = new C();\r\n        \r\n        p(b.interactWithOther(a));   // got I Main$A@4617c264\r\n        p(b.interactWithOther(a2));  // got I Main$A@36baf30c even though static type of a2 is A, b is an I, so it &quot;doesn&#39;t have&quot; the overloaded method\r\n        p(b.interactWithOther(c));   // got I Main$C@7a81197d\r\n        \r\n        p(b2.interactWithOther(a));  // got I Main$A@4617c264\r\n        p(b2.interactWithOther(a2)); // got A Main$A@36baf30c only in this case is there specific enough type information to call the specific overload\r\n        p(b2.interactWithOther(c));  // got I Main$C@7a81197d\r\n    }\r\n    \r\n    static void p(Object o) { System.out.println(o); }\r\n\r\n    static public interface I {\r\n        I interactWithOther(I other);\r\n    }\r\n    \r\n    static class A implements I {\r\n        @Override\r\n        public I interactWithOther(I other) { return other; }\r\n    }\r\n    \r\n    static class B implements I {\r\n        @Override\r\n        public I interactWithOther(I other) { System.out.print(&quot;got I &quot;); return other; }\r\n        \r\n        public A interactWithOther(A other) { System.out.print(&quot;got A &quot;); return other; }\r\n    }\r\n    \r\n    static class C implements I {\r\n        @Override\r\n        public I interactWithOther(I other) { return other; }\r\n    }\r\n    \r\n    static class D implements I {\r\n        @Override\r\n        public I interactWithOther(I other) { return other; }\r\n    }\r\n}\r\n```\r\n\r\nNotice how `got A` is only printed when the static type of the receiver is `B` and the static type of the parameter is `A`, rather than `I`s.\r\n\r\nYou can play around with it here:\r\nhttps://replit.com/@anqit/NegligibleMustyDatamining#Main.java","title":"How to create polimorphic methods for interface implementation","body":"<p>Without seeing your code, in particular how you are declaring variables and their types, I am guessing you are running into a common confusion with how Java does dispatch. You are probably expecting behavior that is known as multiple dispatch, while Java only supports single dispatch. Here's the wikipedia page about multiple dispatch, and how you can kind of emulate that behavior in Java: <a href=\"https://en.wikipedia.org/wiki/Multiple_dispatch#Java\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Multiple_dispatch#Java</a></p>\n<p>The gist is that Java needs to know the static types of both the parameter and the receiver of the method call to be able to choose the more specific overload. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ublic class Main {\n    public static void main(String[] args) {\n        I a = new A();  // runtime type is `A` but static type is `I`\n        A a2 = new A(); // both runtime and static types are `A`\n        I b = new B();  // runtime type is `B` but static type is `I`\n        B b2 = new B(); // both runtime and static types are `B`\n        C c = new C();\n        \n        p(b.interactWithOther(a));   // got I Main$A@4617c264\n        p(b.interactWithOther(a2));  // got I Main$A@36baf30c even though static type of a2 is A, b is an I, so it &quot;doesn't have&quot; the overloaded method\n        p(b.interactWithOther(c));   // got I Main$C@7a81197d\n        \n        p(b2.interactWithOther(a));  // got I Main$A@4617c264\n        p(b2.interactWithOther(a2)); // got A Main$A@36baf30c only in this case is there specific enough type information to call the specific overload\n        p(b2.interactWithOther(c));  // got I Main$C@7a81197d\n    }\n    \n    static void p(Object o) { System.out.println(o); }\n\n    static public interface I {\n        I interactWithOther(I other);\n    }\n    \n    static class A implements I {\n        @Override\n        public I interactWithOther(I other) { return other; }\n    }\n    \n    static class B implements I {\n        @Override\n        public I interactWithOther(I other) { System.out.print(&quot;got I &quot;); return other; }\n        \n        public A interactWithOther(A other) { System.out.print(&quot;got A &quot;); return other; }\n    }\n    \n    static class C implements I {\n        @Override\n        public I interactWithOther(I other) { return other; }\n    }\n    \n    static class D implements I {\n        @Override\n        public I interactWithOther(I other) { return other; }\n    }\n}\n</code></pre>\n<p>Notice how <code>got A</code> is only printed when the static type of the receiver is <code>B</code> and the static type of the parameter is <code>A</code>, rather than <code>I</code>s.</p>\n<p>You can play around with it here:\n<a href=\"https://replit.com/@anqit/NegligibleMustyDatamining#Main.java\" rel=\"nofollow noreferrer\">https://replit.com/@anqit/NegligibleMustyDatamining#Main.java</a></p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666475885,"creation_date":1666474861,"answer_id":74167289,"question_id":74167048,"body_markdown":"Here&#39;s a simple demonstration how polymorphic behavior is working in the situation you&#39;ve described.\r\n\r\nAccording to [Java language specification](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.2) the compiler determines all potentially applicable methods maps the call to the most specific method:\r\n\r\n&gt; 15.12.2. Compile-Time Step 2: Determine Method Signature \r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; The process of determining applicability begins by determining the\r\n&gt; potentially applicable methods (&#167;15.12.2.1). Then, to ensure\r\n&gt; compatibility with the Java programming language prior to Java SE 5.0,\r\n&gt; the process continues in three phases:\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt;  1. The first phase **performs overload resolution without permitting boxing or unboxing conversion**, or the use of variable arity method\r\n&gt; invocation. If no applicable method is found during this phase then\r\n&gt; processing continues to the second phase.\r\n\r\n \r\n*Example:*\r\n    \r\n\r\npublic interface I {\r\n        I interactWith(I other);\r\n        default I interactWith(Foo other) {\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    public static class Foo implements I {\r\n        @Override\r\n        public I interactWith(I other) {\r\n            System.out.println(&quot;Foo.interactWith(I other) is called&quot;);\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    public static class Bar implements I {\r\n        @Override\r\n        public I interactWith(I other) {\r\n            System.out.println(&quot;Bar.interactWith(I other) is called&quot;);\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public I interactWith(Foo other) {\r\n            System.out.println(&quot;Bar.interactWith(Foo other) is called&quot;);\r\n            return null;\r\n        }\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        Bar bar = new Bar();\r\n        Foo foo = new Foo();\r\n        foo.interactWith(bar); // method that expects super type `I` would be called\r\n        bar.interactWith(foo); // method that expects `Foo` as the most specific one would be called\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\nFoo.interactWith(I other) is called\r\nBar.interactWith(Foo other) is called\r\n```","title":"How to create polimorphic methods for interface implementation","body":"<p>Here's a simple demonstration how polymorphic behavior is working in the situation you've described.</p>\n<p>According to <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.2\" rel=\"nofollow noreferrer\">Java language specification</a> the compiler determines all potentially applicable methods maps the call to the most specific method:</p>\n<blockquote>\n<p>15.12.2. Compile-Time Step 2: Determine Method Signature</p>\n<p>...</p>\n<p>The process of determining applicability begins by determining the\npotentially applicable methods (§15.12.2.1). Then, to ensure\ncompatibility with the Java programming language prior to Java SE 5.0,\nthe process continues in three phases:</p>\n<ol>\n<li>The first phase <strong>performs overload resolution without permitting boxing or unboxing conversion</strong>, or the use of variable arity method\ninvocation. If no applicable method is found during this phase then\nprocessing continues to the second phase.</li>\n</ol>\n</blockquote>\n<p><em>Example:</em></p>\n<p>public interface I {\nI interactWith(I other);\ndefault I interactWith(Foo other) {\nreturn null;\n}\n}</p>\n<pre><code>public static class Foo implements I {\n    @Override\n    public I interactWith(I other) {\n        System.out.println(&quot;Foo.interactWith(I other) is called&quot;);\n        return null;\n    }\n}\n\npublic static class Bar implements I {\n    @Override\n    public I interactWith(I other) {\n        System.out.println(&quot;Bar.interactWith(I other) is called&quot;);\n        return null;\n    }\n\n    @Override\n    public I interactWith(Foo other) {\n        System.out.println(&quot;Bar.interactWith(Foo other) is called&quot;);\n        return null;\n    }\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    Bar bar = new Bar();\n    Foo foo = new Foo();\n    foo.interactWith(bar); // method that expects super type `I` would be called\n    bar.interactWith(foo); // method that expects `Foo` as the most specific one would be called\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Foo.interactWith(I other) is called\nBar.interactWith(Foo other) is called\n</code></pre>\n"}],"owner":{"account_id":6956279,"reputation":468,"user_id":5337213,"accept_rate":80,"display_name":"Becks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74167205,"answer_count":2,"score":0,"last_activity_date":1666475885,"creation_date":1666472185,"question_id":74167048,"body_markdown":"I have an interface `I` with a method that allows it to interact with another `I`:\r\n```\r\npublic interface I {\r\n    I interactWith(I other);\r\n}\r\n```\r\nThen I have a few classes that implement this interface, let&#39;s say `A`, `B`, `C` and `D`. Some of these interact with any other in the same way, so the implementation of the method is easy. Some others interact in different ways instead depending on the type of the other object, so i.e the interaction `B`-`A` is different from `B`-`C` and `B`-`D`. The naive implementation of the method for `B` would be a mess of typechecking/`instanceof` and feels like there&#39;s a better solution, so what&#39;s the correct approach?\r\n\r\nI tried adding a default method `interactWith(A other)` in both the interface and the `B` class but it never gets called. Why is overloading not choosing the more specific method?\r\n\r\nEdit: added sample code, also available here: [https://onlinegdb.com/fakHVDDpSX][1]\r\n\r\n```\r\npublic interface I {\r\n    I interactWith(A other);\r\n    I interactWith(I other);\r\n}\r\n```\r\n```\r\npublic class B implements I {\r\n    public I interactWith(A other) {\r\n        System.out.println(&quot;I&#39;d like this to get called&quot;);\r\n    }\r\n\r\n    public I interactWith(I other) {\r\n        System.out.println(&quot;this get called even when other is of type A&quot;);\r\n    }\r\n}\r\n```\r\n```\r\npublic static void main(String []args) {\r\n    List&lt;I&gt; list = Arrays.asList(new A(), new B());\r\n    list.get(1).interactWith(list.get(0));\r\n}\r\n```\r\n\r\n\r\n  [1]: https://onlinegdb.com/fakHVDDpSX","title":"How to create polimorphic methods for interface implementation","body":"<p>I have an interface <code>I</code> with a method that allows it to interact with another <code>I</code>:</p>\n<pre><code>public interface I {\n    I interactWith(I other);\n}\n</code></pre>\n<p>Then I have a few classes that implement this interface, let's say <code>A</code>, <code>B</code>, <code>C</code> and <code>D</code>. Some of these interact with any other in the same way, so the implementation of the method is easy. Some others interact in different ways instead depending on the type of the other object, so i.e the interaction <code>B</code>-<code>A</code> is different from <code>B</code>-<code>C</code> and <code>B</code>-<code>D</code>. The naive implementation of the method for <code>B</code> would be a mess of typechecking/<code>instanceof</code> and feels like there's a better solution, so what's the correct approach?</p>\n<p>I tried adding a default method <code>interactWith(A other)</code> in both the interface and the <code>B</code> class but it never gets called. Why is overloading not choosing the more specific method?</p>\n<p>Edit: added sample code, also available here: <a href=\"https://onlinegdb.com/fakHVDDpSX\" rel=\"nofollow noreferrer\">https://onlinegdb.com/fakHVDDpSX</a></p>\n<pre><code>public interface I {\n    I interactWith(A other);\n    I interactWith(I other);\n}\n</code></pre>\n<pre><code>public class B implements I {\n    public I interactWith(A other) {\n        System.out.println(&quot;I'd like this to get called&quot;);\n    }\n\n    public I interactWith(I other) {\n        System.out.println(&quot;this get called even when other is of type A&quot;);\n    }\n}\n</code></pre>\n<pre><code>public static void main(String []args) {\n    List&lt;I&gt; list = Arrays.asList(new A(), new B());\n    list.get(1).interactWith(list.get(0));\n}\n</code></pre>\n"},{"tags":["java","elasticsearch"],"answers":[{"comments":[{"owner":{"account_id":6167520,"reputation":1476,"user_id":4806903,"accept_rate":41,"display_name":"Sachin Sharma"},"score":0,"creation_date":1617109680,"post_id":66796526,"comment_id":118206926,"body_markdown":"had to use params._source.containsKey(&#39;transactions&#39;) &amp;&amp;... because some of my docs had no transactions, but it worked like a charm. thanks.","body":"had to use params._source.containsKey(&#39;transactions&#39;) &amp;&amp;... because some of my docs had no transactions, but it worked like a charm. thanks."}],"tags":[],"owner":{"account_id":3531464,"reputation":16212,"user_id":8160318,"display_name":"Joe - Check out my books"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1616664552,"creation_date":1616664552,"answer_id":66796526,"question_id":66794980,"body_markdown":"You can use `params._source` to calculate the `transactions` length:\r\n```json\r\n{\r\n  &quot;size&quot;: 0,\r\n  &quot;aggs&quot;: {\r\n    &quot;tx_count&quot;: {\r\n      &quot;terms&quot;: {\r\n        &quot;script&quot;: {\r\n          &quot;inline&quot;: &quot;if (params._source[&#39;transactions&#39;].size() &gt; 1) { return 1; } else { return 0; }&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n*BTW notice that it&#39;s `.size()`, not `.size`.*","title":"How to aggregate on size of nested document in ElasticSearch?","body":"<p>You can use <code>params._source</code> to calculate the <code>transactions</code> length:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;size&quot;: 0,\n  &quot;aggs&quot;: {\n    &quot;tx_count&quot;: {\n      &quot;terms&quot;: {\n        &quot;script&quot;: {\n          &quot;inline&quot;: &quot;if (params._source['transactions'].size() &gt; 1) { return 1; } else { return 0; }&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p><em>BTW notice that it's <code>.size()</code>, not <code>.size</code>.</em></p>\n"}],"owner":{"account_id":6167520,"reputation":1476,"user_id":4806903,"accept_rate":41,"display_name":"Sachin Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66796526,"answer_count":1,"score":0,"last_activity_date":1666475039,"creation_date":1616657614,"question_id":66794980,"body_markdown":"Nested field name is transactions.\r\n\r\nEach document has a list of transactions.\r\n\r\nI wish to aggregate on the number of transactions. Information i seek is the number Nf documents with more than one transaction.\r\n\r\nI tried the following :\r\n```json\r\n  &quot;aggs&quot;: {\r\n    &quot;tx_count&quot;: {\r\n      &quot;terms&quot;: {\r\n        &quot;script&quot;: {\r\n          &quot;inline&quot;: &quot;if(doc[&#39;transactions&#39;].size&gt;1){return 1;} else {return 0;}&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nI also tried using this aggregation within a nested aggregation. Is there a way to do this?\r\n\r\nI&#39;m on ES version 5.6 currently.","title":"How to aggregate on size of nested document in ElasticSearch?","body":"<p>Nested field name is transactions.</p>\n<p>Each document has a list of transactions.</p>\n<p>I wish to aggregate on the number of transactions. Information i seek is the number Nf documents with more than one transaction.</p>\n<p>I tried the following :</p>\n<pre class=\"lang-json prettyprint-override\"><code>  &quot;aggs&quot;: {\n    &quot;tx_count&quot;: {\n      &quot;terms&quot;: {\n        &quot;script&quot;: {\n          &quot;inline&quot;: &quot;if(doc['transactions'].size&gt;1){return 1;} else {return 0;}&quot;\n        }\n      }\n    }\n  }\n</code></pre>\n<p>I also tried using this aggregation within a nested aggregation. Is there a way to do this?</p>\n<p>I'm on ES version 5.6 currently.</p>\n"},{"tags":["java","amazon-dynamodb","aws-java-sdk"],"answers":[{"comments":[{"owner":{"account_id":3433480,"reputation":982,"user_id":2877155,"accept_rate":50,"display_name":"Deepak"},"score":0,"creation_date":1597522183,"post_id":63425083,"comment_id":112162298,"body_markdown":"Thank you but this dint help. I added that annotatiion you mentioned but no luck.","body":"Thank you but this dint help. I added that annotatiion you mentioned but no luck."},{"owner":{"account_id":19204730,"reputation":107,"user_id":14031873,"display_name":"Anwesh Mohapatra"},"score":2,"creation_date":1632294579,"post_id":63425083,"comment_id":122449873,"body_markdown":"any idea about the sdk v2 equivalent of @DynamoDBDocument?","body":"any idea about the sdk v2 equivalent of @DynamoDBDocument?"},{"owner":{"account_id":11517390,"reputation":2361,"user_id":8440358,"accept_rate":100,"display_name":"Hasitha Jayawardana"},"score":0,"creation_date":1666474643,"post_id":63425083,"comment_id":130947133,"body_markdown":"@AnweshMohapatra Check [this](https://github.com/aws/aws-sdk-java-v2/issues/2265)","body":"@AnweshMohapatra Check <a href=\"https://github.com/aws/aws-sdk-java-v2/issues/2265\" rel=\"nofollow noreferrer\">this</a>"}],"tags":[],"owner":{"account_id":4348522,"reputation":568,"user_id":3549742,"display_name":"mango"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597487894,"creation_date":1597487894,"answer_id":63425083,"question_id":63422042,"body_markdown":"Add [@DynamoDbDocument][1] annotation on **UserAction** class. This annotation will ensure the instance of UserAction class is correctly serialized to a Dynamo DB sub-document before persisting in table.\r\n\r\n___\r\n\r\n    @DynamoDbDocument\r\n    class UserAction{\r\n        //...............\r\n        //...............\r\n    }\r\n\r\n___\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBDocument.html","title":"Use of DynamoDB annotations in nested objects","body":"<p>Add <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBDocument.html\" rel=\"nofollow noreferrer\">@DynamoDbDocument</a> annotation on <strong>UserAction</strong> class. This annotation will ensure the instance of UserAction class is correctly serialized to a Dynamo DB sub-document before persisting in table.</p>\n<hr />\n<pre><code>@DynamoDbDocument\nclass UserAction{\n    //...............\n    //...............\n}\n</code></pre>\n<hr />\n"},{"tags":[],"owner":{"account_id":11517390,"reputation":2361,"user_id":8440358,"accept_rate":100,"display_name":"Hasitha Jayawardana"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666474944,"creation_date":1666474944,"answer_id":74167297,"question_id":63422042,"body_markdown":"If anyone is looking for a v2 equivalent of `@DynamoDBDocument`, the following is the annotated way of doing it. For more information check [this][1] out. \r\n\r\n    @DynamoDbBean\r\n    class entity1 {\r\n        \r\n        private List&lt;UserAction&gt; userActions;\r\n    }\r\n    \r\n    @DynamoDbBean\r\n    class UserAction {\r\n    \r\n        private String actionId;\r\n    \r\n        private Long createdTime;\r\n    }\r\n\r\n\r\n  [1]: https://github.com/aws/aws-sdk-java-v2/issues/2265","title":"Use of DynamoDB annotations in nested objects","body":"<p>If anyone is looking for a v2 equivalent of <code>@DynamoDBDocument</code>, the following is the annotated way of doing it. For more information check <a href=\"https://github.com/aws/aws-sdk-java-v2/issues/2265\" rel=\"nofollow noreferrer\">this</a> out.</p>\n<pre><code>@DynamoDbBean\nclass entity1 {\n    \n    private List&lt;UserAction&gt; userActions;\n}\n\n@DynamoDbBean\nclass UserAction {\n\n    private String actionId;\n\n    private Long createdTime;\n}\n</code></pre>\n"}],"owner":{"account_id":3433480,"reputation":982,"user_id":2877155,"accept_rate":50,"display_name":"Deepak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2035,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1666474944,"creation_date":1597458736,"question_id":63422042,"body_markdown":"I am trying to use DynamoDB annotations in nested objects as below:\r\n\r\n    @DynamoDBTable(tableName=xyz)\r\n    class entity1{\r\n        @DynamoDBAttribute\r\n        @DynamoDBTypeConvertedJson\r\n        private List&lt;UserAction&gt; userActions;\r\n    }\r\n\r\n    class UserAction{\r\n        @DynamoDBAutoGeneratedKey\r\n\t    private String actionId;\r\n\r\n        @DynamoDBAttribute\r\n\t    @DynamoDBAutoGeneratedTimestamp(strategy = DynamoDBAutoGenerateStrategy.CREATE)\r\n\t    private Long createdTime;\r\n    }\r\n\r\nI dont see the above attributes are auto generated in UserAction class. I would like to know if these annotation usages are supported in nested objects or not. Please suggest.","title":"Use of DynamoDB annotations in nested objects","body":"<p>I am trying to use DynamoDB annotations in nested objects as below:</p>\n<pre><code>@DynamoDBTable(tableName=xyz)\nclass entity1{\n    @DynamoDBAttribute\n    @DynamoDBTypeConvertedJson\n    private List&lt;UserAction&gt; userActions;\n}\n\nclass UserAction{\n    @DynamoDBAutoGeneratedKey\n    private String actionId;\n\n    @DynamoDBAttribute\n    @DynamoDBAutoGeneratedTimestamp(strategy = DynamoDBAutoGenerateStrategy.CREATE)\n    private Long createdTime;\n}\n</code></pre>\n<p>I dont see the above attributes are auto generated in UserAction class. I would like to know if these annotation usages are supported in nested objects or not. Please suggest.</p>\n"},{"tags":["java","reactjs","curl","postman"],"answers":[{"comments":[{"owner":{"account_id":26253611,"reputation":1,"user_id":19926019,"display_name":"ihaveaquestionn"},"score":0,"creation_date":1666475055,"post_id":74167270,"comment_id":130947181,"body_markdown":"I&#39;ve seen this link before and I tried everything that mentioned in text and doesn&#39;t fix it. only when I tried with post curl without file sending (json request body, path variable, request params etc.), I take correct request method. Namely, It doesn&#39;t turns to GET Request. Only when I try file sending, It turns to get request","body":"I&#39;ve seen this link before and I tried everything that mentioned in text and doesn&#39;t fix it. only when I tried with post curl without file sending (json request body, path variable, request params etc.), I take correct request method. Namely, It doesn&#39;t turns to GET Request. Only when I try file sending, It turns to get request"},{"owner":{"account_id":17911506,"reputation":35,"user_id":13013527,"display_name":"MadAtTheKeyboard"},"score":0,"creation_date":1666475257,"post_id":74167270,"comment_id":130947212,"body_markdown":"Hm, strange. If you select  &#39;Preserve Log&#39; under devtools what does it say is happening? Also, is it intentional that in your third photo it is an http request instead of https?","body":"Hm, strange. If you select  &#39;Preserve Log&#39; under devtools what does it say is happening? Also, is it intentional that in your third photo it is an http request instead of https?"},{"owner":{"account_id":26253611,"reputation":1,"user_id":19926019,"display_name":"ihaveaquestionn"},"score":0,"creation_date":1666476619,"post_id":74167270,"comment_id":130947422,"body_markdown":"unfortunately, anything didn&#39;t changed with preserve log and there isn&#39;t any error in all logs. everything works correctly. for your second questions, It is intentional. Actually, I tried in other environment which is had https as url and I took the same result.","body":"unfortunately, anything didn&#39;t changed with preserve log and there isn&#39;t any error in all logs. everything works correctly. for your second questions, It is intentional. Actually, I tried in other environment which is had https as url and I took the same result."},{"owner":{"account_id":17911506,"reputation":35,"user_id":13013527,"display_name":"MadAtTheKeyboard"},"score":0,"creation_date":1666478183,"post_id":74167270,"comment_id":130947667,"body_markdown":"And when you track &#39;https://localhost:8080/uploadFile&#39;, a trailing slash isn&#39;t added? I know that can be an issue. ie: it redirects 300 or 301 status code. Might want to try going to the settings tab inside the request and enabling the &quot;Follow original HTTP Method&quot;.","body":"And when you track &#39;<a href=\"https://localhost:8080/uploadFile\" rel=\"nofollow noreferrer\">localhost:8080/uploadFile</a>&#39;, a trailing slash isn&#39;t added? I know that can be an issue. ie: it redirects 300 or 301 status code. Might want to try going to the settings tab inside the request and enabling the &quot;Follow original HTTP Method&quot;."},{"owner":{"account_id":26253611,"reputation":1,"user_id":19926019,"display_name":"ihaveaquestionn"},"score":1,"creation_date":1666545064,"post_id":74167270,"comment_id":130957481,"body_markdown":"yes, additionally I tried again all methods that are mentioned in your text and nothing changed.","body":"yes, additionally I tried again all methods that are mentioned in your text and nothing changed."},{"owner":{"account_id":17911506,"reputation":35,"user_id":13013527,"display_name":"MadAtTheKeyboard"},"score":0,"creation_date":1666566259,"post_id":74167270,"comment_id":130961672,"body_markdown":"Then I apologize, for I am out of my league here. Best of luck though, and hopefully someone else will have an idea!","body":"Then I apologize, for I am out of my league here. Best of luck though, and hopefully someone else will have an idea!"}],"tags":[],"owner":{"account_id":17911506,"reputation":35,"user_id":13013527,"display_name":"MadAtTheKeyboard"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666474721,"creation_date":1666474721,"answer_id":74167270,"question_id":74167232,"body_markdown":"Would make this as a comment, but I cant comment yet. A quick search turned this up\r\nhttps://support.postman.com/hc/en-us/articles/211913929-My-request-is-redirected-to-a-GET-request#:~:text=To%20do%20this%2C%20open%20the,Follow%20original%20HTTP%20method%20option.\r\n\r\nYou are experiencing one of the following issues\r\n\r\n - **All of your requests are sent as GET requests,** no matter which HTTP request method you select.\r\n - The original HTTP request method you selected is not preserved when there is a redirect between HTTP and HTTPS.\r\n\r\n\r\nWhat to expect\r\n\r\nPostman automatically redirects requests that return a 3xx response. Note: To check for a 3xx response, use the Postman console and verify whether it shows a 3xx response. If so, it indicates a redirection. If not, submit a support request (see below).\r\n\r\nHow to unblock yourself\r\n\r\n - Disable the automatic redirection for 3xx responses. To do this, open the Settings tab of your request and toggle off the Automatically follow redirects option.\r\n - Force your request to follow the original HTTP method. To do so, open the Settings tab of the request and toggle on the Follow original HTTP method option.\r\n - If your API service provider uses Nginx as a web server, add a trailing slash ( / ) on the request URL.\r\n - If none of these options help, reach out to your API service provider for assistance.\r\n\r\n","title":"POST cURL turns to GET cURL","body":"<p>Would make this as a comment, but I cant comment yet. A quick search turned this up\n<a href=\"https://support.postman.com/hc/en-us/articles/211913929-My-request-is-redirected-to-a-GET-request#:%7E:text=To%20do%20this%2C%20open%20the,Follow%20original%20HTTP%20method%20option\" rel=\"nofollow noreferrer\">https://support.postman.com/hc/en-us/articles/211913929-My-request-is-redirected-to-a-GET-request#:~:text=To%20do%20this%2C%20open%20the,Follow%20original%20HTTP%20method%20option</a>.</p>\n<p>You are experiencing one of the following issues</p>\n<ul>\n<li><strong>All of your requests are sent as GET requests,</strong> no matter which HTTP request method you select.</li>\n<li>The original HTTP request method you selected is not preserved when there is a redirect between HTTP and HTTPS.</li>\n</ul>\n<p>What to expect</p>\n<p>Postman automatically redirects requests that return a 3xx response. Note: To check for a 3xx response, use the Postman console and verify whether it shows a 3xx response. If so, it indicates a redirection. If not, submit a support request (see below).</p>\n<p>How to unblock yourself</p>\n<ul>\n<li>Disable the automatic redirection for 3xx responses. To do this, open the Settings tab of your request and toggle off the Automatically follow redirects option.</li>\n<li>Force your request to follow the original HTTP method. To do so, open the Settings tab of the request and toggle on the Follow original HTTP method option.</li>\n<li>If your API service provider uses Nginx as a web server, add a trailing slash ( / ) on the request URL.</li>\n<li>If none of these options help, reach out to your API service provider for assistance.</li>\n</ul>\n"}],"owner":{"account_id":26253611,"reputation":1,"user_id":19926019,"display_name":"ihaveaquestionn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666474725,"creation_date":1666474293,"question_id":74167232,"body_markdown":"I&#39;ve an app which are used springboot in backend and react in frontend. Everything works correctly in app. Only I wonder that when cURL are taken over chrome and edge, then are used in postman, It turns to GET request. I don&#39;t understand why it turns to GET request. (Step 3 in shared image)\r\n\r\nTo repeat the scenario. I summarized my codes.\r\n\r\nFor Backend: \r\n\r\n\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestPart;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n\r\n    @RestController\r\n    @CrossOrigin\r\n    public class TestApi {\r\n      @PostMapping(&quot;/uploadFile&quot;)\r\n      public void uploadFile(@RequestPart MultipartFile multipartFile) {\r\n          System.out.println(multipartFile.getName());\r\n      }\r\n    }\r\n\r\nFor Frontend : \r\n\r\n    import FormControl from &#39;@mui/material/FormControl&#39;;  \r\n    import CssBaseline from &#39;@mui/material/CssBaseline&#39;; \r\n    import Container from &#39;@mui/material/Container&#39;;    \r\n    import Grid from &#39;@mui/material/Grid&#39;;  \r\n    import React, { useState } from &#39;react&#39;;\r\n    import axios from &#39;axios&#39;;\r\n\r\n    function ManagementAuth() {  \r\n       const [imageFile, setImageFile] = useState([]);    \r\n\r\n       const fileSelectedHandler = (event) =&gt; {\r\n          setImageFile(event.target.files[0]);\r\n       }; \r\n\r\n    const fileUploadHandler = (event) =&gt; {\r\n        const fd = new FormData();\r\n        fd.append(&#39;multipartFile&#39;, imageFile, imageFile.name);\r\n        axios.post(&#39;http://localhost:8080/uploadFile&#39;, fd)\r\n        .then(res =&gt; {\r\n            console.log(res);\r\n        });\r\n    }; \r\n\r\n    return (\r\n        &lt;React.Fragment&gt;\r\n        &lt;CssBaseline /&gt;\r\n            &lt;Container maxWidth=&quot;sm&quot;&gt;\r\n                &lt;Grid\r\n                    container\r\n                    spacing={0}\r\n                    direction=&quot;column&quot;\r\n                    alignItems=&quot;center&quot;\r\n                    justifyContent=&quot;center&quot;\r\n                    style={{ minHeight: &#39;80vh&#39; }}\r\n                    &gt;        \r\n                    &lt;FormControl sx={{ m: 1, width: &#39;35ch&#39; }} variant=&quot;standard&quot;&gt; \r\n                        &lt;input type=&quot;file&quot; onChange={fileSelectedHandler}/&gt;\r\n                        &lt;button onClick={fileUploadHandler}&gt;Upload&lt;/button&gt;\r\n                    &lt;/FormControl&gt;     \r\n                &lt;/Grid&gt; \r\n            &lt;/Container&gt;\r\n        &lt;/React.Fragment&gt;\r\n      );\r\n    }\r\n\r\n    export default ManagementAuth;\r\n\r\n\r\nAfter run two app,\r\n\r\n[Step 1][1]\r\n\r\n[Step 2][2]\r\n\r\n[Step 3][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bmzfy.png\r\n  [2]: https://i.stack.imgur.com/e39Qg.png\r\n  [3]: https://i.stack.imgur.com/IsBQB.png","title":"POST cURL turns to GET cURL","body":"<p>I've an app which are used springboot in backend and react in frontend. Everything works correctly in app. Only I wonder that when cURL are taken over chrome and edge, then are used in postman, It turns to GET request. I don't understand why it turns to GET request. (Step 3 in shared image)</p>\n<p>To repeat the scenario. I summarized my codes.</p>\n<p>For Backend:</p>\n<pre><code>import org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestPart;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\n\n@RestController\n@CrossOrigin\npublic class TestApi {\n  @PostMapping(&quot;/uploadFile&quot;)\n  public void uploadFile(@RequestPart MultipartFile multipartFile) {\n      System.out.println(multipartFile.getName());\n  }\n}\n</code></pre>\n<p>For Frontend :</p>\n<pre><code>import FormControl from '@mui/material/FormControl';  \nimport CssBaseline from '@mui/material/CssBaseline'; \nimport Container from '@mui/material/Container';    \nimport Grid from '@mui/material/Grid';  \nimport React, { useState } from 'react';\nimport axios from 'axios';\n\nfunction ManagementAuth() {  \n   const [imageFile, setImageFile] = useState([]);    \n\n   const fileSelectedHandler = (event) =&gt; {\n      setImageFile(event.target.files[0]);\n   }; \n\nconst fileUploadHandler = (event) =&gt; {\n    const fd = new FormData();\n    fd.append('multipartFile', imageFile, imageFile.name);\n    axios.post('http://localhost:8080/uploadFile', fd)\n    .then(res =&gt; {\n        console.log(res);\n    });\n}; \n\nreturn (\n    &lt;React.Fragment&gt;\n    &lt;CssBaseline /&gt;\n        &lt;Container maxWidth=&quot;sm&quot;&gt;\n            &lt;Grid\n                container\n                spacing={0}\n                direction=&quot;column&quot;\n                alignItems=&quot;center&quot;\n                justifyContent=&quot;center&quot;\n                style={{ minHeight: '80vh' }}\n                &gt;        \n                &lt;FormControl sx={{ m: 1, width: '35ch' }} variant=&quot;standard&quot;&gt; \n                    &lt;input type=&quot;file&quot; onChange={fileSelectedHandler}/&gt;\n                    &lt;button onClick={fileUploadHandler}&gt;Upload&lt;/button&gt;\n                &lt;/FormControl&gt;     \n            &lt;/Grid&gt; \n        &lt;/Container&gt;\n    &lt;/React.Fragment&gt;\n  );\n}\n\nexport default ManagementAuth;\n</code></pre>\n<p>After run two app,</p>\n<p><a href=\"https://i.stack.imgur.com/bmzfy.png\" rel=\"nofollow noreferrer\">Step 1</a></p>\n<p><a href=\"https://i.stack.imgur.com/e39Qg.png\" rel=\"nofollow noreferrer\">Step 2</a></p>\n<p><a href=\"https://i.stack.imgur.com/IsBQB.png\" rel=\"nofollow noreferrer\">Step 3</a></p>\n"},{"tags":["java","spring","maven","logging","log4j"],"comments":[{"owner":{"account_id":169224,"reputation":5608,"user_id":395181,"display_name":"chkal"},"score":0,"creation_date":1478335855,"post_id":40435623,"comment_id":68120168,"body_markdown":"What&#39;s the exact name of the folder you placed the file in?","body":"What&#39;s the exact name of the folder you placed the file in?"}],"answers":[{"tags":[],"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1478341091,"creation_date":1478340432,"answer_id":40436953,"question_id":40435623,"body_markdown":"By default, Spring Boot configures logging via Logback (http://logback.qos.ch) to log to the console at INFO level.\r\n\r\n*Swapping out Logback for another logging implementation\r\nGenerally speaking, you should never need to switch logging implementations; Logback should suit you fine. However, if you decide that you’d rather use Log4j or Log4j2, you’ll need to change your dependencies to include the appropriate starter for the logging implementation you want to use and to exclude Logback.\r\nFor Maven builds, you can exclude Logback by excluding the default logging starter transitively resolved by the root starter dependency:*\r\n\r\n**Spring Boot in Action\r\nCRAIG WALLS**\r\n\r\n\r\n    &lt;dependencies&gt;\r\n    ...\r\n    &lt;exclusions&gt;\r\n    &lt;exclusion&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    ...\r\n    &lt;/dependencies&gt;\r\n\r\n ","title":"Log4j not picking up log4j.properties file from resources folder","body":"<p>By default, Spring Boot configures logging via Logback (<a href=\"http://logback.qos.ch\" rel=\"nofollow noreferrer\">http://logback.qos.ch</a>) to log to the console at INFO level.</p>\n\n<p><em>Swapping out Logback for another logging implementation\nGenerally speaking, you should never need to switch logging implementations; Logback should suit you fine. However, if you decide that you’d rather use Log4j or Log4j2, you’ll need to change your dependencies to include the appropriate starter for the logging implementation you want to use and to exclude Logback.\nFor Maven builds, you can exclude Logback by excluding the default logging starter transitively resolved by the root starter dependency:</em></p>\n\n<p><strong>Spring Boot in Action\nCRAIG WALLS</strong></p>\n\n<pre><code>&lt;dependencies&gt;\n...\n&lt;exclusions&gt;\n&lt;exclusion&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n&lt;/exclusion&gt;\n&lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n...\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9162680,"reputation":3767,"user_id":6813506,"accept_rate":22,"display_name":"Rohit Gaikwad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666474630,"creation_date":1666474630,"answer_id":74167265,"question_id":40435623,"body_markdown":"Your file name is `log4j.properties`.\r\n\r\n**Rename** it to `log4j2.properties` for Log4j **2.x**.\r\n\r\n**Note**:\r\nIn case of maven project put this file `log4j2.properties` under `src/main/resources` folder.","title":"Log4j not picking up log4j.properties file from resources folder","body":"<p>Your file name is <code>log4j.properties</code>.</p>\n<p><strong>Rename</strong> it to <code>log4j2.properties</code> for Log4j <strong>2.x</strong>.</p>\n<p><strong>Note</strong>:\nIn case of maven project put this file <code>log4j2.properties</code> under <code>src/main/resources</code> folder.</p>\n"}],"owner":{"account_id":3795228,"reputation":93,"user_id":3150522,"accept_rate":82,"display_name":"Ferooz Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1491,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40436953,"answer_count":2,"score":1,"last_activity_date":1666474630,"creation_date":1478328828,"question_id":40435623,"body_markdown":"I&#39;m working on spring project and using log4j for logging. But log4j is using its default logging style and not picking up the properties from the log4j.properties file. &#39;log4.properties&#39; is under resources folder. This is my pom.xml\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.6.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nThis is my log4j.properties file\r\n\r\n    # Root logger option\r\n    log4j.rootLogger=DEBUG, stdout, file\r\n    \r\n    # Direct log messages to a log file\r\n    log4j.appender.file=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.file.File=logs/logging.log\r\n    log4j.appender.file.MaxFileSize=10MB\r\n    log4j.appender.file.MaxBackupIndex=10\r\n    log4j.appender.file.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n    \r\n    # Direct log messages to stdout\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.Target=System.out\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n","title":"Log4j not picking up log4j.properties file from resources folder","body":"<p>I'm working on spring project and using log4j for logging. But log4j is using its default logging style and not picking up the properties from the log4j.properties file. 'log4.properties' is under resources folder. This is my pom.xml</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.3.6.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>This is my log4j.properties file</p>\n\n<pre><code># Root logger option\nlog4j.rootLogger=DEBUG, stdout, file\n\n# Direct log messages to a log file\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.File=logs/logging.log\nlog4j.appender.file.MaxFileSize=10MB\nlog4j.appender.file.MaxBackupIndex=10\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n\n# Direct log messages to stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3925546,"reputation":1220,"user_id":3246177,"accept_rate":25,"display_name":"renke"},"score":0,"creation_date":1393335534,"post_id":22015685,"comment_id":33371103,"body_markdown":"Are you using `mvn -U clean install` while building the dependency or while building the main project?","body":"Are you using <code>mvn -U clean install</code> while building the dependency or while building the main project?"},{"owner":{"account_id":1149899,"reputation":4675,"user_id":1131829,"accept_rate":60,"display_name":"sodik"},"score":0,"creation_date":1393336276,"post_id":22015685,"comment_id":33371680,"body_markdown":"I am using maven only for &quot;main&quot; project. The `fooLib` is not maven project and is build independently. I just want to use newer snapshot of fooLib in my maven (&quot;main&quot;) project.","body":"I am using maven only for &quot;main&quot; project. The <code>fooLib</code> is not maven project and is build independently. I just want to use newer snapshot of fooLib in my maven (&quot;main&quot;) project."},{"owner":{"account_id":3925546,"reputation":1220,"user_id":3246177,"accept_rate":25,"display_name":"renke"},"score":0,"creation_date":1393336436,"post_id":22015685,"comment_id":33371793,"body_markdown":"So you&#39;ll have to install `fooLib`manually, because it will never be updated in your .m2 folder, unless its version changes.","body":"So you&#39;ll have to install <code>fooLib</code>manually, because it will never be updated in your .m2 folder, unless its version changes."}],"answers":[{"comments":[{"owner":{"account_id":1744250,"reputation":6709,"user_id":1594817,"accept_rate":69,"display_name":"Vinay Veluri"},"score":0,"creation_date":1393335354,"post_id":22015754,"comment_id":33370963,"body_markdown":"Isn&#39;t that I can add a dependency with scope as system and add a file path and asking the POM to read it ?","body":"Isn&#39;t that I can add a dependency with scope as system and add a file path and asking the POM to read it ?"},{"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"score":0,"creation_date":1393335455,"post_id":22015754,"comment_id":33371039,"body_markdown":"But since the jar is already present in your local repository, it will always find it before hitting any other repository !","body":"But since the jar is already present in your local repository, it will always find it before hitting any other repository !"},{"owner":{"account_id":1149899,"reputation":4675,"user_id":1131829,"accept_rate":60,"display_name":"sodik"},"score":0,"creation_date":1393336451,"post_id":22015754,"comment_id":33371800,"body_markdown":"so there is no way how to get fresh snapshot of any dependency?","body":"so there is no way how to get fresh snapshot of any dependency?"},{"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"score":0,"creation_date":1393336576,"post_id":22015754,"comment_id":33371884,"body_markdown":"yes there is, you have to add the jar as the dependency to your project and build the jar before building your project. You can go through *parent/module* part for more details","body":"yes there is, you have to add the jar as the dependency to your project and build the jar before building your project. You can go through <i>parent/module</i> part for more details"},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":1,"creation_date":1393337124,"post_id":22015754,"comment_id":33372299,"body_markdown":"While your answer is technically correct, it doesn&#39;t really apply here since the OP has put the JAR inside of a repository which happens to be inside of his project structure. Maven **can** read it from there but the key issue here is that it does that only **once**.","body":"While your answer is technically correct, it doesn&#39;t really apply here since the OP has put the JAR inside of a repository which happens to be inside of his project structure. Maven <b>can</b> read it from there but the key issue here is that it does that only <b>once</b>."},{"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"score":0,"creation_date":1393337361,"post_id":22015754,"comment_id":33372474,"body_markdown":"Will maven not read the jar first from the localRepository(.m2), before looking for it into the project structure ?","body":"Will maven not read the jar first from the localRepository(.m2), before looking for it into the project structure ?"},{"owner":{"account_id":1149899,"reputation":4675,"user_id":1131829,"accept_rate":60,"display_name":"sodik"},"score":0,"creation_date":1393339777,"post_id":22015754,"comment_id":33374363,"body_markdown":"it looks like it is reading. Question is how to force him not to look in .m2 but check the repository instead. `fooLib` is not maven project and I don&#39;t want to build it every time with &quot;main&quot; project.","body":"it looks like it is reading. Question is how to force him not to look in .m2 but check the repository instead. <code>fooLib</code> is not maven project and I don&#39;t want to build it every time with &quot;main&quot; project."}],"tags":[],"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393335206,"creation_date":1393335206,"answer_id":22015754,"question_id":22015685,"body_markdown":"Maven will never read the jar present inside any library folder. You must first understand how maven works. The only place where maven looks for jar is the `localRepository (.m2)`, if absent it searches the other repository, mentioned in your `POM.xml`","title":"Maven 3 does not update snapshot dependency from local repository","body":"<p>Maven will never read the jar present inside any library folder. You must first understand how maven works. The only place where maven looks for jar is the <code>localRepository (.m2)</code>, if absent it searches the other repository, mentioned in your <code>POM.xml</code></p>\n"},{"comments":[{"owner":{"account_id":1149899,"reputation":4675,"user_id":1131829,"accept_rate":60,"display_name":"sodik"},"score":0,"creation_date":1393339554,"post_id":22016482,"comment_id":33374205,"body_markdown":"at first it looks like it has helped, I can see the dependency within `mvn dependency:tree` but it is not added to classpath when executing it e.g. via `mvn exec:java` nor it is added to manifest with `maven-jar-plugin` (however `maven-dependency-plugin:copy-dependencies` works)","body":"at first it looks like it has helped, I can see the dependency within <code>mvn dependency:tree</code> but it is not added to classpath when executing it e.g. via <code>mvn exec:java</code> nor it is added to manifest with <code>maven-jar-plugin</code> (however <code>maven-dependency-plugin:copy-dependencies</code> works)"},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1393341991,"post_id":22016482,"comment_id":33376141,"body_markdown":"Ask a new question and show us how the code you used to add the dependency.","body":"Ask a new question and show us how the code you used to add the dependency."},{"owner":{"account_id":1149899,"reputation":4675,"user_id":1131829,"accept_rate":60,"display_name":"sodik"},"score":0,"creation_date":1393347863,"post_id":22016482,"comment_id":33380924,"body_markdown":"there is already such question (not mine): http://stackoverflow.com/questions/2065928/maven-2-assembly-with-dependencies-jar-under-scope-system-not-included However it is not dealing with snapshots... beside this detail solution is identical to my original one.","body":"there is already such question (not mine): <a href=\"http://stackoverflow.com/questions/2065928/maven-2-assembly-with-dependencies-jar-under-scope-system-not-included\" title=\"maven 2 assembly with dependencies jar under scope system not included\">stackoverflow.com/questions/2065928/&hellip;</a> However it is not dealing with snapshots... beside this detail solution is identical to my original one."},{"owner":{"account_id":1149899,"reputation":4675,"user_id":1131829,"accept_rate":60,"display_name":"sodik"},"score":0,"creation_date":1393347888,"post_id":22016482,"comment_id":33380939,"body_markdown":"my &quot;plugin&quot; is e.g. &#39;\t\t\t&lt;plugin&gt;\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n\t\t\t\t&lt;configuration&gt;\n\t\t\t\t\t&lt;archive&gt;\n\t\t\t\t\t\t&lt;manifest&gt;\n\t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\n\t\t\t\t\t\t\t&lt;useUniqueVersions&gt;false&lt;/useUniqueVersions&gt;\n\t\t\t\t\t\t\t&lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n\t\t\t\t\t\t\t&lt;mainClass&gt;${jar.mainclass}&lt;/mainClass&gt;\n\t\t\t\t\t\t&lt;/manifest&gt;\n\t\t\t\t\t\t&lt;manifestEntries&gt;\n\t\t\t\t\t\t\t&lt;version&gt;${project.version}&lt;/version&gt;\n\t\t\t\t\t\t&lt;/manifestEntries&gt;\n\t\t\t\t\t&lt;/archive&gt;\n\t\t\t\t&lt;/configuration&gt;\n\t\t\t&lt;/plugin&gt;\n&#39;","body":"my &quot;plugin&quot; is e.g. &#39;\t\t\t&lt;plugin&gt; \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; \t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt; \t\t\t\t&lt;configuration&gt; \t\t\t\t\t&lt;archive&gt; \t\t\t\t\t\t&lt;manifest&gt; \t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt; \t\t\t\t\t\t\t&lt;useUniqueVersions&gt;false&lt;/useUniqueVersions&gt; \t\t\t\t\t\t\t&lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt; \t\t\t\t\t\t\t&lt;mainClass&gt;${jar.mainclass}&lt;/mainClass&gt; \t\t\t\t\t\t&lt;/manifest&gt; \t\t\t\t\t\t&lt;manifestEntries&gt; \t\t\t\t\t\t\t&lt;version&gt;${project.version}&lt;/version&gt; \t\t\t\t\t\t&lt;/manifestEntries&gt; \t\t\t\t\t&lt;/archive&gt; \t\t\t\t&lt;/configuration&gt; \t\t\t&lt;/plugin&gt; &#39;"},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1393404835,"post_id":22016482,"comment_id":33407731,"body_markdown":"I&#39;m confused. The question doesn&#39;t seem to be related (it deals with building assemblies and not with `exec:java`. Also why do you post the config for the JAR plugin when you want to know how to add a dependency?","body":"I&#39;m confused. The question doesn&#39;t seem to be related (it deals with building assemblies and not with <code>exec:java</code>. Also why do you post the config for the JAR plugin when you want to know how to add a dependency?"},{"owner":{"account_id":1149899,"reputation":4675,"user_id":1131829,"accept_rate":60,"display_name":"sodik"},"score":0,"creation_date":1393405306,"post_id":22016482,"comment_id":33408035,"body_markdown":"all is connected with dependencies. `exec:java` shall put all dependencies on classpath, but is not happening for system dependencies, so I am getting NoClassDefFound. And if you check JAR plugin, it shall add classpath to manifest, and in this case there is a same problem with system dependencies.","body":"all is connected with dependencies. <code>exec:java</code> shall put all dependencies on classpath, but is not happening for system dependencies, so I am getting NoClassDefFound. And if you check JAR plugin, it shall add classpath to manifest, and in this case there is a same problem with system dependencies."},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1393405483,"post_id":22016482,"comment_id":33408160,"body_markdown":"I begin to understand where this is going. See my edits.","body":"I begin to understand where this is going. See my edits."},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1393405583,"post_id":22016482,"comment_id":33408222,"body_markdown":"You write &quot;local .m2 repo is explicitly updated every time&quot;. Do you have any proof for that? Do you see Maven download the JAR from `libRepo` every time you run it?","body":"You write &quot;local .m2 repo is explicitly updated every time&quot;. Do you have any proof for that? Do you see Maven download the JAR from <code>libRepo</code> every time you run it?"},{"owner":{"account_id":1149899,"reputation":4675,"user_id":1131829,"accept_rate":60,"display_name":"sodik"},"score":0,"creation_date":1393428717,"post_id":22016482,"comment_id":33425188,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/48494/discussion-between-sodik-and-aaron-digulla)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/48494/discussion-between-sodik-and-aaron-digulla\">continue this discussion in chat</a>"}],"tags":[],"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":9,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1393432102,"creation_date":1393336964,"answer_id":22016482,"question_id":22015685,"body_markdown":"If you use a repository for this, then Maven will copy the JAR once into it&#39;s local repository (usually in `$HOME/.m2/repository/`). Unless the version number changes, Maven won&#39;t consider this file to have changed and it won&#39;t copy it. Note that the version number is the only thing that Maven looks at; it doesn&#39;t care about checksums or file sizes or dates.\n\nIncidentally, snapshots are assigned a version number internally for just this purpose: So that Maven can internally notice that a snapshot has been updated.\n\nI suggest to use a [system dependency][1] instead. That way, the actual JAR is going to be added to the classpath (without any copying or stuff). You also don&#39;t need to replicate a repo structure for this approach and it will clearly communicate your intent.\n\n**[EDIT]** I understand that Maven handles dependencies with scope `system` differently. I&#39;m not sure whether this makes sense or not (if it uses the dependency to compile, it surely can use it to run?)\n\nAs I see it, you have these options:\n\n1. Install the dependency into your `libRepo` using [deploy:deploy-file][2] instead of copying it yourself. That should update the meta data in such a way that Maven will copy it again when you run `mvn install` again on the real project.\n\n   Note that `file:install` doesn&#39;t work. The file plugin is used to access the local repository but you need to use the deploy plugin which knows how to update a shared / server repository.\n\n1. Install the dependency into your local repo; I suggest to use a script for this that you can include in your project. That way, you avoid all the problems and it will be easy to set this up on a new machine.\n\n1. Change the version number of the dependency but that&#39;s tedious and you might get into trouble when the real version number of the dependency changes.\n\n1. Set up a local repo server for your company and deploy the dependency to it. That will take a few hours but a) you will get a local cache of all your dependencies, making your initial builds faster and b) it will make setup for additional developers much faster.\n\n\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#System_Dependencies\n  [2]: http://maven.apache.org/plugins/maven-deploy-plugin/deploy-file-mojo.html","title":"Maven 3 does not update snapshot dependency from local repository","body":"<p>If you use a repository for this, then Maven will copy the JAR once into it's local repository (usually in <code>$HOME/.m2/repository/</code>). Unless the version number changes, Maven won't consider this file to have changed and it won't copy it. Note that the version number is the only thing that Maven looks at; it doesn't care about checksums or file sizes or dates.</p>\n<p>Incidentally, snapshots are assigned a version number internally for just this purpose: So that Maven can internally notice that a snapshot has been updated.</p>\n<p>I suggest to use a <a href=\"http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#System_Dependencies\" rel=\"noreferrer\">system dependency</a> instead. That way, the actual JAR is going to be added to the classpath (without any copying or stuff). You also don't need to replicate a repo structure for this approach and it will clearly communicate your intent.</p>\n<p><strong>[EDIT]</strong> I understand that Maven handles dependencies with scope <code>system</code> differently. I'm not sure whether this makes sense or not (if it uses the dependency to compile, it surely can use it to run?)</p>\n<p>As I see it, you have these options:</p>\n<ol>\n<li><p>Install the dependency into your <code>libRepo</code> using <a href=\"http://maven.apache.org/plugins/maven-deploy-plugin/deploy-file-mojo.html\" rel=\"noreferrer\">deploy:deploy-file</a> instead of copying it yourself. That should update the meta data in such a way that Maven will copy it again when you run <code>mvn install</code> again on the real project.</p>\n<p>Note that <code>file:install</code> doesn't work. The file plugin is used to access the local repository but you need to use the deploy plugin which knows how to update a shared / server repository.</p>\n</li>\n<li><p>Install the dependency into your local repo; I suggest to use a script for this that you can include in your project. That way, you avoid all the problems and it will be easy to set this up on a new machine.</p>\n</li>\n<li><p>Change the version number of the dependency but that's tedious and you might get into trouble when the real version number of the dependency changes.</p>\n</li>\n<li><p>Set up a local repo server for your company and deploy the dependency to it. That will take a few hours but a) you will get a local cache of all your dependencies, making your initial builds faster and b) it will make setup for additional developers much faster.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4239567,"reputation":734,"user_id":3469861,"display_name":"JackLeEmmerdeur"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468336873,"creation_date":1468336873,"answer_id":38333001,"question_id":22015685,"body_markdown":"The previous answerer (and one commenter) pointed out, that maven looks within the local project-repository only once, and on subsequent builds it gets the cached jar from the .m2-repository.\r\n\r\nI just [found](https://stackoverflow.com/questions/21341103/how-can-i-execute-the-opposite-of-mvn-install-from-a-script-that-does-not-know-t) a workaround for the need to increment the version number (e.g. on small changes of a dev-library):\r\n\r\nFirst reinstall the jar into your local project-repository:\r\n    \r\n    mvn install:install-file -DlocalRepositoryPath=repo -DcreateChecksum=true -Dpackaging=jar -DgroupId=com.johndoe.dev -DartifactId=Helpers -Dversion=0.1 -Dfile=C:/path/to/helpers.jar\r\n(Where -Dfile could point to an external Project which produces the helpers.jar)\r\n\r\nThen purge just this specific artifact in the .m2-repository:\r\n\r\n    mvn dependency:purge-local-repository -DmanualInclude=com.johndoe.dev:Helpers:0.1\r\n(With com.johndoe.dev as the GroupId, Helpers as the ArtifactId and the same version installed in the previous step)\r\n\r\nExecuting the latter step, maven rebuilds the artifact inside .m2 using your local project-repository jar-file.\r\n\r\nAlternative and maybe dirty variant:\r\nJust copy helpers.jar to C:\\Users\\johndoe\\\\.m2\\repository\\com\\johndoe\\dev\\Helpers\\0.1\\Helpers-0.1.jar (don&#39;t know about linux as I haven&#39;t used mave there).","title":"Maven 3 does not update snapshot dependency from local repository","body":"<p>The previous answerer (and one commenter) pointed out, that maven looks within the local project-repository only once, and on subsequent builds it gets the cached jar from the .m2-repository.</p>\n\n<p>I just <a href=\"https://stackoverflow.com/questions/21341103/how-can-i-execute-the-opposite-of-mvn-install-from-a-script-that-does-not-know-t\">found</a> a workaround for the need to increment the version number (e.g. on small changes of a dev-library):</p>\n\n<p>First reinstall the jar into your local project-repository:</p>\n\n<pre><code>mvn install:install-file -DlocalRepositoryPath=repo -DcreateChecksum=true -Dpackaging=jar -DgroupId=com.johndoe.dev -DartifactId=Helpers -Dversion=0.1 -Dfile=C:/path/to/helpers.jar\n</code></pre>\n\n<p>(Where -Dfile could point to an external Project which produces the helpers.jar)</p>\n\n<p>Then purge just this specific artifact in the .m2-repository:</p>\n\n<pre><code>mvn dependency:purge-local-repository -DmanualInclude=com.johndoe.dev:Helpers:0.1\n</code></pre>\n\n<p>(With com.johndoe.dev as the GroupId, Helpers as the ArtifactId and the same version installed in the previous step)</p>\n\n<p>Executing the latter step, maven rebuilds the artifact inside .m2 using your local project-repository jar-file.</p>\n\n<p>Alternative and maybe dirty variant:\nJust copy helpers.jar to C:\\Users\\johndoe\\.m2\\repository\\com\\johndoe\\dev\\Helpers\\0.1\\Helpers-0.1.jar (don't know about linux as I haven't used mave there).</p>\n"}],"owner":{"account_id":1149899,"reputation":4675,"user_id":1131829,"accept_rate":60,"display_name":"sodik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32061,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":22016482,"answer_count":3,"score":9,"last_activity_date":1666473571,"creation_date":1393335033,"question_id":22015685,"body_markdown":"I am trying to use external library inside my maven project. Since I want the project to build out of the box on any machine, I don&#39;t want to use `mvn install` solution. I have therefore defined local repository in my pom.xml:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;fooLib&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t....\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;in-project&lt;/id&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\r\n\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t\t&lt;name&gt;In Project Repo&lt;/name&gt;\r\n\t\t\t&lt;url&gt;file://${project.basedir}/libRepo&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n \r\nThe problem is when I replace the jar in `libRepo` (without updating version number since it is just another snapshot) that this updated jar is not used (old version from `.m2` directory is used instead) even for `mvn -U clean install`\r\nHow to make maven to update this jar?\r\n\r\n**EDIT**:\r\nAccording to https://stackoverflow.com/questions/5901378/what-exactly-is-a-maven-snapshot-and-why-do-we-need-it maven shall try to find newer version of SNAPSHOT dependency, &quot;even if a version of this library is found on the local repository&quot;. What is wrong with my setting?\r\n\r\n**DIRTY SOLUTION**:\r\nBased on answer from https://stackoverflow.com/questions/2065928/maven-2-assembly-with-dependencies-jar-under-scope-system-not-included following extension of my original solution seems to work:\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;hack-binary&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;file&gt;${repo.path.to.jar}&lt;/file&gt;\r\n\t\t\t\t\t\t\t&lt;repositoryLayout&gt;default&lt;/repositoryLayout&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;fooLib&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t\t\t\t\t\t\t&lt;generatePom&gt;true&lt;/generatePom&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;install-file&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nAs mentioned in comment to that solution, it does not work alone, thus it works in combination with `in-project` repository (which works when the dependency is not available in local `.m2` repository) and this second parts refreshes `.m2` during every build. \r\n\r\nHowever it is still not clear to me why ordinary &quot;SNAPSHOT&quot; mechanism does not work (i.e. current dirty solution would work also without SNAPSHOTs as local `.m2` repo is explicitly updated every time). Is there any cleaner way?\r\n\r\n**SOLUTION** (based on Aaron&#39;s answer &amp; discussion): The problem was that I tried to install file into `libRepo` using `install-file`. The actual solution is that if library updates, use \r\n\r\n    mvn deploy:deploy-file -Dfile=fooLib.jar  -DgroupId=com.test \\\r\n        -DartifactId=fooLib -Dversion=1.0-SNAPSHOT -Dpackaging=jar \\\r\n        -Durl=file://..\\libRepo -DrepositoryId=in-project\r\n\r\nto deployed it to repo. After proper deploy, maven correctly handles SNAPSHOTs.","title":"Maven 3 does not update snapshot dependency from local repository","body":"<p>I am trying to use external library inside my maven project. Since I want the project to build out of the box on any machine, I don't want to use <code>mvn install</code> solution. I have therefore defined local repository in my pom.xml:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\n        &lt;artifactId&gt;fooLib&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n    ....\n    &lt;repository&gt;\n        &lt;id&gt;in-project&lt;/id&gt;\n        &lt;snapshots&gt;\n            &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n        &lt;name&gt;In Project Repo&lt;/name&gt;\n        &lt;url&gt;file://${project.basedir}/libRepo&lt;/url&gt;\n    &lt;/repository&gt;\n</code></pre>\n<p>The problem is when I replace the jar in <code>libRepo</code> (without updating version number since it is just another snapshot) that this updated jar is not used (old version from <code>.m2</code> directory is used instead) even for <code>mvn -U clean install</code>\nHow to make maven to update this jar?</p>\n<p><strong>EDIT</strong>:\nAccording to <a href=\"https://stackoverflow.com/questions/5901378/what-exactly-is-a-maven-snapshot-and-why-do-we-need-it\">What exactly is a Maven Snapshot and why do we need it?</a> maven shall try to find newer version of SNAPSHOT dependency, &quot;even if a version of this library is found on the local repository&quot;. What is wrong with my setting?</p>\n<p><strong>DIRTY SOLUTION</strong>:\nBased on answer from <a href=\"https://stackoverflow.com/questions/2065928/maven-2-assembly-with-dependencies-jar-under-scope-system-not-included\">Maven 2 assembly with dependencies: jar under scope &quot;system&quot; not included</a> following extension of my original solution seems to work:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;hack-binary&lt;/id&gt;\n                    &lt;phase&gt;validate&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;file&gt;${repo.path.to.jar}&lt;/file&gt;\n                        &lt;repositoryLayout&gt;default&lt;/repositoryLayout&gt;\n                        &lt;groupId&gt;com.test&lt;/groupId&gt;\n                        &lt;artifactId&gt;fooLib&lt;/artifactId&gt;\n                        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n                        &lt;packaging&gt;jar&lt;/packaging&gt;\n                        &lt;generatePom&gt;true&lt;/generatePom&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;install-file&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>As mentioned in comment to that solution, it does not work alone, thus it works in combination with <code>in-project</code> repository (which works when the dependency is not available in local <code>.m2</code> repository) and this second parts refreshes <code>.m2</code> during every build.</p>\n<p>However it is still not clear to me why ordinary &quot;SNAPSHOT&quot; mechanism does not work (i.e. current dirty solution would work also without SNAPSHOTs as local <code>.m2</code> repo is explicitly updated every time). Is there any cleaner way?</p>\n<p><strong>SOLUTION</strong> (based on Aaron's answer &amp; discussion): The problem was that I tried to install file into <code>libRepo</code> using <code>install-file</code>. The actual solution is that if library updates, use</p>\n<pre><code>mvn deploy:deploy-file -Dfile=fooLib.jar  -DgroupId=com.test \\\n    -DartifactId=fooLib -Dversion=1.0-SNAPSHOT -Dpackaging=jar \\\n    -Durl=file://..\\libRepo -DrepositoryId=in-project\n</code></pre>\n<p>to deployed it to repo. After proper deploy, maven correctly handles SNAPSHOTs.</p>\n"},{"tags":["java","json","jackson","gson","json-deserialization"],"comments":[{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1666294253,"post_id":74145298,"comment_id":130909172,"body_markdown":"First you have to make us understand the business logic you want to ,meet. E.g. from where hr 65 and 67 are coming. And from where rr 45 and 23 are coming. Similarly from where timestamp is coming, and how snoring is calculated in the resultant json? You did not tell about that.","body":"First you have to make us understand the business logic you want to ,meet. E.g. from where hr 65 and 67 are coming. And from where rr 45 and 23 are coming. Similarly from where timestamp is coming, and how snoring is calculated in the resultant json? You did not tell about that."},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":1,"creation_date":1666294344,"post_id":74145298,"comment_id":130909198,"body_markdown":"Secondly, share your code of your most successful attempt. What have you tried so far. And what is not working in that attempt.","body":"Secondly, share your code of your most successful attempt. What have you tried so far. And what is not working in that attempt."},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1666294427,"post_id":74145298,"comment_id":130909217,"body_markdown":"That looks like medical data in which the key is a timestamp. You probably need to deserialise it to an object and then do any aggregation you need. You can see how to deserailize into a map in this other question: https://stackoverflow.com/questions/35465273/jackson-de-serialize-json-with-dynamic-key","body":"That looks like medical data in which the key is a timestamp. You probably need to deserialise it to an object and then do any aggregation you need. You can see how to deserailize into a map in this other question: <a href=\"https://stackoverflow.com/questions/35465273/jackson-de-serialize-json-with-dynamic-key\" title=\"jackson de serialize json with dynamic key\">stackoverflow.com/questions/35465273/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1666299179,"post_id":74145298,"comment_id":130910658,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":14101478,"reputation":3,"user_id":10186726,"display_name":"Abul Bashar"},"score":0,"creation_date":1666361150,"post_id":74147884,"comment_id":130925565,"body_markdown":"Thanks.. @raymond-choi\nIt&#39;s working! i just need to have each of these as a one output to store it in Influx-DB. \nIs it possible?\nLike;\n`{\n  &quot;user_id&quot; : 30826889,\n  &quot;timestamp&quot; : &quot;1664325660&quot;,\n  &quot;hr&quot; : 65,\n  &quot;rr&quot; : 18,\n  &quot;snoring&quot; : 0\n}`\nAnd so on for others","body":"Thanks.. @raymond-choi It&#39;s working! i just need to have each of these as a one output to store it in Influx-DB.  Is it possible? Like; <code>{   &quot;user_id&quot; : 30826889,   &quot;timestamp&quot; : &quot;1664325660&quot;,   &quot;hr&quot; : 65,   &quot;rr&quot; : 18,   &quot;snoring&quot; : 0 }</code> And so on for others"},{"owner":{"account_id":14101478,"reputation":3,"user_id":10186726,"display_name":"Abul Bashar"},"score":0,"creation_date":1666362085,"post_id":74147884,"comment_id":130925924,"body_markdown":"Can i make it like a loop..?","body":"Can i make it like a loop..?"},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1666363553,"post_id":74147884,"comment_id":130926524,"body_markdown":"BTW, please study `Jackson` and learn how to use the basic operation on JSON.","body":"BTW, please study <code>Jackson</code> and learn how to use the basic operation on JSON."},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1666456638,"post_id":74147884,"comment_id":130943644,"body_markdown":"The _Josson_ query also work for your updated JSON array. I&#39;ve updated my answer.","body":"The <i>Josson</i> query also work for your updated JSON array. I&#39;ve updated my answer."}],"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666456924,"creation_date":1666315914,"answer_id":74147884,"question_id":74145298,"body_markdown":"Your question is not clear. Tell me whether this output is what you want.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\nDeserialization\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;[&quot; +\r\n        &quot;   {&quot; +\r\n        &quot;      \\&quot;user_id\\&quot;:30826889,&quot; +\r\n        &quot;      \\&quot;hr\\&quot;:{&quot; +\r\n        &quot;         \\&quot;1664325660\\&quot;:65,&quot; +\r\n        &quot;         \\&quot;1664325720\\&quot;:65,&quot; +\r\n        &quot;         \\&quot;1664325780\\&quot;:70&quot; +\r\n        &quot;      },&quot; +\r\n        &quot;      \\&quot;rr\\&quot;:{&quot; +\r\n        &quot;         \\&quot;1664325660\\&quot;:18,&quot; +\r\n        &quot;         \\&quot;1664325720\\&quot;:17,&quot; +\r\n        &quot;         \\&quot;1664325780\\&quot;:15&quot; +\r\n        &quot;      },&quot; +\r\n        &quot;      \\&quot;snoring\\&quot;:{&quot; +\r\n        &quot;         \\&quot;1664325660\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664325720\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664325780\\&quot;:0&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;   },&quot; +\r\n        &quot;   {&quot; +\r\n        &quot;      \\&quot;user_id\\&quot;:30826889,&quot; +\r\n        &quot;      \\&quot;hr\\&quot;:{&quot; +\r\n        &quot;         \\&quot;1664340780\\&quot;:72,&quot; +\r\n        &quot;         \\&quot;1664340840\\&quot;:70,&quot; +\r\n        &quot;         \\&quot;1664340900\\&quot;:71,&quot; +\r\n        &quot;         \\&quot;1664340960\\&quot;:70,&quot; +\r\n        &quot;         \\&quot;1664341020\\&quot;:67,&quot; +\r\n        &quot;         \\&quot;1664341080\\&quot;:71,&quot; +\r\n        &quot;         \\&quot;1664341140\\&quot;:69,&quot; +\r\n        &quot;         \\&quot;1664341200\\&quot;:68,&quot; +\r\n        &quot;         \\&quot;1664341260\\&quot;:66,&quot; +\r\n        &quot;         \\&quot;1664341320\\&quot;:68&quot; +\r\n        &quot;      },&quot; +\r\n        &quot;      \\&quot;rr\\&quot;:{&quot; +\r\n        &quot;         \\&quot;1664340780\\&quot;:20,&quot; +\r\n        &quot;         \\&quot;1664340840\\&quot;:20,&quot; +\r\n        &quot;         \\&quot;1664340900\\&quot;:19,&quot; +\r\n        &quot;         \\&quot;1664340960\\&quot;:20,&quot; +\r\n        &quot;         \\&quot;1664341020\\&quot;:19,&quot; +\r\n        &quot;         \\&quot;1664341080\\&quot;:19,&quot; +\r\n        &quot;         \\&quot;1664341140\\&quot;:19,&quot; +\r\n        &quot;         \\&quot;1664341200\\&quot;:21,&quot; +\r\n        &quot;         \\&quot;1664341260\\&quot;:22,&quot; +\r\n        &quot;         \\&quot;1664341320\\&quot;:22&quot; +\r\n        &quot;      },&quot; +\r\n        &quot;      \\&quot;snoring\\&quot;:{&quot; +\r\n        &quot;         \\&quot;1664340780\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664340840\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664340900\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664340960\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664341020\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664341080\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664341140\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664341200\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664341260\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664341320\\&quot;:0&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;   }&quot; +\r\n        &quot;]&quot;);\r\n\r\nTransformation\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;map(user_id,&quot; +\r\n        &quot;    items: collect(hr.entries().map(key, hr:value),&quot; +\r\n        &quot;                   rr.entries().map(key, rr:value),&quot; +\r\n        &quot;                   snoring.entries().map(key, snoring:value))&quot; +\r\n        &quot;           .flatten()&quot; +\r\n        &quot;           .group(key, field(key:))&quot; +\r\n        &quot;           .map(timestamp:key, elements.hr[0], elements.rr[0], elements.snoring[0])&quot; +\r\n        &quot;)&quot; +\r\n        &quot;.unwind(items)&quot;);\r\n    \r\n    for (JsonNode elem : node) {\r\n        System.out.println(elem.toString());\r\n    }\r\n    \r\nOutput\r\n\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325660&quot;,&quot;hr&quot;:65,&quot;rr&quot;:18,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325720&quot;,&quot;hr&quot;:65,&quot;rr&quot;:17,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325780&quot;,&quot;hr&quot;:70,&quot;rr&quot;:15,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340780&quot;,&quot;hr&quot;:72,&quot;rr&quot;:20,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340840&quot;,&quot;hr&quot;:70,&quot;rr&quot;:20,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340900&quot;,&quot;hr&quot;:71,&quot;rr&quot;:19,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340960&quot;,&quot;hr&quot;:70,&quot;rr&quot;:20,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341020&quot;,&quot;hr&quot;:67,&quot;rr&quot;:19,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341080&quot;,&quot;hr&quot;:71,&quot;rr&quot;:19,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341140&quot;,&quot;hr&quot;:69,&quot;rr&quot;:19,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341200&quot;,&quot;hr&quot;:68,&quot;rr&quot;:21,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341260&quot;,&quot;hr&quot;:66,&quot;rr&quot;:22,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341320&quot;,&quot;hr&quot;:68,&quot;rr&quot;:22,&quot;snoring&quot;:0}","title":"How to deserialize a Json Response which has dynamic key value pairs","body":"<p>Your question is not clear. Tell me whether this output is what you want.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p>Deserialization</p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;[&quot; +\n    &quot;   {&quot; +\n    &quot;      \\&quot;user_id\\&quot;:30826889,&quot; +\n    &quot;      \\&quot;hr\\&quot;:{&quot; +\n    &quot;         \\&quot;1664325660\\&quot;:65,&quot; +\n    &quot;         \\&quot;1664325720\\&quot;:65,&quot; +\n    &quot;         \\&quot;1664325780\\&quot;:70&quot; +\n    &quot;      },&quot; +\n    &quot;      \\&quot;rr\\&quot;:{&quot; +\n    &quot;         \\&quot;1664325660\\&quot;:18,&quot; +\n    &quot;         \\&quot;1664325720\\&quot;:17,&quot; +\n    &quot;         \\&quot;1664325780\\&quot;:15&quot; +\n    &quot;      },&quot; +\n    &quot;      \\&quot;snoring\\&quot;:{&quot; +\n    &quot;         \\&quot;1664325660\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664325720\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664325780\\&quot;:0&quot; +\n    &quot;      }&quot; +\n    &quot;   },&quot; +\n    &quot;   {&quot; +\n    &quot;      \\&quot;user_id\\&quot;:30826889,&quot; +\n    &quot;      \\&quot;hr\\&quot;:{&quot; +\n    &quot;         \\&quot;1664340780\\&quot;:72,&quot; +\n    &quot;         \\&quot;1664340840\\&quot;:70,&quot; +\n    &quot;         \\&quot;1664340900\\&quot;:71,&quot; +\n    &quot;         \\&quot;1664340960\\&quot;:70,&quot; +\n    &quot;         \\&quot;1664341020\\&quot;:67,&quot; +\n    &quot;         \\&quot;1664341080\\&quot;:71,&quot; +\n    &quot;         \\&quot;1664341140\\&quot;:69,&quot; +\n    &quot;         \\&quot;1664341200\\&quot;:68,&quot; +\n    &quot;         \\&quot;1664341260\\&quot;:66,&quot; +\n    &quot;         \\&quot;1664341320\\&quot;:68&quot; +\n    &quot;      },&quot; +\n    &quot;      \\&quot;rr\\&quot;:{&quot; +\n    &quot;         \\&quot;1664340780\\&quot;:20,&quot; +\n    &quot;         \\&quot;1664340840\\&quot;:20,&quot; +\n    &quot;         \\&quot;1664340900\\&quot;:19,&quot; +\n    &quot;         \\&quot;1664340960\\&quot;:20,&quot; +\n    &quot;         \\&quot;1664341020\\&quot;:19,&quot; +\n    &quot;         \\&quot;1664341080\\&quot;:19,&quot; +\n    &quot;         \\&quot;1664341140\\&quot;:19,&quot; +\n    &quot;         \\&quot;1664341200\\&quot;:21,&quot; +\n    &quot;         \\&quot;1664341260\\&quot;:22,&quot; +\n    &quot;         \\&quot;1664341320\\&quot;:22&quot; +\n    &quot;      },&quot; +\n    &quot;      \\&quot;snoring\\&quot;:{&quot; +\n    &quot;         \\&quot;1664340780\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664340840\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664340900\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664340960\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664341020\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664341080\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664341140\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664341200\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664341260\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664341320\\&quot;:0&quot; +\n    &quot;      }&quot; +\n    &quot;   }&quot; +\n    &quot;]&quot;);\n</code></pre>\n<p>Transformation</p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;map(user_id,&quot; +\n    &quot;    items: collect(hr.entries().map(key, hr:value),&quot; +\n    &quot;                   rr.entries().map(key, rr:value),&quot; +\n    &quot;                   snoring.entries().map(key, snoring:value))&quot; +\n    &quot;           .flatten()&quot; +\n    &quot;           .group(key, field(key:))&quot; +\n    &quot;           .map(timestamp:key, elements.hr[0], elements.rr[0], elements.snoring[0])&quot; +\n    &quot;)&quot; +\n    &quot;.unwind(items)&quot;);\n\nfor (JsonNode elem : node) {\n    System.out.println(elem.toString());\n}\n</code></pre>\n<p>Output</p>\n<pre><code>{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325660&quot;,&quot;hr&quot;:65,&quot;rr&quot;:18,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325720&quot;,&quot;hr&quot;:65,&quot;rr&quot;:17,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325780&quot;,&quot;hr&quot;:70,&quot;rr&quot;:15,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340780&quot;,&quot;hr&quot;:72,&quot;rr&quot;:20,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340840&quot;,&quot;hr&quot;:70,&quot;rr&quot;:20,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340900&quot;,&quot;hr&quot;:71,&quot;rr&quot;:19,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340960&quot;,&quot;hr&quot;:70,&quot;rr&quot;:20,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341020&quot;,&quot;hr&quot;:67,&quot;rr&quot;:19,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341080&quot;,&quot;hr&quot;:71,&quot;rr&quot;:19,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341140&quot;,&quot;hr&quot;:69,&quot;rr&quot;:19,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341200&quot;,&quot;hr&quot;:68,&quot;rr&quot;:21,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341260&quot;,&quot;hr&quot;:66,&quot;rr&quot;:22,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341320&quot;,&quot;hr&quot;:68,&quot;rr&quot;:22,&quot;snoring&quot;:0}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666377498,"creation_date":1666366446,"answer_id":74156011,"question_id":74145298,"body_markdown":"```java\r\npublic static void main(String... args) throws IOException {\r\n    File src = new File(&quot;e:/in.json&quot;);\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    List&lt;Map&lt;String, Object&gt;&gt; items = mapper.readValue(src, new TypeReference&lt;&gt;() {\r\n    });\r\n\r\n    for (Map&lt;String, Object&gt; map : convert(items))\r\n        System.out.println(mapper.writeValueAsString(map));\r\n}\r\n\r\npublic static List&lt;Map&lt;String, Object&gt;&gt; convert(List&lt;Map&lt;String, Object&gt;&gt; items) {\r\n    return items.stream()\r\n                .flatMap(item -&gt; convert(item).stream())\r\n                .collect(Collectors.toList());\r\n}\r\n\r\nprivate static List&lt;Map&lt;String, Object&gt;&gt; convert(Map&lt;String, Object&gt; item) {\r\n    return getUniqueTimes(item.values()).stream()\r\n                                        .map(time -&gt; createTimeItem(item, time))\r\n                                        .collect(Collectors.toList());\r\n}\r\n\r\nprivate static Set&lt;String&gt; getUniqueTimes(Collection&lt;Object&gt; values) {\r\n    return values.stream()\r\n                 .filter(value -&gt; value instanceof Map)\r\n                 .flatMap(value -&gt; ((Map&lt;String, Integer&gt;)value).keySet().stream())\r\n                 .collect(Collectors.toSet());\r\n}\r\n\r\nprivate static Map&lt;String, Object&gt; createTimeItem(Map&lt;String, Object&gt; item, String timestamp) {\r\n    Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\r\n    map.put(&quot;user_id&quot;, item.get(&quot;user_id&quot;));\r\n    map.put(&quot;timestamp&quot;, timestamp);\r\n\r\n    item.entrySet().stream()\r\n        .filter(entry -&gt; entry.getValue() instanceof Map)\r\n        .forEach(entry -&gt; map.put(entry.getKey(), ((Map&lt;String, Integer&gt;)entry.getValue()).get(timestamp)));\r\n\r\n    return map;\r\n}\r\n```\r\n\r\n---\r\n**Demo**\r\n```\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325720&quot;,&quot;hr&quot;:65,&quot;rr&quot;:17,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325780&quot;,&quot;hr&quot;:70,&quot;rr&quot;:15,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325660&quot;,&quot;hr&quot;:65,&quot;rr&quot;:18,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340900&quot;,&quot;hr&quot;:71,&quot;rr&quot;:19,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341260&quot;,&quot;hr&quot;:66,&quot;rr&quot;:22,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340840&quot;,&quot;hr&quot;:70,&quot;rr&quot;:20,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341080&quot;,&quot;hr&quot;:71,&quot;rr&quot;:19,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341320&quot;,&quot;hr&quot;:68,&quot;rr&quot;:22,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341200&quot;,&quot;hr&quot;:68,&quot;rr&quot;:21,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340960&quot;,&quot;hr&quot;:70,&quot;rr&quot;:20,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341140&quot;,&quot;hr&quot;:69,&quot;rr&quot;:19,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341020&quot;,&quot;hr&quot;:67,&quot;rr&quot;:19,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340780&quot;,&quot;hr&quot;:72,&quot;rr&quot;:20,&quot;snoring&quot;:0}\r\n```","title":"How to deserialize a Json Response which has dynamic key value pairs","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) throws IOException {\n    File src = new File(&quot;e:/in.json&quot;);\n    ObjectMapper mapper = new ObjectMapper();\n    List&lt;Map&lt;String, Object&gt;&gt; items = mapper.readValue(src, new TypeReference&lt;&gt;() {\n    });\n\n    for (Map&lt;String, Object&gt; map : convert(items))\n        System.out.println(mapper.writeValueAsString(map));\n}\n\npublic static List&lt;Map&lt;String, Object&gt;&gt; convert(List&lt;Map&lt;String, Object&gt;&gt; items) {\n    return items.stream()\n                .flatMap(item -&gt; convert(item).stream())\n                .collect(Collectors.toList());\n}\n\nprivate static List&lt;Map&lt;String, Object&gt;&gt; convert(Map&lt;String, Object&gt; item) {\n    return getUniqueTimes(item.values()).stream()\n                                        .map(time -&gt; createTimeItem(item, time))\n                                        .collect(Collectors.toList());\n}\n\nprivate static Set&lt;String&gt; getUniqueTimes(Collection&lt;Object&gt; values) {\n    return values.stream()\n                 .filter(value -&gt; value instanceof Map)\n                 .flatMap(value -&gt; ((Map&lt;String, Integer&gt;)value).keySet().stream())\n                 .collect(Collectors.toSet());\n}\n\nprivate static Map&lt;String, Object&gt; createTimeItem(Map&lt;String, Object&gt; item, String timestamp) {\n    Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\n    map.put(&quot;user_id&quot;, item.get(&quot;user_id&quot;));\n    map.put(&quot;timestamp&quot;, timestamp);\n\n    item.entrySet().stream()\n        .filter(entry -&gt; entry.getValue() instanceof Map)\n        .forEach(entry -&gt; map.put(entry.getKey(), ((Map&lt;String, Integer&gt;)entry.getValue()).get(timestamp)));\n\n    return map;\n}\n</code></pre>\n<hr />\n<p><strong>Demo</strong></p>\n<pre><code>{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325720&quot;,&quot;hr&quot;:65,&quot;rr&quot;:17,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325780&quot;,&quot;hr&quot;:70,&quot;rr&quot;:15,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325660&quot;,&quot;hr&quot;:65,&quot;rr&quot;:18,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340900&quot;,&quot;hr&quot;:71,&quot;rr&quot;:19,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341260&quot;,&quot;hr&quot;:66,&quot;rr&quot;:22,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340840&quot;,&quot;hr&quot;:70,&quot;rr&quot;:20,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341080&quot;,&quot;hr&quot;:71,&quot;rr&quot;:19,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341320&quot;,&quot;hr&quot;:68,&quot;rr&quot;:22,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341200&quot;,&quot;hr&quot;:68,&quot;rr&quot;:21,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340960&quot;,&quot;hr&quot;:70,&quot;rr&quot;:20,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341140&quot;,&quot;hr&quot;:69,&quot;rr&quot;:19,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341020&quot;,&quot;hr&quot;:67,&quot;rr&quot;:19,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340780&quot;,&quot;hr&quot;:72,&quot;rr&quot;:20,&quot;snoring&quot;:0}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114799,"reputation":1290,"user_id":301740,"accept_rate":25,"display_name":"Draško Kokić"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666472872,"creation_date":1666472872,"answer_id":74167116,"question_id":74145298,"body_markdown":"Here is a solution in Javascript:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n\r\n    const inputArray = [\r\n      {\r\n        &quot;user_id&quot;:30826889,\r\n        &quot;hr&quot;: {\r\n          &quot;1664325660&quot;: 65,\r\n          &quot;1664325720&quot;: 65,\r\n          &quot;1664325780&quot;: 70\r\n        },\r\n        &quot;rr&quot;: {\r\n          &quot;1664325660&quot;:18,\r\n          &quot;1664325720&quot;:17,\r\n          &quot;1664325780&quot;:15\r\n        },\r\n        &quot;snoring&quot;: {\r\n          &quot;1664325660&quot;: 0,\r\n          &quot;1664325720&quot;: 0,\r\n          &quot;1664325780&quot;: 0\r\n        }\r\n      },\r\n      {\r\n        &quot;user_id&quot;: 30826889,\r\n        &quot;hr&quot;: {\r\n          &quot;1664340780&quot;:72,\r\n          &quot;1664340840&quot;: 70,\r\n          &quot;1664340900&quot;: 71,\r\n          &quot;1664340960&quot;: 70,\r\n          &quot;1664341020&quot;: 67,\r\n          &quot;1664341080&quot;: 71,\r\n          &quot;1664341140&quot;: 69,\r\n          &quot;1664341200&quot;: 68,\r\n          &quot;1664341260&quot;: 66,\r\n          &quot;1664341320&quot;: 68\r\n        },\r\n        &quot;rr&quot;:{\r\n          &quot;1664340780&quot;: 20,\r\n          &quot;1664340840&quot;: 20,\r\n          &quot;1664340900&quot;: 19,\r\n          &quot;1664340960&quot;: 20,\r\n          &quot;1664341020&quot;: 19,\r\n          &quot;1664341080&quot;: 19,\r\n          &quot;1664341140&quot;: 19,\r\n          &quot;1664341200&quot;: 21,\r\n          &quot;1664341260&quot;: 22,\r\n          &quot;1664341320&quot;: 22\r\n        },\r\n        &quot;snoring&quot;:{\r\n          &quot;1664340780&quot;: 0,\r\n          &quot;1664340840&quot;: 0,\r\n          &quot;1664340900&quot;: 0,\r\n          &quot;1664340960&quot;: 0,\r\n          &quot;1664341020&quot;: 0,\r\n          &quot;1664341080&quot;: 0,\r\n          &quot;1664341140&quot;: 0,\r\n          &quot;1664341200&quot;: 0,\r\n          &quot;1664341260&quot;: 0,\r\n          &quot;1664341320&quot;: 0\r\n        }\r\n      }\r\n    ];\r\n\r\n    //  {&quot;user_id&quot;: 30826889, &quot;timestamp&quot;: &quot;166432xxxx&quot;,&quot;hr&quot;:65, &quot;rr&quot;:45, &quot;snoring&quot;:1 }\r\n    //  {&quot;user_id&quot;: 30826889, &quot;timestamp&quot;: &quot;166432yyyy&quot;,&quot;hr&quot;:67, &quot;rr&quot;:23, &quot;snoring&quot;:2 }\r\n\r\n    for (const { user_id, hr, rr, snoring } of inputArray) {\r\n      for (const timestamp of Object.keys(hr)) {\r\n        const result = { user_id, timestamp, hr: hr[timestamp], rr: rr[timestamp], snoring: snoring[timestamp] };\r\n        console.log(JSON.stringify(result));\r\n      }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to deserialize a Json Response which has dynamic key value pairs","body":"<p>Here is a solution in Javascript:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const inputArray = [\n  {\n    \"user_id\":30826889,\n    \"hr\": {\n      \"1664325660\": 65,\n      \"1664325720\": 65,\n      \"1664325780\": 70\n    },\n    \"rr\": {\n      \"1664325660\":18,\n      \"1664325720\":17,\n      \"1664325780\":15\n    },\n    \"snoring\": {\n      \"1664325660\": 0,\n      \"1664325720\": 0,\n      \"1664325780\": 0\n    }\n  },\n  {\n    \"user_id\": 30826889,\n    \"hr\": {\n      \"1664340780\":72,\n      \"1664340840\": 70,\n      \"1664340900\": 71,\n      \"1664340960\": 70,\n      \"1664341020\": 67,\n      \"1664341080\": 71,\n      \"1664341140\": 69,\n      \"1664341200\": 68,\n      \"1664341260\": 66,\n      \"1664341320\": 68\n    },\n    \"rr\":{\n      \"1664340780\": 20,\n      \"1664340840\": 20,\n      \"1664340900\": 19,\n      \"1664340960\": 20,\n      \"1664341020\": 19,\n      \"1664341080\": 19,\n      \"1664341140\": 19,\n      \"1664341200\": 21,\n      \"1664341260\": 22,\n      \"1664341320\": 22\n    },\n    \"snoring\":{\n      \"1664340780\": 0,\n      \"1664340840\": 0,\n      \"1664340900\": 0,\n      \"1664340960\": 0,\n      \"1664341020\": 0,\n      \"1664341080\": 0,\n      \"1664341140\": 0,\n      \"1664341200\": 0,\n      \"1664341260\": 0,\n      \"1664341320\": 0\n    }\n  }\n];\n\n//  {\"user_id\": 30826889, \"timestamp\": \"166432xxxx\",\"hr\":65, \"rr\":45, \"snoring\":1 }\n//  {\"user_id\": 30826889, \"timestamp\": \"166432yyyy\",\"hr\":67, \"rr\":23, \"snoring\":2 }\n\nfor (const { user_id, hr, rr, snoring } of inputArray) {\n  for (const timestamp of Object.keys(hr)) {\n    const result = { user_id, timestamp, hr: hr[timestamp], rr: rr[timestamp], snoring: snoring[timestamp] };\n    console.log(JSON.stringify(result));\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":14101478,"reputation":3,"user_id":10186726,"display_name":"Abul Bashar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74147884,"answer_count":3,"score":-1,"last_activity_date":1666472872,"creation_date":1666293685,"question_id":74145298,"body_markdown":"I have a response currently like below, and I want it to make it in one line.\r\n\r\nCurrent Reponse:\r\n\r\n```json\r\n[\r\n   {\r\n      &quot;user_id&quot;:30826889,\r\n      &quot;hr&quot;:{\r\n         &quot;1664325660&quot;:65,\r\n         &quot;1664325720&quot;:65,\r\n         &quot;1664325780&quot;:70\r\n      },\r\n      &quot;rr&quot;:{\r\n         &quot;1664325660&quot;:18,\r\n         &quot;1664325720&quot;:17,\r\n         &quot;1664325780&quot;:15\r\n      },\r\n      &quot;snoring&quot;:{\r\n         &quot;1664325660&quot;:0,\r\n         &quot;1664325720&quot;:0,\r\n         &quot;1664325780&quot;:0\r\n      }\r\n   },\r\n   {\r\n      &quot;user_id&quot;:30826889,\r\n      &quot;hr&quot;:{\r\n         &quot;1664340780&quot;:72,\r\n         &quot;1664340840&quot;:70,\r\n         &quot;1664340900&quot;:71,\r\n         &quot;1664340960&quot;:70,\r\n         &quot;1664341020&quot;:67,\r\n         &quot;1664341080&quot;:71,\r\n         &quot;1664341140&quot;:69,\r\n         &quot;1664341200&quot;:68,\r\n         &quot;1664341260&quot;:66,\r\n         &quot;1664341320&quot;:68\r\n      },\r\n      &quot;rr&quot;:{\r\n         &quot;1664340780&quot;:20,\r\n         &quot;1664340840&quot;:20,\r\n         &quot;1664340900&quot;:19,\r\n         &quot;1664340960&quot;:20,\r\n         &quot;1664341020&quot;:19,\r\n         &quot;1664341080&quot;:19,\r\n         &quot;1664341140&quot;:19,\r\n         &quot;1664341200&quot;:21,\r\n         &quot;1664341260&quot;:22,\r\n         &quot;1664341320&quot;:22\r\n      },\r\n      &quot;snoring&quot;:{\r\n         &quot;1664340780&quot;:0,\r\n         &quot;1664340840&quot;:0,\r\n         &quot;1664340900&quot;:0,\r\n         &quot;1664340960&quot;:0,\r\n         &quot;1664341020&quot;:0,\r\n         &quot;1664341080&quot;:0,\r\n         &quot;1664341140&quot;:0,\r\n         &quot;1664341200&quot;:0,\r\n         &quot;1664341260&quot;:0,\r\n         &quot;1664341320&quot;:0\r\n      }\r\n   }\r\n]\r\n```\r\n\r\nand so on.... \r\n\r\n\r\nI want it like below to make it key value-pairs. \r\nLike this;\r\n\r\n    {&quot;user_id&quot;: 30826889, &quot;timestamp&quot;: &quot;166432xxxx&quot;,&quot;hr&quot;:65, &quot;rr&quot;:45, &quot;snoring&quot;:1 }\r\n    {&quot;user_id&quot;: 30826889, &quot;timestamp&quot;: &quot;166432yyyy&quot;,&quot;hr&quot;:67, &quot;rr&quot;:23, &quot;snoring&quot;:2 }\r\nand So on.... for every response..\r\n\r\nI tried many things but couldn&#39;t succeeded.\r\nPlease guide, how can i achieve above..\r\n............................................","title":"How to deserialize a Json Response which has dynamic key value pairs","body":"<p>I have a response currently like below, and I want it to make it in one line.</p>\n<p>Current Reponse:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n   {\n      &quot;user_id&quot;:30826889,\n      &quot;hr&quot;:{\n         &quot;1664325660&quot;:65,\n         &quot;1664325720&quot;:65,\n         &quot;1664325780&quot;:70\n      },\n      &quot;rr&quot;:{\n         &quot;1664325660&quot;:18,\n         &quot;1664325720&quot;:17,\n         &quot;1664325780&quot;:15\n      },\n      &quot;snoring&quot;:{\n         &quot;1664325660&quot;:0,\n         &quot;1664325720&quot;:0,\n         &quot;1664325780&quot;:0\n      }\n   },\n   {\n      &quot;user_id&quot;:30826889,\n      &quot;hr&quot;:{\n         &quot;1664340780&quot;:72,\n         &quot;1664340840&quot;:70,\n         &quot;1664340900&quot;:71,\n         &quot;1664340960&quot;:70,\n         &quot;1664341020&quot;:67,\n         &quot;1664341080&quot;:71,\n         &quot;1664341140&quot;:69,\n         &quot;1664341200&quot;:68,\n         &quot;1664341260&quot;:66,\n         &quot;1664341320&quot;:68\n      },\n      &quot;rr&quot;:{\n         &quot;1664340780&quot;:20,\n         &quot;1664340840&quot;:20,\n         &quot;1664340900&quot;:19,\n         &quot;1664340960&quot;:20,\n         &quot;1664341020&quot;:19,\n         &quot;1664341080&quot;:19,\n         &quot;1664341140&quot;:19,\n         &quot;1664341200&quot;:21,\n         &quot;1664341260&quot;:22,\n         &quot;1664341320&quot;:22\n      },\n      &quot;snoring&quot;:{\n         &quot;1664340780&quot;:0,\n         &quot;1664340840&quot;:0,\n         &quot;1664340900&quot;:0,\n         &quot;1664340960&quot;:0,\n         &quot;1664341020&quot;:0,\n         &quot;1664341080&quot;:0,\n         &quot;1664341140&quot;:0,\n         &quot;1664341200&quot;:0,\n         &quot;1664341260&quot;:0,\n         &quot;1664341320&quot;:0\n      }\n   }\n]\n</code></pre>\n<p>and so on....</p>\n<p>I want it like below to make it key value-pairs.\nLike this;</p>\n<pre><code>{&quot;user_id&quot;: 30826889, &quot;timestamp&quot;: &quot;166432xxxx&quot;,&quot;hr&quot;:65, &quot;rr&quot;:45, &quot;snoring&quot;:1 }\n{&quot;user_id&quot;: 30826889, &quot;timestamp&quot;: &quot;166432yyyy&quot;,&quot;hr&quot;:67, &quot;rr&quot;:23, &quot;snoring&quot;:2 }\n</code></pre>\n<p>and So on.... for every response..</p>\n<p>I tried many things but couldn't succeeded.\nPlease guide, how can i achieve above..\n............................................</p>\n"},{"tags":["java","adjacency-list","undirected-graph"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1666425277,"post_id":74161880,"comment_id":130937898,"body_markdown":"1) I recommended reading a line and not an `int` - easier to detect errors in input; 2) you don&#39;t want to create a new node if that node is already created - maybe you want a `HashMap` to (temporarily) store the nodes, mapping from the number to the Node (an array can also be used, if the number of nodes is known beforehand and their IDs is continuous, that is, 0,1,2,...(n-1) )","body":"1) I recommended reading a line and not an <code>int</code> - easier to detect errors in input; 2) you don&#39;t want to create a new node if that node is already created - maybe you want a <code>HashMap</code> to (temporarily) store the nodes, mapping from the number to the Node (an array can also be used, if the number of nodes is known beforehand and their IDs is continuous, that is, 0,1,2,...(n-1) )"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666472593,"creation_date":1666472593,"answer_id":74167088,"question_id":74161880,"body_markdown":"Try this.\r\n\r\n        String input =\r\n            &quot;0 5\\r\\n&quot;\r\n            + &quot;4 3\\r\\n&quot;\r\n            + &quot;0 1\\r\\n&quot;\r\n            + &quot;9 12\\r\\n&quot;\r\n            + &quot;6 4\\r\\n&quot;\r\n            + &quot;5 4\\r\\n&quot;\r\n            + &quot;0 2\\r\\n&quot;\r\n            + &quot;11 12&quot;;\r\n        Scanner scanner = new Scanner(input);\r\n        Map&lt;Integer, Set&lt;Integer&gt;&gt; graph = new HashMap&lt;&gt;();\r\n        while (scanner.hasNextLine()) {\r\n            int[] nums = Stream.of(scanner.nextLine().split(&quot;\\\\s+&quot;)).mapToInt(Integer::parseInt).toArray();\r\n            graph.compute(nums[0], (k, v) -&gt; v == null ? new HashSet&lt;&gt;() : v).add(nums[1]);\r\n            graph.compute(nums[1], (k, v) -&gt; v == null ? new HashSet&lt;&gt;() : v).add(nums[0]);\r\n        }\r\n        for (Entry&lt;Integer, Set&lt;Integer&gt;&gt; e : graph.entrySet())\r\n            System.out.println(e);\r\n\r\noutput:\r\n\r\n    0=[1, 2, 5]\r\n    1=[0]\r\n    2=[0]\r\n    3=[4]\r\n    4=[3, 5, 6]\r\n    5=[0, 4]\r\n    6=[4]\r\n    9=[12]\r\n    11=[12]\r\n    12=[9, 11]\r\n\r\n","title":"Reading a text file into an undirected graph using adjacency list","body":"<p>Try this.</p>\n<pre><code>    String input =\n        &quot;0 5\\r\\n&quot;\n        + &quot;4 3\\r\\n&quot;\n        + &quot;0 1\\r\\n&quot;\n        + &quot;9 12\\r\\n&quot;\n        + &quot;6 4\\r\\n&quot;\n        + &quot;5 4\\r\\n&quot;\n        + &quot;0 2\\r\\n&quot;\n        + &quot;11 12&quot;;\n    Scanner scanner = new Scanner(input);\n    Map&lt;Integer, Set&lt;Integer&gt;&gt; graph = new HashMap&lt;&gt;();\n    while (scanner.hasNextLine()) {\n        int[] nums = Stream.of(scanner.nextLine().split(&quot;\\\\s+&quot;)).mapToInt(Integer::parseInt).toArray();\n        graph.compute(nums[0], (k, v) -&gt; v == null ? new HashSet&lt;&gt;() : v).add(nums[1]);\n        graph.compute(nums[1], (k, v) -&gt; v == null ? new HashSet&lt;&gt;() : v).add(nums[0]);\n    }\n    for (Entry&lt;Integer, Set&lt;Integer&gt;&gt; e : graph.entrySet())\n        System.out.println(e);\n</code></pre>\n<p>output:</p>\n<pre><code>0=[1, 2, 5]\n1=[0]\n2=[0]\n3=[4]\n4=[3, 5, 6]\n5=[0, 4]\n6=[4]\n9=[12]\n11=[12]\n12=[9, 11]\n</code></pre>\n"}],"owner":{"account_id":20822826,"reputation":9,"user_id":15294003,"display_name":"Florence"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666472593,"creation_date":1666424581,"question_id":74161880,"body_markdown":"I am trying to create an undirected graph using a text file with the following format:\r\n```\r\n0 5\r\n4 3\r\n0 1\r\n9 12\r\n6 4\r\n5 4\r\n0 2\r\n11 12\r\n```\r\n\r\nI made a method to read the file and insert nodes/vertices into an arraylist. Each node/vertex has its own linked list within it to store neighboring nodes.This is what I have done so far.\r\n\r\n```\r\n//class for node/vertex\r\npublic class Node{\r\n   //member variables\r\n   private int vertex;\r\n   \r\n   LinkedList&lt;Node&gt; neighbors = new LinkedList&lt;Node&gt;();\r\n   \r\n   public Node (){\r\n     this.vertex = vertex;\r\n   }\r\n}\r\n\r\n\r\n//class for graph\r\npublic class Graph {\r\n   private String filename;\r\n   static ArrayList&lt;Node&gt; vertices;\r\n\r\n\r\n   public Graph (){\r\n     this.filename = filename;\r\n\t vertices = new ArrayList&lt;&gt;();\r\n   }\r\n   \r\n\r\n   public String getFilename() {\r\n\t\treturn filename;\r\n\t}\r\n\r\n\tpublic void setFilename(String filename) {\r\n\t\tthis.filename = filename;\r\n\t}\r\n\r\n\r\n\tpublic static void file_to_array(String filename) {\r\n\t\t//chosen file&#39;s name in string type converted to file type\r\n\t\tFile file = new File(filename);\r\n\t\t\r\n\t\t//scan the file with scanner object\r\n\t\t\r\n\t\ttry {\r\n\t\t\tScanner scan = new Scanner (file);\r\n\t\t\t\tint n;\r\n\t\t\t\twhile(scan.hasNextInt()) {\r\n\t\t\t\t\tn = scan.nextInt();\r\n\t\t\t\t\tNode new_node = new Node(n);\r\n\t\t\t\t\t\r\n\t\t\t\t\t//add node into the main static array, vertices\r\n\t\t\t\t\tvertices.add(new_node);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tscan.close();\r\n\t\t\t\t\t\r\n\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nI am having trouble figuring out how to implement the undirected part of the code from where I have started. I am also a bit unsure if the code I have written so far will be able to create the graph properly. I am still pretty new to implementing graphs, so any advice will be helpful.","title":"Reading a text file into an undirected graph using adjacency list","body":"<p>I am trying to create an undirected graph using a text file with the following format:</p>\n<pre><code>0 5\n4 3\n0 1\n9 12\n6 4\n5 4\n0 2\n11 12\n</code></pre>\n<p>I made a method to read the file and insert nodes/vertices into an arraylist. Each node/vertex has its own linked list within it to store neighboring nodes.This is what I have done so far.</p>\n<pre><code>//class for node/vertex\npublic class Node{\n   //member variables\n   private int vertex;\n   \n   LinkedList&lt;Node&gt; neighbors = new LinkedList&lt;Node&gt;();\n   \n   public Node (){\n     this.vertex = vertex;\n   }\n}\n\n\n//class for graph\npublic class Graph {\n   private String filename;\n   static ArrayList&lt;Node&gt; vertices;\n\n\n   public Graph (){\n     this.filename = filename;\n     vertices = new ArrayList&lt;&gt;();\n   }\n   \n\n   public String getFilename() {\n        return filename;\n    }\n\n    public void setFilename(String filename) {\n        this.filename = filename;\n    }\n\n\n    public static void file_to_array(String filename) {\n        //chosen file's name in string type converted to file type\n        File file = new File(filename);\n        \n        //scan the file with scanner object\n        \n        try {\n            Scanner scan = new Scanner (file);\n                int n;\n                while(scan.hasNextInt()) {\n                    n = scan.nextInt();\n                    Node new_node = new Node(n);\n                    \n                    //add node into the main static array, vertices\n                    vertices.add(new_node);\n                    \n                }\n                scan.close();\n                    \n            } catch (FileNotFoundException e) {\n                    e.printStackTrace();\n            }\n    }\n\n}\n\n</code></pre>\n<p>I am having trouble figuring out how to implement the undirected part of the code from where I have started. I am also a bit unsure if the code I have written so far will be able to create the graph properly. I am still pretty new to implementing graphs, so any advice will be helpful.</p>\n"},{"tags":["java","spring-security","jhipster","openid-connect"],"comments":[{"owner":{"account_id":4466871,"reputation":311,"user_id":4437616,"accept_rate":71,"display_name":"Bat"},"score":0,"creation_date":1629881329,"post_id":68918572,"comment_id":121801329,"body_markdown":"I also tried the approach using\norg.springframework.security.oauth.boot.spring-security-oauth2-autoconfigure\nas suggested here\nhttps://www.baeldung.com/spring-security-oauth-principal-authorities-extractor\n\nBut again the extractAuthorities method is not called.","body":"I also tried the approach using org.springframework.security.oauth.boot.spring-security-oaut&zwnj;&#8203;h2-autoconfigure as suggested here <a href=\"https://www.baeldung.com/spring-security-oauth-principal-authorities-extractor\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>  But again the extractAuthorities method is not called."},{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":1,"creation_date":1629884336,"post_id":68918572,"comment_id":121802630,"body_markdown":"Actually we generally do the inverse of what you try to achieve, we try to translate a JWT into Spring Security&#39;s `GrantedAuthority`. Did you take a look at the documentation https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2login-advanced-map-authorities ? I had an almost similar issue few months ago and my mistake was that I mixed Oauth2 and Oidc.","body":"Actually we generally do the inverse of what you try to achieve, we try to translate a JWT into Spring Security&#39;s <code>GrantedAuthority</code>. Did you take a look at the documentation <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2login-advanced-map-authorities\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/reference/&hellip;</a> ? I had an almost similar issue few months ago and my mistake was that I mixed Oauth2 and Oidc."},{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":1,"creation_date":1629884589,"post_id":68918572,"comment_id":121802732,"body_markdown":"What I meant in my comment above is that I don&#39;t think that we can use `JwtAuthenticationConverter` in case of Oidc. I am not 100% sure. See also here https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2resourceserver-jwt-authorization-extraction","body":"What I meant in my comment above is that I don&#39;t think that we can use <code>JwtAuthenticationConverter</code> in case of Oidc. I am not 100% sure. See also here <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2resourceserver-jwt-authorization-extraction\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/reference/&hellip;</a>"},{"owner":{"account_id":4466871,"reputation":311,"user_id":4437616,"accept_rate":71,"display_name":"Bat"},"score":0,"creation_date":1629959728,"post_id":68918572,"comment_id":121825718,"body_markdown":"@akuma8 I refined the question, because my endgoal was a different one and I managed to achieve it thanks to your answers leading me into the correct direction. Thanks a lot!","body":"@akuma8 I refined the question, because my endgoal was a different one and I managed to achieve it thanks to your answers leading me into the correct direction. Thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":4466871,"reputation":311,"user_id":4437616,"accept_rate":71,"display_name":"Bat"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1629960121,"creation_date":1629960121,"answer_id":68933692,"question_id":68918572,"body_markdown":"Managed to achieve it using an authorities mapper that also extracts claims from the oidcToken:\r\n\r\n```\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n    [...]\r\n   \r\n    @Bean\r\n    public GrantedAuthoritiesMapper userAuthoritiesMapper() {\r\n        return authorities -&gt; {\r\n            Set&lt;GrantedAuthority&gt; mappedAuthorities = new HashSet&lt;&gt;();\r\n\r\n            authorities.forEach(\r\n                authority -&gt; {\r\n                    // Check for OidcUserAuthority because Spring Security 5.2 returns\r\n                    // each scope as a GrantedAuthority, which we don&#39;t care about.\r\n                    if (authority instanceof OidcUserAuthority) {\r\n                        OidcUserAuthority oidcUserAuthority = (OidcUserAuthority) authority;\r\n                        mappedAuthorities.addAll(SecurityUtils.extractAuthorityFromClaims(oidcUserAuthority.getUserInfo().getClaims()));\r\n                        mappedAuthorities.addAll(SecurityUtils.extractAuthorityFromClaims(oidcUserAuthority.getIdToken().getClaims()));\r\n                    }\r\n                }\r\n            );\r\n            return mappedAuthorities;\r\n        };\r\n    }\r\n\r\n}\r\n```\r\n\r\nand inside SecurityUtils:\r\n```\r\npublic static List&lt;GrantedAuthority&gt; extractAuthorityFromClaims(Map&lt;String, Object&gt; claims) {\r\n        return mapRolesToGrantedAuthorities(getRolesFromClaims(claims));\r\n    }\r\nprivate static List&lt;GrantedAuthority&gt; mapRolesToGrantedAuthorities(Collection&lt;String&gt; roles) {\r\n        return roles.stream().filter(role -&gt; role.startsWith(&quot;ROLE_&quot;)).map(SimpleGrantedAuthority::new).collect(Collectors.toList());\r\n    }\r\n```\r\n\r\nAfterwards the custom role should be present in mappedAuthorities and with it in the authorities of the token. Thus making the annotations &quot;hasRole&quot; and &quot;hasAuthority&quot; possible to use. ","title":"Spring Security: extract oidc role claims to spring authorities","body":"<p>Managed to achieve it using an authorities mapper that also extracts claims from the oidcToken:</p>\n<pre><code>public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n    \n    [...]\n   \n    @Bean\n    public GrantedAuthoritiesMapper userAuthoritiesMapper() {\n        return authorities -&gt; {\n            Set&lt;GrantedAuthority&gt; mappedAuthorities = new HashSet&lt;&gt;();\n\n            authorities.forEach(\n                authority -&gt; {\n                    // Check for OidcUserAuthority because Spring Security 5.2 returns\n                    // each scope as a GrantedAuthority, which we don't care about.\n                    if (authority instanceof OidcUserAuthority) {\n                        OidcUserAuthority oidcUserAuthority = (OidcUserAuthority) authority;\n                        mappedAuthorities.addAll(SecurityUtils.extractAuthorityFromClaims(oidcUserAuthority.getUserInfo().getClaims()));\n                        mappedAuthorities.addAll(SecurityUtils.extractAuthorityFromClaims(oidcUserAuthority.getIdToken().getClaims()));\n                    }\n                }\n            );\n            return mappedAuthorities;\n        };\n    }\n\n}\n</code></pre>\n<p>and inside SecurityUtils:</p>\n<pre><code>public static List&lt;GrantedAuthority&gt; extractAuthorityFromClaims(Map&lt;String, Object&gt; claims) {\n        return mapRolesToGrantedAuthorities(getRolesFromClaims(claims));\n    }\nprivate static List&lt;GrantedAuthority&gt; mapRolesToGrantedAuthorities(Collection&lt;String&gt; roles) {\n        return roles.stream().filter(role -&gt; role.startsWith(&quot;ROLE_&quot;)).map(SimpleGrantedAuthority::new).collect(Collectors.toList());\n    }\n</code></pre>\n<p>Afterwards the custom role should be present in mappedAuthorities and with it in the authorities of the token. Thus making the annotations &quot;hasRole&quot; and &quot;hasAuthority&quot; possible to use.</p>\n"},{"tags":[],"owner":{"account_id":10298861,"reputation":111,"user_id":7598149,"display_name":"kesaven"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666452349,"creation_date":1666369317,"answer_id":74156557,"question_id":68918572,"body_markdown":"This is the solution I found when using keycloak.\r\n```java\r\n@EnableGlobalMethodSecurity(securedEnabled = true)\r\n@EnableWebSecurity(debug = true)\r\npublic class SecurityConfiguration {\r\n\r\n    private static final String REALM = &quot;realm_access&quot;;\r\n\r\n    private static final String ROLES = &quot;roles&quot;;\r\n\r\n    /**\r\n     * Configuration For oauth\r\n     */\r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests((authorize) -&gt; authorize\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .oauth2ResourceServer()\r\n                .jwt()\r\n                .jwtAuthenticationConverter(source -&gt; new CustomJwtConfigure().convert(source));\r\n        return http.build();\r\n    }\r\n\r\n    public static class CustomJwtConfigure implements Converter&lt;Jwt, JwtAuthenticationToken&gt; {\r\n\r\n        @Override\r\n        public JwtAuthenticationToken convert(Jwt jwt) {\r\n            var tokenAttributes = jwt.getClaims();\r\n            var jsonObject = (JSONObject) tokenAttributes.get(REALM);\r\n            var roles = (JSONArray) jsonObject.get(ROLES);\r\n            List&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;();\r\n            roles.forEach(role -&gt; grantedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + role)));\r\n            return new JwtAuthenticationToken(jwt, grantedAuthorities);\r\n        }\r\n    }\r\n}\r\n```\r\nLink to example https://github.com/kesaven8/resourceServer-spring-boot","title":"Spring Security: extract oidc role claims to spring authorities","body":"<p>This is the solution I found when using keycloak.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableGlobalMethodSecurity(securedEnabled = true)\n@EnableWebSecurity(debug = true)\npublic class SecurityConfiguration {\n\n    private static final String REALM = &quot;realm_access&quot;;\n\n    private static final String ROLES = &quot;roles&quot;;\n\n    /**\n     * Configuration For oauth\n     */\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests((authorize) -&gt; authorize\n                        .anyRequest().authenticated()\n                )\n                .oauth2ResourceServer()\n                .jwt()\n                .jwtAuthenticationConverter(source -&gt; new CustomJwtConfigure().convert(source));\n        return http.build();\n    }\n\n    public static class CustomJwtConfigure implements Converter&lt;Jwt, JwtAuthenticationToken&gt; {\n\n        @Override\n        public JwtAuthenticationToken convert(Jwt jwt) {\n            var tokenAttributes = jwt.getClaims();\n            var jsonObject = (JSONObject) tokenAttributes.get(REALM);\n            var roles = (JSONArray) jsonObject.get(ROLES);\n            List&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;();\n            roles.forEach(role -&gt; grantedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + role)));\n            return new JwtAuthenticationToken(jwt, grantedAuthorities);\n        }\n    }\n}\n</code></pre>\n<p>Link to example <a href=\"https://github.com/kesaven8/resourceServer-spring-boot\" rel=\"nofollow noreferrer\">https://github.com/kesaven8/resourceServer-spring-boot</a></p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666472467,"creation_date":1666461929,"answer_id":74165925,"question_id":68918572,"body_markdown":"# 2022 update\r\nI maintain a set of [tutorials](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials) and [samples](https://github.com/ch4mpy/spring-addons/tree/master/samples) to configure resource-servers security for:\r\n- both servlet and reactive applications\r\n- decoding JWTs and introspecting access-tokens\r\n- default or custom `Authentication` implementations\r\n- any OIDC authorization-server(s), including Keycloak of course (most samples support multiple realms / identity-providers)\r\n\r\n[The repo](https://github.com/ch4mpy/spring-addons) also contains a set of libs published on maven-central to:\r\n- mock OAuth2 identities during unit and integration tests (with authorities and any OpenID claim, including private ones)\r\n- configure resource-servers from properties file (including source claims for roles, roles prefix and case processing, CORS configuration, session-management, public routes and more)\r\n\r\n### Sample for a servlet with JWT decoder\r\n```java\r\n@EnableMethodSecurity(prePostEnabled = true)\r\n@Configuration\r\npublic class SecurityConfig {}\r\n```\r\n```properties\r\ncom.c4-soft.springaddons.security.issuers[0].location=https://localhost:8443/realms/master\r\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=realm_access.roles,resource_access.spring-addons-public.roles,resource_access.spring-addons-confidential.roles\r\ncom.c4-soft.springaddons.security.cors[0].path=/sample/**\r\n```\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nNo, nothing more requried.\r\n\r\n### Unit-tests with mocked authentication\r\nSecured `@Component` without http request (`@Service`, `@Repository`, etc.)\r\n```java\r\n@Import({ SecurityConfig.class, SecretRepo.class })\r\n@AutoConfigureAddonsSecurity\r\nclass SecretRepoTest {\r\n\r\n\t// auto-wire tested component\r\n\t@Autowired\r\n\tSecretRepo secretRepo;\r\n\r\n\t@Test\r\n\tvoid whenNotAuthenticatedThenThrows() {\r\n\t\t// call tested components methods directly (do not use MockMvc nor WebTestClient)\r\n\t\tassertThrows(Exception.class, () -&gt; secretRepo.findSecretByUsername(&quot;ch4mpy&quot;));\r\n\t}\r\n\r\n\t@Test\r\n\t@WithMockJwtAuth(claims = @OpenIdClaims(preferredUsername = &quot;Tonton Pirate&quot;))\r\n\tvoid whenAuthenticatedAsSomeoneElseThenThrows() {\r\n\t\tassertThrows(Exception.class, () -&gt; secretRepo.findSecretByUsername(&quot;ch4mpy&quot;));\r\n\t}\r\n\r\n\t@Test\r\n\t@WithMockJwtAuth(claims = @OpenIdClaims(preferredUsername = &quot;ch4mpy&quot;))\r\n\tvoid whenAuthenticatedWithSameUsernameThenReturns() {\r\n\t\tassertEquals(&quot;Don&#39;t ever tell it&quot;, secretRepo.findSecretByUsername(&quot;ch4mpy&quot;));\r\n\t}\r\n\r\n}\r\n```\r\nSecured `@Controller` (sample for `@WebMvcTest` but works for `@WebfluxTest` too) \r\n```java\r\n@WebMvcTest(GreetingController.class) // Use WebFluxTest or WebMvcTest\r\n@AutoConfigureAddonsWebSecurity // If your web-security depends on it, setup spring-addons security\r\n@Import({ SecurityConfig.class }) // Import your web-security configuration\r\nclass GreetingControllerAnnotatedTest {\r\n\r\n\t// Mock controller injected dependencies\r\n\t@MockBean\r\n\tprivate MessageService messageService;\r\n\r\n\t@Autowired\r\n\tMockMvcSupport api;\r\n\r\n\t@BeforeEach\r\n\tpublic void setUp() {\r\n\t\twhen(messageService.greet(any())).thenAnswer(invocation -&gt; {\r\n\t\t\tfinal JwtAuthenticationToken auth = invocation.getArgument(0, JwtAuthenticationToken.class);\r\n\t\t\treturn String.format(&quot;Hello %s! You are granted with %s.&quot;, auth.getName(), auth.getAuthorities());\r\n\t\t});\r\n\t\twhen(messageService.getSecret()).thenReturn(&quot;Secret message&quot;);\r\n\t}\r\n\r\n\t@Test\r\n\tvoid greetWitoutAuthentication() throws Exception {\r\n\t\tapi.get(&quot;/greet&quot;).andExpect(status().isUnauthorized());\r\n\t}\r\n\r\n\t@Test\r\n\t@WithMockAuthentication(authType = JwtAuthenticationToken.class, principalType = Jwt.class, authorities = &quot;ROLE_AUTHORIZED_PERSONNEL&quot;)\r\n\tvoid greetWithDefaultMockAuthentication() throws Exception {\r\n\t\tapi.get(&quot;/greet&quot;).andExpect(content().string(&quot;Hello user! You are granted with [ROLE_AUTHORIZED_PERSONNEL].&quot;));\r\n\t}\r\n}\r\n```\r\n\r\n### Advanced use-cases\r\nThe most advanced tutorial demoes how to define a custom `Authentication` implementation to parse (and expose to java code) any private claim into things that are security related but not roles (in the sample it&#39;s grant delegation between users).\r\n\r\nIt also shows how to extend spring-security SpEL to build a DSL like:\r\n```java\r\n@GetMapping(&quot;greet/on-behalf-of/{username}&quot;)\r\n@PreAuthorize(&quot;is(#username) or isNice() or onBehalfOf(#username).can(&#39;greet&#39;)&quot;)\r\npublic String getGreetingFor(@PathVariable(&quot;username&quot;) String username) {\r\n    return ...;\r\n}\r\n```","title":"Spring Security: extract oidc role claims to spring authorities","body":"<h1>2022 update</h1>\n<p>I maintain a set of <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">tutorials</a> and <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples\" rel=\"nofollow noreferrer\">samples</a> to configure resource-servers security for:</p>\n<ul>\n<li>both servlet and reactive applications</li>\n<li>decoding JWTs and introspecting access-tokens</li>\n<li>default or custom <code>Authentication</code> implementations</li>\n<li>any OIDC authorization-server(s), including Keycloak of course (most samples support multiple realms / identity-providers)</li>\n</ul>\n<p><a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">The repo</a> also contains a set of libs published on maven-central to:</p>\n<ul>\n<li>mock OAuth2 identities during unit and integration tests (with authorities and any OpenID claim, including private ones)</li>\n<li>configure resource-servers from properties file (including source claims for roles, roles prefix and case processing, CORS configuration, session-management, public routes and more)</li>\n</ul>\n<h3>Sample for a servlet with JWT decoder</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableMethodSecurity(prePostEnabled = true)\n@Configuration\npublic class SecurityConfig {}\n</code></pre>\n<pre><code>com.c4-soft.springaddons.security.issuers[0].location=https://localhost:8443/realms/master\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=realm_access.roles,resource_access.spring-addons-public.roles,resource_access.spring-addons-confidential.roles\ncom.c4-soft.springaddons.security.cors[0].path=/sample/**\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\n    &lt;version&gt;6.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>No, nothing more requried.</p>\n<h3>Unit-tests with mocked authentication</h3>\n<p>Secured <code>@Component</code> without http request (<code>@Service</code>, <code>@Repository</code>, etc.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Import({ SecurityConfig.class, SecretRepo.class })\n@AutoConfigureAddonsSecurity\nclass SecretRepoTest {\n\n    // auto-wire tested component\n    @Autowired\n    SecretRepo secretRepo;\n\n    @Test\n    void whenNotAuthenticatedThenThrows() {\n        // call tested components methods directly (do not use MockMvc nor WebTestClient)\n        assertThrows(Exception.class, () -&gt; secretRepo.findSecretByUsername(&quot;ch4mpy&quot;));\n    }\n\n    @Test\n    @WithMockJwtAuth(claims = @OpenIdClaims(preferredUsername = &quot;Tonton Pirate&quot;))\n    void whenAuthenticatedAsSomeoneElseThenThrows() {\n        assertThrows(Exception.class, () -&gt; secretRepo.findSecretByUsername(&quot;ch4mpy&quot;));\n    }\n\n    @Test\n    @WithMockJwtAuth(claims = @OpenIdClaims(preferredUsername = &quot;ch4mpy&quot;))\n    void whenAuthenticatedWithSameUsernameThenReturns() {\n        assertEquals(&quot;Don't ever tell it&quot;, secretRepo.findSecretByUsername(&quot;ch4mpy&quot;));\n    }\n\n}\n</code></pre>\n<p>Secured <code>@Controller</code> (sample for <code>@WebMvcTest</code> but works for <code>@WebfluxTest</code> too)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(GreetingController.class) // Use WebFluxTest or WebMvcTest\n@AutoConfigureAddonsWebSecurity // If your web-security depends on it, setup spring-addons security\n@Import({ SecurityConfig.class }) // Import your web-security configuration\nclass GreetingControllerAnnotatedTest {\n\n    // Mock controller injected dependencies\n    @MockBean\n    private MessageService messageService;\n\n    @Autowired\n    MockMvcSupport api;\n\n    @BeforeEach\n    public void setUp() {\n        when(messageService.greet(any())).thenAnswer(invocation -&gt; {\n            final JwtAuthenticationToken auth = invocation.getArgument(0, JwtAuthenticationToken.class);\n            return String.format(&quot;Hello %s! You are granted with %s.&quot;, auth.getName(), auth.getAuthorities());\n        });\n        when(messageService.getSecret()).thenReturn(&quot;Secret message&quot;);\n    }\n\n    @Test\n    void greetWitoutAuthentication() throws Exception {\n        api.get(&quot;/greet&quot;).andExpect(status().isUnauthorized());\n    }\n\n    @Test\n    @WithMockAuthentication(authType = JwtAuthenticationToken.class, principalType = Jwt.class, authorities = &quot;ROLE_AUTHORIZED_PERSONNEL&quot;)\n    void greetWithDefaultMockAuthentication() throws Exception {\n        api.get(&quot;/greet&quot;).andExpect(content().string(&quot;Hello user! You are granted with [ROLE_AUTHORIZED_PERSONNEL].&quot;));\n    }\n}\n</code></pre>\n<h3>Advanced use-cases</h3>\n<p>The most advanced tutorial demoes how to define a custom <code>Authentication</code> implementation to parse (and expose to java code) any private claim into things that are security related but not roles (in the sample it's grant delegation between users).</p>\n<p>It also shows how to extend spring-security SpEL to build a DSL like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;greet/on-behalf-of/{username}&quot;)\n@PreAuthorize(&quot;is(#username) or isNice() or onBehalfOf(#username).can('greet')&quot;)\npublic String getGreetingFor(@PathVariable(&quot;username&quot;) String username) {\n    return ...;\n}\n</code></pre>\n"}],"owner":{"account_id":4466871,"reputation":311,"user_id":4437616,"accept_rate":71,"display_name":"Bat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4060,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":68933692,"answer_count":3,"score":6,"last_activity_date":1666472467,"creation_date":1629876419,"question_id":68918572,"body_markdown":"I am trying to get role claims from an `OAuth2AuthenticationToken` to be detected as Spring Security authorities. There is a custom role defined on OIDC provider side (Azure AD in my case) that is nested inside the `DefaultOidcUser`, but not added automatically to the authorities:\r\n[![enter image description here][1]][1]\r\n\r\nI tried to extract them from the Jwt Token [like this][2]\r\n\r\n\r\nHowever, when I do that, neither of the following methods is called (neither during login, nor later, even in the default configuration):\r\n- `JwtGrantedAuthoritiesConverter.convert(Jwt)`\r\n- `JwtAuthenticationConverter.convert(Jwt)`\r\n- `JwtAuthenticationConverter.extractAuthorities(Jwt)`\r\n\r\n\r\nMy current configuration is:\r\n\r\n\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\r\n    @Import(SecurityProblemSupport.class)\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n    @Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n            // @formatter:off\r\n            http\r\n                .csrf()\r\n                &lt;some more config that has nothing to do with oauth/oidc&gt;\r\n                .and()\r\n                .oauth2Login()\r\n                .and()\r\n                .oauth2ResourceServer()\r\n                .jwt()\r\n                .jwtAuthenticationConverter(jwtAuthenticationConverter())\r\n                .and()\r\n                .and()\r\n                .oauth2Client()\r\n            ;\r\n        }\r\n    \r\n        private JwtAuthenticationConverter jwtAuthenticationConverter() {\r\n            // create a custom JWT converter to map the roles from the token as granted authorities\r\n            JwtGrantedAuthoritiesConverter jwtGrantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\r\n            jwtGrantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;roles&quot;);     \r\n            JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\r\n            jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(jwtGrantedAuthoritiesConverter);\r\n            return jwtAuthenticationConverter;\r\n        }\r\n    }\r\n\r\nI also tried with a \r\n\r\n    CustomJwtAuthConverter implements Converter&lt;Jwt, AbstractAuthenticationToken&gt;\r\n\r\nbut to no avail. \r\n\r\nAny help would be appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LQPFz.png\r\n  [2]: https://stackoverflow.com/questions/58205510/spring-security-mapping-oauth2-claims-with-roles-to-secure-resource-server-endp","title":"Spring Security: extract oidc role claims to spring authorities","body":"<p>I am trying to get role claims from an <code>OAuth2AuthenticationToken</code> to be detected as Spring Security authorities. There is a custom role defined on OIDC provider side (Azure AD in my case) that is nested inside the <code>DefaultOidcUser</code>, but not added automatically to the authorities:\n<a href=\"https://i.stack.imgur.com/LQPFz.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LQPFz.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried to extract them from the Jwt Token <a href=\"https://stackoverflow.com/questions/58205510/spring-security-mapping-oauth2-claims-with-roles-to-secure-resource-server-endp\">like this</a></p>\n<p>However, when I do that, neither of the following methods is called (neither during login, nor later, even in the default configuration):</p>\n<ul>\n<li><code>JwtGrantedAuthoritiesConverter.convert(Jwt)</code></li>\n<li><code>JwtAuthenticationConverter.convert(Jwt)</code></li>\n<li><code>JwtAuthenticationConverter.extractAuthorities(Jwt)</code></li>\n</ul>\n<p>My current configuration is:</p>\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\n@Import(SecurityProblemSupport.class)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n@Override\n    public void configure(HttpSecurity http) throws Exception {\n        // @formatter:off\n        http\n            .csrf()\n            &lt;some more config that has nothing to do with oauth/oidc&gt;\n            .and()\n            .oauth2Login()\n            .and()\n            .oauth2ResourceServer()\n            .jwt()\n            .jwtAuthenticationConverter(jwtAuthenticationConverter())\n            .and()\n            .and()\n            .oauth2Client()\n        ;\n    }\n\n    private JwtAuthenticationConverter jwtAuthenticationConverter() {\n        // create a custom JWT converter to map the roles from the token as granted authorities\n        JwtGrantedAuthoritiesConverter jwtGrantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\n        jwtGrantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;roles&quot;);     \n        JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\n        jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(jwtGrantedAuthoritiesConverter);\n        return jwtAuthenticationConverter;\n    }\n}\n</code></pre>\n<p>I also tried with a</p>\n<pre><code>CustomJwtAuthConverter implements Converter&lt;Jwt, AbstractAuthenticationToken&gt;\n</code></pre>\n<p>but to no avail.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","inheritance","methods"],"answers":[{"tags":[],"owner":{"account_id":12925501,"reputation":171,"user_id":9346402,"display_name":"tobi1805"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666435120,"creation_date":1666435120,"answer_id":74162809,"question_id":74162567,"body_markdown":"I think the problem here is, that you access a non static instance `c1` of class `Child1` from the context of a static variable &#39;Americano&#39;.\r\n\r\nTo solve this you could just make c1 static.","title":"Accessing a method from a Parent class from child1 and child2","body":"<p>I think the problem here is, that you access a non static instance <code>c1</code> of class <code>Child1</code> from the context of a static variable 'Americano'.</p>\n<p>To solve this you could just make c1 static.</p>\n"}],"owner":{"account_id":26700340,"reputation":1,"user_id":20307506,"display_name":"Kazumi Aoi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666471813,"creation_date":1666432699,"question_id":74162567,"body_markdown":"I am learning methods, inheritance and I am also trying to learn how can I call a method from different class. I am trying to access the &quot;Order&quot; method from Parent but I am stuck in this problem because my error is &quot;Cannot make a static reference to the non-static field c1&quot;. How can I fix this problem? \r\n```java\r\nclass Parent {\r\n    Child1 c1 = new Child1();\r\n    public static int Americano = c1.Americano; // error\r\n    static int CaffeLatte = c1.CaffeLatte;\r\n    static int Cappuccino = c1.Cappuccino;\r\n\r\n    static void order() {\r\n        // some statements about choosing which coffee\r\n    }\r\n\r\n    class Child1 extends Parent {\r\n        int Americano = 100;\r\n        int CaffeLatte = 125;\r\n        int Cappuccino = 150;\r\n        public Child1() {}\r\n    }\r\n\r\n    class Child2 extends Child1 {\r\n        public Child2() {\r\n            Parent.order(); // Here is what I am trying to do.\r\n        }\r\n    }\r\n}\r\n```","title":"Accessing a method from a Parent class from child1 and child2","body":"<p>I am learning methods, inheritance and I am also trying to learn how can I call a method from different class. I am trying to access the &quot;Order&quot; method from Parent but I am stuck in this problem because my error is &quot;Cannot make a static reference to the non-static field c1&quot;. How can I fix this problem?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Parent {\n    Child1 c1 = new Child1();\n    public static int Americano = c1.Americano; // error\n    static int CaffeLatte = c1.CaffeLatte;\n    static int Cappuccino = c1.Cappuccino;\n\n    static void order() {\n        // some statements about choosing which coffee\n    }\n\n    class Child1 extends Parent {\n        int Americano = 100;\n        int CaffeLatte = 125;\n        int Cappuccino = 150;\n        public Child1() {}\n    }\n\n    class Child2 extends Child1 {\n        public Child2() {\n            Parent.order(); // Here is what I am trying to do.\n        }\n    }\n}\n</code></pre>\n"},{"tags":["dart","java","javac","bytecode"],"comments":[{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1666619845,"post_id":74154474,"comment_id":130973750,"body_markdown":"https://stackoverflow.com/questions/71834059/why-invokedynamic-based-string-concatenation-is-not-available-for-javac-in-java","body":"<a href=\"https://stackoverflow.com/questions/71834059/why-invokedynamic-based-string-concatenation-is-not-available-for-javac-in-java\" title=\"why invokedynamic based string concatenation is not available for javac in java\">stackoverflow.com/questions/71834059/&hellip;</a>"},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1668189735,"post_id":74154474,"comment_id":131353544,"body_markdown":"Why does this question have a &#39;dart&#39; tag? I see it didn&#39;t have that tag when created. It seems not possible to remove. Weird.","body":"Why does this question have a &#39;dart&#39; tag? I see it didn&#39;t have that tag when created. It seems not possible to remove. Weird."},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":1,"creation_date":1668192830,"post_id":74154474,"comment_id":131354385,"body_markdown":"@Lii You&#39;re not the first one to notice. It&#39;s being discussed [here on Meta](https://meta.stackoverflow.com/questions/421265/why-is-this-question-shown-with-a-tag-dart-it-doesnt-have).","body":"@Lii You&#39;re not the first one to notice. It&#39;s being discussed <a href=\"https://meta.stackoverflow.com/questions/421265/why-is-this-question-shown-with-a-tag-dart-it-doesnt-have\">here on Meta</a>."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1666361288,"creation_date":1666361288,"answer_id":74154912,"question_id":74154474,"body_markdown":"It&#39;s explained in [the JEP](https://openjdk.org/jeps/280). Emphasis mine\r\n\r\n&gt; java.base exemptions. Since this feature uses a core library feature\r\n&gt; (java.lang.invoke) to implement a core language feature (String\r\n&gt; concatenation), we have to exempt the java.base module from using the\r\n&gt; indified String concat. **Otherwise a circularity happens** when the\r\n&gt; java.lang.invoke.* machinery requires String concat to work, which in\r\n&gt; turn requires the java.lang.invoke.* machinery. This exemption may\r\n&gt; limit the performance improvements observed from this feature, since\r\n&gt; many java.base classes will not be able to use it. We consider this an\r\n&gt; acceptable downside, which should be covered by the VM&#39;s optimizing\r\n&gt; compilers.","title":"Optimizations of &quot;+&quot; operand for strings in JDK 17","body":"<p>It's explained in <a href=\"https://openjdk.org/jeps/280\" rel=\"noreferrer\">the JEP</a>. Emphasis mine</p>\n<blockquote>\n<p>java.base exemptions. Since this feature uses a core library feature\n(java.lang.invoke) to implement a core language feature (String\nconcatenation), we have to exempt the java.base module from using the\nindified String concat. <strong>Otherwise a circularity happens</strong> when the\njava.lang.invoke.* machinery requires String concat to work, which in\nturn requires the java.lang.invoke.* machinery. This exemption may\nlimit the performance improvements observed from this feature, since\nmany java.base classes will not be able to use it. We consider this an\nacceptable downside, which should be covered by the VM's optimizing\ncompilers.</p>\n</blockquote>\n"}],"owner":{"account_id":26693138,"reputation":231,"user_id":20301418,"display_name":"Hyrio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1910,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":1,"score":23,"last_activity_date":1666470880,"creation_date":1666359302,"question_id":74154474,"body_markdown":"We know that in JDK8 and below, strings using a plus sign for concatenation will be compiled into StringBuilder for performance optimization, but after JDK9, it will be implemented using the `java.lang.invoke.StringConcatFactory#makeConcatWithConstants` method.\r\n\r\nHowever, after decompiling `java.lang.Object`, it can be seen that its `toString` method is still implemented using StringBuilder:\r\n\r\n    public java.lang.String toString();\r\n    descriptor: ()Ljava/lang/String;\r\n    flags: (0x0001) ACC_PUBLIC\r\n    Code:\r\n      stack=2, locals=1, args_size=1\r\n         0: new           #1                  // class java/lang/StringBuilder\r\n         3: dup\r\n         4: invokespecial #3                  // Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n         7: aload_0\r\n         8: invokevirtual #7                  // Method getClass:()Ljava/lang/Class;\r\n        11: invokevirtual #13                 // Method java/lang/Class.getName:()Ljava/lang/String;\r\n        14: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n        17: ldc           #23                 // String @\r\n        19: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n        22: aload_0\r\n        23: invokevirtual #25                 // Method hashCode:()I\r\n        26: invokestatic  #29                 // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;\r\n        29: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n        32: invokevirtual #35                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;\r\n        35: areturn\r\n      LineNumberTable:\r\n        line 256: 0\r\n      LocalVariableTable:\r\n        Start  Length  Slot  Name   Signature\r\n            0      36     0  this   Ljava/lang/Object;\r\n\r\n\r\n\r\nLooking through the source code, it can be seen that it still uses the plus sign to connect the three parts:\r\n\r\n    public String toString() {\r\n        return getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());\r\n    }\r\n\r\nRewrite the same code into a class to compile:\r\n\r\n    public class Main {\r\n        public String fooString() {\r\n            return getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());\r\n        }\r\n    }\r\n\r\nIt can be seen from the decompilation that it is still implemented using the `java.lang.invoke.StringConcatFactory#makeConcatWithConstants` method:\r\n\r\n\r\n    public java.lang.String fooString();\r\n        descriptor: ()Ljava/lang/String;\r\n        flags: (0x0001) ACC_PUBLIC\r\n        Code:\r\n          stack=2, locals=1, args_size=1\r\n            start local 0 // Main this\r\n             0: aload_0\r\n             1: invokevirtual #7                  // Method java/lang/Object.getClass:()Ljava/lang/Class;\r\n             4: invokevirtual #11                 // Method java/lang/Class.getName:()Ljava/lang/String;\r\n             7: aload_0\r\n             8: invokevirtual #17                 // Method java/lang/Object.hashCode:()I\r\n            11: invokestatic  #21                 // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;\r\n            14: invokedynamic #27,  0             // InvokeDynamic #0:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;\r\n            19: areturn\r\n            end local 0 // Main this\r\n          LineNumberTable:\r\n          LocalVariableTable:\r\n            Start  Length  Slot  Name   Signature\r\n                0      20     0  this   LMain;\r\n\r\nSo why is the plus sign used in `Object` class implemented using `StringBuilder` while class `A`(mentioned above) using `makeConcatWithConstants`? Does the bytecode of the Object class provided by the JDK do not match the source code, or is there a special optimization for the Object class at compile time?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j5n7r.jpg\r\n  [2]: https://i.stack.imgur.com/GKL3B.png\r\n  [3]: https://i.stack.imgur.com/grctf.jpg\r\n  [4]: https://i.stack.imgur.com/j18Nj.jpg","title":"Optimizations of &quot;+&quot; operand for strings in JDK 17","body":"<p>We know that in JDK8 and below, strings using a plus sign for concatenation will be compiled into StringBuilder for performance optimization, but after JDK9, it will be implemented using the <code>java.lang.invoke.StringConcatFactory#makeConcatWithConstants</code> method.</p>\n<p>However, after decompiling <code>java.lang.Object</code>, it can be seen that its <code>toString</code> method is still implemented using StringBuilder:</p>\n<pre><code>public java.lang.String toString();\ndescriptor: ()Ljava/lang/String;\nflags: (0x0001) ACC_PUBLIC\nCode:\n  stack=2, locals=1, args_size=1\n     0: new           #1                  // class java/lang/StringBuilder\n     3: dup\n     4: invokespecial #3                  // Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\n     7: aload_0\n     8: invokevirtual #7                  // Method getClass:()Ljava/lang/Class;\n    11: invokevirtual #13                 // Method java/lang/Class.getName:()Ljava/lang/String;\n    14: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n    17: ldc           #23                 // String @\n    19: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n    22: aload_0\n    23: invokevirtual #25                 // Method hashCode:()I\n    26: invokestatic  #29                 // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;\n    29: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n    32: invokevirtual #35                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n    35: areturn\n  LineNumberTable:\n    line 256: 0\n  LocalVariableTable:\n    Start  Length  Slot  Name   Signature\n        0      36     0  this   Ljava/lang/Object;\n</code></pre>\n<p>Looking through the source code, it can be seen that it still uses the plus sign to connect the three parts:</p>\n<pre><code>public String toString() {\n    return getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());\n}\n</code></pre>\n<p>Rewrite the same code into a class to compile:</p>\n<pre><code>public class Main {\n    public String fooString() {\n        return getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());\n    }\n}\n</code></pre>\n<p>It can be seen from the decompilation that it is still implemented using the <code>java.lang.invoke.StringConcatFactory#makeConcatWithConstants</code> method:</p>\n<pre><code>public java.lang.String fooString();\n    descriptor: ()Ljava/lang/String;\n    flags: (0x0001) ACC_PUBLIC\n    Code:\n      stack=2, locals=1, args_size=1\n        start local 0 // Main this\n         0: aload_0\n         1: invokevirtual #7                  // Method java/lang/Object.getClass:()Ljava/lang/Class;\n         4: invokevirtual #11                 // Method java/lang/Class.getName:()Ljava/lang/String;\n         7: aload_0\n         8: invokevirtual #17                 // Method java/lang/Object.hashCode:()I\n        11: invokestatic  #21                 // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;\n        14: invokedynamic #27,  0             // InvokeDynamic #0:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;\n        19: areturn\n        end local 0 // Main this\n      LineNumberTable:\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0      20     0  this   LMain;\n</code></pre>\n<p>So why is the plus sign used in <code>Object</code> class implemented using <code>StringBuilder</code> while class <code>A</code>(mentioned above) using <code>makeConcatWithConstants</code>? Does the bytecode of the Object class provided by the JDK do not match the source code, or is there a special optimization for the Object class at compile time?</p>\n"},{"tags":["java","algorithm","data-structures","stack"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":10,"creation_date":1370638470,"post_id":16992758,"comment_id":24550228,"body_markdown":"Note: `Stack` is obsolete, you should use a `Deque` instead (for instance an `ArrayDeque`","body":"Note: <code>Stack</code> is obsolete, you should use a <code>Deque</code> instead (for instance an <code>ArrayDeque</code>"},{"owner":{"account_id":2780943,"reputation":9661,"user_id":2393509,"accept_rate":88,"display_name":"jtomaszk"},"score":0,"creation_date":1370638654,"post_id":16992758,"comment_id":24550298,"body_markdown":"And what if you use pop() operation?","body":"And what if you use pop() operation?"},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":4,"creation_date":1370638722,"post_id":16992758,"comment_id":24550324,"body_markdown":"In support of fge&#39;s comment, in the doc of [Stack](http://docs.oracle.com/javase/7/docs/api/java/util/Stack.html) class: `A more complete and consistent set of LIFO stack operations is provided by the Deque interface and its implementations, which should be used in preference to this class.`","body":"In support of fge&#39;s comment, in the doc of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Stack.html\" rel=\"nofollow noreferrer\">Stack</a> class: <code>A more complete and consistent set of LIFO stack operations is provided by the Deque interface and its implementations, which should be used in preference to this class.</code>"},{"owner":{"account_id":2808454,"reputation":14373,"user_id":2415194,"accept_rate":87,"display_name":"nachokk"},"score":0,"creation_date":1370638858,"post_id":16992758,"comment_id":24550389,"body_markdown":"see pop() Returns:\nThe object at the top of this stack (the last item of the Vector object). the last item , so here u realize that is not the first in the structure inside, so when u iterate u should make a reverse iteration hihi, very bad design","body":"see pop() Returns: The object at the top of this stack (the last item of the Vector object). the last item , so here u realize that is not the first in the structure inside, so when u iterate u should make a reverse iteration hihi, very bad design"}],"answers":[{"comments":[{"owner":{"account_id":344722,"reputation":4298,"user_id":677185,"accept_rate":85,"display_name":"vincent mathew"},"score":1,"creation_date":1370639091,"post_id":16992843,"comment_id":24550491,"body_markdown":"Why didn&#39;t they correct the bug when it can be done by just overriding the Iterator method?","body":"Why didn&#39;t they correct the bug when it can be done by just overriding the Iterator method?"},{"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"score":1,"creation_date":1370639242,"post_id":16992843,"comment_id":24550560,"body_markdown":"@vincentmathew Yes, they could have overridden the `iterator()` method just like in Prof. Sedgewick&#39;s code that you linked to in order to make it iterate in LIFO order (assuming the same internal representation).","body":"@vincentmathew Yes, they could have overridden the <code>iterator()</code> method just like in Prof. Sedgewick&#39;s code that you linked to in order to make it iterate in LIFO order (assuming the same internal representation)."},{"owner":{"account_id":344722,"reputation":4298,"user_id":677185,"accept_rate":85,"display_name":"vincent mathew"},"score":1,"creation_date":1370639402,"post_id":16992843,"comment_id":24550618,"body_markdown":"@BilltheLiazard Maybe they could not have. &quot;It was an incorrect design decision to have Stack extend Vector (&quot;is-a&quot; rather than &quot;has-a&quot;). We sympathize with the submitter but cannot fix this because\nof compatibility.&quot;","body":"@BilltheLiazard Maybe they could not have. &quot;It was an incorrect design decision to have Stack extend Vector (&quot;is-a&quot; rather than &quot;has-a&quot;). We sympathize with the submitter but cannot fix this because of compatibility.&quot;"},{"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"score":2,"creation_date":1370639613,"post_id":16992843,"comment_id":24550705,"body_markdown":"@vincentmathew Even if they had a different internal representation for the `Stack` (which is probable; I think they use an expanding array approach), they could have come up with some `iterator()` method that iterates in the expected order.  I guess iteration order isn&#39;t really a part of the design contract of a stack data structure, but it still seems like a poor choice to me.","body":"@vincentmathew Even if they had a different internal representation for the <code>Stack</code> (which is probable; I think they use an expanding array approach), they could have come up with some <code>iterator()</code> method that iterates in the expected order.  I guess iteration order isn&#39;t really a part of the design contract of a stack data structure, but it still seems like a poor choice to me."},{"owner":{"account_id":200481,"reputation":5196,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"score":0,"creation_date":1589406695,"post_id":16992843,"comment_id":109286310,"body_markdown":"I know this is a very very old thread, but I just wanted to note that they could not invert the iterator, because that would break any code, which accepted a Vector if you gave that method a Stack. Which just goes to show that a Stack is not a vector, and it should not have extended Vector.","body":"I know this is a very very old thread, but I just wanted to note that they could not invert the iterator, because that would break any code, which accepted a Vector if you gave that method a Stack. Which just goes to show that a Stack is not a vector, and it should not have extended Vector."}],"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"comment_count":5,"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1370638704,"creation_date":1370638704,"answer_id":16992843,"question_id":16992758,"body_markdown":"See [Bug ID 4475301 : RFE: java.util.Stack.iterator() iterates the wrong way][1].  This behavior is by (bad) design. Java&#39;s built-in [`Stack`][2] iterator methods are inherited from other classes, so they don&#39;t behave as you&#39;d expect.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4475301\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/Stack.html","title":"Is there a bug in java.util.Stack&#39;s Iterator?","body":"<p>See <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4475301\" rel=\"nofollow noreferrer\">Bug ID 4475301 : RFE: java.util.Stack.iterator() iterates the wrong way</a>.  This behavior is by (bad) design. Java's built-in <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Stack.html\" rel=\"nofollow noreferrer\"><code>Stack</code></a> iterator methods are inherited from other classes, so they don't behave as you'd expect.</p>\n"},{"tags":[],"owner":{"account_id":128749,"reputation":21660,"user_id":326820,"accept_rate":99,"display_name":"Shamim Hafiz - MSFT"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1370638890,"creation_date":1370638890,"answer_id":16992887,"question_id":16992758,"body_markdown":"Well by principle, you should not iterate over a `Stack`, but only push on top or pop from top. As for actual implementation, most languages, including Java, use another `collection type` to implement a `Stack`. From strict requirements point of view, it should allow constant time `push, top and pop` operation.\r\n\r\nAny additional features (or bug in this case), should just be ignored and not relied upon for coding.\r\n","title":"Is there a bug in java.util.Stack&#39;s Iterator?","body":"<p>Well by principle, you should not iterate over a <code>Stack</code>, but only push on top or pop from top. As for actual implementation, most languages, including Java, use another <code>collection type</code> to implement a <code>Stack</code>. From strict requirements point of view, it should allow constant time <code>push, top and pop</code> operation.</p>\n\n<p>Any additional features (or bug in this case), should just be ignored and not relied upon for coding.</p>\n"},{"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487016367,"creation_date":1378221729,"answer_id":18595942,"question_id":16992758,"body_markdown":"[Eclipse Collections][1] includes a [mutable stack implementation][2] where the iterator returns values from top to bottom. This code prints 3, 2, then 1.\r\n\r\n    MutableStack&lt;Integer&gt; stack = ArrayStack.newStack();\r\n    stack.push(1);\r\n    stack.push(2);\r\n    stack.push(3);\r\n    for (Iterator&lt;Integer&gt; iterator = stack.iterator(); iterator.hasNext(); )\r\n    {\r\n        Integer each = iterator.next();\r\n        System.out.println(each);\r\n    }\r\n\r\n`MutableStack` does not extend `MutableCollection` or `Collection`, so that you can&#39;t remove from the middle of the stack, for example. Methods that implement internal iteration patterns like `forEach()`, `select()`, `collect()`, `anySatisfy()`, `allSatisfy()`, etc. also process elements from top to bottom. This code prints the same thing.\r\n\r\n    stack.forEach(Procedures.println(System.out));\r\n\r\n\r\n**Note:** I am a committer for Eclipse collections.\r\n\r\n\r\n  [1]: http://www.eclipse.org/collections/\r\n  [2]: https://github.com/eclipse/eclipse-collections/blob/master/eclipse-collections-api/src/main/java/org/eclipse/collections/api/stack/MutableStack.java","title":"Is there a bug in java.util.Stack&#39;s Iterator?","body":"<p><a href=\"http://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a> includes a <a href=\"https://github.com/eclipse/eclipse-collections/blob/master/eclipse-collections-api/src/main/java/org/eclipse/collections/api/stack/MutableStack.java\" rel=\"nofollow noreferrer\">mutable stack implementation</a> where the iterator returns values from top to bottom. This code prints 3, 2, then 1.</p>\n\n<pre><code>MutableStack&lt;Integer&gt; stack = ArrayStack.newStack();\nstack.push(1);\nstack.push(2);\nstack.push(3);\nfor (Iterator&lt;Integer&gt; iterator = stack.iterator(); iterator.hasNext(); )\n{\n    Integer each = iterator.next();\n    System.out.println(each);\n}\n</code></pre>\n\n<p><code>MutableStack</code> does not extend <code>MutableCollection</code> or <code>Collection</code>, so that you can't remove from the middle of the stack, for example. Methods that implement internal iteration patterns like <code>forEach()</code>, <code>select()</code>, <code>collect()</code>, <code>anySatisfy()</code>, <code>allSatisfy()</code>, etc. also process elements from top to bottom. This code prints the same thing.</p>\n\n<pre><code>stack.forEach(Procedures.println(System.out));\n</code></pre>\n\n<p><strong>Note:</strong> I am a committer for Eclipse collections.</p>\n"},{"tags":[],"owner":{"account_id":1480499,"reputation":2636,"user_id":1390015,"display_name":"tbraun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403171539,"creation_date":1403171539,"answer_id":24303695,"question_id":16992758,"body_markdown":"Stack inherits *.listIterator()* from *AbstractList* which allows inverse order iteration.\r\n\r\n\tStack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();\r\n\tstack.push(1);\r\n\tstack.push(2);\r\n\tstack.push(3);\r\n\tfor (ListIterator&lt;Integer&gt; iterator = stack.listIterator(stack.size()); iterator.hasPrevious();) {\r\n\t\tInteger integer = iterator.previous();\r\n\t\tSystem.out.println(integer);\r\n\t}\r\n\t// Output: 3 2 1\r\n","title":"Is there a bug in java.util.Stack&#39;s Iterator?","body":"<p>Stack inherits <em>.listIterator()</em> from <em>AbstractList</em> which allows inverse order iteration.</p>\n\n<pre><code>Stack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();\nstack.push(1);\nstack.push(2);\nstack.push(3);\nfor (ListIterator&lt;Integer&gt; iterator = stack.listIterator(stack.size()); iterator.hasPrevious();) {\n    Integer integer = iterator.previous();\n    System.out.println(integer);\n}\n// Output: 3 2 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257351,"reputation":266,"user_id":538708,"display_name":"Bashir"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1418671986,"creation_date":1418671986,"answer_id":27491697,"question_id":16992758,"body_markdown":"You should use Deque instead of Stack.\r\n\r\n    Deque&lt;Integer&gt; stack = new ArrayDeque&lt;Integer&gt;();\r\n\r\n[See Oracle Doc][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Stack.html","title":"Is there a bug in java.util.Stack&#39;s Iterator?","body":"<p>You should use Deque instead of Stack.</p>\n\n<pre><code>Deque&lt;Integer&gt; stack = new ArrayDeque&lt;Integer&gt;();\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Stack.html\" rel=\"noreferrer\">See Oracle Doc</a></p>\n"},{"tags":[],"owner":{"account_id":3251679,"reputation":21,"user_id":2741750,"display_name":"William Han"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436902271,"creation_date":1436901590,"answer_id":31415476,"question_id":16992758,"body_markdown":"Perhaps, you can use .get() to print items within stack from top to bottom.\r\n\r\n    Stack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();\r\n    stack.push(3);\r\n    stack.push(2);\r\n    stack.push(1);\r\n    // print from top to bottom\r\n    for(int i = stack.size() - 1; i &gt;= 0; i--){\r\n       System.out.println(stack.get(i));\r\n    }\r\n    /*\r\n    output\r\n    1\r\n    2\r\n    3\r\n    */\r\n","title":"Is there a bug in java.util.Stack&#39;s Iterator?","body":"<p>Perhaps, you can use .get() to print items within stack from top to bottom.</p>\n\n<pre><code>Stack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();\nstack.push(3);\nstack.push(2);\nstack.push(1);\n// print from top to bottom\nfor(int i = stack.size() - 1; i &gt;= 0; i--){\n   System.out.println(stack.get(i));\n}\n/*\noutput\n1\n2\n3\n*/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600165694,"creation_date":1600165694,"answer_id":63899940,"question_id":16992758,"body_markdown":"Instead of a `Stack` you can use a `LinkedList` and use the [`push`][1] and [`pop`][2] methods.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html#push(E)\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html#pop()","title":"Is there a bug in java.util.Stack&#39;s Iterator?","body":"<p>Instead of a <code>Stack</code> you can use a <code>LinkedList</code> and use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html#push(E)\" rel=\"nofollow noreferrer\"><code>push</code></a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html#pop()\" rel=\"nofollow noreferrer\"><code>pop</code></a> methods.</p>\n"},{"tags":[],"owner":{"account_id":15486800,"reputation":2157,"user_id":12044155,"display_name":"Allan Juan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666470813,"creation_date":1666470813,"answer_id":74166922,"question_id":16992758,"body_markdown":"Here&#39;s a stack implementation with built-in reverse order iteration.\r\n\r\n```java\r\npublic class PowerStack&lt;T&gt; implements Iterable {\r\n\tprivate List&lt;T&gt; items = new ArrayList&lt;T&gt;();\r\n\t\r\n\tvoid push(T item) {\r\n\t\titems.add(item);\r\n\t}\r\n\t\r\n\tvoid pop() {\r\n\t\tthis.items.remove(this.topElementIndex());\r\n\t}\r\n\t\r\n\tT top() {\r\n\t\treturn items.get(this.topElementIndex());\r\n\t}\r\n\t\r\n\tprivate int topElementIndex() {\r\n\t\treturn items.size() - 1;\r\n\t}\r\n\t\t\r\n    @Override\r\n    public Iterator&lt;T&gt; iterator() {\r\n    \treturn new ReverseOrderIterator&lt;T&gt;(items);\r\n    }\r\n}\r\n\r\npublic class ReverseOrderIterator&lt;T&gt; implements Iterator&lt;T&gt; {\r\n\tprivate List&lt;T&gt; items;\r\n\tprivate int index;\r\n\t\r\n\tpublic ReverseOrderIterator(List&lt;T&gt; items) {\r\n\t\tthis.items = items;\r\n\t\tthis.index = items.size() - 1;\r\n\t}\r\n\t\r\n\tpublic boolean hasNext() {\r\n\t\treturn this.index &gt; 0;\r\n\t}\r\n\t\r\n\tpublic T next() {\r\n\t\treturn this.items.get(index--);\r\n\t}\r\n}\r\n\r\n```","title":"Is there a bug in java.util.Stack&#39;s Iterator?","body":"<p>Here's a stack implementation with built-in reverse order iteration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PowerStack&lt;T&gt; implements Iterable {\n    private List&lt;T&gt; items = new ArrayList&lt;T&gt;();\n    \n    void push(T item) {\n        items.add(item);\n    }\n    \n    void pop() {\n        this.items.remove(this.topElementIndex());\n    }\n    \n    T top() {\n        return items.get(this.topElementIndex());\n    }\n    \n    private int topElementIndex() {\n        return items.size() - 1;\n    }\n        \n    @Override\n    public Iterator&lt;T&gt; iterator() {\n        return new ReverseOrderIterator&lt;T&gt;(items);\n    }\n}\n\npublic class ReverseOrderIterator&lt;T&gt; implements Iterator&lt;T&gt; {\n    private List&lt;T&gt; items;\n    private int index;\n    \n    public ReverseOrderIterator(List&lt;T&gt; items) {\n        this.items = items;\n        this.index = items.size() - 1;\n    }\n    \n    public boolean hasNext() {\n        return this.index &gt; 0;\n    }\n    \n    public T next() {\n        return this.items.get(index--);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":344722,"reputation":4298,"user_id":677185,"accept_rate":85,"display_name":"vincent mathew"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12111,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":16992843,"answer_count":8,"score":45,"last_activity_date":1666470813,"creation_date":1370638351,"question_id":16992758,"body_markdown":"Today I was trying to push in `java.util.Stack` class and then use the `Iterator` to iterate (without using pop) through the items. I was expecting LIFO property but got surprised.\r\n\r\nHere is the code that I was trying.\r\n \r\n    import java.util.*;\r\n    import java.util.Stack;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            RobStack&lt;Integer&gt; rstack = new RobStack&lt;Integer&gt;(); // Correct Implementation\r\n            Stack&lt;Integer&gt; jstack = new Stack&lt;Integer&gt;(); // Default Java Implementation\r\n            rstack.push(0); jstack.push(0);\r\n            rstack.push(1); jstack.push(1);\r\n            rstack.push(2); jstack.push(2);\r\n            rstack.push(3); jstack.push(3);\r\n    \r\n            System.out.print(&quot;Algo Stack: &quot;);\r\n            for (int i : rstack)\r\n                System.out.print(i + &quot; &quot;);\r\n            System.out.print(&quot;\\nJava Stack: &quot;);\r\n            for (int i : jstack)\r\n                System.out.print(i + &quot; &quot;);\r\n        }\r\n    \r\n    }\r\n\r\nThe output the above program is given below:\r\n\r\n    Algo Stack: 3 2 1 0 \r\n    Java Stack: 0 1 2 3 \r\n\r\nIn the above code `jstack` uses the default Java implementation and `rstack` uses the [implementation provided by Robert Sedgewick][1] for his Algorithm class. I found that Prof. Robert&#39;s implementation works fine but the `java.util.Stack` implementation fails. \r\n\r\nIs it a **bug** or is it by **design**?\r\n \r\n\r\n\r\n  [1]: http://algs4.cs.princeton.edu/13stacks/Stack.java","title":"Is there a bug in java.util.Stack&#39;s Iterator?","body":"<p>Today I was trying to push in <code>java.util.Stack</code> class and then use the <code>Iterator</code> to iterate (without using pop) through the items. I was expecting LIFO property but got surprised.</p>\n\n<p>Here is the code that I was trying.</p>\n\n<pre><code>import java.util.*;\nimport java.util.Stack;\n\npublic class Main {\n    public static void main(String[] args) {\n        RobStack&lt;Integer&gt; rstack = new RobStack&lt;Integer&gt;(); // Correct Implementation\n        Stack&lt;Integer&gt; jstack = new Stack&lt;Integer&gt;(); // Default Java Implementation\n        rstack.push(0); jstack.push(0);\n        rstack.push(1); jstack.push(1);\n        rstack.push(2); jstack.push(2);\n        rstack.push(3); jstack.push(3);\n\n        System.out.print(\"Algo Stack: \");\n        for (int i : rstack)\n            System.out.print(i + \" \");\n        System.out.print(\"\\nJava Stack: \");\n        for (int i : jstack)\n            System.out.print(i + \" \");\n    }\n\n}\n</code></pre>\n\n<p>The output the above program is given below:</p>\n\n<pre><code>Algo Stack: 3 2 1 0 \nJava Stack: 0 1 2 3 \n</code></pre>\n\n<p>In the above code <code>jstack</code> uses the default Java implementation and <code>rstack</code> uses the <a href=\"http://algs4.cs.princeton.edu/13stacks/Stack.java\" rel=\"noreferrer\">implementation provided by Robert Sedgewick</a> for his Algorithm class. I found that Prof. Robert's implementation works fine but the <code>java.util.Stack</code> implementation fails. </p>\n\n<p>Is it a <strong>bug</strong> or is it by <strong>design</strong>?</p>\n"},{"tags":["java","oop","design-patterns"],"comments":[{"owner":{"account_id":130264,"reputation":1294,"user_id":329408,"display_name":"digao_mb"},"score":0,"creation_date":1666466495,"post_id":74166440,"comment_id":130945722,"body_markdown":"I think on the last code block is missing the dataSetY?","body":"I think on the last code block is missing the dataSetY?"},{"owner":{"account_id":130264,"reputation":1294,"user_id":329408,"display_name":"digao_mb"},"score":2,"creation_date":1666466657,"post_id":74166440,"comment_id":130945745,"body_markdown":"The first simple thing I would change, is change the name from getPersons to addPersons. Get seems that the method won&#39;t change the state in any parameter.","body":"The first simple thing I would change, is change the name from getPersons to addPersons. Get seems that the method won&#39;t change the state in any parameter."},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666466679,"post_id":74166440,"comment_id":130945749,"body_markdown":"@digao_mb: I omitted it because it is basically similar but only goes over `dataSetY`. I can add it if it causes confusion","body":"@digao_mb: I omitted it because it is basically similar but only goes over <code>dataSetY</code>. I can add it if it causes confusion"}],"answers":[{"comments":[{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666470767,"post_id":74166884,"comment_id":130946481,"body_markdown":"So basically you are saying create 2 lists and merge them in a 3rd. The original function though is more optimal in the sense that it just creates 1 instance of a list. This is what I was trying also to achieve","body":"So basically you are saying create 2 lists and merge them in a 3rd. The original function though is more optimal in the sense that it just creates 1 instance of a list. This is what I was trying also to achieve"},{"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"score":0,"creation_date":1666471530,"post_id":74166884,"comment_id":130946642,"body_markdown":"@Jim We are writing code for people, not for computer. In addition, [Is premature optimization really the root of all evil](https://softwareengineering.stackexchange.com/questions/80084/is-premature-optimization-really-the-root-of-all-evil). It is better to have simple with good naming code. In addition, you can profile your code with one list and with three lists.","body":"@Jim We are writing code for people, not for computer. In addition, <a href=\"https://softwareengineering.stackexchange.com/questions/80084/is-premature-optimization-really-the-root-of-all-evil\">Is premature optimization really the root of all evil</a>. It is better to have simple with good naming code. In addition, you can profile your code with one list and with three lists."},{"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"score":0,"creation_date":1666472988,"post_id":74166884,"comment_id":130946864,"body_markdown":"@Jim Code Good code should be readable, testable. And if it is possible then code should have minimum dependencies and parameters. You will simplify your life and future developers by writing simple code :)","body":"@Jim Code Good code should be readable, testable. And if it is possible then code should have minimum dependencies and parameters. You will simplify your life and future developers by writing simple code :)"}],"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666470430,"creation_date":1666470430,"answer_id":74166884,"question_id":74166440,"body_markdown":"In my view, this method is not simple and future user of this method will be surprised that this method adds\r\ndata to `List&lt;Person&gt; persons`. Why? As method is named `getPersons`. In my view, people will be think that this method will just return data, not add new data to `List&lt;Person&gt; persons`.\r\n\r\nSo, it is better to be consistent with naming of method and do just one thing in method. So I would just read data in method:\r\n\r\n    public static List&lt;Person&gt; getPersons(String a, DataSetX dataSetX) {\r\n\t\tList&lt;Person&gt; persons = new ArrayList&lt;&gt;();\r\n        if(dataSetX != null) {\r\n            while (dataSetX.hasNext()) {\r\n                // create an instance of person with very specific attributes set\r\n                persons.add(processX(dataSetX.next()));\r\n            }\r\n        }\r\n        return persons;\r\n\t}\r\n\t\r\nand the second method should look like the above method:\r\n\r\n\tpublic static List&lt;Person&gt; getPersons(String a, DataSetY dataSetX) {\r\n\t\tList&lt;Person&gt; persons = new ArrayList&lt;&gt;();\r\n        if(dataSetX != null) {\r\n            while (dataSetX.hasNext()) {\r\n                // create an instance of person with very specific attributes set\r\n                persons.add(processX(dataSetX.next()));\r\n            }\r\n        }\r\n        return persons;\r\n\t}\t\r\n\r\nIn addition, this method can be placed in repository layer. [Read more about Repository pattern][1].\r\n\r\n\r\nAnd then you can create a collection and add these data from two methods. I am not Java guy, however, I think\r\nit can be done like this:\r\n\r\n\tList&lt;Person&gt; overallPersons = new ArrayList&lt;&gt;();\r\n\tCollections.addAll(list, getPersons(String a, DataSetX dataSetX));\r\n\tCollections.addAll(list, getPersons(String a, DataSetY dataSetX));\r\n\t\r\n\t\r\n[Read more how to add multiple items to collection in Java][2]\r\n\t\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31305199/repository-pattern-how-to-understand-it-and-how-does-it-work-with-complex-en\r\n  [2]: https://stackoverflow.com/questions/15213974/add-multiple-items-to-an-already-initialized-arraylist-in-java","title":"Split a method into two separate ones and reuse the same list across the invocations","body":"<p>In my view, this method is not simple and future user of this method will be surprised that this method adds\ndata to <code>List&lt;Person&gt; persons</code>. Why? As method is named <code>getPersons</code>. In my view, people will be think that this method will just return data, not add new data to <code>List&lt;Person&gt; persons</code>.</p>\n<p>So, it is better to be consistent with naming of method and do just one thing in method. So I would just read data in method:</p>\n<pre><code>public static List&lt;Person&gt; getPersons(String a, DataSetX dataSetX) {\n    List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\n    if(dataSetX != null) {\n        while (dataSetX.hasNext()) {\n            // create an instance of person with very specific attributes set\n            persons.add(processX(dataSetX.next()));\n        }\n    }\n    return persons;\n}\n</code></pre>\n<p>and the second method should look like the above method:</p>\n<pre><code>public static List&lt;Person&gt; getPersons(String a, DataSetY dataSetX) {\n    List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\n    if(dataSetX != null) {\n        while (dataSetX.hasNext()) {\n            // create an instance of person with very specific attributes set\n            persons.add(processX(dataSetX.next()));\n        }\n    }\n    return persons;\n}   \n</code></pre>\n<p>In addition, this method can be placed in repository layer. <a href=\"https://stackoverflow.com/questions/31305199/repository-pattern-how-to-understand-it-and-how-does-it-work-with-complex-en\">Read more about Repository pattern</a>.</p>\n<p>And then you can create a collection and add these data from two methods. I am not Java guy, however, I think\nit can be done like this:</p>\n<pre><code>List&lt;Person&gt; overallPersons = new ArrayList&lt;&gt;();\nCollections.addAll(list, getPersons(String a, DataSetX dataSetX));\nCollections.addAll(list, getPersons(String a, DataSetY dataSetX));\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/15213974/add-multiple-items-to-an-already-initialized-arraylist-in-java\">Read more how to add multiple items to collection in Java</a></p>\n"},{"comments":[{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666470575,"post_id":74166885,"comment_id":130946436,"body_markdown":"This is what I wanted to avoid. The original function loops over 1 list. The approach you mention creates 2 separate lists and then concats then creating a 3rd one. I was trying to keep the advantage of just having 1 instance of a list","body":"This is what I wanted to avoid. The original function loops over 1 list. The approach you mention creates 2 separate lists and then concats then creating a 3rd one. I was trying to keep the advantage of just having 1 instance of a list"}],"tags":[],"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666470439,"creation_date":1666470439,"answer_id":74166885,"question_id":74166440,"body_markdown":"In case if your datasets can be transformed in `Stream` you can try something like this:\r\n```\r\nStream&lt;Object&gt; streamX = dataSetX.stream().map(e -&gt; processX(e));\r\nStream&lt;Object&gt; streamY = dataSetY.stream().map(e -&gt; processY(e));\r\nList&lt;Person&gt; persons= Stream.concat(streamX , streamY).collect(Collectors.toList());\r\n```","title":"Split a method into two separate ones and reuse the same list across the invocations","body":"<p>In case if your datasets can be transformed in <code>Stream</code> you can try something like this:</p>\n<pre><code>Stream&lt;Object&gt; streamX = dataSetX.stream().map(e -&gt; processX(e));\nStream&lt;Object&gt; streamY = dataSetY.stream().map(e -&gt; processY(e));\nList&lt;Person&gt; persons= Stream.concat(streamX , streamY).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666470439,"creation_date":1666466001,"question_id":74166440,"body_markdown":"I have a method as follows (simplified for clarity and brevity):  \r\n\r\n    public static List&lt;Person&gt; getPersons(String a, int b, DataSetX dataSetX, DataSetY dataSetY) {\r\n            List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\r\n            \r\n            if(dataSetX != null) {\r\n                while (dataSetX.hasNext()) {\r\n                    // create an instance of person with very specific attributes set                \r\n                    persons.add(processX(dataSetX.next()));\r\n                }\r\n            }\r\n    \r\n            if(dataSetY != null) {\r\n                while (dataSetY.hasNext()) {\r\n                   // create an instance of person with very specific attributes set               \r\n                    persons.add(processY(dataSetY.next()));\r\n                }\r\n            }\r\n            return persons;        \r\n        } \r\n\r\nThe method in reality is a bit more complicate than this (doing a bit more processing using also the `a` and `b` variables) but overall this is the method structure.  \r\n\r\nI was thinking to split this method into 2, one method for dealing with `DataSetX` and the other with `DataSetY`.  \r\nI was thinking to structure it as follows:  \r\n\r\n    public static List&lt;Person&gt; getPersons(String a, DataSetX dataSetX, List&lt;Person&gt; persons) {\r\n            if(dataSetX != null) {\r\n                while (dataSetX.hasNext()) {\r\n                    // create an instance of person with very specific attributes set\r\n                    persons.add(processX(dataSetX.next()));\r\n                }\r\n            }\r\n            return persons;\r\n    }\r\n\r\nI would then call the methods as follows:  \r\n\r\n    List&lt;Person&gt; persons = getPersons(a, dataSetX, new ArrayList&lt;Person&gt;());\r\n    getPersons(a, dataSetX, persons);    \r\n    // now I can use persons list with the result of both present \r\n\r\nWith this approach I reuse the same list and don&#39;t need to concat 2 different lists from 2 different methods if I just created the list inside the methods and returned.  \r\nOn the other side it looks kind of weird and possibly error prone.  \r\n\r\nIs there a way to be able to split the function and avoid creating multiple lists and merging them (as I need 1 list in the end).   \r\nIs there some design pattern suited for this?  \r\n\r\n ","title":"Split a method into two separate ones and reuse the same list across the invocations","body":"<p>I have a method as follows (simplified for clarity and brevity):</p>\n<pre><code>public static List&lt;Person&gt; getPersons(String a, int b, DataSetX dataSetX, DataSetY dataSetY) {\n        List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\n        \n        if(dataSetX != null) {\n            while (dataSetX.hasNext()) {\n                // create an instance of person with very specific attributes set                \n                persons.add(processX(dataSetX.next()));\n            }\n        }\n\n        if(dataSetY != null) {\n            while (dataSetY.hasNext()) {\n               // create an instance of person with very specific attributes set               \n                persons.add(processY(dataSetY.next()));\n            }\n        }\n        return persons;        \n    } \n</code></pre>\n<p>The method in reality is a bit more complicate than this (doing a bit more processing using also the <code>a</code> and <code>b</code> variables) but overall this is the method structure.</p>\n<p>I was thinking to split this method into 2, one method for dealing with <code>DataSetX</code> and the other with <code>DataSetY</code>.<br />\nI was thinking to structure it as follows:</p>\n<pre><code>public static List&lt;Person&gt; getPersons(String a, DataSetX dataSetX, List&lt;Person&gt; persons) {\n        if(dataSetX != null) {\n            while (dataSetX.hasNext()) {\n                // create an instance of person with very specific attributes set\n                persons.add(processX(dataSetX.next()));\n            }\n        }\n        return persons;\n}\n</code></pre>\n<p>I would then call the methods as follows:</p>\n<pre><code>List&lt;Person&gt; persons = getPersons(a, dataSetX, new ArrayList&lt;Person&gt;());\ngetPersons(a, dataSetX, persons);    \n// now I can use persons list with the result of both present \n</code></pre>\n<p>With this approach I reuse the same list and don't need to concat 2 different lists from 2 different methods if I just created the list inside the methods and returned.<br />\nOn the other side it looks kind of weird and possibly error prone.</p>\n<p>Is there a way to be able to split the function and avoid creating multiple lists and merging them (as I need 1 list in the end).<br />\nIs there some design pattern suited for this?</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":3,"creation_date":1430375154,"post_id":29959795,"comment_id":48041390,"body_markdown":"As a note, if you want to join elements by a separator, use `.collect(Collectors.joining(&quot; &quot;));` or `String.join(&quot; &quot;, list2)` if you have a list of strings.","body":"As a note, if you want to join elements by a separator, use <code>.collect(Collectors.joining(&quot; &quot;));</code> or <code>String.join(&quot; &quot;, list2)</code> if you have a list of strings."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1430380105,"post_id":29959795,"comment_id":48044186,"body_markdown":"Note that your attempt is more like *reduce* as you are working with immutable `String`s: `list2.stream().reduce(&quot;&quot;, (res, elem) -&gt; res.concat(&quot; &quot;).concat(elem))`. However, as [@Alexis C. pointed out](http://stackoverflow.com/questions/29959795/how-does-combiner-in-stream-collect-method-work-in-java-8#comment48041390_29959795), there are already more efficient built-in solutions.","body":"Note that your attempt is more like <i>reduce</i> as you are working with immutable <code>String</code>s: <code>list2.stream().reduce(&quot;&quot;, (res, elem) -&gt; res.concat(&quot; &quot;).concat(elem))</code>. However, as <a href=\"http://stackoverflow.com/questions/29959795/how-does-combiner-in-stream-collect-method-work-in-java-8#comment48041390_29959795\">@Alexis C. pointed out</a>, there are already more efficient built-in solutions."}],"answers":[{"comments":[{"owner":{"account_id":6206700,"reputation":335,"user_id":4834454,"display_name":"Vova Programmer"},"score":2,"creation_date":1430373180,"post_id":29959889,"comment_id":48040422,"body_markdown":"See [this tutorial](https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html#collect)","body":"See <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html#collect\" rel=\"nofollow noreferrer\">this tutorial</a>"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1430375808,"post_id":29959889,"comment_id":48041735,"body_markdown":"@AlexisC. I think the other part was added after I answered it.","body":"@AlexisC. I think the other part was added after I answered it."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":3,"creation_date":1430375979,"post_id":29959889,"comment_id":48041831,"body_markdown":"And nothing prevents you from updating your answer... I think the interesting part is to explain what&#39;s the OP did wrong and _&quot;How to make combiner work in collect method?&quot;_ (despite that the accumulator is also wrong)","body":"And nothing prevents you from updating your answer... I think the interesting part is to explain what&#39;s the OP did wrong and <i>&quot;How to make combiner work in collect method?&quot;</i> (despite that the accumulator is also wrong)"}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":3,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1430372662,"creation_date":1430372662,"answer_id":29959889,"question_id":29959795,"body_markdown":"I think that the `combiner` is only used in parallel Streams (to combine the partial outputs of the parallel computations), so make your Stream parallel.\r\n\r\n    String collect = list2.parallelStream().collect(...","title":"How does combiner in Stream.collect method work in java 8?","body":"<p>I think that the <code>combiner</code> is only used in parallel Streams (to combine the partial outputs of the parallel computations), so make your Stream parallel.</p>\n\n<pre><code>String collect = list2.parallelStream().collect(...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5396455,"reputation":5608,"user_id":4297539,"accept_rate":69,"display_name":"Siberia"},"score":0,"creation_date":1535622038,"post_id":29960350,"comment_id":91137600,"body_markdown":"As I run this example I see that the combiner works ONLY in a parallel stream (not ALSO) - otherwise in a single stream you get only the execution of the last System.out.println(&quot;collect=&quot; + collect);","body":"As I run this example I see that the combiner works ONLY in a parallel stream (not ALSO) - otherwise in a single stream you get only the execution of the last System.out.println(&quot;collect=&quot; + collect);"},{"owner":{"account_id":5805720,"reputation":397,"user_id":4578392,"accept_rate":64,"display_name":"michael"},"score":0,"creation_date":1551577180,"post_id":29960350,"comment_id":96690236,"body_markdown":"@Raniz, why using String::new will cause create a new string and then throw away it?","body":"@Raniz, why using String::new will cause create a new string and then throw away it?"},{"owner":{"account_id":3838375,"reputation":10942,"user_id":3182188,"accept_rate":75,"display_name":"Raniz"},"score":1,"creation_date":1551692368,"post_id":29960350,"comment_id":96718846,"body_markdown":"It&#39;s not `String::new` but `String::concat` that&#39;s the issue. The API expects the collector to modify the result _in place_, not to create a new object which is what `String::concat` does since strings are immutable.","body":"It&#39;s not <code>String::new</code> but <code>String::concat</code> that&#39;s the issue. The API expects the collector to modify the result <i>in place</i>, not to create a new object which is what <code>String::concat</code> does since strings are immutable."}],"tags":[],"owner":{"account_id":3838375,"reputation":10942,"user_id":3182188,"accept_rate":75,"display_name":"Raniz"},"comment_count":3,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1430375737,"creation_date":1430374699,"answer_id":29960350,"question_id":29959795,"body_markdown":"First off, there is no need for the combiner to be executed in a non-parallel stream since there is nothing to combine.\r\n\r\nSecondly, your issue stems from using `String::new` and `String.concat`. The accumulator is supposed to modify the first argument by combining the second argument with it but since strings in Java are immutable your code will produce nothing.\r\n\r\n              res=res.concat(&quot; &quot;).concat(elem);\r\n\r\nwill create a new string and then throw away it. You want to use a StringBuilder instead so you can keep the intermediate results:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; list2 = Arrays.asList(&quot;adf&quot;, &quot;bcd&quot;, &quot;abc&quot;, &quot;hgr&quot;, &quot;jyt&quot;, &quot;edr&quot;, &quot;biu&quot;);\r\n\r\n        String collect = list2.stream().collect(StringBuilder::new, (res, elem) -&gt; {\r\n            res.append(&quot; &quot;).append(elem);\r\n        }, (res1, res2) -&gt; {\r\n            res1.append(res2.toString());\r\n            System.out.printf(&quot;res1=%s, res2=%s\\n&quot;, res1, res2);\r\n        }).toString();\r\n        System.out.println(&quot;collect=&quot; + collect);\r\n    }\r\n\r\nThis will also work correctly with a parallel stream\r\n\r\n&gt; res1= hgr  jyt, res2= jyt  \r\n&gt; res1= bcd  abc, res2= abc  \r\n&gt; res1= adf  bcd  abc, res2= bcd  abc  \r\n&gt; res1= edr  biu, res2= biu  \r\n&gt; res1= hgr  jyt  edr  biu, res2= edr  biu  \r\n&gt; res1= adf  bcd  abc  hgr  jyt  edr  biu, res2= hgr  jyt  edr  biu  \r\n&gt; collect= adf  bcd  abc  hgr  jyt  edr  biu\r\n","title":"How does combiner in Stream.collect method work in java 8?","body":"<p>First off, there is no need for the combiner to be executed in a non-parallel stream since there is nothing to combine.</p>\n\n<p>Secondly, your issue stems from using <code>String::new</code> and <code>String.concat</code>. The accumulator is supposed to modify the first argument by combining the second argument with it but since strings in Java are immutable your code will produce nothing.</p>\n\n<pre><code>          res=res.concat(\" \").concat(elem);\n</code></pre>\n\n<p>will create a new string and then throw away it. You want to use a StringBuilder instead so you can keep the intermediate results:</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; list2 = Arrays.asList(\"adf\", \"bcd\", \"abc\", \"hgr\", \"jyt\", \"edr\", \"biu\");\n\n    String collect = list2.stream().collect(StringBuilder::new, (res, elem) -&gt; {\n        res.append(\" \").append(elem);\n    }, (res1, res2) -&gt; {\n        res1.append(res2.toString());\n        System.out.printf(\"res1=%s, res2=%s\\n\", res1, res2);\n    }).toString();\n    System.out.println(\"collect=\" + collect);\n}\n</code></pre>\n\n<p>This will also work correctly with a parallel stream</p>\n\n<blockquote>\n  <p>res1= hgr  jyt, res2= jyt<br>\n  res1= bcd  abc, res2= abc<br>\n  res1= adf  bcd  abc, res2= bcd  abc<br>\n  res1= edr  biu, res2= biu<br>\n  res1= hgr  jyt  edr  biu, res2= edr  biu<br>\n  res1= adf  bcd  abc  hgr  jyt  edr  biu, res2= hgr  jyt  edr  biu<br>\n  collect= adf  bcd  abc  hgr  jyt  edr  biu</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":13565258,"reputation":433,"user_id":9785535,"display_name":"Alexander"},"score":0,"creation_date":1570578420,"post_id":45566503,"comment_id":102954220,"body_markdown":"Why are we calling toString method on res2? Is it necessary? I tried to remove it and it worked fine.","body":"Why are we calling toString method on res2? Is it necessary? I tried to remove it and it worked fine."},{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":1,"creation_date":1570664859,"post_id":45566503,"comment_id":102988009,"body_markdown":"@Alexander if works fine, that not nesessary:) I&#39;ve taken the solution &quot;as is&quot; from sample above.","body":"@Alexander if works fine, that not nesessary:) I&#39;ve taken the solution &quot;as is&quot; from sample above."},{"owner":{"account_id":13677323,"reputation":3369,"user_id":9868445,"display_name":"aderchox"},"score":0,"creation_date":1619380123,"post_id":45566503,"comment_id":118881970,"body_markdown":"Nice, thank you! What do you mean &quot;with parallel&quot;? Do you mean you used parallelStream for the second example and so it was run multithreaded?","body":"Nice, thank you! What do you mean &quot;with parallel&quot;? Do you mean you used parallelStream for the second example and so it was run multithreaded?"},{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":1,"creation_date":1630525700,"post_id":45566503,"comment_id":121983066,"body_markdown":"@aderchox it means `stream().parallel()`","body":"@aderchox it means <code>stream().parallel()</code>"}],"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1666469944,"creation_date":1502189943,"answer_id":45566503,"question_id":29959795,"body_markdown":"It is more interesting result with and without parallel for [Raniz](https://stackoverflow.com/users/3182188/raniz) sample:\r\n\r\n        String collect = list2.stream().collect(StringBuilder::new,\r\n                (res, elem) -&gt; {\r\n                    System.out.printf(&quot;ACCUMULATE res=%s, elem=%s\\n&quot;, res, elem);\r\n                    res.append(&quot; &quot;).append(elem);\r\n            },\r\n                (res1, res2) -&gt; {\r\n                    System.out.printf(&quot;COMBINE res1=%s, res2=%s\\n&quot;, res1, res2);\r\n                    res1.append(res2.toString());\r\n                }).toString();\r\n\r\n**Without** parallel combine never has been called:\r\n\r\n    ACCUMULATE res=, elem=adf\r\n    ACCUMULATE res= adf, elem=bcd\r\n    ACCUMULATE res= adf bcd, elem=abc\r\n    ACCUMULATE res= adf bcd abc, elem=hgr\r\n    ACCUMULATE res= adf bcd abc hgr, elem=jyt\r\n    ACCUMULATE res= adf bcd abc hgr jyt, elem=edr\r\n    ACCUMULATE res= adf bcd abc hgr jyt edr, elem=biu\r\n    collect= adf bcd abc hgr jyt edr biu\r\n\r\nAnd **with** parallel `list2.stream().parallel()...`:\r\n\r\n    ACCUMULATE res=, elem=jyt\r\n    ACCUMULATE res=, elem=hgr\r\n    COMBINE res1= hgr, res2= jyt\r\n    ACCUMULATE res=, elem=biu\r\n    ACCUMULATE res=, elem=edr\r\n    COMBINE res1= edr, res2= biu\r\n    ACCUMULATE res=, elem=bcd\r\n    COMBINE res1= hgr jyt, res2= edr biu\r\n    ACCUMULATE res=, elem=abc\r\n    ACCUMULATE res=, elem=adf\r\n    COMBINE res1= bcd, res2= abc\r\n    COMBINE res1= adf, res2= bcd abc\r\n    COMBINE res1= adf bcd abc, res2= hgr jyt edr biu\r\n    collect= adf bcd abc hgr jyt edr biu","title":"How does combiner in Stream.collect method work in java 8?","body":"<p>It is more interesting result with and without parallel for <a href=\"https://stackoverflow.com/users/3182188/raniz\">Raniz</a> sample:</p>\n<pre><code>    String collect = list2.stream().collect(StringBuilder::new,\n            (res, elem) -&gt; {\n                System.out.printf(&quot;ACCUMULATE res=%s, elem=%s\\n&quot;, res, elem);\n                res.append(&quot; &quot;).append(elem);\n        },\n            (res1, res2) -&gt; {\n                System.out.printf(&quot;COMBINE res1=%s, res2=%s\\n&quot;, res1, res2);\n                res1.append(res2.toString());\n            }).toString();\n</code></pre>\n<p><strong>Without</strong> parallel combine never has been called:</p>\n<pre><code>ACCUMULATE res=, elem=adf\nACCUMULATE res= adf, elem=bcd\nACCUMULATE res= adf bcd, elem=abc\nACCUMULATE res= adf bcd abc, elem=hgr\nACCUMULATE res= adf bcd abc hgr, elem=jyt\nACCUMULATE res= adf bcd abc hgr jyt, elem=edr\nACCUMULATE res= adf bcd abc hgr jyt edr, elem=biu\ncollect= adf bcd abc hgr jyt edr biu\n</code></pre>\n<p>And <strong>with</strong> parallel <code>list2.stream().parallel()...</code>:</p>\n<pre><code>ACCUMULATE res=, elem=jyt\nACCUMULATE res=, elem=hgr\nCOMBINE res1= hgr, res2= jyt\nACCUMULATE res=, elem=biu\nACCUMULATE res=, elem=edr\nCOMBINE res1= edr, res2= biu\nACCUMULATE res=, elem=bcd\nCOMBINE res1= hgr jyt, res2= edr biu\nACCUMULATE res=, elem=abc\nACCUMULATE res=, elem=adf\nCOMBINE res1= bcd, res2= abc\nCOMBINE res1= adf, res2= bcd abc\nCOMBINE res1= adf bcd abc, res2= hgr jyt edr biu\ncollect= adf bcd abc hgr jyt edr biu\n</code></pre>\n"}],"owner":{"account_id":6206700,"reputation":335,"user_id":4834454,"display_name":"Vova Programmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10641,"favorite_count":0,"down_vote_count":1,"up_vote_count":32,"accepted_answer_id":29960350,"answer_count":3,"score":31,"last_activity_date":1666469944,"creation_date":1430372337,"question_id":29959795,"body_markdown":"I created simple demo :\r\n\r\n    public static void main(String[] args) {\r\n            List&lt;String&gt; list2 = Arrays.asList(&quot;adf&quot;, &quot;bcd&quot;, &quot;abc&quot;, &quot;hgr&quot;, &quot;jyt&quot;, &quot;edr&quot;, &quot;biu&quot;);\r\n    \r\n    String collect = list2.stream().collect(String::new, (res, elem) -&gt; {\r\n                  res=res.concat(&quot; &quot;).concat(elem);\r\n    //            System.out.printf(&quot;res=%s, elem=%s\\n&quot;, res.isEmpty(), elem);\r\n\r\n            }, (res1, res2) -&gt; {\r\n                System.out.printf(&quot;res1=%s, res2=%s\\n&quot;, res1, res2);            \r\n            });\r\n            System.out.println(&quot;collect=&quot; + collect);\r\n    }\r\n\r\nThe problem is that `BiConsumer combiner` part of `collect` doesn&#39;t run at all.\r\n\r\nIt runs if I use `parallelStream()` but two arguments `res1` and `res2` are equal to supplier `String::new`.\r\n\r\nHow to make `combiner` work in `collect` method?","title":"How does combiner in Stream.collect method work in java 8?","body":"<p>I created simple demo :</p>\n\n<pre><code>public static void main(String[] args) {\n        List&lt;String&gt; list2 = Arrays.asList(\"adf\", \"bcd\", \"abc\", \"hgr\", \"jyt\", \"edr\", \"biu\");\n\nString collect = list2.stream().collect(String::new, (res, elem) -&gt; {\n              res=res.concat(\" \").concat(elem);\n//            System.out.printf(\"res=%s, elem=%s\\n\", res.isEmpty(), elem);\n\n        }, (res1, res2) -&gt; {\n            System.out.printf(\"res1=%s, res2=%s\\n\", res1, res2);            \n        });\n        System.out.println(\"collect=\" + collect);\n}\n</code></pre>\n\n<p>The problem is that <code>BiConsumer combiner</code> part of <code>collect</code> doesn't run at all.</p>\n\n<p>It runs if I use <code>parallelStream()</code> but two arguments <code>res1</code> and <code>res2</code> are equal to supplier <code>String::new</code>.</p>\n\n<p>How to make <code>combiner</code> work in <code>collect</code> method?</p>\n"},{"tags":["java","spring","testing","junit","mockito"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1666395803,"post_id":74160056,"comment_id":130934944,"body_markdown":"That all depends on what PersonRepository is, doesn&#39;t it?","body":"That all depends on what PersonRepository is, doesn&#39;t it?"},{"owner":{"account_id":14772764,"reputation":9,"user_id":10668710,"display_name":"mlook8008"},"score":0,"creation_date":1666573010,"post_id":74160056,"comment_id":130962563,"body_markdown":"`package com.repository;\n\nimport com.entity.Person;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n\n@Repository\npublic interface PersonRepository extends JpaRepository&lt;Person,Long&gt; {\n\n\n\n}`   Its the whole PersonRepository interface.","body":"<code>package com.repository;  import com.entity.Person; import org.springframework.data.jpa.repository.JpaRepository; import org.springframework.stereotype.Repository;   @Repository public interface PersonRepository extends JpaRepository&lt;Person,Long&gt; {    }</code>   Its the whole PersonRepository interface."}],"answers":[{"comments":[{"owner":{"account_id":14772764,"reputation":9,"user_id":10668710,"display_name":"mlook8008"},"score":0,"creation_date":1666559556,"post_id":74166815,"comment_id":130960639,"body_markdown":"`@Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private Long id;`  I use this in my Entity  class. And when i remove save() i transfer creating ID to my db, but it still doesnt work. Or you mean somethink else?","body":"<code>@Id     @GeneratedValue(strategy= GenerationType.IDENTITY)     private Long id;</code>  I use this in my Entity  class. And when i remove save() i transfer creating ID to my db, but it still doesnt work. Or you mean somethink else?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666763701,"post_id":74166815,"comment_id":131010427,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74166815/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":19355847,"reputation":1,"user_id":14152196,"display_name":"shymeq17"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666469797,"creation_date":1666469797,"answer_id":74166815,"question_id":74160056,"body_markdown":"It probably fails because you use `save()` method which is not destined to save entities with ID set. This method automatically generates ID and that&#39;s why it&#39;s not always 1.","title":"Tests pass when test running individually but not pass when run the whole class","body":"<p>It probably fails because you use <code>save()</code> method which is not destined to save entities with ID set. This method automatically generates ID and that's why it's not always 1.</p>\n"}],"owner":{"account_id":14772764,"reputation":9,"user_id":10668710,"display_name":"mlook8008"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666469797,"creation_date":1666395243,"question_id":74160056,"body_markdown":"When i run test individually everythink is ok, but when i run the whole test class, i got this 3 exception in 3 method which i run, its: getPersonById / savePerson / deleteById . The remain method run success\r\n\r\ngetPersonById method:  \r\n\r\n&gt; java.util.NoSuchElementException: No value present\r\n\r\n--\r\n\r\nsavePerson method:\r\n\r\n&gt; javax.persistence.EntityNotFoundException: Unable to find\r\n&gt; com.entity.Person with id 1\r\n\r\n--\r\n\r\ndeleteById method:\r\n\r\n&gt; org.springframework.dao.EmptyResultDataAccessException: No class\r\n&gt; com.entity.Person entity with id 1 exists!\r\n\r\n\r\nCode:\r\n\r\n    package com.repository;\r\n    \r\n    import com.entity.Person;\r\n    import org.junit.jupiter.api.AfterEach;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\n    \r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    \r\n    \r\n    @DataJpaTest\r\n    class PersonRepositoryTest {\r\n    \r\n        @Autowired\r\n        private PersonRepository personRepository;\r\n    \r\n        private Person person;\r\n    \r\n        @BeforeEach\r\n        public void setUp() {\r\n            person = new Person();\r\n    \r\n            person.setId(1L);\r\n            person.setName(&quot;Test1&quot;);\r\n            person.setSurname(&quot;Test1_2&quot;);\r\n            person.setDate_of_birth(&quot;18 Years&quot;);\r\n    \r\n        }\r\n    \r\n    \r\n        @AfterEach\r\n         void tearDown() {\r\n            personRepository.deleteAll();\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        @Test\r\n        public void shouldCheckIfPersonExists(){\r\n    \r\n            personRepository.save(person);\r\n            assertTrue(personRepository.existsById(1L));\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n        @Test\r\n        public void getAllPerson() {\r\n    \r\n            personRepository.save(person);\r\n            List&lt;Person&gt; list = personRepository.findAll();\r\n            assertEquals(1, list.size());\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n        @Test\r\n            public void getPersonById() {\r\n    \r\n    \r\n    \r\n            personRepository.save(person);\r\n    \r\n            Optional&lt;Person&gt; byId = personRepository.findById(1L);\r\n    \r\n            assertEquals(person.getId(), byId.get().getId());\r\n            assertEquals(person.getName(), byId.get().getName());\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n    \r\n        @Test\r\n        public void savePerson() {\r\n    \r\n    \r\n            personRepository.save(person);\r\n            Person newPerson = personRepository.getById(1L);\r\n    \r\n            assertEquals(person.toString(), newPerson.toString());\r\n    \r\n    \r\n        }\r\n    \r\n        @Test\r\n        public void deleteById() {\r\n    \r\n            personRepository.save(person);\r\n            personRepository.deleteById(1L);\r\n            assertFalse(personRepository.existsById(1L));\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n","title":"Tests pass when test running individually but not pass when run the whole class","body":"<p>When i run test individually everythink is ok, but when i run the whole test class, i got this 3 exception in 3 method which i run, its: getPersonById / savePerson / deleteById . The remain method run success</p>\n<p>getPersonById method:</p>\n<blockquote>\n<p>java.util.NoSuchElementException: No value present</p>\n</blockquote>\n<p>--</p>\n<p>savePerson method:</p>\n<blockquote>\n<p>javax.persistence.EntityNotFoundException: Unable to find\ncom.entity.Person with id 1</p>\n</blockquote>\n<p>--</p>\n<p>deleteById method:</p>\n<blockquote>\n<p>org.springframework.dao.EmptyResultDataAccessException: No class\ncom.entity.Person entity with id 1 exists!</p>\n</blockquote>\n<p>Code:</p>\n<pre><code>package com.repository;\n\nimport com.entity.Person;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\n\n@DataJpaTest\nclass PersonRepositoryTest {\n\n    @Autowired\n    private PersonRepository personRepository;\n\n    private Person person;\n\n    @BeforeEach\n    public void setUp() {\n        person = new Person();\n\n        person.setId(1L);\n        person.setName(&quot;Test1&quot;);\n        person.setSurname(&quot;Test1_2&quot;);\n        person.setDate_of_birth(&quot;18 Years&quot;);\n\n    }\n\n\n    @AfterEach\n     void tearDown() {\n        personRepository.deleteAll();\n    }\n\n\n\n\n    @Test\n    public void shouldCheckIfPersonExists(){\n\n        personRepository.save(person);\n        assertTrue(personRepository.existsById(1L));\n\n\n    }\n\n\n    @Test\n    public void getAllPerson() {\n\n        personRepository.save(person);\n        List&lt;Person&gt; list = personRepository.findAll();\n        assertEquals(1, list.size());\n\n\n    }\n\n\n    @Test\n        public void getPersonById() {\n\n\n\n        personRepository.save(person);\n\n        Optional&lt;Person&gt; byId = personRepository.findById(1L);\n\n        assertEquals(person.getId(), byId.get().getId());\n        assertEquals(person.getName(), byId.get().getName());\n\n\n\n    }\n\n\n    @Test\n    public void savePerson() {\n\n\n        personRepository.save(person);\n        Person newPerson = personRepository.getById(1L);\n\n        assertEquals(person.toString(), newPerson.toString());\n\n\n    }\n\n    @Test\n    public void deleteById() {\n\n        personRepository.save(person);\n        personRepository.deleteById(1L);\n        assertFalse(personRepository.existsById(1L));\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666468274,"post_id":74166602,"comment_id":130946018,"body_markdown":"please be more exact: you need to (only) generate the shown output, OR you need to create arrays with that content?","body":"please be more exact: you need to (only) generate the shown output, OR you need to create arrays with that content?"},{"owner":{"account_id":26229495,"reputation":5,"user_id":19905693,"display_name":"Klord"},"score":0,"creation_date":1666468810,"post_id":74166602,"comment_id":130946111,"body_markdown":"Simple printing is not sufficient. Have to create new arrays.","body":"Simple printing is not sufficient. Have to create new arrays."}],"answers":[{"comments":[{"owner":{"account_id":26229495,"reputation":5,"user_id":19905693,"display_name":"Klord"},"score":0,"creation_date":1666468553,"post_id":74166638,"comment_id":130946072,"body_markdown":"Im still a beginner to coding. Dont understand what you meant here. Either way, this is how the question was presented. I have to search for -1 instances and delete them alongside the respective element in students array. I also edited the question, there are only 2 arrays.","body":"Im still a beginner to coding. Dont understand what you meant here. Either way, this is how the question was presented. I have to search for -1 instances and delete them alongside the respective element in students array. I also edited the question, there are only 2 arrays."},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1666469069,"post_id":74166638,"comment_id":130946166,"body_markdown":"@Klord I have attached solution with an arrays","body":"@Klord I have attached solution with an arrays"},{"owner":{"account_id":26229495,"reputation":5,"user_id":19905693,"display_name":"Klord"},"score":0,"creation_date":1666478636,"post_id":74166638,"comment_id":130947715,"body_markdown":"Thank you, this helped. Didnt use the code exact way, but I was able to derive a code from your answer. \nHowever, in this specific code, whats the purpose of j++ in the the final for loop?","body":"Thank you, this helped. Didnt use the code exact way, but I was able to derive a code from your answer.  However, in this specific code, whats the purpose of j++ in the the final for loop?"},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1666479164,"post_id":74166638,"comment_id":130947774,"body_markdown":"`j++` is the iterator of the new array","body":"<code>j++</code> is the iterator of the new array"}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666469376,"creation_date":1666468213,"answer_id":74166638,"question_id":74166602,"body_markdown":"You have to avoid using arrays in this situation. It&#39;s better to create a class for the student and collect all data there. Remember, you can treat an array as an object with **not changeable length**.\r\n\r\n```java\r\nclass Student {\r\n    private final String name;\r\n    private int mathsMark;\r\n    private int scienceMarks; \r\n}\r\n\r\nStudent A = new Student(&quot;A&quot;, 95, 80);\r\nStudent B = new Student(&quot;B&quot;, 50, 75);\r\nStudent C = new Student(&quot;C&quot;, -1, -1);\r\nStudent D = new Student(&quot;D&quot;, 80, 90);\r\nStudent E = new Student(&quot;E&quot;, -1, -1);\r\n\r\nStudent[] students = { A, B, C, D, E};\r\n```\r\n\r\nIn case you want to collect and then add/remove students, it is better to use a Map:\r\n\r\n```java\r\nMap&lt;String, Student&gt; map = new HashMap&lt;&gt;();\r\nmap.put(A.getName(), A);\r\nmap.put(B.getName(), B);\r\nmap.put(C.getName(), C);\r\nmap.put(D.getName(), D);\r\nmap.put(E.getName(), E);\r\n\r\nmap.remove(C.getName());\r\nmap.remove(E.getName());\r\n```\r\n---\r\nIn case you still want to use an arrays, this is the solution\r\n```java\r\npublic static void main(String... args) throws IOException {\r\n    String[] students = { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot; };\r\n    int[] mathsMarks = { 95, 50, -1, 80, -1 };\r\n    int[] scienceMarks = { 80, 75, -1, 90, -1 };\r\n\r\n    assert mathsMarks.length == scienceMarks.length;\r\n\r\n    int length = students.length;\r\n\r\n    for (int i = 0; i &lt; mathsMarks.length; i++)\r\n        if (mathsMarks[i] &lt; 0 || scienceMarks[i] &lt; 0)\r\n            length--;\r\n\r\n    String[] newStudents = new String[length];\r\n    int[] newMathsMarks = new int[length];\r\n    int[] newScienceMarks = new int[length];\r\n\r\n    for (int i = 0, j = 0; i &lt; mathsMarks.length; i++) {\r\n        if (mathsMarks[i] &gt;= 0 &amp;&amp; scienceMarks[i] &gt;= 0) {\r\n            newStudents[j] = students[i];\r\n            newMathsMarks[j] = mathsMarks[i];\r\n            newScienceMarks[j] = scienceMarks[i];\r\n            j++;\r\n        }\r\n    }\r\n\r\n    System.out.println(Arrays.toString(newStudents));\r\n    System.out.println(Arrays.toString(newMathsMarks));\r\n    System.out.println(Arrays.toString(newScienceMarks));\r\n}\r\n```\r\n","title":"How to delete elements in the same index in multiple arrays in Java?","body":"<p>You have to avoid using arrays in this situation. It's better to create a class for the student and collect all data there. Remember, you can treat an array as an object with <strong>not changeable length</strong>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Student {\n    private final String name;\n    private int mathsMark;\n    private int scienceMarks; \n}\n\nStudent A = new Student(&quot;A&quot;, 95, 80);\nStudent B = new Student(&quot;B&quot;, 50, 75);\nStudent C = new Student(&quot;C&quot;, -1, -1);\nStudent D = new Student(&quot;D&quot;, 80, 90);\nStudent E = new Student(&quot;E&quot;, -1, -1);\n\nStudent[] students = { A, B, C, D, E};\n</code></pre>\n<p>In case you want to collect and then add/remove students, it is better to use a Map:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Student&gt; map = new HashMap&lt;&gt;();\nmap.put(A.getName(), A);\nmap.put(B.getName(), B);\nmap.put(C.getName(), C);\nmap.put(D.getName(), D);\nmap.put(E.getName(), E);\n\nmap.remove(C.getName());\nmap.remove(E.getName());\n</code></pre>\n<hr />\n<p>In case you still want to use an arrays, this is the solution</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) throws IOException {\n    String[] students = { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot; };\n    int[] mathsMarks = { 95, 50, -1, 80, -1 };\n    int[] scienceMarks = { 80, 75, -1, 90, -1 };\n\n    assert mathsMarks.length == scienceMarks.length;\n\n    int length = students.length;\n\n    for (int i = 0; i &lt; mathsMarks.length; i++)\n        if (mathsMarks[i] &lt; 0 || scienceMarks[i] &lt; 0)\n            length--;\n\n    String[] newStudents = new String[length];\n    int[] newMathsMarks = new int[length];\n    int[] newScienceMarks = new int[length];\n\n    for (int i = 0, j = 0; i &lt; mathsMarks.length; i++) {\n        if (mathsMarks[i] &gt;= 0 &amp;&amp; scienceMarks[i] &gt;= 0) {\n            newStudents[j] = students[i];\n            newMathsMarks[j] = mathsMarks[i];\n            newScienceMarks[j] = scienceMarks[i];\n            j++;\n        }\n    }\n\n    System.out.println(Arrays.toString(newStudents));\n    System.out.println(Arrays.toString(newMathsMarks));\n    System.out.println(Arrays.toString(newScienceMarks));\n}\n</code></pre>\n"}],"owner":{"account_id":26229495,"reputation":5,"user_id":19905693,"display_name":"Klord"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666474379,"accepted_answer_id":74166638,"answer_count":1,"score":-1,"last_activity_date":1666469376,"creation_date":1666467872,"question_id":74166602,"body_markdown":"I have trouble completing a section of a programme which I got as an assignment in my Java class. I will try to explain my situation as much as I can. \r\n\r\nThere are 3 arrays in a database.\r\n\r\n    String[] students = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;};\r\n    int[] mathsMarks = {95,50,-1,80,-1};\r\n\r\nI have to print student names and their respective subject marks using print line commands. In doing so, I have to avoid printing instances where there are -1 instances. \r\n\r\nFinal output should looks like this:\r\n[Output][1]*(Appreciate if somebody can edit the question to embed this image)*\r\n\r\nMy understanding is I have to create 2 new temporary arrays and get rid of -1 instances and their respective student names. But I cannot comprehend the if statements to achieve this. Thanks in advance. \r\n\r\nEdit: Edited the question, now there are only 2 arrays.\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NyHZJ.png","title":"How to delete elements in the same index in multiple arrays in Java?","body":"<p>I have trouble completing a section of a programme which I got as an assignment in my Java class. I will try to explain my situation as much as I can.</p>\n<p>There are 3 arrays in a database.</p>\n<pre><code>String[] students = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;};\nint[] mathsMarks = {95,50,-1,80,-1};\n</code></pre>\n<p>I have to print student names and their respective subject marks using print line commands. In doing so, I have to avoid printing instances where there are -1 instances.</p>\n<p>Final output should looks like this:\n<a href=\"https://i.stack.imgur.com/NyHZJ.png\" rel=\"nofollow noreferrer\">Output</a><em>(Appreciate if somebody can edit the question to embed this image)</em></p>\n<p>My understanding is I have to create 2 new temporary arrays and get rid of -1 instances and their respective student names. But I cannot comprehend the if statements to achieve this. Thanks in advance.</p>\n<p>Edit: Edited the question, now there are only 2 arrays.</p>\n"},{"tags":["java","ios","appium"],"comments":[{"owner":{"account_id":16992528,"reputation":374,"user_id":12291777,"display_name":"drunkencheetah"},"score":0,"creation_date":1666187766,"post_id":74114851,"comment_id":130876631,"body_markdown":"Did you try starting the WDA from the Springboard as described or only using `driver.activateApp`?","body":"Did you try starting the WDA from the Springboard as described or only using <code>driver.activateApp</code>?"},{"owner":{"account_id":26662201,"reputation":21,"user_id":20274854,"display_name":"Majood"},"score":1,"creation_date":1666469110,"post_id":74114851,"comment_id":130946178,"body_markdown":"thank yo it&#39;s working now my problem was how to open springboard app and i found that it&#39;s `Springboard is the internal function that launches apps when you tap on their icon on the Home screen. You can’t see it, but you use it every time you launch an app or switch apps` my problem was solved thanks @drunkencheetah","body":"thank yo it&#39;s working now my problem was how to open springboard app and i found that it&#39;s <code>Springboard is the internal function that launches apps when you tap on their icon on the Home screen. You can’t see it, but you use it every time you launch an app or switch apps</code> my problem was solved thanks @drunkencheetah"}],"answers":[{"tags":[],"owner":{"account_id":26662201,"reputation":21,"user_id":20274854,"display_name":"Majood"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666469311,"creation_date":1666469311,"answer_id":74166751,"question_id":74114851,"body_markdown":"my problem has been solved \r\n \r\n\r\n - **solution is** : \r\n\r\nhttps://appium.io/docs/en/commands/device/clipboard/set-clipboard/\r\n\r\n++ `Springboard is the internal function that launches apps when you tap on their icon on the Home screen. You can’t see it, but you use it every time you launch an app or switch apps`","title":"how to send some String value to ios real device clipboard using appium?","body":"<p>my problem has been solved</p>\n<ul>\n<li><strong>solution is</strong> :</li>\n</ul>\n<p><a href=\"https://appium.io/docs/en/commands/device/clipboard/set-clipboard/\" rel=\"nofollow noreferrer\">https://appium.io/docs/en/commands/device/clipboard/set-clipboard/</a></p>\n<p>++ <code>Springboard is the internal function that launches apps when you tap on their icon on the Home screen. You can’t see it, but you use it every time you launch an app or switch apps</code></p>\n"}],"owner":{"account_id":26662201,"reputation":21,"user_id":20274854,"display_name":"Majood"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74166751,"answer_count":1,"score":0,"last_activity_date":1666469311,"creation_date":1666112842,"question_id":74114851,"body_markdown":"I&#39;ve searched over the topics regarding this issue and can&#39;t find any solution that can help me with this especially with **java client 8** + **appium v 2.x** ! \r\n\r\ni&#39;m trying to get the text from my test class for ex. `hello` and try to past it into the **iOS** clipboard but unfortunately it seems the value is `null` or `empty` string ...\r\n\r\nI&#39;m using the following code language : **java** + selenium framework  \r\n\r\nall other topics regarding this issue is mentioning to use the following command : \r\nhttps://appium.io/docs/en/commands/device/clipboard/set-clipboard/ \r\n\r\n&gt;     driver.setClipboard(&quot;label&quot;, ClipboardContentType.PLAINTEXT, base64Content);\r\n&gt;     driver.setClipboardText(&quot;happy testing&quot;);\r\n\r\nthe previous command is not working with new `Appiumdriver/driver` since it&#39;s using java client 8 the method `setClipboard` is not listed there ! \r\n\r\n+ i tried the way they said to put the app in **foreground** but is not working for new `appium 2.x` + `java client 8` since the most of the methods has been  deprecated \r\n\r\n&gt; Set the content of the system clipboard (For iOS 15+ real devices)\r\n&gt; Apple security preferences require the WebDriverAgentRunner\r\n&gt; application to be in foreground in order to set the system clipboard\r\n&gt; content. Consider using Activate App and Background App to change the\r\n&gt; foreground application. Activate App command cannot launch the\r\n&gt; WebDriverAgent properly on some environments. It depends on XCTest\r\n&gt; framework by Apple. Then, you should launch the WebDriverAgent using\r\n&gt; its Springboard&#39;s application icon. Follow the example below. 1. Open\r\n&gt; Springboard, @driver.activate_app &#39;com.apple.springboard&#39;. 2. Find the\r\n&gt; WDA icon with @driver.find_element :accessibility_id,\r\n&gt; &#39;WebDriverAgentRunner-Runner&#39; (It should be visible on the screen) and\r\n&gt; click it. 3. Call the get clipboard API. 4. Open the application under\r\n&gt; test with the Activate App.\r\n\r\n - another way that i&#39;ve tried : \r\nhttps://stackoverflow.com/questions/52674841/how-to-use-setclipboardtext-on-appium-java\r\n&gt; ((HasClipboard) driver).setClipboardText(“happy testing”);\r\n\r\nstill not sending any values ! \r\n\r\n - tried this soultion : \r\nhttps://stackoverflow.com/a/3592022/20274854\r\n```\r\n StringSelection selection = new StringSelection(theString);\r\n Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n clipboard.setContents(selection, selection);\r\n```\r\nit&#39;s working on when i paste the text from my **Mac** clipboard but still not sending any values to **iOS** !\r\n\r\n\r\nplz can anyone help me with this ?\r\n\r\n**NOTE:** i tried all the previous solutions but nothing are working with new `Appium 2.x` + `java client 8` ","title":"how to send some String value to ios real device clipboard using appium?","body":"<p>I've searched over the topics regarding this issue and can't find any solution that can help me with this especially with <strong>java client 8</strong> + <strong>appium v 2.x</strong> !</p>\n<p>i'm trying to get the text from my test class for ex. <code>hello</code> and try to past it into the <strong>iOS</strong> clipboard but unfortunately it seems the value is <code>null</code> or <code>empty</code> string ...</p>\n<p>I'm using the following code language : <strong>java</strong> + selenium framework</p>\n<p>all other topics regarding this issue is mentioning to use the following command :\n<a href=\"https://appium.io/docs/en/commands/device/clipboard/set-clipboard/\" rel=\"nofollow noreferrer\">https://appium.io/docs/en/commands/device/clipboard/set-clipboard/</a></p>\n<blockquote>\n<pre><code>driver.setClipboard(&quot;label&quot;, ClipboardContentType.PLAINTEXT, base64Content);\ndriver.setClipboardText(&quot;happy testing&quot;);\n</code></pre>\n</blockquote>\n<p>the previous command is not working with new <code>Appiumdriver/driver</code> since it's using java client 8 the method <code>setClipboard</code> is not listed there !</p>\n<ul>\n<li>i tried the way they said to put the app in <strong>foreground</strong> but is not working for new <code>appium 2.x</code> + <code>java client 8</code> since the most of the methods has been  deprecated</li>\n</ul>\n<blockquote>\n<p>Set the content of the system clipboard (For iOS 15+ real devices)\nApple security preferences require the WebDriverAgentRunner\napplication to be in foreground in order to set the system clipboard\ncontent. Consider using Activate App and Background App to change the\nforeground application. Activate App command cannot launch the\nWebDriverAgent properly on some environments. It depends on XCTest\nframework by Apple. Then, you should launch the WebDriverAgent using\nits Springboard's application icon. Follow the example below. 1. Open\nSpringboard, @driver.activate_app 'com.apple.springboard'. 2. Find the\nWDA icon with @driver.find_element :accessibility_id,\n'WebDriverAgentRunner-Runner' (It should be visible on the screen) and\nclick it. 3. Call the get clipboard API. 4. Open the application under\ntest with the Activate App.</p>\n</blockquote>\n<ul>\n<li>another way that i've tried :\n<a href=\"https://stackoverflow.com/questions/52674841/how-to-use-setclipboardtext-on-appium-java\">How to use setClipboardText on Appium Java</a></li>\n</ul>\n<blockquote>\n<p>((HasClipboard) driver).setClipboardText(“happy testing”);</p>\n</blockquote>\n<p>still not sending any values !</p>\n<ul>\n<li>tried this soultion :\n<a href=\"https://stackoverflow.com/a/3592022/20274854\">https://stackoverflow.com/a/3592022/20274854</a></li>\n</ul>\n<pre><code> StringSelection selection = new StringSelection(theString);\n Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n clipboard.setContents(selection, selection);\n</code></pre>\n<p>it's working on when i paste the text from my <strong>Mac</strong> clipboard but still not sending any values to <strong>iOS</strong> !</p>\n<p>plz can anyone help me with this ?</p>\n<p><strong>NOTE:</strong> i tried all the previous solutions but nothing are working with new <code>Appium 2.x</code> + <code>java client 8</code></p>\n"},{"tags":["java","jframe"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666469305,"creation_date":1666467554,"answer_id":74166571,"question_id":74166529,"body_markdown":"Both JPanel and JFrame are Containers, yet more specialized for specific purposes. And yes, you have to assemble them correctly so they act as your user interface.\r\n\r\nBut as Container does not do much on it&#39;s own you probably never put that into your UI directly. Use it as base class to construct more specialized other classes.\r\n\r\nTo move along get some simple example running, you could follow the [Java Tutorials][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/","title":"Differences between containers","body":"<p>Both JPanel and JFrame are Containers, yet more specialized for specific purposes. And yes, you have to assemble them correctly so they act as your user interface.</p>\n<p>But as Container does not do much on it's own you probably never put that into your UI directly. Use it as base class to construct more specialized other classes.</p>\n<p>To move along get some simple example running, you could follow the <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">Java Tutorials</a>.</p>\n"}],"owner":{"account_id":26703876,"reputation":13,"user_id":20310443,"display_name":"KyWillm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74166571,"answer_count":1,"score":0,"last_activity_date":1666469305,"creation_date":1666467007,"question_id":74166529,"body_markdown":"I have read many different topics and information sources but I can&#39;t really understand the differences of containers in java I know JPanel, JFrame and Container are similar and should be used at different levels within the construction of a program and I know there is JWindow and acts relatively the same. I am fairly new to programming so I am just unfamiliar with the setup. Here is what I have found out/assumed about each one, please correct me if i&#39;m wrong.\r\n\r\nJPanel is for the integration between JFrame or a Container typically separating different sections for labels, buttons, sliders etc...\r\n\r\nJFrame acts as a receiver of JPanels and can construct them based on instructions from the coder, JFrame can also take the same labels, buttons, sliders etc....\r\n\r\nContainer is the same as JFrame though I am assuming container is a parent of JFrame.\r\n\r\nI&#39;m unsure of JWindow I just found out about this one.","title":"Differences between containers","body":"<p>I have read many different topics and information sources but I can't really understand the differences of containers in java I know JPanel, JFrame and Container are similar and should be used at different levels within the construction of a program and I know there is JWindow and acts relatively the same. I am fairly new to programming so I am just unfamiliar with the setup. Here is what I have found out/assumed about each one, please correct me if i'm wrong.</p>\n<p>JPanel is for the integration between JFrame or a Container typically separating different sections for labels, buttons, sliders etc...</p>\n<p>JFrame acts as a receiver of JPanels and can construct them based on instructions from the coder, JFrame can also take the same labels, buttons, sliders etc....</p>\n<p>Container is the same as JFrame though I am assuming container is a parent of JFrame.</p>\n<p>I'm unsure of JWindow I just found out about this one.</p>\n"},{"tags":["java","sum","challenge-response"],"answers":[{"tags":[],"owner":{"account_id":3298842,"reputation":14301,"user_id":2775450,"accept_rate":71,"display_name":"Codebender"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435807907,"creation_date":1435807907,"answer_id":31175135,"question_id":31175070,"body_markdown":"Move your print statement outside the loop.\r\n\r\nBefore loop,\r\n\r\n    long[] sumArr = new long[Nbr];\r\n\r\ninside loop,\r\n\r\n    sumArr[j] = Somme(Long.parseLong(numbers[j]));\r\n\r\nafter loop,\r\n\r\n    for (long sum : sumArr) {\r\n        System.out.println(sum);\r\n    }\r\n\r\n","title":"The sum of all the multiples of 3 or 5 below N","body":"<p>Move your print statement outside the loop.</p>\n\n<p>Before loop,</p>\n\n<pre><code>long[] sumArr = new long[Nbr];\n</code></pre>\n\n<p>inside loop,</p>\n\n<pre><code>sumArr[j] = Somme(Long.parseLong(numbers[j]));\n</code></pre>\n\n<p>after loop,</p>\n\n<pre><code>for (long sum : sumArr) {\n    System.out.println(sum);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6560785,"reputation":101,"user_id":5071955,"display_name":"Ananthu r nath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435808049,"creation_date":1435808049,"answer_id":31175151,"question_id":31175070,"body_markdown":"If u want to read all Ns first then ,read them and put them in an array then try to find the sum","title":"The sum of all the multiples of 3 or 5 below N","body":"<p>If u want to read all Ns first then ,read them and put them in an array then try to find the sum</p>\n"},{"tags":[],"owner":{"account_id":3516301,"reputation":146,"user_id":2939632,"accept_rate":25,"display_name":"AmgadMHM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435808075,"creation_date":1435808075,"answer_id":31175156,"question_id":31175070,"body_markdown":"You can make `ArrayList` and add the sum to it then print it after the loop","title":"The sum of all the multiples of 3 or 5 below N","body":"<p>You can make <code>ArrayList</code> and add the sum to it then print it after the loop</p>\n"},{"comments":[{"owner":{"account_id":3786756,"reputation":317,"user_id":3711788,"accept_rate":52,"display_name":"Hadh"},"score":0,"creation_date":1435808706,"post_id":31175163,"comment_id":50357675,"body_markdown":"this works almost same as mine, what I want to do is, the first int that I&#39;m going to read is the number of the numbers that I have to calculate the sum for, for example this input : 3 \n10 \n100 \n150 \n\n3 means there will be 3 numbers which are 10, 100 and 150, the output should be : \n23 \n2318 \n5175.\n and not display the sum right after the input","body":"this works almost same as mine, what I want to do is, the first int that I&#39;m going to read is the number of the numbers that I have to calculate the sum for, for example this input : 3  10  100  150   3 means there will be 3 numbers which are 10, 100 and 150, the output should be :  23  2318  5175.  and not display the sum right after the input"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1435809062,"post_id":31175163,"comment_id":50357749,"body_markdown":"@Hadh Edited. Next time please include all relevant detail in your original post for more (and better) help sooner.","body":"@Hadh Edited. Next time please include all relevant detail in your original post for more (and better) help sooner."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1435809016,"creation_date":1435808154,"answer_id":31175163,"question_id":31175070,"body_markdown":"I suggest you use a [`Scanner`](http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html). I would also suggest you add to a `sum` by iterating from `3` to `n` in increments of `3`. Then from `5` to `n` in increments of `5` (then exclude the multiples of `3`, because they&#39;ve already been added). Something like\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\twhile (scanner.hasNextInt()) {\r\n\t\t\tint n = scanner.nextInt();\r\n\t\t\tSystem.out.println(getSum(n));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static long getSum(int n) {\r\n\t\tlong sum = 0;\r\n\t\tfor (int i = 3; i &lt; n; i += 3) {\r\n\t\t\tsum += i;\r\n\t\t}\r\n\t\tfor (int i = 5; i &lt; n; i += 5) {\r\n\t\t\tif (i % 3 != 0) { // &lt;-- already added if i is divisible by 3\r\n\t\t\t\tsum += i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sum;\r\n\t}\r\n\r\nBased on your comment below, change `main` to first read the `int` of counts, then store them in an array. Something like\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\twhile (scanner.hasNextInt()) {\r\n\t\t\tint toRead = scanner.nextInt();\r\n\t\t\tint[] vals = new int[toRead];\r\n\t\t\tfor (int t = 0; t &lt; toRead; t++) {\r\n\t\t\t\tif (scanner.hasNextInt()) {\r\n\t\t\t\t\tvals[t] = scanner.nextInt();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\tfor (int n : vals) {\r\n\t\t\t\tsb.append(getSum(n)).append(&quot; &quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(sb);\r\n\t\t}\r\n\t}","title":"The sum of all the multiples of 3 or 5 below N","body":"<p>I suggest you use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow\"><code>Scanner</code></a>. I would also suggest you add to a <code>sum</code> by iterating from <code>3</code> to <code>n</code> in increments of <code>3</code>. Then from <code>5</code> to <code>n</code> in increments of <code>5</code> (then exclude the multiples of <code>3</code>, because they've already been added). Something like</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    while (scanner.hasNextInt()) {\n        int n = scanner.nextInt();\n        System.out.println(getSum(n));\n    }\n}\n\npublic static long getSum(int n) {\n    long sum = 0;\n    for (int i = 3; i &lt; n; i += 3) {\n        sum += i;\n    }\n    for (int i = 5; i &lt; n; i += 5) {\n        if (i % 3 != 0) { // &lt;-- already added if i is divisible by 3\n            sum += i;\n        }\n    }\n    return sum;\n}\n</code></pre>\n\n<p>Based on your comment below, change <code>main</code> to first read the <code>int</code> of counts, then store them in an array. Something like</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    while (scanner.hasNextInt()) {\n        int toRead = scanner.nextInt();\n        int[] vals = new int[toRead];\n        for (int t = 0; t &lt; toRead; t++) {\n            if (scanner.hasNextInt()) {\n                vals[t] = scanner.nextInt();\n            }\n        }\n        StringBuilder sb = new StringBuilder();\n        for (int n : vals) {\n            sb.append(getSum(n)).append(\" \");\n        }\n        System.out.println(sb);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7884110,"reputation":2090,"user_id":5956891,"accept_rate":91,"display_name":"Shree Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476953907,"creation_date":1476953354,"answer_id":40149661,"question_id":31175070,"body_markdown":"As we know that we need to sum of those numbers which are divisible by 3 or 5 below n where n=10 or 100 or more (it is limit). But if we have n=20 so 15(15%5==0 &amp;&amp; 15%3==0) will come twice so that we need to add only once so that  we need to check a number is divisible by 15(since 5*3=15).\r\n \r\n\r\n       long n1=0,n2=0;\r\n        int i=1,j=1;\r\n        while(3*i&lt;n)\r\n            {\r\n            n1 +=3*i;\r\n            i++;\r\n            if(5*j&lt;n)\r\n                {\r\n                n2+=5*j;\r\n                if(5*j%15==0)\r\n                    n2 -=5*j;\r\n                j++;\r\n            }\r\n          }\r\n        \r\n        System.out.println(n1+n2);\r\n        }","title":"The sum of all the multiples of 3 or 5 below N","body":"<p>As we know that we need to sum of those numbers which are divisible by 3 or 5 below n where n=10 or 100 or more (it is limit). But if we have n=20 so 15(15%5==0 &amp;&amp; 15%3==0) will come twice so that we need to add only once so that  we need to check a number is divisible by 15(since 5*3=15).</p>\n\n<pre><code>   long n1=0,n2=0;\n    int i=1,j=1;\n    while(3*i&lt;n)\n        {\n        n1 +=3*i;\n        i++;\n        if(5*j&lt;n)\n            {\n            n2+=5*j;\n            if(5*j%15==0)\n                n2 -=5*j;\n            j++;\n        }\n      }\n\n    System.out.println(n1+n2);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19773739,"reputation":11,"user_id":17343007,"display_name":"Kiran  Jadhav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666468708,"creation_date":1666468708,"answer_id":74166691,"question_id":31175070,"body_markdown":"    import java.io.*;\r\n    import java.util.*;\r\n    import java.text.*;\r\n    import java.math.*;\r\n    import java.util.regex.*;\r\n    \r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            int sum = 0;\r\n            int t = in.nextInt();\r\n            for(int a0 = 0; a0 &lt; t; a0++){\r\n                long n = in.nextInt();\r\n                for(int j=1;j &lt; n;j++)\r\n                if(j % 3 == 0 || j%5 == 0){\r\n                    sum+=j;\r\n                }\r\n                System.out.println(sum);\r\n                sum = 0;\r\n            }\r\n            \r\n            \r\n            \r\n        }\r\n    }\r\nThis is simple Solution ","title":"The sum of all the multiples of 3 or 5 below N","body":"<pre><code>import java.io.*;\nimport java.util.*;\nimport java.text.*;\nimport java.math.*;\nimport java.util.regex.*;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int sum = 0;\n        int t = in.nextInt();\n        for(int a0 = 0; a0 &lt; t; a0++){\n            long n = in.nextInt();\n            for(int j=1;j &lt; n;j++)\n            if(j % 3 == 0 || j%5 == 0){\n                sum+=j;\n            }\n            System.out.println(sum);\n            sum = 0;\n        }\n        \n        \n        \n    }\n}\n</code></pre>\n<p>This is simple Solution</p>\n"}],"owner":{"account_id":3786756,"reputation":317,"user_id":3711788,"accept_rate":52,"display_name":"Hadh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2317,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":31175163,"answer_count":6,"score":1,"last_activity_date":1666468708,"creation_date":1435807314,"question_id":31175070,"body_markdown":"I have to find the sum of all the multiples of 3 or 5 below N.\r\nexample if we have to list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9,the sum of these multiples is 23.\r\n\r\nNow the only problem left is that I want it to be able to read ALL the numbers THEN display the sum, for now it reads one number and display the sum right after it, any ideas?\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class Solution{\r\n    public static void main(String[] args) throws IOException {\r\n    \r\n    \r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n        String line = br.readLine();\r\n        int Nbr = Integer.parseInt(line);\r\n    \r\n    \r\n            for(int j=0; j&lt;Nbr;j++)\r\n            {\r\n                BufferedReader br2 = new BufferedReader(new   InputStreamReader(System.in));\r\n                String line2 = br2.readLine();\r\n                String[] numbers = new String[Nbr];\r\n                numbers[j]= line2;\r\n                System.out.println(Somme(Long.parseLong(numbers[j])));\r\n            }\r\n    \r\n            }\r\n    \r\n    \r\n    public static long Somme(long Nn) {\r\n        long s = 0;\r\n        for (int i = 0; i &lt; Nn; i++) {\r\n            if (((i % 3) == 0) || ((i % 5) == 0)) {\r\n                s = s + i;\r\n            }\r\n        }\r\n        return (s);\r\n    }\r\n    }","title":"The sum of all the multiples of 3 or 5 below N","body":"<p>I have to find the sum of all the multiples of 3 or 5 below N.\nexample if we have to list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9,the sum of these multiples is 23.</p>\n\n<p>Now the only problem left is that I want it to be able to read ALL the numbers THEN display the sum, for now it reads one number and display the sum right after it, any ideas?</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class Solution{\npublic static void main(String[] args) throws IOException {\n\n\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n    String line = br.readLine();\n    int Nbr = Integer.parseInt(line);\n\n\n        for(int j=0; j&lt;Nbr;j++)\n        {\n            BufferedReader br2 = new BufferedReader(new   InputStreamReader(System.in));\n            String line2 = br2.readLine();\n            String[] numbers = new String[Nbr];\n            numbers[j]= line2;\n            System.out.println(Somme(Long.parseLong(numbers[j])));\n        }\n\n        }\n\n\npublic static long Somme(long Nn) {\n    long s = 0;\n    for (int i = 0; i &lt; Nn; i++) {\n        if (((i % 3) == 0) || ((i % 5) == 0)) {\n            s = s + i;\n        }\n    }\n    return (s);\n}\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":1,"creation_date":1434576074,"post_id":30902556,"comment_id":49844122,"body_markdown":"What is the error?  What is the goal of the exercise?","body":"What is the error?  What is the goal of the exercise?"},{"owner":{"account_id":2882201,"reputation":10752,"user_id":2472820,"accept_rate":86,"display_name":"Kon"},"score":1,"creation_date":1434576101,"post_id":30902556,"comment_id":49844137,"body_markdown":"You have provided little important information. Read the guide on how to ask a question.","body":"You have provided little important information. Read the guide on how to ask a question."}],"answers":[{"comments":[{"owner":{"account_id":6485986,"reputation":21,"user_id":5021565,"display_name":"R Jani"},"score":0,"creation_date":1434974725,"post_id":30902917,"comment_id":49989286,"body_markdown":"Nice Job .That will be done. But then its goes to another page for the Another code.","body":"Nice Job .That will be done. But then its goes to another page for the Another code."},{"owner":{"account_id":6456083,"reputation":181,"user_id":5001426,"display_name":"nathantspencer"},"score":0,"creation_date":1434985045,"post_id":30902917,"comment_id":49996635,"body_markdown":"I believe that there are multiple questions you must answer to register for the website. This was only one of them.","body":"I believe that there are multiple questions you must answer to register for the website. This was only one of them."}],"tags":[],"owner":{"account_id":6456083,"reputation":181,"user_id":5001426,"display_name":"nathantspencer"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1434577977,"creation_date":1434577389,"answer_id":30902917,"question_id":30902556,"body_markdown":"You essentially had the answer Codewars wanted. I imagine they expected for you to just add the semicolon, as you did, but keep the rest of the code the same.\r\n\r\n    public class Multiply\r\n    {\r\n       public static Double multiply(Double a, Double b)\r\n       {\r\n           return a * b;\r\n       }\r\n    }\r\n\r\nI went to try it out, and this worked for me. Looks like they wanted you to keep `static` and the wrapper class `Double`. ","title":"Signing up Codewars - Java Exercise","body":"<p>You essentially had the answer Codewars wanted. I imagine they expected for you to just add the semicolon, as you did, but keep the rest of the code the same.</p>\n\n<pre><code>public class Multiply\n{\n   public static Double multiply(Double a, Double b)\n   {\n       return a * b;\n   }\n}\n</code></pre>\n\n<p>I went to try it out, and this worked for me. Looks like they wanted you to keep <code>static</code> and the wrapper class <code>Double</code>. </p>\n"},{"tags":[],"owner":{"display_name":"user10590687"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556900034,"creation_date":1556899963,"answer_id":55973635,"question_id":30902556,"body_markdown":"Here is the answer:\r\n\r\n    public class Multiply \r\n    { \r\n       public double multiply(double a, double b) \r\n       { return a * b;} \r\n    }","title":"Signing up Codewars - Java Exercise","body":"<p>Here is the answer:</p>\n\n<pre><code>public class Multiply \n{ \n   public double multiply(double a, double b) \n   { return a * b;} \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17895457,"reputation":1,"user_id":13000969,"display_name":"Helper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583262058,"creation_date":1583254926,"answer_id":60512190,"question_id":30902556,"body_markdown":"Think about how it will work if it is executed without any `main` method and what all things are missing / incorrect format in the code\r\n\r\nE.g. Where you can add any double value\r\n\r\n```java\r\npublic class Multiply {\r\n    public static double multiply(double a, double b) {\r\n        return a * b;\r\n    }\r\n\t\r\n    public static void main(String[] args) {\r\n        double result = multiply(20.01, 10.10);\r\n        System.out.println(&quot;The result is: &quot; + result);\r\n    }\r\n}\r\n```\r\n","title":"Signing up Codewars - Java Exercise","body":"<p>Think about how it will work if it is executed without any <code>main</code> method and what all things are missing / incorrect format in the code</p>\n\n<p>E.g. Where you can add any double value</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Multiply {\n    public static double multiply(double a, double b) {\n        return a * b;\n    }\n\n    public static void main(String[] args) {\n        double result = multiply(20.01, 10.10);\n        System.out.println(\"The result is: \" + result);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5392262,"reputation":4671,"user_id":4294399,"display_name":"General Grievance"},"score":1,"creation_date":1645855595,"post_id":71217747,"comment_id":125985815,"body_markdown":"Assuming you&#39;re allowed to change the wrapper in the first place. Also, the `static` is no longer there, which may cause issues.","body":"Assuming you&#39;re allowed to change the wrapper in the first place. Also, the <code>static</code> is no longer there, which may cause issues."}],"tags":[],"owner":{"account_id":24020694,"reputation":1,"user_id":18003037,"display_name":"Prasad Patil"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645535112,"creation_date":1645516815,"answer_id":71217747,"question_id":30902556,"body_markdown":"    public class Multiply {\r\n    public double multiply(double a , double b )\r\n    //just change the wrapper to primitive\r\n    {     \r\n         return a*b ;\r\n       // add semicolon over here that it \r\n    }","title":"Signing up Codewars - Java Exercise","body":"<pre><code>public class Multiply {\npublic double multiply(double a , double b )\n//just change the wrapper to primitive\n{     \n     return a*b ;\n   // add semicolon over here that it \n}\n</code></pre>\n"}],"owner":{"account_id":6485986,"reputation":21,"user_id":5021565,"display_name":"R Jani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19140,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":30902917,"answer_count":4,"score":-2,"last_activity_date":1666468587,"creation_date":1434575875,"question_id":30902556,"body_markdown":"The code is \r\n\r\n    public class Multiply\r\n    {\r\n       public static Double multiply(Double a, Double b)\r\n       {\r\n           return a * b\r\n       }\r\n    }\r\n\r\nI cannot solve the above code.  \r\nI tried a few things, like\r\n\r\n    public class Multiply \r\n    { \r\n       public double multiply(double a, double b) \r\n       { return a * b;} \r\n    }\r\n\r\nIt still shows errors in code.  \r\nKindly help, please.\r\n","title":"Signing up Codewars - Java Exercise","body":"<p>The code is </p>\n\n<pre><code>public class Multiply\n{\n   public static Double multiply(Double a, Double b)\n   {\n       return a * b\n   }\n}\n</code></pre>\n\n<p>I cannot solve the above code.<br>\nI tried a few things, like</p>\n\n<pre><code>public class Multiply \n{ \n   public double multiply(double a, double b) \n   { return a * b;} \n}\n</code></pre>\n\n<p>It still shows errors in code.<br>\nKindly help, please.</p>\n"},{"tags":["java","database","jvm"],"answers":[{"comments":[{"owner":{"account_id":23154773,"reputation":11,"user_id":17256190,"display_name":"Xinyang Feng"},"score":0,"creation_date":1658037703,"post_id":73008843,"comment_id":128949003,"body_markdown":"It doesn&#39;t work either. I have used the previous version of ORDS to sidestep this issue.","body":"It doesn&#39;t work either. I have used the previous version of ORDS to sidestep this issue."},{"owner":{"account_id":8994817,"reputation":150,"user_id":6705640,"display_name":"Tomasz"},"score":0,"creation_date":1660989788,"post_id":73008843,"comment_id":129667242,"body_markdown":"Since version 22.x of ORDS we do not run java -jar ords.war install, now: ords intall","body":"Since version 22.x of ORDS we do not run java -jar ords.war install, now: ords intall"}],"tags":[],"owner":{"account_id":25822002,"reputation":69,"user_id":19560919,"display_name":"Moraban"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658024300,"creation_date":1658024300,"answer_id":73008843,"question_id":73008796,"body_markdown":"Adding the ORDS folder to path will only allow you to run executable and batch files from that directory through cmd. To run the jar you still need to specify the full path to the jar file.\r\n\r\n```\r\n&gt; java -jar C:\\Users\\user\\folder\\ords.war&quot;\r\n```","title":"Oracle ORDS 22.1 Installation issue","body":"<p>Adding the ORDS folder to path will only allow you to run executable and batch files from that directory through cmd. To run the jar you still need to specify the full path to the jar file.</p>\n<pre><code>&gt; java -jar C:\\Users\\user\\folder\\ords.war&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5747640,"reputation":1,"user_id":4538408,"display_name":"lindmahdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666468063,"creation_date":1666468063,"answer_id":74166620,"question_id":73008796,"body_markdown":"you need to type \r\n```java -jar ords.war --config c:\\ords_config_folder_address install```","title":"Oracle ORDS 22.1 Installation issue","body":"<p>you need to type\n<code>java -jar ords.war --config c:\\ords_config_folder_address install</code></p>\n"}],"owner":{"account_id":23154773,"reputation":11,"user_id":17256190,"display_name":"Xinyang Feng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1257,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666468063,"creation_date":1658023384,"question_id":73008796,"body_markdown":"I am trying to install Oracle ORDS 22.1 through Windows 10 cmd. When I run &quot;java -jar ords.war&quot; under the ORDS documents directory, the debugging info shows that the system no longer supports this command. What&#39;s more, it suggests I add ORDS to PATH to use ORDS commands. However, even if I set the path to the specified directory, &quot;java -jar ords.war&quot; still does not work.\r\n\r\nWhat should I do to walk this around? Also, how to install ORDS 22.1 using Windows 10 cmd?   ","title":"Oracle ORDS 22.1 Installation issue","body":"<p>I am trying to install Oracle ORDS 22.1 through Windows 10 cmd. When I run &quot;java -jar ords.war&quot; under the ORDS documents directory, the debugging info shows that the system no longer supports this command. What's more, it suggests I add ORDS to PATH to use ORDS commands. However, even if I set the path to the specified directory, &quot;java -jar ords.war&quot; still does not work.</p>\n<p>What should I do to walk this around? Also, how to install ORDS 22.1 using Windows 10 cmd?</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666467988,"creation_date":1666459037,"answer_id":74165577,"question_id":74009446,"body_markdown":"I think you can do something like that:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, uses = MovieMapper.class)\r\n    public interface CharacterMapper {\r\n    \r\n        @IterableMapping(qualifiedByName = &quot;toDTO&quot;)\r\n        List&lt;CharacterDTO&gt; toCharactersDTO(List&lt;Character&gt; characters);\r\n    \r\n        @InheritInverseConfiguration(name = &quot;toCharacterDTO&quot;)\r\n        Character toCharacter(CharacterDTO characterDTO);\r\n    \r\n        // unused parameter &quot;o&quot;\r\n        @Named(&quot;toDTO&quot;)\r\n        CharacterDTO toDTO(Character character/*, String o*/){\r\n            return new CharacterDTO(character.getImage(), character.getName());\r\n        }\r\n    \r\n        default CharacterDTO toCharacterDTO(Character character){\r\n            return new CharacterDTO(character.getImage(), character.getName(), character.getAge(), character.getWeight(), character.getHistory(), null);\r\n        }\r\n        \r\n    }","title":"Mapstruct different mappers for the same target class","body":"<p>I think you can do something like that:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, uses = MovieMapper.class)\npublic interface CharacterMapper {\n\n    @IterableMapping(qualifiedByName = &quot;toDTO&quot;)\n    List&lt;CharacterDTO&gt; toCharactersDTO(List&lt;Character&gt; characters);\n\n    @InheritInverseConfiguration(name = &quot;toCharacterDTO&quot;)\n    Character toCharacter(CharacterDTO characterDTO);\n\n    // unused parameter &quot;o&quot;\n    @Named(&quot;toDTO&quot;)\n    CharacterDTO toDTO(Character character/*, String o*/){\n        return new CharacterDTO(character.getImage(), character.getName());\n    }\n\n    default CharacterDTO toCharacterDTO(Character character){\n        return new CharacterDTO(character.getImage(), character.getName(), character.getAge(), character.getWeight(), character.getHistory(), null);\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":16665473,"reputation":129,"user_id":12044263,"display_name":"Ernesto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":764,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666467988,"creation_date":1665364439,"question_id":74009446,"body_markdown":"I have this entity:\r\n```\r\npublic class Character {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n    private String image;\r\n    @Column(nullable = false)\r\n    private String name;\r\n    @ManyToMany(cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n        name = &quot;characters_movies&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;character&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;movie&quot;)\r\n    )\r\n    private List&lt;Movie&gt; movies;\r\n\r\n```\r\n\r\nAnd this DTO for that entity:\r\n```\r\npublic class CharacterDTO extends AbstractResponse{\r\n    \r\n    private int id;\r\n    private String image;\r\n    private String name;\r\n    private List&lt;MovieDTO&gt; movies;\r\n\r\n    public CharacterDTO(String image, String name){\r\n        this.image= image;\r\n        this.name= name;\r\n    }\r\n}\r\n```\r\n\r\nAnd this mapper:\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;, uses = MovieMapper.class)\r\npublic interface CharacterMapper {\r\n\r\n    List&lt;CharacterDTO&gt; toCharactersDTO(List&lt;Character&gt; characters);\r\n\r\n    @InheritInverseConfiguration(name = &quot;toCharacterDTO&quot;)\r\n    Character toCharacter(CharacterDTO characterDTO);\r\n\r\n    default CharacterDTO toCharacterDTO(Character character, String o){\r\n        return new CharacterDTO(character.getImage(), character.getName());\r\n    }\r\n\r\n    default CharacterDTO toCharacterDTO(Character character){\r\n        return new CharacterDTO(character.getImage(), character.getName(), character.getAge(), character.getWeight(), character.getHistory(), null);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nI have 2 methods for mapper to the DTO, because in some cases i do not want to show the id. This approach works (i do not if there is a better one), but i want to specify to the toCharactersDTO to use the method with 2 parameters. Any idea i can do that?","title":"Mapstruct different mappers for the same target class","body":"<p>I have this entity:</p>\n<pre><code>public class Character {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n    private String image;\n    @Column(nullable = false)\n    private String name;\n    @ManyToMany(cascade = CascadeType.ALL)\n    @JoinTable(\n        name = &quot;characters_movies&quot;,\n        joinColumns = @JoinColumn(name = &quot;character&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;movie&quot;)\n    )\n    private List&lt;Movie&gt; movies;\n\n</code></pre>\n<p>And this DTO for that entity:</p>\n<pre><code>public class CharacterDTO extends AbstractResponse{\n    \n    private int id;\n    private String image;\n    private String name;\n    private List&lt;MovieDTO&gt; movies;\n\n    public CharacterDTO(String image, String name){\n        this.image= image;\n        this.name= name;\n    }\n}\n</code></pre>\n<p>And this mapper:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, uses = MovieMapper.class)\npublic interface CharacterMapper {\n\n    List&lt;CharacterDTO&gt; toCharactersDTO(List&lt;Character&gt; characters);\n\n    @InheritInverseConfiguration(name = &quot;toCharacterDTO&quot;)\n    Character toCharacter(CharacterDTO characterDTO);\n\n    default CharacterDTO toCharacterDTO(Character character, String o){\n        return new CharacterDTO(character.getImage(), character.getName());\n    }\n\n    default CharacterDTO toCharacterDTO(Character character){\n        return new CharacterDTO(character.getImage(), character.getName(), character.getAge(), character.getWeight(), character.getHistory(), null);\n    }\n    \n}\n</code></pre>\n<p>I have 2 methods for mapper to the DTO, because in some cases i do not want to show the id. This approach works (i do not if there is a better one), but i want to specify to the toCharactersDTO to use the method with 2 parameters. Any idea i can do that?</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":15317118,"reputation":37,"user_id":11050709,"display_name":"Marcelo Oliveira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666467957,"creation_date":1666467957,"answer_id":74166612,"question_id":74166431,"body_markdown":"I figured out the problem. It was related to the fact that I was using the quotation mark in the wrong manner. I changed it and then the error is gone.","title":"Selenium WebDriver returning error when trying to compare two strings","body":"<p>I figured out the problem. It was related to the fact that I was using the quotation mark in the wrong manner. I changed it and then the error is gone.</p>\n"}],"owner":{"account_id":15317118,"reputation":37,"user_id":11050709,"display_name":"Marcelo Oliveira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666467957,"creation_date":1666465929,"question_id":74166431,"body_markdown":"I am trying to compare two values and I wrote the following code that is returning the error below. I&#39;m not a Java Developer and so I do not know how to solve this issue. I tried to find something on the Internet but I couldn&#39;t. I appreciate your help.\r\n\r\n    // import statements begin for selenium imports\r\n\r\n    import org.openqa.selenium.*;\r\n    import org.openqa.selenium.interactions.Action;\r\n    import org.openqa.selenium.interactions.Actions;\r\n\r\n    //import statements end for selenium imports\r\n\r\n\r\n    String formulaTotalQuantity = handl.getExportedValue(“E_CPE_FORMULA__TOTAL_QUANTITY_”);\r\n    String orderQuantity = handl.getExportedValue(“E_ORDER_QUANTITY”);\r\n\r\n    if(orderQuantity.equals(formulaTotalQuantity)){\r\n       System.out.println(&quot;Pass&quot;);\r\n    }\r\n      else {\r\n          System.out.println(&quot;Fail&quot;);\r\n    }\r\n\r\n\r\nThis is the error I am getting when I try to activate the code:\r\n\r\n`ERROR : illegal character: &#39;\\ufffd&#39;/n`","title":"Selenium WebDriver returning error when trying to compare two strings","body":"<p>I am trying to compare two values and I wrote the following code that is returning the error below. I'm not a Java Developer and so I do not know how to solve this issue. I tried to find something on the Internet but I couldn't. I appreciate your help.</p>\n<pre><code>// import statements begin for selenium imports\n\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.interactions.Action;\nimport org.openqa.selenium.interactions.Actions;\n\n//import statements end for selenium imports\n\n\nString formulaTotalQuantity = handl.getExportedValue(“E_CPE_FORMULA__TOTAL_QUANTITY_”);\nString orderQuantity = handl.getExportedValue(“E_ORDER_QUANTITY”);\n\nif(orderQuantity.equals(formulaTotalQuantity)){\n   System.out.println(&quot;Pass&quot;);\n}\n  else {\n      System.out.println(&quot;Fail&quot;);\n}\n</code></pre>\n<p>This is the error I am getting when I try to activate the code:</p>\n<p><code>ERROR : illegal character: '\\ufffd'/n</code></p>\n"},{"tags":["java","foreach","java-8","java-stream"],"answers":[{"comments":[{"owner":{"account_id":968745,"reputation":193,"user_id":991713,"display_name":"SteveG"},"score":0,"creation_date":1401790975,"post_id":24012137,"comment_id":37010290,"body_markdown":"Thats what I was getting, I wondered if there was away around by doing it differently. Thanks for the reply.","body":"Thats what I was getting, I wondered if there was away around by doing it differently. Thanks for the reply."},{"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"score":0,"creation_date":1401791997,"post_id":24012137,"comment_id":37010926,"body_markdown":"@SteveG Please see my edit. But keep in mind, that this solution is (very) ugly.","body":"@SteveG Please see my edit. But keep in mind, that this solution is (very) ugly."},{"owner":{"account_id":968745,"reputation":193,"user_id":991713,"display_name":"SteveG"},"score":0,"creation_date":1401892643,"post_id":24012137,"comment_id":37062056,"body_markdown":"Cool, It also separates the concern, which if it was a complicated method would be good.","body":"Cool, It also separates the concern, which if it was a complicated method would be good."}],"tags":[],"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1401792673,"creation_date":1401789276,"answer_id":24012137,"question_id":24011597,"body_markdown":"If I understood you correctly, you want to do something like this:\r\n\r\n    toRemove.forEach(removeString -&gt; {\r\n        text = text.replaceAll(removeString, &quot;&quot;);\r\n    });\r\n\r\nThe only problem is, that you can&#39;t. :(\r\n\r\nYou can read about it here: http://javarevisited.blogspot.co.il/2014/02/10-example-of-lambda-expressions-in-java8.html\r\n\r\nSection 6: `One restriction with lambda expression is that, you can only reference either final or effectively final local variables, which means you cannot modified a variable declared in the outer scope inside a lambda.`\r\n\r\n**EDIT**\r\n\r\nYou can do something very ugly. Like this:\r\n\r\n    private static String text;\r\n\r\n    public void main (String[] args) {\r\n        text = &quot;Hello 1 2 3&quot;;\r\n        List&lt;String&gt; toRemove = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n        toRemove.forEach(removeString -&gt; replaceTextWithEmptyString(removeString));\r\n    }\r\n\r\n    private static void replaceTextWithEmptyString(String whatToReplace) {\r\n        text = text.replaceAll(whatToReplace, &quot;&quot;);\r\n    }","title":"Java 8 Stream - How to return replace a strings contents with a list of items to find","body":"<p>If I understood you correctly, you want to do something like this:</p>\n\n<pre><code>toRemove.forEach(removeString -&gt; {\n    text = text.replaceAll(removeString, \"\");\n});\n</code></pre>\n\n<p>The only problem is, that you can't. :(</p>\n\n<p>You can read about it here: <a href=\"http://javarevisited.blogspot.co.il/2014/02/10-example-of-lambda-expressions-in-java8.html\" rel=\"nofollow\">http://javarevisited.blogspot.co.il/2014/02/10-example-of-lambda-expressions-in-java8.html</a></p>\n\n<p>Section 6: <code>One restriction with lambda expression is that, you can only reference either final or effectively final local variables, which means you cannot modified a variable declared in the outer scope inside a lambda.</code></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>You can do something very ugly. Like this:</p>\n\n<pre><code>private static String text;\n\npublic void main (String[] args) {\n    text = \"Hello 1 2 3\";\n    List&lt;String&gt; toRemove = Arrays.asList(\"1\", \"2\", \"3\");\n    toRemove.forEach(removeString -&gt; replaceTextWithEmptyString(removeString));\n}\n\nprivate static void replaceTextWithEmptyString(String whatToReplace) {\n    text = text.replaceAll(whatToReplace, \"\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":968745,"reputation":193,"user_id":991713,"display_name":"SteveG"},"score":2,"creation_date":1401892813,"post_id":24013344,"comment_id":37062203,"body_markdown":"Excellent, I have never seen Function.identity(), Function::andThen in use before. Nice work.","body":"Excellent, I have never seen Function.identity(), Function::andThen in use before. Nice work."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1527847856,"post_id":24013344,"comment_id":88292134,"body_markdown":"@Holger or (as you have shown me this before) : `.reduce(Function::andThen).orElse(Function.identity())` 1+","body":"@Holger or (as you have shown me this before) : <code>.reduce(Function::andThen).orElse(Function.identity())</code> 1+"},{"owner":{"account_id":14961484,"reputation":89,"user_id":10801092,"display_name":"Grzech"},"score":0,"creation_date":1652168293,"post_id":24013344,"comment_id":127534298,"body_markdown":"I dont get it yet, but worked for me. Thanks!","body":"I dont get it yet, but worked for me. Thanks!"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":3,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1401792921,"creation_date":1401792921,"answer_id":24013344,"question_id":24011597,"body_markdown":"Since you can’t use the stream to modify the `text` variable you have to coerce the operation into one `Function` which you can apply to the `text` to get the final result:\r\n\r\n    List&lt;String&gt; toRemove = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n    String text = &quot;Hello 1 2 3&quot;;\r\n    text=toRemove.stream()\r\n                 .map(toRem-&gt; (Function&lt;String,String&gt;)s-&gt;s.replaceAll(toRem, &quot;&quot;))\r\n                 .reduce(Function.identity(), Function::andThen)\r\n                 .apply(text);\r\n","title":"Java 8 Stream - How to return replace a strings contents with a list of items to find","body":"<p>Since you can’t use the stream to modify the <code>text</code> variable you have to coerce the operation into one <code>Function</code> which you can apply to the <code>text</code> to get the final result:</p>\n\n<pre><code>List&lt;String&gt; toRemove = Arrays.asList(\"1\", \"2\", \"3\");\nString text = \"Hello 1 2 3\";\ntext=toRemove.stream()\n             .map(toRem-&gt; (Function&lt;String,String&gt;)s-&gt;s.replaceAll(toRem, \"\"))\n             .reduce(Function.identity(), Function::andThen)\n             .apply(text);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":968745,"reputation":193,"user_id":991713,"display_name":"SteveG"},"score":0,"creation_date":1417639858,"post_id":26749800,"comment_id":43031323,"body_markdown":"Excellent! That looks the best solution so far. I&#39;m getting the grips of things now. Nice work !","body":"Excellent! That looks the best solution so far. I&#39;m getting the grips of things now. Nice work !"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1417687908,"post_id":26749800,"comment_id":43048301,"body_markdown":"Except that creating a temporary array via `String.split` holding all elements is exactly the opposite of using the `Stream` API. It could be a good answer if it was using [`Pattern.compile(delimiter).splitAsStream(text)`](http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#splitAsStream-java.lang.CharSequence-), still not exactly what the question was about, but never mind.","body":"Except that creating a temporary array via <code>String.split</code> holding all elements is exactly the opposite of using the <code>Stream</code> API. It could be a good answer if it was using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#splitAsStream-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>Pattern.compile(delimiter).splitAsStream(text)</code></a>, still not exactly what the question was about, but never mind."},{"owner":{"account_id":2281083,"reputation":4871,"user_id":2020820,"display_name":"Steve K"},"score":0,"creation_date":1455837971,"post_id":26749800,"comment_id":58681551,"body_markdown":"It will also be significantly more efficient if you have a list of more than a few items to remove to store them as a Set&lt;String&gt; rather than a List&lt;String&gt; since .contains() on a Set is far more efficient.","body":"It will also be significantly more efficient if you have a list of more than a few items to remove to store them as a Set&lt;String&gt; rather than a List&lt;String&gt; since .contains() on a Set is far more efficient."},{"owner":{"account_id":5523566,"reputation":362,"user_id":5009530,"display_name":"SkySpiral7"},"score":0,"creation_date":1695647543,"post_id":26749800,"comment_id":136048382,"body_markdown":"Your answer only works for single characters or when there&#39;s delimiters. Holger&#39;s answer is more general (your answer doesn&#39;t work for me)","body":"Your answer only works for single characters or when there&#39;s delimiters. Holger&#39;s answer is more general (your answer doesn&#39;t work for me)"}],"tags":[],"owner":{"account_id":2281083,"reputation":4871,"user_id":2020820,"display_name":"Steve K"},"comment_count":4,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1421995637,"creation_date":1415162365,"answer_id":26749800,"question_id":24011597,"body_markdown":"Wow, you guys like doing things the hard way. this is what filter() and collect() are for.\r\n\r\n\tList&lt;String&gt; toRemove = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n\tString text = &quot;Hello 1 2 3&quot;;\r\n\r\n\ttext = Pattern.compile(&quot;&quot;).splitAsStream(text)\r\n\t\t.filter(s -&gt; !toRemove.contains(s))\r\n\t\t.collect(Collectors.joining());\r\n    System.out.println(&quot;\\&quot;&quot; + text + &quot;\\&quot;&quot;);\r\n\r\noutputs (as the original code did)\r\n\r\n    &quot;Hello   &quot;\r\n\r\nOf course, if your search strings are longer than one character, the previous method works better. If you have a tokenized string, though, split and join is easier.\r\n\r\n\tList&lt;String&gt; toRemove = Arrays.asList(&quot;12&quot;, &quot;23&quot;, &quot;34&quot;);\r\n\tString text = &quot;Hello 12 23 34 55&quot;;\r\n\tString delimiter = &quot; &quot;;\r\n\r\n\ttext = Pattern.compile(delimiter).splitAsStream(text)\r\n\t\t.filter(s -&gt; !toRemove.contains(s))\r\n\t\t.collect(Collectors.joining(delimiter));\r\n    System.out.println(&quot;\\&quot;&quot; + text + &quot;\\&quot;&quot;);\r\n\r\noutputs\r\n\r\n    &quot;Hello 55&quot;","title":"Java 8 Stream - How to return replace a strings contents with a list of items to find","body":"<p>Wow, you guys like doing things the hard way. this is what filter() and collect() are for.</p>\n\n<pre><code>List&lt;String&gt; toRemove = Arrays.asList(\"1\", \"2\", \"3\");\nString text = \"Hello 1 2 3\";\n\ntext = Pattern.compile(\"\").splitAsStream(text)\n    .filter(s -&gt; !toRemove.contains(s))\n    .collect(Collectors.joining());\nSystem.out.println(\"\\\"\" + text + \"\\\"\");\n</code></pre>\n\n<p>outputs (as the original code did)</p>\n\n<pre><code>\"Hello   \"\n</code></pre>\n\n<p>Of course, if your search strings are longer than one character, the previous method works better. If you have a tokenized string, though, split and join is easier.</p>\n\n<pre><code>List&lt;String&gt; toRemove = Arrays.asList(\"12\", \"23\", \"34\");\nString text = \"Hello 12 23 34 55\";\nString delimiter = \" \";\n\ntext = Pattern.compile(delimiter).splitAsStream(text)\n    .filter(s -&gt; !toRemove.contains(s))\n    .collect(Collectors.joining(delimiter));\nSystem.out.println(\"\\\"\" + text + \"\\\"\");\n</code></pre>\n\n<p>outputs</p>\n\n<pre><code>\"Hello 55\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5113743,"reputation":2236,"user_id":4099598,"display_name":"Nathan Tuggy"},"score":4,"creation_date":1434335093,"post_id":30836489,"comment_id":49717580,"body_markdown":"Could you please [edit] in an explanation of why this code answers the question? Code-only answers are [discouraged](http://meta.stackexchange.com/q/148272/274165), because they don&#39;t teach the solution.","body":"Could you please <a href=\"https://stackoverflow.com/posts/30836489/edit\">edit</a> in an explanation of why this code answers the question? Code-only answers are <a href=\"http://meta.stackexchange.com/q/148272/274165\">discouraged</a>, because they don&#39;t teach the solution."},{"owner":{"account_id":2899755,"reputation":2053,"user_id":2486753,"accept_rate":76,"display_name":"Dimitar Spasovski"},"score":0,"creation_date":1648739032,"post_id":30836489,"comment_id":126706112,"body_markdown":"This won&#39;t work if the stream is parallel.","body":"This won&#39;t work if the stream is parallel."}],"tags":[],"owner":{"account_id":3547725,"reputation":101,"user_id":2963237,"display_name":"yuba"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1434349024,"creation_date":1434334006,"answer_id":30836489,"question_id":24011597,"body_markdown":"    text = toRemove.stream()\r\n                   .reduce(text, (str, toRem) -&gt; str.replaceAll(toRem, &quot;&quot;));\r\nwould work for you.","title":"Java 8 Stream - How to return replace a strings contents with a list of items to find","body":"<pre><code>text = toRemove.stream()\n               .reduce(text, (str, toRem) -&gt; str.replaceAll(toRem, \"\"));\n</code></pre>\n\n<p>would work for you.</p>\n"},{"tags":[],"owner":{"account_id":26552850,"reputation":1,"user_id":20181908,"display_name":"sai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666467915,"creation_date":1666467893,"answer_id":74166605,"question_id":24011597,"body_markdown":"\tList&lt;String&gt; versions = new ArrayList&lt;&gt;();\r\n\t\tversions.add(&quot;Lollipop&quot;);\r\n\t\tversions.add(&quot;KitKat&quot;);\r\n\t\tversions.add(&quot;Jelly Bean&quot;);\r\n\t\tversions.add(&quot;Ice Cream Sandwidth&quot;);\r\n\t\tversions.add(&quot;Honeycomb&quot;);\r\n\t\tversions.add(&quot;Gingerbread&quot;);\r\n\r\n\t\tSystem.out.println(&quot;Data&quot;);\r\n\t\tversions.stream().filter(s -&gt; s.startsWith(&quot;G&quot;)).map(i-&gt;i.replace(&quot;G&quot;, &quot;bn&quot;)).forEach(System.out::println);\r\n\r\n\t}","title":"Java 8 Stream - How to return replace a strings contents with a list of items to find","body":"<pre><code>List&lt;String&gt; versions = new ArrayList&lt;&gt;();\n    versions.add(&quot;Lollipop&quot;);\n    versions.add(&quot;KitKat&quot;);\n    versions.add(&quot;Jelly Bean&quot;);\n    versions.add(&quot;Ice Cream Sandwidth&quot;);\n    versions.add(&quot;Honeycomb&quot;);\n    versions.add(&quot;Gingerbread&quot;);\n\n    System.out.println(&quot;Data&quot;);\n    versions.stream().filter(s -&gt; s.startsWith(&quot;G&quot;)).map(i-&gt;i.replace(&quot;G&quot;, &quot;bn&quot;)).forEach(System.out::println);\n\n}\n</code></pre>\n"}],"owner":{"account_id":968745,"reputation":193,"user_id":991713,"display_name":"SteveG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79127,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":26749800,"answer_count":5,"score":12,"last_activity_date":1666467915,"creation_date":1401787719,"question_id":24011597,"body_markdown":"I wish to replace the code below using java8 .stream()\r\n or .foreach(). However I am having trouble doing this.\r\n\r\nIts probably very easy, but I&#39;m finding the functional way of thinking a struggle :)\r\n\r\nI can iterate, no problem but the but returning the modified string is the issue due  to mutability issues.\r\n\r\nAnyone have any ideas ?\r\n\r\n\r\n    List&lt;String&gt; toRemove = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n    String text = &quot;Hello 1 2 3&quot;;\r\n\r\n    for(String item : toRemove){\r\n        text = text.replaceAll(item,EMPTY);\r\n    }\r\n\r\nThanks !","title":"Java 8 Stream - How to return replace a strings contents with a list of items to find","body":"<p>I wish to replace the code below using java8 .stream()\n or .foreach(). However I am having trouble doing this.</p>\n\n<p>Its probably very easy, but I'm finding the functional way of thinking a struggle :)</p>\n\n<p>I can iterate, no problem but the but returning the modified string is the issue due  to mutability issues.</p>\n\n<p>Anyone have any ideas ?</p>\n\n<pre><code>List&lt;String&gt; toRemove = Arrays.asList(\"1\", \"2\", \"3\");\nString text = \"Hello 1 2 3\";\n\nfor(String item : toRemove){\n    text = text.replaceAll(item,EMPTY);\n}\n</code></pre>\n\n<p>Thanks !</p>\n"},{"tags":["java","sql","java-stream","in-memory-database"],"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1666442412,"post_id":74163561,"comment_id":130940616,"body_markdown":"There is no library that I am aware of. However, H2 is written in java, and open source. Thus, it is possible to take specifically their SQL parser. There&#39;s plenty about SQL syntax that doesn&#39;t really apply to streams, and plenty you might want to add, but if you want it to be SQL based, step 1 is to parse SQL (which is quite a convoluted language). That&#39;s where H2&#39;s source comes in.","body":"There is no library that I am aware of. However, H2 is written in java, and open source. Thus, it is possible to take specifically their SQL parser. There&#39;s plenty about SQL syntax that doesn&#39;t really apply to streams, and plenty you might want to add, but if you want it to be SQL based, step 1 is to parse SQL (which is quite a convoluted language). That&#39;s where H2&#39;s source comes in."}],"answers":[{"comments":[{"owner":{"account_id":48879,"reputation":6617,"user_id":145359,"accept_rate":95,"display_name":"user"},"score":0,"creation_date":1666442922,"post_id":74163684,"comment_id":130940734,"body_markdown":"I&#39;d like to query the stream once, like a ksqlDB, but for java streams. You are right that only a small subset of SQL syntax makes sense for streams. Mainly I&#39;d like to filter + group/count.","body":"I&#39;d like to query the stream once, like a ksqlDB, but for java streams. You are right that only a small subset of SQL syntax makes sense for streams. Mainly I&#39;d like to filter + group/count."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1666443116,"post_id":74163684,"comment_id":130940772,"body_markdown":"@user Then you might try to implement our own query-parser that would translate a query into a bunch of Predicates and Functions, which would be applied on a stream. But it&#39;s not a trivial task.","body":"@user Then you might try to implement our own query-parser that would translate a query into a bunch of Predicates and Functions, which would be applied on a stream. But it&#39;s not a trivial task."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1666461910,"post_id":74163684,"comment_id":130944765,"body_markdown":"@user I&#39;ve added a very basic example of such Parser, it&#39;s capable of handling simple queries like the one you&#39;ve posted. It just a dummy example illustrating, that what I&#39;ve said is doable, developing a fully-fledged parser even with modest capacities that you need would require a lot of effort.","body":"@user I&#39;ve added a very basic example of such Parser, it&#39;s capable of handling simple queries like the one you&#39;ve posted. It just a dummy example illustrating, that what I&#39;ve said is doable, developing a fully-fledged parser even with modest capacities that you need would require a lot of effort."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666467555,"creation_date":1666442698,"answer_id":74163684,"question_id":74163561,"body_markdown":"&gt; I have a stream of java objects and I would like to query them\r\n\r\nWhat you want is doesn&#39;t make a lot of sense.\r\n\r\nStreams are **iterators**, not *containers of data*. See the [API documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html):\r\n\r\n&gt; No storage. A **stream is not a data structure** that stores elements; instead, it conveys elements from a source such as a data structure, an array, a generator function, or an I/O channel, through a pipeline of computational operations.\r\n\r\nSo the stream aren&#39;t a mean of storing data.\r\n\r\nAnd once the stream is consumed, it can&#39;t be used anymore. You can query a stream like a database.\r\n\r\nA stream is an internal iterator that can be executed only once.\r\n\r\n# Update\r\n\r\nIf you&#39;re interested in implementing a Parser for translating SQL-like queries into Predicates and Functions, which would be applied on a stream, then sure you can try. For very simple queries, it&#39;s definitely doable.\r\n\r\nBut it&#39;s not a trivial task. A fully-fledged parser for handling simple queries (similar to the one that has been specified in the question) would require a lot of effort both to implement and to test. I doubt whether it would pay off.\r\n\r\nHere&#39;s a **very, very dumb** illustration which makes use of the Reflection API and regular expressions.\r\n\r\nThe Demo-parser below is not capable of doing much, the proper implementation would be far more complex.\r\n\r\n```\r\npublic class QueryParser {\r\n    \r\n    public static &lt;T&gt; long getAsCount(String query, Stream&lt;T&gt; stream, Class&lt;T&gt; tClass) { // overloaded versions for primitive streams\r\n        \r\n        StreamOperation&lt;T&gt; operation = StreamOperation.fromQuery(query, tClass);\r\n        \r\n        return stream\r\n            .filter(operation.getPredicate())\r\n            .count();\r\n    }\r\n\r\n    private static class StreamOperation&lt;T&gt; {\r\n        \r\n        public static final Pattern WHERE = Pattern.compile(&quot;(?&lt;=(?i)where).*?(?=(?i)group)|(?&lt;=(?i)where).*?(?=$)&quot;);\r\n        \r\n        private Predicate&lt;T&gt; predicate;\r\n        // more properties, constructor\r\n        \r\n        public static &lt;T&gt; StreamOperation&lt;T&gt; fromQuery(String query, Class&lt;T&gt; tClass) {\r\n            \r\n            Predicate&lt;T&gt; where = WHERE.matcher(query).results()\r\n                .map(MatchResult::group)\r\n                .findFirst()\r\n                .map(conditions -&gt; parseConditions(conditions, tClass))\r\n                .orElse(t -&gt; true);\r\n            \r\n            // working on other properties\r\n            \r\n            StreamOperation&lt;T&gt; so = new StreamOperation&lt;&gt;(where);\r\n            \r\n            return so;\r\n        }\r\n        \r\n        public Predicate&lt;T&gt; getPredicate() {\r\n            return predicate;\r\n        }\r\n        \r\n        public static &lt;T&gt; Predicate&lt;T&gt; parseConditions(String conditions, Class&lt;T&gt; tClass) {\r\n            \r\n            String[] or = conditions.split(&quot;(?i)or&quot;); // split by OR\r\n            \r\n            Predicate&lt;T&gt; orPredicate = t -&gt; false; // base predicate for OR\r\n            \r\n            for (String jointCondition: or) {\r\n                String[] and = jointCondition.split(&quot;(?i)and&quot;); // split by END\r\n                \r\n                Predicate&lt;T&gt; andPredicate = t -&gt; true; // base predicate for AND\r\n                \r\n                for (String condition: and) {\r\n                    Predicate&lt;T&gt; next = null;\r\n                    // parse each condition\r\n                    try {\r\n                        next = Conditions.parseCondition(condition, tClass);\r\n                    } catch (NoSuchFieldException e) {\r\n                        e.printStackTrace();\r\n                        throw new IllegalArgumentException(&quot;Invalid condition or type:\\n&quot;\r\n                            + condition + &quot; for Type &quot; + tClass.getCanonicalName());\r\n                    }\r\n                    andPredicate = andPredicate.and(next); // join conditions together using Predicate.end()\r\n                }\r\n                orPredicate = orPredicate.or(andPredicate); // join conditions together using Predicate.or()\r\n            }\r\n            \r\n            return orPredicate;\r\n        }\r\n    }\r\n    \r\n    private static class Conditions {\r\n        \r\n        public static &lt;T&gt; Predicate&lt;T&gt; parseCondition(String conditions, Class&lt;T&gt; tClass) throws NoSuchFieldException {\r\n            \r\n            // TO DO add logic for other conditions\r\n            // Logic equality comparison implemented for demo purposes\r\n            \r\n            String[] equals = conditions.split(&quot;=&quot;);\r\n            \r\n            Field field = tClass.getDeclaredField(equals[0].strip());\r\n            field.setAccessible(true);\r\n            \r\n            return field.getType().isPrimitive() ? // assumption that boolean is also represented as numeric value 0 or 1\r\n                compareAsNumericType(field, equals) : compareAsString(field, equals);\r\n            \r\n        }\r\n        \r\n        public static &lt;T&gt; Predicate&lt;T&gt; compareAsNumericType(Field field, String[] equals) {\r\n    \r\n            return t -&gt; {\r\n                try {\r\n                    return field.getDouble(t) == Double.parseDouble(equals[1].strip());\r\n                } catch (IllegalAccessException e) {\r\n                    e.printStackTrace();\r\n                    return false;\r\n                }\r\n            };\r\n        }\r\n    \r\n        public static &lt;T&gt; Predicate&lt;T&gt; compareAsString(Field field, String[] equals) {\r\n        \r\n            return t -&gt; {\r\n                try {\r\n                    return field.get(t).equals(equals[1].strip().replace(&quot;&#39;&quot;, &quot;&quot;));\r\n                } catch (IllegalAccessException e) {\r\n                    e.printStackTrace();\r\n                    return false;\r\n                }\r\n            };\r\n        }\r\n    }\r\n    \r\n    // TODO implement methods for retrieving other results\r\n\r\n//    public static &lt;T, R&gt; List&lt;R&gt; getAsList(String query, Stream&lt;T&gt; stream, Class&lt;T&gt; tClass) { // overloaded versions for primitive streams\r\n//\r\n//        StreamOperation&lt;T&gt; operation = StreamOperation.fromQuery(query, tClass);\r\n//\r\n//        return stream\r\n//            .filter(operation.getPredicate())\r\n//            .map(operation.getMapper()) // not implemented\r\n//            .toList();\r\n//    }\r\n}\r\n```\r\nA dummy class for testing:\r\n\r\n    public class A {\r\n        private int id;\r\n        private String name;\r\n\r\n        // getters, constructor\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        String query = &quot;SELECT count(*) as number_of_x from :myStream WHERE name = &#39;Alise&#39; AND id = 100&quot;;\r\n        \r\n        Stream&lt;A&gt; stream = Stream.of(\r\n            new A(100, &quot;Alise&quot;),\r\n            new A(90, &quot;Bob&quot;),\r\n            new A(100, &quot;Carol&quot;)\r\n        );\r\n        \r\n        System.out.println(QueryParser.getAsCount(query, stream, A.class));\r\n    }\r\n\r\n*Output:*\r\n```\r\n1\r\n```","title":"Write SQL-like queries for java streams","body":"<blockquote>\n<p>I have a stream of java objects and I would like to query them</p>\n</blockquote>\n<p>What you want is doesn't make a lot of sense.</p>\n<p>Streams are <strong>iterators</strong>, not <em>containers of data</em>. See the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">API documentation</a>:</p>\n<blockquote>\n<p>No storage. A <strong>stream is not a data structure</strong> that stores elements; instead, it conveys elements from a source such as a data structure, an array, a generator function, or an I/O channel, through a pipeline of computational operations.</p>\n</blockquote>\n<p>So the stream aren't a mean of storing data.</p>\n<p>And once the stream is consumed, it can't be used anymore. You can query a stream like a database.</p>\n<p>A stream is an internal iterator that can be executed only once.</p>\n<h1>Update</h1>\n<p>If you're interested in implementing a Parser for translating SQL-like queries into Predicates and Functions, which would be applied on a stream, then sure you can try. For very simple queries, it's definitely doable.</p>\n<p>But it's not a trivial task. A fully-fledged parser for handling simple queries (similar to the one that has been specified in the question) would require a lot of effort both to implement and to test. I doubt whether it would pay off.</p>\n<p>Here's a <strong>very, very dumb</strong> illustration which makes use of the Reflection API and regular expressions.</p>\n<p>The Demo-parser below is not capable of doing much, the proper implementation would be far more complex.</p>\n<pre><code>public class QueryParser {\n    \n    public static &lt;T&gt; long getAsCount(String query, Stream&lt;T&gt; stream, Class&lt;T&gt; tClass) { // overloaded versions for primitive streams\n        \n        StreamOperation&lt;T&gt; operation = StreamOperation.fromQuery(query, tClass);\n        \n        return stream\n            .filter(operation.getPredicate())\n            .count();\n    }\n\n    private static class StreamOperation&lt;T&gt; {\n        \n        public static final Pattern WHERE = Pattern.compile(&quot;(?&lt;=(?i)where).*?(?=(?i)group)|(?&lt;=(?i)where).*?(?=$)&quot;);\n        \n        private Predicate&lt;T&gt; predicate;\n        // more properties, constructor\n        \n        public static &lt;T&gt; StreamOperation&lt;T&gt; fromQuery(String query, Class&lt;T&gt; tClass) {\n            \n            Predicate&lt;T&gt; where = WHERE.matcher(query).results()\n                .map(MatchResult::group)\n                .findFirst()\n                .map(conditions -&gt; parseConditions(conditions, tClass))\n                .orElse(t -&gt; true);\n            \n            // working on other properties\n            \n            StreamOperation&lt;T&gt; so = new StreamOperation&lt;&gt;(where);\n            \n            return so;\n        }\n        \n        public Predicate&lt;T&gt; getPredicate() {\n            return predicate;\n        }\n        \n        public static &lt;T&gt; Predicate&lt;T&gt; parseConditions(String conditions, Class&lt;T&gt; tClass) {\n            \n            String[] or = conditions.split(&quot;(?i)or&quot;); // split by OR\n            \n            Predicate&lt;T&gt; orPredicate = t -&gt; false; // base predicate for OR\n            \n            for (String jointCondition: or) {\n                String[] and = jointCondition.split(&quot;(?i)and&quot;); // split by END\n                \n                Predicate&lt;T&gt; andPredicate = t -&gt; true; // base predicate for AND\n                \n                for (String condition: and) {\n                    Predicate&lt;T&gt; next = null;\n                    // parse each condition\n                    try {\n                        next = Conditions.parseCondition(condition, tClass);\n                    } catch (NoSuchFieldException e) {\n                        e.printStackTrace();\n                        throw new IllegalArgumentException(&quot;Invalid condition or type:\\n&quot;\n                            + condition + &quot; for Type &quot; + tClass.getCanonicalName());\n                    }\n                    andPredicate = andPredicate.and(next); // join conditions together using Predicate.end()\n                }\n                orPredicate = orPredicate.or(andPredicate); // join conditions together using Predicate.or()\n            }\n            \n            return orPredicate;\n        }\n    }\n    \n    private static class Conditions {\n        \n        public static &lt;T&gt; Predicate&lt;T&gt; parseCondition(String conditions, Class&lt;T&gt; tClass) throws NoSuchFieldException {\n            \n            // TO DO add logic for other conditions\n            // Logic equality comparison implemented for demo purposes\n            \n            String[] equals = conditions.split(&quot;=&quot;);\n            \n            Field field = tClass.getDeclaredField(equals[0].strip());\n            field.setAccessible(true);\n            \n            return field.getType().isPrimitive() ? // assumption that boolean is also represented as numeric value 0 or 1\n                compareAsNumericType(field, equals) : compareAsString(field, equals);\n            \n        }\n        \n        public static &lt;T&gt; Predicate&lt;T&gt; compareAsNumericType(Field field, String[] equals) {\n    \n            return t -&gt; {\n                try {\n                    return field.getDouble(t) == Double.parseDouble(equals[1].strip());\n                } catch (IllegalAccessException e) {\n                    e.printStackTrace();\n                    return false;\n                }\n            };\n        }\n    \n        public static &lt;T&gt; Predicate&lt;T&gt; compareAsString(Field field, String[] equals) {\n        \n            return t -&gt; {\n                try {\n                    return field.get(t).equals(equals[1].strip().replace(&quot;'&quot;, &quot;&quot;));\n                } catch (IllegalAccessException e) {\n                    e.printStackTrace();\n                    return false;\n                }\n            };\n        }\n    }\n    \n    // TODO implement methods for retrieving other results\n\n//    public static &lt;T, R&gt; List&lt;R&gt; getAsList(String query, Stream&lt;T&gt; stream, Class&lt;T&gt; tClass) { // overloaded versions for primitive streams\n//\n//        StreamOperation&lt;T&gt; operation = StreamOperation.fromQuery(query, tClass);\n//\n//        return stream\n//            .filter(operation.getPredicate())\n//            .map(operation.getMapper()) // not implemented\n//            .toList();\n//    }\n}\n</code></pre>\n<p>A dummy class for testing:</p>\n<pre><code>public class A {\n    private int id;\n    private String name;\n\n    // getters, constructor\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    String query = &quot;SELECT count(*) as number_of_x from :myStream WHERE name = 'Alise' AND id = 100&quot;;\n    \n    Stream&lt;A&gt; stream = Stream.of(\n        new A(100, &quot;Alise&quot;),\n        new A(90, &quot;Bob&quot;),\n        new A(100, &quot;Carol&quot;)\n    );\n    \n    System.out.println(QueryParser.getAsCount(query, stream, A.class));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>1\n</code></pre>\n"}],"owner":{"account_id":48879,"reputation":6617,"user_id":145359,"accept_rate":95,"display_name":"user"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":859,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74163684,"answer_count":1,"score":0,"last_activity_date":1666467555,"creation_date":1666441707,"question_id":74163561,"body_markdown":"I have a stream of java objects and I would like to query them using SQL-like syntax at a reasonable performance (comparable to querying a regular table without any indexes in an RDBMS, like a one-time full table scan).\r\n\r\nI like the Stream API map/filter/etc., but the query would also be an input, so I can&#39;t hard-code it in java.\r\n\r\nIs it possible to do this without inserting the incoming data into a &quot;real&quot; database (and then removing them later to save space)?  \r\nI was thinking about using an in-memory database like H2 or SQLite, but then I would still have to insert the data, and they really are not for streaming.\r\n\r\nAre there any existing libraries/solutions for something like I&#39;m trying to do?\r\n\r\n```\r\nclass A {\r\n    private String name;\r\n\r\n    /* ... */\r\n}\r\n```\r\n\r\n```\r\nStream&lt;A&gt; myStream /* = ... */ ;\r\n\r\nStream&lt;Integer&gt; result = query(myStream, &quot;select count(*) as number_of_x from :myStream where name = &#39;x&#39;&quot;,\r\n    (rs, i) -&gt; rs.getInt(&quot;number_of_x&quot;));\r\n\r\n/* result.toList() will contain one element at the end */\r\n```","title":"Write SQL-like queries for java streams","body":"<p>I have a stream of java objects and I would like to query them using SQL-like syntax at a reasonable performance (comparable to querying a regular table without any indexes in an RDBMS, like a one-time full table scan).</p>\n<p>I like the Stream API map/filter/etc., but the query would also be an input, so I can't hard-code it in java.</p>\n<p>Is it possible to do this without inserting the incoming data into a &quot;real&quot; database (and then removing them later to save space)?<br />\nI was thinking about using an in-memory database like H2 or SQLite, but then I would still have to insert the data, and they really are not for streaming.</p>\n<p>Are there any existing libraries/solutions for something like I'm trying to do?</p>\n<pre><code>class A {\n    private String name;\n\n    /* ... */\n}\n</code></pre>\n<pre><code>Stream&lt;A&gt; myStream /* = ... */ ;\n\nStream&lt;Integer&gt; result = query(myStream, &quot;select count(*) as number_of_x from :myStream where name = 'x'&quot;,\n    (rs, i) -&gt; rs.getInt(&quot;number_of_x&quot;));\n\n/* result.toList() will contain one element at the end */\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2501857,"reputation":1362,"user_id":2176734,"accept_rate":50,"display_name":"khurram"},"score":0,"creation_date":1412863941,"post_id":26280347,"comment_id":41233146,"body_markdown":"Check Spelling only or remove that permission and copy paste it again from deve site, error comes when we did spell mistakes. &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;    \n&lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt; Or check your manifest thoroughly. Good luck :)","body":"Check Spelling only or remove that permission and copy paste it again from deve site, error comes when we did spell mistakes. &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;     &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt; Or check your manifest thoroughly. Good luck :)"}],"answers":[{"comments":[{"owner":{"account_id":2339988,"reputation":1252,"user_id":2051503,"accept_rate":89,"display_name":"Boris Kuzevanov"},"score":0,"creation_date":1412863437,"post_id":26280494,"comment_id":41232800,"body_markdown":"what? explain please more detail","body":"what? explain please more detail"},{"owner":{"account_id":1644894,"reputation":1995,"user_id":1516596,"accept_rate":34,"display_name":"harikrishnan"},"score":0,"creation_date":1412863524,"post_id":26280494,"comment_id":41232868,"body_markdown":"add this in your manifest file\n&lt;user-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;","body":"add this in your manifest file &lt;user-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;"},{"owner":{"account_id":1644894,"reputation":1995,"user_id":1516596,"accept_rate":34,"display_name":"harikrishnan"},"score":0,"creation_date":1412864054,"post_id":26280494,"comment_id":41233222,"body_markdown":"i used only this permission..&lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;","body":"i used only this permission..&lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;"},{"owner":{"account_id":1644894,"reputation":1995,"user_id":1516596,"accept_rate":34,"display_name":"harikrishnan"},"score":0,"creation_date":1412864226,"post_id":26280494,"comment_id":41233326,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/62760/discussion-between-harikrishnan-and-user2051503).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/62760/discussion-between-harikrishnan-and-user2051503\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":1644894,"reputation":1995,"user_id":1516596,"accept_rate":34,"display_name":"harikrishnan"},"comment_count":4,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1412863829,"creation_date":1412863367,"answer_id":26280494,"question_id":26280347,"body_markdown":"when you change wifi state, this also need this.\r\n\r\ntry this.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\r\n\r\nAdd this list of permission in the AndroidManifest.xml:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt; \r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt; \r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot; /&gt; \r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt; \r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt; ","title":"Android user permission error (android.permission.ACCESS_WIFI_STATE)","body":"<p>when you change wifi state, this also need this.</p>\n\n<p>try this.</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\" /&gt;\n</code></pre>\n\n<p>Add this list of permission in the AndroidManifest.xml:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt; \n&lt;uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\" /&gt; \n&lt;uses-permission android:name=\"android.permission.CHANGE_NETWORK_STATE\" /&gt; \n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt; \n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt; \n</code></pre>\n"},{"comments":[{"owner":{"account_id":2339988,"reputation":1252,"user_id":2051503,"accept_rate":89,"display_name":"Boris Kuzevanov"},"score":0,"creation_date":1412864430,"post_id":26280818,"comment_id":41233456,"body_markdown":"Yep, you are right. I&#39;ve this permessions into &lt;application&lt;/application&gt;","body":"Yep, you are right. I&#39;ve this permessions into &lt;application&lt;/application&gt;"},{"owner":{"account_id":150227,"reputation":20754,"user_id":363262,"accept_rate":93,"display_name":"Juan Cort&#233;s"},"score":0,"creation_date":1412864471,"post_id":26280818,"comment_id":41233487,"body_markdown":"Glad you figured it out ;)","body":"Glad you figured it out ;)"}],"tags":[],"owner":{"account_id":150227,"reputation":20754,"user_id":363262,"accept_rate":93,"display_name":"Juan Cort&#233;s"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1412883355,"creation_date":1412864323,"answer_id":26280818,"question_id":26280347,"body_markdown":"Taking into account that you&#39;re using the right permission and the lines are syntactically correct, it&#39;s likely you&#39;ve **misplaced the permissions in your manifest**, if you have them somewhere else but the root of the manifest xml node, they will likely not work at all. They need to go **after** `&lt;manifest&gt;` **and before** `&lt;/manifest&gt;` but not inside `&lt;application&gt;` or `&lt;activity&gt;`\r\n\r\n    &lt;manifest xlmns:android...&gt;\r\n     &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n     &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n     ...YOUR APPLICATION &amp; ACTIVITY HERE...\r\n    &lt;/manifest&gt;\r\n\r\n*Note that the manifest tag was simplified for readability*\r\n\r\n[&amp;#x3C;uses-permission&amp;#x3E;][1]\r\n\r\n\r\n  [1]: http://developer.android.com/guide/topics/manifest/uses-permission-element.html","title":"Android user permission error (android.permission.ACCESS_WIFI_STATE)","body":"<p>Taking into account that you're using the right permission and the lines are syntactically correct, it's likely you've <strong>misplaced the permissions in your manifest</strong>, if you have them somewhere else but the root of the manifest xml node, they will likely not work at all. They need to go <strong>after</strong> <code>&lt;manifest&gt;</code> <strong>and before</strong> <code>&lt;/manifest&gt;</code> but not inside <code>&lt;application&gt;</code> or <code>&lt;activity&gt;</code></p>\n\n<pre><code>&lt;manifest xlmns:android...&gt;\n &lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n &lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt;\n ...YOUR APPLICATION &amp; ACTIVITY HERE...\n&lt;/manifest&gt;\n</code></pre>\n\n<p><em>Note that the manifest tag was simplified for readability</em></p>\n\n<p><a href=\"http://developer.android.com/guide/topics/manifest/uses-permission-element.html\" rel=\"nofollow\">&#x3C;uses-permission&#x3E;</a></p>\n"},{"tags":[],"owner":{"account_id":8839360,"reputation":1,"user_id":6602288,"display_name":"太平郭"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1471769168,"creation_date":1471769168,"answer_id":39062443,"question_id":26280347,"body_markdown":"add this in your AndroidManifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt; \r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt; \r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot; /&gt; \r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt; \r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\nit is Ok for me!","title":"Android user permission error (android.permission.ACCESS_WIFI_STATE)","body":"<p>add this in your AndroidManifest.xml</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt; \n&lt;uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\" /&gt; \n&lt;uses-permission android:name=\"android.permission.CHANGE_NETWORK_STATE\" /&gt; \n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt; \n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n</code></pre>\n\n<p>it is Ok for me!</p>\n"},{"tags":[],"owner":{"account_id":10132666,"reputation":1,"user_id":7485428,"display_name":"sunil kadam"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1486543857,"creation_date":1486538131,"answer_id":42106900,"question_id":26280347,"body_markdown":"    if(provider!=null &amp;&amp; !provider.equals(&quot;&quot;)){\r\n\r\n        // Get the location from the given provider\r\n        Location location = locationManager.getLastKnownLocation(provider);   // error (call require permission which may be rejected by user)\r\n\r\n        locationManager.requestLocationUpdates(provider, 20000, 1, this);\r\n\r\n        if(location!=null)\r\n            onLocationChanged(location);\r\n        else\r\n            Toast.makeText(getBaseContext(), &quot;Location can&#39;t be retrieved&quot;, Toast.LENGTH_SHORT).show();\r\n        }else{\r\n            Toast.makeText(getBaseContext(), &quot;No Provider Found&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n","title":"Android user permission error (android.permission.ACCESS_WIFI_STATE)","body":"<pre><code>if(provider!=null &amp;&amp; !provider.equals(\"\")){\n\n    // Get the location from the given provider\n    Location location = locationManager.getLastKnownLocation(provider);   // error (call require permission which may be rejected by user)\n\n    locationManager.requestLocationUpdates(provider, 20000, 1, this);\n\n    if(location!=null)\n        onLocationChanged(location);\n    else\n        Toast.makeText(getBaseContext(), \"Location can't be retrieved\", Toast.LENGTH_SHORT).show();\n    }else{\n        Toast.makeText(getBaseContext(), \"No Provider Found\", Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2339988,"reputation":1252,"user_id":2051503,"accept_rate":89,"display_name":"Boris Kuzevanov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5464,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26280818,"answer_count":4,"score":1,"last_activity_date":1666467222,"creation_date":1412863024,"question_id":26280347,"body_markdown":"I have an error :\r\n  \r\n\r\n    Caused by: java.lang.SecurityException: WifiService: Neither user 10132 nor current process has android.permission.ACCESS_WIFI_STATE.\r\n\r\nI try do get wifi name (ssid). I use this code:\r\n\r\n    WifiManager wifiManager = (WifiManager) getSystemService (Context.WIFI_SERVICE);\r\n    System.out.println(wifiManager.getConnectionInfo ().getSSID ());\r\nIn my manifest file i added this permission:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n\r\nWhat i do wrong? \r\n[This][1] and [this][2] doesn&#39;t work for me\r\nThanks \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8240561/security-exception-by-accessing-the-wifi-in-android\r\n  [2]: https://stackoverflow.com/questions/3531940/how-to-get-name-of-wifi-network-out-of-android-using-android-api\r\n\r\nMy full logcat:\r\n\r\n    10-09 16:08:23.705  31988-31988/com.example.android.navigationdrawerexample E/AndroidRuntime﹕ FATAL EXCEPTION: main\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.android.navigationdrawerexample/com.example.android.navigationdrawerexample.MainActivity}: java.lang.SecurityException: WifiService: Neither user 10132 nor current process has android.permission.ACCESS_WIFI_STATE.\r\n                at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2255)\r\n                at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2309)\r\n                at android.app.ActivityThread.access$700(ActivityThread.java:157)\r\n                at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1289)\r\n                at android.os.Handler.dispatchMessage(Handler.java:99)\r\n                at android.os.Looper.loop(Looper.java:176)\r\n                at android.app.ActivityThread.main(ActivityThread.java:5319)\r\n                at java.lang.reflect.Method.invokeNative(Native Method)\r\n                at java.lang.reflect.Method.invoke(Method.java:511)\r\n                at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1102)\r\n                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:869)\r\n                at dalvik.system.NativeStart.main(Native Method)\r\n         Caused by: java.lang.SecurityException: WifiService: Neither user 10132 nor current process has android.permission.ACCESS_WIFI_STATE.\r\n                at android.os.Parcel.readException(Parcel.java:1425)\r\n                at android.os.Parcel.readException(Parcel.java:1379)\r\n                at android.net.wifi.IWifiManager$Stub$Proxy.getConnectionInfo(IWifiManager.java:991)\r\n                at android.net.wifi.WifiManager.getConnectionInfo(WifiManager.java:976)\r\n                at com.example.android.navigationdrawerexample.MainActivity$PlanetFragment.onCreateView(MainActivity.java:261)\r\n                at android.app.Fragment.performCreateView(Fragment.java:1699)\r\n                at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:903)\r\n                at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:1075)\r\n                at android.app.BackStackRecord.run(BackStackRecord.java:682)\r\n                at android.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1455)\r\n                at android.app.Activity.performStart(Activity.java:5335)\r\n                at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2227)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2309)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.access$700(ActivityThread.java:157)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1289)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Handler.dispatchMessage(Handler.java:99)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Looper.loop(Looper.java:176)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.main(ActivityThread.java:5319)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invokeNative(Native Method)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invoke(Method.java:511)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1102)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:869)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at dalvik.system.NativeStart.main(Native Method)","title":"Android user permission error (android.permission.ACCESS_WIFI_STATE)","body":"<p>I have an error :</p>\n\n<pre><code>Caused by: java.lang.SecurityException: WifiService: Neither user 10132 nor current process has android.permission.ACCESS_WIFI_STATE.\n</code></pre>\n\n<p>I try do get wifi name (ssid). I use this code:</p>\n\n<pre><code>WifiManager wifiManager = (WifiManager) getSystemService (Context.WIFI_SERVICE);\nSystem.out.println(wifiManager.getConnectionInfo ().getSSID ());\n</code></pre>\n\n<p>In my manifest file i added this permission:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt;\n</code></pre>\n\n<p>What i do wrong? \n<a href=\"https://stackoverflow.com/questions/8240561/security-exception-by-accessing-the-wifi-in-android\">This</a> and <a href=\"https://stackoverflow.com/questions/3531940/how-to-get-name-of-wifi-network-out-of-android-using-android-api\">this</a> doesn't work for me\nThanks </p>\n\n<p>My full logcat:</p>\n\n<pre><code>10-09 16:08:23.705  31988-31988/com.example.android.navigationdrawerexample E/AndroidRuntime﹕ FATAL EXCEPTION: main\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.android.navigationdrawerexample/com.example.android.navigationdrawerexample.MainActivity}: java.lang.SecurityException: WifiService: Neither user 10132 nor current process has android.permission.ACCESS_WIFI_STATE.\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2255)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2309)\n            at android.app.ActivityThread.access$700(ActivityThread.java:157)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1289)\n            at android.os.Handler.dispatchMessage(Handler.java:99)\n            at android.os.Looper.loop(Looper.java:176)\n            at android.app.ActivityThread.main(ActivityThread.java:5319)\n            at java.lang.reflect.Method.invokeNative(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:511)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1102)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:869)\n            at dalvik.system.NativeStart.main(Native Method)\n     Caused by: java.lang.SecurityException: WifiService: Neither user 10132 nor current process has android.permission.ACCESS_WIFI_STATE.\n            at android.os.Parcel.readException(Parcel.java:1425)\n            at android.os.Parcel.readException(Parcel.java:1379)\n            at android.net.wifi.IWifiManager$Stub$Proxy.getConnectionInfo(IWifiManager.java:991)\n            at android.net.wifi.WifiManager.getConnectionInfo(WifiManager.java:976)\n            at com.example.android.navigationdrawerexample.MainActivity$PlanetFragment.onCreateView(MainActivity.java:261)\n            at android.app.Fragment.performCreateView(Fragment.java:1699)\n            at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:903)\n            at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:1075)\n            at android.app.BackStackRecord.run(BackStackRecord.java:682)\n            at android.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1455)\n            at android.app.Activity.performStart(Activity.java:5335)\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2227)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2309)\n            at android.app.ActivityThread.access$700(ActivityThread.java:157)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1289)\n            at android.os.Handler.dispatchMessage(Handler.java:99)\n            at android.os.Looper.loop(Looper.java:176)\n            at android.app.ActivityThread.main(ActivityThread.java:5319)\n            at java.lang.reflect.Method.invokeNative(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:511)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1102)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:869)\n            at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n"},{"tags":["java","multithreading","sockets","nio"],"comments":[{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1296673800,"post_id":4877292,"comment_id":5425390,"body_markdown":"A single thread for every client? Isn&#39;t that two threads per client, one for reading and one for writing? Otherwise you can&#39;t do anything as long as the thread is blocked in read().","body":"A single thread for every client? Isn&#39;t that two threads per client, one for reading and one for writing? Otherwise you can&#39;t do anything as long as the thread is blocked in read()."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1296689445,"post_id":4877292,"comment_id":5428801,"body_markdown":"@Sergey, write blocking is real culprit since it cannot be interrupted and in case of bad IO, the thread blocks until the OS decides that it&#39;s cool. Read thread can be managed w/ SO_TIMEOUT. So it&#39;s 2 threads per socket.","body":"@Sergey, write blocking is real culprit since it cannot be interrupted and in case of bad IO, the thread blocks until the OS decides that it&#39;s cool. Read thread can be managed w/ SO_TIMEOUT. So it&#39;s 2 threads per socket."},{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1296717506,"post_id":4877292,"comment_id":5431595,"body_markdown":"@bestsss, doesn&#39;t SO_TIMEOUT also affects write()? And if there&#39;s bad IO, usually the thread has nothing better to do than trying to write anyway.","body":"@bestsss, doesn&#39;t SO_TIMEOUT also affects write()? And if there&#39;s bad IO, usually the thread has nothing better to do than trying to write anyway."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1296720172,"post_id":4877292,"comment_id":5431983,"body_markdown":"@Sergey, no, it doesn&#39;t. There is no interrupt-write operations, even if there were, you still can&#39;t know how much was written. Such design really sucks vs arbitrary &#39;bad&#39; clients that read a few bytes per second. You can not even stop the threads during writing. With read threads you can even use available (but it can degrade performance for one more JNI call)","body":"@Sergey, no, it doesn&#39;t. There is no interrupt-write operations, even if there were, you still can&#39;t know how much was written. Such design really sucks vs arbitrary &#39;bad&#39; clients that read a few bytes per second. You can not even stop the threads during writing. With read threads you can even use available (but it can degrade performance for one more JNI call)"}],"answers":[{"tags":[],"owner":{"account_id":182101,"reputation":48239,"user_id":416564,"accept_rate":100,"display_name":"Johan Sj&#246;berg"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1296667185,"creation_date":1296665835,"answer_id":4877337,"question_id":4877292,"body_markdown":"There&#39;s nothing wrong with either approach. If you have limited clients the second option will suffice (and possibly even thrive based on a multicore architecture), otherwise it might be beneficial to let java.nio manage your resources. \r\n\r\n\r\nSee [this question](https://stackoverflow.com/questions/4864719/one-server-multiple-clients/4864897#4864897) on the same topic, as well as [this other](https://stackoverflow.com/questions/267306/java-net-versus-java-nio) post, or why not consider [this blog post](http://blog.uncommons.org/2008/09/03/avoid-nio-get-better-throughput/) which argues against using java.nio for most scenarios. ","title":"java.nio vs new thread for each socket","body":"<p>There's nothing wrong with either approach. If you have limited clients the second option will suffice (and possibly even thrive based on a multicore architecture), otherwise it might be beneficial to let java.nio manage your resources. </p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/4864719/one-server-multiple-clients/4864897#4864897\">this question</a> on the same topic, as well as <a href=\"https://stackoverflow.com/questions/267306/java-net-versus-java-nio\">this other</a> post, or why not consider <a href=\"http://blog.uncommons.org/2008/09/03/avoid-nio-get-better-throughput/\" rel=\"nofollow noreferrer\">this blog post</a> which argues against using java.nio for most scenarios. </p>\n"},{"comments":[{"owner":{"account_id":182101,"reputation":48239,"user_id":416564,"accept_rate":100,"display_name":"Johan Sj&#246;berg"},"score":1,"creation_date":1296668590,"post_id":4877654,"comment_id":5424188,"body_markdown":"`java.nio` [isn&#39;t necessarily more efficient](http://paultyma.blogspot.com/2008/03/writing-java-multithreaded-servers.html). Threads are cheap, besides you&#39;re not taking into account SMT.","body":"<code>java.nio</code> <a href=\"http://paultyma.blogspot.com/2008/03/writing-java-multithreaded-servers.html\" rel=\"nofollow noreferrer\">isn&#39;t necessarily more efficient</a>. Threads are cheap, besides you&#39;re not taking into account SMT."}],"tags":[],"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296667552,"creation_date":1296667552,"answer_id":4877654,"question_id":4877292,"body_markdown":"NIO is reasonable for performance, and should use no more than #cores threads, multiplicated by the IO factor of your application, where the IO factor is the percentage of your app waiting for disk IO to complete.\r\n\r\nThe reason is simple. When you have #cores worker, each worker is likely to be bound to a single cpu core and can unitilize it to its maximum. the more workers, the more context switches, and this is exactly what you don&#39;t want and why you use NIO in the first place.\r\n\r\nIf the workers have to wait for IO, they could handle other requests, so use some more workers than cores for full cpu utilization.\r\n\r\nIf you use threads, you get the following advantages:\r\n\r\n* you can store session information in ThreadLocals.\r\n* you don&#39;t have to manage the session information in other ways.\r\n","title":"java.nio vs new thread for each socket","body":"<p>NIO is reasonable for performance, and should use no more than #cores threads, multiplicated by the IO factor of your application, where the IO factor is the percentage of your app waiting for disk IO to complete.</p>\n\n<p>The reason is simple. When you have #cores worker, each worker is likely to be bound to a single cpu core and can unitilize it to its maximum. the more workers, the more context switches, and this is exactly what you don't want and why you use NIO in the first place.</p>\n\n<p>If the workers have to wait for IO, they could handle other requests, so use some more workers than cores for full cpu utilization.</p>\n\n<p>If you use threads, you get the following advantages:</p>\n\n<ul>\n<li>you can store session information in ThreadLocals.</li>\n<li>you don't have to manage the session information in other ways.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666467210,"creation_date":1296682915,"answer_id":4880196,"question_id":4877292,"body_markdown":"## Individual threads ##\r\n\r\n - You can use the simple InputStream/OutputStream (or Reader/Writer) API, and wrapping Streams around each other. In [my current project][1], I&#39;m using a stack of\r\n  - MessageFormatter, a custom formatting class\r\n  - PrintWriter\r\n  - OutputStreamWriter\r\n  - DebugOutputStream (custom class, which makes a copy for debugging purposes)\r\n  - DeflatorOutputStream (a custom subclass, in fact, which supports flushing)\r\n  - the OutputStream of a SSLSocket\r\n\r\n and the other way around on the receiving side. This is quite comfortable, since you only have to deal with the top layer in your program logic (the rest is mostly one constructor call each).\r\n - you need a new Thread (or even pair of threads, depending on architecture) for each connection.\r\n\r\n  (In my project I have a MessageParser-Thread for each connection, which then gives individual jobs to a ThreadPool, and these jobs then may write to one or several of the open connections, not only the one which spawned them. The writing is synchronized, of course.)\r\n\r\n - each thread needs quite a bit of stack space, which can be problematic if you are on a resource limited machine.\r\n\r\nIn the case of short-lived connections, you actually don&#39;t want a new thread for each connection, but only a new Runnable executed on a ThreadPool, since construction of new Threads takes a bit of time. (Note: With JDK 19, we can get cheap virtual threads. Use these instead, the thread pools are hidden in the background by the platform.)\r\n\r\n## nonblocking IO ##\r\n\r\n - if you have such a multi-layer architecture with multiple conversions, you have to arrange it all by yourself. It is possible:\r\n   - my MessageFormatter can write to a CharBuffer as well as to a Writer.\r\n   - for the Char-to-Byte-formatting, use CharsetEncoder/CharsetDecoder (transfers data between CharBuffer and ByteBuffer).\r\n   - for the compressing, I used wrapper classes around Deflater/Inflater, which transfers data between two ByteBuffers.\r\n   - for the encryption, I used a SSLEngine (one for each connection), which also uses ByteBuffers for input and output.\r\n   - Then, write to a SocketChannel (or in the other direction, read from it).\r\n\r\n Still, the management overhead is quite a hassle, as you must track where the data is. (I actually had a two pipelines for each connection, and one or two threads managing the data in all the pipelines, between this waiting on a Selector for new data on the sockets (or for new space there, in the outgoing case). (The actual processing after the parsing of the Messages still took place in spawned Runnables in a ThreadPool.)\r\n\r\n - You need only a small number of threads. This was actually the reason I tried to do this asynchronously. It worked (with the same synchronous client), but was way slower than my multi-thread solution, so I put this back until we run out of memory for too much threads. (Until now, there are not so much connections at the same time.)\r\n\r\n\r\n  [1]: http://www.fencing-game.de/","title":"java.nio vs new thread for each socket","body":"<h2>Individual threads</h2>\n<ul>\n<li>You can use the simple InputStream/OutputStream (or Reader/Writer) API, and wrapping Streams around each other. In <a href=\"http://www.fencing-game.de/\" rel=\"nofollow noreferrer\">my current project</a>, I'm using a stack of</li>\n<li>MessageFormatter, a custom formatting class</li>\n<li>PrintWriter</li>\n<li>OutputStreamWriter</li>\n<li>DebugOutputStream (custom class, which makes a copy for debugging purposes)</li>\n<li>DeflatorOutputStream (a custom subclass, in fact, which supports flushing)</li>\n<li>the OutputStream of a SSLSocket</li>\n</ul>\n<p>and the other way around on the receiving side. This is quite comfortable, since you only have to deal with the top layer in your program logic (the rest is mostly one constructor call each).</p>\n<ul>\n<li>you need a new Thread (or even pair of threads, depending on architecture) for each connection.</li>\n</ul>\n<p>(In my project I have a MessageParser-Thread for each connection, which then gives individual jobs to a ThreadPool, and these jobs then may write to one or several of the open connections, not only the one which spawned them. The writing is synchronized, of course.)</p>\n<ul>\n<li>each thread needs quite a bit of stack space, which can be problematic if you are on a resource limited machine.</li>\n</ul>\n<p>In the case of short-lived connections, you actually don't want a new thread for each connection, but only a new Runnable executed on a ThreadPool, since construction of new Threads takes a bit of time. (Note: With JDK 19, we can get cheap virtual threads. Use these instead, the thread pools are hidden in the background by the platform.)</p>\n<h2>nonblocking IO</h2>\n<ul>\n<li>if you have such a multi-layer architecture with multiple conversions, you have to arrange it all by yourself. It is possible:\n<ul>\n<li>my MessageFormatter can write to a CharBuffer as well as to a Writer.</li>\n<li>for the Char-to-Byte-formatting, use CharsetEncoder/CharsetDecoder (transfers data between CharBuffer and ByteBuffer).</li>\n<li>for the compressing, I used wrapper classes around Deflater/Inflater, which transfers data between two ByteBuffers.</li>\n<li>for the encryption, I used a SSLEngine (one for each connection), which also uses ByteBuffers for input and output.</li>\n<li>Then, write to a SocketChannel (or in the other direction, read from it).</li>\n</ul>\n</li>\n</ul>\n<p>Still, the management overhead is quite a hassle, as you must track where the data is. (I actually had a two pipelines for each connection, and one or two threads managing the data in all the pipelines, between this waiting on a Selector for new data on the sockets (or for new space there, in the outgoing case). (The actual processing after the parsing of the Messages still took place in spawned Runnables in a ThreadPool.)</p>\n<ul>\n<li>You need only a small number of threads. This was actually the reason I tried to do this asynchronously. It worked (with the same synchronous client), but was way slower than my multi-thread solution, so I put this back until we run out of memory for too much threads. (Until now, there are not so much connections at the same time.)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1296689272,"creation_date":1296689272,"answer_id":4881152,"question_id":4877292,"body_markdown":"NIO for the win and I can actually stop threads when I want to. Learning NIO is nowehere difficult, however using buffers properly is almost never explained anywhere. One of the reasons, I believe, people can&#39;t squeeze NIO for exrta benefits.\r\n\r\nOther parts of NIO is general inability of the most developers to code and use state machines, so they end up copying the buffers way too much.\r\n\r\n\r\n\r\n","title":"java.nio vs new thread for each socket","body":"<p>NIO for the win and I can actually stop threads when I want to. Learning NIO is nowehere difficult, however using buffers properly is almost never explained anywhere. One of the reasons, I believe, people can't squeeze NIO for exrta benefits.</p>\n\n<p>Other parts of NIO is general inability of the most developers to code and use state machines, so they end up copying the buffers way too much.</p>\n"},{"tags":[],"owner":{"account_id":291713,"reputation":8251,"user_id":594026,"accept_rate":100,"display_name":"Leon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1351586796,"creation_date":1296765605,"answer_id":4891470,"question_id":4877292,"body_markdown":"I tried [Apache MINA](http://mina.apache.org/), it is really really good. I strongly recommend it.","title":"java.nio vs new thread for each socket","body":"<p>I tried <a href=\"http://mina.apache.org/\" rel=\"nofollow\">Apache MINA</a>, it is really really good. I strongly recommend it.</p>\n"}],"owner":{"account_id":291713,"reputation":8251,"user_id":594026,"accept_rate":100,"display_name":"Leon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9070,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"closed_date":1349945366,"accepted_answer_id":4891470,"answer_count":5,"score":8,"last_activity_date":1666467210,"creation_date":1296665582,"question_id":4877292,"body_markdown":"I am developping a 1 to many server-client application, which is a small project.\r\n\r\nSince socket IO is blocking. I am looking for a solution for this.\r\n\r\nCould anyone tell me what is the good/bad for each of the 2 solutions?\r\n\r\n1. use java.nio\r\n2. new a single thread for every client that connected.\r\n\r\nThanks\r\n","title":"java.nio vs new thread for each socket","body":"<p>I am developping a 1 to many server-client application, which is a small project.</p>\n\n<p>Since socket IO is blocking. I am looking for a solution for this.</p>\n\n<p>Could anyone tell me what is the good/bad for each of the 2 solutions?</p>\n\n<ol>\n<li>use java.nio</li>\n<li>new a single thread for every client that connected.</li>\n</ol>\n\n<p>Thanks</p>\n"},{"tags":["java","json","spring","jackson","jackson-databind"],"comments":[{"owner":{"account_id":8198765,"reputation":1668,"user_id":6170711,"accept_rate":92,"display_name":"xMilos"},"score":0,"creation_date":1666464073,"post_id":74165949,"comment_id":130945274,"body_markdown":"I want to generate this as response. right now the number comes out as string as well. &quot;code&quot;: &quot;111&quot;.","body":"I want to generate this as response. right now the number comes out as string as well. &quot;code&quot;: &quot;111&quot;."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666466500,"creation_date":1666465214,"answer_id":74166359,"question_id":74165949,"body_markdown":"You can implement a custom serializer by extending abstract class [`JsonSerializer`](https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/JsonSerializer.html#method_summary), and provide it via `using` attribute of the [`@JsonSerialize`](https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/annotation/JsonSerialize.html) annotation, placed on the `code` field.\r\n\r\nTo discriminate between the cases when property can be represented as an `int` you can use a regular expression `&quot;\\\\d+&quot;`.\r\n\r\n*Example:*\r\n\r\n    public class Foo {\r\n        @JsonSerialize(using = StringToIntSerializer.class)\r\n        private String code;\r\n        // other fields\r\n        \r\n        // getter, setters, etc.\r\n    }\r\n    \r\n    public static class StringToIntSerializer extends JsonSerializer&lt;String&gt; {\r\n    \r\n        @Override\r\n        public void serialize(String value, JsonGenerator gen,\r\n                              SerializerProvider serializers) throws IOException {\r\n        \r\n            if (value.matches(&quot;\\\\d+&quot;)) gen.writeNumber(value);\r\n            else gen.writeString(value);\r\n        }\r\n    }","title":"Json - Serializing Property in the response as a Different Type","body":"<p>You can implement a custom serializer by extending abstract class <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/JsonSerializer.html#method_summary\" rel=\"nofollow noreferrer\"><code>JsonSerializer</code></a>, and provide it via <code>using</code> attribute of the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/annotation/JsonSerialize.html\" rel=\"nofollow noreferrer\"><code>@JsonSerialize</code></a> annotation, placed on the <code>code</code> field.</p>\n<p>To discriminate between the cases when property can be represented as an <code>int</code> you can use a regular expression <code>&quot;\\\\d+&quot;</code>.</p>\n<p><em>Example:</em></p>\n<pre><code>public class Foo {\n    @JsonSerialize(using = StringToIntSerializer.class)\n    private String code;\n    // other fields\n    \n    // getter, setters, etc.\n}\n\npublic static class StringToIntSerializer extends JsonSerializer&lt;String&gt; {\n\n    @Override\n    public void serialize(String value, JsonGenerator gen,\n                          SerializerProvider serializers) throws IOException {\n    \n        if (value.matches(&quot;\\\\d+&quot;)) gen.writeNumber(value);\n        else gen.writeString(value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8198765,"reputation":1668,"user_id":6170711,"accept_rate":92,"display_name":"xMilos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74166359,"answer_count":1,"score":1,"last_activity_date":1666466500,"creation_date":1666462105,"question_id":74165949,"body_markdown":"I have a `String` field in my POJO like this:\r\n\r\n```\r\nprivate String code; // code can be &quot;111&quot;, &quot;CD&quot;, &quot;XX&quot;, etc.\r\n```\r\nIs there some JSON annotation that would allow serializing this field as Number (i.e. `int`), but **only** if the property can be converted from `String` into `int`?\r\n\r\n*Example*\r\n\r\nIf code is number, expected response: \r\n```\r\n{\r\n    &quot;code&quot;: 111\r\n}\r\n```\r\nElse, if it is text:\r\n```\r\n{\r\n    &quot;code&quot;: &quot;CD&quot;\r\n}\r\n```\r\nRight now both come out as string &quot;111&quot;, &quot;CD&quot;, etc.","title":"Json - Serializing Property in the response as a Different Type","body":"<p>I have a <code>String</code> field in my POJO like this:</p>\n<pre><code>private String code; // code can be &quot;111&quot;, &quot;CD&quot;, &quot;XX&quot;, etc.\n</code></pre>\n<p>Is there some JSON annotation that would allow serializing this field as Number (i.e. <code>int</code>), but <strong>only</strong> if the property can be converted from <code>String</code> into <code>int</code>?</p>\n<p><em>Example</em></p>\n<p>If code is number, expected response:</p>\n<pre><code>{\n    &quot;code&quot;: 111\n}\n</code></pre>\n<p>Else, if it is text:</p>\n<pre><code>{\n    &quot;code&quot;: &quot;CD&quot;\n}\n</code></pre>\n<p>Right now both come out as string &quot;111&quot;, &quot;CD&quot;, etc.</p>\n"},{"tags":["java","performance","serialization","garbage-collection","out-of-memory"],"comments":[{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1381467822,"post_id":19310537,"comment_id":28600270,"body_markdown":"This is your code, right?  Count the number of objects created, and stop when the count reaches 100,000.","body":"This is your code, right?  Count the number of objects created, and stop when the count reaches 100,000."},{"owner":{"account_id":3390481,"reputation":318,"user_id":2845402,"display_name":"Asheesh Gupta"},"score":0,"creation_date":1381467880,"post_id":19310537,"comment_id":28600332,"body_markdown":"Try looking for these methods writeReplace() and readResolve() And check this link:\nhttp://www.jguru.com/faq/view.jsp?EID=44039","body":"Try looking for these methods writeReplace() and readResolve() And check this link: <a href=\"http://www.jguru.com/faq/view.jsp?EID=44039\" rel=\"nofollow noreferrer\">jguru.com/faq/view.jsp?EID=44039</a>"},{"owner":{"account_id":24810,"reputation":44154,"user_id":63309,"accept_rate":70,"display_name":"Tom"},"score":0,"creation_date":1381468004,"post_id":19310537,"comment_id":28600307,"body_markdown":"@Piro I do need the objects. Particularly, foo will convert them into a cvs format. I need every one of them, but cant afford to have each and every one of them in memory.","body":"@Piro I do need the objects. Particularly, foo will convert them into a cvs format. I need every one of them, but cant afford to have each and every one of them in memory."},{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1381468053,"post_id":19310537,"comment_id":28600321,"body_markdown":"Then you&#39;ll need to write them to a file... which is kinda back where you started.","body":"Then you&#39;ll need to write them to a file... which is kinda back where you started."},{"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"score":0,"creation_date":1381469314,"post_id":19310537,"comment_id":28600667,"body_markdown":"readResolve will not help, since it is working on created object. Only thing i can think of is to not serialize whole objects, just data, but it is almost as writing directly to csv.","body":"readResolve will not help, since it is working on created object. Only thing i can think of is to not serialize whole objects, just data, but it is almost as writing directly to csv."},{"owner":{"account_id":24810,"reputation":44154,"user_id":63309,"accept_rate":70,"display_name":"Tom"},"score":0,"creation_date":1381470560,"post_id":19310537,"comment_id":28601037,"body_markdown":"How about using a weak reference that is referenced until the `foo` method ends ?","body":"How about using a weak reference that is referenced until the <code>foo</code> method ends ?"}],"answers":[{"tags":[],"owner":{"account_id":3394888,"reputation":474,"user_id":2848773,"display_name":"Byron Lo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381472457,"creation_date":1381470643,"answer_id":19311115,"question_id":19310537,"body_markdown":"You can try creating a fixed-sized collection of PhantomReferences to each of the objects from the file.\r\n\r\nOnce the collection is full, you only read another object from the file if and only if an existing PhantomReference can be retrieved/removed (as a blocking call) from the ReferenceQueue, after which you remove it from the fixed-sized collection and allow another to be created.\r\n\r\nRemember to call &#39;clear()&#39; on the PhantomReference after you remove it from the ReferenceQueue.\r\n\r\nHope this helps!\r\n\r\nRefer to this document for more information regarding Phantom References: \r\nhttps://weblogs.java.net/blog/kcpeppe/archive/2011/09/29/mysterious-phantom-reference\r\n\r\nAnd Here:\r\nhttp://java.dzone.com/articles/finalization-and-phantom","title":"Is it possible to gain control on the amount of objects created when deserializing a file","body":"<p>You can try creating a fixed-sized collection of PhantomReferences to each of the objects from the file.</p>\n\n<p>Once the collection is full, you only read another object from the file if and only if an existing PhantomReference can be retrieved/removed (as a blocking call) from the ReferenceQueue, after which you remove it from the fixed-sized collection and allow another to be created.</p>\n\n<p>Remember to call 'clear()' on the PhantomReference after you remove it from the ReferenceQueue.</p>\n\n<p>Hope this helps!</p>\n\n<p>Refer to this document for more information regarding Phantom References: \n<a href=\"https://weblogs.java.net/blog/kcpeppe/archive/2011/09/29/mysterious-phantom-reference\" rel=\"nofollow\">https://weblogs.java.net/blog/kcpeppe/archive/2011/09/29/mysterious-phantom-reference</a></p>\n\n<p>And Here:\n<a href=\"http://java.dzone.com/articles/finalization-and-phantom\" rel=\"nofollow\">http://java.dzone.com/articles/finalization-and-phantom</a></p>\n"},{"comments":[{"owner":{"account_id":24810,"reputation":44154,"user_id":63309,"accept_rate":70,"display_name":"Tom"},"score":0,"creation_date":1381498703,"post_id":19311869,"comment_id":28615438,"body_markdown":"Could you please elaborate?","body":"Could you please elaborate?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1381531227,"post_id":19311869,"comment_id":28631520,"body_markdown":"Elaborate what, exactly?","body":"Elaborate what, exactly?"},{"owner":{"account_id":3328940,"reputation":13909,"user_id":2798291,"accept_rate":53,"display_name":"TwoThe"},"score":0,"creation_date":1381534434,"post_id":19311869,"comment_id":28632310,"body_markdown":"Why would the ObjectInputStream hold references indefinitely?","body":"Why would the ObjectInputStream hold references indefinitely?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1381534783,"post_id":19311869,"comment_id":28632396,"body_markdown":"Because of the handle system. If you serialize the same Object twice with no intervening reset(), it will serialize a handle for the second occurrence, and deserialization will produce one object, two references. This is essential for preserving potentially cyclic object graphs during serialization, which is one of Object Serialization&#39;s major advantages over its competitors. To implement that, the ObjectInputStream has to retain memory, until it encounters a reset in the stream, produced by ObjectOutputStream.reset(), whereupon it clears its memory.","body":"Because of the handle system. If you serialize the same Object twice with no intervening reset(), it will serialize a handle for the second occurrence, and deserialization will produce one object, two references. This is essential for preserving potentially cyclic object graphs during serialization, which is one of Object Serialization&#39;s major advantages over its competitors. To implement that, the ObjectInputStream has to retain memory, until it encounters a reset in the stream, produced by ObjectOutputStream.reset(), whereupon it clears its memory."},{"owner":{"account_id":24810,"reputation":44154,"user_id":63309,"accept_rate":70,"display_name":"Tom"},"score":0,"creation_date":1381546773,"post_id":19311869,"comment_id":28634470,"body_markdown":"@EJP Thanks for your answer. A couple of doubts.\n1) reset() will only free retained memory if objects are written with writeObject() right? Seems unnecesary if they are written with writeUnshared().\n2) Should `readUnshared()` be used to read from the serialized file without retaining memory?\n3) Any reason for OptionalDataExceptions? Can`t pinpoint the cause, but they appear when reading.","body":"@EJP Thanks for your answer. A couple of doubts. 1) reset() will only free retained memory if objects are written with writeObject() right? Seems unnecesary if they are written with writeUnshared(). 2) Should <code>readUnshared()</code> be used to read from the serialized file without retaining memory? 3) Any reason for OptionalDataExceptions? Can`t pinpoint the cause, but they appear when reading."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1381562214,"post_id":19311869,"comment_id":28637048,"body_markdown":"reset() frees everything. writeUnshared() writes the object itself without sharing, but any referenced objects are still shared. OptionalDataException could indicate something wrong with a custom readObject()/writeObject() pair in one of your classes.","body":"reset() frees everything. writeUnshared() writes the object itself without sharing, but any referenced objects are still shared. OptionalDataException could indicate something wrong with a custom readObject()/writeObject() pair in one of your classes."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":6,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1381534285,"creation_date":1381473981,"answer_id":19311869,"question_id":19310537,"body_markdown":"None of the suggested comments or answers so far will work (most of them are also unnecessary), because the `ObjectInputStream` itself holds a reference to every object it has ever deserialized, for preservation of object graphs.\r\n\r\nYou need to constrain how much data is *written* to the file, so you don&#39;t have to handle 100,000 objects per file, and if possible you should also make use of `ObjectOutputStream.reset()` or `ObjectOutputStream.writeUnshared()`, for the reasons described in their respective Javadoc comments.","title":"Is it possible to gain control on the amount of objects created when deserializing a file","body":"<p>None of the suggested comments or answers so far will work (most of them are also unnecessary), because the <code>ObjectInputStream</code> itself holds a reference to every object it has ever deserialized, for preservation of object graphs.</p>\n\n<p>You need to constrain how much data is <em>written</em> to the file, so you don't have to handle 100,000 objects per file, and if possible you should also make use of <code>ObjectOutputStream.reset()</code> or <code>ObjectOutputStream.writeUnshared()</code>, for the reasons described in their respective Javadoc comments.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1381531179,"post_id":19327324,"comment_id":28631508,"body_markdown":"That doesn&#39;t follow at all. The object is still the object. What&#39;s in the file isn&#39;t retained in memory, and doesn&#39;t affect the size of the object in memory either.","body":"That doesn&#39;t follow at all. The object is still the object. What&#39;s in the file isn&#39;t retained in memory, and doesn&#39;t affect the size of the object in memory either."},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":0,"creation_date":1381532540,"post_id":19327324,"comment_id":28631885,"body_markdown":"The inefficient serialized Java stuff need be read to somewhere which  is GC-collected memory. Yes, the resulting memory consumption is the same, because it&#39;s being GC-freed in the end, but in the middle the load is much higher. Unneeded memory allocation must be the most significant factor for why the built-in deserialization is [36x times slower](https://github.com/eishay/jvm-serializers/wiki) than Kryo.","body":"The inefficient serialized Java stuff need be read to somewhere which  is GC-collected memory. Yes, the resulting memory consumption is the same, because it&#39;s being GC-freed in the end, but in the middle the load is much higher. Unneeded memory allocation must be the most significant factor for why the built-in deserialization is <a href=\"https://github.com/eishay/jvm-serializers/wiki\" rel=\"nofollow noreferrer\">36x times slower</a> than Kryo."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1381534149,"post_id":19327324,"comment_id":28632246,"body_markdown":"&#39;In the middle the load is much higher&#39; why? You read some bytes from a stream, create an object, and throw the bytes away. Repeat 100,000 times. The total memory consumption is then the space occupies by the 100,000 objects. The fact that the bytes are 1/5 the size doesn&#39;t reduce the total memory consumption by 80% as you claimed. The speed improvement you refer to is far more likely to come from reduced I/O than this alleged reduced memory consumption.","body":"&#39;In the middle the load is much higher&#39; why? You read some bytes from a stream, create an object, and throw the bytes away. Repeat 100,000 times. The total memory consumption is then the space occupies by the 100,000 objects. The fact that the bytes are 1/5 the size doesn&#39;t reduce the total memory consumption by 80% as you claimed. The speed improvement you refer to is far more likely to come from reduced I/O than this alleged reduced memory consumption."},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":0,"creation_date":1381534841,"post_id":19327324,"comment_id":28632412,"body_markdown":"This was my very guess - if the size is only 5-7 times greater, then why is speed the 30x slower? Because of unnecessary buffer copying? Reflection instead of Unsafe usage? My bet is on small object allocations and I&#39;ll setup an experiment tomorrow. :-)","body":"This was my very guess - if the size is only 5-7 times greater, then why is speed the 30x slower? Because of unnecessary buffer copying? Reflection instead of Unsafe usage? My bet is on small object allocations and I&#39;ll setup an experiment tomorrow. :-)"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1381535506,"post_id":19327324,"comment_id":28632551,"body_markdown":"I&#39;m not concerned about that. I&#39;m concerned about the error in your answer where you claim the memory is reduced by 80% because the disk size is reduced by 80%. It doesn&#39;t make sense, and it isn&#39;t so.","body":"I&#39;m not concerned about that. I&#39;m concerned about the error in your answer where you claim the memory is reduced by 80% because the disk size is reduced by 80%. It doesn&#39;t make sense, and it isn&#39;t so."},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":0,"creation_date":1381535805,"post_id":19327324,"comment_id":28632614,"body_markdown":"Well, strictly speaking this statement is not always true, but it&#39;s the case, I presume.","body":"Well, strictly speaking this statement is not always true, but it&#39;s the case, I presume."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1381562426,"post_id":19327324,"comment_id":28637089,"body_markdown":"No it isn&#39;t. You still have 100,000 deserialized objects,whose size doesn&#39;t change. The memory consumed by the bytes read per object to deserialize each one is GC-able after each object is deserialized, and cannot therefore be responsible for an 80% memory savings. You haven&#39;t addressed this point. I can&#39;t make head or tail of your edit. DataInputStream isn&#39;t a memory eater.","body":"No it isn&#39;t. You still have 100,000 deserialized objects,whose size doesn&#39;t change. The memory consumed by the bytes read per object to deserialize each one is GC-able after each object is deserialized, and cannot therefore be responsible for an 80% memory savings. You haven&#39;t addressed this point. I can&#39;t make head or tail of your edit. DataInputStream isn&#39;t a memory eater."},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":0,"creation_date":1381563253,"post_id":19327324,"comment_id":28637268,"body_markdown":"I didn&#39;t and this was not the problem for the topic starter. The problem was with many objects allocated during deser. Anyway, updated to be more precise.","body":"I didn&#39;t and this was not the problem for the topic starter. The problem was with many objects allocated during deser. Anyway, updated to be more precise."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1381622059,"post_id":19327324,"comment_id":28652207,"body_markdown":"It isn&#39;t &#39;more precise&#39;. It is still exactly the same as before. The size of a serialized object has no effect on the size of the resulting deserialized object. What comes out of the deserialization must be the same as what goes into the serialization. Your assertion of a 5x memory saving is complete fantasy.","body":"It isn&#39;t &#39;more precise&#39;. It is still exactly the same as before. The size of a serialized object has no effect on the size of the resulting deserialized object. What comes out of the deserialization must be the same as what goes into the serialization. Your assertion of a 5x memory saving is complete fantasy."},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":0,"creation_date":1381655720,"post_id":19327324,"comment_id":28657532,"body_markdown":"It&#39;s not a &#39;memory saving&#39; measurement, it&#39;s the memory allocation measurement I&#39;m talking about and it&#39;s what the TS was concerned about. So the algorithm or framework can be almost GC friendly like Kryo/Disruptor/Mentaqueue or it&#39;s performance can suffer from too many memory allocations like `ObjectInputStream` or `LinkedBlockingQueue`. Usually this is achieved by reusing already allocated objects - i.e. object pools or cyclic buffers.","body":"It&#39;s not a &#39;memory saving&#39; measurement, it&#39;s the memory allocation measurement I&#39;m talking about and it&#39;s what the TS was concerned about. So the algorithm or framework can be almost GC friendly like Kryo/Disruptor/Mentaqueue or it&#39;s performance can suffer from too many memory allocations like <code>ObjectInputStream</code> or <code>LinkedBlockingQueue</code>. Usually this is achieved by reusing already allocated objects - i.e. object pools or cyclic buffers."}],"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"comment_count":10,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1381563138,"creation_date":1381525829,"answer_id":19327324,"question_id":19310537,"body_markdown":"As I understand, EJP proposed to regenerate your input files using `writeUnshared` technique instead of `writeObject` to make object available for GC during reading. If it&#39;s about regenerating original content, then may be you could switch to some other serializer like [Kryo][1]? \r\n\r\n&gt; Java&#39;s built-in serialization is slow, inefficient, and has many well-known problems (see Effective Java, by Josh Bloch pp. 213).\r\n\r\nTheir promised serialized object size is 5x smaller than standard Java&#39;s, so memory consumption should be at least 5x smaller, I think.\r\n\r\n**EDIT**\r\n\r\nBetter wording: 5x-7x heavier serialized objects most probably mean that `ObjectInputStream` is a memory eater, e.g. uses too much for the job, though frees that memory in the end.\r\n\r\n  [1]: https://code.google.com/p/kryo/wiki/V1Benchmarks","title":"Is it possible to gain control on the amount of objects created when deserializing a file","body":"<p>As I understand, EJP proposed to regenerate your input files using <code>writeUnshared</code> technique instead of <code>writeObject</code> to make object available for GC during reading. If it's about regenerating original content, then may be you could switch to some other serializer like <a href=\"https://code.google.com/p/kryo/wiki/V1Benchmarks\" rel=\"nofollow\">Kryo</a>? </p>\n\n<blockquote>\n  <p>Java's built-in serialization is slow, inefficient, and has many well-known problems (see Effective Java, by Josh Bloch pp. 213).</p>\n</blockquote>\n\n<p>Their promised serialized object size is 5x smaller than standard Java's, so memory consumption should be at least 5x smaller, I think.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Better wording: 5x-7x heavier serialized objects most probably mean that <code>ObjectInputStream</code> is a memory eater, e.g. uses too much for the job, though frees that memory in the end.</p>\n"},{"tags":[],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381530707,"creation_date":1381530707,"answer_id":19328265,"question_id":19310537,"body_markdown":"I guess you also have some influence on the design of the program that wrote those serialized objects. Isn&#39;t this kind of problem suggesting that the Java serialization format is not a good fit for your problem?  Perhaps you should write and read the objects in some other format, which allows you to discard old objects as garbage during processing of the stream?","title":"Is it possible to gain control on the amount of objects created when deserializing a file","body":"<p>I guess you also have some influence on the design of the program that wrote those serialized objects. Isn't this kind of problem suggesting that the Java serialization format is not a good fit for your problem?  Perhaps you should write and read the objects in some other format, which allows you to discard old objects as garbage during processing of the stream?</p>\n"},{"tags":[],"owner":{"account_id":3328940,"reputation":13909,"user_id":2798291,"accept_rate":53,"display_name":"TwoThe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381534870,"creation_date":1381534870,"answer_id":19328842,"question_id":19310537,"body_markdown":"If you have to read Objects, you have to create Objects, there is little you can do about this. Changing your code to `foo(ois.readObject());` gives the compiler a hint that it doesn&#39;t need to store the reference, but still Objects are created.\r\n\r\nThat leaves you two options:\r\n\r\n1. You trust the Garbage Collector to be highly efficient and well designed.\r\n2. You change your underlying data structure to not store Objects, but design it in a form that completely relies on primitive data types.","title":"Is it possible to gain control on the amount of objects created when deserializing a file","body":"<p>If you have to read Objects, you have to create Objects, there is little you can do about this. Changing your code to <code>foo(ois.readObject());</code> gives the compiler a hint that it doesn't need to store the reference, but still Objects are created.</p>\n\n<p>That leaves you two options:</p>\n\n<ol>\n<li>You trust the Garbage Collector to be highly efficient and well designed.</li>\n<li>You change your underlying data structure to not store Objects, but design it in a form that completely relies on primitive data types.</li>\n</ol>\n"}],"owner":{"account_id":24810,"reputation":44154,"user_id":63309,"accept_rate":70,"display_name":"Tom"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1666465676,"creation_date":1381467565,"question_id":19310537,"body_markdown":"Suppose I have a file with a lot (most likely 100K+, potentially millions) of serialized objects of the same class. I read these objects and do something with them:\r\n\r\n    //open stream\r\n    try{ \r\n        while(true) {\r\n            Object o = ois.readObject();\r\n            foo(o);\r\n        }\r\n    }catch(EOFException){\r\n    }\r\n    //close stream...\r\n\r\nWhen this is done, a very uncomfortably large amount of objects have been created. My problem is that I don&#39;t have control of those objects, and they won&#39;t be freed until the GC decides to do it.\r\n\r\nIs there a way to put an upper limit on the amount of new objects created? For example, if my file has 100K serialized objects, is there a way to tweak the readObject mechanism so that a fixed size pool is used?\r\n\r\n# More Details\r\n\r\nThe ~100K object file is the merged result of many smaller files. What this small process is doing, is to create a sorted CSV file.\r\n","title":"Is it possible to gain control on the amount of objects created when deserializing a file","body":"<p>Suppose I have a file with a lot (most likely 100K+, potentially millions) of serialized objects of the same class. I read these objects and do something with them:</p>\n<pre><code>//open stream\ntry{ \n    while(true) {\n        Object o = ois.readObject();\n        foo(o);\n    }\n}catch(EOFException){\n}\n//close stream...\n</code></pre>\n<p>When this is done, a very uncomfortably large amount of objects have been created. My problem is that I don't have control of those objects, and they won't be freed until the GC decides to do it.</p>\n<p>Is there a way to put an upper limit on the amount of new objects created? For example, if my file has 100K serialized objects, is there a way to tweak the readObject mechanism so that a fixed size pool is used?</p>\n<h1>More Details</h1>\n<p>The ~100K object file is the merged result of many smaller files. What this small process is doing, is to create a sorted CSV file.</p>\n"},{"tags":["java","spring","intellij-idea","bazel"],"answers":[{"tags":[],"owner":{"account_id":4505233,"reputation":43,"user_id":3662772,"display_name":"m4tta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666465623,"creation_date":1666465623,"answer_id":74166400,"question_id":74165599,"body_markdown":"Was missing \r\n\r\n`load(&quot;@contrib_rules_jvm//java:defs.bzl&quot;, &quot;java_junit5_test&quot;)`\r\n\r\nin my BUILD file.","title":"Issues loading bazel rule from remote achieve","body":"<p>Was missing</p>\n<p><code>load(&quot;@contrib_rules_jvm//java:defs.bzl&quot;, &quot;java_junit5_test&quot;)</code></p>\n<p>in my BUILD file.</p>\n"}],"owner":{"account_id":4505233,"reputation":43,"user_id":3662772,"display_name":"m4tta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666465623,"creation_date":1666459204,"question_id":74165599,"body_markdown":"So I am trying to learn Bazel by setting up a barebones spring project. Newest spring boot 5 uses JUnit5. Bazel only natively runs JUnit 4. I find this repo [https://github.com/bazel-contrib/rules\\_jvm](https://github.com/bazel-contrib/rules_jvm) that has a drop in replacement for &quot;java_test&quot; it. I believe I set it up as the repo describes...\r\n\r\n    load(&quot;@bazel_tools//tools/build_defs/repo:http.bzl&quot;, &quot;http_archive&quot;)\r\n    \r\n    http_archive(\r\n        name = &quot;contrib_rules_jvm&quot;,\r\n        sha256 = &quot;59af045d288ad3e2d9000b1cddb1135f889d798830f7106a4792cc95427bcd99&quot;,\r\n        strip_prefix = &quot;rules_jvm-0.7.0&quot;,\r\n        url = &quot;https://github.com/bazel-contrib/rules_jvm/archive/refs/tags/v0.7.0.zip&quot;,\r\n    )\r\n    \r\n    # Fetches the contrib_rules_jvm dependencies.\r\n    # If you want to have a different version of some dependency,\r\n    # you should fetch it *before* calling this.\r\n    load(&quot;@contrib_rules_jvm//:repositories.bzl&quot;, &quot;contrib_rules_jvm_deps&quot;)\r\n    \r\n    contrib_rules_jvm_deps()\r\n    \r\n    # Now ensure that the downloaded deps are properly configured\r\n    load(&quot;@contrib_rules_jvm//:setup.bzl&quot;, &quot;contrib_rules_jvm_setup&quot;)\r\n    \r\n    contrib_rules_jvm_setup()\r\n\r\nAdding this to my WORKSPACE file. As the top of the README says, and the lease page specifies. But when I attempt to use the new rule \\`\r\n\r\n    java_junit5_test()\r\n\r\nIt say it is not defined. Is there some special thing you need to do to reload a WORKSPACE file? I am using intelliJ with the bazel plugin. I also have the &quot;maven\\_install&quot; stuff all setup and working in the WORKSPACE file and it&#39;s pulling those packages just fine.","title":"Issues loading bazel rule from remote achieve","body":"<p>So I am trying to learn Bazel by setting up a barebones spring project. Newest spring boot 5 uses JUnit5. Bazel only natively runs JUnit 4. I find this repo <a href=\"https://github.com/bazel-contrib/rules_jvm\" rel=\"nofollow noreferrer\">https://github.com/bazel-contrib/rules_jvm</a> that has a drop in replacement for &quot;java_test&quot; it. I believe I set it up as the repo describes...</p>\n<pre><code>load(&quot;@bazel_tools//tools/build_defs/repo:http.bzl&quot;, &quot;http_archive&quot;)\n\nhttp_archive(\n    name = &quot;contrib_rules_jvm&quot;,\n    sha256 = &quot;59af045d288ad3e2d9000b1cddb1135f889d798830f7106a4792cc95427bcd99&quot;,\n    strip_prefix = &quot;rules_jvm-0.7.0&quot;,\n    url = &quot;https://github.com/bazel-contrib/rules_jvm/archive/refs/tags/v0.7.0.zip&quot;,\n)\n\n# Fetches the contrib_rules_jvm dependencies.\n# If you want to have a different version of some dependency,\n# you should fetch it *before* calling this.\nload(&quot;@contrib_rules_jvm//:repositories.bzl&quot;, &quot;contrib_rules_jvm_deps&quot;)\n\ncontrib_rules_jvm_deps()\n\n# Now ensure that the downloaded deps are properly configured\nload(&quot;@contrib_rules_jvm//:setup.bzl&quot;, &quot;contrib_rules_jvm_setup&quot;)\n\ncontrib_rules_jvm_setup()\n</code></pre>\n<p>Adding this to my WORKSPACE file. As the top of the README says, and the lease page specifies. But when I attempt to use the new rule `</p>\n<pre><code>java_junit5_test()\n</code></pre>\n<p>It say it is not defined. Is there some special thing you need to do to reload a WORKSPACE file? I am using intelliJ with the bazel plugin. I also have the &quot;maven_install&quot; stuff all setup and working in the WORKSPACE file and it's pulling those packages just fine.</p>\n"},{"tags":["java","solr","lucene"],"comments":[{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":6,"creation_date":1364565176,"post_id":15704644,"comment_id":22302137,"body_markdown":"Doesn&#39;t http://lucene.apache.org/solr/ (and the equivalent page for Lucene) answer that?","body":"Doesn&#39;t <a href=\"http://lucene.apache.org/solr/\" rel=\"nofollow noreferrer\">lucene.apache.org/solr</a> (and the equivalent page for Lucene) answer that?"},{"owner":{"account_id":1338400,"reputation":8872,"user_id":1280608,"accept_rate":89,"display_name":"darkheir"},"score":1,"creation_date":1364565586,"post_id":15704644,"comment_id":22302355,"body_markdown":"Yeah you&#39;re right, the solr features page clarify the difference. Si If I understand I could use Lucene alone, but Solr need Lucene to work.","body":"Yeah you&#39;re right, the solr features page clarify the difference. Si If I understand I could use Lucene alone, but Solr need Lucene to work."},{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":2,"creation_date":1451305416,"post_id":15704644,"comment_id":56728539,"body_markdown":"Unlike Lucene, Solr is a web application (WAR) which can be deployed in any servlet container, e.g. Jetty, Tomcat, Resin, etc. Solr can be installed and used by non-programmers. Lucene cannot. More on http://www.lucenetutorial.com/lucene-vs-solr.html","body":"Unlike Lucene, Solr is a web application (WAR) which can be deployed in any servlet container, e.g. Jetty, Tomcat, Resin, etc. Solr can be installed and used by non-programmers. Lucene cannot. More on <a href=\"http://www.lucenetutorial.com/lucene-vs-solr.html\" rel=\"nofollow noreferrer\">lucenetutorial.com/lucene-vs-solr.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"comment_count":0,"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1364571552,"creation_date":1364571552,"answer_id":15706440,"question_id":15704644,"body_markdown":"Lucene is a low level Java library (with ports to .NET, etc.) which implements indexing, analyzing, searching, etc.\r\n\r\nSolr is a standalone pre-configured product/webapp which uses Lucene. If you prefer dealing with HTTP API instead of Java API, Solr is for you. Solr has also got some extra features on top (e.g. [grouping](http://wiki.apache.org/solr/FieldCollapsing)).","title":"Difference between solr and lucene","body":"<p>Lucene is a low level Java library (with ports to .NET, etc.) which implements indexing, analyzing, searching, etc.</p>\n\n<p>Solr is a standalone pre-configured product/webapp which uses Lucene. If you prefer dealing with HTTP API instead of Java API, Solr is for you. Solr has also got some extra features on top (e.g. <a href=\"http://wiki.apache.org/solr/FieldCollapsing\" rel=\"noreferrer\">grouping</a>).</p>\n"},{"tags":[],"owner":{"account_id":1690821,"reputation":5357,"user_id":1553203,"accept_rate":54,"display_name":"phanin"},"comment_count":0,"down_vote_count":2,"up_vote_count":254,"is_accepted":true,"score":252,"last_activity_date":1625613186,"creation_date":1364572153,"answer_id":15706624,"question_id":15704644,"body_markdown":"***@darkheir: Lucene and Solr are 2 differents Apache projects that are made to work together, I don&#39;t understand what is the aim of each project.***\r\n\r\n1) Solr uses Lucene under the hood. Lucene has no clue about the Solr API.\r\n\r\n2) Lucene is a powerful search engine framework that lets us add search capability to our application. It exposes an easy-to-use API while hiding all the search-related complex operations. Any application can use this library, not just Solr.\r\n\r\n3) Solr is built around Lucene. It is not just an http-wrapper around Lucene but [has been known to **add more arsenal to Lucene**][1] (archived). Solr is ready-to-use out of box. It is a web application that offers related infrastructure and a lot more features in addition to what Lucene offers.\r\n\r\n\r\n***@darkheir: Lucene is used to create a search index and Solr use this index to perform searches. Am I right or is this a totally different approach?***\r\n\r\n\r\n4) **Lucene doesn&#39;t just create the Index for the consumption by Solr**. Lucene handles all the search related operations. Any application can use the Lucene framework. \r\n  \r\n   Examples are Solr, Elastic Search, LinkedIn (yes, under the hood), etc..\r\n\r\nCheck out this article: [Lucene vs Solr][2]\r\n\r\n\r\n**UPDATE (6/18/14)**\r\n\r\n**When to use Lucene?**\r\n\r\n - You are a search engineer AND\r\n - You are a programmer AND\r\n - You want full control over almost all the internals of Lucene AND\r\n - Your requirements demand you to do all sorts of geeky customization to Lucene AND\r\n - You are willing to take care of infrastructure elements of your search like scaling, distribution, etc.\r\n\r\n**When to use Solr?**\r\n\r\n - At least one of the above didn&#39;t make sense. OR\r\n - You want something that is ready to use out-of-the-box (even without knowledge of Java) OR\r\n - Your infrastructure requirements outweigh search customization requirements. \r\n \r\n**NOTE**: \r\nI don&#39;t mean that Solr is hard to customize. Solr is very flexible and provides a lot of pluggable API points, allowing you to throw-in your code. \r\n\r\nThere are people, falling under &#39;*have to use Lucene*&#39; camp, but still prefer Solr to plain Lucene as it&#39;s easy to use. However, they never restrain themselves from customizing Solr to the maximum extent. \r\n\r\nBTW, I see that there are more resources on Solr (4.x) than Lucene (4.x).\r\n\r\n\r\n  [1]: https://web.archive.org/web/20140625111518/http://heliosearch.org/lucene-solr-history/\r\n  [2]: http://www.lucenetutorial.com/lucene-vs-solr.html","title":"Difference between solr and lucene","body":"<p><em><strong>@darkheir: Lucene and Solr are 2 differents Apache projects that are made to work together, I don't understand what is the aim of each project.</strong></em></p>\n<ol>\n<li><p>Solr uses Lucene under the hood. Lucene has no clue about the Solr API.</p>\n</li>\n<li><p>Lucene is a powerful search engine framework that lets us add search capability to our application. It exposes an easy-to-use API while hiding all the search-related complex operations. Any application can use this library, not just Solr.</p>\n</li>\n<li><p>Solr is built around Lucene. It is not just an http-wrapper around Lucene but <a href=\"https://web.archive.org/web/20140625111518/http://heliosearch.org/lucene-solr-history/\" rel=\"noreferrer\">has been known to <strong>add more arsenal to Lucene</strong></a> (archived). Solr is ready-to-use out of box. It is a web application that offers related infrastructure and a lot more features in addition to what Lucene offers.</p>\n</li>\n</ol>\n<p><em><strong>@darkheir: Lucene is used to create a search index and Solr use this index to perform searches. Am I right or is this a totally different approach?</strong></em></p>\n<ol start=\"4\">\n<li><p><strong>Lucene doesn't just create the Index for the consumption by Solr</strong>. Lucene handles all the search related operations. Any application can use the Lucene framework.</p>\n<p>Examples are Solr, Elastic Search, LinkedIn (yes, under the hood), etc..</p>\n</li>\n</ol>\n<p>Check out this article: <a href=\"http://www.lucenetutorial.com/lucene-vs-solr.html\" rel=\"noreferrer\">Lucene vs Solr</a></p>\n<p><strong>UPDATE (6/18/14)</strong></p>\n<p><strong>When to use Lucene?</strong></p>\n<ul>\n<li>You are a search engineer AND</li>\n<li>You are a programmer AND</li>\n<li>You want full control over almost all the internals of Lucene AND</li>\n<li>Your requirements demand you to do all sorts of geeky customization to Lucene AND</li>\n<li>You are willing to take care of infrastructure elements of your search like scaling, distribution, etc.</li>\n</ul>\n<p><strong>When to use Solr?</strong></p>\n<ul>\n<li>At least one of the above didn't make sense. OR</li>\n<li>You want something that is ready to use out-of-the-box (even without knowledge of Java) OR</li>\n<li>Your infrastructure requirements outweigh search customization requirements.</li>\n</ul>\n<p><strong>NOTE</strong>:\nI don't mean that Solr is hard to customize. Solr is very flexible and provides a lot of pluggable API points, allowing you to throw-in your code.</p>\n<p>There are people, falling under '<em>have to use Lucene</em>' camp, but still prefer Solr to plain Lucene as it's easy to use. However, they never restrain themselves from customizing Solr to the maximum extent.</p>\n<p>BTW, I see that there are more resources on Solr (4.x) than Lucene (4.x).</p>\n"},{"comments":[{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":7,"creation_date":1451304749,"post_id":24286290,"comment_id":56728221,"body_markdown":"Which is copy-pasted from http://www.lucenetutorial.com/lucene-vs-solr.html Please mention the source whenever you copy paste answer quoting the source. ;)","body":"Which is copy-pasted from <a href=\"http://www.lucenetutorial.com/lucene-vs-solr.html\" rel=\"nofollow noreferrer\">lucenetutorial.com/lucene-vs-solr.html</a> Please mention the source whenever you copy paste answer quoting the source. ;)"},{"owner":{"account_id":3085559,"reputation":699,"user_id":2612773,"accept_rate":100,"display_name":"dev_feed"},"score":1,"creation_date":1465474231,"post_id":24286290,"comment_id":62922372,"body_markdown":"Page seems to be offline now.","body":"Page seems to be offline now."}],"tags":[],"owner":{"account_id":2263043,"reputation":1693,"user_id":1992579,"display_name":"Vikas Kumar"},"comment_count":2,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1451304970,"creation_date":1403096436,"answer_id":24286290,"question_id":15704644,"body_markdown":"&gt; A simple way to conceptualize the relationship between Solr and Lucene\r\n&gt; is that of a car and its engine. You can&#39;t drive an engine, but you\r\n&gt; can drive a car. Similarly, Lucene is a programmatic library which you\r\n&gt; can&#39;t use as-is, whereas Solr is a complete application which you can\r\n&gt; use out-of-box.\r\n\r\nSource: [Lucene-vs-solr - Lucene Tutorial][1] \r\n\r\n\r\n  [1]: http://www.lucenetutorial.com/lucene-vs-solr.html","title":"Difference between solr and lucene","body":"<blockquote>\n  <p>A simple way to conceptualize the relationship between Solr and Lucene\n  is that of a car and its engine. You can't drive an engine, but you\n  can drive a car. Similarly, Lucene is a programmatic library which you\n  can't use as-is, whereas Solr is a complete application which you can\n  use out-of-box.</p>\n</blockquote>\n\n<p>Source: <a href=\"http://www.lucenetutorial.com/lucene-vs-solr.html\" rel=\"noreferrer\">Lucene-vs-solr - Lucene Tutorial</a> </p>\n"},{"comments":[{"owner":{"account_id":97341,"reputation":398,"user_id":264079,"display_name":"hintss"},"score":3,"creation_date":1494255207,"post_id":39144741,"comment_id":74737370,"body_markdown":"Not to mention that if you were so inclined, you *could* build your own car using the Lucene engine.","body":"Not to mention that if you were so inclined, you <i>could</i> build your own car using the Lucene engine."}],"tags":[],"owner":{"account_id":2153395,"reputation":546,"user_id":1909138,"accept_rate":17,"display_name":"Behzad Qureshi"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1472126409,"creation_date":1472126409,"answer_id":39144741,"question_id":15704644,"body_markdown":"SOLR is a **wrapper** over Lucene index.\r\n\r\nIt is simple to understand: \r\nSOLR is **car** and Lucene is its **engine**. You just need to know how to drive car (SOLR) and also need to know few things of engine (Lucene) in case if there will be any issue in your car engine.\r\n\r\nHave a safe drive :)","title":"Difference between solr and lucene","body":"<p>SOLR is a <strong>wrapper</strong> over Lucene index.</p>\n\n<p>It is simple to understand: \nSOLR is <strong>car</strong> and Lucene is its <strong>engine</strong>. You just need to know how to drive car (SOLR) and also need to know few things of engine (Lucene) in case if there will be any issue in your car engine.</p>\n\n<p>Have a safe drive :)</p>\n"},{"tags":[],"owner":{"account_id":4394915,"reputation":671,"user_id":3582289,"display_name":"mingxue"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1478880357,"creation_date":1478880357,"answer_id":40551847,"question_id":15704644,"body_markdown":"**Solr is built on top of lucene to provide a search platform.**\r\n\r\n\r\nSearch platform in the following layers from bottom to top:\r\n\r\n* Data\r\n  * Purpose: Represent various data types and sources\r\n* Document building\r\n  * Purpose: Build document information for indexing\r\n* Indexing and searching\r\n  * Purpose: Build and query a document index\r\n* Logic enhancement\r\n  * Purpose: Additional logic for processing search queries and results\r\n* Search platform service\r\n  * Purpose: Add additional functionalities of search engine core to provide a service platform.\r\n* UI application\r\n  * Purpose: End-user search interface or applications\r\n\r\n\r\n![solr stack](https://manmustbecool.github.io/MyWiki/papers/solrStack.png)\r\n\r\nReference article : [Enterprise search](http://manmustbecool.github.io/MyWiki/papers/Enterprise%20search%20with%20development%20for%20network%20management%20system.pdf)\r\n","title":"Difference between solr and lucene","body":"<p><strong>Solr is built on top of lucene to provide a search platform.</strong></p>\n\n<p>Search platform in the following layers from bottom to top:</p>\n\n<ul>\n<li>Data\n\n<ul>\n<li>Purpose: Represent various data types and sources</li>\n</ul></li>\n<li>Document building\n\n<ul>\n<li>Purpose: Build document information for indexing</li>\n</ul></li>\n<li>Indexing and searching\n\n<ul>\n<li>Purpose: Build and query a document index</li>\n</ul></li>\n<li>Logic enhancement\n\n<ul>\n<li>Purpose: Additional logic for processing search queries and results</li>\n</ul></li>\n<li>Search platform service\n\n<ul>\n<li>Purpose: Add additional functionalities of search engine core to provide a service platform.</li>\n</ul></li>\n<li>UI application\n\n<ul>\n<li>Purpose: End-user search interface or applications</li>\n</ul></li>\n</ul>\n\n<p><img src=\"https://manmustbecool.github.io/MyWiki/papers/solrStack.png\" alt=\"solr stack\"></p>\n\n<p>Reference article : <a href=\"http://manmustbecool.github.io/MyWiki/papers/Enterprise%20search%20with%20development%20for%20network%20management%20system.pdf\" rel=\"noreferrer\">Enterprise search</a></p>\n"},{"tags":[],"owner":{"account_id":1361823,"reputation":752,"user_id":1299034,"accept_rate":65,"display_name":"Martin Abraham"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504595107,"creation_date":1504595107,"answer_id":46048864,"question_id":15704644,"body_markdown":"You can find a good comparison about the purpose of lucence and solar here:\r\n\r\nhttp://www.lucenetutorial.com/lucene-vs-solr.html\r\n\r\nTLDR: Lucence is just the engine, Solar is the car you can drive (equipped with rest-api etc.)","title":"Difference between solr and lucene","body":"<p>You can find a good comparison about the purpose of lucence and solar here:</p>\n\n<p><a href=\"http://www.lucenetutorial.com/lucene-vs-solr.html\" rel=\"nofollow noreferrer\">http://www.lucenetutorial.com/lucene-vs-solr.html</a></p>\n\n<p>TLDR: Lucence is just the engine, Solar is the car you can drive (equipped with rest-api etc.)</p>\n"},{"tags":[],"owner":{"account_id":2368449,"reputation":216,"user_id":2073658,"display_name":"Rafal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585158425,"creation_date":1585158425,"answer_id":60854470,"question_id":15704644,"body_markdown":"You can imagine it the following way - Apache Lucene is the library that is used internally by the Apache Solr. It is written in Java and provides amazing full-text search and indexing capabilities. It can analyze a large number of languages from all over the world and prepare the text in such languages to efficient and fast search and analysis. Lucene is a library - you could use it directly in your application and implement everything yourself, but the Apache Solr provides a lot out of the box.\r\n\r\nApache Solr search engine provides things like HTTP APIs that you can use to send data to them and later search on that data. You can control the search engines using the API, create distributed environments and automatically distribute the data across multiple nodes and many, many more.","title":"Difference between solr and lucene","body":"<p>You can imagine it the following way - Apache Lucene is the library that is used internally by the Apache Solr. It is written in Java and provides amazing full-text search and indexing capabilities. It can analyze a large number of languages from all over the world and prepare the text in such languages to efficient and fast search and analysis. Lucene is a library - you could use it directly in your application and implement everything yourself, but the Apache Solr provides a lot out of the box.</p>\n\n<p>Apache Solr search engine provides things like HTTP APIs that you can use to send data to them and later search on that data. You can control the search engines using the API, create distributed environments and automatically distribute the data across multiple nodes and many, many more.</p>\n"},{"tags":[],"owner":{"account_id":11544448,"reputation":347,"user_id":8459014,"display_name":"Dimanshu Parihar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666465411,"creation_date":1638019744,"answer_id":70135212,"question_id":15704644,"body_markdown":"**Apache Lucene is the vanilla version** for the search engine while **Apache Solr is inheriting Lucene** with new inbuilt features which Apache Lucene don&#39;t provide out of the box.\r\n\r\nYou can consume Apache Solr flavour rather than using Apache Lucene to save your resources and manual efforts.","title":"Difference between solr and lucene","body":"<p><strong>Apache Lucene is the vanilla version</strong> for the search engine while <strong>Apache Solr is inheriting Lucene</strong> with new inbuilt features which Apache Lucene don't provide out of the box.</p>\n<p>You can consume Apache Solr flavour rather than using Apache Lucene to save your resources and manual efforts.</p>\n"}],"owner":{"account_id":1338400,"reputation":8872,"user_id":1280608,"accept_rate":89,"display_name":"darkheir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81167,"favorite_count":0,"down_vote_count":1,"up_vote_count":188,"accepted_answer_id":15706624,"answer_count":8,"score":187,"last_activity_date":1666465411,"creation_date":1364565060,"question_id":15704644,"body_markdown":"I know that Lucene and Solr are 2 differents [Apache projects][1] that are made to work together, but I don&#39;t understand what is the aim of each project.\r\n\r\nFor what I understood until now is that Lucene is used to create a search index and Solr use this index to perform searches.\r\nAm I right or is this a totally different approach?\r\n\r\n\r\n  [1]: http://lucene.apache.org/","title":"Difference between solr and lucene","body":"<p>I know that Lucene and Solr are 2 differents <a href=\"http://lucene.apache.org/\" rel=\"noreferrer\">Apache projects</a> that are made to work together, but I don't understand what is the aim of each project.</p>\n<p>For what I understood until now is that Lucene is used to create a search index and Solr use this index to perform searches.\nAm I right or is this a totally different approach?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":2,"creation_date":1666454270,"post_id":74164999,"comment_id":130943112,"body_markdown":"`int[][]` by itself does not create and initialize a 2D array of `int`. `int[][] array = new int[10][10];`, for example, does (filling it with the desired values is left as an exercise for the reader). And then you can use `array`, or however you call your array, as a parameter.","body":"<code>int[][]</code> by itself does not create and initialize a 2D array of <code>int</code>. <code>int[][] array = new int[10][10];</code>, for example, does (filling it with the desired values is left as an exercise for the reader). And then you can use <code>array</code>, or however you call your array, as a parameter."},{"owner":{"account_id":26337897,"reputation":9,"user_id":19997478,"display_name":"turtlered9"},"score":0,"creation_date":1666455476,"post_id":74164999,"comment_id":130943388,"body_markdown":"Okay i believe i see what you mean. I created two example arrays and instead of what i had i changed it to  new ThreadOperation(matrix1,matrix2,Quadrants.TopLeft);","body":"Okay i believe i see what you mean. I created two example arrays and instead of what i had i changed it to  new ThreadOperation(matrix1,matrix2,Quadrants.TopLeft);"},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1666544339,"post_id":74164999,"comment_id":130957290,"body_markdown":"With the modification, do you still get an error?","body":"With the modification, do you still get an error?"}],"answers":[{"tags":[],"owner":{"account_id":5196039,"reputation":187,"user_id":4157304,"display_name":"Ankur Saxena"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666464913,"creation_date":1666464913,"answer_id":74166334,"question_id":74164999,"body_markdown":"check this out , you would need to initialise :-\r\n```\r\npublic class Operation {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int [][]a = new int[2][2];\r\n        int [][]b = new int[3][3];\r\n        TestMe testMe = new TestMe(a,b,Month.January);\r\n    }\r\n}\r\nclass TestMe {\r\n    int [][] a;\r\n    int [][] b;\r\n    Month month;\r\n\r\n    public TestMe(int[][] a, int[][] b, Month month) {\r\n        this.a = a;\r\n        this.b = b;\r\n        this.month = month;\r\n    }\r\n}\r\n\r\nenum Month {\r\n    January\r\n}\r\n```","title":"How would i instantiate and pass a 2d array to a method?","body":"<p>check this out , you would need to initialise :-</p>\n<pre><code>public class Operation {\n\n    public static void main(String[] args) {\n\n        int [][]a = new int[2][2];\n        int [][]b = new int[3][3];\n        TestMe testMe = new TestMe(a,b,Month.January);\n    }\n}\nclass TestMe {\n    int [][] a;\n    int [][] b;\n    Month month;\n\n    public TestMe(int[][] a, int[][] b, Month month) {\n        this.a = a;\n        this.b = b;\n        this.month = month;\n    }\n}\n\nenum Month {\n    January\n}\n</code></pre>\n"}],"owner":{"account_id":26337897,"reputation":9,"user_id":19997478,"display_name":"turtlered9"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666464913,"creation_date":1666454133,"question_id":74164999,"body_markdown":"So in my code i have a constructor that is supposed to take two 2d arrays and a enum of a quadrant i already have set up. I have set up my constructor like this.\r\n\r\n\r\n```\r\npublic ThreadOperation(int[][] a, int[][] b, Quadrants x){\r\n\t\r\n\t}\r\n```\r\nI have instantiated a new object that looks like this\r\n\r\n```\r\nThreadOperation T1 = new ThreadOperation(int[][],int[][],Quadrants.TopLeft);\r\n```\r\ni keep getting the error error: &#39;.class&#39; expected.\r\nIm new to programming so i guess im just having trouble trying to figure out how to pass the two 2d arrays over to the constructor without giving me an error. These are just placeholders so i can compile.","title":"How would i instantiate and pass a 2d array to a method?","body":"<p>So in my code i have a constructor that is supposed to take two 2d arrays and a enum of a quadrant i already have set up. I have set up my constructor like this.</p>\n<pre><code>public ThreadOperation(int[][] a, int[][] b, Quadrants x){\n    \n    }\n</code></pre>\n<p>I have instantiated a new object that looks like this</p>\n<pre><code>ThreadOperation T1 = new ThreadOperation(int[][],int[][],Quadrants.TopLeft);\n</code></pre>\n<p>i keep getting the error error: '.class' expected.\nIm new to programming so i guess im just having trouble trying to figure out how to pass the two 2d arrays over to the constructor without giving me an error. These are just placeholders so i can compile.</p>\n"},{"tags":["java","exception"],"answers":[{"tags":[],"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1666464624,"creation_date":1413903489,"answer_id":26489819,"question_id":26489786,"body_markdown":"The rule is that exceptions which extends `RuntimeException` do not need to be caught.\r\n\r\n`NumberFormatException` extends `IllegalArgumentException` which extends `RuntimeException`.\r\n\r\nFrom the [Oracle documentation][1] : \r\n\r\n&gt;Runtime exceptions can occur anywhere in a program, and in a typical one they can be very numerous. Having to add runtime exceptions in every method declaration would reduce a program&#39;s clarity. Thus, the compiler does not require that you catch or specify runtime exceptions (although you can).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html","title":"Why can some Java exceptions be left unhandled?","body":"<p>The rule is that exceptions which extends <code>RuntimeException</code> do not need to be caught.</p>\n<p><code>NumberFormatException</code> extends <code>IllegalArgumentException</code> which extends <code>RuntimeException</code>.</p>\n<p>From the <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html\" rel=\"nofollow noreferrer\">Oracle documentation</a> :</p>\n<blockquote>\n<p>Runtime exceptions can occur anywhere in a program, and in a typical one they can be very numerous. Having to add runtime exceptions in every method declaration would reduce a program's clarity. Thus, the compiler does not require that you catch or specify runtime exceptions (although you can).</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":941886,"reputation":2346,"user_id":969833,"accept_rate":100,"display_name":"Kevin Sadler"},"score":0,"creation_date":1413926572,"post_id":26489838,"comment_id":41626218,"body_markdown":"Nathan, thanks for a great answer I am sorry I cannot choose more than one. You mention NullPointerException and I can see that if we had to catch every possible one it would, as Amaud quotes, &quot;reduce the program&#39;s clarity&quot;.","body":"Nathan, thanks for a great answer I am sorry I cannot choose more than one. You mention NullPointerException and I can see that if we had to catch every possible one it would, as Amaud quotes, &quot;reduce the program&#39;s clarity&quot;."}],"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1413906215,"creation_date":1413903549,"answer_id":26489838,"question_id":26489786,"body_markdown":"*Everything* gets handled eventually. If you don&#39;t catch it then when the exception escapes the main method the JVM will catch it and write it to stderr. \r\n\r\nSome exceptions, like NullPointerExceptions and NumberFormatExceptions, are unchecked, which means the programmer isn&#39;t required to catch them. You couldn&#39;t require every possible NullPointerException to get caught, and adding them to method signatures would be pointless.\r\n\r\nLike the NullPointerException, the NumberFormatException is the result of a programmer error, it means you made a bad assumption about your input to the parse method. In some cases it isn&#39;t clear why some exceptions are checked and others aren&#39;t.\r\n\r\nExceptions that are unchecked tend to be unrecoverable. They may indicate some external resource went down or they may indicate a programmer error; something went so wrong there&#39;s no point proceeding, the best thing to do is cancel the current work, fall back to a safe spot, and regroup. [Here&#39;s an explanation of a rationale for how to handle exceptions.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25811675/217324","title":"Why can some Java exceptions be left unhandled?","body":"<p><em>Everything</em> gets handled eventually. If you don't catch it then when the exception escapes the main method the JVM will catch it and write it to stderr. </p>\n\n<p>Some exceptions, like NullPointerExceptions and NumberFormatExceptions, are unchecked, which means the programmer isn't required to catch them. You couldn't require every possible NullPointerException to get caught, and adding them to method signatures would be pointless.</p>\n\n<p>Like the NullPointerException, the NumberFormatException is the result of a programmer error, it means you made a bad assumption about your input to the parse method. In some cases it isn't clear why some exceptions are checked and others aren't.</p>\n\n<p>Exceptions that are unchecked tend to be unrecoverable. They may indicate some external resource went down or they may indicate a programmer error; something went so wrong there's no point proceeding, the best thing to do is cancel the current work, fall back to a safe spot, and regroup. <a href=\"https://stackoverflow.com/a/25811675/217324\">Here's an explanation of a rationale for how to handle exceptions.</a></p>\n"}],"owner":{"account_id":941886,"reputation":2346,"user_id":969833,"accept_rate":100,"display_name":"Kevin Sadler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26489819,"answer_count":2,"score":1,"last_activity_date":1666464624,"creation_date":1413903413,"question_id":26489786,"body_markdown":"    \tpublic static void main(String[] args) {\r\n\t\tFile file = new File(&quot;foobar&quot;);\t\r\n\t\tfile.createNewFile();\r\n\t\t\r\n\t\tString baz = &quot;baz&quot;;\t\t\r\n\t\tint myInt = Integer.parseInt(baz);\r\n\t}\r\n\r\nIn this code the IDE or compiler would complain that there is an unhandled exception thrown by createNewFile() and we would need to catch it to allow the code to compile.\r\n\r\nHowever parseInt() also throws an exception, NumberFormatException, but we are not required to catch it, though it seems that it would be a good idea. Why are we not required to catch that exception?","title":"Why can some Java exceptions be left unhandled?","body":"<pre><code>    public static void main(String[] args) {\n    File file = new File(\"foobar\"); \n    file.createNewFile();\n\n    String baz = \"baz\";     \n    int myInt = Integer.parseInt(baz);\n}\n</code></pre>\n\n<p>In this code the IDE or compiler would complain that there is an unhandled exception thrown by createNewFile() and we would need to catch it to allow the code to compile.</p>\n\n<p>However parseInt() also throws an exception, NumberFormatException, but we are not required to catch it, though it seems that it would be a good idea. Why are we not required to catch that exception?</p>\n"},{"tags":["java","spring-boot","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":20740671,"reputation":25,"user_id":15817109,"display_name":"Carlos Borges"},"score":0,"creation_date":1666472546,"post_id":74166267,"comment_id":130946796,"body_markdown":"Just deleted the application properties and rebuild it again and works fine..\nThanks Nitish, this solution fixed my bug...","body":"Just deleted the application properties and rebuild it again and works fine.. Thanks Nitish, this solution fixed my bug..."}],"tags":[],"owner":{"account_id":16870790,"reputation":26,"user_id":12199323,"display_name":"Nitish Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666464488,"creation_date":1666464488,"answer_id":74166267,"question_id":74159620,"body_markdown":"Can you try to remove your target folder(Also try invalidating the cache if this doesn&#39;t work) from the project and try rebuilding again? Sometimes Intellij doesn&#39;t pick the changes in application.properties.","title":"I&#39;m not able to disable the flyway in the application properties using the intellij","body":"<p>Can you try to remove your target folder(Also try invalidating the cache if this doesn't work) from the project and try rebuilding again? Sometimes Intellij doesn't pick the changes in application.properties.</p>\n"}],"owner":{"account_id":20740671,"reputation":25,"user_id":15817109,"display_name":"Carlos Borges"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74166267,"answer_count":1,"score":0,"last_activity_date":1666464488,"creation_date":1666390441,"question_id":74159620,"body_markdown":"I&#39;m using the spring boot to connect a postgreSQL database and when I run the application using Intellij it return me a error message\r\nDescription:\r\n\r\nFlyway failed to initialize: none of the following migration scripts locations could be found:\r\n\r\n\t- classpath:db/migration/postgresql\r\n\r\nThe research done in stackoverflow suggested me to disable the flyway in the application properties like showed below.\r\n\r\n```\r\n###################################################################################\r\n# DB Migration - automatically execute SQL scripts\r\n###################################################################################\r\ncn.app.datasource-populate.enabled=false\r\nspring.flyway.enabled=false\r\nspring.flyway.locations=classpath:db/migration/{vendor}\r\nspring.flyway.table=${spring.application.name}_schema_version\r\nspring.flyway.baseline-on-migrate=true\r\nspring.flyway.baseline-version=0\r\nspring.sql.init.mode=always\r\n#spring.jpa.hibernate.ddl-auto=none\r\n```\r\nI have changed the line ```spring.flyway.enable``` from true to false but strangely when I run the application in intellij it automatically turn to true and do not fix the error.\r\nDoes anyone know why it is happening?\r\n  ","title":"I&#39;m not able to disable the flyway in the application properties using the intellij","body":"<p>I'm using the spring boot to connect a postgreSQL database and when I run the application using Intellij it return me a error message\nDescription:</p>\n<p>Flyway failed to initialize: none of the following migration scripts locations could be found:</p>\n<pre><code>- classpath:db/migration/postgresql\n</code></pre>\n<p>The research done in stackoverflow suggested me to disable the flyway in the application properties like showed below.</p>\n<pre><code>###################################################################################\n# DB Migration - automatically execute SQL scripts\n###################################################################################\ncn.app.datasource-populate.enabled=false\nspring.flyway.enabled=false\nspring.flyway.locations=classpath:db/migration/{vendor}\nspring.flyway.table=${spring.application.name}_schema_version\nspring.flyway.baseline-on-migrate=true\nspring.flyway.baseline-version=0\nspring.sql.init.mode=always\n#spring.jpa.hibernate.ddl-auto=none\n</code></pre>\n<p>I have changed the line <code>spring.flyway.enable</code> from true to false but strangely when I run the application in intellij it automatically turn to true and do not fix the error.\nDoes anyone know why it is happening?</p>\n"},{"tags":["java","spring-mvc","mockito","junit5","spring-boot-test"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666074319,"post_id":74062412,"comment_id":130842756,"body_markdown":"Not an answer, but might be helpful: https://stackoverflow.com/questions/74027324/why-is-my-class-not-calling-my-mocked-methods-in-unit-test. Perhaps you can redesign your classes to be better testable?","body":"Not an answer, but might be helpful: <a href=\"https://stackoverflow.com/questions/74027324/why-is-my-class-not-calling-my-mocked-methods-in-unit-test\" title=\"why is my class not calling my mocked methods in unit test\">stackoverflow.com/questions/74027324/&hellip;</a>. Perhaps you can redesign your classes to be better testable?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666480428,"post_id":74062412,"comment_id":130947930,"body_markdown":"After the edits, this is definitely a dupe of https://stackoverflow.com/questions/74027324/why-is-my-class-not-calling-my-mocked-methods-in-unit-test","body":"After the edits, this is definitely a dupe of <a href=\"https://stackoverflow.com/questions/74027324/why-is-my-class-not-calling-my-mocked-methods-in-unit-test\" title=\"why is my class not calling my mocked methods in unit test\">stackoverflow.com/questions/74027324/&hellip;</a>"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1683648409,"post_id":74062412,"comment_id":134397438,"body_markdown":"Does this answer your question? [Why are my mocked methods not called when executing a unit test?](https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\">Why are my mocked methods not called when executing a unit test?</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1683734721,"post_id":74062412,"comment_id":134413316,"body_markdown":"Please provide a [mre].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":13508220,"reputation":259,"user_id":9745488,"display_name":"Oxnard"},"score":0,"creation_date":1665768197,"post_id":74062489,"comment_id":130783015,"body_markdown":"looking at it I see your point, will edit the question and try and make it a bit clearer.","body":"looking at it I see your point, will edit the question and try and make it a bit clearer."}],"tags":[],"owner":{"account_id":16380562,"reputation":882,"user_id":11831707,"display_name":"ekalin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665700375,"creation_date":1665700375,"answer_id":74062489,"question_id":74062412,"body_markdown":"The object you create on line\r\n```java\r\nAuthor authorMock = new Author();\r\n```\r\n\r\nis different than the one created in the `getBooksByAuthor()` function. A debugger should show you that.\r\n\r\nYou can use `mock.constructed().get(0)` to get the object created in `getBooksByAuthor()`, but by the time you can do this, `getBooksByAuthor()` has already finished and you can&#39;t do much with that mock.\r\n\r\nIt&#39;s not exactly clear what your objective is. I guess you want to check that the `Author` object is created in a certain way, and the lines involving `getFullName()` aren&#39;t part of the actual code, just something you added to experiment, because they don&#39;t do anything.\r\n\r\nIf you want to verity that the object passed to `dataAccessService` satisfies some conditions, what you need is an `ArgumentCaptor`. Something like\r\n```java\r\nArgumentCaptor&lt;Author&gt; authorCaptor = ArgumentCaptor.forClass(Author.class);\r\nwhen(dataAccessServiceMock.getBooks(authorCaptor.capture())).thenReturn(books);\r\n\r\nList&lt;Book&gt; result = ut.getBooksByAuthor(firstName, lastName);\r\n\r\nAuthor author = authorCaptor.value();\r\nassertEquals(firstName, author.getFirstName());\r\n```","title":"unable to mock a constructor with Mockito","body":"<p>The object you create on line</p>\n<pre class=\"lang-java prettyprint-override\"><code>Author authorMock = new Author();\n</code></pre>\n<p>is different than the one created in the <code>getBooksByAuthor()</code> function. A debugger should show you that.</p>\n<p>You can use <code>mock.constructed().get(0)</code> to get the object created in <code>getBooksByAuthor()</code>, but by the time you can do this, <code>getBooksByAuthor()</code> has already finished and you can't do much with that mock.</p>\n<p>It's not exactly clear what your objective is. I guess you want to check that the <code>Author</code> object is created in a certain way, and the lines involving <code>getFullName()</code> aren't part of the actual code, just something you added to experiment, because they don't do anything.</p>\n<p>If you want to verity that the object passed to <code>dataAccessService</code> satisfies some conditions, what you need is an <code>ArgumentCaptor</code>. Something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArgumentCaptor&lt;Author&gt; authorCaptor = ArgumentCaptor.forClass(Author.class);\nwhen(dataAccessServiceMock.getBooks(authorCaptor.capture())).thenReturn(books);\n\nList&lt;Book&gt; result = ut.getBooksByAuthor(firstName, lastName);\n\nAuthor author = authorCaptor.value();\nassertEquals(firstName, author.getFirstName());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666463108,"creation_date":1666463108,"answer_id":74166097,"question_id":74062412,"body_markdown":"If you use `MockInitializer` for stubbing , it should solve your problem : \r\n\r\n``` java\r\ntry (MockedConstruction&lt;Author&gt; mocked = mockConstruction(Author.class, (mock, context) -&gt; {\r\n        when(authorMock.methodWhichMakesNetworkAndDatabaseCalls(eq(firstName), eq(lastName))).thenReturn(&quot;when worked&quot;);\r\n        })) {\r\n\r\n        assertEquals(&quot;when worked&quot;, ut.getStringBuiltByComplexProcess(firstName, lastName),  &quot;Strings should match&quot;);\r\n        verify(authorMock).methodWhichMakesNetworkAndDatabaseCalls(eq(firstName), eq(lastName));\r\n\r\n        }\r\n}\r\n```\r\n\r\nBut a much better way to test the controller is to use `MockMvc`. It allows you to test for a given HTTP request , do you configure spring-mvc properly such that it can do the following things correctly :\r\n\r\n - if the HTTP request can be parsed properly to execute the expected controller method with the expected paramater\r\n - if it can deserialize the object returned from the controller method into a expected JSON structure.\r\n - it allows to configure the current user who make the HTTP call and verify if he has enough permission to call this API and if not, will it return the expected error response \r\n - etc.\r\n\r\nAll of these things cannot be tested by your fragile mocking constructor approach.\r\n\r\nFor more details about `MockMvc`, refer to [this guide][1].\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/testing-web/","title":"unable to mock a constructor with Mockito","body":"<p>If you use <code>MockInitializer</code> for stubbing , it should solve your problem :</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (MockedConstruction&lt;Author&gt; mocked = mockConstruction(Author.class, (mock, context) -&gt; {\n        when(authorMock.methodWhichMakesNetworkAndDatabaseCalls(eq(firstName), eq(lastName))).thenReturn(&quot;when worked&quot;);\n        })) {\n\n        assertEquals(&quot;when worked&quot;, ut.getStringBuiltByComplexProcess(firstName, lastName),  &quot;Strings should match&quot;);\n        verify(authorMock).methodWhichMakesNetworkAndDatabaseCalls(eq(firstName), eq(lastName));\n\n        }\n}\n</code></pre>\n<p>But a much better way to test the controller is to use <code>MockMvc</code>. It allows you to test for a given HTTP request , do you configure spring-mvc properly such that it can do the following things correctly :</p>\n<ul>\n<li>if the HTTP request can be parsed properly to execute the expected controller method with the expected paramater</li>\n<li>if it can deserialize the object returned from the controller method into a expected JSON structure.</li>\n<li>it allows to configure the current user who make the HTTP call and verify if he has enough permission to call this API and if not, will it return the expected error response</li>\n<li>etc.</li>\n</ul>\n<p>All of these things cannot be tested by your fragile mocking constructor approach.</p>\n<p>For more details about <code>MockMvc</code>, refer to <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">this guide</a>.</p>\n"}],"owner":{"account_id":13508220,"reputation":259,"user_id":9745488,"display_name":"Oxnard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666463202,"creation_date":1665699613,"question_id":74062412,"body_markdown":"Using Mockito version 4.8.0\r\n\r\nThe controller method I need to test\r\n\r\n     @GetMapping(value = &quot;getStringBuiltByComplexProcess&quot;)\r\n     public String getStringBuiltByComplexProcess(@RequestParam String firstName, @RequestParam String lastName ) {\r\n      Author a = new Author();\r\n      return a.methodWhichMakesNetworkAndDatabaseCalls(firstName, lastName);\r\n     }\r\n\r\nhere is the test method\r\n\r\n     @Test\r\n     public void testGetStringBuiltByComplexProcess01() {\r\n      final String firstName = &quot;firstName&quot;;\r\n      final String lastName = &quot;lastName&quot;;\r\n      try (MockedConstruction&lt;Author&gt; mock = mockConstruction(Author.class)) {\r\n       Author authorMock = new Author();\r\n       when(authorMock.methodWhichMakesNetworkAndDatabaseCalls(eq(firstName), eq(lastName))).thenReturn(&quot;when worked&quot;);\r\n       assertEquals(&quot;when worked&quot;, ut.getStringBuiltByComplexProcess(firstName, lastName),  &quot;Strings should match&quot;);\r\n       verify(authorMock).methodWhichMakesNetworkAndDatabaseCalls(eq(firstName), eq(lastName));\r\n      }\r\n     }\r\n\r\nfails with a message of\r\n\r\n    org.opentest4j.AssertionFailedError: strings should match ==&gt; expected: &lt;when worked&gt; but was: &lt;null&gt;\r\n\r\nIn this simplified example the controller method has more code but the core of what is not working is mocking the object which the controller method constructs.\r\n","title":"unable to mock a constructor with Mockito","body":"<p>Using Mockito version 4.8.0</p>\n<p>The controller method I need to test</p>\n<pre><code> @GetMapping(value = &quot;getStringBuiltByComplexProcess&quot;)\n public String getStringBuiltByComplexProcess(@RequestParam String firstName, @RequestParam String lastName ) {\n  Author a = new Author();\n  return a.methodWhichMakesNetworkAndDatabaseCalls(firstName, lastName);\n }\n</code></pre>\n<p>here is the test method</p>\n<pre><code> @Test\n public void testGetStringBuiltByComplexProcess01() {\n  final String firstName = &quot;firstName&quot;;\n  final String lastName = &quot;lastName&quot;;\n  try (MockedConstruction&lt;Author&gt; mock = mockConstruction(Author.class)) {\n   Author authorMock = new Author();\n   when(authorMock.methodWhichMakesNetworkAndDatabaseCalls(eq(firstName), eq(lastName))).thenReturn(&quot;when worked&quot;);\n   assertEquals(&quot;when worked&quot;, ut.getStringBuiltByComplexProcess(firstName, lastName),  &quot;Strings should match&quot;);\n   verify(authorMock).methodWhichMakesNetworkAndDatabaseCalls(eq(firstName), eq(lastName));\n  }\n }\n</code></pre>\n<p>fails with a message of</p>\n<pre><code>org.opentest4j.AssertionFailedError: strings should match ==&gt; expected: &lt;when worked&gt; but was: &lt;null&gt;\n</code></pre>\n<p>In this simplified example the controller method has more code but the core of what is not working is mocking the object which the controller method constructs.</p>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666463188,"creation_date":1666463188,"answer_id":74166113,"question_id":74165779,"body_markdown":"You should/can use `@Primary` to annotate the one that will take precedence if there is an `@Autowired ResourceConverter...` and Spring can&#39;t tell the difference.\r\n\r\nYou can use `@Qualifier` to &quot;name&quot; each one and then the same annotation on the `@Autowire`d bean to get the one you want.\r\n\r\nSo:\r\n\r\n```\r\n@Bean\r\nprivate ResourceConverter testResponseConverter(){\r\n...\r\n}\r\n```\r\n\r\nand\r\n\r\n```\r\n@Bean\r\n@Primary\r\nprivate ResourceConverter dummyResponseConverter(){\r\n...\r\n}\r\n```\r\n\r\nYou can do:\r\n\r\n```\r\n@Autowired ResourceConverter rc; // Gets the @Primary dummy one\r\n@Autowired @Qualifier(&quot;testResponseConverter&quot;) ResourceConverter rc2; // Gets the corresponding testResponseConverter\r\n```\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Qualifier.html\r\n\r\n","title":"Spring boot: multiple bean method which return same datatype across different Service classes","body":"<p>You should/can use <code>@Primary</code> to annotate the one that will take precedence if there is an <code>@Autowired ResourceConverter...</code> and Spring can't tell the difference.</p>\n<p>You can use <code>@Qualifier</code> to &quot;name&quot; each one and then the same annotation on the <code>@Autowire</code>d bean to get the one you want.</p>\n<p>So:</p>\n<pre><code>@Bean\nprivate ResourceConverter testResponseConverter(){\n...\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Bean\n@Primary\nprivate ResourceConverter dummyResponseConverter(){\n...\n}\n</code></pre>\n<p>You can do:</p>\n<pre><code>@Autowired ResourceConverter rc; // Gets the @Primary dummy one\n@Autowired @Qualifier(&quot;testResponseConverter&quot;) ResourceConverter rc2; // Gets the corresponding testResponseConverter\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Qualifier.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Qualifier.html</a></p>\n"}],"owner":{"account_id":7695072,"reputation":2452,"user_id":5829906,"accept_rate":97,"display_name":"MrRobot9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666463188,"creation_date":1666460531,"question_id":74165779,"body_markdown":"These two are Service classes, which makes http calls to other services to retreive the json response. Just wanted to know if this is a proper way to use ResourceConverter which helps to convert json response string to POJO. \r\n\r\nbIf you notice, these two seperate classes contains its own `ResourceConverter` Bean method. I cant create a single method which can be shared by all classes, because we need `DummyResponse.class` and `TestResponse.class` as the parameter. So, Is this way acceptable? Is it good practise to have multiple bean methods which return the same type, but in different classes?\r\n\r\n\r\n    @Service\r\n     public class TestClient(){\r\n    \r\n       @Bean\r\n       private ResourceConverter getTestResponseConverter(){\r\n          ObjectMapper mapper = new ObjectMapper();\r\n          mapper.setDeserialization(DeserializationFeature.ALLOW_UNKNOWN_PROPERTIES);\r\n          ResourceConverter converter = new ResourceConverter(mapper,TestResponse.class);\r\n          return converter;\r\n       }\r\n    \r\n       private TestResponse getTestResponse(){\r\n           //okhttp call to get the json, this is not actual syntax for call, not relevant in this context\r\n           String responseBodyString = okhttp.call(request);\r\n           JSONAPIDocument&lt;TestResponse&gt; testDocument = getTestResponseConverter().readDocument(responseBodyString, TestResponse.class);\r\n           return testDocument.get();\r\n       }\r\n    \r\n    }\r\n\r\n\r\n\r\n    @Service\r\n    public class DummyClient(){\r\n    \r\n       @Bean\r\n       private ResourceConverter getDummyResponseConverter(){\r\n          ObjectMapper mapper = new ObjectMapper();\r\n          mapper.setDeserialization(DeserializationFeature.ALLOW_UNKNOWN_PROPERTIES);\r\n          ResourceConverter converter = new ResourceConverter(mapper,DummyResponse.class);\r\n          return converter;\r\n       }\r\n    \r\n       private Dummy getDummyResponse(){\r\n           //okhttp call to get the json, this is not actual syntax for call, not relevant in this context\r\n           String responseBodyString = okhttp.call(request);\r\n           JSONAPIDocument&lt;DummyResponse&gt; dummyDocument = getDummyResponseConverter().readDocument(responseBodyString, DummyResponse.class);\r\n           return testDocument.get();\r\n       }\r\n    \r\n    }\r\n\r\n","title":"Spring boot: multiple bean method which return same datatype across different Service classes","body":"<p>These two are Service classes, which makes http calls to other services to retreive the json response. Just wanted to know if this is a proper way to use ResourceConverter which helps to convert json response string to POJO.</p>\n<p>bIf you notice, these two seperate classes contains its own <code>ResourceConverter</code> Bean method. I cant create a single method which can be shared by all classes, because we need <code>DummyResponse.class</code> and <code>TestResponse.class</code> as the parameter. So, Is this way acceptable? Is it good practise to have multiple bean methods which return the same type, but in different classes?</p>\n<pre><code>@Service\n public class TestClient(){\n\n   @Bean\n   private ResourceConverter getTestResponseConverter(){\n      ObjectMapper mapper = new ObjectMapper();\n      mapper.setDeserialization(DeserializationFeature.ALLOW_UNKNOWN_PROPERTIES);\n      ResourceConverter converter = new ResourceConverter(mapper,TestResponse.class);\n      return converter;\n   }\n\n   private TestResponse getTestResponse(){\n       //okhttp call to get the json, this is not actual syntax for call, not relevant in this context\n       String responseBodyString = okhttp.call(request);\n       JSONAPIDocument&lt;TestResponse&gt; testDocument = getTestResponseConverter().readDocument(responseBodyString, TestResponse.class);\n       return testDocument.get();\n   }\n\n}\n\n\n\n@Service\npublic class DummyClient(){\n\n   @Bean\n   private ResourceConverter getDummyResponseConverter(){\n      ObjectMapper mapper = new ObjectMapper();\n      mapper.setDeserialization(DeserializationFeature.ALLOW_UNKNOWN_PROPERTIES);\n      ResourceConverter converter = new ResourceConverter(mapper,DummyResponse.class);\n      return converter;\n   }\n\n   private Dummy getDummyResponse(){\n       //okhttp call to get the json, this is not actual syntax for call, not relevant in this context\n       String responseBodyString = okhttp.call(request);\n       JSONAPIDocument&lt;DummyResponse&gt; dummyDocument = getDummyResponseConverter().readDocument(responseBodyString, DummyResponse.class);\n       return testDocument.get();\n   }\n\n}\n</code></pre>\n"},{"tags":["java","solr","lucene","performance-testing","solrcloud"],"comments":[{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":1,"creation_date":1547106024,"post_id":54121847,"comment_id":95079208,"body_markdown":"If you&#39;re trying to handle over 100k simultaneous connections, you probably want to hand over connection termination to a dedicated load balancer and put a cluster of nodes behind that - trying to make a single node handle such a load over HTTP _simultaeous_ will be a difficult task without detailed domain knowledge.","body":"If you&#39;re trying to handle over 100k simultaneous connections, you probably want to hand over connection termination to a dedicated load balancer and put a cluster of nodes behind that - trying to make a single node handle such a load over HTTP <i>simultaeous</i> will be a difficult task without detailed domain knowledge."},{"owner":{"account_id":2059606,"reputation":8268,"user_id":2265190,"accept_rate":50,"display_name":"Hafiz Muhammad Shafiq"},"score":0,"creation_date":1547114112,"post_id":54121847,"comment_id":95083334,"body_markdown":"Currently about 60 GB memory of the server is free. Then why I should use a load balancer at frond and put a cluster of nodes behind it. Can single solr instance with such large memory and core cannot handle it ? If it is true , then can you provide some references to consult ?","body":"Currently about 60 GB memory of the server is free. Then why I should use a load balancer at frond and put a cluster of nodes behind it. Can single solr instance with such large memory and core cannot handle it ? If it is true , then can you provide some references to consult ?"},{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1547115815,"post_id":54121847,"comment_id":95084339,"body_markdown":"100k simultaneous connections are far into the area of special tuning for most http daemons. Using the built-in version of jetty _without tuning it_ might not be a good fit for your use case. Memory is not the only thing limiting how many connections or queries a server can handle. Getting a specialized httpd such as nginx to handle more than 3-4k simultaneous connections usually require tuning for special use cases and trading certain features for performance. Are you _really sure_ that you need 100k simultaneous connections (and what I guess is 100k queries in parallel)?","body":"100k simultaneous connections are far into the area of special tuning for most http daemons. Using the built-in version of jetty <i>without tuning it</i> might not be a good fit for your use case. Memory is not the only thing limiting how many connections or queries a server can handle. Getting a specialized httpd such as nginx to handle more than 3-4k simultaneous connections usually require tuning for special use cases and trading certain features for performance. Are you <i>really sure</i> that you need 100k simultaneous connections (and what I guess is 100k queries in parallel)?"},{"owner":{"account_id":3150418,"reputation":9135,"user_id":2663985,"accept_rate":50,"display_name":"Mysterion"},"score":0,"creation_date":1547132335,"post_id":54121847,"comment_id":95094017,"body_markdown":"100k queries would first kill CPU, doesn’t matter how many free RAM you have","body":"100k queries would first kill CPU, doesn’t matter how many free RAM you have"},{"owner":{"account_id":2059606,"reputation":8268,"user_id":2265190,"accept_rate":50,"display_name":"Hafiz Muhammad Shafiq"},"score":0,"creation_date":1547181692,"post_id":54121847,"comment_id":95112316,"body_markdown":"Thanks first. Brother there are 48 CPU cores. Is it possible to tune Solr (jetty) to use some of these cores to handle such load. Moreover, if I have to tune Solr then can you please share some guide or tutorial for it.","body":"Thanks first. Brother there are 48 CPU cores. Is it possible to tune Solr (jetty) to use some of these cores to handle such load. Moreover, if I have to tune Solr then can you please share some guide or tutorial for it."}],"answers":[{"comments":[{"owner":{"account_id":2059606,"reputation":8268,"user_id":2265190,"accept_rate":50,"display_name":"Hafiz Muhammad Shafiq"},"score":1,"creation_date":1547786708,"post_id":54244569,"comment_id":95319978,"body_markdown":"Brother thanks for guide. In our case, document addition is not in real time, there are 5-10 filters in each query, the storage is local file system (the disk) and we want queries performance near 99%ile. also, Can you suggest some reference guide for this purpose ?","body":"Brother thanks for guide. In our case, document addition is not in real time, there are 5-10 filters in each query, the storage is local file system (the disk) and we want queries performance near 99%ile. also, Can you suggest some reference guide for this purpose ?"},{"owner":{"account_id":103429,"reputation":6646,"user_id":277023,"accept_rate":56,"display_name":"kellyfj"},"score":0,"creation_date":1547822217,"post_id":54244569,"comment_id":95336078,"body_markdown":"Sadly no - it&#39;s so data specific - everytime anyone asks on the Solr Lucene platform mailing list the answer is always the same so I doubt I can add more. So my suggestion is baseline your performance with a given &quot;best guess&quot; architecture and then analyze your requests - are they all largely the same (in that case you&#39;ll need more memory for caching of query results), what&#39;s the peak request rate - can Jetty handle that many parallel requests? etc.  Solr/Lucene can rely on CPU/Memory/Network/Disk IO in so many different ways that it&#39;s really environment specific. Sorry!","body":"Sadly no - it&#39;s so data specific - everytime anyone asks on the Solr Lucene platform mailing list the answer is always the same so I doubt I can add more. So my suggestion is baseline your performance with a given &quot;best guess&quot; architecture and then analyze your requests - are they all largely the same (in that case you&#39;ll need more memory for caching of query results), what&#39;s the peak request rate - can Jetty handle that many parallel requests? etc.  Solr/Lucene can rely on CPU/Memory/Network/Disk IO in so many different ways that it&#39;s really environment specific. Sorry!"}],"tags":[],"owner":{"account_id":103429,"reputation":6646,"user_id":277023,"accept_rate":56,"display_name":"kellyfj"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547760588,"creation_date":1547760588,"answer_id":54244569,"question_id":54121847,"body_markdown":"If you plan to handle hundreds of thousands of requests per second you will need more than one server - no matter how big it is. Even if it&#39;s just for HA / DR purposes. So I would recommend using SolrCloud and sharding the index across multiple machines and with multiple replicas just so start. \r\n\r\nBeyond that the devil is in the details\r\n\r\n1. How fast do you want queries to perform (median and 99%ile). This will help you size CPU and memory needs.\r\n2. How complex are your queries?\r\n3. Are you using filters? (Requires more heap memory)\r\n4. How fast is your disk acccess?\r\n5. Will you be adding data in real time (impacting your setting of autoCommit and soft commit\r\n\r\nBut first and foremost you need to get away from &quot;one big box&quot; thinking.\r\n\r\n","title":"Apache Solr handle hundreds of thousands requests","body":"<p>If you plan to handle hundreds of thousands of requests per second you will need more than one server - no matter how big it is. Even if it's just for HA / DR purposes. So I would recommend using SolrCloud and sharding the index across multiple machines and with multiple replicas just so start. </p>\n\n<p>Beyond that the devil is in the details</p>\n\n<ol>\n<li>How fast do you want queries to perform (median and 99%ile). This will help you size CPU and memory needs.</li>\n<li>How complex are your queries?</li>\n<li>Are you using filters? (Requires more heap memory)</li>\n<li>How fast is your disk acccess?</li>\n<li>Will you be adding data in real time (impacting your setting of autoCommit and soft commit</li>\n</ol>\n\n<p>But first and foremost you need to get away from \"one big box\" thinking.</p>\n"},{"tags":[],"owner":{"account_id":11544448,"reputation":347,"user_id":8459014,"display_name":"Dimanshu Parihar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666462687,"creation_date":1666462687,"answer_id":74166046,"question_id":54121847,"body_markdown":"**We have 200 million records in each Collection and we have 200 collections. We have 5 servers and each server has 8 cores and 64 gb ram.**\r\n\r\n**I would suggest you break up your servers into multiple servers**. \r\n\r\n**Do the replication of the data on each server so that requests gets divided into multiple servers. The more the number of servers, the more you&#39;ll be able to responsd quicker.**\r\n\r\n**Note :** *Just understand the replication factor : 2F+1 formula where if you have 5 servers then 3 replicas atleast should be there. I&#39;ll suggest you to go with 5 replicas only (1 replica for each server)*","title":"Apache Solr handle hundreds of thousands requests","body":"<p><strong>We have 200 million records in each Collection and we have 200 collections. We have 5 servers and each server has 8 cores and 64 gb ram.</strong></p>\n<p><strong>I would suggest you break up your servers into multiple servers</strong>.</p>\n<p><strong>Do the replication of the data on each server so that requests gets divided into multiple servers. The more the number of servers, the more you'll be able to responsd quicker.</strong></p>\n<p><strong>Note :</strong> <em>Just understand the replication factor : 2F+1 formula where if you have 5 servers then 3 replicas atleast should be there. I'll suggest you to go with 5 replicas only (1 replica for each server)</em></p>\n"}],"owner":{"account_id":2059606,"reputation":8268,"user_id":2265190,"accept_rate":50,"display_name":"Hafiz Muhammad Shafiq"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2010,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74166046,"answer_count":2,"score":1,"last_activity_date":1666462687,"creation_date":1547093306,"question_id":54121847,"body_markdown":"We have a small search app in local context. For back services, we are using Apache Solr 6.6.2 for data index and storage. The front-end is in PHP with Apache2 webserver. \r\n\r\nWe have a server of 48 core and 96 GB RAM where these services are installed. The expected size of documents in index in about 200 Million and each document can have maximum 20 fields. Most fields are both indexed and stored. \r\n\r\nThe expected simultaneous requests can be hundreds of thousands at a time. So what will be the best configuration of Apache Solr to handle it? We have started Solr with 20 GB RAM and stress tested but it start to degrade performance near 100 users. Where is the problem? What is the optimal way for this issue. \r\n\r\nWe have also tested Solr in SolrCloud mode but the performance does not improve too much. We were expecting that if there will be some memory problem that their will be OOM exception but did not happen anything like that. We have just changed schema according to our requirement and change memory via command-line. All other setting are default.\r\n\r\nFollowing are few references that we have consulted already\r\n\r\n1. https://wiki.apache.org/solr/SolrPerformanceProblems\r\n2. https://blog.cloudera.com/blog/2017/06/apache-solr-memory-tuning-for-production/\r\n","title":"Apache Solr handle hundreds of thousands requests","body":"<p>We have a small search app in local context. For back services, we are using Apache Solr 6.6.2 for data index and storage. The front-end is in PHP with Apache2 webserver. </p>\n\n<p>We have a server of 48 core and 96 GB RAM where these services are installed. The expected size of documents in index in about 200 Million and each document can have maximum 20 fields. Most fields are both indexed and stored. </p>\n\n<p>The expected simultaneous requests can be hundreds of thousands at a time. So what will be the best configuration of Apache Solr to handle it? We have started Solr with 20 GB RAM and stress tested but it start to degrade performance near 100 users. Where is the problem? What is the optimal way for this issue. </p>\n\n<p>We have also tested Solr in SolrCloud mode but the performance does not improve too much. We were expecting that if there will be some memory problem that their will be OOM exception but did not happen anything like that. We have just changed schema according to our requirement and change memory via command-line. All other setting are default.</p>\n\n<p>Following are few references that we have consulted already</p>\n\n<ol>\n<li><a href=\"https://wiki.apache.org/solr/SolrPerformanceProblems\" rel=\"nofollow noreferrer\">https://wiki.apache.org/solr/SolrPerformanceProblems</a></li>\n<li><a href=\"https://blog.cloudera.com/blog/2017/06/apache-solr-memory-tuning-for-production/\" rel=\"nofollow noreferrer\">https://blog.cloudera.com/blog/2017/06/apache-solr-memory-tuning-for-production/</a></li>\n</ol>\n"},{"tags":["java","graph","depth-first-search"],"answers":[{"comments":[{"owner":{"account_id":100923,"reputation":1987,"user_id":271789,"accept_rate":81,"display_name":"zefciu"},"score":0,"creation_date":1666939307,"post_id":20311823,"comment_id":131057419,"body_markdown":"This idea is so simple, yet I struggled with it the whole day. Grab a bounty.","body":"This idea is so simple, yet I struggled with it the whole day. Grab a bounty."}],"tags":[],"owner":{"account_id":3639086,"reputation":1060,"user_id":3033731,"display_name":"Thomas"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1385898867,"creation_date":1385898867,"answer_id":20311823,"question_id":20309140,"body_markdown":"You need a stack, the possibility to mark a vertex as visited, and to mark a vertex as processed.  As long as the stack is not empty, you do the following where v is the top vertex on the stack.\r\n\r\n - v is neither marked as visited nor as processed: push all non-visited neighbors to the stack.  Important: do NOT pop v.\r\n - v is marked as visited but not as processed: this is the point where you call the postVisit on v.  Afterwards you must pop v from the stack and mark it as processed\r\n - v is marked as visited and as processed: just pop v from the stack and do nothing.","title":"Iterative Graph DFS how to add a postvisit?","body":"<p>You need a stack, the possibility to mark a vertex as visited, and to mark a vertex as processed.  As long as the stack is not empty, you do the following where v is the top vertex on the stack.</p>\n\n<ul>\n<li>v is neither marked as visited nor as processed: push all non-visited neighbors to the stack.  Important: do NOT pop v.</li>\n<li>v is marked as visited but not as processed: this is the point where you call the postVisit on v.  Afterwards you must pop v from the stack and mark it as processed</li>\n<li>v is marked as visited and as processed: just pop v from the stack and do nothing.</li>\n</ul>\n"}],"owner":{"account_id":3562450,"reputation":1029,"user_id":2974996,"accept_rate":56,"display_name":"Brandon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1126,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1666462264,"creation_date":1385876703,"question_id":20309140,"body_markdown":"So I&#39;m attempted to implement the following Graph DFS method:\r\n\r\n     /** Performs a depth-first traversal of G over all vertices\r\n     *  reachable from V.  That is, the fringe is a sequence and\r\n     *  vertices are added to it or removed from it at one end in\r\n     *  an undefined order.  After the traversal of all successors of\r\n     *  a node is complete, the node itself is revisited by calling\r\n     *  the postVisit method on it. */\r\n    public void depthFirstTraverse(Graph&lt;VLabel, ELabel&gt; G,\r\n                                   Graph&lt;VLabel, ELabel&gt;.Vertex v) {\r\n        Stack&lt;Vertex&gt; fringe = new Stack&lt;Vertex&gt;();\r\n        HashSet&lt;Vertex&gt; marked = new HashSet&lt;Vertex&gt;();\r\n        fringe.push(v);\r\n        while (!fringe.isEmpty()) {\r\n            Vertex vert = fringe.pop();\r\n            if (!marked.contains(vert)) {\r\n                marked.add(vert);\r\n                visit(vert);\r\n                for (Edge edge : G.edges(vert)) {\r\n                    preVisit(edge, vert);\r\n                    fringe.add(edge.getV1());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI have the general algorithm correct according to my tests, but I&#39;m still missing the requirement in the last sentence: &quot;After the traversal of all successors of a node is complete, the node itself is revisited by calling the postVisit method on it.&quot;\r\n\r\nI&#39;m rather stumped on how to add this postVisit method in iteratively (can&#39;t change the function signature so recursion is out of the question). Any ideas? ","title":"Iterative Graph DFS how to add a postvisit?","body":"<p>So I'm attempted to implement the following Graph DFS method:</p>\n\n<pre><code> /** Performs a depth-first traversal of G over all vertices\n *  reachable from V.  That is, the fringe is a sequence and\n *  vertices are added to it or removed from it at one end in\n *  an undefined order.  After the traversal of all successors of\n *  a node is complete, the node itself is revisited by calling\n *  the postVisit method on it. */\npublic void depthFirstTraverse(Graph&lt;VLabel, ELabel&gt; G,\n                               Graph&lt;VLabel, ELabel&gt;.Vertex v) {\n    Stack&lt;Vertex&gt; fringe = new Stack&lt;Vertex&gt;();\n    HashSet&lt;Vertex&gt; marked = new HashSet&lt;Vertex&gt;();\n    fringe.push(v);\n    while (!fringe.isEmpty()) {\n        Vertex vert = fringe.pop();\n        if (!marked.contains(vert)) {\n            marked.add(vert);\n            visit(vert);\n            for (Edge edge : G.edges(vert)) {\n                preVisit(edge, vert);\n                fringe.add(edge.getV1());\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I have the general algorithm correct according to my tests, but I'm still missing the requirement in the last sentence: \"After the traversal of all successors of a node is complete, the node itself is revisited by calling the postVisit method on it.\"</p>\n\n<p>I'm rather stumped on how to add this postVisit method in iteratively (can't change the function signature so recursion is out of the question). Any ideas? </p>\n"},{"tags":["java","hibernate","jpa","hql","hibernate-mapping"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":1,"creation_date":1665676565,"post_id":74027009,"comment_id":130760245,"body_markdown":"Maybe if you migrate away from this 11 year old version to currents versions like 5.6 or 6.1, then someone in the community might be able to help you with that, but since that version is not maintained anymore, you are most likely on your own.","body":"Maybe if you migrate away from this 11 year old version to currents versions like 5.6 or 6.1, then someone in the community might be able to help you with that, but since that version is not maintained anymore, you are most likely on your own."}],"answers":[{"tags":[],"owner":{"account_id":389078,"reputation":4339,"user_id":748337,"display_name":"Mart&#237;n Alcubierre"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666462104,"creation_date":1666462104,"answer_id":74165948,"question_id":74027009,"body_markdown":"Probable cause is a bug in Hibertante that wasn&#39;t fixed until 4.1.10 version: https://hibernate.atlassian.net/browse/HHH-2448","title":"hibernate generatation: different alias from same query","body":"<p>Probable cause is a bug in Hibertante that wasn't fixed until 4.1.10 version: <a href=\"https://hibernate.atlassian.net/browse/HHH-2448\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-2448</a></p>\n"}],"owner":{"account_id":389078,"reputation":4339,"user_id":748337,"display_name":"Mart&#237;n Alcubierre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666462104,"creation_date":1665485933,"question_id":74027009,"body_markdown":"We have noticed (Hibernate 3.6.3 Final) that same query in our logs generates different SQL sentences (inner joins).\r\n\r\nIs there any reason that this behavior is not deterministic?\r\n\r\nIn our own research we have found that aliases are generated this way (org.hibernate.mapping.Column) , we do not have find out the clue that makes this algorith vary between two same inputs...\r\n\r\n    public String getAlias(Dialect dialect) {\r\n\t\tString alias = name;\r\n\t\tString unique = Integer.toString(uniqueInteger) + &#39;_&#39;;\r\n\t\tint lastLetter = StringHelper.lastIndexOfLetter(name);\r\n\t\tif ( lastLetter == -1 ) {\r\n\t\t\talias = &quot;column&quot;;\r\n\t\t}\r\n\t\telse if ( lastLetter &lt; name.length()-1 ) {\r\n\t\t\talias = name.substring(0, lastLetter+1);\r\n\t\t}\r\n\t\tif ( alias.length() &gt; dialect.getMaxAliasLength() ) {\r\n\t\t\talias = alias.substring( 0, dialect.getMaxAliasLength() - unique.length() );\r\n\t\t}\r\n\t\tboolean useRawName = name.equals(alias) &amp;&amp; \r\n\t\t\t!quoted &amp;&amp; \r\n\t\t\t!name.toLowerCase().equals(&quot;rowid&quot;);\r\n\t\tif ( useRawName ) {\r\n\t\t\treturn alias;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn alias + unique;\r\n\t\t}\r\n\t}","title":"hibernate generatation: different alias from same query","body":"<p>We have noticed (Hibernate 3.6.3 Final) that same query in our logs generates different SQL sentences (inner joins).</p>\n<p>Is there any reason that this behavior is not deterministic?</p>\n<p>In our own research we have found that aliases are generated this way (org.hibernate.mapping.Column) , we do not have find out the clue that makes this algorith vary between two same inputs...</p>\n<pre><code>public String getAlias(Dialect dialect) {\n    String alias = name;\n    String unique = Integer.toString(uniqueInteger) + '_';\n    int lastLetter = StringHelper.lastIndexOfLetter(name);\n    if ( lastLetter == -1 ) {\n        alias = &quot;column&quot;;\n    }\n    else if ( lastLetter &lt; name.length()-1 ) {\n        alias = name.substring(0, lastLetter+1);\n    }\n    if ( alias.length() &gt; dialect.getMaxAliasLength() ) {\n        alias = alias.substring( 0, dialect.getMaxAliasLength() - unique.length() );\n    }\n    boolean useRawName = name.equals(alias) &amp;&amp; \n        !quoted &amp;&amp; \n        !name.toLowerCase().equals(&quot;rowid&quot;);\n    if ( useRawName ) {\n        return alias;\n    }\n    else {\n        return alias + unique;\n    }\n}\n</code></pre>\n"},{"tags":["java","solr","nutch","solrcloud","nutch2"],"comments":[{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1525253088,"post_id":50130873,"comment_id":87280101,"body_markdown":"Does the URL referenced work from the server doing the indexing? (I.e. can you access `http://10.11.22.156:8983/solr/collection2` from the server?)","body":"Does the URL referenced work from the server doing the indexing? (I.e. can you access <code>http:&#47;&#47;10.11.22.156:8983&#47;solr&#47;collection2</code> from the server?)"},{"owner":{"account_id":2059606,"reputation":8268,"user_id":2265190,"accept_rate":50,"display_name":"Hafiz Muhammad Shafiq"},"score":0,"creation_date":1525253392,"post_id":50130873,"comment_id":87280293,"body_markdown":"Yes I can access it i.e., its admin dashboard is accessible without any issue","body":"Yes I can access it i.e., its admin dashboard is accessible without any issue"},{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1525256719,"post_id":50130873,"comment_id":87282516,"body_markdown":"-- from the server running Nutch, and using the exact same host? Does `curl http://10.11.22.156:8983/solr/collection2` work?","body":"-- from the server running Nutch, and using the exact same host? Does <code>curl http:&#47;&#47;10.11.22.156:8983&#47;solr&#47;collection2</code> work?"},{"owner":{"account_id":552980,"reputation":2406,"user_id":918277,"accept_rate":80,"display_name":"Ravindu"},"score":0,"creation_date":1529403177,"post_id":50130873,"comment_id":88850733,"body_markdown":"i also stuck in the same place. Did you find an answer?","body":"i also stuck in the same place. Did you find an answer?"}],"answers":[{"tags":[],"owner":{"account_id":11544448,"reputation":347,"user_id":8459014,"display_name":"Dimanshu Parihar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666461474,"creation_date":1666461474,"answer_id":74165869,"question_id":50130873,"body_markdown":"The error straight forward showing that **you have an Apache Nutch server, which is unable to access this particular node and port of Apache Solr** http://10.11.22.156:8983/solr/collection2.\r\n\r\n**You need access between these two servers to make them communicate with each other :**\r\n1. You need to provide outbound permission to solr server to do request response with Apache Nutch server. \r\n2. Also, you need to provide inbound permission to Apache Nutch server to access the given solr IP and port.\r\n\r\n","title":"Apache Nutch SolrIndexer error in SolrCloud mode","body":"<p>The error straight forward showing that <strong>you have an Apache Nutch server, which is unable to access this particular node and port of Apache Solr</strong> <a href=\"http://10.11.22.156:8983/solr/collection2\" rel=\"nofollow noreferrer\">http://10.11.22.156:8983/solr/collection2</a>.</p>\n<p><strong>You need access between these two servers to make them communicate with each other :</strong></p>\n<ol>\n<li>You need to provide outbound permission to solr server to do request response with Apache Nutch server.</li>\n<li>Also, you need to provide inbound permission to Apache Nutch server to access the given solr IP and port.</li>\n</ol>\n"}],"owner":{"account_id":2059606,"reputation":8268,"user_id":2265190,"accept_rate":50,"display_name":"Hafiz Muhammad Shafiq"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666461474,"creation_date":1525252037,"question_id":50130873,"body_markdown":"I have configured Apache Nutch 2.3.1 and crawled few websites. I have to index these documents to Solr (6.6.3) that is running in Cloud mode. When I execute solrindex command, I got following exception\r\n\r\n    2018-05-02 13:10:40,679 INFO [main] org.apache.hadoop.mapred.MapTask: Ignoring exception during close for org.apache.hadoop.mapred.MapTask$NewDirectOutputCollector@3bd3d05e\r\n    java.io.IOException: org.apache.solr.client.solrj.SolrServerException: Server refused connection at: http://10.11.22.156:8983/solr/collection2\r\n    \tat org.apache.nutch.indexwriter.solr.SolrIndexWriter.close(SolrIndexWriter.java:103)\r\n    \tat org.apache.nutch.indexer.IndexWriters.close(IndexWriters.java:114)\r\n    \tat org.apache.nutch.indexer.IndexerOutputFormat$1.close(IndexerOutputFormat.java:54)\r\n    \tat org.apache.hadoop.mapred.MapTask$NewDirectOutputCollector.close(MapTask.java:670)\r\n    \tat org.apache.hadoop.mapred.MapTask.closeQuietly(MapTask.java:2019)\r\n    \tat org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:797)\r\n    \tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:341)\r\n    \tat org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:164)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1754)\r\n    \tat org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:158)\r\n    Caused by: org.apache.solr.client.solrj.SolrServerException: Server refused connection at: http://10.11.22.156:8983/solr/collection2\r\n    \tat org.apache.solr.client.solrj.impl.HttpSolrServer.executeMethod(HttpSolrServer.java:559)\r\n    \tat org.apache.solr.client.solrj.impl.HttpSolrServer.request(HttpSolrServer.java:210)\r\n    \tat org.apache.solr.client.solrj.impl.HttpSolrServer.request(HttpSolrServer.java:206)\r\n    \tat org.apache.solr.client.solrj.request.AbstractUpdateRequest.process(AbstractUpdateRequest.java:124)\r\n    \tat org.apache.solr.client.solrj.SolrServer.add(SolrServer.java:68)\r\n    \tat org.apache.solr.client.solrj.SolrServer.add(SolrServer.java:54)\r\n    \tat org.apache.nutch.indexwriter.solr.SolrIndexWriter.close(SolrIndexWriter.java:97)\r\n    \t... 11 more\r\n    Caused by: org.apache.http.conn.HttpHostConnectException: Connection to http://10.11.22.156:8983 refused\r\n    \tat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:190)\r\n    \tat org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:294)\r\n    \tat org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:643)\r\n    \tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:479)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:906)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:805)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:784)\r\n    \tat org.apache.solr.client.solrj.impl.HttpSolrServer.executeMethod(HttpSolrServer.java:448)\r\n    \t... 17 more\r\n    Caused by: java.net.ConnectException: Connection timed out\r\n    \tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n    \tat java.net.Socket.connect(Socket.java:589)\r\n    \tat org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:127)\r\n    \tat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\r\n\r\nWhere is the problem? If I repeat the same job with solr without cloud mode, it works fines. ","title":"Apache Nutch SolrIndexer error in SolrCloud mode","body":"<p>I have configured Apache Nutch 2.3.1 and crawled few websites. I have to index these documents to Solr (6.6.3) that is running in Cloud mode. When I execute solrindex command, I got following exception</p>\n\n<pre><code>2018-05-02 13:10:40,679 INFO [main] org.apache.hadoop.mapred.MapTask: Ignoring exception during close for org.apache.hadoop.mapred.MapTask$NewDirectOutputCollector@3bd3d05e\njava.io.IOException: org.apache.solr.client.solrj.SolrServerException: Server refused connection at: http://10.11.22.156:8983/solr/collection2\n    at org.apache.nutch.indexwriter.solr.SolrIndexWriter.close(SolrIndexWriter.java:103)\n    at org.apache.nutch.indexer.IndexWriters.close(IndexWriters.java:114)\n    at org.apache.nutch.indexer.IndexerOutputFormat$1.close(IndexerOutputFormat.java:54)\n    at org.apache.hadoop.mapred.MapTask$NewDirectOutputCollector.close(MapTask.java:670)\n    at org.apache.hadoop.mapred.MapTask.closeQuietly(MapTask.java:2019)\n    at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:797)\n    at org.apache.hadoop.mapred.MapTask.run(MapTask.java:341)\n    at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:164)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:422)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1754)\n    at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:158)\nCaused by: org.apache.solr.client.solrj.SolrServerException: Server refused connection at: http://10.11.22.156:8983/solr/collection2\n    at org.apache.solr.client.solrj.impl.HttpSolrServer.executeMethod(HttpSolrServer.java:559)\n    at org.apache.solr.client.solrj.impl.HttpSolrServer.request(HttpSolrServer.java:210)\n    at org.apache.solr.client.solrj.impl.HttpSolrServer.request(HttpSolrServer.java:206)\n    at org.apache.solr.client.solrj.request.AbstractUpdateRequest.process(AbstractUpdateRequest.java:124)\n    at org.apache.solr.client.solrj.SolrServer.add(SolrServer.java:68)\n    at org.apache.solr.client.solrj.SolrServer.add(SolrServer.java:54)\n    at org.apache.nutch.indexwriter.solr.SolrIndexWriter.close(SolrIndexWriter.java:97)\n    ... 11 more\nCaused by: org.apache.http.conn.HttpHostConnectException: Connection to http://10.11.22.156:8983 refused\n    at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:190)\n    at org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:294)\n    at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:643)\n    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:479)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:906)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:805)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:784)\n    at org.apache.solr.client.solrj.impl.HttpSolrServer.executeMethod(HttpSolrServer.java:448)\n    ... 17 more\nCaused by: java.net.ConnectException: Connection timed out\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n    at java.net.Socket.connect(Socket.java:589)\n    at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:127)\n    at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\n</code></pre>\n\n<p>Where is the problem? If I repeat the same job with solr without cloud mode, it works fines. </p>\n"},{"tags":["java","spring","mockito","integration-testing","mockmvc"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666098223,"post_id":74109840,"comment_id":130850671,"body_markdown":"Get rid of `@Autowired @InjectMocks`. That should either be `@InjectMocks` or `@Autowired`+`@MockBean` on everything else","body":"Get rid of <code>@Autowired @InjectMocks</code>. That should either be <code>@InjectMocks</code> or <code>@Autowired</code>+<code>@MockBean</code> on everything else"},{"owner":{"account_id":4759179,"reputation":93,"user_id":3847044,"display_name":"Matej Martincevic"},"score":0,"creation_date":1666103718,"post_id":74109840,"comment_id":130853191,"body_markdown":"@knittl If I do either of those I get `No qualifying bean of type &#39;com.test.thing.service.PatientRecordService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}`. I just put that as an example of what kind of behavior I&#39;d like: to get a fully working bean with just repository mock injected.","body":"@knittl If I do either of those I get <code>No qualifying bean of type &#39;com.test.thing.service.PatientRecordService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}</code>. I just put that as an example of what kind of behavior I&#39;d like: to get a fully working bean with just repository mock injected."}],"answers":[{"comments":[{"owner":{"account_id":4759179,"reputation":93,"user_id":3847044,"display_name":"Matej Martincevic"},"score":0,"creation_date":1666103368,"post_id":74110115,"comment_id":130853031,"body_markdown":"No, it throws an exception saying `No qualifying bean of type &#39;com.test.thing.service.PatientRecordService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}`","body":"No, it throws an exception saying <code>No qualifying bean of type &#39;com.test.thing.service.PatientRecordService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}</code>"},{"owner":{"account_id":11361669,"reputation":36,"user_id":8329636,"display_name":"Erwin"},"score":1,"creation_date":1666336698,"post_id":74110115,"comment_id":130917244,"body_markdown":"Try\n\n@WebMvcTest({PatientRecordController.class, PatientRecordService.class})","body":"Try  @WebMvcTest({PatientRecordController.class, PatientRecordService.class})"},{"owner":{"account_id":4759179,"reputation":93,"user_id":3847044,"display_name":"Matej Martincevic"},"score":0,"creation_date":1666348451,"post_id":74110115,"comment_id":130921130,"body_markdown":"That did it! And the `@Autowired private PatientRecordService patientRecordService;` is not required it seems, the `@WebMvcTest` annotation takes care of that. Would you please edit your answer so I can mark it as correct. Thanks!","body":"That did it! And the <code>@Autowired private PatientRecordService patientRecordService;</code> is not required it seems, the <code>@WebMvcTest</code> annotation takes care of that. Would you please edit your answer so I can mark it as correct. Thanks!"}],"tags":[],"owner":{"account_id":11361669,"reputation":36,"user_id":8329636,"display_name":"Erwin"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666461143,"creation_date":1666092097,"answer_id":74110115,"question_id":74109840,"body_markdown":"You should be able to\r\n\r\n```\r\n@WebMvcTest({PatientRecordController.class, PatientRecordService.class})\r\n\r\n@MockBean\r\nprivate PatientRecordRepository patientRecordRepository;\r\n\r\n```\r\n\r\nDoes that not achieve what you need?","title":"Spring Integration testing with MockMvc - service injection","body":"<p>You should be able to</p>\n<pre><code>@WebMvcTest({PatientRecordController.class, PatientRecordService.class})\n\n@MockBean\nprivate PatientRecordRepository patientRecordRepository;\n\n</code></pre>\n<p>Does that not achieve what you need?</p>\n"}],"owner":{"account_id":4759179,"reputation":93,"user_id":3847044,"display_name":"Matej Martincevic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":882,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74110115,"answer_count":1,"score":0,"last_activity_date":1666461143,"creation_date":1666090742,"question_id":74109840,"body_markdown":"I&#39;m trying to make an integration test going all the way from the top (controller) down to the repositories (mocked). I&#39;m having issue with getting an actual service (not mock) injected into a controller and mocking the service&#39;s repositories. Most examples I&#39;ve seen either call the endpoint via MockMvc and test the controller that contains all the logic, so no services, or they just mock the service and return a set response which I see no point in testing at all. My classes work as such: Controller contains the service which contains the repository\r\n\r\nCurrently I have the following test class for that:\r\n\r\n    @WebMvcTest(PatientRecordController.class)\r\n    public class PatientRecordControllerTests {\r\n\t\r\n\t    @Autowired\r\n    \tMockMvc mockMvc;\r\n\r\n    \t@Autowired\r\n    \tObjectMapper mapper;\r\n\r\n    \t@MockBean\r\n    \tPatientRecordService patientRecordService;\r\n\r\n\t    @Test\r\n    \tpublic void createRecord_WhenDtoValid_CreateRecord() throws Exception {\r\n\t    \tPatientRecordDto recordDto = PatientRecordDto.builder()\r\n\t\t\t\t.name(&quot;John Doe&quot;)\r\n\t\t\t\t.age(47)\r\n\t\t\t\t.address(&quot;New York USA&quot;)\r\n\t\t\t\t.build();\r\n\r\n    \t\tPatientRecord record = ModelMapperUtil.convertTo(recordDto, PatientRecord.class);\r\n    \t\tMockito.when(patientRecordService.saveRecord(recordDto)).thenReturn(record);\r\n\r\n    \t\tMockHttpServletRequestBuilder mockRequest = MockMvcRequestBuilders.post(&quot;/patient&quot;)\r\n\t\t\t\t.contentType(MediaType.APPLICATION_JSON)\r\n\t\t\t\t.accept(MediaType.APPLICATION_JSON)\r\n\t\t\t\t.content(this.mapper.writeValueAsString(recordDto));\r\n\r\n\t    \tmockMvc.perform(mockRequest)\r\n\t\t\t\t.andExpect(status().isOk())\r\n\t\t\t\t.andExpect(jsonPath(&quot;$&quot;, notNullValue()))\r\n\t\t\t\t.andExpect(jsonPath(&quot;$.name&quot;, is(&quot;John Doe&quot;)));\r\n    \t}\r\n    }\r\n\r\nWhat I would like to be able to do is something akin to following:\r\n\r\n    @Autowired\r\n    @InjectMocks\r\n\tprivate PatientRecordService patientRecordService;\r\n\r\n\t@Mock\r\n\tprivate PatientRecordRepository patientRecordRepository;\r\n\r\nTheoretically, with this I&#39;d get a bean of ```PatientRecordService``` that has ```PatientRecordRepository``` mock injected, and then instead of doing\r\n\r\n    Mockito.when(patientRecordService.saveRecord(recordDto)).thenReturn(record);\r\n\r\nI could do\r\n\r\n    Mockito.when(patientRecordRepository.save(recordDto)).thenReturn(record);\r\n\r\nAnd then the whole logic inside of the service would be tested and only repository response would be mocked. Obviously this is not how it works, so how would I go about in achieving this?","title":"Spring Integration testing with MockMvc - service injection","body":"<p>I'm trying to make an integration test going all the way from the top (controller) down to the repositories (mocked). I'm having issue with getting an actual service (not mock) injected into a controller and mocking the service's repositories. Most examples I've seen either call the endpoint via MockMvc and test the controller that contains all the logic, so no services, or they just mock the service and return a set response which I see no point in testing at all. My classes work as such: Controller contains the service which contains the repository</p>\n<p>Currently I have the following test class for that:</p>\n<pre><code>@WebMvcTest(PatientRecordController.class)\npublic class PatientRecordControllerTests {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Autowired\n    ObjectMapper mapper;\n\n    @MockBean\n    PatientRecordService patientRecordService;\n\n    @Test\n    public void createRecord_WhenDtoValid_CreateRecord() throws Exception {\n        PatientRecordDto recordDto = PatientRecordDto.builder()\n            .name(&quot;John Doe&quot;)\n            .age(47)\n            .address(&quot;New York USA&quot;)\n            .build();\n\n        PatientRecord record = ModelMapperUtil.convertTo(recordDto, PatientRecord.class);\n        Mockito.when(patientRecordService.saveRecord(recordDto)).thenReturn(record);\n\n        MockHttpServletRequestBuilder mockRequest = MockMvcRequestBuilders.post(&quot;/patient&quot;)\n            .contentType(MediaType.APPLICATION_JSON)\n            .accept(MediaType.APPLICATION_JSON)\n            .content(this.mapper.writeValueAsString(recordDto));\n\n        mockMvc.perform(mockRequest)\n            .andExpect(status().isOk())\n            .andExpect(jsonPath(&quot;$&quot;, notNullValue()))\n            .andExpect(jsonPath(&quot;$.name&quot;, is(&quot;John Doe&quot;)));\n    }\n}\n</code></pre>\n<p>What I would like to be able to do is something akin to following:</p>\n<pre><code>@Autowired\n@InjectMocks\nprivate PatientRecordService patientRecordService;\n\n@Mock\nprivate PatientRecordRepository patientRecordRepository;\n</code></pre>\n<p>Theoretically, with this I'd get a bean of <code>PatientRecordService</code> that has <code>PatientRecordRepository</code> mock injected, and then instead of doing</p>\n<pre><code>Mockito.when(patientRecordService.saveRecord(recordDto)).thenReturn(record);\n</code></pre>\n<p>I could do</p>\n<pre><code>Mockito.when(patientRecordRepository.save(recordDto)).thenReturn(record);\n</code></pre>\n<p>And then the whole logic inside of the service would be tested and only repository response would be mocked. Obviously this is not how it works, so how would I go about in achieving this?</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1666266058,"post_id":74139265,"comment_id":130898134,"body_markdown":"java doesn&#39;t support global variables. What do you mean, instance or static variables?","body":"java doesn&#39;t support global variables. What do you mean, instance or static variables?"},{"owner":{"account_id":10496692,"reputation":1,"user_id":7736679,"display_name":"teaaa"},"score":0,"creation_date":1666267369,"post_id":74139265,"comment_id":130898714,"body_markdown":"sorry yeah i think ive mixed up the definitions, im new to java","body":"sorry yeah i think ive mixed up the definitions, im new to java"}],"answers":[{"tags":[],"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666460238,"creation_date":1666369173,"answer_id":74156526,"question_id":74139265,"body_markdown":"Even if they are used only once, its good practice to declare all the page elements at the class level. You may also mention it as static variable. A simple example for your perusal. Even though we use Hamburger icon only once, we still declare them at the top level. Since static variable, we are going to have only one object created for this at any point of time.\r\n\r\n    public class HomePage {\r\n        private static By byHamburgerIcon = By.xpath(&quot;//div[contains(@class,&#39;icon-hamburger&#39;)]&quot;);\r\n        private static By byHeaderName = By.cssSelector(&quot;div[name=&#39;username&#39;]&quot;);\r\n    \r\n        public void clickHamburgerIcon() {\r\n           PageActionHelper.click(byHamburgerIcon,&quot;Clicked Hamburger icon&quot;);\r\n        }\r\n    }\r\n\r\nThis way it would be easier to refactor if any changes happened in future.\r\n\r\nAlso, there is high chance that we would use the locator in multiple places of the class. At those times, if we mention locator directly inside method, we would need to duplicate them. Changes on those locator need to be made everywhere. These are error prone. Hence having a single locator declared at the class level would be a better way.","title":"should By locators in selenium be kept as instance or local variables?","body":"<p>Even if they are used only once, its good practice to declare all the page elements at the class level. You may also mention it as static variable. A simple example for your perusal. Even though we use Hamburger icon only once, we still declare them at the top level. Since static variable, we are going to have only one object created for this at any point of time.</p>\n<pre><code>public class HomePage {\n    private static By byHamburgerIcon = By.xpath(&quot;//div[contains(@class,'icon-hamburger')]&quot;);\n    private static By byHeaderName = By.cssSelector(&quot;div[name='username']&quot;);\n\n    public void clickHamburgerIcon() {\n       PageActionHelper.click(byHamburgerIcon,&quot;Clicked Hamburger icon&quot;);\n    }\n}\n</code></pre>\n<p>This way it would be easier to refactor if any changes happened in future.</p>\n<p>Also, there is high chance that we would use the locator in multiple places of the class. At those times, if we mention locator directly inside method, we would need to duplicate them. Changes on those locator need to be made everywhere. These are error prone. Hence having a single locator declared at the class level would be a better way.</p>\n"}],"owner":{"account_id":10496692,"reputation":1,"user_id":7736679,"display_name":"teaaa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666460238,"creation_date":1666266000,"question_id":74139265,"body_markdown":"I have seen examples put all the By locator fields at the top as instance variables, but if they are only used once within a method surely they should be local? Which is cleaner and easier to read?","title":"should By locators in selenium be kept as instance or local variables?","body":"<p>I have seen examples put all the By locator fields at the top as instance variables, but if they are only used once within a method surely they should be local? Which is cleaner and easier to read?</p>\n"},{"tags":["java","reactive-programming","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1666453272,"post_id":74164685,"comment_id":130942867,"body_markdown":"Does this answer your question? [block()/blockFirst()/blockLast() are blocking error when calling bodyToMono AFTER exchange()](https://stackoverflow.com/questions/51449889/block-blockfirst-blocklast-are-blocking-error-when-calling-bodytomono-afte)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51449889/block-blockfirst-blocklast-are-blocking-error-when-calling-bodytomono-afte\">block()/blockFirst()/blockLast() are blocking error when calling bodyToMono AFTER exchange()</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666454066,"post_id":74164685,"comment_id":130943063,"body_markdown":"To make it work asynchronously/error vanish: you have to add `spring-boot-starter-web` (dependency), i suppose.","body":"To make it work asynchronously/error vanish: you have to add <code>spring-boot-starter-web</code> (dependency), i suppose."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666454137,"post_id":74164685,"comment_id":130943079,"body_markdown":"..to keep it reactive, just: return `Mono&lt;String&gt;` (without &quot;blocking&quot;)","body":"..to keep it reactive, just: return <code>Mono&lt;String&gt;</code> (without &quot;blocking&quot;)"},{"owner":{"account_id":5347729,"reputation":727,"user_id":4262784,"display_name":"Andres"},"score":0,"creation_date":1666455521,"post_id":74164685,"comment_id":130943397,"body_markdown":"It worked by adding spring-boot-starter-web, do you know why it was needed? @xerx593","body":"It worked by adding spring-boot-starter-web, do you know why it was needed? @xerx593"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666455856,"post_id":74164685,"comment_id":130943471,"body_markdown":"In short: This adds &quot;servlet/filters&quot;, which &quot;support blocking&quot; ...","body":"In short: This adds &quot;servlet/filters&quot;, which &quot;support blocking&quot; ..."}],"answers":[{"tags":[],"owner":{"account_id":5347729,"reputation":727,"user_id":4262784,"display_name":"Andres"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1666455795,"creation_date":1666455490,"answer_id":74165177,"question_id":74164685,"body_markdown":"Fixed by adding `spring-boot-starter-web`\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How to return just a String using Webflux - webclient?","body":"<p>Fixed by adding <code>spring-boot-starter-web</code></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666459904,"creation_date":1666459904,"answer_id":74165689,"question_id":74164685,"body_markdown":"Not sure what is your goal but the whole idea of Webflux is to create non-blocking reactive services. `WebClient` support both async and sync usage but the error you are getting is from reactive controller. There is no reason to block in your example - just change return type from `String` to `Mono&lt;String&gt;`.\r\n\r\n\r\n```\r\n@GetMapping(&quot;/&quot;)\r\npublic Mono&lt;String&gt; home() {\r\nString resp = webclient.get()                             \r\n       .uri(ANY_URL).retrieve()\r\n       .bodyToMono(String.class);\r\n }\r\n```\r\n\r\nThe intuition behind this is\r\n\r\n - use `spring-boot-starter-webflux` and `WebClient` in async mode to create reactive services. Controller should return `Mono` or `Flux`. The caveat here is that your logic should be reactive (async) end-to-end to get full advantage of the Reactive API.\r\n - add `spring-boot-starter-web` if you want to build non-reactive service and just use `WebClient` in sync (blocking) mode as your Http client.\r\n\r\n ","title":"How to return just a String using Webflux - webclient?","body":"<p>Not sure what is your goal but the whole idea of Webflux is to create non-blocking reactive services. <code>WebClient</code> support both async and sync usage but the error you are getting is from reactive controller. There is no reason to block in your example - just change return type from <code>String</code> to <code>Mono&lt;String&gt;</code>.</p>\n<pre><code>@GetMapping(&quot;/&quot;)\npublic Mono&lt;String&gt; home() {\nString resp = webclient.get()                             \n       .uri(ANY_URL).retrieve()\n       .bodyToMono(String.class);\n }\n</code></pre>\n<p>The intuition behind this is</p>\n<ul>\n<li>use <code>spring-boot-starter-webflux</code> and <code>WebClient</code> in async mode to create reactive services. Controller should return <code>Mono</code> or <code>Flux</code>. The caveat here is that your logic should be reactive (async) end-to-end to get full advantage of the Reactive API.</li>\n<li>add <code>spring-boot-starter-web</code> if you want to build non-reactive service and just use <code>WebClient</code> in sync (blocking) mode as your Http client.</li>\n</ul>\n"}],"owner":{"account_id":5347729,"reputation":727,"user_id":4262784,"display_name":"Andres"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74165177,"answer_count":2,"score":2,"last_activity_date":1666459904,"creation_date":1666451174,"question_id":74164685,"body_markdown":"I would like to make this call and return a string\r\nbut I&#39;m having this error:\r\n\r\n***&quot;java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, \r\nwhich is not supported in thread reactor-http-nio-3&quot;***\r\n\r\nI dont understand why am I doing wrong?\r\nWebClient supports asynchronous as well as synchronous calls.\r\n\r\nThis a springboot project with just 3 dependencies.\r\n\r\n\r\n\r\nHow can I return just a string like a normal synchronous call? \r\n\r\n```\r\n@RestController\r\npublic class HomeController {\r\n\r\n@GetMapping(&quot;/&quot;)\r\npublic String home() {\r\nString resp = webclient.get()                             \r\n                       .uri(ANY_URL).retrieve()\r\n                       .bodyToMono(String.class)\r\n                       .block();\r\nreturn resp;\r\n\r\n }\r\n\r\n\r\n}\r\n\r\npom.xml\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n```\r\n\r\nThanks.","title":"How to return just a String using Webflux - webclient?","body":"<p>I would like to make this call and return a string\nbut I'm having this error:</p>\n<p><em><strong>&quot;java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking,\nwhich is not supported in thread reactor-http-nio-3&quot;</strong></em></p>\n<p>I dont understand why am I doing wrong?\nWebClient supports asynchronous as well as synchronous calls.</p>\n<p>This a springboot project with just 3 dependencies.</p>\n<p>How can I return just a string like a normal synchronous call?</p>\n<pre><code>@RestController\npublic class HomeController {\n\n@GetMapping(&quot;/&quot;)\npublic String home() {\nString resp = webclient.get()                             \n                       .uri(ANY_URL).retrieve()\n                       .bodyToMono(String.class)\n                       .block();\nreturn resp;\n\n }\n\n\n}\n\npom.xml\n&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666580114,"post_id":74165518,"comment_id":130963333,"body_markdown":"The `CustomerGUI` doesn&#39;t seem to interact with `objectOutputStream` or `objectInputStream` at all. It creates a new `AdminGUI` instance each time the button is clicked. If `AdminGUI` is the same, then each button click will establish a new connection to the server, without closing any existing ones.","body":"The <code>CustomerGUI</code> doesn&#39;t seem to interact with <code>objectOutputStream</code> or <code>objectInputStream</code> at all. It creates a new <code>AdminGUI</code> instance each time the button is clicked. If <code>AdminGUI</code> is the same, then each button click will establish a new connection to the server, without closing any existing ones."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666580206,"post_id":74165518,"comment_id":130963349,"body_markdown":"Also, each client connection creates a new thread _pool_ on the server. You probably want to share a single thread pool, created when the server starts.","body":"Also, each client connection creates a new thread <i>pool</i> on the server. You probably want to share a single thread pool, created when the server starts."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666580331,"post_id":74165518,"comment_id":130963365,"body_markdown":"Also, does the server need to support more than one connected client? Right now, there is only one field for the client `socket`, `objectInputStream`, and `objectOutputStream`. Each new connection will replace those without closing the existing connection.","body":"Also, does the server need to support more than one connected client? Right now, there is only one field for the client <code>socket</code>, <code>objectInputStream</code>, and <code>objectOutputStream</code>. Each new connection will replace those without closing the existing connection."}],"owner":{"account_id":22250524,"reputation":181,"user_id":16483521,"display_name":"ServletException"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666458461,"creation_date":1666458461,"question_id":74165518,"body_markdown":"I have a simple client and server gui, there are 2 client guis/frames (a user can switch to a different gui and go back for an unknown amount of times), I wanted to know what would be the best approach for a use-case like this.\r\n\r\nI&#39;ve tried using SwingWorker, but then my server would stop handling requests after about 10 times of going back and fourth between the 2 client guis, I&#39;m aware I could set a number of threads to use but since I won&#39;t know how many times a user will switch guis, I couldn&#39;t get it to work using that.\r\n\r\n\r\nI&#39;m currently using a FixedThreadPool, the number of threads in the pool is also what I&#39;m not sure about (currently I&#39;m using this to set it to the # of cores the computer has -&gt; Runtime.getRuntime().availableProcessors())\r\n\r\n\r\nThe problem now is that, I can move back and forth between guis, but sometimes the program would hang after about 20 times, although it is rare, it does seem to happen, and when I try to print out the current thread, I always get something like this, the thread # doesn&#39;t seem to change, only the pool # does.\r\n\r\n\r\n**pool-27-thread-1**\r\n\r\n\r\nHere is my code\r\n\r\n**Server**\r\n```\r\npublic class Testserver {\r\n\r\n    private ServerSocket serverSocket;\r\n    private Socket client;\r\n    private final int PORT = 5432;\r\n    private ObjectOutputStream objectOutputStream;\r\n    private ObjectInputStream objectInputStream;\r\n     private ThreadPoolExecutor executor;\r\n\r\n    public Testserver() {\r\n        System.out.println(Thread.currentThread().getName());\r\n        try {\r\n            serverSocket = new ServerSocket(PORT);\r\n            System.out.println(&quot;Waiting for connection&quot;);\r\n\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(Testserver.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n\r\n    }\r\n\r\n    private void listenForClients() {\r\n        try {\r\n\r\n            while (true) {\r\n                client = serverSocket.accept();\r\n                System.out.println(&quot;client connected&quot;);\r\n                objectOutputStream = new ObjectOutputStream(client.getOutputStream());\r\n                objectInputStream = new ObjectInputStream(client.getInputStream());\r\n                processClient();\r\n            }\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(Testserver.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            new Testserver().listenForClients();\r\n        });\r\n    }\r\n    \r\n\r\n    private void processClient() {\r\n        System.out.println(&quot;CORES: &quot; + Runtime.getRuntime().availableProcessors());\r\n        executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\r\n        \r\n        executor.execute(() -&gt; {\r\n        System.out.println(Thread.currentThread().getName());\r\n\r\n        do {\r\n            try {\r\n                String messageFromClient = (String) objectInputStream.readObject();\r\n                System.out.println(&quot;[CLIENT] &quot; + messageFromClient);\r\n\r\n            } catch (IOException ex) {\r\n            } catch (ClassNotFoundException ex) {\r\n            }\r\n        } while (true);\r\n        });\r\n        \r\n        executor.shutdown();\r\n        \r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n----\r\n\r\n**CustomerGUI**\r\n```\r\npublic class CustomerGUI extends JFrame implements ActionListener{\r\n    \r\n    private Socket server;\r\n    private ObjectOutputStream objectOutputStream;\r\n    private ObjectInputStream objectInputStream;\r\n    private JButton btnAdminGUI;\r\n    private final int PORT = 5432;\r\n    \r\n    public CustomerGUI()  {\r\n        \r\n        btnAdminGUI = new JButton(&quot;Go to Admin GUI&quot;);\r\n               \r\n        try {\r\n            server = new Socket(&quot;localhost&quot;, PORT);\r\n            System.out.println(&quot;Connected to server&quot;);\r\n            \r\n            objectOutputStream = new ObjectOutputStream(server.getOutputStream());\r\n            objectInputStream = new ObjectInputStream(server.getInputStream());\r\n        } catch (IOException ex) {\r\n            JOptionPane.showMessageDialog(null, &quot;Error: &quot; + ex.getMessage());\r\n        }\r\n        \r\n        btnAdminGUI.addActionListener(this);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            new CustomerGUI().setGUI();\r\n        });\r\n    }\r\n    \r\n    public void setGUI() {\r\n        setLayout(new GridLayout(2,1));\r\n        add(btnAdminGUI);\r\n        setSize(300, 400);\r\n        setVisible(true);\r\n    }\r\n    \r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n       if(e.getSource() == btnAdminGUI) {\r\n           new AdminGUI().setGUI();  \r\n           dispose();\r\n       }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThe other GUI, AdminGUI is pretty much the same, just goes to the CustomerGUI after clicking a button.\r\n\r\n\r\n\r\n\r\n[![Output when printing current thread in the server][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q5fzq.png","title":"Best way to go about handling client/server swing gui using Threads","body":"<p>I have a simple client and server gui, there are 2 client guis/frames (a user can switch to a different gui and go back for an unknown amount of times), I wanted to know what would be the best approach for a use-case like this.</p>\n<p>I've tried using SwingWorker, but then my server would stop handling requests after about 10 times of going back and fourth between the 2 client guis, I'm aware I could set a number of threads to use but since I won't know how many times a user will switch guis, I couldn't get it to work using that.</p>\n<p>I'm currently using a FixedThreadPool, the number of threads in the pool is also what I'm not sure about (currently I'm using this to set it to the # of cores the computer has -&gt; Runtime.getRuntime().availableProcessors())</p>\n<p>The problem now is that, I can move back and forth between guis, but sometimes the program would hang after about 20 times, although it is rare, it does seem to happen, and when I try to print out the current thread, I always get something like this, the thread # doesn't seem to change, only the pool # does.</p>\n<p><strong>pool-27-thread-1</strong></p>\n<p>Here is my code</p>\n<p><strong>Server</strong></p>\n<pre><code>public class Testserver {\n\n    private ServerSocket serverSocket;\n    private Socket client;\n    private final int PORT = 5432;\n    private ObjectOutputStream objectOutputStream;\n    private ObjectInputStream objectInputStream;\n     private ThreadPoolExecutor executor;\n\n    public Testserver() {\n        System.out.println(Thread.currentThread().getName());\n        try {\n            serverSocket = new ServerSocket(PORT);\n            System.out.println(&quot;Waiting for connection&quot;);\n\n        } catch (IOException ex) {\n            Logger.getLogger(Testserver.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n    }\n\n    private void listenForClients() {\n        try {\n\n            while (true) {\n                client = serverSocket.accept();\n                System.out.println(&quot;client connected&quot;);\n                objectOutputStream = new ObjectOutputStream(client.getOutputStream());\n                objectInputStream = new ObjectInputStream(client.getInputStream());\n                processClient();\n            }\n        } catch (IOException ex) {\n            Logger.getLogger(Testserver.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            new Testserver().listenForClients();\n        });\n    }\n    \n\n    private void processClient() {\n        System.out.println(&quot;CORES: &quot; + Runtime.getRuntime().availableProcessors());\n        executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\n        \n        executor.execute(() -&gt; {\n        System.out.println(Thread.currentThread().getName());\n\n        do {\n            try {\n                String messageFromClient = (String) objectInputStream.readObject();\n                System.out.println(&quot;[CLIENT] &quot; + messageFromClient);\n\n            } catch (IOException ex) {\n            } catch (ClassNotFoundException ex) {\n            }\n        } while (true);\n        });\n        \n        executor.shutdown();\n        \n    }\n\n}\n</code></pre>\n<hr />\n<p><strong>CustomerGUI</strong></p>\n<pre><code>public class CustomerGUI extends JFrame implements ActionListener{\n    \n    private Socket server;\n    private ObjectOutputStream objectOutputStream;\n    private ObjectInputStream objectInputStream;\n    private JButton btnAdminGUI;\n    private final int PORT = 5432;\n    \n    public CustomerGUI()  {\n        \n        btnAdminGUI = new JButton(&quot;Go to Admin GUI&quot;);\n               \n        try {\n            server = new Socket(&quot;localhost&quot;, PORT);\n            System.out.println(&quot;Connected to server&quot;);\n            \n            objectOutputStream = new ObjectOutputStream(server.getOutputStream());\n            objectInputStream = new ObjectInputStream(server.getInputStream());\n        } catch (IOException ex) {\n            JOptionPane.showMessageDialog(null, &quot;Error: &quot; + ex.getMessage());\n        }\n        \n        btnAdminGUI.addActionListener(this);\n    }\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            new CustomerGUI().setGUI();\n        });\n    }\n    \n    public void setGUI() {\n        setLayout(new GridLayout(2,1));\n        add(btnAdminGUI);\n        setSize(300, 400);\n        setVisible(true);\n    }\n    \n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n       if(e.getSource() == btnAdminGUI) {\n           new AdminGUI().setGUI();  \n           dispose();\n       }\n    }\n}\n\n</code></pre>\n<p>The other GUI, AdminGUI is pretty much the same, just goes to the CustomerGUI after clicking a button.</p>\n<p><a href=\"https://i.stack.imgur.com/Q5fzq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q5fzq.png\" alt=\"Output when printing current thread in the server\" /></a></p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1666334291,"post_id":74148037,"comment_id":130916526,"body_markdown":"You say the result is not as expected. But what *do you expect?*","body":"You say the result is not as expected. But what <i>do you expect?</i>"},{"owner":{"account_id":26098741,"reputation":13,"user_id":19794514,"display_name":"Muhammad Alghifari"},"score":0,"creation_date":1666350142,"post_id":74148037,"comment_id":130921688,"body_markdown":"the results that I expect, such as data per page for example 2 , in the results of the image I include it is like a bug where the data on the initial page is 1 but the data is repeated on the 2nd page","body":"the results that I expect, such as data per page for example 2 , in the results of the image I include it is like a bug where the data on the initial page is 1 but the data is repeated on the 2nd page"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1666417274,"post_id":74148037,"comment_id":130936970,"body_markdown":"If you don&#39;t want the data to repeat, then you should not add the same `itemTable` object again and again but instead create a new one at the start of the loop. I.e. you should pull the two lines into the loop that currently are before the loop.","body":"If you don&#39;t want the data to repeat, then you should not add the same <code>itemTable</code> object again and again but instead create a new one at the start of the loop. I.e. you should pull the two lines into the loop that currently are before the loop."},{"owner":{"account_id":26098741,"reputation":13,"user_id":19794514,"display_name":"Muhammad Alghifari"},"score":0,"creation_date":1666428101,"post_id":74148037,"comment_id":130938232,"body_markdown":"its brilliant!!,You have saved my life.","body":"its brilliant!!,You have saved my life."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1666457891,"post_id":74148037,"comment_id":130943926,"body_markdown":"Good! I&#39;ll post that as an actual answer...","body":"Good! I&#39;ll post that as an actual answer..."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666458156,"creation_date":1666458156,"answer_id":74165482,"question_id":74148037,"body_markdown":"In a comment you clarified\r\n\r\n&gt;the results that I expect, such as data per page for example 2 , in the results of the image I include it is like a bug where the data on the initial page is 1 but the data is repeated on the 2nd page\r\n\r\nIf you don&#39;t want the data to repeat, then you should not add the same `itemTable` object again and again but instead create a new one at the start of the loop.\r\n\r\nI.e. you should pull the two lines into the loop that currently are before the loop, instead of\r\n```\r\nPdfPTable itemTable = new PdfPTable(headerColumns.length);\r\nitemTable.setWidthPercentage(100);\r\nfor(int i = 0;i&lt; data.size();i++){\r\n    ...\r\n    document.add(itemTable);\r\n}\r\n```\r\nuse\r\n```\r\nfor(int i = 0;i&lt; data.size();i++){\r\n    PdfPTable itemTable = new PdfPTable(headerColumns.length);\r\n    itemTable.setWidthPercentage(100);\r\n    ...\r\n    document.add(itemTable);\r\n}\r\n```\r\n\r\n","title":"How To Set Data Per Page Itextpdf Java","body":"<p>In a comment you clarified</p>\n<blockquote>\n<p>the results that I expect, such as data per page for example 2 , in the results of the image I include it is like a bug where the data on the initial page is 1 but the data is repeated on the 2nd page</p>\n</blockquote>\n<p>If you don't want the data to repeat, then you should not add the same <code>itemTable</code> object again and again but instead create a new one at the start of the loop.</p>\n<p>I.e. you should pull the two lines into the loop that currently are before the loop, instead of</p>\n<pre><code>PdfPTable itemTable = new PdfPTable(headerColumns.length);\nitemTable.setWidthPercentage(100);\nfor(int i = 0;i&lt; data.size();i++){\n    ...\n    document.add(itemTable);\n}\n</code></pre>\n<p>use</p>\n<pre><code>for(int i = 0;i&lt; data.size();i++){\n    PdfPTable itemTable = new PdfPTable(headerColumns.length);\n    itemTable.setWidthPercentage(100);\n    ...\n    document.add(itemTable);\n}\n</code></pre>\n"}],"owner":{"account_id":26098741,"reputation":13,"user_id":19794514,"display_name":"Muhammad Alghifari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74165482,"answer_count":1,"score":1,"last_activity_date":1666458156,"creation_date":1666317965,"question_id":74148037,"body_markdown":"I made an export pdf system using the java Itext pdf library, but there is a problem when I want to split the data of each page, I want to dynamically divide the data of each page using input, how to do it?like the code below, but the result is not as expected \r\n\r\n    //looping data row\r\n            PdfPTable itemTable = new PdfPTable(headerColumns.length);\r\n            itemTable.setWidthPercentage(100);\r\n            for(int i = 0;i&lt; data.size();i++){\r\n\r\n                // header area\r\n                PdfPCell area = new PdfPCell(new Phrase(data.get(i).get(&quot;area&quot;).toString()));\r\n                area.setPaddingLeft(4);\r\n                area.setVerticalAlignment(Element.ALIGN_MIDDLE);\r\n                area.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n                itemTable.addCell(area);\r\n\r\n                // header new_sa\r\n                PdfPCell newSa = new PdfPCell(new Phrase(data.get(i).get(&quot;new_sa&quot;).toString()));\r\n                newSa.setPaddingLeft(4);\r\n                newSa.setVerticalAlignment(Element.ALIGN_MIDDLE);\r\n                newSa.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n                itemTable.addCell(newSa);\r\n\r\n                // header new_sa\r\n                PdfPCell saMtd = new PdfPCell(new Phrase(data.get(i).get(&quot;sa_mtd&quot;).toString()));\r\n                saMtd.setPaddingLeft(4);\r\n                saMtd.setVerticalAlignment(Element.ALIGN_MIDDLE);\r\n                saMtd.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n                itemTable.addCell(saMtd);\r\n\r\n                // header sa_last_month\r\n                PdfPCell saLastMonth = new PdfPCell(new Phrase(data.get(i).get(&quot;sa_last_month&quot;).toString()));\r\n                saLastMonth.setPaddingLeft(4);\r\n                saLastMonth.setVerticalAlignment(Element.ALIGN_MIDDLE);\r\n                saLastMonth.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n                itemTable.addCell(saMtd);\r\n\r\n                //set maxmimum data per page 2\r\n                if(itemTable.getRows().size() == 2){\r\n                    document.newPage();\r\n                }\r\n                document.add(table);\r\n                document.add(itemTable);\r\n            }\r\n            document.close();\r\n\r\npdf result of the code above\r\n[picture page 1][1]\r\n[picture page 2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p2om2.png\r\n  [2]: https://i.stack.imgur.com/v84dP.png","title":"How To Set Data Per Page Itextpdf Java","body":"<p>I made an export pdf system using the java Itext pdf library, but there is a problem when I want to split the data of each page, I want to dynamically divide the data of each page using input, how to do it?like the code below, but the result is not as expected</p>\n<pre><code>//looping data row\n        PdfPTable itemTable = new PdfPTable(headerColumns.length);\n        itemTable.setWidthPercentage(100);\n        for(int i = 0;i&lt; data.size();i++){\n\n            // header area\n            PdfPCell area = new PdfPCell(new Phrase(data.get(i).get(&quot;area&quot;).toString()));\n            area.setPaddingLeft(4);\n            area.setVerticalAlignment(Element.ALIGN_MIDDLE);\n            area.setHorizontalAlignment(Element.ALIGN_CENTER);\n            itemTable.addCell(area);\n\n            // header new_sa\n            PdfPCell newSa = new PdfPCell(new Phrase(data.get(i).get(&quot;new_sa&quot;).toString()));\n            newSa.setPaddingLeft(4);\n            newSa.setVerticalAlignment(Element.ALIGN_MIDDLE);\n            newSa.setHorizontalAlignment(Element.ALIGN_CENTER);\n            itemTable.addCell(newSa);\n\n            // header new_sa\n            PdfPCell saMtd = new PdfPCell(new Phrase(data.get(i).get(&quot;sa_mtd&quot;).toString()));\n            saMtd.setPaddingLeft(4);\n            saMtd.setVerticalAlignment(Element.ALIGN_MIDDLE);\n            saMtd.setHorizontalAlignment(Element.ALIGN_CENTER);\n            itemTable.addCell(saMtd);\n\n            // header sa_last_month\n            PdfPCell saLastMonth = new PdfPCell(new Phrase(data.get(i).get(&quot;sa_last_month&quot;).toString()));\n            saLastMonth.setPaddingLeft(4);\n            saLastMonth.setVerticalAlignment(Element.ALIGN_MIDDLE);\n            saLastMonth.setHorizontalAlignment(Element.ALIGN_CENTER);\n            itemTable.addCell(saMtd);\n\n            //set maxmimum data per page 2\n            if(itemTable.getRows().size() == 2){\n                document.newPage();\n            }\n            document.add(table);\n            document.add(itemTable);\n        }\n        document.close();\n</code></pre>\n<p>pdf result of the code above\n<a href=\"https://i.stack.imgur.com/p2om2.png\" rel=\"nofollow noreferrer\">picture page 1</a>\n<a href=\"https://i.stack.imgur.com/v84dP.png\" rel=\"nofollow noreferrer\">picture page 2</a></p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":25241292,"reputation":516,"user_id":19075135,"display_name":"Neo"},"score":0,"creation_date":1666858898,"post_id":74165456,"comment_id":131036312,"body_markdown":"Just so you know, you can edit your Question. As this is not an enswer, I suggest you remove it and add the code to your question","body":"Just so you know, you can edit your Question. As this is not an enswer, I suggest you remove it and add the code to your question"}],"tags":[],"owner":{"account_id":26702783,"reputation":1,"user_id":20309535,"display_name":"AHTISHAM ABID"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666457916,"creation_date":1666457916,"answer_id":74165456,"question_id":74165207,"body_markdown":"**Use this Code instead of Above.**\r\n\r\n \r\n\r\n    InputStream inputStream;\r\n                    FileOutputStream fileOutputStream;\r\n                    try {\r\n                        inputStream = context.getResources().openRawResource(R.raw.audio);\r\n                        fileOutputStream = new FileOutputStream(\r\n                                new File(Environment.getExternalStorageDirectory(), &quot;audio.mp3&quot;));\r\n    \r\n                        byte[] buffer = new byte[1024];\r\n                        int length;\r\n                        while ((length = inputStream.read(buffer)) &gt; 0) {\r\n                            fileOutputStream.write(buffer, 0, length);\r\n                        }\r\n    \r\n                        inputStream.close();\r\n                        fileOutputStream.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n    \r\n                    Intent intent = new Intent(Intent.ACTION_SEND);\r\n                    intent.putExtra(Intent.EXTRA_STREAM,\r\n                            Uri.parse(Environment.getExternalStorageDirectory() + &quot;/audio.mp3&quot;));\r\n                    intent.setType(&quot;audio/*&quot;);\r\n                    context.startActivity(Intent.createChooser(intent, &quot;Share sound&quot;));","title":"I want to Share my raw audio.mp3 file through intent but I an getting error","body":"<p><strong>Use this Code instead of Above.</strong></p>\n<pre><code>InputStream inputStream;\n                FileOutputStream fileOutputStream;\n                try {\n                    inputStream = context.getResources().openRawResource(R.raw.audio);\n                    fileOutputStream = new FileOutputStream(\n                            new File(Environment.getExternalStorageDirectory(), &quot;audio.mp3&quot;));\n\n                    byte[] buffer = new byte[1024];\n                    int length;\n                    while ((length = inputStream.read(buffer)) &gt; 0) {\n                        fileOutputStream.write(buffer, 0, length);\n                    }\n\n                    inputStream.close();\n                    fileOutputStream.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n                Intent intent = new Intent(Intent.ACTION_SEND);\n                intent.putExtra(Intent.EXTRA_STREAM,\n                        Uri.parse(Environment.getExternalStorageDirectory() + &quot;/audio.mp3&quot;));\n                intent.setType(&quot;audio/*&quot;);\n                context.startActivity(Intent.createChooser(intent, &quot;Share sound&quot;));\n</code></pre>\n"}],"owner":{"account_id":26702783,"reputation":1,"user_id":20309535,"display_name":"AHTISHAM ABID"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666457916,"creation_date":1666455814,"question_id":74165207,"body_markdown":" Uri uri = Uri.parse(&quot;content://&quot; + context.getPackageName() + &quot;/&quot; + R.raw.audio);\r\n\r\n                Intent share = new Intent(Intent.ACTION_SEND);\r\n                share.setType(&quot;audio/*&quot;);\r\n                share.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                share.putExtra(Intent.EXTRA_STREAM, uri);\r\n                view.getContext().startActivity(Intent.createChooser(share, &quot;Share Sound File&quot;));","title":"I want to Share my raw audio.mp3 file through intent but I an getting error","body":"<p>Uri uri = Uri.parse(&quot;content://&quot; + context.getPackageName() + &quot;/&quot; + R.raw.audio);</p>\n<pre><code>            Intent share = new Intent(Intent.ACTION_SEND);\n            share.setType(&quot;audio/*&quot;);\n            share.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n            share.putExtra(Intent.EXTRA_STREAM, uri);\n            view.getContext().startActivity(Intent.createChooser(share, &quot;Share Sound File&quot;));\n</code></pre>\n"},{"tags":["java","android","facebook","api","facebook-graph-api"],"comments":[{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1553435772,"post_id":55324389,"comment_id":97375235,"body_markdown":"Prior to posting on StackOverflow, you should come up with, at least, a small snippet of code. Facebook has its own page for its APIs https://developers.facebook.com/docs/ and for groups https://developers.facebook.com/docs/groups-api/common-uses#getting-group-posts","body":"Prior to posting on StackOverflow, you should come up with, at least, a small snippet of code. Facebook has its own page for its APIs <a href=\"https://developers.facebook.com/docs/\" rel=\"nofollow noreferrer\">developers.facebook.com/docs</a> and for groups <a href=\"https://developers.facebook.com/docs/groups-api/common-uses#getting-group-posts\" rel=\"nofollow noreferrer\">developers.facebook.com/docs/groups-api/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14300431,"reputation":349,"user_id":10329877,"display_name":"Dimi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666457897,"creation_date":1553436000,"answer_id":55324567,"question_id":55324389,"body_markdown":"I am guessing you tried to do it with [facebook API][1] and didn&#39;t find a way. &lt;br&gt; \r\n\r\n*You can perform a GET operation on the `/{group-id}/feed` edge to get posts on a Group.*\r\n\r\n    curl -i -X GET \\ &quot;https://graph.facebook.com/554611227955614/feed?limit=5&amp;access_token=EAACEdEos0...&quot;\r\n\r\nAnother solution would be to use a tool such as [chromedriver][2] and scrape the data. In other words to create a web scraper. In any case, I think, it is not allowed based on terms of use of Facebook. There must be a reason that there is no such functionality in their official API (if thats the case) \r\n\r\n\r\n  [1]: https://developers.facebook.com/docs/groups-api/common-uses#getting-group-posts\r\n  [2]: http://chromedriver.chromium.org/","title":"Get facebook posts from a group","body":"<p>I am guessing you tried to do it with <a href=\"https://developers.facebook.com/docs/groups-api/common-uses#getting-group-posts\" rel=\"nofollow noreferrer\">facebook API</a> and didn't find a way. <br></p>\n<p><em>You can perform a GET operation on the <code>/{group-id}/feed</code> edge to get posts on a Group.</em></p>\n<pre><code>curl -i -X GET \\ &quot;https://graph.facebook.com/554611227955614/feed?limit=5&amp;access_token=EAACEdEos0...&quot;\n</code></pre>\n<p>Another solution would be to use a tool such as <a href=\"http://chromedriver.chromium.org/\" rel=\"nofollow noreferrer\">chromedriver</a> and scrape the data. In other words to create a web scraper. In any case, I think, it is not allowed based on terms of use of Facebook. There must be a reason that there is no such functionality in their official API (if thats the case)</p>\n"}],"owner":{"account_id":15586994,"reputation":19,"user_id":11245218,"display_name":"makisgr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2549,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"closed_date":1553473612,"accepted_answer_id":55324567,"answer_count":1,"score":-2,"last_activity_date":1666457897,"creation_date":1553434783,"question_id":55324389,"body_markdown":"I am developing an android app and I want the app to get post from a facebook group which I am admin.How is that possible? I search online but I couldn&#39;t find a solution to the problem.\r\n\r\nThanks in advanceHey everoyne .I am developing an android app and I want the app to get post from a facebook group which I am admin.How is that possible? I search online but I couldn&#39;t find a solution to the problem.\r\n\r\nThanks in advance","title":"Get facebook posts from a group","body":"<p>I am developing an android app and I want the app to get post from a facebook group which I am admin.How is that possible? I search online but I couldn't find a solution to the problem.</p>\n\n<p>Thanks in advanceHey everoyne .I am developing an android app and I want the app to get post from a facebook group which I am admin.How is that possible? I search online but I couldn't find a solution to the problem.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","android","android-layout","android-recyclerview"],"comments":[{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1666681951,"post_id":74159002,"comment_id":130988534,"body_markdown":"You&#39;re calling findViewById 1) on the activity, not the fragment, 2) before you inflate the fragment&#39;s view.","body":"You&#39;re calling findViewById 1) on the activity, not the fragment, 2) before you inflate the fragment&#39;s view."}],"answers":[{"comments":[{"owner":{"account_id":25977417,"reputation":15,"user_id":19691686,"display_name":"Rakshit"},"score":0,"creation_date":1666424496,"post_id":74159122,"comment_id":130937766,"body_markdown":"if possible can you elaborate more because I am beginner and I didn&#39;t get what you&#39;ve answered.","body":"if possible can you elaborate more because I am beginner and I didn&#39;t get what you&#39;ve answered."}],"tags":[],"owner":{"account_id":26696794,"reputation":141,"user_id":20304512,"display_name":"BigBeef"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1666457473,"creation_date":1666386186,"answer_id":74159122,"question_id":74159002,"body_markdown":"   \r\n\r\n     @Override \r\n        public View onCreateView(LayoutInflater inflater, \r\n    ViewGroup container, Bundle savedInstanceState) {\r\n                    // Inflate the layout for this fragment\r\n                    View v = inflater.inflate(R.layout.fragment_home, container, false)\r\n                    add = v.findViewById(R.id.addButton);\r\n                    tabLayout = v.findViewById(R.id.tabLayout);\r\n                    viewPager2 = v.findViewById(R.id.viewPager);\r\n                    myAdapter = new MyAdapter(this);\r\n                    viewPager2.setAdapter(myAdapter);\r\n                    add.setOnClickListener(view -&gt; {\r\n                        Intent intent = new Intent(getActivity().getApplicationContext(), AddMesurement.class);\r\n                        startActivity(intent);\r\n                    });\r\n                    tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n                        @Override\r\n                        public void onTabSelected(TabLayout.Tab tab) {\r\n                            viewPager2.setCurrentItem(tab.getPosition());\r\n                        }\r\n                        @Override\r\n                        public void onTabUnselected(TabLayout.Tab tab) {\r\n                        }\r\n                        @Override\r\n                        public void onTabReselected(TabLayout.Tab tab) {\r\n                        }\r\n                    });\r\n                    viewPager2.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\r\n                        @Override\r\n                        public void onPageSelected(int position) {\r\n                            super.onPageSelected(position);\r\n                            tabLayout.getTabAt(position).select();\r\n                        }\r\n                    });\r\n                    return v; }\r\n\r\n\r\nJust add some syntatic sugar cause this editor didn&#39;t paste the code very well.","title":"invoke virtual method &#39;void androidx.viewpager2.widget.ViewPager2.setAdapter(androidx.recyclerview.widget.RecyclerView$Adapter)&#39;on null obj reference","body":"<pre><code> @Override \n    public View onCreateView(LayoutInflater inflater, \nViewGroup container, Bundle savedInstanceState) {\n                // Inflate the layout for this fragment\n                View v = inflater.inflate(R.layout.fragment_home, container, false)\n                add = v.findViewById(R.id.addButton);\n                tabLayout = v.findViewById(R.id.tabLayout);\n                viewPager2 = v.findViewById(R.id.viewPager);\n                myAdapter = new MyAdapter(this);\n                viewPager2.setAdapter(myAdapter);\n                add.setOnClickListener(view -&gt; {\n                    Intent intent = new Intent(getActivity().getApplicationContext(), AddMesurement.class);\n                    startActivity(intent);\n                });\n                tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n                    @Override\n                    public void onTabSelected(TabLayout.Tab tab) {\n                        viewPager2.setCurrentItem(tab.getPosition());\n                    }\n                    @Override\n                    public void onTabUnselected(TabLayout.Tab tab) {\n                    }\n                    @Override\n                    public void onTabReselected(TabLayout.Tab tab) {\n                    }\n                });\n                viewPager2.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\n                    @Override\n                    public void onPageSelected(int position) {\n                        super.onPageSelected(position);\n                        tabLayout.getTabAt(position).select();\n                    }\n                });\n                return v; }\n</code></pre>\n<p>Just add some syntatic sugar cause this editor didn't paste the code very well.</p>\n"}],"owner":{"account_id":25977417,"reputation":15,"user_id":19691686,"display_name":"Rakshit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1666681912,"accepted_answer_id":74159122,"answer_count":1,"score":-5,"last_activity_date":1666457473,"creation_date":1666385216,"question_id":74159002,"body_markdown":"I&#39;m trying to display two fragments with BottomNaviagtionView one is HomeFragment and second is AboutFragment. 1st one is Ho and 2nd mefragment which also has tablayout and contains two fragments which is working properly. \r\nBut now I want 2 only main fragments from bottomNavigationview 1st HomeFragment and 2nd Aboutfragment.\r\n\r\n\r\n**HomeFragment.java**\r\n\r\n    public class HomeFragment extends Fragment {\r\n    FloatingActionButton add;\r\n    TabLayout tabLayout;\r\n    ViewPager2 viewPager2;\r\n    MyAdapter myAdapter;\r\n    public HomeFragment() {\r\n        // Required empty public constructor\r\n    }\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        add = getActivity().findViewById(R.id.addButton);\r\n        tabLayout = getActivity().findViewById(R.id.tabLayout);\r\n        viewPager2 = getActivity().findViewById(R.id.viewPager);\r\n        myAdapter = new MyAdapter(this);\r\n        viewPager2.setAdapter(myAdapter);//this is where error occured\r\n         //Attempt to invoke virtual method &#39;void androidx.viewpager2.widget.ViewPager2.setAdapter(androidx.recyclerview.widget.RecyclerView$Adapter)&#39; on a null object reference\r\n        add.setOnClickListener(view -&gt; {\r\n            Intent intent = new Intent(getActivity().getApplicationContext(), AddMesurement.class);\r\n            startActivity(intent);\r\n        });\r\n        tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n            @Override\r\n            public void onTabSelected(TabLayout.Tab tab) {\r\n                viewPager2.setCurrentItem(tab.getPosition());\r\n            }\r\n            @Override\r\n            public void onTabUnselected(TabLayout.Tab tab) {\r\n            }\r\n            @Override\r\n            public void onTabReselected(TabLayout.Tab tab) {\r\n            }\r\n        });\r\n        viewPager2.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\r\n            @Override\r\n            public void onPageSelected(int position) {\r\n                super.onPageSelected(position);\r\n                tabLayout.getTabAt(position).select();\r\n            }\r\n        });\r\n        return inflater.inflate(R.layout.fragment_home, container, false);\r\n    }\r\n    }\r\n    \r\n**fragment_home.xml**\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/homeFragment&quot;\r\n    tools:context=&quot;.HomeFragment&quot;&gt;\r\n    \r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/addButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginEnd=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:elevation=&quot;3dp&quot;\r\n        app:borderWidth=&quot;0dp&quot;\r\n        android:src=&quot;@drawable/ic_baseline_note_add_24&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:backgroundTint=&quot;@color/purple_200&quot;\r\n        android:contentDescription=&quot;@string/app_name&quot; /&gt;\r\n    \r\n    &lt;com.google.android.material.tabs.TabLayout\r\n        android:id=&quot;@+id/tabLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; &gt;\r\n        &lt;com.google.android.material.tabs.TabItem\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:id=&quot;@+id/recent&quot;\r\n            android:text=&quot;RECENT&quot;/&gt;\r\n        &lt;com.google.android.material.tabs.TabItem\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:id=&quot;@+id/confirmed&quot;\r\n            android:text=&quot;CONFIRMED&quot;/&gt;\r\n    \r\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n    \r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/viewPager&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/tabLayout&quot;/&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n//this is my main java file which is having bottom bar and I am accessing fregments from this file.\r\n**Homepage.java**\r\n\r\n     public class HomePage extends AppCompatActivity {\r\n    BottomNavigationView bottomNavigationView;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home_page);\r\n        bottomNavigationView = findViewById(R.id.bottomBar);\r\n        bottomNavigationView.setSelectedItemId(R.id.home);\r\n        fragmentReplace(new HomeFragment());\r\n        bottomNavigationView.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                switch (item.getItemId()){\r\n                    case (R.id.home):\r\n                        fragmentReplace(new HomeFragment());\r\n                        break;\r\n                    case (R.id.about):\r\n                        fragmentReplace(new AboutFragment());\r\n                        break;\r\n                    default:\r\n                        fragmentReplace(new HomeFragment());\r\n                        break;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n    private void fragmentReplace(Fragment fragment){\r\n        FragmentManager fragmentManager = getSupportFragmentManager();\r\n        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n        fragmentTransaction.replace(R.id.frameLayout, fragment);\r\n        fragmentTransaction.commit();\r\n    }\r\n    }","title":"invoke virtual method &#39;void androidx.viewpager2.widget.ViewPager2.setAdapter(androidx.recyclerview.widget.RecyclerView$Adapter)&#39;on null obj reference","body":"<p>I'm trying to display two fragments with BottomNaviagtionView one is HomeFragment and second is AboutFragment. 1st one is Ho and 2nd mefragment which also has tablayout and contains two fragments which is working properly.\nBut now I want 2 only main fragments from bottomNavigationview 1st HomeFragment and 2nd Aboutfragment.</p>\n<p><strong>HomeFragment.java</strong></p>\n<pre><code>public class HomeFragment extends Fragment {\nFloatingActionButton add;\nTabLayout tabLayout;\nViewPager2 viewPager2;\nMyAdapter myAdapter;\npublic HomeFragment() {\n    // Required empty public constructor\n}\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n}\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    add = getActivity().findViewById(R.id.addButton);\n    tabLayout = getActivity().findViewById(R.id.tabLayout);\n    viewPager2 = getActivity().findViewById(R.id.viewPager);\n    myAdapter = new MyAdapter(this);\n    viewPager2.setAdapter(myAdapter);//this is where error occured\n     //Attempt to invoke virtual method 'void androidx.viewpager2.widget.ViewPager2.setAdapter(androidx.recyclerview.widget.RecyclerView$Adapter)' on a null object reference\n    add.setOnClickListener(view -&gt; {\n        Intent intent = new Intent(getActivity().getApplicationContext(), AddMesurement.class);\n        startActivity(intent);\n    });\n    tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n        @Override\n        public void onTabSelected(TabLayout.Tab tab) {\n            viewPager2.setCurrentItem(tab.getPosition());\n        }\n        @Override\n        public void onTabUnselected(TabLayout.Tab tab) {\n        }\n        @Override\n        public void onTabReselected(TabLayout.Tab tab) {\n        }\n    });\n    viewPager2.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\n        @Override\n        public void onPageSelected(int position) {\n            super.onPageSelected(position);\n            tabLayout.getTabAt(position).select();\n        }\n    });\n    return inflater.inflate(R.layout.fragment_home, container, false);\n}\n}\n</code></pre>\n<p><strong>fragment_home.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \n xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:id=&quot;@+id/homeFragment&quot;\ntools:context=&quot;.HomeFragment&quot;&gt;\n\n&lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n    android:id=&quot;@+id/addButton&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginEnd=&quot;10dp&quot;\n    android:layout_marginBottom=&quot;10dp&quot;\n    android:elevation=&quot;3dp&quot;\n    app:borderWidth=&quot;0dp&quot;\n    android:src=&quot;@drawable/ic_baseline_note_add_24&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    android:backgroundTint=&quot;@color/purple_200&quot;\n    android:contentDescription=&quot;@string/app_name&quot; /&gt;\n\n&lt;com.google.android.material.tabs.TabLayout\n    android:id=&quot;@+id/tabLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; &gt;\n    &lt;com.google.android.material.tabs.TabItem\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/recent&quot;\n        android:text=&quot;RECENT&quot;/&gt;\n    &lt;com.google.android.material.tabs.TabItem\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/confirmed&quot;\n        android:text=&quot;CONFIRMED&quot;/&gt;\n\n&lt;/com.google.android.material.tabs.TabLayout&gt;\n\n&lt;androidx.viewpager2.widget.ViewPager2\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/viewPager&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/tabLayout&quot;/&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>//this is my main java file which is having bottom bar and I am accessing fregments from this file.\n<strong>Homepage.java</strong></p>\n<pre><code> public class HomePage extends AppCompatActivity {\nBottomNavigationView bottomNavigationView;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_home_page);\n    bottomNavigationView = findViewById(R.id.bottomBar);\n    bottomNavigationView.setSelectedItemId(R.id.home);\n    fragmentReplace(new HomeFragment());\n    bottomNavigationView.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\n        @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n            switch (item.getItemId()){\n                case (R.id.home):\n                    fragmentReplace(new HomeFragment());\n                    break;\n                case (R.id.about):\n                    fragmentReplace(new AboutFragment());\n                    break;\n                default:\n                    fragmentReplace(new HomeFragment());\n                    break;\n            }\n            return true;\n        }\n    });\n}\nprivate void fragmentReplace(Fragment fragment){\n    FragmentManager fragmentManager = getSupportFragmentManager();\n    FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n    fragmentTransaction.replace(R.id.frameLayout, fragment);\n    fragmentTransaction.commit();\n}\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1666457225,"post_id":74165300,"comment_id":130943780,"body_markdown":"What URL are you using as the repo? If it&#39;s the one in the readme of your project then it&#39;s 404ing. Wouldn&#39;t it be https://raw.githubusercontent.com/PolyRocketMatt/Warehouse/main/ ? I&#39;ve never seen this &quot;maven repo in a github repo&quot; done before. Do you have reason to suspect it will work, or are you just hoping if you emulate the structure then it will work? Why don&#39;t you use [jitpack](https://jitpack.io/)? They build and serve artifacts for free. There&#39;s also [Github Packages](https://docs.github.com/en/packages) (haven&#39;t used it)","body":"What URL are you using as the repo? If it&#39;s the one in the readme of your project then it&#39;s 404ing. Wouldn&#39;t it be <a href=\"https://raw.githubusercontent.com/PolyRocketMatt/Warehouse/main/\" rel=\"nofollow noreferrer\">raw.githubusercontent.com/PolyRocketMatt/Warehouse/main</a> ? I&#39;ve never seen this &quot;maven repo in a github repo&quot; done before. Do you have reason to suspect it will work, or are you just hoping if you emulate the structure then it will work? Why don&#39;t you use <a href=\"https://jitpack.io/\" rel=\"nofollow noreferrer\">jitpack</a>? They build and serve artifacts for free. There&#39;s also <a href=\"https://docs.github.com/en/packages\" rel=\"nofollow noreferrer\">Github Packages</a> (haven&#39;t used it)"},{"owner":{"account_id":6933043,"reputation":43,"user_id":5321960,"display_name":"Matthias K."},"score":0,"creation_date":1666457899,"post_id":74165300,"comment_id":130943927,"body_markdown":"I&#39;ll look into Jitpack. For the Game artifact, this approach is working. And yes I am hoping that it will work by emulating the structure. Currently the .pom is auto-generated from a small script. GitHub Packages requires me to use a Github Token and I don&#39;t want that. I&#39;ll try the URL you provided\n\nEDIT: The URL you provided sadly didn&#39;t work","body":"I&#39;ll look into Jitpack. For the Game artifact, this approach is working. And yes I am hoping that it will work by emulating the structure. Currently the .pom is auto-generated from a small script. GitHub Packages requires me to use a Github Token and I don&#39;t want that. I&#39;ll try the URL you provided  EDIT: The URL you provided sadly didn&#39;t work"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1666460996,"post_id":74165300,"comment_id":130944582,"body_markdown":"&quot;*my first question if those are necessary*&quot; According to the docs, yes. [&quot;For each file that is the repository there **must be** a file containing the checksum of the file, typically md5 or sha1&quot;](https://cwiki.apache.org/confluence/display/MAVENOLD/Repository+Layout+-+Final) &quot;*and if so, how I can generate them automatically*&quot; http://checksum-maven-plugin.nicoulaj.net/index.html&quot;","body":"&quot;<i>my first question if those are necessary</i>&quot; According to the docs, yes. <a href=\"https://cwiki.apache.org/confluence/display/MAVENOLD/Repository+Layout+-+Final\" rel=\"nofollow noreferrer\">&quot;For each file that is the repository there <b>must be</b> a file containing the checksum of the file, typically md5 or sha1&quot;</a> &quot;<i>and if so, how I can generate them automatically</i>&quot; <a href=\"http://checksum-maven-plugin.nicoulaj.net/index.html\" rel=\"nofollow noreferrer\">checksum-maven-plugin.nicoulaj.net/index.html</a>&quot;"}],"owner":{"account_id":6933043,"reputation":43,"user_id":5321960,"display_name":"Matthias K."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666456606,"creation_date":1666456606,"question_id":74165300,"body_markdown":"I&#39;m currently in the process of uploading my library to my own repository hosting on GitHub. I have both the .jar and .pom files in the correct locations on GitHub:\r\n\r\ncom/github/polyrocketmatt/kmt/0.0.4/KMT-0.0.4.jar \r\n\r\ncom/github/polyrocketmatt/kmt/0.0.4/KMT-0.0.4.pom\r\n\r\nHowever, when I want to include this jar in another project, maven can not resolve the artifact. Another library of mine however, has the exact same structure on GitHub and is able to be resolved. \r\n\r\ncom/github/polyrocketmatt/Game/3.0.7/Game-3.0.7.jar \r\n\r\ncom/github/polyrocketmatt/Game/3.0.7/Game-3.0.7.pom\r\n\r\nThis library does contain .sha1 and .md5 files, so my first question if those are necessary and if so, how I can generate them automatically from the jar and pom. You can take a look at the whole structure [here][1]. Is there something I&#39;m missing? I&#39;ve been stuck at this for a few hours now. The KMT project itself is a gradle project but I want to host the Jar on my GitHub so it can be used in other Gradle/Maven projects.\r\n \r\n\r\n\r\n  [1]: https://github.com/PolyRocketMatt/Warehouse","title":"Maven doesn&#39;t find artifact on GitHub","body":"<p>I'm currently in the process of uploading my library to my own repository hosting on GitHub. I have both the .jar and .pom files in the correct locations on GitHub:</p>\n<p>com/github/polyrocketmatt/kmt/0.0.4/KMT-0.0.4.jar</p>\n<p>com/github/polyrocketmatt/kmt/0.0.4/KMT-0.0.4.pom</p>\n<p>However, when I want to include this jar in another project, maven can not resolve the artifact. Another library of mine however, has the exact same structure on GitHub and is able to be resolved.</p>\n<p>com/github/polyrocketmatt/Game/3.0.7/Game-3.0.7.jar</p>\n<p>com/github/polyrocketmatt/Game/3.0.7/Game-3.0.7.pom</p>\n<p>This library does contain .sha1 and .md5 files, so my first question if those are necessary and if so, how I can generate them automatically from the jar and pom. You can take a look at the whole structure <a href=\"https://github.com/PolyRocketMatt/Warehouse\" rel=\"nofollow noreferrer\">here</a>. Is there something I'm missing? I've been stuck at this for a few hours now. The KMT project itself is a gradle project but I want to host the Jar on my GitHub so it can be used in other Gradle/Maven projects.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1666438094,"post_id":74163076,"comment_id":130939801,"body_markdown":"The `VideoCapture` class is not a native Java class.  Pointing to the source and explaining how this class works would be helpful.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.","body":"The <code>VideoCapture</code> class is not a native Java class.  Pointing to the source and explaining how this class works would be helpful.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section."},{"owner":{"account_id":8919460,"reputation":25,"user_id":6656649,"accept_rate":0,"display_name":"Shailender Jain"},"score":0,"creation_date":1666442515,"post_id":74163076,"comment_id":130940646,"body_markdown":"org.opencv.videoio.VideoCapture. This is opencvs java biding..","body":"org.opencv.videoio.VideoCapture. This is opencvs java biding.."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1666455711,"post_id":74163076,"comment_id":130943439,"body_markdown":"I see there are [tutorials](https://opencv-java-tutorials.readthedocs.io/en/latest/index.html) for using OpenCV with JavaFX.","body":"I see there are <a href=\"https://opencv-java-tutorials.readthedocs.io/en/latest/index.html\" rel=\"nofollow noreferrer\">tutorials</a> for using OpenCV with JavaFX."}],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1666454930,"post_id":74163313,"comment_id":130943269,"body_markdown":"Method `updateGraphics` calls method `repaint`. Calling `repaint` from a thread which is **not** the [EDT](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html) may cause problems.","body":"Method <code>updateGraphics</code> calls method <code>repaint</code>. Calling <code>repaint</code> from a thread which is <b>not</b> the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">EDT</a> may cause problems."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1666505015,"post_id":74163313,"comment_id":130950279,"body_markdown":"@Abra hmm, repaint may be called from any thread: _To enable app-triggered painting, the AWT provides the following java.awt.Component methods to allow programs to asynchronously request a paint operation_ - from https://www.oracle.com/java/technologies/painting.html","body":"@Abra hmm, repaint may be called from any thread: <i>To enable app-triggered painting, the AWT provides the following java.awt.Component methods to allow programs to asynchronously request a paint operation</i> - from <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/painting.html</a>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1666505737,"post_id":74163313,"comment_id":130950360,"body_markdown":"even though repaint itself isn&#39;t a problem to be called from any thread: not so sure about the rest of the method - it seems to be reading and setting an image field which then is used in painting .. that&#39;s a recipe for problems without proper thread management","body":"even though repaint itself isn&#39;t a problem to be called from any thread: not so sure about the rest of the method - it seems to be reading and setting an image field which then is used in painting .. that&#39;s a recipe for problems without proper thread management"}],"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666455883,"creation_date":1666439683,"answer_id":74163313,"question_id":74163076,"body_markdown":"The problem is in:           \r\n```java\r\n@Override\r\npublic void actionPerformed(ActionEvent arg0) {\r\n    try {\r\n        paintPan.updateGraphics(50, 50);\r\n    } catch (InterruptedException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    }\r\n    repaint();\r\n}\r\n```\r\nespecially in the call of blocking method (it contains endless loop):\r\n\r\n    paintPan.updateGraphics(50, 50);\r\n\r\nis called directly in the event dispatch thread (EDT). When you block this thread then really there can&#39;t be any update because it is the thread that actually paints everything.\r\n\r\nTo release the EDT you can call this method from another thread, e.g. you can create new and start it to execute your method:\r\n```java\r\n@Override\r\npublic void actionPerformed(ActionEvent arg0) {\r\n    new Thread(() -&gt;{\r\n        paintPan.updateGraphics(50, 50);\r\n    }).start();\r\n}\r\n```\r\nThis isn&#39;t the perfect solution, but probably a good starting point.\r\nI would recommend you to read few books so you can improve the code above on your own:\r\n\r\n - Filthy Rich Clients: Developing Animated and Graphical Effects for Desktop Java Applications\r\n - Clean Code: A Handbook of Agile Software Craftsmanship\r\n\r\n","title":"Repaint JPanel with images from video","body":"<p>The problem is in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void actionPerformed(ActionEvent arg0) {\n    try {\n        paintPan.updateGraphics(50, 50);\n    } catch (InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    repaint();\n}\n</code></pre>\n<p>especially in the call of blocking method (it contains endless loop):</p>\n<pre><code>paintPan.updateGraphics(50, 50);\n</code></pre>\n<p>is called directly in the event dispatch thread (EDT). When you block this thread then really there can't be any update because it is the thread that actually paints everything.</p>\n<p>To release the EDT you can call this method from another thread, e.g. you can create new and start it to execute your method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void actionPerformed(ActionEvent arg0) {\n    new Thread(() -&gt;{\n        paintPan.updateGraphics(50, 50);\n    }).start();\n}\n</code></pre>\n<p>This isn't the perfect solution, but probably a good starting point.\nI would recommend you to read few books so you can improve the code above on your own:</p>\n<ul>\n<li>Filthy Rich Clients: Developing Animated and Graphical Effects for Desktop Java Applications</li>\n<li>Clean Code: A Handbook of Agile Software Craftsmanship</li>\n</ul>\n"}],"owner":{"account_id":8919460,"reputation":25,"user_id":6656649,"accept_rate":0,"display_name":"Shailender Jain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666455883,"creation_date":1666437498,"question_id":74163076,"body_markdown":"\r\n\r\nThere is a need to create a video player where i can edit frames. \r\nI am trying to create a JFrame and added JPanel inside.  \r\nI need to capture images from a video and display the same in JPanel.  I\r\ncannot use the custom controls of Java Swings.  I am trying to call\r\nrepaint inside for loop. However, paintComponent is called only for the first time.\r\n\r\n\r\n\r\n    public class MainPaint extends JFrame {\r\n    \r\n    \t\r\n    \tstatic{ System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }\r\n    \tPaintPanel paintPan = null;\r\n    \t\r\n        public MainPaint() {\r\n            setTitle(&quot;Video Panel&quot;);\r\n            setSize(600, 600);\r\n            setLayout(new BorderLayout());\r\n    \r\n             paintPan = new PaintPanel();\r\n            JButton testButon = new JButton(&quot;Display Video&quot;);\r\n            add(paintPan, BorderLayout.CENTER);\r\n            add(testButon, BorderLayout.PAGE_END);\r\n    \r\n            testButon.addActionListener(new ActionListener() {\r\n    \r\n                @Override\r\n                public void actionPerformed(ActionEvent arg0) {\r\n                    try {\r\n    \t\t\t\t\tpaintPan.updateGraphics(50, 50);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n                    repaint();\r\n                }\r\n            });\r\n            setVisible(true);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new MainPaint();\r\n        }\r\n    }\r\n    \r\n    class PaintPanel extends JPanel {\r\n    \r\n        \r\n    \r\n        public PaintPanel() {\r\n           // setBackground(Color.ORANGE);\r\n        }\r\n    \r\n        int count = 0;\r\n        \r\n        @Override\r\n        public void paintComponent(Graphics g) {\r\n            \r\n        \tsuper.paintComponent(g);\r\n            Graphics2D graphics2d = (Graphics2D)  g.create();\r\n           \r\n            graphics2d.drawImage(image, null, 0, 0);\r\n            graphics2d.dispose();\r\n           \r\n        }\r\n    \r\n        BufferedImage image = null;\r\n        public void updateGraphics(int length, int width) throws InterruptedException {\r\n          \r\n            File selectedFile = new File(&quot;C:\\\\image_test\\\\Opencvs\\\\data\\\\test.mp4&quot;);\r\n            \r\n            String filePath = selectedFile.getAbsolutePath();\r\n            \r\n            VideoCapture cap = new VideoCapture(filePath);// Load video using the videocapture method//\r\n             Mat frame = new Mat(); // define a matrix to extract and store pixel info from video//\r\n            Mat dst = new Mat ();\r\n            \r\n            while (true) {\r\n            \t\r\n                if (cap.read(frame)) {\r\n         \r\n                \t\timage = (Mat2bufferedImage(frame)); //setting the results into a frame and initializing it //\r\n                \t\r\n                \t\t repaint();\r\n                \t\t Thread.currentThread().wait(100);\r\n                \t\t\r\n            }// if loop\r\n                }   // while loop   \r\n            \r\n        }\r\n        \r\n        private static BufferedImage Mat2bufferedImage(Mat image) {   // The class described here  takes in matrix and renders the video to the frame  //\r\n    \t\tMatOfByte bytemat = new MatOfByte();\r\n    \t\tImgcodecs.imencode(&quot;.jpg&quot;, image, bytemat);\r\n    \t\tbyte[] bytes = bytemat.toArray();\r\n    \t\tInputStream in = new ByteArrayInputStream(bytes);\r\n    \t\tBufferedImage img = null;\r\n    \t\ttry {\r\n    \t\t\timg = ImageIO.read(in);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn img;\r\n    \t}\r\n    }","title":"Repaint JPanel with images from video","body":"<p>There is a need to create a video player where i can edit frames.\nI am trying to create a JFrame and added JPanel inside.<br />\nI need to capture images from a video and display the same in JPanel.  I\ncannot use the custom controls of Java Swings.  I am trying to call\nrepaint inside for loop. However, paintComponent is called only for the first time.</p>\n<pre><code>public class MainPaint extends JFrame {\n\n    \n    static{ System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }\n    PaintPanel paintPan = null;\n    \n    public MainPaint() {\n        setTitle(&quot;Video Panel&quot;);\n        setSize(600, 600);\n        setLayout(new BorderLayout());\n\n         paintPan = new PaintPanel();\n        JButton testButon = new JButton(&quot;Display Video&quot;);\n        add(paintPan, BorderLayout.CENTER);\n        add(testButon, BorderLayout.PAGE_END);\n\n        testButon.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent arg0) {\n                try {\n                    paintPan.updateGraphics(50, 50);\n                } catch (InterruptedException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n                repaint();\n            }\n        });\n        setVisible(true);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n\n    public static void main(String[] args) {\n        new MainPaint();\n    }\n}\n\nclass PaintPanel extends JPanel {\n\n    \n\n    public PaintPanel() {\n       // setBackground(Color.ORANGE);\n    }\n\n    int count = 0;\n    \n    @Override\n    public void paintComponent(Graphics g) {\n        \n        super.paintComponent(g);\n        Graphics2D graphics2d = (Graphics2D)  g.create();\n       \n        graphics2d.drawImage(image, null, 0, 0);\n        graphics2d.dispose();\n       \n    }\n\n    BufferedImage image = null;\n    public void updateGraphics(int length, int width) throws InterruptedException {\n      \n        File selectedFile = new File(&quot;C:\\\\image_test\\\\Opencvs\\\\data\\\\test.mp4&quot;);\n        \n        String filePath = selectedFile.getAbsolutePath();\n        \n        VideoCapture cap = new VideoCapture(filePath);// Load video using the videocapture method//\n         Mat frame = new Mat(); // define a matrix to extract and store pixel info from video//\n        Mat dst = new Mat ();\n        \n        while (true) {\n            \n            if (cap.read(frame)) {\n     \n                    image = (Mat2bufferedImage(frame)); //setting the results into a frame and initializing it //\n                \n                     repaint();\n                     Thread.currentThread().wait(100);\n                    \n        }// if loop\n            }   // while loop   \n        \n    }\n    \n    private static BufferedImage Mat2bufferedImage(Mat image) {   // The class described here  takes in matrix and renders the video to the frame  //\n        MatOfByte bytemat = new MatOfByte();\n        Imgcodecs.imencode(&quot;.jpg&quot;, image, bytemat);\n        byte[] bytes = bytemat.toArray();\n        InputStream in = new ByteArrayInputStream(bytes);\n        BufferedImage img = null;\n        try {\n            img = ImageIO.read(in);\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return img;\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":16450039,"reputation":109,"user_id":11883685,"display_name":"Erfan Sn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666454946,"creation_date":1666454946,"answer_id":74165109,"question_id":74164914,"body_markdown":"In Java, we don&#39;t have anything called Local Function as a result, move the functions from the onCreate method to the class.\r\n","title":"Android - Display Int onClick with Buttons increment , decremet [Error: Cannot resolve method ‘display(int)’ ]","body":"<p>In Java, we don't have anything called Local Function as a result, move the functions from the onCreate method to the class.</p>\n"},{"tags":[],"owner":{"account_id":17075413,"reputation":40,"user_id":12355161,"display_name":"JadeCeci"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666455123,"creation_date":1666455123,"answer_id":74165138,"question_id":74164914,"body_markdown":"Firstly, implement your methods onClick() and increment() outside of the function onCreate(). It does not make sense to implement a function inside of a fuction. You can implement them inside the class MainActivity. Moreover, I would suggest not to name your custom button click function as onClick() as it might lead to confusion later on.\r\n\r\nSecondly, I cannot see the implementation of the function &quot;display()&quot;. That&#39;s why AndroidStudio cannot recognize the function. If you move onClick() and increment() to the place I said and in the same class implement the display function, it should be fine.","title":"Android - Display Int onClick with Buttons increment , decremet [Error: Cannot resolve method ‘display(int)’ ]","body":"<p>Firstly, implement your methods onClick() and increment() outside of the function onCreate(). It does not make sense to implement a function inside of a fuction. You can implement them inside the class MainActivity. Moreover, I would suggest not to name your custom button click function as onClick() as it might lead to confusion later on.</p>\n<p>Secondly, I cannot see the implementation of the function &quot;display()&quot;. That's why AndroidStudio cannot recognize the function. If you move onClick() and increment() to the place I said and in the same class implement the display function, it should be fine.</p>\n"}],"owner":{"account_id":26427358,"reputation":1,"user_id":20074099,"display_name":"Amira Abbas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666455123,"creation_date":1666453426,"question_id":74164914,"body_markdown":"Android - Display Int onClick with Buttons increment , decremet [Error: Cannot resolve method ‘display(int)’ ]\r\nI am getting a error on Android Studio as what I believe is because I&#39;m inserting multiple &#39;displays&#39;. Can someone advise &amp; explain what I need to do and why it causes this error so I know for future?\r\n\r\nPlease see below for the following error:\r\n\r\n    package com.example.justjava;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import java.text.NumberFormat;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            TextView num = findViewById(R.id.num);\r\n            Button order1 = findViewById(R.id.order);\r\n            /**\r\n             * This method is called when the plus button is clicked.\r\n             */\r\n            public void increment (View view) {\r\n                int quantity = 2;\r\n                display(quantity);\r\n            }\r\n            /**\r\n             * This method is called when the minus button is clicked.\r\n             */\r\n            public void onClick (View view) {\r\n                int quantity = 2;\r\n                display(quantity);\r\n            }\r\n    \r\n    \r\n            /**\r\n             * This method is called when the order button is clicked.\r\n             */\r\n            order1.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    int quantity = 2;\r\n                    display1(quantity);\r\n                    displayPrice(quantity*5);\r\n                }\r\n    \r\n                /**\r\n                 * This method displays the given price on the screen.\r\n                 */\r\n                private void displayPrice(int number) {\r\n                    TextView priceTextView = (TextView) findViewById(R.id.price_text_view);\r\n                    priceTextView.setText(NumberFormat.getCurrencyInstance().format(number));\r\n                }\r\n                /**\r\n                 * This method displays the given quantity value on the screen.\r\n                 */\r\n                private void display1(int number)\r\n                {\r\n                    //  TextView quantity = (TextView) findViewById(R.id.quantity);\r\n                    num.setText(&quot;&quot; + number);\r\n                }\r\n    \r\n    \r\n            });\r\n        }\r\n    }","title":"Android - Display Int onClick with Buttons increment , decremet [Error: Cannot resolve method ‘display(int)’ ]","body":"<p>Android - Display Int onClick with Buttons increment , decremet [Error: Cannot resolve method ‘display(int)’ ]\nI am getting a error on Android Studio as what I believe is because I'm inserting multiple 'displays'. Can someone advise &amp; explain what I need to do and why it causes this error so I know for future?</p>\n<p>Please see below for the following error:</p>\n<pre><code>package com.example.justjava;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.text.NumberFormat;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        TextView num = findViewById(R.id.num);\n        Button order1 = findViewById(R.id.order);\n        /**\n         * This method is called when the plus button is clicked.\n         */\n        public void increment (View view) {\n            int quantity = 2;\n            display(quantity);\n        }\n        /**\n         * This method is called when the minus button is clicked.\n         */\n        public void onClick (View view) {\n            int quantity = 2;\n            display(quantity);\n        }\n\n\n        /**\n         * This method is called when the order button is clicked.\n         */\n        order1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                int quantity = 2;\n                display1(quantity);\n                displayPrice(quantity*5);\n            }\n\n            /**\n             * This method displays the given price on the screen.\n             */\n            private void displayPrice(int number) {\n                TextView priceTextView = (TextView) findViewById(R.id.price_text_view);\n                priceTextView.setText(NumberFormat.getCurrencyInstance().format(number));\n            }\n            /**\n             * This method displays the given quantity value on the screen.\n             */\n            private void display1(int number)\n            {\n                //  TextView quantity = (TextView) findViewById(R.id.quantity);\n                num.setText(&quot;&quot; + number);\n            }\n\n\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","communication","file-transfer","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":10298861,"reputation":111,"user_id":7598149,"display_name":"kesaven"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666454640,"creation_date":1666454640,"answer_id":74165061,"question_id":74165040,"body_markdown":"You can use RestTemplate .\r\n\r\nRestTemplate is used to consume API in Spring Boot \r\n\r\nhttps://spring.io/guides/gs/consuming-rest/","title":"Java Spring Restcontroller Communication Message+File","body":"<p>You can use RestTemplate .</p>\n<p>RestTemplate is used to consume API in Spring Boot</p>\n<p><a href=\"https://spring.io/guides/gs/consuming-rest/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/consuming-rest/</a></p>\n"}],"owner":{"account_id":14172533,"reputation":3,"user_id":10238739,"display_name":"tc.th3.bl4cksm1th"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74165061,"answer_count":1,"score":0,"last_activity_date":1666454640,"creation_date":1666454437,"question_id":74165040,"body_markdown":"I have a small task to design 2 applications \r\napplication1: takes a file from a web interface that the user uploads. Further the user makes an input like book1 or book2 etc. Iv managed to put together a RestController in a Spring boot application that takes the input and the file. Iv also managed to put together application2: which does the processing of that file (convert it to a json file) and send it back to the application1 which the user can download(it is also a Spring boot application written in java like application1).\r\n\r\nI have unfortunately no clue how to put together the communication between the two RestControllers. Could some1 point me in the right direction where i can read up on this?","title":"Java Spring Restcontroller Communication Message+File","body":"<p>I have a small task to design 2 applications\napplication1: takes a file from a web interface that the user uploads. Further the user makes an input like book1 or book2 etc. Iv managed to put together a RestController in a Spring boot application that takes the input and the file. Iv also managed to put together application2: which does the processing of that file (convert it to a json file) and send it back to the application1 which the user can download(it is also a Spring boot application written in java like application1).</p>\n<p>I have unfortunately no clue how to put together the communication between the two RestControllers. Could some1 point me in the right direction where i can read up on this?</p>\n"},{"tags":["java","enums","jackson","jsonserializer"],"comments":[{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":4,"creation_date":1347993792,"post_id":12468764,"comment_id":16794465,"body_markdown":"Have you tried `{&quot;Event&quot;:&quot;FORGOT_PASSWORD&quot;}`? Note the caps on both Event and FORGOT_PASSWORD.","body":"Have you tried <code>{&quot;Event&quot;:&quot;FORGOT_PASSWORD&quot;}</code>? Note the caps on both Event and FORGOT_PASSWORD."},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1519909942,"post_id":12468764,"comment_id":85105193,"body_markdown":"Similar: [How to annotate enum fields for deserialization using Jackson json](https://stackoverflow.com/questions/9300191/how-to-annotate-enum-fields-for-deserialization-using-jackson-json)","body":"Similar: <a href=\"https://stackoverflow.com/questions/9300191/how-to-annotate-enum-fields-for-deserialization-using-jackson-json\">How to annotate enum fields for deserialization using Jackson json</a>"},{"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"score":0,"creation_date":1587399084,"post_id":12468764,"comment_id":108490553,"body_markdown":"Who came here also check getter setter syntax if you follow different naming convention i.e. instead of `getValue` this `GetValue` doesn&#39;t work","body":"Who came here also check getter setter syntax if you follow different naming convention i.e. instead of <code>getValue</code> this <code>GetValue</code> doesn&#39;t work"}],"answers":[{"comments":[{"owner":{"account_id":3515404,"reputation":943,"user_id":2938966,"accept_rate":73,"display_name":"Dmitry Gryazin"},"score":3,"creation_date":1413207425,"post_id":13368831,"comment_id":41344766,"body_markdown":"The usage of custom (de)serializer kills the simplicity (which is using Jackson is worth for, btw), so this is needed in really heavy situations. Use @JsonCreator, as described below, and check [this comment](http://jira.codehaus.org/browse/JACKSON-861)","body":"The usage of custom (de)serializer kills the simplicity (which is using Jackson is worth for, btw), so this is needed in really heavy situations. Use @JsonCreator, as described below, and check <a href=\"http://jira.codehaus.org/browse/JACKSON-861\" rel=\"nofollow noreferrer\">this comment</a>"},{"owner":{"account_id":3624061,"reputation":1801,"user_id":3022173,"display_name":"mttdbrd"},"score":2,"creation_date":1491886859,"post_id":13368831,"comment_id":73737873,"body_markdown":"This soluiton is best for the somewhat crazy problem introduced in the OPs question. The real issue here is that the OP wants to return the structured data in a *rendered* form. That is, they&#39;re returning data that already includes a user friendly string. But in order to turn the rendered form back into an identifier, we need some code that can reverse the transformation. The hacky accepted answer wants to use a map to handle the transformation, but requires more maintenance. With this solution, you can add new enumerated types and then your developers can get on with their jobs.","body":"This soluiton is best for the somewhat crazy problem introduced in the OPs question. The real issue here is that the OP wants to return the structured data in a <i>rendered</i> form. That is, they&#39;re returning data that already includes a user friendly string. But in order to turn the rendered form back into an identifier, we need some code that can reverse the transformation. The hacky accepted answer wants to use a map to handle the transformation, but requires more maintenance. With this solution, you can add new enumerated types and then your developers can get on with their jobs."}],"tags":[],"owner":{"account_id":334722,"reputation":13230,"user_id":661363,"accept_rate":94,"display_name":"xbakesx"},"comment_count":2,"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1366427041,"creation_date":1352840937,"answer_id":13368831,"question_id":12468764,"body_markdown":"**Actual Answer:**\r\n\r\nThe default deserializer for enums uses `.name()` to deserialize, so it&#39;s not using the `@JsonValue`.  So as @OldCurmudgeon pointed out, you&#39;d need to pass in `{&quot;event&quot;: &quot;FORGOT_PASSWORD&quot;}` to match the `.name()` value.\r\n\r\nAn other option (assuming you want the write and read json values to be the same)...\r\n\r\n**More Info:**\r\n\r\nThere is (yet) another way to manage the serialization and deserialization process with Jackson.  You can specify these annotations to use your own custom serializer and deserializer:\r\n\r\n    @JsonSerialize(using = MySerializer.class)\r\n    @JsonDeserialize(using = MyDeserializer.class)\r\n    public final class MyClass {\r\n        ...\r\n    }\r\n\r\nThen you have to write `MySerializer` and `MyDeserializer` which look like this:\r\n\r\n**MySerializer**\r\n\r\n    public final class MySerializer extends JsonSerializer&lt;MyClass&gt;\r\n    {\r\n        @Override\r\n        public void serialize(final MyClass yourClassHere, final JsonGenerator gen, final SerializerProvider serializer) throws IOException, JsonProcessingException\r\n        {\r\n            // here you&#39;d write data to the stream with gen.write...() methods\r\n        }\r\n    \r\n    }\r\n\r\n**MyDeserializer**\r\n\r\n    public final class MyDeserializer extends org.codehaus.jackson.map.JsonDeserializer&lt;MyClass&gt;\r\n    {\r\n        @Override\r\n        public MyClass deserialize(final JsonParser parser, final DeserializationContext context) throws IOException, JsonProcessingException\r\n        {\r\n            // then you&#39;d do something like parser.getInt() or whatever to pull data off the parser\r\n            return null;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nLast little bit, particularly for doing this to an enum `JsonEnum` that serializes with the method `getYourValue()`, your serializer and deserializer might look like this:\r\n\r\n\r\n    public void serialize(final JsonEnum enumValue, final JsonGenerator gen, final SerializerProvider serializer) throws IOException, JsonProcessingException\r\n    {\r\n        gen.writeString(enumValue.getYourValue());\r\n    }\r\n\r\n    public JsonEnum deserialize(final JsonParser parser, final DeserializationContext context) throws IOException, JsonProcessingException\r\n    {\r\n        final String jsonValue = parser.getText();\r\n        for (final JsonEnum enumValue : JsonEnum.values())\r\n        {\r\n            if (enumValue.getYourValue().equals(jsonValue))\r\n            {\r\n                return enumValue;\r\n            }\r\n        }\r\n        return null;\r\n    }","title":"Jackson enum Serializing and DeSerializer","body":"<p><strong>Actual Answer:</strong></p>\n\n<p>The default deserializer for enums uses <code>.name()</code> to deserialize, so it's not using the <code>@JsonValue</code>.  So as @OldCurmudgeon pointed out, you'd need to pass in <code>{\"event\": \"FORGOT_PASSWORD\"}</code> to match the <code>.name()</code> value.</p>\n\n<p>An other option (assuming you want the write and read json values to be the same)...</p>\n\n<p><strong>More Info:</strong></p>\n\n<p>There is (yet) another way to manage the serialization and deserialization process with Jackson.  You can specify these annotations to use your own custom serializer and deserializer:</p>\n\n<pre><code>@JsonSerialize(using = MySerializer.class)\n@JsonDeserialize(using = MyDeserializer.class)\npublic final class MyClass {\n    ...\n}\n</code></pre>\n\n<p>Then you have to write <code>MySerializer</code> and <code>MyDeserializer</code> which look like this:</p>\n\n<p><strong>MySerializer</strong></p>\n\n<pre><code>public final class MySerializer extends JsonSerializer&lt;MyClass&gt;\n{\n    @Override\n    public void serialize(final MyClass yourClassHere, final JsonGenerator gen, final SerializerProvider serializer) throws IOException, JsonProcessingException\n    {\n        // here you'd write data to the stream with gen.write...() methods\n    }\n\n}\n</code></pre>\n\n<p><strong>MyDeserializer</strong></p>\n\n<pre><code>public final class MyDeserializer extends org.codehaus.jackson.map.JsonDeserializer&lt;MyClass&gt;\n{\n    @Override\n    public MyClass deserialize(final JsonParser parser, final DeserializationContext context) throws IOException, JsonProcessingException\n    {\n        // then you'd do something like parser.getInt() or whatever to pull data off the parser\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>Last little bit, particularly for doing this to an enum <code>JsonEnum</code> that serializes with the method <code>getYourValue()</code>, your serializer and deserializer might look like this:</p>\n\n<pre><code>public void serialize(final JsonEnum enumValue, final JsonGenerator gen, final SerializerProvider serializer) throws IOException, JsonProcessingException\n{\n    gen.writeString(enumValue.getYourValue());\n}\n\npublic JsonEnum deserialize(final JsonParser parser, final DeserializationContext context) throws IOException, JsonProcessingException\n{\n    final String jsonValue = parser.getText();\n    for (final JsonEnum enumValue : JsonEnum.values())\n    {\n        if (enumValue.getYourValue().equals(jsonValue))\n        {\n            return enumValue;\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1044865,"reputation":5045,"user_id":1891566,"display_name":"Clint Eastwood"},"score":11,"creation_date":1404248840,"post_id":17420756,"comment_id":37963333,"body_markdown":"This is the cleanest and most concise solution, the rest are just tons of boilerplate that could (and should!) be avoided at all costs!","body":"This is the cleanest and most concise solution, the rest are just tons of boilerplate that could (and should!) be avoided at all costs!"},{"owner":{"account_id":3219353,"reputation":1783,"user_id":2717158,"accept_rate":79,"display_name":"Chiranjib"},"score":6,"creation_date":1490619076,"post_id":17420756,"comment_id":73177989,"body_markdown":"`@JSONValue` to serialize and `@JSONCreator` to deserialize.","body":"<code>@JSONValue</code> to serialize and <code>@JSONCreator</code> to deserialize."},{"owner":{"account_id":5241914,"reputation":1343,"user_id":4188683,"accept_rate":87,"display_name":"Eido95"},"score":0,"creation_date":1538557727,"post_id":17420756,"comment_id":92180420,"body_markdown":"`@JsonCreator public static Event valueOf(int intValue) { ... }` to deserialize `int` to `Event` enumerator.","body":"<code>@JsonCreator public static Event valueOf(int intValue) { ... }</code> to deserialize <code>int</code> to <code>Event</code> enumerator."},{"owner":{"account_id":185776,"reputation":1654,"user_id":422707,"accept_rate":100,"display_name":"Asa"},"score":2,"creation_date":1542259137,"post_id":17420756,"comment_id":93506144,"body_markdown":"@ClintEastwood whether the other solutions should be avoided depends on whether you want to separate serialzation/ deserialization concerns from the enum or not.","body":"@ClintEastwood whether the other solutions should be avoided depends on whether you want to separate serialzation/ deserialization concerns from the enum or not."}],"tags":[],"owner":{"account_id":1668809,"reputation":5077,"user_id":1535679,"accept_rate":100,"display_name":"Stanley"},"comment_count":4,"down_vote_count":0,"up_vote_count":101,"is_accepted":false,"score":101,"last_activity_date":1372753292,"creation_date":1372753292,"answer_id":17420756,"question_id":12468764,"body_markdown":"You should create a static factory method which takes single argument and annotate it with `@JsonCreator` (available since Jackson 1.2)\r\n\r\n    @JsonCreator\r\n    public static Event forValue(String value) { ... }\r\n\r\nRead more about JsonCreator annotation [here][1].\r\n\r\n\r\n  [1]: http://fasterxml.github.io/jackson-annotations/javadoc/2.2.0/index.html?com/fasterxml/jackson/annotation/JsonCreator.html","title":"Jackson enum Serializing and DeSerializer","body":"<p>You should create a static factory method which takes single argument and annotate it with <code>@JsonCreator</code> (available since Jackson 1.2)</p>\n\n<pre><code>@JsonCreator\npublic static Event forValue(String value) { ... }\n</code></pre>\n\n<p>Read more about JsonCreator annotation <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.2.0/index.html?com/fasterxml/jackson/annotation/JsonCreator.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":5208406,"reputation":4517,"user_id":4165579,"accept_rate":75,"display_name":"Prabjot Singh"},"score":0,"creation_date":1432891857,"post_id":20421494,"comment_id":49125558,"body_markdown":"@Agusti please take a look at my question,what am i missing there http://stackoverflow.com/questions/30525986/enum-is-not-binding","body":"@Agusti please take a look at my question,what am i missing there <a href=\"http://stackoverflow.com/questions/30525986/enum-is-not-binding\">stackoverflow.com/questions/30525986/enum-is-not-binding</a>"},{"owner":{"account_id":944240,"reputation":2486,"user_id":971813,"accept_rate":84,"display_name":"acvcu"},"score":47,"creation_date":1444421993,"post_id":20421494,"comment_id":53913904,"body_markdown":"maybe obvious to some, but note that @ JsonValue is used for serialization and @ JsonCreator for deserialization. If you&#39;re not doing both you&#39;ll only need one or the other.","body":"maybe obvious to some, but note that @ JsonValue is used for serialization and @ JsonCreator for deserialization. If you&#39;re not doing both you&#39;ll only need one or the other."},{"owner":{"account_id":5048751,"reputation":564,"user_id":4053944,"display_name":"Deepika Rajani"},"score":0,"creation_date":1460011186,"post_id":20421494,"comment_id":60547942,"body_markdown":"@Agusti can you please tell me how will I use(call) this enum in my json","body":"@Agusti can you please tell me how will I use(call) this enum in my json"},{"owner":{"account_id":3624061,"reputation":1801,"user_id":3022173,"display_name":"mttdbrd"},"score":12,"creation_date":1476124893,"post_id":20421494,"comment_id":67209131,"body_markdown":"I really dislike this solution for the simple fact that you introduce two sources of truth. The developer will always have to remember to add the name in two places. I much prefer a solution that just does the right thing without decorating the internals of an enum with a map.","body":"I really dislike this solution for the simple fact that you introduce two sources of truth. The developer will always have to remember to add the name in two places. I much prefer a solution that just does the right thing without decorating the internals of an enum with a map."},{"owner":{"account_id":4895674,"reputation":5334,"user_id":3945392,"accept_rate":50,"display_name":"Langley"},"score":2,"creation_date":1487639314,"post_id":20421494,"comment_id":71864738,"body_markdown":"@mttdbrd you can avoid that by adding the objects to the map during the constructor","body":"@mttdbrd you can avoid that by adding the objects to the map during the constructor"},{"owner":{"account_id":3624061,"reputation":1801,"user_id":3022173,"display_name":"mttdbrd"},"score":1,"creation_date":1487653931,"post_id":20421494,"comment_id":71868723,"body_markdown":"@Langley That doesn&#39;t mitigate the problem that someone needs to remember to add the name in two places. You&#39;re just suggesting moving the naming to a constructor instead of in a static initializer. Two sources of truth = not clean code.","body":"@Langley That doesn&#39;t mitigate the problem that someone needs to remember to add the name in two places. You&#39;re just suggesting moving the naming to a constructor instead of in a static initializer. Two sources of truth = not clean code."},{"owner":{"account_id":4895674,"reputation":5334,"user_id":3945392,"accept_rate":50,"display_name":"Langley"},"score":0,"creation_date":1487882777,"post_id":20421494,"comment_id":71997047,"body_markdown":"@mttdbrd &quot;someone needs to remember to add the name in two places&quot;, no you won&#39;t, it will be the same place, you can&#39;t declare it without specifying it, so you don&#39;t have to remember, the compiler will tell you to.","body":"@mttdbrd &quot;someone needs to remember to add the name in two places&quot;, no you won&#39;t, it will be the same place, you can&#39;t declare it without specifying it, so you don&#39;t have to remember, the compiler will tell you to."},{"owner":{"account_id":3624061,"reputation":1801,"user_id":3022173,"display_name":"mttdbrd"},"score":0,"creation_date":1491886529,"post_id":20421494,"comment_id":73737747,"body_markdown":"@Langley You have to declare the elements in the enum (1st place) and then in the constructor or static initializer (2nd place). You have to record the actual name of the enumerated element, and then the pretty-printed name somewhere else. It&#39;s bad enough when they&#39;re right next to each other as in `@JsonProperty` but your solution means that they&#39;re not even guaranteed to be that close. I still don&#39;t like this solution.","body":"@Langley You have to declare the elements in the enum (1st place) and then in the constructor or static initializer (2nd place). You have to record the actual name of the enumerated element, and then the pretty-printed name somewhere else. It&#39;s bad enough when they&#39;re right next to each other as in <code>@JsonProperty</code> but your solution means that they&#39;re not even guaranteed to be that close. I still don&#39;t like this solution."},{"owner":{"account_id":164436,"reputation":1000,"user_id":387175,"accept_rate":88,"display_name":"KevinO"},"score":5,"creation_date":1505959818,"post_id":20421494,"comment_id":79629162,"body_markdown":"@ttdbrd how about this for unifying truths? https://gist.github.com/Scuilion/036c53fd7fee2de89701a95822c0fb60","body":"@ttdbrd how about this for unifying truths? <a href=\"https://gist.github.com/Scuilion/036c53fd7fee2de89701a95822c0fb60\" rel=\"nofollow noreferrer\">gist.github.com/Scuilion/036c53fd7fee2de89701a95822c0fb60</a>"},{"owner":{"account_id":337726,"reputation":2190,"user_id":666176,"accept_rate":75,"display_name":"Cortlendt"},"score":0,"creation_date":1513687373,"post_id":20421494,"comment_id":82740236,"body_markdown":"does not work for me, when I add JsonValue, Json creator starts being ignored.","body":"does not work for me, when I add JsonValue, Json creator starts being ignored."},{"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"score":6,"creation_date":1552550217,"post_id":20421494,"comment_id":97054071,"body_markdown":"Instead of static map you can use YourEnum.values() which give Array of YourEnum and iterate on it","body":"Instead of static map you can use YourEnum.values() which give Array of YourEnum and iterate on it"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":1,"creation_date":1590782889,"post_id":20421494,"comment_id":109822393,"body_markdown":"Concerning the implication that @JsonValue is not intended for deserialization, I noticed the following statement in the JsonValue javadoc: &quot;NOTE: when use for Java enums, one additional feature isthat value returned by annotated method is also considered to be thevalue to deserialize from, not just JSON String to serialize as.This is possible since set of Enum values is constant and it is possibleto define mapping, but can not be done in general for POJO types; as such,this is not used for POJO deserialization.&quot;","body":"Concerning the implication that @JsonValue is not intended for deserialization, I noticed the following statement in the JsonValue javadoc: &quot;NOTE: when use for Java enums, one additional feature isthat value returned by annotated method is also considered to be thevalue to deserialize from, not just JSON String to serialize as.This is possible since set of Enum values is constant and it is possibleto define mapping, but can not be done in general for POJO types; as such,this is not used for POJO deserialization.&quot;"}],"tags":[],"owner":{"account_id":416360,"reputation":10634,"user_id":791694,"display_name":"Agust&#237; S&#225;nchez"},"comment_count":12,"down_vote_count":3,"up_vote_count":344,"is_accepted":true,"score":341,"last_activity_date":1560513527,"creation_date":1386325415,"answer_id":20421494,"question_id":12468764,"body_markdown":"The serializer / deserializer solution pointed out by [*@xbakesx*][1] is an excellent one if you wish to completely decouple your *enum* class from its JSON representation.\r\n\r\nAlternatively, if you prefer a self-contained solution, an implementation based on `@JsonCreator` and `@JsonValue` annotations would be more convenient.\r\n\r\nSo leveraging on the example by [*@Stanley*][2] the following is a complete self-contained solution (Java 6, Jackson 1.9):\r\n\r\n    public enum DeviceScheduleFormat {\r\n\r\n        Weekday,\r\n        EvenOdd,\r\n        Interval;\r\n    \r\n        private static Map&lt;String, DeviceScheduleFormat&gt; namesMap = new HashMap&lt;String, DeviceScheduleFormat&gt;(3);\r\n    \r\n        static {\r\n            namesMap.put(&quot;weekday&quot;, Weekday);\r\n            namesMap.put(&quot;even-odd&quot;, EvenOdd);\r\n            namesMap.put(&quot;interval&quot;, Interval);\r\n        }\r\n    \r\n        @JsonCreator\r\n        public static DeviceScheduleFormat forValue(String value) {\r\n            return namesMap.get(StringUtils.lowerCase(value));\r\n        }\r\n    \r\n        @JsonValue\r\n        public String toValue() {\r\n            for (Entry&lt;String, DeviceScheduleFormat&gt; entry : namesMap.entrySet()) {\r\n                if (entry.getValue() == this)\r\n                    return entry.getKey();\r\n            }\r\n    \r\n            return null; // or fail\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/13368831/814702\r\n  [2]: https://stackoverflow.com/a/17420756/814702","title":"Jackson enum Serializing and DeSerializer","body":"<p>The serializer / deserializer solution pointed out by <a href=\"https://stackoverflow.com/a/13368831/814702\"><em>@xbakesx</em></a> is an excellent one if you wish to completely decouple your <em>enum</em> class from its JSON representation.</p>\n\n<p>Alternatively, if you prefer a self-contained solution, an implementation based on <code>@JsonCreator</code> and <code>@JsonValue</code> annotations would be more convenient.</p>\n\n<p>So leveraging on the example by <a href=\"https://stackoverflow.com/a/17420756/814702\"><em>@Stanley</em></a> the following is a complete self-contained solution (Java 6, Jackson 1.9):</p>\n\n<pre><code>public enum DeviceScheduleFormat {\n\n    Weekday,\n    EvenOdd,\n    Interval;\n\n    private static Map&lt;String, DeviceScheduleFormat&gt; namesMap = new HashMap&lt;String, DeviceScheduleFormat&gt;(3);\n\n    static {\n        namesMap.put(\"weekday\", Weekday);\n        namesMap.put(\"even-odd\", EvenOdd);\n        namesMap.put(\"interval\", Interval);\n    }\n\n    @JsonCreator\n    public static DeviceScheduleFormat forValue(String value) {\n        return namesMap.get(StringUtils.lowerCase(value));\n    }\n\n    @JsonValue\n    public String toValue() {\n        for (Entry&lt;String, DeviceScheduleFormat&gt; entry : namesMap.entrySet()) {\n            if (entry.getValue() == this)\n                return entry.getKey();\n        }\n\n        return null; // or fail\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3624061,"reputation":1801,"user_id":3022173,"display_name":"mttdbrd"},"score":13,"creation_date":1476125691,"post_id":24537575,"comment_id":67209538,"body_markdown":"not sure why you need to extend the class. you can enable this feature on an instance of the ObjectMapper.","body":"not sure why you need to extend the class. you can enable this feature on an instance of the ObjectMapper."},{"owner":{"account_id":1799615,"reputation":299,"user_id":1638270,"accept_rate":88,"display_name":"HelLViS69"},"score":0,"creation_date":1518694199,"post_id":24537575,"comment_id":84615005,"body_markdown":"+1 because he pointed me to the [READ|WRITE]_ENUMS_USING_TO_STRING which I can use in Spring application.yml","body":"+1 because he pointed me to the [READ|WRITE]_ENUMS_USING_TO_STRING which I can use in Spring application.yml"},{"owner":{"account_id":1179053,"reputation":2329,"user_id":1154390,"accept_rate":31,"display_name":"user1154390"},"score":1,"creation_date":1610527552,"post_id":24537575,"comment_id":116158990,"body_markdown":"Thanks, your answer helped me to resolve my issue in Retrofit If you want you use ordinal during serialization then use SerializationFeature.WRITE_ENUMS_USING_INDEX .","body":"Thanks, your answer helped me to resolve my issue in Retrofit If you want you use ordinal during serialization then use SerializationFeature.WRITE_ENUMS_USING_INDEX ."},{"owner":{"account_id":3625600,"reputation":959,"user_id":3023331,"accept_rate":67,"display_name":"Arnas Ivanavičius"},"score":0,"creation_date":1640203314,"post_id":24537575,"comment_id":124542555,"body_markdown":"thanks, for the config hits. It helped me to solve my issue.","body":"thanks, for the config hits. It helped me to solve my issue."},{"owner":{"account_id":368650,"reputation":3742,"user_id":715592,"accept_rate":71,"display_name":"NullPointerException"},"score":0,"creation_date":1666901976,"post_id":24537575,"comment_id":131051275,"body_markdown":"This help me since the POJO&#39;s were external and have no way to update them","body":"This help me since the POJO&#39;s were external and have no way to update them"}],"tags":[],"owner":{"account_id":2508823,"reputation":2709,"user_id":2181768,"accept_rate":80,"display_name":"lagivan"},"comment_count":5,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1519806876,"creation_date":1404322624,"answer_id":24537575,"question_id":12468764,"body_markdown":"I&#39;ve found a very nice and concise solution, especially useful when you cannot modify enum classes as it was in my case. Then you should provide a custom ObjectMapper with a certain feature enabled. Those features are available since Jackson 1.6. So you only need to write ```toString()``` method in your enum.\r\n\r\n    public class CustomObjectMapper extends ObjectMapper {\r\n        @PostConstruct\r\n        public void customConfiguration() {\r\n            // Uses Enum.toString() for serialization of an Enum\r\n            this.enable(WRITE_ENUMS_USING_TO_STRING);\r\n            // Uses Enum.toString() for deserialization of an Enum\r\n            this.enable(READ_ENUMS_USING_TO_STRING);\r\n        }\r\n    }\r\n\r\nThere are more enum-related features available, see here:\r\n\r\nhttps://github.com/FasterXML/jackson-databind/wiki/Serialization-Features\r\nhttps://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features\r\n","title":"Jackson enum Serializing and DeSerializer","body":"<p>I've found a very nice and concise solution, especially useful when you cannot modify enum classes as it was in my case. Then you should provide a custom ObjectMapper with a certain feature enabled. Those features are available since Jackson 1.6. So you only need to write <code>toString()</code> method in your enum.</p>\n\n<pre><code>public class CustomObjectMapper extends ObjectMapper {\n    @PostConstruct\n    public void customConfiguration() {\n        // Uses Enum.toString() for serialization of an Enum\n        this.enable(WRITE_ENUMS_USING_TO_STRING);\n        // Uses Enum.toString() for deserialization of an Enum\n        this.enable(READ_ENUMS_USING_TO_STRING);\n    }\n}\n</code></pre>\n\n<p>There are more enum-related features available, see here:</p>\n\n<p><a href=\"https://github.com/FasterXML/jackson-databind/wiki/Serialization-Features\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-databind/wiki/Serialization-Features</a>\n<a href=\"https://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features</a></p>\n"},{"comments":[{"owner":{"account_id":1044865,"reputation":5045,"user_id":1891566,"display_name":"Clint Eastwood"},"score":1,"creation_date":1463589881,"post_id":32723692,"comment_id":62132833,"body_markdown":"nice solution. It&#39;s a shame I&#39;m stuck with 2.6.0 bundled in Dropwizard :-(","body":"nice solution. It&#39;s a shame I&#39;m stuck with 2.6.0 bundled in Dropwizard :-("},{"owner":{"account_id":101941,"reputation":4209,"user_id":1080891,"accept_rate":96,"display_name":"Cavyn VonDeylen"},"score":0,"creation_date":1478014128,"post_id":32723692,"comment_id":67979460,"body_markdown":"This will only serialize, not deserialize.","body":"This will only serialize, not deserialize."},{"owner":{"account_id":204704,"reputation":3296,"user_id":453084,"accept_rate":86,"display_name":"Nicholas"},"score":1,"creation_date":1496246555,"post_id":32723692,"comment_id":75585819,"body_markdown":"Unfortunately this does not return the property when converting your enum to a string.","body":"Unfortunately this does not return the property when converting your enum to a string."},{"owner":{"account_id":2482344,"reputation":2585,"user_id":2161568,"accept_rate":83,"display_name":"Downhillski"},"score":2,"creation_date":1524154771,"post_id":32723692,"comment_id":86867469,"body_markdown":"This solution works for both serialize and deserialize on Enum. Tested in 2.8.","body":"This solution works for both serialize and deserialize on Enum. Tested in 2.8."},{"owner":{"account_id":3500565,"reputation":369,"user_id":2927422,"display_name":"Pablo Fradua"},"score":10,"creation_date":1561720066,"post_id":32723692,"comment_id":100165598,"body_markdown":"Doesn&#39;t seem to be deprecated at all: https://github.com/FasterXML/jackson-annotations/blob/master/src/main/java/com/fasterxml/jackson/annotation/JsonProperty.java","body":"Doesn&#39;t seem to be deprecated at all: <a href=\"https://github.com/FasterXML/jackson-annotations/blob/master/src/main/java/com/fasterxml/jackson/annotation/JsonProperty.java\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-annotations/blob/master/src/mai&zwnj;&#8203;n/&hellip;</a>"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":2,"creation_date":1590783033,"post_id":32723692,"comment_id":109822458,"body_markdown":"This didn&#39;t do anything for me, using Jackson 2.9.10.","body":"This didn&#39;t do anything for me, using Jackson 2.9.10."},{"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"score":3,"creation_date":1600778567,"post_id":32723692,"comment_id":113189914,"body_markdown":"I added an official link to the (2.11) documentation, which explicitly states that `@JsonProperty` can be used like this in 2.6 and onwards.","body":"I added an official link to the (2.11) documentation, which explicitly states that <code>@JsonProperty</code> can be used like this in 2.6 and onwards."},{"owner":{"account_id":2517927,"reputation":1079,"user_id":2188893,"accept_rate":75,"display_name":"PragmaticProgrammer"},"score":0,"creation_date":1643063851,"post_id":32723692,"comment_id":125236615,"body_markdown":"worked for me in Jackson 2.11.2","body":"worked for me in Jackson 2.11.2"}],"tags":[],"owner":{"account_id":5109291,"reputation":2911,"user_id":5364613,"display_name":"tif"},"comment_count":8,"down_vote_count":0,"up_vote_count":280,"is_accepted":false,"score":280,"last_activity_date":1600778515,"creation_date":1442944619,"answer_id":32723692,"question_id":12468764,"body_markdown":"Note that as of [this commit](https://github.com/FasterXML/jackson-databind/commit/707db7a972e2d088647450f9a890c438fb735933) in June 2015 (Jackson 2.6.2 and above) you can now simply write:\r\n\r\n    public enum Event {\r\n        @JsonProperty(&quot;forgot password&quot;)\r\n        FORGOT_PASSWORD;\r\n    }\r\n\r\nThe behavior is documented here: https://fasterxml.github.io/jackson-annotations/javadoc/2.11/com/fasterxml/jackson/annotation/JsonProperty.html\r\n\r\n&gt;  Starting with Jackson 2.6 this annotation may also be used to change serialization of Enum like so:\r\n&gt;\r\n&gt;      public enum MyEnum {\r\n&gt;           @JsonProperty(&quot;theFirstValue&quot;) THE_FIRST_VALUE,\r\n&gt;           @JsonProperty(&quot;another_value&quot;) ANOTHER_VALUE;\r\n&gt;      }\r\n&gt;\r\n&gt; as an alternative to using JsonValue annotation.\r\n","title":"Jackson enum Serializing and DeSerializer","body":"<p>Note that as of <a href=\"https://github.com/FasterXML/jackson-databind/commit/707db7a972e2d088647450f9a890c438fb735933\" rel=\"noreferrer\">this commit</a> in June 2015 (Jackson 2.6.2 and above) you can now simply write:</p>\n<pre><code>public enum Event {\n    @JsonProperty(&quot;forgot password&quot;)\n    FORGOT_PASSWORD;\n}\n</code></pre>\n<p>The behavior is documented here: <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.11/com/fasterxml/jackson/annotation/JsonProperty.html\" rel=\"noreferrer\">https://fasterxml.github.io/jackson-annotations/javadoc/2.11/com/fasterxml/jackson/annotation/JsonProperty.html</a></p>\n<blockquote>\n<p>Starting with Jackson 2.6 this annotation may also be used to change serialization of Enum like so:</p>\n<pre><code> public enum MyEnum {\n      @JsonProperty(&quot;theFirstValue&quot;) THE_FIRST_VALUE,\n      @JsonProperty(&quot;another_value&quot;) ANOTHER_VALUE;\n }\n</code></pre>\n<p>as an alternative to using JsonValue annotation.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":5060517,"reputation":1312,"user_id":4062292,"display_name":"Fernando Nogueira"},"score":0,"creation_date":1453922073,"post_id":33026308,"comment_id":57816356,"body_markdown":"Nathaniel Ford,  got better ?","body":"Nathaniel Ford,  got better ?"},{"owner":{"account_id":198346,"reputation":20665,"user_id":442945,"accept_rate":77,"display_name":"Nathaniel Ford"},"score":1,"creation_date":1453924674,"post_id":33026308,"comment_id":57817899,"body_markdown":"Yes, this is a much better answer; it provides some context. I would go even further, though, and discuss why adding deserialization in this manner addresses the OP&#39;s specific obstacle.","body":"Yes, this is a much better answer; it provides some context. I would go even further, though, and discuss why adding deserialization in this manner addresses the OP&#39;s specific obstacle."}],"tags":[],"owner":{"account_id":5060517,"reputation":1312,"user_id":4062292,"display_name":"Fernando Nogueira"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1465770969,"creation_date":1444339967,"answer_id":33026308,"question_id":12468764,"body_markdown":"You can customize the deserialization for any attribute.\r\n\r\nDeclare your deserialize class using the annotationJsonDeserialize (`import com.fasterxml.jackson.databind.annotation.JsonDeserialize`) for the attribute that will be processed. If this is an Enum:\r\n\r\n    @JsonDeserialize(using = MyEnumDeserialize.class)\r\n    private MyEnum myEnum;\r\n    \r\nThis way your class will be used to deserialize the attribute. This is a full example:\r\n\r\n    public class MyEnumDeserialize extends JsonDeserializer&lt;MyEnum&gt; {\r\n    \t\r\n    \t@Override\r\n    \tpublic MyEnum deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n    \t\tJsonNode node = jsonParser.getCodec().readTree(jsonParser);\r\n    \t\tMyEnum type = null;\r\n    \t\ttry{\r\n    \t\t\tif(node.get(&quot;attr&quot;) != null){\r\n    \t\t\t\ttype = MyEnum.get(Long.parseLong(node.get(&quot;attr&quot;).asText()));\r\n    \t\t\t\tif (type != null) {\r\n    \t\t\t\t\treturn type;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}catch(Exception e){\r\n    \t\t\ttype = null;\r\n    \t\t}\r\n            return type;\r\n    \t}\r\n    }","title":"Jackson enum Serializing and DeSerializer","body":"<p>You can customize the deserialization for any attribute.</p>\n\n<p>Declare your deserialize class using the annotationJsonDeserialize (<code>import com.fasterxml.jackson.databind.annotation.JsonDeserialize</code>) for the attribute that will be processed. If this is an Enum:</p>\n\n<pre><code>@JsonDeserialize(using = MyEnumDeserialize.class)\nprivate MyEnum myEnum;\n</code></pre>\n\n<p>This way your class will be used to deserialize the attribute. This is a full example:</p>\n\n<pre><code>public class MyEnumDeserialize extends JsonDeserializer&lt;MyEnum&gt; {\n\n    @Override\n    public MyEnum deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n        MyEnum type = null;\n        try{\n            if(node.get(\"attr\") != null){\n                type = MyEnum.get(Long.parseLong(node.get(\"attr\").asText()));\n                if (type != null) {\n                    return type;\n                }\n            }\n        }catch(Exception e){\n            type = null;\n        }\n        return type;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3711378,"reputation":8168,"user_id":3088642,"accept_rate":91,"display_name":"Gremash"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1454110336,"creation_date":1454110336,"answer_id":35095995,"question_id":12468764,"body_markdown":"Here is another example that uses string values instead of a map.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public enum Operator {\r\n        EQUAL(new String[]{&quot;=&quot;,&quot;==&quot;,&quot;===&quot;}),\r\n        NOT_EQUAL(new String[]{&quot;!=&quot;,&quot;&lt;&gt;&quot;}),\r\n        LESS_THAN(new String[]{&quot;&lt;&quot;}),\r\n        LESS_THAN_EQUAL(new String[]{&quot;&lt;=&quot;}),\r\n        GREATER_THAN(new String[]{&quot;&gt;&quot;}),\r\n        GREATER_THAN_EQUAL(new String[]{&quot;&gt;=&quot;}),\r\n        EXISTS(new String[]{&quot;not null&quot;, &quot;exists&quot;}),\r\n        NOT_EXISTS(new String[]{&quot;is null&quot;, &quot;not exists&quot;}),\r\n        MATCH(new String[]{&quot;match&quot;});\r\n\r\n        private String[] value;\r\n\r\n        Operator(String[] value) {\r\n            this.value = value;\r\n        }\r\n\r\n        @JsonValue\r\n        public String toStringOperator(){\r\n            return value[0];\r\n        }\r\n\r\n        @JsonCreator\r\n        public static Operator fromStringOperator(String stringOperator) {\r\n            if(stringOperator != null) {\r\n                for(Operator operator : Operator.values()) {\r\n                    for(String operatorString : operator.value) {\r\n                        if (stringOperator.equalsIgnoreCase(operatorString)) {\r\n                            return operator;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }","title":"Jackson enum Serializing and DeSerializer","body":"<p>Here is another example that uses string values instead of a map.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public enum Operator {\n    EQUAL(new String[]{\"=\",\"==\",\"===\"}),\n    NOT_EQUAL(new String[]{\"!=\",\"&lt;&gt;\"}),\n    LESS_THAN(new String[]{\"&lt;\"}),\n    LESS_THAN_EQUAL(new String[]{\"&lt;=\"}),\n    GREATER_THAN(new String[]{\"&gt;\"}),\n    GREATER_THAN_EQUAL(new String[]{\"&gt;=\"}),\n    EXISTS(new String[]{\"not null\", \"exists\"}),\n    NOT_EXISTS(new String[]{\"is null\", \"not exists\"}),\n    MATCH(new String[]{\"match\"});\n\n    private String[] value;\n\n    Operator(String[] value) {\n        this.value = value;\n    }\n\n    @JsonValue\n    public String toStringOperator(){\n        return value[0];\n    }\n\n    @JsonCreator\n    public static Operator fromStringOperator(String stringOperator) {\n        if(stringOperator != null) {\n            for(Operator operator : Operator.values()) {\n                for(String operatorString : operator.value) {\n                    if (stringOperator.equalsIgnoreCase(operatorString)) {\n                        return operator;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1952668,"reputation":7464,"user_id":1756430,"accept_rate":88,"display_name":"Sam Berry"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1472681862,"creation_date":1472681155,"answer_id":39259725,"question_id":12468764,"body_markdown":"There are various approaches that you can take to accomplish deserialization of a JSON object to an enum. My favorite style is to make an inner class:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import com.fasterxml.jackson.annotation.JsonFormat;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import org.hibernate.validator.constraints.NotEmpty;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Map;\r\n    import java.util.function.Function;\r\n    import java.util.stream.Collectors;\r\n\r\n    import static com.fasterxml.jackson.annotation.JsonFormat.Shape.OBJECT;\r\n\r\n    @JsonFormat(shape = OBJECT)\r\n    public enum FinancialAccountSubAccountType {\r\n      MAIN(&quot;Main&quot;),\r\n      MAIN_DISCOUNT(&quot;Main Discount&quot;);\r\n\r\n      private final static Map&lt;String, FinancialAccountSubAccountType&gt; ENUM_NAME_MAP;\r\n      static {\r\n        ENUM_NAME_MAP = Arrays.stream(FinancialAccountSubAccountType.values())\r\n          .collect(Collectors.toMap(\r\n            Enum::name,\r\n            Function.identity()));\r\n      }\r\n\r\n      private final String displayName;\r\n\r\n      FinancialAccountSubAccountType(String displayName) {\r\n        this.displayName = displayName;\r\n      }\r\n\r\n      @JsonCreator\r\n      public static FinancialAccountSubAccountType fromJson(Request request) {\r\n        return ENUM_NAME_MAP.get(request.getCode());\r\n      }\r\n\r\n      @JsonProperty(&quot;name&quot;)\r\n      public String getDisplayName() {\r\n        return displayName;\r\n      }\r\n\r\n      private static class Request {\r\n        @NotEmpty(message = &quot;Financial account sub-account type code is required&quot;)\r\n        private final String code;\r\n        private final String displayName;\r\n\r\n        @JsonCreator\r\n        private Request(@JsonProperty(&quot;code&quot;) String code,\r\n                        @JsonProperty(&quot;name&quot;) String displayName) {\r\n          this.code = code;\r\n          this.displayName = displayName;\r\n        }\r\n\r\n        public String getCode() {\r\n          return code;\r\n        }\r\n\r\n        @JsonProperty(&quot;name&quot;)\r\n        public String getDisplayName() {\r\n          return displayName;\r\n        }\r\n      }\r\n    }\r\n","title":"Jackson enum Serializing and DeSerializer","body":"<p>There are various approaches that you can take to accomplish deserialization of a JSON object to an enum. My favorite style is to make an inner class:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonFormat;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport org.hibernate.validator.constraints.NotEmpty;\n\nimport java.util.Arrays;\nimport java.util.Map;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\nimport static com.fasterxml.jackson.annotation.JsonFormat.Shape.OBJECT;\n\n@JsonFormat(shape = OBJECT)\npublic enum FinancialAccountSubAccountType {\n  MAIN(\"Main\"),\n  MAIN_DISCOUNT(\"Main Discount\");\n\n  private final static Map&lt;String, FinancialAccountSubAccountType&gt; ENUM_NAME_MAP;\n  static {\n    ENUM_NAME_MAP = Arrays.stream(FinancialAccountSubAccountType.values())\n      .collect(Collectors.toMap(\n        Enum::name,\n        Function.identity()));\n  }\n\n  private final String displayName;\n\n  FinancialAccountSubAccountType(String displayName) {\n    this.displayName = displayName;\n  }\n\n  @JsonCreator\n  public static FinancialAccountSubAccountType fromJson(Request request) {\n    return ENUM_NAME_MAP.get(request.getCode());\n  }\n\n  @JsonProperty(\"name\")\n  public String getDisplayName() {\n    return displayName;\n  }\n\n  private static class Request {\n    @NotEmpty(message = \"Financial account sub-account type code is required\")\n    private final String code;\n    private final String displayName;\n\n    @JsonCreator\n    private Request(@JsonProperty(\"code\") String code,\n                    @JsonProperty(\"name\") String displayName) {\n      this.code = code;\n      this.displayName = displayName;\n    }\n\n    public String getCode() {\n      return code;\n    }\n\n    @JsonProperty(\"name\")\n    public String getDisplayName() {\n      return displayName;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":881149,"reputation":10220,"user_id":225217,"accept_rate":85,"display_name":"Brice Roncace"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1532100363,"creation_date":1532100363,"answer_id":51445841,"question_id":12468764,"body_markdown":"In the context of an enum, using `@JsonValue` now (since 2.0) works for serialization *and* deserialization.\r\n\r\nAccording to the [jackson-annotations javadoc for `@JsonValue`][1]:\r\n\r\n&gt; NOTE: when use for Java enums, one additional feature is that value returned by annotated method is also considered to be the value to deserialize from, not just JSON String to serialize as. This is possible since set of Enum values is constant and it is possible to define mapping, but can not be done in general for POJO types; as such, this is not used for POJO deserialization.\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonValue.html\r\n\r\nSo having the `Event` enum annotated just as above works (for both serialization and deserialization) with jackson 2.0+.","title":"Jackson enum Serializing and DeSerializer","body":"<p>In the context of an enum, using <code>@JsonValue</code> now (since 2.0) works for serialization <em>and</em> deserialization.</p>\n\n<p>According to the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonValue.html\" rel=\"noreferrer\">jackson-annotations javadoc for <code>@JsonValue</code></a>:</p>\n\n<blockquote>\n  <p>NOTE: when use for Java enums, one additional feature is that value returned by annotated method is also considered to be the value to deserialize from, not just JSON String to serialize as. This is possible since set of Enum values is constant and it is possible to define mapping, but can not be done in general for POJO types; as such, this is not used for POJO deserialization.</p>\n</blockquote>\n\n<p>So having the <code>Event</code> enum annotated just as above works (for both serialization and deserialization) with jackson 2.0+.</p>\n"},{"tags":[],"owner":{"account_id":1286492,"reputation":2812,"user_id":1239439,"display_name":"Yuantao"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552502058,"creation_date":1552502058,"answer_id":55149048,"question_id":12468764,"body_markdown":"Besides using @JsonSerialize @JsonDeserialize, you can also use SerializationFeature and DeserializationFeature (jackson binding) in the object mapper.\r\n\r\nSuch as DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_USING_DEFAULT_VALUE, which give default enum type if the one provided is not defined in the enum class.","title":"Jackson enum Serializing and DeSerializer","body":"<p>Besides using @JsonSerialize @JsonDeserialize, you can also use SerializationFeature and DeserializationFeature (jackson binding) in the object mapper.</p>\n\n<p>Such as DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_USING_DEFAULT_VALUE, which give default enum type if the one provided is not defined in the enum class.</p>\n"},{"tags":[],"owner":{"account_id":4346027,"reputation":151,"user_id":3547944,"display_name":"Durga"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1590905896,"creation_date":1554413398,"answer_id":55525196,"question_id":12468764,"body_markdown":"Try this.\r\n\r\n    public enum Event {\r\n    \t\r\n        FORGOT_PASSWORD(&quot;forgot password&quot;);\r\n    \r\n    \tprivate final String value;\r\n    \r\n    \tprivate Event(final String description) {\r\n    \t\tthis.value = description;\r\n    \t}\r\n    \r\n    \tprivate Event() {\r\n    \t\tthis.value = this.name();\r\n    \t}\r\n    \r\n    \t@JsonValue\r\n    \tfinal String value() {\r\n    \t\treturn this.value;\r\n    \t}\r\n    }","title":"Jackson enum Serializing and DeSerializer","body":"<p>Try this.</p>\n\n<pre><code>public enum Event {\n\n    FORGOT_PASSWORD(\"forgot password\");\n\n    private final String value;\n\n    private Event(final String description) {\n        this.value = description;\n    }\n\n    private Event() {\n        this.value = this.name();\n    }\n\n    @JsonValue\n    final String value() {\n        return this.value;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2034071,"reputation":10531,"user_id":2237469,"accept_rate":94,"display_name":"yrazlik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559131570,"creation_date":1559131241,"answer_id":56360153,"question_id":12468764,"body_markdown":"The simplest way I found is using @JsonFormat.Shape.OBJECT annotation for the enum.\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.OBJECT)\r\n    public enum MyEnum{\r\n\t    ....\r\n    }","title":"Jackson enum Serializing and DeSerializer","body":"<p>The simplest way I found is using @JsonFormat.Shape.OBJECT annotation for the enum.</p>\n\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.OBJECT)\npublic enum MyEnum{\n    ....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3346494,"reputation":447,"user_id":2811560,"display_name":"Flavio Sousa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583851181,"creation_date":1583851181,"answer_id":60619890,"question_id":12468764,"body_markdown":"In my case, this is what resolved:\r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonFormat;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\n@JsonFormat(shape = JsonFormat.Shape.OBJECT)\r\npublic enum PeriodEnum {\r\n\r\n    DAILY(1),\r\n    WEEKLY(2),\r\n    ;\r\n\r\n    private final int id;\r\n\r\n    PeriodEnum(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return this.name();\r\n    }\r\n\r\n    @JsonCreator\r\n    public static PeriodEnum fromJson(@JsonProperty(&quot;name&quot;) String name) {\r\n        return valueOf(name);\r\n    }\r\n}\r\n\r\n```\r\n\r\nSerializes and deserializes the following json:\r\n```json\r\n{\r\n  &quot;id&quot;: 2,\r\n  &quot;name&quot;: &quot;WEEKLY&quot;\r\n}\r\n```\r\n\r\nI hope it helps!\r\n\r\n","title":"Jackson enum Serializing and DeSerializer","body":"<p>In my case, this is what resolved:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonFormat;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\n@JsonFormat(shape = JsonFormat.Shape.OBJECT)\npublic enum PeriodEnum {\n\n    DAILY(1),\n    WEEKLY(2),\n    ;\n\n    private final int id;\n\n    PeriodEnum(int id) {\n        this.id = id;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public String getName() {\n        return this.name();\n    }\n\n    @JsonCreator\n    public static PeriodEnum fromJson(@JsonProperty(\"name\") String name) {\n        return valueOf(name);\n    }\n}\n\n</code></pre>\n\n<p>Serializes and deserializes the following json:</p>\n\n<pre><code>{\n  \"id\": 2,\n  \"name\": \"WEEKLY\"\n}\n</code></pre>\n\n<p>I hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":4722924,"reputation":121,"user_id":3820358,"display_name":"bastien"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593683715,"creation_date":1593683715,"answer_id":62693660,"question_id":12468764,"body_markdown":"I did it like this :\r\n\r\n```\r\n// Your JSON\r\n{&quot;event&quot;:&quot;forgot password&quot;}\r\n\r\n// Your class to map \r\npublic class LoggingDto {\r\n    @JsonProperty(value = &quot;event&quot;)\r\n    private FooEnum logType;\r\n}\r\n\r\n//Your enum\r\npublic enum FooEnum {\r\n\r\n    DATA_LOG (&quot;Dummy 1&quot;),\r\n    DATA2_LOG (&quot;Dummy 2&quot;),\r\n    DATA3_LOG (&quot;forgot password&quot;),\r\n    DATA4_LOG (&quot;Dummy 4&quot;),\r\n    DATA5_LOG (&quot;Dummy 5&quot;),\r\n    UNKNOWN (&quot;&quot;);\r\n\r\n    private String fullName;\r\n\r\n    FooEnum(String fullName) {\r\n        this.fullName = fullName;\r\n    }\r\n\r\n    public String getFullName() {\r\n        return fullName;\r\n    }\r\n\r\n    @JsonCreator\r\n    public static FooEnum getLogTypeFromFullName(String fullName) {\r\n        for (FooEnum logType : FooEnum.values()) {\r\n            if (logType.fullName.equals(fullName)) {\r\n                return logType;\r\n            }\r\n        }\r\n        return UNKNOWN;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nSo the value of the property &quot;logType&quot; for class LoggingDto will be DATA3_LOG","title":"Jackson enum Serializing and DeSerializer","body":"<p>I did it like this :</p>\n<pre><code>// Your JSON\n{&quot;event&quot;:&quot;forgot password&quot;}\n\n// Your class to map \npublic class LoggingDto {\n    @JsonProperty(value = &quot;event&quot;)\n    private FooEnum logType;\n}\n\n//Your enum\npublic enum FooEnum {\n\n    DATA_LOG (&quot;Dummy 1&quot;),\n    DATA2_LOG (&quot;Dummy 2&quot;),\n    DATA3_LOG (&quot;forgot password&quot;),\n    DATA4_LOG (&quot;Dummy 4&quot;),\n    DATA5_LOG (&quot;Dummy 5&quot;),\n    UNKNOWN (&quot;&quot;);\n\n    private String fullName;\n\n    FooEnum(String fullName) {\n        this.fullName = fullName;\n    }\n\n    public String getFullName() {\n        return fullName;\n    }\n\n    @JsonCreator\n    public static FooEnum getLogTypeFromFullName(String fullName) {\n        for (FooEnum logType : FooEnum.values()) {\n            if (logType.fullName.equals(fullName)) {\n                return logType;\n            }\n        }\n        return UNKNOWN;\n    }\n\n\n}\n</code></pre>\n<p>So the value of the property &quot;logType&quot; for class LoggingDto will be DATA3_LOG</p>\n"},{"tags":[],"owner":{"account_id":8074503,"reputation":176,"user_id":6086037,"display_name":"Evgeniy Sokolov"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1616519857,"creation_date":1616515714,"answer_id":66766953,"question_id":12468764,"body_markdown":"I like the [accepted answer][1]. However, I would improve it a little (considering that there is now Java higher than version 6 available). \r\n\r\nExample: \r\n```\r\n    public enum Operation {\r\n        EQUAL(&quot;eq&quot;),\r\n        NOT_EQUAL(&quot;ne&quot;),\r\n        LESS_THAN(&quot;lt&quot;),\r\n        GREATER_THAN(&quot;gt&quot;);\r\n\r\n        private final String value;\r\n\r\n        Operation(String value) {\r\n            this.value = value;\r\n        }\r\n\r\n        @JsonValue\r\n        public String getValue() {\r\n            return value;\r\n        }\r\n\r\n        @JsonCreator\r\n        public static Operation forValue(String value) {\r\n            return Arrays.stream(Operation.values())\r\n                .filter(op -&gt; op.getValue().equals(value))\r\n                .findFirst()\r\n                .orElseThrow(); // depending on requirements: can be .orElse(null);\r\n        }\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/20421494/10871073","title":"Jackson enum Serializing and DeSerializer","body":"<p>I like the <a href=\"https://stackoverflow.com/a/20421494/10871073\">accepted answer</a>. However, I would improve it a little (considering that there is now Java higher than version 6 available).</p>\n<p>Example:</p>\n<pre><code>    public enum Operation {\n        EQUAL(&quot;eq&quot;),\n        NOT_EQUAL(&quot;ne&quot;),\n        LESS_THAN(&quot;lt&quot;),\n        GREATER_THAN(&quot;gt&quot;);\n\n        private final String value;\n\n        Operation(String value) {\n            this.value = value;\n        }\n\n        @JsonValue\n        public String getValue() {\n            return value;\n        }\n\n        @JsonCreator\n        public static Operation forValue(String value) {\n            return Arrays.stream(Operation.values())\n                .filter(op -&gt; op.getValue().equals(value))\n                .findFirst()\n                .orElseThrow(); // depending on requirements: can be .orElse(null);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4261778,"reputation":1,"user_id":3485970,"display_name":"Dufayel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630070623,"creation_date":1630069519,"answer_id":68953926,"question_id":12468764,"body_markdown":"This post is old, but if it can help someone, use JsonFormat.Shape.STRING\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING)\r\n    public enum SomeEnum{\r\n        @JsonProperty(&quot;SOME_PROPERTY&quot;)\r\n        someProperty,\r\n        ...\r\n    }\r\n\r\nCode results is like this\r\n\r\n    {&quot;someenum&quot;:&quot;SOME_PROPERTY&quot;}","title":"Jackson enum Serializing and DeSerializer","body":"<p>This post is old, but if it can help someone, use JsonFormat.Shape.STRING</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING)\npublic enum SomeEnum{\n    @JsonProperty(&quot;SOME_PROPERTY&quot;)\n    someProperty,\n    ...\n}\n</code></pre>\n<p>Code results is like this</p>\n<pre><code>{&quot;someenum&quot;:&quot;SOME_PROPERTY&quot;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2235815,"reputation":884,"user_id":1972234,"display_name":"sujith s"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638338059,"creation_date":1638337473,"answer_id":70179636,"question_id":12468764,"body_markdown":"    @JsonFormat(shape = JsonFormat.Shape.OBJECT)\r\n    public enum LoginOptionType {\r\n\r\n\t PHONE(1, &quot;Phone&quot;), MAIL(2, &quot;mail&quot;), PERSONAL_EMAIL(3, &quot;Personal email&quot;);\r\n\r\n\tprivate static List&lt;LoginOptionType&gt; all;\r\n\r\n\tstatic {\r\n\t\tall = new ArrayList&lt;LoginOptionType&gt;() {\r\n\t\t\t{\r\n\t\t\t\tadd(LoginOptionType.PHONE);\r\n\t\t\t\tadd(LoginOptionType.MAIL);\r\n\t\t\t\tadd(LoginOptionType.PERSONAL_EMAIL);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tprivate final Integer viewValue;\r\n\r\n\tprivate final String name;\r\n\r\n\tLoginOptionType(Integer viewValue, String name) {\r\n\t\tthis.viewValue = viewValue;\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic Integer getViewValue() {\r\n\t\treturn viewValue;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic static List&lt;LoginOptionType&gt; getAll() {\r\n\t\treturn all;\r\n\t}\r\n    }\r\n\r\n&gt; Response\r\n\r\n    [\r\n    {\r\n        &quot;viewValue&quot;: 1,\r\n        &quot;name&quot;: &quot;Phone&quot;\r\n    },\r\n    {\r\n        &quot;viewValue&quot;: 2,\r\n        &quot;name&quot;: &quot;mail&quot;\r\n    },\r\n    {\r\n        &quot;viewValue&quot;: 3,\r\n        &quot;name&quot;: &quot;Personal email&quot;\r\n    }\r\n    ]","title":"Jackson enum Serializing and DeSerializer","body":"<pre><code>@JsonFormat(shape = JsonFormat.Shape.OBJECT)\npublic enum LoginOptionType {\n\n PHONE(1, &quot;Phone&quot;), MAIL(2, &quot;mail&quot;), PERSONAL_EMAIL(3, &quot;Personal email&quot;);\n\nprivate static List&lt;LoginOptionType&gt; all;\n\nstatic {\n    all = new ArrayList&lt;LoginOptionType&gt;() {\n        {\n            add(LoginOptionType.PHONE);\n            add(LoginOptionType.MAIL);\n            add(LoginOptionType.PERSONAL_EMAIL);\n        }\n    };\n}\n\nprivate final Integer viewValue;\n\nprivate final String name;\n\nLoginOptionType(Integer viewValue, String name) {\n    this.viewValue = viewValue;\n    this.name = name;\n}\n\npublic Integer getViewValue() {\n    return viewValue;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic static List&lt;LoginOptionType&gt; getAll() {\n    return all;\n}\n}\n</code></pre>\n<blockquote>\n<p>Response</p>\n</blockquote>\n<pre><code>[\n{\n    &quot;viewValue&quot;: 1,\n    &quot;name&quot;: &quot;Phone&quot;\n},\n{\n    &quot;viewValue&quot;: 2,\n    &quot;name&quot;: &quot;mail&quot;\n},\n{\n    &quot;viewValue&quot;: 3,\n    &quot;name&quot;: &quot;Personal email&quot;\n}\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14537432,"reputation":874,"user_id":10500330,"display_name":"Anurag Bhalekar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664361924,"creation_date":1664361924,"answer_id":73880147,"question_id":12468764,"body_markdown":"Here, &#39;value&#39; acts as a deserialiser and &#39;namespace&#39; acts as a serialiser. Hence, you can pass in value &quot;Student Absent&quot; to API while saving, and in DB it will be saved as &quot;STUDENT_ABSENT&quot;. On the other hand, while retrieving data in your class, your API will return &quot;Student Absent&quot;\r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    public enum AttendanceEnums {\r\n        STUDENT_PRESENT,\r\n        @JsonProperty(value = &quot;Student Absent&quot;, namespace = &quot;Student Absent&quot;)\r\n        STUDENT_ABSENT;\r\n    }","title":"Jackson enum Serializing and DeSerializer","body":"<p>Here, 'value' acts as a deserialiser and 'namespace' acts as a serialiser. Hence, you can pass in value &quot;Student Absent&quot; to API while saving, and in DB it will be saved as &quot;STUDENT_ABSENT&quot;. On the other hand, while retrieving data in your class, your API will return &quot;Student Absent&quot;</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\npublic enum AttendanceEnums {\n    STUDENT_PRESENT,\n    @JsonProperty(value = &quot;Student Absent&quot;, namespace = &quot;Student Absent&quot;)\n    STUDENT_ABSENT;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":466270,"reputation":1285,"user_id":870916,"accept_rate":75,"display_name":"Phill Campbell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666453337,"creation_date":1666395258,"answer_id":74160058,"question_id":12468764,"body_markdown":"I had been looking for a solution to enum serialization and I finally made a solution.\r\n\r\nhttps://github.com/sirgilligan/EnumerationSerialization\r\n\r\nhttps://digerati-illuminatus.blogspot.com/2022/10/java-enum-generic-serializer-and.html\r\n\r\nIt uses a new annotation and two new classes, EnumerationSerializer and EnumerationDeserializer. You can subclass the EnumerationDeserializer and make a class that sets the enum Class (typical approach) or you can annotate the enum and you don&#39;t have to have a subclass of EnumerationDeserializer.\r\n\r\n\r\n\r\n    @JsonSerialize(using = EnumerationSerializer.class)\r\n    @JsonDeserialize(using = EnumerationDeserializer.class)\r\n    @EnumJson(serializeProjection = Projection.NAME, deserializationClass = RGB.class)\r\n    enum RGB {\r\n    \tRED,\r\n    \tGREEN,\r\n    \tBLUE\r\n    }\r\n\r\nNotice how the implementation of ContextualDeserializer pulls the class from the annotation.\r\n\r\nhttps://github.com/sirgilligan/EnumerationSerialization/blob/main/src/main/java/org/example/EnumerationDeserializer.java\r\n\r\n\r\nThere is a lot of good code in this that might give insights.\r\n\r\nFor your specific question you could do this:\r\n\r\n    @JsonSerialize(using = EnumerationSerializer.class)\r\n    @JsonDeserialize(using = EnumerationDeserializer.class)\r\n    @EnumJson(serializeProjection = Projection.NAME, deserializationClass = Event.class)\r\n    public enum Event {\r\n        FORGOT_PASSWORD(&quot;forgot password&quot;);\r\n    \r\n        //This annotation is optional because the code looks for value or alias.\r\n        @EnumJson(serializeProjection = Projection.VALUE)\r\n        private final String value;\r\n    \r\n        private Event(final String description) {\r\n            this.value = description;\r\n        }\r\n  \r\n    }\r\n\r\nOr you could do this:\r\n\r\n    @JsonSerialize(using = EnumerationSerializer.class)\r\n    @JsonDeserialize(using = EnumerationDeserializer.class)\r\n    @EnumJson(serializeProjection = Projection.NAME, deserializationClass = Event.class)\r\n    public enum Event {\r\n        FORGOT_PASSWORD(&quot;forgot password&quot;);\r\n    \r\n        private final String value;\r\n    \r\n        private Event(final String description) {\r\n            this.value = description;\r\n        }\r\n  \r\n    }\r\n\r\nThat&#39;s all you have to do.\r\n\r\nThen if you have a class that &quot;has a&quot; event you can annotate each occurance to serialize the way you want.\r\n\r\n    class EventHolder {\r\n    \t@EnumJson(serializeProjection = Projection.NAME)\r\n    \tEvent someEvent;\r\n    \r\n    \t@EnumJson(serializeProjection = Projection.ORDINAL)\r\n    \tEvent someOtherEvent;\r\n    \r\n    \t@EnumJson(serializeProjection = Projection.VALUE)\r\n    \tEvent yetAnotherEvent;\r\n    }\r\n","title":"Jackson enum Serializing and DeSerializer","body":"<p>I had been looking for a solution to enum serialization and I finally made a solution.</p>\n<p><a href=\"https://github.com/sirgilligan/EnumerationSerialization\" rel=\"nofollow noreferrer\">https://github.com/sirgilligan/EnumerationSerialization</a></p>\n<p><a href=\"https://digerati-illuminatus.blogspot.com/2022/10/java-enum-generic-serializer-and.html\" rel=\"nofollow noreferrer\">https://digerati-illuminatus.blogspot.com/2022/10/java-enum-generic-serializer-and.html</a></p>\n<p>It uses a new annotation and two new classes, EnumerationSerializer and EnumerationDeserializer. You can subclass the EnumerationDeserializer and make a class that sets the enum Class (typical approach) or you can annotate the enum and you don't have to have a subclass of EnumerationDeserializer.</p>\n<pre><code>@JsonSerialize(using = EnumerationSerializer.class)\n@JsonDeserialize(using = EnumerationDeserializer.class)\n@EnumJson(serializeProjection = Projection.NAME, deserializationClass = RGB.class)\nenum RGB {\n    RED,\n    GREEN,\n    BLUE\n}\n</code></pre>\n<p>Notice how the implementation of ContextualDeserializer pulls the class from the annotation.</p>\n<p><a href=\"https://github.com/sirgilligan/EnumerationSerialization/blob/main/src/main/java/org/example/EnumerationDeserializer.java\" rel=\"nofollow noreferrer\">https://github.com/sirgilligan/EnumerationSerialization/blob/main/src/main/java/org/example/EnumerationDeserializer.java</a></p>\n<p>There is a lot of good code in this that might give insights.</p>\n<p>For your specific question you could do this:</p>\n<pre><code>@JsonSerialize(using = EnumerationSerializer.class)\n@JsonDeserialize(using = EnumerationDeserializer.class)\n@EnumJson(serializeProjection = Projection.NAME, deserializationClass = Event.class)\npublic enum Event {\n    FORGOT_PASSWORD(&quot;forgot password&quot;);\n\n    //This annotation is optional because the code looks for value or alias.\n    @EnumJson(serializeProjection = Projection.VALUE)\n    private final String value;\n\n    private Event(final String description) {\n        this.value = description;\n    }\n\n}\n</code></pre>\n<p>Or you could do this:</p>\n<pre><code>@JsonSerialize(using = EnumerationSerializer.class)\n@JsonDeserialize(using = EnumerationDeserializer.class)\n@EnumJson(serializeProjection = Projection.NAME, deserializationClass = Event.class)\npublic enum Event {\n    FORGOT_PASSWORD(&quot;forgot password&quot;);\n\n    private final String value;\n\n    private Event(final String description) {\n        this.value = description;\n    }\n\n}\n</code></pre>\n<p>That's all you have to do.</p>\n<p>Then if you have a class that &quot;has a&quot; event you can annotate each occurance to serialize the way you want.</p>\n<pre><code>class EventHolder {\n    @EnumJson(serializeProjection = Projection.NAME)\n    Event someEvent;\n\n    @EnumJson(serializeProjection = Projection.ORDINAL)\n    Event someOtherEvent;\n\n    @EnumJson(serializeProjection = Projection.VALUE)\n    Event yetAnotherEvent;\n}\n</code></pre>\n"}],"owner":{"account_id":1461922,"reputation":3031,"user_id":1376000,"accept_rate":40,"display_name":"pookieman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353060,"favorite_count":0,"down_vote_count":1,"up_vote_count":289,"accepted_answer_id":20421494,"answer_count":19,"score":288,"last_activity_date":1666453337,"creation_date":1347927164,"question_id":12468764,"body_markdown":"I&#39;m using JAVA 1.6 and Jackson 1.9.9 I&#39;ve got an enum\r\n\r\n    public enum Event {\r\n        FORGOT_PASSWORD(&quot;forgot password&quot;);\r\n\r\n        private final String value;\r\n\r\n        private Event(final String description) {\r\n            this.value = description;\r\n        }\r\n\r\n        @JsonValue\r\n        final String value() {\r\n            return this.value;\r\n        }\r\n    }\r\n\r\nI&#39;ve added a @JsonValue, this seems to do the job it serializes the object into:\r\n\r\n    {&quot;event&quot;:&quot;forgot password&quot;}\r\n\r\nbut when I try to deserialize I get a\r\n\r\n    Caused by: org.codehaus.jackson.map.JsonMappingException: Can not construct instance of com.globalrelay.gas.appsjson.authportal.Event from String value &#39;forgot password&#39;: value not one of declared Enum instance names\r\n\r\nWhat am I missing here?","title":"Jackson enum Serializing and DeSerializer","body":"<p>I'm using JAVA 1.6 and Jackson 1.9.9 I've got an enum</p>\n\n<pre><code>public enum Event {\n    FORGOT_PASSWORD(\"forgot password\");\n\n    private final String value;\n\n    private Event(final String description) {\n        this.value = description;\n    }\n\n    @JsonValue\n    final String value() {\n        return this.value;\n    }\n}\n</code></pre>\n\n<p>I've added a @JsonValue, this seems to do the job it serializes the object into:</p>\n\n<pre><code>{\"event\":\"forgot password\"}\n</code></pre>\n\n<p>but when I try to deserialize I get a</p>\n\n<pre><code>Caused by: org.codehaus.jackson.map.JsonMappingException: Can not construct instance of com.globalrelay.gas.appsjson.authportal.Event from String value 'forgot password': value not one of declared Enum instance names\n</code></pre>\n\n<p>What am I missing here?</p>\n"},{"tags":["java","loops","methods","restart"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":3,"creation_date":1453028037,"post_id":34837441,"comment_id":57415811,"body_markdown":"Use a `while` or `do` loop to restart the game based on user input.","body":"Use a <code>while</code> or <code>do</code> loop to restart the game based on user input."},{"owner":{"account_id":49167,"reputation":144581,"user_id":146325,"display_name":"APC"},"score":0,"creation_date":1453028164,"post_id":34837441,"comment_id":57415843,"body_markdown":"Given that your question is &quot;Do you want to play again?&quot; surely the restarting option should be *Yes* not *No*.","body":"Given that your question is &quot;Do you want to play again?&quot; surely the restarting option should be <i>Yes</i> not <i>No</i>."}],"answers":[{"comments":[{"owner":{"account_id":49167,"reputation":144581,"user_id":146325,"display_name":"APC"},"score":1,"creation_date":1453028246,"post_id":34837492,"comment_id":57415860,"body_markdown":"Not sure recursion is the *easiest* option for a beginner (depending on depth of non-Java programming experience).","body":"Not sure recursion is the <i>easiest</i> option for a beginner (depending on depth of non-Java programming experience)."},{"owner":{"account_id":5548328,"reputation":23,"user_id":4402294,"display_name":"Robolt Activator"},"score":0,"creation_date":1453078256,"post_id":34837492,"comment_id":57431899,"body_markdown":"This solved my problem,,, calling the game method again!!\nThanks!","body":"This solved my problem,,, calling the game method again!! Thanks!"}],"tags":[],"owner":{"account_id":3296070,"reputation":4445,"user_id":2773311,"accept_rate":73,"display_name":"Arc676"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1453028378,"creation_date":1453028092,"answer_id":34837492,"question_id":34837441,"body_markdown":"Given the current state of your program, the &lt;s&gt;easiest&lt;/s&gt; &lt;s&gt;simplest&lt;/s&gt; most &lt;s&gt;straightforward&lt;/s&gt; readable method is recursion. Just call your game method again. Note that there&#39;s probably a recursion limit, so the loop is the recommended method, even if it does involve restructuring your code a bit.\r\n\r\n    else{\r\n        game();\r\n    }\r\nLoop method: declare `play` at the beginning and use a loop:\r\n\r\n    private static void game(){\r\n        boolean play = true;\r\n        while (play){\r\n            //...\r\n            //find out if user wants to play again\r\n            //set play to false if player doesn&#39;t want to play anymore\r\n        }\r\n    }","title":"How to restart a program from a method","body":"<p>Given the current state of your program, the <s>easiest</s> <s>simplest</s> most <s>straightforward</s> readable method is recursion. Just call your game method again. Note that there's probably a recursion limit, so the loop is the recommended method, even if it does involve restructuring your code a bit.</p>\n\n<pre><code>else{\n    game();\n}\n</code></pre>\n\n<p>Loop method: declare <code>play</code> at the beginning and use a loop:</p>\n\n<pre><code>private static void game(){\n    boolean play = true;\n    while (play){\n        //...\n        //find out if user wants to play again\n        //set play to false if player doesn't want to play anymore\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1149888,"reputation":1033,"user_id":1131828,"display_name":"Hamdi Douss"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1453028408,"creation_date":1453028408,"answer_id":34837553,"question_id":34837441,"body_markdown":"If you just want to make it work you can do something like this :\r\n\r\n    private static void game()//game method\r\n    {\r\n        boolean exit = false;\r\n        while(!exit){\r\n            //...int play = JOptionPane.showOptionDialog(null,&quot;Play Again?&quot;, &quot;Do you want to play again?&quot;, JOptionPane.PLAIN_MESSAGE,JOptionPane.DEFAULT_OPTION, null, again, again[1]);\r\n           //end of game\r\n    \r\n    \r\n            if (play == 0) {\r\n                exit = true;\r\n            }\r\n\r\n        }          \r\n            System.exit(0);//exit \r\nBut a better more professionnal approach would be to refactor your code, so you extract game logic and separate it from User dialog interaction.","title":"How to restart a program from a method","body":"<p>If you just want to make it work you can do something like this :</p>\n\n<pre><code>private static void game()//game method\n{\n    boolean exit = false;\n    while(!exit){\n        //...int play = JOptionPane.showOptionDialog(null,\"Play Again?\", \"Do you want to play again?\", JOptionPane.PLAIN_MESSAGE,JOptionPane.DEFAULT_OPTION, null, again, again[1]);\n       //end of game\n\n\n        if (play == 0) {\n            exit = true;\n        }\n\n    }          \n        System.exit(0);//exit \n</code></pre>\n\n<p>But a better more professionnal approach would be to refactor your code, so you extract game logic and separate it from User dialog interaction.</p>\n"},{"tags":[],"owner":{"account_id":6739555,"reputation":2194,"user_id":5193194,"display_name":"karim mohsen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453028581,"creation_date":1453028581,"answer_id":34837586,"question_id":34837441,"body_markdown":"Extract the `JOptionPane` part from your `game()` function code\r\n\r\n    int play=0;\r\n    do{\r\n    game();\r\n    play = JOptionPane.showOptionDialog(null\r\n                       ,&quot;End&quot;\r\n                       , &quot;Do you want to play again?&quot;\r\n                       , JOptionPane.PLAIN_MESSAGE\r\n                       ,JOptionPane.DEFAULT_OPTION\r\n                       , null\r\n                       , again\r\n                       , again[1]); \r\n    }while(play);","title":"How to restart a program from a method","body":"<p>Extract the <code>JOptionPane</code> part from your <code>game()</code> function code</p>\n\n<pre><code>int play=0;\ndo{\ngame();\nplay = JOptionPane.showOptionDialog(null\n                   ,\"End\"\n                   , \"Do you want to play again?\"\n                   , JOptionPane.PLAIN_MESSAGE\n                   ,JOptionPane.DEFAULT_OPTION\n                   , null\n                   , again\n                   , again[1]); \n}while(play);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24183482,"reputation":1,"user_id":18143792,"display_name":"Samwel001"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666453181,"creation_date":1666453181,"answer_id":74164877,"question_id":34837441,"body_markdown":"You can use this method which i am very sure will work in your program since it is something that i have done before. You&#39;ll use Desktop class of the system that will initiate the opening of the program. The program will look like this\r\n```\r\npublic static void restart()\r\n{\r\nDesktop desktop = Desktop.getDesktop();\r\n\ttry {\r\n\t\tdesktop.open(new File(&quot;name_of_your_jarfile.jar&quot;).getCanonicalFile());\r\n// desktop.open(new File(&quot;name_of_your_exe.exe&quot;).getCanonicalFile());//for exe\r\n\t\t} catch (IOException e) {\r\n\t\t\t//if this happen try looking whether the name of your jar file is correct\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n}\r\nprivate static void game() //game method\r\n{\r\n    //...\r\n\r\n   int play = JOptionPane.showOptionDialog(null\r\n                   ,&quot;End&quot;\r\n                   , &quot;Do you want to play again?&quot;\r\n                   , JOptionPane.PLAIN_MESSAGE\r\n                   ,JOptionPane.DEFAULT_OPTION\r\n                   , null\r\n                   , again\r\n                   , again[1]);\r\n   //end of game\r\n    if (play == 0)\r\n        System.exit(0);//exit\r\n    else\r\n         /* what do I put here to restart the program in the same \r\n            after pressing the No button on the JOptionPane???    */        \r\n         System.out.println(&quot;Service not available&quot;);  \r\n       restart();//this will reopen your jar/exe file\r\n       System.exit(0);\r\n}\r\n```","title":"How to restart a program from a method","body":"<p>You can use this method which i am very sure will work in your program since it is something that i have done before. You'll use Desktop class of the system that will initiate the opening of the program. The program will look like this</p>\n<pre><code>public static void restart()\n{\nDesktop desktop = Desktop.getDesktop();\n    try {\n        desktop.open(new File(&quot;name_of_your_jarfile.jar&quot;).getCanonicalFile());\n// desktop.open(new File(&quot;name_of_your_exe.exe&quot;).getCanonicalFile());//for exe\n        } catch (IOException e) {\n            //if this happen try looking whether the name of your jar file is correct\n            e.printStackTrace();\n        }\n}\nprivate static void game() //game method\n{\n    //...\n\n   int play = JOptionPane.showOptionDialog(null\n                   ,&quot;End&quot;\n                   , &quot;Do you want to play again?&quot;\n                   , JOptionPane.PLAIN_MESSAGE\n                   ,JOptionPane.DEFAULT_OPTION\n                   , null\n                   , again\n                   , again[1]);\n   //end of game\n    if (play == 0)\n        System.exit(0);//exit\n    else\n         /* what do I put here to restart the program in the same \n            after pressing the No button on the JOptionPane???    */        \n         System.out.println(&quot;Service not available&quot;);  \n       restart();//this will reopen your jar/exe file\n       System.exit(0);\n}\n</code></pre>\n"}],"owner":{"account_id":5548328,"reputation":23,"user_id":4402294,"display_name":"Robolt Activator"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39068,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":34837553,"answer_count":4,"score":1,"last_activity_date":1666453181,"creation_date":1453027640,"question_id":34837441,"body_markdown":"I&#39;m a beginner in Java and I am making a basic game for practice. I&#39;m almost done, but I have one further obstacle to overcome. \r\n\r\nI would like to know how to make the game loop on the `game()` method after pressing *no* as a choice when asked whether to end the game.\r\n\r\nHere is my code:\r\n\r\n\tprivate static void game() //game method\r\n\t{\r\n\t\t//...\r\n\r\n\t   int play = JOptionPane.showOptionDialog(null\r\n                       ,&quot;End&quot;\r\n                       , &quot;Do you want to play again?&quot;\r\n                       , JOptionPane.PLAIN_MESSAGE\r\n                       ,JOptionPane.DEFAULT_OPTION\r\n                       , null\r\n                       , again\r\n                       , again[1]);\r\n\t   //end of game\r\n\t  \r\n\t    if (play == 0)\r\n\t    \tSystem.exit(0);//exit\r\n\t    else\r\n             /* what do I put here to restart the program in the same method(game()) \r\n                after pressing the No button on the JOptionPane???    */        \r\n\t    \t System.out.println(&quot;Service not available&quot;);  \r\n\r\n\r\nTo anybody who can help, I thank you very much!\r\n\r\n\r\n","title":"How to restart a program from a method","body":"<p>I'm a beginner in Java and I am making a basic game for practice. I'm almost done, but I have one further obstacle to overcome. </p>\n\n<p>I would like to know how to make the game loop on the <code>game()</code> method after pressing <em>no</em> as a choice when asked whether to end the game.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>private static void game() //game method\n{\n    //...\n\n   int play = JOptionPane.showOptionDialog(null\n                   ,\"End\"\n                   , \"Do you want to play again?\"\n                   , JOptionPane.PLAIN_MESSAGE\n                   ,JOptionPane.DEFAULT_OPTION\n                   , null\n                   , again\n                   , again[1]);\n   //end of game\n\n    if (play == 0)\n        System.exit(0);//exit\n    else\n         /* what do I put here to restart the program in the same method(game()) \n            after pressing the No button on the JOptionPane???    */        \n         System.out.println(\"Service not available\");  \n</code></pre>\n\n<p>To anybody who can help, I thank you very much!</p>\n"},{"tags":["java","arrays","list","rotation","java-time"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666397528,"post_id":74159975,"comment_id":130935155,"body_markdown":"Would generating the result list satisfy your requirements, or do we need to assume that you&#39;ve got the list with the ISO order and we need to use that? In the latter case, does your list always hold all seven days and always exactly once each?","body":"Would generating the result list satisfy your requirements, or do we need to assume that you&#39;ve got the list with the ISO order and we need to use that? In the latter case, does your list always hold all seven days and always exactly once each?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666398624,"post_id":74159975,"comment_id":130935283,"body_markdown":"Relying on an assumption about the original list would mean waiting for your program to break when the assumption breaks. If I have understood your situation correctly, I would resort to sorting into the desired order. Probably not quite as efficient, but it guarantees that whatever was in the list in what order ends up in the correct order.","body":"Relying on an assumption about the original list would mean waiting for your program to break when the assumption breaks. If I have understood your situation correctly, I would resort to sorting into the desired order. Probably not quite as efficient, but it guarantees that whatever was in the list in what order ends up in the correct order."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666498970,"post_id":74159975,"comment_id":130949729,"body_markdown":"Here are three ways demonstrated online: https://rextester.com/MUKZY76895. First one as the question is asked, assuming that the original list contains each day once in the order defined by ISO 8601 and validating this assumption. Second a simpler solution accepting any list of DayOfWeek objects and just sorting it according to the locale. Finally another simple solution that generates the list without starting out from any existing list.","body":"Here are three ways demonstrated online: <a href=\"https://rextester.com/MUKZY76895\" rel=\"nofollow noreferrer\">rextester.com/MUKZY76895</a>. First one as the question is asked, assuming that the original list contains each day once in the order defined by ISO 8601 and validating this assumption. Second a simpler solution accepting any list of DayOfWeek objects and just sorting it according to the locale. Finally another simple solution that generates the list without starting out from any existing list."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667383908,"post_id":74159975,"comment_id":131152445,"body_markdown":"Related: [Get weekdays in order by locale](https://stackoverflow.com/questions/52742452/get-weekdays-in-order-by-locale)","body":"Related: <a href=\"https://stackoverflow.com/questions/52742452/get-weekdays-in-order-by-locale\">Get weekdays in order by locale</a>"}],"answers":[{"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666394893,"post_id":74159976,"comment_id":130934816,"body_markdown":"Since `DayOfWeek.MONDAY.ordinal()` is `0`, it can be discarded.","body":"Since <code>DayOfWeek.MONDAY.ordinal()</code> is <code>0</code>, it can be discarded."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1666395043,"post_id":74159976,"comment_id":130934833,"body_markdown":"@AlexanderIvanchenko Valid point. But I like the way its inclusion makes clear that conceptually we are making an offset from that Monday to our desired day. I expect the compiler would optimize away the `MONDAY.ordinal()` call.","body":"@AlexanderIvanchenko Valid point. But I like the way its inclusion makes clear that conceptually we are making an offset from that Monday to our desired day. I expect the compiler would optimize away the <code>MONDAY.ordinal()</code> call."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666435399,"post_id":74159976,"comment_id":130939286,"body_markdown":"I would expect passing `Arrays.asList(DayOfWeek.values())` to `rotate()` to work. Haven&#39;t tried it.","body":"I would expect passing <code>Arrays.asList(DayOfWeek.values())</code> to <code>rotate()</code> to work. Haven&#39;t tried it."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666471255,"post_id":74159976,"comment_id":130946578,"body_markdown":"@OleV.V. I am not clear on (a) if [`DayOfWeek.values`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/DayOfWeek.html#values()) returns a modifiable or unmodifiable array, and (b) if that array will always be modifiable in future versions. So I am more comfortable with making an explicit copy of the contents which [`Arrays.asList`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Arrays.html#asList(T...)) decidedly does *not*. Thus my use of `new ArrayList`.","body":"@OleV.V. I am not clear on (a) if <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/DayOfWeek.html#values()\" rel=\"nofollow noreferrer\"><code>DayOfWeek.values</code></a> returns a modifiable or unmodifiable array, and (b) if that array will always be modifiable in future versions. So I am more comfortable with making an explicit copy of the contents which <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Arrays.html#asList(T...)\" rel=\"nofollow noreferrer\"><code>Arrays.asList</code></a> decidedly does <i>not</i>. Thus my use of <code>new ArrayList</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666497717,"post_id":74159976,"comment_id":130949624,"body_markdown":"I see your valid point. The method was introduced long before frozen arrays. So even though returning an unmodifiable array would be advantageous, I bet they dare not introduce that later. One would at least need to make sure to put the code under unit test so one discovers if it happens.","body":"I see your valid point. The method was introduced long before frozen arrays. So even though returning an unmodifiable array would be advantageous, I bet they dare not introduce that later. One would at least need to make sure to put the code under unit test so one discovers if it happens."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666394157,"creation_date":1666394157,"answer_id":74159976,"question_id":74159975,"body_markdown":"# tl;dr\r\n\r\n```java\r\nCollections.rotate( \r\n    new ArrayList&lt;&gt; ( List.of( DayOfWeek.values() ) ) ,   // Actually, you would instantiate elsewhere and pass here.\r\n    DayOfWeek.MONDAY.ordinal() - WeekFields.of( Locale.US ).getFirstDayOfWeek().ordinal()  \r\n)\r\n```\r\n\r\n# Details\r\n\r\nFortunately, you need not do the list-rotation work yourself. The `Collections` utility class offers a [`rotate`][1] method. Pass your list along with an offset. \r\n\r\nTo quote the Javadoc:\r\n\r\n&gt;Rotates the elements in the specified list by the specified distance. After calling this method, the element at index i will be the element previously at index (i - distance) mod list.size(), for all values of i between 0 and list.size()-1, inclusive. (This method has no effect on the size of the list.)\r\n&gt;\r\n&gt;For example, suppose list comprises [t, a, n, k, s]. After invoking Collections.rotate(list, 1) (or Collections.rotate(list, -4)), list will comprise [s, t, a, n, k].\r\n\r\n```java\r\nfinal List&lt; DayOfWeek &gt; iso8601 = List.of( DayOfWeek.values() ) ;  // Monday-Sunday, defined in ISO 8601 standard.\r\nList&lt; DayOfWeek &gt; localeOrder = new ArrayList&lt;&gt;( iso8601 ) ;       // Duplicate the list of DayOfWeek objects.\r\nLocale locale = Locale.US ;\r\nDayOfWeek localeFirstDayOfWeek = WeekFields.of( locale ).getFirstDayOfWeek() ;  // Sunday-Saturday.\r\nint distance = DayOfWeek.MONDAY.ordinal() - localeFirstDayOfWeek.ordinal() ;\r\nCollections.rotate( localeOrder , distance ) ;\r\n```\r\n\r\nDump to console.\r\n\r\n```java\r\nSystem.out.println( iso8601 ) ;\r\nSystem.out.println( localeOrder ) ;\r\nSystem.out.println( distance ) ;\r\n```\r\n\r\nSee that [code run at Ideone.com][2].\r\n\r\n&gt;[MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY]\r\n&gt;\r\n&gt;[SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY]\r\n&gt;\r\n&gt;-6\r\n\r\nOr more briefly:\r\n\r\n```java\r\nList&lt; DayOfWeek &gt; localeOrder = new ArrayList&lt; DayOfWeek &gt; ( List.of( DayOfWeek.values() ) ) ;   \r\nCollections.rotate( \r\n\tlocaleOrder , \r\n\tDayOfWeek.MONDAY.ordinal() - WeekFields.of( Locale.US ).getFirstDayOfWeek().ordinal()  \r\n) ;\r\n```\r\n\r\nSee this [code run at Ideone.com][3].\r\n\r\n&gt;[SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#rotate(java.util.List,int)\r\n  [2]: https://ideone.com/adxKDY\r\n  [3]: https://ideone.com/bCXbgA","title":"Rotate elements of a collection of DayOfWeek into locale-defined order","body":"<h1>tl;dr</h1>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.rotate( \n    new ArrayList&lt;&gt; ( List.of( DayOfWeek.values() ) ) ,   // Actually, you would instantiate elsewhere and pass here.\n    DayOfWeek.MONDAY.ordinal() - WeekFields.of( Locale.US ).getFirstDayOfWeek().ordinal()  \n)\n</code></pre>\n<h1>Details</h1>\n<p>Fortunately, you need not do the list-rotation work yourself. The <code>Collections</code> utility class offers a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#rotate(java.util.List,int)\" rel=\"nofollow noreferrer\"><code>rotate</code></a> method. Pass your list along with an offset.</p>\n<p>To quote the Javadoc:</p>\n<blockquote>\n<p>Rotates the elements in the specified list by the specified distance. After calling this method, the element at index i will be the element previously at index (i - distance) mod list.size(), for all values of i between 0 and list.size()-1, inclusive. (This method has no effect on the size of the list.)</p>\n<p>For example, suppose list comprises [t, a, n, k, s]. After invoking Collections.rotate(list, 1) (or Collections.rotate(list, -4)), list will comprise [s, t, a, n, k].</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt; DayOfWeek &gt; iso8601 = List.of( DayOfWeek.values() ) ;  // Monday-Sunday, defined in ISO 8601 standard.\nList&lt; DayOfWeek &gt; localeOrder = new ArrayList&lt;&gt;( iso8601 ) ;       // Duplicate the list of DayOfWeek objects.\nLocale locale = Locale.US ;\nDayOfWeek localeFirstDayOfWeek = WeekFields.of( locale ).getFirstDayOfWeek() ;  // Sunday-Saturday.\nint distance = DayOfWeek.MONDAY.ordinal() - localeFirstDayOfWeek.ordinal() ;\nCollections.rotate( localeOrder , distance ) ;\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( iso8601 ) ;\nSystem.out.println( localeOrder ) ;\nSystem.out.println( distance ) ;\n</code></pre>\n<p>See that <a href=\"https://ideone.com/adxKDY\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<blockquote>\n<p>[MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY]</p>\n<p>[SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY]</p>\n<p>-6</p>\n</blockquote>\n<p>Or more briefly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt; DayOfWeek &gt; localeOrder = new ArrayList&lt; DayOfWeek &gt; ( List.of( DayOfWeek.values() ) ) ;   \nCollections.rotate( \n    localeOrder , \n    DayOfWeek.MONDAY.ordinal() - WeekFields.of( Locale.US ).getFirstDayOfWeek().ordinal()  \n) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/bCXbgA\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<blockquote>\n<p>[SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666397976,"creation_date":1666397546,"answer_id":74160219,"question_id":74159975,"body_markdown":"Here&#39;s how it can be done using [`List.subList()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#subList(int,int)) and [`Stream.concat()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#concat(java.util.stream.Stream,java.util.stream.Stream)).\r\n\r\n**The core idea**\r\n\r\nThe rotated list can be constructed from two parts:\r\n\r\n* From the first day of the week to Sunday (inclusive);\r\n* From Monday to the first day of the week (exclusive). In case when the first day of the week is Monday, the second part would be empty.\r\n\r\nThat&#39;s how implementation might look like:\r\n\r\n```\r\nDayOfWeek firstDayOfWeek = WeekFields.of(Locale.US).getFirstDayOfWeek();   // the first Day of Week\r\n    \r\nList&lt;DayOfWeek&gt; initial = new ArrayList&lt;&gt;(EnumSet.allOf(DayOfWeek.class)); // initial list of Days of Week ordered according to ISO-8601\r\n        \r\nList&lt;DayOfWeek&gt; rotated = Stream.concat(\r\n    initial.subList(firstDayOfWeek.ordinal(), DayOfWeek.SUNDAY.ordinal() + 1).stream(), // from the firstDayOfWeek to Sunday inclusive\r\n    initial.subList(DayOfWeek.MONDAY.ordinal(), firstDayOfWeek.ordinal()).stream()      // from Monday to the firstDayOfWeek exclusive\r\n).toList();\r\n        \r\nrotated.forEach(System.out::println); // printing the result\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nSUNDAY\r\nMONDAY\r\nTUESDAY\r\nWEDNESDAY\r\nTHURSDAY\r\nFRIDAY\r\nSATURDAY\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/xN5)","title":"Rotate elements of a collection of DayOfWeek into locale-defined order","body":"<p>Here's how it can be done using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#subList(int,int)\" rel=\"nofollow noreferrer\"><code>List.subList()</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#concat(java.util.stream.Stream,java.util.stream.Stream)\" rel=\"nofollow noreferrer\"><code>Stream.concat()</code></a>.</p>\n<p><strong>The core idea</strong></p>\n<p>The rotated list can be constructed from two parts:</p>\n<ul>\n<li>From the first day of the week to Sunday (inclusive);</li>\n<li>From Monday to the first day of the week (exclusive). In case when the first day of the week is Monday, the second part would be empty.</li>\n</ul>\n<p>That's how implementation might look like:</p>\n<pre><code>DayOfWeek firstDayOfWeek = WeekFields.of(Locale.US).getFirstDayOfWeek();   // the first Day of Week\n    \nList&lt;DayOfWeek&gt; initial = new ArrayList&lt;&gt;(EnumSet.allOf(DayOfWeek.class)); // initial list of Days of Week ordered according to ISO-8601\n        \nList&lt;DayOfWeek&gt; rotated = Stream.concat(\n    initial.subList(firstDayOfWeek.ordinal(), DayOfWeek.SUNDAY.ordinal() + 1).stream(), // from the firstDayOfWeek to Sunday inclusive\n    initial.subList(DayOfWeek.MONDAY.ordinal(), firstDayOfWeek.ordinal()).stream()      // from Monday to the firstDayOfWeek exclusive\n).toList();\n        \nrotated.forEach(System.out::println); // printing the result\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>SUNDAY\nMONDAY\nTUESDAY\nWEDNESDAY\nTHURSDAY\nFRIDAY\nSATURDAY\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/xN5\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"}],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666452929,"creation_date":1666394157,"question_id":74159975,"body_markdown":"Given we can determine the first day of the week by soft-coding with [`Locale`][1]:\r\n\r\n    DayOfWeek firstDayOfWeek = WeekFields.of( Locale.US ).getFirstDayOfWeek() ;  // Sunday-Saturday.\r\n\r\n… and given that Java comes with a built-in enum defining days of the week, [DayOfWeek][2]:\r\n\r\n    DayOfWeek[] dows = DayOfWeek.values() ;  // Monday-Sunday\r\n\r\nHow can we create another array or a list of whose elements are the `DayOfWeek`  enum objects rearranged in order defined by our specified locale?\r\n\r\nThe goal is to represent all seven days of the week in the order defined by cultural norms as represented by a particular `Locale`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Locale.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/DayOfWeek.html","title":"Rotate elements of a collection of DayOfWeek into locale-defined order","body":"<p>Given we can determine the first day of the week by soft-coding with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Locale.html\" rel=\"nofollow noreferrer\"><code>Locale</code></a>:</p>\n<pre><code>DayOfWeek firstDayOfWeek = WeekFields.of( Locale.US ).getFirstDayOfWeek() ;  // Sunday-Saturday.\n</code></pre>\n<p>… and given that Java comes with a built-in enum defining days of the week, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/DayOfWeek.html\" rel=\"nofollow noreferrer\">DayOfWeek</a>:</p>\n<pre><code>DayOfWeek[] dows = DayOfWeek.values() ;  // Monday-Sunday\n</code></pre>\n<p>How can we create another array or a list of whose elements are the <code>DayOfWeek</code>  enum objects rearranged in order defined by our specified locale?</p>\n<p>The goal is to represent all seven days of the week in the order defined by cultural norms as represented by a particular <code>Locale</code>.</p>\n"},{"tags":["java","json","org.json","jsonexception"],"answers":[{"tags":[],"owner":{"account_id":10298861,"reputation":111,"user_id":7598149,"display_name":"kesaven"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666451698,"creation_date":1666451676,"answer_id":74164741,"question_id":74152664,"body_markdown":"This could be one of the solution\r\n```\r\nvar jsonObject = new JSONObject(json);\r\nvar result = jsonObject.getJSONObject(&quot;reminders&quot;).getJSONArray(&quot;overrides&quot;);\r\nvar minutes = result.getJSONObject(0).get(&quot;minutes&quot;);\r\n```\r\n        ","title":"org.json.JSONException: JSONObject[&quot;minutes&quot;] not found","body":"<p>This could be one of the solution</p>\n<pre><code>var jsonObject = new JSONObject(json);\nvar result = jsonObject.getJSONObject(&quot;reminders&quot;).getJSONArray(&quot;overrides&quot;);\nvar minutes = result.getJSONObject(0).get(&quot;minutes&quot;);\n</code></pre>\n"}],"owner":{"account_id":26691798,"reputation":1,"user_id":20300275,"display_name":"Avinash Sirohi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666451698,"creation_date":1666350091,"question_id":74152664,"body_markdown":"\r\nThis is my JSON object and I am trying to access the minutes from this JSON object but unable to access it, I have also tried writing some code, can anyone please help.\r\n\r\n***{&quot;summary&quot;:&quot;B.Com; LL.B.(Hons.) 5-Year integrated-MIBCBT802R01&quot;,&quot;recurrence&quot;:[&quot;RRULE:FREQ=DAILY;COUNT=1&quot;],&quot;reminders&quot;:{&quot;overrides&quot;:[{&quot;method&quot;:&quot;email&quot;,&quot;minutes&quot;:1440}],&quot;useDefault&quot;:&quot;false&quot;},&quot;attendees&quot;:[&quot;qatest1@dc01.tcs-itontap.com&quot;],&quot;start&quot;:{&quot;dateTime&quot;:&quot;2022-10-24T08:40:00+05:30&quot;,&quot;timeZone&quot;:&quot;India+5:30&quot;},&quot;description&quot;:&quot;Lecture scheduled for Subject:Down Stream Processing Lab II and Activity: Practical&quot;,&quot;location&quot;:&quot;India&quot;,&quot;end&quot;:{&quot;dateTime&quot;:&quot;2022-10-24T09:30:00+05:30&quot;,&quot;timeZone&quot;:&quot;India+5:30&quot;},&quot;id&quot;:2300036}***\r\n\r\n\r\n    ```String remMinutes = new org.json.JSONObject(new org.json.JSONObject(jsonFromSolJSON.getJSONObject(&quot;reminders&quot;)).getJSONArray(&quot;overrides&quot;).getJSONObject(0)).getInt(&quot;minutes&quot;)```\r\n\r\n\r\n\r\nErr - JSONError:: org.json.JSONException: JSONObject[&quot;minutes&quot;] not found.","title":"org.json.JSONException: JSONObject[&quot;minutes&quot;] not found","body":"<p>This is my JSON object and I am trying to access the minutes from this JSON object but unable to access it, I have also tried writing some code, can anyone please help.</p>\n<p><em><strong>{&quot;summary&quot;:&quot;B.Com; LL.B.(Hons.) 5-Year integrated-MIBCBT802R01&quot;,&quot;recurrence&quot;:[&quot;RRULE:FREQ=DAILY;COUNT=1&quot;],&quot;reminders&quot;:{&quot;overrides&quot;:[{&quot;method&quot;:&quot;email&quot;,&quot;minutes&quot;:1440}],&quot;useDefault&quot;:&quot;false&quot;},&quot;attendees&quot;:[&quot;qatest1@dc01.tcs-itontap.com&quot;],&quot;start&quot;:{&quot;dateTime&quot;:&quot;2022-10-24T08:40:00+05:30&quot;,&quot;timeZone&quot;:&quot;India+5:30&quot;},&quot;description&quot;:&quot;Lecture scheduled for Subject:Down Stream Processing Lab II and Activity: Practical&quot;,&quot;location&quot;:&quot;India&quot;,&quot;end&quot;:{&quot;dateTime&quot;:&quot;2022-10-24T09:30:00+05:30&quot;,&quot;timeZone&quot;:&quot;India+5:30&quot;},&quot;id&quot;:2300036}</strong></em></p>\n<pre><code>```String remMinutes = new org.json.JSONObject(new org.json.JSONObject(jsonFromSolJSON.getJSONObject(&quot;reminders&quot;)).getJSONArray(&quot;overrides&quot;).getJSONObject(0)).getInt(&quot;minutes&quot;)```\n</code></pre>\n<p>Err - JSONError:: org.json.JSONException: JSONObject[&quot;minutes&quot;] not found.</p>\n"},{"tags":["java","reactive-programming","quarkus","mutiny","quarkus-reactive"],"comments":[{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1666310155,"post_id":74146687,"comment_id":130912818,"body_markdown":"SQL has `union all` operation.","body":"SQL has <code>union all</code> operation."},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1666370136,"post_id":74146687,"comment_id":130928837,"body_markdown":"I don&#39;t see any Hibernate in this code. It looks like you&#39;re just using the Vert.x database client library directly.","body":"I don&#39;t see any Hibernate in this code. It looks like you&#39;re just using the Vert.x database client library directly."}],"answers":[{"comments":[{"owner":{"account_id":20125651,"reputation":13,"user_id":15762382,"display_name":"Jonathan"},"score":0,"creation_date":1666400630,"post_id":74153326,"comment_id":130935479,"body_markdown":"Hi Davide, thank you for your detailed answer, i got it working! I modified your code to pass a list of unis to the Uni.combine().all().unis() function. This works like a charm. I tried to apply your suggested uni approach using hibernate panache which cause HR000061: Session is currently connecting to database. when i use multis with hibernate instead, it works as expected.  Is there a reason why you prefer unis before multis? Are there any significant differences performance wise?","body":"Hi Davide, thank you for your detailed answer, i got it working! I modified your code to pass a list of unis to the Uni.combine().all().unis() function. This works like a charm. I tried to apply your suggested uni approach using hibernate panache which cause HR000061: Session is currently connecting to database. when i use multis with hibernate instead, it works as expected.  Is there a reason why you prefer unis before multis? Are there any significant differences performance wise?"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1666450178,"post_id":74153326,"comment_id":130942270,"body_markdown":"The Hibernate Reactive session is not made for the execution of queries in parallel. This means that you cannot use `.combine().all().uni(...)` with unis sharing the same session. The reason you see the exception HR000061 is that as soon as one of uni ends, it will close the session even if another uni is still using it. If you want to make it work, you need to make sure that the queries run in the right order or that you use a new session for every uni. I&#39;ve mentioned  this in a similar issue: https://github.com/quarkusio/quarkus/issues/22433#issuecomment-1284041669","body":"The Hibernate Reactive session is not made for the execution of queries in parallel. This means that you cannot use <code>.combine().all().uni(...)</code> with unis sharing the same session. The reason you see the exception HR000061 is that as soon as one of uni ends, it will close the session even if another uni is still using it. If you want to make it work, you need to make sure that the queries run in the right order or that you use a new session for every uni. I&#39;ve mentioned  this in a similar issue: <a href=\"https://github.com/quarkusio/quarkus/issues/22433#issuecomment-1284041669\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/&hellip;</a>"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1666450832,"post_id":74153326,"comment_id":130942381,"body_markdown":"With my approach, I&#39;m converting a RowSet into a Map with a loop. By converting the Uni to a Multi, you are iterating over the same list, emitting eache element into a stream of events so that you can collect them into a map again. Maybe there is not much difference in practice, but I find my approach easier to understand and refactor. Anyway, it&#39;s just a personal preference, I don&#39;t know if it&#39;s better in term of performance.","body":"With my approach, I&#39;m converting a RowSet into a Map with a loop. By converting the Uni to a Multi, you are iterating over the same list, emitting eache element into a stream of events so that you can collect them into a map again. Maybe there is not much difference in practice, but I find my approach easier to understand and refactor. Anyway, it&#39;s just a personal preference, I don&#39;t know if it&#39;s better in term of performance."}],"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666451617,"creation_date":1666353726,"answer_id":74153326,"question_id":74146687,"body_markdown":"Instead of returning it as a `Tuple`, you could return it as a `Map`:\r\n```\r\n\r\n        Multi&lt;Map&lt;String, Integer&gt;&gt; multi1 = ... // Same as in the quesion\r\n        Multi&lt;Map&lt;String, Integer&gt;&gt; multi2 = ... // Same as in the quesion\r\n\r\n\t\tUni&lt;Map&lt;String, Map&lt;String, Integer&gt;&gt;&gt; uni1 = multi1\r\n\t\t\t\t.toUni()\r\n\t\t\t\t.map( map -&gt; Map.of( &quot;addresses&quot;, map ) );\r\n\r\n\t\tUni&lt;Map&lt;String, Map&lt;String, Integer&gt;&gt;&gt; uni2 = multi2\r\n\t\t\t\t.toUni()\r\n\t\t\t\t.map( map -&gt; Map.of( &quot;methods&quot;, map ) );\r\n\r\n\t\treturn Uni.combine().all().unis( uni1, uni2 )\r\n\t\t\t\t.combinedWith( objects -&gt; {\r\n\t\t\t\t\tfinal Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();\r\n\t\t\t\t\t((List&lt;Map&lt;String, Object&gt;&gt;) objects).forEach( resultMap::putAll );\r\n\t\t\t\t\treturn resultMap;\r\n\t\t\t\t} ); \r\n```\r\n\r\nBut the result will look like this (different than the example in the question):\r\n```\r\n{\r\n  &quot;addresses&quot;: [\r\n    { &quot;1.2.3.4&quot;: 10},\r\n    { &quot;5.6.7.3&quot;: 15},\r\n  ],\r\n  &quot;methods&quot;: [\r\n    { &quot;GET&quot;: 7 }\r\n  ]\r\n}\r\n\r\n```\r\n\r\nI don&#39;t think I would convert everything to a `Multi` and then convert it back to a `Uni`. This will return the JSON you mention in the question:\r\n\r\n```\r\n    public Uni&lt;Map&lt;String, Object&gt;&gt; getCombined() {\r\n        ...\r\n        Uni&lt;RowSet&lt;Row&gt;&gt; set1 = client.query(selectIps).execute();\r\n        Uni&lt;RowSet&lt;Row&gt;&gt; set2 = client.query(selectMethods).execute();\r\n\r\n\t\tUni&lt;Map&lt;String, Object&gt;&gt; addressesUni = convertRowSet(&quot;addresses&quot;, &quot;address&quot;, set1);\r\n\t\tUni&lt;Map&lt;String, Object&gt;&gt; methodsUni = convertRowSet(&quot;methods&quot;, &quot;method&quot;, set2);\r\n\r\n\t\treturn Uni.combine().all().unis( addressesUni, methodsUni )\r\n\t\t\t\t.combinedWith( objects -&gt; {\r\n\t\t\t\t\tfinal Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();\r\n\t\t\t\t\t((List&lt;Map&lt;String, Object&gt;&gt;) objects).forEach( resultMap::putAll );\r\n\t\t\t\t\treturn resultMap;\r\n\t\t\t\t} );\r\n    }\r\n\r\n\tprivate static Uni&lt;Map&lt;String, Object&gt;&gt; convertRowSet(String plural, String singular, Uni&lt;RowSet&lt;Row&gt;&gt; rowSetUni) {\r\n\t\treturn rowSetUni.map( rowSet -&gt; {\r\n\t\t\tif ( rowSet.size() &gt; 0 ) {\r\n\t\t\t\tList&lt;Map&lt;String, Object&gt;&gt; resultList = new ArrayList&lt;&gt;();\r\n\t\t\t\trowSet.forEach( row -&gt; {\r\n\t\t\t\t\tresultList.add( Map.of(\r\n\t\t\t\t\t\t\tsingular, row.getString( singular ),\r\n\t\t\t\t\t\t\t&quot;requests&quot;, row.getInteger( &quot;requests&quot; )\r\n\t\t\t\t\t) );\r\n\t\t\t\t} );\r\n\t\t\t\treturn Map.of( plural, resultList );\r\n\t\t\t}\r\n\t\t\treturn Collections.emptyMap();\r\n\t\t} );\r\n\t}\r\n```\r\n\r\nAssuming that all results from the queries look the same.\r\n\r\nNote that this approach works because you are using the Vert.x client and not the Hibernate Reactive session. Because the [session cannot be used for parallel operations][1], you would need to make sure that each query is executed using a different session or that the two queries are executed in a sequence.\r\n\r\n\r\n  [1]: https://staging.hibernate.org/reactive/documentation/1.1/reference/html_single/#_sessions_and_vert_x_contexts","title":"Combine multiple resultsets into one object with hibernate reactive and mutiny","body":"<p>Instead of returning it as a <code>Tuple</code>, you could return it as a <code>Map</code>:</p>\n<pre><code>\n        Multi&lt;Map&lt;String, Integer&gt;&gt; multi1 = ... // Same as in the quesion\n        Multi&lt;Map&lt;String, Integer&gt;&gt; multi2 = ... // Same as in the quesion\n\n        Uni&lt;Map&lt;String, Map&lt;String, Integer&gt;&gt;&gt; uni1 = multi1\n                .toUni()\n                .map( map -&gt; Map.of( &quot;addresses&quot;, map ) );\n\n        Uni&lt;Map&lt;String, Map&lt;String, Integer&gt;&gt;&gt; uni2 = multi2\n                .toUni()\n                .map( map -&gt; Map.of( &quot;methods&quot;, map ) );\n\n        return Uni.combine().all().unis( uni1, uni2 )\n                .combinedWith( objects -&gt; {\n                    final Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();\n                    ((List&lt;Map&lt;String, Object&gt;&gt;) objects).forEach( resultMap::putAll );\n                    return resultMap;\n                } ); \n</code></pre>\n<p>But the result will look like this (different than the example in the question):</p>\n<pre><code>{\n  &quot;addresses&quot;: [\n    { &quot;1.2.3.4&quot;: 10},\n    { &quot;5.6.7.3&quot;: 15},\n  ],\n  &quot;methods&quot;: [\n    { &quot;GET&quot;: 7 }\n  ]\n}\n\n</code></pre>\n<p>I don't think I would convert everything to a <code>Multi</code> and then convert it back to a <code>Uni</code>. This will return the JSON you mention in the question:</p>\n<pre><code>    public Uni&lt;Map&lt;String, Object&gt;&gt; getCombined() {\n        ...\n        Uni&lt;RowSet&lt;Row&gt;&gt; set1 = client.query(selectIps).execute();\n        Uni&lt;RowSet&lt;Row&gt;&gt; set2 = client.query(selectMethods).execute();\n\n        Uni&lt;Map&lt;String, Object&gt;&gt; addressesUni = convertRowSet(&quot;addresses&quot;, &quot;address&quot;, set1);\n        Uni&lt;Map&lt;String, Object&gt;&gt; methodsUni = convertRowSet(&quot;methods&quot;, &quot;method&quot;, set2);\n\n        return Uni.combine().all().unis( addressesUni, methodsUni )\n                .combinedWith( objects -&gt; {\n                    final Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();\n                    ((List&lt;Map&lt;String, Object&gt;&gt;) objects).forEach( resultMap::putAll );\n                    return resultMap;\n                } );\n    }\n\n    private static Uni&lt;Map&lt;String, Object&gt;&gt; convertRowSet(String plural, String singular, Uni&lt;RowSet&lt;Row&gt;&gt; rowSetUni) {\n        return rowSetUni.map( rowSet -&gt; {\n            if ( rowSet.size() &gt; 0 ) {\n                List&lt;Map&lt;String, Object&gt;&gt; resultList = new ArrayList&lt;&gt;();\n                rowSet.forEach( row -&gt; {\n                    resultList.add( Map.of(\n                            singular, row.getString( singular ),\n                            &quot;requests&quot;, row.getInteger( &quot;requests&quot; )\n                    ) );\n                } );\n                return Map.of( plural, resultList );\n            }\n            return Collections.emptyMap();\n        } );\n    }\n</code></pre>\n<p>Assuming that all results from the queries look the same.</p>\n<p>Note that this approach works because you are using the Vert.x client and not the Hibernate Reactive session. Because the <a href=\"https://staging.hibernate.org/reactive/documentation/1.1/reference/html_single/#_sessions_and_vert_x_contexts\" rel=\"nofollow noreferrer\">session cannot be used for parallel operations</a>, you would need to make sure that each query is executed using a different session or that the two queries are executed in a sequence.</p>\n"}],"owner":{"account_id":20125651,"reputation":13,"user_id":15762382,"display_name":"Jonathan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74153326,"answer_count":1,"score":1,"last_activity_date":1666451617,"creation_date":1666302817,"question_id":74146687,"body_markdown":"I have a database representing the accesslog of my webserver with columns such as ip-address, method, requested path, etc. I want to create an endpoint which returns a json similar to this:\r\n```json\r\n{\r\n\t&quot;addresses&quot;: [\r\n\t\t{\r\n\t\t\t&quot;address&quot;: &quot;1.2.3.4&quot;,\r\n\t\t\t&quot;requests&quot;: 10\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;address&quot;: &quot;5.6.7.8&quot;,\r\n\t\t\t&quot;requests&quot;: 5\r\n\t\t}\r\n\t],\r\n\t&quot;methods&quot;: [\r\n\t\t{\r\n\t\t\t&quot;method&quot;: &quot;GET&quot;,\r\n\t\t\t&quot;requests&quot;: 14\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;method&quot;: &quot;POST&quot;,\r\n\t\t\t&quot;requests&quot;: 1\r\n\t\t}\r\n\t],\r\n\t&quot;paths&quot;: [\r\n\t\t{\r\n\t\t\t&quot;path&quot;: &quot;/index&quot;,\r\n\t\t\t&quot;requests&quot;: 15\r\n\t\t}\r\n\t]\r\n}\r\n\r\n```\r\n\r\n\r\n```sql\r\nselect address, count(address) as requests\r\nfrom logs\r\ngroup by address\r\norder by requests desc\r\n```\r\n```sql\r\nselect method, count(method) as requests\r\nfrom logs\r\ngroup by method\r\norder by requests desc\r\n```\r\n```sql\r\nselect path, count(path) as requests\r\nfrom logs\r\ngroup by path\r\norder by requests desc\r\n```\r\n\r\nSo this endpoint should execute 3 queries to get these 3 resultsets.\r\n\r\n\r\nThis is my first reactive/mutiny project so ive come as far as the tutorials go:\r\n```java\r\n    @Inject\r\n\tio.vertx.mutiny.pgclient.PgPool client;\r\n\r\n\t@GET\r\n\t@Path(&quot;/getOne&quot;)\r\n\tpublic Multi&lt;Map&lt;String, Integer&gt;&gt; getOne() {\r\n\r\n\t\tString select = &quot;select address, count(address) as requests&quot; \r\n\t\t\t\t\t + &quot; from logs group by address order by requests&quot;;\r\n\r\n\t\tUni&lt;RowSet&lt;Row&gt;&gt; set1 = client.query(select).execute();\r\n\r\n\t\treturn set1.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set)).onItem()\r\n\t\t\t\t.transform(row -&gt; Map.of(row.getString(&quot;address&quot;), row.getInteger(&quot;requests&quot;)));\r\n\t}\r\n```\r\n\r\nThis already returns the array of ips and their requests. \r\n\r\n```json\r\n[\r\n  {\r\n    &quot;1.2.3.4&quot;: 10\r\n  },\r\n  {\r\n    &quot;5.6.7.8&quot;: 5\r\n  }\r\n]\r\n``` \r\nI am now struggling to combine 2 resultsets into one response object:\r\n```java\r\n\r\n    @Inject\r\n\tio.vertx.mutiny.pgclient.PgPool client;\r\n\r\n\t@GET\r\n\t@Path(&quot;/getCombined&quot;)\r\n\tpublic Uni&lt;Tuple2&lt;Map&lt;String, Integer&gt;, Map&lt;String, Integer&gt;&gt;&gt; getCombined() {\r\n\r\n\t\tString selectIps = &quot;select address, count(address) as requests&quot;\r\n\t\t\t\t+ &quot; from logs group by address order by requests&quot;;\r\n\r\n\t\tString selectMethods = &quot;select method, count(method) as requests&quot;\r\n\t\t\t\t+ &quot; from logs group by method order by requests&quot;;\r\n\r\n\t\tUni&lt;RowSet&lt;Row&gt;&gt; set1 = client.query(selectIps).execute();\r\n\t\tUni&lt;RowSet&lt;Row&gt;&gt; set2 = client.query(selectMethods).execute();\r\n\r\n\t\tMulti&lt;Map&lt;String, Integer&gt;&gt; multi1 = set1.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set))\r\n\t\t\t\t.onItem().transform(row -&gt; Map.of(row.getString(&quot;address&quot;), row.getInteger(&quot;requests&quot;)));\r\n\r\n\t\tMulti&lt;Map&lt;String, Integer&gt;&gt; multi2 = set2.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set))\r\n\t\t\t\t.onItem().transform(row -&gt; Map.of(row.getString(&quot;method&quot;), row.getInteger(&quot;requests&quot;)));\r\n\r\n\t\treturn Uni.combine().all().unis(multi1.toUni(), multi2.toUni()).asTuple();\r\n\t}\r\n```\r\nthis seems to go in the right direction but i end up having my arrays converted to objects:\r\n```json\r\n{\r\n  &quot;item1&quot;: {\r\n    &quot;1.2.3.4&quot;: 10\r\n  },\r\n  &quot;item2&quot;: {\r\n    &quot;GET&quot;: 7\r\n  }\r\n}\r\n```\r\nHow can i **combine multiple resultsets into one**, to return one response object like the one at the top?\r\n\r\n","title":"Combine multiple resultsets into one object with hibernate reactive and mutiny","body":"<p>I have a database representing the accesslog of my webserver with columns such as ip-address, method, requested path, etc. I want to create an endpoint which returns a json similar to this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;addresses&quot;: [\n        {\n            &quot;address&quot;: &quot;1.2.3.4&quot;,\n            &quot;requests&quot;: 10\n        },\n        {\n            &quot;address&quot;: &quot;5.6.7.8&quot;,\n            &quot;requests&quot;: 5\n        }\n    ],\n    &quot;methods&quot;: [\n        {\n            &quot;method&quot;: &quot;GET&quot;,\n            &quot;requests&quot;: 14\n        },\n        {\n            &quot;method&quot;: &quot;POST&quot;,\n            &quot;requests&quot;: 1\n        }\n    ],\n    &quot;paths&quot;: [\n        {\n            &quot;path&quot;: &quot;/index&quot;,\n            &quot;requests&quot;: 15\n        }\n    ]\n}\n\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>select address, count(address) as requests\nfrom logs\ngroup by address\norder by requests desc\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>select method, count(method) as requests\nfrom logs\ngroup by method\norder by requests desc\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>select path, count(path) as requests\nfrom logs\ngroup by path\norder by requests desc\n</code></pre>\n<p>So this endpoint should execute 3 queries to get these 3 resultsets.</p>\n<p>This is my first reactive/mutiny project so ive come as far as the tutorials go:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Inject\n    io.vertx.mutiny.pgclient.PgPool client;\n\n    @GET\n    @Path(&quot;/getOne&quot;)\n    public Multi&lt;Map&lt;String, Integer&gt;&gt; getOne() {\n\n        String select = &quot;select address, count(address) as requests&quot; \n                     + &quot; from logs group by address order by requests&quot;;\n\n        Uni&lt;RowSet&lt;Row&gt;&gt; set1 = client.query(select).execute();\n\n        return set1.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set)).onItem()\n                .transform(row -&gt; Map.of(row.getString(&quot;address&quot;), row.getInteger(&quot;requests&quot;)));\n    }\n</code></pre>\n<p>This already returns the array of ips and their requests.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;1.2.3.4&quot;: 10\n  },\n  {\n    &quot;5.6.7.8&quot;: 5\n  }\n]\n</code></pre>\n<p>I am now struggling to combine 2 resultsets into one response object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Inject\n    io.vertx.mutiny.pgclient.PgPool client;\n\n    @GET\n    @Path(&quot;/getCombined&quot;)\n    public Uni&lt;Tuple2&lt;Map&lt;String, Integer&gt;, Map&lt;String, Integer&gt;&gt;&gt; getCombined() {\n\n        String selectIps = &quot;select address, count(address) as requests&quot;\n                + &quot; from logs group by address order by requests&quot;;\n\n        String selectMethods = &quot;select method, count(method) as requests&quot;\n                + &quot; from logs group by method order by requests&quot;;\n\n        Uni&lt;RowSet&lt;Row&gt;&gt; set1 = client.query(selectIps).execute();\n        Uni&lt;RowSet&lt;Row&gt;&gt; set2 = client.query(selectMethods).execute();\n\n        Multi&lt;Map&lt;String, Integer&gt;&gt; multi1 = set1.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set))\n                .onItem().transform(row -&gt; Map.of(row.getString(&quot;address&quot;), row.getInteger(&quot;requests&quot;)));\n\n        Multi&lt;Map&lt;String, Integer&gt;&gt; multi2 = set2.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set))\n                .onItem().transform(row -&gt; Map.of(row.getString(&quot;method&quot;), row.getInteger(&quot;requests&quot;)));\n\n        return Uni.combine().all().unis(multi1.toUni(), multi2.toUni()).asTuple();\n    }\n</code></pre>\n<p>this seems to go in the right direction but i end up having my arrays converted to objects:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;item1&quot;: {\n    &quot;1.2.3.4&quot;: 10\n  },\n  &quot;item2&quot;: {\n    &quot;GET&quot;: 7\n  }\n}\n</code></pre>\n<p>How can i <strong>combine multiple resultsets into one</strong>, to return one response object like the one at the top?</p>\n"},{"tags":["java","rest","swagger","filtering"],"answers":[{"comments":[{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1666448731,"post_id":74163956,"comment_id":130941924,"body_markdown":"Thanks for your answer! But unfortunately id didn&#39;t help because I still cannot filter my request by username. But I can filter my request as previous by startIndex and count field. Are there any other possible solution for this?","body":"Thanks for your answer! But unfortunately id didn&#39;t help because I still cannot filter my request by username. But I can filter my request as previous by startIndex and count field. Are there any other possible solution for this?"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1666449412,"post_id":74163956,"comment_id":130942094,"body_markdown":"You should be more specific by what &quot;still cannot filter my request by username&quot; exactly means. First of all, check if Spring MVC parameter is working as intended without swagger, e.g. send `/Users?count=1&amp;username=aaa` request via browser or curl, postman etc. and check if filter.username variable is populated. Don&#39;t forget accessors. As for swagger, add @ParameterObject annotation to Filter controller parameter. This should make Filter properties (username) visible in swagger-ui. I will update my answer.","body":"You should be more specific by what &quot;still cannot filter my request by username&quot; exactly means. First of all, check if Spring MVC parameter is working as intended without swagger, e.g. send <code>&#47;Users?count=1&amp;username=aaa</code> request via browser or curl, postman etc. and check if filter.username variable is populated. Don&#39;t forget accessors. As for swagger, add @ParameterObject annotation to Filter controller parameter. This should make Filter properties (username) visible in swagger-ui. I will update my answer."},{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1666450331,"post_id":74163956,"comment_id":130942301,"body_markdown":"Thanks, I&#39; ve added accessors and @ParameterObject! \nWhen I wrote about error I meant that I&#39;ve added some username in filter field in swagger but it hadn&#39;t filter my users and showed the list of all users. And in postman it didn&#39;t work too.","body":"Thanks, I&#39; ve added accessors and @ParameterObject!  When I wrote about error I meant that I&#39;ve added some username in filter field in swagger but it hadn&#39;t filter my users and showed the list of all users. And in postman it didn&#39;t work too."},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1666452222,"post_id":74163956,"comment_id":130942678,"body_markdown":"Well, the question is labeled &quot;How to add filter to Get query to swagger?&quot; and I am giving my answer to that question. Obviously, we don&#39;t see what you&#39;re doing with filter object in your code and why it doesn&#39;t work as you expect. In your original message filter object is not used at all as you&#39;re not passing it to userService. If you do see &quot;username&quot; parameter in swagger-ui and filter object in your controller gets its &quot;username&quot; property populated correctly (as you should check by debugging or printing, etc), I think your swagger-related question is answered.","body":"Well, the question is labeled &quot;How to add filter to Get query to swagger?&quot; and I am giving my answer to that question. Obviously, we don&#39;t see what you&#39;re doing with filter object in your code and why it doesn&#39;t work as you expect. In your original message filter object is not used at all as you&#39;re not passing it to userService. If you do see &quot;username&quot; parameter in swagger-ui and filter object in your controller gets its &quot;username&quot; property populated correctly (as you should check by debugging or printing, etc), I think your swagger-related question is answered."}],"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666449447,"creation_date":1666445246,"answer_id":74163956,"question_id":74163858,"body_markdown":"```\r\n@GetMapping(&quot;/Users&quot;)\r\npublic ResponseEntity&lt;PagingDto&lt;UserResource&gt;&gt; getUsers(\r\n    @RequestParam(required = false) Integer count,\r\n    @ParameterObject Filter filter) {\r\n\t...\r\n\t\r\npublic class Filter {\r\n    @Parameter(description=&quot;optional description&quot;)\r\n    String username;\r\n\t// accessors\r\n}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n```\r\n\r\nThis should result in HTTP request with parameters:  \r\n/Users?count=1&amp;username=aaa\r\n\r\nYou can move all your parameters to Filter class.\r\n\r\n```\r\n@GetMapping(&quot;/Users&quot;)\r\npublic ResponseEntity&lt;PagingDto&lt;UserResource&gt;&gt; getUsers(\r\n    @ParameterObject Filter filter) {\r\n\t...\r\n\t\r\npublic class Filter {\r\n    Integer count;\r\n\r\n    @Parameter(description=&quot;optional description&quot;)\r\n    String username;\r\n\t// accessors\r\n}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n```\r\n","title":"How to add filter to Get query to swagger?","body":"<pre><code>@GetMapping(&quot;/Users&quot;)\npublic ResponseEntity&lt;PagingDto&lt;UserResource&gt;&gt; getUsers(\n    @RequestParam(required = false) Integer count,\n    @ParameterObject Filter filter) {\n    ...\n    \npublic class Filter {\n    @Parameter(description=&quot;optional description&quot;)\n    String username;\n    // accessors\n}\n                                                        \n</code></pre>\n<p>This should result in HTTP request with parameters:<br />\n/Users?count=1&amp;username=aaa</p>\n<p>You can move all your parameters to Filter class.</p>\n<pre><code>@GetMapping(&quot;/Users&quot;)\npublic ResponseEntity&lt;PagingDto&lt;UserResource&gt;&gt; getUsers(\n    @ParameterObject Filter filter) {\n    ...\n    \npublic class Filter {\n    Integer count;\n\n    @Parameter(description=&quot;optional description&quot;)\n    String username;\n    // accessors\n}\n                                                        \n</code></pre>\n"}],"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666449447,"creation_date":1666444280,"question_id":74163858,"body_markdown":"I want to add query filter to my GET/Users endpoint in order to filter my request in swagger by username. I&#39;ve created a class name &quot;Filter&quot; with only one field - &quot;private String username&quot;.\r\nMy controller looks like this: \r\n\r\n    @ApiResponses(value = {\r\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Success&quot;),\r\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Client error&quot;),\r\n            @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Server error&quot;)\r\n    })\r\n    @GetMapping(&quot;/Users&quot;)\r\n    public ResponseEntity&lt;PagingDto&lt;UserResource&gt;&gt; getUsers(HttpServletRequest request,\r\n                                                            @Min(1)\r\n                                                            @RequestParam(required = false) Integer startIndex,\r\n                                                            @RequestParam(required = false) Integer count,\r\n                                                            @RequestParam(required = false) Filter filter) {\r\n        final PagingDto&lt;UserResource&gt; users = userService.getUsers(startIndex, count);\r\n        return new ResponseEntity&lt;&gt;(users, HttpStatus.OK);\r\n    }\r\n\r\nAdditionally, my filter has Integer maxResult and Boolean suppoted but unfortunately, it doesn&#39;t work.\r\nMy method &quot;getUsers&quot; looks like:\r\n\r\n    @Override\r\n    public PagingDto&lt;UserResource&gt; getUsers(Integer startIndex, Integer count) {\r\n        final PagingDto&lt;UserResource&gt; users = get(startIndex, count);\r\n        return users;\r\n    }\r\n\r\nPreviously, I&#39;ve tried to add to parameters &quot;Filter filter&quot; but it hadn&#39;t help either. I see the field &quot;filter&quot; in query section in swagger but it doesn&#39;t work properly.\r\nCan you help me please to solve this problem?","title":"How to add filter to Get query to swagger?","body":"<p>I want to add query filter to my GET/Users endpoint in order to filter my request in swagger by username. I've created a class name &quot;Filter&quot; with only one field - &quot;private String username&quot;.\nMy controller looks like this:</p>\n<pre><code>@ApiResponses(value = {\n        @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Success&quot;),\n        @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Client error&quot;),\n        @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Server error&quot;)\n})\n@GetMapping(&quot;/Users&quot;)\npublic ResponseEntity&lt;PagingDto&lt;UserResource&gt;&gt; getUsers(HttpServletRequest request,\n                                                        @Min(1)\n                                                        @RequestParam(required = false) Integer startIndex,\n                                                        @RequestParam(required = false) Integer count,\n                                                        @RequestParam(required = false) Filter filter) {\n    final PagingDto&lt;UserResource&gt; users = userService.getUsers(startIndex, count);\n    return new ResponseEntity&lt;&gt;(users, HttpStatus.OK);\n}\n</code></pre>\n<p>Additionally, my filter has Integer maxResult and Boolean suppoted but unfortunately, it doesn't work.\nMy method &quot;getUsers&quot; looks like:</p>\n<pre><code>@Override\npublic PagingDto&lt;UserResource&gt; getUsers(Integer startIndex, Integer count) {\n    final PagingDto&lt;UserResource&gt; users = get(startIndex, count);\n    return users;\n}\n</code></pre>\n<p>Previously, I've tried to add to parameters &quot;Filter filter&quot; but it hadn't help either. I see the field &quot;filter&quot; in query section in swagger but it doesn't work properly.\nCan you help me please to solve this problem?</p>\n"},{"tags":["java","keytab"],"owner":{"account_id":6236150,"reputation":15,"user_id":4851394,"display_name":"OHA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666447713,"creation_date":1666447713,"question_id":74164253,"body_markdown":"I develop a POC to do exactly what&#39;s mentionned in this topic&#39;s title.&lt;br/&gt;\r\nFor this, I&#39;ve found [jumarko sample][1] which is working perfectly. Many thanks to him for this sample :).&lt;br/&gt;\r\nHowever jumarko&#39;s sample uses ```callbackhandler``` implemetation. Which is a login/password authentication.&lt;br/&gt;\r\nIn my case, I&#39;d like to use a **keytab authentication** instead of.&lt;br/&gt;\r\nCould someone advise which interface or which system.property should I use to get **keytab authentication**  ?&lt;br/&gt;\r\nMany thanks in advance for your kind assist,\r\n\r\n\r\n  [1]: https://github.com/jumarko/kerberos-auth-example","title":"Client Java program to reach internet through proxy using kerberos/Keytab authentication","body":"<p>I develop a POC to do exactly what's mentionned in this topic's title.<br/>\nFor this, I've found <a href=\"https://github.com/jumarko/kerberos-auth-example\" rel=\"nofollow noreferrer\">jumarko sample</a> which is working perfectly. Many thanks to him for this sample :).<br/>\nHowever jumarko's sample uses <code>callbackhandler</code> implemetation. Which is a login/password authentication.<br/>\nIn my case, I'd like to use a <strong>keytab authentication</strong> instead of.<br/>\nCould someone advise which interface or which system.property should I use to get <strong>keytab authentication</strong>  ?<br/>\nMany thanks in advance for your kind assist,</p>\n"},{"tags":["javascript","java","android","mysql","epub3"],"answers":[{"tags":[],"owner":{"account_id":2491622,"reputation":419,"user_id":2168948,"display_name":"Alex Milewski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526589056,"creation_date":1526589056,"answer_id":50400063,"question_id":45303666,"body_markdown":"For the worst-case side of this, saving the information locally, you can use &quot;localstorage&quot;, for info on that go here: http://diveintohtml5.info/storage.html.\r\n\r\nThe next part is not so simple: you could use some sort of XHR request, but chances are that won&#39;t work because most ePub3 readers don&#39;t support XHR or external request functionality.\r\n\r\nIf you want your book to be distributed through any of the &quot;normal&quot; channels (pretty much just iBooks since you need Script support at this point) you won&#39;t be able to send the data externally...\r\n\r\nHowever, if you will be distributing the book yourself for use on Readium and iBooks (or if you want to plan ahead and hope for support) there are a few hacks you can do. My personal favorite, is embedding the data in a media request (IE www.yoursite.com/fake.m4v?data1=localStorage.data1&amp;data2=localStorage.data2) and pulling out the data on your server. This would be nested in a try catch and activated whenever the book is opened. If you include the base url (www.yoursite.com) in the .opf file, as well as at some point in the chapter which contains the script, this will work in iBooks! If you don&#39;t include it in the .opf the request will get blocked right out of the gate... Again, this &quot;solution&quot; is just a hack and it won&#39;t work through &quot;normal&quot; distribution channels and all of this is entirely dependent on the reader app you are using.\r\n\r\n\r\nBest of luck!!!","title":"EPUB3 Input data and save them somewhere","body":"<p>For the worst-case side of this, saving the information locally, you can use \"localstorage\", for info on that go here: <a href=\"http://diveintohtml5.info/storage.html\" rel=\"nofollow noreferrer\">http://diveintohtml5.info/storage.html</a>.</p>\n\n<p>The next part is not so simple: you could use some sort of XHR request, but chances are that won't work because most ePub3 readers don't support XHR or external request functionality.</p>\n\n<p>If you want your book to be distributed through any of the \"normal\" channels (pretty much just iBooks since you need Script support at this point) you won't be able to send the data externally...</p>\n\n<p>However, if you will be distributing the book yourself for use on Readium and iBooks (or if you want to plan ahead and hope for support) there are a few hacks you can do. My personal favorite, is embedding the data in a media request (IE www.yoursite.com/fake.m4v?data1=localStorage.data1&amp;data2=localStorage.data2) and pulling out the data on your server. This would be nested in a try catch and activated whenever the book is opened. If you include the base url (www.yoursite.com) in the .opf file, as well as at some point in the chapter which contains the script, this will work in iBooks! If you don't include it in the .opf the request will get blocked right out of the gate... Again, this \"solution\" is just a hack and it won't work through \"normal\" distribution channels and all of this is entirely dependent on the reader app you are using.</p>\n\n<p>Best of luck!!!</p>\n"}],"owner":{"account_id":11408988,"reputation":11,"user_id":8363676,"display_name":"K3nnythe13ed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666447700,"creation_date":1500986556,"question_id":45303666,"body_markdown":"So I&#39;m looking for a way to get some kind of form into an EPUB3 Book that allows the user to enter some data for example his first name and last name. \r\nAfter submitting this data has to be saved somewhere, best case would be a database like MySQL. \r\nWorst Case data is being saved locally and the EPUB3 Reader App I am using is getting a function call to work with the data.\r\n\r\nSo is there anyway get this done on best case?\r\nOr is it even possible for the worst case? I&#39;m using an EPUB3 Reader App that is still on development, it is based on Java. Is there any way to get an interface between app and Ebook?\r\n\r\nI do not require full functioning code here just some hints on how it might work out","title":"EPUB3 Input data and save them somewhere","body":"<p>So I'm looking for a way to get some kind of form into an EPUB3 Book that allows the user to enter some data for example his first name and last name. \nAfter submitting this data has to be saved somewhere, best case would be a database like MySQL. \nWorst Case data is being saved locally and the EPUB3 Reader App I am using is getting a function call to work with the data.</p>\n\n<p>So is there anyway get this done on best case?\nOr is it even possible for the worst case? I'm using an EPUB3 Reader App that is still on development, it is based on Java. Is there any way to get an interface between app and Ebook?</p>\n\n<p>I do not require full functioning code here just some hints on how it might work out</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"score":5,"creation_date":1665749263,"post_id":74068502,"comment_id":130776331,"body_markdown":"Hello :) Could you please give us a [minimal reproductible example](https://stackoverflow.com/help/minimal-reproducible-example)? At least we would like to see the problematic code.","body":"Hello :) Could you please give us a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproductible example</a>? At least we would like to see the problematic code."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1665750160,"post_id":74068502,"comment_id":130776618,"body_markdown":"Review these related [examples](https://stackoverflow.com/search?q=%5Bjavafx%5D+TableView++scrollTo) and [edit] your question to show your revised approach.","body":"Review these related <a href=\"https://stackoverflow.com/search?q=%5Bjavafx%5D+TableView++scrollTo\">examples</a> and <a href=\"https://stackoverflow.com/posts/74068502/edit\">edit</a> your question to show your revised approach."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1665950631,"post_id":74068502,"comment_id":130813912,"body_markdown":"Your `addAutoScroll` method is never called.  You can delete the method and move its code into the `setupTable` method (it won&#39;t need the null check then because the table must not be null for the setup to work).","body":"Your <code>addAutoScroll</code> method is never called.  You can delete the method and move its code into the <code>setupTable</code> method (it won&#39;t need the null check then because the table must not be null for the setup to work)."}],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1666156451,"post_id":74094994,"comment_id":130865817,"body_markdown":"refresh is wrong..","body":"refresh is wrong.."},{"owner":{"account_id":12458416,"reputation":1488,"user_id":9070798,"display_name":"Patrick"},"score":0,"creation_date":1666255907,"post_id":74094994,"comment_id":130894458,"body_markdown":"You should consider explaining in a few sentences what the problem was at the beginning of the answer rather than copy-pasting the entire code.","body":"You should consider explaining in a few sentences what the problem was at the beginning of the answer rather than copy-pasting the entire code."}],"tags":[],"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1666447385,"creation_date":1665998058,"answer_id":74094994,"question_id":74068502,"body_markdown":"got it working thanks to @jewelsea\r\n\r\nhad forgotten to add &quot;addAutoScroll(dogTable)&quot; to setupTable method so the auto scroll was never called.\r\n\r\nController.java\r\n```\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javafx.collections.ListChangeListener;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport javafx.scene.input.MouseEvent;\r\n\r\n\r\n\r\npublic class DogRegisterController implements Initializable {\r\n    \r\n    public static &lt;S&gt; void addAutoScroll(final TableView&lt;S&gt; dogTable) {\r\n        if (dogTable == null) {\r\n            throw new NullPointerException();\r\n        }\r\n    \r\n        dogTable.getItems().addListener((ListChangeListener&lt;S&gt;) (c -&gt; {\r\n            c.next();\r\n            final int size = dogTable.getItems().size();\r\n            if (size &gt; 0) {\r\n                dogTable.scrollTo(size - 1);\r\n            }\r\n        }));\r\n    }\r\n\r\n\r\n    private void setupTable(){\r\n        Dog dog0 = new Dog(&quot;Luna&quot;, &quot;Eurasier&quot;, 3, 22);\r\n        Dog dog1 = new Dog(&quot;Skye&quot;, &quot;Dachshund&quot;, 4, 5);\r\n        Dog dog2 = new Dog(&quot;Bella&quot;, &quot;Dachs&quot;, 2, 3);\r\n        Dog dog3 = new Dog(&quot;Sky&quot;, &quot;Tax&quot;, 3, 3);\r\n\r\n        dogTable.getItems().addAll(dog0, dog1, dog2, dog3);\r\n\r\n        addAutoScroll(dogTable);\r\n    }\r\n}\r\n\r\n``` ","title":"javaFX tableview auto scroll to last","body":"<p>got it working thanks to @jewelsea</p>\n<p>had forgotten to add &quot;addAutoScroll(dogTable)&quot; to setupTable method so the auto scroll was never called.</p>\n<p>Controller.java</p>\n<pre><code>import java.net.URL;\nimport java.util.ResourceBundle;\n\nimport javafx.collections.ListChangeListener;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.input.MouseEvent;\n\n\n\npublic class DogRegisterController implements Initializable {\n    \n    public static &lt;S&gt; void addAutoScroll(final TableView&lt;S&gt; dogTable) {\n        if (dogTable == null) {\n            throw new NullPointerException();\n        }\n    \n        dogTable.getItems().addListener((ListChangeListener&lt;S&gt;) (c -&gt; {\n            c.next();\n            final int size = dogTable.getItems().size();\n            if (size &gt; 0) {\n                dogTable.scrollTo(size - 1);\n            }\n        }));\n    }\n\n\n    private void setupTable(){\n        Dog dog0 = new Dog(&quot;Luna&quot;, &quot;Eurasier&quot;, 3, 22);\n        Dog dog1 = new Dog(&quot;Skye&quot;, &quot;Dachshund&quot;, 4, 5);\n        Dog dog2 = new Dog(&quot;Bella&quot;, &quot;Dachs&quot;, 2, 3);\n        Dog dog3 = new Dog(&quot;Sky&quot;, &quot;Tax&quot;, 3, 3);\n\n        dogTable.getItems().addAll(dog0, dog1, dog2, dog3);\n\n        addAutoScroll(dogTable);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74094994,"answer_count":1,"score":-2,"last_activity_date":1666447385,"creation_date":1665746761,"question_id":74068502,"body_markdown":"I&#39;m new to java/javaFX so be patient with me.\r\n\r\nThe problem I&#39;m having is that I don&#39;t get auto scrolling to work.\r\n\r\nI&#39;ve tried these solutions but didn&#39;t get them to work:\r\n\r\nhttps://stackoverflow.com/questions/14779135/javafx-tableview-auto-scroll-to-the-last\r\n\r\nhttps://stackoverflow.com/questions/28972021/javafx-how-to-add-changelistener-to-auto-scroll-tableview\r\n\r\nMain.java\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.ButtonType;\r\nimport javafx.scene.control.Alert.AlertType;\r\nimport javafx.scene.image.Image;\r\nimport javafx.stage.Stage;\r\n\r\n\r\npublic class Main extends Application {\r\n    @Override\r\n    public void start(Stage stage) {\r\n        try {\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;DogRegister.fxml&quot;));\r\n            Scene scene = new Scene(root);\r\n            stage.setScene(scene);\r\n            stage.setMinHeight(900);\r\n            stage.setMinWidth(1200);\r\n            stage.setResizable(false);\r\n            stage.setTitle(&quot;Dog Registry&quot;);\r\n            Image image = new Image(&quot;/image/paw.png&quot;);\r\n            stage.getIcons().add(image);\r\n            stage.show();\r\n\r\n            stage.setOnCloseRequest(event -&gt; {\r\n                event.consume();\r\n                exit(stage);\r\n            });\r\n\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    public void exit(Stage stage){\r\n\r\n        Alert alert = new Alert(AlertType.CONFIRMATION);\r\n        alert.setTitle(&quot;Exit&quot;);\r\n        alert.setHeaderText(&quot;You&#39;re about to exit!&quot;);\r\n        alert.setContentText(&quot;Are you sure you want to exit?: &quot;);\r\n\r\n        if(alert.showAndWait().get() == ButtonType.OK){\r\n            System.out.println(&quot;You successfully exited!&quot;);\r\n            stage.close();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nController.java\r\n```\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javafx.collections.ListChangeListener;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport javafx.scene.input.MouseEvent;\r\n\r\n\r\n\r\npublic class DogRegisterController implements Initializable {\r\n    \r\n    @FXML\r\n    private TableView&lt;Dog&gt; dogTable;\r\n    @FXML\r\n    private TableColumn&lt;Dog, Integer&gt; idCol;\r\n    @FXML\r\n    private TableColumn&lt;Dog, String&gt; nameCol;\r\n    @FXML\r\n    private TableColumn&lt;Dog, String&gt; BreedCol;\r\n    @FXML\r\n    private TableColumn&lt;Dog, Integer&gt; ageCol;\r\n    @FXML\r\n    private TableColumn&lt;Dog, Integer&gt; weightCol;\r\n    @FXML\r\n    private TableColumn&lt;Dog, Double&gt; tailCol;\r\n\r\n    @FXML\r\n    private TextField idField;\r\n    @FXML\r\n    private TextField nameField;\r\n    @FXML\r\n    private TextField breedField;\r\n    @FXML\r\n    private TextField ageField;\r\n    @FXML\r\n    private TextField weightField;\r\n\r\n    @FXML\r\n    private Button removeBtn;\r\n    @FXML\r\n    private Button submitBtn;\r\n\r\n    @Override\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n        idCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Integer&gt;(&quot;id&quot;));\r\n        nameCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, String&gt;(&quot;name&quot;));\r\n        BreedCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, String&gt;(&quot;breed&quot;));\r\n        ageCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Integer&gt;(&quot;age&quot;));\r\n        weightCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Integer&gt;(&quot;weight&quot;));\r\n        tailCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Double&gt;(&quot;tailLength&quot;)); \r\n\r\n        setupTable();\r\n    }\r\n\r\n    @FXML\r\n    void submit(ActionEvent event){\r\n        Dog dog = new Dog(nameField.getText(), breedField.getText(),\r\n                        Integer.parseInt(ageField.getText()), Integer.parseInt(weightField.getText()));\r\n        ObservableList&lt;Dog&gt; dogs = dogTable.getItems();\r\n        dogs.add(dog);\r\n        dogTable.setItems(dogs);\r\n    }\r\n\r\n    @FXML\r\n    void edit(ActionEvent event){\r\n        ObservableList&lt;Dog&gt; currentTableData = dogTable.getItems();\r\n        int currentDogId = Integer.parseInt(idField.getText());\r\n\r\n        for(Dog dog : currentTableData){\r\n            if(dog.getId() == currentDogId) {\r\n                dog.setId(Integer.parseInt(idField.getText()));\r\n                dog.setName(nameField.getText());\r\n                dog.setBreed(breedField.getText());\r\n                dog.setAge(Integer.parseInt(ageField.getText()));\r\n                dog.setWeight(Integer.parseInt(weightField.getText()));\r\n\r\n                dogTable.setItems(currentTableData);\r\n                dogTable.refresh();\r\n                idField.clear();\r\n                nameField.clear();\r\n                breedField.clear();\r\n                ageField.clear();\r\n                weightField.clear();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @FXML\r\n    void rowClicked(MouseEvent event){\r\n        Dog clickedDog = dogTable.getSelectionModel().getSelectedItem();\r\n        \r\n        idField.setText(String.valueOf(clickedDog.getId()));\r\n        nameField.setText(String.valueOf(clickedDog.getName()));\r\n        breedField.setText(String.valueOf(clickedDog.getBreed()));\r\n        ageField.setText(String.valueOf(clickedDog.getAge()));\r\n        weightField.setText(String.valueOf(clickedDog.getWeight()));\r\n    }\r\n\r\n\r\n    @FXML\r\n    void removeDog(ActionEvent event){\r\n        int selectedID = dogTable.getSelectionModel().getSelectedIndex();\r\n        dogTable.getItems().remove(selectedID);\r\n        idField.clear();\r\n        nameField.clear();\r\n        breedField.clear();\r\n        ageField.clear();\r\n        weightField.clear();\r\n        dogTable.refresh();\r\n    }\r\n\r\n    public static &lt;S&gt; void addAutoScroll(final TableView&lt;S&gt; dogTable) {\r\n        if (dogTable == null) {\r\n            throw new NullPointerException();\r\n        }\r\n    \r\n        dogTable.getItems().addListener((ListChangeListener&lt;S&gt;) (c -&gt; {\r\n            c.next();\r\n            final int size = dogTable.getItems().size();\r\n            if (size &gt; 0) {\r\n                dogTable.scrollTo(size - 1);\r\n            }\r\n        }));\r\n    }\r\n\r\n\r\n    private void setupTable(){\r\n        Dog dog0 = new Dog(&quot;Luna&quot;, &quot;Eurasier&quot;, 3, 22);\r\n        Dog dog1 = new Dog(&quot;Skye&quot;, &quot;Dachshund&quot;, 4, 5);\r\n        Dog dog2 = new Dog(&quot;Bella&quot;, &quot;Dachs&quot;, 2, 3);\r\n        Dog dog3 = new Dog(&quot;Sky&quot;, &quot;Tax&quot;, 3, 3);\r\n\r\n        dogTable.getItems().addAll(dog0, dog1, dog2, dog3);\r\n    }\r\n}\r\n\r\n```\r\n\r\nDog.java\r\n```\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\npublic class Dog {\r\n\r\n    private static final AtomicInteger _ID = new AtomicInteger(0);\r\n\r\n    private String name;\r\n    private String breed;\r\n    private int age;\r\n    private int weight;\r\n    private double tailLength;\r\n    private int id;\r\n\r\n    public Dog(String name, String breed, int age, int weight){\r\n        this.id = _ID.incrementAndGet();\r\n        this.name = name;\r\n        this.breed = breed;\r\n        this.age = age;\r\n        this.weight = weight;\r\n        this.tailLength = getTailLength();\r\n    }\r\n\r\n    public double getTailLength(){\r\n\r\n        if (breed.toLowerCase().equals(&quot;tax&quot;) || breed.toLowerCase().equals(&quot;dachshund&quot;)|| breed.toLowerCase().equals(&quot;dachs&quot;)){\r\n            return 3.7;\r\n        } else {\r\n            return (age * weight) / 10.0;\r\n        }\r\n    }\r\n\r\n    public int getId() { return id; }\r\n    \r\n    public void setId(int id){ this.id = id; }\r\n    \r\n    public String getName() { return name; }\r\n    \r\n    public void setName(String name){ this.name = name; }\r\n\r\n    public String getBreed() { return breed; }\r\n\r\n    public void setBreed(String breed){this.breed = breed;}\r\n    \r\n    public int getWeight() { return weight; }\r\n\r\n    public void setWeight(int weight) { this.weight = weight; }\r\n    \r\n    public int getAge() { return age; }\r\n\r\n    public void setAge(int age) { this.age = age; }\r\n}\r\n```\r\n\r\nGUI.fxml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import java.lang.String?&gt;\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.TableColumn?&gt;\r\n&lt;?import javafx.scene.control.TableView?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.image.Image?&gt;\r\n&lt;?import javafx.scene.image.ImageView?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n&lt;?import javafx.scene.text.Text?&gt;\r\n\r\n&lt;AnchorPane fx:id=&quot;mainPane&quot; minHeight=&quot;900.0&quot; minWidth=&quot;1200.0&quot; prefHeight=&quot;900.0&quot; prefWidth=&quot;1200.0&quot; styleClass=&quot;pane&quot; stylesheets=&quot;@StyleSheet.css&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;DogRegisterController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;TableView fx:id=&quot;dogTable&quot; layoutX=&quot;586.0&quot; layoutY=&quot;160.0&quot; onMouseClicked=&quot;#rowClicked&quot; prefHeight=&quot;700.0&quot; prefWidth=&quot;600.0&quot; stylesheets=&quot;@StyleSheet.css&quot; AnchorPane.rightAnchor=&quot;60.0&quot; AnchorPane.topAnchor=&quot;100.0&quot;&gt;\r\n        &lt;columns&gt;\r\n          &lt;TableColumn fx:id=&quot;idCol&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;ID&quot; /&gt;\r\n          &lt;TableColumn fx:id=&quot;nameCol&quot; minWidth=&quot;140.0&quot; prefWidth=&quot;140.0&quot; text=&quot;Name&quot; /&gt;\r\n            &lt;TableColumn fx:id=&quot;BreedCol&quot; minWidth=&quot;140.0&quot; prefWidth=&quot;140.0&quot; text=&quot;Breed&quot; /&gt;\r\n            &lt;TableColumn fx:id=&quot;ageCol&quot; minWidth=&quot;80.0&quot; text=&quot;Age&quot; /&gt;\r\n            &lt;TableColumn fx:id=&quot;weightCol&quot; minWidth=&quot;80.0&quot; text=&quot;Weight&quot; /&gt;\r\n            &lt;TableColumn fx:id=&quot;tailCol&quot; minWidth=&quot;96.0&quot; prefWidth=&quot;96.0&quot; text=&quot;Tail-length&quot; /&gt;\r\n        &lt;/columns&gt;\r\n         &lt;columnResizePolicy&gt;\r\n            &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;\r\n         &lt;/columnResizePolicy&gt;\r\n         &lt;styleClass&gt;\r\n            &lt;String fx:value=&quot;column-header&quot; /&gt;\r\n            &lt;String fx:value=&quot;column-header-background&quot; /&gt;\r\n            &lt;String fx:value=&quot;corner&quot; /&gt;\r\n            &lt;String fx:value=&quot;filler&quot; /&gt;\r\n            &lt;String fx:value=&quot;table-cell&quot; /&gt;\r\n            &lt;String fx:value=&quot;table-row-cell&quot; /&gt;\r\n            &lt;String fx:value=&quot;table-view&quot; /&gt;\r\n         &lt;/styleClass&gt;\r\n      &lt;/TableView&gt;\r\n      &lt;ImageView fitHeight=&quot;100.0&quot; fitWidth=&quot;150.0&quot; layoutX=&quot;220.0&quot; layoutY=&quot;100.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n         &lt;image&gt;\r\n            &lt;Image url=&quot;@image/paw.png&quot; /&gt;\r\n         &lt;/image&gt;\r\n      &lt;/ImageView&gt;\r\n      &lt;VBox prefHeight=&quot;900.0&quot; prefWidth=&quot;560.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Text strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;ID&quot; textAlignment=&quot;CENTER&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;14.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;260.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/Text&gt;\r\n            &lt;TextField fx:id=&quot;idField&quot; editable=&quot;false&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;Text strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Name&quot; textAlignment=&quot;CENTER&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;14.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/Text&gt;\r\n            &lt;TextField fx:id=&quot;nameField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;27.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;Text layoutX=&quot;10.0&quot; layoutY=&quot;39.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Breed&quot; textAlignment=&quot;CENTER&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;14.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/Text&gt;\r\n            &lt;TextField fx:id=&quot;breedField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;127.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;Text layoutX=&quot;10.0&quot; layoutY=&quot;57.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Age&quot; textAlignment=&quot;CENTER&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;14.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/Text&gt;\r\n            &lt;TextField fx:id=&quot;ageField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;144.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;Text layoutX=&quot;10.0&quot; layoutY=&quot;71.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Weight&quot; textAlignment=&quot;CENTER&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;14.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/Text&gt;\r\n            &lt;TextField fx:id=&quot;weightField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;HBox prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;Button fx:id=&quot;submitBtn&quot; alignment=&quot;CENTER&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#submit&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;140.0&quot; stylesheets=&quot;@../../Assignment-3/src/style.css&quot; text=&quot;Submit&quot;&gt;\r\n                     &lt;font&gt;\r\n                        &lt;Font size=&quot;14.0&quot; /&gt;\r\n                     &lt;/font&gt;\r\n                     &lt;HBox.margin&gt;\r\n                        &lt;Insets left=&quot;25.0&quot; right=&quot;25.0&quot; top=&quot;10.0&quot; /&gt;\r\n                     &lt;/HBox.margin&gt;\r\n                  &lt;/Button&gt;\r\n                  &lt;Button fx:id=&quot;editBtn&quot; alignment=&quot;CENTER&quot; layoutX=&quot;10.0&quot; layoutY=&quot;10.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#edit&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;140.0&quot; stylesheets=&quot;@../../Assignment-3/src/style.css&quot; text=&quot;Edit&quot;&gt;\r\n                     &lt;font&gt;\r\n                        &lt;Font size=&quot;14.0&quot; /&gt;\r\n                     &lt;/font&gt;\r\n                     &lt;HBox.margin&gt;\r\n                        &lt;Insets left=&quot;25.0&quot; right=&quot;25.0&quot; top=&quot;10.0&quot; /&gt;\r\n                     &lt;/HBox.margin&gt;\r\n                  &lt;/Button&gt;\r\n               &lt;/children&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/HBox&gt;\r\n         &lt;/children&gt;\r\n      &lt;/VBox&gt;\r\n      &lt;Button fx:id=&quot;removeBtn&quot; alignment=&quot;CENTER&quot; layoutX=&quot;770.0&quot; layoutY=&quot;825.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#removeDog&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;140.0&quot; stylesheets=&quot;@../../Assignment-3/src/style.css&quot; text=&quot;Remove&quot; AnchorPane.bottomAnchor=&quot;35.0&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;14.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Button&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```","title":"javaFX tableview auto scroll to last","body":"<p>I'm new to java/javaFX so be patient with me.</p>\n<p>The problem I'm having is that I don't get auto scrolling to work.</p>\n<p>I've tried these solutions but didn't get them to work:</p>\n<p><a href=\"https://stackoverflow.com/questions/14779135/javafx-tableview-auto-scroll-to-the-last\">javafx tableview auto scroll to the last</a></p>\n<p><a href=\"https://stackoverflow.com/questions/28972021/javafx-how-to-add-changelistener-to-auto-scroll-tableview\">JavaFX how to add ChangeListener to auto scroll TableView</a></p>\n<p>Main.java</p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.ButtonType;\nimport javafx.scene.control.Alert.AlertType;\nimport javafx.scene.image.Image;\nimport javafx.stage.Stage;\n\n\npublic class Main extends Application {\n    @Override\n    public void start(Stage stage) {\n        try {\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;DogRegister.fxml&quot;));\n            Scene scene = new Scene(root);\n            stage.setScene(scene);\n            stage.setMinHeight(900);\n            stage.setMinWidth(1200);\n            stage.setResizable(false);\n            stage.setTitle(&quot;Dog Registry&quot;);\n            Image image = new Image(&quot;/image/paw.png&quot;);\n            stage.getIcons().add(image);\n            stage.show();\n\n            stage.setOnCloseRequest(event -&gt; {\n                event.consume();\n                exit(stage);\n            });\n\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public void exit(Stage stage){\n\n        Alert alert = new Alert(AlertType.CONFIRMATION);\n        alert.setTitle(&quot;Exit&quot;);\n        alert.setHeaderText(&quot;You're about to exit!&quot;);\n        alert.setContentText(&quot;Are you sure you want to exit?: &quot;);\n\n        if(alert.showAndWait().get() == ButtonType.OK){\n            System.out.println(&quot;You successfully exited!&quot;);\n            stage.close();\n        }\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>Controller.java</p>\n<pre><code>import java.net.URL;\nimport java.util.ResourceBundle;\n\nimport javafx.collections.ListChangeListener;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.input.MouseEvent;\n\n\n\npublic class DogRegisterController implements Initializable {\n    \n    @FXML\n    private TableView&lt;Dog&gt; dogTable;\n    @FXML\n    private TableColumn&lt;Dog, Integer&gt; idCol;\n    @FXML\n    private TableColumn&lt;Dog, String&gt; nameCol;\n    @FXML\n    private TableColumn&lt;Dog, String&gt; BreedCol;\n    @FXML\n    private TableColumn&lt;Dog, Integer&gt; ageCol;\n    @FXML\n    private TableColumn&lt;Dog, Integer&gt; weightCol;\n    @FXML\n    private TableColumn&lt;Dog, Double&gt; tailCol;\n\n    @FXML\n    private TextField idField;\n    @FXML\n    private TextField nameField;\n    @FXML\n    private TextField breedField;\n    @FXML\n    private TextField ageField;\n    @FXML\n    private TextField weightField;\n\n    @FXML\n    private Button removeBtn;\n    @FXML\n    private Button submitBtn;\n\n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n        idCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Integer&gt;(&quot;id&quot;));\n        nameCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, String&gt;(&quot;name&quot;));\n        BreedCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, String&gt;(&quot;breed&quot;));\n        ageCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Integer&gt;(&quot;age&quot;));\n        weightCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Integer&gt;(&quot;weight&quot;));\n        tailCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Double&gt;(&quot;tailLength&quot;)); \n\n        setupTable();\n    }\n\n    @FXML\n    void submit(ActionEvent event){\n        Dog dog = new Dog(nameField.getText(), breedField.getText(),\n                        Integer.parseInt(ageField.getText()), Integer.parseInt(weightField.getText()));\n        ObservableList&lt;Dog&gt; dogs = dogTable.getItems();\n        dogs.add(dog);\n        dogTable.setItems(dogs);\n    }\n\n    @FXML\n    void edit(ActionEvent event){\n        ObservableList&lt;Dog&gt; currentTableData = dogTable.getItems();\n        int currentDogId = Integer.parseInt(idField.getText());\n\n        for(Dog dog : currentTableData){\n            if(dog.getId() == currentDogId) {\n                dog.setId(Integer.parseInt(idField.getText()));\n                dog.setName(nameField.getText());\n                dog.setBreed(breedField.getText());\n                dog.setAge(Integer.parseInt(ageField.getText()));\n                dog.setWeight(Integer.parseInt(weightField.getText()));\n\n                dogTable.setItems(currentTableData);\n                dogTable.refresh();\n                idField.clear();\n                nameField.clear();\n                breedField.clear();\n                ageField.clear();\n                weightField.clear();\n                break;\n            }\n        }\n    }\n\n\n    @FXML\n    void rowClicked(MouseEvent event){\n        Dog clickedDog = dogTable.getSelectionModel().getSelectedItem();\n        \n        idField.setText(String.valueOf(clickedDog.getId()));\n        nameField.setText(String.valueOf(clickedDog.getName()));\n        breedField.setText(String.valueOf(clickedDog.getBreed()));\n        ageField.setText(String.valueOf(clickedDog.getAge()));\n        weightField.setText(String.valueOf(clickedDog.getWeight()));\n    }\n\n\n    @FXML\n    void removeDog(ActionEvent event){\n        int selectedID = dogTable.getSelectionModel().getSelectedIndex();\n        dogTable.getItems().remove(selectedID);\n        idField.clear();\n        nameField.clear();\n        breedField.clear();\n        ageField.clear();\n        weightField.clear();\n        dogTable.refresh();\n    }\n\n    public static &lt;S&gt; void addAutoScroll(final TableView&lt;S&gt; dogTable) {\n        if (dogTable == null) {\n            throw new NullPointerException();\n        }\n    \n        dogTable.getItems().addListener((ListChangeListener&lt;S&gt;) (c -&gt; {\n            c.next();\n            final int size = dogTable.getItems().size();\n            if (size &gt; 0) {\n                dogTable.scrollTo(size - 1);\n            }\n        }));\n    }\n\n\n    private void setupTable(){\n        Dog dog0 = new Dog(&quot;Luna&quot;, &quot;Eurasier&quot;, 3, 22);\n        Dog dog1 = new Dog(&quot;Skye&quot;, &quot;Dachshund&quot;, 4, 5);\n        Dog dog2 = new Dog(&quot;Bella&quot;, &quot;Dachs&quot;, 2, 3);\n        Dog dog3 = new Dog(&quot;Sky&quot;, &quot;Tax&quot;, 3, 3);\n\n        dogTable.getItems().addAll(dog0, dog1, dog2, dog3);\n    }\n}\n\n</code></pre>\n<p>Dog.java</p>\n<pre><code>import java.util.concurrent.atomic.AtomicInteger;\n\npublic class Dog {\n\n    private static final AtomicInteger _ID = new AtomicInteger(0);\n\n    private String name;\n    private String breed;\n    private int age;\n    private int weight;\n    private double tailLength;\n    private int id;\n\n    public Dog(String name, String breed, int age, int weight){\n        this.id = _ID.incrementAndGet();\n        this.name = name;\n        this.breed = breed;\n        this.age = age;\n        this.weight = weight;\n        this.tailLength = getTailLength();\n    }\n\n    public double getTailLength(){\n\n        if (breed.toLowerCase().equals(&quot;tax&quot;) || breed.toLowerCase().equals(&quot;dachshund&quot;)|| breed.toLowerCase().equals(&quot;dachs&quot;)){\n            return 3.7;\n        } else {\n            return (age * weight) / 10.0;\n        }\n    }\n\n    public int getId() { return id; }\n    \n    public void setId(int id){ this.id = id; }\n    \n    public String getName() { return name; }\n    \n    public void setName(String name){ this.name = name; }\n\n    public String getBreed() { return breed; }\n\n    public void setBreed(String breed){this.breed = breed;}\n    \n    public int getWeight() { return weight; }\n\n    public void setWeight(int weight) { this.weight = weight; }\n    \n    public int getAge() { return age; }\n\n    public void setAge(int age) { this.age = age; }\n}\n</code></pre>\n<p>GUI.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import java.lang.String?&gt;\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.text.Text?&gt;\n\n&lt;AnchorPane fx:id=&quot;mainPane&quot; minHeight=&quot;900.0&quot; minWidth=&quot;1200.0&quot; prefHeight=&quot;900.0&quot; prefWidth=&quot;1200.0&quot; styleClass=&quot;pane&quot; stylesheets=&quot;@StyleSheet.css&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;DogRegisterController&quot;&gt;\n   &lt;children&gt;\n      &lt;TableView fx:id=&quot;dogTable&quot; layoutX=&quot;586.0&quot; layoutY=&quot;160.0&quot; onMouseClicked=&quot;#rowClicked&quot; prefHeight=&quot;700.0&quot; prefWidth=&quot;600.0&quot; stylesheets=&quot;@StyleSheet.css&quot; AnchorPane.rightAnchor=&quot;60.0&quot; AnchorPane.topAnchor=&quot;100.0&quot;&gt;\n        &lt;columns&gt;\n          &lt;TableColumn fx:id=&quot;idCol&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;ID&quot; /&gt;\n          &lt;TableColumn fx:id=&quot;nameCol&quot; minWidth=&quot;140.0&quot; prefWidth=&quot;140.0&quot; text=&quot;Name&quot; /&gt;\n            &lt;TableColumn fx:id=&quot;BreedCol&quot; minWidth=&quot;140.0&quot; prefWidth=&quot;140.0&quot; text=&quot;Breed&quot; /&gt;\n            &lt;TableColumn fx:id=&quot;ageCol&quot; minWidth=&quot;80.0&quot; text=&quot;Age&quot; /&gt;\n            &lt;TableColumn fx:id=&quot;weightCol&quot; minWidth=&quot;80.0&quot; text=&quot;Weight&quot; /&gt;\n            &lt;TableColumn fx:id=&quot;tailCol&quot; minWidth=&quot;96.0&quot; prefWidth=&quot;96.0&quot; text=&quot;Tail-length&quot; /&gt;\n        &lt;/columns&gt;\n         &lt;columnResizePolicy&gt;\n            &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;\n         &lt;/columnResizePolicy&gt;\n         &lt;styleClass&gt;\n            &lt;String fx:value=&quot;column-header&quot; /&gt;\n            &lt;String fx:value=&quot;column-header-background&quot; /&gt;\n            &lt;String fx:value=&quot;corner&quot; /&gt;\n            &lt;String fx:value=&quot;filler&quot; /&gt;\n            &lt;String fx:value=&quot;table-cell&quot; /&gt;\n            &lt;String fx:value=&quot;table-row-cell&quot; /&gt;\n            &lt;String fx:value=&quot;table-view&quot; /&gt;\n         &lt;/styleClass&gt;\n      &lt;/TableView&gt;\n      &lt;ImageView fitHeight=&quot;100.0&quot; fitWidth=&quot;150.0&quot; layoutX=&quot;220.0&quot; layoutY=&quot;100.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n         &lt;image&gt;\n            &lt;Image url=&quot;@image/paw.png&quot; /&gt;\n         &lt;/image&gt;\n      &lt;/ImageView&gt;\n      &lt;VBox prefHeight=&quot;900.0&quot; prefWidth=&quot;560.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Text strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;ID&quot; textAlignment=&quot;CENTER&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;14.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;260.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/Text&gt;\n            &lt;TextField fx:id=&quot;idField&quot; editable=&quot;false&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\n               &lt;/padding&gt;\n            &lt;/TextField&gt;\n            &lt;Text strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Name&quot; textAlignment=&quot;CENTER&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;14.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/Text&gt;\n            &lt;TextField fx:id=&quot;nameField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;27.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\n               &lt;/padding&gt;\n            &lt;/TextField&gt;\n            &lt;Text layoutX=&quot;10.0&quot; layoutY=&quot;39.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Breed&quot; textAlignment=&quot;CENTER&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;14.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/Text&gt;\n            &lt;TextField fx:id=&quot;breedField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;127.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\n               &lt;/padding&gt;\n            &lt;/TextField&gt;\n            &lt;Text layoutX=&quot;10.0&quot; layoutY=&quot;57.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Age&quot; textAlignment=&quot;CENTER&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;14.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/Text&gt;\n            &lt;TextField fx:id=&quot;ageField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;144.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\n               &lt;/padding&gt;\n            &lt;/TextField&gt;\n            &lt;Text layoutX=&quot;10.0&quot; layoutY=&quot;71.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Weight&quot; textAlignment=&quot;CENTER&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;14.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/Text&gt;\n            &lt;TextField fx:id=&quot;weightField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\n               &lt;/padding&gt;\n            &lt;/TextField&gt;\n            &lt;HBox prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot;&gt;\n               &lt;children&gt;\n                  &lt;Button fx:id=&quot;submitBtn&quot; alignment=&quot;CENTER&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#submit&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;140.0&quot; stylesheets=&quot;@../../Assignment-3/src/style.css&quot; text=&quot;Submit&quot;&gt;\n                     &lt;font&gt;\n                        &lt;Font size=&quot;14.0&quot; /&gt;\n                     &lt;/font&gt;\n                     &lt;HBox.margin&gt;\n                        &lt;Insets left=&quot;25.0&quot; right=&quot;25.0&quot; top=&quot;10.0&quot; /&gt;\n                     &lt;/HBox.margin&gt;\n                  &lt;/Button&gt;\n                  &lt;Button fx:id=&quot;editBtn&quot; alignment=&quot;CENTER&quot; layoutX=&quot;10.0&quot; layoutY=&quot;10.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#edit&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;140.0&quot; stylesheets=&quot;@../../Assignment-3/src/style.css&quot; text=&quot;Edit&quot;&gt;\n                     &lt;font&gt;\n                        &lt;Font size=&quot;14.0&quot; /&gt;\n                     &lt;/font&gt;\n                     &lt;HBox.margin&gt;\n                        &lt;Insets left=&quot;25.0&quot; right=&quot;25.0&quot; top=&quot;10.0&quot; /&gt;\n                     &lt;/HBox.margin&gt;\n                  &lt;/Button&gt;\n               &lt;/children&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/HBox&gt;\n         &lt;/children&gt;\n      &lt;/VBox&gt;\n      &lt;Button fx:id=&quot;removeBtn&quot; alignment=&quot;CENTER&quot; layoutX=&quot;770.0&quot; layoutY=&quot;825.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#removeDog&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;140.0&quot; stylesheets=&quot;@../../Assignment-3/src/style.css&quot; text=&quot;Remove&quot; AnchorPane.bottomAnchor=&quot;35.0&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;14.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Button&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n"},{"tags":["java","hibernate","logging","jboss","slf4j"],"comments":[{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":0,"creation_date":1666363528,"post_id":74154748,"comment_id":130926516,"body_markdown":"You need to add the slf4j binding to the jdk logger, may I ask why you don&#39;t want to &quot;add the slf4j dependency&quot;?","body":"You need to add the slf4j binding to the jdk logger, may I ask why you don&#39;t want to &quot;add the slf4j dependency&quot;?"},{"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"score":0,"creation_date":1666364760,"post_id":74154748,"comment_id":130926927,"body_markdown":"I never add a dependency if I can prevent it. In theory, I would need to fully code review everything I add (compare Software Engineering by Ian Sommerville). To me it seems like nobody does it, but the least thing I can do is keep additional packages as low as feasible. I need Hibernate, I cannot omit JBoss Logging, but according to the documentation, I can omit SLF4J. Of course, that is an older version, which is why I am asking.","body":"I never add a dependency if I can prevent it. In theory, I would need to fully code review everything I add (compare Software Engineering by Ian Sommerville). To me it seems like nobody does it, but the least thing I can do is keep additional packages as low as feasible. I need Hibernate, I cannot omit JBoss Logging, but according to the documentation, I can omit SLF4J. Of course, that is an older version, which is why I am asking."},{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":1,"creation_date":1666367738,"post_id":74154748,"comment_id":130928070,"body_markdown":"I think you&#39;re getting this message because slf4j is on your classpath, so you want to omit it but you already seem to be using it, albeit without any binding","body":"I think you&#39;re getting this message because slf4j is on your classpath, so you want to omit it but you already seem to be using it, albeit without any binding"},{"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"score":0,"creation_date":1666369184,"post_id":74154748,"comment_id":130928578,"body_markdown":"So far I can just say you are correct - I will update once I have found which dependency is loading it.","body":"So far I can just say you are correct - I will update once I have found which dependency is loading it."},{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":1,"creation_date":1666373243,"post_id":74154748,"comment_id":130929817,"body_markdown":"slf4j (the API) is pretty hard to avoid these days","body":"slf4j (the API) is pretty hard to avoid these days"}],"answers":[{"tags":[],"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666446579,"creation_date":1666446579,"answer_id":74164117,"question_id":74154748,"body_markdown":"I realized that it was not vanilla Hibernate that caused the error. I am also using hibernate-spatial and consequently geolatte-geom. That one is not using JBoss logging and instead always goes through SLF4J. So even though Hibernate went through JDK logging, SLF4J was still loaded. I have now unhappily added slf4j-jdk14 and the error is gone. It&#39;s still more layers and source code sources than I am happy with, but probably a lot less than in other programming ecosystems. ","title":"Setting Hibernate Logging Provider with Version 6.1","body":"<p>I realized that it was not vanilla Hibernate that caused the error. I am also using hibernate-spatial and consequently geolatte-geom. That one is not using JBoss logging and instead always goes through SLF4J. So even though Hibernate went through JDK logging, SLF4J was still loaded. I have now unhappily added slf4j-jdk14 and the error is gone. It's still more layers and source code sources than I am happy with, but probably a lot less than in other programming ecosystems.</p>\n"}],"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74164117,"answer_count":1,"score":0,"last_activity_date":1666446579,"creation_date":1666360595,"question_id":74154748,"body_markdown":"I am using Hibernate 6.1.2. I&#39;d like to log use the default JDK logging provider. [According to a documentation for 5.4][1], this can be done like this:\r\n\r\n    public class TestSL4JBug {\r\n\t\tpublic static void main(String[] args) {\r\n    \t\tSystem.setProperty(&quot;org.jboss.logging.provider&quot;, &quot;jdk&quot;);\r\n    \t\tjakarta.persistence.Persistence.createEntityManagerFactory(&quot;myPersistence&quot;);\t\t\r\n\t\t}\r\n\t}\r\n\r\nI looked for a similar explanation in newer documentations, but I did not find it.\r\n\r\nAlas, if I am testing the minimal example above, I get this:\r\n\r\n...\r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    MLog initialization issue: slf4j found no binding or threatened to use its (dangerously silent) NOPLogger. We consider the slf4j library not found.\r\n\r\n...\r\n\r\nTo me, this looks like Hibernate tries to load SLF4J and fails. I have, of course, found guides that say I should add the SLF4J dependency, but that is not what I want.\r\n\r\nSo my question is: How do I configure Hibernate 6.1.2 to log with JDK logging? Has the property changed, or should I use a better way to set it?\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.4/topical/html_single/logging/Logging.html","title":"Setting Hibernate Logging Provider with Version 6.1","body":"<p>I am using Hibernate 6.1.2. I'd like to log use the default JDK logging provider. <a href=\"https://docs.jboss.org/hibernate/orm/5.4/topical/html_single/logging/Logging.html\" rel=\"nofollow noreferrer\">According to a documentation for 5.4</a>, this can be done like this:</p>\n<pre><code>public class TestSL4JBug {\n    public static void main(String[] args) {\n        System.setProperty(&quot;org.jboss.logging.provider&quot;, &quot;jdk&quot;);\n        jakarta.persistence.Persistence.createEntityManagerFactory(&quot;myPersistence&quot;);        \n    }\n}\n</code></pre>\n<p>I looked for a similar explanation in newer documentations, but I did not find it.</p>\n<p>Alas, if I am testing the minimal example above, I get this:</p>\n<p>...</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nMLog initialization issue: slf4j found no binding or threatened to use its (dangerously silent) NOPLogger. We consider the slf4j library not found.\n</code></pre>\n<p>...</p>\n<p>To me, this looks like Hibernate tries to load SLF4J and fails. I have, of course, found guides that say I should add the SLF4J dependency, but that is not what I want.</p>\n<p>So my question is: How do I configure Hibernate 6.1.2 to log with JDK logging? Has the property changed, or should I use a better way to set it?</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api"],"owner":{"account_id":21249672,"reputation":51,"user_id":15632017,"display_name":"Edward Cohen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":883,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666446549,"creation_date":1666433845,"question_id":74162682,"body_markdown":"I&#39;m quite new to Apache Kafka. I read a lot and I thought having understood the partitions and consumer groups mechanism. But I have an issue.\r\n\r\nI have 2 spring boot projects. Both of them implement an apache kafka consumer.\r\nFor both of them the kafka parameters are defined in the application.properties file of each project. Following the common parameters:\r\n\r\n    spring.kafka.bootstrap-servers=localhost:9092\r\n    spring.kafka.consumer.auto-offset-reset=latest\r\n    spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n    spring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n    spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n    spring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n\r\nThe 2 consumers belong to 2 different consumer groups. To achieve this goal I added a property in the application.properties file of each project. For the consumer 1 I defined the property:\r\n\r\n    kafka.consumer.group.id=GROUP.ID.SERVICE.ONE\r\n\r\nFor the consumer 2 I defined the property:\r\n\r\n    kafka.consumer.group.id=GROUP.ID.SERVICE.TWO\r\n\r\nThis way, in the service one I created a java class with the annotation @Service and defined the following kafka listener method:\r\n\r\n    @KafkaListener(topics = &quot;${my.topic}&quot;, groupId = &quot;${kafka.consumer.group.id}&quot;, autoStartup = &quot;true&quot; )\r\n    public void consumeTopic(String kafkaMessage) {\r\n    //Do something\t\t\r\n    }\r\n\r\nFor the service 2 I did the same:\r\n\r\n    @KafkaListener(topics = &quot;${my.topic}&quot;, groupId = &quot;${kafka.consumer.group.id}&quot;, autoStartup = &quot;true&quot; )\r\n    public void consumeTopic(String kafkaMessage) {\r\n    //Do something\t\t\r\n    }\r\n\r\nThere are no other applications belonging the same group of these consumers.\r\nThis way I was sure that both of them will receive the kafka message. But I was wrong: the application 2 does not receive the kafka topic if the application 1 is running (and it receives he topic). i performed a lot of tests and I can say that the application 2 receives the messages from kafka only if the application 1 is off.\r\n\r\nWhat am I wrong? Further information: Apache kafka is installed on single node.","title":"Apache kafka Spring boot consumer not receiving topics when another consumer is running","body":"<p>I'm quite new to Apache Kafka. I read a lot and I thought having understood the partitions and consumer groups mechanism. But I have an issue.</p>\n<p>I have 2 spring boot projects. Both of them implement an apache kafka consumer.\nFor both of them the kafka parameters are defined in the application.properties file of each project. Following the common parameters:</p>\n<pre><code>spring.kafka.bootstrap-servers=localhost:9092\nspring.kafka.consumer.auto-offset-reset=latest\nspring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\nspring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer\n</code></pre>\n<p>The 2 consumers belong to 2 different consumer groups. To achieve this goal I added a property in the application.properties file of each project. For the consumer 1 I defined the property:</p>\n<pre><code>kafka.consumer.group.id=GROUP.ID.SERVICE.ONE\n</code></pre>\n<p>For the consumer 2 I defined the property:</p>\n<pre><code>kafka.consumer.group.id=GROUP.ID.SERVICE.TWO\n</code></pre>\n<p>This way, in the service one I created a java class with the annotation @Service and defined the following kafka listener method:</p>\n<pre><code>@KafkaListener(topics = &quot;${my.topic}&quot;, groupId = &quot;${kafka.consumer.group.id}&quot;, autoStartup = &quot;true&quot; )\npublic void consumeTopic(String kafkaMessage) {\n//Do something      \n}\n</code></pre>\n<p>For the service 2 I did the same:</p>\n<pre><code>@KafkaListener(topics = &quot;${my.topic}&quot;, groupId = &quot;${kafka.consumer.group.id}&quot;, autoStartup = &quot;true&quot; )\npublic void consumeTopic(String kafkaMessage) {\n//Do something      \n}\n</code></pre>\n<p>There are no other applications belonging the same group of these consumers.\nThis way I was sure that both of them will receive the kafka message. But I was wrong: the application 2 does not receive the kafka topic if the application 1 is running (and it receives he topic). i performed a lot of tests and I can say that the application 2 receives the messages from kafka only if the application 1 is off.</p>\n<p>What am I wrong? Further information: Apache kafka is installed on single node.</p>\n"},{"tags":["java","javafx","java-11","javafx-11","javafx-17"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":4,"creation_date":1666443406,"post_id":74163720,"comment_id":130940841,"body_markdown":"Yes, javafx has it&#39;s own version numbers. javafx 17 does not require java 17. You can try the hello world pom.xml files for javafx 17 with java 11 and maven rather easily.","body":"Yes, javafx has it&#39;s own version numbers. javafx 17 does not require java 17. You can try the hello world pom.xml files for javafx 17 with java 11 and maven rather easily."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":6,"creation_date":1666443418,"post_id":74163720,"comment_id":130940846,"body_markdown":"https://github.com/openjdk/jfx/blob/jfx17/doc-files/release-notes-17.md _&quot;JavaFX 17 requires JDK 11 or later.&quot;_","body":"<a href=\"https://github.com/openjdk/jfx/blob/jfx17/doc-files/release-notes-17.md\" rel=\"nofollow noreferrer\">github.com/openjdk/jfx/blob/jfx17/doc-files/release-notes-17&zwnj;&#8203;.md</a> <i>&quot;JavaFX 17 requires JDK 11 or later.&quot;</i>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666453987,"post_id":74163720,"comment_id":130943044,"body_markdown":"Always read the documentation before posting here.","body":"Always read the documentation before posting here."}],"owner":{"account_id":26700906,"reputation":9,"user_id":20307971,"display_name":"Thijzert"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666445962,"answer_count":0,"score":0,"last_activity_date":1666445409,"creation_date":1666443069,"question_id":74163720,"body_markdown":"Is it possible to use JavaFX 17 with Java 11? I want to keep using Java 11 because I use it a lot and I don&#39;t want to switch over to Java 17. But can I run JavaFX 17 while using Java 11?\r\n\r\nI have tried to find it on the internet, but I couldn&#39;t find it. The reason I ask this question is: I ran a script with maven where I could see if there were any updates available for my dependencies. This is what I saw:\r\n```none\r\n[INFO] --- versions-maven-plugin:2.8.1:display-dependency-updates (default-cli) @ testproject ---\r\n[INFO] The following dependencies in Dependencies have newer versions:\r\n[INFO]   org.openjfx:javafx-controls ............................ 11 -&gt; 17\r\n[INFO]   org.openjfx:javafx-media ............................... 11 -&gt; 17\r\n```\r\n","title":"Using JavaFX 17 while using Java 11","body":"<p>Is it possible to use JavaFX 17 with Java 11? I want to keep using Java 11 because I use it a lot and I don't want to switch over to Java 17. But can I run JavaFX 17 while using Java 11?</p>\n<p>I have tried to find it on the internet, but I couldn't find it. The reason I ask this question is: I ran a script with maven where I could see if there were any updates available for my dependencies. This is what I saw:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] --- versions-maven-plugin:2.8.1:display-dependency-updates (default-cli) @ testproject ---\n[INFO] The following dependencies in Dependencies have newer versions:\n[INFO]   org.openjfx:javafx-controls ............................ 11 -&gt; 17\n[INFO]   org.openjfx:javafx-media ............................... 11 -&gt; 17\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":6,"creation_date":1666445105,"post_id":74163905,"comment_id":130941173,"body_markdown":"**No**. There is no way to securely run user provided code. Java tried with Applets. It was called the &quot;[sandbox](https://www.webopedia.com/definitions/sandbox/)&quot;. It was not secure.","body":"<b>No</b>. There is no way to securely run user provided code. Java tried with Applets. It was called the &quot;<a href=\"https://www.webopedia.com/definitions/sandbox/\" rel=\"nofollow noreferrer\">sandbox</a>&quot;. It was not secure."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1666445315,"post_id":74163905,"comment_id":130941206,"body_markdown":"Depends what you mean by &#39;secure&#39; though.  If you&#39;ll accept &quot;can destroy the JVM environment but do no damage to the host system&quot;, then the usual OS process-isolation techniques apply. But no, you can&#39;t protect code in the JVM from code in the JVM.","body":"Depends what you mean by &#39;secure&#39; though.  If you&#39;ll accept &quot;can destroy the JVM environment but do no damage to the host system&quot;, then the usual OS process-isolation techniques apply. But no, you can&#39;t protect code in the JVM from code in the JVM."},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":3,"creation_date":1666445471,"post_id":74163905,"comment_id":130941231,"body_markdown":"You can add protection to some degree by using `SecurityManager` which has been deprecated though. See [here](https://openjdk.org/jeps/411) for some reasoning for the deprecation.","body":"You can add protection to some degree by using <code>SecurityManager</code> which has been deprecated though. See <a href=\"https://openjdk.org/jeps/411\" rel=\"nofollow noreferrer\">here</a> for some reasoning for the deprecation."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666461858,"post_id":74163905,"comment_id":130944756,"body_markdown":"So how do the various “fiddle” web sites handle user-posted code that executes on the server?","body":"So how do the various “fiddle” web sites handle user-posted code that executes on the server?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666474013,"post_id":74163905,"comment_id":130947039,"body_markdown":"I think they execute a separate sandboxed process, likely using Linux containers for further isolation","body":"I think they execute a separate sandboxed process, likely using Linux containers for further isolation"}],"owner":{"account_id":270162,"reputation":7734,"user_id":559940,"accept_rate":74,"display_name":"Ailef"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666444739,"creation_date":1666444739,"question_id":74163905,"body_markdown":"I&#39;m developing a multiplayer game where the player has to provide code that will run inside a physics-based simulation.\r\n\r\nThe simulation runs in Java, and each player has to provide a class implementing a specific Interface (so not completely arbitrary code).\r\n\r\nThe player-provided code has to run inside the same main process, as it needs access to the physics simulation and any other solution won&#39;t allow to keep things fast enough.\r\n\r\nIs there a way to implement this securely given these constraints?","title":"How to safely run user-provided Java code?","body":"<p>I'm developing a multiplayer game where the player has to provide code that will run inside a physics-based simulation.</p>\n<p>The simulation runs in Java, and each player has to provide a class implementing a specific Interface (so not completely arbitrary code).</p>\n<p>The player-provided code has to run inside the same main process, as it needs access to the physics simulation and any other solution won't allow to keep things fast enough.</p>\n<p>Is there a way to implement this securely given these constraints?</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1451467310,"post_id":34526362,"comment_id":56794263,"body_markdown":"There is no &#39;peculiar behaviour of `ArrayList.size()` &#39;here. You&#39;re not even getting there.","body":"There is no &#39;peculiar behaviour of <code>ArrayList.size()</code> &#39;here. You&#39;re not even getting there."},{"owner":{"account_id":4761031,"reputation":11006,"user_id":3848411,"accept_rate":60,"display_name":"Joker"},"score":0,"creation_date":1451470038,"post_id":34526362,"comment_id":56795805,"body_markdown":"Ok , Will change the title","body":"Ok , Will change the title"},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1451510007,"post_id":34526362,"comment_id":56816690,"body_markdown":"Possible duplicate of [ArrayList initial capacity and IndexOutOfBoundsException](http://stackoverflow.com/questions/11908037/arraylist-initial-capacity-and-indexoutofboundsexception)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/11908037/arraylist-initial-capacity-and-indexoutofboundsexception\">ArrayList initial capacity and IndexOutOfBoundsException</a>"},{"owner":{"account_id":4761031,"reputation":11006,"user_id":3848411,"accept_rate":60,"display_name":"Joker"},"score":0,"creation_date":1451543318,"post_id":34526362,"comment_id":56826104,"body_markdown":"I am not convinced by the answer provided there , Answer provided by ERAN i think is much simpler and self explanatory. Hence not a duplicate","body":"I am not convinced by the answer provided there , Answer provided by ERAN i think is much simpler and self explanatory. Hence not a duplicate"},{"owner":{"account_id":953294,"reputation":2389,"user_id":1090666,"display_name":"Mike Ryan"},"score":0,"creation_date":1535564360,"post_id":34526362,"comment_id":91116811,"body_markdown":"This is a duplicate of the much clearer question and answer in https://stackoverflow.com/questions/8896758/initial-size-for-the-arraylist","body":"This is a duplicate of the much clearer question and answer in <a href=\"https://stackoverflow.com/questions/8896758/initial-size-for-the-arraylist\" title=\"initial size for the arraylist\">stackoverflow.com/questions/8896758/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":4761031,"reputation":11006,"user_id":3848411,"accept_rate":60,"display_name":"Joker"},"score":0,"creation_date":1451467175,"post_id":34526379,"comment_id":56794188,"body_markdown":"I updated my question , it was not properly explained before please check now","body":"I updated my question , it was not properly explained before please check now"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":7,"creation_date":1451467319,"post_id":34526379,"comment_id":56794270,"body_markdown":"@ShowStopper What&#39;s not properly explained? An ArrayList is initialized to a 0 length, regardless of its initial capacity, unless you are using a constructor that initializes the ArrayList with the elements of another Collection.","body":"@ShowStopper What&#39;s not properly explained? An ArrayList is initialized to a 0 length, regardless of its initial capacity, unless you are using a constructor that initializes the ArrayList with the elements of another Collection."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1451467408,"creation_date":1451466841,"answer_id":34526379,"question_id":34526362,"body_markdown":"`test.set(5, &quot;test&quot;);` is the statement that throws this exception, since your `ArrayList` is empty (`size()` would return `0` if you got to that statement), and you can&#39;t set the i&#39;th element if it doesn&#39;t already contain a value. You must add at least 6 elements to your `ArrayList` in order for `test.set(5, &quot;test&quot;);` to be valid.\r\n\r\n`new ArrayList(10)` doesn&#39;t create an `ArrayList` whose size is 10. It creates an empty `ArrayList` whose initial capacity is 10.","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p><code>test.set(5, \"test\");</code> is the statement that throws this exception, since your <code>ArrayList</code> is empty (<code>size()</code> would return <code>0</code> if you got to that statement), and you can't set the i'th element if it doesn't already contain a value. You must add at least 6 elements to your <code>ArrayList</code> in order for <code>test.set(5, \"test\");</code> to be valid.</p>\n\n<p><code>new ArrayList(10)</code> doesn't create an <code>ArrayList</code> whose size is 10. It creates an empty <code>ArrayList</code> whose initial capacity is 10.</p>\n"},{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1451467074,"creation_date":1451467074,"answer_id":34526438,"question_id":34526362,"body_markdown":"The exception is not thrown by `test.size()` but by `test.set(5, &quot;test&quot;);`. This is because you are setting an element at index 5 but the list is currently empty.\r\n\r\n    List test = new ArrayList(10);\r\n\r\ndoes not create a list initialized with 10 `null` elements. It creates a list that has an initial capacity of 10 elements, that is the backing array has a size of 10, but the list itself is still empty.\r\n\r\nIf you want to initialize a list with 10 `null` elements, you can use\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(Collections.nCopies(10, null));\r\n\r\n&lt;hr&gt;\r\n\r\nAs a side note, [you should never use raw types](https://stackoverflow.com/q/2770321/1743880) like `List` but always prefer a parameterized list.","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p>The exception is not thrown by <code>test.size()</code> but by <code>test.set(5, \"test\");</code>. This is because you are setting an element at index 5 but the list is currently empty.</p>\n\n<pre><code>List test = new ArrayList(10);\n</code></pre>\n\n<p>does not create a list initialized with 10 <code>null</code> elements. It creates a list that has an initial capacity of 10 elements, that is the backing array has a size of 10, but the list itself is still empty.</p>\n\n<p>If you want to initialize a list with 10 <code>null</code> elements, you can use</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;(Collections.nCopies(10, null));\n</code></pre>\n\n<hr>\n\n<p>As a side note, <a href=\"https://stackoverflow.com/q/2770321/1743880\">you should never use raw types</a> like <code>List</code> but always prefer a parameterized list.</p>\n"},{"tags":[],"owner":{"account_id":7546932,"reputation":63,"user_id":5729601,"display_name":"Programming_Geek"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1451470924,"creation_date":1451469295,"answer_id":34527076,"question_id":34526362,"body_markdown":"`List test = new ArrayList(10);` creates empty list which would have capacity of 10 elements.It is not containing element at 6th position so you will not be able to set element at this position.","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p><code>List test = new ArrayList(10);</code> creates empty list which would have capacity of 10 elements.It is not containing element at 6th position so you will not be able to set element at this position.</p>\n"},{"tags":[],"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1451493676,"creation_date":1451493676,"answer_id":34533480,"question_id":34526362,"body_markdown":"`List test = new ArrayList(10);` creates **empty** `ArrayList` of raw types (`Object`) with initial capacity(*capacity of list initially, initialize internal array with length 10*) not to be confused with size(*number of elements list contains*). \r\n\r\nTo understand more first note that `ArrayList` is nothing but *manipulation* of *array* to dynamically change size of the array which we were not able to do with array directly. Ultimately, it&#39;s a ***smart*** array. \r\n\r\nBy setting *initial capacity* we are telling `ArrayList` to create size of array `10` initially (by default initial capacity is `10`). \r\n\r\nThis is what constructor is doing,\r\n\r\n    public ArrayList(int initialCapacity) {\r\n        super();\r\n        if (initialCapacity &lt; 0)\r\n            throw new IllegalArgumentException(&quot;Illegal Capacity: &quot;+\r\n                                               initialCapacity);\r\n        this.elementData = new Object[initialCapacity];//creates initial array\r\n    }\r\n\r\nYou can increase or decrease it accordingly, say you are sure that you are going to need list with `20` elements it&#39;ll be better to set initial capacity at start. It avoids *resizing* of array if you are sure about minimum number of elements you will definitely have in list. \r\n\r\n`test.set(5, &quot;test&quot;);` method ***replaces*** element at specific position here it will going to replace element at index `5` with `test`. But our list is empty, it does not have any element. \r\n\r\nDocumentation of this method says, \r\n\r\n&gt; `IndexOutOfBoundsException` - if the `index` is out of range (`index &lt; 0`  **||**\r\n&gt; `index &gt;= size()`)\r\n\r\nNote that size of list is `0` so index (`5`) is greater than size(`0`).","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p><code>List test = new ArrayList(10);</code> creates <strong>empty</strong> <code>ArrayList</code> of raw types (<code>Object</code>) with initial capacity(<em>capacity of list initially, initialize internal array with length 10</em>) not to be confused with size(<em>number of elements list contains</em>). </p>\n\n<p>To understand more first note that <code>ArrayList</code> is nothing but <em>manipulation</em> of <em>array</em> to dynamically change size of the array which we were not able to do with array directly. Ultimately, it's a <strong><em>smart</em></strong> array. </p>\n\n<p>By setting <em>initial capacity</em> we are telling <code>ArrayList</code> to create size of array <code>10</code> initially (by default initial capacity is <code>10</code>). </p>\n\n<p>This is what constructor is doing,</p>\n\n<pre><code>public ArrayList(int initialCapacity) {\n    super();\n    if (initialCapacity &lt; 0)\n        throw new IllegalArgumentException(\"Illegal Capacity: \"+\n                                           initialCapacity);\n    this.elementData = new Object[initialCapacity];//creates initial array\n}\n</code></pre>\n\n<p>You can increase or decrease it accordingly, say you are sure that you are going to need list with <code>20</code> elements it'll be better to set initial capacity at start. It avoids <em>resizing</em> of array if you are sure about minimum number of elements you will definitely have in list. </p>\n\n<p><code>test.set(5, \"test\");</code> method <strong><em>replaces</em></strong> element at specific position here it will going to replace element at index <code>5</code> with <code>test</code>. But our list is empty, it does not have any element. </p>\n\n<p>Documentation of this method says, </p>\n\n<blockquote>\n  <p><code>IndexOutOfBoundsException</code> - if the <code>index</code> is out of range (<code>index &lt; 0</code>  <strong>||</strong>\n  <code>index &gt;= size()</code>)</p>\n</blockquote>\n\n<p>Note that size of list is <code>0</code> so index (<code>5</code>) is greater than size(<code>0</code>).</p>\n"},{"tags":[],"owner":{"account_id":9281995,"reputation":374,"user_id":6892962,"display_name":"nzala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477055113,"creation_date":1477055113,"answer_id":40177439,"question_id":34526362,"body_markdown":"Replaces the element at the specified position in this list with the specified element.\r\n\r\n    set\r\n\r\nParameters\r\n\r\nindex\r\nint: index of the element to replace\r\n\r\nelement\r\nE: element to be stored at the specified position\r\n\r\nReturns\r\nE\r\nthe element previously at the specified position\r\n\r\nThrows\r\n\r\n    IndexOutOfBoundsException\r\n\r\n","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p>Replaces the element at the specified position in this list with the specified element.</p>\n\n<pre><code>set\n</code></pre>\n\n<p>Parameters</p>\n\n<p>index\nint: index of the element to replace</p>\n\n<p>element\nE: element to be stored at the specified position</p>\n\n<p>Returns\nE\nthe element previously at the specified position</p>\n\n<p>Throws</p>\n\n<pre><code>IndexOutOfBoundsException\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11603944,"reputation":11,"user_id":8500266,"display_name":"The Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666444404,"creation_date":1666444404,"answer_id":74163873,"question_id":34526362,"body_markdown":"The thing is that your list **&quot;Test&quot;** is **empty** and when you are trying to\r\n\r\nexecute this statement **test.set(5, &quot;test&quot;);** it won&#39;t be able to set that \r\n\r\nvalue in the list &amp; will show `Out of bounds exception` as it will not create 10 empty spaces.\r\n\r\nSo, you can initialize your list before:\r\n\r\n    for(int i=0;i&lt;10;i++)  // As you took ten in your code\r\n     \r\n    {\r\n    test.add(null);   // some people also use test.add(0) instead of null , \r\n                     //but &#39;0&#39; also contains a value &amp; considering your code please use null   \r\n    }  \r\n\r\n","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p>The thing is that your list <strong>&quot;Test&quot;</strong> is <strong>empty</strong> and when you are trying to</p>\n<p>execute this statement <strong>test.set(5, &quot;test&quot;);</strong> it won't be able to set that</p>\n<p>value in the list &amp; will show <code>Out of bounds exception</code> as it will not create 10 empty spaces.</p>\n<p>So, you can initialize your list before:</p>\n<pre><code>for(int i=0;i&lt;10;i++)  // As you took ten in your code\n \n{\ntest.add(null);   // some people also use test.add(0) instead of null , \n                 //but '0' also contains a value &amp; considering your code please use null   \n}  \n</code></pre>\n"}],"owner":{"account_id":4761031,"reputation":11006,"user_id":3848411,"accept_rate":60,"display_name":"Joker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4637,"favorite_count":0,"down_vote_count":4,"up_vote_count":18,"accepted_answer_id":34526379,"answer_count":6,"score":14,"last_activity_date":1666444404,"creation_date":1451466767,"question_id":34526362,"body_markdown":"While working on `ArrayList`, I found after setting the initial size of array using the constructor with `initialCapacity`, then use `set()` will throw an exception although the array is created, but size isn&#39;t set correctly. \r\n\r\nUsing `ensureCapacity()` won&#39;t work either because it is based on the `elementData` array instead of `size`.\r\n\r\nThere are other side effects because of the static `DEFAULT_CAPACITY` with `ensureCapacity()`.\r\n\r\nThe only way to make this work is to use add() as many time as required after using the constructor. \r\n  \r\nPlease check the code below.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tList test = new ArrayList(10);\r\n\t\ttest.set(5, &quot;test&quot;);\r\n\t\tSystem.out.println(test.size());\r\n\t}\r\n\r\n\r\nI am not sure why java is throwing this exception.\r\n\r\nBehaviour I expected: `test.size()` should return 10 and set(5, ...) should  work.\r\n\r\nACTUAL: throws an Exception `IndexOutOfBoundsException`.\r\n\r\nSo is it set  method that is causing problem ?","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p>While working on <code>ArrayList</code>, I found after setting the initial size of array using the constructor with <code>initialCapacity</code>, then use <code>set()</code> will throw an exception although the array is created, but size isn't set correctly. </p>\n\n<p>Using <code>ensureCapacity()</code> won't work either because it is based on the <code>elementData</code> array instead of <code>size</code>.</p>\n\n<p>There are other side effects because of the static <code>DEFAULT_CAPACITY</code> with <code>ensureCapacity()</code>.</p>\n\n<p>The only way to make this work is to use add() as many time as required after using the constructor. </p>\n\n<p>Please check the code below.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Test {\n\npublic static void main(String[] args) {\n\n    List test = new ArrayList(10);\n    test.set(5, \"test\");\n    System.out.println(test.size());\n}\n</code></pre>\n\n<p>I am not sure why java is throwing this exception.</p>\n\n<p>Behaviour I expected: <code>test.size()</code> should return 10 and set(5, ...) should  work.</p>\n\n<p>ACTUAL: throws an Exception <code>IndexOutOfBoundsException</code>.</p>\n\n<p>So is it set  method that is causing problem ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26700996,"reputation":1,"user_id":20308046,"display_name":"tryingThingsOut"},"score":0,"creation_date":1666441232,"post_id":74163338,"comment_id":130940386,"body_markdown":"That&#39;s quite close to what I&#39;m looking for, but how would I go about adding different numbers of variables into constructor.newInstance() ?","body":"That&#39;s quite close to what I&#39;m looking for, but how would I go about adding different numbers of variables into constructor.newInstance() ?"},{"owner":{"account_id":18084758,"reputation":134,"user_id":13145959,"display_name":"trauni"},"score":0,"creation_date":1666441377,"post_id":74163338,"comment_id":130940419,"body_markdown":"Make the constructor accept an array of objects, this way you can choose how many parameters you give it.","body":"Make the constructor accept an array of objects, this way you can choose how many parameters you give it."},{"owner":{"account_id":26700996,"reputation":1,"user_id":20308046,"display_name":"tryingThingsOut"},"score":0,"creation_date":1666444038,"post_id":74163338,"comment_id":130940962,"body_markdown":"Thank you so much for directing me toward the right link, I&#39;ve managed to get it working now!","body":"Thank you so much for directing me toward the right link, I&#39;ve managed to get it working now!"}],"owner":{"account_id":26700996,"reputation":1,"user_id":20308046,"display_name":"tryingThingsOut"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666444053,"answer_count":0,"score":0,"last_activity_date":1666444302,"creation_date":1666439857,"question_id":74163338,"body_markdown":"I have a few objects stored in multiple CSV files, and would like to:\r\n\r\n 1. Read the CSV file\r\n 2. Create objects based on the read tokens\r\n 3. Store and return the created objects into an arraylist.\r\n\r\nOf course, creating separate functions for each object would be simple, but that would be tedious if I were to have a large number of objects to read in.\r\n\r\nIs it possible to create a single function that is able to do all this dynamically?\r\n\r\nSomething like:\r\n\r\n```\r\npublic ArrayList readFromCSV(String objectName){\r\n  //generic all in one code\r\n}\r\n```\r\nor\r\n```\r\npublic ArrayList readFromCSV(Class classItself){\r\n  //generic all in one code\r\n}\r\n```\r\n\r\nEssentially I&#39;m trying to do the opposite of the following:\r\n```\r\npublic static void saveArray(String filename, List al) throws IOException {\r\n    List alw = new ArrayList();// to store Professors data\r\n    for (Object obj : al) {\r\n        try {\r\n            Class c = obj.getClass();\r\n            Field[] fields = c.getDeclaredFields();\r\n            int noOfFields = fields.length;\r\n            StringBuilder st = new StringBuilder();\r\n            for (int i = 0; i &lt; noOfFields; i++) {\r\n                // System.out.println(&quot;The field is: &quot; + fields[i].getName());\r\n                Field field = obj.getClass().getDeclaredField(fields[i].getName());\r\n                field.setAccessible(true);\r\n                Object value = field.get(obj);\r\n                st.append(value.toString().trim());\r\n                if (i != noOfFields - 1) {\r\n                    st.append(SEPARATOR);\r\n                }\r\n            }\r\n            alw.add(st.toString());\r\n            write(filename, alw);\r\n        } catch (Exception e) {\r\n            System.out.println(e.toString());\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Create a function that creates object &quot;X&quot; with tokens imported from a csv file dynamically?","body":"<p>I have a few objects stored in multiple CSV files, and would like to:</p>\n<ol>\n<li>Read the CSV file</li>\n<li>Create objects based on the read tokens</li>\n<li>Store and return the created objects into an arraylist.</li>\n</ol>\n<p>Of course, creating separate functions for each object would be simple, but that would be tedious if I were to have a large number of objects to read in.</p>\n<p>Is it possible to create a single function that is able to do all this dynamically?</p>\n<p>Something like:</p>\n<pre><code>public ArrayList readFromCSV(String objectName){\n  //generic all in one code\n}\n</code></pre>\n<p>or</p>\n<pre><code>public ArrayList readFromCSV(Class classItself){\n  //generic all in one code\n}\n</code></pre>\n<p>Essentially I'm trying to do the opposite of the following:</p>\n<pre><code>public static void saveArray(String filename, List al) throws IOException {\n    List alw = new ArrayList();// to store Professors data\n    for (Object obj : al) {\n        try {\n            Class c = obj.getClass();\n            Field[] fields = c.getDeclaredFields();\n            int noOfFields = fields.length;\n            StringBuilder st = new StringBuilder();\n            for (int i = 0; i &lt; noOfFields; i++) {\n                // System.out.println(&quot;The field is: &quot; + fields[i].getName());\n                Field field = obj.getClass().getDeclaredField(fields[i].getName());\n                field.setAccessible(true);\n                Object value = field.get(obj);\n                st.append(value.toString().trim());\n                if (i != noOfFields - 1) {\n                    st.append(SEPARATOR);\n                }\n            }\n            alw.add(st.toString());\n            write(filename, alw);\n        } catch (Exception e) {\n            System.out.println(e.toString());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","2d"],"comments":[{"owner":{"account_id":26683599,"reputation":7,"user_id":20293241,"display_name":"theadvocate"},"score":0,"creation_date":1666337004,"post_id":74142634,"comment_id":130917342,"body_markdown":"I need to get the result of multiplying (1,5,9) with (7,5,3). I can get the sum of the elements, but I can not get the multiplying result of the elements. E.g 1*5*9*7*5*3=","body":"I need to get the result of multiplying (1,5,9) with (7,5,3). I can get the sum of the elements, but I can not get the multiplying result of the elements. E.g 1*5*9*7*5*3="}],"owner":{"account_id":26683599,"reputation":7,"user_id":20293241,"display_name":"theadvocate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666444226,"creation_date":1666280289,"question_id":74142634,"body_markdown":"I have this method to find the result of multiplying the primary and secondary diagonal of a 2d Array\r\n\r\n```\r\npublic static int produsDiagonle(int[][] coloane) {\r\n        int produsulDiagonalelor = 0;\r\n        for (int row = 0; row &lt; coloane.length; row++) {\r\n\r\n            produsulDiagonalelor = produsulDiagonalelor + (coloane[row][row] * coloane[row][coloane.length - row - 1]);\r\n\r\n\r\n        }\r\n        return produsulDiagonalelor;\r\n    }\r\n```\r\n\r\nThe array is this: \r\n\r\n```\r\nint[][] vector2 = {\r\n                {1, 2, 3},\r\n                {4, 5, 6},\r\n                {7, 8, 9}};\r\n```\r\n\r\nI have done previously 2 methods to find the sum of the main and the secondary diagonal, which are working as expected (returning 15 for the main one:1,5,6 and 15 for the secondary one: 7,5,3), but for this method, I can not for the life of me return the multiplication value, it seems to add something than multiply something and then add some more, as it returns the value of 91.\r\n\r\n\r\n","title":"Returning the the product of all elements of both diagonals value ( primary and secondary diagonal:(1,5,9) with (7,5,3))of an 2d Array","body":"<p>I have this method to find the result of multiplying the primary and secondary diagonal of a 2d Array</p>\n<pre><code>public static int produsDiagonle(int[][] coloane) {\n        int produsulDiagonalelor = 0;\n        for (int row = 0; row &lt; coloane.length; row++) {\n\n            produsulDiagonalelor = produsulDiagonalelor + (coloane[row][row] * coloane[row][coloane.length - row - 1]);\n\n\n        }\n        return produsulDiagonalelor;\n    }\n</code></pre>\n<p>The array is this:</p>\n<pre><code>int[][] vector2 = {\n                {1, 2, 3},\n                {4, 5, 6},\n                {7, 8, 9}};\n</code></pre>\n<p>I have done previously 2 methods to find the sum of the main and the secondary diagonal, which are working as expected (returning 15 for the main one:1,5,6 and 15 for the secondary one: 7,5,3), but for this method, I can not for the life of me return the multiplication value, it seems to add something than multiply something and then add some more, as it returns the value of 91.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1666443855,"post_id":74163760,"comment_id":130940923,"body_markdown":"have you tried to run the project see if error go away","body":"have you tried to run the project see if error go away"},{"owner":{"account_id":24286991,"reputation":15,"user_id":18232615,"display_name":"Saadia"},"score":0,"creation_date":1666447787,"post_id":74163760,"comment_id":130941687,"body_markdown":"I executed the code it executes successfully and shows the desired output but that error and red line are still there, and in the problems tab, it shows &quot;unresolved reference: java&quot;","body":"I executed the code it executes successfully and shows the desired output but that error and red line are still there, and in the problems tab, it shows &quot;unresolved reference: java&quot;"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1666448133,"post_id":74163760,"comment_id":130941770,"body_markdown":"It can be Ide aka Android Studio&#39;s bug so relax nothing to worry about ;)","body":"It can be Ide aka Android Studio&#39;s bug so relax nothing to worry about ;)"}],"owner":{"account_id":24286991,"reputation":15,"user_id":18232615,"display_name":"Saadia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666443463,"creation_date":1666443463,"question_id":74163760,"body_markdown":"The IDE shows an error in .java. please tell me what is wrong here.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i0U86.png\r\n\r\n\r\n\r\n    Handler().postDelayed({\r\n            Toast.makeText(applicationContext,&quot;This is Splash Screen&quot;,Toast.LENGTH_SHORT).show()\r\n            val intent = Intent(this, ScreenTwo::class.java)\r\n            startActivity(intent)\r\n            finish()\r\n        }, SPLASH_TIMER.toLong())\r\n\r\n    }","title":"Error when passing intent from one activity to another activity in Kotlin, android studio","body":"<p>The IDE shows an error in .java. please tell me what is wrong here.\n<a href=\"https://i.stack.imgur.com/i0U86.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i0U86.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>Handler().postDelayed({\n        Toast.makeText(applicationContext,&quot;This is Splash Screen&quot;,Toast.LENGTH_SHORT).show()\n        val intent = Intent(this, ScreenTwo::class.java)\n        startActivity(intent)\n        finish()\n    }, SPLASH_TIMER.toLong())\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","soap-client","spring-ws"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1666441082,"post_id":74163414,"comment_id":130940353,"body_markdown":"Apparently, the soap service your are calling won&#39;t permit you to do that:  *&quot;The HTTP 403 Forbidden response status code indicates that the server understands the request but refuses to authorize it.  This status is similar to 401, but for the 403 Forbidden status code, re-authenticating makes no difference. The access is permanently forbidden and tied to the application logic, such as insufficient rights to a resource.&quot;* (source https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403)","body":"Apparently, the soap service your are calling won&#39;t permit you to do that:  <i>&quot;The HTTP 403 Forbidden response status code indicates that the server understands the request but refuses to authorize it.  This status is similar to 401, but for the 403 Forbidden status code, re-authenticating makes no difference. The access is permanently forbidden and tied to the application logic, such as insufficient rights to a resource.&quot;</i> (source <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Status/403</a>)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1666441157,"post_id":74163414,"comment_id":130940371,"body_markdown":"So ... basically ... you need to figure out *why* it is not permitted.  I don&#39;t know how we can help you with that.","body":"So ... basically ... you need to figure out <i>why</i> it is not permitted.  I don&#39;t know how we can help you with that."},{"owner":{"account_id":6844303,"reputation":239,"user_id":5263595,"accept_rate":62,"display_name":"Rahul"},"score":0,"creation_date":1666757167,"post_id":74163414,"comment_id":131009342,"body_markdown":"Thanks @StephenC, the same code is working older versions of spring boot , but sure ill give a try where this is happening.","body":"Thanks @StephenC, the same code is working older versions of spring boot , but sure ill give a try where this is happening."}],"owner":{"account_id":6844303,"reputation":239,"user_id":5263595,"accept_rate":62,"display_name":"Rahul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":838,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666440406,"creation_date":1666440406,"question_id":74163414,"body_markdown":"We are getting below exception while trying to call a soap service through spring boot :    &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\r\nClass:\r\n\r\n    public class Client extends WebServiceGatewaySupport {\r\n\r\n    @Autowired\r\n    private MessageSender messageSender ;\r\n\r\nRequest :\r\n\r\n    RequestTest request = new RequestTest ();\r\n    \trequest.setSRequestXML(&quot;XML CONTENT&quot;);\r\n\r\nClient Method: \r\n\t\r\n\r\n    WebServiceTemplate serviceTemplate = getWebServiceTemplate();\r\n    \t\tserviceTemplate.setMessageSender(messageSender);\r\n    \t\tResponseTest response = (ResponseTest) serviceTemplate.marshalSendAndReceive(url, request,\r\n    \t\t\t\tnew SoapActionCallback(callBack));\r\n\r\nBelow error is on last line above : \r\n\r\n    org.springframework.ws.client.WebServiceTransportException: Forbidden [403]\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.handleError(WebServiceTemplate.java:699)\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:609)\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:555)\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:390)\r\n\r\nAny thoughts please help","title":"org.springframework.ws.client.WebServiceTransportException: Forbidden [403] Spring boot soap call","body":"<p>We are getting below exception while trying to call a soap service through spring boot :    2.1.3.RELEASE\nClass:</p>\n<pre><code>public class Client extends WebServiceGatewaySupport {\n\n@Autowired\nprivate MessageSender messageSender ;\n</code></pre>\n<p>Request :</p>\n<pre><code>RequestTest request = new RequestTest ();\n    request.setSRequestXML(&quot;XML CONTENT&quot;);\n</code></pre>\n<p>Client Method:</p>\n<pre><code>WebServiceTemplate serviceTemplate = getWebServiceTemplate();\n        serviceTemplate.setMessageSender(messageSender);\n        ResponseTest response = (ResponseTest) serviceTemplate.marshalSendAndReceive(url, request,\n                new SoapActionCallback(callBack));\n</code></pre>\n<p>Below error is on last line above :</p>\n<pre><code>org.springframework.ws.client.WebServiceTransportException: Forbidden [403]\n    at org.springframework.ws.client.core.WebServiceTemplate.handleError(WebServiceTemplate.java:699)\n    at org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:609)\n    at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:555)\n    at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:390)\n</code></pre>\n<p>Any thoughts please help</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9282,"page":941,"page_size":100}
