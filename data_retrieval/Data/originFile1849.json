{"items":[{"tags":["java","spring","sequence","spring-retry","retry-logic"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636987264,"creation_date":1636987264,"answer_id":69976187,"question_id":69924260,"body_markdown":"There is no mechanism to retrieve the delay.","title":"how to print delay sequence in spring retry","body":"<p>There is no mechanism to retrieve the delay.</p>\n"}],"owner":{"account_id":13625546,"reputation":398,"user_id":9828935,"display_name":"Velmurugan A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636987264,"creation_date":1636613669,"question_id":69924260,"body_markdown":"I know to print number of counts inside retryable method. how to print delay sequence inside retryable method\r\n\r\n    @Retryable( value = SQLException.class, \r\n          maxAttempts = 3, backoff = @Backoff(delay = 1000))\r\n    void testMethod(String abc) throws SQLException{\r\n    log.info(&quot;Retry Number : {} and delay: &quot;,RetrySynchronizationManager.getContext().getRetryCount());\r\n    };\r\nexpected output:\r\nRetry Number: 1 delay : 1000\r\nRetry Number: 2 delay : 1000\r\nRetry Number: 3 delay : 1000\r\n ","title":"how to print delay sequence in spring retry","body":"<p>I know to print number of counts inside retryable method. how to print delay sequence inside retryable method</p>\n<pre><code>@Retryable( value = SQLException.class, \n      maxAttempts = 3, backoff = @Backoff(delay = 1000))\nvoid testMethod(String abc) throws SQLException{\nlog.info(&quot;Retry Number : {} and delay: &quot;,RetrySynchronizationManager.getContext().getRetryCount());\n};\n</code></pre>\n<p>expected output:\nRetry Number: 1 delay : 1000\nRetry Number: 2 delay : 1000\nRetry Number: 3 delay : 1000</p>\n"},{"tags":["java","android","glsl"],"answers":[{"tags":[],"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636987075,"creation_date":1636987075,"answer_id":69976132,"question_id":69975785,"body_markdown":"As you may know, GLSL (OpenGL Shading Language) is for OpenGL. And,\r\n\r\n[The Basics][1]:\r\n&gt; There are two foundational classes in the Android framework that let\r\n&gt; you create and manipulate graphics with the OpenGL ES API:\r\n&gt; `GLSurfaceView` and `GLSurfaceView.Renderer`.\r\n\r\nThe framework gives you the only option to manipulate with the OpenGL: `GLSurfaceView` and `GLSurfaceView.Renderer`. `Canvas` is not the option.\r\n\r\n[The Basics][1]:\r\n&gt; If your goal is to use OpenGL in your Android application,\r\n&gt; understanding how to implement these classes in an activity should be\r\n&gt; your first objective.\r\n\r\n  [1]: https://developer.android.com/guide/topics/graphics/opengl#basics","title":"Is it possible to add GLSL Shaders to android Canvas?","body":"<p>As you may know, GLSL (OpenGL Shading Language) is for OpenGL. And,</p>\n<p><a href=\"https://developer.android.com/guide/topics/graphics/opengl#basics\" rel=\"nofollow noreferrer\">The Basics</a>:</p>\n<blockquote>\n<p>There are two foundational classes in the Android framework that let\nyou create and manipulate graphics with the OpenGL ES API:\n<code>GLSurfaceView</code> and <code>GLSurfaceView.Renderer</code>.</p>\n</blockquote>\n<p>The framework gives you the only option to manipulate with the OpenGL: <code>GLSurfaceView</code> and <code>GLSurfaceView.Renderer</code>. <code>Canvas</code> is not the option.</p>\n<p><a href=\"https://developer.android.com/guide/topics/graphics/opengl#basics\" rel=\"nofollow noreferrer\">The Basics</a>:</p>\n<blockquote>\n<p>If your goal is to use OpenGL in your Android application,\nunderstanding how to implement these classes in an activity should be\nyour first objective.</p>\n</blockquote>\n"}],"owner":{"account_id":23344355,"reputation":87,"user_id":17418873,"display_name":"GoatPonny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636987075,"creation_date":1636985577,"question_id":69975785,"body_markdown":"I was making my 2D game using Canvas (android.graphics) in android studio. I wanted to add some kind of bloom effect to the objects in a game, easiest way for me to do that would be linking GLSL shader. Sadly I can&#39;t find any function that would allow me to do that.\r\n\r\nIs there any way to implement GLSL into android&#39;s Canvas? If there isn&#39;t what graphics library for android has this option? (I&#39;ve already tried OpenGL ES 2.0, but all I was able to do was simple triangle and it was really hard, so I think i&#39;m too stupid for this engine)","title":"Is it possible to add GLSL Shaders to android Canvas?","body":"<p>I was making my 2D game using Canvas (android.graphics) in android studio. I wanted to add some kind of bloom effect to the objects in a game, easiest way for me to do that would be linking GLSL shader. Sadly I can't find any function that would allow me to do that.</p>\n<p>Is there any way to implement GLSL into android's Canvas? If there isn't what graphics library for android has this option? (I've already tried OpenGL ES 2.0, but all I was able to do was simple triangle and it was really hard, so I think i'm too stupid for this engine)</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636986577,"creation_date":1636985635,"answer_id":69975793,"question_id":69974071,"body_markdown":"If the response you want to give has a different structure from your model (the first diagram you showed), you need to implement the DTO pattern.\r\n\r\n**DTO**: **D**ata **T**ransfer **O**bject. It just means, in words of Samuel L. Jackson &quot;_hey you! Do you want to show your shit in a different way? Create a new mother fucker object that represents the new shit, and damn transform it!_&quot;\r\n\r\nSo, create a new object called `DepartmentEmployeeDTO` with the structure you want to show, and use a `Builder` pattern to transform from one to another. And of course make `getEmployeesPerDepartment` return `List&lt;DepartmentEmployeeDTO&gt;`. That method will end up as something like this:\r\n\r\n\r\n```java\r\n@GetMapping(&quot;/{deptNo}/employees&quot;)\r\npublic List&lt;DepartmentEmployeeDTO&gt; getEmployeesPerDepartment(@PathVariable String deptNo) {\r\n    return this.employeeService.listAllEmployeesPerDepartment(deptNo)\r\n        .stream()\r\n        .map(e -&gt; new DepartmentEmployeeDTOBuilder(e).build())\r\n        .collect(Collectors.toList());\r\n}\r\n```\r\n\r\nThat provided you build you `Builder` with one constructor with the original `DepartmentEmployee` as the only parameter.","title":"Showing a specific JSON response for my GET endpoint","body":"<p>If the response you want to give has a different structure from your model (the first diagram you showed), you need to implement the DTO pattern.</p>\n<p><strong>DTO</strong>: <strong>D</strong>ata <strong>T</strong>ransfer <strong>O</strong>bject. It just means, in words of Samuel L. Jackson &quot;<em>hey you! Do you want to show your shit in a different way? Create a new mother fucker object that represents the new shit, and damn transform it!</em>&quot;</p>\n<p>So, create a new object called <code>DepartmentEmployeeDTO</code> with the structure you want to show, and use a <code>Builder</code> pattern to transform from one to another. And of course make <code>getEmployeesPerDepartment</code> return <code>List&lt;DepartmentEmployeeDTO&gt;</code>. That method will end up as something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/{deptNo}/employees&quot;)\npublic List&lt;DepartmentEmployeeDTO&gt; getEmployeesPerDepartment(@PathVariable String deptNo) {\n    return this.employeeService.listAllEmployeesPerDepartment(deptNo)\n        .stream()\n        .map(e -&gt; new DepartmentEmployeeDTOBuilder(e).build())\n        .collect(Collectors.toList());\n}\n</code></pre>\n<p>That provided you build you <code>Builder</code> with one constructor with the original <code>DepartmentEmployee</code> as the only parameter.</p>\n"}],"owner":{"account_id":23023481,"reputation":73,"user_id":17144150,"display_name":"Taulant Fazliu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69975793,"answer_count":1,"score":2,"last_activity_date":1636986577,"creation_date":1636977531,"question_id":69974071,"body_markdown":"I have a many-to-many relationship between Department and Employee [![Image of the Employee Service Schema][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3jGzc.jpg\r\n\r\nI have already done a mapping for the GET endpoint which returns a list of departments that contain Employees, this is the request: `http://localhost:8080/api/departments/1/employees`, and this is the response I get: \r\n\r\n```\r\n[\r\n    {\r\n    &quot;id&quot;: {\r\n    &quot;deptNo&quot;: &quot;1 &quot;,\r\n    &quot;empNo&quot;: 2\r\n    },\r\n    &quot;fromDate&quot;: &quot;2021-11-22&quot;,\r\n    &quot;toDate&quot;: null\r\n    }\r\n]\r\n```\r\n\r\nThis is the code that gets the job done:\r\n## Department Repository Imp ##\r\n\r\n    @Override\r\n    public Optional&lt;Department&gt; findByIdWithEmployees(String deptNo) {\r\n        TypedQuery&lt;Department&gt; query = this.entityManager.createQuery(&quot;SELECT d  FROM Department d JOIN FETCH d.employees e WHERE d.deptNo = :deptNo AND e.toDate IS NULL&quot;, Department.class).setParameter(&quot;deptNo&quot;, deptNo);\r\n        return Optional.ofNullable(query.getSingleResult());\r\n    }\r\n\r\n## Employee Service Impl ##\r\n\r\n    @Override\r\n    public List&lt;DepartmentEmployee&gt; listAllEmployeesPerDepartment(String deptNo) {\r\n        Department department = this.departmentRepository.findByIdWithEmployees(deptNo).orElseThrow(() -&gt; new DepartmentNotFoundException(deptNo));\r\n        return department.getEmployees();\r\n    }\r\n\r\n## Department Controller ##\r\n\r\n    @GetMapping(&quot;/{deptNo}/employees&quot;)\r\n    public List&lt;DepartmentEmployee&gt; getEmployeesPerDepartment(@PathVariable String deptNo) {\r\n        return this.employeeService.listAllEmployeesPerDepartment(deptNo);\r\n    }\r\n\r\nNow what I need is to re-map this so I get a different response. This is the response I need to receive when I run a GET request:\r\n\r\n    [\r\n      {\r\n        &quot;fromDate&quot;:&quot;2021-11-22&quot;,\r\n        &quot;toDate&quot;:null,\r\n        &quot;employee&quot;:{\r\n          &quot;empNo&quot;:2,\r\n          &quot;birthDate&quot;:&quot;1997-05-10&quot;,\r\n          &quot;firstName&quot;:&quot;Taulant&quot;,\r\n          &quot;lastName&quot;:&quot;Fazliu&quot;,\r\n          &quot;gender&quot;:&quot;M&quot;,\r\n          &quot;hireDate&quot;:&quot;2020-01-01&quot;\r\n        }\r\n      }\r\n    ]\r\n\r\nHow to achieve this?","title":"Showing a specific JSON response for my GET endpoint","body":"<p>I have a many-to-many relationship between Department and Employee <a href=\"https://i.stack.imgur.com/3jGzc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3jGzc.jpg\" alt=\"Image of the Employee Service Schema\" /></a></p>\n<p>I have already done a mapping for the GET endpoint which returns a list of departments that contain Employees, this is the request: <code>http://localhost:8080/api/departments/1/employees</code>, and this is the response I get:</p>\n<pre><code>[\n    {\n    &quot;id&quot;: {\n    &quot;deptNo&quot;: &quot;1 &quot;,\n    &quot;empNo&quot;: 2\n    },\n    &quot;fromDate&quot;: &quot;2021-11-22&quot;,\n    &quot;toDate&quot;: null\n    }\n]\n</code></pre>\n<p>This is the code that gets the job done:</p>\n<h2>Department Repository Imp</h2>\n<pre><code>@Override\npublic Optional&lt;Department&gt; findByIdWithEmployees(String deptNo) {\n    TypedQuery&lt;Department&gt; query = this.entityManager.createQuery(&quot;SELECT d  FROM Department d JOIN FETCH d.employees e WHERE d.deptNo = :deptNo AND e.toDate IS NULL&quot;, Department.class).setParameter(&quot;deptNo&quot;, deptNo);\n    return Optional.ofNullable(query.getSingleResult());\n}\n</code></pre>\n<h2>Employee Service Impl</h2>\n<pre><code>@Override\npublic List&lt;DepartmentEmployee&gt; listAllEmployeesPerDepartment(String deptNo) {\n    Department department = this.departmentRepository.findByIdWithEmployees(deptNo).orElseThrow(() -&gt; new DepartmentNotFoundException(deptNo));\n    return department.getEmployees();\n}\n</code></pre>\n<h2>Department Controller</h2>\n<pre><code>@GetMapping(&quot;/{deptNo}/employees&quot;)\npublic List&lt;DepartmentEmployee&gt; getEmployeesPerDepartment(@PathVariable String deptNo) {\n    return this.employeeService.listAllEmployeesPerDepartment(deptNo);\n}\n</code></pre>\n<p>Now what I need is to re-map this so I get a different response. This is the response I need to receive when I run a GET request:</p>\n<pre><code>[\n  {\n    &quot;fromDate&quot;:&quot;2021-11-22&quot;,\n    &quot;toDate&quot;:null,\n    &quot;employee&quot;:{\n      &quot;empNo&quot;:2,\n      &quot;birthDate&quot;:&quot;1997-05-10&quot;,\n      &quot;firstName&quot;:&quot;Taulant&quot;,\n      &quot;lastName&quot;:&quot;Fazliu&quot;,\n      &quot;gender&quot;:&quot;M&quot;,\n      &quot;hireDate&quot;:&quot;2020-01-01&quot;\n    }\n  }\n]\n</code></pre>\n<p>How to achieve this?</p>\n"},{"tags":["java","android","kotlin","android-navigation","android-navigation-editor"],"answers":[{"tags":[],"owner":{"account_id":15921513,"reputation":79,"user_id":11488385,"display_name":"Matteo Pasotti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564489982,"creation_date":1564489982,"answer_id":57271797,"question_id":57271498,"body_markdown":"I am using the version 2.1.0-alpha02 and have no problems.\r\nTry to change your nav_version_ktx and nav_version\r\n\r\nAlso this a sample on my [github][1], just in case you want to check something. But i think it&#39;s a problem of version\r\n\r\n\r\n  [1]: https://github.com/matteopasotti/navigation-sample","title":"Fragments are not displaying in Android Navigation component","body":"<p>I am using the version 2.1.0-alpha02 and have no problems.\nTry to change your nav_version_ktx and nav_version</p>\n\n<p>Also this a sample on my <a href=\"https://github.com/matteopasotti/navigation-sample\" rel=\"nofollow noreferrer\">github</a>, just in case you want to check something. But i think it's a problem of version</p>\n"},{"tags":[],"owner":{"account_id":9728106,"reputation":546,"user_id":10381236,"display_name":"Idris Stack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564516402,"creation_date":1564516402,"answer_id":57279117,"question_id":57271498,"body_markdown":"Well, I got the solution, I just migrated my app to use `Androidx`, this made the graph work as expected.","title":"Fragments are not displaying in Android Navigation component","body":"<p>Well, I got the solution, I just migrated my app to use <code>Androidx</code>, this made the graph work as expected.</p>\n"},{"tags":[],"owner":{"account_id":1378916,"reputation":2624,"user_id":1312335,"accept_rate":92,"display_name":"juanmeanwhile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592826062,"creation_date":1592826062,"answer_id":62513588,"question_id":57271498,"body_markdown":"In your nav graph add &quot;tools:layout=&quot;@layout/fragment_your_layout&quot;\r\n\r\n    &lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/main_navigation&quot;\r\n        app:startDestination=&quot;@id/home2Fragment&quot;&gt;\r\n    \r\n        &lt;fragment\r\n            android:id=&quot;@+id/newProfileContentFragment&quot;\r\n            android:name=&quot;com.adidas.app.profile2.NewProfileContentFragment&quot;\r\n            android:label=&quot;NewProfileContentFragment&quot;\r\n            tools:layout=&quot;@layout/fragment_your_layout&quot;\r\n            /&gt;\r\n    \r\n    &lt;/navigation&gt;","title":"Fragments are not displaying in Android Navigation component","body":"<p>In your nav graph add &quot;tools:layout=&quot;@layout/fragment_your_layout&quot;</p>\n<pre><code>&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/main_navigation&quot;\n    app:startDestination=&quot;@id/home2Fragment&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/newProfileContentFragment&quot;\n        android:name=&quot;com.adidas.app.profile2.NewProfileContentFragment&quot;\n        android:label=&quot;NewProfileContentFragment&quot;\n        tools:layout=&quot;@layout/fragment_your_layout&quot;\n        /&gt;\n\n&lt;/navigation&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9809771,"reputation":6806,"user_id":10699119,"display_name":"Sana Ebadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636986420,"creation_date":1636986420,"answer_id":69975986,"question_id":57271498,"body_markdown":"check if you have `NavigationComponent` dependency in your `build.gradle.`\r\n\r\n \r\n\r\n     ext.navigation_version = &quot;2.3.5&quot;\r\n\r\n     // Navigation\r\n        implementation &quot;androidx.navigation:navigation-fragment-ktx:$navigation_version&quot;\r\n        implementation &quot;androidx.navigation:navigation-ui-ktx:$navigation_version&quot;\r\n        implementation &quot;androidx.navigation:navigation-dynamic-features-fragment:$navigation_version&quot;\r\n        androidTestImplementation &quot;androidx.navigation:navigation-testing:$navigation_version&quot;","title":"Fragments are not displaying in Android Navigation component","body":"<p>check if you have <code>NavigationComponent</code> dependency in your <code>build.gradle.</code></p>\n<pre><code> ext.navigation_version = &quot;2.3.5&quot;\n\n // Navigation\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:$navigation_version&quot;\n    implementation &quot;androidx.navigation:navigation-ui-ktx:$navigation_version&quot;\n    implementation &quot;androidx.navigation:navigation-dynamic-features-fragment:$navigation_version&quot;\n    androidTestImplementation &quot;androidx.navigation:navigation-testing:$navigation_version&quot;\n</code></pre>\n"}],"owner":{"account_id":9728106,"reputation":546,"user_id":10381236,"display_name":"Idris Stack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2557,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1636986420,"creation_date":1564489065,"question_id":57271498,"body_markdown":"Am new with this architecture and am trying to add multiple fragments in the **Android Navigation component** but the **Fragments**\r\n are not visible in the list.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see, The host is the only one available.\r\n\r\nI also had a look at this [question][2], but it didn&#39;t help me out.\r\n\r\nNow, these are the dependencies am using from the documentation :\r\n\r\n\r\n \r\n\r\n    def nav_version = &quot;2.1.0-beta02&quot;\r\n        def nav_version_ktx = &quot;2.1.0-beta02&quot;\r\n    \r\n         // Java\r\n        implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\r\n        implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\r\n    \r\n        // Kotlin\r\n        implementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version_ktx&quot;\r\n        implementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version_ktx&quot;\r\n\r\n\r\n\r\nand this :\r\n\r\n    buildscript {\r\n        ext.kotlin_version = &#39;1.3.31&#39;\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            \r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:3.4.2&#39;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            \r\n        }\r\n    }\r\n\r\n\r\nThen my fragment is as follows :\r\n\r\n    class BlankFragment2 : Fragment() {\r\n    \r\n        override fun onCreateView(\r\n            inflater: LayoutInflater, container: ViewGroup?,\r\n            savedInstanceState: Bundle?\r\n        ): View? {\r\n            // Inflate the layout for this fragment\r\n            return inflater.inflate(R.layout.fragment_blank_fragment2, container, false)\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nand it&#39;s **xml** :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                 xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n                 android:layout_width=&quot;match_parent&quot;\r\n                 android:layout_height=&quot;match_parent&quot;\r\n                 tools:context=&quot;.BlankFragment2&quot;&gt;\r\n    \r\n        &lt;!-- TODO: Update blank fragment layout --&gt;\r\n        &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:text=&quot;@string/hello_blank_fragment&quot;/&gt;\r\n    \r\n    &lt;/FrameLayout&gt;\r\n\r\n\r\nThe version of my android studio is **3.4.2**\r\n\r\n\r\nWhat could be the reason to this ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Pisf2.png\r\n  [2]: https://stackoverflow.com/questions/52063670/android-navigation-component-not-displaying-fragment","title":"Fragments are not displaying in Android Navigation component","body":"<p>Am new with this architecture and am trying to add multiple fragments in the <strong>Android Navigation component</strong> but the <strong>Fragments</strong>\n are not visible in the list.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Pisf2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pisf2.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see, The host is the only one available.</p>\n\n<p>I also had a look at this <a href=\"https://stackoverflow.com/questions/52063670/android-navigation-component-not-displaying-fragment\">question</a>, but it didn't help me out.</p>\n\n<p>Now, these are the dependencies am using from the documentation :</p>\n\n<pre><code>def nav_version = \"2.1.0-beta02\"\n    def nav_version_ktx = \"2.1.0-beta02\"\n\n     // Java\n    implementation \"androidx.navigation:navigation-fragment:$nav_version\"\n    implementation \"androidx.navigation:navigation-ui:$nav_version\"\n\n    // Kotlin\n    implementation \"androidx.navigation:navigation-fragment-ktx:$nav_version_ktx\"\n    implementation \"androidx.navigation:navigation-ui-ktx:$nav_version_ktx\"\n</code></pre>\n\n<p>and this :</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.3.31'\n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.4.2'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n\n    }\n}\n</code></pre>\n\n<p>Then my fragment is as follows :</p>\n\n<pre><code>class BlankFragment2 : Fragment() {\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_blank_fragment2, container, false)\n    }\n\n\n}\n</code></pre>\n\n<p>and it's <strong>xml</strong> :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n             xmlns:tools=\"http://schemas.android.com/tools\"\n             android:layout_width=\"match_parent\"\n             android:layout_height=\"match_parent\"\n             tools:context=\".BlankFragment2\"&gt;\n\n    &lt;!-- TODO: Update blank fragment layout --&gt;\n    &lt;TextView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:text=\"@string/hello_blank_fragment\"/&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>The version of my android studio is <strong>3.4.2</strong></p>\n\n<p>What could be the reason to this ?</p>\n"},{"tags":["java","gradle","groovy","junit5","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636661202,"creation_date":1636661202,"answer_id":69934302,"question_id":69918618,"body_markdown":"From your log, the Gradle tests run a different class loader than in your example where things work. I assume therefore that your matcher is sensitive to the class loader that is being used. Also, make sure your ignore matcher does not exclude the class loader in the parallel tests.","title":"ByteBuddy agent test with gradle and JUnit5","body":"<p>From your log, the Gradle tests run a different class loader than in your example where things work. I assume therefore that your matcher is sensitive to the class loader that is being used. Also, make sure your ignore matcher does not exclude the class loader in the parallel tests.</p>\n"}],"owner":{"account_id":3500892,"reputation":1750,"user_id":4141883,"accept_rate":57,"display_name":"Danila Zharenkov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636986387,"creation_date":1636569823,"question_id":69918618,"body_markdown":"I&#39;ve faced some weird behavior when I try to test my Java Agent written using ByteBuddy\r\n\r\nThe agent intercepts annotated methods/classes and profile them, nothing complicated\r\n\r\n    class ByteInstrumentationConfigurer implements BootstrapConfigurer {\r\n\r\n        @Override\r\n        void init(...) {\r\n            def instrumentation = ByteBuddyAgent.install()\r\n            new AgentBuilder.Default()\r\n                    .type(isAnnotatedWith(TimeProfiling.class))\r\n                    .transform((builder, typeDescription, classLoader, module) -&gt;\r\n                            builder.method(not(isAnnotatedWith(Generated))) //ignore groovy generated methods (getMetaClass, etc.)\r\n                                .intercept(MethodDelegation.to(TimeProfilingInterceptor.class)))\r\n                    .with(stdoutToLoggerWriter.withTransformationsOnly())\r\n                    .installOn(instrumentation) \r\n\r\nAnd I&#39;ve got some unit tests where I verify that interceptor method was called\r\n\r\n    class TimeProfilingInterceptorTest {\r\n    \r\n        static MockedStatic&lt;TimeProfilingInterceptor&gt; timeProfilingInterceptorMockedStatic\r\n    \r\n        static {\r\n            //agent installation happens here\r\n            new ByteInstrumentationConfigurer().init([:], [:])\r\n            timeProfilingInterceptorMockedStatic = mockStatic(TimeProfilingInterceptor, CALLS_REAL_METHODS)\r\n        }\r\n        \r\n        @Test\r\n        void profilingEnabledClassLevelTest() {\r\n            //some mocking for my classes here\r\n            testCallingComponent.callClassLevelComponentMethod()\r\n            timeProfilingInterceptorMockedStatic.verify(()-&gt;\r\n                    TimeProfilingInterceptor.measureAndLogExecutionTime(any(),any(),any()),times(2))\r\n    }\r\n\r\nAnd now, when I start this test using from IDEA I see, that 2 my classes were transformed\r\n\r\n&gt; [Byte Buddy] TRANSFORM\r\n&gt; com.kmslh.manager.profiling.components.MethodLevelTimeProfilingComponent\r\n&gt; [sun.misc.Launcher$AppClassLoader@18b4aac2, null, Thread[main,5,main],\r\n&gt; loaded=false] \r\n\r\n&gt;[Byte Buddy] TRANSFORM\r\n&gt; com.kmslh.manager.profiling.components.ClassLevelTimeProfilingComponent\r\n&gt; [sun.misc.Launcher$AppClassLoader@18b4aac2, null, Thread[main,5,main],\r\n&gt; loaded=false]\r\n\r\nBut if I run this tests using `gradle` test\\build task - no classes transformed. If I output full info - i see that classloader in this case is `org.codehaus.groovy.runtime.callsite.CallSiteClassLoader`. \r\n\r\n&gt; [Byte Buddy] DISCOVERY\r\n&gt; com.kmslh.manager.profiling.components.ClassLevelTimeProfilingComponent$exposedMethod\r\n&gt; [org.codehaus.groovy.runtime.callsite.CallSiteClassLoader@3b1a332,\r\n&gt; null, Thread[Test worker,5,main], loaded=false] [Byte Buddy] IGNORE\r\n&gt; com.kmslh.manager.profiling.components.ClassLevelTimeProfilingComponent$exposedMethod\r\n&gt; [org.codehaus.groovy.runtime.callsite.CallSiteClassLoader@3b1a332,\r\n&gt; null, Thread[Test worker,5,main], loaded=false] [Byte Buddy] COMPLETE\r\n&gt; com.kmslh.manager.profiling.components.ClassLevelTimeProfilingComponent$exposedMethod\r\n&gt; [org.codehaus.groovy.runtime.callsite.CallSiteClassLoader@3b1a332,\r\n&gt; null, Thread[Test worker,5,main], loaded=false]\r\n\r\nNot sure is it an issue or not, but I&#39;m out of ideas. Also I&#39;ve tried to rewrite test to Java - no result. \r\n\r\nAny suggestions to try?\r\n\r\n**UPD 1**\r\n\r\nFrom what I see - when test started from gradle - no `auxiliary` classes created\r\n\r\n**UPD 2**\r\n\r\nI run gradle task with `-verbose:class` and see, that my class loaded before starting instrumentation\r\n`[Loaded com.kmslh.manager.profiling.components.ClassLevelTimeProfilingComponent from file:/C:/Users/.../build/classes/groovy/main/]\r\n`\r\n\r\nWhen IDEA run tests (it packs it into jar and run jar) - class is loaded after instrumentation\r\n\r\n**UPD 3**\r\n\r\n&gt; [Loaded com....ClassLevelTimeProfilingComponent from\r\n&gt; file:/C:/Users/../build/classes/groovy/test/]\r\n&gt; \r\n&gt; [Loaded com....ClassLevelTimeProfilingComponent from\r\n&gt; __VM_RedefineClasses__]\r\n&gt; \r\n&gt; [Byte Buddy] TRANSFORM com....ClassLevelTimeProfilingComponent\r\n&gt; [sun.misc.Launcher$AppClassLoader@73d16e93, null, Thread[Test\r\n&gt; worker,5,main], loaded=true]\r\n&gt; \r\n&gt; [Loaded com....ClassLevelTimeProfilingComponent$exposedMethod from\r\n&gt; file:/C:/Users/79270/IdeaProjects/kms-trunk/KMS-Manager/build/classes/groovy/test/]","title":"ByteBuddy agent test with gradle and JUnit5","body":"<p>I've faced some weird behavior when I try to test my Java Agent written using ByteBuddy</p>\n<p>The agent intercepts annotated methods/classes and profile them, nothing complicated</p>\n<pre><code>class ByteInstrumentationConfigurer implements BootstrapConfigurer {\n\n    @Override\n    void init(...) {\n        def instrumentation = ByteBuddyAgent.install()\n        new AgentBuilder.Default()\n                .type(isAnnotatedWith(TimeProfiling.class))\n                .transform((builder, typeDescription, classLoader, module) -&gt;\n                        builder.method(not(isAnnotatedWith(Generated))) //ignore groovy generated methods (getMetaClass, etc.)\n                            .intercept(MethodDelegation.to(TimeProfilingInterceptor.class)))\n                .with(stdoutToLoggerWriter.withTransformationsOnly())\n                .installOn(instrumentation) \n</code></pre>\n<p>And I've got some unit tests where I verify that interceptor method was called</p>\n<pre><code>class TimeProfilingInterceptorTest {\n\n    static MockedStatic&lt;TimeProfilingInterceptor&gt; timeProfilingInterceptorMockedStatic\n\n    static {\n        //agent installation happens here\n        new ByteInstrumentationConfigurer().init([:], [:])\n        timeProfilingInterceptorMockedStatic = mockStatic(TimeProfilingInterceptor, CALLS_REAL_METHODS)\n    }\n    \n    @Test\n    void profilingEnabledClassLevelTest() {\n        //some mocking for my classes here\n        testCallingComponent.callClassLevelComponentMethod()\n        timeProfilingInterceptorMockedStatic.verify(()-&gt;\n                TimeProfilingInterceptor.measureAndLogExecutionTime(any(),any(),any()),times(2))\n}\n</code></pre>\n<p>And now, when I start this test using from IDEA I see, that 2 my classes were transformed</p>\n<blockquote>\n<p>[Byte Buddy] TRANSFORM\ncom.kmslh.manager.profiling.components.MethodLevelTimeProfilingComponent\n[sun.misc.Launcher$AppClassLoader@18b4aac2, null, Thread[main,5,main],\nloaded=false]</p>\n</blockquote>\n<blockquote>\n<p>[Byte Buddy] TRANSFORM\ncom.kmslh.manager.profiling.components.ClassLevelTimeProfilingComponent\n[sun.misc.Launcher$AppClassLoader@18b4aac2, null, Thread[main,5,main],\nloaded=false]</p>\n</blockquote>\n<p>But if I run this tests using <code>gradle</code> test\\build task - no classes transformed. If I output full info - i see that classloader in this case is <code>org.codehaus.groovy.runtime.callsite.CallSiteClassLoader</code>.</p>\n<blockquote>\n<p>[Byte Buddy] DISCOVERY\ncom.kmslh.manager.profiling.components.ClassLevelTimeProfilingComponent$exposedMethod\n[org.codehaus.groovy.runtime.callsite.CallSiteClassLoader@3b1a332,\nnull, Thread[Test worker,5,main], loaded=false] [Byte Buddy] IGNORE\ncom.kmslh.manager.profiling.components.ClassLevelTimeProfilingComponent$exposedMethod\n[org.codehaus.groovy.runtime.callsite.CallSiteClassLoader@3b1a332,\nnull, Thread[Test worker,5,main], loaded=false] [Byte Buddy] COMPLETE\ncom.kmslh.manager.profiling.components.ClassLevelTimeProfilingComponent$exposedMethod\n[org.codehaus.groovy.runtime.callsite.CallSiteClassLoader@3b1a332,\nnull, Thread[Test worker,5,main], loaded=false]</p>\n</blockquote>\n<p>Not sure is it an issue or not, but I'm out of ideas. Also I've tried to rewrite test to Java - no result.</p>\n<p>Any suggestions to try?</p>\n<p><strong>UPD 1</strong></p>\n<p>From what I see - when test started from gradle - no <code>auxiliary</code> classes created</p>\n<p><strong>UPD 2</strong></p>\n<p>I run gradle task with <code>-verbose:class</code> and see, that my class loaded before starting instrumentation\n<code>[Loaded com.kmslh.manager.profiling.components.ClassLevelTimeProfilingComponent from file:/C:/Users/.../build/classes/groovy/main/] </code></p>\n<p>When IDEA run tests (it packs it into jar and run jar) - class is loaded after instrumentation</p>\n<p><strong>UPD 3</strong></p>\n<blockquote>\n<p>[Loaded com....ClassLevelTimeProfilingComponent from\nfile:/C:/Users/../build/classes/groovy/test/]</p>\n<p>[Loaded com....ClassLevelTimeProfilingComponent from\n<strong>VM_RedefineClasses</strong>]</p>\n<p>[Byte Buddy] TRANSFORM com....ClassLevelTimeProfilingComponent\n[sun.misc.Launcher$AppClassLoader@73d16e93, null, Thread[Test\nworker,5,main], loaded=true]</p>\n<p>[Loaded com....ClassLevelTimeProfilingComponent$exposedMethod from\nfile:/C:/Users/79270/IdeaProjects/kms-trunk/KMS-Manager/build/classes/groovy/test/]</p>\n</blockquote>\n"},{"tags":["java","android","mediametadataretriever"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636986027,"creation_date":1636978814,"answer_id":69974328,"question_id":69973133,"body_markdown":"I cant speak for the native implementations for both, as both of these functions call their respective native functions, however, if you look at the `getFrameAtIndex`, you can see that it:\r\n\r\nHas access to the total `framecount` by reading the `metadata`, and retrieves a frame using an `index`, similar to `Arrays`.\r\n\r\n    int frameCount = Integer.parseInt(extractMetadata(MediaMetadataRetriever.METADATA_KEY_VIDEO_FRAME_COUNT));\r\n\r\n\r\n  `getFrameAtIndex()` calls `getFramesAtIndexInternal()`\r\n\r\n       private @NonNull List&lt;Bitmap&gt; getFramesAtIndexInternal(\r\n                int frameIndex, int numFrames, @Nullable BitmapParams params) {\r\n            if (!&quot;yes&quot;.equals(extractMetadata(MediaMetadataRetriever.METADATA_KEY_HAS_VIDEO))) {\r\n                throw new IllegalStateException(&quot;Does not contain video or image sequences&quot;);\r\n            }\r\n            int frameCount = Integer.parseInt(\r\n                    extractMetadata(MediaMetadataRetriever.METADATA_KEY_VIDEO_FRAME_COUNT));\r\n            if (frameIndex &lt; 0 || numFrames &lt; 1\r\n                    || frameIndex &gt;= frameCount\r\n                    || frameIndex &gt; frameCount - numFrames) {\r\n                throw new IllegalArgumentException(&quot;Invalid frameIndex or numFrames: &quot;\r\n                    + frameIndex + &quot;, &quot; + numFrames);\r\n            }\r\n            return _getFrameAtIndex(frameIndex, numFrames, params);\r\n        }\r\n\r\n\r\n\r\nwhile `getFrameAtTime` is not really index based, but rather seeks/searches until it matches a Frame timestamp with the required time you passed, or the closest one:\r\n\r\n\r\n    public @Nullable Bitmap getFrameAtTime(long timeUs, @Option int option) {\r\n        if (option &lt; OPTION_PREVIOUS_SYNC ||\r\n            option &gt; OPTION_CLOSEST) {\r\n            throw new IllegalArgumentException(&quot;Unsupported option: &quot; + option);\r\n        }\r\n    \r\n        return _getFrameAtTime(timeUs, option, -1 /*dst_width*/, -1 /*dst_height*/, null);\r\n    }\r\n\r\n\r\nhttps://github.com/aosp-mirror/platform_frameworks_base/blob/master/media/java/android/media/MediaMetadataRetriever.java\r\n\r\n","title":"Why getFrameAtIndex faster than getFrameAtTime()","body":"<p>I cant speak for the native implementations for both, as both of these functions call their respective native functions, however, if you look at the <code>getFrameAtIndex</code>, you can see that it:</p>\n<p>Has access to the total <code>framecount</code> by reading the <code>metadata</code>, and retrieves a frame using an <code>index</code>, similar to <code>Arrays</code>.</p>\n<pre><code>int frameCount = Integer.parseInt(extractMetadata(MediaMetadataRetriever.METADATA_KEY_VIDEO_FRAME_COUNT));\n</code></pre>\n<p><code>getFrameAtIndex()</code> calls <code>getFramesAtIndexInternal()</code></p>\n<pre><code>   private @NonNull List&lt;Bitmap&gt; getFramesAtIndexInternal(\n            int frameIndex, int numFrames, @Nullable BitmapParams params) {\n        if (!&quot;yes&quot;.equals(extractMetadata(MediaMetadataRetriever.METADATA_KEY_HAS_VIDEO))) {\n            throw new IllegalStateException(&quot;Does not contain video or image sequences&quot;);\n        }\n        int frameCount = Integer.parseInt(\n                extractMetadata(MediaMetadataRetriever.METADATA_KEY_VIDEO_FRAME_COUNT));\n        if (frameIndex &lt; 0 || numFrames &lt; 1\n                || frameIndex &gt;= frameCount\n                || frameIndex &gt; frameCount - numFrames) {\n            throw new IllegalArgumentException(&quot;Invalid frameIndex or numFrames: &quot;\n                + frameIndex + &quot;, &quot; + numFrames);\n        }\n        return _getFrameAtIndex(frameIndex, numFrames, params);\n    }\n</code></pre>\n<p>while <code>getFrameAtTime</code> is not really index based, but rather seeks/searches until it matches a Frame timestamp with the required time you passed, or the closest one:</p>\n<pre><code>public @Nullable Bitmap getFrameAtTime(long timeUs, @Option int option) {\n    if (option &lt; OPTION_PREVIOUS_SYNC ||\n        option &gt; OPTION_CLOSEST) {\n        throw new IllegalArgumentException(&quot;Unsupported option: &quot; + option);\n    }\n\n    return _getFrameAtTime(timeUs, option, -1 /*dst_width*/, -1 /*dst_height*/, null);\n}\n</code></pre>\n<p><a href=\"https://github.com/aosp-mirror/platform_frameworks_base/blob/master/media/java/android/media/MediaMetadataRetriever.java\" rel=\"nofollow noreferrer\">https://github.com/aosp-mirror/platform_frameworks_base/blob/master/media/java/android/media/MediaMetadataRetriever.java</a></p>\n"}],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636986027,"creation_date":1636973188,"question_id":69973133,"body_markdown":"I&#39;m trying to get all frames (one by one) from a video, right now I&#39;m using this : \r\n\r\n        int framesCount = videoInformation.getFramesCount();\r\n        for (int i = 0; i &lt; framesCount; i++) {\r\n             Bitmap currentFrame = mediaMetadataRetriever.getFrameAtIndex(i);\r\n\r\nFor **5 sec** video, it&#39;s take **13 seconds** to extract all frames (159 frames).\r\n\r\nSince `getFrameAtIndex(i)` requires API 28, I tried to use `getFrameAtTime()`\r\n\r\n\r\n        long timeS = videoInformation.getDuration() / videoInformation.getFps();\r\n        int framesCount = videoInformation.getFramesCount();\r\n        for (int i = 0; i &lt; framesCount; i++) {\r\n              Bitmap currentFrame = (mediaMetadataRetriever.getFrameAtTime(i*timeS*1000, MediaMetadataRetriever.OPTION_CLOSEST_SYNC));\r\n\r\n\r\nFor the same **5 sec** video, it&#39;s take almost **48sec** to get all frames.","title":"Why getFrameAtIndex faster than getFrameAtTime()","body":"<p>I'm trying to get all frames (one by one) from a video, right now I'm using this :</p>\n<pre><code>    int framesCount = videoInformation.getFramesCount();\n    for (int i = 0; i &lt; framesCount; i++) {\n         Bitmap currentFrame = mediaMetadataRetriever.getFrameAtIndex(i);\n</code></pre>\n<p>For <strong>5 sec</strong> video, it's take <strong>13 seconds</strong> to extract all frames (159 frames).</p>\n<p>Since <code>getFrameAtIndex(i)</code> requires API 28, I tried to use <code>getFrameAtTime()</code></p>\n<pre><code>    long timeS = videoInformation.getDuration() / videoInformation.getFps();\n    int framesCount = videoInformation.getFramesCount();\n    for (int i = 0; i &lt; framesCount; i++) {\n          Bitmap currentFrame = (mediaMetadataRetriever.getFrameAtTime(i*timeS*1000, MediaMetadataRetriever.OPTION_CLOSEST_SYNC));\n</code></pre>\n<p>For the same <strong>5 sec</strong> video, it's take almost <strong>48sec</strong> to get all frames.</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":8985379,"reputation":325,"user_id":6699096,"display_name":"某某某"},"score":0,"creation_date":1636970003,"post_id":69945261,"comment_id":123690574,"body_markdown":"because the type-erasure that jackson cont find any type to deserialize, so why not using some type data, and using `readValue(String content, Class&lt;T&gt; valueType)` to deserialize","body":"because the type-erasure that jackson cont find any type to deserialize, so why not using some type data, and using <code>readValue(String content, Class&lt;T&gt; valueType)</code> to deserialize"},{"owner":{"account_id":6907091,"reputation":119,"user_id":5304507,"display_name":"ingmak"},"score":0,"creation_date":1636979962,"post_id":69945261,"comment_id":123694280,"body_markdown":"I am aware of Java&#39;s type erasure. My example is part of a bigger code base where `Root` can be deep inside an object structure, so `mapper.readValue(String, Class)` is not possible","body":"I am aware of Java&#39;s type erasure. My example is part of a bigger code base where <code>Root</code> can be deep inside an object structure, so <code>mapper.readValue(String, Class)</code> is not possible"},{"owner":{"account_id":8985379,"reputation":325,"user_id":6699096,"display_name":"某某某"},"score":0,"creation_date":1637062182,"post_id":69945261,"comment_id":123719556,"body_markdown":"so your probleam is become how to convert `LinkedHashMap` to `Item`, your no  way to config jackson to return `Item` in this example, you can track jackson source code to learn more","body":"so your probleam is become how to convert <code>LinkedHashMap</code> to <code>Item</code>, your no  way to config jackson to return <code>Item</code> in this example, you can track jackson source code to learn more"},{"owner":{"account_id":6907091,"reputation":119,"user_id":5304507,"display_name":"ingmak"},"score":0,"creation_date":1637071620,"post_id":69945261,"comment_id":123723626,"body_markdown":"Okay, I have abandoned this approach by replacing the unbounded wildcards with concrete types. This is easier for me because it works out of the box without further headaches. The original data structures are more complex, the `Item` class contained more generic fields that would be incorrectly deserialized, too","body":"Okay, I have abandoned this approach by replacing the unbounded wildcards with concrete types. This is easier for me because it works out of the box without further headaches. The original data structures are more complex, the <code>Item</code> class contained more generic fields that would be incorrectly deserialized, too"}],"owner":{"account_id":6907091,"reputation":119,"user_id":5304507,"display_name":"ingmak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636985881,"creation_date":1636730821,"question_id":69945261,"body_markdown":"I&#39;m struggling to deserialize a `Collection&lt;Collection&lt;?&gt;&gt;` using Jackson. When deserializing the serialized object Jackson converts them into a `LinkedHashMap` instead of `Item`:\r\n\r\n```java\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class JsonTest {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n\r\n    @Test\r\n    void main() throws JsonProcessingException {\r\n        Set&lt;Integer&gt; firstSet = Set.of(1, 2, 3);\r\n        Set&lt;Item&gt; secondSet = Set.of(new Item(&quot;abc&quot;), new Item(&quot;123&quot;));\r\n        Root root = new Root(List.of(firstSet, secondSet));\r\n\r\n        String json = mapper.writeValueAsString(root);\r\n        System.out.println(json);\r\n\r\n        Root parsed = mapper.readValue(json, Root.class);\r\n        assertEquals(firstSet, parsed.data().get(0));\r\n        assertEquals(secondSet, parsed.data().get(1));\r\n        // the assertion above fails:\r\n        // Expected :[Item[id=abc], Item[id=123]]\r\n        // Actual   :[{id=abc}, {id=123}]\r\n    }\r\n}\r\n\r\nrecord Root(List&lt;Set&lt;?&gt;&gt; data) {}\r\n\r\nrecord Item(String id) {}\r\n```\r\n\r\n```groovy\r\n// build.gradle\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.13.0&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nMy first idea was to replace the `Set&lt;?&gt;` with a custom container class that contains an additional type hint and write a custom deserializer:\r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.core.JsonToken;\r\nimport com.fasterxml.jackson.databind.DeserializationContext;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class JsonTest {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n\r\n    @Test\r\n    void main() throws JsonProcessingException {\r\n        TypedList&lt;Item&gt; secondSet = new TypedList&lt;&gt;(Item.class, List.of());\r\n        Root root = new Root(secondSet);\r\n\r\n        String json = mapper.writeValueAsString(root);\r\n        System.out.println(json);\r\n\r\n        Root parsed = mapper.readValue(json, Root.class);\r\n        assertEquals(secondSet, parsed.data());\r\n    }\r\n}\r\n\r\nclass TypedCollectionDeserializer&lt;T&gt; extends StdDeserializer&lt;TypedList&lt;T&gt;&gt; {\r\n    public TypedCollectionDeserializer() {\r\n        super(TypedList.class);\r\n    }\r\n\r\n    @Override\r\n    public TypedList&lt;T&gt; deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n        Class&lt;T&gt; valueType = getTypeClass(p);\r\n        String dataKey = p.nextFieldName();\r\n        if (!dataKey.equals(&quot;data&quot;)) {\r\n            throw new IllegalStateException();\r\n        }\r\n        List&lt;T&gt; list = deserializeData(p, valueType);\r\n        // skip END_ARRAY\r\n        p.nextToken();\r\n        return new TypedList&lt;&gt;(valueType, list);\r\n    }\r\n\r\n    private Class&lt;T&gt; getTypeClass(JsonParser p) throws IOException {\r\n        String typeKey = p.nextFieldName();\r\n        if (!typeKey.equals(&quot;type&quot;)) {\r\n            throw new IllegalStateException();\r\n        }\r\n        String typeValue = p.nextTextValue();\r\n        try {\r\n            return (Class&lt;T&gt;) Class.forName(typeValue);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new IllegalStateException(&quot;unexpected type &quot; + typeValue, e);\r\n        }\r\n    }\r\n\r\n    private List&lt;T&gt; deserializeData(JsonParser p, Class&lt;T&gt; valueType) throws IOException {\r\n        List&lt;T&gt; list = new ArrayList&lt;&gt;();\r\n        JsonToken jsonToken = p.nextToken();\r\n        if (jsonToken != JsonToken.START_ARRAY) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        JsonToken maybeStart = p.nextToken();\r\n        if (maybeStart == JsonToken.START_OBJECT) {\r\n            do {\r\n                T t = p.readValueAs(valueType);\r\n                if (t != null) {\r\n                    list.add(t);\r\n                }\r\n            } while (p.nextToken() == JsonToken.START_OBJECT);\r\n        }\r\n        return list;\r\n    }\r\n}\r\n\r\nrecord Root(@JsonDeserialize(using = TypedCollectionDeserializer.class) TypedList&lt;?&gt; data) {}\r\n\r\nrecord Item(String id) {}\r\n\r\n@JsonPropertyOrder({&quot;type&quot;, &quot;data&quot;})\r\nrecord TypedList&lt;T&gt;(Class&lt;T&gt; type, List&lt;T&gt; data) {}\r\n```\r\n\r\nBut this looks like I&#39;m re-doing Jackson&#39;s own code to deserialize `Collection`s. Is there perhaps a more idiomatic way?","title":"Writing a custom Deserializer for homogenuous Collections with unbounded generics","body":"<p>I'm struggling to deserialize a <code>Collection&lt;Collection&lt;?&gt;&gt;</code> using Jackson. When deserializing the serialized object Jackson converts them into a <code>LinkedHashMap</code> instead of <code>Item</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.junit.jupiter.api.Test;\n\nimport java.util.List;\nimport java.util.Set;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class JsonTest {\n    ObjectMapper mapper = new ObjectMapper();\n\n    @Test\n    void main() throws JsonProcessingException {\n        Set&lt;Integer&gt; firstSet = Set.of(1, 2, 3);\n        Set&lt;Item&gt; secondSet = Set.of(new Item(&quot;abc&quot;), new Item(&quot;123&quot;));\n        Root root = new Root(List.of(firstSet, secondSet));\n\n        String json = mapper.writeValueAsString(root);\n        System.out.println(json);\n\n        Root parsed = mapper.readValue(json, Root.class);\n        assertEquals(firstSet, parsed.data().get(0));\n        assertEquals(secondSet, parsed.data().get(1));\n        // the assertion above fails:\n        // Expected :[Item[id=abc], Item[id=123]]\n        // Actual   :[{id=abc}, {id=123}]\n    }\n}\n\nrecord Root(List&lt;Set&lt;?&gt;&gt; data) {}\n\nrecord Item(String id) {}\n</code></pre>\n<pre><code>// build.gradle\nplugins {\n    id 'java'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.13.0'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>My first idea was to replace the <code>Set&lt;?&gt;</code> with a custom container class that contains an additional type hint and write a custom deserializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonPropertyOrder;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.JsonToken;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\nimport org.junit.jupiter.api.Test;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class JsonTest {\n    ObjectMapper mapper = new ObjectMapper();\n\n    @Test\n    void main() throws JsonProcessingException {\n        TypedList&lt;Item&gt; secondSet = new TypedList&lt;&gt;(Item.class, List.of());\n        Root root = new Root(secondSet);\n\n        String json = mapper.writeValueAsString(root);\n        System.out.println(json);\n\n        Root parsed = mapper.readValue(json, Root.class);\n        assertEquals(secondSet, parsed.data());\n    }\n}\n\nclass TypedCollectionDeserializer&lt;T&gt; extends StdDeserializer&lt;TypedList&lt;T&gt;&gt; {\n    public TypedCollectionDeserializer() {\n        super(TypedList.class);\n    }\n\n    @Override\n    public TypedList&lt;T&gt; deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        Class&lt;T&gt; valueType = getTypeClass(p);\n        String dataKey = p.nextFieldName();\n        if (!dataKey.equals(&quot;data&quot;)) {\n            throw new IllegalStateException();\n        }\n        List&lt;T&gt; list = deserializeData(p, valueType);\n        // skip END_ARRAY\n        p.nextToken();\n        return new TypedList&lt;&gt;(valueType, list);\n    }\n\n    private Class&lt;T&gt; getTypeClass(JsonParser p) throws IOException {\n        String typeKey = p.nextFieldName();\n        if (!typeKey.equals(&quot;type&quot;)) {\n            throw new IllegalStateException();\n        }\n        String typeValue = p.nextTextValue();\n        try {\n            return (Class&lt;T&gt;) Class.forName(typeValue);\n        } catch (ClassNotFoundException e) {\n            throw new IllegalStateException(&quot;unexpected type &quot; + typeValue, e);\n        }\n    }\n\n    private List&lt;T&gt; deserializeData(JsonParser p, Class&lt;T&gt; valueType) throws IOException {\n        List&lt;T&gt; list = new ArrayList&lt;&gt;();\n        JsonToken jsonToken = p.nextToken();\n        if (jsonToken != JsonToken.START_ARRAY) {\n            throw new IllegalArgumentException();\n        }\n        JsonToken maybeStart = p.nextToken();\n        if (maybeStart == JsonToken.START_OBJECT) {\n            do {\n                T t = p.readValueAs(valueType);\n                if (t != null) {\n                    list.add(t);\n                }\n            } while (p.nextToken() == JsonToken.START_OBJECT);\n        }\n        return list;\n    }\n}\n\nrecord Root(@JsonDeserialize(using = TypedCollectionDeserializer.class) TypedList&lt;?&gt; data) {}\n\nrecord Item(String id) {}\n\n@JsonPropertyOrder({&quot;type&quot;, &quot;data&quot;})\nrecord TypedList&lt;T&gt;(Class&lt;T&gt; type, List&lt;T&gt; data) {}\n</code></pre>\n<p>But this looks like I'm re-doing Jackson's own code to deserialize <code>Collection</code>s. Is there perhaps a more idiomatic way?</p>\n"},{"tags":["java","xslt","sax"],"comments":[{"owner":{"account_id":267767,"reputation":877,"user_id":556135,"accept_rate":70,"display_name":"Jeff"},"score":0,"creation_date":1341333130,"post_id":11314604,"comment_id":14892173,"body_markdown":"Found the problem. I needed to add my Saxon jar to the classpath. I thought it was included with Java.","body":"Found the problem. I needed to add my Saxon jar to the classpath. I thought it was included with Java."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":9,"creation_date":1341345598,"post_id":11314604,"comment_id":14897215,"body_markdown":"As well as having the Saxon JAR on the classpath I would recommend instantiating it explicitly: if your code will only work with Saxon, then use &quot;new net.sf.saxon.TransformerFactoryImpl()&quot; rather than relying on the JAXP classpath search to ensure that it&#39;s definitely Saxon that&#39;s loaded (and to avoid the cost of the classpath search)","body":"As well as having the Saxon JAR on the classpath I would recommend instantiating it explicitly: if your code will only work with Saxon, then use &quot;new net.sf.saxon.TransformerFactoryImpl()&quot; rather than relying on the JAXP classpath search to ensure that it&#39;s definitely Saxon that&#39;s loaded (and to avoid the cost of the classpath search)"}],"answers":[{"tags":[],"owner":{"account_id":99346,"reputation":11646,"user_id":268396,"display_name":"user268396"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341330745,"creation_date":1341330745,"answer_id":11314665,"question_id":11314604,"body_markdown":"You can explicitly construct the required `Source` and `Result` objects to make sure they are Saxon implementations rather than whatever the default ones are.","title":"How to set Saxon as the Xslt processor in Java?","body":"<p>You can explicitly construct the required <code>Source</code> and <code>Result</code> objects to make sure they are Saxon implementations rather than whatever the default ones are.</p>\n"},{"tags":[],"owner":{"account_id":290921,"reputation":59847,"user_id":592746,"display_name":"Wayne"},"down_vote_count":0,"up_vote_count":78,"is_accepted":true,"score":78,"last_activity_date":1636985589,"creation_date":1341701644,"answer_id":11379291,"question_id":11314604,"body_markdown":"There are multiple ways to do this (in order of lookup precedence):\r\n\r\n## Direct Instantiation\r\n\r\nExplicitly instantiate the [Saxon factory][1] (with a nod to Michael&#39;s comment above):\r\n\r\n    TransformerFactory fact = new net.sf.saxon.TransformerFactoryImpl()\r\n\r\n*This approach means that your code is locked into using Saxon at compile time. This can be seen as an advantage (no risk of it running with the wrong processor) or a disadvantage (no opportunity to configure a different processor at execution time - not even Saxon Enterprise Edition).*\r\n\r\nFor Saxon-PE, substitute `com.saxonica.config.ProfessionalTransformerFactory`. For Saxon-EE, substitute `com.saxonica.config.EnterpriseTransformerFactory`.\r\n\r\n## Specify Class Name\r\n\r\nSpecify the factory class when constructing it:\r\n\r\n    TransformerFactory fact = TransformerFactory.newInstance(\r\n            &quot;net.sf.saxon.TransformerFactoryImpl&quot;, null);\r\n\r\nNote: [available as of Java 6][2]. The [Java 5 version][3] does not have this method.\r\n\r\n*This approach allows you to choose the processor at execution time, while still avoiding the costs and risks of a classpath search. For example, your application could provide some configuration mechanism to allow it to run with different Saxon editions by choosing between the various Saxon factory classes.*\r\n\r\n## Use System Property\r\n\r\nSet the `javax.xml.transform.TransformerFactory` system property before creating an instance:\r\n\r\n    System.setProperty(&quot;javax.xml.transform.TransformerFactory&quot;,    \r\n            &quot;net.sf.saxon.TransformerFactoryImpl&quot;);\r\n\r\nOr on the command line (line broken for readability):\r\n\r\n    java -Djavax.xml.transform.TransformerFactory=\r\n            net.sf.saxon.TransformerFactoryImpl YourApp\r\n\r\n*This approach has the disadvantage that system properties affect the whole Java VM. Setting this property to select Saxon could mean that some other module in the application, which you might not even know about, starts using Saxon instead of Xalan, and that module could fail as a result if it uses Xalan-specific XSLT constructs.*\r\n\r\n## Use Properties File\r\n\r\nCreate the following file:\r\n\r\n    JRE/lib/jaxp.properties\r\n\r\nWith the following contents:\r\n\r\n    javax.xml.transform.TransformerFactory=net.sf.saxon.TransformerFactoryImpl\r\n\r\n*This approach has similar consequences to using the system property.*\r\n\r\n## Service Loader\r\n\r\nCreate the following file in any JAR on the CLASSPATH:\r\n\r\n    META-INF/services/javax.xml.transform.TransformerFactory\r\n\r\nWith the following contents:\r\n\r\n    net.sf.saxon.TransformerFactoryImpl\r\n\r\n*This approach has the disadvantage that a small change to the classpath could cause the application to run with a different XSLT engine, perhaps one that the application has never been tested with.* \r\n\r\n## Platform Default\r\n\r\nIf none of the above are done, then the platform default `TransformerFactory` instance will be loaded. A friendly description of this plugability layer can be found [here][4].\r\n\r\n*Note that &#39;platform&#39; here means the Java VM, not the hardware or operating system that it is running on. For all current known Java VMs, the platform default is a version of Xalan (which only supports XSLT 1.0). There is no guarantee that this will always be true of every Java VM in the future.*\r\n\r\nI&#39;d consider this answer an argument against the Java way of doing things.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/javax/xml/transform/sax/SAXTransformerFactory.html?is-external=true\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/javax/xml/transform/TransformerFactory.html#newInstance%28java.lang.String,%20java.lang.ClassLoader%29\r\n  [3]: http://docs.oracle.com/javase/1.5.0/docs/api/javax/xml/transform/TransformerFactory.html\r\n  [4]: http://onjava.com/pub/a/onjava/excerpt/java_xslt_ch5/index.html?page=3#plug_layer","title":"How to set Saxon as the Xslt processor in Java?","body":"<p>There are multiple ways to do this (in order of lookup precedence):</p>\n<h2>Direct Instantiation</h2>\n<p>Explicitly instantiate the <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/xml/transform/sax/SAXTransformerFactory.html?is-external=true\" rel=\"nofollow noreferrer\">Saxon factory</a> (with a nod to Michael's comment above):</p>\n<pre><code>TransformerFactory fact = new net.sf.saxon.TransformerFactoryImpl()\n</code></pre>\n<p><em>This approach means that your code is locked into using Saxon at compile time. This can be seen as an advantage (no risk of it running with the wrong processor) or a disadvantage (no opportunity to configure a different processor at execution time - not even Saxon Enterprise Edition).</em></p>\n<p>For Saxon-PE, substitute <code>com.saxonica.config.ProfessionalTransformerFactory</code>. For Saxon-EE, substitute <code>com.saxonica.config.EnterpriseTransformerFactory</code>.</p>\n<h2>Specify Class Name</h2>\n<p>Specify the factory class when constructing it:</p>\n<pre><code>TransformerFactory fact = TransformerFactory.newInstance(\n        &quot;net.sf.saxon.TransformerFactoryImpl&quot;, null);\n</code></pre>\n<p>Note: <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/xml/transform/TransformerFactory.html#newInstance%28java.lang.String,%20java.lang.ClassLoader%29\" rel=\"nofollow noreferrer\">available as of Java 6</a>. The <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/javax/xml/transform/TransformerFactory.html\" rel=\"nofollow noreferrer\">Java 5 version</a> does not have this method.</p>\n<p><em>This approach allows you to choose the processor at execution time, while still avoiding the costs and risks of a classpath search. For example, your application could provide some configuration mechanism to allow it to run with different Saxon editions by choosing between the various Saxon factory classes.</em></p>\n<h2>Use System Property</h2>\n<p>Set the <code>javax.xml.transform.TransformerFactory</code> system property before creating an instance:</p>\n<pre><code>System.setProperty(&quot;javax.xml.transform.TransformerFactory&quot;,    \n        &quot;net.sf.saxon.TransformerFactoryImpl&quot;);\n</code></pre>\n<p>Or on the command line (line broken for readability):</p>\n<pre><code>java -Djavax.xml.transform.TransformerFactory=\n        net.sf.saxon.TransformerFactoryImpl YourApp\n</code></pre>\n<p><em>This approach has the disadvantage that system properties affect the whole Java VM. Setting this property to select Saxon could mean that some other module in the application, which you might not even know about, starts using Saxon instead of Xalan, and that module could fail as a result if it uses Xalan-specific XSLT constructs.</em></p>\n<h2>Use Properties File</h2>\n<p>Create the following file:</p>\n<pre><code>JRE/lib/jaxp.properties\n</code></pre>\n<p>With the following contents:</p>\n<pre><code>javax.xml.transform.TransformerFactory=net.sf.saxon.TransformerFactoryImpl\n</code></pre>\n<p><em>This approach has similar consequences to using the system property.</em></p>\n<h2>Service Loader</h2>\n<p>Create the following file in any JAR on the CLASSPATH:</p>\n<pre><code>META-INF/services/javax.xml.transform.TransformerFactory\n</code></pre>\n<p>With the following contents:</p>\n<pre><code>net.sf.saxon.TransformerFactoryImpl\n</code></pre>\n<p><em>This approach has the disadvantage that a small change to the classpath could cause the application to run with a different XSLT engine, perhaps one that the application has never been tested with.</em></p>\n<h2>Platform Default</h2>\n<p>If none of the above are done, then the platform default <code>TransformerFactory</code> instance will be loaded. A friendly description of this plugability layer can be found <a href=\"http://onjava.com/pub/a/onjava/excerpt/java_xslt_ch5/index.html?page=3#plug_layer\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><em>Note that 'platform' here means the Java VM, not the hardware or operating system that it is running on. For all current known Java VMs, the platform default is a version of Xalan (which only supports XSLT 1.0). There is no guarantee that this will always be true of every Java VM in the future.</em></p>\n<p>I'd consider this answer an argument against the Java way of doing things.</p>\n"},{"tags":[],"owner":{"account_id":2839888,"reputation":9,"user_id":2439704,"display_name":"Francesco Sblendorio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435141649,"creation_date":1435135543,"answer_id":31021857,"question_id":11314604,"body_markdown":"I wrote a wrapper around Saxon parser in order to make its use simple, and I called it &quot;[EasySaxon][1]&quot;: you can find it [here][1], with some code snippet of samples.\r\n\r\nHope it helps.\r\n\r\nFrancesco\r\n\r\n\r\n  [1]: http://easysaxon.sblendorio.eu","title":"How to set Saxon as the Xslt processor in Java?","body":"<p>I wrote a wrapper around Saxon parser in order to make its use simple, and I called it \"<a href=\"http://easysaxon.sblendorio.eu\" rel=\"nofollow\">EasySaxon</a>\": you can find it <a href=\"http://easysaxon.sblendorio.eu\" rel=\"nofollow\">here</a>, with some code snippet of samples.</p>\n\n<p>Hope it helps.</p>\n\n<p>Francesco</p>\n"}],"owner":{"account_id":267767,"reputation":877,"user_id":556135,"accept_rate":70,"display_name":"Jeff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37423,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":11379291,"answer_count":3,"score":36,"last_activity_date":1636985589,"creation_date":1341330539,"question_id":11314604,"body_markdown":"This is a simple question, but one I cannot find the answer to. I have an XSLT 2.0 stylesheet that I&#39;m trying to process in Java.  It relies on XSL elements from Saxon.\r\n\r\nMy current class works fine with simple XSLT 1.0, but I&#39;m getting errors about unrecognized elements with my 2.0 XSLT built with Saxon.\r\n\r\nI cannot figure out how to tell Java to use Saxon as the processor.  I&#39;m using javax.xml.transform in my class.  Is this a property I can set?  What do I set it to?\r\nThanks!\r\n\r\n**Edited**\r\nI figured out how to set the property to use Saxon, but now I&#39;m getting this error.\r\n\r\n    Provider net.sf.saxon.TransformerFactoryImpl not found\r\n\r\nHow do I include Saxon in my application?","title":"How to set Saxon as the Xslt processor in Java?","body":"<p>This is a simple question, but one I cannot find the answer to. I have an XSLT 2.0 stylesheet that I'm trying to process in Java.  It relies on XSL elements from Saxon.</p>\n\n<p>My current class works fine with simple XSLT 1.0, but I'm getting errors about unrecognized elements with my 2.0 XSLT built with Saxon.</p>\n\n<p>I cannot figure out how to tell Java to use Saxon as the processor.  I'm using javax.xml.transform in my class.  Is this a property I can set?  What do I set it to?\nThanks!</p>\n\n<p><strong>Edited</strong>\nI figured out how to set the property to use Saxon, but now I'm getting this error.</p>\n\n<pre><code>Provider net.sf.saxon.TransformerFactoryImpl not found\n</code></pre>\n\n<p>How do I include Saxon in my application?</p>\n"},{"tags":["java","visual-studio-code","terminal"],"comments":[{"owner":{"account_id":2772818,"reputation":3381,"user_id":2387054,"accept_rate":46,"display_name":"zgc7009"},"score":0,"creation_date":1603197694,"post_id":64445297,"comment_id":113955107,"body_markdown":"Need to set your Java filepath in your vs code config.","body":"Need to set your Java filepath in your vs code config."},{"owner":{"account_id":12332509,"reputation":11,"user_id":11389009,"display_name":"Xtra Slo"},"score":0,"creation_date":1603197863,"post_id":64445297,"comment_id":113955195,"body_markdown":"Do you mean java.home? Because I have also done this. :(","body":"Do you mean java.home? Because I have also done this. :("},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1603198866,"post_id":64445297,"comment_id":113955747,"body_markdown":"Read the following page carefully, then check that you have configured your environment and/or VSCode settings appropriately: https://github.com/redhat-developer/vscode-java/wiki/JDK-Requirements.  And if you set the environment variables after starting VSCode, exit it and restart it.  Environment variable settings are read when an application (e.g. VScode) starts up, and are typically not refreshed.","body":"Read the following page carefully, then check that you have configured your environment and/or VSCode settings appropriately: <a href=\"https://github.com/redhat-developer/vscode-java/wiki/JDK-Requirements\" rel=\"nofollow noreferrer\">github.com/redhat-developer/vscode-java/wiki/JDK-Requirement&zwnj;&#8203;s</a>.  And if you set the environment variables after starting VSCode, exit it and restart it.  Environment variable settings are read when an application (e.g. VScode) starts up, and are typically not refreshed."},{"owner":{"account_id":12332509,"reputation":11,"user_id":11389009,"display_name":"Xtra Slo"},"score":0,"creation_date":1603203565,"post_id":64445297,"comment_id":113958437,"body_markdown":"Whilst kind of annoying, reinstalling VSCode fixed my issues...no idea why. Thanks for your help anyway!","body":"Whilst kind of annoying, reinstalling VSCode fixed my issues...no idea why. Thanks for your help anyway!"}],"answers":[{"tags":[],"owner":{"account_id":22273625,"reputation":46,"user_id":16503176,"display_name":"Mehdi Ahangar Kiasari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636985513,"creation_date":1636985513,"answer_id":69975757,"question_id":64445297,"body_markdown":"I had the same problem. I share my experience it may work for you. \r\n\r\n1- Firstly, you can install java package extension for VS Code, you can search it easily, find it in the extension in VS Code, and choose one of them to install.  \r\n\r\n2- Another tricky thing happened for me is that, if you use terminals in VS Code, after changing environmental variables  or installing new extension, it&#39;s better to restart the computer, then open the VS Code, kill the current terminal tab and open a new one and try the `java -version` command again.\r\n\r\nRegards","title":"VSCode &#39;java&#39; is not recognized as an internal or external command, operable program or batch file","body":"<p>I had the same problem. I share my experience it may work for you.</p>\n<p>1- Firstly, you can install java package extension for VS Code, you can search it easily, find it in the extension in VS Code, and choose one of them to install.</p>\n<p>2- Another tricky thing happened for me is that, if you use terminals in VS Code, after changing environmental variables  or installing new extension, it's better to restart the computer, then open the VS Code, kill the current terminal tab and open a new one and try the <code>java -version</code> command again.</p>\n<p>Regards</p>\n"}],"owner":{"account_id":12332509,"reputation":11,"user_id":11389009,"display_name":"Xtra Slo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4879,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636985513,"creation_date":1603197312,"question_id":64445297,"body_markdown":"As the title says, I get the following error when I try to run Java commands in the VSCode terminal:\r\n\r\n&#39;java&#39; is not recognized as an internal or external command, operable program or batch file.\r\n\r\nHowever, I am able to run these commands in my normal windows CMD, so I don&#39;t understand why it doesn&#39;t work in VSCode.\r\n\r\nI have added the java bin path to the PATH environment variable.\r\n\r\nThanks in advance! :)","title":"VSCode &#39;java&#39; is not recognized as an internal or external command, operable program or batch file","body":"<p>As the title says, I get the following error when I try to run Java commands in the VSCode terminal:</p>\n<p>'java' is not recognized as an internal or external command, operable program or batch file.</p>\n<p>However, I am able to run these commands in my normal windows CMD, so I don't understand why it doesn't work in VSCode.</p>\n<p>I have added the java bin path to the PATH environment variable.</p>\n<p>Thanks in advance! :)</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636985248,"creation_date":1636985248,"answer_id":69975694,"question_id":69973361,"body_markdown":"**You can&#39;t.**\r\n\r\nYou are returning `Model2`, which has no Information about `lastDate`, so how would `JPA` know?\r\n\r\nYou can not add it to you `SELECT` statement either because the return Entity is of type `Model2` which again does not understand `lastDate`.\r\n\r\n\r\nYour Model2 needs to understand `lastDate` in order to be able to sort/page by it.\r\n\r\n\r\nIn JPA, in order to be able to sort by a specific field, this field must be part of the returned entity in the select statement. You can&#39;t sort with a property that is not returned\r\n","title":"Sort query using Pageable with fields that is not in Select clause","body":"<p><strong>You can't.</strong></p>\n<p>You are returning <code>Model2</code>, which has no Information about <code>lastDate</code>, so how would <code>JPA</code> know?</p>\n<p>You can not add it to you <code>SELECT</code> statement either because the return Entity is of type <code>Model2</code> which again does not understand <code>lastDate</code>.</p>\n<p>Your Model2 needs to understand <code>lastDate</code> in order to be able to sort/page by it.</p>\n<p>In JPA, in order to be able to sort by a specific field, this field must be part of the returned entity in the select statement. You can't sort with a property that is not returned</p>\n"}],"owner":{"account_id":17566901,"reputation":423,"user_id":12743506,"display_name":"john2994"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69975694,"answer_count":1,"score":0,"last_activity_date":1636985248,"creation_date":1636974253,"question_id":69973361,"body_markdown":"So i have this code in my repository (Example):\r\n\r\n    @Query(&quot;SELECT distinct s FROM Model1 ss LEFT JOIN ss.model2 s &quot;\r\n    Page&lt;Model2&gt; methodName(long customerId, Pageable pageable);\r\n\r\nIn **Model1** i have a field  **LocalDate lastDate**.\r\nThe code is executing ok if i am sorting by fields from **Model2** (by using Pageable)\r\nbut if i need to sort by model1 fields (for example by **lastDate**) i am getting error &quot;could not resolve property&quot;. If i am adding this field in &quot;Select&quot; i am also getting error &quot;cannot be cast to class Model2&quot;. What can i do for it? I dont want to add &quot;Order by&quot; clause and also i dont want to add this field &quot;lastDate&quot; to Model1 just. Is there other ways to solve this problem?\r\n\r\nP.S \r\nThe pageable object is specified using the following method signature:\r\n\r\n    public PageRequest(int page, int size, Direction direction, String... properties)","title":"Sort query using Pageable with fields that is not in Select clause","body":"<p>So i have this code in my repository (Example):</p>\n<pre><code>@Query(&quot;SELECT distinct s FROM Model1 ss LEFT JOIN ss.model2 s &quot;\nPage&lt;Model2&gt; methodName(long customerId, Pageable pageable);\n</code></pre>\n<p>In <strong>Model1</strong> i have a field  <strong>LocalDate lastDate</strong>.\nThe code is executing ok if i am sorting by fields from <strong>Model2</strong> (by using Pageable)\nbut if i need to sort by model1 fields (for example by <strong>lastDate</strong>) i am getting error &quot;could not resolve property&quot;. If i am adding this field in &quot;Select&quot; i am also getting error &quot;cannot be cast to class Model2&quot;. What can i do for it? I dont want to add &quot;Order by&quot; clause and also i dont want to add this field &quot;lastDate&quot; to Model1 just. Is there other ways to solve this problem?</p>\n<p>P.S\nThe pageable object is specified using the following method signature:</p>\n<pre><code>public PageRequest(int page, int size, Direction direction, String... properties)\n</code></pre>\n"},{"tags":["java","swing","opengl","awt","jogl"],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635963408,"creation_date":1635963408,"answer_id":69829869,"question_id":69829677,"body_markdown":"Found this: https://forum.jogamp.org/Crash-in-WindowsAWTWGLGraphicsConfigurationFactory-td4040703.html\r\n\r\n&gt; &gt; Source from\r\n&gt; https://github.com/JogAmp/jogl/blob/master/src/jogl/classes/jogamp/opengl/windows/wgl/awt/WindowsAWTWGLGraphicsConfigurationFactory.java\r\n&gt;\r\n&gt; Sourcecode:\r\n&gt; 170:               if( 0 &gt; gcIdx ) {\r\n&gt; 171:                    chosenGC = configs[gcIdx];\r\n&gt;Using a negative index on an\r\n&gt;  array will always crash.\r\n\r\nLooks like you are also using a negative index.\r\n\r\n\r\n","title":"Index out of bound exception trying to create a window with Swing and JOGL","body":"<p>Found this: <a href=\"https://forum.jogamp.org/Crash-in-WindowsAWTWGLGraphicsConfigurationFactory-td4040703.html\" rel=\"nofollow noreferrer\">https://forum.jogamp.org/Crash-in-WindowsAWTWGLGraphicsConfigurationFactory-td4040703.html</a></p>\n<blockquote>\n<blockquote>\n<p>Source from\n<a href=\"https://github.com/JogAmp/jogl/blob/master/src/jogl/classes/jogamp/opengl/windows/wgl/awt/WindowsAWTWGLGraphicsConfigurationFactory.java\" rel=\"nofollow noreferrer\">https://github.com/JogAmp/jogl/blob/master/src/jogl/classes/jogamp/opengl/windows/wgl/awt/WindowsAWTWGLGraphicsConfigurationFactory.java</a></p>\n</blockquote>\n<p>Sourcecode:\n170:               if( 0 &gt; gcIdx ) {\n171:                    chosenGC = configs[gcIdx];\nUsing a negative index on an\narray will always crash.</p>\n</blockquote>\n<p>Looks like you are also using a negative index.</p>\n"},{"tags":[],"owner":{"account_id":20600697,"reputation":21,"user_id":15122035,"display_name":"McHulotte"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636985198,"creation_date":1635967848,"answer_id":69830740,"question_id":69829677,"body_markdown":"Finally I found the solution. I changed my OpenJDK version to 11. And it just worked and I don&#39;t know why. I don&#39;t know at which exact version the error appears, versions prior to 11 seems to work.\r\n\r\n**Edit**\r\nIt is supposedly fixed in the latest release of JOGL, so you might want to update the .jar","title":"Index out of bound exception trying to create a window with Swing and JOGL","body":"<p>Finally I found the solution. I changed my OpenJDK version to 11. And it just worked and I don't know why. I don't know at which exact version the error appears, versions prior to 11 seems to work.</p>\n<p><strong>Edit</strong>\nIt is supposedly fixed in the latest release of JOGL, so you might want to update the .jar</p>\n"}],"owner":{"account_id":20600697,"reputation":21,"user_id":15122035,"display_name":"McHulotte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1415,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69830740,"answer_count":2,"score":0,"last_activity_date":1636985198,"creation_date":1635962456,"question_id":69829677,"body_markdown":"This code is simply supposed to display a window and set its background color:\r\n\r\n```\r\npublic class Code extends JFrame implements GLEventListener {\r\n\r\n    private GLCanvas myCanvas;\r\n\r\n    public Code() {\r\n        setTitle(&quot;Chapter2 - program1&quot;);\r\n        setSize(800, 600);\r\n        setLocation(400, 400);\r\n        myCanvas = new GLCanvas();\r\n        myCanvas.addGLEventListener(this);\r\n        this.add(myCanvas);\r\n        setVisible(true);\r\n    }\r\n\r\n    public void display(GLAutoDrawable drawable)\r\n    {  GL4 gl = (GL4) GLContext.getCurrentGL();\r\n        float[] bkg = { 1.0f, 0.0f, 0.0f, 1.0f };\r\n        FloatBuffer bkgBuffer = Buffers.newDirectFloatBuffer(bkg);\r\n        gl.glClearBufferfv(GL_COLOR, 0, bkgBuffer);\r\n    }\r\n\r\n    public static void main(String[ ] args) {\r\n        new Code();\r\n    }\r\n\r\n    public void init(GLAutoDrawable drawable) { }\r\n    public void reshape(GLAutoDrawable drawable, int x, int y, int width, int height) { }\r\n    public void dispose(GLAutoDrawable drawable) { }\r\n```\r\n\r\n\r\nThe error I get is this one:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 1\r\n\tat jogamp.opengl.windows.wgl.awt.WindowsAWTWGLGraphicsConfigurationFactory.chooseGraphicsConfigurationImpl(WindowsAWTWGLGraphicsConfigurationFactory.java:171)\r\n\tat com.jogamp.nativewindow.GraphicsConfigurationFactory.chooseGraphicsConfiguration(GraphicsConfigurationFactory.java:424)\r\n\tat com.jogamp.opengl.awt.GLCanvas.chooseGraphicsConfiguration(GLCanvas.java:1560)\r\n\tat com.jogamp.opengl.awt.GLCanvas.addNotify(GLCanvas.java:611)\r\n\tat java.desktop/java.awt.Container.addNotify(Container.java:2804)\r\n\tat java.desktop/javax.swing.JComponent.addNotify(JComponent.java:4839)\r\n\tat java.desktop/java.awt.Container.addNotify(Container.java:2804)\r\n\tat java.desktop/javax.swing.JComponent.addNotify(JComponent.java:4839)\r\n\tat java.desktop/java.awt.Container.addNotify(Container.java:2804)\r\n\tat java.desktop/javax.swing.JComponent.addNotify(JComponent.java:4839)\r\n\tat java.desktop/javax.swing.JRootPane.addNotify(JRootPane.java:729)\r\n\tat java.desktop/java.awt.Container.addNotify(Container.java:2804)\r\n\tat java.desktop/java.awt.Window.addNotify(Window.java:791)\r\n\tat java.desktop/java.awt.Frame.addNotify(Frame.java:495)\r\n\tat java.desktop/java.awt.Window.show(Window.java:1053)\r\n\tat java.desktop/java.awt.Component.show(Component.java:1728)\r\n\tat java.desktop/java.awt.Component.setVisible(Component.java:1675)\r\n\tat java.desktop/java.awt.Window.setVisible(Window.java:1036)\r\n\tat Code.&lt;init&gt;(Code.java:19)\r\n\tat Code.main(Code.java:30)\r\n```\r\n\r\nI&#39;m using java 8 and sdk 17.0\r\n\r\n\r\n\r\n\r\n\r\n","title":"Index out of bound exception trying to create a window with Swing and JOGL","body":"<p>This code is simply supposed to display a window and set its background color:</p>\n<pre><code>public class Code extends JFrame implements GLEventListener {\n\n    private GLCanvas myCanvas;\n\n    public Code() {\n        setTitle(&quot;Chapter2 - program1&quot;);\n        setSize(800, 600);\n        setLocation(400, 400);\n        myCanvas = new GLCanvas();\n        myCanvas.addGLEventListener(this);\n        this.add(myCanvas);\n        setVisible(true);\n    }\n\n    public void display(GLAutoDrawable drawable)\n    {  GL4 gl = (GL4) GLContext.getCurrentGL();\n        float[] bkg = { 1.0f, 0.0f, 0.0f, 1.0f };\n        FloatBuffer bkgBuffer = Buffers.newDirectFloatBuffer(bkg);\n        gl.glClearBufferfv(GL_COLOR, 0, bkgBuffer);\n    }\n\n    public static void main(String[ ] args) {\n        new Code();\n    }\n\n    public void init(GLAutoDrawable drawable) { }\n    public void reshape(GLAutoDrawable drawable, int x, int y, int width, int height) { }\n    public void dispose(GLAutoDrawable drawable) { }\n</code></pre>\n<p>The error I get is this one:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 1\n    at jogamp.opengl.windows.wgl.awt.WindowsAWTWGLGraphicsConfigurationFactory.chooseGraphicsConfigurationImpl(WindowsAWTWGLGraphicsConfigurationFactory.java:171)\n    at com.jogamp.nativewindow.GraphicsConfigurationFactory.chooseGraphicsConfiguration(GraphicsConfigurationFactory.java:424)\n    at com.jogamp.opengl.awt.GLCanvas.chooseGraphicsConfiguration(GLCanvas.java:1560)\n    at com.jogamp.opengl.awt.GLCanvas.addNotify(GLCanvas.java:611)\n    at java.desktop/java.awt.Container.addNotify(Container.java:2804)\n    at java.desktop/javax.swing.JComponent.addNotify(JComponent.java:4839)\n    at java.desktop/java.awt.Container.addNotify(Container.java:2804)\n    at java.desktop/javax.swing.JComponent.addNotify(JComponent.java:4839)\n    at java.desktop/java.awt.Container.addNotify(Container.java:2804)\n    at java.desktop/javax.swing.JComponent.addNotify(JComponent.java:4839)\n    at java.desktop/javax.swing.JRootPane.addNotify(JRootPane.java:729)\n    at java.desktop/java.awt.Container.addNotify(Container.java:2804)\n    at java.desktop/java.awt.Window.addNotify(Window.java:791)\n    at java.desktop/java.awt.Frame.addNotify(Frame.java:495)\n    at java.desktop/java.awt.Window.show(Window.java:1053)\n    at java.desktop/java.awt.Component.show(Component.java:1728)\n    at java.desktop/java.awt.Component.setVisible(Component.java:1675)\n    at java.desktop/java.awt.Window.setVisible(Window.java:1036)\n    at Code.&lt;init&gt;(Code.java:19)\n    at Code.main(Code.java:30)\n</code></pre>\n<p>I'm using java 8 and sdk 17.0</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1619417570,"post_id":67257527,"comment_id":118888840,"body_markdown":"In Eclipse click Project / Clean. If you have disabled autobuild, than moreover Project / Build project.","body":"In Eclipse click Project / Clean. If you have disabled autobuild, than moreover Project / Build project."}],"answers":[{"tags":[],"owner":{"account_id":2107517,"reputation":133,"user_id":1873503,"display_name":"DesertPride"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619525718,"creation_date":1619431063,"answer_id":67264516,"question_id":67257527,"body_markdown":"If it has not already worked after what @pburgr has said, then make sure you have added the right JAR e.g. `selenium-java-3.14.0.jar`\r\n\r\nIf you have written `import org.openqa.selenium.WebDriver;` yourself then remove it, write `WebDriver driver = new FirefoxDriver();` and then let eclipse import the correct classes itself. Or you can do Cmd+Shift+O and it will import the right classes automatically. ","title":"The type org.openqa.selenium.WebDriver is not accessible","body":"<p>If it has not already worked after what @pburgr has said, then make sure you have added the right JAR e.g. <code>selenium-java-3.14.0.jar</code></p>\n<p>If you have written <code>import org.openqa.selenium.WebDriver;</code> yourself then remove it, write <code>WebDriver driver = new FirefoxDriver();</code> and then let eclipse import the correct classes itself. Or you can do Cmd+Shift+O and it will import the right classes automatically.</p>\n"},{"tags":[],"owner":{"account_id":19837275,"reputation":11,"user_id":14530677,"display_name":"Mahmoud Nabuwi R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619454146,"creation_date":1619454146,"answer_id":67270284,"question_id":67257527,"body_markdown":"I found the solution : delete the module.java from your project ","title":"The type org.openqa.selenium.WebDriver is not accessible","body":"<p>I found the solution : delete the module.java from your project</p>\n"},{"tags":[],"owner":{"account_id":23343419,"reputation":21,"user_id":17418048,"display_name":"Rajkamal Ann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636985000,"creation_date":1636978561,"answer_id":69974272,"question_id":67257527,"body_markdown":"Delete the **module.java** or **module.info.java** from your project","title":"The type org.openqa.selenium.WebDriver is not accessible","body":"<p>Delete the <strong>module.java</strong> or <strong>module.info.java</strong> from your project</p>\n"}],"owner":{"account_id":19837275,"reputation":11,"user_id":14530677,"display_name":"Mahmoud Nabuwi R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1636985000,"creation_date":1619379526,"question_id":67257527,"body_markdown":"I got an error The type org.openqa.selenium.WebDriver is not accessible after uplaoding JArS files of selenium webdriver usinf eclipse IDE &amp; JAVA . I need your help please ?\r\n\r\n```\r\npackage samplePackage;\r\nimport org.openqa.selenium.WebDriver;\r\n\r\npublic class WebDriverDemo {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tWebDriver;\r\n\r\n\t}\r\n\r\n}\r\n```","title":"The type org.openqa.selenium.WebDriver is not accessible","body":"<p>I got an error The type org.openqa.selenium.WebDriver is not accessible after uplaoding JArS files of selenium webdriver usinf eclipse IDE &amp; JAVA . I need your help please ?</p>\n<pre><code>package samplePackage;\nimport org.openqa.selenium.WebDriver;\n\npublic class WebDriverDemo {\n\n    public static void main(String[] args) {\n        WebDriver;\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","handlebars.js","mustache","openapi-generator"],"comments":[{"owner":{"account_id":9209436,"reputation":3182,"user_id":6843314,"accept_rate":88,"display_name":"dapperdandev"},"score":1,"creation_date":1636998536,"post_id":69967360,"comment_id":123701997,"body_markdown":"Looks like this is a known bug. This PR is a workaround waiting to be merged along with references to two issues regarding the bug https://github.com/OpenAPITools/openapi-generator/pull/9834","body":"Looks like this is a known bug. This PR is a workaround waiting to be merged along with references to two issues regarding the bug <a href=\"https://github.com/OpenAPITools/openapi-generator/pull/9834\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/pull/9834</a>"}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636984607,"creation_date":1636984607,"answer_id":69975556,"question_id":69967360,"body_markdown":"According to this: https://github.com/OpenAPITools/openapi-generator/issues/3100\r\n\r\nCould you try:\r\n\r\n    &quot;ChangePassword&quot;: {\r\n    \t&quot;type&quot;: &quot;object&quot;,\r\n    \t&quot;additionalProperties&quot;: false,\r\n    \t&quot;required&quot;: [\r\n    \t\t&quot;OldPassword&quot;\r\n    \t],\r\n    \t&quot;properties&quot;: {\r\n    \t\t&quot;OldPassword&quot;: {\r\n    \t\t\t&quot;title&quot;: &quot;Current password&quot;,\r\n    \t\t\t&quot;type&quot;: &quot;string&quot;,\r\n    \t\t\t&quot;minLength&quot;: 1\r\n    \t\t}\r\n    \t},\r\n    \t&quot;allOf&quot;: [{\r\n    \t\t&quot;$ref&quot;: &quot;#/components/schemas/ValidatePassword&quot;\r\n    \t}]\r\n    }","title":"OpenAPI Custom Generator - How do I prevent &quot;AllOf&quot; Class Generation in OpenApi","body":"<p>According to this: <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/3100\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/issues/3100</a></p>\n<p>Could you try:</p>\n<pre><code>&quot;ChangePassword&quot;: {\n    &quot;type&quot;: &quot;object&quot;,\n    &quot;additionalProperties&quot;: false,\n    &quot;required&quot;: [\n        &quot;OldPassword&quot;\n    ],\n    &quot;properties&quot;: {\n        &quot;OldPassword&quot;: {\n            &quot;title&quot;: &quot;Current password&quot;,\n            &quot;type&quot;: &quot;string&quot;,\n            &quot;minLength&quot;: 1\n        }\n    },\n    &quot;allOf&quot;: [{\n        &quot;$ref&quot;: &quot;#/components/schemas/ValidatePassword&quot;\n    }]\n}\n</code></pre>\n"}],"owner":{"account_id":9209436,"reputation":3182,"user_id":6843314,"accept_rate":88,"display_name":"dapperdandev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4789,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1636984607,"creation_date":1636925551,"question_id":69967360,"body_markdown":"I&#39;m building a custom generator to generate TypeScript/Angular models for an angular application. For a starting point, I copied the code from https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/TypeScriptAngularClientCodegen.java\r\n\r\nI&#39;m trying to figure out how to prevent the generator from generating &quot;AllOf&quot; and from extending models from &quot;AllOf&quot; models.\r\n\r\nThe generator already generates a model with everything it needs without needing to extend from *AllOf.\r\n\r\nI&#39;ve been able to modify the .java file to prevent it from importing classes that with with &quot;AllOf&quot;, but I can&#39;t find any documentation or examples to restrict extending from classes that end with &quot;AllOf&quot;\r\n\r\nAm I missing something? It seems like there should be a way to tell the generator to just not import or create &quot;AllOf&quot; classes.\r\n\r\n```typescript\r\n// what I get:\r\nimport { ValidatePassword } from &#39;./validate-password.model&#39;;\r\n\r\nexport interface ChangePassword extends ChangePasswordAllOf, ValidatePassword { \r\n    ...\r\n}\r\n\r\n// what I want\r\nimport { ValidatePasswordModel } from &#39;./validate-password.model&#39;;\r\n\r\nexport interface ChangePassword extends ValidatePassword { \r\n    ...\r\n}\r\n```\r\n\r\n---  \r\n\r\nHere&#39;s my `modelGeneric.mustache` template:\r\n```\r\nexport interface {{classname}}{{#allOf}}{{#-first}} extends {{/-first}}{{{.}}}{{^-last}}, {{/-last}}{{/allOf}} { {{&gt;modelGenericAdditionalProperties}}\r\n{{#vars}}\r\n    {{#description}}\r\n    /**\r\n     * {{{.}}}\r\n     */\r\n    {{/description}}\r\n    {{#isReadOnly}}readonly {{/isReadOnly}}{{{name}}}{{^required}}?{{/required}}: {{#isEnum}}{{{datatypeWithEnum}}}{{/isEnum}}{{^isEnum}}{{{dataType}}}{{/isEnum}};\r\n{{/vars}}\r\n}{{&gt;modelGenericEnums}}\r\n```\r\n\r\n\r\nHere&#39;s the relevant schema sample:\r\n```json\r\n...\r\n&quot;ChangePassword&quot;: {\r\n  &quot;allOf&quot;: [\r\n    {\r\n      &quot;$ref&quot;: &quot;#/components/schemas/ValidatePassword&quot;\r\n    },\r\n    {\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      &quot;additionalProperties&quot;: false,\r\n      &quot;required&quot;: [\r\n        &quot;OldPassword&quot;\r\n      ],\r\n      &quot;properties&quot;: {\r\n        &quot;OldPassword&quot;: {\r\n          &quot;title&quot;: &quot;Current password&quot;,\r\n          &quot;type&quot;: &quot;string&quot;,\r\n          &quot;minLength&quot;: 1\r\n        }\r\n      }\r\n    }\r\n  ]\r\n},\r\n...\r\n```","title":"OpenAPI Custom Generator - How do I prevent &quot;AllOf&quot; Class Generation in OpenApi","body":"<p>I'm building a custom generator to generate TypeScript/Angular models for an angular application. For a starting point, I copied the code from <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/TypeScriptAngularClientCodegen.java\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/TypeScriptAngularClientCodegen.java</a></p>\n<p>I'm trying to figure out how to prevent the generator from generating &quot;AllOf&quot; and from extending models from &quot;AllOf&quot; models.</p>\n<p>The generator already generates a model with everything it needs without needing to extend from *AllOf.</p>\n<p>I've been able to modify the .java file to prevent it from importing classes that with with &quot;AllOf&quot;, but I can't find any documentation or examples to restrict extending from classes that end with &quot;AllOf&quot;</p>\n<p>Am I missing something? It seems like there should be a way to tell the generator to just not import or create &quot;AllOf&quot; classes.</p>\n<pre class=\"lang-js prettyprint-override\"><code>// what I get:\nimport { ValidatePassword } from './validate-password.model';\n\nexport interface ChangePassword extends ChangePasswordAllOf, ValidatePassword { \n    ...\n}\n\n// what I want\nimport { ValidatePasswordModel } from './validate-password.model';\n\nexport interface ChangePassword extends ValidatePassword { \n    ...\n}\n</code></pre>\n<hr />\n<p>Here's my <code>modelGeneric.mustache</code> template:</p>\n<pre><code>export interface {{classname}}{{#allOf}}{{#-first}} extends {{/-first}}{{{.}}}{{^-last}}, {{/-last}}{{/allOf}} { {{&gt;modelGenericAdditionalProperties}}\n{{#vars}}\n    {{#description}}\n    /**\n     * {{{.}}}\n     */\n    {{/description}}\n    {{#isReadOnly}}readonly {{/isReadOnly}}{{{name}}}{{^required}}?{{/required}}: {{#isEnum}}{{{datatypeWithEnum}}}{{/isEnum}}{{^isEnum}}{{{dataType}}}{{/isEnum}};\n{{/vars}}\n}{{&gt;modelGenericEnums}}\n</code></pre>\n<p>Here's the relevant schema sample:</p>\n<pre class=\"lang-json prettyprint-override\"><code>...\n&quot;ChangePassword&quot;: {\n  &quot;allOf&quot;: [\n    {\n      &quot;$ref&quot;: &quot;#/components/schemas/ValidatePassword&quot;\n    },\n    {\n      &quot;type&quot;: &quot;object&quot;,\n      &quot;additionalProperties&quot;: false,\n      &quot;required&quot;: [\n        &quot;OldPassword&quot;\n      ],\n      &quot;properties&quot;: {\n        &quot;OldPassword&quot;: {\n          &quot;title&quot;: &quot;Current password&quot;,\n          &quot;type&quot;: &quot;string&quot;,\n          &quot;minLength&quot;: 1\n        }\n      }\n    }\n  ]\n},\n...\n</code></pre>\n"},{"tags":["java","spring-boot","hystrix","netflix-feign","spring-cloud-feign"],"comments":[{"owner":{"account_id":1403129,"reputation":4459,"user_id":1331539,"accept_rate":94,"display_name":"jmhostalet"},"score":0,"creation_date":1506436884,"post_id":46428434,"comment_id":79815966,"body_markdown":"could you share your stack trace ?","body":"could you share your stack trace ?"}],"answers":[{"tags":[],"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1506448310,"creation_date":1506448310,"answer_id":46432892,"question_id":46428434,"body_markdown":"Tag your `CustomerFeignImpl` as a `@Component` or create a `@Bean` out of it. ","title":"Feign Hystrix fallback not working","body":"<p>Tag your <code>CustomerFeignImpl</code> as a <code>@Component</code> or create a <code>@Bean</code> out of it. </p>\n"},{"tags":[],"owner":{"account_id":2295900,"reputation":119,"user_id":2017339,"accept_rate":100,"display_name":"Mahadev Shinde"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1539174842,"creation_date":1539174842,"answer_id":52740398,"question_id":46428434,"body_markdown":"adding @Component and feign.hystrix.enabled=true works fine","title":"Feign Hystrix fallback not working","body":"<p>adding @Component and feign.hystrix.enabled=true works fine</p>\n"},{"tags":[],"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1631051202,"creation_date":1631051202,"answer_id":69094859,"question_id":46428434,"body_markdown":"This works for me with `2020.0.3`:\r\n\r\nIn `application.properties`\r\n\r\n    feign.circuitbreaker.enabled=true\r\n\r\nIn `pom.xml`\r\n\r\n     &lt;spring-cloud.version&gt;2020.0.3&lt;/spring-cloud.version&gt;\r\nand   \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.9.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Feign Hystrix fallback not working","body":"<p>This works for me with <code>2020.0.3</code>:</p>\n<p>In <code>application.properties</code></p>\n<pre><code>feign.circuitbreaker.enabled=true\n</code></pre>\n<p>In <code>pom.xml</code></p>\n<pre><code> &lt;spring-cloud.version&gt;2020.0.3&lt;/spring-cloud.version&gt;\n</code></pre>\n<p>and</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\n    &lt;version&gt;2.2.9.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4012536,"reputation":720,"user_id":3305534,"accept_rate":42,"display_name":"Sriram Sridharan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636984448,"creation_date":1636984448,"answer_id":69975514,"question_id":46428434,"body_markdown":"Thank you, [rostlvan](https://stackoverflow.com/users/10463949/rostivan)!\r\n\r\nI am outlining my implementation below:\r\n\r\nI am using Spring Cloud version `2020.0.4` and the following configuration worked for me:\r\n\r\nin `pom.xml`, I have these dependencies:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.9.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThough I&#39;m not sure if we need to have both `openfeign` and `hystrix` dependencies. Someone can validate that!\r\n\r\nIn my `application.properties` I have `feign.circuitbreaker.enabled=true`\r\n\r\nIn my Main Application class, I have\r\n\r\n    @SpringBootApplication\r\n    @EnableFeignClients\r\n    public class MySpringBootApplication{\r\n\r\n\t   public static void main(String[] args) {\r\n\t\t   SpringApplication.run(MySpringBootApplication.class, args);\r\n\t   }\r\n\r\n     }\r\n\r\nAnd finally, my Feign Client, fallback and fallback factory:\r\n\r\n`UserServiceFeignClient.java`\r\n\r\n    @FeignClient(name = &quot;USER-SERVICE&quot;, fallbackFactory = UserServiceFallbackFactory.class)\r\n    public interface UserServiceFeignClient {\r\n    \t\r\n    \t@GetMapping(&quot;/api/users/{userId}&quot;)\r\n    \tpublic ResponseEntity&lt;User&gt; getUser(@PathVariable String userId);\r\n    }\t\r\n\r\n`UserServiceFeignClientFallback.java`\r\n\r\n\r\n    public class UserServiceFeignClientFallback implements UserServiceFeignClient{\r\n    \t\r\n    \t@Override\r\n    \tpublic ResponseEntity&lt;User&gt; getUser(String userId) {\r\n    \t\treturn ResponseEntity.ok().body(new User());\r\n    \t}\r\n    }\r\n\r\n\r\nAnd, `UserServiceFeignClientFallbackFactory.java`:\r\n\r\n    @Component\r\n    public class UserServiceFallbackFactory implements FallbackFactory&lt;UserServiceFeignClientFallback&gt;{\r\n    \r\n    \t@Override\r\n    \tpublic UserServiceFeignClientFallback create(Throwable cause) {\r\n    \t\treturn new UserServiceFeignClientFallback();\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\nWas facing the problem myself, until I stumbled upon the answer from [@rostlvan](https://stackoverflow.com/users/10463949/rostivan)","title":"Feign Hystrix fallback not working","body":"<p>Thank you, <a href=\"https://stackoverflow.com/users/10463949/rostivan\">rostlvan</a>!</p>\n<p>I am outlining my implementation below:</p>\n<p>I am using Spring Cloud version <code>2020.0.4</code> and the following configuration worked for me:</p>\n<p>in <code>pom.xml</code>, I have these dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\n    &lt;version&gt;2.2.9.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Though I'm not sure if we need to have both <code>openfeign</code> and <code>hystrix</code> dependencies. Someone can validate that!</p>\n<p>In my <code>application.properties</code> I have <code>feign.circuitbreaker.enabled=true</code></p>\n<p>In my Main Application class, I have</p>\n<pre><code>@SpringBootApplication\n@EnableFeignClients\npublic class MySpringBootApplication{\n\n   public static void main(String[] args) {\n       SpringApplication.run(MySpringBootApplication.class, args);\n   }\n\n }\n</code></pre>\n<p>And finally, my Feign Client, fallback and fallback factory:</p>\n<p><code>UserServiceFeignClient.java</code></p>\n<pre><code>@FeignClient(name = &quot;USER-SERVICE&quot;, fallbackFactory = UserServiceFallbackFactory.class)\npublic interface UserServiceFeignClient {\n    \n    @GetMapping(&quot;/api/users/{userId}&quot;)\n    public ResponseEntity&lt;User&gt; getUser(@PathVariable String userId);\n}   \n</code></pre>\n<p><code>UserServiceFeignClientFallback.java</code></p>\n<pre><code>public class UserServiceFeignClientFallback implements UserServiceFeignClient{\n    \n    @Override\n    public ResponseEntity&lt;User&gt; getUser(String userId) {\n        return ResponseEntity.ok().body(new User());\n    }\n}\n</code></pre>\n<p>And, <code>UserServiceFeignClientFallbackFactory.java</code>:</p>\n<pre><code>@Component\npublic class UserServiceFallbackFactory implements FallbackFactory&lt;UserServiceFeignClientFallback&gt;{\n\n    @Override\n    public UserServiceFeignClientFallback create(Throwable cause) {\n        return new UserServiceFeignClientFallback();\n    }\n    \n}\n</code></pre>\n<p>Was facing the problem myself, until I stumbled upon the answer from <a href=\"https://stackoverflow.com/users/10463949/rostivan\">@rostlvan</a></p>\n"}],"owner":{"account_id":1437641,"reputation":4865,"user_id":1358676,"accept_rate":77,"display_name":"codingsplash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6038,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46432892,"answer_count":4,"score":2,"last_activity_date":1636984448,"creation_date":1506434114,"question_id":46428434,"body_markdown":"I have the below FeignClient:\r\n\r\n    @FeignClient(name=&quot;FooMS&quot;,fallback=CustomerFeign.CustomerFeignImpl.class)\r\n    public interface CustomerFeign {\r\n    \r\n    \t@RequestMapping(value=&quot;/bar/{phoneNo}&quot;)\r\n    \tList&lt;Long&gt; getFriends(@PathVariable(&quot;phoneNo&quot;) Long phoneNo);\r\n    \t\r\n    \t\r\n    \tclass CustomerFeignImpl implements CustomerFeign{\r\n    \r\n    \t\t@Override\r\n    \t\tpublic List&lt;Long&gt; getFriends(Long phoneNo) {\r\n    \t\t\treturn new ArrayList&lt;Long&gt;(108);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nWhen the FooMS instance is down, I get a 500 error instead of the fallback being executed. Why is this happening?","title":"Feign Hystrix fallback not working","body":"<p>I have the below FeignClient:</p>\n\n<pre><code>@FeignClient(name=\"FooMS\",fallback=CustomerFeign.CustomerFeignImpl.class)\npublic interface CustomerFeign {\n\n    @RequestMapping(value=\"/bar/{phoneNo}\")\n    List&lt;Long&gt; getFriends(@PathVariable(\"phoneNo\") Long phoneNo);\n\n\n    class CustomerFeignImpl implements CustomerFeign{\n\n        @Override\n        public List&lt;Long&gt; getFriends(Long phoneNo) {\n            return new ArrayList&lt;Long&gt;(108);\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>When the FooMS instance is down, I get a 500 error instead of the fallback being executed. Why is this happening?</p>\n"},{"tags":["java","excel","vba","udp"],"owner":{"account_id":23343074,"reputation":11,"user_id":17417737,"display_name":"Sonam Pashte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636983931,"creation_date":1636978791,"question_id":69974322,"body_markdown":"I am writing VBA code for receiving data over UDP socket where my sender code is in java. \r\nI am able to send data from VBA to java but am unable to receive data from java to VBA. Data that has been sent is also reflect in wireshark but is not able to get received data.\r\nPlease help me with the same. Below is my code. \r\n\r\n```\r\nConst INVALID_SOCKET = -1\r\nConst WSADESCRIPTION_LEN = 256\r\n\r\nEnum AF\r\n  AF_UNSPEC = 0\r\n  AF_INET = 2\r\n  AF_IPX = 6\r\n  AF_APPLETALK = 16\r\n  AF_NETBIOS = 17\r\n  AF_INET6 = 23\r\n  AF_IRDA = 26\r\n  AF_BTH = 32\r\n\r\nEnd Enum\r\n\r\nEnum sock_type\r\n   SOCK_STREAM = 1\r\n   SOCK_DGRAM = 2\r\n   SOCK_RAW = 3\r\n   SOCK_RDM = 4\r\n   SOCK_SEQPACKET = 5\r\nEnd Enum\r\n\r\nEnum Protocol\r\n   IPPROTO_ICMP = 1\r\n   IPPROTO_IGMP = 2\r\n   BTHPROTO_RFCOMM = 3\r\n   IPPROTO_TCP = 6\r\n   IPPROTO_UDP = 17\r\n   IPPROTO_ICMPV6 = 58\r\n   IPPROTO_RM = 113\r\n\r\n\r\nEnd Enum\r\n\r\nType sockaddr\r\n   sa_family As Integer\r\n   sa_data(0 To 13) As Byte\r\nEnd Type\r\n \r\nType sockaddr_in\r\n  sin_family As Integer\r\n   sin_port(0 To 1) As Byte\r\n  sin_addr(0 To 3) As Byte\r\n  sin_zero(0 To 7) As Byte\r\nEnd Type\r\n\r\n\r\n\r\n&#39;typedef UINT_PTR        SOCKET;\r\nType socket\r\n   pointer As Long\r\nEnd Type\r\n\r\n\r\nType LPWSADATA_Type\r\n   wVersion As Integer\r\n   wHighVersion As Integer\r\n   szDescription(0 To WSADESCRIPTION_LEN) As Byte\r\n   szSystemStatus(0 To WSADESCRIPTION_LEN) As Byte\r\n   iMaxSockets As Integer\r\n   iMaxUdpDg As Integer\r\n   lpVendorInfo As Long\r\nEnd Type\r\n\r\n&#39;int errorno = WSAGetLastError()\r\nPublic Declare Function WSAGetLastError Lib &quot;Ws2_32.dll&quot; _\r\n   () As Integer\r\n   \r\nPublic Declare Function WSAStartup Lib &quot;Ws2_32.dll&quot; _\r\n    (ByVal wVersionRequested As Integer, ByRef lpWSAData As LPWSADATA_Type) As Long\r\n\r\n\r\nPublic Declare Function sendto Lib &quot;Ws2_32.dll&quot; _\r\n    (ByVal socket As Long, ByRef Buf() As Byte, _\r\n     ByVal length As Long, ByVal flags As Long, _\r\n     ByRef toaddr As sockaddr_in, tolen As Long) As Long\r\n\r\nPublic Declare Function recvfrom Lib &quot;Ws2_32.dll&quot; _\r\n    (ByVal socket As Long, ByRef Buf As Byte, _\r\n     ByVal length As Long, ByVal flags As Long, _\r\n     ByRef toaddr As sockaddr_in, tolen As Long) As Long\r\n\r\n\r\nPublic Declare Function f_socket Lib &quot;Ws2_32.dll&quot; Alias &quot;socket&quot; _\r\n    (ByVal AF As Long, ByVal stype As Long, ByVal Protocol As Long) As Long\r\n\r\nPublic Declare Function closesocket Lib &quot;Ws2_32.dll&quot; (ByVal socket As Long) As Long\r\n    \r\nPrivate Declare Function recv Lib &quot;Ws2_32.dll&quot; (ByVal socket As Long, ByRef Buf As Byte, ByVal length As Long, ByVal flags As Long) As Long\r\nPublic Declare Sub WSACleanup Lib &quot;Ws2_32.dll&quot; ()\r\nSub main()\r\nDim ConnectSocket As socket\r\n\r\nDim wsaData As LPWSADATA_Type\r\n      \r\nDim iResult As Integer\r\n   iResult = 0\r\n\r\nDim send_sock As sock_type\r\n  send_sock = INVALID_SOCKET\r\n    \r\nDim iFamily As AF\r\n   iFamily = AF_INET\r\n    \r\nDim iType As Integer\r\n   iType = SOCK_DGRAM\r\n   \r\n    \r\nDim iProtocol As Integer\r\n   iProtocol = IPPROTO_UDP\r\n&#39;this is the ip addr and port I want to send to. \r\nDim RecvAddr As sockaddr_in\r\nRecvAddr.sin_family = AF_INET\r\n\r\nRecvAddr.sin_port(1) = 128\r\nRecvAddr.sin_port(0) = 0\r\n\r\nRecvAddr.sin_addr(0) = 224\r\nRecvAddr.sin_addr(1) = 0\r\nRecvAddr.sin_addr(2) = 0\r\nRecvAddr.sin_addr(3) = 3\r\n\r\nDim SendBuf(0 To 3) As Byte\r\nDim BufLen As Integer\r\nDim rLen2 As Long\r\nDim rLen As Long\r\nDim lengthData As String\r\nDim receivedcount As Integer\r\nDim bytesReceived(0 To 3) As Byte\r\nDim stringData As String\r\n\r\nBufLen = 8\r\nSendBuf(0) = 65\r\nSendBuf(1) = 66\r\nSendBuf(2) = 67\r\nSendBuf(3) = 0\r\n&#39;Dim teststring As String\r\n&#39;teststring = &quot;ABC&quot;\r\n&#39;Dim SendBuf() As Byte\r\n&#39;SendBuf = StrConv(teststring, vbUpperCase)\r\n\r\n&#39;BufLen = Len(teststring)\r\n&#39;BufLen = UBound(SendBuf) - LBound(SendBuf)\r\n&#39;teststring needs to contain the data you want to send.\r\n\r\niResult = WSAStartup(&amp;H202, wsaData)\r\nIf iResult &lt;&gt; 0 Then\r\n   MsgBox (&quot;WSAStartup failed: &quot; &amp; iResult)\r\n   Exit Sub\r\nEnd If\r\n\r\n\r\nsend_sock = f_socket(iFamily, iType, iProtocol)\r\n    \r\nIf send_sock = INVALID_SOCKET Then\r\n   Errno = WSAGetLastError()\r\n   MsgBox (&quot;INVALID SOCKET&quot;)\r\n   Exit Sub\r\nEnd If\r\n\r\n&#39;iResult = sendto(send_sock, SendBuf, BufLen, 0, RecvAddr, Len(RecvAddr))\r\n&#39;If iResult = -1 Then\r\n &#39;MsgBox (&quot;sendto failed with error: &quot; &amp; WSAGetLastError())\r\n&#39;Else\r\n &#39;MsgBox (&quot;Sending successfull &quot; &amp; BufLen)\r\n&#39;End If\r\n\r\nMsgBox (&quot;1.receiving.. &quot; &amp; Len(RecvAddr))\r\n&#39;MsgBox (&quot;2.receiving.. &quot; &amp; bytesReceived)\r\n&#39;rLen = recv(send_sock, bytesReceived(0), 3, 0)\r\nrLen = recvfrom(send_sock, bytesReceived(0), 3, 0, RecvAddr, Len(RecvAddr))\r\n&#39;MsgBox &quot;Hi..&quot;\r\nDoEvents\r\nMsgBox &quot;rLen value = &quot; &amp; rLen\r\n        \r\n   receivedcount = receivedcount + 1\r\n    If RetVal &lt;&gt; 0 Then\r\n        &#39;closesocket (send_sock)\r\n        Call WSACleanup\r\n        Exit Sub\r\n        Else\r\n        Debug.Print &quot;closed socket&quot;\r\n         MsgBox &quot;closed socket &quot; &amp; receivedcount\r\n        receivedcount = 0\r\n    End If\r\n   \r\n   stringData = &quot;&quot;\r\n   For i = 0 To rLen - 1\r\n        stringData = stringData &amp; Chr(bytesReceived(i))\r\n    Next i\r\n        MsgBox &quot;stringData value = &quot; &amp; stringData\r\n        \r\n                    \r\niResult = closesocket(send_sock)\r\nIf iResult &lt;&gt; 0 Then\r\n   MsgBox (&quot;closesocket failed with error : &quot; &amp; WSAGetLastError())\r\n   Call WSACleanup\r\nEnd If\r\nEnd Sub\r\n\r\n```\r\n","title":"Unable to receive data in VBA over UDP socket","body":"<p>I am writing VBA code for receiving data over UDP socket where my sender code is in java.\nI am able to send data from VBA to java but am unable to receive data from java to VBA. Data that has been sent is also reflect in wireshark but is not able to get received data.\nPlease help me with the same. Below is my code.</p>\n<pre><code>Const INVALID_SOCKET = -1\nConst WSADESCRIPTION_LEN = 256\n\nEnum AF\n  AF_UNSPEC = 0\n  AF_INET = 2\n  AF_IPX = 6\n  AF_APPLETALK = 16\n  AF_NETBIOS = 17\n  AF_INET6 = 23\n  AF_IRDA = 26\n  AF_BTH = 32\n\nEnd Enum\n\nEnum sock_type\n   SOCK_STREAM = 1\n   SOCK_DGRAM = 2\n   SOCK_RAW = 3\n   SOCK_RDM = 4\n   SOCK_SEQPACKET = 5\nEnd Enum\n\nEnum Protocol\n   IPPROTO_ICMP = 1\n   IPPROTO_IGMP = 2\n   BTHPROTO_RFCOMM = 3\n   IPPROTO_TCP = 6\n   IPPROTO_UDP = 17\n   IPPROTO_ICMPV6 = 58\n   IPPROTO_RM = 113\n\n\nEnd Enum\n\nType sockaddr\n   sa_family As Integer\n   sa_data(0 To 13) As Byte\nEnd Type\n \nType sockaddr_in\n  sin_family As Integer\n   sin_port(0 To 1) As Byte\n  sin_addr(0 To 3) As Byte\n  sin_zero(0 To 7) As Byte\nEnd Type\n\n\n\n'typedef UINT_PTR        SOCKET;\nType socket\n   pointer As Long\nEnd Type\n\n\nType LPWSADATA_Type\n   wVersion As Integer\n   wHighVersion As Integer\n   szDescription(0 To WSADESCRIPTION_LEN) As Byte\n   szSystemStatus(0 To WSADESCRIPTION_LEN) As Byte\n   iMaxSockets As Integer\n   iMaxUdpDg As Integer\n   lpVendorInfo As Long\nEnd Type\n\n'int errorno = WSAGetLastError()\nPublic Declare Function WSAGetLastError Lib &quot;Ws2_32.dll&quot; _\n   () As Integer\n   \nPublic Declare Function WSAStartup Lib &quot;Ws2_32.dll&quot; _\n    (ByVal wVersionRequested As Integer, ByRef lpWSAData As LPWSADATA_Type) As Long\n\n\nPublic Declare Function sendto Lib &quot;Ws2_32.dll&quot; _\n    (ByVal socket As Long, ByRef Buf() As Byte, _\n     ByVal length As Long, ByVal flags As Long, _\n     ByRef toaddr As sockaddr_in, tolen As Long) As Long\n\nPublic Declare Function recvfrom Lib &quot;Ws2_32.dll&quot; _\n    (ByVal socket As Long, ByRef Buf As Byte, _\n     ByVal length As Long, ByVal flags As Long, _\n     ByRef toaddr As sockaddr_in, tolen As Long) As Long\n\n\nPublic Declare Function f_socket Lib &quot;Ws2_32.dll&quot; Alias &quot;socket&quot; _\n    (ByVal AF As Long, ByVal stype As Long, ByVal Protocol As Long) As Long\n\nPublic Declare Function closesocket Lib &quot;Ws2_32.dll&quot; (ByVal socket As Long) As Long\n    \nPrivate Declare Function recv Lib &quot;Ws2_32.dll&quot; (ByVal socket As Long, ByRef Buf As Byte, ByVal length As Long, ByVal flags As Long) As Long\nPublic Declare Sub WSACleanup Lib &quot;Ws2_32.dll&quot; ()\nSub main()\nDim ConnectSocket As socket\n\nDim wsaData As LPWSADATA_Type\n      \nDim iResult As Integer\n   iResult = 0\n\nDim send_sock As sock_type\n  send_sock = INVALID_SOCKET\n    \nDim iFamily As AF\n   iFamily = AF_INET\n    \nDim iType As Integer\n   iType = SOCK_DGRAM\n   \n    \nDim iProtocol As Integer\n   iProtocol = IPPROTO_UDP\n'this is the ip addr and port I want to send to. \nDim RecvAddr As sockaddr_in\nRecvAddr.sin_family = AF_INET\n\nRecvAddr.sin_port(1) = 128\nRecvAddr.sin_port(0) = 0\n\nRecvAddr.sin_addr(0) = 224\nRecvAddr.sin_addr(1) = 0\nRecvAddr.sin_addr(2) = 0\nRecvAddr.sin_addr(3) = 3\n\nDim SendBuf(0 To 3) As Byte\nDim BufLen As Integer\nDim rLen2 As Long\nDim rLen As Long\nDim lengthData As String\nDim receivedcount As Integer\nDim bytesReceived(0 To 3) As Byte\nDim stringData As String\n\nBufLen = 8\nSendBuf(0) = 65\nSendBuf(1) = 66\nSendBuf(2) = 67\nSendBuf(3) = 0\n'Dim teststring As String\n'teststring = &quot;ABC&quot;\n'Dim SendBuf() As Byte\n'SendBuf = StrConv(teststring, vbUpperCase)\n\n'BufLen = Len(teststring)\n'BufLen = UBound(SendBuf) - LBound(SendBuf)\n'teststring needs to contain the data you want to send.\n\niResult = WSAStartup(&amp;H202, wsaData)\nIf iResult &lt;&gt; 0 Then\n   MsgBox (&quot;WSAStartup failed: &quot; &amp; iResult)\n   Exit Sub\nEnd If\n\n\nsend_sock = f_socket(iFamily, iType, iProtocol)\n    \nIf send_sock = INVALID_SOCKET Then\n   Errno = WSAGetLastError()\n   MsgBox (&quot;INVALID SOCKET&quot;)\n   Exit Sub\nEnd If\n\n'iResult = sendto(send_sock, SendBuf, BufLen, 0, RecvAddr, Len(RecvAddr))\n'If iResult = -1 Then\n 'MsgBox (&quot;sendto failed with error: &quot; &amp; WSAGetLastError())\n'Else\n 'MsgBox (&quot;Sending successfull &quot; &amp; BufLen)\n'End If\n\nMsgBox (&quot;1.receiving.. &quot; &amp; Len(RecvAddr))\n'MsgBox (&quot;2.receiving.. &quot; &amp; bytesReceived)\n'rLen = recv(send_sock, bytesReceived(0), 3, 0)\nrLen = recvfrom(send_sock, bytesReceived(0), 3, 0, RecvAddr, Len(RecvAddr))\n'MsgBox &quot;Hi..&quot;\nDoEvents\nMsgBox &quot;rLen value = &quot; &amp; rLen\n        \n   receivedcount = receivedcount + 1\n    If RetVal &lt;&gt; 0 Then\n        'closesocket (send_sock)\n        Call WSACleanup\n        Exit Sub\n        Else\n        Debug.Print &quot;closed socket&quot;\n         MsgBox &quot;closed socket &quot; &amp; receivedcount\n        receivedcount = 0\n    End If\n   \n   stringData = &quot;&quot;\n   For i = 0 To rLen - 1\n        stringData = stringData &amp; Chr(bytesReceived(i))\n    Next i\n        MsgBox &quot;stringData value = &quot; &amp; stringData\n        \n                    \niResult = closesocket(send_sock)\nIf iResult &lt;&gt; 0 Then\n   MsgBox (&quot;closesocket failed with error : &quot; &amp; WSAGetLastError())\n   Call WSACleanup\nEnd If\nEnd Sub\n\n</code></pre>\n"},{"tags":["java","testng"],"answers":[{"tags":[],"owner":{"account_id":74561,"reputation":4982,"user_id":214178,"accept_rate":100,"display_name":"artdanil"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1378605297,"creation_date":1378604211,"answer_id":18679580,"question_id":18679554,"body_markdown":"Usually this information is provided in TestNG report.\r\n\r\nIf you need this time while running test suite, in @AfterMethod use [ITestResult][1] object:\r\n\r\n    @AfterMethod\r\n    public void getRunTime(ITestResult tr) {\r\n        long time = tr.getEndMillis() - tr.getStartMillis();\r\n    }\r\n\r\n---\r\nRelated:\r\n[TestNG Dependency injection][2]\r\n\r\n\r\n  [1]: http://testng.org/javadoc/org/testng/ITestResult.html\r\n  [2]: http://testng.org/doc/documentation-main.html#dependency-injection\r\n","title":"How obtain the time taken for the method to be executed TESTNG","body":"<p>Usually this information is provided in TestNG report.</p>\n\n<p>If you need this time while running test suite, in @AfterMethod use <a href=\"http://testng.org/javadoc/org/testng/ITestResult.html\" rel=\"noreferrer\">ITestResult</a> object:</p>\n\n<pre><code>@AfterMethod\npublic void getRunTime(ITestResult tr) {\n    long time = tr.getEndMillis() - tr.getStartMillis();\n}\n</code></pre>\n\n<hr>\n\n<p>Related:\n<a href=\"http://testng.org/doc/documentation-main.html#dependency-injection\" rel=\"noreferrer\">TestNG Dependency injection</a></p>\n"}],"owner":{"account_id":3125787,"reputation":139,"user_id":2644666,"accept_rate":38,"display_name":"nick wu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6501,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1636983908,"creation_date":1378603916,"question_id":18679554,"body_markdown":"How obtain the time taken for the method to be executed TESTNG?\r\n\r\nSample test:\r\n\r\n    @Test(threadPoolSize = 100, invocationCount = 100)\r\n    public void testA() throws Exception {\r\n    \tSystem.out.println(&quot;hello&quot;);\r\n    }\r\n\r\nIt  will run 100 times. I want to obtain the time taken for the method  testA  for every execution.","title":"How obtain the time taken for the method to be executed TESTNG","body":"<p>How obtain the time taken for the method to be executed TESTNG?</p>\n\n<p>Sample test:</p>\n\n<pre><code>@Test(threadPoolSize = 100, invocationCount = 100)\npublic void testA() throws Exception {\n    System.out.println(\"hello\");\n}\n</code></pre>\n\n<p>It  will run 100 times. I want to obtain the time taken for the method  testA  for every execution.</p>\n"},{"tags":["java","html","jsoup"],"answers":[{"tags":[],"owner":{"account_id":99847,"reputation":15793,"user_id":269483,"display_name":"holygeek"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1523923399,"creation_date":1331170064,"answer_id":9611720,"question_id":9611570,"body_markdown":"Your mistake is in assuming that ``Jsoup.parseBodyFragment()`` knows whether you&#39;re passing it a filename that contains html markup or a string that contains the html markup.\r\n\r\n``Jsoup.parseBodyFragment(input)`` expects that ``input`` is a ``String`` that contains html markup, not a filename.\r\n\r\nTo ask it to parse from a file use the ``Jsoup.parse(File in, String charsetName)`` method instead:\r\n\r\n    File in = new File(input);\r\n    Document doc = Jsoup.parse(in, null);","title":"How do I load a local html file into Jsoup?","body":"<p>Your mistake is in assuming that <code>Jsoup.parseBodyFragment()</code> knows whether you're passing it a filename that contains html markup or a string that contains the html markup.</p>\n\n<p><code>Jsoup.parseBodyFragment(input)</code> expects that <code>input</code> is a <code>String</code> that contains html markup, not a filename.</p>\n\n<p>To ask it to parse from a file use the <code>Jsoup.parse(File in, String charsetName)</code> method instead:</p>\n\n<pre><code>File in = new File(input);\nDocument doc = Jsoup.parse(in, null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19533,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636983892,"creation_date":1636983892,"answer_id":69975377,"question_id":9611570,"body_markdown":"This is for Kotlin users; pretty much like the Java version:\r\n\r\n```kotlin\r\nval file = File(&quot;my-document.html&quot;)\r\nval document = Jsoup.parse(file, &quot;UTF-8&quot;)\r\n```\r\n\r\nHere is the [documentations for this method].\r\n\r\n  [documentations for this method]: https://jsoup.org/cookbook/input/load-document-from-file","title":"How do I load a local html file into Jsoup?","body":"<p>This is for Kotlin users; pretty much like the Java version:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val file = File(&quot;my-document.html&quot;)\nval document = Jsoup.parse(file, &quot;UTF-8&quot;)\n</code></pre>\n<p>Here is the <a href=\"https://jsoup.org/cookbook/input/load-document-from-file\" rel=\"nofollow noreferrer\">documentations for this method</a>.</p>\n"}],"owner":{"account_id":329128,"reputation":295,"user_id":652480,"accept_rate":58,"display_name":"MeMory LEAk99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18267,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":9611720,"answer_count":2,"score":8,"last_activity_date":1636983892,"creation_date":1331168732,"question_id":9611570,"body_markdown":"I can&#39;t seem to load in a local html file, using the Jsoup library. Or at the very least it doesn&#39;t seem to be recognising it. I hardcoded the exact html in the local file (as the var &#39;html&#39;) and when I switch to that instead of a file input the code works perfectly. But the file is read on both occasions.\r\n\r\n\r\n\r\n\r\n    import java.io.File;\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.nodes.Element;\r\n    import org.jsoup.select.Elements;\r\n\r\n\r\n    public class FileHtmlParser{\r\n\r\n\tpublic String input;\r\n\t\r\n\t\r\n\t//constructor\r\n\tpublic FileHtmlParser(String inputFile){input = inputFile;}\r\n\t\r\n\t\r\n\t//methods\r\n\tpublic FileHtmlParser execute(){\r\n\t\t\r\n\t\tFile file = new File(input);\r\n\t\tSystem.out.println(&quot;The file can be read: &quot; + file.canRead());\r\n\t\t\r\n\t\tString html = &quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;First parse&lt;/title&gt;&lt;meta&gt;106&lt;/meta&gt; &lt;meta http-equiv=\\&quot;Content-Type\\&quot; content=\\&quot;text/html; charset=utf-8\\&quot; /&gt;&lt;/head&gt;&quot;\r\n\t\t\t\t  + &quot;&lt;body&gt;&lt;p&gt;Parsed HTML into a doc.&lt;/p&gt;&quot; +\r\n\t\t\t\t  &quot;&quot; +\r\n\t\t\t\t  &quot;&lt;div id=\\&quot;navbar\\&quot;&gt;this is the div&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n\t\t\t\tDocument doc = Jsoup.parseBodyFragment(input);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tElements content = doc.getElementsByTag(&quot;div&quot;);\r\n\t\tif(content.hasText()){System.out.println(&quot;result is &quot; + content.outerHtml());}\r\n\t\telse System.out.println(&quot;nothing!&quot;);\r\n\t\t\r\n\t\t\r\n\t\treturn this;\r\n\t}\r\n\t\r\n    }/*endOfClass*/\r\n\r\n\r\n\r\n**Result when:  \r\nDocument doc = Jsoup.parseBodyFragment(html)**\r\n\r\n    The file can be read: true\r\n    result is &lt;div id=&quot;navbar&quot;&gt;\r\n    this is the div\r\n    &lt;/div&gt;\r\n\r\n\r\n**Result when:  \r\nDocument doc = Jsoup.parseBodyFragment(input)**\r\n\r\n    The file can be read: true\r\n    nothing!\r\n\r\n\r\n\r\n","title":"How do I load a local html file into Jsoup?","body":"<p>I can't seem to load in a local html file, using the Jsoup library. Or at the very least it doesn't seem to be recognising it. I hardcoded the exact html in the local file (as the var 'html') and when I switch to that instead of a file input the code works perfectly. But the file is read on both occasions.</p>\n\n<pre><code>import java.io.File;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\n\n\npublic class FileHtmlParser{\n\npublic String input;\n\n\n//constructor\npublic FileHtmlParser(String inputFile){input = inputFile;}\n\n\n//methods\npublic FileHtmlParser execute(){\n\n    File file = new File(input);\n    System.out.println(\"The file can be read: \" + file.canRead());\n\n    String html = \"&lt;html&gt;&lt;head&gt;&lt;title&gt;First parse&lt;/title&gt;&lt;meta&gt;106&lt;/meta&gt; &lt;meta http-equiv=\\\"Content-Type\\\" content=\\\"text/html; charset=utf-8\\\" /&gt;&lt;/head&gt;\"\n              + \"&lt;body&gt;&lt;p&gt;Parsed HTML into a doc.&lt;/p&gt;\" +\n              \"\" +\n              \"&lt;div id=\\\"navbar\\\"&gt;this is the div&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\";\n            Document doc = Jsoup.parseBodyFragment(input);\n\n\n\n\n    Elements content = doc.getElementsByTag(\"div\");\n    if(content.hasText()){System.out.println(\"result is \" + content.outerHtml());}\n    else System.out.println(\"nothing!\");\n\n\n    return this;\n}\n\n}/*endOfClass*/\n</code></pre>\n\n<p><strong>Result when:<br>\nDocument doc = Jsoup.parseBodyFragment(html)</strong></p>\n\n<pre><code>The file can be read: true\nresult is &lt;div id=\"navbar\"&gt;\nthis is the div\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Result when:<br>\nDocument doc = Jsoup.parseBodyFragment(input)</strong></p>\n\n<pre><code>The file can be read: true\nnothing!\n</code></pre>\n"},{"tags":["java","spring","postgresql","jdbc"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1636814747,"post_id":69955182,"comment_id":123660296,"body_markdown":"@par building a string is **the wrong approach for SQL as it causes the most important kind of security vulnerability in history, do not recommend that** even if it could work here, which it could not. It cannot work here because the string given to the decorator needs to exist at compile time, but the parameter needs to be evaluated at runtime based on what is passed to the function.","body":"@par building a string is <b>the wrong approach for SQL as it causes the most important kind of security vulnerability in history, do not recommend that</b> even if it could work here, which it could not. It cannot work here because the string given to the decorator needs to exist at compile time, but the parameter needs to be evaluated at runtime based on what is passed to the function."},{"owner":{"account_id":120267,"reputation":17409,"user_id":312594,"accept_rate":100,"display_name":"par"},"score":0,"creation_date":1636815027,"post_id":69955182,"comment_id":123660354,"body_markdown":"@KarlKnechtel interested to see the answer then, thanks","body":"@KarlKnechtel interested to see the answer then, thanks"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1636815106,"post_id":69955182,"comment_id":123660375,"body_markdown":"OP: The way you solve this problem is to a) know the terminology for what you are trying to do, and then b) [attempt a bit of research](https://duckduckgo.com/?q=java+postgresql+%40query+parameterized), as is [expected](https://meta.stackoverflow.com/questions/261592/). I was easily able to find you a [related existing Stack Overflow question](https://stackoverflow.com/questions/52771628/jpa-query-for-postgresql) and a [tutorial](https://www.baeldung.com/spring-data-jpa-query).","body":"OP: The way you solve this problem is to a) know the terminology for what you are trying to do, and then b) <a href=\"https://duckduckgo.com/?q=java+postgresql+%40query+parameterized\" rel=\"nofollow noreferrer\">attempt a bit of research</a>, as is <a href=\"https://meta.stackoverflow.com/questions/261592/\">expected</a>. I was easily able to find you a <a href=\"https://stackoverflow.com/questions/52771628/jpa-query-for-postgresql\">related existing Stack Overflow question</a> and a <a href=\"https://www.baeldung.com/spring-data-jpa-query\" rel=\"nofollow noreferrer\">tutorial</a>."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1636815111,"post_id":69955182,"comment_id":123660376,"body_markdown":"With a more specific search, I can find [documentation](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query).","body":"With a more specific search, I can find <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query\" rel=\"nofollow noreferrer\">documentation</a>."}],"answers":[{"tags":[],"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636815605,"creation_date":1636815605,"answer_id":69955451,"question_id":69955182,"body_markdown":"The `@Query` decorator expects different syntax for parameterized queries. Following the example from the [documentation](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query.advanced-like) for interpolating an SQL `LIKE` parameter from the method parameters, try:\r\n\r\n    @Query(value = &quot;SELECT * FROM booktags s WHERE s.tagname LIKE %?1&quot;, nativeQuery = true)\r\n    List&lt;Booktags&gt; findByKeyword(String keyword);\r\n\r\nOr, if you want to use [named parameters](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.named-parameters), the parameter marker is instead `:`:\r\n\r\n    @Query(value = &quot;SELECT * FROM booktags s WHERE s.tagname LIKE %:keyword&quot;, nativeQuery = true)\r\n    List&lt;Booktags&gt; findByKeyword(@Param(&quot;keyword&quot;) String keyword);","title":"How do I make PSQL think &quot;keyword&quot; is a variable when it is sent from Java Repository","body":"<p>The <code>@Query</code> decorator expects different syntax for parameterized queries. Following the example from the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query.advanced-like\" rel=\"nofollow noreferrer\">documentation</a> for interpolating an SQL <code>LIKE</code> parameter from the method parameters, try:</p>\n<pre><code>@Query(value = &quot;SELECT * FROM booktags s WHERE s.tagname LIKE %?1&quot;, nativeQuery = true)\nList&lt;Booktags&gt; findByKeyword(String keyword);\n</code></pre>\n<p>Or, if you want to use <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.named-parameters\" rel=\"nofollow noreferrer\">named parameters</a>, the parameter marker is instead <code>:</code>:</p>\n<pre><code>@Query(value = &quot;SELECT * FROM booktags s WHERE s.tagname LIKE %:keyword&quot;, nativeQuery = true)\nList&lt;Booktags&gt; findByKeyword(@Param(&quot;keyword&quot;) String keyword);\n</code></pre>\n"}],"owner":{"account_id":15282423,"reputation":9,"user_id":11026367,"display_name":"Sim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1636983822,"creation_date":1636813616,"question_id":69955182,"body_markdown":"\r\n\r\n    package com.rev.booktags_sts.repository;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.query.Param;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.rev.booktags_sts.model.Booktags;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Repository\r\n    public interface BooktagsRepository extends JpaRepository&lt;Booktags, Long&gt;{\r\n    \r\n    \r\n        //Custom query\r\n        @Query(value = &quot;SELECT * FROM booktags s where s.tagname like &#39;%keyword%&#39;;&quot;, nativeQuery = true)\r\n        List&lt;Booktags&gt; findByKeyword(@Param(&quot;keyword&quot;) String keyword);\r\n    }\r\n\r\nAs you can see the word &quot;keyword&quot; is between the %s the problem is when a SELECT * is done PSQL thinks that I am asking for the word &quot;keyword&quot; so how do I turn the word &quot;keyword&quot; in the java environment into a variable so PSQL thinks it is whatever I put into the keyword variable","title":"How do I make PSQL think &quot;keyword&quot; is a variable when it is sent from Java Repository","body":"<pre><code>package com.rev.booktags_sts.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Repository;\n\nimport com.rev.booktags_sts.model.Booktags;\n\nimport java.util.List;\n\n@Repository\npublic interface BooktagsRepository extends JpaRepository&lt;Booktags, Long&gt;{\n\n\n    //Custom query\n    @Query(value = &quot;SELECT * FROM booktags s where s.tagname like '%keyword%';&quot;, nativeQuery = true)\n    List&lt;Booktags&gt; findByKeyword(@Param(&quot;keyword&quot;) String keyword);\n}\n</code></pre>\n<p>As you can see the word &quot;keyword&quot; is between the %s the problem is when a SELECT * is done PSQL thinks that I am asking for the word &quot;keyword&quot; so how do I turn the word &quot;keyword&quot; in the java environment into a variable so PSQL thinks it is whatever I put into the keyword variable</p>\n"},{"tags":["java","jackson","objectmapper","jackson-databind"],"comments":[{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":1,"creation_date":1636983563,"post_id":69975221,"comment_id":123695718,"body_markdown":"Have a look at https://github.com/FasterXML/jackson-modules-java8","body":"Have a look at <a href=\"https://github.com/FasterXML/jackson-modules-java8\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-modules-java8</a>"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1636983839,"post_id":69975221,"comment_id":123695840,"body_markdown":"Does this answer your question? [Java 8 LocalDate Jackson format](https://stackoverflow.com/questions/28802544/java-8-localdate-jackson-format)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28802544/java-8-localdate-jackson-format\">Java 8 LocalDate Jackson format</a>"},{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":1,"creation_date":1636984129,"post_id":69975221,"comment_id":123695978,"body_markdown":"You should use default (de)serializers for `Instant`, but if you want to write your own, you should pass `Instant.class` to `Std(De)Serializer`. Otherwise jackson will never call your custom serializer and deserializer","body":"You should use default (de)serializers for <code>Instant</code>, but if you want to write your own, you should pass <code>Instant.class</code> to <code>Std(De)Serializer</code>. Otherwise jackson will never call your custom serializer and deserializer"},{"owner":{"account_id":10869568,"reputation":342,"user_id":7991901,"display_name":"Karunakar Reddy L"},"score":1,"creation_date":1636986007,"post_id":69975221,"comment_id":123696697,"body_markdown":"Serialization and Deserialisation are working fine and the call is going through custom serializer and De-Serializer. only toString on JsonNode is not working.","body":"Serialization and Deserialisation are working fine and the call is going through custom serializer and De-Serializer. only toString on JsonNode is not working."},{"owner":{"account_id":10869568,"reputation":342,"user_id":7991901,"display_name":"Karunakar Reddy L"},"score":0,"creation_date":1636986117,"post_id":69975221,"comment_id":123696748,"body_markdown":"@samabcde that is not solving my problem","body":"@samabcde that is not solving my problem"}],"owner":{"account_id":10869568,"reputation":342,"user_id":7991901,"display_name":"Karunakar Reddy L"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636983759,"creation_date":1636983254,"question_id":69975221,"body_markdown":"after adding a custom serializer for Instant toString is failing on JsonNode.\r\n\r\nI have the below configuration for ObjectMapper.\r\n\r\n  \r\n\r\n     private static final ObjectMapper MAPPER = new ObjectMapper();\r\n        static {\r\n                \r\n                MAPPER.registerModule(new SimpleModule());\r\n                MAPPER.registerModule(new ParameterNamesModule());\r\n                MAPPER.registerModule(new Jdk8Module());\r\n                MAPPER.registerModule(new JavaTimeModule());\r\n                SimpleModule module = new SimpleModule();\r\n                module.addSerializer(Instant.class, new InstantSerializer());\r\n                module.addDeserializer(Instant.class,new InstantDeSerializer());\r\n                MAPPER.registerModule(module);\r\n                MAPPER.setVisibility(MAPPER.getSerializationConfig().getDefaultVisibilityChecker()\r\n                        .withFieldVisibility(ANY)\r\n                        .withGetterVisibility(NONE)\r\n                        .withSetterVisibility(NONE)\r\n                        .withCreatorVisibility(ANY));\r\n                MAPPER.disable(FAIL_ON_EMPTY_BEANS);\r\n                MAPPER.disable(FAIL_ON_UNKNOWN_PROPERTIES);\r\n                MAPPER.disable(WRITE_DATES_AS_TIMESTAMPS);\r\n                MAPPER.setNodeFactory(JsonNodeFactory.withExactBigDecimals(true));\r\n            }\r\n\r\nBelow are Serializer and De-serializer for Instant.\r\n\r\n    public class InstantSerializer extends StdSerializer&lt;Instant&gt; {\r\n    \r\n        public InstantSerializer() {\r\n            this(null);\r\n        }\r\n    \r\n        public InstantSerializer(Class&lt;Instant&gt; t) {\r\n            super(t);\r\n        }\r\n    \r\n        @Override\r\n        public void serialize(\r\n                Instant value, JsonGenerator jgen, SerializerProvider provider)\r\n                throws IOException, JsonProcessingException {\r\n            jgen.writeEmbeddedObject(value);\r\n        }\r\n    }\r\n\r\n    public class InstantDeSerializer extends StdDeserializer&lt;Instant&gt; {\r\n    \r\n        public InstantDeSerializer() {\r\n            this(null);\r\n        }\r\n    \r\n        protected InstantDeSerializer(final Class&lt;?&gt; vc) {\r\n            super(vc);\r\n        }\r\n    \r\n        @Override\r\n        public Instant deserialize(final JsonParser p, final DeserializationContext ctxt) throws IOException, JacksonException {\r\n    \r\n            if (p.currentToken() == JsonToken.VALUE_EMBEDDED_OBJECT) {\r\n                return (Instant) p.getEmbeddedObject();\r\n            }\r\n            else if (p.currentToken() == JsonToken.VALUE_NUMBER_INT) {\r\n                return Instant.ofEpochMilli(p.getLongValue());\r\n            }\r\n            else if (p.currentToken() == JsonToken.VALUE_STRING) {\r\n                return Instant.parse(p.getValueAsString());\r\n            }\r\n    \r\n            throw new RuntimeException();\r\n        }\r\n    }\r\n\r\nI have below class\r\n \r\n\r\n    public  class A{\r\n            private Instant time;\r\n    \r\n            public Instant getTime() {\r\n                return time;\r\n            }\r\n    \r\n            public void setTime(final Instant time) {\r\n                this.time = time;\r\n            }\r\n        }\r\n\r\nbelow is the test\r\n\r\n    @Test\r\n        public void test() {\r\n            A a = new A();\r\n            a.setTime(Instant.now());\r\n            final JsonNode jsonNode = MAPPER.readTree(a);\r\n            System.out.println(jsonNode);\r\n        }\r\n\r\nI get the below exception though JavaTimeModule is registered. could someone help me Thanks in advance\r\n\r\n    Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.Instant` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling\r\n    \tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)\r\n    \tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1276)\r\n    \tat com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)\r\n    \tat com.fasterxml.jackson.databind.SerializerProvider.defaultSerializeValue(SerializerProvider.java:1118)\r\n    \tat com.fasterxml.jackson.databind.node.POJONode.serialize(POJONode.java:115)\r\n    \tat com.fasterxml.jackson.databind.node.ObjectNode.serialize(ObjectNode.java:328)\r\n    \tat com.fasterxml.jackson.databind.ser.std.SerializableSerializer.serialize(SerializableSerializer.java:39)\r\n    \tat com.fasterxml.jackson.databind.ser.std.SerializableSerializer.serialize(SerializableSerializer.java:20)\r\n    \tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480)\r\n    \tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319)\r\n    \tat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1514)\r\n    \tat com.fasterxml.jackson.databind.ObjectWriter._writeValueAndClose(ObjectWriter.java:1215)\r\n    \tat com.fasterxml.jackson.databind.ObjectWriter.writeValueAsString(ObjectWriter.java:1085)\r\n    \tat com.fasterxml.jackson.databind.node.InternalNodeMapper.nodeToString(InternalNodeMapper.java:30)\r\n    \t... 92 more\r\n\r\n\r\n","title":"JsonNode toString() is failing after adding custom serializer for Instant","body":"<p>after adding a custom serializer for Instant toString is failing on JsonNode.</p>\n<p>I have the below configuration for ObjectMapper.</p>\n<pre><code> private static final ObjectMapper MAPPER = new ObjectMapper();\n    static {\n            \n            MAPPER.registerModule(new SimpleModule());\n            MAPPER.registerModule(new ParameterNamesModule());\n            MAPPER.registerModule(new Jdk8Module());\n            MAPPER.registerModule(new JavaTimeModule());\n            SimpleModule module = new SimpleModule();\n            module.addSerializer(Instant.class, new InstantSerializer());\n            module.addDeserializer(Instant.class,new InstantDeSerializer());\n            MAPPER.registerModule(module);\n            MAPPER.setVisibility(MAPPER.getSerializationConfig().getDefaultVisibilityChecker()\n                    .withFieldVisibility(ANY)\n                    .withGetterVisibility(NONE)\n                    .withSetterVisibility(NONE)\n                    .withCreatorVisibility(ANY));\n            MAPPER.disable(FAIL_ON_EMPTY_BEANS);\n            MAPPER.disable(FAIL_ON_UNKNOWN_PROPERTIES);\n            MAPPER.disable(WRITE_DATES_AS_TIMESTAMPS);\n            MAPPER.setNodeFactory(JsonNodeFactory.withExactBigDecimals(true));\n        }\n</code></pre>\n<p>Below are Serializer and De-serializer for Instant.</p>\n<pre><code>public class InstantSerializer extends StdSerializer&lt;Instant&gt; {\n\n    public InstantSerializer() {\n        this(null);\n    }\n\n    public InstantSerializer(Class&lt;Instant&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public void serialize(\n            Instant value, JsonGenerator jgen, SerializerProvider provider)\n            throws IOException, JsonProcessingException {\n        jgen.writeEmbeddedObject(value);\n    }\n}\n\npublic class InstantDeSerializer extends StdDeserializer&lt;Instant&gt; {\n\n    public InstantDeSerializer() {\n        this(null);\n    }\n\n    protected InstantDeSerializer(final Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public Instant deserialize(final JsonParser p, final DeserializationContext ctxt) throws IOException, JacksonException {\n\n        if (p.currentToken() == JsonToken.VALUE_EMBEDDED_OBJECT) {\n            return (Instant) p.getEmbeddedObject();\n        }\n        else if (p.currentToken() == JsonToken.VALUE_NUMBER_INT) {\n            return Instant.ofEpochMilli(p.getLongValue());\n        }\n        else if (p.currentToken() == JsonToken.VALUE_STRING) {\n            return Instant.parse(p.getValueAsString());\n        }\n\n        throw new RuntimeException();\n    }\n}\n</code></pre>\n<p>I have below class</p>\n<pre><code>public  class A{\n        private Instant time;\n\n        public Instant getTime() {\n            return time;\n        }\n\n        public void setTime(final Instant time) {\n            this.time = time;\n        }\n    }\n</code></pre>\n<p>below is the test</p>\n<pre><code>@Test\n    public void test() {\n        A a = new A();\n        a.setTime(Instant.now());\n        final JsonNode jsonNode = MAPPER.readTree(a);\n        System.out.println(jsonNode);\n    }\n</code></pre>\n<p>I get the below exception though JavaTimeModule is registered. could someone help me Thanks in advance</p>\n<pre><code>Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.Instant` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)\n    at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1276)\n    at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)\n    at com.fasterxml.jackson.databind.SerializerProvider.defaultSerializeValue(SerializerProvider.java:1118)\n    at com.fasterxml.jackson.databind.node.POJONode.serialize(POJONode.java:115)\n    at com.fasterxml.jackson.databind.node.ObjectNode.serialize(ObjectNode.java:328)\n    at com.fasterxml.jackson.databind.ser.std.SerializableSerializer.serialize(SerializableSerializer.java:39)\n    at com.fasterxml.jackson.databind.ser.std.SerializableSerializer.serialize(SerializableSerializer.java:20)\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480)\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319)\n    at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1514)\n    at com.fasterxml.jackson.databind.ObjectWriter._writeValueAndClose(ObjectWriter.java:1215)\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValueAsString(ObjectWriter.java:1085)\n    at com.fasterxml.jackson.databind.node.InternalNodeMapper.nodeToString(InternalNodeMapper.java:30)\n    ... 92 more\n</code></pre>\n"},{"tags":["java","spring","postgresql"],"comments":[{"owner":{"account_id":4526749,"reputation":615,"user_id":7854651,"display_name":"massivefermion"},"score":1,"creation_date":1636869536,"post_id":69960641,"comment_id":123669532,"body_markdown":"looks like your db name is `converter` but in the connection string in `application.xml` the db name is `mark_convert`!","body":"looks like your db name is <code>converter</code> but in the connection string in <code>application.xml</code> the db name is <code>mark_convert</code>!"},{"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"score":0,"creation_date":1636869749,"post_id":69960641,"comment_id":123669547,"body_markdown":"It also misleads me. But the developer of this project has disappeared and there is no one to ask. I tried to specify the DB name mark_convert in the connection. The same mistake.","body":"It also misleads me. But the developer of this project has disappeared and there is no one to ask. I tried to specify the DB name mark_convert in the connection. The same mistake."}],"answers":[{"tags":[],"owner":{"account_id":2850161,"reputation":103,"user_id":2447542,"display_name":"GYOTO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636983444,"creation_date":1636983444,"answer_id":69975271,"question_id":69960641,"body_markdown":"Maybe you are not allowed to connect with a password.\r\nConfirm whether the `pg_hba.conf` file has the following content.\r\n\r\n/var/lib/pgsql/data/pg_hba.conf\r\n```\r\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\r\n# IPv4 local connections:\r\nhost    all             all             127.0.0.1/32            md5\r\n```","title":"I can&#39;t connect to the postgresql database","body":"<p>Maybe you are not allowed to connect with a password.\nConfirm whether the <code>pg_hba.conf</code> file has the following content.</p>\n<p>/var/lib/pgsql/data/pg_hba.conf</p>\n<pre><code># TYPE  DATABASE        USER            ADDRESS                 METHOD\n# IPv4 local connections:\nhost    all             all             127.0.0.1/32            md5\n</code></pre>\n"}],"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636983444,"creation_date":1636869351,"question_id":69960641,"body_markdown":"The project is working, in Java and spinning on the server.\r\nI&#39;m trying to connect to the postgresql database and I get this error:\r\n\r\n    FATAL: password authentication failed for user &quot;postgres&quot;\r\nHere are the settings from the file application.xml\r\n\r\n    spring:\r\n      profiles:\r\n        active: @spring.profiles.active@\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: none\r\n      datasource:\r\n        initialization-mode: always\r\n        platform: convert\r\n        driver-class-name: org.postgresql.Driver\r\n        username: postgres\r\n        password: postgres\r\n        url: jdbc:postgresql://localhost:5432/mark_convert\r\n        jdbc-url: jdbc:postgresql://localhost:5432/mark_convert\r\n      liquibase:\r\n        change-log: classpath:db/changelog.xml\r\nHere is the Docker-compose file\r\n\r\n      postgres-converter:\r\n        container_name: postgres-converter\r\n        image: postgres:13.2-alpine\r\n        restart: unless-stopped\r\n        ports:\r\n          - &quot;5435:5432&quot;\r\n        environment:\r\n          - POSTGRES_USER=postgres\r\n          - POSTGRES_DB=converter\r\n          - POSTGRES_PASSWORD=postgres\r\n        volumes:\r\n          - ./postgres_converter_data:/var/lib/postgresql/data\r\nHere are the connection settings\r\n[![enter image description here][1]][1]\r\n\r\nIf someone changed the password in the database, then the Java application would not be able to work with this database?\r\n\r\nI&#39;ll give you another file for liquibase, but it confused me even more, there are completely different names indicated.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        &lt;createTable  tableName=&quot;converter_history&quot; schemaName=&quot;history&quot;&gt;\r\n            &lt;column  name=&quot;id&quot;  type=&quot;BIGINT&quot;  autoIncrement=&quot;true&quot;&gt;\r\n                &lt;constraints  primaryKey=&quot;true&quot;  nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n            &lt;column  name=&quot;type&quot;  type=&quot;varchar(20)&quot;/&gt;\r\n            &lt;column  name=&quot;pic_number&quot;  type=&quot;varchar(4)&quot;/&gt;\r\n            &lt;column  name=&quot;part_number_oem&quot;  type=&quot;varchar(50)&quot;/&gt;\r\n            &lt;column name=&quot;date_added&quot; type=&quot;timestamp&quot; defaultValueComputed=&quot;current_timestamp&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n            &lt;column name=&quot;result&quot; type=&quot;varchar(50)&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n        &lt;/createTable&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/l8yWa.png","title":"I can&#39;t connect to the postgresql database","body":"<p>The project is working, in Java and spinning on the server.\nI'm trying to connect to the postgresql database and I get this error:</p>\n<pre><code>FATAL: password authentication failed for user &quot;postgres&quot;\n</code></pre>\n<p>Here are the settings from the file application.xml</p>\n<pre><code>spring:\n  profiles:\n    active: @spring.profiles.active@\n  jpa:\n    hibernate:\n      ddl-auto: none\n  datasource:\n    initialization-mode: always\n    platform: convert\n    driver-class-name: org.postgresql.Driver\n    username: postgres\n    password: postgres\n    url: jdbc:postgresql://localhost:5432/mark_convert\n    jdbc-url: jdbc:postgresql://localhost:5432/mark_convert\n  liquibase:\n    change-log: classpath:db/changelog.xml\n</code></pre>\n<p>Here is the Docker-compose file</p>\n<pre><code>  postgres-converter:\n    container_name: postgres-converter\n    image: postgres:13.2-alpine\n    restart: unless-stopped\n    ports:\n      - &quot;5435:5432&quot;\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_DB=converter\n      - POSTGRES_PASSWORD=postgres\n    volumes:\n      - ./postgres_converter_data:/var/lib/postgresql/data\n</code></pre>\n<p>Here are the connection settings\n<a href=\"https://i.stack.imgur.com/l8yWa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l8yWa.png\" alt=\"enter image description here\" /></a></p>\n<p>If someone changed the password in the database, then the Java application would not be able to work with this database?</p>\n<p>I'll give you another file for liquibase, but it confused me even more, there are completely different names indicated.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;createTable  tableName=\"converter_history\" schemaName=\"history\"&gt;\n        &lt;column  name=\"id\"  type=\"BIGINT\"  autoIncrement=\"true\"&gt;\n            &lt;constraints  primaryKey=\"true\"  nullable=\"false\"/&gt;\n        &lt;/column&gt;\n        &lt;column  name=\"type\"  type=\"varchar(20)\"/&gt;\n        &lt;column  name=\"pic_number\"  type=\"varchar(4)\"/&gt;\n        &lt;column  name=\"part_number_oem\"  type=\"varchar(50)\"/&gt;\n        &lt;column name=\"date_added\" type=\"timestamp\" defaultValueComputed=\"current_timestamp\"&gt;\n            &lt;constraints nullable=\"false\"/&gt;\n        &lt;/column&gt;\n        &lt;column name=\"result\" type=\"varchar(50)\"&gt;\n            &lt;constraints nullable=\"false\"/&gt;\n        &lt;/column&gt;\n    &lt;/createTable&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1636846949,"post_id":69959145,"comment_id":123667053,"body_markdown":"Hi Jake, don&#39;t forget to add the tag for the language / runtime when you&#39;re posting. This seems to be an assignment; what I&#39;m missing is a question: where are you stuck (this is partially explained) and *why*?","body":"Hi Jake, don&#39;t forget to add the tag for the language / runtime when you&#39;re posting. This seems to be an assignment; what I&#39;m missing is a question: where are you stuck (this is partially explained) and <i>why</i>?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1636983404,"post_id":69959145,"comment_id":123695646,"body_markdown":"Please see [mcve]. Always include a clear problem description. This place is NOT a free tutor service where people review your code to figure that could be wrong or could be improved.","body":"Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Always include a clear problem description. This place is NOT a free tutor service where people review your code to figure that could be wrong or could be improved."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1636983803,"post_id":69959145,"comment_id":123695824,"body_markdown":"Please distill this into a question.  What exactly are you having trouble with?","body":"Please distill this into a question.  What exactly are you having trouble with?"}],"answers":[{"tags":[],"owner":{"account_id":22637801,"reputation":386,"user_id":16814390,"display_name":"Zinedine Benkhider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636982823,"creation_date":1636847409,"answer_id":69959188,"question_id":69959145,"body_markdown":"To print the plant or flower info update printArrayList method. You cannot pass a method that returns void to &quot;System.out.println&quot; as a parameter, you must call the method directly because it returns void.\r\n\r\n    public static void printArrayList(ArrayList&lt;Plant&gt; objList) {\r\n        for (i = 0; i &lt; objList.size(); ++i) {\r\n           objList.get(i).printInfo();\r\n        }\r\n    }","title":"Using the ArrayList&lt;Object&gt; feature to store Array from Method","body":"<p>To print the plant or flower info update printArrayList method. You cannot pass a method that returns void to &quot;System.out.println&quot; as a parameter, you must call the method directly because it returns void.</p>\n<pre><code>public static void printArrayList(ArrayList&lt;Plant&gt; objList) {\n    for (i = 0; i &lt; objList.size(); ++i) {\n       objList.get(i).printInfo();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2366124,"reputation":1815,"user_id":2071775,"display_name":"Sergey Prokofiev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636983442,"creation_date":1636847416,"answer_id":69959191,"question_id":69959145,"body_markdown":"Instead of using `Object` as type of elements in your collection (which is most generic), you have to narrow down range of possible types. Since you have good hierarchy here you can use base class. Replace \r\n\r\n```\r\nArrayList &lt;Object&gt; myGarden = new ArrayList();\r\n```\r\n\r\nwith \r\n\r\n```\r\nList&lt;Plant&gt; myGarden = new ArrayList&lt;&gt;();\r\n```\r\n\r\nAnd you will be able to call `printInfo()` method, because all objects in collection will definitely be at least `Plant` or any subclass of that class which means they all will have `printInfo()` method.\r\n\r\n```\r\npublic static void printArrayList(Collection&lt;Plant&gt; plants) {\r\n    for (Plant p : plants) {\r\n        p.printInfo();  \r\n    }\r\n}\r\n```\r\nOr shorter using Java Stream API\r\n\r\n```\r\nmyGarden.stream().forEach(Plant::printInfo);\r\n```\r\n\r\nHope it helps!\r\n\r\n","title":"Using the ArrayList&lt;Object&gt; feature to store Array from Method","body":"<p>Instead of using <code>Object</code> as type of elements in your collection (which is most generic), you have to narrow down range of possible types. Since you have good hierarchy here you can use base class. Replace</p>\n<pre><code>ArrayList &lt;Object&gt; myGarden = new ArrayList();\n</code></pre>\n<p>with</p>\n<pre><code>List&lt;Plant&gt; myGarden = new ArrayList&lt;&gt;();\n</code></pre>\n<p>And you will be able to call <code>printInfo()</code> method, because all objects in collection will definitely be at least <code>Plant</code> or any subclass of that class which means they all will have <code>printInfo()</code> method.</p>\n<pre><code>public static void printArrayList(Collection&lt;Plant&gt; plants) {\n    for (Plant p : plants) {\n        p.printInfo();  \n    }\n}\n</code></pre>\n<p>Or shorter using Java Stream API</p>\n<pre><code>myGarden.stream().forEach(Plant::printInfo);\n</code></pre>\n<p>Hope it helps!</p>\n"}],"owner":{"account_id":23063915,"reputation":13,"user_id":17178611,"display_name":"Jake"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3672,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1637418707,"accepted_answer_id":69959188,"answer_count":2,"score":0,"last_activity_date":1636983442,"creation_date":1636846830,"question_id":69959145,"body_markdown":"I am about 95% done I believe, the only thing that is stopping me is that I have to print the results from printInfo() into an element. \r\n\r\nThe program is gathering input, and the input is based on whether or not the item is a plant. After the input is entered and the setters are ran, I am suppose to access the \r\nprintInfo() from plant for example, and store it as an element in the myGarden array. \r\n\r\nThen I will call a method that prints the elements of the object array. Those elements will be the information from printInfo() from the plant, and the flower class. \r\n\r\nupdate: I removed casting and simply changed &lt;Object&gt; to &lt;Plant&gt;, Modified the method as well. Remove the print command since it won&#39;t work for what we are trying to do and instead assign myGarden.get(i) to call upon the elements.\r\n\r\n\r\n        package labpackage;\r\n    \r\n    import java.util.Scanner;\r\n    import java.util.ArrayList;\r\n    import java.util.StringTokenizer;\r\n    \r\n    public class PlantArrayListExample  {\r\n    \r\n       // TODO: Define a printArrayList method that prints an ArrayList of plant (or flower) objects \r\n    \r\n    \tpublic static void printArrayList(ArrayList&lt;Plant&gt; myGarden) {\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; myGarden.size(); ++i) {\r\n    \t\t       myGarden.get(i).printInfo();\r\n    \t\t    }\r\n    \t\r\n    \t\r\n            }\r\n       \r\n       public static void main(String[] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          String input;\r\n          \r\n          \r\n          \r\n          \r\n          // TODO: Declare an ArrayList called myGarden that can hold object of type plant\r\n          \r\n          ArrayList&lt;Object&gt; myGarden = new ArrayList&lt;&gt;();\r\n          \r\n       // TODO: Declare variables - plantName, plantCost, colorOfFlowers, isAnnual\r\n          \r\n          String plantName;\r\n          String plantCost;\r\n          String colorOffFlowers;\r\n          boolean isAnnual;\r\n          \r\n          \r\n          \r\n          input = scnr.next();\r\n          while(!input.equals(&quot;-1&quot;)){\r\n             // TODO: Check if input is a plant or flower\r\n        \t  \r\n        \t  if (input.contains(&quot;plant&quot;)) { \r\n        \t\t  \r\n        \t\t  Plant plant = new Plant();\r\n        \t  \r\n        \t\t  plantName = scnr.next();\r\n        \t\t  \r\n        \t\t  plantCost = scnr.next();\r\n        \t\t \r\n        \t\t  plant.setPlantName(plantName);\r\n        \t\t  plant.setPlantCost(plantCost);\r\n        \t\t  System.out.println();\r\n        \t\t  \r\n        \t\t  myGarden.add(plant);\r\n        \t\t  \r\n              // missing code to add print result as an element \t    \t\t\r\n        \t\r\n        \t  }\r\n        \t  \r\n        \t  if (!input.contains(&quot;plant&quot;)) { \r\n        \t\t  \r\n        \t\t  Flower flower = new Flower();\r\n        \t\t  \r\n        \t\t  plantName = scnr.next();\r\n        \t\t  plantCost = scnr.next();\r\n        \t\t  isAnnual = scnr.nextBoolean();\r\n        \t\t  colorOffFlowers = scnr.next();\r\n        \t\t  \r\n        \t\t  \r\n        \t\t  \r\n        \t\t  \r\n        \t\t  flower.setPlantName(plantName);\r\n        \t\t  flower.setPlantCost(plantCost);\r\n        \t\t  flower.setPlantType(isAnnual);\r\n        \t\t  flower.setColorOfFlowers(colorOffFlowers);\r\n        \t\t  System.out.println();\r\n    \r\n        \t\t  // missing code to add print result as an element \r\n        \t\t  myGarden.add(flower);\r\n        \t  }\r\n        \t  \r\n        \t\r\n          \r\n             input = scnr.next();\r\n          }\r\n          \r\n          // TODO: Call the method printArrayList to print myGarden\r\n          \r\n          printArrayList(myGarden);\r\n          \r\n       }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n    \r\n    \r\n    package labpackage;\r\n    \r\n    public class Plant {\r\n    \t   protected String plantName;\r\n    \t   protected String plantCost;\r\n    \r\n    \t   public void setPlantName(String userPlantName) {\r\n    \t      plantName = userPlantName;\r\n    \t   }\r\n    \r\n    \t   public String getPlantName() {\r\n    \t      return plantName;\r\n    \t   }\r\n    \r\n    \t   public void setPlantCost(String userPlantCost) {\r\n    \t      plantCost = userPlantCost;\r\n    \t   }\r\n    \r\n    \t   public String getPlantCost() {\r\n    \t      return plantCost;\r\n    \t   }\r\n    \r\n    \t   public void printInfo() {\r\n    \t      System.out.println(&quot;Plant Information: &quot;);\r\n    \t      System.out.println(&quot;   Plant name: &quot; + plantName);\r\n    \t      System.out.println(&quot;   Cost: &quot; + plantCost);\r\n    \t   }\r\n    \t}\r\n    \r\n    package labpackage;\r\n    \r\n    public class Flower extends Plant {\r\n    \r\n    \t   private boolean isAnnual;\r\n    \t   private String colorOfFlowers;\r\n    \r\n    \t   public void setPlantType(boolean userIsAnnual) {\r\n    \t      isAnnual = userIsAnnual;\r\n    \t   }\r\n    \r\n    \t   public boolean getPlantType(){\r\n    \t      return isAnnual;\r\n    \t   }\r\n    \r\n    \t   public void setColorOfFlowers(String userColorOfFlowers) {\r\n    \t      colorOfFlowers = userColorOfFlowers;\r\n    \t   }\r\n    \r\n    \t   public String getColorOfFlowers(){\r\n    \t      return colorOfFlowers;\r\n    \t   }\r\n    \t   \r\n    \t   @Override\r\n    \t   public void printInfo(){\r\n    \t      System.out.println(&quot;Plant Information: &quot;);\r\n    \t      System.out.println(&quot;   Plant name: &quot; + plantName);\r\n    \t      System.out.println(&quot;   Cost: &quot; + plantCost);\r\n    \t      System.out.println(&quot;   Annual: &quot; + isAnnual);\r\n    \t      System.out.println(&quot;   Color of flowers: &quot; + colorOfFlowers);\r\n    \t   }\r\n    \t}\r\n\r\n\r\n\r\n\r\n","title":"Using the ArrayList&lt;Object&gt; feature to store Array from Method","body":"<p>I am about 95% done I believe, the only thing that is stopping me is that I have to print the results from printInfo() into an element.</p>\n<p>The program is gathering input, and the input is based on whether or not the item is a plant. After the input is entered and the setters are ran, I am suppose to access the\nprintInfo() from plant for example, and store it as an element in the myGarden array.</p>\n<p>Then I will call a method that prints the elements of the object array. Those elements will be the information from printInfo() from the plant, and the flower class.</p>\n<p>update: I removed casting and simply changed  to , Modified the method as well. Remove the print command since it won't work for what we are trying to do and instead assign myGarden.get(i) to call upon the elements.</p>\n<pre><code>    package labpackage;\n\nimport java.util.Scanner;\nimport java.util.ArrayList;\nimport java.util.StringTokenizer;\n\npublic class PlantArrayListExample  {\n\n   // TODO: Define a printArrayList method that prints an ArrayList of plant (or flower) objects \n\n    public static void printArrayList(ArrayList&lt;Plant&gt; myGarden) {\n        \n        \n        \n        \n        for (int i = 0; i &lt; myGarden.size(); ++i) {\n               myGarden.get(i).printInfo();\n            }\n    \n    \n        }\n   \n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      String input;\n      \n      \n      \n      \n      // TODO: Declare an ArrayList called myGarden that can hold object of type plant\n      \n      ArrayList&lt;Object&gt; myGarden = new ArrayList&lt;&gt;();\n      \n   // TODO: Declare variables - plantName, plantCost, colorOfFlowers, isAnnual\n      \n      String plantName;\n      String plantCost;\n      String colorOffFlowers;\n      boolean isAnnual;\n      \n      \n      \n      input = scnr.next();\n      while(!input.equals(&quot;-1&quot;)){\n         // TODO: Check if input is a plant or flower\n          \n          if (input.contains(&quot;plant&quot;)) { \n              \n              Plant plant = new Plant();\n          \n              plantName = scnr.next();\n              \n              plantCost = scnr.next();\n             \n              plant.setPlantName(plantName);\n              plant.setPlantCost(plantCost);\n              System.out.println();\n              \n              myGarden.add(plant);\n              \n          // missing code to add print result as an element                 \n        \n          }\n          \n          if (!input.contains(&quot;plant&quot;)) { \n              \n              Flower flower = new Flower();\n              \n              plantName = scnr.next();\n              plantCost = scnr.next();\n              isAnnual = scnr.nextBoolean();\n              colorOffFlowers = scnr.next();\n              \n              \n              \n              \n              flower.setPlantName(plantName);\n              flower.setPlantCost(plantCost);\n              flower.setPlantType(isAnnual);\n              flower.setColorOfFlowers(colorOffFlowers);\n              System.out.println();\n\n              // missing code to add print result as an element \n              myGarden.add(flower);\n          }\n          \n        \n      \n         input = scnr.next();\n      }\n      \n      // TODO: Call the method printArrayList to print myGarden\n      \n      printArrayList(myGarden);\n      \n   }\n\n\n\n}\n\n\n\npackage labpackage;\n\npublic class Plant {\n       protected String plantName;\n       protected String plantCost;\n\n       public void setPlantName(String userPlantName) {\n          plantName = userPlantName;\n       }\n\n       public String getPlantName() {\n          return plantName;\n       }\n\n       public void setPlantCost(String userPlantCost) {\n          plantCost = userPlantCost;\n       }\n\n       public String getPlantCost() {\n          return plantCost;\n       }\n\n       public void printInfo() {\n          System.out.println(&quot;Plant Information: &quot;);\n          System.out.println(&quot;   Plant name: &quot; + plantName);\n          System.out.println(&quot;   Cost: &quot; + plantCost);\n       }\n    }\n\npackage labpackage;\n\npublic class Flower extends Plant {\n\n       private boolean isAnnual;\n       private String colorOfFlowers;\n\n       public void setPlantType(boolean userIsAnnual) {\n          isAnnual = userIsAnnual;\n       }\n\n       public boolean getPlantType(){\n          return isAnnual;\n       }\n\n       public void setColorOfFlowers(String userColorOfFlowers) {\n          colorOfFlowers = userColorOfFlowers;\n       }\n\n       public String getColorOfFlowers(){\n          return colorOfFlowers;\n       }\n       \n       @Override\n       public void printInfo(){\n          System.out.println(&quot;Plant Information: &quot;);\n          System.out.println(&quot;   Plant name: &quot; + plantName);\n          System.out.println(&quot;   Cost: &quot; + plantCost);\n          System.out.println(&quot;   Annual: &quot; + isAnnual);\n          System.out.println(&quot;   Color of flowers: &quot; + colorOfFlowers);\n       }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":0,"creation_date":1636982698,"post_id":69974990,"comment_id":123695372,"body_markdown":"`if(&quot;end&quot;.equals(input.next())` ?","body":"<code>if(&quot;end&quot;.equals(input.next())</code> ?"},{"owner":{"account_id":14179704,"reputation":601,"user_id":10243797,"display_name":"Sahan Dissanayaka"},"score":1,"creation_date":1636983515,"post_id":69974990,"comment_id":123695695,"body_markdown":"@vincrichaud this is correct. Also, he needs to terminate the loop. so, should include break keyword as well","body":"@vincrichaud this is correct. Also, he needs to terminate the loop. so, should include break keyword as well"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1636983525,"post_id":69974990,"comment_id":123695700,"body_markdown":"Hint: learn about java naming conventions. variable names go camelCase, always. And they should be meaningful and help the human reader. So use names that say what they mean, like: numbersFromUser for example, instead of &quot;Nput&quot;.","body":"Hint: learn about java naming conventions. variable names go camelCase, always. And they should be meaningful and help the human reader. So use names that say what they mean, like: numbersFromUser for example, instead of &quot;Nput&quot;."},{"owner":{"account_id":19237920,"reputation":7,"user_id":17033226,"display_name":"percival"},"score":0,"creation_date":1636988644,"post_id":69974990,"comment_id":123697929,"body_markdown":"Nice ! Thank you guys. I achieved what I want. I passed on this earlier, but I messed up, if not for you  I can&#39;t make it.","body":"Nice ! Thank you guys. I achieved what I want. I passed on this earlier, but I messed up, if not for you  I can&#39;t make it."}],"answers":[{"tags":[],"owner":{"account_id":14179704,"reputation":601,"user_id":10243797,"display_name":"Sahan Dissanayaka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636983336,"creation_date":1636983336,"answer_id":69975243,"question_id":69974990,"body_markdown":"Update the for loop as follows, where you input the strings and check whether the given string is equal to the &quot;end&quot; or whatever your breaking condition is. Then use the transfer keyword **break** to jump from the for loop. \r\n```\r\nfor(int counter = 0; counter &lt; nom; counter ++ ) {\r\n   System.out.print(&quot;Input anything here in line &quot; +(counter+1)+&quot; : &quot;);\r\n   Nput[counter] = input.next();\r\n   if(Nput[counter].equals(&quot;end&quot;)){\r\n       break;\r\n    }\r\n}\r\n```","title":"How to end a sequence by simply typing &quot;end&quot;","body":"<p>Update the for loop as follows, where you input the strings and check whether the given string is equal to the &quot;end&quot; or whatever your breaking condition is. Then use the transfer keyword <strong>break</strong> to jump from the for loop.</p>\n<pre><code>for(int counter = 0; counter &lt; nom; counter ++ ) {\n   System.out.print(&quot;Input anything here in line &quot; +(counter+1)+&quot; : &quot;);\n   Nput[counter] = input.next();\n   if(Nput[counter].equals(&quot;end&quot;)){\n       break;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19237920,"reputation":7,"user_id":17033226,"display_name":"percival"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636983336,"creation_date":1636982154,"question_id":69974990,"body_markdown":"can you help me to solve this one problem in Java. All I want is terminating the program by simply typing &quot;end&quot; when I prompt user to input anything in any number of Lines. I search through google but I can&#39;t do anything to solved this by my own. I&#39;m just a beginner in programming especially writing Java program.\r\n\r\n    int nom;\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Enter a number max. is 10:&quot;);\r\n        nom = input.nextInt();\r\n\r\n        if ( nom &gt; 10){\r\n            System.out.println(&quot;Sorry you exceed the limit of number of lines!&quot;);\r\n            System.exit(0); //\r\n        }\r\n        String[] Nput = new String[nom];\r\n        for(int counter = 0; counter &lt; nom; counter ++ ) {\r\n            System.out.println(&quot;Input anything here in line:&quot; +(counter+1));\r\n            Nput[counter] = input.next();\r\n\r\n        }\r\n        input.close();\r\n        System.out.println(&quot;Number of lines is:&quot; + nom + &quot;\\r\\nYou typed:&quot;);\r\n        for(int counter = 0; counter &lt; nom; counter ++ ) {\r\n            System.out.println(Nput[counter]);","title":"How to end a sequence by simply typing &quot;end&quot;","body":"<p>can you help me to solve this one problem in Java. All I want is terminating the program by simply typing &quot;end&quot; when I prompt user to input anything in any number of Lines. I search through google but I can't do anything to solved this by my own. I'm just a beginner in programming especially writing Java program.</p>\n<pre><code>int nom;\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Enter a number max. is 10:&quot;);\n    nom = input.nextInt();\n\n    if ( nom &gt; 10){\n        System.out.println(&quot;Sorry you exceed the limit of number of lines!&quot;);\n        System.exit(0); //\n    }\n    String[] Nput = new String[nom];\n    for(int counter = 0; counter &lt; nom; counter ++ ) {\n        System.out.println(&quot;Input anything here in line:&quot; +(counter+1));\n        Nput[counter] = input.next();\n\n    }\n    input.close();\n    System.out.println(&quot;Number of lines is:&quot; + nom + &quot;\\r\\nYou typed:&quot;);\n    for(int counter = 0; counter &lt; nom; counter ++ ) {\n        System.out.println(Nput[counter]);\n</code></pre>\n"},{"tags":["java","sorting","comparator"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1636982552,"post_id":69974991,"comment_id":123695306,"body_markdown":"What kind of objects does `list` contain? Does it have anything other than `someClass1` and `someClass2`?","body":"What kind of objects does <code>list</code> contain? Does it have anything other than <code>someClass1</code> and <code>someClass2</code>?"},{"owner":{"account_id":23343881,"reputation":1,"user_id":17418456,"display_name":"HolyFreak2"},"score":0,"creation_date":1636985005,"post_id":69974991,"comment_id":123696324,"body_markdown":"@Sweeper Yes it contains more than just 2 types of objects but only 2 of them matter to me the other ones are &quot;hidden&quot; you could say.","body":"@Sweeper Yes it contains more than just 2 types of objects but only 2 of them matter to me the other ones are &quot;hidden&quot; you could say."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1636992122,"post_id":69974991,"comment_id":123699525,"body_markdown":"What is `RandomObject`?  Where is the `getName()` method defined? How are the `someClass1` and `someClass2` variables defined? Why do you think your &quot;hidden&quot; objects aren&#39;t going to cause a problem?","body":"What is <code>RandomObject</code>?  Where is the <code>getName()</code> method defined? How are the <code>someClass1</code> and <code>someClass2</code> variables defined? Why do you think your &quot;hidden&quot; objects aren&#39;t going to cause a problem?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636983007,"creation_date":1636983007,"answer_id":69975162,"question_id":69974991,"body_markdown":"The &#39;general contract&#39; is this:\r\n\r\n(`a &lt; b` here means: `a.compareTo(b)` returns a negative number).\r\n\r\n* `a.compareTo(a)` _must_ be `0`.\r\n* If `a.compareTo(b)` is 0, `b.compareTo(a)` _must_ also be.&lt;sup&gt;1&lt;/sup&gt;\r\n* If `a &lt; b`, then `b &gt; a` _is required_.\r\n* If `a &lt; b` and `b &lt; c`, then `a &lt; c` _is required_.\r\n\r\nThese rules seem extremely obvious, but it&#39;s harder than you might think.\r\n\r\nYour code returns a blanket `1` when it has no idea, which trivially breaks the contract: It means if your code has no idea for `a` and `b`, then `a.compare(b)` and `b.compareTo(a)` are violating the contract (both returning `1` which is not allowed).\r\n\r\nYou&#39;ve also clearly not followed SO instructions: You have written pseudocode or otherwise edited your actual code __without testing it__, and then pasted that. I know that because your code wouldn&#39;t compile (missing `()` after `o2.getClass`. Given that you have no idea what&#39;s happening (as you&#39;re asking SO questions), you have no idea what&#39;s important and what isn&#39;t, so it&#39;s also possible that the problem lies in what you ended up removing when transferring your actual code into this question.\r\n\r\n[1] It is acceptable for 2 non-equal items to nevertheless be considered &#39;at the same level&#39; by any given comparator/compare-implementation. What this means depends on what you&#39;re passing it to. For example, if you consider &quot;foo&quot; and &quot;bar&quot; as comparison-wise equivalent (`&quot;bar&quot;.compareTo(&quot;foo&quot;)` returns 0, as does the reverse), then only one can be put in a `TreeSet`, but you can put both in a list and then `list.sort()` it, and that merely means they&#39;ll be sorted arbitrarily. However, your comparison op still needs to be consistent: `&quot;foo&quot;` and `&quot;bar&quot;` are not equal but a comparator can deem them &#39;equivalent&#39;, but you __must__ then make it so that `compare(&quot;foo&quot;, &quot;bar&quot;)` and `compare(&quot;bar&quot;, &quot;foo&quot;)` / `&quot;foo&quot;.compareTo(&quot;bar&quot;)` and `&quot;bar.compareTo(&quot;foo&quot;)` __both__ return `0`, or you&#39;re violating contract.\r\n","title":"Java: Sort method throwing error: Comparison method violates its general contract","body":"<p>The 'general contract' is this:</p>\n<p>(<code>a &lt; b</code> here means: <code>a.compareTo(b)</code> returns a negative number).</p>\n<ul>\n<li><code>a.compareTo(a)</code> <em>must</em> be <code>0</code>.</li>\n<li>If <code>a.compareTo(b)</code> is 0, <code>b.compareTo(a)</code> <em>must</em> also be.<sup>1</sup></li>\n<li>If <code>a &lt; b</code>, then <code>b &gt; a</code> <em>is required</em>.</li>\n<li>If <code>a &lt; b</code> and <code>b &lt; c</code>, then <code>a &lt; c</code> <em>is required</em>.</li>\n</ul>\n<p>These rules seem extremely obvious, but it's harder than you might think.</p>\n<p>Your code returns a blanket <code>1</code> when it has no idea, which trivially breaks the contract: It means if your code has no idea for <code>a</code> and <code>b</code>, then <code>a.compare(b)</code> and <code>b.compareTo(a)</code> are violating the contract (both returning <code>1</code> which is not allowed).</p>\n<p>You've also clearly not followed SO instructions: You have written pseudocode or otherwise edited your actual code <strong>without testing it</strong>, and then pasted that. I know that because your code wouldn't compile (missing <code>()</code> after <code>o2.getClass</code>. Given that you have no idea what's happening (as you're asking SO questions), you have no idea what's important and what isn't, so it's also possible that the problem lies in what you ended up removing when transferring your actual code into this question.</p>\n<p>[1] It is acceptable for 2 non-equal items to nevertheless be considered 'at the same level' by any given comparator/compare-implementation. What this means depends on what you're passing it to. For example, if you consider &quot;foo&quot; and &quot;bar&quot; as comparison-wise equivalent (<code>&quot;bar&quot;.compareTo(&quot;foo&quot;)</code> returns 0, as does the reverse), then only one can be put in a <code>TreeSet</code>, but you can put both in a list and then <code>list.sort()</code> it, and that merely means they'll be sorted arbitrarily. However, your comparison op still needs to be consistent: <code>&quot;foo&quot;</code> and <code>&quot;bar&quot;</code> are not equal but a comparator can deem them 'equivalent', but you <strong>must</strong> then make it so that <code>compare(&quot;foo&quot;, &quot;bar&quot;)</code> and <code>compare(&quot;bar&quot;, &quot;foo&quot;)</code> / <code>&quot;foo&quot;.compareTo(&quot;bar&quot;)</code> and <code>&quot;bar.compareTo(&quot;foo&quot;)</code> <strong>both</strong> return <code>0</code>, or you're violating contract.</p>\n"}],"owner":{"account_id":23343881,"reputation":1,"user_id":17418456,"display_name":"HolyFreak2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1636983007,"creation_date":1636982161,"question_id":69974991,"body_markdown":"Hey i got this little code snippet that doesnt work when i run my programm. I have a list with Objects and want to first seperate them by 2 Types and then sort them alphabetically with their name. But when i run the programm there is always this java error which says : Comparison method violates its general contract! \r\nI really hope somebody can help me.\r\n\r\n\r\n\r\n\r\n\r\n```\r\nList&lt;RandomObject&gt; list;\r\nlist.stream().sorted((o1, o2) -&gt; {\r\n    if(o1.getClass().equals(o2.getClass))\r\n        return o1.getName().compareTo(o2.getName());\r\n    if(o1.getClass == someClass1.class &amp;&amp; o2.getClass() == someClass2.class)\r\n        return -1;\r\n    return 1;\r\n    }) \r\n```\r\n","title":"Java: Sort method throwing error: Comparison method violates its general contract","body":"<p>Hey i got this little code snippet that doesnt work when i run my programm. I have a list with Objects and want to first seperate them by 2 Types and then sort them alphabetically with their name. But when i run the programm there is always this java error which says : Comparison method violates its general contract!\nI really hope somebody can help me.</p>\n<pre><code>List&lt;RandomObject&gt; list;\nlist.stream().sorted((o1, o2) -&gt; {\n    if(o1.getClass().equals(o2.getClass))\n        return o1.getName().compareTo(o2.getName());\n    if(o1.getClass == someClass1.class &amp;&amp; o2.getClass() == someClass2.class)\n        return -1;\n    return 1;\n    }) \n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636977305,"creation_date":1636977305,"answer_id":69974026,"question_id":69973989,"body_markdown":"As the message in the error log suggested, you have to add `INTERNET` permission to the Manifest file like below:\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.stackoverflow&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n","title":"The application is minimized when the code is executed","body":"<p>As the message in the error log suggested, you have to add <code>INTERNET</code> permission to the Manifest file like below:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.stackoverflow&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19210681,"reputation":90,"user_id":14036546,"display_name":"Ashirwad Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636982877,"creation_date":1636982877,"answer_id":69975130,"question_id":69973989,"body_markdown":"As you have not given the Internet permission host is not able to access the address and receive the data and in result it is getting crashed when you initiating the app.\r\n\r\nInsert the below line in your menifest:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n","title":"The application is minimized when the code is executed","body":"<p>As you have not given the Internet permission host is not able to access the address and receive the data and in result it is getting crashed when you initiating the app.</p>\n<p>Insert the below line in your menifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":23342032,"reputation":15,"user_id":17417738,"display_name":"Сергей Дёшин"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69975130,"answer_count":2,"score":1,"last_activity_date":1636982877,"creation_date":1636977126,"question_id":69973989,"body_markdown":"   I am writing the simplest application for Android. I receive all the HTML of the site and display this text on the smartphone screen. All this happens in Android Studio. Created a project using the &quot;Fragment + ViewModel&quot; template. In MainActiviti, using the getContent method, I connect to the site and read its HTML.\r\n     The method works, but as soon as I try to transfer the text to the screen, the application is immediately minimized on startup. Tell me what&#39;s wrong.\r\n\r\n    public class MainFragment extends Fragment{\r\n        final public String URL_POSTER = &quot;https://udmfil.ru/&quot;;\r\n    \r\n    \r\n        public static MainFragment newInstance() {\r\n            return new MainFragment();\r\n        }\r\n    \r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,\r\n                                 @Nullable Bundle savedInstanceState) {\r\n            DownLoad FOG = new DownLoad();\r\n            FOG.execute(URL_POSTER);\r\n            String result_post = String.valueOf(FOG);\r\n            Log.i(&quot;URL&quot;,result_post);\r\n            return inflater.inflate(R.layout.main_fragment, container, false);\r\n        }\r\n    \r\n        @Override\r\n        public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n            super.onActivityCreated(savedInstanceState);\r\n            new ViewModelProvider(this).get(MainViewModel.class);\r\n        }\r\n        public class DownLoad extends AsyncTask&lt;String,Void,String[]&gt; {\r\n    \r\n            @Override\r\n            protected String[] doInBackground(String... strings) {\r\n                HttpURLConnection connection = null;\r\n                BufferedReader reader= null;\r\n    \r\n                try {\r\n                    URL url = new URL(strings[0]);\r\n                    connection = (HttpURLConnection) url.openConnection();\r\n                    connection.connect();\r\n    \r\n                    InputStream stream = connection.getInputStream();\r\n                    reader = new BufferedReader(new InputStreamReader(stream));\r\n    \r\n                    StringBuilder buffer = new StringBuilder();\r\n                    String line;\r\n    \r\n                    while ((line = reader.readLine()) != null)\r\n                        buffer.append(line);\r\n                        Log.i(&quot;URL&quot;, String.valueOf(buffer));\r\n                    /*String pos = buffer.toString();\r\n                    int indexPost, i = 1;\r\n                    String postB;\r\n                    do {\r\n                        indexPost = pos.indexOf(&quot;m-img buy&quot;) + 21;\r\n                        Log.i(&quot;URL&quot;, String.valueOf(indexPost));\r\n                        if (indexPost != -1){\r\n                            postB = pos.substring(indexPost, indexPost + 55);\r\n                            Log.i(&quot;URL&quot;,postB);\r\n                            strings[i] = postB;\r\n                            indexPost = indexPost +55;\r\n                            pos = pos.substring(indexPost);\r\n                            Log.i(&quot;FLAG&quot;,pos);\r\n                            i++;\r\n                            Log.i(&quot;FLAG&quot;,strings[i]);\r\n                            Log.i(&quot;URL&quot;, String.valueOf(i));\r\n                        }\r\n                    }while (indexPost != -1);*/\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    if (connection != null)\r\n                        connection.disconnect();\r\n                    try {\r\n                        if (reader != null)\r\n                            reader.close();\r\n                    }catch (IOException e){\r\n                        e.printStackTrace();\r\n                    }\r\n    \r\n                }\r\n    \r\n                return strings;\r\n            }\r\n        }\r\n    }\r\n    \r\nerror log:\r\n    \r\n    java.lang.RuntimeException: An error occurred while executing doInBackground()\r\n     at android.os.AsyncTask$4.done(Unknown Source:27)\r\n     at java.util.concurrent.FutureTask.finishCompletion(Unknown Source:36)\r\n     at java.util.concurrent.FutureTask.setException(Unknown Source:23)\r\n     at java.util.concurrent.FutureTask.run(Unknown Source:40)\r\n     at android.os.AsyncTask$SerialExecutor$1.run(Unknown Source:2)\r\n     at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source:79)\r\n     at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source:2)\r\n     at java.lang.Thread.run(Unknown Source:4)\r\n    Caused by: java.lang.SecurityException: Permission denied (missing INTERNET permission?)\r\n     at java.net.Inet6AddressImpl.lookupHostByName(Unknown Source:111)\r\n     at java.net.Inet6AddressImpl.lookupAllHostAddr(Unknown Source:22)\r\n     at java.net.InetAddress.getAllByName(Unknown Source:3)\r\n     at com.android.okhttp.Dns$1.lookup(Dns.java:41)\r\n     at com.android.okhttp.internal.http.RouteSelector.resetNextInetSocketAddress(RouteSelector.java:178)\r\n     at com.android.okhttp.internal.http.RouteSelector.nextProxy(RouteSelector.java:144)\r\n     at com.android.okhttp.internal.http.RouteSelector.next(RouteSelector.java:86)\r\n     at com.android.okhttp.internal.http.StreamAllocation.findConnection(StreamAllocation.java:176)\r\n     at com.android.okhttp.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:128)\r\n     at com.android.okhttp.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)\r\n     at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:289)\r\n     at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:232)\r\n     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:465)\r\n     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:131)\r\n     at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.connect(DelegatingHttpsURLConnection.java:90)\r\n     at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:30)\r\n     at com.example.myapplication.ui.main.MainFragment$DownLoad.doInBackground(MainFragment.java:58)\r\n     at com.example.myapplication.ui.main.MainFragment$DownLoad.doInBackground(MainFragment.java:48)\r\n     at android.os.AsyncTask$3.call(Unknown Source:20)\r\n     at java.util.concurrent.FutureTask.run(Unknown Source:31)\r\n    Caused by: android.system.GaiException: android_getaddrinfo failed: EAI_NODATA (No address associated with hostname)\r\n     at libcore.io.Linux.android_getaddrinfo(Native Method)\r\n     at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:74)\r\n     at libcore.io.BlockGuardOs.android_getaddrinfo(BlockGuardOs.java:200)\r\n     at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:74)\r\n     at java.net.Inet6AddressImpl.lookupHostByName(Unknown Source:51)\r\n    Caused by: android.system.ErrnoException: android_getaddrinfo failed: EACCES (Permission denied)\r\n     \r\n\r\nNow this is how it turns out. \r\n\r\n\r\n","title":"The application is minimized when the code is executed","body":"<p>I am writing the simplest application for Android. I receive all the HTML of the site and display this text on the smartphone screen. All this happens in Android Studio. Created a project using the &quot;Fragment + ViewModel&quot; template. In MainActiviti, using the getContent method, I connect to the site and read its HTML.\nThe method works, but as soon as I try to transfer the text to the screen, the application is immediately minimized on startup. Tell me what's wrong.</p>\n<pre><code>public class MainFragment extends Fragment{\n    final public String URL_POSTER = &quot;https://udmfil.ru/&quot;;\n\n\n    public static MainFragment newInstance() {\n        return new MainFragment();\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,\n                             @Nullable Bundle savedInstanceState) {\n        DownLoad FOG = new DownLoad();\n        FOG.execute(URL_POSTER);\n        String result_post = String.valueOf(FOG);\n        Log.i(&quot;URL&quot;,result_post);\n        return inflater.inflate(R.layout.main_fragment, container, false);\n    }\n\n    @Override\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n        super.onActivityCreated(savedInstanceState);\n        new ViewModelProvider(this).get(MainViewModel.class);\n    }\n    public class DownLoad extends AsyncTask&lt;String,Void,String[]&gt; {\n\n        @Override\n        protected String[] doInBackground(String... strings) {\n            HttpURLConnection connection = null;\n            BufferedReader reader= null;\n\n            try {\n                URL url = new URL(strings[0]);\n                connection = (HttpURLConnection) url.openConnection();\n                connection.connect();\n\n                InputStream stream = connection.getInputStream();\n                reader = new BufferedReader(new InputStreamReader(stream));\n\n                StringBuilder buffer = new StringBuilder();\n                String line;\n\n                while ((line = reader.readLine()) != null)\n                    buffer.append(line);\n                    Log.i(&quot;URL&quot;, String.valueOf(buffer));\n                /*String pos = buffer.toString();\n                int indexPost, i = 1;\n                String postB;\n                do {\n                    indexPost = pos.indexOf(&quot;m-img buy&quot;) + 21;\n                    Log.i(&quot;URL&quot;, String.valueOf(indexPost));\n                    if (indexPost != -1){\n                        postB = pos.substring(indexPost, indexPost + 55);\n                        Log.i(&quot;URL&quot;,postB);\n                        strings[i] = postB;\n                        indexPost = indexPost +55;\n                        pos = pos.substring(indexPost);\n                        Log.i(&quot;FLAG&quot;,pos);\n                        i++;\n                        Log.i(&quot;FLAG&quot;,strings[i]);\n                        Log.i(&quot;URL&quot;, String.valueOf(i));\n                    }\n                }while (indexPost != -1);*/\n            } catch (IOException e) {\n                e.printStackTrace();\n            } finally {\n                if (connection != null)\n                    connection.disconnect();\n                try {\n                    if (reader != null)\n                        reader.close();\n                }catch (IOException e){\n                    e.printStackTrace();\n                }\n\n            }\n\n            return strings;\n        }\n    }\n}\n</code></pre>\n<p>error log:</p>\n<pre><code>java.lang.RuntimeException: An error occurred while executing doInBackground()\n at android.os.AsyncTask$4.done(Unknown Source:27)\n at java.util.concurrent.FutureTask.finishCompletion(Unknown Source:36)\n at java.util.concurrent.FutureTask.setException(Unknown Source:23)\n at java.util.concurrent.FutureTask.run(Unknown Source:40)\n at android.os.AsyncTask$SerialExecutor$1.run(Unknown Source:2)\n at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source:79)\n at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source:2)\n at java.lang.Thread.run(Unknown Source:4)\nCaused by: java.lang.SecurityException: Permission denied (missing INTERNET permission?)\n at java.net.Inet6AddressImpl.lookupHostByName(Unknown Source:111)\n at java.net.Inet6AddressImpl.lookupAllHostAddr(Unknown Source:22)\n at java.net.InetAddress.getAllByName(Unknown Source:3)\n at com.android.okhttp.Dns$1.lookup(Dns.java:41)\n at com.android.okhttp.internal.http.RouteSelector.resetNextInetSocketAddress(RouteSelector.java:178)\n at com.android.okhttp.internal.http.RouteSelector.nextProxy(RouteSelector.java:144)\n at com.android.okhttp.internal.http.RouteSelector.next(RouteSelector.java:86)\n at com.android.okhttp.internal.http.StreamAllocation.findConnection(StreamAllocation.java:176)\n at com.android.okhttp.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:128)\n at com.android.okhttp.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)\n at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:289)\n at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:232)\n at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:465)\n at com.android.okhttp.internal.huc.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:131)\n at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.connect(DelegatingHttpsURLConnection.java:90)\n at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:30)\n at com.example.myapplication.ui.main.MainFragment$DownLoad.doInBackground(MainFragment.java:58)\n at com.example.myapplication.ui.main.MainFragment$DownLoad.doInBackground(MainFragment.java:48)\n at android.os.AsyncTask$3.call(Unknown Source:20)\n at java.util.concurrent.FutureTask.run(Unknown Source:31)\nCaused by: android.system.GaiException: android_getaddrinfo failed: EAI_NODATA (No address associated with hostname)\n at libcore.io.Linux.android_getaddrinfo(Native Method)\n at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:74)\n at libcore.io.BlockGuardOs.android_getaddrinfo(BlockGuardOs.java:200)\n at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:74)\n at java.net.Inet6AddressImpl.lookupHostByName(Unknown Source:51)\nCaused by: android.system.ErrnoException: android_getaddrinfo failed: EACCES (Permission denied)\n \n</code></pre>\n<p>Now this is how it turns out.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":4,"creation_date":1320341827,"post_id":7999340,"comment_id":9786436,"body_markdown":"Some suggestions: 1) Define &quot;works&quot; - what is this supposed to show the user? 2) Use standard indent formatting","body":"Some suggestions: 1) Define &quot;works&quot; - what is this supposed to show the user? 2) Use standard indent formatting"},{"owner":{"account_id":281282,"reputation":3826,"user_id":577485,"accept_rate":71,"display_name":"Sibbo"},"score":0,"creation_date":1320341907,"post_id":7999340,"comment_id":9786466,"body_markdown":"What do you want to achive with this code?","body":"What do you want to achive with this code?"}],"answers":[{"tags":[],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1320341806,"creation_date":1320341806,"answer_id":7999375,"question_id":7999340,"body_markdown":"Change  `if (d&lt;=9999 || d&gt;999) {break;}` to `if (d&lt;=9999 &amp;&amp; d&gt;999) {break;}`\r\n\r\nYou used an `||` instead of an `&amp;&amp;`. Also consider changing the order so it reads as follows;\r\n\r\n    if (d&gt;=1000 &amp;&amp; d&lt;=9999)\r\n        break;","title":"Why is (d &lt;= 9999 || d &gt; 999) always true?","body":"<p>Change  <code>if (d&lt;=9999 || d&gt;999) {break;}</code> to <code>if (d&lt;=9999 &amp;&amp; d&gt;999) {break;}</code></p>\n\n<p>You used an <code>||</code> instead of an <code>&amp;&amp;</code>. Also consider changing the order so it reads as follows;</p>\n\n<pre><code>if (d&gt;=1000 &amp;&amp; d&lt;=9999)\n    break;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":472102,"reputation":9225,"user_id":880367,"accept_rate":43,"display_name":"Yogu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1320341812,"creation_date":1320341812,"answer_id":7999378,"question_id":7999340,"body_markdown":"      if (d&lt;=9999 || d&gt;999) {break;}\r\n\r\nEvery number is either below 9999 or greater than 999; for example, 15 is below 9999 and lets the condition become true. I think, you should replace the || by an &amp;&amp; operator.","title":"Why is (d &lt;= 9999 || d &gt; 999) always true?","body":"<pre><code>  if (d&lt;=9999 || d&gt;999) {break;}\n</code></pre>\n\n<p>Every number is either below 9999 or greater than 999; for example, 15 is below 9999 and lets the condition become true. I think, you should replace the || by an &amp;&amp; operator.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1320341825,"creation_date":1320341825,"answer_id":7999380,"question_id":7999340,"body_markdown":"Look at this condition:\r\n\r\n    if (d &lt;= 9999 || d &gt; 999)\r\n\r\nFor that to evaluate to false, you would have to find a value which is greater than 9999 *and* less than 1000. I think you&#39;ll be hard pushed to find such a number...\r\n\r\nI suspect you meant:\r\n\r\n    if (d &lt;= 9999 &amp;&amp; d &gt; 999)\r\n\r\nPersonally I&#39;d write this as:\r\n\r\n    if (d &gt;= 1000 &amp;&amp; d &lt;= 9999)\r\n\r\nor\r\n\r\n    if (1000 &lt;= d &amp;&amp; d &lt;= 9999)\r\n\r\nIn all these versions, you&#39;re basically checking that it&#39;s greater than or equal to 1000 *and* it&#39;s less than or equal to 9999.","title":"Why is (d &lt;= 9999 || d &gt; 999) always true?","body":"<p>Look at this condition:</p>\n\n<pre><code>if (d &lt;= 9999 || d &gt; 999)\n</code></pre>\n\n<p>For that to evaluate to false, you would have to find a value which is greater than 9999 <em>and</em> less than 1000. I think you'll be hard pushed to find such a number...</p>\n\n<p>I suspect you meant:</p>\n\n<pre><code>if (d &lt;= 9999 &amp;&amp; d &gt; 999)\n</code></pre>\n\n<p>Personally I'd write this as:</p>\n\n<pre><code>if (d &gt;= 1000 &amp;&amp; d &lt;= 9999)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if (1000 &lt;= d &amp;&amp; d &lt;= 9999)\n</code></pre>\n\n<p>In all these versions, you're basically checking that it's greater than or equal to 1000 <em>and</em> it's less than or equal to 9999.</p>\n"},{"tags":[],"owner":{"account_id":457986,"reputation":305,"user_id":857624,"accept_rate":50,"display_name":"Matthias Loeks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1320797571,"creation_date":1320341910,"answer_id":7999407,"question_id":7999340,"body_markdown":"Simply replace `||` with `&amp;&amp;`. Should work then :)","title":"Why is (d &lt;= 9999 || d &gt; 999) always true?","body":"<p>Simply replace <code>||</code> with <code>&amp;&amp;</code>. Should work then :)</p>\n"}],"owner":{"display_name":"user985668"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":7999380,"answer_count":4,"score":-2,"last_activity_date":1636982861,"creation_date":1320341608,"question_id":7999340,"body_markdown":"    import java.util.Scanner;\r\n\r\n    public class asg3 {\r\n\r\n        public static int setoriginal() {\r\n            int d=0; \r\n            int l=0;                                                           \r\n            do {   \r\n                Scanner input = new Scanner(System.in);\r\n                System.out.println(&quot;Please enter a 4 digit number: &quot;);\r\n                d=input.nextInt();\r\n                if (d&lt;=9999 || d&gt;999) {\r\n                    break;\r\n                } else {\r\n                    System.err.printf (&quot;You did not enter 4 digits\\n&quot;);\r\n                }           \r\n                l=l+1;\r\n            } while (l&lt;3);    \r\n            return d;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            setoriginal();\r\n        }\r\n    }\r\n\r\nwhen I enter 12345 it works but doesn&#39;t seem to work for any other number other than four-digit ones.\r\nany idea of what could be wrong or what I am doing wrong?","title":"Why is (d &lt;= 9999 || d &gt; 999) always true?","body":"<pre><code>import java.util.Scanner;\n\npublic class asg3 {\n\n    public static int setoriginal() {\n        int d=0; \n        int l=0;                                                           \n        do {   \n            Scanner input = new Scanner(System.in);\n            System.out.println(&quot;Please enter a 4 digit number: &quot;);\n            d=input.nextInt();\n            if (d&lt;=9999 || d&gt;999) {\n                break;\n            } else {\n                System.err.printf (&quot;You did not enter 4 digits\\n&quot;);\n            }           \n            l=l+1;\n        } while (l&lt;3);    \n        return d;\n    }\n\n    public static void main(String[] args) {\n        setoriginal();\n    }\n}\n</code></pre>\n<p>when I enter 12345 it works but doesn't seem to work for any other number other than four-digit ones.\nany idea of what could be wrong or what I am doing wrong?</p>\n"},{"tags":["java","rest","tomcat","servlets","security-constraint"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1439809640,"creation_date":1439807877,"answer_id":32048254,"question_id":32048148,"body_markdown":"Define in `web.xml` a security constraint with an empty auth constraint on the desired URL pattern and the given HTTP methods.\r\n\r\nThe below example restricts ALL `DELETE` and `TRACE` requests, regardless of URL and user.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;security-constraint&gt;\r\n        &lt;web-resource-collection&gt;\r\n            &lt;web-resource-name&gt;Restricted HTTP methods.&lt;/web-resource-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n            &lt;http-method&gt;DELETE&lt;/http-method&gt;\r\n            &lt;http-method&gt;TRACE&lt;/http-method&gt;\r\n            &lt;!-- You can specify multiple HTTP methods here. --&gt;\r\n        &lt;/web-resource-collection&gt;\r\n        &lt;auth-constraint /&gt;\r\n    &lt;/security-constraint&gt;\r\n\r\nThe effect is a [HTTP 403 Forbidden][1] response.\r\n\r\n\r\n  [1]: http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.4","title":"How to disable Insecure HTTP methods in application in java","body":"<p>Define in <code>web.xml</code> a security constraint with an empty auth constraint on the desired URL pattern and the given HTTP methods.</p>\n\n<p>The below example restricts ALL <code>DELETE</code> and <code>TRACE</code> requests, regardless of URL and user.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;security-constraint&gt;\n    &lt;web-resource-collection&gt;\n        &lt;web-resource-name&gt;Restricted HTTP methods.&lt;/web-resource-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n        &lt;http-method&gt;DELETE&lt;/http-method&gt;\n        &lt;http-method&gt;TRACE&lt;/http-method&gt;\n        &lt;!-- You can specify multiple HTTP methods here. --&gt;\n    &lt;/web-resource-collection&gt;\n    &lt;auth-constraint /&gt;\n&lt;/security-constraint&gt;\n</code></pre>\n\n<p>The effect is a <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.4\" rel=\"nofollow\">HTTP 403 Forbidden</a> response.</p>\n"}],"owner":{"account_id":3969643,"reputation":497,"user_id":3274552,"accept_rate":24,"display_name":"Ravi Godara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636982432,"creation_date":1439807524,"question_id":32048148,"body_markdown":"I have a web application developed in Restful webservice and java. Iam using Jersey library. My team ran Appscan tool on the application.That tool says \r\nInsecure HTTP Methods Enabled\ton https://&lt;FQDM&gt;/AppName/.\r\n\r\nEDIT:\r\n1. I would like to know how to disable DELETE methods here.\r\n2. When I make a option request to Server it should not list delete method in allowed method in header.\r\nThanks in advance.","title":"How to disable Insecure HTTP methods in application in java","body":"<p>I have a web application developed in Restful webservice and java. Iam using Jersey library. My team ran Appscan tool on the application.That tool says\nInsecure HTTP Methods Enabled   on https:///AppName/.</p>\n<p>EDIT:</p>\n<ol>\n<li>I would like to know how to disable DELETE methods here.</li>\n<li>When I make a option request to Server it should not list delete method in allowed method in header.\nThanks in advance.</li>\n</ol>\n"},{"tags":["java","spring-boot","websocket","jetty","ws"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1636980883,"post_id":69968609,"comment_id":123694651,"body_markdown":"Please edit your question and add your `SimpleEchoSocket` code, the problem seems to be within that code.","body":"Please edit your question and add your <code>SimpleEchoSocket</code> code, the problem seems to be within that code."},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1636980947,"post_id":69968609,"comment_id":123694669,"body_markdown":"Also include what version of Jetty you are using.","body":"Also include what version of Jetty you are using."},{"owner":{"account_id":401861,"reputation":403,"user_id":768671,"accept_rate":57,"display_name":"Basil"},"score":0,"creation_date":1659675420,"post_id":69968609,"comment_id":129355160,"body_markdown":"Aren&#39;t there max message size settings separate from buffer size, did you try increasing those instead of buffer size? (setMaxBinaryMessageSize)","body":"Aren&#39;t there max message size settings separate from buffer size, did you try increasing those instead of buffer size? (setMaxBinaryMessageSize)"}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636982239,"creation_date":1636981888,"answer_id":69974921,"question_id":69968609,"body_markdown":"There are 2 `setMaxTextMessageBufferSize`,`setMaxBinaryMessageBufferSize`\r\n\r\nDepending on the type of data you are sending:\r\n\r\n\r\n        wsClient = new WebSocketClient(factory);\r\n        wsClient.setMaxTextMessageBufferSize(Args.maxTextSize);\r\n        wsClient.setMaxBinaryMessageBufferSize(Args.maxTextSize);\r\n\r\n\r\nhttps://www.eclipse.org/jetty/javadoc/jetty-11/org/eclipse/jetty/websocket/client/WebSocketClient.html\r\n\r\n\r\nYou also have the option of setting it on the `Session`:\r\n\r\n\r\n    CompletableFuture&lt;Session&gt; futureSession = wsClient.connect(webSocket, uri);\r\n\r\n\r\n    Session session = futureSession.get();\r\n    \r\n    session.getPolicy().setMaxBinaryMessageBufferSize(Args.maxTextSize);\r\n    session.getPolicy().setMaxBinaryMessageSize(Args.maxTextSize);\r\n\r\n    session.getPolicy().setMaxTextMessageBufferSize(Args.maxTextSize);\r\n    session.getPolicy().setMaxTextMessageSize(Args.maxTextSize);","title":"How can I set max buffer size for web socket client(Jetty) in Java","body":"<p>There are 2 <code>setMaxTextMessageBufferSize</code>,<code>setMaxBinaryMessageBufferSize</code></p>\n<p>Depending on the type of data you are sending:</p>\n<pre><code>    wsClient = new WebSocketClient(factory);\n    wsClient.setMaxTextMessageBufferSize(Args.maxTextSize);\n    wsClient.setMaxBinaryMessageBufferSize(Args.maxTextSize);\n</code></pre>\n<p><a href=\"https://www.eclipse.org/jetty/javadoc/jetty-11/org/eclipse/jetty/websocket/client/WebSocketClient.html\" rel=\"nofollow noreferrer\">https://www.eclipse.org/jetty/javadoc/jetty-11/org/eclipse/jetty/websocket/client/WebSocketClient.html</a></p>\n<p>You also have the option of setting it on the <code>Session</code>:</p>\n<pre><code>CompletableFuture&lt;Session&gt; futureSession = wsClient.connect(webSocket, uri);\n\n\nSession session = futureSession.get();\n\nsession.getPolicy().setMaxBinaryMessageBufferSize(Args.maxTextSize);\nsession.getPolicy().setMaxBinaryMessageSize(Args.maxTextSize);\n\nsession.getPolicy().setMaxTextMessageBufferSize(Args.maxTextSize);\nsession.getPolicy().setMaxTextMessageSize(Args.maxTextSize);\n</code></pre>\n"}],"owner":{"account_id":21249763,"reputation":83,"user_id":15632111,"display_name":"Julia5049"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2481,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69974921,"answer_count":1,"score":1,"last_activity_date":1636982239,"creation_date":1636939868,"question_id":69968609,"body_markdown":"There is a function for connect web socket connection.\r\n\r\n```\r\npublic void connectWebSocket(String vaHost, String apiKey) throws Exception{\r\n        logger.info(&quot;========= CONNECT WEBSOCKET =========&quot;);\r\n        String destUri = &quot;ws://&quot;+vaHost+&quot;/metadata&quot;;\r\n\r\n        WebSocketClient client = new WebSocketClient();\r\n        SimpleEchoSocket socket = new SimpleEchoSocket();\r\n\r\n        client.start();\r\n        client.setConnectTimeout(-1);\r\n\r\n        URI echoUri = new URI(destUri);\r\n        ClientUpgradeRequest requestws = new ClientUpgradeRequest();\r\n        requestws.setSubProtocols(&quot;va-metadata&quot;);\r\n\r\n        requestws.setTimeout(-1, TimeUnit.SECONDS);\r\n\r\n        client.setMaxBinaryMessageBufferSize(700000);\r\n        client.connect(socket,echoUri,requestws);\r\n\r\n        logger.info(&quot;=========WS Connecting to :&quot;+echoUri);\r\n}\r\n``` \r\n\r\nYou can find &#39;setMaxBinaryMessageBufferSize&#39; so that I set max buffer size to 700000.\r\n\r\nBut when an onMessageBuffer event occurs, I can find the exception like below.\r\n\r\n```\r\norg.eclipse.jetty.websocket.api.MessageTooLargeException: Binary message size [484666] exceeds maximum size [65536]\r\n\tat org.eclipse.jetty.websocket.api.WebSocketPolicy.assertValidBinaryMessageSize(WebSocketPolicy.java:128)\r\n\tat org.eclipse.jetty.websocket.common.Parser.assertSanePayloadLength(Parser.java:133)\r\n\tat org.eclipse.jetty.websocket.common.Parser.parseFrame(Parser.java:494)\r\n\tat org.eclipse.jetty.websocket.common.Parser.parseSingleFrame(Parser.java:253)\r\n\tat org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:459)\r\n\tat org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:440)\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n\tat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\r\n\tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:383)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:882)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1036)\r\n\tat java.base/java.lang.Thread.run(Thread.java:831)\r\n```\r\n\r\nHow can I set max buffer size for web socket connection to prevent exception?\r\n\r\n\r\n","title":"How can I set max buffer size for web socket client(Jetty) in Java","body":"<p>There is a function for connect web socket connection.</p>\n<pre><code>public void connectWebSocket(String vaHost, String apiKey) throws Exception{\n        logger.info(&quot;========= CONNECT WEBSOCKET =========&quot;);\n        String destUri = &quot;ws://&quot;+vaHost+&quot;/metadata&quot;;\n\n        WebSocketClient client = new WebSocketClient();\n        SimpleEchoSocket socket = new SimpleEchoSocket();\n\n        client.start();\n        client.setConnectTimeout(-1);\n\n        URI echoUri = new URI(destUri);\n        ClientUpgradeRequest requestws = new ClientUpgradeRequest();\n        requestws.setSubProtocols(&quot;va-metadata&quot;);\n\n        requestws.setTimeout(-1, TimeUnit.SECONDS);\n\n        client.setMaxBinaryMessageBufferSize(700000);\n        client.connect(socket,echoUri,requestws);\n\n        logger.info(&quot;=========WS Connecting to :&quot;+echoUri);\n}\n</code></pre>\n<p>You can find 'setMaxBinaryMessageBufferSize' so that I set max buffer size to 700000.</p>\n<p>But when an onMessageBuffer event occurs, I can find the exception like below.</p>\n<pre><code>org.eclipse.jetty.websocket.api.MessageTooLargeException: Binary message size [484666] exceeds maximum size [65536]\n    at org.eclipse.jetty.websocket.api.WebSocketPolicy.assertValidBinaryMessageSize(WebSocketPolicy.java:128)\n    at org.eclipse.jetty.websocket.common.Parser.assertSanePayloadLength(Parser.java:133)\n    at org.eclipse.jetty.websocket.common.Parser.parseFrame(Parser.java:494)\n    at org.eclipse.jetty.websocket.common.Parser.parseSingleFrame(Parser.java:253)\n    at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:459)\n    at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:440)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n    at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\n    at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:383)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:882)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1036)\n    at java.base/java.lang.Thread.run(Thread.java:831)\n</code></pre>\n<p>How can I set max buffer size for web socket connection to prevent exception?</p>\n"},{"tags":["java","android","firebase","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":10013330,"reputation":770,"user_id":7405518,"display_name":"Laufwunder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611225839,"creation_date":1611225839,"answer_id":65825706,"question_id":65825170,"body_markdown":"Your `onMessageReceived()` looks a bit overkill to me. I do not think you have to create your own Handler to process data. Just stick to the Firebase example: [FirebaseExample][1]\r\n\r\n```\r\noverride fun onMessageReceived(remoteMessage: RemoteMessage) {\r\n    if (remoteMessage.data.isNotEmpty()) {\r\n        Log.d(TAG, &quot;Message data payload: ${remoteMessage.data}&quot;)\r\n        if (/* Check if data needs to be processed by long running job */ true) {\r\n          // For long-running tasks (10 seconds or more) use WorkManager.\r\n          scheduleJob()\r\n        } else {\r\n            // Handle message within 10 seconds\r\n            handleNow()\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://github.com/firebase/quickstart-android/blob/256c7e1e6e1dd2be7025bb3f858bf906fd158fa0/messaging/app/src/main/java/com/google/firebase/quickstart/fcm/kotlin/MyFirebaseMessagingService.kt#L26-L61","title":"FCM android client randomly stops receiving data messages","body":"<p>Your <code>onMessageReceived()</code> looks a bit overkill to me. I do not think you have to create your own Handler to process data. Just stick to the Firebase example: <a href=\"https://github.com/firebase/quickstart-android/blob/256c7e1e6e1dd2be7025bb3f858bf906fd158fa0/messaging/app/src/main/java/com/google/firebase/quickstart/fcm/kotlin/MyFirebaseMessagingService.kt#L26-L61\" rel=\"nofollow noreferrer\">FirebaseExample</a></p>\n<pre><code>override fun onMessageReceived(remoteMessage: RemoteMessage) {\n    if (remoteMessage.data.isNotEmpty()) {\n        Log.d(TAG, &quot;Message data payload: ${remoteMessage.data}&quot;)\n        if (/* Check if data needs to be processed by long running job */ true) {\n          // For long-running tasks (10 seconds or more) use WorkManager.\n          scheduleJob()\n        } else {\n            // Handle message within 10 seconds\n            handleNow()\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14193416,"reputation":153,"user_id":10702209,"display_name":"Monica Ivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636981944,"creation_date":1636981944,"answer_id":69974939,"question_id":65825170,"body_markdown":"I&#39;ve found the answer here: https://stackoverflow.com/a/23902751/10702209\r\nWhat happened was that I was getting router timeouts after 5 minutes, randomly. I&#39;ve fixed the issue by manually sending out heartbeats to FCM after 4 minutes, instead of the default 15 minutes. \r\n\r\n    context.sendBroadcast(new Intent(&quot;com.google.android.intent.action.GTALK_HEARTBEAT&quot;));\r\n    context.sendBroadcast(new Intent(&quot;com.google.android.intent.action.MCS_HEARTBEAT&quot;));\r\n\r\nI&#39;ve implemented this fix a couple of months ago and haven&#39;t had the issue come up again since.","title":"FCM android client randomly stops receiving data messages","body":"<p>I've found the answer here: <a href=\"https://stackoverflow.com/a/23902751/10702209\">https://stackoverflow.com/a/23902751/10702209</a>\nWhat happened was that I was getting router timeouts after 5 minutes, randomly. I've fixed the issue by manually sending out heartbeats to FCM after 4 minutes, instead of the default 15 minutes.</p>\n<pre><code>context.sendBroadcast(new Intent(&quot;com.google.android.intent.action.GTALK_HEARTBEAT&quot;));\ncontext.sendBroadcast(new Intent(&quot;com.google.android.intent.action.MCS_HEARTBEAT&quot;));\n</code></pre>\n<p>I've implemented this fix a couple of months ago and haven't had the issue come up again since.</p>\n"}],"owner":{"account_id":14193416,"reputation":153,"user_id":10702209,"display_name":"Monica Ivan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69974939,"answer_count":2,"score":2,"last_activity_date":1636981944,"creation_date":1611223839,"question_id":65825170,"body_markdown":"I&#39;ve implemented FCM on my server with an Android client, and it worked fine for a while. All of a sudden, the client stopped receiving notifications for 5-10 minutes at a time, after which it would get all the pending notifications at once. The logs show that the server is sending the messages correctly. \r\nWhen the message queue gets stuck, not even test messages from the Firebase console get through.\r\n\r\nThe only relevant thing I&#39;ve found in the official documentation was regarding [the lifetime of a message][1]:\r\n\r\n&gt; If the device is not connected to FCM, the message is stored until a connection is established (again respecting the collapse key rules). When a connection is established, FCM delivers all pending messages to the device. \r\n\r\nBut my network is working fine, and this issue has arisen on other networks and clients as well. When I freshly install the app, a new token is being generated and successfully received by my server. It&#39;s just the server-to-client messages that aren&#39;t going through.\r\n\r\n**How can I determine if the connection is established and fix it? Or what else could be the cause of this?** \r\n\r\nThis is my client-side code\r\n\r\n**AndroidManifest.xml**\r\n```xml\r\n        &lt;application\r\n        android:name=&quot;.App&quot;\r\n        android:allowBackup=&quot;false&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:largeHeap=&quot;true&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        tools:ignore=&quot;GoogleAppIndexingWarning&quot;&gt;\r\n        &lt;service\r\n            android:name=&quot;.service.NotificationService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n```\r\n\r\n**NotificationService.java**\r\n```java\r\npublic class NotificationService extends FirebaseMessagingService {\r\n\r\n    private static final String TAG = &quot;NotificationService&quot;;\r\n    private static String token;\r\n\r\n    public NotificationService() {\r\n        token = PreferenceManager\r\n                .getDefaultSharedPreferences(App.getContext())\r\n                .getString(&quot;firebase-token&quot;, null);\r\n    }\r\n\r\n    @Override\r\n    public void onNewToken(@NonNull String s) {\r\n        super.onNewToken(s);\r\n        FirebaseInstanceId.getInstance().getInstanceId()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;InstanceIdResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;InstanceIdResult&gt; task) {\r\n                        if (!task.isSuccessful()) {\r\n                            Log.w(TAG, &quot;getInstanceId failed&quot;, task.getException());\r\n                            return;\r\n                        }\r\n                        token = task.getResult().getToken();\r\n                        Log.d(TAG, &quot;onComplete: token = &quot; + token);\r\n                        PreferenceManager\r\n                                .getDefaultSharedPreferences(App.getContext())\r\n                                .edit()\r\n                                .putString(&quot;firebase-token&quot;, token)\r\n                                .apply();\r\n                    }\r\n                });\r\n    }\r\n\r\n    @Override\r\n    public void onMessageReceived(final RemoteMessage remoteMessage) {\r\n        super.onMessageReceived(remoteMessage);\r\n        Log.d(TAG, &quot;Received message of size &quot; + remoteMessage.getData().size());\r\n        if (remoteMessage.getData().size() &gt; 0) {\r\n            Log.d(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\r\n\r\n            Handler h = new Handler(Looper.getMainLooper());\r\n            h.post(new Runnable() {\r\n                public void run() {\r\n                    int left = -1, right = -1;\r\n                    if (remoteMessage.getData().get(&quot;left&quot;) != null) {\r\n                        left = Integer.parseInt(Objects.requireNonNull(remoteMessage.getData()\r\n                                .get(&quot;left&quot;)));\r\n                    }\r\n                    if (remoteMessage.getData().get(&quot;right&quot;) != null) {\r\n                        right = Integer.parseInt(Objects.requireNonNull(remoteMessage.getData()\r\n                                .get(&quot;right&quot;)));\r\n                    }\r\n\r\n\r\n                    if (remoteMessage.getData().get(&quot;REFRESH&quot;) != null) {\r\n                        Util.sendTitleBroadcast(getApplicationContext(),\r\n                                left, right,\r\n                                Util.REFRESH_TITLE);\r\n                    } else {\r\n                        Util.sendTitleBroadcast(getApplicationContext(),\r\n                                left, right,\r\n                                Util.TITLE_DATA_RECEIVED);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    public static String getToken() {\r\n        if (token == null) {\r\n            token = PreferenceManager\r\n                    .getDefaultSharedPreferences(App.getContext())\r\n                    .getString(&quot;firebase-token&quot;, null);\r\n        }\r\n        return token;\r\n    }\r\n}\r\n```\r\n\r\nCode for server-side\r\n**FirebaseMessagingService.java**\r\n```java\r\npublic class FirebaseMessagingService {\r\n\r\n    private static final Logger logger = Logger\r\n            .getLogger(FirebaseMessagingService.class);\r\n    private static FirebaseMessagingService instance;\r\n\r\n    /**\r\n     * Path to resource file that contains the credentials for Admin SDK.\r\n     */\r\n    private final String keyPath = &quot;firebase-adminsdk.json&quot;;\r\n\r\n    /**\r\n     * Maps a token list to each topic Object.\r\n     */\r\n    private static Map&lt;Object, List&lt;String&gt;&gt; topicTokenMap;\r\n\r\n    public synchronized static FirebaseMessagingService getInstance() {\r\n        if (instance == null) {\r\n            instance = new FirebaseMessagingService();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    private FirebaseMessagingService() {\r\n        init();\r\n    }\r\n\r\n    /**\r\n     * Initializes the Firebase service account using the credentials from the\r\n     * json file found at keyPath.\r\n     */\r\n    private void init() {\r\n        try {\r\n            InputStream serviceAccount\r\n                    = getClass().getClassLoader().getResourceAsStream(keyPath);\r\n            if (serviceAccount != null) {\r\n                FirebaseOptions options = new FirebaseOptions.Builder()\r\n                        .setCredentials(GoogleCredentials\r\n                                .fromStream(serviceAccount))\r\n                        .setDatabaseUrl(databaseUrl)\r\n                        .build();\r\n\r\n                FirebaseApp.initializeApp(options);\r\n                logger.debug(&quot;FirebaseMessagingService: init successful&quot;);\r\n            } else {\r\n                logger.debug(&quot;FirebaseMessagingService: Input stream null from&quot;\r\n                        + &quot; path: &quot; + keyPath);\r\n            }\r\n        } catch (IOException ex) {\r\n            logger.debug(&quot;FirebaseMessagingService: Failed to get credentials &quot;\r\n                    + &quot;from inputStream.&quot; + ex.getMessage());\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sends the messages given as parameters to the list of tokens mapped to\r\n     * the given topic Object.\r\n     *\r\n     * @param topic\r\n     * @param messages\r\n     */\r\n    public void sendMessage(Object topic,\r\n            Map&lt;String, String&gt; messages) {\r\n        logger.debug(&quot;FirebaseMessagingService: sending Message &quot;\r\n                + messages.toString());\r\n        try {\r\n            if (topicTokenMap != null) {\r\n                List&lt;String&gt; tokenList = topicTokenMap.get(topic);\r\n                if (tokenList != null) {\r\n                    tokenList.removeAll(Collections.singleton(null));\r\n                    MulticastMessage message = MulticastMessage.builder()\r\n                            .putAllData(messages)\r\n                            .addAllTokens(tokenList)\r\n                            .build();\r\n                    FirebaseMessaging.getInstance().sendMulticast(message);\r\n                    logger.debug(&quot;FirebaseMessagingService: message sent successfully&quot;);\r\n                }\r\n            }\r\n        } catch (FirebaseMessagingException ex) {\r\n            logger.debug(ex.getMessage());\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Registers the token given as a parameter to the topic Object.\r\n     *\r\n     * @param topic\r\n     * @param token\r\n     */\r\n    public void registerTokenToTopic(Object topic, String token) {\r\n        if (topicTokenMap == null) {\r\n            topicTokenMap = new HashMap&lt;Object, List&lt;String&gt;&gt;();\r\n        }\r\n        List&lt;String&gt; tokens = topicTokenMap.get(topic);\r\n        if (tokens == null) {\r\n            tokens = new ArrayList&lt;String&gt;();\r\n        }\r\n        if (!tokens.contains(token)) {\r\n            tokens.add(token);\r\n        }\r\n        topicTokenMap.put(topic, tokens);\r\n    }\r\n\r\n    /**\r\n     * Unregisters all instances of the token given as a parameter from the topic\r\n     * given.\r\n     *\r\n     * @param topic\r\n     * @param token\r\n     */\r\n    public void unregisterTokenFromTopic(Object topic, String token) {\r\n        if (topicTokenMap != null) {\r\n            List&lt;String&gt; tokens = topicTokenMap.get(topic);\r\n            if (tokens != null) {\r\n                tokens.removeAll(Collections.singleton(token));\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Looks for a topic that has a field with the name equal to topicFieldName\r\n     * and the value equal to topicFieldValue and sends a notification to the\r\n     * tokens subscribed to that topic, telling them to ask for an update.\r\n     *\r\n     * @param topicFieldName\r\n     * @param topicFieldValue\r\n     */\r\n    public void notifyChangeForTopicField(String topicFieldName,\r\n            Object topicFieldValue) {\r\n        logger.debug(&quot;FirebaseMessagingService: notifyChangeForTopicField: &quot;\r\n                + &quot;topicFieldValue = &quot; + topicFieldValue.toString());\r\n\r\n        Map&lt;String, String&gt; messageMap = new HashMap&lt;String, String&gt;();\r\n        messageMap.put(&quot;REFRESH&quot;, &quot;true&quot;);\r\n\r\n        if (topicTokenMap != null\r\n                &amp;&amp; topicTokenMap.entrySet() != null\r\n                &amp;&amp; topicTokenMap.entrySet().size() &gt; 0) {\r\n            Iterator it = topicTokenMap.entrySet().iterator();\r\n            while (it.hasNext()) {\r\n                try {\r\n                    Map.Entry pair = (Map.Entry) it.next();\r\n                    Object topic = pair.getKey();\r\n                    logger.debug(&quot;FirebaseMessagingService: &quot;\r\n                            + &quot;notifyChangeForTopicField topic = &quot; + topic.toString());\r\n                    Field field = topic.getClass().getDeclaredField(topicFieldName);\r\n                    logger.debug(&quot;FirebaseMessagingService: &quot;\r\n                            + &quot;notifyChangeForTopicField field = &quot; + field.toString());\r\n                    field.setAccessible(true);\r\n                    logger.debug(&quot;FirebaseMessagingService: &quot;\r\n                            + &quot;notifyChangeForTopicField field contains topic: &quot;\r\n                            + (field.get(topic) != null ? &quot;true&quot; : &quot;false&quot;));\r\n                    if (field.get(topic) != null\r\n                            &amp;&amp; field.get(topic).equals(topicFieldValue)) {\r\n                        sendMessage(topic, messageMap);\r\n                        break;\r\n                    }\r\n                    it.remove();\r\n                } catch (NoSuchFieldException ex) {\r\n                    java.util.logging.Logger.getLogger(FirebaseMessagingService.class.getName()).log(Level.SEVERE, null, ex);\r\n                } catch (SecurityException ex) {\r\n                    java.util.logging.Logger.getLogger(FirebaseMessagingService.class.getName()).log(Level.SEVERE, null, ex);\r\n                } catch (IllegalArgumentException ex) {\r\n                    java.util.logging.Logger.getLogger(FirebaseMessagingService.class.getName()).log(Level.SEVERE, null, ex);\r\n                } catch (IllegalAccessException ex) {\r\n                    java.util.logging.Logger.getLogger(FirebaseMessagingService.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**EDIT: after a few more tests I&#39;ve found that when one client stops working, the others receive the messages just fine**\r\n\r\n  [1]: https://firebase.google.com/docs/cloud-messaging/concept-options#lifetime","title":"FCM android client randomly stops receiving data messages","body":"<p>I've implemented FCM on my server with an Android client, and it worked fine for a while. All of a sudden, the client stopped receiving notifications for 5-10 minutes at a time, after which it would get all the pending notifications at once. The logs show that the server is sending the messages correctly.\nWhen the message queue gets stuck, not even test messages from the Firebase console get through.</p>\n<p>The only relevant thing I've found in the official documentation was regarding <a href=\"https://firebase.google.com/docs/cloud-messaging/concept-options#lifetime\" rel=\"nofollow noreferrer\">the lifetime of a message</a>:</p>\n<blockquote>\n<p>If the device is not connected to FCM, the message is stored until a connection is established (again respecting the collapse key rules). When a connection is established, FCM delivers all pending messages to the device.</p>\n</blockquote>\n<p>But my network is working fine, and this issue has arisen on other networks and clients as well. When I freshly install the app, a new token is being generated and successfully received by my server. It's just the server-to-client messages that aren't going through.</p>\n<p><strong>How can I determine if the connection is established and fix it? Or what else could be the cause of this?</strong></p>\n<p>This is my client-side code</p>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;application\n        android:name=&quot;.App&quot;\n        android:allowBackup=&quot;false&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:largeHeap=&quot;true&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        tools:ignore=&quot;GoogleAppIndexingWarning&quot;&gt;\n        &lt;service\n            android:name=&quot;.service.NotificationService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n</code></pre>\n<p><strong>NotificationService.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class NotificationService extends FirebaseMessagingService {\n\n    private static final String TAG = &quot;NotificationService&quot;;\n    private static String token;\n\n    public NotificationService() {\n        token = PreferenceManager\n                .getDefaultSharedPreferences(App.getContext())\n                .getString(&quot;firebase-token&quot;, null);\n    }\n\n    @Override\n    public void onNewToken(@NonNull String s) {\n        super.onNewToken(s);\n        FirebaseInstanceId.getInstance().getInstanceId()\n                .addOnCompleteListener(new OnCompleteListener&lt;InstanceIdResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;InstanceIdResult&gt; task) {\n                        if (!task.isSuccessful()) {\n                            Log.w(TAG, &quot;getInstanceId failed&quot;, task.getException());\n                            return;\n                        }\n                        token = task.getResult().getToken();\n                        Log.d(TAG, &quot;onComplete: token = &quot; + token);\n                        PreferenceManager\n                                .getDefaultSharedPreferences(App.getContext())\n                                .edit()\n                                .putString(&quot;firebase-token&quot;, token)\n                                .apply();\n                    }\n                });\n    }\n\n    @Override\n    public void onMessageReceived(final RemoteMessage remoteMessage) {\n        super.onMessageReceived(remoteMessage);\n        Log.d(TAG, &quot;Received message of size &quot; + remoteMessage.getData().size());\n        if (remoteMessage.getData().size() &gt; 0) {\n            Log.d(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\n\n            Handler h = new Handler(Looper.getMainLooper());\n            h.post(new Runnable() {\n                public void run() {\n                    int left = -1, right = -1;\n                    if (remoteMessage.getData().get(&quot;left&quot;) != null) {\n                        left = Integer.parseInt(Objects.requireNonNull(remoteMessage.getData()\n                                .get(&quot;left&quot;)));\n                    }\n                    if (remoteMessage.getData().get(&quot;right&quot;) != null) {\n                        right = Integer.parseInt(Objects.requireNonNull(remoteMessage.getData()\n                                .get(&quot;right&quot;)));\n                    }\n\n\n                    if (remoteMessage.getData().get(&quot;REFRESH&quot;) != null) {\n                        Util.sendTitleBroadcast(getApplicationContext(),\n                                left, right,\n                                Util.REFRESH_TITLE);\n                    } else {\n                        Util.sendTitleBroadcast(getApplicationContext(),\n                                left, right,\n                                Util.TITLE_DATA_RECEIVED);\n                    }\n                }\n            });\n        }\n    }\n\n    public static String getToken() {\n        if (token == null) {\n            token = PreferenceManager\n                    .getDefaultSharedPreferences(App.getContext())\n                    .getString(&quot;firebase-token&quot;, null);\n        }\n        return token;\n    }\n}\n</code></pre>\n<p>Code for server-side\n<strong>FirebaseMessagingService.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FirebaseMessagingService {\n\n    private static final Logger logger = Logger\n            .getLogger(FirebaseMessagingService.class);\n    private static FirebaseMessagingService instance;\n\n    /**\n     * Path to resource file that contains the credentials for Admin SDK.\n     */\n    private final String keyPath = &quot;firebase-adminsdk.json&quot;;\n\n    /**\n     * Maps a token list to each topic Object.\n     */\n    private static Map&lt;Object, List&lt;String&gt;&gt; topicTokenMap;\n\n    public synchronized static FirebaseMessagingService getInstance() {\n        if (instance == null) {\n            instance = new FirebaseMessagingService();\n        }\n        return instance;\n    }\n\n    private FirebaseMessagingService() {\n        init();\n    }\n\n    /**\n     * Initializes the Firebase service account using the credentials from the\n     * json file found at keyPath.\n     */\n    private void init() {\n        try {\n            InputStream serviceAccount\n                    = getClass().getClassLoader().getResourceAsStream(keyPath);\n            if (serviceAccount != null) {\n                FirebaseOptions options = new FirebaseOptions.Builder()\n                        .setCredentials(GoogleCredentials\n                                .fromStream(serviceAccount))\n                        .setDatabaseUrl(databaseUrl)\n                        .build();\n\n                FirebaseApp.initializeApp(options);\n                logger.debug(&quot;FirebaseMessagingService: init successful&quot;);\n            } else {\n                logger.debug(&quot;FirebaseMessagingService: Input stream null from&quot;\n                        + &quot; path: &quot; + keyPath);\n            }\n        } catch (IOException ex) {\n            logger.debug(&quot;FirebaseMessagingService: Failed to get credentials &quot;\n                    + &quot;from inputStream.&quot; + ex.getMessage());\n        }\n    }\n\n    /**\n     * Sends the messages given as parameters to the list of tokens mapped to\n     * the given topic Object.\n     *\n     * @param topic\n     * @param messages\n     */\n    public void sendMessage(Object topic,\n            Map&lt;String, String&gt; messages) {\n        logger.debug(&quot;FirebaseMessagingService: sending Message &quot;\n                + messages.toString());\n        try {\n            if (topicTokenMap != null) {\n                List&lt;String&gt; tokenList = topicTokenMap.get(topic);\n                if (tokenList != null) {\n                    tokenList.removeAll(Collections.singleton(null));\n                    MulticastMessage message = MulticastMessage.builder()\n                            .putAllData(messages)\n                            .addAllTokens(tokenList)\n                            .build();\n                    FirebaseMessaging.getInstance().sendMulticast(message);\n                    logger.debug(&quot;FirebaseMessagingService: message sent successfully&quot;);\n                }\n            }\n        } catch (FirebaseMessagingException ex) {\n            logger.debug(ex.getMessage());\n        }\n    }\n\n    /**\n     * Registers the token given as a parameter to the topic Object.\n     *\n     * @param topic\n     * @param token\n     */\n    public void registerTokenToTopic(Object topic, String token) {\n        if (topicTokenMap == null) {\n            topicTokenMap = new HashMap&lt;Object, List&lt;String&gt;&gt;();\n        }\n        List&lt;String&gt; tokens = topicTokenMap.get(topic);\n        if (tokens == null) {\n            tokens = new ArrayList&lt;String&gt;();\n        }\n        if (!tokens.contains(token)) {\n            tokens.add(token);\n        }\n        topicTokenMap.put(topic, tokens);\n    }\n\n    /**\n     * Unregisters all instances of the token given as a parameter from the topic\n     * given.\n     *\n     * @param topic\n     * @param token\n     */\n    public void unregisterTokenFromTopic(Object topic, String token) {\n        if (topicTokenMap != null) {\n            List&lt;String&gt; tokens = topicTokenMap.get(topic);\n            if (tokens != null) {\n                tokens.removeAll(Collections.singleton(token));\n            }\n        }\n    }\n\n    /**\n     * Looks for a topic that has a field with the name equal to topicFieldName\n     * and the value equal to topicFieldValue and sends a notification to the\n     * tokens subscribed to that topic, telling them to ask for an update.\n     *\n     * @param topicFieldName\n     * @param topicFieldValue\n     */\n    public void notifyChangeForTopicField(String topicFieldName,\n            Object topicFieldValue) {\n        logger.debug(&quot;FirebaseMessagingService: notifyChangeForTopicField: &quot;\n                + &quot;topicFieldValue = &quot; + topicFieldValue.toString());\n\n        Map&lt;String, String&gt; messageMap = new HashMap&lt;String, String&gt;();\n        messageMap.put(&quot;REFRESH&quot;, &quot;true&quot;);\n\n        if (topicTokenMap != null\n                &amp;&amp; topicTokenMap.entrySet() != null\n                &amp;&amp; topicTokenMap.entrySet().size() &gt; 0) {\n            Iterator it = topicTokenMap.entrySet().iterator();\n            while (it.hasNext()) {\n                try {\n                    Map.Entry pair = (Map.Entry) it.next();\n                    Object topic = pair.getKey();\n                    logger.debug(&quot;FirebaseMessagingService: &quot;\n                            + &quot;notifyChangeForTopicField topic = &quot; + topic.toString());\n                    Field field = topic.getClass().getDeclaredField(topicFieldName);\n                    logger.debug(&quot;FirebaseMessagingService: &quot;\n                            + &quot;notifyChangeForTopicField field = &quot; + field.toString());\n                    field.setAccessible(true);\n                    logger.debug(&quot;FirebaseMessagingService: &quot;\n                            + &quot;notifyChangeForTopicField field contains topic: &quot;\n                            + (field.get(topic) != null ? &quot;true&quot; : &quot;false&quot;));\n                    if (field.get(topic) != null\n                            &amp;&amp; field.get(topic).equals(topicFieldValue)) {\n                        sendMessage(topic, messageMap);\n                        break;\n                    }\n                    it.remove();\n                } catch (NoSuchFieldException ex) {\n                    java.util.logging.Logger.getLogger(FirebaseMessagingService.class.getName()).log(Level.SEVERE, null, ex);\n                } catch (SecurityException ex) {\n                    java.util.logging.Logger.getLogger(FirebaseMessagingService.class.getName()).log(Level.SEVERE, null, ex);\n                } catch (IllegalArgumentException ex) {\n                    java.util.logging.Logger.getLogger(FirebaseMessagingService.class.getName()).log(Level.SEVERE, null, ex);\n                } catch (IllegalAccessException ex) {\n                    java.util.logging.Logger.getLogger(FirebaseMessagingService.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n\n        }\n    }\n}\n</code></pre>\n<p><strong>EDIT: after a few more tests I've found that when one client stops working, the others receive the messages just fine</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1636982413,"post_id":69974938,"comment_id":123695251,"body_markdown":"*&quot;I want the program to keep running till the user wants to exit&quot;* - Are you just looking for a loop then?  You can wrap your top-level program logic in a loop which will keep checking the user input and performing the requested task.  Or are you asking something else?  It&#39;s not entirely clear to me what specifically isn&#39;t working as expected.","body":"<i>&quot;I want the program to keep running till the user wants to exit&quot;</i> - Are you just looking for a loop then?  You can wrap your top-level program logic in a loop which will keep checking the user input and performing the requested task.  Or are you asking something else?  It&#39;s not entirely clear to me what specifically isn&#39;t working as expected."},{"owner":{"account_id":21836371,"reputation":11,"user_id":16624589,"display_name":"Tejas Gudi"},"score":0,"creation_date":1636998989,"post_id":69974938,"comment_id":123702196,"body_markdown":"hey David, it is in loop all the other options work except for when we select option 1 (create) the second time it gives errors but for other option it works just fine.","body":"hey David, it is in loop all the other options work except for when we select option 1 (create) the second time it gives errors but for other option it works just fine."},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1636999100,"post_id":69974938,"comment_id":123702241,"body_markdown":"And what is the error?  Which operation produces that error?  Please be specific about the problem.","body":"And what is the error?  Which operation produces that error?  Please be specific about the problem."}],"owner":{"account_id":21836371,"reputation":11,"user_id":16624589,"display_name":"Tejas Gudi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636981941,"creation_date":1636981941,"question_id":69974938,"body_markdown":"I am making a program which will create files and delete files etc. but the program can only create one file and after doing that it gets terminated, so I want to use String as name of create_file class object name so I can increment the numbers(String used as name of the object) so my question is, how can I use String as object name of a class constructor?\r\nbelow is the source code of the program-\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Scanner;\r\n\r\npublic class Create_File {\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\ttry {\r\n\t\t\tSelecter.select();\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\tstatic void create() throws IOException {\r\n\t\tString name;\r\n\t\tSystem.out.println(&quot;Enter a name for your file&quot;);\r\n\t\ttry(BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));){\r\n\t\t\tname = reader.readLine();\r\n\t\t\t//this block is used as try with resource statement used to overcome scanner resource leak\r\n\t\t}\r\n\t\ttry{\r\n\t\t\t//file is created with the name that user gives\r\n\t\t\t\r\n\t\t\tFile obj = new File(&quot;D:\\\\txtfiles\\\\&quot;+name+&quot;.txt&quot;);\r\n\t\t\tif(obj.createNewFile()) {\r\n\t\t\t\tSystem.out.println(&quot;file successfully created with the name &quot;+obj.getName());\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tSystem.out.println(&quot;The file already exists&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch(IOException e){\r\n\t\t\t//here exception during file creation is caught\r\n\t\t\tSystem.out.println(&quot;An error occurred.&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n//\t\tinfo(name);\r\n\t\tname = null;\r\n//\t\tSelecter.select();\r\n\t}\r\n\tstatic void info(String name) throws IOException {\r\n\t\tFile obj = new File(&quot;D:\\\\txtfiles\\\\&quot;+name+&quot;.txt&quot;);\r\n\t\tString data = null;\r\n\t\tScanner scan = new Scanner(obj);\r\n\t\tif(obj.exists()) {\r\n\t\t\t\t//file properties are printed out for both newly created file and the existing file\r\n\t\t\t\tSystem.out.println(&quot;File properties&quot;);\r\n\t\t\t\tSystem.out.println(&quot;Name of the file = &quot;+obj.getName());\r\n\t\t\t\tSystem.out.println(&quot;Path of file = &quot;+obj.getAbsolutePath());\r\n\t\t\t\tSystem.out.println(&quot;Size of file in Kb= &quot;+obj.length()/1024); // obj.lengeth is divided by 1024 to get the file size in Kb\r\n\t\t\t\tSystem.out.println(&quot;Readable = &quot;+obj.canRead());\r\n\t\t\t\tSystem.out.println(&quot;Writable = &quot;+obj.canWrite());\r\n\t\t}\r\n\t\t\telse {System.out.println(&quot;the file does not exist&quot;);\r\n\t\t\t//this block is used as try with resource statement used to overcome scanner resource leak\r\n\t\t\twhile(scan.hasNextLine()) {\r\n\t\t\t\tdata = scan.nextLine();\r\n\t\t\t\tSystem.out.println(data);\r\n\t\t\t\t}\r\n\t\t\t}\r\n//\t\tSelecter.select();\r\n\t\t}\r\n\tstatic void delete(String name) throws IOException {\r\n\t\ttry{\r\n\t\t\tFile obj = new File(&quot;D:\\\\txtfiles\\\\&quot;+name+&quot;.txt&quot;);\r\n\t\t\r\n\t\tobj.delete();\r\n\t\tif(obj.exists()==false) {\r\n\t\t\tSystem.out.println(&quot;file deleted successfully&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;file does not exist&quot;);\r\n\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nbelow is the source code of Selecter class-\r\n```\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.BufferedReader;\r\npublic class Selecter {\r\n\r\n\tstatic void select() throws IOException {\r\n\t\tString num=null;\r\n\t\tCreate_File create =new Create_File();\r\n\t\tSystem.out.println(&quot;Select Action&quot;);\r\n\t\tSystem.out.println(&quot;1. Create new text file&quot;);\r\n\t\tSystem.out.println(&quot;2. Delete an existing file&quot;);\r\n\t\tSystem.out.println(&quot;3. Find info of a file&quot;);\r\n\t\tSystem.out.println(&quot;4. Print the contents of a file&quot;);\r\n\t\tSystem.out.println(&quot;5. EXIT&quot;);\r\n\t\tSystem.out.println(&quot;Your choice = &quot;);\r\n\t\t\r\n\t\t\r\n\t\ttry\r\n\t\t\t(BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));){\r\n\t\t\tint choice = Integer.parseInt(num= reader.readLine());\r\n\t\t\tif(choice==1) {\r\n\t\t\t\tcreate.create();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if(choice == 2){\r\n\t\t\t\tSystem.out.println(&quot;enter file name to delete&quot;);\r\n\t\t\t\tString name=reader.readLine();\r\n\t\t\t\tcreate.delete(name);\r\n\t\t\t}\r\n\t\telse if(choice == 3) {\r\n\t\t\tSystem.out.println(&quot;enter file name to find its info&quot;);\r\n\t\t\tString name= reader.readLine();\r\n\t\t\tcreate.info(name);\r\n\t\t}\r\n\t\telse if(choice ==4) {\r\n\t\t\tBuffer contents = new Buffer();\r\n\t\t\tBuffer.main(null);\r\n\t\t}\r\n\t\telse if(choice == 5) {\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n//\t\tselect();\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n```\r\nor is there an alternative solution for this problem I want the program to keep running till the user wants to exit.  ","title":"How to use contents of a string as object name of a class constructor in Java and can I use object of a class more than one times?","body":"<p>I am making a program which will create files and delete files etc. but the program can only create one file and after doing that it gets terminated, so I want to use String as name of create_file class object name so I can increment the numbers(String used as name of the object) so my question is, how can I use String as object name of a class constructor?\nbelow is the source code of the program-</p>\n<pre><code>import java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\n\npublic class Create_File {\n    public static void main(String[] args) throws IOException {\n        try {\n            Selecter.select();\n        }\n        catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    \n    static void create() throws IOException {\n        String name;\n        System.out.println(&quot;Enter a name for your file&quot;);\n        try(BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));){\n            name = reader.readLine();\n            //this block is used as try with resource statement used to overcome scanner resource leak\n        }\n        try{\n            //file is created with the name that user gives\n            \n            File obj = new File(&quot;D:\\\\txtfiles\\\\&quot;+name+&quot;.txt&quot;);\n            if(obj.createNewFile()) {\n                System.out.println(&quot;file successfully created with the name &quot;+obj.getName());\n            }\n            else{\n                System.out.println(&quot;The file already exists&quot;);\n            }\n            \n        }\n        catch(IOException e){\n            //here exception during file creation is caught\n            System.out.println(&quot;An error occurred.&quot;);\n            e.printStackTrace();\n        }\n//      info(name);\n        name = null;\n//      Selecter.select();\n    }\n    static void info(String name) throws IOException {\n        File obj = new File(&quot;D:\\\\txtfiles\\\\&quot;+name+&quot;.txt&quot;);\n        String data = null;\n        Scanner scan = new Scanner(obj);\n        if(obj.exists()) {\n                //file properties are printed out for both newly created file and the existing file\n                System.out.println(&quot;File properties&quot;);\n                System.out.println(&quot;Name of the file = &quot;+obj.getName());\n                System.out.println(&quot;Path of file = &quot;+obj.getAbsolutePath());\n                System.out.println(&quot;Size of file in Kb= &quot;+obj.length()/1024); // obj.lengeth is divided by 1024 to get the file size in Kb\n                System.out.println(&quot;Readable = &quot;+obj.canRead());\n                System.out.println(&quot;Writable = &quot;+obj.canWrite());\n        }\n            else {System.out.println(&quot;the file does not exist&quot;);\n            //this block is used as try with resource statement used to overcome scanner resource leak\n            while(scan.hasNextLine()) {\n                data = scan.nextLine();\n                System.out.println(data);\n                }\n            }\n//      Selecter.select();\n        }\n    static void delete(String name) throws IOException {\n        try{\n            File obj = new File(&quot;D:\\\\txtfiles\\\\&quot;+name+&quot;.txt&quot;);\n        \n        obj.delete();\n        if(obj.exists()==false) {\n            System.out.println(&quot;file deleted successfully&quot;);\n        }\n        else {\n            System.out.println(&quot;file does not exist&quot;);\n        }\n        }\n        catch(Exception e) {\n            e.printStackTrace();\n        }   \n    }\n\n}\n\n</code></pre>\n<p>below is the source code of Selecter class-</p>\n<pre><code>import java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.BufferedReader;\npublic class Selecter {\n\n    static void select() throws IOException {\n        String num=null;\n        Create_File create =new Create_File();\n        System.out.println(&quot;Select Action&quot;);\n        System.out.println(&quot;1. Create new text file&quot;);\n        System.out.println(&quot;2. Delete an existing file&quot;);\n        System.out.println(&quot;3. Find info of a file&quot;);\n        System.out.println(&quot;4. Print the contents of a file&quot;);\n        System.out.println(&quot;5. EXIT&quot;);\n        System.out.println(&quot;Your choice = &quot;);\n        \n        \n        try\n            (BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));){\n            int choice = Integer.parseInt(num= reader.readLine());\n            if(choice==1) {\n                create.create();\n                \n            }\n            else if(choice == 2){\n                System.out.println(&quot;enter file name to delete&quot;);\n                String name=reader.readLine();\n                create.delete(name);\n            }\n        else if(choice == 3) {\n            System.out.println(&quot;enter file name to find its info&quot;);\n            String name= reader.readLine();\n            create.info(name);\n        }\n        else if(choice ==4) {\n            Buffer contents = new Buffer();\n            Buffer.main(null);\n        }\n        else if(choice == 5) {\n                System.exit(0);\n            }\n        }\n        \n//      select();\n    }\n\n}\n\n\n\n</code></pre>\n<p>or is there an alternative solution for this problem I want the program to keep running till the user wants to exit.</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1636978055,"post_id":69973602,"comment_id":123693559,"body_markdown":"There&#39;s no actual problem I wanna solve. It&#39;s just a theoretical thought. If you have arrays/`ArrayList`s/`HashSet`s that may grow quite large (simulations with grid logic and lots of moving objects) but the objects also get removed a lot, at some point you wanna shrink them back. You could check that on every removal, but later on it might need to grow in size again. So I thought the GC cycles might be a good indicator of when to check for RAM reaching limits, and then resize the lists with the worst size-to-elements ratio. But if I need polling, I could also just poll the RAM statistics...","body":"There&#39;s no actual problem I wanna solve. It&#39;s just a theoretical thought. If you have arrays/<code>ArrayList</code>s/<code>HashSet</code>s that may grow quite large (simulations with grid logic and lots of moving objects) but the objects also get removed a lot, at some point you wanna shrink them back. You could check that on every removal, but later on it might need to grow in size again. So I thought the GC cycles might be a good indicator of when to check for RAM reaching limits, and then resize the lists with the worst size-to-elements ratio. But if I need polling, I could also just poll the RAM statistics..."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1636981539,"post_id":69973602,"comment_id":123694896,"body_markdown":"I know none such data structures.","body":"I know none such data structures."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636975796,"creation_date":1636975796,"answer_id":69973712,"question_id":69973602,"body_markdown":"At least the *count* (and accumulated time) of garbage collection is exposed via JMX MBeans.\r\n\r\nSpecifically [`ManagementFactory.getGarbageCollectorMXBeans()`][1] will return a list of [`GarbageCollectorMXBean`][2] objects providing a `getCollectionCount()` method. You could poll those values and react to them changing.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.management/java/lang/management/ManagementFactory.html#getGarbageCollectorMXBeans()\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.management/java/lang/management/GarbageCollectorMXBean.html","title":"How to detect JVM Garbage Collection cycle from INSIDE the app?","body":"<p>At least the <em>count</em> (and accumulated time) of garbage collection is exposed via JMX MBeans.</p>\n<p>Specifically <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.management/java/lang/management/ManagementFactory.html#getGarbageCollectorMXBeans()\" rel=\"nofollow noreferrer\"><code>ManagementFactory.getGarbageCollectorMXBeans()</code></a> will return a list of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.management/java/lang/management/GarbageCollectorMXBean.html\" rel=\"nofollow noreferrer\"><code>GarbageCollectorMXBean</code></a> objects providing a <code>getCollectionCount()</code> method. You could poll those values and react to them changing.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1636981832,"creation_date":1636981832,"answer_id":69974902,"question_id":69973602,"body_markdown":"[`GarbageCollectorMXBean`] is pointing into the right direction. What’s not obvious, is that this bean implements [`NotificationEmitter`] which allows notifications about garbage collections:\r\n\r\n```java\r\nstatic volatile Object PREVENT_ESCAPE_ANALYSIS;\r\n\r\npublic static void main(String[] args) {\r\n    List&lt;GarbageCollectorMXBean&gt; gc = ManagementFactory.getGarbageCollectorMXBeans();\r\n    for(GarbageCollectorMXBean b: gc) {\r\n        ((NotificationEmitter)b).addNotificationListener((n, handback) -&gt; {\r\n            GarbageCollectionNotificationInfo gcni\r\n                = GarbageCollectionNotificationInfo.from((CompositeData)n.getUserData());\r\n            GcInfo info = gcni.getGcInfo();\r\n            System.out.printf(&quot;%tT.%1$tL %dms %s %s %s%n&quot;, info.getStartTime(),\r\n               info.getDuration(),gcni.getGcName(),gcni.getGcAction(),gcni.getGcCause());\r\n            Map&lt;String, MemoryUsage&gt; before = info.getMemoryUsageBeforeGc();\r\n            info.getMemoryUsageAfterGc().forEach((s, u) -&gt; {\r\n                long bu = before.get(s).getUsed(), au = u.getUsed();\r\n                if(bu != au) System.out.println(&quot;\\t&quot; + s + &quot; &quot; + bu + &quot; -&gt; &quot; + au);\r\n            });\r\n        }, null, b);\r\n    }\r\n\r\n    for(;;) {\r\n        PREVENT_ESCAPE_ANALYSIS = new Object();\r\n    }\r\n}\r\n```\r\n\r\n#### [Demo on Ideone]\r\n```none\r\n00:00:00.203 2ms Copy end of minor GC Allocation Failure\r\n\tEden Space 70516736 -&gt; 0\r\n\tSurvivor Space 0 -&gt; 795176\r\n00:00:00.271 1ms Copy end of minor GC Allocation Failure\r\n\tEden Space 70516736 -&gt; 0\r\n\tSurvivor Space 795176 -&gt; 862960\r\n00:00:00.355 2ms Copy end of minor GC Allocation Failure\r\n\tEden Space 70516736 -&gt; 0\r\n\tSurvivor Space 862960 -&gt; 931952\r\n00:00:00.412 2ms Copy end of minor GC Allocation Failure\r\n\tEden Space 70516736 -&gt; 0\r\n\tSurvivor Space 931952 -&gt; 1004784\r\n00:00:00.497 2ms Copy end of minor GC Allocation Failure\r\n\tEden Space 70516736 -&gt; 0\r\n\tSurvivor Space 1004784 -&gt; 1379400\r\n00:00:00.574 3ms Copy end of minor GC Allocation Failure\r\n\tEden Space 70516736 -&gt; 0\r\n\tSurvivor Space 1379400 -&gt; 1551944\r\n00:00:00.632 2ms Copy end of minor GC Allocation Failure\r\n\tEden Space 70516736 -&gt; 0\r\n\tSurvivor Space 1551944 -&gt; 1541144\r\n…\r\n```\r\n\r\n[`GarbageCollectorMXBean`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.management/java/lang/management/GarbageCollectorMXBean.html\r\n[`NotificationEmitter`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.management/javax/management/NotificationEmitter.html\r\n[Demo on Ideone]: https://ideone.com/MjnrS4","title":"How to detect JVM Garbage Collection cycle from INSIDE the app?","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.management/java/lang/management/GarbageCollectorMXBean.html\" rel=\"noreferrer\"><code>GarbageCollectorMXBean</code></a> is pointing into the right direction. What’s not obvious, is that this bean implements <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.management/javax/management/NotificationEmitter.html\" rel=\"noreferrer\"><code>NotificationEmitter</code></a> which allows notifications about garbage collections:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static volatile Object PREVENT_ESCAPE_ANALYSIS;\n\npublic static void main(String[] args) {\n    List&lt;GarbageCollectorMXBean&gt; gc = ManagementFactory.getGarbageCollectorMXBeans();\n    for(GarbageCollectorMXBean b: gc) {\n        ((NotificationEmitter)b).addNotificationListener((n, handback) -&gt; {\n            GarbageCollectionNotificationInfo gcni\n                = GarbageCollectionNotificationInfo.from((CompositeData)n.getUserData());\n            GcInfo info = gcni.getGcInfo();\n            System.out.printf(&quot;%tT.%1$tL %dms %s %s %s%n&quot;, info.getStartTime(),\n               info.getDuration(),gcni.getGcName(),gcni.getGcAction(),gcni.getGcCause());\n            Map&lt;String, MemoryUsage&gt; before = info.getMemoryUsageBeforeGc();\n            info.getMemoryUsageAfterGc().forEach((s, u) -&gt; {\n                long bu = before.get(s).getUsed(), au = u.getUsed();\n                if(bu != au) System.out.println(&quot;\\t&quot; + s + &quot; &quot; + bu + &quot; -&gt; &quot; + au);\n            });\n        }, null, b);\n    }\n\n    for(;;) {\n        PREVENT_ESCAPE_ANALYSIS = new Object();\n    }\n}\n</code></pre>\n<h4><a href=\"https://ideone.com/MjnrS4\" rel=\"noreferrer\">Demo on Ideone</a></h4>\n<pre class=\"lang-none prettyprint-override\"><code>00:00:00.203 2ms Copy end of minor GC Allocation Failure\n    Eden Space 70516736 -&gt; 0\n    Survivor Space 0 -&gt; 795176\n00:00:00.271 1ms Copy end of minor GC Allocation Failure\n    Eden Space 70516736 -&gt; 0\n    Survivor Space 795176 -&gt; 862960\n00:00:00.355 2ms Copy end of minor GC Allocation Failure\n    Eden Space 70516736 -&gt; 0\n    Survivor Space 862960 -&gt; 931952\n00:00:00.412 2ms Copy end of minor GC Allocation Failure\n    Eden Space 70516736 -&gt; 0\n    Survivor Space 931952 -&gt; 1004784\n00:00:00.497 2ms Copy end of minor GC Allocation Failure\n    Eden Space 70516736 -&gt; 0\n    Survivor Space 1004784 -&gt; 1379400\n00:00:00.574 3ms Copy end of minor GC Allocation Failure\n    Eden Space 70516736 -&gt; 0\n    Survivor Space 1379400 -&gt; 1551944\n00:00:00.632 2ms Copy end of minor GC Allocation Failure\n    Eden Space 70516736 -&gt; 0\n    Survivor Space 1551944 -&gt; 1541144\n…\n</code></pre>\n"}],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69974902,"answer_count":2,"score":2,"last_activity_date":1636981832,"creation_date":1636975305,"question_id":69973602,"body_markdown":"I just wondered if there&#39;s a way to detect a Garbage Collection cycle from within the code/JVM that&#39;s being gc&#39;d.\r\n\r\nTiming does not play a role. So whether it&#39;s an event that occurs sometime before the actual cycle or afterwards is not important. (Having an event DURING the cycle seems highly unlikely and is probably dangerous too, depending on the GC implementation used).\r\n\r\nAll I could find were apps that can be used in parallel to the running JVM, such as jstat: https://dzone.com/articles/how-monitor-java-garbage with the source code here, for example: https://github.com/eagle518/jdk-source-code/blob/master/jdk5.0_src/j2se/src/share/classes/sun/tools/jstat/Jstat.java\r\n\r\nAll I see is that they use \r\n\r\n        MonitoredHost monitoredHost = MonitoredHost.getMonitoredHost(vmId);\r\n        MonitoredVm monitoredVm = monitoredHost.getMonitoredVm(vmId, interval);\r\n \r\nSo my problem is based on 2 questions. If the second question has a solution, we don&#39;t need to answer Q 1:\r\n 1. my knowledge of MonitoredVm is not not good enough to know how to access the local JVM. Usually there&#39;s the VM ID required. How could I address that reliably, or is there another way that I can get the &#39;local&#39; `MonitoredVm`?\r\n 2. and would it even be necessary to use MonitoredVm, or is there anything a lot easier, like one can &#39;install&#39; a shutdown hook and detect that event (`Runtime.getRuntime().addShutdownHook(hookThread);`)? Java Reflection is also a welcome solution!","title":"How to detect JVM Garbage Collection cycle from INSIDE the app?","body":"<p>I just wondered if there's a way to detect a Garbage Collection cycle from within the code/JVM that's being gc'd.</p>\n<p>Timing does not play a role. So whether it's an event that occurs sometime before the actual cycle or afterwards is not important. (Having an event DURING the cycle seems highly unlikely and is probably dangerous too, depending on the GC implementation used).</p>\n<p>All I could find were apps that can be used in parallel to the running JVM, such as jstat: <a href=\"https://dzone.com/articles/how-monitor-java-garbage\" rel=\"nofollow noreferrer\">https://dzone.com/articles/how-monitor-java-garbage</a> with the source code here, for example: <a href=\"https://github.com/eagle518/jdk-source-code/blob/master/jdk5.0_src/j2se/src/share/classes/sun/tools/jstat/Jstat.java\" rel=\"nofollow noreferrer\">https://github.com/eagle518/jdk-source-code/blob/master/jdk5.0_src/j2se/src/share/classes/sun/tools/jstat/Jstat.java</a></p>\n<p>All I see is that they use</p>\n<pre><code>    MonitoredHost monitoredHost = MonitoredHost.getMonitoredHost(vmId);\n    MonitoredVm monitoredVm = monitoredHost.getMonitoredVm(vmId, interval);\n</code></pre>\n<p>So my problem is based on 2 questions. If the second question has a solution, we don't need to answer Q 1:</p>\n<ol>\n<li>my knowledge of MonitoredVm is not not good enough to know how to access the local JVM. Usually there's the VM ID required. How could I address that reliably, or is there another way that I can get the 'local' <code>MonitoredVm</code>?</li>\n<li>and would it even be necessary to use MonitoredVm, or is there anything a lot easier, like one can 'install' a shutdown hook and detect that event (<code>Runtime.getRuntime().addShutdownHook(hookThread);</code>)? Java Reflection is also a welcome solution!</li>\n</ol>\n"},{"tags":["java","jpa","collections","criteria-api"],"comments":[{"owner":{"account_id":13795447,"reputation":1007,"user_id":9956773,"display_name":"frank"},"score":0,"creation_date":1636965477,"post_id":69946645,"comment_id":123689026,"body_markdown":"I don&#39;t know how to write this query checking the Id only, but if you have an Instance of People the query would look like this\n\n``` query.where(cb.isMember(peopleInstance, root.get(&quot;peoples&quot;)) ```","body":"I don&#39;t know how to write this query checking the Id only, but if you have an Instance of People the query would look like this  ``` query.where(cb.isMember(peopleInstance, root.get(&quot;peoples&quot;)) ```"},{"owner":{"account_id":23319148,"reputation":13,"user_id":17397360,"display_name":"Spring soup"},"score":0,"creation_date":1636976753,"post_id":69946645,"comment_id":123693068,"body_markdown":"Dear, @frank. Your answer helped me. If you form it as an answer, I will mark it as correct","body":"Dear, @frank. Your answer helped me. If you form it as an answer, I will mark it as correct"}],"answers":[{"tags":[],"owner":{"account_id":13795447,"reputation":1007,"user_id":9956773,"display_name":"frank"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636981694,"creation_date":1636981694,"answer_id":69974878,"question_id":69946645,"body_markdown":"I don&#39;t know how to write this query checking the Id only, but if you have an Instance of People the query would look like this\r\n\r\n```query.where(cb.isMember(peopleInstance, root.get(&quot;peoples&quot;))```","title":"JPA Criteria API does Set contain the value?","body":"<p>I don't know how to write this query checking the Id only, but if you have an Instance of People the query would look like this</p>\n<p><code>query.where(cb.isMember(peopleInstance, root.get(&quot;peoples&quot;))</code></p>\n"}],"owner":{"account_id":23319148,"reputation":13,"user_id":17397360,"display_name":"Spring soup"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":938,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69974878,"answer_count":1,"score":1,"last_activity_date":1636981694,"creation_date":1636737166,"question_id":69946645,"body_markdown":"Imagine a library. The library contains books. Each book is a separate entity. There are readers (peoples) in the library. When a person takes a book to read, I indicate that this book was read by people.\r\n\r\nThe subject area has been redesigned for the question, don&#39;t swear off the logic\r\n\r\nI can&#39;t understand how to make a Criteria query to see if `Set&lt;People&gt; peoples` contains people of a certain People\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;book&quot;)\r\npublic class Book{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    Long id;\r\n\r\n    @Column\r\n    @NotEmpty\r\n    String title;\r\n\r\n    @ManyToMany(cascade = {\r\n            CascadeType.PERSIST,\r\n            CascadeType.MERGE\r\n    })\r\n    @JoinTable(name = &quot;people_read&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;id_people&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;id_book&quot;))\r\n    Set&lt;People&gt; peoples = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;people&quot;)\r\npublic class People {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    Long id;\r\n\r\n    @Column\r\n    @NotEmpty\r\n    String name;\r\n\r\n    @ManyToMany(mappedBy = &quot;peoples&quot;)\r\n    Set&lt;Book&gt; books = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n\r\nWhat I&#39;m trying to do:\r\n```\r\nPath&lt;Object&gt; peoples = root.get(&quot;peoples&quot;);\r\n(Predicate) query.where(peoples .get(&quot;id&quot;).in(cb.parameter(Set.class, &quot;3&quot;))); //3 is for example the id of people whom I want to know if they have read the book\r\n\r\n```","title":"JPA Criteria API does Set contain the value?","body":"<p>Imagine a library. The library contains books. Each book is a separate entity. There are readers (peoples) in the library. When a person takes a book to read, I indicate that this book was read by people.</p>\n<p>The subject area has been redesigned for the question, don't swear off the logic</p>\n<p>I can't understand how to make a Criteria query to see if <code>Set&lt;People&gt; peoples</code> contains people of a certain People</p>\n<pre><code>@Entity\n@Table(name = &quot;book&quot;)\npublic class Book{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    Long id;\n\n    @Column\n    @NotEmpty\n    String title;\n\n    @ManyToMany(cascade = {\n            CascadeType.PERSIST,\n            CascadeType.MERGE\n    })\n    @JoinTable(name = &quot;people_read&quot;,\n            joinColumns = @JoinColumn(name = &quot;id_people&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;id_book&quot;))\n    Set&lt;People&gt; peoples = new HashSet&lt;&gt;();\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;people&quot;)\npublic class People {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    Long id;\n\n    @Column\n    @NotEmpty\n    String name;\n\n    @ManyToMany(mappedBy = &quot;peoples&quot;)\n    Set&lt;Book&gt; books = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>What I'm trying to do:</p>\n<pre><code>Path&lt;Object&gt; peoples = root.get(&quot;peoples&quot;);\n(Predicate) query.where(peoples .get(&quot;id&quot;).in(cb.parameter(Set.class, &quot;3&quot;))); //3 is for example the id of people whom I want to know if they have read the book\n\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","junit","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1636981982,"post_id":69974765,"comment_id":123695093,"body_markdown":"Judging by the structure of your test you are mixing JUnit4 with JUnit5 which isn&#39;t going to work. I suspect the `@Test` is from JUnit5, while the `@RunWith` is from JUnit4. Instead of `@RunWith` use `@ExtendWith(MockitoExtension.class)`.  Just wondering why you are creating a new list and adding the admins instead of just returning the result of the call to the repository.","body":"Judging by the structure of your test you are mixing JUnit4 with JUnit5 which isn&#39;t going to work. I suspect the <code>@Test</code> is from JUnit5, while the <code>@RunWith</code> is from JUnit4. Instead of <code>@RunWith</code> use <code>@ExtendWith(MockitoExtension.class)</code>.  Just wondering why you are creating a new list and adding the admins instead of just returning the result of the call to the repository."}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1636981571,"creation_date":1636981571,"answer_id":69974849,"question_id":69974765,"body_markdown":"The problem is that you no only test the repository but also the service.\r\n\r\nThis should work:\r\n\r\n    @SpringBootTest\r\n    class AdminServiceTest {\r\n    \r\n        @Autowired\r\n        AdminService adminService;\r\n        \r\n        @MockBean\r\n        private AdminRepository adminRepository;\r\n        \r\n        @Test\r\n        void getAllTest() {\r\n            List&lt;Admin&gt; list  = new ArrayList&lt;Admin&gt;();\r\n            Admin admin = new Admin();\r\n            \r\n            list.add(admin);\r\n            \r\n            when(adminRepository.findAll()).thenReturn(list);\r\n            \r\n            List&lt;Admin&gt; adminList = adminService.getAllAdmins();\r\n            \r\n            assertEquals(1, adminList.size());\r\n            \r\n            verify(adminRepository, times(1)).findAll();\r\n        }\r\n    \r\n    }\r\n\r\nPlease also read https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications.mocking-beans","title":"Spring Boot Java Cannot Mock JPARepository for Unit Test","body":"<p>The problem is that you no only test the repository but also the service.</p>\n<p>This should work:</p>\n<pre><code>@SpringBootTest\nclass AdminServiceTest {\n\n    @Autowired\n    AdminService adminService;\n    \n    @MockBean\n    private AdminRepository adminRepository;\n    \n    @Test\n    void getAllTest() {\n        List&lt;Admin&gt; list  = new ArrayList&lt;Admin&gt;();\n        Admin admin = new Admin();\n        \n        list.add(admin);\n        \n        when(adminRepository.findAll()).thenReturn(list);\n        \n        List&lt;Admin&gt; adminList = adminService.getAllAdmins();\n        \n        assertEquals(1, adminList.size());\n        \n        verify(adminRepository, times(1)).findAll();\n    }\n\n}\n</code></pre>\n<p>Please also read <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications.mocking-beans\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications.mocking-beans</a></p>\n"}],"owner":{"account_id":4239526,"reputation":21,"user_id":3469829,"display_name":"user3469829"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636981571,"creation_date":1636981122,"question_id":69974765,"body_markdown":"So I am struggling to create a mock of my JPARepo for a unit test still new to spring even newer to testing it. \r\n\r\nThe error I am getting is &gt; java.lang.NullPointerException: Cannot invoke &quot;net.codejava.data.AdminRepository.findAll()&quot; because &quot;this.adminRepository&quot; is null\r\n\r\nI am confused because based off the example I was following I should be mocking the repository correctly.\r\n\r\nMy test is below.\r\n\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\nclass AdminServiceTest {\r\n\r\n\t@InjectMocks\r\n\tAdminService adminService;\r\n\t\r\n\t@Mock\r\n\tprivate AdminRepository adminRepository;\r\n\t\r\n\t@Test\r\n\tvoid getAllTest() {\r\n\t\tList&lt;Admin&gt; list  = new ArrayList&lt;Admin&gt;();\r\n\t\tAdmin admin = new Admin();\r\n\t\t\r\n\t\tlist.add(admin);\r\n\t\t\r\n\t\twhen(adminRepository.findAll()).thenReturn(list);\r\n\t\t\r\n\t\tList&lt;Admin&gt; adminList = adminService.getAllAdmins();\r\n\t\t\r\n\t\tassertEquals(1, adminList.size());\r\n\t\t\r\n\t\tverify(adminRepository, times(1)).findAll();\r\n\t}\r\n\r\n}\r\n```\r\nThis is my JpaRepo\r\n\r\n```\r\n@Repository\r\npublic interface AdminRepository extends CrudRepository&lt;Admin, String&gt; {\r\n\tpublic List&lt;Admin&gt; findByusername(String admin);\r\n\r\n\tpublic void deleteById(long l);\r\n\r\n\tpublic List&lt;Admin&gt; findById(long l);\r\n}\r\n```\r\n\r\nThis is my service class\r\n\r\n```\r\n@Service\r\npublic class AdminService {\r\n\t\r\n\t@Autowired\r\n\tprivate AdminRepository adminRepository;\r\n\t\r\n\tpublic List&lt;Admin&gt; getAllAdmins() {\r\n\t\tList&lt;Admin&gt; admins = new ArrayList&lt;&gt;();\r\n\t\tadminRepository.findAll().forEach(admins::add);\r\n\t\treturn admins;\r\n\t}\r\n\t\r\n\tpublic List&lt;Admin&gt; getAllAdminsByUserName(String username) {\r\n\t\tList&lt;Admin&gt; admins = new ArrayList&lt;&gt;();\r\n\t\tadminRepository.findByusername(username).forEach(admins::add);\r\n\t\treturn admins;\r\n\t}\r\n\r\n\tpublic List&lt;Admin&gt; getAdmins(long l) {\r\n\t\treturn adminRepository.findById(l);\r\n\t}\r\n\t\r\n\tpublic void updateAdmin(long l, Admin admin) {\r\n\t\tadminRepository.save(admin);\r\n\t}\r\n\r\n\tpublic void deleteAdmin(long l, Admin admin) {\r\n\t\tadminRepository.deleteById(l);\r\n\t}\r\n\r\n\tpublic void addAdmin(Admin admin) {\r\n\t\tadminRepository.save(admin);\r\n\t} \r\n\t\r\n}\r\n```\r\n\r\nI am not to sure why it isn&#39;t injecting my mock of the Jpa Repo correctly. Its a noob question but I am really not sure.","title":"Spring Boot Java Cannot Mock JPARepository for Unit Test","body":"<p>So I am struggling to create a mock of my JPARepo for a unit test still new to spring even newer to testing it.</p>\n<p>The error I am getting is &gt; java.lang.NullPointerException: Cannot invoke &quot;net.codejava.data.AdminRepository.findAll()&quot; because &quot;this.adminRepository&quot; is null</p>\n<p>I am confused because based off the example I was following I should be mocking the repository correctly.</p>\n<p>My test is below.</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\nclass AdminServiceTest {\n\n    @InjectMocks\n    AdminService adminService;\n    \n    @Mock\n    private AdminRepository adminRepository;\n    \n    @Test\n    void getAllTest() {\n        List&lt;Admin&gt; list  = new ArrayList&lt;Admin&gt;();\n        Admin admin = new Admin();\n        \n        list.add(admin);\n        \n        when(adminRepository.findAll()).thenReturn(list);\n        \n        List&lt;Admin&gt; adminList = adminService.getAllAdmins();\n        \n        assertEquals(1, adminList.size());\n        \n        verify(adminRepository, times(1)).findAll();\n    }\n\n}\n</code></pre>\n<p>This is my JpaRepo</p>\n<pre><code>@Repository\npublic interface AdminRepository extends CrudRepository&lt;Admin, String&gt; {\n    public List&lt;Admin&gt; findByusername(String admin);\n\n    public void deleteById(long l);\n\n    public List&lt;Admin&gt; findById(long l);\n}\n</code></pre>\n<p>This is my service class</p>\n<pre><code>@Service\npublic class AdminService {\n    \n    @Autowired\n    private AdminRepository adminRepository;\n    \n    public List&lt;Admin&gt; getAllAdmins() {\n        List&lt;Admin&gt; admins = new ArrayList&lt;&gt;();\n        adminRepository.findAll().forEach(admins::add);\n        return admins;\n    }\n    \n    public List&lt;Admin&gt; getAllAdminsByUserName(String username) {\n        List&lt;Admin&gt; admins = new ArrayList&lt;&gt;();\n        adminRepository.findByusername(username).forEach(admins::add);\n        return admins;\n    }\n\n    public List&lt;Admin&gt; getAdmins(long l) {\n        return adminRepository.findById(l);\n    }\n    \n    public void updateAdmin(long l, Admin admin) {\n        adminRepository.save(admin);\n    }\n\n    public void deleteAdmin(long l, Admin admin) {\n        adminRepository.deleteById(l);\n    }\n\n    public void addAdmin(Admin admin) {\n        adminRepository.save(admin);\n    } \n    \n}\n</code></pre>\n<p>I am not to sure why it isn't injecting my mock of the Jpa Repo correctly. Its a noob question but I am really not sure.</p>\n"},{"tags":["java","mysql","jdbc","batch-processing"],"comments":[{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1636923747,"post_id":69967140,"comment_id":123681489,"body_markdown":"no, how can a database else keep track of the updated data, it will lock a row or table and then when the lock is released the second can do its task","body":"no, how can a database else keep track of the updated data, it will lock a row or table and then when the lock is released the second can do its task"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1636924498,"post_id":69967140,"comment_id":123681663,"body_markdown":"If you are worried about consistency, I would look into JDBC Transactions.","body":"If you are worried about consistency, I would look into JDBC Transactions."},{"owner":{"account_id":16572523,"reputation":167,"user_id":11975229,"display_name":"xvzf"},"score":0,"creation_date":1636924521,"post_id":69967140,"comment_id":123681672,"body_markdown":"@nbk I see. By the way, is it possible to have two simultaneous active connection objects one for batch processing and the other for immediate execute ? Assuming the queries will not be working upon the same records.","body":"@nbk I see. By the way, is it possible to have two simultaneous active connection objects one for batch processing and the other for immediate execute ? Assuming the queries will not be working upon the same records."}],"answers":[{"tags":[],"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636981448,"creation_date":1636926468,"answer_id":69967458,"question_id":69967140,"body_markdown":"In your case it is basically not predictable which will start first as also processors can shift commands  ad risc level.\r\n\r\nin a view of a rdms, you can have simultaneous access to the same table/ row for that you can read more about [locking][1]\r\n\r\nfor a executebatch is one transaction for the hole batch, so if it would start first, your single command would be locked out, till the lock was lifted, and then proceed if not the timeout hits first.\r\n\r\nso for one rdms the consistency is guaranteed, for replicated system it  gets more [complicated][2]\r\n\r\nOh I see an edit:\r\n\r\nRow level locks are mentioned in the first link, which would answer your edit also:\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html\r\n  [2]: https://dev.mysql.com/doc/refman/8.0/en/group-replication-configuring-consistency-guarantees.html","title":"Can executeQuery and executeBatch be used simultaneously with one connection for each?","body":"<p>In your case it is basically not predictable which will start first as also processors can shift commands  ad risc level.</p>\n<p>in a view of a rdms, you can have simultaneous access to the same table/ row for that you can read more about <a href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html\" rel=\"nofollow noreferrer\">locking</a></p>\n<p>for a executebatch is one transaction for the hole batch, so if it would start first, your single command would be locked out, till the lock was lifted, and then proceed if not the timeout hits first.</p>\n<p>so for one rdms the consistency is guaranteed, for replicated system it  gets more <a href=\"https://dev.mysql.com/doc/refman/8.0/en/group-replication-configuring-consistency-guarantees.html\" rel=\"nofollow noreferrer\">complicated</a></p>\n<p>Oh I see an edit:</p>\n<p>Row level locks are mentioned in the first link, which would answer your edit also:</p>\n"}],"owner":{"account_id":16572523,"reputation":167,"user_id":11975229,"display_name":"xvzf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636981448,"creation_date":1636923550,"question_id":69967140,"body_markdown":"I have a use case where in I need to process some queries in batch ( stmt.addBatch() ) and some queries need to be executed as soon as they are created (stmt.executeQuery() ) because their result will be used in the queries going for batch processing. The database is (obviously) common for both. My question is can I keep two open connections throughout for the above use case ? Will that be a good idea considering consistency &amp; viability in mind ? \r\n\r\nEdit : What if the queries in question were to act upon different records, can 2 simultaneous active connection objects be kept alive for handling each scenario ?\r\n\r\nP.S. - I am relatively new to backend &amp; databases specifically, request you to include some explanation / further reading pointers for the same. ","title":"Can executeQuery and executeBatch be used simultaneously with one connection for each?","body":"<p>I have a use case where in I need to process some queries in batch ( stmt.addBatch() ) and some queries need to be executed as soon as they are created (stmt.executeQuery() ) because their result will be used in the queries going for batch processing. The database is (obviously) common for both. My question is can I keep two open connections throughout for the above use case ? Will that be a good idea considering consistency &amp; viability in mind ?</p>\n<p>Edit : What if the queries in question were to act upon different records, can 2 simultaneous active connection objects be kept alive for handling each scenario ?</p>\n<p>P.S. - I am relatively new to backend &amp; databases specifically, request you to include some explanation / further reading pointers for the same.</p>\n"},{"tags":["java","regex","cucumber"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1636731290,"post_id":69942746,"comment_id":123642517,"body_markdown":"Did you try `&quot;[0-9]+(?= event templates of)|(?&lt;= event templates of ).*&quot;`?","body":"Did you try <code>&quot;[0-9]+(?= event templates of)|(?&lt;= event templates of ).*&quot;</code>?"},{"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"score":0,"creation_date":1636735787,"post_id":69942746,"comment_id":123644396,"body_markdown":"That works but then nothing gets highlighted in the feature file, even 100 and TYPE. But I need exactly only them to be highlighted","body":"That works but then nothing gets highlighted in the feature file, even 100 and TYPE. But I need exactly only them to be highlighted"}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636981346,"creation_date":1636981346,"answer_id":69974807,"question_id":69942746,"body_markdown":"You see such highlighting because you actually define single compound parameter. Hence a plugin highlights all that matches your expression.\r\n\r\nThe only way to split those values visually is to use two separate parameters: one for number and one for type.","title":"Custom cucumber expression highlighted","body":"<p>You see such highlighting because you actually define single compound parameter. Hence a plugin highlights all that matches your expression.</p>\n<p>The only way to split those values visually is to use two separate parameters: one for number and one for type.</p>\n"}],"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69974807,"answer_count":1,"score":1,"last_activity_date":1636981346,"creation_date":1636719047,"question_id":69942746,"body_markdown":"I&#39;ve written custom cucumber transformer and accordingly the RegExp.\r\n\r\n    typeRegistry.defineParameterType(new ParameterType(\r\n            &quot;list_of_event_templates&quot;,\r\n            &quot;([0-9]+) event templates of (.*)&quot;,\r\n            List.class,\r\n            new GenericRecordListTransformer&lt;&gt;()\r\n    ));\r\n\r\nEverything works fine, however the cucumber highlights all the matching expression in feature file like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut I want to make it readable in terms of parameters:\r\n\r\nExpected: generate **100** event templates of **TYPE**\r\n\r\nActual: generate **100 event templates of TYPE**\r\n\r\nIs it possible to achieve this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5ruml.png","title":"Custom cucumber expression highlighted","body":"<p>I've written custom cucumber transformer and accordingly the RegExp.</p>\n<pre><code>typeRegistry.defineParameterType(new ParameterType(\n        &quot;list_of_event_templates&quot;,\n        &quot;([0-9]+) event templates of (.*)&quot;,\n        List.class,\n        new GenericRecordListTransformer&lt;&gt;()\n));\n</code></pre>\n<p>Everything works fine, however the cucumber highlights all the matching expression in feature file like this:</p>\n<p><a href=\"https://i.stack.imgur.com/5ruml.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5ruml.png\" alt=\"enter image description here\" /></a></p>\n<p>But I want to make it readable in terms of parameters:</p>\n<p>Expected: generate <strong>100</strong> event templates of <strong>TYPE</strong></p>\n<p>Actual: generate <strong>100 event templates of TYPE</strong></p>\n<p>Is it possible to achieve this?</p>\n"},{"tags":["java","selenium","testng"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1636611951,"post_id":69923276,"comment_id":123604978,"body_markdown":"Please share the code for sending email `Email_Invoke.main(null)`","body":"Please share the code for sending email <code>Email_Invoke.main(null)</code>"},{"owner":{"account_id":23302546,"reputation":1,"user_id":17382982,"display_name":"Arpit Sharma"},"score":0,"creation_date":1636694931,"post_id":69923276,"comment_id":123630143,"body_markdown":"Thank you for the response @NandanA.. The code is okay.. the thing is I need a way to run it after the Test Case has been executed. That is the issue.","body":"Thank you for the response @NandanA.. The code is okay.. the thing is I need a way to run it after the Test Case has been executed. That is the issue."},{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1636695256,"post_id":69923276,"comment_id":123630190,"body_markdown":"Are you flushing the extent reports?","body":"Are you flushing the extent reports?"},{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1636695407,"post_id":69923276,"comment_id":123630217,"body_markdown":"`ExtentReports extent = new ExtentReports(ExtentReportsLocationFileName, true);`  and `extent.flush();` do this before sending report.","body":"<code>ExtentReports extent = new ExtentReports(ExtentReportsLocationFileName, true);</code>  and <code>extent.flush();</code> do this before sending report."}],"answers":[{"tags":[],"owner":{"account_id":15095197,"reputation":1792,"user_id":10893827,"display_name":"Norayr Sargsyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636616827,"creation_date":1636616827,"answer_id":69924760,"question_id":69923276,"body_markdown":"I think you are looking for a report in the wrong place.\r\nWhen you are running your tests with `maven` the report is generated in the `target` folder. When you are running with the `testng.xml` file the report is generated in the `test-output` folder. So I think after a run you are looking in the wrong place. Check it, please.","title":"TestNG Report is sending previous report","body":"<p>I think you are looking for a report in the wrong place.\nWhen you are running your tests with <code>maven</code> the report is generated in the <code>target</code> folder. When you are running with the <code>testng.xml</code> file the report is generated in the <code>test-output</code> folder. So I think after a run you are looking in the wrong place. Check it, please.</p>\n"},{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636627311,"creation_date":1636627311,"answer_id":69926909,"question_id":69923276,"body_markdown":"Report will be generated after the completion of all Hooks.\r\n\r\n - @BeforeSuite\r\n - @BeforeTest\r\n - @BeforeClass\r\n - @BeforeMethod\r\n - @Test\r\n - @AfterMethod\r\n - @AfterClass\r\n - @AfterTest\r\n - @AfterSuite\r\n\r\nPlease write seperate program to send mail.\r\n\r\n**Approach** :\r\n\r\n 1. Create .bat file\r\n 2. first command should be TestNG execution\r\n 3. Second command should be your mail program\r\n\r\n**Sample bat file** :\r\n\r\n&gt; mvn test &amp;&amp; java -jar zippingAndEmail.jar\r\n\r\n ","title":"TestNG Report is sending previous report","body":"<p>Report will be generated after the completion of all Hooks.</p>\n<ul>\n<li>@BeforeSuite</li>\n<li>@BeforeTest</li>\n<li>@BeforeClass</li>\n<li>@BeforeMethod</li>\n<li>@Test</li>\n<li>@AfterMethod</li>\n<li>@AfterClass</li>\n<li>@AfterTest</li>\n<li>@AfterSuite</li>\n</ul>\n<p>Please write seperate program to send mail.</p>\n<p><strong>Approach</strong> :</p>\n<ol>\n<li>Create .bat file</li>\n<li>first command should be TestNG execution</li>\n<li>Second command should be your mail program</li>\n</ol>\n<p><strong>Sample bat file</strong> :</p>\n<blockquote>\n<p>mvn test &amp;&amp; java -jar zippingAndEmail.jar</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11379607,"reputation":1,"user_id":8342816,"display_name":"oferst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636981200,"creation_date":1636981200,"answer_id":69974774,"question_id":69923276,"body_markdown":"I had the same issue where the Report was not generated till the completion of the run. I solved it in the following way: the tests ran by Jenkins job (or by TFS agent an so on) and when the job was completed I had another Job collecting the archive and sending it to the mailing list.\r\n\r\nSecond option is to trigger the TestNg report yourself in the @After method, since the report is triggered only afterwards. this is something I didn&#39;t try myself but should be possible. ","title":"TestNG Report is sending previous report","body":"<p>I had the same issue where the Report was not generated till the completion of the run. I solved it in the following way: the tests ran by Jenkins job (or by TFS agent an so on) and when the job was completed I had another Job collecting the archive and sending it to the mailing list.</p>\n<p>Second option is to trigger the TestNg report yourself in the @After method, since the report is triggered only afterwards. this is something I didn't try myself but should be possible.</p>\n"}],"owner":{"account_id":23302546,"reputation":1,"user_id":17382982,"display_name":"Arpit Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1636981200,"creation_date":1636605655,"question_id":69923276,"body_markdown":"I have used this very simple code, and I have tried to send an emailable report under the @AfterSuite Annotation but **the problem is it is sending the old (previous) report**. Not the latest one. Note I have also tried thread.sleep under the email method.\r\n\r\n\r\n\r\n  ```\r\n  package testOWC;\r\n\r\nimport org.testng.annotations.AfterClass;\r\nimport org.testng.annotations.AfterMethod;\r\nimport org.testng.annotations.AfterSuite;\r\nimport org.testng.annotations.AfterTest;\r\nimport org.testng.annotations.Test;\r\nimport java.io.IOException;\r\n\r\nimport javax.mail.MessagingException;\r\n\r\nimport java.awt.AWTException;\r\n\r\npublic class All_TestCases {\r\n\t\r\n@SuppressWarnings({ })\r\n@Test (priority =1)\r\npublic void RequiredFieldsOnly() throws InterruptedException, IOException, AWTException {\r\n\tRequiredFieldsOnly.testCase();\r\n}\r\n\t\r\n@Test (priority =2)\r\npublic void Yourself() throws InterruptedException, IOException, AWTException {\r\n\tYourself.testCase();\r\n\t\r\n}\r\n\r\n@Test (priority =3)\r\npublic void Yourself_Representative() throws InterruptedException, IOException, AWTException {\r\n\tYourself_Representative.testCase();\r\n\t\r\n}\r\n\r\n@Test (priority =4)\r\npublic void Representative_YourselfNotConf() throws InterruptedException, IOException, AWTException {\r\n\tRepresentative_YourselfNotConf.testCase();\r\n\t\r\n}\r\n\r\n@Test (priority =5)\r\npublic void Representative_YourselfConf() throws InterruptedException, IOException, AWTException {\r\n\tRepresentative_YourselfConf.testCase();\r\n\t\r\n} \r\n\r\n@AfterSuite\r\npublic void email() throws MessagingException, InterruptedException {\r\n\t\r\n\tEmail_Invoke.main(null);\r\n  }\r\n}\r\n```","title":"TestNG Report is sending previous report","body":"<p>I have used this very simple code, and I have tried to send an emailable report under the @AfterSuite Annotation but <strong>the problem is it is sending the old (previous) report</strong>. Not the latest one. Note I have also tried thread.sleep under the email method.</p>\n<pre><code>package testOWC;\n\nimport org.testng.annotations.AfterClass;\nimport org.testng.annotations.AfterMethod;\nimport org.testng.annotations.AfterSuite;\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.Test;\nimport java.io.IOException;\n\nimport javax.mail.MessagingException;\n\nimport java.awt.AWTException;\n\npublic class All_TestCases {\n  \n@SuppressWarnings({ })\n@Test (priority =1)\npublic void RequiredFieldsOnly() throws InterruptedException, IOException, AWTException {\n  RequiredFieldsOnly.testCase();\n}\n  \n@Test (priority =2)\npublic void Yourself() throws InterruptedException, IOException, AWTException {\n  Yourself.testCase();\n  \n}\n\n@Test (priority =3)\npublic void Yourself_Representative() throws InterruptedException, IOException, AWTException {\n  Yourself_Representative.testCase();\n  \n}\n\n@Test (priority =4)\npublic void Representative_YourselfNotConf() throws InterruptedException, IOException, AWTException {\n  Representative_YourselfNotConf.testCase();\n  \n}\n\n@Test (priority =5)\npublic void Representative_YourselfConf() throws InterruptedException, IOException, AWTException {\n  Representative_YourselfConf.testCase();\n  \n} \n\n@AfterSuite\npublic void email() throws MessagingException, InterruptedException {\n  \n  Email_Invoke.main(null);\n}\n}\n</code></pre>\n"},{"tags":["java","ssl-certificate","okhttp"],"owner":{"account_id":2869041,"reputation":4363,"user_id":2462759,"accept_rate":52,"display_name":"paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1285,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1636980547,"creation_date":1605455068,"question_id":64846418,"body_markdown":"I am able to fix this error with the help of this answer https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ#answer-36427118\r\n\r\n    javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:325)\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:268)\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:263)\r\n    \tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:645)\r\n    \tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:464)\r\n    \tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:360)\r\n    \tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\r\n    \tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:445)\r\n    \tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:423)\r\n    \tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\r\n    \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:167)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1462)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1370)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:437)\r\n    \tat okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:318)\r\n    \tat okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:282)\r\n    \tat okhttp3.internal.connection.RealConnection.connect(RealConnection.java:167)\r\n    \tat okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)\r\n    \tat okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\r\n    \tat okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\r\n    \tat okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n    \tat okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n    \tat okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n    \tat okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n    \tat okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)\r\n    \tat okhttp3.RealCall.execute(RealCall.java:77)\r\n\r\nBut, it works only when I am running it from IDE (Intellij or Eclipse) and when I am running it from a terminal (MAC Catalina) it again gives the same error.\r\n\r\n**Question:**\r\nIs there some global fix need to be done so that it will run on any platform like local, terminal, CI/CD pipeline?","title":"javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException - fix fails on Mac Terminal","body":"<p>I am able to fix this error with the help of this answer <a href=\"https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ#answer-36427118\">&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;</a></p>\n<pre><code>javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:325)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:268)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:263)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:645)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:464)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:360)\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:445)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:423)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:167)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1462)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1370)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:437)\n    at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:318)\n    at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:282)\n    at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:167)\n    at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)\n    at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\n    at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\n    at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n    at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n    at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n    at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n    at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)\n    at okhttp3.RealCall.execute(RealCall.java:77)\n</code></pre>\n<p>But, it works only when I am running it from IDE (Intellij or Eclipse) and when I am running it from a terminal (MAC Catalina) it again gives the same error.</p>\n<p><strong>Question:</strong>\nIs there some global fix need to be done so that it will run on any platform like local, terminal, CI/CD pipeline?</p>\n"},{"tags":["java","casting","integer-overflow"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1636978554,"post_id":69973906,"comment_id":123693719,"body_markdown":"This has nothing to do with casting to byte. The value of `12345678987654321.0f` is so large, that 1 is too small to give it another value (that is `12345678987654321.0f == 12345678987654321.0f + 1` is **true**). You need to add around`1E9f` to get another value! .","body":"This has nothing to do with casting to byte. The value of <code>12345678987654321.0f</code> is so large, that 1 is too small to give it another value (that is <code>12345678987654321.0f == 12345678987654321.0f + 1</code> is <b>true</b>). You need to add around<code>1E9f</code> to get another value! ."}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636980200,"creation_date":1636977834,"answer_id":69974138,"question_id":69973906,"body_markdown":"The conversion from `float` to `byte` is a *narrowing primitive conversion*, which may cause discarding of most significant bytes, according to the Java Language Specification &#167; 5.1.\r\n\r\nHowever, the real problem lies here: a large number like `12345678987654321.0` *already* has loss of precision, even before the typecast is performed. Printing out the value of `f` will already hint this:\r\n\r\n```none\r\n1.23456795E16\r\n```\r\n\r\nSee Java Language Specification &#167; 4.2.3 and [&#167; 4.2.4][1]:\r\n\r\n&gt; Floating-point arithmetic is carried out in accordance with the rules of the IEEE 754 Standard, including for overflow and underflow.\r\n\r\nAlso, the [JLS &#167; 15.4][2] defines how floating-point expressions should be carried out. It&#39;s a little technical to read, but in short, it&#39;ll discard least significant bits because of *underflow*.\r\n\r\nSo in your case, `f + 1` will result in just `f`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.2.4\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.4","title":"explicit typecast float to byte","body":"<p>The conversion from <code>float</code> to <code>byte</code> is a <em>narrowing primitive conversion</em>, which may cause discarding of most significant bytes, according to the Java Language Specification § 5.1.</p>\n<p>However, the real problem lies here: a large number like <code>12345678987654321.0</code> <em>already</em> has loss of precision, even before the typecast is performed. Printing out the value of <code>f</code> will already hint this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1.23456795E16\n</code></pre>\n<p>See Java Language Specification § 4.2.3 and <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.2.4\" rel=\"nofollow noreferrer\">§ 4.2.4</a>:</p>\n<blockquote>\n<p>Floating-point arithmetic is carried out in accordance with the rules of the IEEE 754 Standard, including for overflow and underflow.</p>\n</blockquote>\n<p>Also, the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.4\" rel=\"nofollow noreferrer\">JLS § 15.4</a> defines how floating-point expressions should be carried out. It's a little technical to read, but in short, it'll discard least significant bits because of <em>underflow</em>.</p>\n<p>So in your case, <code>f + 1</code> will result in just <code>f</code>.</p>\n"}],"owner":{"account_id":17125604,"reputation":63,"user_id":12392893,"display_name":"tintinnabulum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69974138,"answer_count":1,"score":0,"last_activity_date":1636980200,"creation_date":1636976782,"question_id":69973906,"body_markdown":"How does the explicit typecast from float to byte work in Java and why is the last output also -1 and not 0? The first output of 57 is probably due to the arithmetic overflow, so the addition of 1 yields to 58, which makes sense to me. But therefore I expected the last output to be 0.\r\n      \r\n    public class Typecasts {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tfloat f = 12345.0f;\r\n    \t\tbyte b = (byte) f;\r\n    \t\tSystem.out.println(b); // output: 57\r\n    \t\tb = (byte) (f + 1);\r\n    \t\tSystem.out.println(b); // output: 58\r\n    \t\tf = 12345678987654321.0f;\r\n    \t\tb = (byte) f;\r\n    \t\tSystem.out.println(b); // output: -1\r\n    \t\tb = (byte) (f + 1);\r\n    \t\tSystem.out.println(b); // output: -1\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"explicit typecast float to byte","body":"<p>How does the explicit typecast from float to byte work in Java and why is the last output also -1 and not 0? The first output of 57 is probably due to the arithmetic overflow, so the addition of 1 yields to 58, which makes sense to me. But therefore I expected the last output to be 0.</p>\n<pre><code>public class Typecasts {\n\n    public static void main(String[] args) {\n\n        float f = 12345.0f;\n        byte b = (byte) f;\n        System.out.println(b); // output: 57\n        b = (byte) (f + 1);\n        System.out.println(b); // output: 58\n        f = 12345678987654321.0f;\n        b = (byte) f;\n        System.out.println(b); // output: -1\n        b = (byte) (f + 1);\n        System.out.println(b); // output: -1\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":0,"creation_date":1636979522,"post_id":69974423,"comment_id":123694097,"body_markdown":"*&quot;After this execution, n gets diminished&quot;* - why would it happen *after*  the expression? Then what did `n--` do?","body":"<i>&quot;After this execution, n gets diminished&quot;</i> - why would it happen <i>after</i>  the expression? Then what did <code>n--</code> do?"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1636979529,"post_id":69974423,"comment_id":123694103,"body_markdown":"*&quot;After this execution, n gets diminished&quot;* -&gt; yes, but there&#39;s only *one* assignment, not two, and it takes the value of the expression, which, with `n--`, is `n` *before* the decrement.","body":"<i>&quot;After this execution, n gets diminished&quot;</i> -&gt; yes, but there&#39;s only <i>one</i> assignment, not two, and it takes the value of the expression, which, with <code>n--</code>, is <code>n</code> <i>before</i> the decrement."},{"owner":{"account_id":9597088,"reputation":758,"user_id":7125886,"accept_rate":67,"display_name":"Jelle"},"score":0,"creation_date":1636979549,"post_id":69974423,"comment_id":123694110,"body_markdown":"To get the expected result use  `--4`","body":"To get the expected result use  <code>--4</code>"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1636979606,"post_id":69974423,"comment_id":123694133,"body_markdown":"Use assignment or use increment but not both.  Not really much reason for java to have these operators.","body":"Use assignment or use increment but not both.  Not really much reason for java to have these operators."}],"answers":[{"tags":[],"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636979520,"creation_date":1636979520,"answer_id":69974448,"question_id":69974423,"body_markdown":"`n--` yields 5 and then sets n to 4\r\n\r\n`n =` sets n to the value of the right-hand expression, which is 5\r\n\r\nMixing the increment/decrement operators with an assignment to the same variable rarely does anything useful.\r\n","title":"n = n--; why same value as before","body":"<p><code>n--</code> yields 5 and then sets n to 4</p>\n<p><code>n =</code> sets n to the value of the right-hand expression, which is 5</p>\n<p>Mixing the increment/decrement operators with an assignment to the same variable rarely does anything useful.</p>\n"},{"tags":[],"owner":{"account_id":22967670,"reputation":1,"user_id":17096517,"display_name":"ANDRES GARCIA BAUZA ifc33a"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636979578,"creation_date":1636979578,"answer_id":69974468,"question_id":69974423,"body_markdown":"This is not fully correct, there is 2 forms to do it --n and n--, thats is where you will do the rest on N.\r\nWith the --n before you first rest and then return the value, and the other side is the opposite.\r\n\r\nYou first pass the value and then rest the value, try doing it the other way.","title":"n = n--; why same value as before","body":"<p>This is not fully correct, there is 2 forms to do it --n and n--, thats is where you will do the rest on N.\nWith the --n before you first rest and then return the value, and the other side is the opposite.</p>\n<p>You first pass the value and then rest the value, try doing it the other way.</p>\n"},{"tags":[],"owner":{"account_id":22051200,"reputation":290,"user_id":17269314,"display_name":"Florian S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636979638,"creation_date":1636979638,"answer_id":69974478,"question_id":69974423,"body_markdown":"Given `n=5`, `n--` return 5 but `n` value is 4.\r\n\r\nGiven `n=5`, `--n` return 4 and `n` value is 4.\r\n\r\nThat&#39;s why n has still the same vlaue","title":"n = n--; why same value as before","body":"<p>Given <code>n=5</code>, <code>n--</code> return 5 but <code>n</code> value is 4.</p>\n<p>Given <code>n=5</code>, <code>--n</code> return 4 and <code>n</code> value is 4.</p>\n<p>That's why n has still the same vlaue</p>\n"}],"owner":{"account_id":17201259,"reputation":73,"user_id":14614203,"display_name":"LT_ichinen"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1636979751,"answer_count":3,"score":0,"last_activity_date":1636979786,"creation_date":1636979395,"question_id":69974423,"body_markdown":"The title is self-explanatory. Consider the following code:\r\n\r\n```\r\n   int n = 5;\r\n   n = n--;\r\n```\r\nIt gives n = 5.\r\nAs far as I understood the expression n-- is first evaluated, returning 5 (i.e. POSTdecrement). This expression gets assigned to the LHS, here n.\r\nAfter this execution, n gets diminished. Thus I expected n = 4.\r\n\r\nWhy don&#39;t I see 4?","title":"n = n--; why same value as before","body":"<p>The title is self-explanatory. Consider the following code:</p>\n<pre><code>   int n = 5;\n   n = n--;\n</code></pre>\n<p>It gives n = 5.\nAs far as I understood the expression n-- is first evaluated, returning 5 (i.e. POSTdecrement). This expression gets assigned to the LHS, here n.\nAfter this execution, n gets diminished. Thus I expected n = 4.</p>\n<p>Why don't I see 4?</p>\n"},{"tags":["java","junit","mockito","junit5"],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636947044,"creation_date":1636946364,"answer_id":69969114,"question_id":69968233,"body_markdown":"As you are using `@Mock` and `@InjectMocks`, you don&#39;t need to create `new` instance of those objects. `Mockito` will inject it for you. I guess you have this exception because of this parameter : `Mockito.any()` in your `Mockito.when()`. It have to be of a `Uri` type.\r\n\r\nYour code will looks like this :\r\n\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class ServiceTest {\r\n    \r\n        @Mock\r\n        private RestTemplate restTemplate;\r\n    \r\n        @InjectMocks\r\n        private RConsumerService refundConsumerService;\r\n    \r\n        @Test\r\n        public void sendRequestToBillingService() {\r\n            ChargeResponse chargeResponse = new ChargeResponse();\r\n            chargeResponse.setInstanceKey(&quot;testInstanceKey&quot;);\r\n    \r\n            KafkaMessage kafkaMessage = new KafkaMessage();\r\n            kafkaMessage.setApplication_id(1L);\r\n            kafkaMessage.setCompany_id(1111);\r\n            TransactionRequestContext reqContext = refundConsumerService.createTxnRequestContext(kafkaMessage);\r\n    \r\n            URI mockUri = URI.create(&quot;http://localhost/mockUri&quot;);\r\n            Mockito.when(restTemplate.postForEntity(mockUri\r\n                            , refundConsumerService.buildChargeRequest(reqContext), ChargeResponse.class))\r\n                    .thenReturn(new ResponseEntity&lt;&gt;(chargeResponse, HttpStatus.OK));\r\n    \r\n            refundConsumerService.refund(kafkaMessage);\r\n            assertEquals(chargeResponse.getInstanceKey(), &quot;testInstanceKey&quot;);\r\n        }\r\n    \r\n    }","title":"java spring boot, how to write a test to check send request","body":"<p>As you are using <code>@Mock</code> and <code>@InjectMocks</code>, you don't need to create <code>new</code> instance of those objects. <code>Mockito</code> will inject it for you. I guess you have this exception because of this parameter : <code>Mockito.any()</code> in your <code>Mockito.when()</code>. It have to be of a <code>Uri</code> type.</p>\n<p>Your code will looks like this :</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass ServiceTest {\n\n    @Mock\n    private RestTemplate restTemplate;\n\n    @InjectMocks\n    private RConsumerService refundConsumerService;\n\n    @Test\n    public void sendRequestToBillingService() {\n        ChargeResponse chargeResponse = new ChargeResponse();\n        chargeResponse.setInstanceKey(&quot;testInstanceKey&quot;);\n\n        KafkaMessage kafkaMessage = new KafkaMessage();\n        kafkaMessage.setApplication_id(1L);\n        kafkaMessage.setCompany_id(1111);\n        TransactionRequestContext reqContext = refundConsumerService.createTxnRequestContext(kafkaMessage);\n\n        URI mockUri = URI.create(&quot;http://localhost/mockUri&quot;);\n        Mockito.when(restTemplate.postForEntity(mockUri\n                        , refundConsumerService.buildChargeRequest(reqContext), ChargeResponse.class))\n                .thenReturn(new ResponseEntity&lt;&gt;(chargeResponse, HttpStatus.OK));\n\n        refundConsumerService.refund(kafkaMessage);\n        assertEquals(chargeResponse.getInstanceKey(), &quot;testInstanceKey&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4905854,"reputation":81,"user_id":3952616,"display_name":"Sasha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636979679,"creation_date":1636935153,"question_id":69968233,"body_markdown":"Can someone please, tell me how you can write a test. I now have to test sending a request from one server to another using `RestTemplate`. \r\n\r\n    class ServiceTest {\r\n\r\n    @Mock\r\n    private RestTemplate restTemplate = new RestTemplate();\r\n\r\n    @InjectMocks\r\n    private RConsumerService refundConsumerService = new RConsumerService(new RestTemplateBuilder());\r\n\r\n    @Test\r\n    public void sendRequestToBillingService(){\r\n        ChargeResponse chargeResponse = new ChargeResponse();\r\n        chargeResponse.setInstanceKey(&quot;testInstanceKey&quot;);\r\n\r\n        KafkaMessage kafkaMessage = new KafkaMessage();\r\n        kafkaMessage.setApplication_id(1L);\r\n        kafkaMessage.setCompany_id(1111);\r\n        TransactionRequestContext reqContext = refundConsumerService.createTxnRequestContext(kafkaMessage);\r\n\r\n        Mockito.when(restTemplate.postForEntity(Mockito.any()\r\n                , refundConsumerService.buildChargeRequest(reqContext), ChargeResponse.class))\r\n                .thenReturn(new ResponseEntity&lt;&gt;(chargeResponse, HttpStatus.OK));\r\n\r\n        refundConsumerService.refund(kafkaMessage);\r\n        assertEquals(chargeResponse.getInstanceKey(), &quot;testInstanceKey&quot;);\r\n    }\r\n}\r\n\r\n\r\nHow do I write the condition correctly in \r\n\r\n    Mockito.when(restTemplate.postForEntity(Mockito.any()\r\n                , refundConsumerService.buildChargeRequest(reqContext), ChargeResponse.class))\r\n                .thenReturn(new ResponseEntity&lt;&gt;(chargeResponse, HttpStatus.OK));\r\n\r\nNow I am getting this exception `java.lang.IllegalArgumentException: URI is required`","title":"java spring boot, how to write a test to check send request","body":"<p>Can someone please, tell me how you can write a test. I now have to test sending a request from one server to another using <code>RestTemplate</code>.</p>\n<pre><code>class ServiceTest {\n\n@Mock\nprivate RestTemplate restTemplate = new RestTemplate();\n\n@InjectMocks\nprivate RConsumerService refundConsumerService = new RConsumerService(new RestTemplateBuilder());\n\n@Test\npublic void sendRequestToBillingService(){\n    ChargeResponse chargeResponse = new ChargeResponse();\n    chargeResponse.setInstanceKey(&quot;testInstanceKey&quot;);\n\n    KafkaMessage kafkaMessage = new KafkaMessage();\n    kafkaMessage.setApplication_id(1L);\n    kafkaMessage.setCompany_id(1111);\n    TransactionRequestContext reqContext = refundConsumerService.createTxnRequestContext(kafkaMessage);\n\n    Mockito.when(restTemplate.postForEntity(Mockito.any()\n            , refundConsumerService.buildChargeRequest(reqContext), ChargeResponse.class))\n            .thenReturn(new ResponseEntity&lt;&gt;(chargeResponse, HttpStatus.OK));\n\n    refundConsumerService.refund(kafkaMessage);\n    assertEquals(chargeResponse.getInstanceKey(), &quot;testInstanceKey&quot;);\n}\n</code></pre>\n<p>}</p>\n<p>How do I write the condition correctly in</p>\n<pre><code>Mockito.when(restTemplate.postForEntity(Mockito.any()\n            , refundConsumerService.buildChargeRequest(reqContext), ChargeResponse.class))\n            .thenReturn(new ResponseEntity&lt;&gt;(chargeResponse, HttpStatus.OK));\n</code></pre>\n<p>Now I am getting this exception <code>java.lang.IllegalArgumentException: URI is required</code></p>\n"},{"tags":["java","scheduled-tasks","dropwizard"],"answers":[{"tags":[],"owner":{"account_id":292145,"reputation":146,"user_id":594733,"display_name":"krisr"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1636979668,"creation_date":1414366128,"answer_id":26579179,"question_id":26525845,"body_markdown":"I&#39;m doing pretty much the same thing in a Dropwizard app to run a job periodically. There are projects such as dropwizard-jobs and dropwizard-quartz, but this seemed to work fine for my simple needs. \r\n\r\nThe `ScheduledExecutorServiceBuilder` passes the `nameFormat` to the `ThreadFactoryBuilder` as a pattern for naming the threads. The docs for that might be helpful to you: https://guava.dev/releases/snapshot/api/docs/com/google/common/util/concurrent/ThreadFactoryBuilder.html#setNameFormat(java.lang.String)","title":"Dropwizard ScheduledExecutorService","body":"<p>I'm doing pretty much the same thing in a Dropwizard app to run a job periodically. There are projects such as dropwizard-jobs and dropwizard-quartz, but this seemed to work fine for my simple needs.</p>\n<p>The <code>ScheduledExecutorServiceBuilder</code> passes the <code>nameFormat</code> to the <code>ThreadFactoryBuilder</code> as a pattern for naming the threads. The docs for that might be helpful to you: <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/util/concurrent/ThreadFactoryBuilder.html#setNameFormat(java.lang.String)\" rel=\"nofollow noreferrer\">https://guava.dev/releases/snapshot/api/docs/com/google/common/util/concurrent/ThreadFactoryBuilder.html#setNameFormat(java.lang.String)</a></p>\n"},{"tags":[],"owner":{"account_id":1150252,"reputation":2707,"user_id":1625820,"accept_rate":59,"display_name":"herrtim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425303737,"creation_date":1425303362,"answer_id":28811137,"question_id":26525845,"body_markdown":"With [dropwizard-sundial](https://github.com/timmolter/dropwizard-sundial), you can easily integrate the lightweight multi-threaded Java job scheduling library, [Sundial](https://github.com/timmolter/Sundial), and add Jobs either using a `SimpleTrigger` or a `CronTrigger`. In your case, you&#39;d start out with a class defining your job logic with a `SimpleTrigger` annotation: \r\n\r\n\r\n    @SimpleTrigger(repeatInterval = 60, timeUnit = TimeUnit.SECONDS)    \r\n    public class SampleJob extends com.xeiam.sundial.Job {\r\n        \r\n      @Override\r\n      public void doRun() throws JobInterruptException {\r\n        // Do something interesting...\r\n      }\r\n    }\r\n\r\nIn your Dropwizard app&#39;s `yaml` file, you&#39;ll need to define what package `dropwizard-sundial` should search for annotated job classes. Following is an example config with the `annotated-jobs-package-name` config param along with several other optional params for fine-tuning the scheduler:\r\n\r\n    sundial:\r\n      thread-pool-size: 10\r\n      shutdown-on-unload: true\r\n      wait-on-shutdown: false\r\n      start-delay-seconds: 0\r\n      start-scheduler-on-load: true\r\n      global-lock-on-load: false\r\n      annotated-jobs-package-name: com.foo.bar.jobs\r\n\r\nAdditionally, you can control the scheduler asynchronously via Curl while the app is running to do things like locking and unlocking the scheduler, starting, stopping, adding, removing jobs and triggers. Here are a few examples:\r\n\r\n    curl -X POST http://localhost:9090/admin/tasks/locksundialscheduler\r\n    curl -X POST http://localhost:9090/admin/tasks/unlocksundialscheduler\r\n    curl -X POST &quot;http://localhost:9090/admin/tasks/startjob?JOB_NAME=MyJob&quot;","title":"Dropwizard ScheduledExecutorService","body":"<p>With <a href=\"https://github.com/timmolter/dropwizard-sundial\" rel=\"nofollow\">dropwizard-sundial</a>, you can easily integrate the lightweight multi-threaded Java job scheduling library, <a href=\"https://github.com/timmolter/Sundial\" rel=\"nofollow\">Sundial</a>, and add Jobs either using a <code>SimpleTrigger</code> or a <code>CronTrigger</code>. In your case, you'd start out with a class defining your job logic with a <code>SimpleTrigger</code> annotation: </p>\n\n<pre><code>@SimpleTrigger(repeatInterval = 60, timeUnit = TimeUnit.SECONDS)    \npublic class SampleJob extends com.xeiam.sundial.Job {\n\n  @Override\n  public void doRun() throws JobInterruptException {\n    // Do something interesting...\n  }\n}\n</code></pre>\n\n<p>In your Dropwizard app's <code>yaml</code> file, you'll need to define what package <code>dropwizard-sundial</code> should search for annotated job classes. Following is an example config with the <code>annotated-jobs-package-name</code> config param along with several other optional params for fine-tuning the scheduler:</p>\n\n<pre><code>sundial:\n  thread-pool-size: 10\n  shutdown-on-unload: true\n  wait-on-shutdown: false\n  start-delay-seconds: 0\n  start-scheduler-on-load: true\n  global-lock-on-load: false\n  annotated-jobs-package-name: com.foo.bar.jobs\n</code></pre>\n\n<p>Additionally, you can control the scheduler asynchronously via Curl while the app is running to do things like locking and unlocking the scheduler, starting, stopping, adding, removing jobs and triggers. Here are a few examples:</p>\n\n<pre><code>curl -X POST http://localhost:9090/admin/tasks/locksundialscheduler\ncurl -X POST http://localhost:9090/admin/tasks/unlocksundialscheduler\ncurl -X POST \"http://localhost:9090/admin/tasks/startjob?JOB_NAME=MyJob\"\n</code></pre>\n"}],"owner":{"account_id":3977307,"reputation":1393,"user_id":3280180,"accept_rate":71,"display_name":"user3280180"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8623,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":26579179,"answer_count":2,"score":14,"last_activity_date":1636979668,"creation_date":1414059112,"question_id":26525845,"body_markdown":"In my case I need to run some scheduled tasks (e.g. every minute) doing some checks in DB and if needed some subtasks. This should be no DB health-check!\r\n\r\nDW documentation says:\r\n\r\n&gt; &quot;It should be noted that Environment has built-in factory methods for\r\n&gt; ExecutorService and ScheduledExecutorService instances which are\r\n&gt; managed. See LifecycleEnvironment#executorService and\r\n&gt; LifecycleEnvironment#scheduledExecutorService for details.&quot;\r\n\r\nDoes anyone knows how to implement this in DW? Trying to play around with DW code possibilities, I found this:\r\n\r\n    String nameFormat = &quot;?What should this string contain?&quot;;\r\n    ScheduledExecutorServiceBuilder sesBuilder = environment.lifecycle().scheduledExecutorService(nameFormat);\r\n    ScheduledExecutorService ses = sesBuilder.build();\r\n    Runnable alarmTask = new AlarmTask();\r\n    ses.scheduleWithFixedDelay(alarmTask, 0, 5, TimeUnit.SECONDS);\r\n\r\n\r\nIs this the correct way in DW to do this? BTW a runnable dummy:\r\n\r\n      private static final class AlarmTask implements Runnable {\r\n    \t  DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;);\r\n    \t  Calendar cal = Calendar.getInstance();\r\n    \t    @Override public void run() {\r\n    \t      ++fCount;\r\n    \t\t\t\r\n    \t        cal = Calendar.getInstance();\r\n    \t\t\tSystem.out.println(fCount + &quot;x BEEP:&quot; + dateFormat.format(cal.getTime()));\r\n    \t    }\r\n    \t    private int fCount;\r\n    \t  }\r\nWhats the purpose of the initial name and is it used somewhere? Hope someone can help.\r\n","title":"Dropwizard ScheduledExecutorService","body":"<p>In my case I need to run some scheduled tasks (e.g. every minute) doing some checks in DB and if needed some subtasks. This should be no DB health-check!</p>\n\n<p>DW documentation says:</p>\n\n<blockquote>\n  <p>\"It should be noted that Environment has built-in factory methods for\n  ExecutorService and ScheduledExecutorService instances which are\n  managed. See LifecycleEnvironment#executorService and\n  LifecycleEnvironment#scheduledExecutorService for details.\"</p>\n</blockquote>\n\n<p>Does anyone knows how to implement this in DW? Trying to play around with DW code possibilities, I found this:</p>\n\n<pre><code>String nameFormat = \"?What should this string contain?\";\nScheduledExecutorServiceBuilder sesBuilder = environment.lifecycle().scheduledExecutorService(nameFormat);\nScheduledExecutorService ses = sesBuilder.build();\nRunnable alarmTask = new AlarmTask();\nses.scheduleWithFixedDelay(alarmTask, 0, 5, TimeUnit.SECONDS);\n</code></pre>\n\n<p>Is this the correct way in DW to do this? BTW a runnable dummy:</p>\n\n<pre><code>  private static final class AlarmTask implements Runnable {\n      DateFormat dateFormat = new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\");\n      Calendar cal = Calendar.getInstance();\n        @Override public void run() {\n          ++fCount;\n\n            cal = Calendar.getInstance();\n            System.out.println(fCount + \"x BEEP:\" + dateFormat.format(cal.getTime()));\n        }\n        private int fCount;\n      }\n</code></pre>\n\n<p>Whats the purpose of the initial name and is it used somewhere? Hope someone can help.</p>\n"},{"tags":["java","terminal"],"comments":[{"owner":{"account_id":9304187,"reputation":1405,"user_id":6908551,"display_name":"Alexandru Somai"},"score":1,"creation_date":1636963445,"post_id":69971054,"comment_id":123688371,"body_markdown":"Does this answer your question? [How to print color in console using System.out.println?](https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println\">How to print color in console using System.out.println?</a>"},{"owner":{"account_id":23341033,"reputation":1,"user_id":17415929,"display_name":"Maxim Fedorov"},"score":0,"creation_date":1636965142,"post_id":69971054,"comment_id":123688915,"body_markdown":"@AlexandruSomai Thank you yes this is the answer of my question but I rather to use the lib that [Soroush Shemshadi](https://stackoverflow.com/a/69971248/17415929) provides. Although I found another library for this purpose in answers of question you referenced. I must check both to see which one is better. Thanks anyway:)","body":"@AlexandruSomai Thank you yes this is the answer of my question but I rather to use the lib that <a href=\"https://stackoverflow.com/a/69971248/17415929\">Soroush Shemshadi</a> provides. Although I found another library for this purpose in answers of question you referenced. I must check both to see which one is better. Thanks anyway:)"}],"answers":[{"tags":[],"owner":{"account_id":15416144,"reputation":534,"user_id":11121568,"display_name":"Soroush Shemshadi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636964140,"creation_date":1636964140,"answer_id":69971248,"question_id":69971054,"body_markdown":"Yes there is. I&#39;ve implemented a library named [JTerminal][1] in Java to print custom outputs on terminal, Including print and println with your desired foreground and background colors. It supports 8-bit 256 colors(XTerm code).\r\n\r\nIt&#39;s an easy to use library. To print your string with color you want, You just need to make a static call to `print` or `println` method:\r\n\r\n```java\r\nimport io.github.shuoros.jterminal.JTerminal;\r\nimport io.github.shuoros.jterminal.ansi.Color;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// Prints &quot;Hello World!&quot; with orange foreground color\r\n\t\tJTerminal.println(&quot;Hello World!&quot;, Color.ORANGE);\r\n        // Prints &quot;Hello World!&quot; with orange foreground and white background color\r\n\t\tJTerminal.println(&quot;Hello World!&quot;, Color.ORANGE, Color.WHITE);\r\n    }\r\n}\r\n```\r\n\r\nYou can also colorize your string with different colors in different ranges by one line of code:\r\n\r\n```java\r\nimport java.util.List;\r\n\r\nimport io.github.shuoros.jterminal.JTerminal;\r\nimport io.github.shuoros.jterminal.ansi.Color;\r\nimport io.github.shuoros.jterminal.util.TextEntity;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// Prints &quot;&gt;JTerminal:~ 1.0.2&quot; with the colors of its logo\r\n\t\tJTerminal.println(&quot;&gt;JTerminal:~ 1.0.2&quot;, List.of(//\r\n\t\t\t\tnew TextEntity(0, 1, Color.DARK_SEA_GREEN_7), //\r\n\t\t\t\tnew TextEntity(1, 10, Color.ORANGE), //\r\n\t\t\t\tnew TextEntity(10, 12, Color.DARK_SEA_GREEN_7), //\r\n\t\t\t\tnew TextEntity(12, 18, Color.WHITE)));\r\n    }\r\n}\r\n```\r\nTo add [JTerminal][1] to your maven or gradle project you can add its dependecy:\r\n\r\n### Maven\r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/io.github.shuoros/JTerminal --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.shuoros&lt;/groupId&gt;\r\n    &lt;artifactId&gt;JTerminal&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n### Gradle\r\n\r\n```gradle\r\n// https://mvnrepository.com/artifact/io.github.shuoros/JTerminal\r\nimplementation group: &#39;io.github.shuoros&#39;, name: &#39;JTerminal&#39;, version: &#39;1.0.2&#39;\r\n```\r\n\r\nHead over to [JTerminal github repository][1] for some examples.\r\n\r\n\r\n  [1]: https://github.com/shuoros/JTerminal","title":"Print strings on terminal with color","body":"<p>Yes there is. I've implemented a library named <a href=\"https://github.com/shuoros/JTerminal\" rel=\"nofollow noreferrer\">JTerminal</a> in Java to print custom outputs on terminal, Including print and println with your desired foreground and background colors. It supports 8-bit 256 colors(XTerm code).</p>\n<p>It's an easy to use library. To print your string with color you want, You just need to make a static call to <code>print</code> or <code>println</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.github.shuoros.jterminal.JTerminal;\nimport io.github.shuoros.jterminal.ansi.Color;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        // Prints &quot;Hello World!&quot; with orange foreground color\n        JTerminal.println(&quot;Hello World!&quot;, Color.ORANGE);\n        // Prints &quot;Hello World!&quot; with orange foreground and white background color\n        JTerminal.println(&quot;Hello World!&quot;, Color.ORANGE, Color.WHITE);\n    }\n}\n</code></pre>\n<p>You can also colorize your string with different colors in different ranges by one line of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\nimport io.github.shuoros.jterminal.JTerminal;\nimport io.github.shuoros.jterminal.ansi.Color;\nimport io.github.shuoros.jterminal.util.TextEntity;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        // Prints &quot;&gt;JTerminal:~ 1.0.2&quot; with the colors of its logo\n        JTerminal.println(&quot;&gt;JTerminal:~ 1.0.2&quot;, List.of(//\n                new TextEntity(0, 1, Color.DARK_SEA_GREEN_7), //\n                new TextEntity(1, 10, Color.ORANGE), //\n                new TextEntity(10, 12, Color.DARK_SEA_GREEN_7), //\n                new TextEntity(12, 18, Color.WHITE)));\n    }\n}\n</code></pre>\n<p>To add <a href=\"https://github.com/shuoros/JTerminal\" rel=\"nofollow noreferrer\">JTerminal</a> to your maven or gradle project you can add its dependecy:</p>\n<h3>Maven</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/io.github.shuoros/JTerminal --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.github.shuoros&lt;/groupId&gt;\n    &lt;artifactId&gt;JTerminal&lt;/artifactId&gt;\n    &lt;version&gt;1.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h3>Gradle</h3>\n<pre><code>// https://mvnrepository.com/artifact/io.github.shuoros/JTerminal\nimplementation group: 'io.github.shuoros', name: 'JTerminal', version: '1.0.2'\n</code></pre>\n<p>Head over to <a href=\"https://github.com/shuoros/JTerminal\" rel=\"nofollow noreferrer\">JTerminal github repository</a> for some examples.</p>\n"},{"tags":[],"owner":{"account_id":21985741,"reputation":104,"user_id":16260040,"display_name":"Swapnil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636979505,"creation_date":1636964221,"answer_id":69971259,"question_id":69971054,"body_markdown":"The console output screen is black or white by default.\r\n\r\nIf you want to Highlight some text on the output screen, you can use the ANSI color codes and highlight the particular text.\r\n```\r\nSystem.out.println(ANSI_COLORNAME + &quot;This text is colored&quot; + ANSI_RESET);\r\n```","title":"Print strings on terminal with color","body":"<p>The console output screen is black or white by default.</p>\n<p>If you want to Highlight some text on the output screen, you can use the ANSI color codes and highlight the particular text.</p>\n<pre><code>System.out.println(ANSI_COLORNAME + &quot;This text is colored&quot; + ANSI_RESET);\n</code></pre>\n"}],"owner":{"account_id":23341033,"reputation":1,"user_id":17415929,"display_name":"Maxim Fedorov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":888,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1636979505,"creation_date":1636963166,"question_id":69971054,"body_markdown":"Can anyone tell me how to print my strings on terminal with color in Java? If there is a library for that purpose please introduce it to me, I rather use one than do the job myself:)\r\n\r\nThanks in advance.","title":"Print strings on terminal with color","body":"<p>Can anyone tell me how to print my strings on terminal with color in Java? If there is a library for that purpose please introduce it to me, I rather use one than do the job myself:)</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","collections","functional-programming","java-stream"],"comments":[{"owner":{"account_id":4912957,"reputation":4595,"user_id":3957736,"accept_rate":80,"display_name":"always_a_rookie"},"score":0,"creation_date":1634653779,"post_id":69631224,"comment_id":123079967,"body_markdown":"Can you show a sample of how the final json should look like?","body":"Can you show a sample of how the final json should look like?"},{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1634662883,"post_id":69631224,"comment_id":123084056,"body_markdown":"@always_a_rookie Added","body":"@always_a_rookie Added"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636979432,"creation_date":1636979432,"answer_id":69974432,"question_id":69631224,"body_markdown":"The main issue is that the expected result may be retrieved only if grouping is done by `summary.id` (`summary.name` values differ), then the name of the first matching `DepartmentSummaryRow` should be applied to remaining `Department`.\r\n\r\nSo a minor fix to exclude `name` from `equals` and `hashCode` in `Department` should do the trick:\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\npublic static class Department {\r\n    private int id;\r\n    @EqualsAndHashCode.Exclude\r\n    private String name;\r\n    @EqualsAndHashCode.Exclude\r\n    private final Map&lt;String, Integer&gt; groupCounts = new HashMap&lt;&gt;();\r\n}\r\n```\r\n----\r\nHowever, it may be better to use [`Collectors.toMap`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-java.util.function.Supplier-) with `merge` function and `Supplier&lt;Map&gt;` to achieve the similar result without using `Department` as a map key:\r\n```java\r\nList&lt;Department&gt; result = new ArrayList&lt;&gt;(\r\n    summaries\r\n        .stream() // Stream&lt;DepartmentSummaryRow&gt;\r\n        .collect(Collectors.toMap(\r\n                DepartmentSummaryRow::getId, // int id as key\r\n                SOGroup::create,             // value: Department\r\n                SOGroup::merge,              // merge departments by id\r\n                LinkedHashMap::new           // keep insertion order\r\n        ))\r\n        .values()\r\n);\r\n\r\nresult.forEach(System.out::println);\r\n```\r\nA couple of utility methods need to be implemented:\r\n```java\r\nstatic Department create(DepartmentSummaryRow row) {\r\n    Department dept = new Department(row.getId(), row.getName());\r\n    dept.getGroupCounts().put(row.getGroupName(), row.getGroupMembersCount());\r\n    return dept;\r\n}\r\n\r\nstatic Department merge(Department dept1, Department dept2) {\r\n    dept2.getGroupCounts().forEach(\r\n        (k, v) -&gt; dept1.getGroupCounts().merge(k, v, Integer::sum)\r\n    );\r\n    return dept1;\r\n}\r\n```\r\nOutput:\r\n```java\r\n[\r\n\t{&quot;id&quot;:1,&quot;name&quot;:&quot;name_a1&quot;,&quot;groupCounts&quot;:{&quot;g1&quot;:3,&quot;g2&quot;:9}},\r\n\t{&quot;id&quot;:2,&quot;name&quot;:&quot;name_a2&quot;,&quot;groupCounts&quot;:{&quot;g1&quot;:3,&quot;g2&quot;:9}},\r\n...\r\n\t{&quot;id&quot;:49,&quot;name&quot;:&quot;name_a49&quot;,&quot;groupCounts&quot;:{&quot;g1&quot;:3,&quot;g2&quot;:9}},\r\n\t{&quot;id&quot;:50,&quot;name&quot;:&quot;name_a50&quot;,&quot;groupCounts&quot;:{&quot;g1&quot;:3,&quot;g2&quot;:9}}\r\n]\r\n```","title":"Right way to group a stream into POJOs","body":"<p>The main issue is that the expected result may be retrieved only if grouping is done by <code>summary.id</code> (<code>summary.name</code> values differ), then the name of the first matching <code>DepartmentSummaryRow</code> should be applied to remaining <code>Department</code>.</p>\n<p>So a minor fix to exclude <code>name</code> from <code>equals</code> and <code>hashCode</code> in <code>Department</code> should do the trick:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\npublic static class Department {\n    private int id;\n    @EqualsAndHashCode.Exclude\n    private String name;\n    @EqualsAndHashCode.Exclude\n    private final Map&lt;String, Integer&gt; groupCounts = new HashMap&lt;&gt;();\n}\n</code></pre>\n<hr />\n<p>However, it may be better to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-java.util.function.Supplier-\" rel=\"nofollow noreferrer\"><code>Collectors.toMap</code></a> with <code>merge</code> function and <code>Supplier&lt;Map&gt;</code> to achieve the similar result without using <code>Department</code> as a map key:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Department&gt; result = new ArrayList&lt;&gt;(\n    summaries\n        .stream() // Stream&lt;DepartmentSummaryRow&gt;\n        .collect(Collectors.toMap(\n                DepartmentSummaryRow::getId, // int id as key\n                SOGroup::create,             // value: Department\n                SOGroup::merge,              // merge departments by id\n                LinkedHashMap::new           // keep insertion order\n        ))\n        .values()\n);\n\nresult.forEach(System.out::println);\n</code></pre>\n<p>A couple of utility methods need to be implemented:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Department create(DepartmentSummaryRow row) {\n    Department dept = new Department(row.getId(), row.getName());\n    dept.getGroupCounts().put(row.getGroupName(), row.getGroupMembersCount());\n    return dept;\n}\n\nstatic Department merge(Department dept1, Department dept2) {\n    dept2.getGroupCounts().forEach(\n        (k, v) -&gt; dept1.getGroupCounts().merge(k, v, Integer::sum)\n    );\n    return dept1;\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>[\n    {&quot;id&quot;:1,&quot;name&quot;:&quot;name_a1&quot;,&quot;groupCounts&quot;:{&quot;g1&quot;:3,&quot;g2&quot;:9}},\n    {&quot;id&quot;:2,&quot;name&quot;:&quot;name_a2&quot;,&quot;groupCounts&quot;:{&quot;g1&quot;:3,&quot;g2&quot;:9}},\n...\n    {&quot;id&quot;:49,&quot;name&quot;:&quot;name_a49&quot;,&quot;groupCounts&quot;:{&quot;g1&quot;:3,&quot;g2&quot;:9}},\n    {&quot;id&quot;:50,&quot;name&quot;:&quot;name_a50&quot;,&quot;groupCounts&quot;:{&quot;g1&quot;:3,&quot;g2&quot;:9}}\n]\n</code></pre>\n"}],"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636979432,"creation_date":1634648041,"question_id":69631224,"body_markdown":"I have a list of summary rows, which has few-rows-per-entity, where some scalar properties of the entity are repeated and there are two additional columns GroupName and GroupCount which are unique.\r\n\r\nBasically this is the output of a SQL join, and the entity data is repeated and there is a unique group name, and its count in each row.\r\n\r\nI want to stream this and collect it into an entity Dto which has the entity properties as well as a Map for the merged group statistics.\r\n\r\nI tried an implementation using Collectors.groupingBy, but it still doesn&#39;t look right.\r\n\r\n```java\r\n\t@Data\r\n\t@AllArgsConstructor\r\n\tpublic static class DepartmentSummaryRow{\r\n\t\tprivate int id;\r\n\t\tprivate String name;\r\n\t\tprivate String groupName;\r\n\t\tprivate int groupMembersCount;\r\n\t}\r\n\t@Data\r\n\t@AllArgsConstructor\r\n\tpublic static class Department{\r\n\t\tprivate int id;\r\n\t\tprivate String name;\r\n\t\t@EqualsAndHashCode.Exclude\r\n\t\tprivate final Map&lt;String, Integer&gt; groupCounts = new HashMap&lt;&gt;();\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tgrouping();\r\n\t}\r\n\t\r\n\tprivate static void grouping() {\r\n\t\tGson g = new GsonBuilder().setPrettyPrinting().disableHtmlEscaping().create();\r\n\t\t\r\n\t\t//Test data\r\n\t\tList&lt;DepartmentSummaryRow&gt; summaries = new ArrayList&lt;&gt;();\r\n\t\tfor(int i=1;i&lt;=50;i++) {\r\n\t\t\tsummaries.add( new DepartmentSummaryRow(i, &quot;name_a&quot;+i, &quot;g1&quot;, 3 ) );\r\n\t\t\tsummaries.add( new DepartmentSummaryRow(i, &quot;name_b&quot;+i, &quot;g2&quot;, 9 ) );\r\n\t\t}\r\n\t\t\r\n\r\n\t\t//Just group the summary rows\r\n\t\tMap&lt;Department, List&lt;DepartmentSummaryRow&gt;&gt; departmentsToSummaries = summaries\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.stream()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.collect(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCollectors.groupingBy( \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(summary)-&gt;{ return new Department(summary.id, summary.name); }, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLinkedHashMap::new, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCollectors.toList()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\r\n\t\t//Merge the info into the departments\r\n\t\tdepartmentsToSummaries.forEach( (entity, sumaryRow)-&gt;{ \r\n\t\t\tentity.groupCounts.putAll( \r\n\t\t\t\t\tsumaryRow.stream().collect( \r\n\t\t\t\t\t\t\t\tCollectors.groupingBy( \r\n\t\t\t\t\t\t\t\t\tDepartmentSummaryRow::getGroupName, \r\n\t\t\t\t\t\t\t\t\tCollectors.summingInt( DepartmentSummaryRow::getGroupMembersCount ) \r\n\t\t\t\t\t\t\t\t) \r\n\t\t\t\t\t\t\t) \r\n\t\t\t\t) ;\r\n\t\t\t} );\r\n\t\t\r\n\t\tSystem.out.println( g.toJson( departmentsToSummaries.keySet() ) );\r\n\t}\r\n```\r\n\r\n\r\nI am looking for some ideas for a better implementation than this for grouping a stream into custom POJOs. Any suggestions would be helpful. Thanks!\r\n\r\n(Note: this itself has some bug.. for some reason the first grouping by my POJO doesn&#39;t group at all.. which is odd, as it has a good hashcode and equals provided by Lombok)\r\n\r\nEdit:\r\nHere&#39;s what the input looks like:\r\n\r\n```\r\n[\r\n  { &quot;id&quot;: 1, &quot;name&quot;: &quot;name_a1&quot;, &quot;groupName&quot;: &quot;g1&quot;, &quot;groupMembersCount&quot;: 3 }, \r\n  { &quot;id&quot;: 1, &quot;name&quot;: &quot;name_b1&quot;, &quot;groupName&quot;: &quot;g2&quot;, &quot;groupMembersCount&quot;: 9 }, \r\n  { &quot;id&quot;: 2, &quot;name&quot;: &quot;name_a1&quot;, &quot;groupName&quot;: &quot;g1&quot;, &quot;groupMembersCount&quot;: 3 }, \r\n...\r\n]\r\n```\r\n\r\nAnd here&#39;s the expected result:\r\n\r\n```\r\n[ \r\n  { &quot;id&quot;: 1, &quot;name&quot;: &quot;name_a1&quot;, &quot;groupCounts&quot;: { &quot;g1&quot;: 3, &quot;g2&quot;: 9 } }, \r\n  { &quot;id&quot;: 2, &quot;name&quot;: &quot;name_a2&quot;, &quot;groupCounts&quot;: { &quot;g1&quot;: 3, &quot;g2&quot;: 9 } },\r\n...\r\n]\r\n```\r\n","title":"Right way to group a stream into POJOs","body":"<p>I have a list of summary rows, which has few-rows-per-entity, where some scalar properties of the entity are repeated and there are two additional columns GroupName and GroupCount which are unique.</p>\n<p>Basically this is the output of a SQL join, and the entity data is repeated and there is a unique group name, and its count in each row.</p>\n<p>I want to stream this and collect it into an entity Dto which has the entity properties as well as a Map for the merged group statistics.</p>\n<p>I tried an implementation using Collectors.groupingBy, but it still doesn't look right.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Data\n    @AllArgsConstructor\n    public static class DepartmentSummaryRow{\n        private int id;\n        private String name;\n        private String groupName;\n        private int groupMembersCount;\n    }\n    @Data\n    @AllArgsConstructor\n    public static class Department{\n        private int id;\n        private String name;\n        @EqualsAndHashCode.Exclude\n        private final Map&lt;String, Integer&gt; groupCounts = new HashMap&lt;&gt;();\n    }\n    \n    public static void main(String[] args) {\n        grouping();\n    }\n    \n    private static void grouping() {\n        Gson g = new GsonBuilder().setPrettyPrinting().disableHtmlEscaping().create();\n        \n        //Test data\n        List&lt;DepartmentSummaryRow&gt; summaries = new ArrayList&lt;&gt;();\n        for(int i=1;i&lt;=50;i++) {\n            summaries.add( new DepartmentSummaryRow(i, &quot;name_a&quot;+i, &quot;g1&quot;, 3 ) );\n            summaries.add( new DepartmentSummaryRow(i, &quot;name_b&quot;+i, &quot;g2&quot;, 9 ) );\n        }\n        \n\n        //Just group the summary rows\n        Map&lt;Department, List&lt;DepartmentSummaryRow&gt;&gt; departmentsToSummaries = summaries\n                                                                    .stream()\n                                                                    .collect(\n                                                                            Collectors.groupingBy( \n                                                                                    (summary)-&gt;{ return new Department(summary.id, summary.name); }, \n                                                                                    LinkedHashMap::new, \n                                                                                    Collectors.toList()\n                                                                            )\n                                                                    );\n        \n        //Merge the info into the departments\n        departmentsToSummaries.forEach( (entity, sumaryRow)-&gt;{ \n            entity.groupCounts.putAll( \n                    sumaryRow.stream().collect( \n                                Collectors.groupingBy( \n                                    DepartmentSummaryRow::getGroupName, \n                                    Collectors.summingInt( DepartmentSummaryRow::getGroupMembersCount ) \n                                ) \n                            ) \n                ) ;\n            } );\n        \n        System.out.println( g.toJson( departmentsToSummaries.keySet() ) );\n    }\n</code></pre>\n<p>I am looking for some ideas for a better implementation than this for grouping a stream into custom POJOs. Any suggestions would be helpful. Thanks!</p>\n<p>(Note: this itself has some bug.. for some reason the first grouping by my POJO doesn't group at all.. which is odd, as it has a good hashcode and equals provided by Lombok)</p>\n<p>Edit:\nHere's what the input looks like:</p>\n<pre><code>[\n  { &quot;id&quot;: 1, &quot;name&quot;: &quot;name_a1&quot;, &quot;groupName&quot;: &quot;g1&quot;, &quot;groupMembersCount&quot;: 3 }, \n  { &quot;id&quot;: 1, &quot;name&quot;: &quot;name_b1&quot;, &quot;groupName&quot;: &quot;g2&quot;, &quot;groupMembersCount&quot;: 9 }, \n  { &quot;id&quot;: 2, &quot;name&quot;: &quot;name_a1&quot;, &quot;groupName&quot;: &quot;g1&quot;, &quot;groupMembersCount&quot;: 3 }, \n...\n]\n</code></pre>\n<p>And here's the expected result:</p>\n<pre><code>[ \n  { &quot;id&quot;: 1, &quot;name&quot;: &quot;name_a1&quot;, &quot;groupCounts&quot;: { &quot;g1&quot;: 3, &quot;g2&quot;: 9 } }, \n  { &quot;id&quot;: 2, &quot;name&quot;: &quot;name_a2&quot;, &quot;groupCounts&quot;: { &quot;g1&quot;: 3, &quot;g2&quot;: 9 } },\n...\n]\n</code></pre>\n"},{"tags":["java","gradle","java-native-library"],"comments":[{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1636978382,"post_id":69972254,"comment_id":123693658,"body_markdown":"Are you using ubuntu or windows ?","body":"Are you using ubuntu or windows ?"},{"owner":{"account_id":14879655,"reputation":368,"user_id":10744717,"display_name":"K. Zhu"},"score":0,"creation_date":1636989872,"post_id":69972254,"comment_id":123698464,"body_markdown":"@George ubuntu :-)","body":"@George ubuntu :-)"},{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1636993156,"post_id":69972254,"comment_id":123699974,"body_markdown":"and u have jni.bat ?","body":"and u have jni.bat ?"},{"owner":{"account_id":14879655,"reputation":368,"user_id":10744717,"display_name":"K. Zhu"},"score":0,"creation_date":1636993766,"post_id":69972254,"comment_id":123700261,"body_markdown":"@George It&#39;s autogenerated by gradlew, I don&#39;t know why. I never use it, I use jni instead.","body":"@George It&#39;s autogenerated by gradlew, I don&#39;t know why. I never use it, I use jni instead."},{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1636995960,"post_id":69972254,"comment_id":123701109,"body_markdown":"alright , as much as i know , you need to export your .so file to LD_LIBRARY_PATH environment variable , when i tried this with ubuntu the last time it worked like charm . this [answer](https://stackoverflow.com/questions/13428910/how-to-set-the-environmental-variable-ld-library-path-in-linux) can be helpful in your case .","body":"alright , as much as i know , you need to export your .so file to LD_LIBRARY_PATH environment variable , when i tried this with ubuntu the last time it worked like charm . this <a href=\"https://stackoverflow.com/questions/13428910/how-to-set-the-environmental-variable-ld-library-path-in-linux\">answer</a> can be helpful in your case ."}],"owner":{"account_id":14879655,"reputation":368,"user_id":10744717,"display_name":"K. Zhu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":958,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1636979260,"creation_date":1636969382,"question_id":69972254,"body_markdown":"I was learning JNI which uses libraries, and the tuturial is https://www.baeldung.com/jni.\r\nThe java source file is \r\n```java\r\npackage zxy;\r\n\r\npublic class JNIDemo {\r\n    public native void testHello();\r\n\r\n    public static void main(String[] args){\r\n        System.loadLibrary(&quot;native&quot;);\r\n        JNIDemo jniDemo = new JNIDemo();\r\n        jniDemo.testHello();\r\n        System.out.println(&quot;zxy&quot;);\r\n    }\r\n}\r\n```\r\nand the project directory is:\r\n```\r\n/src/main/java/zxy\r\n       |-&gt;JNIDemo.java\r\n/libs\r\n  |-&gt; libnative.so\r\nbuild.gradle\r\ngradlew\r\nsettings.gradle\r\n```\r\nthe build.gradle file is\r\n```gradle\r\nplugins {\r\n    id &#39;application&#39;\r\n}\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\napplication {\r\n    mainClass = &#39;zxy.JNIDemo&#39;\r\n}\r\n\r\ndependencies {\r\n    testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n    implementation files(&#39;libs/libnative.so&#39;)\r\n}\r\n```\r\nand the settings.gradle is\r\n```\r\nrootProject.name = &#39;jni&#39;\r\n```\r\nWhen I run ```./gradlew installDist```, it works fine,\r\nand gives my the following dir structure\r\n```\r\nbuild/\r\n|-&gt; /install/jni\r\n        |-&gt; /bin\r\n               |-&gt; jni\r\n               |-&gt; jni.bat\r\n        |-&gt; /lib\r\n               |-&gt; jni-1.0-SNAPSHOT.jar\r\n               |-&gt; libnative.so\r\n```\r\nBut when I run ```build/install/jni/bin/jni```, I gives me\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no native in java.library.path\r\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1860)\r\n        at java.lang.Runtime.loadLibrary0(Runtime.java:871)\r\n        at java.lang.System.loadLibrary(System.java:1124)\r\n        at zxy.JNIDemo.main(JNIDemo.java:8)\r\n\r\nFAILURE: Build failed with an exception.\r\n```\r\nI dont understand why, how can I include java.library.path in command ```gradlew installDist```","title":"How can I set java.library.path in gradlew installDist","body":"<p>I was learning JNI which uses libraries, and the tuturial is <a href=\"https://www.baeldung.com/jni\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jni</a>.\nThe java source file is</p>\n<pre class=\"lang-java prettyprint-override\"><code>package zxy;\n\npublic class JNIDemo {\n    public native void testHello();\n\n    public static void main(String[] args){\n        System.loadLibrary(&quot;native&quot;);\n        JNIDemo jniDemo = new JNIDemo();\n        jniDemo.testHello();\n        System.out.println(&quot;zxy&quot;);\n    }\n}\n</code></pre>\n<p>and the project directory is:</p>\n<pre><code>/src/main/java/zxy\n       |-&gt;JNIDemo.java\n/libs\n  |-&gt; libnative.so\nbuild.gradle\ngradlew\nsettings.gradle\n</code></pre>\n<p>the build.gradle file is</p>\n<pre><code>plugins {\n    id 'application'\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\napplication {\n    mainClass = 'zxy.JNIDemo'\n}\n\ndependencies {\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n    implementation files('libs/libnative.so')\n}\n</code></pre>\n<p>and the settings.gradle is</p>\n<pre><code>rootProject.name = 'jni'\n</code></pre>\n<p>When I run <code>./gradlew installDist</code>, it works fine,\nand gives my the following dir structure</p>\n<pre><code>build/\n|-&gt; /install/jni\n        |-&gt; /bin\n               |-&gt; jni\n               |-&gt; jni.bat\n        |-&gt; /lib\n               |-&gt; jni-1.0-SNAPSHOT.jar\n               |-&gt; libnative.so\n</code></pre>\n<p>But when I run <code>build/install/jni/bin/jni</code>, I gives me</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no native in java.library.path\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1860)\n        at java.lang.Runtime.loadLibrary0(Runtime.java:871)\n        at java.lang.System.loadLibrary(System.java:1124)\n        at zxy.JNIDemo.main(JNIDemo.java:8)\n\nFAILURE: Build failed with an exception.\n</code></pre>\n<p>I dont understand why, how can I include java.library.path in command <code>gradlew installDist</code></p>\n"},{"tags":["java","spring-boot","spring-cloud-stream"],"comments":[{"owner":{"account_id":5977697,"reputation":2143,"user_id":4697963,"display_name":"Markiian Benovskyi"},"score":0,"creation_date":1636975776,"post_id":69973632,"comment_id":123692740,"body_markdown":"Did you try setting spring: `kafka.listener.missing-topics-fatal=false` in properties?","body":"Did you try setting spring: <code>kafka.listener.missing-topics-fatal=false</code> in properties?"},{"owner":{"account_id":12691554,"reputation":33,"user_id":9221431,"display_name":"Alexander Orlov"},"score":0,"creation_date":1636977199,"post_id":69973632,"comment_id":123693240,"body_markdown":"Forgot to mention that i am using **Spring Cloud Stream** framefork, so no such property here, unfortunately","body":"Forgot to mention that i am using <b>Spring Cloud Stream</b> framefork, so no such property here, unfortunately"},{"owner":{"account_id":2365019,"reputation":5194,"user_id":2070861,"accept_rate":100,"display_name":"sobychacko"},"score":0,"creation_date":1637007624,"post_id":69973632,"comment_id":123705310,"body_markdown":"This property is provided at the boot level and you can use this in your SCSt app. But more importantly, `SCSt` uses Spring for Apache Kafka underneath, and therefore all Spring Kafka properties are applicable for a Spring Cloud Stream application as well.","body":"This property is provided at the boot level and you can use this in your SCSt app. But more importantly, <code>SCSt</code> uses Spring for Apache Kafka underneath, and therefore all Spring Kafka properties are applicable for a Spring Cloud Stream application as well."},{"owner":{"account_id":12691554,"reputation":33,"user_id":9221431,"display_name":"Alexander Orlov"},"score":0,"creation_date":1637047940,"post_id":69973632,"comment_id":123714066,"body_markdown":"Tried that setting, but it showed no effect. Still getting the same warnings when the app tries to connect to the topic","body":"Tried that setting, but it showed no effect. Still getting the same warnings when the app tries to connect to the topic"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1637079345,"post_id":69973632,"comment_id":123727419,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636978486,"creation_date":1636978486,"answer_id":69974263,"question_id":69973632,"body_markdown":"By default producers and consumers are started automatically. You can disable it using `auto-startup` Consumer/Producer properties - https://docs.spring.io/spring-cloud-stream/docs/3.1.5/reference/html/spring-cloud-stream.html#_producer_properties.\r\n\r\nYou can also start/stop bindings via actuator REST endpoints - https://docs.spring.io/spring-cloud-stream/docs/3.1.5/reference/html/spring-cloud-stream.html#binding_visualization_control","title":"Kafka producer disabling","body":"<p>By default producers and consumers are started automatically. You can disable it using <code>auto-startup</code> Consumer/Producer properties - <a href=\"https://docs.spring.io/spring-cloud-stream/docs/3.1.5/reference/html/spring-cloud-stream.html#_producer_properties\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-stream/docs/3.1.5/reference/html/spring-cloud-stream.html#_producer_properties</a>.</p>\n<p>You can also start/stop bindings via actuator REST endpoints - <a href=\"https://docs.spring.io/spring-cloud-stream/docs/3.1.5/reference/html/spring-cloud-stream.html#binding_visualization_control\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-stream/docs/3.1.5/reference/html/spring-cloud-stream.html#binding_visualization_control</a></p>\n"}],"owner":{"account_id":12691554,"reputation":33,"user_id":9221431,"display_name":"Alexander Orlov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636978486,"creation_date":1636975426,"question_id":69973632,"body_markdown":"I have an app that consumes one Kafka topic, doing things, and produces the result into two different topics.\r\n\r\nThe tricky thing is that the outgoing topic may not exist yet and I need to have an opportunity to switch off the producer on demand by environment varieable. \r\n\r\nI can disable send() method this way, but at app startup it tries to connect to the topic to get metadata and spams:\r\n\r\n```Error while fetching metadata ... UNKNOWN_TOPIC_OR_PARTITION```\r\n\r\nTried different producer-properties but with no luck. Also tried to annotate producer class with ConditionalOnProperty, but the bean is required by service class.","title":"Kafka producer disabling","body":"<p>I have an app that consumes one Kafka topic, doing things, and produces the result into two different topics.</p>\n<p>The tricky thing is that the outgoing topic may not exist yet and I need to have an opportunity to switch off the producer on demand by environment varieable.</p>\n<p>I can disable send() method this way, but at app startup it tries to connect to the topic to get metadata and spams:</p>\n<p><code>Error while fetching metadata ... UNKNOWN_TOPIC_OR_PARTITION</code></p>\n<p>Tried different producer-properties but with no luck. Also tried to annotate producer class with ConditionalOnProperty, but the bean is required by service class.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1636969765,"post_id":69972279,"comment_id":123690486,"body_markdown":"&quot;why we can&#39;t directly access s1.y&quot;? Because `y` is `private`. You need to use the getter to access the field&#39;s data, so instead of `s1.setDate().setM()` it neets to be `s1.getDate().setM()`.","body":"&quot;why we can&#39;t directly access s1.y&quot;? Because <code>y</code> is <code>private</code>. You need to use the getter to access the field&#39;s data, so instead of <code>s1.setDate().setM()</code> it neets to be <code>s1.getDate().setM()</code>."},{"owner":{"account_id":22532503,"reputation":3,"user_id":16724320,"display_name":"Arad Olfati"},"score":0,"creation_date":1636969895,"post_id":69972279,"comment_id":123690534,"body_markdown":"How getter allows us to access y field and why setter can&#39;t do this?","body":"How getter allows us to access y field and why setter can&#39;t do this?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1636970234,"post_id":69972279,"comment_id":123690661,"body_markdown":"A nested class is a class that is declared inside another class.  There are no nested classes in your example.   So your question&#39;s title is misleading.","body":"A nested class is a class that is declared inside another class.  There are no nested classes in your example.   So your question&#39;s title is misleading."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1636970266,"post_id":69972279,"comment_id":123690677,"body_markdown":"Your code declares the getters and setters as public, so that other classes can access them. A setter can access and modify the field, but does not return the value. That&#39;s the purpose of the getter.","body":"Your code declares the getters and setters as public, so that other classes can access them. A setter can access and modify the field, but does not return the value. That&#39;s the purpose of the getter."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1636973099,"post_id":69972279,"comment_id":123691733,"body_markdown":"If you are doing an exercise that requires you to create your own `Date` class, obviously do that. For any other purpose including all production code use `LocalDate` and do not create your own class for a date.","body":"If you are doing an exercise that requires you to create your own <code>Date</code> class, obviously do that. For any other purpose including all production code use <code>LocalDate</code> and do not create your own class for a date."}],"answers":[{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636970325,"creation_date":1636970325,"answer_id":69972458,"question_id":69972279,"body_markdown":"When you execute following code\r\n```java\r\n        Student s1 = new Student();\r\n```\r\nyou are actually creating 2 objects:\r\n\r\n 1. a `Student` object, which you can access through `s1` reference.\r\n 2. a `Date` object, which is automatically created altogether with above Student.\r\n\r\nThose are two separate objects. `Student` has only 3 properties (name, id, date) and `Date` object has also 3 properties (d,m,y). \r\n\r\nTo access a property of an object you need to use its reference. \r\nBecause `s1` references Student object, you can use it to access members of this object. However in order to access members of `Date` object, you need to obtain its reference, which is stored in the `date` property in the Student object. \r\n\r\nTherefore with `s1.getDate()` you get this reference and then you can use it to access members of a Date (i.e. its set*** methods) \r\n","title":"why i can&#39;t access variable which i declare in nested class?","body":"<p>When you execute following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Student s1 = new Student();\n</code></pre>\n<p>you are actually creating 2 objects:</p>\n<ol>\n<li>a <code>Student</code> object, which you can access through <code>s1</code> reference.</li>\n<li>a <code>Date</code> object, which is automatically created altogether with above Student.</li>\n</ol>\n<p>Those are two separate objects. <code>Student</code> has only 3 properties (name, id, date) and <code>Date</code> object has also 3 properties (d,m,y).</p>\n<p>To access a property of an object you need to use its reference.\nBecause <code>s1</code> references Student object, you can use it to access members of this object. However in order to access members of <code>Date</code> object, you need to obtain its reference, which is stored in the <code>date</code> property in the Student object.</p>\n<p>Therefore with <code>s1.getDate()</code> you get this reference and then you can use it to access members of a Date (i.e. its set*** methods)</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636978281,"creation_date":1636978281,"answer_id":69974223,"question_id":69972279,"body_markdown":"First of all, a nested class is a class that is declared inside another class. There are no nested classes in your example.  So your question&#39;s title is misleading.\r\n\r\nYou ask this:\r\n\r\n&gt; My question is why we can&#39;t directly access `s1.y` or `s1.m` or `s1.d`?\r\n\r\nThere are two reasons:\r\n\r\nReason #1: Because `y`, `m` and `d` ore not fields of the `Student` class.  They are fields of your `Date` class.   So, if you were (hypothetically) able to access them you would do it like as `s1.date.y`, `s1.date.m` and `s1.date.d`.\r\n\r\nBut that wouldn&#39;t work because of Reason #2.\r\n\r\nReason #2: Because `y`, `m`, `d` and indeed `date` have been declared as private.  The `private` access means that code outside of the class is not allowed to access them.\r\n\r\n---------------------------\r\n\r\nYour second pair of examples is **materially different** to the first example.  Now you are *calling methods* on the respective objects, not accessing their fields.\r\n\r\n&gt; For example for initialize name we can use this code: `s1.setName();`\r\n\r\nClose, but not correct.  You have to write `s1.setName(&quot;John Smith&quot;);` or some such.  The point is that `setName()` requires a `String` argument.  (That is how you declared it!!)  \r\n\r\n&gt; But why we can&#39;t use this : `s1.setDate().setM();`\r\n\r\nTo understand why this doesn&#39;t work, we need to explain what it actually says:\r\n\r\n  1.  Get the object reference in the `s1` variable.\r\n  2.  Call the `setDate()` method on that object.\r\n  3.  Call the `setM()` method on the object *returned* by the `setDate()` call.\r\n\r\nSo why doesn&#39;t it work?  In this case there are 3 reasons:\r\n\r\n  -  The `setDate` method expects  a parameter.  You haven&#39;t supplied one.\r\n  -  The `setDate` method is a `void` method.  It doesn&#39;t return anything.  So there is nothing to call `setM` on.\r\n  -  The `setM` method expects a parameter too.\r\n\r\nIn fact ... your big mistake here is that you are using the wrong method.  To set the `m` field of the `date` of a `Student` you would use something like `s1.getDate().setM(6);` \r\n\r\n  1.  Get the object reference in the `s1` variable.\r\n  2.  Call the `getDate()` method on that object to **get** the `Date` object.\r\n  3.  Call the `setM()` method on the `Date` object.\r\n\r\n-------------------\r\n\r\nYou need to think about what the methods actually do.  You don&#39;t call `setDate` in the above because `setDate` *replaces the entire date object with a different object*.  And that is not what you are (presumably) trying to do.","title":"why i can&#39;t access variable which i declare in nested class?","body":"<p>First of all, a nested class is a class that is declared inside another class. There are no nested classes in your example.  So your question's title is misleading.</p>\n<p>You ask this:</p>\n<blockquote>\n<p>My question is why we can't directly access <code>s1.y</code> or <code>s1.m</code> or <code>s1.d</code>?</p>\n</blockquote>\n<p>There are two reasons:</p>\n<p>Reason #1: Because <code>y</code>, <code>m</code> and <code>d</code> ore not fields of the <code>Student</code> class.  They are fields of your <code>Date</code> class.   So, if you were (hypothetically) able to access them you would do it like as <code>s1.date.y</code>, <code>s1.date.m</code> and <code>s1.date.d</code>.</p>\n<p>But that wouldn't work because of Reason #2.</p>\n<p>Reason #2: Because <code>y</code>, <code>m</code>, <code>d</code> and indeed <code>date</code> have been declared as private.  The <code>private</code> access means that code outside of the class is not allowed to access them.</p>\n<hr />\n<p>Your second pair of examples is <strong>materially different</strong> to the first example.  Now you are <em>calling methods</em> on the respective objects, not accessing their fields.</p>\n<blockquote>\n<p>For example for initialize name we can use this code: <code>s1.setName();</code></p>\n</blockquote>\n<p>Close, but not correct.  You have to write <code>s1.setName(&quot;John Smith&quot;);</code> or some such.  The point is that <code>setName()</code> requires a <code>String</code> argument.  (That is how you declared it!!)</p>\n<blockquote>\n<p>But why we can't use this : <code>s1.setDate().setM();</code></p>\n</blockquote>\n<p>To understand why this doesn't work, we need to explain what it actually says:</p>\n<ol>\n<li>Get the object reference in the <code>s1</code> variable.</li>\n<li>Call the <code>setDate()</code> method on that object.</li>\n<li>Call the <code>setM()</code> method on the object <em>returned</em> by the <code>setDate()</code> call.</li>\n</ol>\n<p>So why doesn't it work?  In this case there are 3 reasons:</p>\n<ul>\n<li>The <code>setDate</code> method expects  a parameter.  You haven't supplied one.</li>\n<li>The <code>setDate</code> method is a <code>void</code> method.  It doesn't return anything.  So there is nothing to call <code>setM</code> on.</li>\n<li>The <code>setM</code> method expects a parameter too.</li>\n</ul>\n<p>In fact ... your big mistake here is that you are using the wrong method.  To set the <code>m</code> field of the <code>date</code> of a <code>Student</code> you would use something like <code>s1.getDate().setM(6);</code></p>\n<ol>\n<li>Get the object reference in the <code>s1</code> variable.</li>\n<li>Call the <code>getDate()</code> method on that object to <strong>get</strong> the <code>Date</code> object.</li>\n<li>Call the <code>setM()</code> method on the <code>Date</code> object.</li>\n</ol>\n<hr />\n<p>You need to think about what the methods actually do.  You don't call <code>setDate</code> in the above because <code>setDate</code> <em>replaces the entire date object with a different object</em>.  And that is not what you are (presumably) trying to do.</p>\n"}],"owner":{"account_id":22532503,"reputation":3,"user_id":16724320,"display_name":"Arad Olfati"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636978281,"creation_date":1636969508,"question_id":69972279,"body_markdown":"My friends,  I have three class in my project\r\n\r\nMain class : \r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Student s1 = new Student();\r\n        }\r\n    }\r\n\r\nand Student class : \r\n\r\n    public class Student {\r\n        private String name;\r\n        private int id;\r\n        private Date date = new Date();\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public Date getDate() {\r\n            return date;\r\n        }\r\n    \r\n        public void setDate(Date date) {\r\n            this.date = date;\r\n        }\r\n    }\r\n\r\nand Date class : \r\n\r\n    public class Date {\r\n        private int d;\r\n        private int m;\r\n        private int y;\r\n    \r\n        public int getD() {\r\n            return d;\r\n        }\r\n    \r\n        public void setD(int d) {\r\n            this.d = d;\r\n        }\r\n    \r\n        public int getM() {\r\n            return m;\r\n        }\r\n    \r\n        public void setM(int m) {\r\n            this.m = m;\r\n        }\r\n    \r\n        public int getY() {\r\n            return y;\r\n        }\r\n    \r\n        public void setY(int y) {\r\n            this.y = y;\r\n        }\r\n    }\r\n\r\nfirst of all, when I instance `Student` in `main` class, java makes the structure like this:\r\n\r\n[![Structure][1]][1]\r\n\r\n\r\nWhat I mean is when we instance `Student` class in `main` class, java read `Student` class line by line \r\nfor Example : `String name , int id , Date date = new Date();`\r\n\r\nbecause `Date` has got 3 variables in it, we can say When we instance `Student` class we have 5 variables.\r\n\r\nfor Example `Student s1 = new Student();`\r\nwe have String `name`, int `id`, int `d`, int `m`, int `y` for `s1`.\r\nmy question is why we can&#39;t directly access `s1.y` or `s1.m` or `s1.d`? \r\n\r\nfor Example for initialize name we can use this code : `s1.setName();`\r\nbut why we can&#39;t use this : `s1.setDate().setM()`???\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Dzl2y.png","title":"why i can&#39;t access variable which i declare in nested class?","body":"<p>My friends,  I have three class in my project</p>\n<p>Main class :</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        Student s1 = new Student();\n    }\n}\n</code></pre>\n<p>and Student class :</p>\n<pre><code>public class Student {\n    private String name;\n    private int id;\n    private Date date = new Date();\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public Date getDate() {\n        return date;\n    }\n\n    public void setDate(Date date) {\n        this.date = date;\n    }\n}\n</code></pre>\n<p>and Date class :</p>\n<pre><code>public class Date {\n    private int d;\n    private int m;\n    private int y;\n\n    public int getD() {\n        return d;\n    }\n\n    public void setD(int d) {\n        this.d = d;\n    }\n\n    public int getM() {\n        return m;\n    }\n\n    public void setM(int m) {\n        this.m = m;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public void setY(int y) {\n        this.y = y;\n    }\n}\n</code></pre>\n<p>first of all, when I instance <code>Student</code> in <code>main</code> class, java makes the structure like this:</p>\n<p><a href=\"https://i.stack.imgur.com/Dzl2y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dzl2y.png\" alt=\"Structure\" /></a></p>\n<p>What I mean is when we instance <code>Student</code> class in <code>main</code> class, java read <code>Student</code> class line by line\nfor Example : <code>String name , int id , Date date = new Date();</code></p>\n<p>because <code>Date</code> has got 3 variables in it, we can say When we instance <code>Student</code> class we have 5 variables.</p>\n<p>for Example <code>Student s1 = new Student();</code>\nwe have String <code>name</code>, int <code>id</code>, int <code>d</code>, int <code>m</code>, int <code>y</code> for <code>s1</code>.\nmy question is why we can't directly access <code>s1.y</code> or <code>s1.m</code> or <code>s1.d</code>?</p>\n<p>for Example for initialize name we can use this code : <code>s1.setName();</code>\nbut why we can't use this : <code>s1.setDate().setM()</code>???</p>\n"},{"tags":["java","spring-boot","apache-camel"],"comments":[{"owner":{"account_id":2734183,"reputation":715,"user_id":2357209,"display_name":"Onur Başt&#252;rk"},"score":0,"creation_date":1599653068,"post_id":63811152,"comment_id":112838450,"body_markdown":"Check out this post https://stackoverflow.com/questions/34035908/cannot-consume-from-http-endpoint","body":"Check out this post <a href=\"https://stackoverflow.com/questions/34035908/cannot-consume-from-http-endpoint\" title=\"cannot consume from http endpoint\">stackoverflow.com/questions/34035908/&hellip;</a>"},{"owner":{"account_id":19475834,"reputation":51,"user_id":14247243,"display_name":"Sri"},"score":0,"creation_date":1599656453,"post_id":63811152,"comment_id":112840267,"body_markdown":"the above link has suggested to use direct or quartz2. when I use direct it doesn&#39;t even call the router. I am using apache camel version 3.4.1 I can&#39;t use quartz2. When I use jettey it&#39;s trying to bind the port which I have mentioned in the end point url hence giving error","body":"the above link has suggested to use direct or quartz2. when I use direct it doesn&#39;t even call the router. I am using apache camel version 3.4.1 I can&#39;t use quartz2. When I use jettey it&#39;s trying to bind the port which I have mentioned in the end point url hence giving error"},{"owner":{"account_id":19475834,"reputation":51,"user_id":14247243,"display_name":"Sri"},"score":0,"creation_date":1599658208,"post_id":63811152,"comment_id":112841238,"body_markdown":"I think It&#39;s trying to run the service if I specify the URL like this &quot;from(&quot;jetty:http://127.0.0.1:8083/getEmployee&quot;)&quot;. How do I consume using Jetty? do you have any sample code?","body":"I think It&#39;s trying to run the service if I specify the URL like this &quot;from(&quot;jetty:<a href=\"http://127.0.0.1:8083/getEmployee&quot;\" rel=\"nofollow noreferrer\">127.0.0.1:8083/getEmployee&quot;</a>)&quot;. How do I consume using Jetty? do you have any sample code?"},{"owner":{"account_id":19475834,"reputation":51,"user_id":14247243,"display_name":"Sri"},"score":0,"creation_date":1599660780,"post_id":63811152,"comment_id":112842633,"body_markdown":"I found the answer. I need to expose an endpoint using jetty to the producer which will send the json to this particular end point.","body":"I found the answer. I need to expose an endpoint using jetty to the producer which will send the json to this particular end point."}],"answers":[{"tags":[],"owner":{"account_id":10933061,"reputation":6811,"user_id":8035582,"accept_rate":100,"display_name":"burki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1599653057,"creation_date":1599653057,"answer_id":63811301,"question_id":63811152,"body_markdown":"The last line of the error message is the key: \r\n\r\n    Caused by: java.lang.UnsupportedOperationException: Cannot consume from http endpoint\r\n\r\n[camel-http][1] and [camel-http4][2] (for Camel 2.x) are **only usable as producer**, but not as consumer. \r\n\r\nYou need to use for example [camel-jetty][3] that **can consume http requests**. \r\n\r\n\r\n  [1]: https://camel.apache.org/components/latest/http-component.html\r\n  [2]: https://camel.apache.org/components/2.x/http4-component.html\r\n  [3]: https://camel.apache.org/components/latest/jetty-component.html","title":"org.apache.camel.FailedToStartRouteException: Failed to start route route1 because of null","body":"<p>The last line of the error message is the key:</p>\n<pre><code>Caused by: java.lang.UnsupportedOperationException: Cannot consume from http endpoint\n</code></pre>\n<p><a href=\"https://camel.apache.org/components/latest/http-component.html\" rel=\"nofollow noreferrer\">camel-http</a> and <a href=\"https://camel.apache.org/components/2.x/http4-component.html\" rel=\"nofollow noreferrer\">camel-http4</a> (for Camel 2.x) are <strong>only usable as producer</strong>, but not as consumer.</p>\n<p>You need to use for example <a href=\"https://camel.apache.org/components/latest/jetty-component.html\" rel=\"nofollow noreferrer\">camel-jetty</a> that <strong>can consume http requests</strong>.</p>\n"},{"tags":[],"owner":{"account_id":19475834,"reputation":51,"user_id":14247243,"display_name":"Sri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599661304,"creation_date":1599661304,"answer_id":63813679,"question_id":63811152,"body_markdown":"I found the answer. \r\nJetty will expose an end point URL which will be used by the producer to send the json/message. So add the end poin url exposed by jetty in the producer.\r\nAdd camel-jetty-starter dependency in the pom.xml\r\nProducer:\r\nAssuming that you are aware of how the rest api will post the message to another api. Hence, I am just sharing the postEntity code from the controller.\r\n\r\nResponseEntity responseEntity = restTemplate.postForEntity(new URI(&quot;http://localhost:8084/employee-package/getEmployee&quot;), request, Employee.class);\r\n\r\nConsumer API Router:\r\n\r\n@Component\r\npublic class HRFeedRoute extends RouteBuilder {\r\n\r\n\t@Override\r\n    public final void configure() {\r\n    \tSystem.out.println(&quot;fetching employee details from employee api&quot;);\r\n    \ttry {\r\n    \t\t\r\n    \t\tfrom(&quot;jetty://http://localhost:8084/employee-package/getEmployee&quot;)\r\n    \t\t.log(&quot;${body}&quot;)\r\n    \t\t.unmarshal().json(JsonLibrary.Jackson, Employee.class)\r\n            .process(\r\n\t\t\t\t\tex -&gt; {\r\n\t\t\t\t\t\tEmployee employee = (Employee) ex.getIn().getBody();\r\n\t                    System.out.println(&quot;|&quot;+employee.getEmpId()+&quot; | &quot;+employee.getName()+&quot; | &quot;+employee.getDesignation()+&quot; | &quot;+employee.getSalary());\r\n\t                });\r\n            \r\n    \t} catch(Error e) {\r\n    \t\tSystem.out.println(&quot;Error occurred while processing employee data: &quot;+e.getMessage());\r\n    \t}\r\n    }\r\n}","title":"org.apache.camel.FailedToStartRouteException: Failed to start route route1 because of null","body":"<p>I found the answer.\nJetty will expose an end point URL which will be used by the producer to send the json/message. So add the end poin url exposed by jetty in the producer.\nAdd camel-jetty-starter dependency in the pom.xml\nProducer:\nAssuming that you are aware of how the rest api will post the message to another api. Hence, I am just sharing the postEntity code from the controller.</p>\n<p>ResponseEntity responseEntity = restTemplate.postForEntity(new URI(&quot;http://localhost:8084/employee-package/getEmployee&quot;), request, Employee.class);</p>\n<p>Consumer API Router:</p>\n<p>@Component\npublic class HRFeedRoute extends RouteBuilder {</p>\n<pre><code>@Override\npublic final void configure() {\n    System.out.println(&quot;fetching employee details from employee api&quot;);\n    try {\n        \n        from(&quot;jetty://http://localhost:8084/employee-package/getEmployee&quot;)\n        .log(&quot;${body}&quot;)\n        .unmarshal().json(JsonLibrary.Jackson, Employee.class)\n        .process(\n                ex -&gt; {\n                    Employee employee = (Employee) ex.getIn().getBody();\n                    System.out.println(&quot;|&quot;+employee.getEmpId()+&quot; | &quot;+employee.getName()+&quot; | &quot;+employee.getDesignation()+&quot; | &quot;+employee.getSalary());\n                });\n        \n    } catch(Error e) {\n        System.out.println(&quot;Error occurred while processing employee data: &quot;+e.getMessage());\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":19475834,"reputation":51,"user_id":14247243,"display_name":"Sri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10458,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1636978208,"creation_date":1599652514,"question_id":63811152,"body_markdown":"I am new to apache camel. I am trying to consume json, convert it into java object and write it in CSV file with pipe delimiter. However I am getting error while trying to consume the json from another api&#39;s endpoint. I am using spring boot to achieve this task.\r\n\r\nAttached the sample code which I am trying.\r\n```java\r\n@Component\r\npublic class HRFeedRoute extends RouteBuilder {\r\n\r\n\t@Override\r\n    public final void configure() {\r\n    \tSystem.out.println(&quot;fetching employee details from employee api&quot;);\r\n    \ttry {\r\n    \t\tfrom(&quot;http://localhost:8083/getEmployee&quot;).startupOrder(1).to(&quot;direct:employee&quot;)\r\n    \t\t.log(&quot;${body}&quot;);\r\n    \t\t\t\t\r\n    \t\tfrom(&quot;direct:employee&quot;)\r\n            .unmarshal().json(JsonLibrary.Jackson, Employee.class)\r\n            .process(\r\n\t\t\t\t\tex -&gt; {\r\n\t                    System.out.println(ex);\r\n\t                });\r\n            \r\n    \t} catch(Error e) {\r\n    \t\tSystem.out.println(&quot;Error occurred while processing employee data: &quot;+e.getMessage());\r\n    \t}\r\n    }\r\n}\r\n```\r\n\r\n```java\r\norg.apache.camel.FailedToStartRouteException: Failed to start route route1 because of null\r\n\tat org.apache.camel.impl.engine.RouteService.warmUp(RouteService.java:125)\r\n\tat org.apache.camel.impl.engine.InternalRouteStartupManager.doWarmUpRoutes(InternalRouteStartupManager.java:263)\r\n\tat org.apache.camel.impl.engine.InternalRouteStartupManager.safelyStartRouteServices(InternalRouteStartupManager.java:156)\r\n\tat org.apache.camel.impl.engine.InternalRouteStartupManager.doStartOrResumeRoutes(InternalRouteStartupManager.java:114)\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.doStartCamel(AbstractCamelContext.java:2809)\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.doStartContext(AbstractCamelContext.java:2657)\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.doStart(AbstractCamelContext.java:2620)\r\n\tat org.apache.camel.spring.boot.SpringBootCamelContext.doStart(SpringBootCamelContext.java:43)\r\n\tat org.apache.camel.support.service.BaseService.start(BaseService.java:115)\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2452)\r\n\tat org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:121)\r\n\tat org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:157)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n\tat au.com.macquarie.hr.application.EmployeePackageBootApp.main(EmployeePackageBootApp.java:13)\r\nCaused by: java.lang.UnsupportedOperationException: Cannot consume from http endpoint\r\n```","title":"org.apache.camel.FailedToStartRouteException: Failed to start route route1 because of null","body":"<p>I am new to apache camel. I am trying to consume json, convert it into java object and write it in CSV file with pipe delimiter. However I am getting error while trying to consume the json from another api's endpoint. I am using spring boot to achieve this task.</p>\n<p>Attached the sample code which I am trying.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class HRFeedRoute extends RouteBuilder {\n\n    @Override\n    public final void configure() {\n        System.out.println(&quot;fetching employee details from employee api&quot;);\n        try {\n            from(&quot;http://localhost:8083/getEmployee&quot;).startupOrder(1).to(&quot;direct:employee&quot;)\n            .log(&quot;${body}&quot;);\n                    \n            from(&quot;direct:employee&quot;)\n            .unmarshal().json(JsonLibrary.Jackson, Employee.class)\n            .process(\n                    ex -&gt; {\n                        System.out.println(ex);\n                    });\n            \n        } catch(Error e) {\n            System.out.println(&quot;Error occurred while processing employee data: &quot;+e.getMessage());\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>org.apache.camel.FailedToStartRouteException: Failed to start route route1 because of null\n    at org.apache.camel.impl.engine.RouteService.warmUp(RouteService.java:125)\n    at org.apache.camel.impl.engine.InternalRouteStartupManager.doWarmUpRoutes(InternalRouteStartupManager.java:263)\n    at org.apache.camel.impl.engine.InternalRouteStartupManager.safelyStartRouteServices(InternalRouteStartupManager.java:156)\n    at org.apache.camel.impl.engine.InternalRouteStartupManager.doStartOrResumeRoutes(InternalRouteStartupManager.java:114)\n    at org.apache.camel.impl.engine.AbstractCamelContext.doStartCamel(AbstractCamelContext.java:2809)\n    at org.apache.camel.impl.engine.AbstractCamelContext.doStartContext(AbstractCamelContext.java:2657)\n    at org.apache.camel.impl.engine.AbstractCamelContext.doStart(AbstractCamelContext.java:2620)\n    at org.apache.camel.spring.boot.SpringBootCamelContext.doStart(SpringBootCamelContext.java:43)\n    at org.apache.camel.support.service.BaseService.start(BaseService.java:115)\n    at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2452)\n    at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:121)\n    at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:157)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n    at au.com.macquarie.hr.application.EmployeePackageBootApp.main(EmployeePackageBootApp.java:13)\nCaused by: java.lang.UnsupportedOperationException: Cannot consume from http endpoint\n</code></pre>\n"},{"tags":["java","android","date","calendar"],"comments":[{"owner":{"account_id":317667,"reputation":22257,"user_id":634474,"display_name":"dymmeh"},"score":2,"creation_date":1378237946,"post_id":18600257,"comment_id":27375813,"body_markdown":"What is the error? Are you sure you are using the proper date object that the Calendar object expects (java.util.Date)","body":"What is the error? Are you sure you are using the proper date object that the Calendar object expects (java.util.Date)"}],"answers":[{"tags":[],"owner":{"account_id":1738473,"reputation":51030,"user_id":1590502,"accept_rate":78,"display_name":"Philipp Jahoda"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1516984639,"creation_date":1378237739,"answer_id":18600343,"question_id":18600257,"body_markdown":"You can get the **day-integer** like that:\r\n\r\n    Calendar c = Calendar.getInstance();\r\n    c.setTime(yourdate); // yourdate is an object of type Date\r\n    \r\n    int dayOfWeek = c.get(Calendar.DAY_OF_WEEK); // this will for example return 3 for tuesday\r\n\r\n\r\n**If you need the output to be &quot;Tue&quot; rather than 3,** instead of going through a calendar, just reformat the string: `new SimpleDateFormat(&quot;EE&quot;).format(date)` (EE meaning &quot;day of week, short version&quot;)\r\n\r\nTaken from here: https://stackoverflow.com/questions/5270272/how-to-determine-day-of-week-by-passing-specific-date","title":"How to get the weekday of a Date?","body":"<p>You can get the <strong>day-integer</strong> like that:</p>\n\n<pre><code>Calendar c = Calendar.getInstance();\nc.setTime(yourdate); // yourdate is an object of type Date\n\nint dayOfWeek = c.get(Calendar.DAY_OF_WEEK); // this will for example return 3 for tuesday\n</code></pre>\n\n<p><strong>If you need the output to be \"Tue\" rather than 3,</strong> instead of going through a calendar, just reformat the string: <code>new SimpleDateFormat(\"EE\").format(date)</code> (EE meaning \"day of week, short version\")</p>\n\n<p>Taken from here: <a href=\"https://stackoverflow.com/questions/5270272/how-to-determine-day-of-week-by-passing-specific-date\">How to determine day of week by passing specific date?</a></p>\n"},{"tags":[],"owner":{"account_id":17991228,"reputation":61,"user_id":13075285,"display_name":"Dise&#241;o Web Cantabria"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1585091046,"creation_date":1585086439,"answer_id":60839854,"question_id":18600257,"body_markdown":"    // kotlin\r\n    \r\n    val calendar = Calendar.getInstance()\r\n    \r\n    val dateInfo = DateFormat.getDateInstance(DateFormat.FULL).format(calendar.time)\r\n       \r\n    data.text = dateInfo","title":"How to get the weekday of a Date?","body":"<pre><code>// kotlin\n\nval calendar = Calendar.getInstance()\n\nval dateInfo = DateFormat.getDateInstance(DateFormat.FULL).format(calendar.time)\n\ndata.text = dateInfo\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585115753,"creation_date":1585115753,"answer_id":60843616,"question_id":18600257,"body_markdown":"This is one of the many things that have become a lot easier with the advent of java.time, the modern Java date and time API.\r\n\r\n\t\tString tempDate = &quot;2020-03-29&quot;;\r\n\t\tLocalDate date = LocalDate.parse(tempDate);\r\n\t\tDayOfWeek day = date.getDayOfWeek();\r\n\t\tSystem.out.println(day);\r\n\r\nOutput:\r\n\r\n&gt; SUNDAY\r\n\r\nOf course we now have got an enum for the days of the week. There’s no longer any reason to fiddle with integers and having to remember on what day of week they begin and whether the days are numbered from 0 or 1.\r\n\r\nI am expoiting the fact that your expected input format (`yyyy-MM-dd` in your code) is ISO 8601, the default for java.time, so we don’t need to specify any formatter explicitly.\r\n\r\n## Question: Doesn’t java.time require Android API level 26?\r\n\r\njava.time works nicely on both older and newer Android devices. It just requires at least **Java 6**.\r\n\r\n - In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.\r\n - In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).\r\n - On (older) Android use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from `org.threeten.bp` with subpackages.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Java Specification Request (JSR) 310](https://jcp.org/en/jsr/detail?id=310), where `java.time` was first described.\r\n - [ThreeTen Backport project](http://www.threeten.org/threetenbp/), the backport of `java.time` to Java 6 and 7 (ThreeTen for JSR-310).\r\n - [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP), Android edition of ThreeTen Backport\r\n - [Question: How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project), with a very thorough explanation.\r\n - [Wikipedia article: ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)","title":"How to get the weekday of a Date?","body":"<p>This is one of the many things that have become a lot easier with the advent of java.time, the modern Java date and time API.</p>\n\n<pre><code>    String tempDate = \"2020-03-29\";\n    LocalDate date = LocalDate.parse(tempDate);\n    DayOfWeek day = date.getDayOfWeek();\n    System.out.println(day);\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>SUNDAY</p>\n</blockquote>\n\n<p>Of course we now have got an enum for the days of the week. There’s no longer any reason to fiddle with integers and having to remember on what day of week they begin and whether the days are numbered from 0 or 1.</p>\n\n<p>I am expoiting the fact that your expected input format (<code>yyyy-MM-dd</code> in your code) is ISO 8601, the default for java.time, so we don’t need to specify any formatter explicitly.</p>\n\n<h2>Question: Doesn’t java.time require Android API level 26?</h2>\n\n<p>java.time works nicely on both older and newer Android devices. It just requires at least <strong>Java 6</strong>.</p>\n\n<ul>\n<li>In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.</li>\n<li>In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).</li>\n<li>On (older) Android use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from <code>org.threeten.bp</code> with subpackages.</li>\n</ul>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">Java Specification Request (JSR) 310</a>, where <code>java.time</code> was first described.</li>\n<li><a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport project</a>, the backport of <code>java.time</code> to Java 6 and 7 (ThreeTen for JSR-310).</li>\n<li><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport</li>\n<li><a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">Question: How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">Wikipedia article: ISO 8601</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619782599,"creation_date":1619782599,"answer_id":67333205,"question_id":18600257,"body_markdown":"# *java.time*\r\n\r\nYou can do it using `DateTimeFormatter.ofPattern(&quot;EEEE&quot;)`:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String args[]) {\r\n    \t\t// Test\r\n    \t\tSystem.out.println(getWeekDayName(&quot;2021-04-30&quot;));\r\n    \t}\r\n    \r\n    \tpublic static String getWeekDayName(String s) {\r\n    \t\tDateTimeFormatter dtfInput = DateTimeFormatter.ofPattern(&quot;u-M-d&quot;, Locale.ENGLISH);\r\n    \t\tDateTimeFormatter dtfOutput = DateTimeFormatter.ofPattern(&quot;EEEE&quot;, Locale.ENGLISH);\r\n    \t\treturn LocalDate.parse(s, dtfInput).format(dtfOutput);\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    Friday\r\n\r\n**Alternatively**, you can get it using [`LocalDate#getDayOfWeek`][1]:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.TextStyle;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String args[]) {\r\n    \t\t// Test\r\n    \t\tSystem.out.println(getWeekDayName(&quot;2021-04-30&quot;));\r\n    \t}\r\n    \r\n    \tpublic static String getWeekDayName(String s) {\r\n    \t\tDateTimeFormatter dtfInput = DateTimeFormatter.ofPattern(&quot;u-M-d&quot;, Locale.ENGLISH);\r\n    \t\treturn LocalDate.parse(s, dtfInput).getDayOfWeek().getDisplayName(TextStyle.FULL, Locale.ENGLISH);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    Friday\r\n\r\nLearn more about the the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html)&lt;sup&gt;*&lt;/sup&gt; from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#getDayOfWeek--","title":"How to get the weekday of a Date?","body":"<h1><em>java.time</em></h1>\n<p>You can do it using <code>DateTimeFormatter.ofPattern(&quot;EEEE&quot;)</code>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String args[]) {\n        // Test\n        System.out.println(getWeekDayName(&quot;2021-04-30&quot;));\n    }\n\n    public static String getWeekDayName(String s) {\n        DateTimeFormatter dtfInput = DateTimeFormatter.ofPattern(&quot;u-M-d&quot;, Locale.ENGLISH);\n        DateTimeFormatter dtfOutput = DateTimeFormatter.ofPattern(&quot;EEEE&quot;, Locale.ENGLISH);\n        return LocalDate.parse(s, dtfInput).format(dtfOutput);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Friday\n</code></pre>\n<p><strong>Alternatively</strong>, you can get it using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#getDayOfWeek--\" rel=\"nofollow noreferrer\"><code>LocalDate#getDayOfWeek</code></a>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.TextStyle;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String args[]) {\n        // Test\n        System.out.println(getWeekDayName(&quot;2021-04-30&quot;));\n    }\n\n    public static String getWeekDayName(String s) {\n        DateTimeFormatter dtfInput = DateTimeFormatter.ofPattern(&quot;u-M-d&quot;, Locale.ENGLISH);\n        return LocalDate.parse(s, dtfInput).getDayOfWeek().getDisplayName(TextStyle.FULL, Locale.ENGLISH);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Friday\n</code></pre>\n<p>Learn more about the the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a><sup>*</sup> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.\n</sup></p>\n"},{"tags":[],"owner":{"account_id":18355810,"reputation":11,"user_id":13368888,"display_name":"Jian Hui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625224332,"creation_date":1625224332,"answer_id":68224196,"question_id":18600257,"body_markdown":"In Kotlin, just do this:\r\n\r\n    val yourDateStr = &quot;2021-01-01&quot;\r\n    val df = DateFormat.parse(yourDateStr)\r\n    val weedDay = df.getWeekDay(yourTimeZone)\r\n\r\n","title":"How to get the weekday of a Date?","body":"<p>In Kotlin, just do this:</p>\n<pre><code>val yourDateStr = &quot;2021-01-01&quot;\nval df = DateFormat.parse(yourDateStr)\nval weedDay = df.getWeekDay(yourTimeZone)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23343370,"reputation":1,"user_id":17418009,"display_name":"manjula shriram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636978179,"creation_date":1636978179,"answer_id":69974197,"question_id":18600257,"body_markdown":"the below code works, depending on what number you enter in the DAY_OF_WEEK, that returns the specific weekday, in this example it always returns a future date and day will always be Tuesday.\r\n\r\nDAY_OF_WEEK\r\n\r\n\r\n    public static String getTodaysDateAndTime(){\r\n\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.add(Calendar.DATE, 5);\r\n        cal.add(Calendar.DAY_OF_WEEK, 2);\r\n        Date date = cal.getTime();\r\n        SimpleDateFormat dateformat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n        String futureDate = dateformat.format(date);\r\n        System.out.println(futureDate);\r\n        return futureDate;\r\n    }","title":"How to get the weekday of a Date?","body":"<p>the below code works, depending on what number you enter in the DAY_OF_WEEK, that returns the specific weekday, in this example it always returns a future date and day will always be Tuesday.</p>\n<p>DAY_OF_WEEK</p>\n<pre><code>public static String getTodaysDateAndTime(){\n\n    Calendar cal = Calendar.getInstance();\n    cal.add(Calendar.DATE, 5);\n    cal.add(Calendar.DAY_OF_WEEK, 2);\n    Date date = cal.getTime();\n    SimpleDateFormat dateformat = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;);\n    String futureDate = dateformat.format(date);\n    System.out.println(futureDate);\n    return futureDate;\n}\n</code></pre>\n"}],"owner":{"account_id":2774132,"reputation":185,"user_id":2388061,"display_name":"Sunny Chhatwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38837,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":18600343,"answer_count":6,"score":17,"last_activity_date":1636978179,"creation_date":1378237413,"question_id":18600257,"body_markdown":"I want to get the day of week from the Java `Date` object when I have an array of `Date` in String with me.\r\n\r\n    SimpleDateFormat  sourceDateformat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    public String[] temp_date;\r\n    public Int[] day = new Int[5];\r\n    Date[] d1= new Date[5];\r\n    Calendar[] cal= new Calendar[5]\r\n  \r\n      try {\r\n \t\t d1[i]= sourceDateformat.parse(temp_date[i].toString());\r\n \t\t cal[i].setTime(d1[i]);   // its not compiling this line..showing error on this line\r\n \t     day[i]= cal[i].get(Calendar.DAY_OF_WEEK);\t\t\r\n \t \t} \r\n \t catch (ParseException e) {\r\n  \t\t\te.printStackTrace();\r\n  \t\t}\r\n\r\n\r\nDoes anyone know the answer to this?","title":"How to get the weekday of a Date?","body":"<p>I want to get the day of week from the Java <code>Date</code> object when I have an array of <code>Date</code> in String with me.</p>\n\n<pre><code>SimpleDateFormat  sourceDateformat = new SimpleDateFormat(\"yyyy-MM-dd\");\npublic String[] temp_date;\npublic Int[] day = new Int[5];\nDate[] d1= new Date[5];\nCalendar[] cal= new Calendar[5]\n\n  try {\n     d1[i]= sourceDateformat.parse(temp_date[i].toString());\n     cal[i].setTime(d1[i]);   // its not compiling this line..showing error on this line\n     day[i]= cal[i].get(Calendar.DAY_OF_WEEK);      \n    } \n catch (ParseException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>Does anyone know the answer to this?</p>\n"},{"tags":["java","selenium","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":9862817,"reputation":5309,"user_id":7305183,"display_name":"Murthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636978139,"creation_date":1636978139,"answer_id":69974190,"question_id":69973995,"body_markdown":"I think, the your selector is wrong in your code. you are trying to click on warning button but it is blocked by success button.","title":"WebElement click intercepted by itself","body":"<p>I think, the your selector is wrong in your code. you are trying to click on warning button but it is blocked by success button.</p>\n"}],"owner":{"account_id":19130226,"reputation":71,"user_id":13972313,"display_name":"Mattemingda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1636978139,"creation_date":1636977149,"question_id":69973995,"body_markdown":"I&#39;m receiving an `ElementClickInterceptedException` when trying to click on a button. Normally I would be able to handle this, but the curious thing is that the &#39;intercepting&#39; element is the same element as the one I&#39;m trying to click, as seen here:\r\n\r\n        org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;button type=&quot;button&quot; name=&quot;button&quot; class=&quot;vs-component vs-button vs-button-success vs-button-filled includeIcon includeIconOnly vs-radius small&quot;&gt;...&lt;/button&gt; is not clickable at point (220, 72). Other element would receive the click: &lt;button type=&quot;button&quot; name=&quot;button&quot; class=&quot;vs-component vs-button vs-button-warning vs-button-filled includeIcon includeIconOnly vs-radius small&quot;&gt;...&lt;/button&gt;\r\n\r\nI have checked the button in devTools using the selector:\r\n\r\n    button[class=&#39;vs-component vs-button vs-button-warning vs-button-filled includeIcon includeIconOnly vs-radius small&#39;]\r\n\r\nSure enough, there is exactly one element on the page with that selector.\r\nWhat is going on here?\r\nI am using chromedriver 95.\r\n","title":"WebElement click intercepted by itself","body":"<p>I'm receiving an <code>ElementClickInterceptedException</code> when trying to click on a button. Normally I would be able to handle this, but the curious thing is that the 'intercepting' element is the same element as the one I'm trying to click, as seen here:</p>\n<pre><code>    org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;button type=&quot;button&quot; name=&quot;button&quot; class=&quot;vs-component vs-button vs-button-success vs-button-filled includeIcon includeIconOnly vs-radius small&quot;&gt;...&lt;/button&gt; is not clickable at point (220, 72). Other element would receive the click: &lt;button type=&quot;button&quot; name=&quot;button&quot; class=&quot;vs-component vs-button vs-button-warning vs-button-filled includeIcon includeIconOnly vs-radius small&quot;&gt;...&lt;/button&gt;\n</code></pre>\n<p>I have checked the button in devTools using the selector:</p>\n<pre><code>button[class='vs-component vs-button vs-button-warning vs-button-filled includeIcon includeIconOnly vs-radius small']\n</code></pre>\n<p>Sure enough, there is exactly one element on the page with that selector.\nWhat is going on here?\nI am using chromedriver 95.</p>\n"},{"tags":["java","gradle","zip","lifecycle","gradle-task"],"comments":[{"owner":{"account_id":23177743,"reputation":43,"user_id":17275989,"display_name":"Liveon Phoenix"},"score":0,"creation_date":1636878346,"post_id":69960358,"comment_id":123670801,"body_markdown":"Is there a way to run this tasks name &quot;unzip_native_os&quot; at Execution Phase.","body":"Is there a way to run this tasks name &quot;unzip_native_os&quot; at Execution Phase."},{"owner":{"account_id":23177743,"reputation":43,"user_id":17275989,"display_name":"Liveon Phoenix"},"score":0,"creation_date":1636880797,"post_id":69960358,"comment_id":123671200,"body_markdown":"Edited: The only possible way to solve this one was to created and to have your own/external community-plugins that have this specific features? On what I&#39;ve heard &quot;afterEvaluate&quot; method is not safe, specially for a project that needs multiple plugin, it will create an havoc, so what I&#39;ve heard.","body":"Edited: The only possible way to solve this one was to created and to have your own/external community-plugins that have this specific features? On what I&#39;ve heard &quot;afterEvaluate&quot; method is not safe, specially for a project that needs multiple plugin, it will create an havoc, so what I&#39;ve heard."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1636884011,"post_id":69960358,"comment_id":123671767,"body_markdown":"You don&#39;t need a custom task. As the [linked answer](https://stackoverflow.com/a/31437294/5646962) shows the `doFirst` and `doLast` blocks are executed during the execution phase.","body":"You don&#39;t need a custom task. As the <a href=\"https://stackoverflow.com/a/31437294/5646962\">linked answer</a> shows the <code>doFirst</code> and <code>doLast</code> blocks are executed during the execution phase."},{"owner":{"account_id":23177743,"reputation":43,"user_id":17275989,"display_name":"Liveon Phoenix"},"score":0,"creation_date":1636885878,"post_id":69960358,"comment_id":123672123,"body_markdown":"@Thomas, And as the derived class of DefaultTask with a method annotated of &quot;TaskAction&quot; also run in Execution phase. Rigth?","body":"@Thomas, And as the derived class of DefaultTask with a method annotated of &quot;TaskAction&quot; also run in Execution phase. Rigth?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1636889950,"post_id":69960358,"comment_id":123673050,"body_markdown":"Yes, any Task method annotated with `@TaskAction` will also run in the execution phase. However I doubt that this will help you because the `doLast` action is also executed in the execution phase, so creating a custom task with a &quot;TaskAction&quot; and moving your code there will not significantly change the behavior.","body":"Yes, any Task method annotated with <code>@TaskAction</code> will also run in the execution phase. However I doubt that this will help you because the <code>doLast</code> action is also executed in the execution phase, so creating a custom task with a &quot;TaskAction&quot; and moving your code there will not significantly change the behavior."},{"owner":{"account_id":23177743,"reputation":43,"user_id":17275989,"display_name":"Liveon Phoenix"},"score":0,"creation_date":1636892893,"post_id":69960358,"comment_id":123673674,"body_markdown":"Our Goal here is to manually execute this Task &quot;unzip_natives_os&quot; or perform its duty at execution phase. Though I do have some problem in parallel to it, but the priority is this _**tasks**_.","body":"Our Goal here is to manually execute this Task &quot;unzip_natives_os&quot; or perform its duty at execution phase. Though I do have some problem in parallel to it, but the priority is this <i><b>tasks</b></i>."},{"owner":{"account_id":23177743,"reputation":43,"user_id":17275989,"display_name":"Liveon Phoenix"},"score":1,"creation_date":1636977907,"post_id":69960358,"comment_id":123693489,"body_markdown":"Um, Just remove that type &lt;Copy&gt; in tasks.register&lt;Copy&gt; and it will work. And again my bad for not realizing this mistake early.","body":"Um, Just remove that type &lt;Copy&gt; in tasks.register&lt;Copy&gt; and it will work. And again my bad for not realizing this mistake early."}],"answers":[{"tags":[],"owner":{"account_id":23177743,"reputation":43,"user_id":17275989,"display_name":"Liveon Phoenix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636978020,"creation_date":1636876225,"answer_id":69961231,"question_id":69960358,"body_markdown":"Edited: I found a possible answer and it looks promising but I did not implement it yet, because I need some learning to do on building this kind of script plugin/inline plugin. Here&#39;s the link: https://stackoverflow.com/questions/31390606/gradle-custom-task-execution-phase\r\n\r\n&gt; Edited: found an alternative/another quick solution here: https://stackoverflow.com/questions/69972569/fix-custom-tasks-in-gradle-want-to-run-it-manually-via-at-execution-phase","title":"How do we properly create an execution phase tasks?","body":"<p>Edited: I found a possible answer and it looks promising but I did not implement it yet, because I need some learning to do on building this kind of script plugin/inline plugin. Here's the link: <a href=\"https://stackoverflow.com/questions/31390606/gradle-custom-task-execution-phase\">gradle custom task execution phase</a></p>\n<blockquote>\n<p>Edited: found an alternative/another quick solution here: <a href=\"https://stackoverflow.com/questions/69972569/fix-custom-tasks-in-gradle-want-to-run-it-manually-via-at-execution-phase\">Fix custom tasks in gradle. Want to run it manually via at Execution Phase</a></p>\n</blockquote>\n"}],"owner":{"account_id":23177743,"reputation":43,"user_id":17275989,"display_name":"Liveon Phoenix"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636978020,"creation_date":1636865210,"question_id":69960358,"body_markdown":"this is what the ideal build script I have:\r\n\r\n&gt; I do want to execute tasks &quot;unzip_natives_os&quot; manually. But it seems it only works at config phase. And when I take a test run with this set-up it gives me an error: &quot;java.lang.UnsatisfiedLinkError&quot; but if I change the configuration from &quot;nativesOS&quot; into &quot;runtimeOnly&quot; inside of the dependencies block, it works fine. Do I have to explicitly create this  &quot;applicationDefaultJvmArgs&quot; and insert the libraryPath of the natives. Is there any other way? And when I need to unzip the &quot;nativesOS&quot; config it needs an explicit version, it seems it did not see the platform/BOM?\r\n\r\n    // build.gradle.kts\r\n    val nativesOS : Configuration by configurations.creating {\r\n        this.isTransitive = false\r\n        this.extendsFrom(configurations.runtimeOnly.get())\r\n    }\r\n    dependencies {\r\n        implementation(platform(&quot;org.lwjgl:lwjgl-bom:3.2.3&quot;))\r\n        listOf(\r\n            &quot;&quot;, &quot;-assimp&quot;, &quot;-openal&quot;,\r\n            &quot;-opengl&quot;, &quot;-glfw&quot;\r\n        ).map { lib -&gt;\r\n            implementation(&quot;org.lwjgl:lwjgl$lib&quot;)\r\n\r\n            // I give it an explicit version, because it would not work if I unzip this.\r\n            nativeOS(&quot;org.lwjgl&quot;,&quot;lwjgl$lib&quot;, &quot;3.2.3&quot;, classifier = LWJGL.lwjglNatives)\r\n        }\r\n        ...\r\n    }\r\n    // unzip_native_os tasks, here is the problem.\r\n    tasks.register&lt;Copy&gt;(&quot;unzip_native_os&quot;) {\r\n        this.group = &quot;zip&quot;\r\n        doLast {\r\n            nativesOS.asFileTree.filter { it.name.contains(&quot;natives&quot;) }.forEach {\r\n                unzipTo(File(&quot;$buildDir/libs/natives-os&quot;), it)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nEdited: Why this is not working? I config it first then execute it.\r\n\r\n    tasks.register&lt;Copy&gt;(&quot;unzip_native_os&quot;) {\r\n        this.group = &quot;zip&quot;\r\n        val nativesJar = nativesOS.asFileTree.filter { it.name.contains(&quot;natives&quot;) }.files\r\n        doFirst {\r\n            nativesJar.forEach {\r\n                println(&quot;&gt;&gt;&gt;&gt; $it&quot;)\r\n                unzipTo(File(&quot;$buildDir/libs/natives-os/v2&quot;), it)\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How do we properly create an execution phase tasks?","body":"<p>this is what the ideal build script I have:</p>\n<blockquote>\n<p>I do want to execute tasks &quot;unzip_natives_os&quot; manually. But it seems it only works at config phase. And when I take a test run with this set-up it gives me an error: &quot;java.lang.UnsatisfiedLinkError&quot; but if I change the configuration from &quot;nativesOS&quot; into &quot;runtimeOnly&quot; inside of the dependencies block, it works fine. Do I have to explicitly create this  &quot;applicationDefaultJvmArgs&quot; and insert the libraryPath of the natives. Is there any other way? And when I need to unzip the &quot;nativesOS&quot; config it needs an explicit version, it seems it did not see the platform/BOM?</p>\n</blockquote>\n<pre><code>// build.gradle.kts\nval nativesOS : Configuration by configurations.creating {\n    this.isTransitive = false\n    this.extendsFrom(configurations.runtimeOnly.get())\n}\ndependencies {\n    implementation(platform(&quot;org.lwjgl:lwjgl-bom:3.2.3&quot;))\n    listOf(\n        &quot;&quot;, &quot;-assimp&quot;, &quot;-openal&quot;,\n        &quot;-opengl&quot;, &quot;-glfw&quot;\n    ).map { lib -&gt;\n        implementation(&quot;org.lwjgl:lwjgl$lib&quot;)\n\n        // I give it an explicit version, because it would not work if I unzip this.\n        nativeOS(&quot;org.lwjgl&quot;,&quot;lwjgl$lib&quot;, &quot;3.2.3&quot;, classifier = LWJGL.lwjglNatives)\n    }\n    ...\n}\n// unzip_native_os tasks, here is the problem.\ntasks.register&lt;Copy&gt;(&quot;unzip_native_os&quot;) {\n    this.group = &quot;zip&quot;\n    doLast {\n        nativesOS.asFileTree.filter { it.name.contains(&quot;natives&quot;) }.forEach {\n            unzipTo(File(&quot;$buildDir/libs/natives-os&quot;), it)\n        }\n    }\n}\n</code></pre>\n<p>Edited: Why this is not working? I config it first then execute it.</p>\n<pre><code>tasks.register&lt;Copy&gt;(&quot;unzip_native_os&quot;) {\n    this.group = &quot;zip&quot;\n    val nativesJar = nativesOS.asFileTree.filter { it.name.contains(&quot;natives&quot;) }.files\n    doFirst {\n        nativesJar.forEach {\n            println(&quot;&gt;&gt;&gt;&gt; $it&quot;)\n            unzipTo(File(&quot;$buildDir/libs/natives-os/v2&quot;), it)\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","session","exception","microservices"],"comments":[{"owner":{"account_id":6667055,"reputation":723,"user_id":7373144,"accept_rate":67,"display_name":"bradley101"},"score":0,"creation_date":1636794426,"post_id":69952390,"comment_id":123656010,"body_markdown":"Micro services is a design paradigm. So please mention what constitutes your microservice? Is it an API, docker container,  etc?","body":"Micro services is a design paradigm. So please mention what constitutes your microservice? Is it an API, docker container,  etc?"},{"owner":{"account_id":6667055,"reputation":723,"user_id":7373144,"accept_rate":67,"display_name":"bradley101"},"score":0,"creation_date":1636794595,"post_id":69952390,"comment_id":123656044,"body_markdown":"However your microservice should not depend on other services, hence it will fail the sole purpose of microservices - independent small services that are meant for 1 job. You should get the result of other micro service execution and check if it passed or not, without maintaing any sessions or cookie like objects.","body":"However your microservice should not depend on other services, hence it will fail the sole purpose of microservices - independent small services that are meant for 1 job. You should get the result of other micro service execution and check if it passed or not, without maintaing any sessions or cookie like objects."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1636798010,"post_id":69952390,"comment_id":123656719,"body_markdown":"How do you communicate between the microservices? And microservices are stateless so there is no session","body":"How do you communicate between the microservices? And microservices are stateless so there is no session"}],"answers":[{"tags":[],"owner":{"account_id":3076714,"reputation":1193,"user_id":2605850,"accept_rate":50,"display_name":"Vinay Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636977976,"creation_date":1636977618,"answer_id":69974092,"question_id":69952390,"body_markdown":"When one service(Service A) requests another service(Service B), the Requested Service usually gives requested data if everything goes fine. Otherwise, it gives an error code. For more information on the error code, you can see the following document: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status.\r\n\r\nYou can Use JWT token for tracking requester. ","title":"How 2 micro services maintain session and exceptions?","body":"<p>When one service(Service A) requests another service(Service B), the Requested Service usually gives requested data if everything goes fine. Otherwise, it gives an error code. For more information on the error code, you can see the following document: <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Status</a>.</p>\n<p>You can Use JWT token for tracking requester.</p>\n"}],"owner":{"account_id":16640543,"reputation":11,"user_id":12026187,"display_name":"Amit K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1636977976,"creation_date":1636789238,"question_id":69952390,"body_markdown":"How exception thrown from one micro service handled by another micro service? \r\nDo we need to copy same exception object on both instances?\r\n\r\nAlso how session is maintained within micro services?","title":"How 2 micro services maintain session and exceptions?","body":"<p>How exception thrown from one micro service handled by another micro service?\nDo we need to copy same exception object on both instances?</p>\n<p>Also how session is maintained within micro services?</p>\n"},{"tags":["java","swing","intellij-idea"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1636974627,"post_id":69973085,"comment_id":123692334,"body_markdown":"Sidenote: Setting the `JFrame` visible via `setVisible(true)` should be done as the last step after you added all your components and set up your GUI. Also, don&#39;t `extends JFrame` if you don&#39;t actually want to change the frame functionality.","body":"Sidenote: Setting the <code>JFrame</code> visible via <code>setVisible(true)</code> should be done as the last step after you added all your components and set up your GUI. Also, don&#39;t <code>extends JFrame</code> if you don&#39;t actually want to change the frame functionality."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1636988867,"post_id":69973085,"comment_id":123698028,"body_markdown":"(1-) @Tom6468 *The invention Java Swing is the worst thing* - don&#39;t blame the tool, blame the carpenter. Swing is very easy to use. The code you posted tells us nothing. It doesn&#39;t even show you adding the gradient panel to the frame or the child panels to the gradient panel.  Also, using the UI designer is not recommended. You spend your time learning the designer and not learning Swing.","body":"(1-) @Tom6468 <i>The invention Java Swing is the worst thing</i> - don&#39;t blame the tool, blame the carpenter. Swing is very easy to use. The code you posted tells us nothing. It doesn&#39;t even show you adding the gradient panel to the frame or the child panels to the gradient panel.  Also, using the UI designer is not recommended. You spend your time learning the designer and not learning Swing."}],"answers":[{"tags":[],"owner":{"account_id":18343563,"reputation":81,"user_id":13359215,"display_name":"WannaBe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636974930,"creation_date":1636974335,"answer_id":69973380,"question_id":69973085,"body_markdown":"First you need to know that your class is a JFrame, but in the main method you create a new JFrame.\r\n\r\nBetter would be to have a class Program that has the main method. In this main method you make a new instance of LogIn.\r\n\r\nThe Program class can look like this:\r\n\r\n\r\n    public class MainProgram {\r\n    \r\n      public static void main(String[] args) {\r\n        LogIn logIn = new LogIn();\r\n      }\r\n    }\r\n\r\n\r\nThe LogIn class should then look like this:\r\n   \r\n\r\n \r\n\r\n        import keeptoo.KGradientPanel;\r\n        import javax.swing.*;\r\n    \r\n        public class LogIn extends JFrame{\r\n        private KGradientPanel KGradientPanel1 = new KGradientPanel(); //Automatically added by the designer\r\n        private JPanel panel1 = new JPanel(); //Automatically added by the designer\r\n        \r\n    \r\n        // This is the constructor.\r\n        public LogIn {\r\n        \r\n            setTitle(&quot;CarbonTec Dashboard&quot;);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setResizable(false);\r\n            setSize(1800,1000);\r\n            setContentPane(panel1);\r\n        \r\n            ImageIcon imageIcon = new ImageIcon(&quot;Icon.png&quot;);\r\n            setIconImage(imageIcon.getImage());\r\n    \r\n            // Here you can add the gradient panel to panel1.\r\n            panel1.add(KGradientPanel1); // The name should be written in lower case.\r\n           \r\n            setVisible(true);\r\n        }\r\n\r\nBut I don&#39;t know why you need the panel1, you could add the KGradientPanel directly.\r\n","title":"Java Swing - Show multiple panels","body":"<p>First you need to know that your class is a JFrame, but in the main method you create a new JFrame.</p>\n<p>Better would be to have a class Program that has the main method. In this main method you make a new instance of LogIn.</p>\n<p>The Program class can look like this:</p>\n<pre><code>public class MainProgram {\n\n  public static void main(String[] args) {\n    LogIn logIn = new LogIn();\n  }\n}\n</code></pre>\n<p>The LogIn class should then look like this:</p>\n<pre><code>    import keeptoo.KGradientPanel;\n    import javax.swing.*;\n\n    public class LogIn extends JFrame{\n    private KGradientPanel KGradientPanel1 = new KGradientPanel(); //Automatically added by the designer\n    private JPanel panel1 = new JPanel(); //Automatically added by the designer\n    \n\n    // This is the constructor.\n    public LogIn {\n    \n        setTitle(&quot;CarbonTec Dashboard&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setResizable(false);\n        setSize(1800,1000);\n        setContentPane(panel1);\n    \n        ImageIcon imageIcon = new ImageIcon(&quot;Icon.png&quot;);\n        setIconImage(imageIcon.getImage());\n\n        // Here you can add the gradient panel to panel1.\n        panel1.add(KGradientPanel1); // The name should be written in lower case.\n       \n        setVisible(true);\n    }\n</code></pre>\n<p>But I don't know why you need the panel1, you could add the KGradientPanel directly.</p>\n"}],"owner":{"account_id":23342456,"reputation":3,"user_id":17417181,"display_name":"Tom6468"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69973380,"answer_count":1,"score":-1,"last_activity_date":1636977956,"creation_date":1636972957,"question_id":69973085,"body_markdown":"I&#39;m using the Java Swing UI Designer in IntelliJ :( I designed something in the designer using multiple panels and spacers with 1 parent panel. When I add the main panel, the first one inside it shows, but the others don&#39;t. \r\n\r\nFrame structure:\r\n\r\n- Panel1\r\n  - GradientPanel\r\n    - Panel\r\n    - Spacers\r\n\r\nWhat I designed\r\n![What I designed][1]\r\n\r\nWhat I get\r\n![What I get when I run it][2]\r\n\r\n    import keeptoo.KGradientPanel;\r\n\r\n    import javax.swing.*;\r\n\r\n    public class LogIn extends JFrame{\r\n    private KGradientPanel KGradientPanel1; //Automatically added by the designer\r\n    private JPanel panel1; //Automatically added by the designer\r\n\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n        frame.setTitle(&quot;CarbonTec Dashboard&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setResizable(false);\r\n        frame.setSize(1800,1000);\r\n        frame.setContentPane(new LogIn().panel1);\r\n        frame.setVisible(true);\r\n\r\n        ImageIcon imageIcon = new ImageIcon(&quot;Icon.png&quot;);\r\n        frame.setIconImage(imageIcon.getImage());\r\n    }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/05zKS.png\r\n  [2]: https://i.stack.imgur.com/jyV1h.png","title":"Java Swing - Show multiple panels","body":"<p>I'm using the Java Swing UI Designer in IntelliJ :( I designed something in the designer using multiple panels and spacers with 1 parent panel. When I add the main panel, the first one inside it shows, but the others don't.</p>\n<p>Frame structure:</p>\n<ul>\n<li>Panel1\n<ul>\n<li>GradientPanel\n<ul>\n<li>Panel</li>\n<li>Spacers</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>What I designed\n<img src=\"https://i.stack.imgur.com/05zKS.png\" alt=\"What I designed\" /></p>\n<p>What I get\n<img src=\"https://i.stack.imgur.com/jyV1h.png\" alt=\"What I get when I run it\" /></p>\n<pre><code>import keeptoo.KGradientPanel;\n\nimport javax.swing.*;\n\npublic class LogIn extends JFrame{\nprivate KGradientPanel KGradientPanel1; //Automatically added by the designer\nprivate JPanel panel1; //Automatically added by the designer\n\npublic static void main(String[] args) {\n    JFrame frame = new JFrame();\n    frame.setTitle(&quot;CarbonTec Dashboard&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setResizable(false);\n    frame.setSize(1800,1000);\n    frame.setContentPane(new LogIn().panel1);\n    frame.setVisible(true);\n\n    ImageIcon imageIcon = new ImageIcon(&quot;Icon.png&quot;);\n    frame.setIconImage(imageIcon.getImage());\n}\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":15591978,"reputation":4166,"user_id":11248746,"display_name":"Phil Clay"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1556719771,"creation_date":1556719771,"answer_id":55937600,"question_id":55932242,"body_markdown":"Use `.flatMap` instead of `.map` / `Flux.merge`, like this:\r\n\r\n\r\n```java\r\nMono&lt;Feed&gt; unifiedFeedMono = request\r\n        .bodyToMono(AddFeedRequestDto.class)  // Mono&lt;AddFeedRequestDto&gt;\r\n        .map(AddFeedRequestDto::getFeeds)     // Mono&lt;List&lt;String&gt;&gt; feedUrls\r\n        .flatMapMany(Flux::fromIterable)      // Flux&lt;String&gt; feedUrls\r\n        .flatMap(this::getFeedResponse)       // Flux&lt;Feed&gt;\r\n        .map(Feed::getItems)                  // Flux&lt;List&lt;Item&gt;&gt;\r\n        .flatMap(Flux::fromIterable)          // Flux&lt;Item&gt;\r\n        .collectList()                        // Mono&lt;List&lt;Item&gt;&gt;\r\n        .map(Feed::new);                      // Mono&lt;Feed&gt;\r\n```\r\n\r\nNote that `.flatMap` is an asynchronous operation and will execute requests in parallel.  There is an overloaded version that takes a `concurrency` argument if you want to limit concurrency.\r\n\r\nOrdering is not guaranteed with `.flatMap`, and the resulting items might be interleaved.  If you want more ordering guarantees, substitute `.concatMap` or `.flatMapSequential`.","title":"Making multiple requests with Spring WebClient","body":"<p>Use <code>.flatMap</code> instead of <code>.map</code> / <code>Flux.merge</code>, like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Mono&lt;Feed&gt; unifiedFeedMono = request\n        .bodyToMono(AddFeedRequestDto.class)  // Mono&lt;AddFeedRequestDto&gt;\n        .map(AddFeedRequestDto::getFeeds)     // Mono&lt;List&lt;String&gt;&gt; feedUrls\n        .flatMapMany(Flux::fromIterable)      // Flux&lt;String&gt; feedUrls\n        .flatMap(this::getFeedResponse)       // Flux&lt;Feed&gt;\n        .map(Feed::getItems)                  // Flux&lt;List&lt;Item&gt;&gt;\n        .flatMap(Flux::fromIterable)          // Flux&lt;Item&gt;\n        .collectList()                        // Mono&lt;List&lt;Item&gt;&gt;\n        .map(Feed::new);                      // Mono&lt;Feed&gt;\n</code></pre>\n\n<p>Note that <code>.flatMap</code> is an asynchronous operation and will execute requests in parallel.  There is an overloaded version that takes a <code>concurrency</code> argument if you want to limit concurrency.</p>\n\n<p>Ordering is not guaranteed with <code>.flatMap</code>, and the resulting items might be interleaved.  If you want more ordering guarantees, substitute <code>.concatMap</code> or <code>.flatMapSequential</code>.</p>\n"}],"owner":{"account_id":2177275,"reputation":1153,"user_id":1927638,"accept_rate":50,"display_name":"user1927638"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6609,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":55937600,"answer_count":1,"score":4,"last_activity_date":1636977498,"creation_date":1556690507,"question_id":55932242,"body_markdown":"So my goal is to use WebClient to make multiple concurrent requests, wait until they&#39;re all completed, then combine the results. Here is what I have so far:\r\n\r\n    ...\r\n\r\n    Flux&lt;ServerResponse&gt; feedResponses = request\r\n            .bodyToMono(AddFeedRequestDto.class)\r\n            .map(AddFeedRequestDto::getFeeds) // Returns a list of RSS feed URLs\r\n            .map(this::getServerResponsesFromUrls) // Returns a list of Mono&lt;Feed&gt;\r\n            .map(Flux::merge) // Wait til all requests are completed\r\n            // Not sure where to go from here\r\n\r\n    ...\r\n\r\n    /** Related methods: **/\r\n\r\n    private List&lt;Mono&lt;Feed&gt;&gt; getServerResponsesFromUrls(List&lt;String&gt; feedUrls) {\r\n        List&lt;Mono&lt;Feed&gt;&gt; feedResponses = new ArrayList&lt;&gt;();\r\n        feedUrls.forEach(feedUrl -&gt; feedResponses.add(getFeedResponse(feedUrl)));\r\n        return feedResponses;\r\n    }\r\n\r\n    public Mono&lt;Feed&gt; getFeedResponse(final String url) {\r\n        return webClient\r\n                .get()\r\n                .uri(url)\r\n                .retrieve()\r\n                .bodyToMono(String.class) // Ideally, we should be able to use bodyToMono(FeedDto.class)\r\n                .map(this::convertResponseToFeedDto)\r\n                .map(feedMapper::convertFeedDtoToFeed);\r\n    }\r\n\r\n    /** Feed.java **/\r\n    @Getter\r\n    @Setter\r\n    public class Feed {\r\n        List&lt;Item&gt; items;\r\n    }\r\n\r\nBasically my goal is to combine all the items from each of the feeds to create one unified feed. However, I am not quite sure what to do after the call to Flux::merge. Any suggestions would be appreciated.","title":"Making multiple requests with Spring WebClient","body":"<p>So my goal is to use WebClient to make multiple concurrent requests, wait until they're all completed, then combine the results. Here is what I have so far:</p>\n\n<pre><code>...\n\nFlux&lt;ServerResponse&gt; feedResponses = request\n        .bodyToMono(AddFeedRequestDto.class)\n        .map(AddFeedRequestDto::getFeeds) // Returns a list of RSS feed URLs\n        .map(this::getServerResponsesFromUrls) // Returns a list of Mono&lt;Feed&gt;\n        .map(Flux::merge) // Wait til all requests are completed\n        // Not sure where to go from here\n\n...\n\n/** Related methods: **/\n\nprivate List&lt;Mono&lt;Feed&gt;&gt; getServerResponsesFromUrls(List&lt;String&gt; feedUrls) {\n    List&lt;Mono&lt;Feed&gt;&gt; feedResponses = new ArrayList&lt;&gt;();\n    feedUrls.forEach(feedUrl -&gt; feedResponses.add(getFeedResponse(feedUrl)));\n    return feedResponses;\n}\n\npublic Mono&lt;Feed&gt; getFeedResponse(final String url) {\n    return webClient\n            .get()\n            .uri(url)\n            .retrieve()\n            .bodyToMono(String.class) // Ideally, we should be able to use bodyToMono(FeedDto.class)\n            .map(this::convertResponseToFeedDto)\n            .map(feedMapper::convertFeedDtoToFeed);\n}\n\n/** Feed.java **/\n@Getter\n@Setter\npublic class Feed {\n    List&lt;Item&gt; items;\n}\n</code></pre>\n\n<p>Basically my goal is to combine all the items from each of the feeds to create one unified feed. However, I am not quite sure what to do after the call to Flux::merge. Any suggestions would be appreciated.</p>\n"},{"tags":["java","apache-camel","cxf","esb"],"answers":[{"tags":[],"owner":{"account_id":10933061,"reputation":6811,"user_id":8035582,"accept_rate":100,"display_name":"burki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529416397,"creation_date":1529394699,"answer_id":50923231,"question_id":50912508,"body_markdown":"Well the error message simply says that the return type must be **a collection of** `WB_subscriptions` not a single `WB_subscriptions`.\r\n\r\nYou can read the first part of the error message as follows: \r\n\r\n* `[` =&gt; Array of ...\r\n* `L...;` =&gt; between `L` and `;` is a fully classified class name\r\n* `tn.ngt.camel.blueprint.WB_subscriptions` =&gt; your class name\r\n\r\nHowever, there are some issues when returning a Java collection from the webservice (for example [this one](https://github.com/javaee/jaxb-v2/issues/223)). \r\n\r\nTherefore try to either return an Array of `WB_subscriptions` or wrap the `List` in a Bean and return the single Bean that contains the list.","title":"apache camel cxf soap","body":"<p>Well the error message simply says that the return type must be <strong>a collection of</strong> <code>WB_subscriptions</code> not a single <code>WB_subscriptions</code>.</p>\n\n<p>You can read the first part of the error message as follows: </p>\n\n<ul>\n<li><code>[</code> => Array of ...</li>\n<li><code>L...;</code> => between <code>L</code> and <code>;</code> is a fully classified class name</li>\n<li><code>tn.ngt.camel.blueprint.WB_subscriptions</code> => your class name</li>\n</ul>\n\n<p>However, there are some issues when returning a Java collection from the webservice (for example <a href=\"https://github.com/javaee/jaxb-v2/issues/223\" rel=\"nofollow noreferrer\">this one</a>). </p>\n\n<p>Therefore try to either return an Array of <code>WB_subscriptions</code> or wrap the <code>List</code> in a Bean and return the single Bean that contains the list.</p>\n"}],"owner":{"account_id":13796175,"reputation":11,"user_id":9957331,"display_name":"Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1636977486,"creation_date":1529334436,"question_id":50912508,"body_markdown":"I am developing a web service (soap) using apache camel cxf I encountered this error.\r\n\r\n&gt; java.lang.IllegalArgumentException: Part\r\n&gt; {http://blueprint.camel.ngt.tn/}return should be of type\r\n&gt; [Ltn.ngt.camel.blueprint.WB_subscriptions;, not\r\n&gt; tn.ngt.camel.blueprint.WB_subscriptions \tat\r\n&gt; org.apache.cxf.jaxb.io.DataWriterImpl.checkPart(DataWriterImpl.java:292)\r\n&gt; \tat\r\n&gt; org.apache.cxf.jaxb.io.DataWriterImpl.write(DataWriterImpl.java:220)\r\n&gt; \tat\r\n&gt; org.apache.cxf.interceptor.AbstractOutDatabindingInterceptor.writeParts(AbstractOutDatabindingInterceptor.java:122)\r\n&gt; \tat\r\n&gt; org.apache.cxf.wsdl.interceptors.BareOutInterceptor.handleMessage(BareOutInterceptor.java:69)\r\n&gt; \tat\r\n&gt; org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)\r\n&gt; \tat\r\n&gt; org.apache.cxf.interceptor.OutgoingChainInterceptor.handleMessage(OutgoingChainInterceptor.java:83)\r\n&gt; \tat\r\n&gt; org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)\r\n&gt; \tat\r\n&gt; org.apache.cxf.phase.PhaseInterceptorChain.resume(PhaseInterceptorChain.java:277)\r\n&gt; \tat\r\n&gt; org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:78)\r\n&gt; \tat\r\n&gt; org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:251)\r\n&gt; \tat\r\n&gt; org.apache.cxf.transport.http_jetty.JettyHTTPDestination.doService(JettyHTTPDestination.java:261)\r\n&gt; \tat\r\n&gt; org.apache.cxf.transport.http_jetty.JettyHTTPHandler.handle(JettyHTTPHandler.java:70)\r\n&gt; \tat\r\n&gt; org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1088)\r\n&gt; \tat\r\n&gt; org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1024)\r\n&gt; \tat\r\n&gt; org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\r\n&gt; \tat\r\n&gt; org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:193)\r\n&gt; \tat\r\n&gt; org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\r\n&gt; \tat org.eclipse.jetty.server.Server.handleAsync(Server.java:410) \tat\r\n&gt; org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:519)\r\n&gt; \tat\r\n&gt; org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpConnection.java:982)\r\n&gt; \tat\r\n&gt; org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:1043)\r\n&gt; \tat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:865)\r\n&gt; \tat\r\n&gt; org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:240)\r\n&gt; \tat\r\n&gt; org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)\r\n&gt; \tat\r\n&gt; org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:696)\r\n&gt; \tat\r\n&gt; org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:53)\r\n&gt; \tat\r\n&gt; org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)\r\n&gt; \tat\r\n&gt; org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)\r\n&gt; \tat java.lang.Thread.run(Unknown Source)\r\n\r\nis there anyone who can help me solve this problem, \r\nhere is my source code\r\n\r\n**blueprint**\r\n\r\n     &lt;cxf:cxfEndpoint  address=&quot;http://localhost:9191/cxf/Subsriptions&quot; id=&quot;claimEndpoint&quot; serviceClass=&quot;tn.ngt.camel.blueprint.WbSubscriptionService&quot;/&gt;\r\n\r\n     &lt;camelContext xmlns=&quot;http://camel.apache.org/schema/blueprint&quot;&gt;\r\n    &lt;route id=&quot;GetWb_Subscription&quot;&gt;\r\n         &lt;from uri=&quot;cxf:bean:claimEndpoint&quot;/&gt;\r\n       &lt;!--  &lt;from uri=&quot;timer:foo?period=10000&quot;/&gt;--&gt;\r\n      \t&lt;to uri=&quot;sql:select * from WB_SUBSCRIPTIONS?dataSource=dataSource&quot;/&gt;\r\n    \t&lt;to uri=&quot;bean:tn.ngt.camel.blueprint.Transformer?method=ToList(Exchange)&quot;/&gt;  \r\n    \t &lt;to uri=&quot;bean:tn.ngt.camel.blueprint.Transformer?method=getSubscriptions&quot;/&gt;\r\n      &lt;log message=&quot;The message contains ${body}&quot;/&gt;\r\n    &lt;/route&gt;\r\n**WbSubscriptionService**\r\n\r\n        public interface WbSubscriptionService {\r\n    \tpublic List&lt;WB_subscriptions&gt; getSubscriptions();\r\n    \r\n    }\r\n\r\n**Transformer**\r\n\r\n    public class Transformer {\r\n\tpublic static List&lt;WB_subscriptions&gt; subscription= new ArrayList&lt;WB_subscriptions&gt;();\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic List&lt;WB_subscriptions&gt; ToList(Exchange exchange) throws NumberFormatException, ParseException{\r\n\t\tList&lt;?&gt; messages= exchange.getIn().getBody(List.class);\r\n\t\tList&lt;WB_subscriptions&gt;LstWb_Sub= new ArrayList&lt;WB_subscriptions&gt;();\r\n\t\tfor(int i=0;i&lt;messages.size();i++){\r\n\t\t\tMap&lt;String,Object&gt; row = (Map&lt;String,Object&gt;) messages.get(i);\r\n\t\t\tSimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.S&quot;);\r\n\t\t\tWB_subscriptions wb= new WB_subscriptions( Integer.parseInt(row.get(&quot;CUST_ACCOUNT&quot;).toString()),\r\n\t\t\t\t\tInteger.parseInt(row.get(&quot;PACKAGE_ID&quot;).toString()),Integer.parseInt(row.get(&quot;CUST_MOBILE&quot;).toString()) , formatter.parse(row.get(&quot;DATE_CREATION&quot;).toString()));\r\n\t\t\t\t\tSystem.out.println(wb.getCust_mobile());\r\n\t\t\t\t\tLstWb_Sub.add(wb);\t\r\n\t\t\t\t\t\r\n\t\t}\r\n\t\tsubscription=LstWb_Sub;\r\n\t\tSystem.out.println(&quot;List 1 &quot;+subscription);\r\n\t\treturn LstWb_Sub;\r\n\t\t\r\n\t}\r\n\tpublic List&lt;WB_subscriptions&gt; getSubscriptions() throws Exception{\r\n\t\tSystem.out.println(&quot;bonjour &quot;+subscription);\r\n\t\treturn subscription;\r\n\t}\r\n\r\n \r\n\r\nthanks in advance: D\r\n\r\n   ","title":"apache camel cxf soap","body":"<p>I am developing a web service (soap) using apache camel cxf I encountered this error.</p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: Part\n  {<a href=\"http://blueprint.camel.ngt.tn/\" rel=\"nofollow noreferrer\">http://blueprint.camel.ngt.tn/</a>}return should be of type\n  [Ltn.ngt.camel.blueprint.WB_subscriptions;, not\n  tn.ngt.camel.blueprint.WB_subscriptions   at\n  org.apache.cxf.jaxb.io.DataWriterImpl.checkPart(DataWriterImpl.java:292)\n    at\n  org.apache.cxf.jaxb.io.DataWriterImpl.write(DataWriterImpl.java:220)\n    at\n  org.apache.cxf.interceptor.AbstractOutDatabindingInterceptor.writeParts(AbstractOutDatabindingInterceptor.java:122)\n    at\n  org.apache.cxf.wsdl.interceptors.BareOutInterceptor.handleMessage(BareOutInterceptor.java:69)\n    at\n  org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)\n    at\n  org.apache.cxf.interceptor.OutgoingChainInterceptor.handleMessage(OutgoingChainInterceptor.java:83)\n    at\n  org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)\n    at\n  org.apache.cxf.phase.PhaseInterceptorChain.resume(PhaseInterceptorChain.java:277)\n    at\n  org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:78)\n    at\n  org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:251)\n    at\n  org.apache.cxf.transport.http_jetty.JettyHTTPDestination.doService(JettyHTTPDestination.java:261)\n    at\n  org.apache.cxf.transport.http_jetty.JettyHTTPHandler.handle(JettyHTTPHandler.java:70)\n    at\n  org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1088)\n    at\n  org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1024)\n    at\n  org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\n    at\n  org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:193)\n    at\n  org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\n    at org.eclipse.jetty.server.Server.handleAsync(Server.java:410)     at\n  org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:519)\n    at\n  org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpConnection.java:982)\n    at\n  org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:1043)\n    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:865)\n    at\n  org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:240)\n    at\n  org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)\n    at\n  org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:696)\n    at\n  org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:53)\n    at\n  org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)\n    at\n  org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)\n    at java.lang.Thread.run(Unknown Source)</p>\n</blockquote>\n\n<p>is there anyone who can help me solve this problem, \nhere is my source code</p>\n\n<p><strong>blueprint</strong></p>\n\n<pre><code> &lt;cxf:cxfEndpoint  address=\"http://localhost:9191/cxf/Subsriptions\" id=\"claimEndpoint\" serviceClass=\"tn.ngt.camel.blueprint.WbSubscriptionService\"/&gt;\n\n &lt;camelContext xmlns=\"http://camel.apache.org/schema/blueprint\"&gt;\n&lt;route id=\"GetWb_Subscription\"&gt;\n     &lt;from uri=\"cxf:bean:claimEndpoint\"/&gt;\n   &lt;!--  &lt;from uri=\"timer:foo?period=10000\"/&gt;--&gt;\n    &lt;to uri=\"sql:select * from WB_SUBSCRIPTIONS?dataSource=dataSource\"/&gt;\n    &lt;to uri=\"bean:tn.ngt.camel.blueprint.Transformer?method=ToList(Exchange)\"/&gt;  \n     &lt;to uri=\"bean:tn.ngt.camel.blueprint.Transformer?method=getSubscriptions\"/&gt;\n  &lt;log message=\"The message contains ${body}\"/&gt;\n&lt;/route&gt;\n</code></pre>\n\n<p><strong>WbSubscriptionService</strong></p>\n\n<pre><code>    public interface WbSubscriptionService {\n    public List&lt;WB_subscriptions&gt; getSubscriptions();\n\n}\n</code></pre>\n\n<p><strong>Transformer</strong></p>\n\n<pre><code>public class Transformer {\npublic static List&lt;WB_subscriptions&gt; subscription= new ArrayList&lt;WB_subscriptions&gt;();\n@SuppressWarnings(\"unchecked\")\npublic List&lt;WB_subscriptions&gt; ToList(Exchange exchange) throws NumberFormatException, ParseException{\n    List&lt;?&gt; messages= exchange.getIn().getBody(List.class);\n    List&lt;WB_subscriptions&gt;LstWb_Sub= new ArrayList&lt;WB_subscriptions&gt;();\n    for(int i=0;i&lt;messages.size();i++){\n        Map&lt;String,Object&gt; row = (Map&lt;String,Object&gt;) messages.get(i);\n        SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss.S\");\n        WB_subscriptions wb= new WB_subscriptions( Integer.parseInt(row.get(\"CUST_ACCOUNT\").toString()),\n                Integer.parseInt(row.get(\"PACKAGE_ID\").toString()),Integer.parseInt(row.get(\"CUST_MOBILE\").toString()) , formatter.parse(row.get(\"DATE_CREATION\").toString()));\n                System.out.println(wb.getCust_mobile());\n                LstWb_Sub.add(wb);  \n\n    }\n    subscription=LstWb_Sub;\n    System.out.println(\"List 1 \"+subscription);\n    return LstWb_Sub;\n\n}\npublic List&lt;WB_subscriptions&gt; getSubscriptions() throws Exception{\n    System.out.println(\"bonjour \"+subscription);\n    return subscription;\n}\n</code></pre>\n\n<p>thanks in advance: D</p>\n"},{"tags":["java","eclipse","verifyerror"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1636970476,"post_id":69972400,"comment_id":123690762,"body_markdown":"And it works with a redundant `switch ((String)...)`?","body":"And it works with a redundant <code>switch ((String)...)</code>?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1636970593,"post_id":69972400,"comment_id":123690805,"body_markdown":"(There is no other code with loss of generic typing like `new ArrayList()`?)","body":"(There is no other code with loss of generic typing like <code>new ArrayList()</code>?)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1636970762,"post_id":69972400,"comment_id":123690863,"body_markdown":"I was not able to reproduce this with Java 1.8.0_291.","body":"I was not able to reproduce this with Java 1.8.0_291."},{"owner":{"account_id":19245660,"reputation":23,"user_id":14064737,"display_name":"fls"},"score":0,"creation_date":1636970842,"post_id":69972400,"comment_id":123690886,"body_markdown":"@JoopEggen I don&#39;t use the args-array.  in the first line in the method I declared a string &#39;test&#39; ;-)","body":"@JoopEggen I don&#39;t use the args-array.  in the first line in the method I declared a string &#39;test&#39; ;-)"},{"owner":{"account_id":19245660,"reputation":23,"user_id":14064737,"display_name":"fls"},"score":0,"creation_date":1636971080,"post_id":69972400,"comment_id":123690969,"body_markdown":"After compiling it with javac instead of launching it out of Eclipse it worked. Weird...","body":"After compiling it with javac instead of launching it out of Eclipse it worked. Weird..."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1636971736,"post_id":69972400,"comment_id":123691212,"body_markdown":"Probably [this error](https://bugs.eclipse.org/bugs/show_bug.cgi?id=576008) which will be fixed in 2021-12. Eclipse uses its own Java compiler so it can be different from javac. Looks like the generics in `Objects.requireNonNull` has confused to compiler.","body":"Probably <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=576008\" rel=\"nofollow noreferrer\">this error</a> which will be fixed in 2021-12. Eclipse uses its own Java compiler so it can be different from javac. Looks like the generics in <code>Objects.requireNonNull</code> has confused to compiler."}],"owner":{"account_id":19245660,"reputation":23,"user_id":14064737,"display_name":"fls"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636977357,"creation_date":1636970085,"question_id":69972400,"body_markdown":"I experienced a weird behavior of Java 1.8.311 (also older ones) and how it handles generic return types in combination with switch-statements:\r\n```\r\n  public static void main(String[] args) {\r\n    String test = &quot;test&quot;;\r\n\r\n    switch (Objects.requireNonNull(test)) {\r\n    case &quot;test&quot;:\r\n      test = &quot;OK&quot;;\r\n      break;\r\n    default:\r\n      test = &quot;NOK&quot;;\r\n    }\r\n\r\n    System.err.println(test);\r\n  }\r\n```\r\n\r\nOn execution the JVM seems to exit immediately with a JNI error.\r\nCan this be considered as a Java bug? \r\n\r\nEdit: Stack-Trace:\r\n```\r\nException in thread &quot;main&quot; java.lang.VerifyError: Bad type on operand stack\r\nException Details:\r\n  Location:\r\n    forTestCase/Main.main([Ljava/lang/String;)V @9: invokevirtual\r\n  Reason:\r\n    Type &#39;java/lang/Object&#39; (current frame, stack[0]) is not assignable to &#39;java/lang/String&#39;\r\n  Current Frame:\r\n    bci: @9\r\n    flags: { }\r\n    locals: { &#39;[Ljava/lang/String;&#39;, &#39;java/lang/String&#39;, &#39;java/lang/Object&#39; }\r\n    stack: { &#39;java/lang/Object&#39; }\r\n  Bytecode:\r\n    0x0000000: 1210 4c2b b800 1259 4db6 0018 ab00 0000\r\n    0x0000010: 0000 0026 0000 0001 0036 4492 0000 0014\r\n    0x0000020: 2c12 10b6 001e 9a00 06a7 0009 1222 4ca7\r\n    0x0000030: 0006 1224 4cb2 0026 2bb6 002c b1       \r\n  Stackmap Table:\r\n    append_frame(@32,Object[#25],Object[#25])\r\n    same_frame(@44)\r\n    same_frame(@50)\r\n    chop_frame(@53,1)\r\n\r\n\tat java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n\tat java.lang.Class.privateGetMethodRecursive(Class.java:3048)\r\n\tat java.lang.Class.getMethod0(Class.java:3018)\r\n\tat java.lang.Class.getMethod(Class.java:1784)\r\n\tat sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:650)\r\n\tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:632) \r\n```","title":"Bad type on operand stack: Generic String return type for switch condition","body":"<p>I experienced a weird behavior of Java 1.8.311 (also older ones) and how it handles generic return types in combination with switch-statements:</p>\n<pre><code>  public static void main(String[] args) {\n    String test = &quot;test&quot;;\n\n    switch (Objects.requireNonNull(test)) {\n    case &quot;test&quot;:\n      test = &quot;OK&quot;;\n      break;\n    default:\n      test = &quot;NOK&quot;;\n    }\n\n    System.err.println(test);\n  }\n</code></pre>\n<p>On execution the JVM seems to exit immediately with a JNI error.\nCan this be considered as a Java bug?</p>\n<p>Edit: Stack-Trace:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    forTestCase/Main.main([Ljava/lang/String;)V @9: invokevirtual\n  Reason:\n    Type 'java/lang/Object' (current frame, stack[0]) is not assignable to 'java/lang/String'\n  Current Frame:\n    bci: @9\n    flags: { }\n    locals: { '[Ljava/lang/String;', 'java/lang/String', 'java/lang/Object' }\n    stack: { 'java/lang/Object' }\n  Bytecode:\n    0x0000000: 1210 4c2b b800 1259 4db6 0018 ab00 0000\n    0x0000010: 0000 0026 0000 0001 0036 4492 0000 0014\n    0x0000020: 2c12 10b6 001e 9a00 06a7 0009 1222 4ca7\n    0x0000030: 0006 1224 4cb2 0026 2bb6 002c b1       \n  Stackmap Table:\n    append_frame(@32,Object[#25],Object[#25])\n    same_frame(@44)\n    same_frame(@50)\n    chop_frame(@53,1)\n\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n    at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\n    at java.lang.Class.getMethod0(Class.java:3018)\n    at java.lang.Class.getMethod(Class.java:1784)\n    at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:650)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:632) \n</code></pre>\n"},{"tags":["java","image","image-processing","javax.imageio"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":1,"creation_date":1636975904,"post_id":69973701,"comment_id":123692786,"body_markdown":"Did you try debugging? What is the `rgb` value you get for each pixel from the data?","body":"Did you try debugging? What is the <code>rgb</code> value you get for each pixel from the data?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1636975907,"post_id":69973701,"comment_id":123692787,"body_markdown":"Have you tried providing an absolute filename? My guess is that it *is* creating the file, just not where you expect it.","body":"Have you tried providing an absolute filename? My guess is that it <i>is</i> creating the file, just not where you expect it."},{"owner":{"account_id":5977697,"reputation":2143,"user_id":4697963,"display_name":"Markiian Benovskyi"},"score":0,"creation_date":1636975996,"post_id":69973701,"comment_id":123692822,"body_markdown":"Do you get any exceptions? Of not then you can output the fill path to file to see where it is created, it can be in your home path","body":"Do you get any exceptions? Of not then you can output the fill path to file to see where it is created, it can be in your home path"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":5,"creation_date":1636976033,"post_id":69973701,"comment_id":123692830,"body_markdown":"`ImageIO.write(...)` returns a `boolean` indicating whether or not there was a plugin installed that could write the image in the given format. There is always a JPEG plugin installed, but in recent versions of Java it does not write images with alpha channel. Most likely, all you need is to change `BufferedImage.TYPE_INT_ARGB` to `BufferedImage.TYPE_INT_RGB`, and things will work. You don&#39;t seem to use the alpha channel anyway.","body":"<code>ImageIO.write(...)</code> returns a <code>boolean</code> indicating whether or not there was a plugin installed that could write the image in the given format. There is always a JPEG plugin installed, but in recent versions of Java it does not write images with alpha channel. Most likely, all you need is to change <code>BufferedImage.TYPE_INT_ARGB</code> to <code>BufferedImage.TYPE_INT_RGB</code>, and things will work. You don&#39;t seem to use the alpha channel anyway."},{"owner":{"account_id":19682062,"reputation":99,"user_id":14537190,"display_name":"Roxox"},"score":0,"creation_date":1636976039,"post_id":69973701,"comment_id":123692835,"body_markdown":"@kiner_shah Yes sir. When I debug it the rgb value is -11512478 where red = 80, green = 85, blue = 98.","body":"@kiner_shah Yes sir. When I debug it the rgb value is -11512478 where red = 80, green = 85, blue = 98."},{"owner":{"account_id":19682062,"reputation":99,"user_id":14537190,"display_name":"Roxox"},"score":0,"creation_date":1636976066,"post_id":69973701,"comment_id":123692841,"body_markdown":"@JonSkeet I did not sir. I will try.","body":"@JonSkeet I did not sir. I will try."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1636976898,"post_id":69973701,"comment_id":123693111,"body_markdown":"Added as answer below.","body":"Added as answer below."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1636978315,"post_id":69973701,"comment_id":123693644,"body_markdown":"@Roxox you might want to accept Harald&#39;s answer, since it solved your problem. Let&#39;s give some credit when credit is due.","body":"@Roxox you might want to accept Harald&#39;s answer, since it solved your problem. Let&#39;s give some credit when credit is due."}],"answers":[{"tags":[],"owner":{"account_id":19682062,"reputation":99,"user_id":14537190,"display_name":"Roxox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636976468,"creation_date":1636976468,"answer_id":69973839,"question_id":69973701,"body_markdown":"As @HaraldK said, in my function I was using ```BufferedImage.TYPE_INT_ARGB``` as parameter. But since I have no alpha value, I just changed it as ```BufferedImage.TYPE_INT_RGB```. Modified function given below and it works as normal.\r\n```\r\npublic static void createFinalImage(int height, int width, String[][] rgbArray, String outputFile) {\r\n        BufferedImage img;\r\n        img = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n        File f;\r\n\r\n        for (int y = 0; y &lt; height; y++) {\r\n            for (int x = 0; x &lt; width; x++) {\r\n                String[] data = rgbArray[y][x].split(&quot; &quot;);\r\n                int red = Integer.parseInt(data[0]);\r\n                int green = Integer.parseInt(data[1]);\r\n                int blue = Integer.parseInt(data[2]);\r\n\r\n                int rgb = new Color(red,green,blue).getRGB();\r\n                img.setRGB(x,y,rgb);\r\n            }\r\n        }\r\n        try\r\n        {\r\n            f = new File(outputFile);\r\n            ImageIO.write(img, &quot;jpg&quot;, f);\r\n        }\r\n        catch(IOException e)\r\n        {\r\n            System.out.println(&quot;Error: &quot; + e);\r\n        }\r\n    }\r\n```\r\n","title":"Can&#39;t create an image file in Java","body":"<p>As @HaraldK said, in my function I was using <code>BufferedImage.TYPE_INT_ARGB</code> as parameter. But since I have no alpha value, I just changed it as <code>BufferedImage.TYPE_INT_RGB</code>. Modified function given below and it works as normal.</p>\n<pre><code>public static void createFinalImage(int height, int width, String[][] rgbArray, String outputFile) {\n        BufferedImage img;\n        img = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n        File f;\n\n        for (int y = 0; y &lt; height; y++) {\n            for (int x = 0; x &lt; width; x++) {\n                String[] data = rgbArray[y][x].split(&quot; &quot;);\n                int red = Integer.parseInt(data[0]);\n                int green = Integer.parseInt(data[1]);\n                int blue = Integer.parseInt(data[2]);\n\n                int rgb = new Color(red,green,blue).getRGB();\n                img.setRGB(x,y,rgb);\n            }\n        }\n        try\n        {\n            f = new File(outputFile);\n            ImageIO.write(img, &quot;jpg&quot;, f);\n        }\n        catch(IOException e)\n        {\n            System.out.println(&quot;Error: &quot; + e);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636977083,"creation_date":1636976750,"answer_id":69973900,"question_id":69973701,"body_markdown":"The `ImageIO.write(...)` methods return a `boolean` indicating whether or not there is a plugin installed that can write the image in the given format. It&#39;s good practice to check this value. While there is always a JPEG plugin installed, in recent versions of Java the JPEG plugin no longer supports images with alpha channel. Most other software don&#39;t support 4 channel RGBA JPEGs anyway, so it&#39;s not a big loss...\r\n\r\nAll you need is to change `BufferedImage.TYPE_INT_ARGB` to a type without alpha, like `BufferedImage.TYPE_INT_RGB` or `TYPE_3BYTE_BGR`, and things will work. You don&#39;t seem to use the alpha channel anyway. \r\n\r\nThe important changes:\r\n\r\n    BufferedImage img = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n\r\n    for (int y = 0; y &lt; height; y++) {\r\n        for (int x = 0; x &lt; width; x++) {\r\n           // Manipulate pixels\r\n        }\r\n    }\r\n\r\n    try {\r\n        File f = new File(outputFile);\r\n        if (!ImageIO.write(img, &quot;JPEG&quot;, f)) {\r\n            System.err.println(&quot;No plugin to write &quot; + img + &quot; in JPEG format to &quot; + f);\r\n        }\r\n    }\r\n    catch (IOException e) {\r\n        System.out.println(&quot;Error: &quot; + e);\r\n    }","title":"Can&#39;t create an image file in Java","body":"<p>The <code>ImageIO.write(...)</code> methods return a <code>boolean</code> indicating whether or not there is a plugin installed that can write the image in the given format. It's good practice to check this value. While there is always a JPEG plugin installed, in recent versions of Java the JPEG plugin no longer supports images with alpha channel. Most other software don't support 4 channel RGBA JPEGs anyway, so it's not a big loss...</p>\n<p>All you need is to change <code>BufferedImage.TYPE_INT_ARGB</code> to a type without alpha, like <code>BufferedImage.TYPE_INT_RGB</code> or <code>TYPE_3BYTE_BGR</code>, and things will work. You don't seem to use the alpha channel anyway.</p>\n<p>The important changes:</p>\n<pre><code>BufferedImage img = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n\nfor (int y = 0; y &lt; height; y++) {\n    for (int x = 0; x &lt; width; x++) {\n       // Manipulate pixels\n    }\n}\n\ntry {\n    File f = new File(outputFile);\n    if (!ImageIO.write(img, &quot;JPEG&quot;, f)) {\n        System.err.println(&quot;No plugin to write &quot; + img + &quot; in JPEG format to &quot; + f);\n    }\n}\ncatch (IOException e) {\n    System.out.println(&quot;Error: &quot; + e);\n}\n</code></pre>\n"}],"owner":{"account_id":19682062,"reputation":99,"user_id":14537190,"display_name":"Roxox"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69973900,"answer_count":2,"score":1,"last_activity_date":1636977083,"creation_date":1636975740,"question_id":69973701,"body_markdown":"What I need to do is I have a input image file and I need to change it as user&#39;s parameters. For example if user wants to make it %30 darker, first I get all pixels with their RGB values and store them in an 2D array. Sample array given below.\r\n```\r\n114 121 140     //Pixel 1\r\n114 121 140     //Pixel 2\r\n114 121 140     //Pixel 3\r\n     .\r\n     .\r\n     .\r\n50 57 83        //Pixel 2073601\r\n```\r\nAfter that I overwrite that RGB values (in our case if RGB values are 10:10:10, new values will be 7:7:7). Everything from that point is ok. But now I&#39;m facing some difficulties about creating my output.jpg file using my new array of information. When I run my function, it does not creates any output.jpg file. Here is my function.\r\n```\r\npublic static void createFinalImage(int height, int width, String[][] rgbArray, String outputFile) {\r\n        BufferedImage img;\r\n        img = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n        File f;\r\n\r\n        for (int y = 0; y &lt; height; y++) {\r\n            for (int x = 0; x &lt; width; x++) {\r\n                String[] data = rgbArray[y][x].split(&quot; &quot;);\r\n                int red = Integer.parseInt(data[0]);\r\n                int green = Integer.parseInt(data[1]);\r\n                int blue = Integer.parseInt(data[2]);\r\n\r\n                int rgb = new Color(red,green,blue).getRGB();\r\n                img.setRGB(x,y,rgb);\r\n            }\r\n        }\r\n        try\r\n        {\r\n            f = new File(outputFile);\r\n            ImageIO.write(img, &quot;jpg&quot;, f);\r\n        }\r\n        catch(IOException e)\r\n        {\r\n            System.out.println(&quot;Error: &quot; + e);\r\n        }\r\n    }\r\n```\r\nI cant understand what is the problem and why I cant get darker image using this function. (I know there is always easier and basic ways to do it but this is an multithreading assignment and I must do it like I explained.) If anyone help me, I would be appreciated.","title":"Can&#39;t create an image file in Java","body":"<p>What I need to do is I have a input image file and I need to change it as user's parameters. For example if user wants to make it %30 darker, first I get all pixels with their RGB values and store them in an 2D array. Sample array given below.</p>\n<pre><code>114 121 140     //Pixel 1\n114 121 140     //Pixel 2\n114 121 140     //Pixel 3\n     .\n     .\n     .\n50 57 83        //Pixel 2073601\n</code></pre>\n<p>After that I overwrite that RGB values (in our case if RGB values are 10:10:10, new values will be 7:7:7). Everything from that point is ok. But now I'm facing some difficulties about creating my output.jpg file using my new array of information. When I run my function, it does not creates any output.jpg file. Here is my function.</p>\n<pre><code>public static void createFinalImage(int height, int width, String[][] rgbArray, String outputFile) {\n        BufferedImage img;\n        img = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n        File f;\n\n        for (int y = 0; y &lt; height; y++) {\n            for (int x = 0; x &lt; width; x++) {\n                String[] data = rgbArray[y][x].split(&quot; &quot;);\n                int red = Integer.parseInt(data[0]);\n                int green = Integer.parseInt(data[1]);\n                int blue = Integer.parseInt(data[2]);\n\n                int rgb = new Color(red,green,blue).getRGB();\n                img.setRGB(x,y,rgb);\n            }\n        }\n        try\n        {\n            f = new File(outputFile);\n            ImageIO.write(img, &quot;jpg&quot;, f);\n        }\n        catch(IOException e)\n        {\n            System.out.println(&quot;Error: &quot; + e);\n        }\n    }\n</code></pre>\n<p>I cant understand what is the problem and why I cant get darker image using this function. (I know there is always easier and basic ways to do it but this is an multithreading assignment and I must do it like I explained.) If anyone help me, I would be appreciated.</p>\n"},{"tags":["java","switch-statement","conditional-statements","switch-expression"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":2,"creation_date":1636929190,"post_id":69967711,"comment_id":123682622,"body_markdown":"This is a little vague.  What&#39;s an &quot;invoker method?&quot;  If you&#39;re referring to the caller, you can simply `return`.","body":"This is a little vague.  What&#39;s an &quot;invoker method?&quot;  If you&#39;re referring to the caller, you can simply <code>return</code>."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":2,"creation_date":1636929293,"post_id":69967711,"comment_id":123682640,"body_markdown":"You can also show us some code that illustrates what you&#39;re talking about.","body":"You can also show us some code that illustrates what you&#39;re talking about."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1636932930,"post_id":69967711,"comment_id":123683270,"body_markdown":"What is the difference between &quot;pass control to the invoker method&quot; and &quot;exits from the switch expression&quot;? Exiting from the switch is exactly what `break` does in &quot;classic&quot; switch expressions (i.e. switch statements).","body":"What is the difference between &quot;pass control to the invoker method&quot; and &quot;exits from the switch expression&quot;? Exiting from the switch is exactly what <code>break</code> does in &quot;classic&quot; switch expressions (i.e. switch statements)."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1636935809,"post_id":69967711,"comment_id":123683688,"body_markdown":"The same as `...?... :... ` the switch _expression_ cannot return. It could have been allowed like `if (...) return false; yield true;` but really, that is awful.","body":"The same as <code>...?... :... </code> the switch <i>expression</i> cannot return. It could have been allowed like <code>if (...) return false; yield true;</code> but really, that is awful."},{"owner":{"account_id":14085595,"reputation":121,"user_id":10175441,"display_name":"Unearthly"},"score":2,"creation_date":1636966397,"post_id":69967711,"comment_id":123689310,"body_markdown":"Since the switch expression is an...expression, would typing it like: &quot;return switch expression&quot; do the trick? I tried on the IDE and it&#39;s working, or am I missing something?","body":"Since the switch expression is an...expression, would typing it like: &quot;return switch expression&quot; do the trick? I tried on the IDE and it&#39;s working, or am I missing something?"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1636972914,"post_id":69967711,"comment_id":123691661,"body_markdown":"@Unearthly Correct: you cannot put `return` inside the switch. In your case it is easier to just use `return switch (day) { ...` to avoid the assignment to `isParty`.","body":"@Unearthly Correct: you cannot put <code>return</code> inside the switch. In your case it is easier to just use <code>return switch (day) { ...</code> to avoid the assignment to <code>isParty</code>."},{"owner":{"account_id":14085595,"reputation":121,"user_id":10175441,"display_name":"Unearthly"},"score":0,"creation_date":1636975088,"post_id":69967711,"comment_id":123692491,"body_markdown":"thanks a lot for the feedback! My question I think it&#39;s now answered then :)","body":"thanks a lot for the feedback! My question I think it&#39;s now answered then :)"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636977073,"creation_date":1636929290,"answer_id":69967723,"question_id":69967711,"body_markdown":"Simply `return` to the calling method. If you just want to stop processing further cases in the same switch, use `break`.\r\nThis and the below example apply to the switch **statement**, whereas the original question was releated to the switch **expression**.\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        switch(1) {\r\n            case 1:\r\n                System.out.println(&quot;Case one&quot;);\r\n                // no break, so case processing goes one\r\n            case 2:\r\n                System.out.println(&quot;Case two&quot;);\r\n                break; // we bail out here and do not process further cases\r\n            default:\r\n                System.out.println(&quot;Default case&quot;);\r\n        }\r\n        \r\n        switch(2) {\r\n            case 2:\r\n                return;\r\n            default:\r\n                System.out.println(&quot;Default case&quot;);\r\n        }\r\n        \r\n        System.out.println(&quot;This is the end - should not be printed&quot;);\r\n    }\r\n\r\ngenerates output\r\n\r\n    Case one\r\n    Case two","title":"How exit from method in a switch expression?","body":"<p>Simply <code>return</code> to the calling method. If you just want to stop processing further cases in the same switch, use <code>break</code>.\nThis and the below example apply to the switch <strong>statement</strong>, whereas the original question was releated to the switch <strong>expression</strong>.</p>\n<pre><code>public static void main(String[] args) throws Exception {\n\n    switch(1) {\n        case 1:\n            System.out.println(&quot;Case one&quot;);\n            // no break, so case processing goes one\n        case 2:\n            System.out.println(&quot;Case two&quot;);\n            break; // we bail out here and do not process further cases\n        default:\n            System.out.println(&quot;Default case&quot;);\n    }\n    \n    switch(2) {\n        case 2:\n            return;\n        default:\n            System.out.println(&quot;Default case&quot;);\n    }\n    \n    System.out.println(&quot;This is the end - should not be printed&quot;);\n}\n</code></pre>\n<p>generates output</p>\n<pre><code>Case one\nCase two\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636973488,"creation_date":1636973488,"answer_id":69973198,"question_id":69967711,"body_markdown":"As you cannot use `return`  or `break` within the switch, it would be easier in your case to simplify with `return switch ...` directly:\r\n\r\n    public static boolean isTimeToParty(DayOfWeek day) {\r\n        return switch (day) {\r\n            case SATURDAY, SUNDAY -&gt; true;\r\n            default  -&gt; false;\r\n        };\r\n    }\r\n","title":"How exit from method in a switch expression?","body":"<p>As you cannot use <code>return</code>  or <code>break</code> within the switch, it would be easier in your case to simplify with <code>return switch ...</code> directly:</p>\n<pre><code>public static boolean isTimeToParty(DayOfWeek day) {\n    return switch (day) {\n        case SATURDAY, SUNDAY -&gt; true;\n        default  -&gt; false;\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":14085595,"reputation":121,"user_id":10175441,"display_name":"Unearthly"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":891,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":69973198,"answer_count":2,"score":1,"last_activity_date":1636977073,"creation_date":1636929089,"question_id":69967711,"body_markdown":"I&#39;m studying switch expression, and I&#39;d like to know how to pass control to the invoker method because &quot;yield&quot; just exits from the switch expression. I can&#39;t find any way to make it behave like the classic switch statement.\r\n\r\nIs it even possible? \r\n\r\nUPDATE: Here&#39;s a little piece of code.\r\n\r\n```java\r\npublic static boolean isTimeToParty(DayOfWeek day) {\r\n    boolean isParty = switch (day) {\r\n        case MONDAY -&gt; false;\r\n        case TUESDAY -&gt; {\r\n            yield false; //return not allowed\r\n        }\r\n        case WEDNESDAY -&gt; false;\r\n        case THURSDAY -&gt; false;\r\n        case FRIDAY -&gt; false;\r\n        case SATURDAY -&gt; true;\r\n        case SUNDAY -&gt; true;\r\n    };\r\n    return isParty;\r\n}\r\n```\r\n\r\nWhat I mean is: How to avoid assigning value to a variable and then calling return [variable_name]?\r\nI would like to return value and exit switch at the same time.\r\n\r\nThanks in advance","title":"How exit from method in a switch expression?","body":"<p>I'm studying switch expression, and I'd like to know how to pass control to the invoker method because &quot;yield&quot; just exits from the switch expression. I can't find any way to make it behave like the classic switch statement.</p>\n<p>Is it even possible?</p>\n<p>UPDATE: Here's a little piece of code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isTimeToParty(DayOfWeek day) {\n    boolean isParty = switch (day) {\n        case MONDAY -&gt; false;\n        case TUESDAY -&gt; {\n            yield false; //return not allowed\n        }\n        case WEDNESDAY -&gt; false;\n        case THURSDAY -&gt; false;\n        case FRIDAY -&gt; false;\n        case SATURDAY -&gt; true;\n        case SUNDAY -&gt; true;\n    };\n    return isParty;\n}\n</code></pre>\n<p>What I mean is: How to avoid assigning value to a variable and then calling return [variable_name]?\nI would like to return value and exit switch at the same time.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","sockets","outputstream","dataoutputstream","connection-reset"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1636990445,"post_id":69973936,"comment_id":123698728,"body_markdown":"While a connection reset is abnormal it&#39;s not what I would call rare. Network hiccups or server issues can cause it. If you&#39;ve not had one for years you have been very lucky.","body":"While a connection reset is abnormal it&#39;s not what I would call rare. Network hiccups or server issues can cause it. If you&#39;ve not had one for years you have been very lucky."},{"owner":{"account_id":18831071,"reputation":11,"user_id":13734869,"display_name":"steprm"},"score":0,"creation_date":1636992785,"post_id":69973936,"comment_id":123699817,"body_markdown":"firs of all, thank you for the answer. I don&#39;t know if I have&#39;not had any reset connection over the years, but for sure until some weeks ago it happened never or almost never. Now it happens always from the webapp...","body":"firs of all, thank you for the answer. I don&#39;t know if I have&#39;not had any reset connection over the years, but for sure until some weeks ago it happened never or almost never. Now it happens always from the webapp..."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1636998467,"post_id":69973936,"comment_id":123701973,"body_markdown":"Understood. If it were me I&#39;d use network analysis tools like e.g. wireshark, running java with network debugging output enabled, etc. to see what&#39;s different between the two ways you&#39;ve tried to use the code to connect.","body":"Understood. If it were me I&#39;d use network analysis tools like e.g. wireshark, running java with network debugging output enabled, etc. to see what&#39;s different between the two ways you&#39;ve tried to use the code to connect."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1636999257,"post_id":69973936,"comment_id":123702297,"body_markdown":"For more on debugging java network issues see the [discussion of the javax.net.debug property](https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-31B7E142-B874-46E9-8DD0-4E18EC0EB2CF).","body":"For more on debugging java network issues see the <a href=\"https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-31B7E142-B874-46E9-8DD0-4E18EC0EB2CF\" rel=\"nofollow noreferrer\">discussion of the javax.net.debug property</a>."}],"owner":{"account_id":18831071,"reputation":11,"user_id":13734869,"display_name":"steprm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636976919,"creation_date":1636976919,"question_id":69973936,"body_markdown":"I am to ask your kind help for a problem I cannot solve...\r\nI have the following code:\r\n\r\n          String https_url = &quot;https://...&quot;;\r\n\t\t  try {\r\n\t\t\t\r\n\t\t\tHttpsURLConnection connection = (HttpsURLConnection) new URL(https_url).openConnection();\r\n\t\t\tString query = &quot;api_key=1234&amp;portal_id=1234&amp;username=&quot;+username;\r\n\t\t\tconnection.setDoOutput(true);\r\n\t\t\tconnection.setDoInput(true);\r\n\t\t\tconnection.setRequestMethod(&quot;POST&quot;);\r\n\t\t\tconnection.setRequestProperty(&quot;Content-Length&quot;, String.valueOf(query.length())); \r\n\t\t\tconnection.setRequestProperty(&quot;Content-Type&quot;,&quot;application/x-www-form-urlencoded&quot;);\t\t\r\n\t\t\tDataOutputStream output = new DataOutputStream(connection.getOutputStream());\t\t\r\n\t\t\toutput.writeBytes(query);\t\t\r\n\t\t\toutput.close();\r\n\t\t\tDataInputStream input = new DataInputStream( connection.getInputStream() ); \r\n\t\t\tString ret = &quot;&quot;;\r\n\t\t\tfor( int c = input.read(); c != -1; c = input.read() )  {\r\n\t\t\t\tret += (char)c ;\r\n\t\t\t}\r\n\t\t\tinput.close(); \r\n\t\t\tint code = connection .getResponseCode();\r\n\t\t\tString message = connection .getResponseMessage();\r\n\t\t\tSystem.out.println(&quot;Resp Code:&quot;+code); \r\n\t\t\tSystem.out.println(&quot;Resp Message:&quot;+ message); \r\n            //...\r\n\r\nThis code has been running for a couple of years, and until some weeks ago, it has worked fine, then suddenly, it started to got a\r\n*java.net.SocketException: Connection reset*\r\nsoon after the line \r\n*output = new DataOutputStream(connection.getOutputStream());* \r\nThis code runs into a Java web application, and it is called after the click on a button of a web page. \r\nI don&#39;t know if something has changed on server side, but the strange thing is that if I put this code into a main method of a stand alone class, export the class on an executable jar file, and launch the jar from the same environment where the web application is deployed, this code still works and I don&#39;t get any exception.\r\nAny suggestions? Thank you again\r\n Step","title":"Connection reset after getOutputStream invocation","body":"<p>I am to ask your kind help for a problem I cannot solve...\nI have the following code:</p>\n<pre><code>      String https_url = &quot;https://...&quot;;\n      try {\n        \n        HttpsURLConnection connection = (HttpsURLConnection) new URL(https_url).openConnection();\n        String query = &quot;api_key=1234&amp;portal_id=1234&amp;username=&quot;+username;\n        connection.setDoOutput(true);\n        connection.setDoInput(true);\n        connection.setRequestMethod(&quot;POST&quot;);\n        connection.setRequestProperty(&quot;Content-Length&quot;, String.valueOf(query.length())); \n        connection.setRequestProperty(&quot;Content-Type&quot;,&quot;application/x-www-form-urlencoded&quot;);      \n        DataOutputStream output = new DataOutputStream(connection.getOutputStream());       \n        output.writeBytes(query);       \n        output.close();\n        DataInputStream input = new DataInputStream( connection.getInputStream() ); \n        String ret = &quot;&quot;;\n        for( int c = input.read(); c != -1; c = input.read() )  {\n            ret += (char)c ;\n        }\n        input.close(); \n        int code = connection .getResponseCode();\n        String message = connection .getResponseMessage();\n        System.out.println(&quot;Resp Code:&quot;+code); \n        System.out.println(&quot;Resp Message:&quot;+ message); \n        //...\n</code></pre>\n<p>This code has been running for a couple of years, and until some weeks ago, it has worked fine, then suddenly, it started to got a\n<em>java.net.SocketException: Connection reset</em>\nsoon after the line\n<em>output = new DataOutputStream(connection.getOutputStream());</em>\nThis code runs into a Java web application, and it is called after the click on a button of a web page.\nI don't know if something has changed on server side, but the strange thing is that if I put this code into a main method of a stand alone class, export the class on an executable jar file, and launch the jar from the same environment where the web application is deployed, this code still works and I don't get any exception.\nAny suggestions? Thank you again\nStep</p>\n"},{"tags":["java","android","spotify","okhttp"],"comments":[{"owner":{"account_id":21743022,"reputation":611,"user_id":16050098,"display_name":"Jeroen Verfaillie"},"score":0,"creation_date":1636473678,"post_id":69900899,"comment_id":123563891,"body_markdown":"The GET request redirects to a spotify login screen, which should be rendered in e.g. a browser. Only after the user confirms that the app is allowed to use the requested information will a token be dispatched to your callback url.","body":"The GET request redirects to a spotify login screen, which should be rendered in e.g. a browser. Only after the user confirms that the app is allowed to use the requested information will a token be dispatched to your callback url."}],"answers":[{"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636884976,"creation_date":1636884976,"answer_id":69962078,"question_id":69900899,"body_markdown":"This is an example auth flow for spotify\r\n\r\nhttps://github.com/yschimke/okurl/blob/0abaa8510dd5466d5e9a08ebe33a009c491749bf/src/main/kotlin/com/baulsupp/okurl/services/spotify/SpotifyAuthFlow.kt\r\n\r\n```\r\n      val scopesString = URLEncoder.encode(scopes.joinToString(&quot; &quot;), &quot;UTF-8&quot;)\r\n\r\n      val loginUrl =\r\n        &quot;https://accounts.spotify.com/authorize?client_id=$clientId&amp;response_type=code&amp;state=x&amp;redirect_uri=${s.redirectUri}&amp;scope=$scopesString&quot;\r\n\r\n      outputHandler.openLink(loginUrl)\r\n\r\n      val code = s.waitForCode()\r\n\r\n      val tokenUrl = &quot;https://accounts.spotify.com/api/token&quot;\r\n      val body = FormBody.Builder().add(&quot;client_id&quot;, clientId)\r\n        .add(&quot;redirect_uri&quot;, s.redirectUri)\r\n        .add(&quot;code&quot;, code)\r\n        .add(&quot;grant_type&quot;, &quot;authorization_code&quot;)\r\n        .build()\r\n      val request = Request.Builder().header(\r\n        &quot;Authorization&quot;,\r\n        Credentials.basic(clientId, clientSecret)\r\n      )\r\n        .url(tokenUrl)\r\n        .method(&quot;POST&quot;, body)\r\n        .build()\r\n\r\n      val responseMap = client.queryMap&lt;Any&gt;(request)\r\n\r\n      return Oauth2Token(\r\n        responseMap[&quot;access_token&quot;] as String,\r\n        responseMap[&quot;refresh_token&quot;] as String, clientId, clientSecret\r\n      )\r\n```\r\n\r\n```\r\n$ okurl --authorize=spotify\r\nAccounts: https://developer.spotify.com/my-applications/\r\nSpotify Client Id []: xxx\r\nSpotify Client Secret []:\r\nScopes [playlist-read-private,playlist-read-collaborative,playlist-modify-public,playlist-modify-private,streaming,ugc-image-upload,user-follow-modify,user-follow-read,user-library-read,user-library-modify,user-read-private,user-read-birthdate,user-read-email,user-top-read]:\r\n```\r\n","title":"Get access token for Spotify API for Android app","body":"<p>This is an example auth flow for spotify</p>\n<p><a href=\"https://github.com/yschimke/okurl/blob/0abaa8510dd5466d5e9a08ebe33a009c491749bf/src/main/kotlin/com/baulsupp/okurl/services/spotify/SpotifyAuthFlow.kt\" rel=\"nofollow noreferrer\">https://github.com/yschimke/okurl/blob/0abaa8510dd5466d5e9a08ebe33a009c491749bf/src/main/kotlin/com/baulsupp/okurl/services/spotify/SpotifyAuthFlow.kt</a></p>\n<pre><code>      val scopesString = URLEncoder.encode(scopes.joinToString(&quot; &quot;), &quot;UTF-8&quot;)\n\n      val loginUrl =\n        &quot;https://accounts.spotify.com/authorize?client_id=$clientId&amp;response_type=code&amp;state=x&amp;redirect_uri=${s.redirectUri}&amp;scope=$scopesString&quot;\n\n      outputHandler.openLink(loginUrl)\n\n      val code = s.waitForCode()\n\n      val tokenUrl = &quot;https://accounts.spotify.com/api/token&quot;\n      val body = FormBody.Builder().add(&quot;client_id&quot;, clientId)\n        .add(&quot;redirect_uri&quot;, s.redirectUri)\n        .add(&quot;code&quot;, code)\n        .add(&quot;grant_type&quot;, &quot;authorization_code&quot;)\n        .build()\n      val request = Request.Builder().header(\n        &quot;Authorization&quot;,\n        Credentials.basic(clientId, clientSecret)\n      )\n        .url(tokenUrl)\n        .method(&quot;POST&quot;, body)\n        .build()\n\n      val responseMap = client.queryMap&lt;Any&gt;(request)\n\n      return Oauth2Token(\n        responseMap[&quot;access_token&quot;] as String,\n        responseMap[&quot;refresh_token&quot;] as String, clientId, clientSecret\n      )\n</code></pre>\n<pre><code>$ okurl --authorize=spotify\nAccounts: https://developer.spotify.com/my-applications/\nSpotify Client Id []: xxx\nSpotify Client Secret []:\nScopes [playlist-read-private,playlist-read-collaborative,playlist-modify-public,playlist-modify-private,streaming,ugc-image-upload,user-follow-modify,user-follow-read,user-library-read,user-library-modify,user-read-private,user-read-birthdate,user-read-email,user-top-read]:\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13903101,"reputation":568,"user_id":10038235,"display_name":"Kyofa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636976610,"creation_date":1636976610,"answer_id":69973868,"question_id":69900899,"body_markdown":"I ended up following the \r\n[following tutorial][1] and using the spotify authentication service\r\n\r\nNote that AuthenticationRequest and AuthenticationClient are now called AuthorizationRequest and AuthorizationClient\r\n\r\n\r\n  [1]: https://towardsdatascience.com/using-the-spotify-api-with-your-android-application-the-essentials-1a3c1bc36b9e","title":"Get access token for Spotify API for Android app","body":"<p>I ended up following the\n<a href=\"https://towardsdatascience.com/using-the-spotify-api-with-your-android-application-the-essentials-1a3c1bc36b9e\" rel=\"nofollow noreferrer\">following tutorial</a> and using the spotify authentication service</p>\n<p>Note that AuthenticationRequest and AuthenticationClient are now called AuthorizationRequest and AuthorizationClient</p>\n"}],"owner":{"account_id":13903101,"reputation":568,"user_id":10038235,"display_name":"Kyofa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1460,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69973868,"answer_count":2,"score":3,"last_activity_date":1636976610,"creation_date":1636471946,"question_id":69900899,"body_markdown":"I&#39;m trying to access the spotify token with the following\r\n\r\n    OkHttpClient client = new OkHttpClient();\r\n    \r\n            String state = &quot;azertyuiopmlkjhg&quot;;//TODO random string\r\n            String scope = &quot;user-read-private user-read-email&quot;;\r\n    \r\n            URIBuilder ub = new URIBuilder(&quot;https://accounts.spotify.com/authorize?&quot;)\r\n                    .addParameter(&quot;client_id&quot;, CLIENT_ID)\r\n                    .addParameter(&quot;response_type&quot;, &quot;token&quot;)\r\n                    .addParameter(&quot;scope&quot;, scope)\r\n                    .addParameter(&quot;redirect_uri&quot;, REDIRECT_URI)\r\n                    .addParameter(&quot;state&quot;, state);\r\n            String url = ub.toString();\r\n            System.out.println(url);\r\n    \r\n            Request request = new Request.Builder()\r\n                    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                    .url(url)\r\n                    .build();\r\n            client.newCall(request).enqueue(new Callback() {\r\n                @Override\r\n                public void onFailure(Call call, IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                @Override\r\n                public void onResponse(Call call, Response response) throws IOException {\r\n                    final String myResponse = response.body().string();\r\n                    final String networkResponse = response.networkResponse().request().url().toString();\r\n                    System.out.println(myResponse);\r\n                    System.out.println(networkResponse);\r\n                    if (response.isSuccessful()) {\r\n                        MainActivity.this.runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                textView.setText(&quot;Success \\n&quot;+myResponse);\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n\r\nThe generated URL  `https://accounts.spotify.com/authorize?client_id=e...0&amp;response_type=token&amp;scope=user-read-private+user-read-email&amp;redirect_uri=https%3A%2F%2Faccounts.spotify.com%2Fauthorize&amp;state=azertyuiopmlkjhg` redirect to the link `https://accounts.spotify.com/authorize#access_token=B...g&amp;token_type=Bearer&amp;expires_in=3600&amp;state=azertyuiopmlkjhg` which contains the token I want\r\n\r\nThe query return should be : access_token ; token_type ; expires_in and state\r\nBut I&#39;m getting some HTML as response \r\n\r\n    &lt;html id=&quot;app&quot; lang=&quot;fr&quot; dir=&quot;ltr&quot; ng-csp ng-strict-di&gt;\r\n        &lt;head&gt;\r\n          &lt;meta charset=&quot;utf-8&quot;&gt;\r\n          &lt;title ng-bind=&quot;(&amp;#39;loginTitle&amp;#39; | localize) + &amp;#39; - Spotify&amp;#39;&quot;&gt;Spotify&lt;/title&gt;\r\n          &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot;&gt;\r\n          &lt;base href=&quot;/&quot;&gt;\r\n          &lt;link rel=&quot;icon&quot; href=&quot;https://accounts.scdn.co/sso/images/favicon.ace4d8543bbb017893402a1e9d1ac1fa.ico&quot;&gt;\r\n          &lt;link href=&quot;https://accounts.scdn.co/sso/css/index.daf98bb304f1ca0e3987.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot;&gt;\r\n          &lt;script defer src=&quot;https://accounts.scdn.co/sso/js/index.daf98bb304f1ca0e3987.js&quot; sp-bootstrap&gt;&lt;/script&gt;\r\n          &lt;meta ng-non-bindable sp-bootstrap-data=&#39;{&quot;phoneFeatureEnabled&quot;:false,&quot;previewEnabled&quot;:false,&quot;user&quot;:false,&quot;tpaState&quot;:&quot;AQ...Q=&quot;,&quot;BON&quot;:[&quot;0&quot;,&quot;0&quot;,136907053]}&#39;&gt;\r\n        &lt;/head&gt;\r\n        &lt;body ng-controller=&quot;LoginController&quot;&gt;\r\n          &lt;div ng-include=&quot;template&quot;&gt;&lt;/div&gt;\r\n        &lt;/body&gt;\r\n        &lt;/html&gt;","title":"Get access token for Spotify API for Android app","body":"<p>I'm trying to access the spotify token with the following</p>\n<pre><code>OkHttpClient client = new OkHttpClient();\n\n        String state = &quot;azertyuiopmlkjhg&quot;;//TODO random string\n        String scope = &quot;user-read-private user-read-email&quot;;\n\n        URIBuilder ub = new URIBuilder(&quot;https://accounts.spotify.com/authorize?&quot;)\n                .addParameter(&quot;client_id&quot;, CLIENT_ID)\n                .addParameter(&quot;response_type&quot;, &quot;token&quot;)\n                .addParameter(&quot;scope&quot;, scope)\n                .addParameter(&quot;redirect_uri&quot;, REDIRECT_URI)\n                .addParameter(&quot;state&quot;, state);\n        String url = ub.toString();\n        System.out.println(url);\n\n        Request request = new Request.Builder()\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .url(url)\n                .build();\n        client.newCall(request).enqueue(new Callback() {\n            @Override\n            public void onFailure(Call call, IOException e) {\n                e.printStackTrace();\n            }\n            @Override\n            public void onResponse(Call call, Response response) throws IOException {\n                final String myResponse = response.body().string();\n                final String networkResponse = response.networkResponse().request().url().toString();\n                System.out.println(myResponse);\n                System.out.println(networkResponse);\n                if (response.isSuccessful()) {\n                    MainActivity.this.runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            textView.setText(&quot;Success \\n&quot;+myResponse);\n                        }\n                    });\n                }\n            }\n        });\n</code></pre>\n<p>The generated URL  <code>https://accounts.spotify.com/authorize?client_id=e...0&amp;response_type=token&amp;scope=user-read-private+user-read-email&amp;redirect_uri=https%3A%2F%2Faccounts.spotify.com%2Fauthorize&amp;state=azertyuiopmlkjhg</code> redirect to the link <code>https://accounts.spotify.com/authorize#access_token=B...g&amp;token_type=Bearer&amp;expires_in=3600&amp;state=azertyuiopmlkjhg</code> which contains the token I want</p>\n<p>The query return should be : access_token ; token_type ; expires_in and state\nBut I'm getting some HTML as response</p>\n<pre><code>&lt;html id=&quot;app&quot; lang=&quot;fr&quot; dir=&quot;ltr&quot; ng-csp ng-strict-di&gt;\n    &lt;head&gt;\n      &lt;meta charset=&quot;utf-8&quot;&gt;\n      &lt;title ng-bind=&quot;(&amp;#39;loginTitle&amp;#39; | localize) + &amp;#39; - Spotify&amp;#39;&quot;&gt;Spotify&lt;/title&gt;\n      &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot;&gt;\n      &lt;base href=&quot;/&quot;&gt;\n      &lt;link rel=&quot;icon&quot; href=&quot;https://accounts.scdn.co/sso/images/favicon.ace4d8543bbb017893402a1e9d1ac1fa.ico&quot;&gt;\n      &lt;link href=&quot;https://accounts.scdn.co/sso/css/index.daf98bb304f1ca0e3987.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot;&gt;\n      &lt;script defer src=&quot;https://accounts.scdn.co/sso/js/index.daf98bb304f1ca0e3987.js&quot; sp-bootstrap&gt;&lt;/script&gt;\n      &lt;meta ng-non-bindable sp-bootstrap-data='{&quot;phoneFeatureEnabled&quot;:false,&quot;previewEnabled&quot;:false,&quot;user&quot;:false,&quot;tpaState&quot;:&quot;AQ...Q=&quot;,&quot;BON&quot;:[&quot;0&quot;,&quot;0&quot;,136907053]}'&gt;\n    &lt;/head&gt;\n    &lt;body ng-controller=&quot;LoginController&quot;&gt;\n      &lt;div ng-include=&quot;template&quot;&gt;&lt;/div&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n"},{"tags":["java","android","kotlin","retrofit","retrofit2"],"comments":[{"owner":{"account_id":5363666,"reputation":1950,"user_id":4274223,"display_name":"Gregorio Palam&#224;"},"score":0,"creation_date":1636974251,"post_id":69973316,"comment_id":123692184,"body_markdown":"Can you please add the code of this layout? R.layout.restaurant_card_view","body":"Can you please add the code of this layout? R.layout.restaurant_card_view"},{"owner":{"account_id":15327559,"reputation":67,"user_id":11058248,"display_name":"ZahraCarthage CHOUCHENE"},"score":0,"creation_date":1636974559,"post_id":69973316,"comment_id":123692306,"body_markdown":"yes it&#39;s added.","body":"yes it&#39;s added."},{"owner":{"account_id":5363666,"reputation":1950,"user_id":4274223,"display_name":"Gregorio Palam&#224;"},"score":0,"creation_date":1636974645,"post_id":69973316,"comment_id":123692341,"body_markdown":"sorry, can&#39;t see it. it would be very useful to understand the layout of the single item","body":"sorry, can&#39;t see it. it would be very useful to understand the layout of the single item"},{"owner":{"account_id":15327559,"reputation":67,"user_id":11058248,"display_name":"ZahraCarthage CHOUCHENE"},"score":0,"creation_date":1636974710,"post_id":69973316,"comment_id":123692365,"body_markdown":"please check again now, I edited the post","body":"please check again now, I edited the post"}],"answers":[{"tags":[],"owner":{"account_id":9748857,"reputation":4106,"user_id":7227834,"display_name":"AmrDeveloper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636976018,"creation_date":1636974721,"answer_id":69973463,"question_id":69973316,"body_markdown":"Your problem is that you passed empty list `restaurantList` to the adapter and then added the response to this list `restaurantList.addAll(it)` but this will update the list in your activity, not the list in the adapter, to solve this problem you can create method in the adapter to update its list\r\n\r\n```kt\r\nfun updateData(newRestaurant: ArrayList&lt;Restaurant&gt;) {\r\n    restaurantList = newRestaurant\r\n    notifyDataSetChanged()\r\n}\r\n```\r\n\r\nThe code in `onResponse` will be:\r\n\r\n```kt\r\nval response = response.body()\r\nresponse?.let {\r\n    adapter.updateData(it)\r\n}\r\n```\r\n","title":"Data not displaying in recycler View","body":"<p>Your problem is that you passed empty list <code>restaurantList</code> to the adapter and then added the response to this list <code>restaurantList.addAll(it)</code> but this will update the list in your activity, not the list in the adapter, to solve this problem you can create method in the adapter to update its list</p>\n<pre><code>fun updateData(newRestaurant: ArrayList&lt;Restaurant&gt;) {\n    restaurantList = newRestaurant\n    notifyDataSetChanged()\n}\n</code></pre>\n<p>The code in <code>onResponse</code> will be:</p>\n<pre><code>val response = response.body()\nresponse?.let {\n    adapter.updateData(it)\n}\n</code></pre>\n"}],"owner":{"account_id":15327559,"reputation":67,"user_id":11058248,"display_name":"ZahraCarthage CHOUCHENE"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69973463,"answer_count":1,"score":1,"last_activity_date":1636976018,"creation_date":1636974029,"question_id":69973316,"body_markdown":"I&#39;m fairly new to Mobile dev and kotlin in general. \r\nRight now, I&#39;m trying to populate a recyclerview with data from the database. \r\nIssue is, I know the connection is established because I can see the log message on the console \r\n\r\nI am not really sure what I&#39;m doing wrong at this point and I don&#39;t even understand anymore where is the issue. \r\nI have tried almost every solution I found on here or other websites but nothing worked out.\r\n*************\r\nAdapter : \r\n\r\n    class restaurantadapter(private var restaurantList: ArrayList&lt;Restaurant&gt;, private val context: Context) : RecyclerView.Adapter&lt;restaurantadapter.ViewHolder&gt;() {\r\n    \r\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n            return ViewHolder(LayoutInflater.from(context).inflate(R.layout.restaurant_card_view, parent, false))\r\n        }\r\n    \r\n        override fun getItemCount(): Int {\r\n            return restaurantList.size\r\n        }\r\n    \r\n        override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n        val restaurant = restaurantList.get(position)\r\n            holder.titleTextView?.text = restaurant.title\r\n            holder.desTextView?.text = restaurant.description\r\n            }\r\n        class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\r\n             var titleTextView: TextView? = null\r\n             var desTextView: TextView? = null\r\n    \r\n            init {\r\n                titleTextView = itemView.findViewById(R.id.restaurantname)\r\n                desTextView = itemView.findViewById(R.id.restaurantdesc)\r\n    \r\n            }\r\n        }\r\n\r\n******************\r\n\r\nMain activity \r\n\r\n    class Main1Activity : AppCompatActivity() {\r\n    \r\n        var restaurantList: ArrayList&lt;Restaurant&gt; = ArrayList()\r\n       private var adapter: restaurantadapter? = null\r\n    \r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main1)\r\n    \r\n            var recyclerView: RecyclerView = findViewById(R.id.restaurantslist)\r\n            recyclerView.layoutManager= LinearLayoutManager(this@Main1Activity)\r\n            adapter=restaurantadapter(restaurantList,this\r\n            )\r\n    \r\n            recyclerView.adapter=adapter\r\n    \r\n          ApiClient.getApiClient()!!.create(ApiInterface::class.java)\r\n    \r\n            ApiClient.apiservice.getRestaurants()\r\n                .enqueue(object: Callback&lt;ArrayList&lt;Restaurant&gt;&gt;{\r\n                    override fun onResponse(\r\n                        call: Call&lt;ArrayList&lt;Restaurant&gt;&gt;,\r\n                        response: Response&lt;ArrayList&lt;Restaurant&gt;&gt;\r\n                    )\r\n                    {\r\n                       val response = response.body()\r\n                        response?.let {\r\n                            restaurantList.addAll(it)\r\n                            adapter?.notifyDataSetChanged()\r\n    \r\n                        }\r\n                    }\r\n    \r\n                    override fun onFailure(call: Call&lt;ArrayList&lt;Restaurant&gt;&gt;, t: Throwable) {\r\n                        Toast.makeText(this@Main1Activity,&quot;failure&quot;,Toast.LENGTH_SHORT).show()\r\n                    }\r\n                })\r\n    \r\n    \r\n    \r\n        }\r\n\r\n **************\r\nlayout : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.cardview.widget.CardView  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:layout_margin=&quot;6dp&quot;\r\n        app:contentPadding=&quot;12dp&quot;\r\n    \r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        &gt;\r\n    \r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:padding=&quot;10dp&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/restaurantname&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;20dp&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                android:layout_marginEnd=&quot;16dp&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;22sp&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n              /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/restaurantdesc&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginStart=&quot;20dp&quot;\r\n                android:layout_marginTop=&quot;55dp&quot;\r\n                android:layout_marginEnd=&quot;16dp&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/restaurantname&quot;\r\n                android:textSize=&quot;22sp&quot;\r\n                 /&gt;\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\n\r\n","title":"Data not displaying in recycler View","body":"<p>I'm fairly new to Mobile dev and kotlin in general.\nRight now, I'm trying to populate a recyclerview with data from the database.\nIssue is, I know the connection is established because I can see the log message on the console</p>\n<p>I am not really sure what I'm doing wrong at this point and I don't even understand anymore where is the issue.\nI have tried almost every solution I found on here or other websites but nothing worked out.</p>\n<hr />\n<p>Adapter :</p>\n<pre><code>class restaurantadapter(private var restaurantList: ArrayList&lt;Restaurant&gt;, private val context: Context) : RecyclerView.Adapter&lt;restaurantadapter.ViewHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        return ViewHolder(LayoutInflater.from(context).inflate(R.layout.restaurant_card_view, parent, false))\n    }\n\n    override fun getItemCount(): Int {\n        return restaurantList.size\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    val restaurant = restaurantList.get(position)\n        holder.titleTextView?.text = restaurant.title\n        holder.desTextView?.text = restaurant.description\n        }\n    class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n         var titleTextView: TextView? = null\n         var desTextView: TextView? = null\n\n        init {\n            titleTextView = itemView.findViewById(R.id.restaurantname)\n            desTextView = itemView.findViewById(R.id.restaurantdesc)\n\n        }\n    }\n</code></pre>\n<hr />\n<p>Main activity</p>\n<pre><code>class Main1Activity : AppCompatActivity() {\n\n    var restaurantList: ArrayList&lt;Restaurant&gt; = ArrayList()\n   private var adapter: restaurantadapter? = null\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main1)\n\n        var recyclerView: RecyclerView = findViewById(R.id.restaurantslist)\n        recyclerView.layoutManager= LinearLayoutManager(this@Main1Activity)\n        adapter=restaurantadapter(restaurantList,this\n        )\n\n        recyclerView.adapter=adapter\n\n      ApiClient.getApiClient()!!.create(ApiInterface::class.java)\n\n        ApiClient.apiservice.getRestaurants()\n            .enqueue(object: Callback&lt;ArrayList&lt;Restaurant&gt;&gt;{\n                override fun onResponse(\n                    call: Call&lt;ArrayList&lt;Restaurant&gt;&gt;,\n                    response: Response&lt;ArrayList&lt;Restaurant&gt;&gt;\n                )\n                {\n                   val response = response.body()\n                    response?.let {\n                        restaurantList.addAll(it)\n                        adapter?.notifyDataSetChanged()\n\n                    }\n                }\n\n                override fun onFailure(call: Call&lt;ArrayList&lt;Restaurant&gt;&gt;, t: Throwable) {\n                    Toast.makeText(this@Main1Activity,&quot;failure&quot;,Toast.LENGTH_SHORT).show()\n                }\n            })\n\n\n\n    }\n</code></pre>\n<hr />\n<p>layout :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.cardview.widget.CardView  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:layout_margin=&quot;6dp&quot;\n    app:contentPadding=&quot;12dp&quot;\n\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    &gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:padding=&quot;10dp&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/restaurantname&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;20dp&quot;\n            android:layout_marginTop=&quot;16dp&quot;\n            android:layout_marginEnd=&quot;16dp&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;22sp&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            android:layout_gravity=&quot;center&quot;\n          /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/restaurantdesc&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:layout_marginStart=&quot;20dp&quot;\n            android:layout_marginTop=&quot;55dp&quot;\n            android:layout_marginEnd=&quot;16dp&quot;\n            android:textColor=&quot;@color/black&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/restaurantname&quot;\n            android:textSize=&quot;22sp&quot;\n             /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n"},{"tags":["java","spring","rest","logging","error-handling"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1636718677,"post_id":69942207,"comment_id":123637329,"body_markdown":"Not really sure. Although `Error` is also a `Throwable` just like `Exception`, maybe the `@ExceptionHandler` works only for `Exceptions`. I would say to give it a try, but looking at the `@ExceptionHandler` documentation it clearly states &quot;An exception argument: declared as a general Exception or as a more specific exception.&quot;. So I guess it will not work.","body":"Not really sure. Although <code>Error</code> is also a <code>Throwable</code> just like <code>Exception</code>, maybe the <code>@ExceptionHandler</code> works only for <code>Exceptions</code>. I would say to give it a try, but looking at the <code>@ExceptionHandler</code> documentation it clearly states &quot;An exception argument: declared as a general Exception or as a more specific exception.&quot;. So I guess it will not work."},{"owner":{"account_id":4803957,"reputation":83,"user_id":3879688,"display_name":"sp_artacus_code"},"score":0,"creation_date":1636720627,"post_id":69942207,"comment_id":123637988,"body_markdown":"I sure it doesn&#39;t work for Error, then I am looking for an alternative...","body":"I sure it doesn&#39;t work for Error, then I am looking for an alternative..."},{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":0,"creation_date":1636833037,"post_id":69942207,"comment_id":123664495,"body_markdown":"Remove `@Component` annotation. Also, best to have separate methods to handle different kind of exceptions.","body":"Remove <code>@Component</code> annotation. Also, best to have separate methods to handle different kind of exceptions."}],"answers":[{"tags":[],"owner":{"account_id":4803957,"reputation":83,"user_id":3879688,"display_name":"sp_artacus_code"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636975794,"creation_date":1636975794,"answer_id":69973711,"question_id":69942207,"body_markdown":"I have found this solution and it seems to work:\r\n\r\n    @ControllerAdvice\r\n    @Order(value = Ordered.HIGHEST_PRECEDENCE)\r\n    public class CoreExceptionHandler {\r\n    \r\n        @ResponseStatus(value = HttpStatus.INTERNAL_SERVER_ERROR)\r\n        @ExceptionHandler\r\n        public void handleThrowable(Throwable tr, HttpServletRequest httpServletRequest) {\r\n            if(tr.getCause() instanceof Error) {\r\n                //log Error\r\n            }\r\n            if(tr.getCause() instanceof Exception) {\r\n                //log Exception\r\n            }\r\n        }\r\n    }","title":"Is possible manage Error globally in Spring Boot?","body":"<p>I have found this solution and it seems to work:</p>\n<pre><code>@ControllerAdvice\n@Order(value = Ordered.HIGHEST_PRECEDENCE)\npublic class CoreExceptionHandler {\n\n    @ResponseStatus(value = HttpStatus.INTERNAL_SERVER_ERROR)\n    @ExceptionHandler\n    public void handleThrowable(Throwable tr, HttpServletRequest httpServletRequest) {\n        if(tr.getCause() instanceof Error) {\n            //log Error\n        }\n        if(tr.getCause() instanceof Exception) {\n            //log Exception\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4803957,"reputation":83,"user_id":3879688,"display_name":"sp_artacus_code"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636975794,"creation_date":1636716370,"question_id":69942207,"body_markdown":"I need to catch Error (not Exception) in all Rest Controllers of my Spring Boot Application for logging purpose.\r\nI would not like to add try.. catch block to all methods and manage this types of Throwable like I did with Exception that is using @ExceptionHandler annotation.\r\n\r\n    @ControllerAdvice\r\n    @Component\r\n    @Order(value = Ordered.HIGHEST_PRECEDENCE)\r\n    public class CoreExceptionHandler {\r\n    \r\n        @ResponseStatus(value = HttpStatus.INTERNAL_SERVER_ERROR)\r\n        @ExceptionHandler\r\n        public void handleException(Exception ex) {\r\n            //log exception\r\n        }\r\n    }\r\n\r\nIs possibile? What is the best way?","title":"Is possible manage Error globally in Spring Boot?","body":"<p>I need to catch Error (not Exception) in all Rest Controllers of my Spring Boot Application for logging purpose.\nI would not like to add try.. catch block to all methods and manage this types of Throwable like I did with Exception that is using @ExceptionHandler annotation.</p>\n<pre><code>@ControllerAdvice\n@Component\n@Order(value = Ordered.HIGHEST_PRECEDENCE)\npublic class CoreExceptionHandler {\n\n    @ResponseStatus(value = HttpStatus.INTERNAL_SERVER_ERROR)\n    @ExceptionHandler\n    public void handleException(Exception ex) {\n        //log exception\n    }\n}\n</code></pre>\n<p>Is possibile? What is the best way?</p>\n"},{"tags":["java","groovy","abstract-class"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1636973132,"post_id":69973041,"comment_id":123691749,"body_markdown":"`super(findTestData(&#39;PracticeContractData&#39;))` in  `ContractBuilder` expects a corresponding constructor in the superclass (`BaseFinderBuilder`). But `BaseFinderBuilder` doesn&#39;t have any non-default constructor that takes an argument (supposedly of type `com.kms.katalon.core.testdata.reader.SheetPOI`). Ideally, this should fail to compile, but perhaps you need to `@CompileStatic` your `ContractBuilder` class to see a compiler error...?","body":"<code>super(findTestData(&#39;PracticeContractData&#39;))</code> in  <code>ContractBuilder</code> expects a corresponding constructor in the superclass (<code>BaseFinderBuilder</code>). But <code>BaseFinderBuilder</code> doesn&#39;t have any non-default constructor that takes an argument (supposedly of type <code>com.kms.katalon.core.testdata.reader.SheetPOI</code>). Ideally, this should fail to compile, but perhaps you need to <code>@CompileStatic</code> your <code>ContractBuilder</code> class to see a compiler error...?"},{"owner":{"account_id":2309337,"reputation":3776,"user_id":2027839,"accept_rate":71,"display_name":"Mike Warren"},"score":0,"creation_date":1636974344,"post_id":69973041,"comment_id":123692220,"body_markdown":"Shouldn&#39;t it inherit all constructors from the `BaseModelBuilder`?","body":"Shouldn&#39;t it inherit all constructors from the <code>BaseModelBuilder</code>?"},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1636975190,"post_id":69973041,"comment_id":123692528,"body_markdown":"You can use `@InheritConstructors` to do that.  See https://stackoverflow.com/questions/1644317/java-constructor-inheritance","body":"You can use <code>@InheritConstructors</code> to do that.  See <a href=\"https://stackoverflow.com/questions/1644317/java-constructor-inheritance\" title=\"java constructor inheritance\">stackoverflow.com/questions/1644317/&hellip;</a>"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1636975680,"post_id":69973041,"comment_id":123692706,"body_markdown":"@MikeWarren constructors are never inherited.","body":"@MikeWarren constructors are never inherited."}],"answers":[{"tags":[],"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636975700,"creation_date":1636975700,"answer_id":69973693,"question_id":69973041,"body_markdown":"The problem here is like this:  Java and also Groovy does not have\r\nconstructor inheritance - it only implies argument-less ones for\r\nsubclasses, if you have not defined a c&#39;tor in a sub-class.\r\n\r\nSo this fails with the error you have seen (simplified version with\r\nnames, that make it easier to follow):\r\n\r\n```groovy\r\n\r\nclass SuperSuper {\r\n\tSuperSuper() {\r\n\t\tprintln &quot;default&quot;\r\n\t}\r\n\tSuperSuper(text) {\r\n\t\tprintln &quot;hello, $text&quot;\r\n\t}\r\n}\r\n\r\nclass Super extends SuperSuper {}\r\n\r\nclass Clazz extends Super {\r\n\tClazz() {\r\n\t\tsuper(&quot;World&quot;)\r\n\t}\r\n}\r\n\r\nnew Clazz()\r\n// → Caught: groovy.lang.GroovyRuntimeException: Could not find matching constructor for: Super(String)\r\n```\r\n\r\n`Super` only &quot;inherits&quot; the one c&#39;tor from `SuperSuper` without\r\narguments.  So `super()` in the c&#39;tor of `Clazz` will work (and print\r\n`default`).\r\n\r\nThe solution here is to make the in-between-super-class to inherit _all_\r\nconstructors from their super class with `@InheritConstructors`:\r\n\r\n```groovy\r\nclass SuperSuper {\r\n\tSuperSuper() {\r\n\t\tprintln &quot;default&quot;\r\n\t}\r\n\tSuperSuper(text) {\r\n\t\tprintln &quot;hello, $text&quot;\r\n\t}\r\n}\r\n\r\n@groovy.transform.InheritConstructors // XXX\r\nclass Super extends SuperSuper {}\r\n\r\nclass Clazz extends Super {\r\n\tClazz() {\r\n\t\tsuper(&quot;World&quot;)\r\n\t}\r\n}\r\n\r\nnew Clazz()\r\n```\r\n\r\nOr of course go the route of being explicit and write the c&#39;tors out in\r\n`Super` you actually want to use.\r\n\r\nAdditional infos:\r\n\r\n- https://stackoverflow.com/questions/525548/default-constructors-and-inheritance-in-java\r\n- https://stackoverflow.com/questions/1644317/java-constructor-inheritance","title":"Constructor issue when extending an abstract class that extends another abstract class","body":"<p>The problem here is like this:  Java and also Groovy does not have\nconstructor inheritance - it only implies argument-less ones for\nsubclasses, if you have not defined a c'tor in a sub-class.</p>\n<p>So this fails with the error you have seen (simplified version with\nnames, that make it easier to follow):</p>\n<pre><code>\nclass SuperSuper {\n    SuperSuper() {\n        println &quot;default&quot;\n    }\n    SuperSuper(text) {\n        println &quot;hello, $text&quot;\n    }\n}\n\nclass Super extends SuperSuper {}\n\nclass Clazz extends Super {\n    Clazz() {\n        super(&quot;World&quot;)\n    }\n}\n\nnew Clazz()\n// → Caught: groovy.lang.GroovyRuntimeException: Could not find matching constructor for: Super(String)\n</code></pre>\n<p><code>Super</code> only &quot;inherits&quot; the one c'tor from <code>SuperSuper</code> without\narguments.  So <code>super()</code> in the c'tor of <code>Clazz</code> will work (and print\n<code>default</code>).</p>\n<p>The solution here is to make the in-between-super-class to inherit <em>all</em>\nconstructors from their super class with <code>@InheritConstructors</code>:</p>\n<pre><code>class SuperSuper {\n    SuperSuper() {\n        println &quot;default&quot;\n    }\n    SuperSuper(text) {\n        println &quot;hello, $text&quot;\n    }\n}\n\n@groovy.transform.InheritConstructors // XXX\nclass Super extends SuperSuper {}\n\nclass Clazz extends Super {\n    Clazz() {\n        super(&quot;World&quot;)\n    }\n}\n\nnew Clazz()\n</code></pre>\n<p>Or of course go the route of being explicit and write the c'tors out in\n<code>Super</code> you actually want to use.</p>\n<p>Additional infos:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/525548/default-constructors-and-inheritance-in-java\">Default constructors and inheritance in Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/1644317/java-constructor-inheritance\">Java Constructor Inheritance</a></li>\n</ul>\n"}],"owner":{"account_id":2309337,"reputation":3776,"user_id":2027839,"accept_rate":71,"display_name":"Mike Warren"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69973693,"answer_count":1,"score":2,"last_activity_date":1636975700,"creation_date":1636972758,"question_id":69973041,"body_markdown":"For whatever reason, I face issue when extending an abstract class, that extend a base abstract class, with implementation like this : \r\n\r\n`ContractBuilder.groovy`:\r\n\r\n```\r\npackage com.xxx.builders\r\n\r\nimport static com.kms.katalon.core.testdata.TestDataFactory.findTestData\r\n\r\nimport com.xxx.enums.Frequency\r\nimport com.xxx.enums.Signatory\r\nimport com.xxx.models.contract.ContractModel\r\nimport com.xxx.models.contract.details.BankDetailModel\r\nimport com.xxx.utils.SMDDateUtils\r\n\r\npublic class ContractBuilder extends BaseFinderBuilder&lt;ContractModel&gt; {\r\n\r\n\tpublic ContractBuilder() {\r\n\t\tsuper(findTestData(&#39;PracticeContractData&#39;))\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ContractModel createModelFromRow(List&lt;Object&gt; row) {\r\n\t\treturn new ContractModel(\r\n\t\t\t\tInteger.parseInt(row[0]),\r\n\t\t\t\tSMDDateUtils.toDate(row[2]),\r\n\t\t\t\tSMDDateUtils.toDate(row[3]),\r\n\t\t\t\tInteger.parseInt(row[4]),\r\n\t\t\t\trow[6],\r\n\t\t\t\tDouble.parseDouble(row[5]),\r\n\t\t\t\tFrequency.valueOfText(row[7]),\r\n\t\t\t\tInteger.parseInt(row[8]),\r\n\t\t\t\tInteger.parseInt(row[10]),\r\n\t\t\t\t(row[11] == &#39;Y&#39;),\r\n\t\t\t\tInteger.parseInt(row[12]),\r\n\t\t\t\trow[13],\r\n\t\t\t\tSignatory.valueOfText(row[14]),\r\n\t\t\t\tthis.createBankDetailModel(row),\r\n\t\t\t\tDouble.valueOf(row[18]),\r\n\t\t\t\t)\r\n\t}\r\n\r\n\tpublic BankDetailModel createBankDetailModel(row) {\r\n\t\treturn new BankDetailModel(Double.valueOf(row[15]), Double.valueOf(row[16]), Double.valueOf(row[17]));\r\n\t}\r\n}\r\n```\r\n\r\n`BaseFinderBuilder.groovy`:\r\n\r\n```\r\npackage com.xxx.builders\r\n\r\npublic abstract class BaseFinderBuilder&lt;T&gt; extends BaseModelBuilder&lt;T&gt;{\r\n\r\n\tprotected int primaryKeyIdx = 1;\r\n\r\n\tpublic T createModelFromID(int id) {\r\n\t\treturn this.createModelFromRowNum(this.findIndex(id));\r\n\t}\r\n\r\n\tprotected int findIndex(int foreignKey) {\r\n\t\tfor (int rowIdx = 0; rowIdx &lt; this.testData.getRowNumbers(); rowIdx++) {\r\n\t\t\tif (Integer.parseInt(this.testData.getValue(this.primaryKeyIdx, rowIdx + 1)) == foreignKey) {\r\n\t\t\t\treturn rowIdx\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn -1\r\n\t}\r\n}\r\n```\r\n\r\n`BaseModelBuilder.groovy`:\r\n\r\n```\r\npackage com.xxx.builders\r\n\r\nimport java.util.stream.Collectors\r\n\r\nimport com.kms.katalon.core.testdata.TestData\r\n\r\npublic abstract class BaseModelBuilder&lt;T&gt; {\r\n\tprotected TestData testData;\r\n\r\n\tpublic BaseModelBuilder() {\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tpublic BaseModelBuilder(TestData testData) {\r\n\t\tthis.testData = testData;\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprotected void init() {\r\n\t\t// implementation go here\r\n\t}\r\n\r\n\tpublic List&lt;T&gt; createModels() {\r\n\t\treturn this.testData.getAllData()\r\n\t\t\t\t.stream()\r\n\t\t\t\t.filter { row -&gt;\r\n\t\t\t\t\trow.stream().anyMatch { String cell -&gt;\r\n\t\t\t\t\t\tcell != null &amp;&amp; !cell.isEmpty()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.map { row -&gt; this.createModelFromRow(row) }\r\n\t\t\t\t.collect(Collectors.toList())\r\n\t}\r\n\r\n\tpublic T createModelFromRowNum(int rowNum) {\r\n\t\treturn this.createModelFromRow(this.testData.getAllData().get(rowNum))\r\n\t}\r\n\r\n\tpublic abstract T createModelFromRow(List&lt;Object&gt; row)\r\n}\r\n```\r\n\r\nWhen I run a test case that is using the `ContractBuilder`, I face the following issue: \r\n\r\n```\r\ngroovy.lang.GroovyRuntimeException: Could not find matching constructor for: com.xxx.builders.BaseFinderBuilder(com.kms.katalon.core.testdata.reader.SheetPOI)\r\n\tat com.xxx.builders.ContractBuilder.&lt;init&gt;(ContractBuilder.groovy:14)\r\n\tat com.xxx.builders.PracticeBuilder.init(PracticeBuilder.groovy:26)\r\n\tat com.xxx.builders.BaseModelBuilder.&lt;init&gt;(BaseModelBuilder.groovy:16)\r\n\tat com.xxx.builders.PracticeBuilder.&lt;init&gt;(PracticeBuilder.groovy:20)\r\n\tat New Zoho - 02 Create Practice.run(New Zoho - 02 Create Practice:15)\r\n```\r\n\r\n## What do you think is causing it?\r\n\r\nIt looks like not having explicit constructors on the derived abstract class is causing this. \r\n\r\nHow&#39;s come the constructors don&#39;t inherit all the way down the inheritance chain?","title":"Constructor issue when extending an abstract class that extends another abstract class","body":"<p>For whatever reason, I face issue when extending an abstract class, that extend a base abstract class, with implementation like this :</p>\n<p><code>ContractBuilder.groovy</code>:</p>\n<pre><code>package com.xxx.builders\n\nimport static com.kms.katalon.core.testdata.TestDataFactory.findTestData\n\nimport com.xxx.enums.Frequency\nimport com.xxx.enums.Signatory\nimport com.xxx.models.contract.ContractModel\nimport com.xxx.models.contract.details.BankDetailModel\nimport com.xxx.utils.SMDDateUtils\n\npublic class ContractBuilder extends BaseFinderBuilder&lt;ContractModel&gt; {\n\n    public ContractBuilder() {\n        super(findTestData('PracticeContractData'))\n    }\n\n    @Override\n    public ContractModel createModelFromRow(List&lt;Object&gt; row) {\n        return new ContractModel(\n                Integer.parseInt(row[0]),\n                SMDDateUtils.toDate(row[2]),\n                SMDDateUtils.toDate(row[3]),\n                Integer.parseInt(row[4]),\n                row[6],\n                Double.parseDouble(row[5]),\n                Frequency.valueOfText(row[7]),\n                Integer.parseInt(row[8]),\n                Integer.parseInt(row[10]),\n                (row[11] == 'Y'),\n                Integer.parseInt(row[12]),\n                row[13],\n                Signatory.valueOfText(row[14]),\n                this.createBankDetailModel(row),\n                Double.valueOf(row[18]),\n                )\n    }\n\n    public BankDetailModel createBankDetailModel(row) {\n        return new BankDetailModel(Double.valueOf(row[15]), Double.valueOf(row[16]), Double.valueOf(row[17]));\n    }\n}\n</code></pre>\n<p><code>BaseFinderBuilder.groovy</code>:</p>\n<pre><code>package com.xxx.builders\n\npublic abstract class BaseFinderBuilder&lt;T&gt; extends BaseModelBuilder&lt;T&gt;{\n\n    protected int primaryKeyIdx = 1;\n\n    public T createModelFromID(int id) {\n        return this.createModelFromRowNum(this.findIndex(id));\n    }\n\n    protected int findIndex(int foreignKey) {\n        for (int rowIdx = 0; rowIdx &lt; this.testData.getRowNumbers(); rowIdx++) {\n            if (Integer.parseInt(this.testData.getValue(this.primaryKeyIdx, rowIdx + 1)) == foreignKey) {\n                return rowIdx\n            }\n        }\n\n        return -1\n    }\n}\n</code></pre>\n<p><code>BaseModelBuilder.groovy</code>:</p>\n<pre><code>package com.xxx.builders\n\nimport java.util.stream.Collectors\n\nimport com.kms.katalon.core.testdata.TestData\n\npublic abstract class BaseModelBuilder&lt;T&gt; {\n    protected TestData testData;\n\n    public BaseModelBuilder() {\n        this.init();\n    }\n\n    public BaseModelBuilder(TestData testData) {\n        this.testData = testData;\n        this.init();\n    }\n\n    protected void init() {\n        // implementation go here\n    }\n\n    public List&lt;T&gt; createModels() {\n        return this.testData.getAllData()\n                .stream()\n                .filter { row -&gt;\n                    row.stream().anyMatch { String cell -&gt;\n                        cell != null &amp;&amp; !cell.isEmpty()\n                    }\n                }\n                .map { row -&gt; this.createModelFromRow(row) }\n                .collect(Collectors.toList())\n    }\n\n    public T createModelFromRowNum(int rowNum) {\n        return this.createModelFromRow(this.testData.getAllData().get(rowNum))\n    }\n\n    public abstract T createModelFromRow(List&lt;Object&gt; row)\n}\n</code></pre>\n<p>When I run a test case that is using the <code>ContractBuilder</code>, I face the following issue:</p>\n<pre><code>groovy.lang.GroovyRuntimeException: Could not find matching constructor for: com.xxx.builders.BaseFinderBuilder(com.kms.katalon.core.testdata.reader.SheetPOI)\n    at com.xxx.builders.ContractBuilder.&lt;init&gt;(ContractBuilder.groovy:14)\n    at com.xxx.builders.PracticeBuilder.init(PracticeBuilder.groovy:26)\n    at com.xxx.builders.BaseModelBuilder.&lt;init&gt;(BaseModelBuilder.groovy:16)\n    at com.xxx.builders.PracticeBuilder.&lt;init&gt;(PracticeBuilder.groovy:20)\n    at New Zoho - 02 Create Practice.run(New Zoho - 02 Create Practice:15)\n</code></pre>\n<h2>What do you think is causing it?</h2>\n<p>It looks like not having explicit constructors on the derived abstract class is causing this.</p>\n<p>How's come the constructors don't inherit all the way down the inheritance chain?</p>\n"},{"tags":["java","swing","netbeans"],"owner":{"account_id":23342547,"reputation":11,"user_id":17417266,"display_name":"Zack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636975655,"creation_date":1636973999,"question_id":69973303,"body_markdown":"I wanna move the text radio button to label other form\r\n\r\nI already using string to move other form but still can&#39;t\r\n\r\nI have 2 variable radio button : 1. **RBYa** and 2. **RBTidak**\r\n\r\nand I want the text still get selected from radio button\r\n\r\ncode\r\n```\r\nprivate void btnHitungActionPerformed(java.awt.event.ActionEvent evt) { \r\n         if (RBYa.isSelected()){\r\n                        LBAntar.setText(&quot;35000&quot;);\r\n                        RBYa.getText();\r\n                    }\r\n        \r\n        if(RBTidak.isSelected()){\r\n                        LBAntar.setText(&quot;0&quot;);\r\n                        RBTidak.getText();\r\n                    }\r\n\r\n    private void BTNTampilActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        // TODO add your handling code here:\r\n        nota pindah=new nota();\r\n\r\n        pindah.LBJenis2.setText(CBJenis.getSelectedItem()+&quot;&quot;);\r\n        pindah.LBNama2.setText(TFNama.getText());\r\n        pindah.LBJumlah2.setText(TFJumlah.getText());\r\n        pindah.LBAntar2.            // here I want to enter the text of the radio button\r\n        pindah.LBTotal2.setText(TFTotal.getText());\r\n        \r\n        pindah.setVisible(true);\r\n    }             \r\n```","title":"how to get value of text radio button to other form in java netbeans","body":"<p>I wanna move the text radio button to label other form</p>\n<p>I already using string to move other form but still can't</p>\n<p>I have 2 variable radio button : 1. <strong>RBYa</strong> and 2. <strong>RBTidak</strong></p>\n<p>and I want the text still get selected from radio button</p>\n<p>code</p>\n<pre><code>private void btnHitungActionPerformed(java.awt.event.ActionEvent evt) { \n         if (RBYa.isSelected()){\n                        LBAntar.setText(&quot;35000&quot;);\n                        RBYa.getText();\n                    }\n        \n        if(RBTidak.isSelected()){\n                        LBAntar.setText(&quot;0&quot;);\n                        RBTidak.getText();\n                    }\n\n    private void BTNTampilActionPerformed(java.awt.event.ActionEvent evt) {                                          \n        // TODO add your handling code here:\n        nota pindah=new nota();\n\n        pindah.LBJenis2.setText(CBJenis.getSelectedItem()+&quot;&quot;);\n        pindah.LBNama2.setText(TFNama.getText());\n        pindah.LBJumlah2.setText(TFJumlah.getText());\n        pindah.LBAntar2.            // here I want to enter the text of the radio button\n        pindah.LBTotal2.setText(TFTotal.getText());\n        \n        pindah.setVisible(true);\n    }             \n</code></pre>\n"},{"tags":["java","string","enums","hashmap","enum-map"],"comments":[{"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"score":1,"creation_date":1621271983,"post_id":67574088,"comment_id":119440105,"body_markdown":"Your case is made complex because your enum constants are members of different types.  In particular, `EnumMap` requires that the constants that serve as keys in the map all be members of the same enum class.  It is not possible to create an `EnumMap` with a non-concrete type token, unfortunately.  A workaround for your use case would be to make the enum types implement a common interface, and then to use the interface type as the map keys.  You will not be able to use the `EnumMap` class in this solution,, though.","body":"Your case is made complex because your enum constants are members of different types.  In particular, <code>EnumMap</code> requires that the constants that serve as keys in the map all be members of the same enum class.  It is not possible to create an <code>EnumMap</code> with a non-concrete type token, unfortunately.  A workaround for your use case would be to make the enum types implement a common interface, and then to use the interface type as the map keys.  You will not be able to use the <code>EnumMap</code> class in this solution,, though."},{"owner":{"account_id":3192257,"reputation":1159,"user_id":2696258,"accept_rate":38,"display_name":"user2696258"},"score":0,"creation_date":1621274185,"post_id":67574088,"comment_id":119440991,"body_markdown":"Okay thanks. I am also planning to use Maps only. My main question is actually the #1, on how I can convert the maps elegantly?","body":"Okay thanks. I am also planning to use Maps only. My main question is actually the #1, on how I can convert the maps elegantly?"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636975319,"creation_date":1621274441,"answer_id":67574842,"question_id":67574088,"body_markdown":"Multi-level `Map` conversions are easier if you define simple utility methods to manage transformation from `Map&lt;K,V&gt; to Map&lt;X,Y&gt;` and `List&lt;X&gt; to List&lt;Y&gt;`:\r\n\r\n    static &lt;X,Y&gt; List&lt;Y&gt; toList(List&lt;X&gt; list, Function&lt;X,Y&gt; valueMapper) {\r\n        return list.stream().map(valueMapper).toList();\r\n    }\r\n\r\n    static &lt;K,V,X,Y&gt; Map&lt;X, Y&gt; toMap(Map&lt;K, V&gt; map, Function&lt;K,X&gt; keyMapper, Function&lt;V,Y&gt; valueMapper) {\r\n        return map.entrySet().stream()\r\n                  .collect(Collectors.toMap(entry -&gt; keyMapper.apply(entry.getKey()),\r\n                                            entry -&gt; valueMapper.apply(entry.getValue())));\r\n    }\r\n\r\nWith these definitions your transformation is reduced to applications of the above:\r\n\r\n    Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; in = Map.of(\r\n            &quot;APPLE&quot;,   Map.of(&quot;APPLE&quot;, List.of(&quot;RADDISH&quot;)\r\n                             ,&quot;BANANA&quot;, List.of(&quot;ONION&quot;, &quot;RADDISH&quot;))\r\n            ,&quot;BANANA&quot;, Map.of(&quot;APPLE&quot;, List.of(&quot;ONION&quot;, &quot;RADDISH&quot;)\r\n                             , &quot;BANANA&quot;, List.of(&quot;ONION&quot;))\r\n            );\r\n\r\n    Map&lt;ENUM_A, Map&lt;ENUM_A, List&lt;ENUM_B&gt;&gt;&gt; map  \r\n        = toMap(in, ENUM_A::valueOf,\r\n                    m -&gt; toMap(m, ENUM_A::valueOf, \r\n                                  list -&gt; toList(list, ENUM_B::valueOf)));\r\n\r\n    =&gt;\r\n    map ={BANANA={BANANA=[ONION]\r\n                 , APPLE=[ONION, RADDISH]}\r\n        , APPLE={BANANA=[ONION, RADDISH]\r\n                 , APPLE=[RADDISH]}}\r\n\r\n\r\n\r\n","title":"Converting a map of string key-values to enum key-values in Java","body":"<p>Multi-level <code>Map</code> conversions are easier if you define simple utility methods to manage transformation from <code>Map&lt;K,V&gt; to Map&lt;X,Y&gt;</code> and <code>List&lt;X&gt; to List&lt;Y&gt;</code>:</p>\n<pre><code>static &lt;X,Y&gt; List&lt;Y&gt; toList(List&lt;X&gt; list, Function&lt;X,Y&gt; valueMapper) {\n    return list.stream().map(valueMapper).toList();\n}\n\nstatic &lt;K,V,X,Y&gt; Map&lt;X, Y&gt; toMap(Map&lt;K, V&gt; map, Function&lt;K,X&gt; keyMapper, Function&lt;V,Y&gt; valueMapper) {\n    return map.entrySet().stream()\n              .collect(Collectors.toMap(entry -&gt; keyMapper.apply(entry.getKey()),\n                                        entry -&gt; valueMapper.apply(entry.getValue())));\n}\n</code></pre>\n<p>With these definitions your transformation is reduced to applications of the above:</p>\n<pre><code>Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; in = Map.of(\n        &quot;APPLE&quot;,   Map.of(&quot;APPLE&quot;, List.of(&quot;RADDISH&quot;)\n                         ,&quot;BANANA&quot;, List.of(&quot;ONION&quot;, &quot;RADDISH&quot;))\n        ,&quot;BANANA&quot;, Map.of(&quot;APPLE&quot;, List.of(&quot;ONION&quot;, &quot;RADDISH&quot;)\n                         , &quot;BANANA&quot;, List.of(&quot;ONION&quot;))\n        );\n\nMap&lt;ENUM_A, Map&lt;ENUM_A, List&lt;ENUM_B&gt;&gt;&gt; map  \n    = toMap(in, ENUM_A::valueOf,\n                m -&gt; toMap(m, ENUM_A::valueOf, \n                              list -&gt; toList(list, ENUM_B::valueOf)));\n\n=&gt;\nmap ={BANANA={BANANA=[ONION]\n             , APPLE=[ONION, RADDISH]}\n    , APPLE={BANANA=[ONION, RADDISH]\n             , APPLE=[RADDISH]}}\n</code></pre>\n"}],"owner":{"account_id":3192257,"reputation":1159,"user_id":2696258,"accept_rate":38,"display_name":"user2696258"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1034,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636975319,"creation_date":1621270942,"question_id":67574088,"body_markdown":"I have a map read from  my static config in the following format: \r\n```Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; dependentPluginEntityMapString```. \r\nThe string values in this map are actually from ENUMs and the correct and required representation of the map is ```Map&lt;ENUM_A, Map&lt;ENUM_A, List&lt;ENUM_B&gt;&gt;&gt;```.\r\n\r\n```\r\nENUM_A {\r\n APPLE, BANANA\r\n}\r\n\r\nENUM_B {\r\nONION, RADDISH\r\n}\r\n```\r\n\r\n1. How can I convert the map of strings to the one with enums ```Map&lt;ENUM_A, Map&lt;ENUM_A, List&lt;ENUM_B&gt;&gt;&gt;``` for more type safety?\r\n\r\nI know, I can iterate on the string map (using for or streams) and create a new map with enums as required but looking for a better/more efficient and an elegant way of doing that?\r\n\r\nThis is my brute solution. Can i do better?\r\n\r\n```\r\nfinal Map&lt;ENUM_A, Map&lt;ENUM_A, List&lt;ENUM_B&gt;&gt;&gt; dependentPluginEntityMap = new HashMap&lt;&gt;();\r\n\r\n        for (Map.Entry&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; dependentPluginEntry:\r\n                dependentPluginEntityMapFromAppConfig.entrySet()) {\r\n            final Map&lt;ENUM_A, List&lt;ENUM_B&gt;&gt; independentPluginMapForEntry = new HashMap&lt;&gt;();\r\n\r\n            if (MapUtils.isNotEmpty(dependentPluginEntry.getValue())) {\r\n                for (Map.Entry&lt;String, List&lt;String&gt;&gt; independentPluginEntry:\r\n                        dependentPluginEntry.getValue().entrySet()) {\r\n                    if (CollectionUtils.isNotEmpty(independentPluginEntry.getValue())) {\r\n                        independentPluginMapForEntry.put(ENUM_A.valueOf(independentPluginEntry.getKey()),\r\n                                independentPluginEntry.getValue().stream().map(value -&gt; ENUM_B.valueOf(value))\r\n                                        .collect(Collectors.toList()));\r\n                    }\r\n                }\r\n            }\r\n            dependentPluginEntityMap.put(ENUM_A.valueOf(dependentPluginEntry.getKey()),\r\n                    independentPluginMapForEntry);\r\n        }\r\n\r\n```\r\n\r\n2. Should I convert the map of strings to ENUMMAP , instead of map with enum keys? Will it work with my nested map structure?\r\n\r\nAny leads apprecciated.","title":"Converting a map of string key-values to enum key-values in Java","body":"<p>I have a map read from  my static config in the following format:\n<code>Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; dependentPluginEntityMapString</code>.\nThe string values in this map are actually from ENUMs and the correct and required representation of the map is <code>Map&lt;ENUM_A, Map&lt;ENUM_A, List&lt;ENUM_B&gt;&gt;&gt;</code>.</p>\n<pre><code>ENUM_A {\n APPLE, BANANA\n}\n\nENUM_B {\nONION, RADDISH\n}\n</code></pre>\n<ol>\n<li>How can I convert the map of strings to the one with enums <code>Map&lt;ENUM_A, Map&lt;ENUM_A, List&lt;ENUM_B&gt;&gt;&gt;</code> for more type safety?</li>\n</ol>\n<p>I know, I can iterate on the string map (using for or streams) and create a new map with enums as required but looking for a better/more efficient and an elegant way of doing that?</p>\n<p>This is my brute solution. Can i do better?</p>\n<pre><code>final Map&lt;ENUM_A, Map&lt;ENUM_A, List&lt;ENUM_B&gt;&gt;&gt; dependentPluginEntityMap = new HashMap&lt;&gt;();\n\n        for (Map.Entry&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; dependentPluginEntry:\n                dependentPluginEntityMapFromAppConfig.entrySet()) {\n            final Map&lt;ENUM_A, List&lt;ENUM_B&gt;&gt; independentPluginMapForEntry = new HashMap&lt;&gt;();\n\n            if (MapUtils.isNotEmpty(dependentPluginEntry.getValue())) {\n                for (Map.Entry&lt;String, List&lt;String&gt;&gt; independentPluginEntry:\n                        dependentPluginEntry.getValue().entrySet()) {\n                    if (CollectionUtils.isNotEmpty(independentPluginEntry.getValue())) {\n                        independentPluginMapForEntry.put(ENUM_A.valueOf(independentPluginEntry.getKey()),\n                                independentPluginEntry.getValue().stream().map(value -&gt; ENUM_B.valueOf(value))\n                                        .collect(Collectors.toList()));\n                    }\n                }\n            }\n            dependentPluginEntityMap.put(ENUM_A.valueOf(dependentPluginEntry.getKey()),\n                    independentPluginMapForEntry);\n        }\n\n</code></pre>\n<ol start=\"2\">\n<li>Should I convert the map of strings to ENUMMAP , instead of map with enum keys? Will it work with my nested map structure?</li>\n</ol>\n<p>Any leads apprecciated.</p>\n"},{"tags":["java","sql","database","jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1636985930,"post_id":69973561,"comment_id":123696668,"body_markdown":"That&#39;s not possible with JPA. You would have to create your own SequenceGenerator","body":"That&#39;s not possible with JPA. You would have to create your own SequenceGenerator"},{"owner":{"account_id":15738788,"reputation":294,"user_id":11356914,"display_name":"Manu"},"score":0,"creation_date":1637055966,"post_id":69973561,"comment_id":123716969,"body_markdown":"There is really no alternative? Maybe if i changed the database schema in some way?","body":"There is really no alternative? Maybe if i changed the database schema in some way?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1637057523,"post_id":69973561,"comment_id":123717611,"body_markdown":"No because a sequence is independent for each entity. You could create a database trigger that sets the ID and then use GenerationType.IDENTITY","body":"No because a sequence is independent for each entity. You could create a database trigger that sets the ID and then use GenerationType.IDENTITY"}],"owner":{"account_id":15738788,"reputation":294,"user_id":11356914,"display_name":"Manu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636975123,"creation_date":1636975123,"question_id":69973561,"body_markdown":"i am using JPA with EclipseLink and i am having a database table that looks like the following:\r\n\r\n| DELIVERY_NR | COMPANY_NR | .... |\r\n| --- | --- | --- |\r\n\r\nwhile `DELIVERY_NR` and `COMPANY_NR` is the composed primary key.\r\n\r\n## What I need to do\r\n\r\n`DELIVERY_NR` needs to start at 1 and i need it to auto-increment it by 1 for each value of `COMPANY_NR`, so i would like to have the following result:\r\n\r\n| DELIVERY_NR | COMPANY_NR | .... |\r\n| --- | --- | ---\r\n| 1 | 1337 | ... |\r\n| 2 | 1337 | ... |\r\n| 1 | 5555 | ... |\r\n| 2 | 5555 | ... |\r\n\r\nHow would i do this in a Java `Entity` ? At the moment im using `GenerationType.SEQUENCE` but this generates a sequence that just always counts up when a new entity is persisted, it does not take the value of `COMPANY_NR` into account.\r\n\r\nHere is my entity at the moment:\r\n\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;DELIVERY&quot;)\r\n@IdClass(value = Delivery.class)\r\npublic class Delivery{\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;delivery_id_generator&quot;) // deliveryNr + companyNr\r\n    @SequenceGenerator(name = &quot;delivery_id_generator&quot;, sequenceName = &quot;delivery_id_seq&quot;, allocationSize = 1)\r\n    @Column(name = &quot;DELIVERY_NR&quot;, nullable = false)\r\n    private String deliveryNr;\r\n\r\n    @Id\r\n    @Column(name = &quot;COMPANY_NR&quot;, nullable = false)\r\n    private String companyNr;\r\n\r\n    // Some more non-id columns....\r\n```","title":"JPA Auto-Increment ID for each column value","body":"<p>i am using JPA with EclipseLink and i am having a database table that looks like the following:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>DELIVERY_NR</th>\n<th>COMPANY_NR</th>\n<th>....</th>\n</tr>\n</thead>\n</table>\n</div>\n<p>while <code>DELIVERY_NR</code> and <code>COMPANY_NR</code> is the composed primary key.</p>\n<h2>What I need to do</h2>\n<p><code>DELIVERY_NR</code> needs to start at 1 and i need it to auto-increment it by 1 for each value of <code>COMPANY_NR</code>, so i would like to have the following result:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>DELIVERY_NR</th>\n<th>COMPANY_NR</th>\n<th>....</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>1337</td>\n<td>...</td>\n</tr>\n<tr>\n<td>2</td>\n<td>1337</td>\n<td>...</td>\n</tr>\n<tr>\n<td>1</td>\n<td>5555</td>\n<td>...</td>\n</tr>\n<tr>\n<td>2</td>\n<td>5555</td>\n<td>...</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>How would i do this in a Java <code>Entity</code> ? At the moment im using <code>GenerationType.SEQUENCE</code> but this generates a sequence that just always counts up when a new entity is persisted, it does not take the value of <code>COMPANY_NR</code> into account.</p>\n<p>Here is my entity at the moment:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;DELIVERY&quot;)\n@IdClass(value = Delivery.class)\npublic class Delivery{\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;delivery_id_generator&quot;) // deliveryNr + companyNr\n    @SequenceGenerator(name = &quot;delivery_id_generator&quot;, sequenceName = &quot;delivery_id_seq&quot;, allocationSize = 1)\n    @Column(name = &quot;DELIVERY_NR&quot;, nullable = false)\n    private String deliveryNr;\n\n    @Id\n    @Column(name = &quot;COMPANY_NR&quot;, nullable = false)\n    private String companyNr;\n\n    // Some more non-id columns....\n</code></pre>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":2139333,"reputation":1649,"user_id":1898397,"accept_rate":67,"display_name":"Tarun Gupta"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1442061612,"creation_date":1442061612,"answer_id":32538901,"question_id":32538754,"body_markdown":"Try this in your web.xml, note that `xmlns` points to `http://xmlns.jcp.org` \r\n\r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \r\n    \t\t http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n             version=&quot;3.1&quot;&gt;\r\n\r\nTry removing the web module entry from org.eclipse.wst.common.project.facet.core.xml save the file, Go to  &#39;Project Facets&#39; and change it to Dynamic Web Module Version 3.1.\r\n\r\n[Example](http://www.mkyong.com/web-development/the-web-xml-deployment-descriptor-examples/) ","title":"Eclipse web.xml Referenced File Error","body":"<p>Try this in your web.xml, note that <code>xmlns</code> points to <code>http://xmlns.jcp.org</code> </p>\n\n<pre><code>&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee \n         http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"\n         version=\"3.1\"&gt;\n</code></pre>\n\n<p>Try removing the web module entry from org.eclipse.wst.common.project.facet.core.xml save the file, Go to  'Project Facets' and change it to Dynamic Web Module Version 3.1.</p>\n\n<p><a href=\"http://www.mkyong.com/web-development/the-web-xml-deployment-descriptor-examples/\" rel=\"noreferrer\">Example</a> </p>\n"}],"owner":{"account_id":6942516,"reputation":73,"user_id":5328314,"display_name":"ittsmee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12112,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":32538901,"answer_count":1,"score":7,"last_activity_date":1636974899,"creation_date":1442060708,"question_id":32538754,"body_markdown":"I imported a project in eclipse as maven project - I upgraded the web-app versions from 2.5 to 3.1 because it got imported as Dynamic web Module 3.1. Now I am getting the following error :\r\n\r\n&gt; The errors below were detected when validating the file &quot;web-app_3_1.xsd&quot; via the file &quot;web.xml&quot;.  In most cases these errors can be detected by validating &quot;web-app_3_1.xsd&quot; directly.  However it is possible that errors will only occur when web-app_3_1.xsd is validated in the context of web.xml.\r\n&gt; \r\n&gt; s4s-elt-character: Non-whitespace characters are not allowed in schema elements other than xs:appinfo and xs:documentation. Saw &#39;var _U=&quot;undefined&quot;;&#39;\r\n\r\nRelated  Questions:\r\n\r\n 1. [Question1](https://stackoverflow.com/questions/13437569/what-does-this-web-xml-error-mean)\r\n 1. [Question2](https://stackoverflow.com/questions/4816330/web-app-2-5-xsd-showing-errors-when-validating-web-xml-in-eclipse)\r\n\r\nAbove 2 questions on SO point to the same issue and the answers suggests that the namespace should be javaee, which is already the case:\r\n\r\n    &lt;web-app version=&quot;3.1&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_1.xsd&quot;&gt;\r\n\r\n\r\n","title":"Eclipse web.xml Referenced File Error","body":"<p>I imported a project in eclipse as maven project - I upgraded the web-app versions from 2.5 to 3.1 because it got imported as Dynamic web Module 3.1. Now I am getting the following error :</p>\n\n<blockquote>\n  <p>The errors below were detected when validating the file \"web-app_3_1.xsd\" via the file \"web.xml\".  In most cases these errors can be detected by validating \"web-app_3_1.xsd\" directly.  However it is possible that errors will only occur when web-app_3_1.xsd is validated in the context of web.xml.</p>\n  \n  <p>s4s-elt-character: Non-whitespace characters are not allowed in schema elements other than xs:appinfo and xs:documentation. Saw 'var _U=\"undefined\";'</p>\n</blockquote>\n\n<p>Related  Questions:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/13437569/what-does-this-web-xml-error-mean\">Question1</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4816330/web-app-2-5-xsd-showing-errors-when-validating-web-xml-in-eclipse\">Question2</a></li>\n</ol>\n\n<p>Above 2 questions on SO point to the same issue and the answers suggests that the namespace should be javaee, which is already the case:</p>\n\n<pre><code>&lt;web-app version=\"3.1\" xmlns=\"http://java.sun.com/xml/ns/javaee\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_1.xsd\"&gt;\n</code></pre>\n"},{"tags":["java","recursion","parameters","scope","pass-by-value"],"answers":[{"tags":[],"owner":{"account_id":22051200,"reputation":290,"user_id":17269314,"display_name":"Florian S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636974850,"creation_date":1636974364,"answer_id":69973387,"question_id":69973231,"body_markdown":"Primitives (like int in your case) are handed by value in Java. In your first solution, it&#39;s a class attribute. In the second solution, the value is declared in findTargetSumWays() and its value is modified in helper(). This cannot work the way you implement it\r\n\r\nInstead of :\r\n```java\r\nint i=0;\r\nmodifyValue(i);\r\n```\r\n\r\nIt should be : \r\n\r\n```java\r\nint i=0;\r\ni = modifyValue(i);\r\n```","title":"Leetcode 494 Brute force recursive solution works with a variable as a attribute but doesn&#39;t work when I pass it as parameter","body":"<p>Primitives (like int in your case) are handed by value in Java. In your first solution, it's a class attribute. In the second solution, the value is declared in findTargetSumWays() and its value is modified in helper(). This cannot work the way you implement it</p>\n<p>Instead of :</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i=0;\nmodifyValue(i);\n</code></pre>\n<p>It should be :</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i=0;\ni = modifyValue(i);\n</code></pre>\n"}],"owner":{"account_id":10686979,"reputation":1,"user_id":7867234,"display_name":"alpha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636974850,"creation_date":1636973673,"question_id":69973231,"body_markdown":"I have attached the solution here. 1st one works but the second doesn&#39;t. The only change is I have moved the result variable as an attribute with global scope to a parameter in the helper function.\r\n\r\n```\r\nclass Solution {\r\n    int result = 0;\r\n\t\r\n    public int findTargetSumWays(int[] nums, int S) {\r\n        if (nums == null || nums.length == 0) return result;\r\n        helper(nums, S, 0, 0);\r\n        return result;\r\n    }\r\n    \r\n    public void helper(int[] nums, int target, int pos, long eval){\r\n        if (pos == nums.length) {\r\n            if (target == eval) result++;\r\n            return;\r\n        }\r\n        helper(nums, target, pos + 1, eval + nums[pos]);\r\n        helper(nums, target, pos + 1, eval - nums[pos]);\r\n    }\r\n}\r\n```\r\n```\r\nclass Solution {\r\n\t\r\n    public int findTargetSumWays(int[] nums, int S) {\r\n        int result = 0;\r\n        if (nums == null || nums.length == 0) return result;\r\n        helper(nums, S, 0, 0, result);\r\n        return result;\r\n    }\r\n    \r\n    public void helper(int[] nums, int target, int pos, long eval, int result){\r\n        if (pos == nums.length) {\r\n            if (target == eval) result++;\r\n            return;\r\n        }\r\n        helper(nums, target, pos + 1, eval + nums[pos], result);\r\n        helper(nums, target, pos + 1, eval - nums[pos], result);\r\n    }\r\n}\r\n```","title":"Leetcode 494 Brute force recursive solution works with a variable as a attribute but doesn&#39;t work when I pass it as parameter","body":"<p>I have attached the solution here. 1st one works but the second doesn't. The only change is I have moved the result variable as an attribute with global scope to a parameter in the helper function.</p>\n<pre><code>class Solution {\n    int result = 0;\n    \n    public int findTargetSumWays(int[] nums, int S) {\n        if (nums == null || nums.length == 0) return result;\n        helper(nums, S, 0, 0);\n        return result;\n    }\n    \n    public void helper(int[] nums, int target, int pos, long eval){\n        if (pos == nums.length) {\n            if (target == eval) result++;\n            return;\n        }\n        helper(nums, target, pos + 1, eval + nums[pos]);\n        helper(nums, target, pos + 1, eval - nums[pos]);\n    }\n}\n</code></pre>\n<pre><code>class Solution {\n    \n    public int findTargetSumWays(int[] nums, int S) {\n        int result = 0;\n        if (nums == null || nums.length == 0) return result;\n        helper(nums, S, 0, 0, result);\n        return result;\n    }\n    \n    public void helper(int[] nums, int target, int pos, long eval, int result){\n        if (pos == nums.length) {\n            if (target == eval) result++;\n            return;\n        }\n        helper(nums, target, pos + 1, eval + nums[pos], result);\n        helper(nums, target, pos + 1, eval - nums[pos], result);\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1636973072,"post_id":69973062,"comment_id":123691724,"body_markdown":"Your question is unclear and is missing information. `GameClientHandler` where is this defined and what does it contain? What are you expecting to happen with your code?","body":"Your question is unclear and is missing information. <code>GameClientHandler</code> where is this defined and what does it contain? What are you expecting to happen with your code?"},{"owner":{"account_id":5989971,"reputation":142,"user_id":6168139,"display_name":"rushi"},"score":0,"creation_date":1636973217,"post_id":69973062,"comment_id":123691792,"body_markdown":"Why would context switching cause the the while loop to break?","body":"Why would context switching cause the the while loop to break?"},{"owner":{"display_name":"user16037629"},"score":0,"creation_date":1636973260,"post_id":69973062,"comment_id":123691811,"body_markdown":"@rushi I meant the main thread could be paused and the program could go to one of the newly created threads.","body":"@rushi I meant the main thread could be paused and the program could go to one of the newly created threads."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1636973365,"post_id":69973062,"comment_id":123691849,"body_markdown":"Start your server in a separate thread.","body":"Start your server in a separate thread."},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1636973366,"post_id":69973062,"comment_id":123691851,"body_markdown":"@GoldCredential, where is `GameClient` defined?","body":"@GoldCredential, where is <code>GameClient</code> defined?"},{"owner":{"display_name":"user16037629"},"score":0,"creation_date":1636973442,"post_id":69973062,"comment_id":123691876,"body_markdown":"@Antoniossss But why? That is my question.","body":"@Antoniossss But why? That is my question."},{"owner":{"display_name":"user16037629"},"score":0,"creation_date":1636973477,"post_id":69973062,"comment_id":123691891,"body_markdown":"@kiner_shah I don&#39;t think it&#39;s relevant to the question..","body":"@kiner_shah I don&#39;t think it&#39;s relevant to the question.."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1636973551,"post_id":69973062,"comment_id":123691920,"body_markdown":"To not to block the main thread which executes the infinite loop","body":"To not to block the main thread which executes the infinite loop"},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1636973901,"post_id":69973062,"comment_id":123692046,"body_markdown":"The other threads are NOT started. Before starting a new thread, you get stuck on the `serverSocket.accept()` call which is blocking forever, waiting for some client to connect on the socket. Move that call into the handlers, perhaps, or into a separate thread. Only then will the handler thread start. Still, you&#39;d never exit the loop and therefore never start any clients, so you still need to fix that.","body":"The other threads are NOT started. Before starting a new thread, you get stuck on the <code>serverSocket.accept()</code> call which is blocking forever, waiting for some client to connect on the socket. Move that call into the handlers, perhaps, or into a separate thread. Only then will the handler thread start. Still, you&#39;d never exit the loop and therefore never start any clients, so you still need to fix that."}],"answers":[{"tags":[],"owner":{"account_id":8775035,"reputation":3254,"user_id":6560579,"display_name":"Ackdari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636973254,"creation_date":1636973254,"answer_id":69973143,"question_id":69973062,"body_markdown":"The method `GameServer.start` will only return with an exception. That is because you have the while-loop. \r\n\r\nSo your test execution will start the server and wait for someone to open a connection, but that never happens.","title":"Why can&#39;t server and client be started together?","body":"<p>The method <code>GameServer.start</code> will only return with an exception. That is because you have the while-loop.</p>\n<p>So your test execution will start the server and wait for someone to open a connection, but that never happens.</p>\n"},{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636974569,"creation_date":1636974348,"answer_id":69973382,"question_id":69973062,"body_markdown":"Let us look carefully to your test code:\r\n\r\n        GameServer server = new GameServer();\r\n\r\nOk, this lines creates a server, and the test thread is ready to execute next line\r\n\r\n        server.start(9000);\r\n\r\nOk, the test thread starts the server, and **will be ready to execute the next line when the `start` method will return**.\r\n\r\nWhat happens in `start`:\r\n\r\n        System.out.println(&quot;Server started !!!&quot;);\r\n\r\nOk, you should see that message\r\n\r\n        serverSocket = new ServerSocket(port);\r\n\r\nOk, you have created a `ServerSocket`\r\n\r\n        while (true) {\r\n            new Thread(new GameClientHandler(serverSocket.accept())).start();\r\n        }\r\n\r\nok you a waiting for a connection (at `serverSocket.accept()`), will create a new thread to handle it as soon as you will get one, and loop again.\r\n\r\nBut as this point, the test thread is waiting and will never go to the following line to start the first connection. And it will remain stuck unless *something else* (maybe another thread) starts those damned connections.\r\n","title":"Why can&#39;t server and client be started together?","body":"<p>Let us look carefully to your test code:</p>\n<pre><code>    GameServer server = new GameServer();\n</code></pre>\n<p>Ok, this lines creates a server, and the test thread is ready to execute next line</p>\n<pre><code>    server.start(9000);\n</code></pre>\n<p>Ok, the test thread starts the server, and <strong>will be ready to execute the next line when the <code>start</code> method will return</strong>.</p>\n<p>What happens in <code>start</code>:</p>\n<pre><code>    System.out.println(&quot;Server started !!!&quot;);\n</code></pre>\n<p>Ok, you should see that message</p>\n<pre><code>    serverSocket = new ServerSocket(port);\n</code></pre>\n<p>Ok, you have created a <code>ServerSocket</code></p>\n<pre><code>    while (true) {\n        new Thread(new GameClientHandler(serverSocket.accept())).start();\n    }\n</code></pre>\n<p>ok you a waiting for a connection (at <code>serverSocket.accept()</code>), will create a new thread to handle it as soon as you will get one, and loop again.</p>\n<p>But as this point, the test thread is waiting and will never go to the following line to start the first connection. And it will remain stuck unless <em>something else</em> (maybe another thread) starts those damned connections.</p>\n"}],"owner":{"display_name":"user16037629"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69973382,"answer_count":2,"score":1,"last_activity_date":1636974569,"creation_date":1636972832,"question_id":69973062,"body_markdown":"Relevant code: \r\n```lang-java\r\n @Test\r\n    public void serverTest() throws IOException {\r\n        GameServer server = new GameServer();\r\n        server.start(9000);\r\n        GameClient client1 = new GameClient();\r\n        GameClient client2 = new GameClient();\r\n        client1.startConnection(&quot;localhost&quot;, 9000);\r\n        client2.startConnection(&quot;localhost&quot;, 9000);\r\n        client1.sendMessage(&quot;Hey I am client 1&quot;);\r\n        client2.sendMessage(&quot;Hey I am client 2&quot;);\r\n\r\n    }\r\n```\r\n\r\n```lang-java\r\npublic class GameServer {\r\n    private ServerSocket serverSocket;\r\n\r\n    public void start(int port) throws IOException {\r\n        System.out.println(&quot;Server started !!!&quot;);\r\n        serverSocket = new ServerSocket(port);\r\n        while (true) {\r\n            new Thread(new GameClientHandler(serverSocket.accept())).start();\r\n        }\r\n    }\r\n\r\n    public void stop() throws IOException {\r\n        serverSocket.close();\r\n    }\r\n\r\n\r\n   private static class GameClientHandler implements Runnable {\r\n        private Socket clientSocket;\r\n        private PrintWriter out;\r\n        private BufferedReader in;\r\n\r\n        public GameClientHandler(Socket socket) {\r\n            this.clientSocket = socket;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            System.out.println(Thread.currentThread().getName());\r\n            try {\r\n                out = new PrintWriter(clientSocket.getOutputStream(), true);\r\n                in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n\r\n                String inputLine = in.readLine();\r\n                while ((inputLine = in.readLine()) != null){\r\n                    System.out.print(inputLine);\r\n                }\r\n\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\n\r\n            try {\r\n                in.close();\r\n                out.close();\r\n                clientSocket.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n    }\r\n```\r\n\r\nWhy can&#39;t the server and client be started together in the `@Test`? I think it gets stuck in the infinite while loop but at the same time, shouldn&#39;t there be context switching with the new threads started after accepting the connection? \r\n\r\nI expected at least the name of the 2 new threads to be printed but it doesn&#39;t happen. ","title":"Why can&#39;t server and client be started together?","body":"<p>Relevant code:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Test\n    public void serverTest() throws IOException {\n        GameServer server = new GameServer();\n        server.start(9000);\n        GameClient client1 = new GameClient();\n        GameClient client2 = new GameClient();\n        client1.startConnection(&quot;localhost&quot;, 9000);\n        client2.startConnection(&quot;localhost&quot;, 9000);\n        client1.sendMessage(&quot;Hey I am client 1&quot;);\n        client2.sendMessage(&quot;Hey I am client 2&quot;);\n\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class GameServer {\n    private ServerSocket serverSocket;\n\n    public void start(int port) throws IOException {\n        System.out.println(&quot;Server started !!!&quot;);\n        serverSocket = new ServerSocket(port);\n        while (true) {\n            new Thread(new GameClientHandler(serverSocket.accept())).start();\n        }\n    }\n\n    public void stop() throws IOException {\n        serverSocket.close();\n    }\n\n\n   private static class GameClientHandler implements Runnable {\n        private Socket clientSocket;\n        private PrintWriter out;\n        private BufferedReader in;\n\n        public GameClientHandler(Socket socket) {\n            this.clientSocket = socket;\n        }\n\n        @Override\n        public void run() {\n            System.out.println(Thread.currentThread().getName());\n            try {\n                out = new PrintWriter(clientSocket.getOutputStream(), true);\n                in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n\n                String inputLine = in.readLine();\n                while ((inputLine = in.readLine()) != null){\n                    System.out.print(inputLine);\n                }\n\n\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n\n\n            try {\n                in.close();\n                out.close();\n                clientSocket.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n        }\n    }\n</code></pre>\n<p>Why can't the server and client be started together in the <code>@Test</code>? I think it gets stuck in the infinite while loop but at the same time, shouldn't there be context switching with the new threads started after accepting the connection?</p>\n<p>I expected at least the name of the 2 new threads to be printed but it doesn't happen.</p>\n"},{"tags":["java","timezone","timezone-offset"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1636961837,"post_id":69970731,"comment_id":123687925,"body_markdown":"I recommend you don’t use `Calender` and `TimeZone`. Those classes are poorly designed and long outdated. Instead use for example `OffsetDateTime` and `ZoneId`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>Calender</code> and <code>TimeZone</code>. Those classes are poorly designed and long outdated. Instead use for example <code>OffsetDateTime</code> and <code>ZoneId</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":1039267,"reputation":18413,"user_id":1045704,"accept_rate":78,"display_name":"pheromix"},"score":0,"creation_date":1636961900,"post_id":69970731,"comment_id":123687940,"body_markdown":"Do they work with Java 8 ?","body":"Do they work with Java 8 ?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1636961933,"post_id":69970731,"comment_id":123687951,"body_markdown":"Yes they do. They were exactly introduced in Java 8, so are built in.","body":"Yes they do. They were exactly introduced in Java 8, so are built in."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1636962232,"post_id":69970731,"comment_id":123688034,"body_markdown":"Do I understand correctly that the data type in MySQL is `timestamp`? (A MySQL `timestamp` is in UTC always.) What is `query`? Are you using Hibernate or another JPA implementation? We’d like to have a fuller picture of your setup, design and code.","body":"Do I understand correctly that the data type in MySQL is <code>timestamp</code>? (A MySQL <code>timestamp</code> is in UTC always.) What is <code>query</code>? Are you using Hibernate or another JPA implementation? We’d like to have a fuller picture of your setup, design and code."},{"owner":{"account_id":1039267,"reputation":18413,"user_id":1045704,"accept_rate":78,"display_name":"pheromix"},"score":1,"creation_date":1636962769,"post_id":69970731,"comment_id":123688186,"body_markdown":"yes the datatype is `timestamp`.\n`query` is a native query : `javax.persistence.Query query = entityManager.createNativeQuery(sql);`","body":"yes the datatype is <code>timestamp</code>. <code>query</code> is a native query : <code>javax.persistence.Query query = entityManager.createNativeQuery(sql);</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1636971687,"post_id":69970731,"comment_id":123691198,"body_markdown":"Unrelated:  don’t use Strings to convert a `long` to an `int`.  Just write `int differenceHeureUTC = (int) TimeUnit.MILLISECONDS.toHours(differenceUTCms);`","body":"Unrelated:  don’t use Strings to convert a <code>long</code> to an <code>int</code>.  Just write <code>int differenceHeureUTC = (int) TimeUnit.MILLISECONDS.toHours(differenceUTCms);</code>"}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636974156,"creation_date":1636970902,"answer_id":69972609,"question_id":69970731,"body_markdown":"As others stated, you can use OffsetDateTime:\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\r\n\r\n\r\n    Connection connection = DriverManager.getConnection(DB_Connection.url, DB_Connection.user, DB_Connection.password);\r\n\r\n    Instant instant = Instant.now();\r\n\r\n    OffsetDateTime offsetDateTime = OffsetDateTime.ofInstant(instant, ZoneId.systemDefault());\r\n            \r\n    String update = &quot;update schedule set timestamp = ? where id = 1&quot;;\r\n    try (PreparedStatement preparedStatement = connection.prepareStatement(update)){\r\n        preparedStatement.setObject(1, offsetDateTimeUTC);\r\n        preparedStatement.executeUpdate();\r\n    }\r\n\r\nIf you wanted it in UTC:\r\n\r\n    OffsetDateTime offsetDateTimeUTC = instant.atOffset(ZoneOffset.UTC);\r\n\r\n\r\n=== Edited ===\r\n\r\nIf MySQL Does not support TimeStamp with Zone, you could get the time in UTC, and convert to LocateDateTime:\r\n\r\n\t\tInstant instant = Instant.now();\r\n\r\n\t\tOffsetDateTime time = OffsetDateTime.ofInstant(instant, ZoneId.of(&quot;UTC&quot;));\r\n\r\n\t\tLocalDateTime timeStampInUTC = time.toLocalDateTime();\r\n\r\n\t\tSystem.out.println(timeStampInUTC); //2021-11-15T11:00:51.670151200\r\n\r\n        \r\n","title":"Timezone offset is not considered with Calendar","body":"<p>As others stated, you can use OffsetDateTime:</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html</a></p>\n<pre><code>Connection connection = DriverManager.getConnection(DB_Connection.url, DB_Connection.user, DB_Connection.password);\n\nInstant instant = Instant.now();\n\nOffsetDateTime offsetDateTime = OffsetDateTime.ofInstant(instant, ZoneId.systemDefault());\n        \nString update = &quot;update schedule set timestamp = ? where id = 1&quot;;\ntry (PreparedStatement preparedStatement = connection.prepareStatement(update)){\n    preparedStatement.setObject(1, offsetDateTimeUTC);\n    preparedStatement.executeUpdate();\n}\n</code></pre>\n<p>If you wanted it in UTC:</p>\n<pre><code>OffsetDateTime offsetDateTimeUTC = instant.atOffset(ZoneOffset.UTC);\n</code></pre>\n<p>=== Edited ===</p>\n<p>If MySQL Does not support TimeStamp with Zone, you could get the time in UTC, and convert to LocateDateTime:</p>\n<pre><code>    Instant instant = Instant.now();\n\n    OffsetDateTime time = OffsetDateTime.ofInstant(instant, ZoneId.of(&quot;UTC&quot;));\n\n    LocalDateTime timeStampInUTC = time.toLocalDateTime();\n\n    System.out.println(timeStampInUTC); //2021-11-15T11:00:51.670151200\n\n    \n</code></pre>\n"}],"owner":{"account_id":1039267,"reputation":18413,"user_id":1045704,"accept_rate":78,"display_name":"pheromix"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636974156,"creation_date":1636961411,"question_id":69970731,"body_markdown":"I want to insert a timestamp column data into a MySQL column. The timezone of my location is GMT+3. Here is what I did to consider this timezone :\r\n\r\n    Calendar now = Calendar.getInstance();\r\n    TimeZone timeZone = now.getTimeZone();\r\n    int differenceUTCms = timeZone.getRawOffset();\r\n    int differenceHeureUTC = Integer.parseInt(String.valueOf(TimeUnit.MILLISECONDS.toHours(Long.valueOf(String.valueOf(differenceUTCms)))));\r\n    now.setTime(new Date());\r\n    if (differenceUTCms &lt;= 0) {\r\n    \tnow.add(Calendar.HOUR, Math.abs(differenceHeureUTC) + 3);\r\n    } else {\r\n    \tnow.add(Calendar.HOUR, Math.abs(3 - differenceHeureUTC));\r\n    }\r\n    query.setParameter(i, now.getTime());\r\n\r\nBut at runtime I still get 07:24:32 instead of 10:24:32 for the hours part ! So what is wrong ?","title":"Timezone offset is not considered with Calendar","body":"<p>I want to insert a timestamp column data into a MySQL column. The timezone of my location is GMT+3. Here is what I did to consider this timezone :</p>\n<pre><code>Calendar now = Calendar.getInstance();\nTimeZone timeZone = now.getTimeZone();\nint differenceUTCms = timeZone.getRawOffset();\nint differenceHeureUTC = Integer.parseInt(String.valueOf(TimeUnit.MILLISECONDS.toHours(Long.valueOf(String.valueOf(differenceUTCms)))));\nnow.setTime(new Date());\nif (differenceUTCms &lt;= 0) {\n    now.add(Calendar.HOUR, Math.abs(differenceHeureUTC) + 3);\n} else {\n    now.add(Calendar.HOUR, Math.abs(3 - differenceHeureUTC));\n}\nquery.setParameter(i, now.getTime());\n</code></pre>\n<p>But at runtime I still get 07:24:32 instead of 10:24:32 for the hours part ! So what is wrong ?</p>\n"},{"tags":["java","scala","apache-spark"],"comments":[{"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"score":0,"creation_date":1636975246,"post_id":69973288,"comment_id":123692552,"body_markdown":"How big is your topology data? Could the executor load the topology data so you would avoid this back and forth?","body":"How big is your topology data? Could the executor load the topology data so you would avoid this back and forth?"},{"owner":{"account_id":6502221,"reputation":1372,"user_id":5032541,"display_name":"Erwan Daniel"},"score":0,"creation_date":1636981445,"post_id":69973288,"comment_id":123694848,"body_markdown":"Can be from 1mb to 2gb at this date. The &quot;increment&quot; in the worst case scenario is about 20% of the topology size. Yeah the executors can do this, it&#39;s the &quot;cache&quot; solution I envisaged, but this require a &quot;SELECT * FROM ... WHERE autoinc &gt; ?&quot; from all the executors at the same time.\nI would prefer the driver to do this &quot;update&quot; and then push this update to the executors","body":"Can be from 1mb to 2gb at this date. The &quot;increment&quot; in the worst case scenario is about 20% of the topology size. Yeah the executors can do this, it&#39;s the &quot;cache&quot; solution I envisaged, but this require a &quot;SELECT * FROM ... WHERE autoinc &gt; ?&quot; from all the executors at the same time. I would prefer the driver to do this &quot;update&quot; and then push this update to the executors"},{"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"score":0,"creation_date":1636987548,"post_id":69973288,"comment_id":123697419,"body_markdown":"Can you talk a little more about the main process? I am curious if you cannot optimize the whole process instead of just this part… what is like to know is what you are doing with this topology data: are you joining it? Filtering it? Are you adding data from other sources? When you say you add data, is it in a relational database or just in memory?","body":"Can you talk a little more about the main process? I am curious if you cannot optimize the whole process instead of just this part… what is like to know is what you are doing with this topology data: are you joining it? Filtering it? Are you adding data from other sources? When you say you add data, is it in a relational database or just in memory?"},{"owner":{"account_id":6502221,"reputation":1372,"user_id":5032541,"display_name":"Erwan Daniel"},"score":0,"creation_date":1636988313,"post_id":69973288,"comment_id":123697774,"body_markdown":"I want to avoid sending the topology each time when the main process is already super fast. The main process is a &quot;simple&quot; ETL, fully configurable by the user depending of their need. Sometimes we get rdd of 1 partition with a big file in it, sometimes we get thousands of partitions with numerous small file in them. It&#39;s for the second case that I need to improve the topology. As the whole partition process is in milliseconds But deserialization of topology is about 5sec.","body":"I want to avoid sending the topology each time when the main process is already super fast. The main process is a &quot;simple&quot; ETL, fully configurable by the user depending of their need. Sometimes we get rdd of 1 partition with a big file in it, sometimes we get thousands of partitions with numerous small file in them. It&#39;s for the second case that I need to improve the topology. As the whole partition process is in milliseconds But deserialization of topology is about 5sec."},{"owner":{"account_id":6502221,"reputation":1372,"user_id":5032541,"display_name":"Erwan Daniel"},"score":0,"creation_date":1636988524,"post_id":69973288,"comment_id":123697881,"body_markdown":"The topology is actually a simple copy of some table in memory. Before we were doing a select for each &quot;get&quot; action, but this was really long as you can imagine. So we cache everything. And so are the &quot;update&quot; and &quot;insert&quot; operation. And then they are written on the database at the end of the main process.\nBasically, I can&#39;t know in advance how the topology will be used. It&#39;s only at runtime. Our program is actually interpreting some kind of &quot;no code&quot; configuration.\n\nWe write down the topology on a ClickHouse engine. No relation needed.","body":"The topology is actually a simple copy of some table in memory. Before we were doing a select for each &quot;get&quot; action, but this was really long as you can imagine. So we cache everything. And so are the &quot;update&quot; and &quot;insert&quot; operation. And then they are written on the database at the end of the main process. Basically, I can&#39;t know in advance how the topology will be used. It&#39;s only at runtime. Our program is actually interpreting some kind of &quot;no code&quot; configuration.  We write down the topology on a ClickHouse engine. No relation needed."},{"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"score":0,"creation_date":1636989045,"post_id":69973288,"comment_id":123698092,"body_markdown":"If you want to avoid the small files, why do t you repartition your data to avoid the data skewing?","body":"If you want to avoid the small files, why do t you repartition your data to avoid the data skewing?"},{"owner":{"account_id":6502221,"reputation":1372,"user_id":5032541,"display_name":"Erwan Daniel"},"score":0,"creation_date":1636991760,"post_id":69973288,"comment_id":123699358,"body_markdown":"It has to run in real time. I can&#39;t wait to have more files to make the batch bigger.","body":"It has to run in real time. I can&#39;t wait to have more files to make the batch bigger."}],"owner":{"account_id":6502221,"reputation":1372,"user_id":5032541,"display_name":"Erwan Daniel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636973956,"creation_date":1636973956,"question_id":69973288,"body_markdown":"**Situation :**\r\nDuring a rdd.mapPartitions operation, I need to access some common data (let&#39;s call it topology, because it is) that are loaded from databases by the driver.\r\n\r\nThe executors on each batch can update / insert inside this topology objects and at the end will write directly in database. It is NOT the result of the operation, just some attributes.\r\n\r\nAfter each batch the driver fetch the new data from the database and we start again a new batch.\r\n\r\n**Problem :**\r\nIn some scenarios, the deserialization time is huge and increase as the elements in the topology increase also. \r\n\r\n**What I tried :**\r\nFor this reason I implemented a version of our topology with Broadcast, but this solution is useless when a modification happens on all the batches, as it will have to broadcast the entire object each batch instead of only the few modifications.\r\n\r\n**Question :**\r\nI&#39;m close to replace Broadcast by a cache and fetch the new data at beginning of the batches on each executor as we can have 40 executors in the same time for one project. I don&#39;t really like this solution as it will increase the pressure on the database. I would like to have a Broadcast that I can update incrementally. \r\n\r\nDoes spark implement such feature ? \r\nIs it possible to do it ourself ?","title":"Spark update variable incrementally on executors","body":"<p><strong>Situation :</strong>\nDuring a rdd.mapPartitions operation, I need to access some common data (let's call it topology, because it is) that are loaded from databases by the driver.</p>\n<p>The executors on each batch can update / insert inside this topology objects and at the end will write directly in database. It is NOT the result of the operation, just some attributes.</p>\n<p>After each batch the driver fetch the new data from the database and we start again a new batch.</p>\n<p><strong>Problem :</strong>\nIn some scenarios, the deserialization time is huge and increase as the elements in the topology increase also.</p>\n<p><strong>What I tried :</strong>\nFor this reason I implemented a version of our topology with Broadcast, but this solution is useless when a modification happens on all the batches, as it will have to broadcast the entire object each batch instead of only the few modifications.</p>\n<p><strong>Question :</strong>\nI'm close to replace Broadcast by a cache and fetch the new data at beginning of the batches on each executor as we can have 40 executors in the same time for one project. I don't really like this solution as it will increase the pressure on the database. I would like to have a Broadcast that I can update incrementally.</p>\n<p>Does spark implement such feature ?\nIs it possible to do it ourself ?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1636970502,"post_id":69972480,"comment_id":123690768,"body_markdown":"What code is responsible for adding the scanner data to the edittext?","body":"What code is responsible for adding the scanner data to the edittext?"},{"owner":{"account_id":19124699,"reputation":62,"user_id":13967910,"display_name":"Mahsa Alamdari"},"score":0,"creation_date":1636972067,"post_id":69972480,"comment_id":123691314,"body_markdown":"There is a bluetooth scanner that show the scan result inside an EditText. There isn&#39;t any code for that. You can see the scan result in any EditText such as sms input box!","body":"There is a bluetooth scanner that show the scan result inside an EditText. There isn&#39;t any code for that. You can see the scan result in any EditText such as sms input box!"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1636972213,"post_id":69972480,"comment_id":123691368,"body_markdown":"Of course there is code for that. The code that is interacting with the scanner does not just randomly write data to a random edittext. That needs to be specified somewhere, which is in the code. This code is responsible for appending the data instead of clearing the edittext first.","body":"Of course there is code for that. The code that is interacting with the scanner does not just randomly write data to a random edittext. That needs to be specified somewhere, which is in the code. This code is responsible for appending the data instead of clearing the edittext first."},{"owner":{"account_id":19124699,"reputation":62,"user_id":13967910,"display_name":"Mahsa Alamdari"},"score":0,"creation_date":1636972651,"post_id":69972480,"comment_id":123691533,"body_markdown":"You can study about that. You will find useful information on internet about what I am saying. @f1sh","body":"You can study about that. You will find useful information on internet about what I am saying. @f1sh"},{"owner":{"account_id":19124699,"reputation":62,"user_id":13967910,"display_name":"Mahsa Alamdari"},"score":0,"creation_date":1636972767,"post_id":69972480,"comment_id":123691593,"body_markdown":"I can add that it&#39;s a handheld scanner, not camera scanner.","body":"I can add that it&#39;s a handheld scanner, not camera scanner."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1636974493,"post_id":69972480,"comment_id":123692277,"body_markdown":"You are the person having the question, why do you suggest that I study about this?","body":"You are the person having the question, why do you suggest that I study about this?"}],"answers":[{"tags":[],"owner":{"account_id":20181954,"reputation":362,"user_id":14802275,"display_name":"Sainita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636973895,"creation_date":1636973895,"answer_id":69973280,"question_id":69972480,"body_markdown":"&gt; This simple code can clear the editext , Have you tried it ?\r\n\r\n    editText.getText().clear();\r\n","title":"Is there a way to clear edittext before bluetooth barcode scanner input","body":"<blockquote>\n<p>This simple code can clear the editext , Have you tried it ?</p>\n</blockquote>\n<pre><code>editText.getText().clear();\n</code></pre>\n"}],"owner":{"account_id":19124699,"reputation":62,"user_id":13967910,"display_name":"Mahsa Alamdari"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636973895,"creation_date":1636970388,"question_id":69972480,"body_markdown":"I have an `Edittext` and I want to clear it before receiving the input from the next scan by barcode scanner. The problem is that every time I scan a barcode, the input is added to the result of previous scan like this:\r\n\r\nid=3id=12id=34\r\n\r\nI tried `beforeTextChanged` event and it doesn&#39;t work for me!\r\n","title":"Is there a way to clear edittext before bluetooth barcode scanner input","body":"<p>I have an <code>Edittext</code> and I want to clear it before receiving the input from the next scan by barcode scanner. The problem is that every time I scan a barcode, the input is added to the result of previous scan like this:</p>\n<p>id=3id=12id=34</p>\n<p>I tried <code>beforeTextChanged</code> event and it doesn't work for me!</p>\n"},{"tags":["java","arrays","printing"],"answers":[{"tags":[],"owner":{"account_id":18343563,"reputation":81,"user_id":13359215,"display_name":"WannaBe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636973675,"creation_date":1636973675,"answer_id":69973233,"question_id":69973135,"body_markdown":"When you try to print catalog[0], it returns you the data type. Here, that is java.lang.String.\r\n\r\nWhat you&#39;re looking for is:\r\n\r\n    System.out.println(Arrays.deepToString(catalog));\r\n\r\nThis will print the contents.","title":"cant print the arrays","body":"<p>When you try to print catalog[0], it returns you the data type. Here, that is java.lang.String.</p>\n<p>What you're looking for is:</p>\n<pre><code>System.out.println(Arrays.deepToString(catalog));\n</code></pre>\n<p>This will print the contents.</p>\n"}],"owner":{"account_id":22968223,"reputation":1,"user_id":17097000,"display_name":"Ngawang Tobden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636974296,"answer_count":1,"score":0,"last_activity_date":1636973811,"creation_date":1636973196,"question_id":69973135,"body_markdown":"i want to call the arrays to the method and add it in a catalog but i cant print it as it shows [[Ljava.lang.String;@7ad041f3, [Ljava.lang.String;@251a69d7, [Ljava.lang.String;@7344699f] when i print it. i think its cause of the way i called the attribute title,author and genre but i dont know how to call.\r\n\r\n   \r\n\r\n    import java.util.Scanner;\r\n    import java.util.Arrays;\r\n    public class Card{\r\n    \tString title[] = {&quot;Hairy potter&quot;,&quot;Perck Jackson&quot;,&quot;The promised Neverland&quot;,&quot;Goosebump&quot;};\r\n    \tString author[] = {&quot;j.k.Rowling&quot;,&quot;Rick Riordan&quot;,&quot;Kaiu Shirai&quot;,&quot;R.L.Stine&quot;};\r\n    \tString genre[] = {&quot;Fantasy Fiction&quot;,&quot;Adventure&quot;,&quot;Dark fantasy&quot;,&quot;Horror fiction&quot;};\r\n    \tpublic static void main(String[] args) {\r\n    \t\tCard obj = new Card();\r\n    \t\tString[] title1,author1,genre1;\r\n    \t\ttitle1 = obj.title;\r\n    \t\tauthor1 = obj.author;\r\n    \t\tgenre1 = obj.genre;\r\n    \t\tString[][] catalog = new String[3][4];\r\n    \t\tfor (int i = 0 ; i&lt;4;i++){\r\n    \t\t\tcatalog[0][i] =title1[i];\r\n    \t\t\tcatalog[1][i] =author1[i];\r\n    \t\t\tcatalog[2][i]= genre1[i]; \r\n    \t\t}\r\n    \t\tSystem.out.println((catalog[0]));\r\n    \t\tSystem.out.println(Arrays.toString(catalog));\r\n    \t}\r\n    }\r\nEdit:\r\ni had to use Arrays.deepToString(catalog)","title":"cant print the arrays","body":"<p>i want to call the arrays to the method and add it in a catalog but i cant print it as it shows [[Ljava.lang.String;@7ad041f3, [Ljava.lang.String;@251a69d7, [Ljava.lang.String;@7344699f] when i print it. i think its cause of the way i called the attribute title,author and genre but i dont know how to call.</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Arrays;\npublic class Card{\n    String title[] = {&quot;Hairy potter&quot;,&quot;Perck Jackson&quot;,&quot;The promised Neverland&quot;,&quot;Goosebump&quot;};\n    String author[] = {&quot;j.k.Rowling&quot;,&quot;Rick Riordan&quot;,&quot;Kaiu Shirai&quot;,&quot;R.L.Stine&quot;};\n    String genre[] = {&quot;Fantasy Fiction&quot;,&quot;Adventure&quot;,&quot;Dark fantasy&quot;,&quot;Horror fiction&quot;};\n    public static void main(String[] args) {\n        Card obj = new Card();\n        String[] title1,author1,genre1;\n        title1 = obj.title;\n        author1 = obj.author;\n        genre1 = obj.genre;\n        String[][] catalog = new String[3][4];\n        for (int i = 0 ; i&lt;4;i++){\n            catalog[0][i] =title1[i];\n            catalog[1][i] =author1[i];\n            catalog[2][i]= genre1[i]; \n        }\n        System.out.println((catalog[0]));\n        System.out.println(Arrays.toString(catalog));\n    }\n}\n</code></pre>\n<p>Edit:\ni had to use Arrays.deepToString(catalog)</p>\n"},{"tags":["java","scala","collections","benchmarking","standard-library"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":5,"creation_date":1636976713,"post_id":69973256,"comment_id":123693055,"body_markdown":"Short answer: **yes**. See for instance the `List` implementation: https://github.com/scala/scala/blob/2.13.x/src/library/scala/collection/immutable/List.scala","body":"Short answer: <b>yes</b>. See for instance the <code>List</code> implementation: <a href=\"https://github.com/scala/scala/blob/2.13.x/src/library/scala/collection/immutable/List.scala\" rel=\"nofollow noreferrer\">github.com/scala/scala/blob/2.13.x/src/library/scala/collect&zwnj;&#8203;ion/&hellip;</a>"}],"owner":{"account_id":13215134,"reputation":31,"user_id":9543951,"display_name":"Adalbert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1636973773,"creation_date":1636973773,"question_id":69973256,"body_markdown":"As a part of academic project I was about to microbenchmark some Java and Kotlin collections behaviours, and compare them to each other. \r\n\r\nRecently I found out, that under the hood Kotlin, when run on the JVM, uses the same implementations of collections that Java uses - only adding its own semantics over it - and the conversion is done during compilation, so no changes in runtime are observed.\r\n\r\nFrom the looks of it, Scala collections library is an entirely different world, and although it supports converting Scala to Java collections, it does so through additional converters and not because it shares the codebase, but I couldn&#39;t find a statement in the documentation that 100% confirmed it, and would like a second opinion. \r\n\r\nTL;DR - Does scala have its own unique collections implementations separate from the core Java codebase?","title":"Does Scala use Java collections implementations under the hood?","body":"<p>As a part of academic project I was about to microbenchmark some Java and Kotlin collections behaviours, and compare them to each other.</p>\n<p>Recently I found out, that under the hood Kotlin, when run on the JVM, uses the same implementations of collections that Java uses - only adding its own semantics over it - and the conversion is done during compilation, so no changes in runtime are observed.</p>\n<p>From the looks of it, Scala collections library is an entirely different world, and although it supports converting Scala to Java collections, it does so through additional converters and not because it shares the codebase, but I couldn't find a statement in the documentation that 100% confirmed it, and would like a second opinion.</p>\n<p>TL;DR - Does scala have its own unique collections implementations separate from the core Java codebase?</p>\n"},{"tags":["java","compression","lempel-ziv-76"],"comments":[{"owner":{"account_id":21495636,"reputation":97,"user_id":15840697,"display_name":"Kristina"},"score":0,"creation_date":1636973081,"post_id":69972697,"comment_id":123691728,"body_markdown":"We&#39;re thinking it might have something to do with the newline.","body":"We&#39;re thinking it might have something to do with the newline."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1636973832,"post_id":69972697,"comment_id":123692019,"body_markdown":"Maybe the streamtokenizer skips something? I think i would try to work on the bytes instead.","body":"Maybe the streamtokenizer skips something? I think i would try to work on the bytes instead."}],"owner":{"account_id":21495636,"reputation":97,"user_id":15840697,"display_name":"Kristina"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636973166,"creation_date":1636971198,"question_id":69972697,"body_markdown":"Working on a lempel-ziv decompression method, and we&#39;re having some trouble. Text lines like below won&#39;t decomress correcctly. \r\n```\r\n----------+----+----+----+----+----+----+----+----\r\n```\r\nIt becomes like below and makes a mess of the next line.\r\n\r\n```\r\n----------+----+----+----+----+----+----+----+\r\n```\r\n\r\nDo you see any faults in the code?\r\n\r\n\r\n```\r\npublic void lzDecompression(String filePath, String newFileName) throws IOException {\r\n            bReader = new BufferedReader(new FileReader(infile));\r\n            StreamTokenizer streamT = new StreamTokenizer(bReader);\r\n\r\n            //Adds charachters as ordenary characters in stream tokenizer (using \r\n            //streamT.ordenaryChar() and \r\n     \t    //streamT.wordChars()). # is special character for compression.\r\n\r\n            String outputData = &quot;&quot;;\r\n\r\n            int offset, length;\r\n            while (streamT.nextToken() != StreamTokenizer.TT_EOF) {\r\n                switch (streamT.ttype) {\r\n                    case StreamTokenizer.TT_WORD:\r\n                        searchBuffer.append(streamT.sval);\r\n                        outputData += streamT.sval;\r\n                        trimSearchBuffer();\r\n                        break;\r\n                    case StreamTokenizer.TT_NUMBER:\r\n                        offset = (int)streamT.nval;\r\n                        streamT.nextToken();\r\n\r\n                        //Checking if a word comes after the number instead of \r\n                        //separator =&gt; number was part of word\r\n                        if (streamT.ttype == StreamTokenizer.TT_WORD) {\r\n                            searchBuffer.append(offset+streamT.sval);\r\n                            outputData += offset+streamT.sval;\r\n                            break;\r\n                        }\r\n                        streamT.nextToken();\r\n                        length = (int)streamT.nval;\r\n\r\n                        String output = searchBuffer.substring(offset, offset+length);\r\n                        outputData += output;\r\n                        searchBuffer.append(output);\r\n\r\n                        trimSearchBuffer();\r\n                        break;\r\n                }\r\n            }\r\n\r\n            //Writes outputData to file\r\n        }\r\n    }\r\n```","title":"Problem with decomressing multiple equal symbols with Lempel-Ziv","body":"<p>Working on a lempel-ziv decompression method, and we're having some trouble. Text lines like below won't decomress correcctly.</p>\n<pre><code>----------+----+----+----+----+----+----+----+----\n</code></pre>\n<p>It becomes like below and makes a mess of the next line.</p>\n<pre><code>----------+----+----+----+----+----+----+----+\n</code></pre>\n<p>Do you see any faults in the code?</p>\n<pre><code>public void lzDecompression(String filePath, String newFileName) throws IOException {\n            bReader = new BufferedReader(new FileReader(infile));\n            StreamTokenizer streamT = new StreamTokenizer(bReader);\n\n            //Adds charachters as ordenary characters in stream tokenizer (using \n            //streamT.ordenaryChar() and \n            //streamT.wordChars()). # is special character for compression.\n\n            String outputData = &quot;&quot;;\n\n            int offset, length;\n            while (streamT.nextToken() != StreamTokenizer.TT_EOF) {\n                switch (streamT.ttype) {\n                    case StreamTokenizer.TT_WORD:\n                        searchBuffer.append(streamT.sval);\n                        outputData += streamT.sval;\n                        trimSearchBuffer();\n                        break;\n                    case StreamTokenizer.TT_NUMBER:\n                        offset = (int)streamT.nval;\n                        streamT.nextToken();\n\n                        //Checking if a word comes after the number instead of \n                        //separator =&gt; number was part of word\n                        if (streamT.ttype == StreamTokenizer.TT_WORD) {\n                            searchBuffer.append(offset+streamT.sval);\n                            outputData += offset+streamT.sval;\n                            break;\n                        }\n                        streamT.nextToken();\n                        length = (int)streamT.nval;\n\n                        String output = searchBuffer.substring(offset, offset+length);\n                        outputData += output;\n                        searchBuffer.append(output);\n\n                        trimSearchBuffer();\n                        break;\n                }\n            }\n\n            //Writes outputData to file\n        }\n    }\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","gradlew"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1547712353,"post_id":54221693,"comment_id":95287698,"body_markdown":"What JDK do you run IDE under (can be seen in &quot;About&quot; dialog)?","body":"What JDK do you run IDE under (can be seen in &quot;About&quot; dialog)?"},{"owner":{"account_id":29733,"reputation":2061,"user_id":80562,"accept_rate":67,"display_name":"Dime"},"score":0,"creation_date":1547729581,"post_id":54221693,"comment_id":95297285,"body_markdown":"The native JDK co-deployed with IntelliJ. I did try also to use JRE 11. The IntelliJ has started, but the problem was exactly the same. I&#39;ve just posted below the only solution that did help me so far! I hope it can be useful also someone else.","body":"The native JDK co-deployed with IntelliJ. I did try also to use JRE 11. The IntelliJ has started, but the problem was exactly the same. I&#39;ve just posted below the only solution that did help me so far! I hope it can be useful also someone else."}],"answers":[{"tags":[],"owner":{"account_id":29733,"reputation":2061,"user_id":80562,"accept_rate":67,"display_name":"Dime"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1547729461,"creation_date":1547729461,"answer_id":54236358,"question_id":54221693,"body_markdown":"The cause was the `gradle.properties` file in the `.gradle` folder in the user home. Just removing the file solves this problem with IntelliJ. \r\n\r\nStill it would be nice to know the cause of this...\r\n\r\nVery weird bug!\r\n\r\nCredits:\r\nhttps://stackoverflow.com/questions/53989697/intellij-idea-gradle-sync-problem-with-setting-gradles-java-home-to-some-jdks\r\n","title":"Gradle 5 and IntelliJ 2018.3. Unrecognized option: --add-opens or java.base.java.lang=ALL-UNNAMED","body":"<p>The cause was the <code>gradle.properties</code> file in the <code>.gradle</code> folder in the user home. Just removing the file solves this problem with IntelliJ. </p>\n\n<p>Still it would be nice to know the cause of this...</p>\n\n<p>Very weird bug!</p>\n\n<p>Credits:\n<a href=\"https://stackoverflow.com/questions/53989697/intellij-idea-gradle-sync-problem-with-setting-gradles-java-home-to-some-jdks\">IntelliJ IDEA Gradle sync: Problem with setting Gradle&#39;s Java home to some JDKs</a></p>\n"},{"tags":[],"owner":{"account_id":1158961,"reputation":783,"user_id":1138878,"display_name":"MacD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620678704,"creation_date":1620678704,"answer_id":67477342,"question_id":54221693,"body_markdown":"What worked for me is to point the IDE to your own JAVA_HOME instead of the one included in the IDE (Android Studio, though, so YMMV).","title":"Gradle 5 and IntelliJ 2018.3. Unrecognized option: --add-opens or java.base.java.lang=ALL-UNNAMED","body":"<p>What worked for me is to point the IDE to your own JAVA_HOME instead of the one included in the IDE (Android Studio, though, so YMMV).</p>\n"},{"tags":[],"owner":{"account_id":20181255,"reputation":21,"user_id":14801744,"display_name":"Swathi Jak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636973057,"creation_date":1636973057,"answer_id":69973105,"question_id":54221693,"body_markdown":"This error will occur, when you have two versions of JVM&#39;s has installed, while switching one to another version we might get this error. \r\n\r\nSolution(IntelliJ IDE): \r\nClick on your project -&gt; open module settings -&gt; go to project settings -&gt; project language level -&gt; change to 8 - Lambdas, type annotations etc.\r\n\r\nonce it has changed, rebuild your application.\r\n","title":"Gradle 5 and IntelliJ 2018.3. Unrecognized option: --add-opens or java.base.java.lang=ALL-UNNAMED","body":"<p>This error will occur, when you have two versions of JVM's has installed, while switching one to another version we might get this error.</p>\n<p>Solution(IntelliJ IDE):\nClick on your project -&gt; open module settings -&gt; go to project settings -&gt; project language level -&gt; change to 8 - Lambdas, type annotations etc.</p>\n<p>once it has changed, rebuild your application.</p>\n"}],"owner":{"account_id":29733,"reputation":2061,"user_id":80562,"accept_rate":67,"display_name":"Dime"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8525,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":54236358,"answer_count":3,"score":4,"last_activity_date":1636973057,"creation_date":1547657284,"question_id":54221693,"body_markdown":"I have a complex set of projects built by Gradle 4.10.3. I can build them from the command line, but I can also import them to IntelliJ 2018.3 Ultimate without major issues.\r\n\r\nWhen I upgrade my Gradle to 5.1.1, the projects are still building fine from the console, however I can no longer import (or refresh) the project in IntelliJ :(\r\n\r\nThe configuration part goes fine, but the daemon process could not be started within IntelliJ. If I set Gradle JVM to Java 8 in the IntelliJ project settings, I get an error:\r\n\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n    Unrecognized option: --add-opens\r\n\r\nIf I set Gradle JVM to Java 11 in the IntelliJ project settings, I get a different error:\r\n\r\n    Error: Could not find or load main class java.base.java.lang=ALL-UNNAMED\r\n    Caused by: java.lang.ClassNotFoundException: java.base.java.lang=ALL-UNNAMED\r\n\r\nAs soon as I execute `gradlew wrapper --gradle-version=4.10.3` (change back the wrapper to 4.10.3), the IntelliJ plugin works fine again.\r\n\r\nIf I add gradle idea task (idea gradle plugin) to the scripts, it executes fine from the console also with the version 5.1.1.\r\n\r\nRemoving .idea settings from the user folder did not help. Clean import did not help either. All possible settings inside IntelliJ related to Gradle (including all wrapper-related settings) are tried. Nothing helped :(\r\n\r\nThe problem seems to be so trivial, however I cannot find a solution since few days :( Where those `--add-opens` are coming from? How to prevent this?","title":"Gradle 5 and IntelliJ 2018.3. Unrecognized option: --add-opens or java.base.java.lang=ALL-UNNAMED","body":"<p>I have a complex set of projects built by Gradle 4.10.3. I can build them from the command line, but I can also import them to IntelliJ 2018.3 Ultimate without major issues.</p>\n\n<p>When I upgrade my Gradle to 5.1.1, the projects are still building fine from the console, however I can no longer import (or refresh) the project in IntelliJ :(</p>\n\n<p>The configuration part goes fine, but the daemon process could not be started within IntelliJ. If I set Gradle JVM to Java 8 in the IntelliJ project settings, I get an error:</p>\n\n<pre><code>Error: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\nUnrecognized option: --add-opens\n</code></pre>\n\n<p>If I set Gradle JVM to Java 11 in the IntelliJ project settings, I get a different error:</p>\n\n<pre><code>Error: Could not find or load main class java.base.java.lang=ALL-UNNAMED\nCaused by: java.lang.ClassNotFoundException: java.base.java.lang=ALL-UNNAMED\n</code></pre>\n\n<p>As soon as I execute <code>gradlew wrapper --gradle-version=4.10.3</code> (change back the wrapper to 4.10.3), the IntelliJ plugin works fine again.</p>\n\n<p>If I add gradle idea task (idea gradle plugin) to the scripts, it executes fine from the console also with the version 5.1.1.</p>\n\n<p>Removing .idea settings from the user folder did not help. Clean import did not help either. All possible settings inside IntelliJ related to Gradle (including all wrapper-related settings) are tried. Nothing helped :(</p>\n\n<p>The problem seems to be so trivial, however I cannot find a solution since few days :( Where those <code>--add-opens</code> are coming from? How to prevent this?</p>\n"},{"tags":["java","oop","supertype"],"comments":[{"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"score":2,"creation_date":1362037482,"post_id":15130067,"comment_id":21295576,"body_markdown":"you mean methods of super class","body":"you mean methods of super class"},{"owner":{"account_id":1628065,"reputation":3943,"user_id":1503130,"accept_rate":90,"display_name":"Prateek"},"score":0,"creation_date":1362037484,"post_id":15130067,"comment_id":21295577,"body_markdown":"If I am not wrong then it is the call using `super` to the method of the class which has been extended by another, e.g. `super.onCreate` calls the `onCreate` method of the `Activity class`","body":"If I am not wrong then it is the call using <code>super</code> to the method of the class which has been extended by another, e.g. <code>super.onCreate</code> calls the <code>onCreate</code> method of the <code>Activity class</code>"},{"owner":{"account_id":1604367,"reputation":15578,"user_id":1484739,"display_name":"TheWhiteRabbit"},"score":0,"creation_date":1362037534,"post_id":15130067,"comment_id":21295594,"body_markdown":"could you elaborate ?","body":"could you elaborate ?"},{"owner":{"account_id":1649504,"reputation":31596,"user_id":1520364,"accept_rate":70,"display_name":"Karthik T"},"score":0,"creation_date":1362037552,"post_id":15130067,"comment_id":21295599,"body_markdown":"Are you clear Object Oriented Programming first? If not I suggest starting with that.","body":"Are you clear Object Oriented Programming first? If not I suggest starting with that."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1362037596,"post_id":15130067,"comment_id":21295614,"body_markdown":"&quot;Supertype method&quot; is not an official term afaik. Can you give more context?","body":"&quot;Supertype method&quot; is not an official term afaik. Can you give more context?"},{"owner":{"account_id":1681428,"reputation":4236,"user_id":1545584,"accept_rate":54,"display_name":"Manish Dubey"},"score":1,"creation_date":1362037795,"post_id":15130067,"comment_id":21295691,"body_markdown":"Supertype is used in JAVA GENERICS.","body":"Supertype is used in JAVA GENERICS."}],"answers":[{"tags":[],"owner":{"account_id":1215131,"reputation":3802,"user_id":1207003,"accept_rate":77,"display_name":"navyad"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1481803332,"creation_date":1362039282,"answer_id":15130588,"question_id":15130067,"body_markdown":"There is a notion of supertype and subtype in OOPS, In java  this kind of relationship is implemented by inheritance i.e. using `extends` keyword:\r\n\r\n    class A {} // super class\r\n    class B extends A {} //sub class\r\n\r\nAny member (fields, methods) declared in super class is to be called supertype.\r\n\r\nTherefore in above context if class `A` has method like \r\n\r\n    class A {\r\n       void set()\r\n    }\r\n\r\nSet is supertype method for class `B`.\r\n\r\nHowever, notice that if there is another class say `C`: \r\n\r\n    class C {\r\n        void set()        \r\n    }\r\n\r\nThen `set()` method is **not supertype** for `C` class because there is no relationship between class `A` and class `C` (relationship is created by `extends` keyword, for inheritance).\r\n\r\n","title":"What is a supertype method?","body":"<p>There is a notion of supertype and subtype in OOPS, In java  this kind of relationship is implemented by inheritance i.e. using <code>extends</code> keyword:</p>\n\n<pre><code>class A {} // super class\nclass B extends A {} //sub class\n</code></pre>\n\n<p>Any member (fields, methods) declared in super class is to be called supertype.</p>\n\n<p>Therefore in above context if class <code>A</code> has method like </p>\n\n<pre><code>class A {\n   void set()\n}\n</code></pre>\n\n<p>Set is supertype method for class <code>B</code>.</p>\n\n<p>However, notice that if there is another class say <code>C</code>: </p>\n\n<pre><code>class C {\n    void set()        \n}\n</code></pre>\n\n<p>Then <code>set()</code> method is <strong>not supertype</strong> for <code>C</code> class because there is no relationship between class <code>A</code> and class <code>C</code> (relationship is created by <code>extends</code> keyword, for inheritance).</p>\n"},{"tags":[],"owner":{"account_id":461282,"reputation":5319,"user_id":1249225,"accept_rate":81,"display_name":"Krushna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1362039545,"creation_date":1362039545,"answer_id":15130650,"question_id":15130067,"body_markdown":"In java every thing are object and a method is also a object of class java.lang.reflect.Method\r\nSo the super type of method can be consider as the super class of `java.lang.reflect.Method` that is the `AccessibleObject`.","title":"What is a supertype method?","body":"<p>In java every thing are object and a method is also a object of class java.lang.reflect.Method\nSo the super type of method can be consider as the super class of <code>java.lang.reflect.Method</code> that is the <code>AccessibleObject</code>.</p>\n"},{"tags":[],"owner":{"account_id":2354504,"reputation":2179,"user_id":2062634,"accept_rate":75,"display_name":"Michael Meyer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636972889,"creation_date":1362040592,"answer_id":15130936,"question_id":15130067,"body_markdown":"if you are talking about calling a super method, you should try the following\r\n\r\n1. Create a class with a method public method e.g. `printSomething()`\r\n    ```\r\n    public void printSomething() {\r\n       System.out.println(&quot;hello, I am the first class&quot;);\r\n     }\r\n    ```\r\n2. Create a second class which inherites from the first class and override the printSomething method\r\n      ```\r\n     @override\r\n     public void printSomething() {\r\n\tsuper.printSomething();\r\n      }\r\n     ```\r\n3. Write a small programme which call the method `printSomething` of class two and see what will happen","title":"What is a supertype method?","body":"<p>if you are talking about calling a super method, you should try the following</p>\n<ol>\n<li>Create a class with a method public method e.g. <code>printSomething()</code>\n<pre><code>public void printSomething() {\n   System.out.println(&quot;hello, I am the first class&quot;);\n }\n</code></pre>\n</li>\n<li>Create a second class which inherites from the first class and override the printSomething method\n<pre><code>@override\npublic void printSomething() {\nsuper.printSomething();\n}\n</code></pre>\n</li>\n<li>Write a small programme which call the method <code>printSomething</code> of class two and see what will happen</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9161471,"reputation":11,"user_id":6812645,"display_name":"Anup Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473606154,"creation_date":1473606154,"answer_id":39437417,"question_id":15130067,"body_markdown":"Super Type and sub type is a property of inheritance i.e for the purpose of re-usability of code. I am giving you example of Super Class and Sub class. For more you can follow [here][1].\r\n\r\nusing System;\r\n\r\n    namespace MultilevelInheritance\r\n    {\r\n        public class Customer\r\n        {\r\n            public float fDis { get; set; }\r\n            public Customer()\r\n            {\r\n                Console.WriteLine(&quot;I am a normal customer.&quot;);\r\n            }\r\n            public virtual void discount()\r\n            {\r\n                fDis = 0.3F;\r\n                Console.WriteLine(&quot;Discount is :{0}&quot;, fDis);\r\n            }\r\n    \r\n        }\r\n        public class SilverCustomer : Customer\r\n        {\r\n            public SilverCustomer()\r\n                : base()\r\n            {\r\n                Console.WriteLine(&quot;I am silver customer.&quot;);\r\n            }\r\n            public override void discount()\r\n            {\r\n                fDis = 0.4F;\r\n                Console.WriteLine(&quot;Discount is :{0}&quot;, fDis);\r\n            }\r\n        }\r\n        class GoldenCustomer : SilverCustomer\r\n        {\r\n            public GoldenCustomer()\r\n            {\r\n                Console.WriteLine(&quot;I am Golden customer.&quot;);\r\n            }\r\n            public override void discount()\r\n            {\r\n                fDis = 0.6F;\r\n                Console.WriteLine(&quot;Discount is :{0}&quot;, fDis);\r\n            }\r\n    \r\n        }\r\n    }\r\n    \r\n    using System;\r\n    using System.Collections.Generic;\r\n    using System.Linq;\r\n    using System.Text;\r\n    using System.Threading.Tasks;\r\n    \r\n    namespace MultilevelInheritance\r\n    {\r\n        class Program\r\n        {\r\n            static void Main(string[] args)\r\n            {\r\n                Customer objCus = new Customer();\r\n                objCus.discount();\r\n    \r\n                SilverCustomer objSil = new SilverCustomer();\r\n                objSil.discount();\r\n    \r\n                GoldenCustomer objGold = new GoldenCustomer();\r\n                objGold.discount();\r\n    \r\n    \r\n                Console.ReadLine();\r\n            }\r\n        }\r\n    }\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: http://dotnetminds.com/inheritance-using-c-2/\r\n  [2]: https://i.stack.imgur.com/6XOdW.jpg","title":"What is a supertype method?","body":"<p>Super Type and sub type is a property of inheritance i.e for the purpose of re-usability of code. I am giving you example of Super Class and Sub class. For more you can follow <a href=\"http://dotnetminds.com/inheritance-using-c-2/\" rel=\"nofollow\">here</a>.</p>\n\n<p>using System;</p>\n\n<pre><code>namespace MultilevelInheritance\n{\n    public class Customer\n    {\n        public float fDis { get; set; }\n        public Customer()\n        {\n            Console.WriteLine(\"I am a normal customer.\");\n        }\n        public virtual void discount()\n        {\n            fDis = 0.3F;\n            Console.WriteLine(\"Discount is :{0}\", fDis);\n        }\n\n    }\n    public class SilverCustomer : Customer\n    {\n        public SilverCustomer()\n            : base()\n        {\n            Console.WriteLine(\"I am silver customer.\");\n        }\n        public override void discount()\n        {\n            fDis = 0.4F;\n            Console.WriteLine(\"Discount is :{0}\", fDis);\n        }\n    }\n    class GoldenCustomer : SilverCustomer\n    {\n        public GoldenCustomer()\n        {\n            Console.WriteLine(\"I am Golden customer.\");\n        }\n        public override void discount()\n        {\n            fDis = 0.6F;\n            Console.WriteLine(\"Discount is :{0}\", fDis);\n        }\n\n    }\n}\n\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace MultilevelInheritance\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Customer objCus = new Customer();\n            objCus.discount();\n\n            SilverCustomer objSil = new SilverCustomer();\n            objSil.discount();\n\n            GoldenCustomer objGold = new GoldenCustomer();\n            objGold.discount();\n\n\n            Console.ReadLine();\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/6XOdW.jpg\" rel=\"nofollow\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":10624768,"reputation":31,"user_id":7824722,"display_name":"Karthik reddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491560136,"creation_date":1491558822,"answer_id":43275072,"question_id":15130067,"body_markdown":"Super is used to invoke parent class Properties\r\nused at 3 levels \r\nvariable constructer and method level\r\n\r\n1.Super at Variable\r\n\r\n    class Super\r\n    {\r\n    \tint age;\r\n    \tSuper(int age)\r\n    \t{\r\n    \t\tthis.age=age;\r\n    \t}\r\n    \t\tpublic void getAge()\r\n    \t\t{\r\n    \t\t\tSystem.out.println(age);\r\n    \t\t}\r\n    }\r\n    class Sub extends Super\r\n    {\r\n    \tSub(int age)\r\n    \t{\r\n    \t\tsuper(age);\r\n    \t}\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\t Super obj=new  Super(24);\r\n    \t\t obj.getAge();\r\n    \t}\r\n    }","title":"What is a supertype method?","body":"<p>Super is used to invoke parent class Properties\nused at 3 levels \nvariable constructer and method level</p>\n\n<p>1.Super at Variable</p>\n\n<pre><code>class Super\n{\n    int age;\n    Super(int age)\n    {\n        this.age=age;\n    }\n        public void getAge()\n        {\n            System.out.println(age);\n        }\n}\nclass Sub extends Super\n{\n    Sub(int age)\n    {\n        super(age);\n    }\n    public static void main(String[] args)\n    {\n         Super obj=new  Super(24);\n         obj.getAge();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10624768,"reputation":31,"user_id":7824722,"display_name":"Karthik reddy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629695434,"creation_date":1491559057,"answer_id":43275157,"question_id":15130067,"body_markdown":"Super at Constructer level\r\n\r\n    class SuperClass\r\n    {\r\n    \tint num=10;\r\n    \tpublic void display()\r\n    \t{\r\n    \t    System.out.println(&quot;Superclass display method&quot;);\r\n    \t}\r\n    }\r\n\r\n    class SubClass extends SuperClass\r\n    {\r\n    \tint num=20;\r\n    \r\n    \tpublic void display()\r\n    \t{\r\n    \t    System.out.println(&quot;the value of subclass variable name:&quot;+num);\r\n    \t    System.out.println(&quot;Subclass display method&quot;);\r\n    \t}\r\n\r\n    \tpublic void Mymethod()\r\n    \t{\r\n    \t\tsuper.display();\r\n    \t\tSystem.out.println(&quot;the value of superclass variable name:&quot;+super.num);\r\n    \t}\r\n\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tSubClass obj=new SubClass();\r\n    \t\tobj.Mymethod();\r\n    \t\tobj.display();\r\n    \t}\r\n    }","title":"What is a supertype method?","body":"<p>Super at Constructer level</p>\n<pre><code>class SuperClass\n{\n    int num=10;\n    public void display()\n    {\n        System.out.println(&quot;Superclass display method&quot;);\n    }\n}\n\nclass SubClass extends SuperClass\n{\n    int num=20;\n\n    public void display()\n    {\n        System.out.println(&quot;the value of subclass variable name:&quot;+num);\n        System.out.println(&quot;Subclass display method&quot;);\n    }\n\n    public void Mymethod()\n    {\n        super.display();\n        System.out.println(&quot;the value of superclass variable name:&quot;+super.num);\n    }\n\n    public static void main(String[] args)\n    {\n        SubClass obj=new SubClass();\n        obj.Mymethod();\n        obj.display();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2199753,"reputation":4220,"user_id":1944451,"accept_rate":87,"display_name":"ray"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28510,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":15130588,"answer_count":6,"score":13,"last_activity_date":1636972889,"creation_date":1362037309,"question_id":15130067,"body_markdown":"I have googled couple of times but still can&#39;t understand the supertype method. Can anyone please explain what is this?","title":"What is a supertype method?","body":"<p>I have googled couple of times but still can't understand the supertype method. Can anyone please explain what is this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4635520,"reputation":192,"user_id":3756878,"display_name":"S_intg"},"score":0,"creation_date":1636971260,"post_id":69972580,"comment_id":123691033,"body_markdown":"Hi, I guess the probleme is in xxx.get(index), it should be index-1 since arrays starts from 0 not 1.","body":"Hi, I guess the probleme is in xxx.get(index), it should be index-1 since arrays starts from 0 not 1."},{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":0,"creation_date":1636971269,"post_id":69972580,"comment_id":123691040,"body_markdown":"Exception is not thrown by `add` method but by `get` method. You are trying to access element from index that doesn&#39;t exist in the list.","body":"Exception is not thrown by <code>add</code> method but by <code>get</code> method. You are trying to access element from index that doesn&#39;t exist in the list."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1636972453,"post_id":69972580,"comment_id":123691448,"body_markdown":"There are various other conceptual things wrong here: that &quot;menu&quot; code there, that actually &quot;drives&quot; your program (tells it what to do) ... such things do NOT go into a constructor. A constructor is supposed to initialize the fields of your class. It does NOTHING else. If you want to have such a MENU and ask for commands, put that in your MAIN method.","body":"There are various other conceptual things wrong here: that &quot;menu&quot; code there, that actually &quot;drives&quot; your program (tells it what to do) ... such things do NOT go into a constructor. A constructor is supposed to initialize the fields of your class. It does NOTHING else. If you want to have such a MENU and ask for commands, put that in your MAIN method."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1636972539,"post_id":69972580,"comment_id":123691481,"body_markdown":"Then: you are getting OO wrong. When your Student class has those different fields already, then you do NOT create a list for each of the fields of that class. Instead, you create Student objects. Your main method keeps ONE list with Student objects. You can enter the details for a student, a new object is created, and that new object gets added to your list.","body":"Then: you are getting OO wrong. When your Student class has those different fields already, then you do NOT create a list for each of the fields of that class. Instead, you create Student objects. Your main method keeps ONE list with Student objects. You can enter the details for a student, a new object is created, and that new object gets added to your list."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1636972602,"post_id":69972580,"comment_id":123691511,"body_markdown":"Finally: follow java naming conventions: dont use &quot;_&quot; unless in SOME_CONSTANT. And dont use abbreviations. Just go `class Student ... { private final String name; ... ` no &quot;_s&quot; that is just noisy clutter.","body":"Finally: follow java naming conventions: dont use &quot;_&quot; unless in SOME_CONSTANT. And dont use abbreviations. Just go <code>class Student ... { private final String name; ... </code> no &quot;_s&quot; that is just noisy clutter."}],"answers":[{"tags":[],"owner":{"account_id":18343563,"reputation":81,"user_id":13359215,"display_name":"WannaBe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636971249,"creation_date":1636971249,"answer_id":69972708,"question_id":69972580,"body_markdown":"Your problem is that if choice == 2, you want to read a specific index from the list. \r\nBefore you just do &#39;.get&#39;, you should check if the list is big enough.\r\n\r\nIf the size of your list is 1, it means that there is only one element in the list, so there is ONLY one element at index 0 (all indices start with 0).\r\n\r\nAlso, I think it is a mistake to reinitialize the lists in the method. When initializing the lists, all lists are created again and thus emptied. You can fix this by creating and initializing the lists globally (global means in the class and outside each method).\r\n\r\nGreetings","title":"How to add to Arraylist and show it in Java?","body":"<p>Your problem is that if choice == 2, you want to read a specific index from the list.\nBefore you just do '.get', you should check if the list is big enough.</p>\n<p>If the size of your list is 1, it means that there is only one element in the list, so there is ONLY one element at index 0 (all indices start with 0).</p>\n<p>Also, I think it is a mistake to reinitialize the lists in the method. When initializing the lists, all lists are created again and thus emptied. You can fix this by creating and initializing the lists globally (global means in the class and outside each method).</p>\n<p>Greetings</p>\n"}],"owner":{"account_id":22987372,"reputation":3,"user_id":17113385,"display_name":"raminmasumov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636972625,"accepted_answer_id":69972708,"answer_count":1,"score":0,"last_activity_date":1636972094,"creation_date":1636970765,"question_id":69972580,"body_markdown":"I am a noob in Java so far and I am having issues with this program. In this program, users can add student info and see the info. However my add function (I think does not work so I am not using it properly I guess). I realized that my error is that the index is out of boundaries, but I am not using set, I am using add so I guess it should increase the length of the arraylist isn&#39;t that right? Anyways, this is the code:\r\n\r\n    public class Student {\r\n\r\n\tScanner scan = new Scanner(System.in);\r\n\tString name_s, surname_s;\r\n\tint age_s, number_s;\r\n\tint choice;\r\n\tint index;\r\n\r\n\tpublic void Studentt() {\r\n\t\t\r\n\t\tArrayList&lt;String&gt; name = new ArrayList&lt;String&gt;();\r\n\t\tArrayList&lt;String&gt; surname = new ArrayList&lt;String&gt;();\r\n\t\tArrayList&lt;Integer&gt; age = new ArrayList&lt;Integer&gt;();\r\n\t\tArrayList&lt;Integer&gt; number = new ArrayList&lt;Integer&gt;();\r\n\r\n\t\tSystem.out.println(&quot;To add student:1\\nTo see student:2&quot;);\r\n\t\tthis.choice = Integer.parseInt(scan.nextLine());\r\n\r\n\t\tif (choice == 1) {\r\n\t\t\tSystem.out.println(&quot;Name:&quot;);\r\n\t\t\tthis.name_s = scan.nextLine();\r\n\t\t\tname.add(name_s);\r\n\t\t\tSystem.out.println(&quot;Surname:&quot;);\r\n\t\t\tthis.surname_s = scan.nextLine();\r\n\t\t\tsurname.add(surname_s);\r\n\t\t\tSystem.out.println(&quot;Age:&quot;);\r\n\t\t\tthis.age_s = Integer.parseInt(scan.nextLine());\r\n\t\t\tage.add(age_s);\r\n\t\t\tSystem.out.println(&quot;Number&quot;);\r\n\t\t\tthis.number_s = Integer.parseInt(scan.nextLine());\r\n\t\t\tnumber.add(number_s);\r\n\t\t\tend();\r\n\t\t} else if (choice == 2) {\r\n\r\n\t\t\tSystem.out.println(&quot;Index of the student you want to see:&quot;);\r\n\t\t\tthis.index = Integer.parseInt(scan.nextLine());\r\n\t\t\tSystem.out.println(name.get(index));\r\n\t\t\tSystem.out.println(surname.get(index));\r\n\t\t\tSystem.out.println(age.get(index));\r\n\t\t\tSystem.out.println(number.get(index));\r\n\t\t\tSystem.out.println(&quot;Done.&quot;);\r\n\t\t\tend();\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Wrong choice.&quot;);\r\n\t\t\tStudentt();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic void end() {\r\n\t\ttry(Scanner scan = new Scanner(System.in)){\r\n\t\t\tint menu;\r\n\t\t\tSystem.out.println(&quot;To repeat:1 \\nExit:2&quot;);\r\n\t\t\tmenu = Integer.parseInt(scan.nextLine());\r\n\t\t\tif (menu == 1) {\r\n\t\t\t\tStudentt();\r\n\t\t\t} else if (menu == 2) {\r\n\t\t\t\tSystem.out.println(&quot;Done.&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Wrong choice.&quot;);\r\n\t\t\t\tend();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\nand this is the output:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 1 out of bounds for length 0","title":"How to add to Arraylist and show it in Java?","body":"<p>I am a noob in Java so far and I am having issues with this program. In this program, users can add student info and see the info. However my add function (I think does not work so I am not using it properly I guess). I realized that my error is that the index is out of boundaries, but I am not using set, I am using add so I guess it should increase the length of the arraylist isn't that right? Anyways, this is the code:</p>\n<pre><code>public class Student {\n\nScanner scan = new Scanner(System.in);\nString name_s, surname_s;\nint age_s, number_s;\nint choice;\nint index;\n\npublic void Studentt() {\n    \n    ArrayList&lt;String&gt; name = new ArrayList&lt;String&gt;();\n    ArrayList&lt;String&gt; surname = new ArrayList&lt;String&gt;();\n    ArrayList&lt;Integer&gt; age = new ArrayList&lt;Integer&gt;();\n    ArrayList&lt;Integer&gt; number = new ArrayList&lt;Integer&gt;();\n\n    System.out.println(&quot;To add student:1\\nTo see student:2&quot;);\n    this.choice = Integer.parseInt(scan.nextLine());\n\n    if (choice == 1) {\n        System.out.println(&quot;Name:&quot;);\n        this.name_s = scan.nextLine();\n        name.add(name_s);\n        System.out.println(&quot;Surname:&quot;);\n        this.surname_s = scan.nextLine();\n        surname.add(surname_s);\n        System.out.println(&quot;Age:&quot;);\n        this.age_s = Integer.parseInt(scan.nextLine());\n        age.add(age_s);\n        System.out.println(&quot;Number&quot;);\n        this.number_s = Integer.parseInt(scan.nextLine());\n        number.add(number_s);\n        end();\n    } else if (choice == 2) {\n\n        System.out.println(&quot;Index of the student you want to see:&quot;);\n        this.index = Integer.parseInt(scan.nextLine());\n        System.out.println(name.get(index));\n        System.out.println(surname.get(index));\n        System.out.println(age.get(index));\n        System.out.println(number.get(index));\n        System.out.println(&quot;Done.&quot;);\n        end();\n    } else {\n        System.out.println(&quot;Wrong choice.&quot;);\n        Studentt();\n\n    }\n\n}\n\npublic void end() {\n    try(Scanner scan = new Scanner(System.in)){\n        int menu;\n        System.out.println(&quot;To repeat:1 \\nExit:2&quot;);\n        menu = Integer.parseInt(scan.nextLine());\n        if (menu == 1) {\n            Studentt();\n        } else if (menu == 2) {\n            System.out.println(&quot;Done.&quot;);\n        } else {\n            System.out.println(&quot;Wrong choice.&quot;);\n            end();\n        }\n    }\n\n}\n</code></pre>\n<p>and this is the output:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 1 out of bounds for length 0\n</code></pre>\n"},{"tags":["java","postgresql","dbeaver"],"comments":[{"owner":{"account_id":5512082,"reputation":338,"user_id":4378061,"display_name":"mdh"},"score":1,"creation_date":1636970717,"post_id":69972091,"comment_id":123690847,"body_markdown":"Is it due to the single database thing in DBeaver?\nhttps://stackoverflow.com/questions/54235029/dbeaver-can-only-see-default-postgresql-database-in-connection","body":"Is it due to the single database thing in DBeaver? <a href=\"https://stackoverflow.com/questions/54235029/dbeaver-can-only-see-default-postgresql-database-in-connection\" title=\"dbeaver can only see default postgresql database in connection\">stackoverflow.com/questions/54235029/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1636972009,"post_id":69972091,"comment_id":123691297,"body_markdown":"@mdh databases != schemas","body":"@mdh databases != schemas"},{"owner":{"account_id":5512082,"reputation":338,"user_id":4378061,"display_name":"mdh"},"score":0,"creation_date":1636972244,"post_id":69972091,"comment_id":123691376,"body_markdown":"@MarkRotteveel just wanted to make sure the database with the desired schema is visible for him.","body":"@MarkRotteveel just wanted to make sure the database with the desired schema is visible for him."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1636972649,"post_id":69972091,"comment_id":123691529,"body_markdown":"Do you use the same URL and credentials in DBeaver as you do in the app?","body":"Do you use the same URL and credentials in DBeaver as you do in the app?"},{"owner":{"account_id":3076776,"reputation":1444,"user_id":2605902,"accept_rate":62,"display_name":"Stimpson Cat"},"score":0,"creation_date":1636972751,"post_id":69972091,"comment_id":123691586,"body_markdown":"Thanks mdh. Crazy shid. How should a normal user ever know this? I am happy when i can retire.","body":"Thanks mdh. Crazy shid. How should a normal user ever know this? I am happy when i can retire."},{"owner":{"account_id":5512082,"reputation":338,"user_id":4378061,"display_name":"mdh"},"score":0,"creation_date":1636974133,"post_id":69972091,"comment_id":123692131,"body_markdown":"haha no worries, this is quite a trap.","body":"haha no worries, this is quite a trap."},{"owner":{"account_id":19442888,"reputation":351,"user_id":14220989,"display_name":"LonWo"},"score":0,"creation_date":1637603215,"post_id":69972091,"comment_id":123865094,"body_markdown":"There are different reasons for the lack of objects in the navigation tree. First, please check the &quot;Connection view&quot; settings. Right-click on the connection Database Navigator tree, then choose &quot;Connection view&quot; and one of the modes. My advice is to use Advanced mode. If your schema is system schema and you are in Simple mode - then no system schemas in the tree. Another reason can be - object filters. You can find them in the &quot;Connection settings&quot; -&gt; General -&gt; Filters -&gt; Schemas/Users. Maybe some schema names were added there.","body":"There are different reasons for the lack of objects in the navigation tree. First, please check the &quot;Connection view&quot; settings. Right-click on the connection Database Navigator tree, then choose &quot;Connection view&quot; and one of the modes. My advice is to use Advanced mode. If your schema is system schema and you are in Simple mode - then no system schemas in the tree. Another reason can be - object filters. You can find them in the &quot;Connection settings&quot; -&gt; General -&gt; Filters -&gt; Schemas/Users. Maybe some schema names were added there."}],"owner":{"account_id":3076776,"reputation":1444,"user_id":2605902,"accept_rate":62,"display_name":"Stimpson Cat"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636971979,"creation_date":1636968500,"question_id":69972091,"body_markdown":"I am trying to use PostgreSQL in a Spring Boot application. I am using Liquibase for the db versioning. I can see, that the database does store my data, but when I connect with DBeaver, I do not see the schema. I can&#39;t load and save to this DB. Does somebody know how to show my PostgreSQL DB in DBeaver? I never faced this issue before. \r\n\r\nWhen I am browsing the database in DBeaver, there are no schemas, but in the pg admin there are some. Unfortunately pg admin is not very usable.","title":"How can I configure DBeaver to show my schema?","body":"<p>I am trying to use PostgreSQL in a Spring Boot application. I am using Liquibase for the db versioning. I can see, that the database does store my data, but when I connect with DBeaver, I do not see the schema. I can't load and save to this DB. Does somebody know how to show my PostgreSQL DB in DBeaver? I never faced this issue before.</p>\n<p>When I am browsing the database in DBeaver, there are no schemas, but in the pg admin there are some. Unfortunately pg admin is not very usable.</p>\n"},{"tags":["java","algorithm","arraylist","compare","hashmap"],"comments":[{"owner":{"account_id":303914,"reputation":110084,"user_id":613130,"accept_rate":80,"display_name":"xanatos"},"score":0,"creation_date":1319707686,"post_id":7913994,"comment_id":9665165,"body_markdown":"I retagged it as Java, because you speak of `ArrayList` (capita A and L) and `HashMap` (capital H and M)","body":"I retagged it as Java, because you speak of <code>ArrayList</code> (capita A and L) and <code>HashMap</code> (capital H and M)"},{"owner":{"account_id":191938,"reputation":15835,"user_id":432806,"accept_rate":100,"display_name":"pcalcao"},"score":0,"creation_date":1319707824,"post_id":7913994,"comment_id":9665205,"body_markdown":"What do you consider for the maps to have the same value? Having one of the elements that&#39;s equal, having the same keys, or having exactly the same set of elements? It really depends! Please clarify your answer a bit.","body":"What do you consider for the maps to have the same value? Having one of the elements that&#39;s equal, having the same keys, or having exactly the same set of elements? It really depends! Please clarify your answer a bit."},{"owner":{"account_id":446124,"reputation":17924,"user_id":838975,"accept_rate":100,"display_name":"Nicola Musatti"},"score":0,"creation_date":1319707828,"post_id":7913994,"comment_id":9665207,"body_markdown":"Please post a code example showing your data structures.","body":"Please post a code example showing your data structures."},{"owner":{"account_id":1001314,"reputation":169,"user_id":1016098,"accept_rate":80,"display_name":"John"},"score":0,"creation_date":1319708813,"post_id":7913994,"comment_id":9665473,"body_markdown":"@pcalcao I mean the elements. No keys, no set.","body":"@pcalcao I mean the elements. No keys, no set."},{"owner":{"account_id":314772,"reputation":11799,"user_id":630136,"accept_rate":91,"display_name":"G_H"},"score":0,"creation_date":1319709219,"post_id":7913994,"comment_id":9665564,"body_markdown":"What happens if map 1 has values {1, 2}, map 2 has values {1, 3} and map 3 has values {3, 4}? You&#39;ve have to remove map 2 because it shares a value with map 1, and then map 3 shares a value with map 2 but not with map 1. What happens with map 3? This isn&#39;t really simple. Maybe it&#39;s better if we find out what the context of your problem is. I think you&#39;re better off with a different data structure, or leave the collisions in and resolve them when using the data...","body":"What happens if map 1 has values {1, 2}, map 2 has values {1, 3} and map 3 has values {3, 4}? You&#39;ve have to remove map 2 because it shares a value with map 1, and then map 3 shares a value with map 2 but not with map 1. What happens with map 3? This isn&#39;t really simple. Maybe it&#39;s better if we find out what the context of your problem is. I think you&#39;re better off with a different data structure, or leave the collisions in and resolve them when using the data..."},{"owner":{"account_id":314772,"reputation":11799,"user_id":630136,"accept_rate":91,"display_name":"G_H"},"score":0,"creation_date":1319709455,"post_id":7913994,"comment_id":9665635,"body_markdown":"Hey, hold on... Do you mean &quot;map&quot; or &quot;mapping&quot;? Do you want to remove duplicate values from a map, or maps that share a value? Second problem is certainly non-trivial.","body":"Hey, hold on... Do you mean &quot;map&quot; or &quot;mapping&quot;? Do you want to remove duplicate values from a map, or maps that share a value? Second problem is certainly non-trivial."},{"owner":{"account_id":1001314,"reputation":169,"user_id":1016098,"accept_rate":80,"display_name":"John"},"score":0,"creation_date":1319709770,"post_id":7913994,"comment_id":9665703,"body_markdown":"@G_H I don&#39;t understand your example very well. I don&#39;t want to remove the map with same key. I want to remove maps with same value. For example, map1{1,4}, map2{1,3} and map3{2,4}. So, I want to remove the map3.","body":"@G_H I don&#39;t understand your example very well. I don&#39;t want to remove the map with same key. I want to remove maps with same value. For example, map1{1,4}, map2{1,3} and map3{2,4}. So, I want to remove the map3."},{"owner":{"account_id":314772,"reputation":11799,"user_id":630136,"accept_rate":91,"display_name":"G_H"},"score":0,"creation_date":1319709923,"post_id":7913994,"comment_id":9665740,"body_markdown":"Sorry, I didn&#39;t mean `{1, 2}` to mean a key-value pair of 1 - 2. I intended that to be the value list. So read that as &quot;map 1 has values 1 and 2&quot;, regardless of the keys. Might as well have gone for a more extensive example like `{1, 2, 5, 20}`.","body":"Sorry, I didn&#39;t mean <code>{1, 2}</code> to mean a key-value pair of 1 - 2. I intended that to be the value list. So read that as &quot;map 1 has values 1 and 2&quot;, regardless of the keys. Might as well have gone for a more extensive example like <code>{1, 2, 5, 20}</code>."}],"answers":[{"tags":[],"owner":{"account_id":314772,"reputation":11799,"user_id":630136,"accept_rate":91,"display_name":"G_H"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636971950,"creation_date":1319708144,"answer_id":7914093,"question_id":7913994,"body_markdown":"    List&lt;Map&lt;String, String&gt;&gt; mapList = new ArrayList&lt;Map&lt;String, String&gt;&gt;(); \r\n    //... filling up list and maps...\r\n    Set&lt;String&gt; valueSet = new HashSet&lt;String&gt;();\r\n    for(Iterator&lt;Map&lt;String, String&gt;&gt; mapIt = mapList.iterator(); mapIt.hasNext();) {\r\n        final Map&lt;String, String&gt; map = mapIt.next();\r\n        boolean hasDuplicate = false;\r\n        for(final String mapValue : map.values()) {\r\n            if(valueSet.contains(mapValue))\r\n                hasDuplicate = true;\r\n        }\r\n        if(hasDuplicate)\r\n            mapIt.remove();\r\n        valueSet.addAll(map.values());\r\n    }\r\n\r\nHope someone proofreads this, cause I&#39;m not typing it in an IDE and I haven&#39;t had my coffee yet.\r\n\r\n\r\nEDIT: okay, that previous version was wrong as hell. Check this instead.\r\n\r\nEDIT 2: just realized this won&#39;t work either. It might remove, say, map 3 because it has a dupe value with map 2, but map 2 is removed because of some other dupe value with map 1. Result: only map 1 is retained and map 2 and 3 are removed but map 3 doesn&#39;t have dupes with map 1. This is a bit more complex than I thought. Better get that coffee...","title":"Compare HashMap values in an ArrayList","body":"<pre><code>List&lt;Map&lt;String, String&gt;&gt; mapList = new ArrayList&lt;Map&lt;String, String&gt;&gt;(); \n//... filling up list and maps...\nSet&lt;String&gt; valueSet = new HashSet&lt;String&gt;();\nfor(Iterator&lt;Map&lt;String, String&gt;&gt; mapIt = mapList.iterator(); mapIt.hasNext();) {\n    final Map&lt;String, String&gt; map = mapIt.next();\n    boolean hasDuplicate = false;\n    for(final String mapValue : map.values()) {\n        if(valueSet.contains(mapValue))\n            hasDuplicate = true;\n    }\n    if(hasDuplicate)\n        mapIt.remove();\n    valueSet.addAll(map.values());\n}\n</code></pre>\n<p>Hope someone proofreads this, cause I'm not typing it in an IDE and I haven't had my coffee yet.</p>\n<p>EDIT: okay, that previous version was wrong as hell. Check this instead.</p>\n<p>EDIT 2: just realized this won't work either. It might remove, say, map 3 because it has a dupe value with map 2, but map 2 is removed because of some other dupe value with map 1. Result: only map 1 is retained and map 2 and 3 are removed but map 3 doesn't have dupes with map 1. This is a bit more complex than I thought. Better get that coffee...</p>\n"},{"tags":[],"owner":{"account_id":95151,"reputation":14008,"user_id":259310,"accept_rate":25,"display_name":"Kilian Foth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319709132,"creation_date":1319709132,"answer_id":7914268,"question_id":7913994,"body_markdown":"Create a `Set&lt;HashMap&lt;String,String&gt;&gt;` and add every member of `list` to it. Problem solved! \r\n\r\nIf you absolutely need an `ArrayList` instead of a `Set`, you can create a new `ArrayList` from the `Set`, but either way the lesson is: let Java do the work for you. You are unlikely to do a better job at collection manipulation than the standard library.","title":"Compare HashMap values in an ArrayList","body":"<p>Create a <code>Set&lt;HashMap&lt;String,String&gt;&gt;</code> and add every member of <code>list</code> to it. Problem solved! </p>\n\n<p>If you absolutely need an <code>ArrayList</code> instead of a <code>Set</code>, you can create a new <code>ArrayList</code> from the <code>Set</code>, but either way the lesson is: let Java do the work for you. You are unlikely to do a better job at collection manipulation than the standard library.</p>\n"},{"tags":[],"owner":{"account_id":191938,"reputation":15835,"user_id":432806,"accept_rate":100,"display_name":"pcalcao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319712675,"creation_date":1319709154,"answer_id":7914276,"question_id":7913994,"body_markdown":"Just thinking out loud but my approach would be something like:\r\n\r\nCreate a Set, where you store the values that you already found in the map.\r\n\r\nEach time you get a Map in a new position of the list, check if the element of the Map exists in the Set, if it does, remove the Map from the ArrayList (it&#39;s duplicated), if it doesn&#39;t, add the value of the Map to the Set and Carry on.\r\n\r\nMake sure you remove the Map from the ArrayList using the Iterator&#39;s remove method!\r\n\r\n","title":"Compare HashMap values in an ArrayList","body":"<p>Just thinking out loud but my approach would be something like:</p>\n\n<p>Create a Set, where you store the values that you already found in the map.</p>\n\n<p>Each time you get a Map in a new position of the list, check if the element of the Map exists in the Set, if it does, remove the Map from the ArrayList (it's duplicated), if it doesn't, add the value of the Map to the Set and Carry on.</p>\n\n<p>Make sure you remove the Map from the ArrayList using the Iterator's remove method!</p>\n"},{"tags":[],"owner":{"account_id":6908921,"reputation":1,"user_id":5305607,"display_name":"Ramchandar T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441533479,"creation_date":1441530919,"answer_id":32421891,"question_id":7913994,"body_markdown":"Compare `Map` keys with `Arraylist` values \r\n\r\n    public static void main(String[] args) {\r\n    \t\t\r\n    \t\tIterator&lt;Entry&lt;String, CustomerContactVO&gt;&gt; it = getVO().entrySet().iterator();\r\n    \t\t\r\n    \t\tList&lt;CustomerOutPut&gt; customerOutPutsList = new ArrayList&lt;CustomerOutPut&gt;();\r\n    \t\t\r\n    \t\twhile(it.hasNext()){\r\n    \t\t\tEntry&lt;String, CustomerContactVO&gt; ent = it.next();\r\n    \t\t\tString contAcctIDKey = ent.getKey();\r\n    \t\t\tString email = ent.getValue().getEmailID();\r\n    \t\t\tCustomerOutPut customerOutPut = new CustomerOutPut();\r\n    \t\t\tcustomerOutPut.setContactAcctIDVo(contAcctIDKey);\r\n    \t\t\tcustomerOutPut.setEmailIDVo(email);\r\n    \t\t\t\r\n    \t\t\tfor (CustomerPreferenceVO customerPreferenceVO : perfVo()) {\r\n    \t\t\t\tif(customerPreferenceVO.getContactAcctID()!=null &amp;&amp; customerPreferenceVO.getContactAcctID().equals(contAcctIDKey)){\r\n    \t\t\t\t\tcustomerOutPut.setContactAcctIDRef(customerPreferenceVO.getContactAcctID());\r\n    \t\t\t\t\tcustomerOutPut.setMktIndRef(customerPreferenceVO.getMktInd());\r\n    \t\t\t\t\tcustomerOutPut.setPrefIndRef(customerPreferenceVO.getPrefInd());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tcustomerOutPutsList.add(customerOutPut);\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor (CustomerOutPut customerOutPut : customerOutPutsList) {\r\n    \t\t\tSystem.out.println(customerOutPut.toString());\r\n    \t\t}\r\n    \t}","title":"Compare HashMap values in an ArrayList","body":"<p>Compare <code>Map</code> keys with <code>Arraylist</code> values </p>\n\n<pre><code>public static void main(String[] args) {\n\n        Iterator&lt;Entry&lt;String, CustomerContactVO&gt;&gt; it = getVO().entrySet().iterator();\n\n        List&lt;CustomerOutPut&gt; customerOutPutsList = new ArrayList&lt;CustomerOutPut&gt;();\n\n        while(it.hasNext()){\n            Entry&lt;String, CustomerContactVO&gt; ent = it.next();\n            String contAcctIDKey = ent.getKey();\n            String email = ent.getValue().getEmailID();\n            CustomerOutPut customerOutPut = new CustomerOutPut();\n            customerOutPut.setContactAcctIDVo(contAcctIDKey);\n            customerOutPut.setEmailIDVo(email);\n\n            for (CustomerPreferenceVO customerPreferenceVO : perfVo()) {\n                if(customerPreferenceVO.getContactAcctID()!=null &amp;&amp; customerPreferenceVO.getContactAcctID().equals(contAcctIDKey)){\n                    customerOutPut.setContactAcctIDRef(customerPreferenceVO.getContactAcctID());\n                    customerOutPut.setMktIndRef(customerPreferenceVO.getMktInd());\n                    customerOutPut.setPrefIndRef(customerPreferenceVO.getPrefInd());\n                }\n            }\n\n            customerOutPutsList.add(customerOutPut);\n        }\n\n        for (CustomerOutPut customerOutPut : customerOutPutsList) {\n            System.out.println(customerOutPut.toString());\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6908921,"reputation":1,"user_id":5305607,"display_name":"Ramchandar T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441532527,"creation_date":1441532527,"answer_id":32422123,"question_id":7913994,"body_markdown":"    package com.test.examples;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    \r\n    import com.test.vo.CustomerContactVO;\r\n    import com.test.vo.CustomerOutPut;\r\n    import com.test.vo.CustomerPreferenceVO;\r\n    \r\n    public class TestExampleOne {\r\n    \t\r\n    \tpublic static Map&lt;String, CustomerContactVO&gt; getVO(){\r\n    \t\t\r\n    \t\tMap&lt;String, CustomerContactVO&gt; contactVOMap = new HashMap&lt;String, CustomerContactVO&gt;();\r\n    \t\tCustomerContactVO v = new CustomerContactVO();\r\n    \t\tv.setContactAcctID(&quot;60011151&quot;);\r\n    \t\tv.setEmailID(&quot;raj@gmail.com&quot;);\r\n    \t\t\r\n    \t\tCustomerContactVO v1 = new CustomerContactVO();\r\n    \t\tv1.setContactAcctID(&quot;60011152&quot;);\r\n    \t\tv1.setEmailID(&quot;raj1@gmail.com&quot;);\r\n    \t\t\r\n    \t\tCustomerContactVO v2 = new CustomerContactVO();\r\n    \t\tv2.setContactAcctID(&quot;60011153&quot;);\r\n    \t\tv2.setEmailID(&quot;raj2@gmail.com&quot;);\r\n    \t\t\r\n    \t\tCustomerContactVO v3 = new CustomerContactVO();\r\n    \t\tv3.setContactAcctID(&quot;60011154&quot;);\r\n    \t\tv3.setEmailID(&quot;raj3@gmail.com&quot;);\r\n    \t\t\r\n    \t\tCustomerContactVO v4 = new CustomerContactVO();\r\n    \t\tv4.setContactAcctID(&quot;60011155&quot;);\r\n    \t\tv4.setEmailID(&quot;raj4@gmail.com&quot;);\r\n    \t\t\r\n    \t\tcontactVOMap.put(&quot;60011151&quot;, v);\r\n    \t\tcontactVOMap.put(&quot;60011152&quot;, v1);\r\n    \t\tcontactVOMap.put(&quot;60011153&quot;, v2);\r\n    \t\tcontactVOMap.put(&quot;60011154&quot;, v3);\r\n    \t\tcontactVOMap.put(&quot;60011155&quot;, v4);\r\n    \t\t\r\n    \t\treturn contactVOMap;\r\n    \t}\r\n    \t\r\n    \tpublic static List&lt;CustomerPreferenceVO&gt; perfVo(){\r\n    \t\tCustomerPreferenceVO prefVo = new CustomerPreferenceVO();\r\n    \t\tprefVo.setContactAcctID(&quot;60011151&quot;);\r\n    \t\tprefVo.setMktInd(&quot;500&quot;);\r\n    \t\tprefVo.setPrefInd(&quot;Y&quot;);\r\n    \t\t\r\n    \t\t\r\n    \t\tCustomerPreferenceVO prefVo1 = new CustomerPreferenceVO();\r\n    \t\tprefVo1.setContactAcctID(&quot;60011153&quot;);\r\n    \t\tprefVo1.setMktInd(&quot;302&quot;);\r\n    \t\tprefVo1.setPrefInd(&quot;N&quot;);\r\n    \t\t\r\n    \t\tCustomerPreferenceVO prefVo2 = new CustomerPreferenceVO();\r\n    \t\tprefVo2.setContactAcctID(&quot;60011154&quot;);\r\n    \t\tprefVo2.setMktInd(&quot;302&quot;);\r\n    \t\tprefVo2.setPrefInd(&quot;Y&quot;);\r\n    \t\t\r\n    \t\tList&lt;CustomerPreferenceVO&gt; list = new ArrayList&lt;CustomerPreferenceVO&gt;();\r\n    \t\tlist.add(prefVo);\r\n    \t\tlist.add(prefVo1);\r\n    \t\tlist.add(prefVo2);\r\n    \t\t\r\n    \t\treturn list;\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tIterator&lt;Entry&lt;String, CustomerContactVO&gt;&gt; it = getVO().entrySet().iterator();\r\n    \t\tList&lt;CustomerOutPut&gt; customerOutPutsList = new ArrayList&lt;CustomerOutPut&gt;();\r\n    \t\t\r\n    \t\twhile(it.hasNext()){\r\n    \t\t\t\r\n    \t\t\tEntry&lt;String, CustomerContactVO&gt; ent = it.next();\r\n    \t\t\tString contAcctIDKey = ent.getKey();\r\n    \t\t\tString email = ent.getValue().getEmailID();\r\n    \t\t\tCustomerOutPut customerOutPut = new CustomerOutPut();\r\n    \t\t\tcustomerOutPut.setContactAcctIDVo(contAcctIDKey);\r\n    \t\t\tcustomerOutPut.setEmailIDVo(email);\r\n    \t\t\t\r\n    \t\t\tfor (CustomerPreferenceVO customerPreferenceVO : perfVo()) {\r\n    \t\t\t\t\r\n    \t\t\t\tif(customerPreferenceVO.getContactAcctID()!=null &amp;&amp; \r\n    \t\t\t\t\t\tcustomerPreferenceVO.getContactAcctID().equals(contAcctIDKey)){\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tcustomerOutPut.setContactAcctIDRef(customerPreferenceVO.getContactAcctID());\r\n    \t\t\t\t\tcustomerOutPut.setMktIndRef(customerPreferenceVO.getMktInd());\r\n    \t\t\t\t\tcustomerOutPut.setPrefIndRef(customerPreferenceVO.getPrefInd());\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tcustomerOutPutsList.add(customerOutPut);\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor (CustomerOutPut customerOutPut : customerOutPutsList) {\r\n    \t\t\tSystem.out.println(customerOutPut.toString());\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Compare HashMap values in an ArrayList","body":"<pre><code>package com.test.examples;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Map.Entry;\n\nimport com.test.vo.CustomerContactVO;\nimport com.test.vo.CustomerOutPut;\nimport com.test.vo.CustomerPreferenceVO;\n\npublic class TestExampleOne {\n\n    public static Map&lt;String, CustomerContactVO&gt; getVO(){\n\n        Map&lt;String, CustomerContactVO&gt; contactVOMap = new HashMap&lt;String, CustomerContactVO&gt;();\n        CustomerContactVO v = new CustomerContactVO();\n        v.setContactAcctID(\"60011151\");\n        v.setEmailID(\"raj@gmail.com\");\n\n        CustomerContactVO v1 = new CustomerContactVO();\n        v1.setContactAcctID(\"60011152\");\n        v1.setEmailID(\"raj1@gmail.com\");\n\n        CustomerContactVO v2 = new CustomerContactVO();\n        v2.setContactAcctID(\"60011153\");\n        v2.setEmailID(\"raj2@gmail.com\");\n\n        CustomerContactVO v3 = new CustomerContactVO();\n        v3.setContactAcctID(\"60011154\");\n        v3.setEmailID(\"raj3@gmail.com\");\n\n        CustomerContactVO v4 = new CustomerContactVO();\n        v4.setContactAcctID(\"60011155\");\n        v4.setEmailID(\"raj4@gmail.com\");\n\n        contactVOMap.put(\"60011151\", v);\n        contactVOMap.put(\"60011152\", v1);\n        contactVOMap.put(\"60011153\", v2);\n        contactVOMap.put(\"60011154\", v3);\n        contactVOMap.put(\"60011155\", v4);\n\n        return contactVOMap;\n    }\n\n    public static List&lt;CustomerPreferenceVO&gt; perfVo(){\n        CustomerPreferenceVO prefVo = new CustomerPreferenceVO();\n        prefVo.setContactAcctID(\"60011151\");\n        prefVo.setMktInd(\"500\");\n        prefVo.setPrefInd(\"Y\");\n\n\n        CustomerPreferenceVO prefVo1 = new CustomerPreferenceVO();\n        prefVo1.setContactAcctID(\"60011153\");\n        prefVo1.setMktInd(\"302\");\n        prefVo1.setPrefInd(\"N\");\n\n        CustomerPreferenceVO prefVo2 = new CustomerPreferenceVO();\n        prefVo2.setContactAcctID(\"60011154\");\n        prefVo2.setMktInd(\"302\");\n        prefVo2.setPrefInd(\"Y\");\n\n        List&lt;CustomerPreferenceVO&gt; list = new ArrayList&lt;CustomerPreferenceVO&gt;();\n        list.add(prefVo);\n        list.add(prefVo1);\n        list.add(prefVo2);\n\n        return list;\n    }\n\n    public static void main(String[] args) {\n\n        Iterator&lt;Entry&lt;String, CustomerContactVO&gt;&gt; it = getVO().entrySet().iterator();\n        List&lt;CustomerOutPut&gt; customerOutPutsList = new ArrayList&lt;CustomerOutPut&gt;();\n\n        while(it.hasNext()){\n\n            Entry&lt;String, CustomerContactVO&gt; ent = it.next();\n            String contAcctIDKey = ent.getKey();\n            String email = ent.getValue().getEmailID();\n            CustomerOutPut customerOutPut = new CustomerOutPut();\n            customerOutPut.setContactAcctIDVo(contAcctIDKey);\n            customerOutPut.setEmailIDVo(email);\n\n            for (CustomerPreferenceVO customerPreferenceVO : perfVo()) {\n\n                if(customerPreferenceVO.getContactAcctID()!=null &amp;&amp; \n                        customerPreferenceVO.getContactAcctID().equals(contAcctIDKey)){\n\n                    customerOutPut.setContactAcctIDRef(customerPreferenceVO.getContactAcctID());\n                    customerOutPut.setMktIndRef(customerPreferenceVO.getMktInd());\n                    customerOutPut.setPrefIndRef(customerPreferenceVO.getPrefInd());\n\n                }\n            }\n\n            customerOutPutsList.add(customerOutPut);\n        }\n\n        for (CustomerOutPut customerOutPut : customerOutPutsList) {\n            System.out.println(customerOutPut.toString());\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1001314,"reputation":169,"user_id":1016098,"accept_rate":80,"display_name":"John"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5586,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1636971950,"creation_date":1319707496,"question_id":7913994,"body_markdown":"I have an `ArrayList` and there are some `HashMap&lt;String, String&gt;` in this. So, I want to compare for same values in the maps. When I find same values then I want to keep one map of them. For example, consider that second map and fifth map (in the arraylist) have the same value. I want to keep the second map and remove the fifth from the arraylist.\r\ni try to do with an iterator, but i can&#39;t do it. It seems complicated. Can you give me an example?\r\n\r\nThis is my last try: \r\n\r\n    private HashMap&lt;String, String&gt; mapValues = new HashMap&lt;String, String&gt;();\r\n    private HashMap&lt;String, String&gt; mapValues2 = new HashMap&lt;String,String&gt;(); \r\n    private HashMap&lt;Integer, String&gt; mval = new HashMap&lt;Integer, String&gt;();\r\n    \r\n    //i take the ArrayList with the maps for comparison private\r\n    ArrayList&lt;HashMap&lt;String, String&gt;&gt; check(ArrayList&lt;HashMap&lt;String, String&gt;&gt; list) { \t\t  \r\n\r\n     //a new ArrayList. It will have the maps(HashMap&lt;key, value&gt;) with no same values.\r\n     ArrayList&lt;HashMap&lt;String, String&gt;&gt; listFinal = new ArrayList&lt;HashMap&lt;String, String();\r\n\r\n\t\tfor (int i = 0; i &lt; list.size(); i++) {\r\n\t\t\tmapValues = list.get(i);\r\n\t\t\tmval.put(i, mapValues.get(&quot;value&quot;));\r\n\t\t}\r\n\r\n\t\tfor (int i = 0; i &lt; mval.size(); i++) {\r\n\t\t\tHashMap&lt;String, String&gt; newMapValues = new HashMap&lt;String, String&gt;();\r\n\t\t\tmapValues2 = list.get(i);\r\n\t\t\tString iVal = mapValues2.get(&quot;value&quot;);\r\n\t\t\tnewMapValues = list.get(i);\r\n\t\t\tint flag = -1;\r\n\t\t\tint remove = -1;\r\n\t\t\t\r\n\t\t\tfor (int j = i+1; j &lt; mval.size()-1; j++) {\r\n\t\t\t\tString jVal = mval.get(j);\r\n\t\t\t\tif (val.compareTo(jVal) == 0) {\r\n\t\t\t\t\tflag = i;\r\n\t\t\t\t\tremove = j;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (flag == -1) {\r\n\t\t\t\tlistFinal.add(newMapValues );\r\n\t\t\t} else if (flag != -1) {\r\n\t\t\t\tlistFinal.remove(remove);\r\n\t\t\t}\t\r\n\t\t}\r\n\t}","title":"Compare HashMap values in an ArrayList","body":"<p>I have an <code>ArrayList</code> and there are some <code>HashMap&lt;String, String&gt;</code> in this. So, I want to compare for same values in the maps. When I find same values then I want to keep one map of them. For example, consider that second map and fifth map (in the arraylist) have the same value. I want to keep the second map and remove the fifth from the arraylist.\ni try to do with an iterator, but i can't do it. It seems complicated. Can you give me an example?</p>\n\n<p>This is my last try: </p>\n\n<pre><code>private HashMap&lt;String, String&gt; mapValues = new HashMap&lt;String, String&gt;();\nprivate HashMap&lt;String, String&gt; mapValues2 = new HashMap&lt;String,String&gt;(); \nprivate HashMap&lt;Integer, String&gt; mval = new HashMap&lt;Integer, String&gt;();\n\n//i take the ArrayList with the maps for comparison private\nArrayList&lt;HashMap&lt;String, String&gt;&gt; check(ArrayList&lt;HashMap&lt;String, String&gt;&gt; list) {           \n\n //a new ArrayList. It will have the maps(HashMap&lt;key, value&gt;) with no same values.\n ArrayList&lt;HashMap&lt;String, String&gt;&gt; listFinal = new ArrayList&lt;HashMap&lt;String, String();\n\n    for (int i = 0; i &lt; list.size(); i++) {\n        mapValues = list.get(i);\n        mval.put(i, mapValues.get(\"value\"));\n    }\n\n    for (int i = 0; i &lt; mval.size(); i++) {\n        HashMap&lt;String, String&gt; newMapValues = new HashMap&lt;String, String&gt;();\n        mapValues2 = list.get(i);\n        String iVal = mapValues2.get(\"value\");\n        newMapValues = list.get(i);\n        int flag = -1;\n        int remove = -1;\n\n        for (int j = i+1; j &lt; mval.size()-1; j++) {\n            String jVal = mval.get(j);\n            if (val.compareTo(jVal) == 0) {\n                flag = i;\n                remove = j;\n            }\n        }\n        if (flag == -1) {\n            listFinal.add(newMapValues );\n        } else if (flag != -1) {\n            listFinal.remove(remove);\n        }   \n    }\n}\n</code></pre>\n"},{"tags":["java","single-sign-on","saml","saml-2.0","opensaml"],"answers":[{"tags":[],"owner":{"account_id":6301302,"reputation":636,"user_id":4895860,"accept_rate":70,"display_name":"Yuri Blanc"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1475056373,"creation_date":1474979591,"answer_id":39724799,"question_id":32454322,"body_markdown":"I solved it time ago, so i put the response here for someone&#39;s else need.\r\n\r\nWhen creating the AuthnRequest object with the builder:\r\n\r\n        // Add signature to request\r\n        SignatureBuilder signFactory = new SignatureBuilder();\r\n        Signature signature = signFactory.buildObject(Signature.DEFAULT_ELEMENT_NAME);\r\n        \t\tsignature.setCanonicalizationAlgorithm(getIdpSignature().getCanonicalizationAlgorithm());\r\n        \t\tsignature.setSignatureAlgorithm(getIdpSignature().getSignatureAlgorithm());\r\n        \t\tsignature.setSigningCredential(this.getCredentialFromFiles(SP_PRIVATEKEY,SP_CERTIFICATE));\r\n    // set signature\r\n    request.setSignature(signature);\r\n\r\nThe method this.getCredentialFromFiles() read x509 certificate from disk and build BasicX509Credential object\r\n\r\nThis is how to sign the XML object\r\n\t\r\n\r\n    private void signRequest(SignableXMLObject obj) {\r\n    \t\tCredential credential = this.getCredential(SP_PRIVATEKEY, SP_CERTIFICATE);\r\n    \t\tSignature signature = (Signature) Configuration.getBuilderFactory().getBuilder(Signature.DEFAULT_ELEMENT_NAME)\r\n    \t\t\t\t.buildObject(Signature.DEFAULT_ELEMENT_NAME);\r\n    \t\tsignature.setSigningCredential(credential);\r\n    \t\tsignature.setCanonicalizationAlgorithm(getIdpSignature().getCanonicalizationAlgorithm());\r\n    \t\tsignature.setSignatureAlgorithm(getIdpSignature().getSignatureAlgorithm());\r\n    \t\tSecurityConfiguration secConfig = Configuration.getGlobalSecurityConfiguration();\r\n    \t\ttry {\r\n    \t\t\tSecurityHelper.prepareSignatureParams(signature, credential, secConfig, null);\r\n    \t\t\tobj.setSignature(signature);\r\n    \t\t\tConfiguration.getMarshallerFactory().getMarshaller(obj).marshall(obj);\r\n    \t\t\tSigner.signObject(signature);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\nAnd then sign the request:\r\n\r\n    this.signRequest(request);\r\n\r\n\r\n**+1 if you found it userful!**","title":"OpenSaml AuthnRequest signature","body":"<p>I solved it time ago, so i put the response here for someone's else need.</p>\n\n<p>When creating the AuthnRequest object with the builder:</p>\n\n<pre><code>    // Add signature to request\n    SignatureBuilder signFactory = new SignatureBuilder();\n    Signature signature = signFactory.buildObject(Signature.DEFAULT_ELEMENT_NAME);\n            signature.setCanonicalizationAlgorithm(getIdpSignature().getCanonicalizationAlgorithm());\n            signature.setSignatureAlgorithm(getIdpSignature().getSignatureAlgorithm());\n            signature.setSigningCredential(this.getCredentialFromFiles(SP_PRIVATEKEY,SP_CERTIFICATE));\n// set signature\nrequest.setSignature(signature);\n</code></pre>\n\n<p>The method this.getCredentialFromFiles() read x509 certificate from disk and build BasicX509Credential object</p>\n\n<p>This is how to sign the XML object</p>\n\n<pre><code>private void signRequest(SignableXMLObject obj) {\n        Credential credential = this.getCredential(SP_PRIVATEKEY, SP_CERTIFICATE);\n        Signature signature = (Signature) Configuration.getBuilderFactory().getBuilder(Signature.DEFAULT_ELEMENT_NAME)\n                .buildObject(Signature.DEFAULT_ELEMENT_NAME);\n        signature.setSigningCredential(credential);\n        signature.setCanonicalizationAlgorithm(getIdpSignature().getCanonicalizationAlgorithm());\n        signature.setSignatureAlgorithm(getIdpSignature().getSignatureAlgorithm());\n        SecurityConfiguration secConfig = Configuration.getGlobalSecurityConfiguration();\n        try {\n            SecurityHelper.prepareSignatureParams(signature, credential, secConfig, null);\n            obj.setSignature(signature);\n            Configuration.getMarshallerFactory().getMarshaller(obj).marshall(obj);\n            Signer.signObject(signature);\n        } catch (Exception e) {\n\n        }\n    }\n</code></pre>\n\n<p>And then sign the request:</p>\n\n<pre><code>this.signRequest(request);\n</code></pre>\n\n<p><strong>+1 if you found it userful!</strong></p>\n"},{"tags":[],"owner":{"account_id":3033104,"reputation":1296,"user_id":2571728,"accept_rate":60,"display_name":"mpartan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636971891,"creation_date":1636966496,"answer_id":69971664,"question_id":32454322,"body_markdown":"With OpenSAML 4.0. I got something like this, it&#39;s written in Scala, but can be converted to Java or some other JVM language you&#39;re using quite painlessly. SignableXMLObject can be the AuthnRequest created with `new AuthnRequestBuilder().buildObject()`\r\n\r\n```\r\ndef signRequest(obj: SignableXMLObject, key: PrivateKey, certificate: X509Certificate): Unit = {\r\n  val credential  = new BasicX509Credential(certificate, key)\r\n  val signature = new SignatureBuilder().buildObject()\r\n  signature.setSigningCredential(credential)\r\n  signature.setSignatureAlgorithm(SignatureConstants.ALGO_ID_SIGNATURE_RSA_SHA1)\r\n  signature.setCanonicalizationAlgorithm(SignatureConstants.ALGO_ID_C14N_EXCL_OMIT_COMMENTS)\r\n  obj.setSignature(signature)\r\n  XMLObjectProviderRegistrySupport.getMarshallerFactory.getMarshaller(obj).marshall(obj)\r\n  Signer.signObject(signature)\r\n}\r\n```\r\n\r\nAlso with OpenSAML 4.0. you need to trigger initialization like this instead of DefaultBootstrap:\r\n\r\n`InitializationService.initialize()`\r\n\r\nCreating the AuthnRequest without signing, but you can call the signing on it:\r\n\r\n```\r\nval uid          = &quot;a&quot; + UUID.randomUUID().toString\r\nval authnRequest = new AuthnRequestBuilder().buildObject()\r\nauthnRequest.setIssueInstant(Instant.now())\r\nauthnRequest.setID(uid)\r\nauthnRequest.setAssertionConsumerServiceIndex(0)\r\nauthnRequest.setAttributeConsumingServiceIndex(0)\r\nauthnRequest.setVersion(SAMLVersion.VERSION_20)\r\nauthnRequest.setDestination(identityProviderUrl)\r\n\r\nval authIssuer = new IssuerBuilder().buildObject()\r\nauthIssuer.setValue(issuer)\r\nauthnRequest.setIssuer(authIssuer)\r\n\r\nval nameIDPolicy = new NameIDPolicyBuilder().buildObject()\r\nnameIDPolicy.setAllowCreate(false)\r\nnameIDPolicy.setFormat(NameIDType.PERSISTENT)\r\nauthnRequest.setNameIDPolicy(nameIDPolicy)\r\n\r\nval marshaller = XMLObjectProviderRegistrySupport.getMarshallerFactory.getMarshaller(authnRequest)\r\nmarshaller.marshall(authnRequest)\r\n```\r\n\r\nNeed to deflate the XML before putting it in `SAMLRequest` parameter\r\n\r\n```\r\nval byteArrayOutputStream = new ByteArrayOutputStream\r\nval deflater              = new Deflater(Deflater.DEFLATED, true)\r\nval deflaterOutputStream  = new DeflaterOutputStream(byteArrayOutputStream, deflater)\r\nstream = Option(deflaterOutputStream)\r\ndeflaterOutputStream.write(request.getBytes)\r\ndeflaterOutputStream.close()\r\n```\r\n\r\nAnd lastly when you get the AuthnResponse it can be unmarshalled with the libraries as well. SignatureValidator can be used to check the response signature (for instance need to have identity provider credential set up, shortened some code here just for reference)\r\n\r\n```\r\nval base64DecodedResponse  = Base64.getDecoder.decode(responseEncoded)\r\nval responseString         = new String(base64DecodedResponse)\r\nval is                     = new ByteArrayInputStream(base64DecodedResponse)\r\nval documentBuilderFactory = DocumentBuilderFactory.newInstance\r\ndocumentBuilderFactory.setNamespaceAware(true)\r\nval docBuilder     = documentBuilderFactory.newDocumentBuilder\r\nval document       = docBuilder.parse(is)\r\nval element        = document.getDocumentElement\r\nval unmarshaller   = XMLObjectProviderRegistrySupport.getUnmarshallerFactory.getUnmarshaller(element)\r\nval responseXmlObj = unmarshaller.unmarshall(element)\r\nval assertion = responseXmlObj.asInstanceOf[Response].getAssertions.asScala.head\r\nSignatureValidator.validate(assertion.getSignature, identityProviderCredential)\r\n```","title":"OpenSaml AuthnRequest signature","body":"<p>With OpenSAML 4.0. I got something like this, it's written in Scala, but can be converted to Java or some other JVM language you're using quite painlessly. SignableXMLObject can be the AuthnRequest created with <code>new AuthnRequestBuilder().buildObject()</code></p>\n<pre><code>def signRequest(obj: SignableXMLObject, key: PrivateKey, certificate: X509Certificate): Unit = {\n  val credential  = new BasicX509Credential(certificate, key)\n  val signature = new SignatureBuilder().buildObject()\n  signature.setSigningCredential(credential)\n  signature.setSignatureAlgorithm(SignatureConstants.ALGO_ID_SIGNATURE_RSA_SHA1)\n  signature.setCanonicalizationAlgorithm(SignatureConstants.ALGO_ID_C14N_EXCL_OMIT_COMMENTS)\n  obj.setSignature(signature)\n  XMLObjectProviderRegistrySupport.getMarshallerFactory.getMarshaller(obj).marshall(obj)\n  Signer.signObject(signature)\n}\n</code></pre>\n<p>Also with OpenSAML 4.0. you need to trigger initialization like this instead of DefaultBootstrap:</p>\n<p><code>InitializationService.initialize()</code></p>\n<p>Creating the AuthnRequest without signing, but you can call the signing on it:</p>\n<pre><code>val uid          = &quot;a&quot; + UUID.randomUUID().toString\nval authnRequest = new AuthnRequestBuilder().buildObject()\nauthnRequest.setIssueInstant(Instant.now())\nauthnRequest.setID(uid)\nauthnRequest.setAssertionConsumerServiceIndex(0)\nauthnRequest.setAttributeConsumingServiceIndex(0)\nauthnRequest.setVersion(SAMLVersion.VERSION_20)\nauthnRequest.setDestination(identityProviderUrl)\n\nval authIssuer = new IssuerBuilder().buildObject()\nauthIssuer.setValue(issuer)\nauthnRequest.setIssuer(authIssuer)\n\nval nameIDPolicy = new NameIDPolicyBuilder().buildObject()\nnameIDPolicy.setAllowCreate(false)\nnameIDPolicy.setFormat(NameIDType.PERSISTENT)\nauthnRequest.setNameIDPolicy(nameIDPolicy)\n\nval marshaller = XMLObjectProviderRegistrySupport.getMarshallerFactory.getMarshaller(authnRequest)\nmarshaller.marshall(authnRequest)\n</code></pre>\n<p>Need to deflate the XML before putting it in <code>SAMLRequest</code> parameter</p>\n<pre><code>val byteArrayOutputStream = new ByteArrayOutputStream\nval deflater              = new Deflater(Deflater.DEFLATED, true)\nval deflaterOutputStream  = new DeflaterOutputStream(byteArrayOutputStream, deflater)\nstream = Option(deflaterOutputStream)\ndeflaterOutputStream.write(request.getBytes)\ndeflaterOutputStream.close()\n</code></pre>\n<p>And lastly when you get the AuthnResponse it can be unmarshalled with the libraries as well. SignatureValidator can be used to check the response signature (for instance need to have identity provider credential set up, shortened some code here just for reference)</p>\n<pre><code>val base64DecodedResponse  = Base64.getDecoder.decode(responseEncoded)\nval responseString         = new String(base64DecodedResponse)\nval is                     = new ByteArrayInputStream(base64DecodedResponse)\nval documentBuilderFactory = DocumentBuilderFactory.newInstance\ndocumentBuilderFactory.setNamespaceAware(true)\nval docBuilder     = documentBuilderFactory.newDocumentBuilder\nval document       = docBuilder.parse(is)\nval element        = document.getDocumentElement\nval unmarshaller   = XMLObjectProviderRegistrySupport.getUnmarshallerFactory.getUnmarshaller(element)\nval responseXmlObj = unmarshaller.unmarshall(element)\nval assertion = responseXmlObj.asInstanceOf[Response].getAssertions.asScala.head\nSignatureValidator.validate(assertion.getSignature, identityProviderCredential)\n</code></pre>\n"}],"owner":{"account_id":6301302,"reputation":636,"user_id":4895860,"accept_rate":70,"display_name":"Yuri Blanc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8000,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":39724799,"answer_count":2,"score":4,"last_activity_date":1636971891,"creation_date":1441705217,"question_id":32454322,"body_markdown":"I&#39;m building a SAML 2.0 AuthNRequest.\r\nI managed to add signature informations using OpenSaml but i can&#39;t find a way to add `&lt;ds:SignatureValue/&gt;` and `&lt;ds:DigestValue/&gt;` VALUES using the library.\r\nHere is the code:\r\n\r\n        public String buildAuthnRequest()  {\r\n    \t\tQName qname = new javax.xml.namespace.QName(SSO_METDATA_QNAME);\r\n    \t\tIssuerBuilder issuerBuilder = new IssuerBuilder();\r\n    \t\tIssuer issuer = issuerBuilder.buildObject(&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;, &quot;Issuer&quot;, &quot;samlp&quot;);\r\n    \t\tissuer.setValue(issuer.getValue());\r\n    \t\tDateTime issueInstant = new DateTime();\r\n    \t\tAuthnRequestBuilder authnRequestBuilder = new AuthnRequestBuilder();\r\n    \t\tAuthnRequest authnRequest = authnRequestBuilder.buildObject(&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot;,&quot;AuthnRequest&quot;, &quot;samlp&quot;);\r\n    \t\tauthnRequest.setAssertionConsumerServiceURL(&quot;http://test.com&quot;);\r\n    //\t\tSignature sign = null;\r\n    //\t\tsign.setSignatureAlgorithm(&quot;SHA256&quot;);\r\n    //\t\tCredential credential = null;\r\n    //\t\tsign.setSigningCredential(credential);\r\n    //\t\tauthnRequest.setSignature(sign);\r\n    \t\tNameIDPolicyBuilder policy = new NameIDPolicyBuilder();\r\n    \t\tNameIDPolicy pol = policy.buildObject();\r\n    \t\tRequestedAuthnContextBuilder contextBuild = new RequestedAuthnContextBuilder();\r\n    \t\tRequestedAuthnContext context = contextBuild.buildObject();\r\n    \t\tauthnRequest.setRequestedAuthnContext(context);\r\n    \t\tauthnRequest.setNameIDPolicy(pol);\r\n    \t\tauthnRequest.setForceAuthn(new Boolean(false));\r\n    \t\tauthnRequest.setIsPassive(new Boolean(false));\r\n    \t\tauthnRequest.setIssueInstant(issueInstant);\r\n    \t\tauthnRequest.setProtocolBinding(&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot;);\r\n    \t\tauthnRequest.setAssertionConsumerServiceURL(issuer.getElementQName().getNamespaceURI());\r\n    \t\tauthnRequest.setProviderName(&quot;RGI&quot;);\r\n    \t\tauthnRequest.setIssuer(issuer);\r\n    \t\tauthnRequest.setID(UUID.randomUUID().toString());\r\n    \t\tauthnRequest.setVersion(SAMLVersion.VERSION_20);\r\n    \t\tSignatureBuilder signBuilder = new SignatureBuilder();\r\n    \t\tSignature sign = signBuilder.buildObject();\r\n    \t\tsign.setSchemaLocation(&quot;http://www.w3.org/2000/09/xmldsig#&quot;);\r\n    \t\tsign.setSignatureAlgorithm(&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;);\r\n    \t\tsign.setCanonicalizationAlgorithm(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;);\r\n    \t\tKeyInfoBuilder keyBuilder = new KeyInfoBuilder();\r\n    \t\tKeyInfo key = keyBuilder.buildObject();\r\n    \t\tkey.setID(UUID.randomUUID().toString());\r\n    \t\tsign.setKeyInfo(key);\r\n    \t\t\r\n    \t\tauthnRequest.setSignature(sign);\r\n    \t\t\r\n    //\t\tRequestedAuthnContextBuilder requestContext = new RequestedAuthnContextBuilder();\r\n    //\t\tRequestedAuthnContext rx = requestContext.buildObject(qname);\r\n    //\t\tauthne\r\n    //\t\trx.setComparison(arg0);\r\n    //\t\tauthnRequest.setRequestedAuthnContext(arg0);\r\n    \t\t\r\n    \t\tLogger.info(&quot;AUTHNREQUEST: &quot;+authnRequest.toString());\r\n    \r\n    \t\tMarshaller marshaller = Configuration.getMarshallerFactory().getMarshaller(authnRequest);\r\n    \t\t/* Encoding the compressed message */\r\n    \t\tString encodedRequestMessage = null;\r\n    \t\tString redirectionUrl = null;\r\n    \t\ttry {\r\n    \t\t\tElement authDOM = marshaller.marshall(authnRequest);\r\n    \t\t\tStringWriter rspWrt = new StringWriter();\r\n    \t\t\tXMLHelper.writeNode(authDOM, rspWrt);\r\n    \t\t\tString requestMessage = rspWrt.toString();\r\n    \t\t\tutils.saveToFile(&quot;authmnRequest.xml&quot;, requestMessage);\r\n    \t\t\tDeflater deflater = new Deflater(Deflater.DEFLATED, true);\r\n    \t\t\tByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n    \t\t\tDeflaterOutputStream deflaterOutputStream = new DeflaterOutputStream(byteArrayOutputStream, deflater);\r\n    \t\t\tdeflaterOutputStream.write(requestMessage.getBytes());\r\n    \t\t\tdeflaterOutputStream.close();\r\n    \t\t\tencodedRequestMessage = Base64.encodeBytes(byteArrayOutputStream.toByteArray(), Base64.DONT_BREAK_LINES);\r\n    \t\t\tString encodedAuthnRequest = URLEncoder.encode(encodedRequestMessage,&quot;UTF-8&quot;).trim();\r\n    \t\t\tString identitypProviderUrl = SignInUrl;\r\n    \t\t\tredirectionUrl = identitypProviderUrl + &quot;?SAMLRequest=&quot;+ encodedRequestMessage;\r\n    \t\t\tLogger.info(&quot;RedirectionUrl: &quot;+redirectionUrl);\r\n    \t\t\treturn redirectionUrl;\r\n    \t\t} catch (UnsupportedEncodingException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (MarshallingException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn redirectionUrl;\r\n\r\n\r\nI can use both HTTP-POST binding and HTTP-REDIRECT binding. I was trying to use HTTP-POST but if someone can explain how to make a HTTP-REDIRECT signature is accepted as an answer.\r\n\r\nThe ouput of HTTP-POST looks like:\r\n\r\n        &lt;samlp:AuthnRequest xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; ID=&quot;pfx41d8ef22-e612-8c50-9960-1b16f15741b3&quot; Version=&quot;2.0&quot; ProviderName=&quot;SP test&quot; IssueInstant=&quot;2014-07-16T23:52:45Z&quot; Destination=&quot;http://idp.example.com/SSOService.php&quot; ProtocolBinding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; AssertionConsumerServiceURL=&quot;http://sp.example.com/demo1/index.php?acs&quot;&gt;\r\n      &lt;saml:Issuer&gt;http://sp.example.com/demo1/metadata.php&lt;/saml:Issuer&gt;\r\n      &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n        &lt;ds:SignedInfo&gt;\r\n          &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;/&gt;\r\n          &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;/&gt;\r\n          &lt;ds:Reference URI=&quot;#pfx41d8ef22-e612-8c50-9960-1b16f15741b3&quot;&gt;\r\n            &lt;ds:Transforms&gt;\r\n              &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;/&gt;\r\n              &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;/&gt;\r\n            &lt;/ds:Transforms&gt;\r\n            &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;/&gt;\r\n            &lt;ds:DigestValue&gt;yJN6cXUwQxTmMEsPesBP2NkqYFI=&lt;/ds:DigestValue&gt;\r\n          &lt;/ds:Reference&gt;\r\n        &lt;/ds:SignedInfo&gt;\r\n        &lt;ds:SignatureValue&gt;g5eM9yPnKsmmE/Kh2qS7nfK8HoF6yHrAdNQxh70kh8pRI4KaNbYNOL9sF8F57Yd+jO6iNga8nnbwhbATKGXIZOJJSugXGAMRyZsj/rqngwTJk5KmujbqouR1SLFsbo7Iuwze933EgefBbAE4JRI7V2aD9YgmB3socPqAi2Qf97E=&lt;/ds:SignatureValue&gt;\r\n        &lt;ds:KeyInfo&gt;\r\n          &lt;ds:X509Data&gt;\r\n            &lt;ds:X509Certificate&gt;MIICajCCAdOgAwIBAgIBADANBgkqhkiG9w0BAQQFADBSMQswCQYDVQQGEwJ1czETMBEGA1UECAwKQ2FsaWZvcm5pYTEVMBMGA1UECgwMT25lbG9naW4gSW5jMRcwFQYDVQQDDA5zcC5leGFtcGxlLmNvbTAeFw0xNDA3MTcwMDI5MjdaFw0xNTA3MTcwMDI5MjdaMFIxCzAJBgNVBAYTAnVzMRMwEQYDVQQIDApDYWxpZm9ybmlhMRUwEwYDVQQKDAxPbmVsb2dpbiBJbmMxFzAVBgNVBAMMDnNwLmV4YW1wbGUuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC7vU/6R/OBA6BKsZH4L2bIQ2cqBO7/aMfPjUPJPSn59d/f0aRqSC58YYrPuQODydUABiCknOn9yV0fEYm4bNvfjroTEd8bDlqo5oAXAUAI8XHPppJNz7pxbhZW0u35q45PJzGM9nCv9bglDQYJLby1ZUdHsSiDIpMbGgf/ZrxqawIDAQABo1AwTjAdBgNVHQ4EFgQU3s2NEpYx7wH6bq7xJFKa46jBDf4wHwYDVR0jBBgwFoAU3s2NEpYx7wH6bq7xJFKa46jBDf4wDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQQFAAOBgQCPsNO2FG+zmk5miXEswAs30E14rBJpe/64FBpM1rPzOleexvMgZlr0/smF3P5TWb7H8Fy5kEiByxMjaQmml/nQx6qgVVzdhaTANpIE1ywEzVJlhdvw4hmRuEKYqTaFMLez0sRL79LUeDxPWw7Mj9FkpRYT+kAGiFomHop1nErV6Q==&lt;/ds:X509Certificate&gt;\r\n          &lt;/ds:X509Data&gt;\r\n        &lt;/ds:KeyInfo&gt;\r\n      &lt;/ds:Signature&gt;\r\n      &lt;samlp:NameIDPolicy Format=&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&quot; AllowCreate=&quot;true&quot;/&gt;\r\n      &lt;samlp:RequestedAuthnContext Comparison=&quot;exact&quot;&gt;\r\n        &lt;saml:AuthnContextClassRef&gt;urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport&lt;/saml:AuthnContextClassRef&gt;\r\n      &lt;/samlp:RequestedAuthnContext&gt;\r\n    &lt;/samlp:AuthnRequest&gt;\r\n\r\nMy current output is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;samlp:AuthnRequest AssertionConsumerServiceURL=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; ForceAuthn=&quot;false&quot; ID=&quot;371fd275-271c-4e4e-a94e-858d7f616170&quot; IsPassive=&quot;false&quot; IssueInstant=&quot;2015-09-08T08:49:12.216Z&quot; ProtocolBinding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot;\r\n    ProviderName=&quot;RGI&quot; Version=&quot;2.0&quot; xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot;&gt;\r\n    \t&lt;samlp:Issuer xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; /&gt;\r\n    \t&lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n    \t\t&lt;ds:SignedInfo&gt;\r\n    \t\t\t&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\r\n    \t\t\t&lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt;\r\n    \t\t\t&lt;ds:Reference URI=&quot;#371fd275-271c-4e4e-a94e-858d7f616170&quot;&gt;\r\n    \t\t\t\t&lt;ds:Transforms&gt;\r\n    \t\t\t\t\t&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; /&gt;\r\n    \t\t\t\t\t&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;&lt;/ds:Transforms&gt;\r\n    \t\t\t\t&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n    \t\t\t\t&lt;ds:DigestValue/&gt;&lt;/ds:Reference&gt;\r\n    \t\t&lt;/ds:SignedInfo&gt;\r\n    \t\t&lt;ds:SignatureValue/&gt;\r\n    \t\t&lt;ds:KeyInfo Id=&quot;86ff0678-998d-4c97-bd1f-efdb9640de80&quot; /&gt;&lt;/ds:Signature&gt;\r\n    \t&lt;saml2p:NameIDPolicy xmlns:saml2p=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; /&gt;\r\n    \t&lt;saml2p:RequestedAuthnContext xmlns:saml2p=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; /&gt;\r\n    &lt;/samlp:AuthnRequest&gt;\r\n\r\nThanks in advance\r\n","title":"OpenSaml AuthnRequest signature","body":"<p>I'm building a SAML 2.0 AuthNRequest.\nI managed to add signature informations using OpenSaml but i can't find a way to add <code>&lt;ds:SignatureValue/&gt;</code> and <code>&lt;ds:DigestValue/&gt;</code> VALUES using the library.\nHere is the code:</p>\n\n<pre><code>    public String buildAuthnRequest()  {\n        QName qname = new javax.xml.namespace.QName(SSO_METDATA_QNAME);\n        IssuerBuilder issuerBuilder = new IssuerBuilder();\n        Issuer issuer = issuerBuilder.buildObject(\"urn:oasis:names:tc:SAML:2.0:assertion\", \"Issuer\", \"samlp\");\n        issuer.setValue(issuer.getValue());\n        DateTime issueInstant = new DateTime();\n        AuthnRequestBuilder authnRequestBuilder = new AuthnRequestBuilder();\n        AuthnRequest authnRequest = authnRequestBuilder.buildObject(\"urn:oasis:names:tc:SAML:2.0:protocol\",\"AuthnRequest\", \"samlp\");\n        authnRequest.setAssertionConsumerServiceURL(\"http://test.com\");\n//      Signature sign = null;\n//      sign.setSignatureAlgorithm(\"SHA256\");\n//      Credential credential = null;\n//      sign.setSigningCredential(credential);\n//      authnRequest.setSignature(sign);\n        NameIDPolicyBuilder policy = new NameIDPolicyBuilder();\n        NameIDPolicy pol = policy.buildObject();\n        RequestedAuthnContextBuilder contextBuild = new RequestedAuthnContextBuilder();\n        RequestedAuthnContext context = contextBuild.buildObject();\n        authnRequest.setRequestedAuthnContext(context);\n        authnRequest.setNameIDPolicy(pol);\n        authnRequest.setForceAuthn(new Boolean(false));\n        authnRequest.setIsPassive(new Boolean(false));\n        authnRequest.setIssueInstant(issueInstant);\n        authnRequest.setProtocolBinding(\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\");\n        authnRequest.setAssertionConsumerServiceURL(issuer.getElementQName().getNamespaceURI());\n        authnRequest.setProviderName(\"RGI\");\n        authnRequest.setIssuer(issuer);\n        authnRequest.setID(UUID.randomUUID().toString());\n        authnRequest.setVersion(SAMLVersion.VERSION_20);\n        SignatureBuilder signBuilder = new SignatureBuilder();\n        Signature sign = signBuilder.buildObject();\n        sign.setSchemaLocation(\"http://www.w3.org/2000/09/xmldsig#\");\n        sign.setSignatureAlgorithm(\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\");\n        sign.setCanonicalizationAlgorithm(\"http://www.w3.org/2001/10/xml-exc-c14n#\");\n        KeyInfoBuilder keyBuilder = new KeyInfoBuilder();\n        KeyInfo key = keyBuilder.buildObject();\n        key.setID(UUID.randomUUID().toString());\n        sign.setKeyInfo(key);\n\n        authnRequest.setSignature(sign);\n\n//      RequestedAuthnContextBuilder requestContext = new RequestedAuthnContextBuilder();\n//      RequestedAuthnContext rx = requestContext.buildObject(qname);\n//      authne\n//      rx.setComparison(arg0);\n//      authnRequest.setRequestedAuthnContext(arg0);\n\n        Logger.info(\"AUTHNREQUEST: \"+authnRequest.toString());\n\n        Marshaller marshaller = Configuration.getMarshallerFactory().getMarshaller(authnRequest);\n        /* Encoding the compressed message */\n        String encodedRequestMessage = null;\n        String redirectionUrl = null;\n        try {\n            Element authDOM = marshaller.marshall(authnRequest);\n            StringWriter rspWrt = new StringWriter();\n            XMLHelper.writeNode(authDOM, rspWrt);\n            String requestMessage = rspWrt.toString();\n            utils.saveToFile(\"authmnRequest.xml\", requestMessage);\n            Deflater deflater = new Deflater(Deflater.DEFLATED, true);\n            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n            DeflaterOutputStream deflaterOutputStream = new DeflaterOutputStream(byteArrayOutputStream, deflater);\n            deflaterOutputStream.write(requestMessage.getBytes());\n            deflaterOutputStream.close();\n            encodedRequestMessage = Base64.encodeBytes(byteArrayOutputStream.toByteArray(), Base64.DONT_BREAK_LINES);\n            String encodedAuthnRequest = URLEncoder.encode(encodedRequestMessage,\"UTF-8\").trim();\n            String identitypProviderUrl = SignInUrl;\n            redirectionUrl = identitypProviderUrl + \"?SAMLRequest=\"+ encodedRequestMessage;\n            Logger.info(\"RedirectionUrl: \"+redirectionUrl);\n            return redirectionUrl;\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        } catch (MarshallingException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return redirectionUrl;\n</code></pre>\n\n<p>I can use both HTTP-POST binding and HTTP-REDIRECT binding. I was trying to use HTTP-POST but if someone can explain how to make a HTTP-REDIRECT signature is accepted as an answer.</p>\n\n<p>The ouput of HTTP-POST looks like:</p>\n\n<pre><code>    &lt;samlp:AuthnRequest xmlns:samlp=\"urn:oasis:names:tc:SAML:2.0:protocol\" xmlns:saml=\"urn:oasis:names:tc:SAML:2.0:assertion\" ID=\"pfx41d8ef22-e612-8c50-9960-1b16f15741b3\" Version=\"2.0\" ProviderName=\"SP test\" IssueInstant=\"2014-07-16T23:52:45Z\" Destination=\"http://idp.example.com/SSOService.php\" ProtocolBinding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" AssertionConsumerServiceURL=\"http://sp.example.com/demo1/index.php?acs\"&gt;\n  &lt;saml:Issuer&gt;http://sp.example.com/demo1/metadata.php&lt;/saml:Issuer&gt;\n  &lt;ds:Signature xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n    &lt;ds:SignedInfo&gt;\n      &lt;ds:CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"/&gt;\n      &lt;ds:SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\"/&gt;\n      &lt;ds:Reference URI=\"#pfx41d8ef22-e612-8c50-9960-1b16f15741b3\"&gt;\n        &lt;ds:Transforms&gt;\n          &lt;ds:Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\"/&gt;\n          &lt;ds:Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"/&gt;\n        &lt;/ds:Transforms&gt;\n        &lt;ds:DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\"/&gt;\n        &lt;ds:DigestValue&gt;yJN6cXUwQxTmMEsPesBP2NkqYFI=&lt;/ds:DigestValue&gt;\n      &lt;/ds:Reference&gt;\n    &lt;/ds:SignedInfo&gt;\n    &lt;ds:SignatureValue&gt;g5eM9yPnKsmmE/Kh2qS7nfK8HoF6yHrAdNQxh70kh8pRI4KaNbYNOL9sF8F57Yd+jO6iNga8nnbwhbATKGXIZOJJSugXGAMRyZsj/rqngwTJk5KmujbqouR1SLFsbo7Iuwze933EgefBbAE4JRI7V2aD9YgmB3socPqAi2Qf97E=&lt;/ds:SignatureValue&gt;\n    &lt;ds:KeyInfo&gt;\n      &lt;ds:X509Data&gt;\n        &lt;ds:X509Certificate&gt;MIICajCCAdOgAwIBAgIBADANBgkqhkiG9w0BAQQFADBSMQswCQYDVQQGEwJ1czETMBEGA1UECAwKQ2FsaWZvcm5pYTEVMBMGA1UECgwMT25lbG9naW4gSW5jMRcwFQYDVQQDDA5zcC5leGFtcGxlLmNvbTAeFw0xNDA3MTcwMDI5MjdaFw0xNTA3MTcwMDI5MjdaMFIxCzAJBgNVBAYTAnVzMRMwEQYDVQQIDApDYWxpZm9ybmlhMRUwEwYDVQQKDAxPbmVsb2dpbiBJbmMxFzAVBgNVBAMMDnNwLmV4YW1wbGUuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC7vU/6R/OBA6BKsZH4L2bIQ2cqBO7/aMfPjUPJPSn59d/f0aRqSC58YYrPuQODydUABiCknOn9yV0fEYm4bNvfjroTEd8bDlqo5oAXAUAI8XHPppJNz7pxbhZW0u35q45PJzGM9nCv9bglDQYJLby1ZUdHsSiDIpMbGgf/ZrxqawIDAQABo1AwTjAdBgNVHQ4EFgQU3s2NEpYx7wH6bq7xJFKa46jBDf4wHwYDVR0jBBgwFoAU3s2NEpYx7wH6bq7xJFKa46jBDf4wDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQQFAAOBgQCPsNO2FG+zmk5miXEswAs30E14rBJpe/64FBpM1rPzOleexvMgZlr0/smF3P5TWb7H8Fy5kEiByxMjaQmml/nQx6qgVVzdhaTANpIE1ywEzVJlhdvw4hmRuEKYqTaFMLez0sRL79LUeDxPWw7Mj9FkpRYT+kAGiFomHop1nErV6Q==&lt;/ds:X509Certificate&gt;\n      &lt;/ds:X509Data&gt;\n    &lt;/ds:KeyInfo&gt;\n  &lt;/ds:Signature&gt;\n  &lt;samlp:NameIDPolicy Format=\"urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress\" AllowCreate=\"true\"/&gt;\n  &lt;samlp:RequestedAuthnContext Comparison=\"exact\"&gt;\n    &lt;saml:AuthnContextClassRef&gt;urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport&lt;/saml:AuthnContextClassRef&gt;\n  &lt;/samlp:RequestedAuthnContext&gt;\n&lt;/samlp:AuthnRequest&gt;\n</code></pre>\n\n<p>My current output is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;samlp:AuthnRequest AssertionConsumerServiceURL=\"urn:oasis:names:tc:SAML:2.0:assertion\" ForceAuthn=\"false\" ID=\"371fd275-271c-4e4e-a94e-858d7f616170\" IsPassive=\"false\" IssueInstant=\"2015-09-08T08:49:12.216Z\" ProtocolBinding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\"\nProviderName=\"RGI\" Version=\"2.0\" xmlns:samlp=\"urn:oasis:names:tc:SAML:2.0:protocol\"&gt;\n    &lt;samlp:Issuer xmlns:samlp=\"urn:oasis:names:tc:SAML:2.0:assertion\" /&gt;\n    &lt;ds:Signature xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n        &lt;ds:SignedInfo&gt;\n            &lt;ds:CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt;\n            &lt;ds:SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\" /&gt;\n            &lt;ds:Reference URI=\"#371fd275-271c-4e4e-a94e-858d7f616170\"&gt;\n                &lt;ds:Transforms&gt;\n                    &lt;ds:Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\" /&gt;\n                    &lt;ds:Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt;&lt;/ds:Transforms&gt;\n                &lt;ds:DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\" /&gt;\n                &lt;ds:DigestValue/&gt;&lt;/ds:Reference&gt;\n        &lt;/ds:SignedInfo&gt;\n        &lt;ds:SignatureValue/&gt;\n        &lt;ds:KeyInfo Id=\"86ff0678-998d-4c97-bd1f-efdb9640de80\" /&gt;&lt;/ds:Signature&gt;\n    &lt;saml2p:NameIDPolicy xmlns:saml2p=\"urn:oasis:names:tc:SAML:2.0:protocol\" /&gt;\n    &lt;saml2p:RequestedAuthnContext xmlns:saml2p=\"urn:oasis:names:tc:SAML:2.0:protocol\" /&gt;\n&lt;/samlp:AuthnRequest&gt;\n</code></pre>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot","resttemplate"],"comments":[{"owner":{"account_id":4642086,"reputation":23628,"user_id":3761628,"accept_rate":88,"display_name":"eol"},"score":0,"creation_date":1636964621,"post_id":69971308,"comment_id":123688755,"body_markdown":"Do you mean &quot;thread pool&quot; instead of &quot;connection pool&quot;?","body":"Do you mean &quot;thread pool&quot; instead of &quot;connection pool&quot;?"},{"owner":{"account_id":6312469,"reputation":187,"user_id":4903586,"accept_rate":67,"display_name":"Arpit Tomar"},"score":0,"creation_date":1636965177,"post_id":69971308,"comment_id":123688928,"body_markdown":"I mean the rest connection pool which has the maxConnPerRoute and the maxConnTotal properties(PoolingHttpClientConnectionManager)","body":"I mean the rest connection pool which has the maxConnPerRoute and the maxConnTotal properties(PoolingHttpClientConnectionManager)"}],"answers":[{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636971881,"creation_date":1636971881,"answer_id":69972844,"question_id":69971308,"body_markdown":"If you do nothing in the interceptor, then no HTTP call will be initiated, which means that a connection will not be acquired.\r\n\r\nThe code that makes the HTTP call is in ```InterceptingClientHttpRequest```:\r\n\r\n```\r\n    private class InterceptingRequestExecution implements ClientHttpRequestExecution {\r\n\r\n\t\tprivate final Iterator&lt;ClientHttpRequestInterceptor&gt; iterator;\r\n\r\n\t\tpublic InterceptingRequestExecution() {\r\n\t\t\tthis.iterator = interceptors.iterator();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic ClientHttpResponse execute(HttpRequest request, byte[] body) throws IOException {\r\n\t\t\tif (this.iterator.hasNext()) {\r\n\t\t\t\tClientHttpRequestInterceptor nextInterceptor = this.iterator.next();\r\n\t\t\t\treturn nextInterceptor.intercept(request, body, this);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tHttpMethod method = request.getMethod();\r\n\t\t\t\tAssert.state(method != null, &quot;No standard HTTP method&quot;);\r\n\t\t\t\tClientHttpRequest delegate = requestFactory.createRequest(request.getURI(), method);\r\n\t\t\t\trequest.getHeaders().forEach((key, value) -&gt; delegate.getHeaders().addAll(key, value));\r\n\t\t\t\tif (body.length &gt; 0) {\r\n\t\t\t\t\tif (delegate instanceof StreamingHttpOutputMessage) {\r\n\t\t\t\t\t\tStreamingHttpOutputMessage streamingOutputMessage = (StreamingHttpOutputMessage) delegate;\r\n\t\t\t\t\t\tstreamingOutputMessage.setBody(outputStream -&gt; StreamUtils.copy(body, outputStream));\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tStreamUtils.copy(body, delegate.getBody());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn delegate.execute();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\nAs you can see, all interceptors are iterated to invoke ```intercept```.\r\n\r\nIn general, in your ```intercept method```, you need to execute the request (if you don&#39;t want to block it).\r\n\r\nSuppose you have two interceptors:\r\n\r\n```\r\n    RestTemplate rest = new RestTemplate();\r\n    rest.setInterceptors(Arrays.asList(new ClientHttpRequestInterceptor() {\r\n      @Override\r\n      public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\r\n        System.out.println(&quot;first interceptor enter&quot;);\r\n        ClientHttpResponse execute = execution.execute(request, body);\r\n        System.out.println(execute.getStatusCode() + &quot; In first interceptor&quot;);\r\n        System.out.println(&quot;first interceptor exit&quot;);\r\n        return execute;\r\n      }\r\n    }, new ClientHttpRequestInterceptor() {\r\n      @Override\r\n      public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\r\n        System.out.println(&quot;second interceptor enter&quot;);\r\n        ClientHttpResponse execute = execution.execute(request, body);\r\n        System.out.println(execute.getStatusCode() + &quot; In second interceptor&quot;);\r\n        System.out.println(&quot;second interceptor exit&quot;);\r\n        return execute;\r\n      }\r\n    }));\r\n    return rest.getForObject(&quot;https://stackoverflow.com/&quot;, String.class);\r\n\r\n// output:\r\nfirst interceptor enter\r\nsecond interceptor enter\r\n200 OK In second interceptor\r\nsecond interceptor exit\r\n200 OK In first interceptor\r\nfirst interceptor exit\r\n```\r\nThe flow here is:\r\n1. The interceptor method of the first interceptor(```interceptor A```) is called.\r\n2. When ```interceptor A``` executes ```execution.execute(request, body)```, second interceptor(```interceptor A```) is called.\r\n3. When ```interceptor B``` executes ```execution.execute(request, body)```, since there are no interceptors left, it will eventually make an HTTP call by ```requestFactory.createRequest(request.getURI(), method) ```. (In this method, a connection will be acquired as you say).\r\n\r\n\r\n\r\n","title":"ClientHttpRequestInterceptor intercept method calling sequence?","body":"<p>If you do nothing in the interceptor, then no HTTP call will be initiated, which means that a connection will not be acquired.</p>\n<p>The code that makes the HTTP call is in <code>InterceptingClientHttpRequest</code>:</p>\n<pre><code>    private class InterceptingRequestExecution implements ClientHttpRequestExecution {\n\n        private final Iterator&lt;ClientHttpRequestInterceptor&gt; iterator;\n\n        public InterceptingRequestExecution() {\n            this.iterator = interceptors.iterator();\n        }\n\n        @Override\n        public ClientHttpResponse execute(HttpRequest request, byte[] body) throws IOException {\n            if (this.iterator.hasNext()) {\n                ClientHttpRequestInterceptor nextInterceptor = this.iterator.next();\n                return nextInterceptor.intercept(request, body, this);\n            }\n            else {\n                HttpMethod method = request.getMethod();\n                Assert.state(method != null, &quot;No standard HTTP method&quot;);\n                ClientHttpRequest delegate = requestFactory.createRequest(request.getURI(), method);\n                request.getHeaders().forEach((key, value) -&gt; delegate.getHeaders().addAll(key, value));\n                if (body.length &gt; 0) {\n                    if (delegate instanceof StreamingHttpOutputMessage) {\n                        StreamingHttpOutputMessage streamingOutputMessage = (StreamingHttpOutputMessage) delegate;\n                        streamingOutputMessage.setBody(outputStream -&gt; StreamUtils.copy(body, outputStream));\n                    }\n                    else {\n                        StreamUtils.copy(body, delegate.getBody());\n                    }\n                }\n                return delegate.execute();\n            }\n        }\n    }\n</code></pre>\n<p>As you can see, all interceptors are iterated to invoke <code>intercept</code>.</p>\n<p>In general, in your <code>intercept method</code>, you need to execute the request (if you don't want to block it).</p>\n<p>Suppose you have two interceptors:</p>\n<pre><code>    RestTemplate rest = new RestTemplate();\n    rest.setInterceptors(Arrays.asList(new ClientHttpRequestInterceptor() {\n      @Override\n      public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\n        System.out.println(&quot;first interceptor enter&quot;);\n        ClientHttpResponse execute = execution.execute(request, body);\n        System.out.println(execute.getStatusCode() + &quot; In first interceptor&quot;);\n        System.out.println(&quot;first interceptor exit&quot;);\n        return execute;\n      }\n    }, new ClientHttpRequestInterceptor() {\n      @Override\n      public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\n        System.out.println(&quot;second interceptor enter&quot;);\n        ClientHttpResponse execute = execution.execute(request, body);\n        System.out.println(execute.getStatusCode() + &quot; In second interceptor&quot;);\n        System.out.println(&quot;second interceptor exit&quot;);\n        return execute;\n      }\n    }));\n    return rest.getForObject(&quot;https://stackoverflow.com/&quot;, String.class);\n\n// output:\nfirst interceptor enter\nsecond interceptor enter\n200 OK In second interceptor\nsecond interceptor exit\n200 OK In first interceptor\nfirst interceptor exit\n</code></pre>\n<p>The flow here is:</p>\n<ol>\n<li>The interceptor method of the first interceptor(<code>interceptor A</code>) is called.</li>\n<li>When <code>interceptor A</code> executes <code>execution.execute(request, body)</code>, second interceptor(<code>interceptor A</code>) is called.</li>\n<li>When <code>interceptor B</code> executes <code>execution.execute(request, body)</code>, since there are no interceptors left, it will eventually make an HTTP call by <code>requestFactory.createRequest(request.getURI(), method) </code>. (In this method, a connection will be acquired as you say).</li>\n</ol>\n"}],"owner":{"account_id":6312469,"reputation":187,"user_id":4903586,"accept_rate":67,"display_name":"Arpit Tomar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":900,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636971881,"creation_date":1636964514,"question_id":69971308,"body_markdown":"Is the intercept method of ClientHttpRequestInterceptor called before the connection is acquired from the rest template connection pool or after?","title":"ClientHttpRequestInterceptor intercept method calling sequence?","body":"<p>Is the intercept method of ClientHttpRequestInterceptor called before the connection is acquired from the rest template connection pool or after?</p>\n"},{"tags":["java","ssl","tls1.2","tls1.3"],"answers":[{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636557589,"creation_date":1636557589,"answer_id":69915851,"question_id":69911570,"body_markdown":"It is not possible to get the server certificate as pem with `javax.net.debug` You can try the following snippet which I also use for my own project:\r\n\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; certificates = CertificateUtils.getCertificateAsPem(\r\n            &quot;https://github.com/&quot;, \r\n            &quot;https://stackoverflow.com/&quot;);\r\n```\r\n\r\nIt will extract all the certificates for the given urls in pem format. It is available within my own library which is publicly available here: [GitHub - SSLContext Kickstart][1]\r\n\r\nOr you can also do the same with a CLI, see here: [GitHub - Certificate Ripper][2] Below is an example of the snippet above:\r\n\r\n```\r\ncrip print -u=https://github.com -u=https://stackoverflow.com -f=pem\r\n```\r\n\r\nPlease let me know if this is something which will do the trick for you\r\n\r\n  [1]: https://github.com/Hakky54/sslcontext-kickstart\r\n  [2]: https://github.com/Hakky54/certificate-ripper","title":"Is it possible to log the server certifcate in PEM format with javax.net.debug?","body":"<p>It is not possible to get the server certificate as pem with <code>javax.net.debug</code> You can try the following snippet which I also use for my own project:</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; certificates = CertificateUtils.getCertificateAsPem(\n            &quot;https://github.com/&quot;, \n            &quot;https://stackoverflow.com/&quot;);\n</code></pre>\n<p>It will extract all the certificates for the given urls in pem format. It is available within my own library which is publicly available here: <a href=\"https://github.com/Hakky54/sslcontext-kickstart\" rel=\"nofollow noreferrer\">GitHub - SSLContext Kickstart</a></p>\n<p>Or you can also do the same with a CLI, see here: <a href=\"https://github.com/Hakky54/certificate-ripper\" rel=\"nofollow noreferrer\">GitHub - Certificate Ripper</a> Below is an example of the snippet above:</p>\n<pre><code>crip print -u=https://github.com -u=https://stackoverflow.com -f=pem\n</code></pre>\n<p>Please let me know if this is something which will do the trick for you</p>\n"},{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636568663,"creation_date":1636568663,"answer_id":69918385,"question_id":69911570,"body_markdown":"For the old stack (below 8u261 or 11) in all cases, and the new stack when the protocol used (negotiated) is TLS1.2 or below, `javax.net.debug=ssl:handshake:packet` will show you a &#39;raw write&#39; for each outgoing record with (all) the data in hex and ASCII, and at least two &#39;raw read&#39; for each incoming record (one for the header of 5 bytes, and one or more for the data) ditto. The fields going into an outgoing record are shown before the record, while the fields decoded from an incoming record are shown after it. For example on a connection to `https://example.com` after (build and) write the ClientHello and read (and decode) the ServerHello, I get [for the Certificate message/record this pastebin](https://pastebin.com/HsfhW7b4) (otherwise exceeds Stack size limit).\r\n\r\nTake the body data (only) and on Unix, or WSL, run it through `cut -c9-58 &lt;hex | xxd -r -p &gt;bin` (for old stack `-c7-56`). The file `bin` now contains the Certificate message exactly as received: the first byte is 0B, the next three bytes are the (bigendian) length of the body of the message, the next three bytes are the length of the certificate list, and the next three are the length of the first certificate. To separate out that first certificate, do `tail -c+11 bin | head -c$((0x$(xxd -p -s7 -l3 bin))) &gt;cert1`. You can now convert the cert to PEM with `openssl x509 -inform d &lt;cert1` or examine it with any other `x509` options, or examine it with `keytool -printcert -file cert1`, or any other suitable tool. If you want (all or some of) the other cert(s) in the chain, it&#39;s a little more complicated. \r\n\r\nTLS1.3, in new stack only, is slightly different. It encrypts the Certificate message and may have a hello-retry cycle, may have an early CCS, and will have an EncryptedExtensions message before the Certificate. Add `:plaintext` to the sysprop and for each incoming record you get a raw read of the header (5 bytes) in clear, a raw read of the body in cipher, and a decryption of the body, like [this for the Certificate message/record](https://pastebin.com/LvDnaZWD).\r\nThis message differs slightly from the previous protocol version by having one byte of 00 between the message length and the certificate-list length, so change to: `tail -c+12 bin | head -c$((0x$(xxd -p -s8 -l3 bin)))`.\r\n\r\nNote some servers may combine messages in one handshake record (or encrypted handshake record), rather than using a separate record for each as example.com did, which will require a slight variation. If you have an example (accessible) of such, I will adjust.\r\n\r\nHowever, I have no idea what you mean by &#39;queues&#39; in an SSL/TLS connection, and why the much easier `openssl s_client` isn&#39;t usable. If you mean _virtual hosting_ with the server choosing among multiple certificates using SNI, see the man page description of the `-servername x` option.","title":"Is it possible to log the server certifcate in PEM format with javax.net.debug?","body":"<p>For the old stack (below 8u261 or 11) in all cases, and the new stack when the protocol used (negotiated) is TLS1.2 or below, <code>javax.net.debug=ssl:handshake:packet</code> will show you a 'raw write' for each outgoing record with (all) the data in hex and ASCII, and at least two 'raw read' for each incoming record (one for the header of 5 bytes, and one or more for the data) ditto. The fields going into an outgoing record are shown before the record, while the fields decoded from an incoming record are shown after it. For example on a connection to <code>https://example.com</code> after (build and) write the ClientHello and read (and decode) the ServerHello, I get <a href=\"https://pastebin.com/HsfhW7b4\" rel=\"nofollow noreferrer\">for the Certificate message/record this pastebin</a> (otherwise exceeds Stack size limit).</p>\n<p>Take the body data (only) and on Unix, or WSL, run it through <code>cut -c9-58 &lt;hex | xxd -r -p &gt;bin</code> (for old stack <code>-c7-56</code>). The file <code>bin</code> now contains the Certificate message exactly as received: the first byte is 0B, the next three bytes are the (bigendian) length of the body of the message, the next three bytes are the length of the certificate list, and the next three are the length of the first certificate. To separate out that first certificate, do <code>tail -c+11 bin | head -c$((0x$(xxd -p -s7 -l3 bin))) &gt;cert1</code>. You can now convert the cert to PEM with <code>openssl x509 -inform d &lt;cert1</code> or examine it with any other <code>x509</code> options, or examine it with <code>keytool -printcert -file cert1</code>, or any other suitable tool. If you want (all or some of) the other cert(s) in the chain, it's a little more complicated.</p>\n<p>TLS1.3, in new stack only, is slightly different. It encrypts the Certificate message and may have a hello-retry cycle, may have an early CCS, and will have an EncryptedExtensions message before the Certificate. Add <code>:plaintext</code> to the sysprop and for each incoming record you get a raw read of the header (5 bytes) in clear, a raw read of the body in cipher, and a decryption of the body, like <a href=\"https://pastebin.com/LvDnaZWD\" rel=\"nofollow noreferrer\">this for the Certificate message/record</a>.\nThis message differs slightly from the previous protocol version by having one byte of 00 between the message length and the certificate-list length, so change to: <code>tail -c+12 bin | head -c$((0x$(xxd -p -s8 -l3 bin)))</code>.</p>\n<p>Note some servers may combine messages in one handshake record (or encrypted handshake record), rather than using a separate record for each as example.com did, which will require a slight variation. If you have an example (accessible) of such, I will adjust.</p>\n<p>However, I have no idea what you mean by 'queues' in an SSL/TLS connection, and why the much easier <code>openssl s_client</code> isn't usable. If you mean <em>virtual hosting</em> with the server choosing among multiple certificates using SNI, see the man page description of the <code>-servername x</code> option.</p>\n"}],"owner":{"account_id":7011102,"reputation":610,"user_id":5373971,"display_name":"bramdc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":705,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69918385,"answer_count":2,"score":0,"last_activity_date":1636971868,"creation_date":1636539879,"question_id":69911570,"body_markdown":"I&#39;m troubleshooting some SSL/TLS problems, with ```-Djavax.net.debug``` on the command line and it would help immensely to have some logging where the server certificate is logged in a format which can be parsed and read.\r\n\r\nI tried following debug settings:\r\n\r\n```\r\n-Djavax.net.debug=ssl:record:plaintext\r\n-Djavax.net.debug=ssl:handshake:verbose:keymanager:trustmanager\r\n-Djavax.net.debug=ssl:handshake:verbose\r\n```\r\nThe closed I came was with the last statement which logs the following:\r\n```\r\n10/11/2021 10:27:36    &quot;version&quot;            : &quot;v3&quot;,\r\n10/11/2021 10:27:36    &quot;serial number&quot;      : &quot;I8 00 00 00 00 D2 91 BH 88 A4 10 58 00 00 02 00 04 9E 4B&quot;,\r\n10/11/2021 10:27:36    &quot;signature algorithm&quot;: &quot;SHA256withRSA&quot;,\r\n10/11/2021 10:27:36    &quot;issuer&quot;             : &quot;CN=test, DC=test, DC=test, DC=com&quot;,\r\n10/11/2021 10:27:36    &quot;not before&quot;         : &quot;2021-07-23 17:38:30.000 UTC&quot;,\r\n10/11/2021 10:27:36    &quot;not  after&quot;         : &quot;2026-07-22 17:38:30.000 UTC&quot;,\r\n10/11/2021 10:27:36    &quot;subject&quot;            : &quot;CN=CNTest, OU=TIS, O=&quot;ACME Inc&quot;, L=France, ST=Paris, C=EU&quot;,\r\n10/11/2021 10:27:36    &quot;subject public key&quot; : &quot;RSA&quot;,\r\n10/11/2021 10:27:36    &quot;extensions&quot;         : [\r\n...\r\n]\r\n```\r\nWhich is already useful but it would help immensely to have the server certificate in a readable format to further troubleshoot the problem. It would help to compare the certificate we received with the actual that is on the server.\r\n\r\nI already tried to use the ```openssl``` tooling to print the certificates. &lt;s&gt;But the Java application is also using queues which seems to use different certificates than I was supplied and isn&#39;t easy to extract the queue certificates with the ```openssl``` tooling.&lt;/s&gt;\r\n\r\nThe above assumption was an incorrect assumption. I found the problem, we only supplied 1 ciphersuite on clientHello. One ciphersuite the server didn&#39;t support so that&#39;s why the handshaking failed:\r\n\r\n    11/9/2021 3:24:03 PMSession ID:  {}\r\n    11/9/2021 3:24:03 PMCipher Suites: [TLS_DHE_DSS_WITH_AES_256_CBC_SHA256]\r\n    11/9/2021 3:24:03 PMCompression Methods:  { 0 }\r\n    ...\r\n    READ: TLSv1.2 Alert, length = 2\r\n    RECV TLSv1.2 ALERT:  fatal, handshake_failure\r\n    called closeSocket()\r\n    handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n\r\nBut still the original question stands and would be useful for debugging.\r\n\r\nsources:\r\n- https://colinpaice.blog/2020/04/05/using-java-djavax-net-debug-to-examine-data-flows-including-tls/\r\n- https://access.redhat.com/solutions/973783\r\n- https://stackoverflow.com/questions/7885785/using-openssl-to-get-the-certificate-from-a-server\r\n- https://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/ReadDebug.html\r\n\r\n\r\n","title":"Is it possible to log the server certifcate in PEM format with javax.net.debug?","body":"<p>I'm troubleshooting some SSL/TLS problems, with <code>-Djavax.net.debug</code> on the command line and it would help immensely to have some logging where the server certificate is logged in a format which can be parsed and read.</p>\n<p>I tried following debug settings:</p>\n<pre><code>-Djavax.net.debug=ssl:record:plaintext\n-Djavax.net.debug=ssl:handshake:verbose:keymanager:trustmanager\n-Djavax.net.debug=ssl:handshake:verbose\n</code></pre>\n<p>The closed I came was with the last statement which logs the following:</p>\n<pre><code>10/11/2021 10:27:36    &quot;version&quot;            : &quot;v3&quot;,\n10/11/2021 10:27:36    &quot;serial number&quot;      : &quot;I8 00 00 00 00 D2 91 BH 88 A4 10 58 00 00 02 00 04 9E 4B&quot;,\n10/11/2021 10:27:36    &quot;signature algorithm&quot;: &quot;SHA256withRSA&quot;,\n10/11/2021 10:27:36    &quot;issuer&quot;             : &quot;CN=test, DC=test, DC=test, DC=com&quot;,\n10/11/2021 10:27:36    &quot;not before&quot;         : &quot;2021-07-23 17:38:30.000 UTC&quot;,\n10/11/2021 10:27:36    &quot;not  after&quot;         : &quot;2026-07-22 17:38:30.000 UTC&quot;,\n10/11/2021 10:27:36    &quot;subject&quot;            : &quot;CN=CNTest, OU=TIS, O=&quot;ACME Inc&quot;, L=France, ST=Paris, C=EU&quot;,\n10/11/2021 10:27:36    &quot;subject public key&quot; : &quot;RSA&quot;,\n10/11/2021 10:27:36    &quot;extensions&quot;         : [\n...\n]\n</code></pre>\n<p>Which is already useful but it would help immensely to have the server certificate in a readable format to further troubleshoot the problem. It would help to compare the certificate we received with the actual that is on the server.</p>\n<p>I already tried to use the <code>openssl</code> tooling to print the certificates. <s>But the Java application is also using queues which seems to use different certificates than I was supplied and isn't easy to extract the queue certificates with the <code>openssl</code> tooling.</s></p>\n<p>The above assumption was an incorrect assumption. I found the problem, we only supplied 1 ciphersuite on clientHello. One ciphersuite the server didn't support so that's why the handshaking failed:</p>\n<pre><code>11/9/2021 3:24:03 PMSession ID:  {}\n11/9/2021 3:24:03 PMCipher Suites: [TLS_DHE_DSS_WITH_AES_256_CBC_SHA256]\n11/9/2021 3:24:03 PMCompression Methods:  { 0 }\n...\nREAD: TLSv1.2 Alert, length = 2\nRECV TLSv1.2 ALERT:  fatal, handshake_failure\ncalled closeSocket()\nhandling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n</code></pre>\n<p>But still the original question stands and would be useful for debugging.</p>\n<p>sources:</p>\n<ul>\n<li><a href=\"https://colinpaice.blog/2020/04/05/using-java-djavax-net-debug-to-examine-data-flows-including-tls/\" rel=\"nofollow noreferrer\">https://colinpaice.blog/2020/04/05/using-java-djavax-net-debug-to-examine-data-flows-including-tls/</a></li>\n<li><a href=\"https://access.redhat.com/solutions/973783\" rel=\"nofollow noreferrer\">https://access.redhat.com/solutions/973783</a></li>\n<li><a href=\"https://stackoverflow.com/questions/7885785/using-openssl-to-get-the-certificate-from-a-server\">Using openssl to get the certificate from a server</a></li>\n<li><a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/ReadDebug.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/ReadDebug.html</a></li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13173718,"reputation":359818,"user_id":9515207,"display_name":"CertainPerformance"},"score":3,"creation_date":1572739001,"post_id":58676316,"comment_id":103653669,"body_markdown":"Java is to Javascript as Pain is to Painting, or Ham is to Hamster. They are completely different. It is highly recommended that aspiring coders try to learn the name of the language they&#39;re attempting to write code in. When you post a question, please tag it appropriately - this lets those with knowledge of the language you need help with to see your question.","body":"Java is to Javascript as Pain is to Painting, or Ham is to Hamster. They are completely different. It is highly recommended that aspiring coders try to learn the name of the language they&#39;re attempting to write code in. When you post a question, please tag it appropriately - this lets those with knowledge of the language you need help with to see your question."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1572741388,"post_id":58676316,"comment_id":103653968,"body_markdown":"Probable duplicate of https://stackoverflow.com/questions/56228134/app-crashes-when-saving-a-cropped-photo-to-firebasestorage  (ignore the title!!)","body":"Probable duplicate of <a href=\"https://stackoverflow.com/questions/56228134/app-crashes-when-saving-a-cropped-photo-to-firebasestorage\" title=\"app crashes when saving a cropped photo to firebasestorage\">stackoverflow.com/questions/56228134/&hellip;</a>  (ignore the title!!)"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636971137,"creation_date":1572741309,"answer_id":58676489,"question_id":58676316,"body_markdown":"In general, a `NoSuchMethodError` exception means that there is a version mismatch.  Some component has been compiled against a version of the API that has the &quot;missing&quot; method, but the version that is used at runtime the API doesn&#39;t have the method.\r\n\r\nIn this case, it seems that the problem is that \r\n\r\n    implementation &#39;com.google.firebase:firebase-auth:17.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-core:16.0.9&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:16.1.0&#39;\r\n\r\nare incompatible.\r\n\r\nSpecifically, the `firebase-storage` dependency should be `17.0.0` or later.","title":"java.lang.NoSuchMethodError: No virtual method getToken(Z)","body":"<p>In general, a <code>NoSuchMethodError</code> exception means that there is a version mismatch.  Some component has been compiled against a version of the API that has the &quot;missing&quot; method, but the version that is used at runtime the API doesn't have the method.</p>\n<p>In this case, it seems that the problem is that</p>\n<pre><code>implementation 'com.google.firebase:firebase-auth:17.0.0'\nimplementation 'com.google.firebase:firebase-core:16.0.9'\nimplementation 'com.google.firebase:firebase-storage:16.1.0'\n</code></pre>\n<p>are incompatible.</p>\n<p>Specifically, the <code>firebase-storage</code> dependency should be <code>17.0.0</code> or later.</p>\n"}],"owner":{"account_id":17017582,"reputation":17,"user_id":12311041,"display_name":"Rafael Herrera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2738,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1636971137,"creation_date":1572738954,"question_id":58676316,"body_markdown":"&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n    android {\r\n        compileSdkVersion 29\r\n        buildToolsVersion &quot;29.0.2&quot;\r\n        defaultConfig {\r\n            applicationId &quot;com.example.whatsappinacap&quot;\r\n            minSdkVersion 26\r\n            targetSdkVersion 29\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support:recyclerview-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support:cardview-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support:design:28.0.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:17.0.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-core:16.0.9&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.0.2&#39;\r\n        implementation &#39;com.google.android.gms:play-services-auth:17.0.0&#39;\r\n        implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n        implementation &#39;com.github.mohammadatif:CircularImageView:1.0.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:17.0.0&#39;\r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-storage:16.1.0&#39;\r\n        implementation &#39;com.squareup.retrofit2:converter-gson:2.0.2&#39;\r\n        implementation &#39;com.squareup.retrofit2:retrofit:2.5.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:17.6.0&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.0&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.1.1&#39;\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThe specific problem that happens is that I add an option to delete a post in the app that I try to do, at the moment I try to delete a post I close the app, here is the class that is responsible for doing the process of deleting the post:\r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    2019-11-02 20:40:33.460 16560-16560/com.example.whatsappinacap E/RecyclerView: No adapter attached; skipping layout\r\n    2019-11-02 20:40:35.085 16560-16654/com.example.whatsappinacap E/GooglePlayServicesUtil: The Google Play services resources were not found. Check your project configuration to ensure that the resources are included.\r\n    2019-11-02 20:40:37.773 16560-16560/com.example.whatsappinacap E/RecyclerView: No adapter attached; skipping layout\r\n    2019-11-02 20:40:42.360 16560-16675/com.example.whatsappinacap E/AndroidRuntime: FATAL EXCEPTION: FirebaseStorage-Command-1\r\n        Process: com.example.whatsappinacap, PID: 16560\r\n        java.lang.NoSuchMethodError: No virtual method getToken(Z)Lcom/google/android/gms/tasks/Task; in class Lcom/google/firebase/FirebaseApp; or its super classes (declaration of &#39;com.google.firebase.FirebaseApp&#39; appears in /data/app/com.example.whatsappinacap-ffbwTZ9oNfl6I4IY8gAOPg==/base.apk)\r\n            at com.google.firebase.storage.internal.Util.getCurrentAuthToken(com.google.firebase:firebase-storage@@16.1.0:148)\r\n            at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(com.google.firebase:firebase-storage@@16.1.0:65)\r\n            at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(com.google.firebase:firebase-storage@@16.1.0:57)\r\n            at com.google.firebase.storage.DeleteStorageTask.run(com.google.firebase:firebase-storage@@16.1.0:53)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\r\n            at java.lang.Thread.run(Thread.java:764)\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n    enter code here\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    package com.example.whatsappinacap.adapters;\r\n\r\n    import android.app.ProgressDialog;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.text.format.DateFormat;\r\n    import android.view.Gravity;\r\n    import android.view.LayoutInflater;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.Button;\r\n    import android.widget.ImageButton;\r\n    import android.widget.ImageView;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.PopupMenu;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    import com.example.whatsappinacap.R;\r\n    import com.example.whatsappinacap.ThereProfileActivity;\r\n    import com.example.whatsappinacap.models.ModelPost;\r\n    import com.google.android.gms.tasks.OnFailureListener;\r\n    import com.google.android.gms.tasks.OnSuccessListener;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.Query;\r\n    import com.google.firebase.database.ValueEventListener;\r\n    import com.google.firebase.storage.FirebaseStorage;\r\n    import com.google.firebase.storage.StorageReference;\r\n    import com.squareup.picasso.Picasso;\r\n\r\n    import java.util.Calendar;\r\n    import java.util.List;\r\n    import java.util.Locale;\r\n\r\n    public class AdapterPosts extends RecyclerView.Adapter&lt;AdapterPosts.MyHolder&gt;{\r\n\r\n        Context context;\r\n        List&lt;ModelPost&gt; postList;\r\n\r\n        String myUid;\r\n\r\n        public AdapterPosts(Context context, List&lt;ModelPost&gt; postList) {\r\n            this.context = context;\r\n            this.postList = postList;\r\n            myUid= FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public MyHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {\r\n            View view= LayoutInflater.from(context).inflate(R.layout.row_posts, viewGroup, false);\r\n\r\n            return new MyHolder(view);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull final MyHolder myHolder, int i) {\r\n\r\n            final String uid=postList.get(i).getUid();\r\n            String uEmail=postList.get(i).getuEmail();\r\n            String uName=postList.get(i).getuName();\r\n            String uDp=postList.get(i).getuDp();\r\n            final String pId=postList.get(i).getpId();\r\n            String pTitle=postList.get(i).getpTitle();\r\n            String pDescription=postList.get(i).getpDescr();\r\n            final String pImage=postList.get(i).getpImage();\r\n            String pTimeStamp=postList.get(i).getpTime();\r\n\r\n            Calendar calendar=Calendar.getInstance(Locale.getDefault());\r\n            calendar.setTimeInMillis(Long.parseLong(pTimeStamp));\r\n            String pTime= DateFormat.format(&quot;dd/MM/yyyy hh:mm:aa&quot;, calendar).toString();\r\n\r\n            myHolder.uNameTv.setText(uName);\r\n            myHolder.pTimeTv.setText(pTime);\r\n            myHolder.pTitleTv.setText(pTitle);\r\n            myHolder.pDescriptionTv.setText(pDescription);\r\n\r\n            try {\r\n                Picasso.get().load(uDp).placeholder(R.drawable.ic_default_img).into(myHolder.uPictureIv);\r\n            }\r\n            catch (Exception e){\r\n\r\n            }\r\n\r\n            if (pImage.equals(&quot;noImage&quot;)){\r\n                myHolder.pImageIv.setVisibility(View.GONE);\r\n            }\r\n            else {\r\n                myHolder.pImageIv.setVisibility(View.VISIBLE);\r\n                try {\r\n                    Picasso.get().load(pImage).into(myHolder.pImageIv);\r\n                }\r\n                catch (Exception e){\r\n\r\n                }\r\n            }\r\n\r\n            myHolder.moreBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    showMoreOptions(myHolder.moreBtn, uid, myUid, pId, pImage);\r\n                }\r\n            });\r\n            myHolder.likeBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Toast.makeText(context, &quot;Like&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n            myHolder.commentBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Toast.makeText(context, &quot;Comment&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n            myHolder.shateBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Toast.makeText(context, &quot;Share&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n            myHolder.profileLayout.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent intent=new Intent(context, ThereProfileActivity.class);\r\n                    intent.putExtra(&quot;uid&quot;,uid);\r\n                    context.startActivity(intent);\r\n                }\r\n            });\r\n        }\r\n\r\n        private void showMoreOptions(ImageButton moreBtn, String uid, String myUid, final String pId, final String pImage) {\r\n\r\n            PopupMenu popupMenu=new PopupMenu(context, moreBtn, Gravity.END);\r\n\r\n            if (uid.equals(myUid)){\r\n                popupMenu.getMenu().add(Menu.NONE, 0, 0, &quot;Delete&quot;);\r\n            }\r\n\r\n            popupMenu.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {\r\n                @Override\r\n                public boolean onMenuItemClick(MenuItem menuItem) {\r\n                    int id=menuItem.getItemId();\r\n                    if (id==0){\r\n                        beginDelete(pId, pImage);\r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n            popupMenu.show();\r\n        }\r\n\r\n        private void beginDelete(String pId, String pImage) {\r\n            if (pImage.equals(&quot;noImage&quot;)){\r\n                deleteWithoutImage(pId);\r\n            }\r\n            else {\r\n                deleteWithImage(pId, pImage);\r\n            }\r\n        }\r\n\r\n        private void deleteWithImage(final String pId, String pImage) {\r\n            final ProgressDialog pd=new ProgressDialog(context);\r\n            pd.setMessage(&quot;Deleting...&quot;);\r\n            StorageReference picRef= FirebaseStorage.getInstance().getReferenceFromUrl(pImage);\r\n            picRef.delete()\r\n                    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Void aVoid) {\r\n                            Query fquery= FirebaseDatabase.getInstance().getReference(&quot;Posts&quot;).orderByChild(&quot;pId&quot;).equalTo(pId);\r\n                            fquery.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                                @Override\r\n                                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                                    for (DataSnapshot ds: dataSnapshot.getChildren()){\r\n                                        ds.getRef().removeValue();\r\n                                    }\r\n                                    Toast.makeText(context, &quot;Delete successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                                    pd.dismiss();\r\n                                }\r\n\r\n                                @Override\r\n                                public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n                                }\r\n                            });\r\n                        }\r\n                    })\r\n                    .addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            pd.dismiss();\r\n                            Toast.makeText(context, &quot;&quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n        }\r\n\r\n        private void deleteWithoutImage(String pId) {\r\n            final  ProgressDialog pd=new ProgressDialog(context);\r\n            pd.setMessage(&quot;Deleting...&quot;);\r\n            Query fquery= FirebaseDatabase.getInstance().getReference(&quot;Posts&quot;).orderByChild(&quot;pId&quot;).equalTo(pId);\r\n            fquery.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                    for (DataSnapshot ds: dataSnapshot.getChildren()){\r\n                        ds.getRef().removeValue();\r\n                    }\r\n                    Toast.makeText(context, &quot;Delete successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                    pd.dismiss();\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return postList.size();\r\n        }\r\n\r\n        class MyHolder extends RecyclerView.ViewHolder{\r\n            ImageView uPictureIv, pImageIv;\r\n            TextView uNameTv, pTimeTv, pTitleTv, pDescriptionTv, pLikesTv;\r\n            ImageButton moreBtn;\r\n            Button likeBtn, commentBtn, shateBtn;\r\n            LinearLayout profileLayout;\r\n\r\n            public MyHolder(@NonNull View itemView){\r\n                super(itemView);\r\n\r\n                uPictureIv=itemView.findViewById(R.id.uPictureIv);\r\n                pImageIv=itemView.findViewById(R.id.pImageIv);\r\n                uNameTv=itemView.findViewById(R.id.uNameIv);\r\n                pTimeTv=itemView.findViewById(R.id.pTimeTv);\r\n                pTitleTv=itemView.findViewById(R.id.pTimeTv);\r\n                pDescriptionTv=itemView.findViewById(R.id.pDescriptiontTv);\r\n                pLikesTv=itemView.findViewById(R.id.pLikeTv);\r\n                moreBtn=itemView.findViewById(R.id.moreBtn);\r\n                likeBtn=itemView.findViewById(R.id.likeBtn);\r\n                commentBtn=itemView.findViewById(R.id.commentBtn);\r\n                shateBtn=itemView.findViewById(R.id.shareBtn);\r\n                profileLayout=itemView.findViewById(R.id.profileLayout);\r\n            }\r\n        }\r\n    }\r\n    enter code here\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n    android {\r\n        compileSdkVersion 29\r\n        buildToolsVersion &quot;29.0.2&quot;\r\n        defaultConfig {\r\n            applicationId &quot;com.example.whatsappinacap&quot;\r\n            minSdkVersion 26\r\n            targetSdkVersion 29\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support:recyclerview-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support:cardview-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support:design:28.0.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:17.0.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-core:16.0.9&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.0.2&#39;\r\n        implementation &#39;com.google.android.gms:play-services-auth:17.0.0&#39;\r\n        implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n        implementation &#39;com.github.mohammadatif:CircularImageView:1.0.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:17.0.0&#39;\r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-storage:16.1.0&#39;\r\n        implementation &#39;com.squareup.retrofit2:converter-gson:2.0.2&#39;\r\n        implementation &#39;com.squareup.retrofit2:retrofit:2.5.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:17.6.0&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.0&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.1.1&#39;\r\n    }\r\n    enter code here\r\n    enter code here\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"java.lang.NoSuchMethodError: No virtual method getToken(Z)","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>apply plugin: 'com.android.application'\r\napply plugin: 'com.google.gms.google-services'\r\n\r\nandroid {\r\n    compileSdkVersion 29\r\n    buildToolsVersion \"29.0.2\"\r\n    defaultConfig {\r\n        applicationId \"com.example.whatsappinacap\"\r\n        minSdkVersion 26\r\n        targetSdkVersion 29\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\r\n    implementation 'com.android.support:appcompat-v7:28.0.0'\r\n    implementation 'com.android.support:recyclerview-v7:28.0.0'\r\n    implementation 'com.android.support:cardview-v7:28.0.0'\r\n    implementation 'com.android.support:design:28.0.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\r\n    implementation 'com.google.firebase:firebase-auth:17.0.0'\r\n    implementation 'com.google.firebase:firebase-core:16.0.9'\r\n    implementation 'androidx.appcompat:appcompat:1.0.2'\r\n    implementation 'com.google.android.gms:play-services-auth:17.0.0'\r\n    implementation 'com.squareup.picasso:picasso:2.71828'\r\n    implementation 'com.github.mohammadatif:CircularImageView:1.0.0'\r\n    implementation 'com.google.firebase:firebase-database:17.0.0'\r\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\r\n    implementation 'com.google.firebase:firebase-storage:16.1.0'\r\n    implementation 'com.squareup.retrofit2:converter-gson:2.0.2'\r\n    implementation 'com.squareup.retrofit2:retrofit:2.5.0'\r\n    implementation 'com.google.firebase:firebase-messaging:17.6.0'\r\n    testImplementation 'junit:junit:4.12'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.0'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.1'\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The specific problem that happens is that I add an option to delete a post in the app that I try to do, at the moment I try to delete a post I close the app, here is the class that is responsible for doing the process of deleting the post:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>2019-11-02 20:40:33.460 16560-16560/com.example.whatsappinacap E/RecyclerView: No adapter attached; skipping layout\r\n2019-11-02 20:40:35.085 16560-16654/com.example.whatsappinacap E/GooglePlayServicesUtil: The Google Play services resources were not found. Check your project configuration to ensure that the resources are included.\r\n2019-11-02 20:40:37.773 16560-16560/com.example.whatsappinacap E/RecyclerView: No adapter attached; skipping layout\r\n2019-11-02 20:40:42.360 16560-16675/com.example.whatsappinacap E/AndroidRuntime: FATAL EXCEPTION: FirebaseStorage-Command-1\r\n    Process: com.example.whatsappinacap, PID: 16560\r\n    java.lang.NoSuchMethodError: No virtual method getToken(Z)Lcom/google/android/gms/tasks/Task; in class Lcom/google/firebase/FirebaseApp; or its super classes (declaration of 'com.google.firebase.FirebaseApp' appears in /data/app/com.example.whatsappinacap-ffbwTZ9oNfl6I4IY8gAOPg==/base.apk)\r\n        at com.google.firebase.storage.internal.Util.getCurrentAuthToken(com.google.firebase:firebase-storage@@16.1.0:148)\r\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(com.google.firebase:firebase-storage@@16.1.0:65)\r\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(com.google.firebase:firebase-storage@@16.1.0:57)\r\n        at com.google.firebase.storage.DeleteStorageTask.run(com.google.firebase:firebase-storage@@16.1.0:53)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\r\n        at java.lang.Thread.run(Thread.java:764)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<pre><code>enter code here\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>package com.example.whatsappinacap.adapters;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.text.format.DateFormat;\r\nimport android.view.Gravity;\r\nimport android.view.LayoutInflater;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.PopupMenu;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.whatsappinacap.R;\r\nimport com.example.whatsappinacap.ThereProfileActivity;\r\nimport com.example.whatsappinacap.models.ModelPost;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.Query;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.Calendar;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\npublic class AdapterPosts extends RecyclerView.Adapter&lt;AdapterPosts.MyHolder&gt;{\r\n\r\n    Context context;\r\n    List&lt;ModelPost&gt; postList;\r\n\r\n    String myUid;\r\n\r\n    public AdapterPosts(Context context, List&lt;ModelPost&gt; postList) {\r\n        this.context = context;\r\n        this.postList = postList;\r\n        myUid= FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {\r\n        View view= LayoutInflater.from(context).inflate(R.layout.row_posts, viewGroup, false);\r\n\r\n        return new MyHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull final MyHolder myHolder, int i) {\r\n\r\n        final String uid=postList.get(i).getUid();\r\n        String uEmail=postList.get(i).getuEmail();\r\n        String uName=postList.get(i).getuName();\r\n        String uDp=postList.get(i).getuDp();\r\n        final String pId=postList.get(i).getpId();\r\n        String pTitle=postList.get(i).getpTitle();\r\n        String pDescription=postList.get(i).getpDescr();\r\n        final String pImage=postList.get(i).getpImage();\r\n        String pTimeStamp=postList.get(i).getpTime();\r\n\r\n        Calendar calendar=Calendar.getInstance(Locale.getDefault());\r\n        calendar.setTimeInMillis(Long.parseLong(pTimeStamp));\r\n        String pTime= DateFormat.format(\"dd/MM/yyyy hh:mm:aa\", calendar).toString();\r\n\r\n        myHolder.uNameTv.setText(uName);\r\n        myHolder.pTimeTv.setText(pTime);\r\n        myHolder.pTitleTv.setText(pTitle);\r\n        myHolder.pDescriptionTv.setText(pDescription);\r\n\r\n        try {\r\n            Picasso.get().load(uDp).placeholder(R.drawable.ic_default_img).into(myHolder.uPictureIv);\r\n        }\r\n        catch (Exception e){\r\n\r\n        }\r\n\r\n        if (pImage.equals(\"noImage\")){\r\n            myHolder.pImageIv.setVisibility(View.GONE);\r\n        }\r\n        else {\r\n            myHolder.pImageIv.setVisibility(View.VISIBLE);\r\n            try {\r\n                Picasso.get().load(pImage).into(myHolder.pImageIv);\r\n            }\r\n            catch (Exception e){\r\n\r\n            }\r\n        }\r\n\r\n        myHolder.moreBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                showMoreOptions(myHolder.moreBtn, uid, myUid, pId, pImage);\r\n            }\r\n        });\r\n        myHolder.likeBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Toast.makeText(context, \"Like\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        myHolder.commentBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Toast.makeText(context, \"Comment\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        myHolder.shateBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Toast.makeText(context, \"Share\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        myHolder.profileLayout.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent=new Intent(context, ThereProfileActivity.class);\r\n                intent.putExtra(\"uid\",uid);\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void showMoreOptions(ImageButton moreBtn, String uid, String myUid, final String pId, final String pImage) {\r\n\r\n        PopupMenu popupMenu=new PopupMenu(context, moreBtn, Gravity.END);\r\n\r\n        if (uid.equals(myUid)){\r\n            popupMenu.getMenu().add(Menu.NONE, 0, 0, \"Delete\");\r\n        }\r\n\r\n        popupMenu.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {\r\n            @Override\r\n            public boolean onMenuItemClick(MenuItem menuItem) {\r\n                int id=menuItem.getItemId();\r\n                if (id==0){\r\n                    beginDelete(pId, pImage);\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n        popupMenu.show();\r\n    }\r\n\r\n    private void beginDelete(String pId, String pImage) {\r\n        if (pImage.equals(\"noImage\")){\r\n            deleteWithoutImage(pId);\r\n        }\r\n        else {\r\n            deleteWithImage(pId, pImage);\r\n        }\r\n    }\r\n\r\n    private void deleteWithImage(final String pId, String pImage) {\r\n        final ProgressDialog pd=new ProgressDialog(context);\r\n        pd.setMessage(\"Deleting...\");\r\n        StorageReference picRef= FirebaseStorage.getInstance().getReferenceFromUrl(pImage);\r\n        picRef.delete()\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        Query fquery= FirebaseDatabase.getInstance().getReference(\"Posts\").orderByChild(\"pId\").equalTo(pId);\r\n                        fquery.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                            @Override\r\n                            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                                for (DataSnapshot ds: dataSnapshot.getChildren()){\r\n                                    ds.getRef().removeValue();\r\n                                }\r\n                                Toast.makeText(context, \"Delete successfully\", Toast.LENGTH_SHORT).show();\r\n                                pd.dismiss();\r\n                            }\r\n\r\n                            @Override\r\n                            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n                            }\r\n                        });\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        pd.dismiss();\r\n                        Toast.makeText(context, \"\"+e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void deleteWithoutImage(String pId) {\r\n        final  ProgressDialog pd=new ProgressDialog(context);\r\n        pd.setMessage(\"Deleting...\");\r\n        Query fquery= FirebaseDatabase.getInstance().getReference(\"Posts\").orderByChild(\"pId\").equalTo(pId);\r\n        fquery.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot ds: dataSnapshot.getChildren()){\r\n                    ds.getRef().removeValue();\r\n                }\r\n                Toast.makeText(context, \"Delete successfully\", Toast.LENGTH_SHORT).show();\r\n                pd.dismiss();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return postList.size();\r\n    }\r\n\r\n    class MyHolder extends RecyclerView.ViewHolder{\r\n        ImageView uPictureIv, pImageIv;\r\n        TextView uNameTv, pTimeTv, pTitleTv, pDescriptionTv, pLikesTv;\r\n        ImageButton moreBtn;\r\n        Button likeBtn, commentBtn, shateBtn;\r\n        LinearLayout profileLayout;\r\n\r\n        public MyHolder(@NonNull View itemView){\r\n            super(itemView);\r\n\r\n            uPictureIv=itemView.findViewById(R.id.uPictureIv);\r\n            pImageIv=itemView.findViewById(R.id.pImageIv);\r\n            uNameTv=itemView.findViewById(R.id.uNameIv);\r\n            pTimeTv=itemView.findViewById(R.id.pTimeTv);\r\n            pTitleTv=itemView.findViewById(R.id.pTimeTv);\r\n            pDescriptionTv=itemView.findViewById(R.id.pDescriptiontTv);\r\n            pLikesTv=itemView.findViewById(R.id.pLikeTv);\r\n            moreBtn=itemView.findViewById(R.id.moreBtn);\r\n            likeBtn=itemView.findViewById(R.id.likeBtn);\r\n            commentBtn=itemView.findViewById(R.id.commentBtn);\r\n            shateBtn=itemView.findViewById(R.id.shareBtn);\r\n            profileLayout=itemView.findViewById(R.id.profileLayout);\r\n        }\r\n    }\r\n}\r\nenter code here</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>apply plugin: 'com.android.application'\r\napply plugin: 'com.google.gms.google-services'\r\n\r\nandroid {\r\n    compileSdkVersion 29\r\n    buildToolsVersion \"29.0.2\"\r\n    defaultConfig {\r\n        applicationId \"com.example.whatsappinacap\"\r\n        minSdkVersion 26\r\n        targetSdkVersion 29\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\r\n    implementation 'com.android.support:appcompat-v7:28.0.0'\r\n    implementation 'com.android.support:recyclerview-v7:28.0.0'\r\n    implementation 'com.android.support:cardview-v7:28.0.0'\r\n    implementation 'com.android.support:design:28.0.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\r\n    implementation 'com.google.firebase:firebase-auth:17.0.0'\r\n    implementation 'com.google.firebase:firebase-core:16.0.9'\r\n    implementation 'androidx.appcompat:appcompat:1.0.2'\r\n    implementation 'com.google.android.gms:play-services-auth:17.0.0'\r\n    implementation 'com.squareup.picasso:picasso:2.71828'\r\n    implementation 'com.github.mohammadatif:CircularImageView:1.0.0'\r\n    implementation 'com.google.firebase:firebase-database:17.0.0'\r\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\r\n    implementation 'com.google.firebase:firebase-storage:16.1.0'\r\n    implementation 'com.squareup.retrofit2:converter-gson:2.0.2'\r\n    implementation 'com.squareup.retrofit2:retrofit:2.5.0'\r\n    implementation 'com.google.firebase:firebase-messaging:17.6.0'\r\n    testImplementation 'junit:junit:4.12'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.0'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.1'\r\n}\r\nenter code here\r\nenter code here</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":14294775,"reputation":344,"user_id":10325765,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636970955,"creation_date":1636970955,"answer_id":69972620,"question_id":69896055,"body_markdown":"In an older question/answer https://stackoverflow.com/questions/47666767/hibernate-casecadetype-all-vs-cascadetype-persist-cascadetype-merge-cascadet?rq=1 I learned that the CascadeType enum of javax.persistence does not work properly when using hibernates save/saveOrUpdate.\r\n\r\nUsing session.persist instead of session.saveOrUpdate was not desirable in my case, so I needed to change the cascading on my entity from\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n\r\nto\r\n\r\n    @Cascade(org.hibernate.annotations.CascadeType.SAVE_UPDATE)\r\n    @OneToOne\r\n\r\nNow saving and deleting both work just fine.","title":"CascadeType.ALL without CascadeType.REMOVE changes persist behavior","body":"<p>In an older question/answer <a href=\"https://stackoverflow.com/questions/47666767/hibernate-casecadetype-all-vs-cascadetype-persist-cascadetype-merge-cascadet?rq=1\">Hibernate: CasecadeType.ALL vs {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.DETACH, CascadeType.REFRESH, CascadeType.REMOVE}</a> I learned that the CascadeType enum of javax.persistence does not work properly when using hibernates save/saveOrUpdate.</p>\n<p>Using session.persist instead of session.saveOrUpdate was not desirable in my case, so I needed to change the cascading on my entity from</p>\n<pre><code>@OneToOne(cascade = CascadeType.ALL)\n</code></pre>\n<p>to</p>\n<pre><code>@Cascade(org.hibernate.annotations.CascadeType.SAVE_UPDATE)\n@OneToOne\n</code></pre>\n<p>Now saving and deleting both work just fine.</p>\n"}],"owner":{"account_id":14294775,"reputation":344,"user_id":10325765,"display_name":"Andreas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69972620,"answer_count":1,"score":0,"last_activity_date":1636970955,"creation_date":1636451569,"question_id":69896055,"body_markdown":"In this project I have two Entities A and B that each have a OneToOne relationship to Entity C. There are some C that are referenced by A and B.\r\n\r\n    @Entity\r\n    public class A {\r\n        @NotNull\r\n        @OneToOne(cascade = { CascadeType.ALL })\r\n        @JoinColumn(name = &quot;fk_c&quot;, foreignKey = @ForeignKey(name = &quot;fk_a_2_c&quot;))\r\n        private C c;\r\n    }\r\n\r\n    @Entity\r\n    public class B {\r\n        @NotNull\r\n        @OneToOne(cascade = { CascadeType.ALL })\r\n        @JoinColumn(name = &quot;fk_c&quot;, foreignKey = @ForeignKey(name = &quot;fk_b_2_c&quot;))\r\n        private C c;\r\n    }\r\n\r\n    @Entity\r\n    public class C {\r\n        @Nullable\r\n        @OneToOne(mappedBy = &quot;c&quot;, fetch = FetchType.LAZY)\r\n        private A a;\r\n\r\n        @Nullable\r\n        @OneToOne(mappedBy = &quot;c&quot;, fetch = FetchType.LAZY)\r\n        private B b;\r\n    }\r\n\r\nUntil now everything was working fine using CascadeType.ALL on field c in Entity B. We now want to delete Entity B without ever deleting Entity C. Thus, we change the cascading in Entity B to \r\n\r\n    @OneToOne(cascade = { CascadeType.PERSIST, CascadeType.MERGE })\r\nNow, the delete behavior is as desired, but when persisting Entity B there is no persist cascading for Entity C, instead we get an org.springframework.dao.InvalidDataAccessApiUsageException\r\n\r\n    Not-null property references a transient value - transient instance must be saved before current operation : xxx.B.c -&gt; xxx.C\r\n\r\nI already tried placing all cascade types (PERSIST, MERGE, REMOVE, REFRESH, DETACH) which, according to the javax.persistence documentation should yield the same result as CascadeType.ALL. The error stated above still occurs.\r\n\r\nSo: How can I keep the cascading behavior of CascadeType.ALL without REMOVE-cascading?","title":"CascadeType.ALL without CascadeType.REMOVE changes persist behavior","body":"<p>In this project I have two Entities A and B that each have a OneToOne relationship to Entity C. There are some C that are referenced by A and B.</p>\n<pre><code>@Entity\npublic class A {\n    @NotNull\n    @OneToOne(cascade = { CascadeType.ALL })\n    @JoinColumn(name = &quot;fk_c&quot;, foreignKey = @ForeignKey(name = &quot;fk_a_2_c&quot;))\n    private C c;\n}\n\n@Entity\npublic class B {\n    @NotNull\n    @OneToOne(cascade = { CascadeType.ALL })\n    @JoinColumn(name = &quot;fk_c&quot;, foreignKey = @ForeignKey(name = &quot;fk_b_2_c&quot;))\n    private C c;\n}\n\n@Entity\npublic class C {\n    @Nullable\n    @OneToOne(mappedBy = &quot;c&quot;, fetch = FetchType.LAZY)\n    private A a;\n\n    @Nullable\n    @OneToOne(mappedBy = &quot;c&quot;, fetch = FetchType.LAZY)\n    private B b;\n}\n</code></pre>\n<p>Until now everything was working fine using CascadeType.ALL on field c in Entity B. We now want to delete Entity B without ever deleting Entity C. Thus, we change the cascading in Entity B to</p>\n<pre><code>@OneToOne(cascade = { CascadeType.PERSIST, CascadeType.MERGE })\n</code></pre>\n<p>Now, the delete behavior is as desired, but when persisting Entity B there is no persist cascading for Entity C, instead we get an org.springframework.dao.InvalidDataAccessApiUsageException</p>\n<pre><code>Not-null property references a transient value - transient instance must be saved before current operation : xxx.B.c -&gt; xxx.C\n</code></pre>\n<p>I already tried placing all cascade types (PERSIST, MERGE, REMOVE, REFRESH, DETACH) which, according to the javax.persistence documentation should yield the same result as CascadeType.ALL. The error stated above still occurs.</p>\n<p>So: How can I keep the cascading behavior of CascadeType.ALL without REMOVE-cascading?</p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636967806,"creation_date":1636967806,"answer_id":69971947,"question_id":69971665,"body_markdown":"Notice that in Java, the array created by `new A[2][2]` contains only `null` elements. There are no instances of `A`s in there. In Kotlin, this would be represented as a `Array&lt;Array&lt;A?&gt;&gt;`, rather than `Array&lt;Array&lt;A&gt;&gt;`, because the `A`s are null initially.\r\n\r\nIn terms of one dimensional arrays, you essentially have an array of 2 elements, and each of those is an array of 2 elements containing nulls only. Hence, you can write:\r\n\r\n    val aArray = Array&lt;Array&lt;A?&gt;&gt;(2) { arrayOfNulls(2) }\r\n\r\nor a little bit shorter:\r\n\r\n    val aArray = Array(2) { arrayOfNulls&lt;A&gt;(2) }\r\n\r\n","title":"How to create an array of Abstract class in Kotlin Without inheriting the abstract class","body":"<p>Notice that in Java, the array created by <code>new A[2][2]</code> contains only <code>null</code> elements. There are no instances of <code>A</code>s in there. In Kotlin, this would be represented as a <code>Array&lt;Array&lt;A?&gt;&gt;</code>, rather than <code>Array&lt;Array&lt;A&gt;&gt;</code>, because the <code>A</code>s are null initially.</p>\n<p>In terms of one dimensional arrays, you essentially have an array of 2 elements, and each of those is an array of 2 elements containing nulls only. Hence, you can write:</p>\n<pre><code>val aArray = Array&lt;Array&lt;A?&gt;&gt;(2) { arrayOfNulls(2) }\n</code></pre>\n<p>or a little bit shorter:</p>\n<pre><code>val aArray = Array(2) { arrayOfNulls&lt;A&gt;(2) }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636970540,"creation_date":1636967932,"answer_id":69971965,"question_id":69971665,"body_markdown":"Your Java code creates an array of 2 arrays, each of which can hold 2 objects of type `A` or null and initially contains null. (In Java, _every_ reference value is nullable, so this is standard practice.)\r\n\r\nThe Kotlin equivalent of that is:\r\n\r\n    Array(2){ Array(2){ null as A? }}\r\n\r\nLike the Java code, each element there is nullable, and is initialised to null.\r\n\r\n(The error you&#39;re getting is because you&#39;re trying to give the Array constructor a type, but it&#39;s expecting a value — so it&#39;s trying to interpret `A` as a value, and guessing you mean the `companion object` of `A`. Don&#39;t worry if you don&#39;t know what that is!)\r\n\r\nHowever, Kotlin supports non-nullable values too, which are often preferable. So if you know what values you want the array to hold, it&#39;s more common to create and initialise it in one go, so that the type can be non-nullable. For example:\r\n\r\n    arrayOf(arrayOf(A(&quot;1&quot;), A(&quot;2&quot;)),\r\n            arrayOf(A(&quot;3&quot;), A(&quot;4&quot;)))","title":"How to create an array of Abstract class in Kotlin Without inheriting the abstract class","body":"<p>Your Java code creates an array of 2 arrays, each of which can hold 2 objects of type <code>A</code> or null and initially contains null. (In Java, <em>every</em> reference value is nullable, so this is standard practice.)</p>\n<p>The Kotlin equivalent of that is:</p>\n<pre><code>Array(2){ Array(2){ null as A? }}\n</code></pre>\n<p>Like the Java code, each element there is nullable, and is initialised to null.</p>\n<p>(The error you're getting is because you're trying to give the Array constructor a type, but it's expecting a value — so it's trying to interpret <code>A</code> as a value, and guessing you mean the <code>companion object</code> of <code>A</code>. Don't worry if you don't know what that is!)</p>\n<p>However, Kotlin supports non-nullable values too, which are often preferable. So if you know what values you want the array to hold, it's more common to create and initialise it in one go, so that the type can be non-nullable. For example:</p>\n<pre><code>arrayOf(arrayOf(A(&quot;1&quot;), A(&quot;2&quot;)),\n        arrayOf(A(&quot;3&quot;), A(&quot;4&quot;)))\n</code></pre>\n"}],"owner":{"account_id":23340991,"reputation":11,"user_id":17415896,"display_name":"Abhishek Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1636970540,"creation_date":1636966508,"question_id":69971665,"body_markdown":"I have 2 classes, class A which is an abstract class, and a class B like\r\n```\r\nabstract class A(name: String){\r\n    //some code\r\n}\r\n\r\nclass B {\r\n    //some code\r\n}\r\n```\r\n\r\nNow if I want to add and array of type class A in Class B it is very simple in java like\r\n```\r\nclass B {\r\n    A[][] arr = new A[2][2];\r\n}\r\n```\r\n\r\nbut I am trying the same in Kotlin like\r\n```\r\nclass B { \r\n    var arr = Array(2) {Array(2) {A}}\r\n}\r\n```\r\nthen it is giving error as &quot;Classifier &#39;A&#39; does not have a companion object and thus must be initialized here&quot;\r\nbut then I tried putting some variables in the companion object in the abstract class, and now it does not give any error.\r\nbut the array is made of type &#39;A.companion&#39; and not of type &#39;A&#39;.\r\n\r\nKindly help me if you know anything about this.","title":"How to create an array of Abstract class in Kotlin Without inheriting the abstract class","body":"<p>I have 2 classes, class A which is an abstract class, and a class B like</p>\n<pre><code>abstract class A(name: String){\n    //some code\n}\n\nclass B {\n    //some code\n}\n</code></pre>\n<p>Now if I want to add and array of type class A in Class B it is very simple in java like</p>\n<pre><code>class B {\n    A[][] arr = new A[2][2];\n}\n</code></pre>\n<p>but I am trying the same in Kotlin like</p>\n<pre><code>class B { \n    var arr = Array(2) {Array(2) {A}}\n}\n</code></pre>\n<p>then it is giving error as &quot;Classifier 'A' does not have a companion object and thus must be initialized here&quot;\nbut then I tried putting some variables in the companion object in the abstract class, and now it does not give any error.\nbut the array is made of type 'A.companion' and not of type 'A'.</p>\n<p>Kindly help me if you know anything about this.</p>\n"},{"tags":["java","maven","intellij-idea","pi4j"],"comments":[{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1636961818,"post_id":69958802,"comment_id":123687916,"body_markdown":"in IntelliJ IDEA navigate to &quot;File &gt; New Project &gt; Maven &quot;, tick the &quot;From archetype&quot; option, and choose the downloaded archetype using the &quot;Add archetype&quot; button: https://i.imgur.com/Lq4mqeS.png","body":"in IntelliJ IDEA navigate to &quot;File &gt; New Project &gt; Maven &quot;, tick the &quot;From archetype&quot; option, and choose the downloaded archetype using the &quot;Add archetype&quot; button: <a href=\"https://i.imgur.com/Lq4mqeS.png\" rel=\"nofollow noreferrer\">i.imgur.com/Lq4mqeS.png</a>"}],"answers":[{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636970395,"creation_date":1636970395,"answer_id":69972483,"question_id":69958802,"body_markdown":"Since this is an archetype that you first need to install into your local Maven repository, follow the steps from corresponding [instructions](https://github.com/Pi4J/pi4j-maven-archetype#install-the-archetype-to-your-local-m2-repository) for the archetype project:\r\n\r\n&gt;Install the archetype to your local .m2 repository\r\n&gt;Unzip the archetype file in a folder\r\n\r\n    cd folder/raspimaven-archetype\r\n    mvn install\r\n\r\n\r\nThen use project generation Maven command:\r\n\r\n    mvn archetype:generate -DarchetypeCatalog=local\r\n\r\nOr use IDE wizard to create the project from the locally installed archetype: New Project | Maven -&gt; **Create from archetype**:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ROCNu.jpg","title":"pi4j-maven Archetype support via Maven in Intelli Idea","body":"<p>Since this is an archetype that you first need to install into your local Maven repository, follow the steps from corresponding <a href=\"https://github.com/Pi4J/pi4j-maven-archetype#install-the-archetype-to-your-local-m2-repository\" rel=\"nofollow noreferrer\">instructions</a> for the archetype project:</p>\n<blockquote>\n<p>Install the archetype to your local .m2 repository\nUnzip the archetype file in a folder</p>\n</blockquote>\n<pre><code>cd folder/raspimaven-archetype\nmvn install\n</code></pre>\n<p>Then use project generation Maven command:</p>\n<pre><code>mvn archetype:generate -DarchetypeCatalog=local\n</code></pre>\n<p>Or use IDE wizard to create the project from the locally installed archetype: New Project | Maven -&gt; <strong>Create from archetype</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/ROCNu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ROCNu.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1636970395,"creation_date":1636842682,"question_id":69958802,"body_markdown":"I want to write java code using the dependency [Pi4j][1] and using Intellij on Windows 10. The target platform is a Pi Zero W.\r\n\r\nThe [instructions][2] to develop on remote (Windows 10 in this case) PC say to add the [p4j-maven-archetype][3] but don&#39;t explain how to use this maven tool within the maven included with Intellij.\r\n\r\nI have tried to download the p4j-maven-archetype, extract it, then open Intellij and import p4j-maven-archetype as a project. Then from within Intellij I run the maven goal install so it can be used in other projects.\r\n\r\nHow would I now create a new project within Intellij using the p4j-maven-archetype that I installed?\r\n\r\nIs there a way to package and run it remotely on the Pi from Intellij?\r\n\r\n  [1]: https://pi4j.com/\r\n  [2]: https://pi4j.com/getting-started/developing-on-a-remote-pc/\r\n  [3]: https://github.com/Pi4J/pi4j-maven-archetype","title":"pi4j-maven Archetype support via Maven in Intelli Idea","body":"<p>I want to write java code using the dependency <a href=\"https://pi4j.com/\" rel=\"nofollow noreferrer\">Pi4j</a> and using Intellij on Windows 10. The target platform is a Pi Zero W.</p>\n<p>The <a href=\"https://pi4j.com/getting-started/developing-on-a-remote-pc/\" rel=\"nofollow noreferrer\">instructions</a> to develop on remote (Windows 10 in this case) PC say to add the <a href=\"https://github.com/Pi4J/pi4j-maven-archetype\" rel=\"nofollow noreferrer\">p4j-maven-archetype</a> but don't explain how to use this maven tool within the maven included with Intellij.</p>\n<p>I have tried to download the p4j-maven-archetype, extract it, then open Intellij and import p4j-maven-archetype as a project. Then from within Intellij I run the maven goal install so it can be used in other projects.</p>\n<p>How would I now create a new project within Intellij using the p4j-maven-archetype that I installed?</p>\n<p>Is there a way to package and run it remotely on the Pi from Intellij?</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":3508935,"reputation":159,"user_id":2933780,"display_name":"galaxy"},"score":2,"creation_date":1636485688,"post_id":69903807,"comment_id":123568482,"body_markdown":"I&#39;d suggest retrieving 3 different CSV files using SQL instead.","body":"I&#39;d suggest retrieving 3 different CSV files using SQL instead."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1636497820,"post_id":69903807,"comment_id":123572624,"body_markdown":"I suggest two separate steps: (1) Use a specialized CSV library to split up the source data - such as [OpenCSV](http://opencsv.sourceforge.net/), [Commons CSV](https://commons.apache.org/proper/commons-csv/user-guide.html), or others. (2) Use POI to create the sheets you need from the split data. Both of these steps probably already have questions (and answers) here on Stack Overflow, if you do some research. Give it a try, and if you get stuck, you can ask a specific question for a specific problem you encounter.","body":"I suggest two separate steps: (1) Use a specialized CSV library to split up the source data - such as <a href=\"http://opencsv.sourceforge.net/\" rel=\"nofollow noreferrer\">OpenCSV</a>, <a href=\"https://commons.apache.org/proper/commons-csv/user-guide.html\" rel=\"nofollow noreferrer\">Commons CSV</a>, or others. (2) Use POI to create the sheets you need from the split data. Both of these steps probably already have questions (and answers) here on Stack Overflow, if you do some research. Give it a try, and if you get stuck, you can ask a specific question for a specific problem you encounter."}],"answers":[{"tags":[],"owner":{"account_id":18855916,"reputation":68,"user_id":13753864,"display_name":"meiMing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636970337,"creation_date":1636970337,"answer_id":69972462,"question_id":69903807,"body_markdown":"The following code may be useful to you if you don&#39;t have to use Apache POI. In fact, it is more efficient based on fastexcel.\r\n```java\r\nimport cn.hutool.core.io.FileUtil;\r\nimport cn.hutool.core.text.csv.CsvReader;\r\nimport cn.hutool.core.text.csv.CsvUtil;\r\nimport cn.hutool.core.text.csv.CsvWriter;\r\nimport org.dhatim.fastexcel.Workbook;\r\nimport org.dhatim.fastexcel.Worksheet;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.time.Duration;\r\nimport java.time.LocalDateTime;\r\nimport java.util.Random;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\n\r\npublic class ExcelSplitTest {\r\n    Logger logger = LoggerFactory.getLogger(ExcelSplitTest.class);\r\n\r\n\r\n    @Test\r\n    public void Test1() {\r\n        LocalDateTime start = LocalDateTime.now();\r\n        try (CsvWriter writer = CsvUtil.getWriter(&quot;D:\\\\tmp\\\\TEST_1.csv&quot;, StandardCharsets.UTF_8)) {\r\n            writer.writeHeaderLine(IntStream.range(0, 50).mapToObj(String::valueOf).collect(Collectors.toList()).toArray(new String[]{}));\r\n            for (int i = 0; i &lt; 230000; i++) {\r\n                String[] strings = new Random().ints(50, 100, 150).mapToObj(a -&gt; &quot;TEST_&quot; + a).collect(Collectors.toList()).toArray(new String[]{});\r\n                writer.writeLine(strings);\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Error&quot;, e);\r\n        }\r\n        LocalDateTime end = LocalDateTime.now();\r\n        logger.info(&quot;Cost time {}&quot;, Duration.between(start, end).toMillis() + &quot;ms&quot;);\r\n    }\r\n    /**\r\n     * convert by fastexcel\r\n     */\r\n    @Test\r\n    public void Test3() {\r\n        LocalDateTime start = LocalDateTime.now();\r\n        try (OutputStream os = FileUtil.getOutputStream(&quot;D:\\\\tmp\\\\TEST_3.xlsx&quot;)) {\r\n            Workbook wb = new Workbook(os, &quot;MyApplication&quot;, &quot;1.0&quot;);\r\n            try (CsvReader csvReader = CsvUtil.getReader(FileUtil.getUtf8Reader(&quot;D:\\\\tmp\\\\TEST_1.csv&quot;))) {\r\n                Worksheet ws1 = wb.newWorksheet(&quot;Sheet 1&quot;);\r\n                Worksheet ws2 = wb.newWorksheet(&quot;Sheet 2&quot;);\r\n                csvReader.stream().forEach(a -&gt; {\r\n                    long originalLineNumber = a.getOriginalLineNumber();\r\n                    int col1 = 0;\r\n                    int col2 = 0;\r\n                    for (int i = 0; i &lt; a.size(); i++) {\r\n                        if (i % 2 == 0) {\r\n                            ws1.value((int) originalLineNumber, col1, a.get(i));\r\n                            col1++;\r\n                        }\r\n                        else{\r\n                            ws2.value((int) originalLineNumber, col2, a.get(i));\r\n                            col2++;\r\n                        }\r\n\r\n                    }\r\n                });\r\n            }\r\n            wb.finish();\r\n        } catch (IOException e) {\r\n            logger.error(&quot;Error&quot;, e);\r\n        }\r\n        LocalDateTime end = LocalDateTime.now();\r\n        logger.info(&quot;Cost time {}&quot;, Duration.between(start, end).toMillis() + &quot;ms&quot;);\r\n    }\r\n\r\n}\r\n```\r\nDependencys:\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.dhatim&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;fastexcel&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.12.12&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;cn.hutool&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hutool-all&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.7.16&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Split CSV/XLSX file into multiple sheets based on column names using apache poi","body":"<p>The following code may be useful to you if you don't have to use Apache POI. In fact, it is more efficient based on fastexcel.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import cn.hutool.core.io.FileUtil;\nimport cn.hutool.core.text.csv.CsvReader;\nimport cn.hutool.core.text.csv.CsvUtil;\nimport cn.hutool.core.text.csv.CsvWriter;\nimport org.dhatim.fastexcel.Workbook;\nimport org.dhatim.fastexcel.Worksheet;\nimport org.junit.jupiter.api.Test;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.nio.charset.StandardCharsets;\nimport java.time.Duration;\nimport java.time.LocalDateTime;\nimport java.util.Random;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class ExcelSplitTest {\n    Logger logger = LoggerFactory.getLogger(ExcelSplitTest.class);\n\n\n    @Test\n    public void Test1() {\n        LocalDateTime start = LocalDateTime.now();\n        try (CsvWriter writer = CsvUtil.getWriter(&quot;D:\\\\tmp\\\\TEST_1.csv&quot;, StandardCharsets.UTF_8)) {\n            writer.writeHeaderLine(IntStream.range(0, 50).mapToObj(String::valueOf).collect(Collectors.toList()).toArray(new String[]{}));\n            for (int i = 0; i &lt; 230000; i++) {\n                String[] strings = new Random().ints(50, 100, 150).mapToObj(a -&gt; &quot;TEST_&quot; + a).collect(Collectors.toList()).toArray(new String[]{});\n                writer.writeLine(strings);\n            }\n\n        } catch (Exception e) {\n            logger.error(&quot;Error&quot;, e);\n        }\n        LocalDateTime end = LocalDateTime.now();\n        logger.info(&quot;Cost time {}&quot;, Duration.between(start, end).toMillis() + &quot;ms&quot;);\n    }\n    /**\n     * convert by fastexcel\n     */\n    @Test\n    public void Test3() {\n        LocalDateTime start = LocalDateTime.now();\n        try (OutputStream os = FileUtil.getOutputStream(&quot;D:\\\\tmp\\\\TEST_3.xlsx&quot;)) {\n            Workbook wb = new Workbook(os, &quot;MyApplication&quot;, &quot;1.0&quot;);\n            try (CsvReader csvReader = CsvUtil.getReader(FileUtil.getUtf8Reader(&quot;D:\\\\tmp\\\\TEST_1.csv&quot;))) {\n                Worksheet ws1 = wb.newWorksheet(&quot;Sheet 1&quot;);\n                Worksheet ws2 = wb.newWorksheet(&quot;Sheet 2&quot;);\n                csvReader.stream().forEach(a -&gt; {\n                    long originalLineNumber = a.getOriginalLineNumber();\n                    int col1 = 0;\n                    int col2 = 0;\n                    for (int i = 0; i &lt; a.size(); i++) {\n                        if (i % 2 == 0) {\n                            ws1.value((int) originalLineNumber, col1, a.get(i));\n                            col1++;\n                        }\n                        else{\n                            ws2.value((int) originalLineNumber, col2, a.get(i));\n                            col2++;\n                        }\n\n                    }\n                });\n            }\n            wb.finish();\n        } catch (IOException e) {\n            logger.error(&quot;Error&quot;, e);\n        }\n        LocalDateTime end = LocalDateTime.now();\n        logger.info(&quot;Cost time {}&quot;, Duration.between(start, end).toMillis() + &quot;ms&quot;);\n    }\n\n}\n</code></pre>\n<p>Dependencys:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.dhatim&lt;/groupId&gt;\n    &lt;artifactId&gt;fastexcel&lt;/artifactId&gt;\n    &lt;version&gt;0.12.12&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;cn.hutool&lt;/groupId&gt;\n    &lt;artifactId&gt;hutool-all&lt;/artifactId&gt;\n    &lt;version&gt;5.7.16&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13544540,"reputation":35,"user_id":9771276,"display_name":"Saranya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":628,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69972462,"answer_count":1,"score":-1,"last_activity_date":1636970337,"creation_date":1636485346,"question_id":69903807,"body_markdown":"I have a CSV file with almost 190 column exported from SQL data. Now I would like to split the single CSV\\XLSX whichever support into multiple sheets based on specific column say,\r\n\r\n\t\t   Sample.csv\r\n\t\t   id  name  technology    User  Countries   Support_Place Support_Details\r\n\t\t   1   A.aaa   &quot;SQL,JAVA&quot;  user1   US          US1           6766678 NAM\r\n\t\t   2   B.bbb    Linux      user2   Japan       Japan2        9878678 RAN\r\n\t\t   3   C.ccc     Java      user3    India      India3        6545654 CAN\r\n\r\n\t\t  Expecting,\r\n\r\n\t\t   Sample.csv\r\n\t\t   sheet1\r\n\t\t   ====\r\n\t\t   id  name  technology    \r\n\t\t   1   A.aaa   &quot;SQL,JAVA&quot;  \r\n\t\t   2   B.bbb    Linux     \r\n\t\t   3   C.ccc     Java   \r\n\r\n\t\t\tUser Sheet2\r\n\t\t   ==============\r\n\t\t\t User  Countries  \r\n\t\t\t user1   US    \r\n\t\t\t user2   Japan \r\n\t\t\t user3    India\r\n\r\n\t\t  Support_Place Sheet3\r\n\t\t =====================\r\n\t\t\t Support_Place Support_Contacts\r\n\t\t\t   US1           6766678 NAM\r\n\t\t\t  Japan2        9878678 RAN\r\n\t\t\t  India3        6545654 CAN\r\n\r\nPlease let me know how to split the columns into separate sheets based on Column name.\r\nYour help is much appreciated.\r\n","title":"Split CSV/XLSX file into multiple sheets based on column names using apache poi","body":"<p>I have a CSV file with almost 190 column exported from SQL data. Now I would like to split the single CSV\\XLSX whichever support into multiple sheets based on specific column say,</p>\n<pre><code>       Sample.csv\n       id  name  technology    User  Countries   Support_Place Support_Details\n       1   A.aaa   &quot;SQL,JAVA&quot;  user1   US          US1           6766678 NAM\n       2   B.bbb    Linux      user2   Japan       Japan2        9878678 RAN\n       3   C.ccc     Java      user3    India      India3        6545654 CAN\n\n      Expecting,\n\n       Sample.csv\n       sheet1\n       ====\n       id  name  technology    \n       1   A.aaa   &quot;SQL,JAVA&quot;  \n       2   B.bbb    Linux     \n       3   C.ccc     Java   \n\n        User Sheet2\n       ==============\n         User  Countries  \n         user1   US    \n         user2   Japan \n         user3    India\n\n      Support_Place Sheet3\n     =====================\n         Support_Place Support_Contacts\n           US1           6766678 NAM\n          Japan2        9878678 RAN\n          India3        6545654 CAN\n</code></pre>\n<p>Please let me know how to split the columns into separate sheets based on Column name.\nYour help is much appreciated.</p>\n"},{"tags":["java","string","unicode","noncharacter"],"comments":[{"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":0,"creation_date":1281777211,"post_id":3482683,"comment_id":3635781,"body_markdown":"Link: http://www.mail-archive.com/java-dev@lucene.apache.org/msg15483.html &quot;(LUCENE-1241) `0xffff char` is not a string terminator&quot;","body":"Link: <a href=\"http://www.mail-archive.com/java-dev@lucene.apache.org/msg15483.html\" rel=\"nofollow noreferrer\">mail-archive.com/java-dev@lucene.apache.org/msg15483.html</a> &quot;(LUCENE-1241) <code>0xffff char</code> is not a string terminator&quot;"},{"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":0,"creation_date":1281777265,"post_id":3482683,"comment_id":3635783,"body_markdown":"Link: http://icu-project.org/apiref/icu4c/utf_8h.html - &quot;ICU APIs designed before ICU 2.4 usually define service-specific &quot;done&quot; values, mostly `0xffff`. Those may need to be distinguished from actual `U+ffff` text contents by calling functions like...&quot;","body":"Link: <a href=\"http://icu-project.org/apiref/icu4c/utf_8h.html\" rel=\"nofollow noreferrer\">icu-project.org/apiref/icu4c/utf_8h.html</a> - &quot;ICU APIs designed before ICU 2.4 usually define service-specific &quot;done&quot; values, mostly <code>0xffff</code>. Those may need to be distinguished from actual <code>U+ffff</code> text contents by calling functions like...&quot;"},{"owner":{"account_id":131131,"reputation":4248,"user_id":330913,"accept_rate":87,"display_name":"NoozNooz42"},"score":5,"creation_date":1281797058,"post_id":3482683,"comment_id":3637064,"body_markdown":"Java is &quot;broken&quot; beyond repair when it comes to dealing with Unicode but not for the nitpicky reason you mention. Java was created when Unicode 3.1 wasn&#39;t out and hence there weren&#39;t more than 2**16 codepoints. Which is why they very stupidly choosed char to be 16 bits and now we have a fully broken set of methods like *size()* and *getCharAt(...)* that will keep confusing people for decades.  This is a **MUCH** more serious deeply, sadly and profoundly broken aspect of the String class than the nitpicky one you&#39;re mentioning.","body":"Java is &quot;broken&quot; beyond repair when it comes to dealing with Unicode but not for the nitpicky reason you mention. Java was created when Unicode 3.1 wasn&#39;t out and hence there weren&#39;t more than 2<b>16 codepoints. Which is why they very stupidly choosed char to be 16 bits and now we have a fully broken set of methods like <i>size()</i> and <i>getCharAt(...)</i> that will keep confusing people for decades.  This is a **MUCH</b> more serious deeply, sadly and profoundly broken aspect of the String class than the nitpicky one you&#39;re mentioning."},{"owner":{"account_id":131131,"reputation":4248,"user_id":330913,"accept_rate":87,"display_name":"NoozNooz42"},"score":0,"creation_date":1281797246,"post_id":3482683,"comment_id":3637074,"body_markdown":"but as always... Sending love to you for focusing on the big picture and not on obscure JLS details. **THAT** is time well-spent as always ;)","body":"but as always... Sending love to you for focusing on the big picture and not on obscure JLS details. <b>THAT</b> is time well-spent as always ;)"},{"owner":{"account_id":27626,"reputation":346906,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"score":1,"creation_date":1281807053,"post_id":3482683,"comment_id":3637782,"body_markdown":"@NoozNooz42: Well, back in the day, UCS-2 *was* a good way of dealing with Unicode. And UTF-16 is a reasonable step from there. Just don&#39;t assume that `char` actually holds a character (or codepoint – as a character in the usual [human] sense would be a grapheme, which can be arbitrarily long), but instead holds a single UTF-16 code unit. It&#39;s not broken, it&#39;s just a certain way of dealing with Unicode. It&#39;s the same with Windows, by the way.","body":"@NoozNooz42: Well, back in the day, UCS-2 <i>was</i> a good way of dealing with Unicode. And UTF-16 is a reasonable step from there. Just don&#39;t assume that <code>char</code> actually holds a character (or codepoint – as a character in the usual [human] sense would be a grapheme, which can be arbitrarily long), but instead holds a single UTF-16 code unit. It&#39;s not broken, it&#39;s just a certain way of dealing with Unicode. It&#39;s the same with Windows, by the way."}],"answers":[{"tags":[],"owner":{"account_id":27626,"reputation":346906,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1387261421,"creation_date":1281776944,"answer_id":3482698,"question_id":3482683,"body_markdown":"**EDIT (2013-12-17):** [Peter O.](https://stackoverflow.com/a/16619933/73070) brings up an excellent point below, which renders this answer wrong. Old answer below, for historical accuracy.\r\n\r\n_____\r\n\r\nAnswering your questions:\r\n\r\n###Is the prescribed traversal idiom &quot;broken&quot; because it makes the wrong assumption about \\uFFFF?\r\n\r\nNo. U+FFFF is a so-called non-character. From [Section 16.7 of the Unicode Standard][1]:\r\n\r\n&gt; Noncharacters are code points that are permanently reserved in the Unicode Standard for internal use. They are forbidden for use in open interchange of Unicode text data.\r\n\r\n&gt; ...\r\n\r\n&gt; The Unicode Standard sets aside 66 noncharacter code points. The last two code points of\r\neach plane are noncharacters: U+FFFE and U+FFFF on the BMP, U+1FFFE and U+1FFFF\r\non Plane 1, and so on, up to U+10FFFE and U+10FFFF on Plane 16, for a total of 34 code\r\npoints. In addition, there is a contiguous range of another 32 noncharacter code points in\r\nthe BMP: U+FDD0..U+FDEF.\r\n\r\n###Is the StringCharacterIterator implementation &quot;broken&quot; because it doesn&#39;t e.g. throw an IllegalArgumentException if in fact \\uFFFF is forbidden in valid Unicode strings?\r\n\r\nNot quite. Applications are allowed to use those code points *internally* in any way they want. Quoting the standard again:\r\n\r\n&gt; Applications are free to use any of these noncharacter code points internally but should\r\n*never* attempt to exchange them. If a noncharacter is received in open interchange, an\r\napplication is not required to interpret it in any way. It is good practice, however, to recognize it as a noncharacter and to take appropriate action, such as replacing it with U+FFFD REPLACEMENT CHARACTER, to indicate the problem in the text. It is not recommended to\r\nsimply delete noncharacter code points from such text, because of the potential security\r\nissues caused by deleting uninterpreted characters.\r\n\r\nSo while you should never encounter such a string from the user, another application or a file, you may well put it into a Java String if you know what you&#39;re doing (this basically means that you cannot use the CharacterIterator on that string, though.\r\n\r\n###Is it actually true that valid Unicode strings should not contain \\uFFFF?\r\n\r\nAs quoted above, any string used for interchange *must not* contain them. Within your application you&#39;re free to use them in whatever way they want.\r\n\r\nOf course, a Java `char`, being just a 16-bit unsigned integer doesn&#39;t really care about the value it holds as well.\r\n\r\n###If that&#39;s true, then is Java &quot;broken&quot; for violating the Unicode specification by (for the most parts) allowing String to contain \\uFFFF anyway?\r\n\r\nNo. In fact, the section on noncharacters even suggests the use of U+FFFF as sentinel value:\r\n\r\n&gt; In effect, noncharacters can be thought of as application-internal private-use code points.\r\nUnlike the private-use characters discussed in *Section 16.5, Private-Use Characters*, which\r\nare assigned characters and which are intended for use in open interchange, subject to\r\ninterpretation by private agreement, noncharacters are permanently reserved (unassigned)\r\nand have no interpretation whatsoever outside of their possible application-internal private\r\nuses.\r\n\r\n&gt; **U+FFFF and U+10FFFF.** These two noncharacter code points have the attribute of being\r\nassociated with the largest code unit values for particular Unicode encoding forms. In\r\nUTF-16, U+FFFF is associated with the largest 16-bit code unit value, FFFF&lt;sub&gt;16&lt;/sub&gt;. U+10FFFF is\r\nassociated with the largest legal UTF-32 32-bit code unit value, 10FFFF&lt;sub&gt;16&lt;/sub&gt;. This attribute\r\nrenders these two noncharacter code points useful for internal purposes as sentinels. For\r\nexample, they might be used to indicate the end of a list, to represent a value in an index\r\nguaranteed to be higher than any valid character value, and so on.\r\n\r\nCharacterIterator follows this in that it returns U+FFFF when no more characters are available. Of course, this means that if you have another use for that code point in your application you may consider using a different non-character for that purpose since U+FFFF is already taken – at least if you&#39;re using CharacterIterator.\r\n\r\n  [1]: http://www.unicode.org/versions/Unicode5.2.0/ch16.pdf#G19635","title":"Can a valid Unicode string contain FFFF? Is Java/CharacterIterator broken?","body":"<p><strong>EDIT (2013-12-17):</strong> <a href=\"https://stackoverflow.com/a/16619933/73070\">Peter O.</a> brings up an excellent point below, which renders this answer wrong. Old answer below, for historical accuracy.</p>\n\n<hr>\n\n<p>Answering your questions:</p>\n\n<h3>Is the prescribed traversal idiom \"broken\" because it makes the wrong assumption about \\uFFFF?</h3>\n\n<p>No. U+FFFF is a so-called non-character. From <a href=\"http://www.unicode.org/versions/Unicode5.2.0/ch16.pdf#G19635\" rel=\"nofollow noreferrer\">Section 16.7 of the Unicode Standard</a>:</p>\n\n<blockquote>\n  <p>Noncharacters are code points that are permanently reserved in the Unicode Standard for internal use. They are forbidden for use in open interchange of Unicode text data.</p>\n  \n  <p>...</p>\n  \n  <p>The Unicode Standard sets aside 66 noncharacter code points. The last two code points of\n  each plane are noncharacters: U+FFFE and U+FFFF on the BMP, U+1FFFE and U+1FFFF\n  on Plane 1, and so on, up to U+10FFFE and U+10FFFF on Plane 16, for a total of 34 code\n  points. In addition, there is a contiguous range of another 32 noncharacter code points in\n  the BMP: U+FDD0..U+FDEF.</p>\n</blockquote>\n\n<h3>Is the StringCharacterIterator implementation \"broken\" because it doesn't e.g. throw an IllegalArgumentException if in fact \\uFFFF is forbidden in valid Unicode strings?</h3>\n\n<p>Not quite. Applications are allowed to use those code points <em>internally</em> in any way they want. Quoting the standard again:</p>\n\n<blockquote>\n  <p>Applications are free to use any of these noncharacter code points internally but should\n  <em>never</em> attempt to exchange them. If a noncharacter is received in open interchange, an\n  application is not required to interpret it in any way. It is good practice, however, to recognize it as a noncharacter and to take appropriate action, such as replacing it with U+FFFD REPLACEMENT CHARACTER, to indicate the problem in the text. It is not recommended to\n  simply delete noncharacter code points from such text, because of the potential security\n  issues caused by deleting uninterpreted characters.</p>\n</blockquote>\n\n<p>So while you should never encounter such a string from the user, another application or a file, you may well put it into a Java String if you know what you're doing (this basically means that you cannot use the CharacterIterator on that string, though.</p>\n\n<h3>Is it actually true that valid Unicode strings should not contain \\uFFFF?</h3>\n\n<p>As quoted above, any string used for interchange <em>must not</em> contain them. Within your application you're free to use them in whatever way they want.</p>\n\n<p>Of course, a Java <code>char</code>, being just a 16-bit unsigned integer doesn't really care about the value it holds as well.</p>\n\n<h3>If that's true, then is Java \"broken\" for violating the Unicode specification by (for the most parts) allowing String to contain \\uFFFF anyway?</h3>\n\n<p>No. In fact, the section on noncharacters even suggests the use of U+FFFF as sentinel value:</p>\n\n<blockquote>\n  <p>In effect, noncharacters can be thought of as application-internal private-use code points.\n  Unlike the private-use characters discussed in <em>Section 16.5, Private-Use Characters</em>, which\n  are assigned characters and which are intended for use in open interchange, subject to\n  interpretation by private agreement, noncharacters are permanently reserved (unassigned)\n  and have no interpretation whatsoever outside of their possible application-internal private\n  uses.</p>\n  \n  <p><strong>U+FFFF and U+10FFFF.</strong> These two noncharacter code points have the attribute of being\n  associated with the largest code unit values for particular Unicode encoding forms. In\n  UTF-16, U+FFFF is associated with the largest 16-bit code unit value, FFFF<sub>16</sub>. U+10FFFF is\n  associated with the largest legal UTF-32 32-bit code unit value, 10FFFF<sub>16</sub>. This attribute\n  renders these two noncharacter code points useful for internal purposes as sentinels. For\n  example, they might be used to indicate the end of a list, to represent a value in an index\n  guaranteed to be higher than any valid character value, and so on.</p>\n</blockquote>\n\n<p>CharacterIterator follows this in that it returns U+FFFF when no more characters are available. Of course, this means that if you have another use for that code point in your application you may consider using a different non-character for that purpose since U+FFFF is already taken – at least if you're using CharacterIterator.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1281779134,"creation_date":1281779134,"answer_id":3482800,"question_id":3482683,"body_markdown":"Yes, CharacterIterator&#39;s use of 0xFFFF as the DONE value is a bit of anomaly.  But it all makes sense from the perspective of efficient text processing.\r\n\r\nThe String class does not forbid the 0xFFFF &quot;non-character&quot; and other reserved or unmapped Unicode codepoints.  To do so would require the String constructors to check each supplied `char` value.  It would also present problems with handling text containing Unicode code points defined in a future (with respect to the JVM) version of Unicode.\r\n\r\nOn the other hand, the CharacterIterator interface is designed to allow iteration by calling one just method; i.e. `next()`.  They have decided to use a distinguished `char` value to indicate &quot;no more&quot;, because the other alternatives are:\r\n\r\n  - throwing an exception (which is too expensive), or\r\n  - using `int` as the return type which life more complicated for the caller.\r\n\r\nIf the CharacterIterator is used for &quot;real&quot; Unicode text, then the fact that you cannot include 0xFFFF is not an issue.  Valid Unicode text doesn&#39;t contain this code point.  (In fact, the reason for 0xFFFF being reserved as a non-character is to support applications where Unicode text is represented as strings terminated by a non-character value.  The use of 0xFFFF as a character would break that completely.)\r\n\r\nThe bottom line is:\r\n\r\n  - if you want strict Unicode strings then don&#39;t use `String`, and \r\n  - if you want to iterate over Java Strings that contain 0xFFFF values, then don&#39;t use a CharacterIterator.","title":"Can a valid Unicode string contain FFFF? Is Java/CharacterIterator broken?","body":"<p>Yes, CharacterIterator's use of 0xFFFF as the DONE value is a bit of anomaly.  But it all makes sense from the perspective of efficient text processing.</p>\n\n<p>The String class does not forbid the 0xFFFF \"non-character\" and other reserved or unmapped Unicode codepoints.  To do so would require the String constructors to check each supplied <code>char</code> value.  It would also present problems with handling text containing Unicode code points defined in a future (with respect to the JVM) version of Unicode.</p>\n\n<p>On the other hand, the CharacterIterator interface is designed to allow iteration by calling one just method; i.e. <code>next()</code>.  They have decided to use a distinguished <code>char</code> value to indicate \"no more\", because the other alternatives are:</p>\n\n<ul>\n<li>throwing an exception (which is too expensive), or</li>\n<li>using <code>int</code> as the return type which life more complicated for the caller.</li>\n</ul>\n\n<p>If the CharacterIterator is used for \"real\" Unicode text, then the fact that you cannot include 0xFFFF is not an issue.  Valid Unicode text doesn't contain this code point.  (In fact, the reason for 0xFFFF being reserved as a non-character is to support applications where Unicode text is represented as strings terminated by a non-character value.  The use of 0xFFFF as a character would break that completely.)</p>\n\n<p>The bottom line is:</p>\n\n<ul>\n<li>if you want strict Unicode strings then don't use <code>String</code>, and </li>\n<li>if you want to iterate over Java Strings that contain 0xFFFF values, then don't use a CharacterIterator.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10108,"reputation":530017,"user_id":18936,"display_name":"bobince"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1282227424,"creation_date":1282227424,"answer_id":3522677,"question_id":3482683,"body_markdown":"&gt; Is the StringCharacterIterator implementation &quot;broken&quot; because it doesn&#39;t e.g. throw an IllegalArgumentException if in fact \\uFFFF is forbidden in valid Unicode strings?\r\n\r\nNot strictly according to Unicode, but it&#39;s inconsistent with the rest of Java&#39;s string handling interfaces, and that inconsistency could have very unpleasant effects. Think of all the security holes we&#39;ve had from string processing that does vs. doesn&#39;t treat `\\0` as a terminator.\r\n\r\nI would strongly avoid the `CharacterIterator` interface.\r\n","title":"Can a valid Unicode string contain FFFF? Is Java/CharacterIterator broken?","body":"<blockquote>\n  <p>Is the StringCharacterIterator implementation \"broken\" because it doesn't e.g. throw an IllegalArgumentException if in fact \\uFFFF is forbidden in valid Unicode strings?</p>\n</blockquote>\n\n<p>Not strictly according to Unicode, but it's inconsistent with the rest of Java's string handling interfaces, and that inconsistency could have very unpleasant effects. Think of all the security holes we've had from string processing that does vs. doesn't treat <code>\\0</code> as a terminator.</p>\n\n<p>I would strongly avoid the <code>CharacterIterator</code> interface.</p>\n"},{"tags":[],"owner":{"account_id":431570,"reputation":32368,"user_id":815724,"display_name":"Peter O."},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1636970058,"creation_date":1368841319,"answer_id":16619933,"question_id":3482683,"body_markdown":"Some of these answers have changed in the meantime.\r\n\r\nThe Unicode Consortium recently issued [Corrigendum 9](http://www.unicode.org/versions/corrigendum9.html) that clarifies the role \r\nof noncharacters, including U+FFFF, in Unicode strings. It states that while noncharacters are intended for\r\ninternal use, they _can_ occur legally in Unicode strings.\r\n\r\nThat means the statement &quot;The value is \\uFFFF, the &#39;not a character&#39; value which should not occur in any valid Unicode string.&quot; is now\r\nincorrect, since U+FFFF _can_ occur in valid Unicode strings.\r\n\r\nAccordingly:\r\n\r\n* **Is the StringCharacterIterator implementation &quot;broken&quot; because it doesn&#39;t throw an exception if \\uFFFF \r\nis forbidden in valid Unicode strings?** Since U+FFFF is valid,\r\nthis doesn&#39;t apply here. But an implementation has wide flexibility in signaling an error when it encounters\r\ntext that&#39;s illegal for other reasons, such as unpaired surrogate code points, which still remain illegal (see\r\nconformance clause C10 in chapter 3 of the Unicode Standard).\r\n* **Is it true that valid Unicode strings should not contain \\uFFFF?** U+FFFF is not illegal in a valid Unicode string.\r\n\r\n    However U+FFFF is reserved as a noncharacter and so will generally not occur in meaningful text. The corrigendum\r\ndeleted the text that noncharacters &quot;should never be interchanged&quot;, which the corrigendum says happens \r\n&quot;anytime a Unicode string crosses an API boundary&quot;, including the StringCharacterIterator API at issue here.\r\n* **If that&#39;s true, then is Java &quot;broken&quot; for violating the Unicode specification by\r\nallowing String to contain \\uFFFF anyway?** The specification for `java.lang.String` says &quot;A String represents \r\n a string in the UTF-16 format.&quot; U+FFFF is legal in a Unicode string, so Java doesn&#39;t violate Unicode\r\nfor allowing U+FFFF in a string containing it.\r\n\r\nIn general, a higher-level protocol can impose its own rules on top of the Unicode Standard, on the question of which characters are allowed in documents accepted by the protocol. This is the case, for example, in the XML specification. In general, U+FFFF (and other Unicode scalar values) can validly appear in a text string unless a higher-level protocol (such as XML) specifies otherwise. Indeed, there is a current effort (as of November 15, 2021) to restrict the use of Unicode bidirectional override characters in certain programming languages such as Rust, to reduce security attacks due to visual confusion.","title":"Can a valid Unicode string contain FFFF? Is Java/CharacterIterator broken?","body":"<p>Some of these answers have changed in the meantime.</p>\n<p>The Unicode Consortium recently issued <a href=\"http://www.unicode.org/versions/corrigendum9.html\" rel=\"nofollow noreferrer\">Corrigendum 9</a> that clarifies the role\nof noncharacters, including U+FFFF, in Unicode strings. It states that while noncharacters are intended for\ninternal use, they <em>can</em> occur legally in Unicode strings.</p>\n<p>That means the statement &quot;The value is \\uFFFF, the 'not a character' value which should not occur in any valid Unicode string.&quot; is now\nincorrect, since U+FFFF <em>can</em> occur in valid Unicode strings.</p>\n<p>Accordingly:</p>\n<ul>\n<li><p><strong>Is the StringCharacterIterator implementation &quot;broken&quot; because it doesn't throw an exception if \\uFFFF\nis forbidden in valid Unicode strings?</strong> Since U+FFFF is valid,\nthis doesn't apply here. But an implementation has wide flexibility in signaling an error when it encounters\ntext that's illegal for other reasons, such as unpaired surrogate code points, which still remain illegal (see\nconformance clause C10 in chapter 3 of the Unicode Standard).</p>\n</li>\n<li><p><strong>Is it true that valid Unicode strings should not contain \\uFFFF?</strong> U+FFFF is not illegal in a valid Unicode string.</p>\n<p>However U+FFFF is reserved as a noncharacter and so will generally not occur in meaningful text. The corrigendum\ndeleted the text that noncharacters &quot;should never be interchanged&quot;, which the corrigendum says happens\n&quot;anytime a Unicode string crosses an API boundary&quot;, including the StringCharacterIterator API at issue here.</p>\n</li>\n<li><p><strong>If that's true, then is Java &quot;broken&quot; for violating the Unicode specification by\nallowing String to contain \\uFFFF anyway?</strong> The specification for <code>java.lang.String</code> says &quot;A String represents\na string in the UTF-16 format.&quot; U+FFFF is legal in a Unicode string, so Java doesn't violate Unicode\nfor allowing U+FFFF in a string containing it.</p>\n</li>\n</ul>\n<p>In general, a higher-level protocol can impose its own rules on top of the Unicode Standard, on the question of which characters are allowed in documents accepted by the protocol. This is the case, for example, in the XML specification. In general, U+FFFF (and other Unicode scalar values) can validly appear in a text string unless a higher-level protocol (such as XML) specifies otherwise. Indeed, there is a current effort (as of November 15, 2021) to restrict the use of Unicode bidirectional override characters in certain programming languages such as Rust, to reduce security attacks due to visual confusion.</p>\n"}],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10265,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":3482698,"answer_count":4,"score":26,"last_activity_date":1636970058,"creation_date":1281776602,"question_id":3482683,"body_markdown":"Here&#39;s an excerpt from [`java.text.CharacterIterator`](http://docs.oracle.com/javase/8/docs/api/java/text/CharacterIterator.html) documentation:\n\n&gt;* This `interface` defines a protocol for bidirectional iteration over text. The iterator iterates over a bounded sequence of characters. [...] The methods `previous()` and `next()` are used for iteration. They return `DONE` if [...], signaling that the iterator has reached the end of the sequence.\n&gt;\n&gt;* [`static final char DONE`](http://docs.oracle.com/javase/8/docs/api/java/text/CharacterIterator.html#DONE): Constant that is returned when the iterator has reached either the end or the beginning of the text. The value is `\\uFFFF`, the &quot;not a character&quot; value _which should not occur in any valid Unicode string_.\n\nThe italicized part is what I&#39;m having trouble understanding, because from my tests, it looks like a Java `String` can most certainly contain `\\uFFFF`, and there doesn&#39;t seem to be any problem with it, except obviously with the prescribed `CharacterIterator` traversal idiom that breaks because of a false positive (e.g. `next()` returns `&#39;\\uFFFF&#39; == DONE` when it&#39;s not really &quot;done&quot;).\n\nHere&#39;s a snippet to illustrate the &quot;problem&quot; ([see also on ideone.com](http://ideone.com/s5iY5)):\n\n    import java.text.*;\n    public class CharacterIteratorTest {\n\n        // this is the prescribed traversal idiom from the documentation\n        public static void traverseForward(CharacterIterator iter) {\n           for(char c = iter.first(); c != CharacterIterator.DONE; c = iter.next()) {\n              System.out.print(c);\n           }\n        }\n\n        public static void main(String[] args) {\n            String s = &quot;abc\\uFFFFdef&quot;;\n\n            System.out.println(s);\n            // abc?def\n    \n            System.out.println(s.indexOf(&#39;\\uFFFF&#39;));\n            // 3\n            \n            traverseForward(new StringCharacterIterator(s));\n            // abc\n        }\n    }\n\nSo what is going on here?\n\n* Is the prescribed traversal idiom &quot;broken&quot; because it makes the wrong assumption about `\\uFFFF`?\n* Is the `StringCharacterIterator` implementation &quot;broken&quot; because it doesn&#39;t e.g. `throw` an `IllegalArgumentException` if in fact `\\uFFFF` is forbidden in valid Unicode strings?\n* Is it actually true that valid Unicode strings should not contain `\\uFFFF`?\n* If that&#39;s true, then is Java &quot;broken&quot; for violating the Unicode specification by (for the most parts) allowing `String` to contain `\\uFFFF` anyway?\n","title":"Can a valid Unicode string contain FFFF? Is Java/CharacterIterator broken?","body":"<p>Here's an excerpt from <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/CharacterIterator.html\" rel=\"noreferrer\"><code>java.text.CharacterIterator</code></a> documentation:</p>\n<blockquote>\n<ul>\n<li><p>This <code>interface</code> defines a protocol for bidirectional iteration over text. The iterator iterates over a bounded sequence of characters. [...] The methods <code>previous()</code> and <code>next()</code> are used for iteration. They return <code>DONE</code> if [...], signaling that the iterator has reached the end of the sequence.</p>\n</li>\n<li><p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/CharacterIterator.html#DONE\" rel=\"noreferrer\"><code>static final char DONE</code></a>: Constant that is returned when the iterator has reached either the end or the beginning of the text. The value is <code>\\uFFFF</code>, the &quot;not a character&quot; value <em>which should not occur in any valid Unicode string</em>.</p>\n</li>\n</ul>\n</blockquote>\n<p>The italicized part is what I'm having trouble understanding, because from my tests, it looks like a Java <code>String</code> can most certainly contain <code>\\uFFFF</code>, and there doesn't seem to be any problem with it, except obviously with the prescribed <code>CharacterIterator</code> traversal idiom that breaks because of a false positive (e.g. <code>next()</code> returns <code>'\\uFFFF' == DONE</code> when it's not really &quot;done&quot;).</p>\n<p>Here's a snippet to illustrate the &quot;problem&quot; (<a href=\"http://ideone.com/s5iY5\" rel=\"noreferrer\">see also on ideone.com</a>):</p>\n<pre><code>import java.text.*;\npublic class CharacterIteratorTest {\n\n    // this is the prescribed traversal idiom from the documentation\n    public static void traverseForward(CharacterIterator iter) {\n       for(char c = iter.first(); c != CharacterIterator.DONE; c = iter.next()) {\n          System.out.print(c);\n       }\n    }\n\n    public static void main(String[] args) {\n        String s = &quot;abc\\uFFFFdef&quot;;\n\n        System.out.println(s);\n        // abc?def\n\n        System.out.println(s.indexOf('\\uFFFF'));\n        // 3\n        \n        traverseForward(new StringCharacterIterator(s));\n        // abc\n    }\n}\n</code></pre>\n<p>So what is going on here?</p>\n<ul>\n<li>Is the prescribed traversal idiom &quot;broken&quot; because it makes the wrong assumption about <code>\\uFFFF</code>?</li>\n<li>Is the <code>StringCharacterIterator</code> implementation &quot;broken&quot; because it doesn't e.g. <code>throw</code> an <code>IllegalArgumentException</code> if in fact <code>\\uFFFF</code> is forbidden in valid Unicode strings?</li>\n<li>Is it actually true that valid Unicode strings should not contain <code>\\uFFFF</code>?</li>\n<li>If that's true, then is Java &quot;broken&quot; for violating the Unicode specification by (for the most parts) allowing <code>String</code> to contain <code>\\uFFFF</code> anyway?</li>\n</ul>\n"},{"tags":["java","android","webview","save-image"],"owner":{"account_id":22428395,"reputation":51,"user_id":16634647,"display_name":"Martin De Beer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1636969899,"creation_date":1636969899,"question_id":69972369,"body_markdown":"So when I open my phone&#39;s file explorer it shows my image but it is 0B. It also doesn&#39;t upload the image. It seems like the app isn&#39;t writing to file properly and I can&#39;t seem to figure out why it does this. I have been struggling with this for a while now. If anyone can tell me what I am doing wrong I would appreciate it.\r\nI am using SDK 29.\r\nThis is my Java code:\r\n\r\n```\r\npublic void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg, String acceptType){\r\n\r\n    // Update message\r\n    mUM = uploadMsg;\r\n\r\n    try{\r\n\r\n\r\n        // Create camera captured image file path and name\r\n\r\n        ContentResolver resolver = MainActivity.this.getContentResolver();\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, &quot;IMG_&quot;\r\n                + String.valueOf(System.currentTimeMillis()));\r\n        contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpeg&quot;);\r\n        contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_PICTURES);\r\n\r\n        Uri uri = resolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues);\r\n\r\n        // Camera capture image intent\r\n        final Intent captureIntent = new Intent(\r\n                android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\r\n\r\n        captureIntent.putExtra(MediaStore.EXTRA_OUTPUT, uri);\r\n\r\n        Intent i = new Intent(Intent.ACTION_GET_CONTENT);\r\n        i.addCategory(Intent.CATEGORY_OPENABLE);\r\n        i.setType(&quot;image/*&quot;);\r\n\r\n        // Create file chooser intent\r\n        Intent chooserIntent = Intent.createChooser(i, &quot;Image Chooser&quot;);\r\n\r\n        // Set camera intent to file chooser\r\n        chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS\r\n                , new Parcelable[] { captureIntent });\r\n\r\n        // On select image call onActivityResult method of activity\r\n        startActivityForResult(chooserIntent, FILECHOOSER_RESULTCODE);\r\n\r\n    }\r\n    catch(Exception e){\r\n        Toast.makeText(getBaseContext(), &quot;Exception:&quot;+e,\r\n                Toast.LENGTH_LONG).show();\r\n    }\r\n\r\n}\r\n\r\n            //For Android 5.0+\r\n            public boolean onShowFileChooser(\r\n                    WebView webView, ValueCallback&lt;Uri[]&gt; filePathCallback,\r\n                    WebChromeClient.FileChooserParams fileChooserParams) {\r\n                if (mUMA != null) {\r\n                    mUMA.onReceiveValue(null);\r\n                }\r\n                mUMA = filePathCallback;\r\n                Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                if (takePictureIntent.resolveActivity(MainActivity.this.getPackageManager()) != null) {\r\n                    File photoFile = null;\r\n                    try {\r\n                        photoFile = createImageFile();\r\n                        takePictureIntent.putExtra(&quot;PhotoPath&quot;, mCM);\r\n                    } catch (IOException ex) {\r\n                        Log.e(TAG, &quot;Image file creation failed&quot;, ex);\r\n\r\n                        new AlertDialog.Builder(MainActivity.this)\r\n                                .setTitle(&quot;Closing Activity&quot;)\r\n                                .setMessage(String.format(&quot;Failed to create image.\\r\\n %s&quot;, ex))\r\n                                .setPositiveButton(&quot;OK&quot;, null)\r\n                                .setNegativeButton(&quot;No&quot;, null)\r\n                                .show();\r\n                    }\r\n                    if (photoFile != null) {\r\n                        mCM = &quot;file:&quot; + photoFile.getAbsolutePath();\r\n                        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(photoFile));\r\n                    } else {\r\n                        takePictureIntent = null;\r\n                    }\r\n                }\r\n                Intent contentSelectionIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                contentSelectionIntent.addCategory(Intent.CATEGORY_OPENABLE);\r\n                contentSelectionIntent.setType(&quot;*/*&quot;);\r\n                Intent[] intentArray;\r\n                if (takePictureIntent != null) {\r\n                    intentArray = new Intent[]{takePictureIntent};\r\n                } else {\r\n                    intentArray = new Intent[0];\r\n                }\r\n\r\n                Intent chooserIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                chooserIntent.putExtra(Intent.EXTRA_INTENT, contentSelectionIntent);\r\n                chooserIntent.putExtra(Intent.EXTRA_TITLE, &quot;Image Chooser&quot;);\r\n                chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, intentArray);\r\n                startActivityForResult(chooserIntent, FCR);\r\n                return true;\r\n            }\r\n            @Override\r\n            public void onPermissionRequest(final PermissionRequest request){\r\n                request.grant(request.getResources());\r\n\r\n\r\n            }\r\n        });\r\n```\r\n\r\n","title":"When I take a photo with my Android webview it saves it with 0B and doesn&#39;t upload","body":"<p>So when I open my phone's file explorer it shows my image but it is 0B. It also doesn't upload the image. It seems like the app isn't writing to file properly and I can't seem to figure out why it does this. I have been struggling with this for a while now. If anyone can tell me what I am doing wrong I would appreciate it.\nI am using SDK 29.\nThis is my Java code:</p>\n<pre><code>public void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg, String acceptType){\n\n    // Update message\n    mUM = uploadMsg;\n\n    try{\n\n\n        // Create camera captured image file path and name\n\n        ContentResolver resolver = MainActivity.this.getContentResolver();\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, &quot;IMG_&quot;\n                + String.valueOf(System.currentTimeMillis()));\n        contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpeg&quot;);\n        contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_PICTURES);\n\n        Uri uri = resolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues);\n\n        // Camera capture image intent\n        final Intent captureIntent = new Intent(\n                android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\n\n        captureIntent.putExtra(MediaStore.EXTRA_OUTPUT, uri);\n\n        Intent i = new Intent(Intent.ACTION_GET_CONTENT);\n        i.addCategory(Intent.CATEGORY_OPENABLE);\n        i.setType(&quot;image/*&quot;);\n\n        // Create file chooser intent\n        Intent chooserIntent = Intent.createChooser(i, &quot;Image Chooser&quot;);\n\n        // Set camera intent to file chooser\n        chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS\n                , new Parcelable[] { captureIntent });\n\n        // On select image call onActivityResult method of activity\n        startActivityForResult(chooserIntent, FILECHOOSER_RESULTCODE);\n\n    }\n    catch(Exception e){\n        Toast.makeText(getBaseContext(), &quot;Exception:&quot;+e,\n                Toast.LENGTH_LONG).show();\n    }\n\n}\n\n            //For Android 5.0+\n            public boolean onShowFileChooser(\n                    WebView webView, ValueCallback&lt;Uri[]&gt; filePathCallback,\n                    WebChromeClient.FileChooserParams fileChooserParams) {\n                if (mUMA != null) {\n                    mUMA.onReceiveValue(null);\n                }\n                mUMA = filePathCallback;\n                Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                if (takePictureIntent.resolveActivity(MainActivity.this.getPackageManager()) != null) {\n                    File photoFile = null;\n                    try {\n                        photoFile = createImageFile();\n                        takePictureIntent.putExtra(&quot;PhotoPath&quot;, mCM);\n                    } catch (IOException ex) {\n                        Log.e(TAG, &quot;Image file creation failed&quot;, ex);\n\n                        new AlertDialog.Builder(MainActivity.this)\n                                .setTitle(&quot;Closing Activity&quot;)\n                                .setMessage(String.format(&quot;Failed to create image.\\r\\n %s&quot;, ex))\n                                .setPositiveButton(&quot;OK&quot;, null)\n                                .setNegativeButton(&quot;No&quot;, null)\n                                .show();\n                    }\n                    if (photoFile != null) {\n                        mCM = &quot;file:&quot; + photoFile.getAbsolutePath();\n                        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(photoFile));\n                    } else {\n                        takePictureIntent = null;\n                    }\n                }\n                Intent contentSelectionIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                contentSelectionIntent.addCategory(Intent.CATEGORY_OPENABLE);\n                contentSelectionIntent.setType(&quot;*/*&quot;);\n                Intent[] intentArray;\n                if (takePictureIntent != null) {\n                    intentArray = new Intent[]{takePictureIntent};\n                } else {\n                    intentArray = new Intent[0];\n                }\n\n                Intent chooserIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                chooserIntent.putExtra(Intent.EXTRA_INTENT, contentSelectionIntent);\n                chooserIntent.putExtra(Intent.EXTRA_TITLE, &quot;Image Chooser&quot;);\n                chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, intentArray);\n                startActivityForResult(chooserIntent, FCR);\n                return true;\n            }\n            @Override\n            public void onPermissionRequest(final PermissionRequest request){\n                request.grant(request.getResources());\n\n\n            }\n        });\n</code></pre>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1522780079,"creation_date":1522780079,"answer_id":49636855,"question_id":49633805,"body_markdown":"You cannot just `System.out.println` a `Document` instance and have it show the XML content. What you see in the log is expected, it may just show `Document: null` or something, but that does not mean there is no content.","title":"Camel bean parameter binding not working","body":"<p>You cannot just <code>System.out.println</code> a <code>Document</code> instance and have it show the XML content. What you see in the log is expected, it may just show <code>Document: null</code> or something, but that does not mean there is no content.</p>\n"}],"owner":{"account_id":7509953,"reputation":22160,"user_id":5705247,"accept_rate":27,"display_name":"Tuomas Toivonen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1081,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49636855,"answer_count":1,"score":2,"last_activity_date":1636969802,"creation_date":1522769242,"question_id":49633805,"body_markdown":"I&#39;m learning Apache Camel framework, trying to implement simple bean parameter binding example.\r\n\r\nI have the following route\r\n\r\n    from(&quot;timer://foo?delay=2000&quot;)\r\n\t\t.setBody(simple(&quot;hello&quot;))\r\n\t\t.log(&quot;${body}&quot;)\r\n\t\t.transform(simple(&quot;&lt;foo&gt;${body}&lt;/foo&gt;&quot;))\r\n\t\t.log(&quot;${body}&quot;)\r\n\t\t.bean(DocumentProcessorBean.class, &quot;process&quot;);\r\n\r\nAnd the following Spring bean\r\n\r\n\t@Component(&quot;documentProcessorBean&quot;)\r\n\tpublic static class DocumentProcessorBean {\r\n\t\t\r\n\t\tpublic Document process(@Body Document doc, @Headers Map&lt;String, Object&gt; headers) {\r\n\t\t\tSystem.out.println(doc);\r\n\t\t\tSystem.out.println(headers);\r\n\t\t\treturn doc;\r\n\t\t}\r\n\t}\r\n\r\nHowever, the parameter binding doesn&#39;t seem to work, as I&#39;m getting Document instance without content, as is shown in the log\r\n\r\n    2018-04-03 18:14:39.354  INFO 7740 --- [1 - timer://foo] route1                                   : hello\r\n    2018-04-03 18:14:39.354  INFO 7740 --- [1 - timer://foo] route1                                   : &lt;foo&gt;hello&lt;/foo&gt;\r\n    [#document: null]\r\n    {breadcrumbId=ID-DESKTOP-LI5P50P-1522768469501-0-6, firedTime=Tue Apr 03 18:14:39 EEST 2018}\r\n\r\nI&#39;m also confused about the &quot;implicit&quot; data formats camel uses. For example, does transformation using `simple` always return a string? What is the difference of using string, marshalled format (e.g xstream) or binding class format (POJO) in the route, or does it even matter? Generally, what are the scenarios when I need to transform between these formats in the route? And most importantly, why the bean parameter binding in this particular route doesn&#39;t work?","title":"Camel bean parameter binding not working","body":"<p>I'm learning Apache Camel framework, trying to implement simple bean parameter binding example.</p>\n\n<p>I have the following route</p>\n\n<pre><code>from(\"timer://foo?delay=2000\")\n    .setBody(simple(\"hello\"))\n    .log(\"${body}\")\n    .transform(simple(\"&lt;foo&gt;${body}&lt;/foo&gt;\"))\n    .log(\"${body}\")\n    .bean(DocumentProcessorBean.class, \"process\");\n</code></pre>\n\n<p>And the following Spring bean</p>\n\n<pre><code>@Component(\"documentProcessorBean\")\npublic static class DocumentProcessorBean {\n\n    public Document process(@Body Document doc, @Headers Map&lt;String, Object&gt; headers) {\n        System.out.println(doc);\n        System.out.println(headers);\n        return doc;\n    }\n}\n</code></pre>\n\n<p>However, the parameter binding doesn't seem to work, as I'm getting Document instance without content, as is shown in the log</p>\n\n<pre><code>2018-04-03 18:14:39.354  INFO 7740 --- [1 - timer://foo] route1                                   : hello\n2018-04-03 18:14:39.354  INFO 7740 --- [1 - timer://foo] route1                                   : &lt;foo&gt;hello&lt;/foo&gt;\n[#document: null]\n{breadcrumbId=ID-DESKTOP-LI5P50P-1522768469501-0-6, firedTime=Tue Apr 03 18:14:39 EEST 2018}\n</code></pre>\n\n<p>I'm also confused about the \"implicit\" data formats camel uses. For example, does transformation using <code>simple</code> always return a string? What is the difference of using string, marshalled format (e.g xstream) or binding class format (POJO) in the route, or does it even matter? Generally, what are the scenarios when I need to transform between these formats in the route? And most importantly, why the bean parameter binding in this particular route doesn't work?</p>\n"},{"tags":["java","jsoup"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1636968692,"post_id":69972029,"comment_id":123690125,"body_markdown":"Maybe [this](https://stackoverflow.com/questions/17807929/javascript-get-href-onclick/17808032) can help you for the `a` href. Also, you should get element, you can use lot of things such as `document.getElementById`","body":"Maybe <a href=\"https://stackoverflow.com/questions/17807929/javascript-get-href-onclick/17808032\">this</a> can help you for the <code>a</code> href. Also, you should get element, you can use lot of things such as <code>document.getElementById</code>"},{"owner":{"account_id":1598303,"reputation":12302,"user_id":1479895,"accept_rate":78,"display_name":"Anton Belev"},"score":0,"creation_date":1636969228,"post_id":69972029,"comment_id":123690315,"body_markdown":"Do you want to extract all href values from all trs with class `textData` or all hrefs all together, the answer will depend on which hrefs you want to select and it&#39;s not clear from the question","body":"Do you want to extract all href values from all trs with class <code>textData</code> or all hrefs all together, the answer will depend on which hrefs you want to select and it&#39;s not clear from the question"},{"owner":{"display_name":"user15973370"},"score":0,"creation_date":1636969338,"post_id":69972029,"comment_id":123690355,"body_markdown":"@AntonBelev , yes all  hrefs","body":"@AntonBelev , yes all  hrefs"},{"owner":{"display_name":"user17223316"},"score":0,"creation_date":1636969360,"post_id":69972029,"comment_id":123690361,"body_markdown":"There are three tags with the attribute `href`. Why don&#39;t you handle all three? `Thu, 05 Jan 2017 11:11:14 GMT` has nothing to do with the attribute `href`. How do you identify it?","body":"There are three tags with the attribute <code>href</code>. Why don&#39;t you handle all three? <code>Thu, 05 Jan 2017 11:11:14 GMT</code> has nothing to do with the attribute <code>href</code>. How do you identify it?"},{"owner":{"display_name":"user15973370"},"score":0,"creation_date":1636969576,"post_id":69972029,"comment_id":123690430,"body_markdown":"@Elikill58 this solution is for javaScript , i want to get a solution with java","body":"@Elikill58 this solution is for javaScript , i want to get a solution with java"}],"answers":[{"tags":[],"owner":{"account_id":14587195,"reputation":413,"user_id":10535574,"display_name":"RAZAFINARIVO Hanania"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636969689,"creation_date":1636969689,"answer_id":69972319,"question_id":69972029,"body_markdown":"First you need to parse the html which is String to Document.\r\n\r\n    final Document document = Jsoup.parse(html);\r\n\r\nThen you need to select all `tr` tags which contains `a` tag.\r\n\r\n    final Elements trElements = document.select(&quot;tr:has(a)&quot;);\r\n\r\nAfter, you need to browse each `tr` tag found :\r\n\r\n    for (final Element trElement : trElements) {\r\n        //Do stuff\r\n    }\r\n\r\nFor each tr tag, you retrieve the `href` value of tag. But first, you need to retrieve the `a` tag :\r\n\r\n    final Element aElement = trElement.select(&quot;a&quot;).first();\r\n   \r\nThen, we retrieve, the value of `href` attribute in tag `a`.\r\n\r\n    final String href = aElement.attr(&quot;href&quot;);\r\n\r\nFor name, you retrieve the text content of `a` tag :\r\n\r\n    final String name = aElement.text();\r\n\r\nFor date, you need to retrieve the fourth `td` tag from `tr` tag :\r\n\r\n    final Element dateTdElement = trElement.select(&quot;td&quot;).get(3);\r\n\r\nAnd just retrieve the value text to get the date content :\r\n\r\n    final String date = dateTdElement.text();\r\n\r\n**NB** : The method `select()` accept a css query. All css query is valid with extended syntax like &#39;:has()&#39; and other part. See Jsoup documention for more detail.\r\n\r\nTo resume all in one code :\r\n\r\n    public static void main(final String[] args) {\r\n        final String html = &quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;Alfresco Content Repository&lt;/title&gt;&lt;style&gt;body { font-family: Arial, Helvetica; font-size: 12pt; background-color: white; }\\n&quot; +\r\n                &quot;table { font-family: Arial, Helvetica; font-size: 12pt; background-color: white; }\\n&quot; +\r\n                &quot;.listingTable { border: solid black 1px; }\\n&quot; +\r\n                &quot;.textCommand { font-family: verdana; font-size: 10pt; }\\n&quot; +\r\n                &quot;.textLocation { font-family: verdana; font-size: 11pt; font-weight: bold; color: #2a568f; }\\n&quot; +\r\n                &quot;.textData { font-family: verdana; font-size: 10pt; }\\n&quot; +\r\n                &quot;.tableHeading { font-family: verdana; font-size: 10pt; font-weight: bold; color: white; background-color: #2a568f; }\\n&quot; +\r\n                &quot;.rowOdd { background-color: #eeeeee; }\\n&quot; +\r\n                &quot;.rowEven { background-color: #dddddd; }\\n&quot; +\r\n                &quot;&lt;/style&gt;&lt;/head&gt;\\n&quot; +\r\n                &quot;&lt;body&gt;\\n&quot; +\r\n                &quot;&lt;table cellspacing=&#39;2&#39; cellpadding=&#39;3&#39; border=&#39;0&#39; width=&#39;100%&#39;&gt;\\n&quot; +\r\n                &quot;&lt;tr&gt;&lt;td colspan=&#39;4&#39; class=&#39;textLocation&#39;&gt;Directory listing for /rep&lt;/td&gt;&lt;/tr&gt;\\n&quot; +\r\n                &quot;&lt;tr&gt;&lt;td height=&#39;10&#39; colspan=&#39;4&#39;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;table cellspacing=&#39;2&#39; cellpadding=&#39;3&#39; border=&#39;0&#39; width=&#39;100%&#39; class=&#39;listingTable&#39;&gt;\\n&quot; +\r\n                &quot;&lt;tr&gt;&lt;td class=&#39;tableHeading&#39; width=&#39;*&#39;&gt;Name&lt;/td&gt;&lt;td class=&#39;tableHeading&#39; width=&#39;10%&#39;&gt;Size&lt;/td&gt;&lt;td class=&#39;tableHeading&#39; width=&#39;20%&#39;&gt;Type&lt;/td&gt;&lt;td class=&#39;tableHeading&#39; width=&#39;25%&#39;&gt;Modified Date&lt;/td&gt;&lt;/tr&gt;\\n&quot; +\r\n                &quot;&lt;tr class=&#39;rowOdd&#39;&gt;&lt;td class=&#39;textData&#39;&gt;&lt;a href=\\&quot;/alfresco/webdav/rep/ED\\&quot;&gt;ED&lt;/a&gt;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;&amp;nbsp;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;&amp;nbsp;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;Thu, 05 Jan 2017 11:11:14 GMT&lt;/td&gt;&lt;/tr&gt;\\n&quot; +\r\n                &quot;&lt;tr class=&#39;rowEven&#39;&gt;&lt;td class=&#39;textData&#39;&gt;&lt;a href=\\&quot;/alfresco/webdav/rep/FLOW%20CHART\\&quot;&gt;FLOW CHART&lt;/a&gt;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;&amp;nbsp;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;&amp;nbsp;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;Thu, 27 Jun 2013 13:30:18 GMT&lt;/td&gt;&lt;/tr&gt;\\n&quot; +\r\n                &quot;&lt;tr class=&#39;rowOdd&#39;&gt;&lt;td class=&#39;textData&#39;&gt;&lt;a href=\\&quot;/alfresco/webdav/rep/file\\&quot;&gt;file&lt;/a&gt;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;&amp;nbsp;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;&amp;nbsp;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;Wed, 10 Nov 2021 13:16:49 GMT&lt;/td&gt;&lt;/tr&gt;\\n&quot; +\r\n                &quot;\\n&quot; +\r\n                &quot;\\n&quot; +\r\n                &quot;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n\r\n        final Document document = Jsoup.parse(html);\r\n        final Elements trElements = document.select(&quot;tr:has(a)&quot;);\r\n        for (final Element trElement : trElements) {\r\n            final Element aElement = trElement.select(&quot;a&quot;).first();\r\n            final String href = aElement.attr(&quot;href&quot;);\r\n            System.out.println(&quot;Href : &quot; + href);\r\n\r\n            final String name = aElement.text();\r\n            System.out.println(&quot;Name : &quot; + name);\r\n\r\n            final Element dateTdElement = trElement.select(&quot;td&quot;).get(3);\r\n            final String date = dateTdElement.text();\r\n            System.out.println(&quot;Date : &quot; + date);\r\n        }\r\n    }\r\n\r\nIt prints something like :\r\n\r\n    Href : /alfresco/webdav/rep/ED\r\n    Name : ED\r\n    Date : Thu, 05 Jan 2017 11:11:14 GMT\r\n    Href : /alfresco/webdav/rep/FLOW%20CHART\r\n    Name : FLOW CHART\r\n    Date : Thu, 27 Jun 2013 13:30:18 GMT\r\n    Href : /alfresco/webdav/rep/file\r\n    Name : file\r\n    Date : Wed, 10 Nov 2021 13:16:49 GMT","title":"Extract values from html tags using java with jsoup","body":"<p>First you need to parse the html which is String to Document.</p>\n<pre><code>final Document document = Jsoup.parse(html);\n</code></pre>\n<p>Then you need to select all <code>tr</code> tags which contains <code>a</code> tag.</p>\n<pre><code>final Elements trElements = document.select(&quot;tr:has(a)&quot;);\n</code></pre>\n<p>After, you need to browse each <code>tr</code> tag found :</p>\n<pre><code>for (final Element trElement : trElements) {\n    //Do stuff\n}\n</code></pre>\n<p>For each tr tag, you retrieve the <code>href</code> value of tag. But first, you need to retrieve the <code>a</code> tag :</p>\n<pre><code>final Element aElement = trElement.select(&quot;a&quot;).first();\n</code></pre>\n<p>Then, we retrieve, the value of <code>href</code> attribute in tag <code>a</code>.</p>\n<pre><code>final String href = aElement.attr(&quot;href&quot;);\n</code></pre>\n<p>For name, you retrieve the text content of <code>a</code> tag :</p>\n<pre><code>final String name = aElement.text();\n</code></pre>\n<p>For date, you need to retrieve the fourth <code>td</code> tag from <code>tr</code> tag :</p>\n<pre><code>final Element dateTdElement = trElement.select(&quot;td&quot;).get(3);\n</code></pre>\n<p>And just retrieve the value text to get the date content :</p>\n<pre><code>final String date = dateTdElement.text();\n</code></pre>\n<p><strong>NB</strong> : The method <code>select()</code> accept a css query. All css query is valid with extended syntax like ':has()' and other part. See Jsoup documention for more detail.</p>\n<p>To resume all in one code :</p>\n<pre><code>public static void main(final String[] args) {\n    final String html = &quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;Alfresco Content Repository&lt;/title&gt;&lt;style&gt;body { font-family: Arial, Helvetica; font-size: 12pt; background-color: white; }\\n&quot; +\n            &quot;table { font-family: Arial, Helvetica; font-size: 12pt; background-color: white; }\\n&quot; +\n            &quot;.listingTable { border: solid black 1px; }\\n&quot; +\n            &quot;.textCommand { font-family: verdana; font-size: 10pt; }\\n&quot; +\n            &quot;.textLocation { font-family: verdana; font-size: 11pt; font-weight: bold; color: #2a568f; }\\n&quot; +\n            &quot;.textData { font-family: verdana; font-size: 10pt; }\\n&quot; +\n            &quot;.tableHeading { font-family: verdana; font-size: 10pt; font-weight: bold; color: white; background-color: #2a568f; }\\n&quot; +\n            &quot;.rowOdd { background-color: #eeeeee; }\\n&quot; +\n            &quot;.rowEven { background-color: #dddddd; }\\n&quot; +\n            &quot;&lt;/style&gt;&lt;/head&gt;\\n&quot; +\n            &quot;&lt;body&gt;\\n&quot; +\n            &quot;&lt;table cellspacing='2' cellpadding='3' border='0' width='100%'&gt;\\n&quot; +\n            &quot;&lt;tr&gt;&lt;td colspan='4' class='textLocation'&gt;Directory listing for /rep&lt;/td&gt;&lt;/tr&gt;\\n&quot; +\n            &quot;&lt;tr&gt;&lt;td height='10' colspan='4'&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;table cellspacing='2' cellpadding='3' border='0' width='100%' class='listingTable'&gt;\\n&quot; +\n            &quot;&lt;tr&gt;&lt;td class='tableHeading' width='*'&gt;Name&lt;/td&gt;&lt;td class='tableHeading' width='10%'&gt;Size&lt;/td&gt;&lt;td class='tableHeading' width='20%'&gt;Type&lt;/td&gt;&lt;td class='tableHeading' width='25%'&gt;Modified Date&lt;/td&gt;&lt;/tr&gt;\\n&quot; +\n            &quot;&lt;tr class='rowOdd'&gt;&lt;td class='textData'&gt;&lt;a href=\\&quot;/alfresco/webdav/rep/ED\\&quot;&gt;ED&lt;/a&gt;&lt;/td&gt;&lt;td class='textData'&gt;&amp;nbsp;&lt;/td&gt;&lt;td class='textData'&gt;&amp;nbsp;&lt;/td&gt;&lt;td class='textData'&gt;Thu, 05 Jan 2017 11:11:14 GMT&lt;/td&gt;&lt;/tr&gt;\\n&quot; +\n            &quot;&lt;tr class='rowEven'&gt;&lt;td class='textData'&gt;&lt;a href=\\&quot;/alfresco/webdav/rep/FLOW%20CHART\\&quot;&gt;FLOW CHART&lt;/a&gt;&lt;/td&gt;&lt;td class='textData'&gt;&amp;nbsp;&lt;/td&gt;&lt;td class='textData'&gt;&amp;nbsp;&lt;/td&gt;&lt;td class='textData'&gt;Thu, 27 Jun 2013 13:30:18 GMT&lt;/td&gt;&lt;/tr&gt;\\n&quot; +\n            &quot;&lt;tr class='rowOdd'&gt;&lt;td class='textData'&gt;&lt;a href=\\&quot;/alfresco/webdav/rep/file\\&quot;&gt;file&lt;/a&gt;&lt;/td&gt;&lt;td class='textData'&gt;&amp;nbsp;&lt;/td&gt;&lt;td class='textData'&gt;&amp;nbsp;&lt;/td&gt;&lt;td class='textData'&gt;Wed, 10 Nov 2021 13:16:49 GMT&lt;/td&gt;&lt;/tr&gt;\\n&quot; +\n            &quot;\\n&quot; +\n            &quot;\\n&quot; +\n            &quot;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\n\n    final Document document = Jsoup.parse(html);\n    final Elements trElements = document.select(&quot;tr:has(a)&quot;);\n    for (final Element trElement : trElements) {\n        final Element aElement = trElement.select(&quot;a&quot;).first();\n        final String href = aElement.attr(&quot;href&quot;);\n        System.out.println(&quot;Href : &quot; + href);\n\n        final String name = aElement.text();\n        System.out.println(&quot;Name : &quot; + name);\n\n        final Element dateTdElement = trElement.select(&quot;td&quot;).get(3);\n        final String date = dateTdElement.text();\n        System.out.println(&quot;Date : &quot; + date);\n    }\n}\n</code></pre>\n<p>It prints something like :</p>\n<pre><code>Href : /alfresco/webdav/rep/ED\nName : ED\nDate : Thu, 05 Jan 2017 11:11:14 GMT\nHref : /alfresco/webdav/rep/FLOW%20CHART\nName : FLOW CHART\nDate : Thu, 27 Jun 2013 13:30:18 GMT\nHref : /alfresco/webdav/rep/file\nName : file\nDate : Wed, 10 Nov 2021 13:16:49 GMT\n</code></pre>\n"}],"owner":{"display_name":"user15973370"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69972319,"answer_count":1,"score":0,"last_activity_date":1636969689,"creation_date":1636968232,"question_id":69972029,"body_markdown":"i m new using jsoup library (jsoup-1.14.3) \r\n\r\ni have this html \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;html&gt;&lt;head&gt;&lt;title&gt;Alfresco Content Repository&lt;/title&gt;&lt;style&gt;body { font-family: Arial, Helvetica; font-size: 12pt; background-color: white; }\r\n    table { font-family: Arial, Helvetica; font-size: 12pt; background-color: white; }\r\n    .listingTable { border: solid black 1px; }\r\n    .textCommand { font-family: verdana; font-size: 10pt; }\r\n    .textLocation { font-family: verdana; font-size: 11pt; font-weight: bold; color: #2a568f; }\r\n    .textData { font-family: verdana; font-size: 10pt; }\r\n    .tableHeading { font-family: verdana; font-size: 10pt; font-weight: bold; color: white; background-color: #2a568f; }\r\n    .rowOdd { background-color: #eeeeee; }\r\n    .rowEven { background-color: #dddddd; }\r\n    &lt;/style&gt;&lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;table cellspacing=&#39;2&#39; cellpadding=&#39;3&#39; border=&#39;0&#39; width=&#39;100%&#39;&gt;\r\n    &lt;tr&gt;&lt;td colspan=&#39;4&#39; class=&#39;textLocation&#39;&gt;Directory listing for /rep&lt;/td&gt;&lt;/tr&gt;\r\n    &lt;tr&gt;&lt;td height=&#39;10&#39; colspan=&#39;4&#39;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;table cellspacing=&#39;2&#39; cellpadding=&#39;3&#39; border=&#39;0&#39; width=&#39;100%&#39; class=&#39;listingTable&#39;&gt;\r\n    &lt;tr&gt;&lt;td class=&#39;tableHeading&#39; width=&#39;*&#39;&gt;Name&lt;/td&gt;&lt;td class=&#39;tableHeading&#39; width=&#39;10%&#39;&gt;Size&lt;/td&gt;&lt;td class=&#39;tableHeading&#39; width=&#39;20%&#39;&gt;Type&lt;/td&gt;&lt;td class=&#39;tableHeading&#39; width=&#39;25%&#39;&gt;Modified Date&lt;/td&gt;&lt;/tr&gt;\r\n    &lt;tr class=&#39;rowOdd&#39;&gt;&lt;td class=&#39;textData&#39;&gt;&lt;a href=&quot;/alfresco/webdav/rep/ED&quot;&gt;ED&lt;/a&gt;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;&amp;nbsp;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;&amp;nbsp;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;Thu, 05 Jan 2017 11:11:14 GMT&lt;/td&gt;&lt;/tr&gt;\r\n    &lt;tr class=&#39;rowEven&#39;&gt;&lt;td class=&#39;textData&#39;&gt;&lt;a href=&quot;/alfresco/webdav/rep/FLOW%20CHART&quot;&gt;FLOW CHART&lt;/a&gt;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;&amp;nbsp;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;&amp;nbsp;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;Thu, 27 Jun 2013 13:30:18 GMT&lt;/td&gt;&lt;/tr&gt;\r\n    &lt;tr class=&#39;rowOdd&#39;&gt;&lt;td class=&#39;textData&#39;&gt;&lt;a href=&quot;/alfresco/webdav/rep/file&quot;&gt;file&lt;/a&gt;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;&amp;nbsp;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;&amp;nbsp;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;Wed, 10 Nov 2021 13:16:49 GMT&lt;/td&gt;&lt;/tr&gt;\r\n\r\n\r\n    &lt;/table&gt;&lt;/body&gt;&lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nANd , i&#39;m trying to get the href of each &lt;a&gt; tag . \r\n\r\nFor example  ,  \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n  \r\n    &lt;table cellspacing=&#39;2&#39; cellpadding=&#39;3&#39; border=&#39;0&#39; width=&#39;100%&#39;&gt;\r\n    &lt;tr&gt;&lt;td colspan=&#39;4&#39; class=&#39;textLocation&#39;&gt;Directory listing for /rep&lt;/td&gt;&lt;/tr&gt;\r\n    &lt;tr&gt;&lt;td height=&#39;10&#39; colspan=&#39;4&#39;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;table cellspacing=&#39;2&#39; cellpadding=&#39;3&#39; border=&#39;0&#39; width=&#39;100%&#39; class=&#39;listingTable&#39;&gt;\r\n    &lt;tr&gt;&lt;td class=&#39;tableHeading&#39; width=&#39;*&#39;&gt;Name&lt;/td&gt;&lt;td class=&#39;tableHeading&#39; width=&#39;10%&#39;&gt;Size&lt;/td&gt;&lt;td class=&#39;tableHeading&#39; width=&#39;20%&#39;&gt;Type&lt;/td&gt;&lt;td class=&#39;tableHeading&#39; width=&#39;25%&#39;&gt;Modified Date&lt;/td&gt;&lt;/tr&gt;\r\n    &lt;tr class=&#39;rowOdd&#39;&gt;&lt;td class=&#39;textData&#39;&gt;&lt;a href=&quot;/alfresco/webdav/rep/ED&quot;&gt;ED&lt;/a&gt;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;&amp;nbsp;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;&amp;nbsp;&lt;/td&gt;&lt;td class=&#39;textData&#39;&gt;Thu, 05 Jan 2017 11:11:14 GMT&lt;/td&gt;&lt;/tr&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nI want to extract **&quot;/alfresco/webdav/rep/ED&quot;** and  **&quot;ED&quot;** and **&quot;Thu, 05 Jan 2017 11:11:14 GMT&quot;**","title":"Extract values from html tags using java with jsoup","body":"<p>i m new using jsoup library (jsoup-1.14.3)</p>\n<p>i have this html</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;&lt;head&gt;&lt;title&gt;Alfresco Content Repository&lt;/title&gt;&lt;style&gt;body { font-family: Arial, Helvetica; font-size: 12pt; background-color: white; }\ntable { font-family: Arial, Helvetica; font-size: 12pt; background-color: white; }\n.listingTable { border: solid black 1px; }\n.textCommand { font-family: verdana; font-size: 10pt; }\n.textLocation { font-family: verdana; font-size: 11pt; font-weight: bold; color: #2a568f; }\n.textData { font-family: verdana; font-size: 10pt; }\n.tableHeading { font-family: verdana; font-size: 10pt; font-weight: bold; color: white; background-color: #2a568f; }\n.rowOdd { background-color: #eeeeee; }\n.rowEven { background-color: #dddddd; }\n&lt;/style&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;table cellspacing='2' cellpadding='3' border='0' width='100%'&gt;\n&lt;tr&gt;&lt;td colspan='4' class='textLocation'&gt;Directory listing for /rep&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td height='10' colspan='4'&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;table cellspacing='2' cellpadding='3' border='0' width='100%' class='listingTable'&gt;\n&lt;tr&gt;&lt;td class='tableHeading' width='*'&gt;Name&lt;/td&gt;&lt;td class='tableHeading' width='10%'&gt;Size&lt;/td&gt;&lt;td class='tableHeading' width='20%'&gt;Type&lt;/td&gt;&lt;td class='tableHeading' width='25%'&gt;Modified Date&lt;/td&gt;&lt;/tr&gt;\n&lt;tr class='rowOdd'&gt;&lt;td class='textData'&gt;&lt;a href=\"/alfresco/webdav/rep/ED\"&gt;ED&lt;/a&gt;&lt;/td&gt;&lt;td class='textData'&gt;&amp;nbsp;&lt;/td&gt;&lt;td class='textData'&gt;&amp;nbsp;&lt;/td&gt;&lt;td class='textData'&gt;Thu, 05 Jan 2017 11:11:14 GMT&lt;/td&gt;&lt;/tr&gt;\n&lt;tr class='rowEven'&gt;&lt;td class='textData'&gt;&lt;a href=\"/alfresco/webdav/rep/FLOW%20CHART\"&gt;FLOW CHART&lt;/a&gt;&lt;/td&gt;&lt;td class='textData'&gt;&amp;nbsp;&lt;/td&gt;&lt;td class='textData'&gt;&amp;nbsp;&lt;/td&gt;&lt;td class='textData'&gt;Thu, 27 Jun 2013 13:30:18 GMT&lt;/td&gt;&lt;/tr&gt;\n&lt;tr class='rowOdd'&gt;&lt;td class='textData'&gt;&lt;a href=\"/alfresco/webdav/rep/file\"&gt;file&lt;/a&gt;&lt;/td&gt;&lt;td class='textData'&gt;&amp;nbsp;&lt;/td&gt;&lt;td class='textData'&gt;&amp;nbsp;&lt;/td&gt;&lt;td class='textData'&gt;Wed, 10 Nov 2021 13:16:49 GMT&lt;/td&gt;&lt;/tr&gt;\n\n\n&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>ANd , i'm trying to get the href of each  tag .</p>\n<p>For example  ,</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  \n&lt;table cellspacing='2' cellpadding='3' border='0' width='100%'&gt;\n&lt;tr&gt;&lt;td colspan='4' class='textLocation'&gt;Directory listing for /rep&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td height='10' colspan='4'&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;table cellspacing='2' cellpadding='3' border='0' width='100%' class='listingTable'&gt;\n&lt;tr&gt;&lt;td class='tableHeading' width='*'&gt;Name&lt;/td&gt;&lt;td class='tableHeading' width='10%'&gt;Size&lt;/td&gt;&lt;td class='tableHeading' width='20%'&gt;Type&lt;/td&gt;&lt;td class='tableHeading' width='25%'&gt;Modified Date&lt;/td&gt;&lt;/tr&gt;\n&lt;tr class='rowOdd'&gt;&lt;td class='textData'&gt;&lt;a href=\"/alfresco/webdav/rep/ED\"&gt;ED&lt;/a&gt;&lt;/td&gt;&lt;td class='textData'&gt;&amp;nbsp;&lt;/td&gt;&lt;td class='textData'&gt;&amp;nbsp;&lt;/td&gt;&lt;td class='textData'&gt;Thu, 05 Jan 2017 11:11:14 GMT&lt;/td&gt;&lt;/tr&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I want to extract <strong>&quot;/alfresco/webdav/rep/ED&quot;</strong> and  <strong>&quot;ED&quot;</strong> and <strong>&quot;Thu, 05 Jan 2017 11:11:14 GMT&quot;</strong></p>\n"},{"tags":["java","kotlin","spring-mvc","websocket","spring-websocket"],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636969625,"creation_date":1636969625,"answer_id":69972303,"question_id":69972218,"body_markdown":"You can do this via `FormatterRegistry`\r\n\r\n\r\n    @Configuration\r\n    public class YourConfig implements WebMvcConfigurer{\r\n     @Override\r\n        public void addFormatters(FormatterRegistry registry) {\r\n         registry.addConverter(new YourCustomConverter());\r\n        }\r\n    }\r\n}","title":"How can I create a custom converter/deserializer for @Header values in Spring Websocket","body":"<p>You can do this via <code>FormatterRegistry</code></p>\n<pre><code>@Configuration\npublic class YourConfig implements WebMvcConfigurer{\n @Override\n    public void addFormatters(FormatterRegistry registry) {\n     registry.addConverter(new YourCustomConverter());\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":7900713,"reputation":7937,"user_id":5967828,"accept_rate":65,"display_name":"xetra11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636969625,"creation_date":1636969197,"question_id":69972218,"body_markdown":"I have a Websocket endpoint that I want to receive as header value not a string but an object. \r\n\r\nThis is how I defined the websocket endpoint\r\n\r\n```kt\r\n    @MessageMapping(&quot;/gather/{resource}&quot;)\r\n    fun emitGatherEvent(@DestinationVariable resource: String, @Header context: Context) {     \r\n        LOG.debug(&quot;gather endpoint called for client ${context.clientId} and character ${context.characterId} with resource &#39;$resource&#39;&quot;)\r\n        eventDispatcher.dispatchEvent(Gather(resource), context.characterId)\r\n    }\r\n```\r\n\r\nHowever Spring throws an exception:\r\n\r\n```\r\norg.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [@org.springframework.messaging.handler.annotation.Header com.barbarus.gameserver.websocket.Context]\r\n```\r\n\r\nI understand the issue but I have no idea how I can register a custom converter for the `Context` data class.\r\n\r\nAny idea how to do that?","title":"How can I create a custom converter/deserializer for @Header values in Spring Websocket","body":"<p>I have a Websocket endpoint that I want to receive as header value not a string but an object.</p>\n<p>This is how I defined the websocket endpoint</p>\n<pre><code>    @MessageMapping(&quot;/gather/{resource}&quot;)\n    fun emitGatherEvent(@DestinationVariable resource: String, @Header context: Context) {     \n        LOG.debug(&quot;gather endpoint called for client ${context.clientId} and character ${context.characterId} with resource '$resource'&quot;)\n        eventDispatcher.dispatchEvent(Gather(resource), context.characterId)\n    }\n</code></pre>\n<p>However Spring throws an exception:</p>\n<pre><code>org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [@org.springframework.messaging.handler.annotation.Header com.barbarus.gameserver.websocket.Context]\n</code></pre>\n<p>I understand the issue but I have no idea how I can register a custom converter for the <code>Context</code> data class.</p>\n<p>Any idea how to do that?</p>\n"},{"tags":["java","android","package","aidl"],"answers":[{"tags":[],"owner":{"account_id":10436276,"reputation":664,"user_id":7694476,"display_name":"G. Fiedler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1492622854,"creation_date":1492622854,"answer_id":43502378,"question_id":43456979,"body_markdown":"The interface `ITelephony` is package-visible and therefore not accessible from outside of the package `com.android.internal.telephony`.\r\n\r\nThat&#39;s because it is an internal Android API.","title":"Can not resolve symbol ITelephony","body":"<p>The interface <code>ITelephony</code> is package-visible and therefore not accessible from outside of the package <code>com.android.internal.telephony</code>.</p>\n\n<p>That's because it is an internal Android API.</p>\n"},{"tags":[],"owner":{"account_id":3188938,"reputation":1,"user_id":2693790,"display_name":"Peyman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636968924,"creation_date":1636968924,"answer_id":69972172,"question_id":43456979,"body_markdown":"you have added **ITelephony.AIDL** file in your project? and if you have added then your package name must be **com/android/internal/telephony/ITelephony.AIDL**: for more information [Blocking Incoming call][1]. download AIDL file from [here][2]\r\n\r\n\r\n  [1]: http://androidsourcecode.blogspot.in/\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.1_r2/com/android/internal/telephony/ITelephony.java","title":"Can not resolve symbol ITelephony","body":"<p>you have added <strong>ITelephony.AIDL</strong> file in your project? and if you have added then your package name must be <strong>com/android/internal/telephony/ITelephony.AIDL</strong>: for more information <a href=\"http://androidsourcecode.blogspot.in/\" rel=\"nofollow noreferrer\">Blocking Incoming call</a>. download AIDL file from <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.1_r2/com/android/internal/telephony/ITelephony.java\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":10706381,"reputation":123,"user_id":7880054,"accept_rate":57,"display_name":"gurkan stack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1514,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43502378,"answer_count":2,"score":1,"last_activity_date":1636968924,"creation_date":1492452655,"question_id":43456979,"body_markdown":"I would like to block call from specific number I tried some solution but I get errors.\r\nI tried this solution but it is not working.\r\nhttps://stackoverflow.com/a/9904826/1937692\r\nIt gives \r\n\r\n&gt; Can not resolve symbol ITelephony\r\n\r\nProject Structure:\r\n\r\nhttp://i.hizliresim.com/P02XOd.png\r\n\r\n\r\n\r\nPhoneCallReceiver:\r\n\r\n    package com.example.myapplication;\r\n    \r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.telephony.PhoneStateListener;\r\n    import android.telephony.TelephonyManager;\r\n    import android.util.Log;\r\n    import android.widget.Toast;\r\n    public class PhoneCallReceiver extends BroadcastReceiver {\r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            TelephonyManager telephony = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\r\n            PhoneCallStateListener customPhoneListener = new PhoneCallStateListener(context);\r\n            telephony.listen(customPhoneListener, PhoneStateListener.LISTEN_CALL_STATE);\r\n    \r\n    \r\n        }}\r\n\r\nITelephony.aidl:\r\n\r\n    package com.android.internal.telephony;\r\n    \r\n    interface ITelephony {\r\n    \r\n      boolean endCall();\r\n    \r\n      void answerRingingCall();\r\n    \r\n      void silenceRinger();\r\n    } \r\n\r\nPhoneCallStateListener:\r\n\r\n    package com.example.myapplication;\r\n    \r\n    import java.lang.reflect.Method;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.SharedPreferences;\r\n    import android.media.AudioManager;\r\n    import android.os.Bundle;\r\n    import android.preference.PreferenceManager;\r\n    import android.telephony.PhoneStateListener;\r\n    import android.telephony.TelephonyManager;\r\n    import android.util.Log;\r\n    import android.widget.Toast;\r\n    \r\n    \r\n    import com.android.internal.telephony.ITelephony; //Error Line\r\n    \r\n        public class PhoneCallStateListener extends PhoneStateListener {\r\n    \r\n            private Context context;\r\n            public PhoneCallStateListener(Context context){\r\n                this.context = context;\r\n            }\r\n    \r\n    \r\n            @Override\r\n            public void onCallStateChanged(int state, String incomingNumber) {\r\n                SharedPreferences prefs=PreferenceManager.getDefaultSharedPreferences(context);\r\n    \r\n                switch (state) {\r\n    \r\n                    case TelephonyManager.CALL_STATE_RINGING:\r\n    \r\n                        String block_number = prefs.getString(&quot;block_number&quot;, null);\r\n                        AudioManager audioManager = (AudioManager) context.getSystemService(Context.AUDIO_SERVICE);\r\n                        //Turn ON the mute\r\n                        audioManager.setStreamMute(AudioManager.STREAM_RING, true);\r\n                        TelephonyManager telephonyManager = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\r\n                        try {\r\n                            Toast.makeText(context, &quot;in&quot;+block_number, Toast.LENGTH_LONG).show();\r\n                            Class clazz = Class.forName(telephonyManager.getClass().getName());\r\n                            Method method = clazz.getDeclaredMethod(&quot;getITelephony&quot;);\r\n                            method.setAccessible(true);\r\n                            ITelephony telephonyService = (ITelephony) method.invoke(telephonyManager); //Error Line\r\n                            //Checking incoming call number\r\n                            System.out.println(&quot;Call &quot;+block_number);\r\n    \r\n                            if (incomingNumber.equalsIgnoreCase(&quot;+91&quot;+block_number)) {\r\n                                //telephonyService.silenceRinger();//Security exception problem\r\n                                telephonyService = (ITelephony) method.invoke(telephonyManager);\r\n                                telephonyService.silenceRinger();\r\n                                System.out.println(&quot; in  &quot;+block_number);\r\n                                telephonyService.endCall();\r\n                            }\r\n                        } catch (Exception e) {\r\n                            Toast.makeText(context, e.toString(), Toast.LENGTH_LONG).show();\r\n                        }\r\n                        //Turn OFF the mute\r\n                        audioManager.setStreamMute(AudioManager.STREAM_RING, false);\r\n                        break;\r\n                    case PhoneStateListener.LISTEN_CALL_STATE:\r\n    \r\n                }\r\n                super.onCallStateChanged(state, incomingNumber);\r\n            }}\r\n\r\n\r\nError - Red Lines:\r\n[http://i.hizliresim.com/YD8zQA.png][1]\r\n\r\n\r\n  [1]: http://i.hizliresim.com/YD8zQA.png","title":"Can not resolve symbol ITelephony","body":"<p>I would like to block call from specific number I tried some solution but I get errors.\nI tried this solution but it is not working.\n<a href=\"https://stackoverflow.com/a/9904826/1937692\">https://stackoverflow.com/a/9904826/1937692</a>\nIt gives </p>\n\n<blockquote>\n  <p>Can not resolve symbol ITelephony</p>\n</blockquote>\n\n<p>Project Structure:</p>\n\n<p><a href=\"http://i.hizliresim.com/P02XOd.png\" rel=\"nofollow noreferrer\">http://i.hizliresim.com/P02XOd.png</a></p>\n\n<p>PhoneCallReceiver:</p>\n\n<pre><code>package com.example.myapplication;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.telephony.PhoneStateListener;\nimport android.telephony.TelephonyManager;\nimport android.util.Log;\nimport android.widget.Toast;\npublic class PhoneCallReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        TelephonyManager telephony = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\n        PhoneCallStateListener customPhoneListener = new PhoneCallStateListener(context);\n        telephony.listen(customPhoneListener, PhoneStateListener.LISTEN_CALL_STATE);\n\n\n    }}\n</code></pre>\n\n<p>ITelephony.aidl:</p>\n\n<pre><code>package com.android.internal.telephony;\n\ninterface ITelephony {\n\n  boolean endCall();\n\n  void answerRingingCall();\n\n  void silenceRinger();\n} \n</code></pre>\n\n<p>PhoneCallStateListener:</p>\n\n<pre><code>package com.example.myapplication;\n\nimport java.lang.reflect.Method;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.media.AudioManager;\nimport android.os.Bundle;\nimport android.preference.PreferenceManager;\nimport android.telephony.PhoneStateListener;\nimport android.telephony.TelephonyManager;\nimport android.util.Log;\nimport android.widget.Toast;\n\n\nimport com.android.internal.telephony.ITelephony; //Error Line\n\n    public class PhoneCallStateListener extends PhoneStateListener {\n\n        private Context context;\n        public PhoneCallStateListener(Context context){\n            this.context = context;\n        }\n\n\n        @Override\n        public void onCallStateChanged(int state, String incomingNumber) {\n            SharedPreferences prefs=PreferenceManager.getDefaultSharedPreferences(context);\n\n            switch (state) {\n\n                case TelephonyManager.CALL_STATE_RINGING:\n\n                    String block_number = prefs.getString(\"block_number\", null);\n                    AudioManager audioManager = (AudioManager) context.getSystemService(Context.AUDIO_SERVICE);\n                    //Turn ON the mute\n                    audioManager.setStreamMute(AudioManager.STREAM_RING, true);\n                    TelephonyManager telephonyManager = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\n                    try {\n                        Toast.makeText(context, \"in\"+block_number, Toast.LENGTH_LONG).show();\n                        Class clazz = Class.forName(telephonyManager.getClass().getName());\n                        Method method = clazz.getDeclaredMethod(\"getITelephony\");\n                        method.setAccessible(true);\n                        ITelephony telephonyService = (ITelephony) method.invoke(telephonyManager); //Error Line\n                        //Checking incoming call number\n                        System.out.println(\"Call \"+block_number);\n\n                        if (incomingNumber.equalsIgnoreCase(\"+91\"+block_number)) {\n                            //telephonyService.silenceRinger();//Security exception problem\n                            telephonyService = (ITelephony) method.invoke(telephonyManager);\n                            telephonyService.silenceRinger();\n                            System.out.println(\" in  \"+block_number);\n                            telephonyService.endCall();\n                        }\n                    } catch (Exception e) {\n                        Toast.makeText(context, e.toString(), Toast.LENGTH_LONG).show();\n                    }\n                    //Turn OFF the mute\n                    audioManager.setStreamMute(AudioManager.STREAM_RING, false);\n                    break;\n                case PhoneStateListener.LISTEN_CALL_STATE:\n\n            }\n            super.onCallStateChanged(state, incomingNumber);\n        }}\n</code></pre>\n\n<p>Error - Red Lines:\n<a href=\"http://i.hizliresim.com/YD8zQA.png\" rel=\"nofollow noreferrer\">http://i.hizliresim.com/YD8zQA.png</a></p>\n"},{"tags":["java","spring","stream"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1636974460,"post_id":69972057,"comment_id":123692262,"body_markdown":"I don&#39;t see anything that could be improved with streams here.","body":"I don&#39;t see anything that could be improved with streams here."},{"owner":{"account_id":19529502,"reputation":11,"user_id":14289626,"display_name":"Shoxrux Sindarov"},"score":0,"creation_date":1636989253,"post_id":69972057,"comment_id":123698180,"body_markdown":"my friend said to me if you have many field to set you can set with stream api with short code but i can&#39;t it","body":"my friend said to me if you have many field to set you can set with stream api with short code but i can&#39;t it"}],"owner":{"account_id":19529502,"reputation":11,"user_id":14289626,"display_name":"Shoxrux Sindarov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636968571,"creation_date":1636968329,"question_id":69972057,"body_markdown":"Hi brothers and sisters can i solve this method with stream api i try but i can&#39;t \r\n```java\r\npublic Response addDetail(DetailDto detailDto) {\r\n        Optional&lt;Orders&gt; ordersOptional = orderRepo.findById(detailDto.getOrderId());\r\n        if (ordersOptional.isEmpty()) return new Response(&quot;it is order not found&quot;, false);\r\n        Optional&lt;Product&gt; productOptional = productRepo.findById(detailDto.getProductId());\r\n        if (productOptional.isEmpty()) return new Response(&quot;it is product not found&quot;, false);\r\n        Detail detail = new Detail();\r\n        detail.setOrders(ordersOptional.get());\r\n        detail.setProduct(productOptional.get());\r\n        detail.setQuantity(detailDto.getQuantity());\r\n        detailRepo.save(detail);\r\n        return new Response(&quot;order saved successfully&quot;, true);\r\n    }\r\n```","title":"how to set dti fields to entity class with stream api","body":"<p>Hi brothers and sisters can i solve this method with stream api i try but i can't</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Response addDetail(DetailDto detailDto) {\n        Optional&lt;Orders&gt; ordersOptional = orderRepo.findById(detailDto.getOrderId());\n        if (ordersOptional.isEmpty()) return new Response(&quot;it is order not found&quot;, false);\n        Optional&lt;Product&gt; productOptional = productRepo.findById(detailDto.getProductId());\n        if (productOptional.isEmpty()) return new Response(&quot;it is product not found&quot;, false);\n        Detail detail = new Detail();\n        detail.setOrders(ordersOptional.get());\n        detail.setProduct(productOptional.get());\n        detail.setQuantity(detailDto.getQuantity());\n        detailRepo.save(detail);\n        return new Response(&quot;order saved successfully&quot;, true);\n    }\n</code></pre>\n"},{"tags":["java","android-studio","android-togglebutton"],"comments":[{"owner":{"account_id":17728410,"reputation":1938,"user_id":12871582,"display_name":"m.reiter"},"score":1,"creation_date":1636960777,"post_id":69970377,"comment_id":123687610,"body_markdown":"You should definitively use constants for Strings which are used more often, e.g. your shared-preferences-key","body":"You should definitively use constants for Strings which are used more often, e.g. your shared-preferences-key"},{"owner":{"account_id":13303079,"reputation":143,"user_id":9603922,"display_name":"Space"},"score":0,"creation_date":1636961479,"post_id":69970377,"comment_id":123687809,"body_markdown":"yes yes , ty for your input , i will","body":"yes yes , ty for your input , i will"}],"owner":{"account_id":13303079,"reputation":143,"user_id":9603922,"display_name":"Space"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636968444,"creation_date":1636959097,"question_id":69970377,"body_markdown":"what I&#39;m unto ?\r\n\r\nI&#39;m basically creating a toggle button which sends notification when the check status is true.\r\n\r\nwhat have been done so far?\r\n\r\nin Activity_setting.xml\r\n\r\n    &lt;com.google.android.material.switchmaterial.SwitchMaterial\r\n                android:id=&quot;@+id/toggleButtonAlert&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;4dp&quot;\r\n                android:checked=&quot;true&quot; /&gt;\r\n\r\n\r\n[![screenshot][1]][1]\r\n\r\nin SettingActivity.java\r\n\r\n\r\n    public class SettingsActivity extends AppCompatActivity  {\r\n    \r\n    \r\n        SharedPreferences notificationsPreferences;\r\n        SharedPreferences eScoreAlertPreferences;\r\n        SharedPreferences.Editor escoreEditor;\r\n        SwitchMaterial toggleButtonAlert;\r\n        \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n    \r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_settings);\r\n            toggleButtonAlert = findViewById(R.id.toggleButtonAlert);\r\n            toggleButtonAlert.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\r\n                if (isChecked) {\r\n                    eScoreAlertPreferences  = getSharedPreferences(&quot;AlertLastChange&quot;, Context.MODE_PRIVATE);\r\n    \r\n                    escoreEditor= eScoreAlertPreferences.edit();\r\n                    editor.putBoolean(&quot;key_ToggleValue&quot;, true).commit();           // Saving boolean - true/false\r\n    \r\n                } else {\r\n                    eScoreAlertPreferences  = getSharedPreferences(&quot;AlertLastChange&quot;, Context.MODE_PRIVATE);\r\n                    escoreEditor= eScoreAlertPreferences.edit();\r\n                    editor.putBoolean(&quot;key_ToggleValue&quot;, false).commit();           // Saving boolean - true/false\r\n                }\r\n    \r\n            });\r\n    \r\n        }\r\n    }\r\n\r\n\r\n retrieve values in FeedActivity.java(another java class) and calling the push notification function \r\n\r\n    public class FeedActivity extends AppCompatActivity  {\r\n    \r\n    \r\n        private Boolean AlertStat;\r\n    \tpublic  NotificationManager notificationManager;\r\n    \r\n        \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n    \r\n            super.onCreate(savedInstanceState);\r\n            View v2 = inflater.inflate(R.layout.fragment_feed, container, false);\r\n            SharedPreferences prefs=context.getSharedPreferences(&quot;AlertLastChange&quot;, Context.MODE_PRIVATE);\r\n            AlertStat = prefs.getBoolean(&quot;key_ToggleValue&quot;, true);\r\n    \t\tmakePushEscoreNotification();\r\n    \r\n        }\r\n    \t\r\n    \tprivate void makePushEscoreNotification() {\r\n    \r\n    \r\n            if (AlertStat) {\r\n                String channelId = &quot;1234&quot;;\r\n                NotificationCompat.Builder builder = new NotificationCompat.Builder(context, channelId)\r\n                        .setSmallIcon(R.mipmap.ic_launcher)\r\n                        .setContentTitle(&quot;sometitle&quot;)\r\n                        .setStyle(new NotificationCompat.BigTextStyle()\r\n                                .bigText(&quot;Some text&quot;))\r\n                        .setSound(Uri.parse(ContentResolver.SCHEME_ANDROID_RESOURCE+ &quot;://&quot; +context.getPackageName()+&quot;/&quot;+R.raw.negativetone))\r\n                        .setVibrate(new long[]{0L});\r\n    \r\n                notificationManager = (NotificationManager) context.getSystemService(NOTIFICATION_SERVICE);\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                    NotificationChannel channel = new NotificationChannel(channelId, &quot;ReviewProbe&quot;,NotificationManager.IMPORTANCE_HIGH);\r\n                    assert notificationManager != null;\r\n                    notificationManager.createNotificationChannel(channel);\r\n    \r\n                }\r\n                assert notificationManager != null;\r\n                builder.setPriority(NotificationCompat.PRIORITY_HIGH);\r\n                notificationManager.notify(0, builder.build());\r\n    \r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n**Problem:**\r\nwhat went wrong ?\r\nthe toggle button doesn&#39;t save the state and is always enabled even after we try to manually disable it . the notification push section is working fine\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0BGHZ.png","title":"Push notification using SwitchMaterial toggle button","body":"<p>what I'm unto ?</p>\n<p>I'm basically creating a toggle button which sends notification when the check status is true.</p>\n<p>what have been done so far?</p>\n<p>in Activity_setting.xml</p>\n<pre><code>&lt;com.google.android.material.switchmaterial.SwitchMaterial\n            android:id=&quot;@+id/toggleButtonAlert&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;4dp&quot;\n            android:checked=&quot;true&quot; /&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0BGHZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0BGHZ.png\" alt=\"screenshot\" /></a></p>\n<p>in SettingActivity.java</p>\n<pre><code>public class SettingsActivity extends AppCompatActivity  {\n\n\n    SharedPreferences notificationsPreferences;\n    SharedPreferences eScoreAlertPreferences;\n    SharedPreferences.Editor escoreEditor;\n    SwitchMaterial toggleButtonAlert;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_settings);\n        toggleButtonAlert = findViewById(R.id.toggleButtonAlert);\n        toggleButtonAlert.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\n            if (isChecked) {\n                eScoreAlertPreferences  = getSharedPreferences(&quot;AlertLastChange&quot;, Context.MODE_PRIVATE);\n\n                escoreEditor= eScoreAlertPreferences.edit();\n                editor.putBoolean(&quot;key_ToggleValue&quot;, true).commit();           // Saving boolean - true/false\n\n            } else {\n                eScoreAlertPreferences  = getSharedPreferences(&quot;AlertLastChange&quot;, Context.MODE_PRIVATE);\n                escoreEditor= eScoreAlertPreferences.edit();\n                editor.putBoolean(&quot;key_ToggleValue&quot;, false).commit();           // Saving boolean - true/false\n            }\n\n        });\n\n    }\n}\n</code></pre>\n<p>retrieve values in FeedActivity.java(another java class) and calling the push notification function</p>\n<pre><code>public class FeedActivity extends AppCompatActivity  {\n\n\n    private Boolean AlertStat;\n    public  NotificationManager notificationManager;\n\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        View v2 = inflater.inflate(R.layout.fragment_feed, container, false);\n        SharedPreferences prefs=context.getSharedPreferences(&quot;AlertLastChange&quot;, Context.MODE_PRIVATE);\n        AlertStat = prefs.getBoolean(&quot;key_ToggleValue&quot;, true);\n        makePushEscoreNotification();\n\n    }\n    \n    private void makePushEscoreNotification() {\n\n\n        if (AlertStat) {\n            String channelId = &quot;1234&quot;;\n            NotificationCompat.Builder builder = new NotificationCompat.Builder(context, channelId)\n                    .setSmallIcon(R.mipmap.ic_launcher)\n                    .setContentTitle(&quot;sometitle&quot;)\n                    .setStyle(new NotificationCompat.BigTextStyle()\n                            .bigText(&quot;Some text&quot;))\n                    .setSound(Uri.parse(ContentResolver.SCHEME_ANDROID_RESOURCE+ &quot;://&quot; +context.getPackageName()+&quot;/&quot;+R.raw.negativetone))\n                    .setVibrate(new long[]{0L});\n\n            notificationManager = (NotificationManager) context.getSystemService(NOTIFICATION_SERVICE);\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                NotificationChannel channel = new NotificationChannel(channelId, &quot;ReviewProbe&quot;,NotificationManager.IMPORTANCE_HIGH);\n                assert notificationManager != null;\n                notificationManager.createNotificationChannel(channel);\n\n            }\n            assert notificationManager != null;\n            builder.setPriority(NotificationCompat.PRIORITY_HIGH);\n            notificationManager.notify(0, builder.build());\n\n        }\n\n    }\n}\n</code></pre>\n<p><strong>Problem:</strong>\nwhat went wrong ?\nthe toggle button doesn't save the state and is always enabled even after we try to manually disable it . the notification push section is working fine</p>\n"},{"tags":["java","android","kotlin","user-interface","color-picker"],"comments":[{"owner":{"account_id":11129476,"reputation":511,"user_id":8169854,"display_name":"Saurabh Vadhva"},"score":0,"creation_date":1516104043,"post_id":48275811,"comment_id":83544996,"body_markdown":"Please check this libraray https://github.com/chiralcode/Android-Color-Picker","body":"Please check this libraray <a href=\"https://github.com/chiralcode/Android-Color-Picker\" rel=\"nofollow noreferrer\">github.com/chiralcode/Android-Color-Picker</a>"}],"answers":[{"tags":[],"owner":{"account_id":5422138,"reputation":349,"user_id":4315475,"display_name":"Krishan Madushanka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1516149645,"creation_date":1516093326,"answer_id":48277453,"question_id":48275811,"body_markdown":"I found [this library][1] and it worked. We can get the RGB value from this as follows.\r\n\r\n\tpicker.setOnColorChangedListener(new ColorPicker.OnColorChangedListener() {\r\n        @Override\r\n        public void onColorChanged(int color) {\r\n            String hexColor = String.format(&quot;#%06X&quot;, (0xFFFFFF &amp; color));\r\n            int red = Color.red(color);\r\n            int green = Color.green(color);\r\n            int blue = Color.blue(color);\r\n            Log.d(&quot;Color2&quot;, &quot;&quot; + hexColor+&quot;  ,&quot;+&quot;R:&quot;+red+&quot; ,&quot;+&quot;G:&quot;+green+&quot; ,&quot;+&quot;B:&quot;+blue+&quot; ,&quot;);\r\n        }\r\n    });\r\n\r\n\r\n  [1]: https://github.com/LarsWerkman/HoloColorPicker","title":"How to implement a circular color picker in Android?","body":"<p>I found <a href=\"https://github.com/LarsWerkman/HoloColorPicker\" rel=\"nofollow noreferrer\">this library</a> and it worked. We can get the RGB value from this as follows.</p>\n\n<pre><code>picker.setOnColorChangedListener(new ColorPicker.OnColorChangedListener() {\n    @Override\n    public void onColorChanged(int color) {\n        String hexColor = String.format(\"#%06X\", (0xFFFFFF &amp; color));\n        int red = Color.red(color);\n        int green = Color.green(color);\n        int blue = Color.blue(color);\n        Log.d(\"Color2\", \"\" + hexColor+\"  ,\"+\"R:\"+red+\" ,\"+\"G:\"+green+\" ,\"+\"B:\"+blue+\" ,\");\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":5422138,"reputation":349,"user_id":4315475,"display_name":"Krishan Madushanka"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1917,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1518834096,"accepted_answer_id":48277453,"answer_count":1,"score":-2,"last_activity_date":1636968080,"creation_date":1516086897,"question_id":48275811,"body_markdown":"How can I build a color picker as given in the image using android? when an indicator is placed on a color I should be able to get the RGB value.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/3LkGs.png\r\n","title":"How to implement a circular color picker in Android?","body":"<p>How can I build a color picker as given in the image using android? when an indicator is placed on a color I should be able to get the RGB value.</p>\n<p><a href=\"https://i.stack.imgur.com/3LkGs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3LkGs.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1716270,"reputation":2166,"user_id":1573267,"accept_rate":88,"display_name":"Masoud Keshavarz"},"score":1,"creation_date":1635594245,"post_id":69776712,"comment_id":123343424,"body_markdown":"`tried few ways but it did not work` What did you try and how did you understand that it did not work?","body":"<code>tried few ways but it did not work</code> What did you try and how did you understand that it did not work?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1636968385,"post_id":69776712,"comment_id":123690018,"body_markdown":"There is far too little information to be able to answer this properly.","body":"There is far too little information to be able to answer this properly."}],"answers":[{"tags":[],"owner":{"account_id":23134509,"reputation":91,"user_id":17238919,"display_name":"Nirmal Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635567018,"creation_date":1635567018,"answer_id":69776727,"question_id":69776712,"body_markdown":"Yes, in large projects, having multiple Spring configurations increase maintainability and modularity.\r\n\r\nYou can load multiple files like this:-\r\n\r\n    @Configuration\r\n    @Import({MainConfig.class, SchedulerConfig.class})\r\n    public class AppConfig {\r\n\r\nYou can also upload one XML file that will contain all configs.\r\n\r\n    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;spring-all.xml&quot;);\r\n\r\n\r\ninside the XML file:-\r\n\r\n    &lt;import resource=&quot;main.xml&quot;/&gt;\r\n    &lt;import resource=&quot;scheduler.xml&quot;/&gt;","title":"Can We Have Multiple Spring Configuration Files in One Project?","body":"<p>Yes, in large projects, having multiple Spring configurations increase maintainability and modularity.</p>\n<p>You can load multiple files like this:-</p>\n<pre><code>@Configuration\n@Import({MainConfig.class, SchedulerConfig.class})\npublic class AppConfig {\n</code></pre>\n<p>You can also upload one XML file that will contain all configs.</p>\n<pre><code>ApplicationContext context = new ClassPathXmlApplicationContext(&quot;spring-all.xml&quot;);\n</code></pre>\n<p>inside the XML file:-</p>\n<pre><code>&lt;import resource=&quot;main.xml&quot;/&gt;\n&lt;import resource=&quot;scheduler.xml&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":23178525,"reputation":13,"user_id":17276673,"display_name":"Peter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2673,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69776727,"answer_count":1,"score":1,"last_activity_date":1636968042,"creation_date":1635566775,"question_id":69776712,"body_markdown":"Can We Have Multiple Spring Configuration Files in One Project? If yes, can someone provide a working example to support this concept?","title":"Can We Have Multiple Spring Configuration Files in One Project?","body":"<p>Can We Have Multiple Spring Configuration Files in One Project? If yes, can someone provide a working example to support this concept?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":0,"creation_date":1636967693,"post_id":69971888,"comment_id":123689783,"body_markdown":"https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi","body":"<a href=\"https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi\" title=\"how to fix java lang unsupportedclassversionerror unsupported major minor versi\">stackoverflow.com/questions/10382929/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1636967771,"post_id":69971888,"comment_id":123689816,"body_markdown":"`Caused by: java.lang.UnsupportedClassVersionError: com/mysql/jdbc/Driver : Unsupported major.minor version 52.0`. Says it all. Either upgrade to java 8 (your mysql driver version is for Java8 or higher) or downgrade the mysql driver to a java7 compatible one.","body":"<code>Caused by: java.lang.UnsupportedClassVersionError: com&#47;mysql&#47;jdbc&#47;Driver : Unsupported major.minor version 52.0</code>. Says it all. Either upgrade to java 8 (your mysql driver version is for Java8 or higher) or downgrade the mysql driver to a java7 compatible one."},{"owner":{"account_id":23254441,"reputation":49,"user_id":17341714,"display_name":"user17341714"},"score":0,"creation_date":1637036768,"post_id":69971888,"comment_id":123711433,"body_markdown":"hey i did accordingly what you guys asked me to, i upgrade to 1.8 java and ran, but im getting Cannot load configuration class error. is there any solution to that?","body":"hey i did accordingly what you guys asked me to, i upgrade to 1.8 java and ran, but im getting Cannot load configuration class error. is there any solution to that?"}],"owner":{"account_id":23254441,"reputation":49,"user_id":17341714,"display_name":"user17341714"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636972468,"answer_count":0,"score":0,"last_activity_date":1636967684,"creation_date":1636967528,"question_id":69971888,"body_markdown":"I cannot wrap my head around this error, please help me!\r\nI updated the SQL connector, added the hibernator dependency, ill attach the pom.xml file for reference check the end of file for pom\r\n        \r\n**This is the error**\r\ni cant identify whats the error for this, tried googling but cant seem to get it\r\n\r\n        021-11-15 12:48:35.629  INFO 8052 --- [           main] c.j.SpringBootFormHandingApplication     : Starting SpringBootFormHandingApplication on DESKTOP-7LJB9UD with PID 8052 (started by DELL in D:\\Sem 5\\ISAA\\cat2\\boot-security-jdbc-authentication)\r\n        2021-11-15 12:48:35.638  INFO 8052 --- [           main] c.j.SpringBootFormHandingApplication     : No active profile set, falling back to default profiles: default\r\n        2021-11-15 12:48:35.789  INFO 8052 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1bf1a64c: startup date [Mon Nov 15 12:48:35 GST 2021]; root of context hierarchy\r\n        2021-11-15 12:48:39.188  INFO 8052 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39; of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3548271] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n        2021-11-15 12:48:40.967  INFO 8052 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\r\n        2021-11-15 12:48:40.983  INFO 8052 --- [           main] o.apache.catalina.core.StandardService   : Starting service Tomcat\r\n        2021-11-15 12:48:40.985  INFO 8052 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11\r\n        2021-11-15 12:48:41.930  INFO 8052 --- [ost-startStop-1] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n        2021-11-15 12:48:41.942  INFO 8052 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n        2021-11-15 12:48:41.942  INFO 8052 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 6159 ms\r\n        2021-11-15 12:48:42.491  INFO 8052 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;characterEncodingFilter&#39; to: [/*]\r\n        2021-11-15 12:48:42.493  INFO 8052 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;hiddenHttpMethodFilter&#39; to: [/*]\r\n        2021-11-15 12:48:42.493  INFO 8052 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;httpPutFormContentFilter&#39; to: [/*]\r\n        2021-11-15 12:48:42.493  INFO 8052 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;requestContextFilter&#39; to: [/*]\r\n        2021-11-15 12:48:42.495  INFO 8052 --- [ost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: &#39;springSecurityFilterChain&#39; to: [/*]\r\n        2021-11-15 12:48:42.497  INFO 8052 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: &#39;dispatcherServlet&#39; to [/]\r\n        2021-11-15 12:48:43.909  WARN 8052 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;employeeSecurityConfiguration&#39;: Unsatisfied dependency expressed through field &#39;dataSource&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Tomcat.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSourceInitializer&#39;: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script; nested exception is java.lang.UnsupportedClassVersionError: com/mysql/jdbc/Driver : Unsupported major.minor version 52.0\r\n        2021-11-15 12:48:43.915  INFO 8052 --- [           main] o.apache.catalina.core.StandardService   : Stopping service Tomcat\r\n        2021-11-15 12:48:43.955  WARN 8052 --- [           main] o.s.boot.SpringApplication               : Error handling failed (Error creating bean with name &#39;delegatingApplicationListener&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39;: Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry&#39; available)\r\n        2021-11-15 12:48:43.980 ERROR 8052 --- [           main] o.s.boot.SpringApplication               : Application startup failed\r\n        \r\n        org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;employeeSecurityConfiguration&#39;: Unsatisfied dependency expressed through field &#39;dataSource&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Tomcat.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSourceInitializer&#39;: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script; nested exception is java.lang.UnsupportedClassVersionError: com/mysql/jdbc/Driver : Unsupported major.minor version 52.0\r\n        \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:866) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n        \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n        \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1162) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1151) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n        \tat com.javainuse.SpringBootFormHandingApplication.main(SpringBootFormHandingApplication.java:10) [classes/:na]\r\n        Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Tomcat.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSourceInitializer&#39;: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script; nested exception is java.lang.UnsupportedClassVersionError: com/mysql/jdbc/Driver : Unsupported major.minor version 52.0\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \t... 19 common frames omitted\r\n        Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSourceInitializer&#39;: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script; nested exception is java.lang.UnsupportedClassVersionError: com/mysql/jdbc/Driver : Unsupported major.minor version 52.0\r\n        \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:137) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:409) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1620) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:220) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1018) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:345) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:340) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:62) ~[spring-boot-autoconfigure-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:423) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1633) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \t... 28 common frames omitted\r\n        Caused by: org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script; nested exception is java.lang.UnsupportedClassVersionError: com/mysql/jdbc/Driver : Unsupported major.minor version 52.0\r\n        \tat org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:60) ~[spring-jdbc-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:192) ~[spring-boot-autoconfigure-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n        \tat org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runSchemaScripts(DataSourceInitializer.java:92) ~[spring-boot-autoconfigure-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n        \tat org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.init(DataSourceInitializer.java:83) ~[spring-boot-autoconfigure-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.7.0_79]\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:1.7.0_79]\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.7.0_79]\r\n        \tat java.lang.reflect.Method.invoke(Method.java:606) ~[na:1.7.0_79]\r\n        \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:311) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:134) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \t... 43 common frames omitted\r\n        Caused by: java.lang.UnsupportedClassVersionError: com/mysql/jdbc/Driver : Unsupported major.minor version 52.0\r\n        \tat java.lang.ClassLoader.defineClass1(Native Method) ~[na:1.7.0_79]\r\n        \tat java.lang.ClassLoader.defineClass(ClassLoader.java:800) ~[na:1.7.0_79]\r\n        \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142) ~\r\n        \tat org.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:38) ~[tomcat-jdbc-8.5.11.jar:na]\r\n        \tat org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:271) ~[tomcat-jdbc-8.5.11.jar:na]\r\n        \tat org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.11.jar:na]\r\n        \tat org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:732) ~[tomcat-jdbc-8.5.11.jar:na]\r\n        \tat org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:664) ~[tomcat-jdbc-8.5.11.jar:na]\r\n        \tat org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:479) ~[tomcat-jdbc-8.5.11.jar:na]\r\n        \tat org.apache.tomcat.jdbc.pool.ConnectionPool.&lt;init&gt;(ConnectionPool.java:154) ~[tomcat-jdbc-8.5.11.jar:na]\r\n        \tat org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-8.5.11.jar:na]\r\n        \tat org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-8.5.11.jar:na]\r\n        \tat org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-8.5.11.jar:na]\r\n        \tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \tat org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:46) ~[spring-jdbc-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n        \t53 common frames omitted\r\n    \r\nPOM XML\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.javainuse&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;boot-form-handling&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;boot-form-handling&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.7&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;version&gt;8.0.27&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n     \r\n\r\n    \r\n\r\n","title":"Error creating bean name, cant seem to find solution","body":"<p>I cannot wrap my head around this error, please help me!\nI updated the SQL connector, added the hibernator dependency, ill attach the pom.xml file for reference check the end of file for pom</p>\n<p><strong>This is the error</strong>\ni cant identify whats the error for this, tried googling but cant seem to get it</p>\n<pre><code>    021-11-15 12:48:35.629  INFO 8052 --- [           main] c.j.SpringBootFormHandingApplication     : Starting SpringBootFormHandingApplication on DESKTOP-7LJB9UD with PID 8052 (started by DELL in D:\\Sem 5\\ISAA\\cat2\\boot-security-jdbc-authentication)\n    2021-11-15 12:48:35.638  INFO 8052 --- [           main] c.j.SpringBootFormHandingApplication     : No active profile set, falling back to default profiles: default\n    2021-11-15 12:48:35.789  INFO 8052 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1bf1a64c: startup date [Mon Nov 15 12:48:35 GST 2021]; root of context hierarchy\n    2021-11-15 12:48:39.188  INFO 8052 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3548271] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n    2021-11-15 12:48:40.967  INFO 8052 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\n    2021-11-15 12:48:40.983  INFO 8052 --- [           main] o.apache.catalina.core.StandardService   : Starting service Tomcat\n    2021-11-15 12:48:40.985  INFO 8052 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11\n    2021-11-15 12:48:41.930  INFO 8052 --- [ost-startStop-1] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n    2021-11-15 12:48:41.942  INFO 8052 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n    2021-11-15 12:48:41.942  INFO 8052 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 6159 ms\n    2021-11-15 12:48:42.491  INFO 8052 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]\n    2021-11-15 12:48:42.493  INFO 8052 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\n    2021-11-15 12:48:42.493  INFO 8052 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]\n    2021-11-15 12:48:42.493  INFO 8052 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]\n    2021-11-15 12:48:42.495  INFO 8052 --- [ost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]\n    2021-11-15 12:48:42.497  INFO 8052 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]\n    2021-11-15 12:48:43.909  WARN 8052 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'employeeSecurityConfiguration': Unsatisfied dependency expressed through field 'dataSource'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Tomcat.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceInitializer': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script; nested exception is java.lang.UnsupportedClassVersionError: com/mysql/jdbc/Driver : Unsupported major.minor version 52.0\n    2021-11-15 12:48:43.915  INFO 8052 --- [           main] o.apache.catalina.core.StandardService   : Stopping service Tomcat\n    2021-11-15 12:48:43.955  WARN 8052 --- [           main] o.s.boot.SpringApplication               : Error handling failed (Error creating bean with name 'delegatingApplicationListener' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available)\n    2021-11-15 12:48:43.980 ERROR 8052 --- [           main] o.s.boot.SpringApplication               : Application startup failed\n    \n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'employeeSecurityConfiguration': Unsatisfied dependency expressed through field 'dataSource'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Tomcat.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceInitializer': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script; nested exception is java.lang.UnsupportedClassVersionError: com/mysql/jdbc/Driver : Unsupported major.minor version 52.0\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:866) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1162) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1151) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n        at com.javainuse.SpringBootFormHandingApplication.main(SpringBootFormHandingApplication.java:10) [classes/:na]\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Tomcat.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceInitializer': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script; nested exception is java.lang.UnsupportedClassVersionError: com/mysql/jdbc/Driver : Unsupported major.minor version 52.0\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        ... 19 common frames omitted\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceInitializer': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script; nested exception is java.lang.UnsupportedClassVersionError: com/mysql/jdbc/Driver : Unsupported major.minor version 52.0\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:137) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:409) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1620) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:220) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1018) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:345) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:340) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:62) ~[spring-boot-autoconfigure-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:423) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1633) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        ... 28 common frames omitted\n    Caused by: org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script; nested exception is java.lang.UnsupportedClassVersionError: com/mysql/jdbc/Driver : Unsupported major.minor version 52.0\n        at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:60) ~[spring-jdbc-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:192) ~[spring-boot-autoconfigure-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runSchemaScripts(DataSourceInitializer.java:92) ~[spring-boot-autoconfigure-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.init(DataSourceInitializer.java:83) ~[spring-boot-autoconfigure-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.7.0_79]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:1.7.0_79]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.7.0_79]\n        at java.lang.reflect.Method.invoke(Method.java:606) ~[na:1.7.0_79]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:311) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:134) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        ... 43 common frames omitted\n    Caused by: java.lang.UnsupportedClassVersionError: com/mysql/jdbc/Driver : Unsupported major.minor version 52.0\n        at java.lang.ClassLoader.defineClass1(Native Method) ~[na:1.7.0_79]\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:800) ~[na:1.7.0_79]\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142) ~\n        at org.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:38) ~[tomcat-jdbc-8.5.11.jar:na]\n        at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:271) ~[tomcat-jdbc-8.5.11.jar:na]\n        at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.11.jar:na]\n        at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:732) ~[tomcat-jdbc-8.5.11.jar:na]\n        at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:664) ~[tomcat-jdbc-8.5.11.jar:na]\n        at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:479) ~[tomcat-jdbc-8.5.11.jar:na]\n        at org.apache.tomcat.jdbc.pool.ConnectionPool.&lt;init&gt;(ConnectionPool.java:154) ~[tomcat-jdbc-8.5.11.jar:na]\n        at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-8.5.11.jar:na]\n        at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-8.5.11.jar:na]\n        at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-8.5.11.jar:na]\n        at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:46) ~[spring-jdbc-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n        53 common frames omitted\n</code></pre>\n<p>POM XML</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.javainuse&lt;/groupId&gt;\n    &lt;artifactId&gt;boot-form-handling&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;boot-form-handling&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.7&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;version&gt;8.0.27&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n \n</code></pre>\n"},{"tags":["java","mockito","reactor"],"comments":[{"owner":{"account_id":4989848,"reputation":1593,"user_id":4012408,"display_name":"Rafael Guillen"},"score":0,"creation_date":1636968508,"post_id":69971876,"comment_id":123690061,"body_markdown":"I think `retryWhen` operator is re-subscribing when it gets the first error, but re-subscribing means restarting the emissions from the beginning so you only get the first error. This is the official documentation of the operator:\nMono: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#retryWhen-reactor.util.retry.Retry-\nFlux: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#retryWhen-reactor.util.retry.Retry-","body":"I think <code>retryWhen</code> operator is re-subscribing when it gets the first error, but re-subscribing means restarting the emissions from the beginning so you only get the first error. This is the official documentation of the operator: Mono: <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#retryWhen-reactor.util.retry.Retry-\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/api/reactor/core/publish&zwnj;&#8203;er/&hellip;</a> Flux: <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#retryWhen-reactor.util.retry.Retry-\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/api/reactor/core/publish&zwnj;&#8203;er/&hellip;</a>"},{"owner":{"account_id":18390473,"reputation":13,"user_id":16995176,"display_name":"Another Dimension"},"score":0,"creation_date":1636969307,"post_id":69971876,"comment_id":123690346,"body_markdown":"Im still not familiar with those diagrams and would be thanful for some more detailed answer.\nBut perhaps it is so that if there would be another method call inside deleteAll() then that one could be stubbed with multiple returns and it would work right? Only the Mono &quot;wrapper&quot; is invoked only once.","body":"Im still not familiar with those diagrams and would be thanful for some more detailed answer. But perhaps it is so that if there would be another method call inside deleteAll() then that one could be stubbed with multiple returns and it would work right? Only the Mono &quot;wrapper&quot; is invoked only once."}],"owner":{"account_id":18390473,"reputation":13,"user_id":16995176,"display_name":"Another Dimension"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636967456,"creation_date":1636967456,"question_id":69971876,"body_markdown":"Consider following code snippet:\r\n\r\n    @Scheduled(...)\r\n    public void cleanUpDbs() {\r\n        fooRepository.deleteAll()\r\n            .retryWhen(Retry.backoff(3, Duration.ofSeconds(2)))\r\n            .doOnError(log::error)\r\n            .block();\r\n         \r\n    }\r\n\r\n\r\nand the unit test:\r\n\r\n    @Test\r\n    void cleanUp_IsRetriedWhenErrorOccurs() {\r\n        \r\n        when(fooRepository.deleteAll())\r\n            .thenReturn(Mono.error(new IllegalArgumentException()))\r\n            .thenReturn(Mono.error(new IllegalArgumentException()))\r\n            .thenReturn(Mono.empty());\r\n\r\n        dbsCleanupService.cleanUp();\r\n\r\n        verify(fooRepository, times(3)).deleteAll();\r\n    }\r\n\r\nPlease do not mind the blocking behaviour, I&#39;m aware of it, its a part of scheduled method that runs once a day at midnight. \r\nI&#39;d be just thankful if someone could explain me why always the first stub is taken into account, ignoring the second and third invocation? \r\nSo the test fails with maximum retries exhausted because it always works with the same source (the first thenReturn() in the Mock) \r\nHow can i make it resubscribe/recall so each retry makes a new invocation? \r\n\r\n","title":"Retry mechanism in reactor + Mockito stubs","body":"<p>Consider following code snippet:</p>\n<pre><code>@Scheduled(...)\npublic void cleanUpDbs() {\n    fooRepository.deleteAll()\n        .retryWhen(Retry.backoff(3, Duration.ofSeconds(2)))\n        .doOnError(log::error)\n        .block();\n     \n}\n</code></pre>\n<p>and the unit test:</p>\n<pre><code>@Test\nvoid cleanUp_IsRetriedWhenErrorOccurs() {\n    \n    when(fooRepository.deleteAll())\n        .thenReturn(Mono.error(new IllegalArgumentException()))\n        .thenReturn(Mono.error(new IllegalArgumentException()))\n        .thenReturn(Mono.empty());\n\n    dbsCleanupService.cleanUp();\n\n    verify(fooRepository, times(3)).deleteAll();\n}\n</code></pre>\n<p>Please do not mind the blocking behaviour, I'm aware of it, its a part of scheduled method that runs once a day at midnight.\nI'd be just thankful if someone could explain me why always the first stub is taken into account, ignoring the second and third invocation?\nSo the test fails with maximum retries exhausted because it always works with the same source (the first thenReturn() in the Mock)\nHow can i make it resubscribe/recall so each retry makes a new invocation?</p>\n"},{"tags":["java","kotlin","vert.x","quarkus"],"answers":[{"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636967093,"creation_date":1636967093,"answer_id":69971797,"question_id":69949890,"body_markdown":"You can [change the isolation level][1] by executing a SQL query:\r\n\r\n    SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED\r\n\r\n  [1]: https://www.postgresql.org/docs/9.3/sql-set-transaction.html","title":"Change Isolation level of a transaction in Reactive Postgres Client (Quarkus)","body":"<p>You can <a href=\"https://www.postgresql.org/docs/9.3/sql-set-transaction.html\" rel=\"nofollow noreferrer\">change the isolation level</a> by executing a SQL query:</p>\n<pre><code>SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED\n</code></pre>\n"}],"owner":{"account_id":5022927,"reputation":723,"user_id":4035864,"accept_rate":70,"display_name":"Ahmet K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69971797,"answer_count":1,"score":0,"last_activity_date":1636967093,"creation_date":1636757830,"question_id":69949890,"body_markdown":"I want to execute some dql/dml queries in a transaction with the isolation level `READ_UNCOMMITED`.\r\nI&#39;m using the reactive postgres client with mutiny with the suggested method `withTransaction()` from the [Quarkus docs][1], but I couldn&#39;t find any way to change the isolation lvl. \r\n\r\nIs that possible, and if yes how can I achieve this ? Thx ! \r\n\r\n\r\n  [1]: https://quarkus.io/guides/reactive-sql-clients#transactions","title":"Change Isolation level of a transaction in Reactive Postgres Client (Quarkus)","body":"<p>I want to execute some dql/dml queries in a transaction with the isolation level <code>READ_UNCOMMITED</code>.\nI'm using the reactive postgres client with mutiny with the suggested method <code>withTransaction()</code> from the <a href=\"https://quarkus.io/guides/reactive-sql-clients#transactions\" rel=\"nofollow noreferrer\">Quarkus docs</a>, but I couldn't find any way to change the isolation lvl.</p>\n<p>Is that possible, and if yes how can I achieve this ? Thx !</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636967016,"creation_date":1636967016,"answer_id":69971778,"question_id":69971567,"body_markdown":"`dynamic_templates` and `copy_to` is not the way to go in your case. You&#39;d be better off dynamically computing a new field that indexes the src/dst IP pairs. You can achieve this using an [`ingest pipeline`](https://www.elastic.co/guide/en/elasticsearch/reference/current/ingest.html) with an `append` and `join` processor to create the new field.\r\n\r\n    PUT _ingest/pipeline/ip-pipeline\r\n    {\r\n      &quot;processors&quot;: [\r\n        {\r\n          &quot;append&quot;: {\r\n            &quot;field&quot;: &quot;srcDst&quot;,\r\n            &quot;value&quot;: [&quot;{{{srcIp}}}&quot;, &quot;{{{dstIp}}}&quot;]\r\n          }\r\n        },\r\n        {\r\n          &quot;join&quot;: {\r\n            &quot;field&quot;: &quot;srcDst&quot;,\r\n            &quot;separator&quot;: &quot;-&quot;\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\r\nThen when you index a new document, you can specify this pipeline and the new field will be created:\r\n\r\n    PUT my-index/_doc/1?pipeline=ip-pipeline\r\n    {\r\n      &quot;srcIp&quot;:&quot;192.0.0.1&quot;,\r\n      &quot;dstIp&quot;:&quot;192.0.1.1&quot;\r\n    }\r\n\r\nYour indexed document will look like this:\r\n\r\n    {\r\n      &quot;srcIp&quot;:&quot;192.0.0.1&quot;,\r\n      &quot;dstIp&quot;:&quot;192.0.1.1&quot;,\r\n      &quot;srcDst&quot;: &quot;192.0.0.1-192.0.1.1&quot;\r\n    }\r\n\r\nAnd then you can run your aggregation query on that new `srcDst` field and get the result you expect.","title":"ElasticSearch how to aggregation the &quot;copy_to&quot; field","body":"<p><code>dynamic_templates</code> and <code>copy_to</code> is not the way to go in your case. You'd be better off dynamically computing a new field that indexes the src/dst IP pairs. You can achieve this using an <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/ingest.html\" rel=\"nofollow noreferrer\"><code>ingest pipeline</code></a> with an <code>append</code> and <code>join</code> processor to create the new field.</p>\n<pre><code>PUT _ingest/pipeline/ip-pipeline\n{\n  &quot;processors&quot;: [\n    {\n      &quot;append&quot;: {\n        &quot;field&quot;: &quot;srcDst&quot;,\n        &quot;value&quot;: [&quot;{{{srcIp}}}&quot;, &quot;{{{dstIp}}}&quot;]\n      }\n    },\n    {\n      &quot;join&quot;: {\n        &quot;field&quot;: &quot;srcDst&quot;,\n        &quot;separator&quot;: &quot;-&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<p>Then when you index a new document, you can specify this pipeline and the new field will be created:</p>\n<pre><code>PUT my-index/_doc/1?pipeline=ip-pipeline\n{\n  &quot;srcIp&quot;:&quot;192.0.0.1&quot;,\n  &quot;dstIp&quot;:&quot;192.0.1.1&quot;\n}\n</code></pre>\n<p>Your indexed document will look like this:</p>\n<pre><code>{\n  &quot;srcIp&quot;:&quot;192.0.0.1&quot;,\n  &quot;dstIp&quot;:&quot;192.0.1.1&quot;,\n  &quot;srcDst&quot;: &quot;192.0.0.1-192.0.1.1&quot;\n}\n</code></pre>\n<p>And then you can run your aggregation query on that new <code>srcDst</code> field and get the result you expect.</p>\n"}],"owner":{"account_id":13182211,"reputation":23,"user_id":9521249,"display_name":"sr ao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69971778,"answer_count":1,"score":0,"last_activity_date":1636967016,"creation_date":1636966021,"question_id":69971567,"body_markdown":"I need to group by 9 fileds and get the count for each group in ElasticSearch, the orignal code use the &quot;Script&quot; and the performance is bad so i need to optimize it. I managed to create a new field and use &quot;copy_to&quot;, but when I aggregate with the new filed i found some problem.\r\n\r\nI use the &#39;**srcIp**&#39; and &#39;**dstIp**&#39; fields as test, the copy_to field is &#39;**aggCondition**&#39;. Here is the mapping:\r\n\r\n    PUT /test_index\r\n    {\r\n      &quot;settings&quot;: {\r\n        &quot;number_of_replicas&quot;: 0,\r\n        &quot;number_of_shards&quot;: 1\r\n      },\r\n      &quot;mappings&quot;: {\r\n          &quot;dynamic_templates&quot;: [\r\n        {\r\n          &quot;set_copy_to&quot;: {\r\n            &quot;match&quot;: &quot;^(src|dst).+&quot;,\r\n            &quot;match_pattern&quot;: &quot;regex&quot;,\r\n            &quot;mapping&quot;: {\r\n              &quot;copy_to&quot;: &quot;aggCondition&quot;,\r\n              &quot;fields&quot;: {\r\n                &quot;keyword&quot;: {\r\n                  &quot;ignore_above&quot;: 256,\r\n                  &quot;type&quot;: &quot;keyword&quot;\r\n                }\r\n              },\r\n              &quot;type&quot;: &quot;text&quot;\r\n            }\r\n          }\r\n        }\r\n      ]\r\n      }\r\n    }\r\n\r\nThen I add some data to it\r\n\r\n    {\r\n      &quot;srcIp&quot;:&quot;192.0.0.1&quot;,\r\n      &quot;dstIp&quot;:&quot;192.0.1.1&quot;\r\n    }\r\n    {\r\n      &quot;srcIp&quot;:&quot;192.0.1.1&quot;,\r\n      &quot;dstIp&quot;:&quot;192.0.2.1&quot;\r\n    }\r\n    {\r\n      &quot;srcIp&quot;:&quot;192.0.2.1&quot;,\r\n      &quot;dstIp&quot;:&quot;192.0.0.1&quot;\r\n    }\r\n\r\nThen I see the mappings in the kibana and it looks like this:\r\n\r\n    {\r\n      &quot;mappings&quot;: {\r\n        &quot;_doc&quot;: {\r\n          &quot;dynamic_templates&quot;: [\r\n            {\r\n              &quot;set_copy_to&quot;: {\r\n                &quot;match&quot;: &quot;^(src|dst).+&quot;,\r\n                &quot;match_pattern&quot;: &quot;regex&quot;,\r\n                &quot;mapping&quot;: {\r\n                  &quot;copy_to&quot;: &quot;aggCondition&quot;,\r\n                  &quot;fields&quot;: {\r\n                    &quot;keyword&quot;: {\r\n                      &quot;ignore_above&quot;: 256,\r\n                      &quot;type&quot;: &quot;keyword&quot;\r\n                    }\r\n                  },\r\n                  &quot;type&quot;: &quot;text&quot;\r\n                }\r\n              }\r\n            }\r\n          ],\r\n          &quot;properties&quot;: {\r\n            &quot;aggCondition&quot;: {\r\n              &quot;type&quot;: &quot;text&quot;,\r\n              &quot;fields&quot;: {\r\n                &quot;keyword&quot;: {\r\n                  &quot;type&quot;: &quot;keyword&quot;,\r\n                  &quot;ignore_above&quot;: 256\r\n                }\r\n              }\r\n            },\r\n            &quot;dstIp&quot;: {\r\n              &quot;type&quot;: &quot;text&quot;,\r\n              &quot;fields&quot;: {\r\n                &quot;keyword&quot;: {\r\n                  &quot;type&quot;: &quot;keyword&quot;,\r\n                  &quot;ignore_above&quot;: 256\r\n                }\r\n              },\r\n              &quot;copy_to&quot;: [\r\n                &quot;aggCondition&quot;\r\n              ]\r\n            },\r\n            &quot;srcIp&quot;: {\r\n              &quot;type&quot;: &quot;text&quot;,\r\n              &quot;fields&quot;: {\r\n                &quot;keyword&quot;: {\r\n                  &quot;type&quot;: &quot;keyword&quot;,\r\n                  &quot;ignore_above&quot;: 256\r\n                }\r\n              },\r\n              &quot;copy_to&quot;: [\r\n                &quot;aggCondition&quot;\r\n              ]\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\nThen I aggregate use the new field &#39;aggCondition&#39;:\r\n\r\n    GET /test_index/_search\r\n    {\r\n      &quot;aggs&quot;: {\r\n        &quot;Ips&quot;: {\r\n          &quot;terms&quot;: {\r\n            &quot;field&quot;: &quot;aggCondition.keyword&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\nThe result is \r\n\r\n      &quot;aggregations&quot; : {\r\n        &quot;Ips&quot; : {\r\n          &quot;doc_count_error_upper_bound&quot; : 0,\r\n          &quot;sum_other_doc_count&quot; : 0,\r\n          &quot;buckets&quot; : [\r\n            {\r\n              &quot;key&quot; : &quot;192.0.0.1&quot;,\r\n              &quot;doc_count&quot; : 2\r\n            },\r\n            {\r\n              &quot;key&quot; : &quot;192.0.1.1&quot;,\r\n              &quot;doc_count&quot; : 2\r\n            },\r\n            {\r\n              &quot;key&quot; : &quot;192.0.2.1&quot;,\r\n              &quot;doc_count&quot; : 2\r\n            }\r\n          ]\r\n        }\r\n      }\r\nBut what I expect is like\r\n\r\n      &quot;aggregations&quot; : {\r\n        &quot;Ips&quot; : {\r\n          &quot;doc_count_error_upper_bound&quot; : 0,\r\n          &quot;sum_other_doc_count&quot; : 0,\r\n          &quot;buckets&quot; : [\r\n            {\r\n              &quot;key&quot; : &quot;[192.0.0.1 192.0.1.1]&quot;,\r\n              &quot;doc_count&quot; : 1\r\n            },\r\n            {\r\n              &quot;key&quot; : &quot;[192.0.1.1 192.0.2.1]&quot;,\r\n              &quot;doc_count&quot; : 1\r\n            },\r\n            {\r\n              &quot;key&quot; : &quot;[192.0.2.1 192.0.0.1]&quot;,\r\n              &quot;doc_count&quot; : 1\r\n            }\r\n          ]\r\n        }\r\n      }\r\nWhat can I do to get my expected result or is there other way to aggregate multi field efficently?","title":"ElasticSearch how to aggregation the &quot;copy_to&quot; field","body":"<p>I need to group by 9 fileds and get the count for each group in ElasticSearch, the orignal code use the &quot;Script&quot; and the performance is bad so i need to optimize it. I managed to create a new field and use &quot;copy_to&quot;, but when I aggregate with the new filed i found some problem.</p>\n<p>I use the '<strong>srcIp</strong>' and '<strong>dstIp</strong>' fields as test, the copy_to field is '<strong>aggCondition</strong>'. Here is the mapping:</p>\n<pre><code>PUT /test_index\n{\n  &quot;settings&quot;: {\n    &quot;number_of_replicas&quot;: 0,\n    &quot;number_of_shards&quot;: 1\n  },\n  &quot;mappings&quot;: {\n      &quot;dynamic_templates&quot;: [\n    {\n      &quot;set_copy_to&quot;: {\n        &quot;match&quot;: &quot;^(src|dst).+&quot;,\n        &quot;match_pattern&quot;: &quot;regex&quot;,\n        &quot;mapping&quot;: {\n          &quot;copy_to&quot;: &quot;aggCondition&quot;,\n          &quot;fields&quot;: {\n            &quot;keyword&quot;: {\n              &quot;ignore_above&quot;: 256,\n              &quot;type&quot;: &quot;keyword&quot;\n            }\n          },\n          &quot;type&quot;: &quot;text&quot;\n        }\n      }\n    }\n  ]\n  }\n}\n</code></pre>\n<p>Then I add some data to it</p>\n<pre><code>{\n  &quot;srcIp&quot;:&quot;192.0.0.1&quot;,\n  &quot;dstIp&quot;:&quot;192.0.1.1&quot;\n}\n{\n  &quot;srcIp&quot;:&quot;192.0.1.1&quot;,\n  &quot;dstIp&quot;:&quot;192.0.2.1&quot;\n}\n{\n  &quot;srcIp&quot;:&quot;192.0.2.1&quot;,\n  &quot;dstIp&quot;:&quot;192.0.0.1&quot;\n}\n</code></pre>\n<p>Then I see the mappings in the kibana and it looks like this:</p>\n<pre><code>{\n  &quot;mappings&quot;: {\n    &quot;_doc&quot;: {\n      &quot;dynamic_templates&quot;: [\n        {\n          &quot;set_copy_to&quot;: {\n            &quot;match&quot;: &quot;^(src|dst).+&quot;,\n            &quot;match_pattern&quot;: &quot;regex&quot;,\n            &quot;mapping&quot;: {\n              &quot;copy_to&quot;: &quot;aggCondition&quot;,\n              &quot;fields&quot;: {\n                &quot;keyword&quot;: {\n                  &quot;ignore_above&quot;: 256,\n                  &quot;type&quot;: &quot;keyword&quot;\n                }\n              },\n              &quot;type&quot;: &quot;text&quot;\n            }\n          }\n        }\n      ],\n      &quot;properties&quot;: {\n        &quot;aggCondition&quot;: {\n          &quot;type&quot;: &quot;text&quot;,\n          &quot;fields&quot;: {\n            &quot;keyword&quot;: {\n              &quot;type&quot;: &quot;keyword&quot;,\n              &quot;ignore_above&quot;: 256\n            }\n          }\n        },\n        &quot;dstIp&quot;: {\n          &quot;type&quot;: &quot;text&quot;,\n          &quot;fields&quot;: {\n            &quot;keyword&quot;: {\n              &quot;type&quot;: &quot;keyword&quot;,\n              &quot;ignore_above&quot;: 256\n            }\n          },\n          &quot;copy_to&quot;: [\n            &quot;aggCondition&quot;\n          ]\n        },\n        &quot;srcIp&quot;: {\n          &quot;type&quot;: &quot;text&quot;,\n          &quot;fields&quot;: {\n            &quot;keyword&quot;: {\n              &quot;type&quot;: &quot;keyword&quot;,\n              &quot;ignore_above&quot;: 256\n            }\n          },\n          &quot;copy_to&quot;: [\n            &quot;aggCondition&quot;\n          ]\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>Then I aggregate use the new field 'aggCondition':</p>\n<pre><code>GET /test_index/_search\n{\n  &quot;aggs&quot;: {\n    &quot;Ips&quot;: {\n      &quot;terms&quot;: {\n        &quot;field&quot;: &quot;aggCondition.keyword&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>The result is</p>\n<pre><code>  &quot;aggregations&quot; : {\n    &quot;Ips&quot; : {\n      &quot;doc_count_error_upper_bound&quot; : 0,\n      &quot;sum_other_doc_count&quot; : 0,\n      &quot;buckets&quot; : [\n        {\n          &quot;key&quot; : &quot;192.0.0.1&quot;,\n          &quot;doc_count&quot; : 2\n        },\n        {\n          &quot;key&quot; : &quot;192.0.1.1&quot;,\n          &quot;doc_count&quot; : 2\n        },\n        {\n          &quot;key&quot; : &quot;192.0.2.1&quot;,\n          &quot;doc_count&quot; : 2\n        }\n      ]\n    }\n  }\n</code></pre>\n<p>But what I expect is like</p>\n<pre><code>  &quot;aggregations&quot; : {\n    &quot;Ips&quot; : {\n      &quot;doc_count_error_upper_bound&quot; : 0,\n      &quot;sum_other_doc_count&quot; : 0,\n      &quot;buckets&quot; : [\n        {\n          &quot;key&quot; : &quot;[192.0.0.1 192.0.1.1]&quot;,\n          &quot;doc_count&quot; : 1\n        },\n        {\n          &quot;key&quot; : &quot;[192.0.1.1 192.0.2.1]&quot;,\n          &quot;doc_count&quot; : 1\n        },\n        {\n          &quot;key&quot; : &quot;[192.0.2.1 192.0.0.1]&quot;,\n          &quot;doc_count&quot; : 1\n        }\n      ]\n    }\n  }\n</code></pre>\n<p>What can I do to get my expected result or is there other way to aggregate multi field efficently?</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8143,"page":1849,"page_size":100}
